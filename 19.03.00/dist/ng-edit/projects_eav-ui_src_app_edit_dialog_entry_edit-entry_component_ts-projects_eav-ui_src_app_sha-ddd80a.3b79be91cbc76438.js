(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts-projects_eav-ui_src_app_sha-ddd80a"],{3379:(X,q,c)=>{"use strict";c.r(q),c.d(q,{EditEntryComponent:()=>Lb});var v=c(2159),C=c(9001),w=c(4435),b=c(8873),e=c(7580),D=c(2938),T=c(1612),S=c(1477),y=c(3216),A=c(7167),Y=c(4031),W=c(7314),oe=c(9977),J=c(6632);let _e=(()=>{class a extends J.r{constructor(){super((0,w.Tq)({AdamCacheService:a})),this.getId=t=>t.Guid}loadPrefetch(t){if(null==t)return;const i=Object.entries(t).map(([n,s])=>({Guid:n,Attributes:s}));this.addMany(i)}getAdamSnapshot(t,i){return this.cache()[t]?.Attributes[i]}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),ke=(()=>{class a extends J.r{constructor(){super((0,w.Tq)({LinkCacheService:a})),this.getId=t=>t.key.trim().toLocaleLowerCase()}addPrefetch(t,i){const n=t?Object.entries(t).map(([o,l])=>({key:o,...l})):[],s=null!=i?Object.entries(i).flatMap(([o,l])=>Object.entries(l).flatMap(([p,M])=>this.adamToLinks(M))):[];this.addMany([...n,...s])}addAdam(t){this.addMany(this.adamToLinks(t))}addLink(t,i){const n={key:t=t.trim().toLocaleLowerCase(),...i,Adam:{...i.Adam}};this.add(n)}adamToLinks(t){return t.filter(i=>!i.IsFolder).map(i=>({key:i.ReferenceId,Adam:{...i},Value:i.Url}))}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var K=c(3991),B=c(6849),V=c(3050),Z=c(6001),ee=c(4813),se=c(8394),_=c(7706),m=c(927),h=c(8265),g=c(271),d=c(8764),u=c(6474),f=c(9431);const k={all:!1,fetchFormData:!1,saveFormData:!1};let $=(()=>{class a extends u.D{constructor(t){super(),this.globalConfigService=t,this.log=(0,w.Tq)({FormDataService:a},k)}fetchFormData(t){return this.log.fnIf("fetchFormData",{items:t,context:this.context}),this.http.post(this.apiUrl("cms/edit/load"),t,{params:{appId:this.appId}}).pipe((0,g.T)(i=>(i.Context.Language.List=i.Context.Language.List.filter(n=>n.IsEnabled),i)),(0,d.M)(i=>{this.globalConfigService.allowDebug(i.Context.Enable.DebugMode)}))}saveFormData(t,i){return this.log.fnIf("saveFormData",{result:t,partOfPage:i}),this.http.post(this.apiUrl("cms/edit/save"),t,{params:{appId:this.appId,partOfPage:i}})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(f.B))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var j=c(2093),P=c(8503);const ne={Show:"show",Hide:"hide",Branch:"branch"};let O=(()=>{class a extends J.r{constructor(){super((0,w.Tq)({FormPublishingService:a})),this.getId=t=>t.formId,this.#e=new P.K("publishMode")}setPublishMode(t,i,n){null==n.config.versioningOptions[t]&&(t=Object.keys(n.config.versioningOptions)[0]),this.add({formId:i,DraftShouldBranch:t===ne.Branch,IsPublished:t===ne.Show})}getPublishMode(t){return this.#e.getOrCreate(t,()=>this.toPublishMode(this.get(t)))}#e;toPublishMode(t){return t.DraftShouldBranch?ne.Branch:t.IsPublished?ne.Show:ne.Hide}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var x=c(852),H=c(3347);const Q={all:!1,constructor:!0,fetchFormData:!1,importLoadedData:!1,keepInitialValues:!1,initMissingValues:!1};let le=(()=>{class a{#e;#t;#i;constructor(t,i,n,s,o,l,p,M,I,N,G,ae,ye,Ee){this.route=t,this.formConfig=i,this.itemService=n,this.inputTypeService=s,this.contentTypeItemService=o,this.contentTypeService=l,this.publishStatusService=p,this.translate=M,this.languageService=I,this.languageStore=N,this.snackBar=G,this.adamCacheService=ae,this.linkCacheService=ye,this.featuresService=Ee,this.log=(0,w.Tq)({EditInitializerService:a},Q),this.loaded=(0,e.vPA)(!1),this.#e=(0,D.d)($),this.#t=(0,D.d)(A.L),this.#i={},this.log.aIf("constructor",null,"constructor")}fetchFormData(){const t=this.log.fnIf("fetchFormData"),i=(0,y.K)(this.route.snapshot.params.items),n={...i,items:i.items.map((o,l)=>({...o,clientId:l}))};t.a("fetchFormData",n);const s=JSON.stringify(n.items);this.#e.fetchFormData(s).subscribe(o=>{const l={...o,Items:o.Items.map(p=>{const M=n.items.find(I=>I.clientId===p.Header.clientId);return t.a("fetchFormData - remix",{item:p,originalItem:M}),null==M?p:{...p,Header:{...p.Header,Prefill:M.Prefill,ClientData:M.ClientData}}})};t.a("fetchFormData - after remix",{formData:l}),this.featuresService.load(l.Context,l),(0,S.W)(l.Context.App),this.#n(l),this.#a(),this.#r(),this.loaded.set(!0)})}#n(t){this.log.fnIf("importLoadedData");const n=Math.floor(99999*Math.random()),s=function z(a){let r=0;for(const t of a.snapshot.pathFromRoot)if(!(t.url.length<=0))for(const i of t.url)"edit"===i.path&&r++;return 1===r}(this.route),o=t.Items.map(Ee=>Ee.Entity.Guid);this.itemService.loadItems(t.Items),this.inputTypeService.addMany(t.InputTypes),this.contentTypeItemService.addContentTypeItems(t.ContentTypeItems),this.contentTypeService.addContentTypes(t.ContentTypes),this.adamCacheService.loadPrefetch(t.Prefetch?.Adam),this.linkCacheService.addPrefetch(t.Prefetch?.Links,t.Prefetch?.Adam);const l=this.itemService.getMany(o),p=0===l[0].Entity.Id,M=null!=l[0].Header.DuplicateEntity,I=!p&&!1!==this.route.snapshot.data.history,N={...t.Settings,Entities:se.g.convertMany(t.Settings.Entities),ContentTypes:ee._.convertMany(t.Settings.ContentTypes)};this.formConfig.initFormConfig(t.Context,n,s,o,p,M,I,N);var G=t.Context.Language;const ae=this.#t.uiCode(G.Current);if(this.translate.use(ae),s){const Ee=function R(a,r){if(0===r.length)return r;let t;const i=[],n=[];for(const o of r)o.NameId===a?t=o:o.NameId.startsWith(a.split("-")[0])?i.push(o):n.push(o);return i.sort((o,l)=>o.NameId.localeCompare(l.NameId)),n.sort((o,l)=>o.NameId.localeCompare(l.NameId)),t?[t,...i,...n]:[...i,...n]}(G.Primary,G.List);this.languageService.addMany(Ee)}this.languageStore.addForm(n,G.Primary,G.Current,!1);const ye=this.publishStatusService.toPublishMode(t);this.publishStatusService.setPublishMode(ye,n,this.formConfig)}#a(){this.log.fnIf("keepInitialValues");const i=this.itemService.getMany(this.formConfig.config.itemGuids),n=this.languageService.getAll().map(o=>o.NameId),s=this.formConfig.language();n.includes(s.current)||n.push(s.current),n.includes(s.primary)||n.push(s.primary);for(const o of i)for(const l of n){const p=new V.bT(l,s.primary).currentValues(o.Entity.Attributes);this.#i[this.#s(o.Entity.Guid,l)]=p}}#s(t,i){return`entityGuid:${t}:language:${i}`}getInitialValues(t,i){return this.#i[this.#s(t,i)]}#r(){const t=this.log.fnIf("initMissingValues"),i=this.itemService.updater,n=this.formConfig.config,s=n.formId,o=this.itemService.getMany(n.itemGuids),l=this.inputTypeService.getAll(),p=this.languageService.getAll(),M=this.formConfig.language();let I=!1;const N=n.createMode,G=new _.q("EditInitializerService");for(const ae of o){const ye=this.contentTypeService.getContentTypeOfItem(ae);for(const Ee of ye.Attributes){const Fe=Ee.Name,et=l.find(Ot=>Ot.Type===Ee.InputType),_t=T.Q.isEmpty(et?.Type);if(t.a(`Attribute: '${Fe}' InputType: '${et?.Type}' isEmptyType: '${_t}'`),_t)continue;const $e=Y.y.singleton().getOrUnknown(et?.Type),Tt=ae.Entity.Attributes[Ee.Name],Nt=G.getDefaultSettings(new V.bT(M.primary,M.primary).flatten(Ee.Metadata));if(0===p.length){t.a(`${Fe} languages none, simple init`);const Ot=new W.U(Tt,"*").currentOrDefaultOrAny?.Value;$e.isValueEmpty(Ot,N)&&i.setDefaultValue(ae,Ee,et,Nt,p,M.primary)}else{t.a(`${Fe} languages many, complex init`);const Ot=et?.DisableI18n,Zt=new W.U(Tt,"*").currentOrDefault?.Value;if(t.a(Fe,{disableI18n:Ot,noLanguageValue:Zt}),!Ot&&void 0!==Zt){const Ho=i.removeItemAttributeDimension(ae.Entity.Guid,Ee.Name,"*",!0);i.addItemAttributeValue(ae.Entity.Guid,Ee.Name,Zt,M.primary,!1,Ee.Type,!1,Ho),t.a(`${Fe} exit`);continue}const Nn=new W.U(Tt,M.primary).currentOrDefault?.Value,zn=$e.isValueEmpty(Nn,N);t.a(Fe,{currentName:Fe,valueIsEmpty:zn,defaultLanguageValue:Nn,isCreateMode:N}),zn&&null!=i.setDefaultValue(ae,Ee,et,Nt,p,M.primary)&&!Nt.IsEphemeral&&(I=!0)}}}if(I&&M.current!==M.primary){this.languageStore.setCurrent(s,M.primary);const ae=this.translate.instant("Message.SwitchedLanguageToDefault",{language:M.primary});this.snackBar.open(ae,null,{duration:5e3})}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(v.nX),e.KVO(h.S),e.KVO(m.b),e.KVO(Z.A),e.KVO(K.k),e.KVO(B.n),e.KVO(O),e.KVO(x.c$),e.KVO(oe.g),e.KVO(j.A),e.KVO(H.UG),e.KVO(_e),e.KVO(ke),e.KVO(C.D))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var he,ve=c(7149);const fe={all:!1,load:!0,sortByType:!1,insertToDom:!1};let De=(()=>{class a{#e;constructor(t){this.formConfig=t,this.log=(0,w.Tq)({ScriptsLoaderService:a},fe),this.#e=[]}load(t,i){this.log.fnIf("load",{scripts:t});const n=this.#t(t);this.#i(n,i,0)}#t(t){this.log.fnIf("sortByType",{scripts:t});const i=[],n=[];return t.forEach(s=>{const o={path:he.resolveUrlTokens(s,this.formConfig.config),type:null,loaded:!1,domEl:null};o.path.endsWith(".css")?(o.type=".css",i.push(o)):o.path.endsWith(".js")&&(o.type=".js",n.push(o))}),i.concat(n)}#i(t,i,n){this.log.fnIf("insertToDom",{files:t,increment:n});const s=t[n];if(n++,!s)return void i();s.path=s.path+"?sxcver="+window.sxcVersion;const o=this.#e.find(l=>l.path===s.path);if(o)if(o.loaded)this.#i(t,i,n);else{const l=()=>{s.loaded=!0,this.#i(t,i,n),o.domEl.removeEventListener("load",l),o.domEl.removeEventListener("error",l)};o.domEl.addEventListener("load",l),o.domEl.addEventListener("error",l)}else{".css"===s.type?(s.domEl=document.createElement("link"),s.domEl.rel="stylesheet",s.domEl.href=s.path):".js"===s.type&&(s.domEl=document.createElement("script"),s.domEl.type="module",s.domEl.src=s.path);const l=()=>{s.loaded=!0,this.#i(t,i,n),s.domEl.removeEventListener("load",l),s.domEl.removeEventListener("error",l)};s.domEl.addEventListener("load",l),s.domEl.addEventListener("error",l),document.querySelector("head").appendChild(s.domEl),this.#e.push(s)}}static resolveUrlTokens(t,i){return t.replace(/\[System:Path\]/i,V.b.getUrlPrefix("system",i)).replace(/\[Zone:Path\]/i,V.b.getUrlPrefix("zone",i)).replace(/\[App:Path\]/i,V.b.getUrlPrefix("app",i)).replace(/\[App:PathShared\]/i,V.b.getUrlPrefix("appShared",i))}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(h.S))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();he=De;var Ae=c(2275),re=c(316),Ne=c(9074),ce=c(4646),Te=c(7941),Ce=c(3840),Pe=c(9452),it=c(591),Qe=c(3037),ct=c(8537),He=c(3176),Ke=c(5699),te=c(7993),Ge=c(8656),nt=c(436);let It=(()=>{class a{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.icons={"apple-filled":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44c2,0,4-1.85,6-1.85S28,44,30,44\r\n\t\tc6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"apple-outlined":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,20c3.7,0,6,2.1,6,5.47C38,33.21,33.01,40,30.06,40c-0.25-0.04-0.93-0.35-1.38-0.56c-1.25-0.58-2.8-1.3-4.68-1.3\r\n\t\ts-3.43,0.72-4.68,1.3C18.87,39.65,18.19,39.97,18,40c-3.01,0-8-6.79-8-14.53C10,22.1,12.3,20,16,20c2.44,0,5.29,1.17,6.17,1.62\r\n\t\tL24,22.56l1.83-0.94C26.64,21.2,29.53,20,32,20 M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44\r\n\t\tc2,0,4-1.85,6-1.85S28,44,30,44c6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"draft-branch":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z"/></svg>',"file-archive":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M128 96v32h32V96zm65.9 169.6c-1.1-5.6-6-9.6-11.8-9.6H160v-32h-32v32l-19.4 97.2c-6.5 32.5 18.3 62.8 51.4 62.8s57.9-30.3 51.4-62.8zm-33.6 124.5c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zM128 160v32h32v-32zm64-96h-32v32h32zm177.9 33.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.4 2.1 7.4 4.2l83.9 83.9c2 2 3.5 4.6 4.2 7.4H256zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h79.7v32h32V32H224v104c0 13.3 10.7 24 24 24h104zM192 192h-32v32h32zm0-64h-32v32h32z"/></svg>',"file-audio":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-77.6-66.6c38.5-26 61.6-69.3 61.6-115.7 0-24.7-6.5-48.9-18.9-70.1-12-20.6-29.1-37.8-49.6-50-7.1-4.2-16.3-1.9-20.6 5.2-4.2 7.1-1.9 16.3 5.2 20.6 33.1 19.7 53.7 55.8 53.7 94.3 0 36.5-18.1 70.4-48.3 90.9-6.9 4.6-8.7 14-4 20.8 2.9 4.3 7.6 6.6 12.4 6.6 3.1 0 6-.8 8.5-2.6zm-26.6-38.3c26-17.3 41.5-46.2 41.5-77.4 0-32.9-17.7-63.7-46.2-80.3-7.2-4.2-16.3-1.7-20.5 5.4-4.2 7.2-1.7 16.3 5.4 20.5 19.3 11.2 31.3 32 31.3 54.3 0 21.1-10.5 40.7-28.1 52.4-6.9 4.6-8.8 13.9-4.2 20.8 2.9 4.4 7.7 6.7 12.5 6.7 2.8.1 5.7-.7 8.3-2.4zm-27-38.2c13.7-8.5 21.8-23.1 21.8-39.2 0-17-9.3-32.5-24.2-40.6-7.3-3.9-16.4-1.2-20.3 6.1-3.9 7.3-1.2 16.4 6.1 20.3 5.2 2.8 8.5 8.3 8.5 14.2 0 5.6-2.9 10.8-7.6 13.7-7 4.4-9.2 13.6-4.8 20.7 2.8 4.6 7.7 7.1 12.8 7.1 2.5 0 5.2-.7 7.7-2.3zM138 266.7v74.7L112 322H94v-36h18l26-19.3m17.9-50.7c-2.9 0-6 1.1-8.4 3.5L104 256H76c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h28l43.5 36.5c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V228c0-7.2-5.9-12-12.1-12z"/></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"/></svg>',"file-excel":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM211.7 308l50.5-81.8c4.8-8-.9-18.2-10.3-18.2h-4.1c-4.1 0-7.9 2.1-10.1 5.5-31 48.5-36.4 53.5-45.7 74.5-17.2-32.2-8.4-16-45.8-74.5-2.2-3.4-6-5.5-10.1-5.5H132c-9.4 0-15.1 10.3-10.2 18.2L173 308l-59.1 89.5c-5.1 8 .6 18.5 10.1 18.5h3.5c4.1 0 7.9-2.1 10.1-5.5 37.2-58 45.3-62.5 54.4-82.5 31.5 56.7 44.3 67.2 54.4 82.6 2.2 3.4 6 5.4 10 5.4h3.6c9.5 0 15.2-10.4 10.1-18.4L211.7 308z"/></svg>',"file-image":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M159 336l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0l-39 39L63 448h256V304l-55.5-55.5c-4.7-4.7-12.3-4.7-17 0L159 336zm96-50.7l32 32V416H95.1l.3-67.2 15.6-15.6 48 48c20.3-20.3 77.7-77.6 96-95.9zM127 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm0-96c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm242.9-62.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304z"/></svg>',"file-pdf":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z"/></svg>',"file-powerpoint":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM204.3 208H140c-6.6 0-12 5.4-12 12v184c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-60.4h44.3c38.7 0 67.7-27.3 67.7-69 0-38.6-23.8-66.6-67.7-66.6zm26 97.7c-7.5 7.6-17.8 11.4-31 11.4H160V233h39.7c12.9 0 23.1 3.7 30.6 11.1 15.3 15.1 15 46.5 0 61.6z"/></svg>',"file-text":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-48-244v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12z"/></svg>',"file-video":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 280.593C224 267.01 212.989 256 199.407 256H88.593C75.011 256 64 267.01 64 280.593v110.815C64 404.99 75.011 416 88.593 416h110.814C212.989 416 224 404.99 224 391.407V381l27.971 27.971a23.998 23.998 0 0 0 16.97 7.029H296c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-27.059a24.003 24.003 0 0 0-16.97 7.029L224 291v-10.407zM192 384H96v-96h96v96zm80.255-96H288v96h-15.745L224 342.826v-13.652L272.255 288zm97.686-190.059l-83.883-83.882A47.996 47.996 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM256 32.491a15.888 15.888 0 0 1 7.432 4.195l83.882 83.882a15.882 15.882 0 0 1 4.195 7.431H256V32.491zM352 464c0 8.837-7.164 16-16 16H48c-8.836 0-16-7.163-16-16V48c0-8.837 7.164-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304z"/></svg>',"file-word":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',"folder-plus":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344 272h-72v-72c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v72h-72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h72v72c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-72h72c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',sitemap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z"/></svg>'}}load(){Object.entries(this.icons).forEach(([t,i])=>{this.matIconRegistry.addSvgIconLiteral(t,this.domSanitizer.bypassSecurityTrustHtml(i))})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Ce.tp),e.KVO(nt.up))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var ge=c(4456),rt=c(4334),vt=c(1567),Bi=c(3688),Go=c(5689);class $o{constructor(r){this.computed=r}getConsumerNode(){return this.computed[Go.bh]}getProducers(){return this.getConsumerNode().producerNode}getDirtyProducers(){return this.getConsumerNode().producerNode}snapShotProducers(r=!1){return this.#e(this.getConsumerNode(),r)}#e(r,t){return this.#t(r.producerNode,r.producerLastReadVersion,t)}#t(r,t,i){if(!r)return[];let n=r.map((s,o)=>{const l=s.dirty,p=t[o],M=s.version,I=p<M,N=this.#e(s,i),G=N.some(Ee=>Ee.dirty),ae=l||I||G,ye=N.find(Ee=>Ee.dirty)?.dirtyDepth+1||(ae?1:0);return{name:s?.debugName||"unknown",idx:o,dirty:ae,dirtyDepth:ye,dirtyPrd:l,dirtyVer:I,dirtySub:G,verOwn:p,verPrd:M,producer:s,subInfos:N}});return i&&(n=n.filter(s=>s.dirty)),n}}var ji=c(3620),Ft=c(6740),Gt=c(334),Is=c(9234);let $t=(()=>{class a{constructor(){this.log=(0,w.Tq)({EntityFormStateService:a}),this.controlsCreated=(0,e.vPA)(!1),this.isSaving=(0,e.vPA)(!1),this.formGroup=new ge.J3({})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Ze=c(4205),Hi=c(8471),Ut=c(8021),Mi=c(4979);const Uo={all:!1,childFormResult:!0,expand:!1,open:!1,watchToRefreshOnVersionsClosed:!0};let Ct=(()=>{class a extends Mi.V{#e;#t;#i;constructor(t,i){super(),this.langInstanceSvc=t,this.formConfig=i,this.log=(0,w.Tq)({EditRoutingService:a},Uo),this.#e=(0,D.d)(Hi.c),this.#t=this.#e.route,this.#i=this.#e.router,this.#n=new Ze.B,this.#r={},this.log.a("constructor")}ngOnDestroy(){this.#n.complete(),super.ngOnDestroy()}init(){this.#o(),this.#l()}#n;#a(){return this.#t.snapshot.params}#s(){const t=this.#a(),i=null!=t.detailsEntityGuid&&null!=t.detailsFieldId;return{params:t,hasDetails:i,hasUpdate:null!=t.updateEntityGuid&&null!=t.updateFieldId,guid:i?t.detailsEntityGuid:t.updateEntityGuid,fieldId:i?t.detailsFieldId:t.updateFieldId}}isExpanded(t,i){const n=t.toString(),s=this.#a();return s.detailsEntityGuid===i&&s.detailsFieldId===n}isExpanded$(t,i){const n=t.toString();return this.#t.params.pipe((0,Ut.J)(s=>s.detailsEntityGuid===i&&s.detailsFieldId===n))}isExpandedSignal(t,i,n){const s=`${t}-${i}`,o=this.#r[s];if(o)return o;const l=this.isExpanded$(t,i);return this.#r[s]=(0,Ne.ot)(l,{injector:n})}#r;childFormResult(t,i){const n=this.log.fnIf("childFormResult",{fieldId:t,entityGuid:i}),s=this.#n.pipe((0,vt.p)(o=>o.updateEntityGuid===i&&o.updateFieldId===t&&null!=o.result),(0,g.T)(o=>o.result));return n.rSilent(s)}childFormClosed(){return this.#n.pipe((0,g.T)(t=>null))}expand(t,i,n,s){const o=this.log.fnIf("expand",{expand:t,fieldId:i,entityGuid:n,componentTag:s}),l=this.#s(),p=l.params,N=V.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${p.items}`+(l.hasDetails?`/details/${l.guid}/${l.fieldId}`:""),`edit/${p.items}`+(t?`/details/${n}/${i}`:""));if(null==N)return o.end("no change");this.#i.navigate([N],{state:s&&{componentTag:s}}),o.end("routed away to ",{url:N})}open(t,i,n){const s=this.log.fnIf("open",{fieldId:t,entityGuid:i,form:n}),o=(0,y.s)(n),l=this.#s();if(l.hasDetails)return this.#i.navigate([`edit/${o}`],{relativeTo:this.#t}),s.end("expanded, just open child");const I=V.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${l.params.items}`,`edit/${l.params.items}/update/${i}/${t}/edit/${o}`);if(null==I)return s.end("no change");this.#i.navigate([I]),s.end("routed away to ",{url:I})}#o(){this.subscriptions.add(this.#t.params.pipe((0,Ut.J)(t=>null!=t.detailsEntityGuid&&null!=t.detailsFieldId)).subscribe(t=>this.langInstanceSvc.updateHideHeader(this.formConfig.config.formId,t)))}#l(){this.subscriptions.add(this.#e.childDialogClosed$().pipe((0,g.T)(()=>{const t=this.#s();return{pInfo:t,result:{updateEntityGuid:t.guid,updateFieldId:parseInt(t.fieldId,10),result:this.#i.getCurrentNavigation().extras?.state}}})).subscribe(({pInfo:t,result:i})=>{if(this.#n.next(i),!t.hasUpdate)return;const n=t.params,s=V.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${n.items}/update/${n.updateEntityGuid}/${n.updateFieldId}`,`edit/${n.items}`);null!=s&&this.#i.navigate([s])}))}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(j.A),e.KVO(h.S))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var je=c(7796);class Di{static placeholder(r,t,i){return{label:r.instant(t)+(i??""),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}static message(r,t,i){return{label:r.instant(t,i),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}}class qt{static{this.logSpecs={all:!1,setupEmpty:!1,connectState:!1,initPrefetch:!0,fetchItems:!1,constructor:!1,fields:[...Ft.z,"Categories"]}}constructor(){this.dataSource=(0,te.KX)("dataSource",null),this.optionsOrHints=(0,te.bo)("optionsOrHints",()=>this.dataSource().data()??[])}connectState(r){const t=this.log.fnIf("connectState");return this.dataSource.set(this.dataSourceRaw.setup()),this.deleteCallback=i=>r.doAfterDelete(i),t.rSilent(this)}}const $n={...qt.logSpecs,editItem:!0,getPrefill:!0};class Gi extends qt{#e;#t;#i;constructor(){super(),this.formConfig=(0,e.WQX)(h.S),this.#e=(0,e.WQX)(Ct),this.translate=(0,e.WQX)(x.c$),this.#t=(0,e.WQX)(H.UG),this.fieldState=(0,e.WQX)(je.W),this.group=(0,e.WQX)($t).formGroup,this.#i=(0,D.d)(Is.Tr),this.name=this.fieldState.name,this.#n=(0,D.d)(V.Nt).initSignal("PickerSource-EntityType",this.fieldState.settingExt("EntityType")),this.contentType=(0,te.bo)("contentType",()=>this.#n?.result()??""),this.#a=(0,te.bo)("createEntityTypes",()=>this.fieldState.settings().CreateTypes),this.myFeatures=(0,te.bo)("features",()=>({create:!(!this.contentType()&&!this.#a())})),this.#s=(0,te.KX)("deletedItemsGuids",[]),this.errorOptions=(0,te.KX)("errorOptions",null),this.optionsOrHints=(0,te.bo)("optionsOrHints",()=>{const r=this.errorOptions();if(r)return r;const t=this.dataSource(),i=this.#s(),n=t.data().filter(s=>!i.some(o=>o===s.value));return t.loading()?[Di.message(this.translate,"Fields.Picker.Loading"),...n]:n}),this.#r=(0,D.d)(V.Nt).initSignal("Prefill",this.fieldState.settingExt("CreatePrefill")),this.#o=(0,D.d)(V.Nt).initSignal("CreateParams",this.fieldState.settingExt("CreateParameters")),this.#l=(0,D.d)(V.Nt).initSignal("CreateParams",this.fieldState.settingExt("EditParameters"))}#n;#a;syncParams(){}onAfterViewInit(){this.syncParams()}#s;initPrefetch(r){this.syncParams(),this.log.fnIfInList("initPrefetch","fields",this.name,{prefetchGuids:r}),this.dataSource().initPrefetch?.(r)}forceReloadData(r){const t=this.log.fn("forceReloadData",{missingData:r});this.dataSource().addToRefresh(r),t.end()}editItem(r,t){const i=this.log.fnIf("editItem",{editParams:r}),n=r?.entityGuid,s=this.#d(null==n?this.#o.result():this.#l.result()),o={items:[{...null==n?Gt.c.newFromType(t??this.contentType(),this.#d(this.#r.result())):Gt.c.editId(this.optionsOrHints().find(p=>p.value===n)?.id??r.entityId),...s?{ClientData:{parameters:s}}:{}}]};i.a("form",{form:o});const l=this.fieldState.config;this.#e.open(l.index,l.entityGuid,o),this.#e.childFormClosed().pipe((0,rt.s)(1)).subscribe(p=>{const M=this.log.fn("childFormClosed",{editGuid:n,data:p});if(n)return this.forceReloadData([n]),M.end("forceReloadData",{editGuid:n});M.end("no guid, won't reload data")}),i.end()}deleteItem(r){this.log.a("deleteItem",{props:r});const t=this.optionsOrHints().find(I=>I.value===r.entityGuid),i=t.id,n=t.label,s=this.contentType(),o=this.fieldState.config,l=o.entityId,p=o.fieldName;confirm(this.translate.instant("Data.Delete.Question",{title:n,id:i}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#i.delete(this.formConfig.config.appId,s,i,!1,l,p).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(r),this.#s.update(I=>[...I,r.entityGuid])},error:I=>{this.#t.dismiss(),confirm(this.translate.instant("Data.Delete.Question",{title:n,id:i}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#i.delete(this.formConfig.config.appId,s,i,!0,l,p).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(r),this.#s.update(N=>[...N,r.entityGuid])},error:N=>{this.#t.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}}))}}))}#r;#o;#l;#d(r){const t=this.log.fnIf("getPrefill",{prefill:r});if(!r||!r.trim())return t.r(null,"empty");const i=Object.fromEntries(r.split("&").map(n=>n.split("=")).filter(n=>2===n.length&&n[0]&&n[1]));return t.r(i)}}function Es(a,r){return{create:a.create??r,textEntry:a.textEntry??r,multiValue:a.multiValue??r,edit:a.edit??r,remove:a.remove??r,delete:a.delete??r}}function As(a,r){return a=Es(a,!0),r=Es(r,!0),{create:a.create&&r.create,textEntry:a.textEntry&&r.textEntry,multiValue:a.multiValue&&r.multiValue,edit:a.edit&&r.edit,remove:a.remove&&r.remove,delete:a.delete&&r.delete}}function Fs(a,r){return a?Array.isArray(a)?a.join(r):a:""}const Qo={all:!0,setup:!1,addInfosFromSourceForUi:!1,optionsWithMissing:!1,selectedRaw:!1,selectedOverride:!1,selectedState:!1,features:!1,allOptions:!0,fields:[...Ft.z,"*"]};let Ko=(()=>{class a{#e;constructor(){this.log=(0,w.Tq)({PickerData:a},Qo),this.#e=(0,e.WQX)(x.c$),this.closeWatcherAttachedWIP=!1,this.ready=(0,te.KX)("sourceIsReady",!1),this.optionsRaw=(0,te.bo)("optionsSource",()=>(this.ready()?this.source.optionsOrHints():null)??[]),this.optionsOverride=(0,te.KX)("overrideOptions",null),this.optionsAll=(0,te.bo)("optionsFinal",()=>(0,ji.z)(this.optionsOverride(),t=>t||this.optionsRaw())),this.optionsAllowsEmpty=(0,te.bo)("optionsAllowsEmpty",()=>function Wo(a){return a?.some(r=>""==r.value)}(this.optionsAll())),this.selectedRaw=(0,te.bo)("selectedState",()=>{const t=this.log.fnIfInList("selectedRaw","fields",this.name);return this.ready()?t.r(this.#n(this.state.selectedItems(),this.optionsAll()),"ready"):t.r([],"not ready")}),this.selectedOverride=(0,te.KX)("selectedOverride",null),this.selectedAll=(0,te.bo)("selectedAll",()=>(0,ji.z)(this.selectedOverride(),t=>t||this.selectedRaw())),this.selectedOne=(0,te.bo)("selectedOne",()=>this.selectedAll()[0]??null),this.optionsWithMissing=(0,te.bo)("optionsWithMissing",()=>{const t=this.log.fnIf("optionsWithMissing"),i=this.selectedAll(),n=this.optionsAll(),s=i.filter(l=>!n.find(p=>p.value===l.value));if(0===s.length)return n;const o=n.concat(s);return t.r(o)}),this.#t=(0,te.KX)("settingsLazy",null),this.#i=(0,te.bo)("featuresFromSettings",()=>{const t=this.#t()();return{textEntry:t.EnableTextEntry,multiValue:t.AllowMultiValue,create:t.EnableCreate&&!!t.CreateTypes,remove:t.EnableRemove,delete:t.EnableDelete}}),this.features=(0,te.bo)("features",()=>{const t=As(this.source.myFeatures(),this.state.myFeatures()),i=As(t,this.#i());return{...i,showGoToListDialogButton:i.multiValue,showAddNewButton:i.create}}),this.isInFreeTextMode=(0,te.KX)("isInFreeTextMode",!1),this.log.enabled&&this.log.specs.allOptions&&(0,e.QZP)(()=>{const t=this.ready(),i=this.optionsRaw(),n=this.optionsOverride(),s=this.optionsAll();this.log.a("options",{ready:t,raw:i,override:n,final:s})})}setup(t,i,n,s){const o=this.log.fnIfInList("setup","fields",t,{name:t,state:n,source:s});this.name=t,this.#t.set(i),this.state=n,this.source=s,n.features=this.features,n.allowsEmptyLazy.set(this.optionsAllowsEmpty);const l=n.values();o.a("setup",{initiallySelected:l}),s?.initPrefetch?.(l),this.ready.set(!0),o.end("done")}selectedCopy(t){return t.map(i=>({...i}))}#t;#i;addNewlyCreatedItem(t){const i=Object.keys(t)[0],n=this.log.fn("addNewlyCreatedItem",{result:t,newItemGuid:i});this.state.values().includes(i)||(this.state.add(i),this.source?.forceReloadData?.([i])),n.end()}#n(t,i){const n=this.log.fnIfInList("addInfosFromSourceForUi","fields",this.name,{selected:t,opts:i}),s=t.map(o=>{const l=i.find(p=>p.value===o);return l?function Jo(a,r){return{id:a.id,value:a.value,label:r,tooltip:a.tooltip||`${r} (${a.value})`,info:a.info||null,link:a.link||null,noEdit:!0===a.noEdit,noDelete:!0===a.noDelete,noSelect:!1}}(l,l.label??this.#e.instant("Fields.Picker.EntityNotFound")):this.#a(o)});return n.r(s)}toggleFreeTextMode(){this.isInFreeTextMode.update(t=>!t)}#a(t){t=t?.toString()??"";const i=this.source instanceof Gi;return{noEdit:!0,noDelete:!0,id:null,label:t+(i?" \u26a0\ufe0f":""),tooltip:t+(i?` \u26a0\ufe0f ${this.#e.instant("Fields.Picker.EntityNotFound")} - could result in error`:" (manual entry)"),value:t}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Zo=(()=>{class a{constructor(t,i){this.injector=t,this.inputTypeSvc=i,this.log=(0,w.Tq)({PickerDataFactory:a})}createPickersForAttributes(t){const i=t.map(n=>({name:n.Name,inputType:this.inputTypeSvc.getSpecs(n)}));return this.#e(i)}#e(t){return t.map(n=>({name:n.name,picker:this.#t(n.inputType)})).filter(n=>null!==n.picker).reduce((n,s)=>(n[s.name]=s.picker,n),{})}#t(t){return T.Q.isAnyPicker(t.inputType)?(0,D.d)(Ko,this.injector):null}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(e.zZn),e.KVO(Z.A))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var ui=c(3826);class ei{static{this.bool={equal:ui.a.valueEquals}}static{this.number={equal:ui.a.valueEquals}}static{this.string={equal:ui.a.valueEquals}}static{this.ref={}}}let pt=(()=>{class a{#e;#t;constructor(t,i,n){this.formConfig=t,this.itemService=i,this.languageService=n,this.log=(0,w.Tq)({FormsStateService:a}),this.triggerTrySaveAndMaybeClose=(0,e.vPA)({tryToSave:!1,close:!1},ei.ref),this.formsAreValid=(0,e.vPA)(!1),this.formsAreDirty=(0,e.vPA)(!1),this.#e={},this.#t={},this.readOnly=(()=>{const s=(0,e.vPA)(this.formConfig.config.itemGuids.map(p=>this.itemService.getItemHeaderSignal(p))),o=this.languageService.getAllSignal();return(0,te.bo)("readOnly",()=>{const p=s().some(G=>G().EditInfo?.ReadOnly??!1),M=o().find(G=>G.NameId===this.formConfig.language().current)?.IsAllowed??!0;return{isReadOnly:p||!M,reason:p?"Form":M?void 0:"Language"}})})(),this.formsValidTemp=(0,e.vPA)(!1),this.saveButtonDisabled=(0,te.bo)("saveButtonDisabled",()=>this.readOnly().isReadOnly||!this.formsValidTemp());for(const s of this.formConfig.config.itemGuids)this.#e[s]=!1,this.#t[s]=!1}getFormValid(t){return this.#e[t]}setFormValid(t,i){this.#e[t]=i;const n=!Object.values(this.#e).some(s=>!1===s);n!==this.formsValidTemp()&&(this.formsValidTemp.set(n),this.formsAreValid.set(n))}setFormDirty(t,i){this.#t[t]=i;const n=Object.values(this.#t).some(s=>!0===s);n!==this.formsAreDirty()&&this.formsAreDirty.set(n)}triggerSave(t){this.triggerTrySaveAndMaybeClose.set({tryToSave:!0,close:t})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(h.S),e.KVO(m.b),e.KVO(oe.g))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Os=c(5067);let qo=(()=>{class a{#e=(0,e.WQX)(C.D).getAll();constructor(t,i,n,s,o){this.formConfig=t,this.itemService=i,this.languageSvc=n,this.globalConfigSvc=s,this.editInitializerSvc=o}init(t,i,n){this.#t=i,this.#i=t,this.#n=n}#t;#i;#n;#a={};getSharedSpecs(){const t=this.formConfig.language(),i=this.languageSvc.getAll(),n=this.globalConfigSvc.isDebug();return{initialFormValues:this.editInitializerSvc.getInitialValues(this.#t,t.current),language:t,languages:i,debugEnabled:n,itemService:this.itemService,formConfig:this.formConfig,fieldsSettingsSvc:this.#i,features:this.#e,parameters:new Os.Z(this.#n.ClientData?.parameters??{}),warningsObsolete:this.#a}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(h.S),e.KVO(m.b),e.KVO(oe.g),e.KVO(f.B),e.KVO(le))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var el=c(7739),dt=c(8136);class $i{}var Ps=c(827),Un=c(5970);const tl={all:!1,getPickerInfos:!1,filterFormulasIfPickerNotReady:!0,fields:[...Ft.z]};class Wn{constructor(r,t,i){this.fieldName=r,this.fieldConstants=t,this.propsBefore=i,this.log=(0,w.Tq)({FormulaFieldPickerHelper:Wn},tl),this.isSpecialPicker=t.inputTypeSpecs.isNewPicker}get infos(){return this.#e??=this.#t(this.fieldName,this.fieldConstants,this.propsBefore)}#e;filterFormulasIfPickerNotReady(r){const t=this.log.fnIfInList("filterFormulasIfPickerNotReady","fields",this.fieldName,{before:r}),i=this.infos,n=this.isSpecialPicker&&!i.ready?r.filter(l=>!l.fieldIsSpecialPicker):r,s=n.filter(l=>!l.fieldIsSpecialPicker||this.isSpecialPicker&&!l.sleep||i.changed);return t.rSilent(s,`\u{1f9ea}\u{1f4ca} before: ${r.length}; ready: ${n.length}; formulas:${s.length}; pickerChanged: ${i.changed}; opts: ${i.options.changed}/${i.options.ver}; sel: ${i.selected.changed}/${i.selected.ver}`)}#t(r,t,i){const n=this.log.fnIfInList("getPickerInfos","fields",r),s=t.pickerData();if(1!=s?.ready()){const I={list:[],listRaw:[],ver:null,verBefore:null,changed:!1};return{ready:!1,mapper:null,picker:s,options:I,selected:I,changed:!1}}function o(I,N,G){const ae=I(),ye=(0,te.HF)(I);return{list:N(),listRaw:ae,ver:ye,verBefore:G,changed:ye!==G}}const l=o(s.optionsRaw,s.optionsAll,i.opts?.ver),p=o(s.selectedRaw,s.selectedAll,i.sel?.ver);return n.r({ready:!0,mapper:s.state.mapper,picker:s,options:l,selected:p,changed:p.changed||l.changed})}updateFormulaSleep(r,t,i){r.sleep=t.sleep??(!!Un.wB.includes(r.target)||r.sleep),i.a(`\u{1f9ea}\u23f8\ufe0fformula.sleep: ${r.target}; formula.sleep: ${r.sleep}; raw.sleep: ${t.sleep}`)}preserveResultsAfterRun(r,t,i,n){return i.options&&(t.options={list:i.options,ver:this.infos.options.ver},n.a("\u{1f9ea}\u{1f4c3} options returned, will add",t.options)),i.selected&&(t.selected={list:i.selected,ver:this.infos.selected.ver},n.a("\u{1f9ea}\u{1f4c3} selected returned, will add",t.selected)),t}}var Wt=c(2434);class Ui{static keepSettingIfTypeOk(r,t,i,n){return Ui.keepSettingIfTypeOkAndStatus(r,t,i,n).settingsNew}static keepSettingIfTypeOkAndStatus(r,t,i,n){const s=r.substring(Un.si.length),o=t[s];return(0,Wt.A)(o,i)?{settingsNew:n,wasChanged:!1}:Array.isArray(o)&&Array.isArray(i)||typeof o==typeof i?(n[s]=i,{settingsNew:n,wasChanged:!0}):{settingsNew:n,wasChanged:!1}}}const il={all:!1,runFormula:!1,runAllOfField:!0,runOrInitSettings:!0,getPickerInfos:!1,fields:[...Ft.z]};class Xn{constructor(r,t,i,n){this.promiseHandler=r,this.designerSvc=t,this.entityGuid=i,this.runOneHelper=n,this.log=(0,w.Tq)({FormulaRunField:Xn},il)}runOrInitSettings(r,t,i,n,s,o,l,p,M){const I=this.log.fnIfInList("runOrInitSettings","fields",t,{fieldName:t}),N=new Wn(t,i,l),G=(0,e.O8t)(()=>this.designerSvc.cache.getActive(this.entityGuid,t,N.isSpecialPicker)),ae=(0,el.A)(G,Tt=>Tt.disabled?"disabled":"enabled");ae.disabled&&this.#e(ae.disabled);const ye=ae.enabled??[],Ee=this.promiseHandler.filterFormulas(t,ye),Fe=N.filterFormulasIfPickerNotReady(Ee);if(I.a(`\u{1f9ea}\u{1f4ca} enabled: ${ye.length}; noPromisesSleep: ${Ee.length}; formulas: ${Fe.length}`),0==Fe.length)return $e({},o,{value:o,validation:null,fields:[],settings:{},options:new $i,selected:new $i});const _t=this.#t({currentValues:r,settingsInitial:i.settingsInitial,settingsCurrent:n,pickerHelper:N,defaultValueHelper:()=>new V.X3(t,i.inputTypeSpecs.inputType,i.settingsInitial,s)},Fe,p);return $e(_t.settings,_t.value,_t);function $e(Tt,Nt,Ot){const Zt=M.correctSettingsAfterChanges({...n,...Tt},Nt||o);return G.length>0&&N.isSpecialPicker&&(Zt.requiredFeatures=[...Zt.requiredFeatures??[],dt.T.PickerFormulas]),I.r({...Ot,settings:Zt})}}#e(r){for(const t of r)console.warn(`Formula on field '${t.fieldName}' with target '${t.target}' is disabled. Reason: ${t.disabledReason}`)}#t(r,t,i){const n=this.log.fnIfInList("runAllOfField","fields",t[0].fieldName,{runParams:r,formulas:t});let s={value:void 0,validation:void 0,fields:[],options:new $i,selected:new $i,settings:{}};const o=performance.now();for(const p of t){const M={runParameters:{formula:p,...r},...i},I=this.#i(M);if(n.a("formula result",{formula:p,raw:I}),r.pickerHelper.updateFormulaSleep(p,I,n),this.promiseHandler.updateStop(p,I),this.promiseHandler.handleStopAndPromise(p,I),s=r.pickerHelper.preserveResultsAfterRun(p,s,I,n),I.fields&&s.fields.push(...I.fields),void 0!==I.value)switch(!0){case p.isValue:s.value=I.value;break;case p.isValidation:s.validation=I.value;break;case p.isSetting:s.settings=Ui.keepSettingIfTypeOk(p.target,r.settingsCurrent,I.value,s.settings)}}const l=performance.now();return n.r(s,`runAllFormulas Time: ${l-o}ms`)}#i(r){const{formula:t,fieldName:i,params:n,title:s,devHelper:o,valHelper:l}=this.runOneHelper.getPartsFor(r),p=this.log.fnIfInList("runFormula","fields",i,{fieldName:i});p.a(`formula version: ${t.version}, entity: ${s}, field: ${i}, target: ${t.target}`,{formula:t});try{switch(o.showStart(),t.version){case Ps.GI.V1:const M=t.fn(n.data,n.context,n.experimental),{ok:I,v1Result:N}=l.v1(M);return I?(p.a("V1 formula result is pure",{v1Raw:M,valueV1:N}),o.showResult(N.value,!1,!1),N):(p.a("V1 formula result is not pure",{v1Raw:M}),console.error("V1 formulas accept only simple values in return statements. If you need to return an complex object, use V2 formulas."),l.toFormulaResult(void 0));case Ps.GI.V2:const G=t.fn(n.data,n.context,n.experimental),ae=l.v2(G);return o.showResult(ae.options??ae.value,!1,!!ae.promise),ae;default:throw new Error("Formula version unknown not supported")}}catch(M){return o.showError(M),l.toFormulaResult(void 0)}}}const nl={all:!1,getFormulas:!1,runAllFields:!0,runFormula:!1,runOneFieldOrInitSettings:!1,fields:[...Ft.z]};let al=(()=>{class a{#e;constructor(t,i,n){this.designerSvc=t,this.logSvc=i,this.translate=n,this.log=(0,w.Tq)({FormulaEngine:a},nl),this.#e=(0,D.d)(qo)}init(t,i,n,s,o,l){this.#t=t,this.#n=s,this.#a=o.Attributes,this.#i=l,this.#e.init(n,t,i)}#t;#i;#n;#a;runAllFields(t,i){const n={},s={},o=[],l=this.#e.getSharedSpecs(),p=new _.q(this.log.name);for(const M of this.#a){const I=this.log.fnIfInList("runAllFields","fields",M.Name,{fieldName:M.Name}),N=i.allAttributes[M.Name],G=i.values[M.Name],ae=i.getFieldConstants(M.Name),ye=i.getFieldSettingsInCycle(ae),Ee=i.updateHelper.create(M.Name,M,ae,N),Fe=i.fieldProps[M.Name]??{},et=new Os.$(this.designerSvc,this.translate,this.logSvc,this.#i),$e=new Xn(this.#n,this.designerSvc,this.#t,et).runOrInitSettings(i.values,M.Name,ae,ye,t.item.Header,G,Fe,l,Ee),Tt=$e.settings;s[M.Name]=$e.value,$e.fields&&o.push(...$e.fields);const Ot=p.getTranslationState(N,Tt.DisableTranslation,t.languages,I.enabled);$e.options.list&&I.a("picker options",{options:$e.options.list,version:$e.options.ver}),$e.selected.list&&I.a("picker selected",{selected:$e.selected.list,version:$e.options.ver}),n[M.Name]={...Fe,language:ae.language,constants:ae,settings:Tt,translationState:Ot,value:G,buildWrappers:null,formulaValidation:$e.validation,opts:{...Fe.opts,...$e.options},sel:{...Fe.sel,...$e.selected}}}return{fieldsProps:n,valueUpdates:s,fieldUpdates:o}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Bi.f),e.KVO(ve.J),e.KVO(x.c$))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var sl=c(8003);class rl{constructor(r){this.entityGuid=r,this.data={}}}const ol={all:!1,addFormulaPromise:!0,updateStop:!1,defineCallbackHandlerIfMissing:!1,changesFromQueue:!1,promiseComplete:!0,filterFormulas:!0,fields:[...Ft.z]};let ll=(()=>{class a{constructor(t){this.itemService=t,this.log=(0,w.Tq)({FormulaPromiseHandler:a},ol),this.#e={},this.#t=null}#e;init(t,i,n,s){this.#i=t,this.#t=n,this.#n=i,this.#a=s}#t;#i;#n;#a;updateStop(t,i){const n=this.log.fnIfInList("updateStop","fields",t.fieldName,{promiseResult:i,formula:t},t.target),s=i.promise instanceof Promise,o=i.stop??(!!s||t.stop),l=`\u{1f9ea}\u23f9\ufe0f formula.stop: ${t.stop}; raw.stop: ${i.stop}; hasPromise: ${s}; newStop: ${o}`;return t.stop=o,n.end(l)}handleStopAndPromise(t,i){const n=this.log.fnIfInList("addFormulaPromise","fields",t.fieldName,{promiseResult:i,formula:t},t.target);if(!(i.promise instanceof Promise))return n.end("no promise");i.openInDesigner&&null===i.stop&&console.log("FYI: formula returned a promise. This automatically stops this formula from running again. If you want it to continue running, return stop: false");const s=i.sleep??!1;return t.promises$.next({promise:i.promise,sleep:s,completed:!1}),this.#s(t),n.end(`promise added, sleep: ${s}`)}filterFormulas(t,i){const n=this.log.fnIfInList("filterFormulas","fields",t,{enabled:i}),s=i.filter(l=>{const p=l.promises$.value;return n.a(`hasPromise: ${!!p}; completed: ${p?.completed}; sleep: ${p?.sleep}`),!p||p.completed||!p.sleep});return n.rSilent(s,`\u{1f9ea}\u{1f4ca} beforeFilter: ${i.length}; formulas: ${s.length}; `)}#s(t){const i=this.#i,n=this.log.fnIfInList("defineCallbackHandlerIfMissing","fields",t.fieldName,{formula:t,entityGuid:i},t.target);if(t.updateCallback$.value)return n.end("callback already defined");t.updateCallback$.next(s=>this.#r(t,s))}#r(t,i){const n=this.#i,s=this.log.fnIfInList("promiseComplete","fields",t.fieldName,{result:i,formula:t,entityGuid:n},t.target),o=t.fieldName,l=new sl.d(o,t.isValue,t.inputType,!1).v2(i),p=this.#e,M=p[n]??=new rl(n),I=M.data[o]??={name:o,value:t.isValue?l.value:void 0,fields:[],settings:{}};t.isSetting&&(s.a("formula promise settings"),I.settings??={},I.settings[t.settingName]=l.value),l.fields&&(s.a("formula promise fields"),I.fields.push(...l.fields)),t.stop=l.stop??t.stop,t.promiseCompleted=!0,s.end("promise complete, will retriggerFormulas",I),this.#t.retriggerFormulas("promise")}changesFromQueue(t){const i=this.#e[this.#i];if(this.#e[this.#i]=null,null==i||null==i.data||0===Object.keys(i.data).length)return{valueChanges:{},newFieldProps:null};const n=Object.entries(i.data),o=n.map(([G,ae])=>({name:G,value:ae.value})).reduce((G,{name:ae,value:ye})=>(G[ae]=ye,G),{}),l=n.filter(([G,ae])=>ae.fields.length>0).map(([G,ae])=>ae.fields).flat(),p=n.filter(([G,ae])=>Object.keys(ae.settings).length>0).map(([G,ae])=>({fieldName:G,settings:ae.settings})),M=0!==Object.keys(o).length||0!==l.length?this.#a.getValueUpdates(t,l,o):{},I=this.#n();let N=null;if(p.length){N={...t.fieldProps};const G=this.itemService.getItemAttributes(this.#i);Object.values(p).forEach(ae=>{const ye=ae.fieldName,Ee=t.fieldProps[ye]?.settings;let Fe={};Object.entries(ae.settings).forEach(([et,_t])=>{Fe=Ui.keepSettingIfTypeOk(Un.si+et,Ee,_t,Fe);const Tt=t.getFieldConstants(ye),Nt=I.Attributes.find(zn=>zn.Name===ye),Ot=t.updateHelper.create(ye,Nt,Tt,G[ye]),Zt={...Ee,...Fe},Nn=Ot.correctSettingsAfterChanges(Zt,t.values[ye]);N[ye]={...N[ye],settings:Nn}})})}return{valueChanges:M,newFieldProps:N}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(m.b))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var be=c(4202);const We_AdamWrapper="app-adam-wrapper",We_CollapsibleWrapper="app-collapsible-wrapper",We_DropzoneWrapper="app-dropzone-wrapper",We_PickerExpandableWrapper="app-picker-expandable-wrapper",We_ExpandableWrapper="app-expandable-wrapper",We_HiddenWrapper="app-hidden-wrapper",We_FeatureWarningWrapper="app-feat-warnings-wrapper",We_HyperlinkDefaultExpandableWrapper="app-hyperlink-default-expandable-wrapper",We_HyperlinkLibraryExpandableWrapper="app-hyperlink-library-expandable-wrapper",We_LocalizationWrapper="app-localization-wrapper",Pt={wrappers:["app-localization-wrapper"]};class cl{static getWrappers(r,t){const i=t.inputType;if(T.Q.isMessage(i))return[];if(T.Q.isGroupStart(i))return["app-collapsible-wrapper"];const n=["app-hidden-wrapper"];return[be.u.EntityDefault,be.u.StringDropdownQuery,be.u.EntityQuery,be.u.EntityContentBlocks,be.u.StringDropdown,be.u.EntityPicker,be.u.StringPicker,be.u.NumberPicker].includes(i)&&(n.push("app-feat-warnings-wrapper"),n.push("app-localization-wrapper"),((r.AllowMultiValue??!1)||i===be.u.EntityContentBlocks)&&n.push("app-picker-expandable-wrapper")),t.isExternal&&n.push("app-dropzone-wrapper","app-localization-wrapper","app-expandable-wrapper","app-adam-wrapper"),n}}const dl={all:!1,getCycleSettingsAndValues:!1,getLatestSettingsAndValues:!1};class Qn{constructor(r,t,i,n,s,o){this.engine=r,this.initialValues=t,this.fieldProps=i,this.allAttributes=n,this.updateHelper=s,this.fieldConstants=o,this.log=(0,w.Tq)({FieldsPropsEngineCycle:Qn},dl),this.values={...t}}getFieldConstants(r){return this.fieldConstants.find(t=>t.fieldName===r)}getCycleSettingsAndValues(){const r=this.log.fnIf("getCycleSettingsAndValues");for(let i=0;i<5;i++){const n=this.#e(i),s={...this.values,...n.valueChanges};if((0,Wt.A)(this.fieldProps,n.props)&&(0,Wt.A)(this.values,s)){r.a("No more changes, stable, exit");break}this.fieldProps=n.props,this.values=s}return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,[],this.values,this.initialValues),props:this.fieldProps}}#e(r){const t=this.log.fnIf("getLatestSettingsAndValues",{loopIndex:r}),i=0===Object.keys(this.fieldProps).length;if(i)t.a("First round, no queue to process");else{const{valueChanges:p,newFieldProps:M}=this.engine.formulaPromises.changesFromQueue(this);M&&(t.a("New field props from queue",{newFieldProps:M}),this.fieldProps=M),Object.keys(p).length>0&&(t.a("Value changes from queue",{valueChanges:p}),this.values={...this.values,...p})}const{fieldsProps:n,valueUpdates:s,fieldUpdates:o}=this.engine.formulaEngine.runAllFields(this.engine,this);for(const[p,M]of Object.entries(n))M.buildWrappers=i?cl.getWrappers(M.settings,M.constants.inputTypeSpecs):this.fieldProps[p]?.buildWrappers;return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,o,s),props:n}}getFieldSettingsInCycle(r){const t=this.fieldProps[r.fieldName];return r.language==t?.language?t?.settings??{...r.settingsInitial}:{...r.settingsInitial}}}class Wi{constructor(r){this.defaultIsShow=!0,this.fields=null,this.log=(0,w.Tq)({ItemFieldVisibility:Wi});const t=this.log.fn("ctor",{identifier:r});var i=r.ClientData?.fields;if(null==i||""==i)return void t.end("no fields specified");this.defaultIsShow="-"==i[0],this.defaultIsShow&&(i=i.substring(1));const n=!this.defaultIsShow;this.fields=i.toLowerCase().split(",").reduce((s,o)=>(s[o]=n,s),{}),t.end("",{fields:this.fields,defaultIsShow:this.defaultIsShow})}hasRules(){return null!=this.fields}isVisibleDisabled(r){const t=this.log.fn("isVisibleDisabled",{fieldName:r});if(!this.hasRules())return t.r(!1,"no rules");const i=this.fields[r.toLowerCase()];return t.r(!(i??this.defaultIsShow))}static mergedVisible(r){return r.Visible&&!r.VisibleDisabled}makeParentGroupsVisible(r){const t=this.log.fn("makeParentGroupsVisible",{allConstFieldParts:r});if(!this.hasRules())return t.r(r,"no rules, no changes");try{r.forEach((i,n)=>{if(T.Q.isGroupStart(i.inputTypeSpecs.inputType)&&0!=i.settingsInitial.VisibleDisabled)for(let s=n+1;s<r.length;s++){const o=r[s];if(T.Q.endsPreviousGroup(o.inputTypeSpecs.inputType))return;if(0==o.settingsInitial.VisibleDisabled)return t.a("Forced visible",{fieldName:i.fieldName,reason:o.fieldName}),void(i.settingsInitial.VisibleDisabled=!1)}})}catch(i){console.error("Error trying to set item field visibility",i)}return r}}const pl={all:!1,stablePartsOfLanguage:!1,stablePartOfField:!0,constantPartsOfField:!1,constantFieldParts:!1,staticPartsOfField:!1,fields:[...Ft.z]};let hl=(()=>{class a{constructor(t,i){this.formConfig=t,this.inputTypeSvc=i,this.log=(0,w.Tq)({FieldsSettingsConstantsService:a},pl),this.#e=new _.q(this.log.name)}#e;init(t,i,n,s,o){return this.#t=t,this.#s=i,this.#i=new Wi(t.Header),this.#n=n,this.#a=s,this.#r=o,this}#t;#i;#n;#a;#s;#r;stableDataOfLanguage(){const t=this.#t.Entity.Guid,i=this.#t.Entity.Id,n=this.#s.Id,s=this.#l(t,i,n);return(0,te.bo)("stableDataOfLanguage",()=>this.#o(this.#n(),this.#a(),s))}#o(t,i,n){const s=this.#s,o=this.log.fnIf("stablePartsOfLanguage",{contentType:s,entityReader:t}),l=s.Attributes.map(M=>{const I=M.Name,N=this.log.fnIfInList("stablePartOfField","fields",I,{fieldName:I}),G=this.inputTypeSvc.get(M.InputType),ae=t.flatten(M.Metadata);if(i.current!==t.current){const et=i.flatten(M.Metadata);ae.Name=et.Name??ae.Name,ae.Placeholder=et.Placeholder??ae.Placeholder,ae.Notes=et.Notes??ae.Notes}const ye=this.#e.mergeGenericSettings(I,ae);ye.InputType=M.InputType,ye.VisibleDisabled=this.#i.isVisibleDisabled(M.Name);const Ee=this.#e.getDefaultSettings(ye),Fe={...n.find(et=>et.fieldName===M.Name),settingsInitial:Ee,inputTypeConfiguration:G,language:t.current};return N.r(Fe)}),p=this.#i.makeParentGroupsVisible(l);return o.r(p)}#l(t,i,n){const s=this.#s,o=this.log.fnIf("constantPartsOfField",{entityGuid:t,entityId:i,contentTypeNameId:n}),l=this.formConfig.language(),p=new V.bT(l.initial,l.primary),M=this.#r.pickerData,I=this.formConfig.config;o.a("shared across fields",{entityGuid:t,entityId:i,contentTypeNameId:n,language:l,allPickers:M});const N=s.Attributes.map((G,ae)=>{const ye=G.Name,Ee=this.log.fnIfInList("constantFieldParts","fields",ye,{fieldName:ye,index:ae}),Fe=p.flatten(G.Metadata),et=this.#e.getDefaultSettings(Fe),_t=et.Disabled??!1,$e=this.inputTypeSvc.getSpecs(G);Ee.a("details",{fieldName:ye,contentType:s,language:l,attr:G,initialSettings:et,inputTypeSpecs:$e});const Tt=Y.y.singleton().get(G.InputType),Nt={entityGuid:t,entityId:i,contentTypeNameId:n,fieldName:ye,index:ae,dropzonePreviewsClass:`dropzone-previews-${I.formId}-${ae}`,initialDisabled:_t,inputTypeSpecs:$e,isLastInGroup:this.#e.isLastInGroup(s,G),type:G.Type,logic:Tt,pickerData:()=>M[ye]??null};return Ee.r(Nt)});return o.r(N)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(h.S),e.KVO(Z.A))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();class Rs{static isRequired(r){return!this.#u(r)&&r.Required}static getValidators(r,t){const i=[t!==be.u.HyperlinkLibrary?this.#t(r):this.#i(r),this.#n(r),this.#a(r),this.#s(r),this.#r(r),this.#o(r),this.#l(r),this.#c(r)];return t===be.u.CustomJsonEditor&&i.push(this.#d(r)),i}static#e(r,t){const i=t.settings();return this.#u(i)?null:i}static#t(r){return t=>{const i=this.#e(t,r);return null!=i&&i.valueRequired?ge.k0.required(t):null}}static#i(r){return t=>{const i=this.#e(t,r);return null!=i&&i.valueRequired&&0===t.adamItems?{required:!0}:null}}static#n(r){return t=>{const i=this.#e(t,r);return null!=i&&i.ValidationRegExJavaScript?ge.k0.pattern(i.ValidationRegExJavaScript)(t):null}}static#a(r){return t=>{const i=this.#e(t,r);if(null==i?.Decimals||i.Decimals<0||null==t.value)return null;const n=0===i.Decimals?"^-?[0-9]+$":`^-?[0-9]+(.[0-9]{1,${i.Decimals}})?$`;return t.value.toString().match(n)?null:{decimals:!0}}}static#s(r){return t=>{const i=this.#e(t,r);return null==i?.Min?null:ge.k0.min(i.Min)(t)}}static#r(r){return t=>{const i=this.#e(t,r);return null==i?.Max?null:ge.k0.max(i.Max)(t)}}static#o(r){return t=>{const i=this.#e(t,r);return null==i||0==i.AllowMultiMin||null==i.AllowMultiMin?null:Ls(t,r,i)<i.AllowMultiMin?{minNoItems:i.AllowMultiMin}:null}}static#l(r){return t=>{const i=this.#e(t,r);return null==i||0==i.AllowMultiMax||null==i.AllowMultiMax?null:Ls(t,r,i)>i.AllowMultiMax?{maxNoItems:i.AllowMultiMax}:null}}static#d(r){return t=>{const i=r.settings();let n,s;const o=i.JsonValidation;if(this.#u(i)||"none"===o||!t.value)n=!1,s=!1;else try{JSON.parse(t.value),n=!1,s=!1}catch{"strict"===o?(n=!0,s=!1):"light"===o&&(n=!1,s=!0)}return t._warning=s?{jsonWarning:!0}:null,n?{jsonError:!0}:null}}static#c(r){return t=>{const i=r.props().formulaValidation,{error:n,warning:s}=this.#u(r.settings())||null==i?{error:!1,warning:!1}:"error"===i.severity?{error:!0,warning:!1}:"warning"===i.severity?{error:!1,warning:!0}:{error:!1,warning:!1};return t._warning=s?{formulaWarning:!0,formulaMessage:i.message}:null,n?{formulaError:!0,formulaMessage:i.message}:null}}static#u(r){return!Wi.mergedVisible(r)}}function Ls(a,r,t){if(Array.isArray(a.value))return a.value.length;const i=r.pickerData;return null==i?function Xo(a,r,t){return""==a&&t?[""]:""!=a&&a?Array.isArray(a)?a:a.split(r):[]}(a.value,t.Separator,!1).length:i.selectedAll().length}class ml{constructor(r,t,i,n,s){this.fieldName=r,this.inputType=t,this.props=n,this.pickersGet=s,this.settings=i}get pickerData(){return this.pickersGet()?.[this.fieldName]??null}}const fl={all:!1,correctSettingsAfterChanges:!0,schemaDisablesTranslation:!1,getDisabledBecauseTranslations:!1,fields:[...Ft.z]};class Kn{constructor(r,t,i,n,s){this.contentTypeMetadata=r,this.language=t,this.fieldLogicTools=i,this.formReadOnly=n,this.slotIsEmpty=s,this.log=(0,w.Tq)({FieldSettingsUpdateHelperFactory:Kn})}create(r,t,i,n){return new Jn(r,this.contentTypeMetadata,this.language,this.fieldLogicTools,this.formReadOnly,this.slotIsEmpty,t,i,n)}}class Jn{constructor(r,t,i,n,s,o,l,p,M){this.fieldName=r,this.contentTypeMetadata=t,this.language=i,this.fieldLogicTools=n,this.formReadOnly=s,this.formSlotIsEmpty=o,this.attribute=l,this.constantFieldPart=p,this.attributeValues=M,this.log=(0,w.Tq)({FieldSettingsUpdateHelper:Jn},fl)}correctSettingsAfterChanges(r,t){const i=this.log.fnIfInList("correctSettingsAfterChanges","fields",this.fieldName,()=>({settings:r,fieldValue:t})),n=this.constantFieldPart,s=this.formSlotIsEmpty();r.Name=r.Name||this.attribute.Name,r.valueRequired=Rs.isRequired(r);const o=this.#e();r.DisableTranslation=s||o,r.uiDisabledInThisLanguage=this.#t(r.DisableTranslation),r.uiDisabledForced=s||r.uiDisabledInThisLanguage||this.formReadOnly,r.uiDisabled=r.uiDisabledForced||r.Disabled,r.DisableAutoTranslation=n.settingsInitial.DisableAutoTranslation||r.DisableTranslation;const l=n.logic?.update({fieldName:this.fieldName,settings:r,value:t,tools:this.fieldLogicTools})??r;return i.r(l)}#e(){this.log.fnIfInList("schemaDisablesTranslation","fields",this.fieldName);const t=this.contentTypeMetadata,i=this.constantFieldPart.inputTypeConfiguration,n=this.attributeValues,s=this.attribute.Metadata;if(t.find(l=>"LanguagesDecorator"===l.Type.Name)?.Attributes.Enabled?.Values.some(l=>!1===l.Value)||i?.DisableI18n||!new W.U(n,this.language).hasPrimary)return!0;for(const l of s??[])if(l.Attributes.DisableTranslation?.Values.some(p=>!0===p.Value))return!0;return!1}#t(r){const t=this.log.fnIfInList("getDisabledBecauseTranslations","fields",this.fieldName),i=this.attributeValues,n=this.language;if(n.current===n.primary)return t.r(!1,"enabled, primary language");const s=new W.U(i,n);return r?t.r(!0,"disabled, disableTranslation"):s.hasPrimary?s.hasEditableValues?t.r(!1,"disabled, has editable value"):t.r(!0,s.hasCurrentReadonly?"enabled, has readonly value":"enabled, no rule applies"):t.r(!0,"disabled, no value on primary")}}var Zn=c(6953);class qn{constructor(r,t){this.contentType=r,this.slotIsEmpty=t,this.log=(0,w.Tq)({FieldsValuesModifiedHelper:qn})}getValueUpdates(r,t,i,n){const s=this.contentType(),o=this.slotIsEmpty();n??=r.values;const l=r.fieldProps,p=this.log.fn("getValueUpdates",{contentType:s,originalValues:n,fieldsProps:l,valueUpdates:i,valueUpdatesFromSideEffects:t,slotIsEmpty:o});if(o)return p.r({},"Slot is empty, exit early");const I=s.Attributes.map(N=>({name:N.Name,original:n[N.Name]})).filter(N=>void 0!==N.original&&!l[N.name]?.settings.uiDisabledForced).map(N=>({...N,value:this.#e(N.name,t,i)})).filter(N=>void 0!==N.value&&!Zn.$.fieldValuesAreEqual(N.original,N.value)).reduce((N,G)=>(N[G.name]=G.value,N),{});return p.rSilent(I)}#e(r,t,i){const n=t.filter(o=>o.name===r),s=n[n.length-1]?.value;return s??i[r]}}const gl={all:!1,init:!0,getPickers:!0};let _l=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;#o;constructor(){this.log=(0,w.Tq)({FieldsPropsEngine:a},gl),this.#e=(0,e.WQX)(h.S),this.#t=(0,e.WQX)(f.B),this.#i=(0,e.WQX)(pt),this.#n=(0,e.WQX)(K.k),this.#a=(0,e.WQX)(m.b),this.#s=(0,D.d)(hl),this.#r=(0,D.d)(Zo),this.formulaEngine=(0,D.d)(al),this.formulaPromises=(0,D.d)(ll)}init(t,i,n,s,o,l,p,M=null){this.log.extendName(`[${i.substring(0,8)}]`);const I=this.log.fnIf("init",{entityGuid:i,item:n,contentType:s,reader:o,forceDebug:M});null!=M&&this.log.forceEnable(M),this.item=n,this.languages=o(),this.#o=p;const N=this.#a.slotIsEmpty(i),G=s();return this.pickerData=this.#r.createPickersForAttributes(G.Attributes),I.a("Pickers created",this.pickerData),this.#d=this.#s.init(n,G,o,l,t).stableDataOfLanguage(),this.#l=this.#u(o,G,N),this.modifiedChecker=new qn(s,N),this.formulaPromises.init(i,s,t,this.modifiedChecker),this.formulaEngine.init(i,n.Header,t,this.formulaPromises,G,t.contentTypeSettings()._itemTitle),this.#c=this.#a.itemAttributesSignal(i),this}#l;#d;#c;getLatestSettingsAndValues(t){this.log.fn("getLatestSettingsAndValues");const n=this.#o.values();this.languages=this.#e.language();const s=this.#c(),o=this.#l(),l=this.#d();return this.cycle=new Qn(this,n,t,s,o,l),this.cycle.getCycleSettingsAndValues().props}#u(t,i,n){return(0,te.bo)("prepared-parts",()=>{const o=t(),l=o,p=this.#t.isDebug(),M=this.#i.readOnly(),I={eavConfig:this.#e.config,reader:o,debug:p,contentTypeItemSvc:this.#n};return new Kn(i.Metadata,l,I,M.isReadOnly,n)})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();class ea{constructor(r){this.entityGuid=r,this.log=(0,w.Tq)({FieldsPropertiesUpdates:ea}),this.fieldPropsMixins={},this.log.extendName(`[${r.substring(0,8)}]`)}hasChanges(){return Object.keys(this.fieldPropsMixins).length>0}updateSetting(r,t,i,n){const s=0===Object.keys(this.fieldPropsMixins).length,o=this.log.fn("updateSetting",{source:i,fieldName:r,update:t,queueWasEmpty:s}),l=n()[r].settings,p={...l,...t};if((0,Wt.A)(l,p))return o.end(`no change; entityGuid: ${this.entityGuid}; fieldName: ${r}`);this.fieldPropsMixins[r]={...this.fieldPropsMixins[r]??{},...t},o.end("added to queue",{before:l,after:p,update:t})}mergeMixins(r){const t=this.log.fn("mergeMixins",{before:r,mixins:this.fieldPropsMixins}),i=this.fieldPropsMixins;if(0===Object.keys(i).length)return r;const n=Object.keys(i).reduce((s,o)=>{const l=s[o],p=i[o];return{...s,[o]:{...l,settings:{...l.settings,...p}}}},r);return this.fieldPropsMixins={},t.r(n,"merged")}}const vl={all:!1,startSync:!0,filterRelevant:!0,transferPickerData:!0};class ta{constructor(){this.log=(0,w.Tq)({FieldSettingsPickerUpdater:ta},vl)}startSync(r){const t=this.log.fnIf("startSync",{source:r}),i=(0,te.bo)("optsOnly",()=>this.#e(r(),"opts")),n=(0,te.bo)("selOnly",()=>this.#e(r(),"sel"));(0,e.QZP)(()=>this.#t(i(),"opts")),(0,e.QZP)(()=>this.#t(n(),"sel")),t.end()}#e(r,t){if(!r)return[];const i=Object.entries(r).filter(([s,o])=>o[t]?.list).map(([s,o])=>({field:s,list:o[t].list,pickerData:o.constants.pickerData}));return this.log.fnIf("filterRelevant",{count:i.length,toTransfer:i},t).rSilent(i)}#t(r,t){if(!r.length)return;const i=this.log.fnIf("transferPickerData",{count:r.length,toTransfer:r},`\u{1f9ea}\u{1f501}${t}`);for(const{field:n,list:s,pickerData:o}of r){i.a("Transfer",{field:n,list:s});const l=o();("opts"==t?l.optionsOverride:l.selectedOverride).set(s)}}}var ia=c(3151),bl=c(5839),yl=c(9934),Cl=c(2484),wl=c(4138),kl=c(2549),Ml=c(9247),Dl=c(3101),Tl=c(8104),xl=c(9913);const Al={logChanges:!1};let Fl=(()=>{class a{constructor(t){if(this.itemSvc=t,this.log=(0,w.Tq)({FieldsSignalsHelper:a},Al),this.#t=(0,te.KX)("itemGuid",null),this.#i=(0,te.KX)("attributesLazy",null),this.log.specs.logChanges){const i=(0,w.Tq)("FieldValues");i.a("will log value changes");let n={};(0,e.QZP)(()=>{const s=this.#t();if(!s)return i.a("no guid");const o=this.values(),l=function El(a,r){return function t(i,n){return function Sl(a,r,t){var i=(0,Ml.A)(a),n=i||(0,Dl.A)(a)||(0,xl.A)(a);if(r=(0,wl.A)(r,4),null==t){var s=a&&a.constructor;t=n?i?new s:[]:(0,ia.A)(a)&&(0,Tl.A)(s)?(0,yl.A)((0,kl.A)(a)):{}}return(n?bl.A:Cl.A)(a,function(o,l,p){return r(t,o,l,p)}),t}(i,function(s,o,l){(0,Wt.A)(o,n[l])||(s[l]=(0,ia.A)(o)&&(0,ia.A)(n[l])?t(o,n[l]):o)})}(a,r)}(o,n);n=o,i.a(`changed on guid: ${s}`,l)})}}#e;#t;init(t,i){this.#t.set(t),this.#s=new P.K(t),this.#e=i;const n=this.itemSvc.itemAttributesSignal(t);return null==n&&console.error("item-entity-attributes is null"),this.#i.set(n),this}#i;get values(){const t=this.log.fn("get-values",{itemGuid:this.#t});if(null!=this.#n)return t.rSilent(this.#n,"cached");const i=this.#a();return this.#n=i,t.rSilent(this.#n,"generated")}#n;#a(){return(0,te.bo)(`${this.#t().substring(0,8)}-ALL`,()=>{const i=this.log.fn("values"),n=this.#e(),s=this.#i();if(null==s)return i.r({},"attributes is null");const o=s();return o&&0!=Object.keys(o).length?n.currentValues(o):i.r({},"attributes is empty")})}get(t){const i=this.log.fn("get",{field:t}),n=this.#r(t);return i.rSilent(n)}#s;#r(t){const i=this.log.fn("#fieldValueOrNullSignal",{fieldName:t}),n=this.#s.getOrCreateWithInfo(t,()=>{const s=this.#i();if(null==s)return null;const o=s();if(!o||0==Object.keys(o).length)return null;const l=o[t],p=l?.Values;return null==p||0==p.length?null:this.#e().getBestValue(l)});return i.rSilent(n.signal,`isNew: ${n.isNew}`)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(m.b))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Ol={effectTransferPickerData:!0,regenerateProps:!0,type:"",activateAnalyzer:!1};let Xt=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;constructor(){this.log=(0,w.Tq)({FieldsSettingsService:a},Ol),this.#e=(0,e.WQX)(j.A),this.#t=(0,e.WQX)(h.S),this.#i=(0,e.WQX)(B.n),this.#n=(0,e.WQX)(m.b),this.#a=(0,D.d)(A.L),this.#s=(0,D.d)(_l),this.#r=new ta,this.allProps=(0,te.KX)("allProps",{}),this.#o=(0,e.vPA)(!1),this.#d=(0,te.KX)("forceRefresh",0),this.#c=(0,te.KX)("disabled",!1),this.#h=this.#e.getEntityReader(this.#t.config.formId),this.#g=(0,te.bo)("labelReader",()=>{const i=this.#h(),n=this.#a.value("form");return n?new V.bT({current:n,primary:i.primary}):i}),this.#p=(0,e.vPA)(null),this.#m=(0,e.EWP)(()=>this.#p()?this.#i.getContentTypeOfItem(this.#p()):null),this.contentTypeSettings=(0,e.EWP)(()=>this.#p()?V.im.getDefaultSettings(this.#g(),this.#m(),this.#p().Header):null),this.#f=(0,D.d)(Fl),this.#v=new P.K("field-props"),this.fieldProps=this.#v.buildProxy(i=>()=>this.allProps()[i]),this.#b=new P.K("fields"),this.settings=this.#b.buildProxy(i=>()=>this.allProps()[i].settings),this.translationState=P.K.proxy("transl-state",i=>()=>this.allProps()[i].translationState);const t=(0,te.bo)("allPropsOrNull",()=>this.#o()&&this.#l());(0,e.QZP)(()=>{const i=t();i&&this.allProps.set(i)}),this.#r.startSync(t)}disableForCleanUp(){this.log.fn("cleanUp"),this.#c.set(!0)}#o;#l;#d;#c;#u;#h;#g;#p;#m;#f;init(t){const i=this.#n.get(t);this.#p.set(i),this.#u=new ea(t);const n=this.#m(),s=this.log.specs.type,o=null===s?null:n.Id===s;null!==o&&(this.log.a(`Set debug for content type '${n.Id}' to ${o}, only debugging ${s}`),this.log.forceEnable(o));const l=this.#n.slotIsEmpty(t);this.#f.init(t,this.#h),this.#s.init(this,t,i,this.#m,this.#h,this.#g,this.#f,o);const p={idMsg:`entityGuid: ${t}; contentTypeId: ${n.Id};`,cycle:0,analyzer:null,disabled:this.#c,slotIsEmpty:l,slotWasEmpty:!1,forceRefresh:this.#d,watchRestart:(0,e.vPA)(0),prevFieldProps:{},hasRunOnce:!1};setInterval(()=>{p.cycle>10&&setTimeout(()=>(this.log.a(`restarting max cycles from ${p.cycle}; ${p.idMsg}`),p.watchRestart.update(M=>M+1)),500),p.cycle=0},250),this.#l=(0,te.bo)("allFieldProps",()=>this.#_(p)),this.log.specs.activateAnalyzer&&(p.analyzer=new $o(this.#l)),this.#o.set(!0)}#_(t){t.analyzer&&console.log("analyzer",{fieldProps:this.allProps},t.analyzer.snapShotProducers(!0));const i=this.log.fnIf("regenerateProps",{cycle:t.cycle,props:this.allProps},t.idMsg),n=t.slotIsEmpty();if((this.#c()||n&&n==t.slotWasEmpty)&&t.hasRunOnce)return i.r(t.prevFieldProps,"disabled or slotIsEmpty");if(t.hasRunOnce=!0,t.slotWasEmpty=n,this.#d(),t.cycle++>10){const p=`Max cycles reached, stopping for this second; cycle: ${t.cycle}; ${t.idMsg};`;return console.warn(p),t.watchRestart(),i.r(t.prevFieldProps,p)}const o=this.#u.hasChanges()?this.#u.mergeMixins(t.prevFieldProps):t.prevFieldProps,l=this.#s.getLatestSettingsAndValues(o);return t.prevFieldProps=l,i.rSilent(l,"normal update")}#v;#b;retriggerFormulas(t){this.log.fn("retriggerFormulas",{source:t}),this.#d.update(i=>i+1)}updateSetting(t,i,n){this.#u.updateSetting(t,i,n,this.allProps),setTimeout(()=>this.retriggerFormulas("updateSetting"),10)}get pickerData(){return this.#s.pickerData}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var ti=c(52),Vl=c(9765),Xi=c(9868);class na{constructor(r){this.getFieldsProps=r,this.log=(0,w.Tq)({FieldTranslationInfo:na})}get#e(){return this.#t??=this.getFieldsProps().settings}#t;get isAutoTranslatable(){return!this.DisableTranslation&&!this.DisableAutoTranslation}get notForAutoTranslateBecauseOfType(){return!this.DisableTranslation&&this.autoTranslateIsDisabledByTypeButNotByConfig()}get DisableTranslation(){return this.#e.DisableTranslation}get DisableAutoTranslation(){return this.#e.DisableAutoTranslation}autoTranslateIsDisabledByTypeButNotByConfig(){return!this.DisableAutoTranslation&&!Y.y.singleton().get(this.getFieldsProps().constants.inputTypeSpecs.inputType).canAutoTranslate}}var Yl=c(6443);const zl={all:!0,constructor:!1,init:!0,unlock:!0,lock:!0,getInfo:!0,autoTranslate:!0,findAutoTranslatableFields:!0,addItemAttributeValueHelper:!0};let pi=(()=>{class a{#e;constructor(t,i,n,s,o,l,p){this.http=t,this.itemService=i,this.formConfig=n,this.contentTypeService=s,this.fieldsSettingsService=o,this.snackBar=l,this.translate=p,this.log=(0,w.Tq)({FieldsTranslateService:a},zl),this.updater=this.itemService.updater,this.log.fnIf("constructor")}init(t){const i=this.log.fnIf("init");this.#t=t;const n=this.itemService.get(t);this.#i=Vl.i.getContentTypeNameId(n),this.#e=this.itemService.itemAttributesSignal(t),i.end("",{entityGuid:t,contentTypeId:this.#i})}#t;#i;unlock(t,i=!1,n){const s=this.log.fnIf("unlock",{fieldName:t,isTransaction:i,transactionItem:n});if(this.#n(t).DisableTranslation)return s.rNull("Translation is disabled for this field.");const o=this.formConfig.language();n=this.updater.removeItemAttributeDimension(this.#t,t,o.current,i,n);const l=this.#e()[t],p=null!=new W.U(l,o).currentEditable,I=new W.U(l,Xi.N.bothPrimary(o)).current;return p?s.rNull():s.r(this.#a(t,I.Value,o.current,!1))}lock(t,i=!1,n){const s=this.log.fnIf("lock",{fieldName:t,isTransaction:i,transactionItem:n});if(this.#n(t).DisableTranslation)return s.rNull("Translation is disabled for this field.");const o=this.formConfig.language();return this.updater.removeItemAttributeDimension(this.#t,t,o.current,i,n)}toggleUnlockOnAll(t){const i=this.findTranslatableFields();if(0===i.length)return this.showMessageNoTranslatableFields(!1);let n;for(const s of i){const o=s!==i[i.length-1];n=t?this.unlock(s,o,n):this.lock(s,o,n)}}showMessageNoTranslatableFields(t){const i=this.translate.instant("LangMenu.NoAutoTranslatableFieldsFound".replace("Auto",t?"Auto":""));this.snackBar.open(i,null,{duration:2e3})}autoTranslate(t,i,n=!1,s=!1){this.log.fnIf("autoTranslate",{fieldNames:t,autoTranslateLanguageKey:i,isMany:n,areAllChecksKnown:s});const l=this.formConfig.settings.Values[ti.Ox.GoogleTranslate];l.IsDemo&&alert("This translation is a demo. Please provide your own Google Translate API key in the EAV configuration.");const p=this.formConfig.language(),M=this.#e(),I=(t=t.filter(G=>!this.#n(G).DisableTranslation)).map(G=>new W.U(M[G],i).currentEditable.Value);s||t.forEach((G,ae)=>{const ye=I[ae],Ee=this.#n(G).autoTranslateIsDisabledByTypeButNotByConfig();(null==ye||""===ye||Ee)&&this.unlock(G)}),this.http.post(`https://translation.googleapis.com/language/translate/v2?key=${l.ApiKey}`,{q:I,target:p.current,source:i}).subscribe(G=>{const ae=t.map(ye=>null!=new W.U(M[ye],p).currentEditable);G.data.translations.forEach((ye,Ee)=>{const Fe=document.createElement("textarea");Fe.innerHTML=ye.translatedText;const et=ae[Ee];!n&&et?this.updater.updateItemAttributeValue(this.#t,t[Ee],Fe.value,p,!1):et||this.#a(t[Ee],Fe.value,p.current,!1)})})}copyFrom(t,i){if(this.#n(t).DisableTranslation)return;const s=this.#e()[t],o=this.formConfig.language(),l=new W.U(s,o),p=l.ofLanguage(Xi.N.diffCurrent(o,i));p?s&&l.isEditableOrReadonlyTranslationExist()?this.updater.updateItemAttributeValue(this.#t,t,p.Value,o,!1):this.#a(t,p.Value,o.current,!1):this.log.a(`${o.current}: Cant copy value from ${i} because that value does not exist.`)}linkReadOnly(t,i){this.linkToOtherField(t,i,!0)}linkReadWrite(t,i){return this.linkToOtherField(t,i,!1)}linkToOtherField(t,i,n){if(this.#n(t).DisableTranslation)return;const s=this.formConfig.language(),o=this.updater.removeItemAttributeDimension(this.#t,t,s.current,!0);this.updater.addItemAttributeDimension(this.#t,t,s.current,i,s.primary,n,o)}autoTranslateMany(t){const i=this.#e(),n=[],s=this.findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault();this.findAutoTranslatableFields().filter(p=>!s.includes(p)).forEach(p=>{const M=new W.U(i[p],t).currentEditable?.Value;""!==M&&null!=M&&void 0!==M&&n.push(p)}),this.autoTranslate(n,t,!0,!0),s.forEach(p=>{this.unlock(p,!1,void 0)})}findTranslatableFields(){const t=this.#e();return Object.keys(t).filter(i=>!this.#n(i).DisableTranslation)}findAutoTranslatableFields(){const t=this.#e(),i=Object.keys(t).filter(n=>this.#n(n).isAutoTranslatable);return this.log.fnIf("findAutoTranslatableFields",{attributes:t,result:i}),i}#n(t){const i=new na(()=>this.fieldsSettingsService.fieldProps[t]());return this.log.fnIf("getInfo",{fieldName:t,ti:i}),i}findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault(){const t=this.#e();return Object.keys(t).filter(i=>this.#n(i).notForAutoTranslateBecauseOfType)}#a(t,i,n,s){const o=this.log.fnIf("addItemAttributeValueHelper",{fieldName:t,value:i,currentLanguage:n,isReadOnly:s}),l=this.contentTypeService.getAttribute(this.#i,t),p=this.updater.addItemAttributeValue(this.#t,t,i,n,s,l.Type);return o.r(p)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Yl.Qq),e.KVO(m.b),e.KVO(h.S),e.KVO(B.n),e.KVO(Xt),e.KVO(H.UG),e.KVO(x.c$))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Ti=c(6571),Ye=c(4175),Re=c(3777),hi=c(8827),Bl=c(1459),ot=c(4601),mi=c(9914),Rt=c(5797),at=c(1034),Qi=c(9006);const jl=a=>({name:a});function Hl(a,r){if(1&a&&(e.j41(0,"mat-icon",0),e.EFF(1,"diamond"),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippyData",e.eq3(1,jl,t.featureNameId()))}}let Ns=(()=>{class a extends Qi.x{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-feature-icon-indicator"]],features:[e.Vt3],decls:1,vars:1,consts:[["tippyTranslate","Features.NotActivated",3,"tippyData"]],template:function(i,n){1&i&&e.DNE(0,Hl,2,3,"mat-icon",0),2&i&&e.vxM(n.show()?0:-1)},dependencies:[Ce.m_,Ce.An,ot.e],encapsulation:2})}}return a})();function Gl(a,r){1&a&&(e.j41(0,"mat-card-subtitle"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"LangMenu.Dialog.NoAutoTranslatableFields")," "))}function $l(a,r){1&a&&(e.j41(0,"mat-card-subtitle"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"LangMenu.Dialog.ThisFieldIsNotAutoTranslatable")," "))}let zs=(()=>{class a{constructor(t,i){this.dialog=t,this.dialogData=i}ngOnInit(){}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.CP),e.rXU(Te.Vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-auto-translate-disabled-warning-dialog"]],decls:11,vars:8,consts:[["align","end"],["mat-button","","color","accent",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,Gl,3,3,"mat-card-subtitle")(6,$l,3,3,"mat-card-subtitle"),e.k0s(),e.j41(7,"mat-card-actions",0)(8,"button",1),e.bIt("click",function(){return n.closeDialog()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"LangMenu.Dialog.CantAutoTranslate")," "),e.R7$(2),e.vxM(n.dialogData.isAutoTranslateAll?5:-1),e.R7$(),e.vxM(n.dialogData.isAutoTranslateAll?-1:6),e.R7$(3),e.JRh(e.bMT(10,6,"Features.Close")))},dependencies:[Re.Hu,Re.RN,Re.YY,Re.MM,Re.Lc,Re.dh,Ye.Hl,Ye.$z,x.h,x.D9],encapsulation:2})}}return a})();var Ue=c(2814),ii=c(7699),ni=c(9227),st=c(7092),li=c(3617),aa=c(9539);let Ul=(()=>{class a{get vertical(){return this._vertical}set vertical(t){this._vertical=(0,Ue.he)(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=(0,Ue.he)(t)}_inset=!1;static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){2&i&&(e.BMQ("aria-orientation",n.vertical?"vertical":"horizontal"),e.AVh("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return a})(),Bs=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[ce.yE,ce.yE]})}return a})();var bt=c(2102),fi=c(7989),de=c(4879),ai=c(3900);const Ki=["*"],sa='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}',js=["unscopedContent"],Wl=["text"],Xl=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Ql=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],Hs=new e.nKC("ListOption");let xi=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return a})(),ra=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return a})(),hc=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return a})(),Gs=(()=>{class a{_listOption=(0,e.WQX)(Hs,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}return a})(),mc=(()=>{class a extends Gs{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[e.Vt3]})}return a})(),Ji=(()=>{class a extends Gs{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[e.Vt3]})}return a})();const fc=new e.nKC("MAT_LIST_CONFIG");let Qt=(()=>{class a{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,Ue.he)(t)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Ue.he)(t)}_disabled=!1;_defaultOptions=(0,e.WQX)(fc,{optional:!0});static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),oa=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_ngZone=(0,e.WQX)(e.SKi);_listBase=(0,e.WQX)(Qt,{optional:!0});_platform=(0,e.WQX)(ii.OD);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(t){this._explicitLines=(0,Ue.OE)(t,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=(0,Ue.he)(t)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=(0,Ue.he)(t)}_disabled=!1;_subscriptions=new st.yU;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){(0,e.WQX)(ni.l).load(ce.Ah);const t=(0,e.WQX)(ce.$E,{optional:!0}),i=(0,e.WQX)(e.bc$,{optional:!0});this.rippleConfig=t||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===i,this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ce.ug(this,this._ngZone,this._hostElement,this._platform,(0,e.WQX)(e.zZn)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,li.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===i;n.classList.toggle("mdc-list-item__primary-text",s),n.classList.toggle("mdc-list-item__secondary-text",!s)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,contentQueries:function(i,n,s){if(1&i&&(e.wni(s,mc,4),e.wni(s,Ji,4)),2&i){let o;e.mGM(o=e.lsd())&&(n._avatars=o),e.mGM(o=e.lsd())&&(n._icons=o)}},hostVars:4,hostBindings:function(i,n){2&i&&(e.BMQ("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),e.AVh("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),$s=(()=>{class a extends Qt{_isNonInteractive=!1;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],features:[e.Jv_([{provide:Qt,useExisting:a}]),e.Vt3],ngContentSelectors:Ki,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}'],encapsulation:2,changeDetection:0})}return a})(),gc=(()=>{class a extends Qt{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[e.Jv_([{provide:Qt,useExisting:a}]),e.Vt3],ngContentSelectors:Ki,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[sa],encapsulation:2,changeDetection:0})}return a})(),Zi=(()=>{class a extends oa{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(t){this._activated=(0,Ue.he)(t)}_activated=!1;_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,s){if(1&i&&(e.wni(s,ra,5),e.wni(s,xi,5),e.wni(s,hc,5)),2&i){let o;e.mGM(o=e.lsd())&&(n._lines=o),e.mGM(o=e.lsd())&&(n._titles=o),e.mGM(o=e.lsd())&&(n._meta=o)}},viewQuery:function(i,n){if(1&i&&(e.GBs(js,5),e.GBs(Wl,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._unscopedContent=s.first),e.mGM(s=e.lsd())&&(n._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,n){2&i&&(e.BMQ("aria-current",n._getAriaCurrent()),e.AVh("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",0!==n._avatars.length)("mdc-list-item--with-leading-icon",0!==n._icons.length)("mdc-list-item--with-trailing-meta",0!==n._meta.length)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[e.Vt3],ngContentSelectors:Ql,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,n){if(1&i){const s=e.RV6();e.NAR(Xl),e.SdG(0),e.j41(1,"span",1),e.SdG(2,1),e.SdG(3,2),e.j41(4,"span",2,0),e.bIt("cdkObserveContent",function(){return e.eBV(s),e.Njj(n._updateItemLines(!0))}),e.SdG(6,3),e.k0s()(),e.SdG(7,4),e.SdG(8,5),e.nrm(9,"div",3)}},dependencies:[aa.Wv],encapsulation:2,changeDetection:0})}return a})(),Ws=(()=>{class a extends Qt{_isNonInteractive=!1;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[e.Jv_([{provide:Qt,useExisting:a}]),e.Vt3],ngContentSelectors:Ki,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[sa],encapsulation:2,changeDetection:0})}return a})(),qi=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[aa.w5,ce.yE,ce.pZ,ce.O5,Bs]})}return a})();var Cc=c(5469);const gi={NoTranslate:"NoTranslate",FromPrimary:"FromPrimary",FromOther:"FromOther",LinkReadOnly:"LinkReadOnly",LinkShared:"LinkShared"};var gt=c(5675);function Xs(a,r,t,i,n){return t.filter(o=>o.NameId!==r.current).map(o=>{const p=n===gt.J.LinkReadWrite&&!o.IsAllowed||!new W.U(i[a.fieldName],Xi.N.diffCurrent(r,o.NameId)).hasEditableValues;return{key:o.NameId,disabled:p}})}function kc(a){switch(a){case gt.J.Translate:return gi.FromPrimary;case gt.J.DontTranslate:return gi.NoTranslate;case gt.J.LinkReadOnly:return gi.LinkReadOnly;case gt.J.LinkReadWrite:return gi.LinkShared;case gt.J.LinkCopyFrom:return gi.FromOther}}let Qs=(()=>{class a{#e;#t;constructor(t){this.dialogData=t,this.#e=(0,e.WQX)(oe.g),this.#t=(0,e.WQX)(m.b),this.formConfig=(0,e.WQX)(h.S),this.TranslationLinks=gt.J,this.I18nKeys=gi,this.language=this.formConfig.language,this.translationStateSignal=(0,e.vPA)(this.dialogData.translationState),this.translationInfo=(0,te.bo)("translationInfo",()=>{const i=this.translationStateSignal();return this.noLanguageRequired=[gt.J.Translate,gt.J.DontTranslate],{showLanguageSelection:!this.noLanguageRequired.includes(i.linkType),i18nRoot:`LangMenu.Dialog.${kc(i.linkType)}`,submitDisabled:""===i.language&&!this.noLanguageRequired.includes(i.linkType)}}),this.languages=this.#e.getAllSignal(),this.itemAttributes=this.#t.itemAttributesSignal(this.dialogData.config.entityGuid)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.Vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-helper-component-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();var Si=c(2760);let Mc=(()=>{class a{constructor(){}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-warning-demo"]],decls:6,vars:10,consts:[[3,"innerHTML"],[1,"snack-bar-warning-demo-white-hyperlink",3,"innerHTML"]],template:function(i,n){1&i&&(e.nrm(0,"h3",0),e.nI1(1,"translate"),e.nI1(2,"safeHtml"),e.nrm(3,"p",1),e.nI1(4,"translate"),e.nI1(5,"safeHtml")),2&i&&(e.Y8G("innerHTML",e.bMT(2,4,e.bMT(1,2,"LangMenu.SnackBar.Title")),e.npT),e.R7$(3),e.Y8G("innerHTML",e.bMT(5,8,e.bMT(4,6,"LangMenu.SnackBar.Body")),e.npT))},dependencies:[x.h,x.D9,mi.$],styles:[".snack-bar-warning-demo-white-hyperlink a{color:#fff;text-decoration:underline}"]})}}return a})();const Dc=(a,r)=>({"eav-list-item__focus":a,"list-item__disabled":r}),Tc=a=>({"list-item-icon__disabled":a});function xc(a,r){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.NoContent"),") "))}function Sc(a,r){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),") "))}function Ic(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.E5c("(",e.bMT(2,3,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),", ",i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.bMT(3,5,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Ec(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,Sc,3,3,"span")(2,Ic,4,7,"span"),e.k0s()),2&a){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Ac(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.LHq("(",t.noTranslatableFields," ",e.bMT(2,4,"LangMenu.Dialog.AutoTranslateAll.Of")," ",i.dialogData.translatableFields.length," ",e.bMT(3,6,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields"),") ")}}function Fc(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.ZXR("(",t.noTranslatableFields," ",e.bMT(2,6,"LangMenu.Dialog.AutoTranslateAll.Of")," ",i.dialogData.translatableFields.length," ",e.bMT(3,8,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields")," , ",i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.bMT(4,10,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Oc(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,Ac,4,8,"span")(2,Fc,5,12,"span"),e.k0s()),2&a){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Pc(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,Ec,3,2,"span")(2,Oc,3,2,"span"),e.k0s()),2&a){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(),e.vxM(t.noTranslatableFields==i.dialogData.translatableFields.length?1:-1),e.R7$(),e.vxM(t.noTranslatableFields!=i.dialogData.translatableFields.length?2:-1)}}function Rc(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,xc,3,3,"span")(2,Pc,3,2,"span"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.vxM(0==t.noTranslatableFields?1:-1),e.R7$(),e.vxM(0!=t.noTranslatableFields?2:-1)}}function Lc(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-list-item",5),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.setLanguage(n.key))}),e.j41(1,"mat-icon",6),e.EFF(2,"language"),e.k0s(),e.j41(3,"span",7),e.EFF(4),e.DNE(5,Rc,3,2,"span"),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("disabled",t.disabled||!i.isTranslateWithGoogleFeatureEnabled())("ngClass",e.l_i(5,Dc,i.translationStateSignal().language===t.key,t.disabled||!i.isTranslateWithGoogleFeatureEnabled())),e.R7$(),e.Y8G("ngClass",e.eq3(8,Tc,t.disabled)),e.R7$(3),e.SpI("",t.key," "),e.R7$(),e.vxM(i.dialogData.isTranslateMany?5:-1)}}let Ks=(()=>{class a extends Qs{constructor(t,i,n,s){super(i),this.dialog=t,this.dialogData=i,this.fieldsTranslateService=n,this.snackBar=s,this.features=(0,e.WQX)(C.D),this.isTranslateWithGoogleFeatureEnabled=this.features.isEnabled[dt.T.EditUiTranslateWithGoogle],this.languagesSig=(0,e.EWP)(()=>{const o=this.languages(),l=this.language(),p=this.itemAttributes(),M=this.translationStateSignal();return this.dialogData.isTranslateMany?function wc(a,r,t,i,n){return r.filter(o=>o.NameId!==a.current).map(o=>{let l=0,p=0,M=!1;const I=Xi.N.diffCurrent(a,o.NameId);return n.forEach(G=>{const ye=new W.U(t[G],I);l+=ye.countEditable(),p+=ye.countEditableWithContents(),M=i===gt.J.LinkReadWrite&&!o.IsAllowed||0==l}),{key:o.NameId,disabled:M,noTranslatableFields:l,noTranslatableFieldsThatHaveContent:p}})}(l,o,p,M.linkType,this.dialogData.translatableFields):Xs(this.dialogData.config,l,o,p,M.linkType)}),this.dialog.keydownEvents().subscribe(o=>{(0,Si.J)(o)&&o.preventDefault()})}ngOnInit(){this.isTranslateWithGoogleFeatureEnabled()&&this.dialog.afterClosed().subscribe(()=>this.snackBar.dismiss()),this.formConfig.settings.Values[ti.Ox.GoogleTranslate].IsDemo&&this.snackBar.openFromComponent(Mc)}setLanguage(t){const i={...this.translationStateSignal(),language:t};this.translationStateSignal.set(i),this.dialogData.translationState.language!==i.language?(this.dialogData.isTranslateMany?this.fieldsTranslateService.autoTranslateMany(i.language):this.fieldsTranslateService.autoTranslate([this.dialogData.config.fieldName],i.language),this.closeDialog()):this.closeDialog()}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.CP),e.rXU(Te.Vh),e.rXU(pi),e.rXU(H.UG))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-auto-translate-menu-dialog"]],features:[e.Vt3],decls:13,vars:9,consts:[[1,"auto-translate-menu-dialog-card","u-hide-scrollbar"],[3,"featureNameId"],[3,"innerHTML"],[1,"eav-card-content__no-padding"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"],["matListItemTitle",""]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"app-feature-text-info",1)(6,"mat-card-subtitle",2),e.nI1(7,"translate"),e.nI1(8,"safeHtml"),e.k0s(),e.j41(9,"mat-card-content",3)(10,"mat-action-list"),e.Z7z(11,Lc,6,10,"mat-list-item",4,e.fX1),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"LangMenu.Dialog.AutoTranslateAll.Title")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(),e.Y8G("innerHTML",e.bMT(8,7,e.bMT(7,5,"LangMenu.Dialog.AutoTranslateAll.Body")),e.npT),e.R7$(5),e.Dyx(n.languagesSig()))},dependencies:[Re.Hu,Re.RN,Re.m2,Re.MM,Re.Lc,Re.dh,Cc.L,qi,$s,Zi,Ji,xi,re.YU,Ce.m_,Ce.An,x.h,x.D9,mi.$],styles:[".auto-translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}}return a})();const Vc=a=>({name:a}),Ii=a=>({"eav-list-item__focus":a}),Bt=a=>({primary:a}),Yc=(a,r)=>({"eav-list-item__focus":a,"list-item__disabled":r}),Nc=a=>({"list-item-icon__disabled":a});function zc(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-list-item",11),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.setLanguage(n.key))}),e.j41(1,"mat-icon",12),e.EFF(2,"language"),e.k0s(),e.j41(3,"span",5),e.EFF(4),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG(2);e.Y8G("disabled",t.disabled)("ngClass",e.l_i(4,Yc,i.translationStateSignal().language===t.key,t.disabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,Nc,t.disabled)),e.R7$(3),e.JRh(t.key)}}function Bc(a,r){if(1&a&&(e.j41(0,"div")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-action-list"),e.Z7z(9,zc,5,9,"mat-list-item",10,e.fX1),e.k0s()()),2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,2,t.translationInfo().i18nRoot+".Subtitle")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"LangMenu.Dialog.PickLanguageIntro")," "),e.R7$(3),e.Dyx(t.languagesSig())}}let jc=(()=>{class a extends Qs{constructor(t,i,n){super(i),this.dialog=t,this.dialogData=i,this.fieldsTranslateService=n,this.languagesSig=(0,e.EWP)(()=>{const s=this.languages(),o=this.language(),l=this.itemAttributes(),p=this.translationStateSignal();return Xs(this.dialogData.config,o,s,l,p.linkType)}),this.dialog.keydownEvents().subscribe(s=>{(0,Si.J)(s)&&s.preventDefault()})}setLinkType(t){const i={linkType:t,language:this.noLanguageRequired.includes(t)?"":this.translationStateSignal().language};this.translationStateSignal.set(i)}setLanguage(t){const i={...this.translationStateSignal(),language:t};this.translationStateSignal.set(i)}run(){const t=this.translationStateSignal(),i=this.dialogData.translationState;if(i.linkType===t.linkType&&i.language===t.language)return this.closeDialog();switch(t.linkType){case gt.J.Translate:this.fieldsTranslateService.unlock(this.dialogData.config.fieldName);break;case gt.J.DontTranslate:this.fieldsTranslateService.lock(this.dialogData.config.fieldName);break;case gt.J.LinkReadOnly:this.fieldsTranslateService.linkReadOnly(this.dialogData.config.fieldName,t.language);break;case gt.J.LinkReadWrite:this.fieldsTranslateService.linkReadWrite(this.dialogData.config.fieldName,t.language);break;case gt.J.LinkCopyFrom:this.fieldsTranslateService.copyFrom(this.dialogData.config.fieldName,t.language)}this.closeDialog()}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.CP),e.rXU(Te.Vh),e.rXU(pi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-menu-dialog"]],features:[e.Vt3],decls:59,vars:86,consts:[[1,"translate-menu-dialog-card","u-hide-scrollbar"],[1,"eav-card-content__no-padding"],["toggle","","focus",""],[3,"click","ngClass"],["matListItemIcon","","color","accent"],["matListItemTitle",""],["matListItemLine",""],["lines","3",3,"click","ngClass"],["align","end"],["mat-button","","color","accent",3,"click","disabled"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-card-content",1)(9,"mat-nav-list",2)(10,"mat-list-item",3),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.DontTranslate)}),e.j41(11,"mat-icon",4),e.EFF(12,"lock"),e.k0s(),e.j41(13,"span",5),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"span",6),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.Translate)}),e.j41(20,"mat-icon",4),e.EFF(21,"lock_open"),e.k0s(),e.j41(22,"span",5),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkCopyFrom)}),e.j41(29,"mat-icon",4),e.EFF(30,"translate"),e.k0s(),e.j41(31,"span",5),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s()(),e.j41(37,"mat-list-item",3),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkReadOnly)}),e.j41(38,"mat-icon",4),e.EFF(39,"link"),e.k0s(),e.j41(40,"span",5),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"span",6),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkReadWrite)}),e.j41(47,"mat-icon",4),e.EFF(48,"share"),e.k0s(),e.j41(49,"span",5),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"span"),e.EFF(53),e.nI1(54,"translate"),e.k0s()()(),e.DNE(55,Bc,11,6,"div"),e.k0s(),e.j41(56,"mat-card-actions",8)(57,"button",9),e.bIt("click",function(){return n.run()}),e.EFF(58,"OK"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.i5U(4,19,"LangMenu.Dialog.Title",e.eq3(54,Vc,n.dialogData.config.fieldName))," "),e.R7$(3),e.SpI(" ",e.bMT(7,22,"LangMenu.Dialog.Intro")," "),e.R7$(4),e.Y8G("ngClass",e.eq3(56,Ii,n.translationStateSignal().linkType===n.TranslationLinks.DontTranslate)),e.R7$(4),e.JRh(e.i5U(15,24,"LangMenu.Dialog."+n.I18nKeys.NoTranslate+".Title",e.eq3(58,Bt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(18,27,"LangMenu.Dialog."+n.I18nKeys.NoTranslate+".Body",e.eq3(60,Bt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(62,Ii,n.translationStateSignal().linkType===n.TranslationLinks.Translate)),e.R7$(4),e.JRh(e.i5U(24,30,"LangMenu.Dialog."+n.I18nKeys.FromPrimary+".Title",e.eq3(64,Bt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(27,33,"LangMenu.Dialog."+n.I18nKeys.FromPrimary+".Body",e.eq3(66,Bt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(68,Ii,n.translationStateSignal().linkType===n.TranslationLinks.LinkCopyFrom)),e.R7$(4),e.JRh(e.i5U(33,36,"LangMenu.Dialog."+n.I18nKeys.FromOther+".Title",e.eq3(70,Bt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(36,39,"LangMenu.Dialog."+n.I18nKeys.FromOther+".Body",e.eq3(72,Bt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(74,Ii,n.translationStateSignal().linkType===n.TranslationLinks.LinkReadOnly)),e.R7$(4),e.JRh(e.i5U(42,42,"LangMenu.Dialog."+n.I18nKeys.LinkReadOnly+".Title",e.eq3(76,Bt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(45,45,"LangMenu.Dialog."+n.I18nKeys.LinkReadOnly+".Body",e.eq3(78,Bt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(80,Ii,n.translationStateSignal().linkType===n.TranslationLinks.LinkReadWrite)),e.R7$(4),e.JRh(e.i5U(51,48,"LangMenu.Dialog."+n.I18nKeys.LinkShared+".Title",e.eq3(82,Bt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(54,51,"LangMenu.Dialog."+n.I18nKeys.LinkShared+".Body",e.eq3(84,Bt,n.language().primary))),e.R7$(2),e.vxM(n.translationInfo().showLanguageSelection?55:-1),e.R7$(2),e.Y8G("disabled",n.translationInfo().submitDisabled))},dependencies:[Re.Hu,Re.RN,Re.YY,Re.m2,Re.MM,Re.Lc,Re.dh,qi,$s,Ws,Zi,Ji,ra,xi,re.YU,Ce.m_,Ce.An,Ye.Hl,Ye.$z,x.h,x.D9],styles:[".translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}}return a})();var Hc=c(6177);const Gc=a=>({"eav-shared-languages--disabled":a}),$c=a=>({languages:a}),Uc=a=>({hidden:a}),en=a=>({"eav-menu-item-selected":a});function Wc(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.translate())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openAutoTranslateMenuDialog(n.translationState()))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"app-feature-icon-indicator",9),e.k0s(),e.j41(7,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.dontTranslate())}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openTranslateMenuDialog(n.translationState()))}),e.EFF(11),e.nI1(12,"translate"),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(17,en,t.translationState().linkType===t.TranslationLinks.Translate)),e.R7$(),e.SpI(" ",e.bMT(2,9,"LangMenu.Translate")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,en,t.translationState().linkType===t.TranslationLinks.Translate)),e.R7$(),e.SpI(" ",e.bMT(5,11,"LangMenu.AutoTranslate")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(),e.Y8G("ngClass",e.eq3(21,en,t.translationState().linkType===t.TranslationLinks.DontTranslate)),e.R7$(),e.SpI(" ",e.bMT(9,13,"LangMenu.NoTranslate")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(23,en,""!==t.translationState().language)),e.R7$(),e.SpI(" ",e.bMT(12,15,"LangMenu.Link")," ")}}function Xc(a,r){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",4)(6,"button",5)(7,"mat-icon",6),e.EFF(8,"translate"),e.k0s()()()(),e.j41(9,"mat-menu",null,0),e.DNE(11,Wc,13,25,"ng-template",7),e.k0s()()),2&a){const t=e.sdS(10),i=e.XpG();e.R7$(),e.Y8G("ngClass",i.translationStateClass()),e.R7$(),e.Y8G("ngClass",e.eq3(10,Gc,i.disabled())),e.R7$(),e.SpI(" ",i.translationState().infoLabel?e.i5U(4,7,i.translationState().infoLabel,e.eq3(12,$c,i.translationState().infoMessage)):""," "),e.R7$(2),e.Y8G("tippyDisabled",!i.disableTranslateButtonSignal()),e.R7$(),e.Y8G("matMenuTriggerFor",t)("disabled",i.disableTranslateButtonSignal())("ngClass",e.eq3(14,Uc,i.hideTranslateButton()))}}let Js=(()=>{class a{#e;#t;constructor(t,i,n,s){this.matDialog=t,this.viewContainerRef=i,this.formConfig=n,this.fieldsTranslate=s,this.hideTranslateButton=(0,e.hFB)(),this.#e=(0,e.WQX)(je.W),this.#t=(0,e.WQX)(pt),this.TranslationLinks=gt.J,this.translationState=this.#e.translationState,this.language=this.formConfig.language,this.disabled=(0,te.bo)("disabled",()=>this.#e.ui().disabled),this.translationStateClass=(0,te.bo)("translationStateClass",()=>Hc.x.getTranslationStateClass(this.translationState().linkType)),this.disableTranslateButtonSignal=(0,te.bo)("disableTranslateButtonSignal",()=>this.#t.readOnly().isReadOnly||this.#e.settings().DisableTranslation)}translate(){this.fieldsTranslate.unlock(this.#e.name)}dontTranslate(){this.fieldsTranslate.lock(this.#e.name)}openTranslateMenuDialog(t){this.#i(t,jc)}openAutoTranslateMenuDialog(t){this.#e.settings().DisableAutoTranslation?this.matDialog.open(zs,{autoFocus:!1,data:{isAutoTranslateAll:!1},viewContainerRef:this.viewContainerRef,width:"350px"}):this.#i(t,Ks)}#i(t,i){const n={config:this.#e.config,translationState:{language:t.language,linkType:t.linkType}};this.matDialog.open(i,{autoFocus:!1,data:n,viewContainerRef:this.viewContainerRef,width:"400px"})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(h.S),e.rXU(pi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-menu"]],inputs:{hideTranslateButton:[1,"hideTranslateButton"]},decls:1,vars:1,consts:[["menu","matMenu"],[1,"my-flex-main"],[1,"my-flex-inside","eav-shared-languages-container",3,"ngClass"],[1,"eav-shared-languages","mat-caption",3,"ngClass"],["tippyTranslate","LangMenu.NotTranslatable","tippyPlacement","top",3,"tippyDisabled"],["mat-icon-button","",1,"eav-translate-icon-button",3,"matMenuTriggerFor","disabled","ngClass"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click","ngClass"],[3,"featureNameId"]],template:function(i,n){1&i&&e.DNE(0,Xc,12,16,"div",1),2&i&&e.vxM(n.language().current!==n.language().primary?0:-1)},dependencies:[re.YU,Ye.Hl,Ye.iY,at.Cn,at.kk,at.fb,at.z8,at.Cp,Ce.m_,Ce.An,Ns,x.h,x.D9,ot.e],styles:[".eav-menu-item-selected[_ngcontent-%COMP%]{background:#0000000a}.localization-lock-open[_ngcontent-%COMP%]{color:green}.localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.localization-translate[_ngcontent-%COMP%]{color:green}.localization-link-read-only[_ngcontent-%COMP%], .localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.eav-shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-12px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:#1d273d70;font-size:12px}.eav-shared-languages--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.eav-translate-icon-button[_ngcontent-%COMP%]{scale:.8;position:relative;top:-8px}.eav-translate-icon-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.my-flex-main[_ngcontent-%COMP%]{display:flex;place-content:center end}.my-flex-inside[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})();const Qc=["fieldComponent"],Kc=a=>({"language-wrap__field-short":a}),Jc=a=>({"language-wrap__translate--hidden":a});let Zc=(()=>{class a{#e;#t;constructor(t,i){this.editRoutingService=t,this.formsStateService=i,this.#e=(0,e.WQX)(h.S),this.#t=(0,e.WQX)(je.W),this.language=this.#e.language,this.hideTranslateButton=!0}translate(){if(this.formsStateService.readOnly().isReadOnly)return;const t=this.#e.language();if(t.current===t.primary||!this.#t.ui().disabled)return;const i=this.#t.config;this.editRoutingService.isExpanded(i.index,i.entityGuid)||this.translateMenu.translate()}toggleTranslateButtonVisibility(t){this.hideTranslateButton=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ct),e.rXU(pt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-localization-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Qc,7,e.c1b),e.GBs(Js,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.translateMenu=s.first)}},decls:5,vars:7,consts:[["fieldComponent",""],[1,"language-wrap",3,"mouseenter","mouseleave"],[1,"language-wrap__field",3,"dblclick","ngClass"],[1,"language-wrap__translate",3,"hideTranslateButton","ngClass"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",1),e.bIt("mouseenter",function(){return e.eBV(s),e.Njj(n.toggleTranslateButtonVisibility(!1))})("mouseleave",function(){return e.eBV(s),e.Njj(n.toggleTranslateButtonVisibility(!0))}),e.j41(1,"div",2),e.bIt("dblclick",function(){return e.eBV(s),e.Njj(n.translate())}),e.eu8(2,null,0),e.k0s(),e.nrm(4,"app-translate-menu",3),e.k0s()}if(2&i){let s,o;e.R7$(),e.Y8G("ngClass",e.eq3(3,Kc,(null==(s=n.language())?null:s.current)!==(null==(s=n.language())?null:s.primary))),e.R7$(3),e.Y8G("hideTranslateButton",n.hideTranslateButton)("ngClass",e.eq3(5,Jc,(null==(o=n.language())?null:o.current)===(null==(o=n.language())?null:o.primary)))}},dependencies:[re.YU,Js],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"]})}}return a})();var qe=c(4398);c(2256);const Zs="FieldMetadata";function wt(a){return r=>{Reflect.defineMetadata(Zs,a,r)}}var Oe=c(4950);let la=(()=>{class a{#e="_blank";#t;#i;constructor(t,i){this.zone=i,this.#t=t.nativeElement}ngOnInit(){this.zone.runOutsideAngular(()=>{this.#n(),this.#i=new MutationObserver(t=>{this.#n()}),this.#i.observe(this.#t,{attributes:!0,childList:!0,subtree:!0})})}ngOnDestroy(){this.zone.runOutsideAngular(()=>this.#i.disconnect())}#n(){if("a"===this.#t.nodeName.toLocaleLowerCase()){const i=this.#t;i.target!==this.#e&&(i.target=this.#e)}const t=this.#t.getElementsByTagName("a");for(const i of Array.from(t))i.target!==this.#e&&(i.target=this.#e)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appChangeAnchorTarget",""]]})}}return a})();const qc=(a,r,t)=>({"my-last-field":a,"my-hyperlink-wrapper-fix":r,"small-gap":t}),ed=a=>({disabled:a});function td(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-hint",4),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleHint(n))}),e.nrm(1,"div",5),e.nI1(2,"safeHtml"),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,ed,t.disabled())),e.R7$(),e.Y8G("ngClass",t.showExpand?"expandable":"")("innerHtml",e.bMT(2,3,t.notes()),e.npT)}}function id(a,r){if(1&a&&(e.j41(0,"mat-error",2),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,r,t.settings()))}}function nd(a,r){1&a&&(e.j41(0,"mat-error",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,r)))}function ad(a,r){if(1&a&&(e.j41(0,"div",0),e.DNE(1,td,3,7,"mat-hint",1)(2,id,3,4,"mat-error",2)(3,nd,3,3,"mat-error",3),e.k0s()),2&a){let t,i;const n=e.XpG();e.Y8G("ngClass",e.sMw(4,qc,n.fieldState.config.isLastInGroup,n.hyperlinkDefaultWrapperFix&&!n.fieldState.config.isLastInGroup,n.smallGap())),e.R7$(),e.vxM(n.notes()?1:-1),e.R7$(),e.vxM((t=n.showErrors()&&n.errorMessage())?2:-1,t),e.R7$(),e.vxM((i=!n.disableError()&&n.warningMessage())?3:-1,i)}}let kt=(()=>{class a{constructor(){this.disableError=(0,e.hFB)(!1),this.hyperlinkDefaultWrapperFix=(0,e.hFB)(!1),this.flatIfEmpty=(0,e.hFB)(!1),this.smallGap=(0,e.hFB)(!1),this.fieldState=(0,e.WQX)(je.W),this.settings=this.fieldState.settings,this.#e=(0,te.bo)("invalid",()=>this.fieldState.ui().invalid),this.disabled=(0,te.bo)("disabled",()=>this.fieldState.ui().disabled),this.showErrors=(0,te.bo)("showErrors",()=>this.#e()&&!this.disableError()),this.notes=(0,te.bo)("notes",()=>(this.settings().Notes??"").replace(/<p>/g,`<p _ngcontent-ng-${this.componentId}>`)),this.isEmpty=(0,te.bo)("isEmpty",()=>!this.notes()&&!this.showErrors()),this.errorMessage=(0,te.bo)("errorMessage",()=>(this.fieldState.uiValue(),this.fieldState.ui().getErrors())),this.warningMessage=(0,te.bo)("warningMessage",()=>this.fieldState.ui().getWarnings()),this.show=(0,te.bo)("show",()=>!this.isEmpty()||this.warningMessage()||!this.flatIfEmpty()),this.showExpand=!0,this.componentId=this.constructor.\u0275cmp.id}#e;toggleHint(t){let i=t.target;if("a"!==i.nodeName.toLocaleLowerCase()){for(;i&&i.classList&&!i.classList.contains("id-notes-container");)if(i=i.parentNode,!i||"a"===i.nodeName.toLocaleLowerCase())return;this.showExpand=!this.showExpand}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-field-helper-text"]],inputs:{disableError:[1,"disableError"],hyperlinkDefaultWrapperFix:[1,"hyperlinkDefaultWrapperFix"],flatIfEmpty:[1,"flatIfEmpty"],smallGap:[1,"smallGap"]},decls:1,vars:1,consts:[[1,"my-main",3,"ngClass"],[1,"my-notes",3,"ngClass"],[1,""],[1,"warning"],[1,"my-notes",3,"click","ngClass"],["appChangeAnchorTarget","",1,"id-notes-container",3,"ngClass","innerHtml"]],template:function(i,n){1&i&&e.DNE(0,ad,4,8,"div",0),2&i&&e.vxM(n.show()?0:-1)},dependencies:[re.YU,Oe.RG,Oe.MV,Oe.TL,la,x.h,x.D9,mi.$],styles:[".my-main[_ngcontent-%COMP%]{padding:.5em 0 13px;font-size:12px}.my-main.small-gap[_ngcontent-%COMP%]{padding-bottom:0}.my-main.my-hyperlink-wrapper-fix[_ngcontent-%COMP%]{min-height:22px}.my-main.my-last-field[_ngcontent-%COMP%]{padding:.5em 0 5px}.my-main.input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.mat-mdc-form-field-error.warning[_ngcontent-%COMP%]{color:#ffc107}.my-notes[_ngcontent-%COMP%]{color:#1d273d80;display:flex}.my-notes.disabled[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d273d40}.my-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin:0}.my-notes[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.my-notes[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;display:block;margin:0;padding:0}"]})}}return a})(),qs=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(je.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.changedLabel=this.fieldState.settingExt("_label")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-boolean-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();var Ve=c(2490);class tn extends Ve.S{constructor(){super({BooleanDefaultLogic:tn}),this.name=be.u.BooleanDefault}update({settings:r,value:t}){const i={...r};return i.ReverseToggle??=!1,i._label=this.#e(t,i),i}#e(r,t){return!0===r&&t.TitleTrue?t.TitleTrue:!1===r&&t.TitleFalse?t.TitleFalse:t.Name}}Ve.S.add(tn);let ca=class bs extends qs{constructor(){super(),this.checkedState=(0,te.bo)("checkedState",()=>{const r=this.uiValue();return this.settings().ReverseToggle?!r:r}),tn.importMe()}updateValue(){this.ui().disabled||this.fieldState.ui().setIfChanged(!this.uiValue())}static{this.\u0275fac=function(t){return new(t||bs)}}static{this.\u0275cmp=e.VBU({type:bs,selectors:[["boolean-default"]],features:[e.Vt3],decls:6,vars:7,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(t,i){if(1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return i.updateValue()}),e.nrm(2,"mat-slide-toggle",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text",4),e.k0s()),2&t){let n;e.Y8G("formGroup",i.group),e.R7$(2),e.Y8G("checked",i.checkedState())("disabled",i.ui().disabled)("ngClass",i.uiValue()?"":"changeable-label-mat-slide-toggle"),e.R7$(),e.Y8G("ngClass",i.uiValue()?"":"eav-toggle-label"),e.R7$(),e.SpI(" ",null!==(n=i.changedLabel())&&void 0!==n?n:i.basics().label," "),e.R7$(),e.Y8G("disableError",!0)}},dependencies:[ge.YN,ge.cb,ge.X1,ge.j4,hi.mV,hi.sG,re.YU,kt],styles:["[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9!important}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})}};ca=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],ca);class nn extends Ve.S{constructor(){super({BooleanTristateLogic:nn}),this.name=be.u.BooleanTristate}update({settings:r,value:t}){const i={...r};return i.ReverseToggle??=!1,i._label=this.#e(t,i),i}#e(r,t){return!0===r&&t.TitleTrue?t.TitleTrue:!1===r&&t.TitleFalse?t.TitleFalse:!r&&t.TitleIndeterminate?t.TitleIndeterminate:t.Name}}Ve.S.add(nn);const sd=(a,r,t,i)=>({"toggle-false":a,"toggle-true":r,"toggle-null":t,"changeable-label-tristate-mat-slide-toggle":i});let da=class ys extends qs{constructor(){super(),this.fs=this.fieldState,this.checkedState=(0,te.bo)("checkedState",()=>{const r=this.fs.uiValue();return this.settings().ReverseToggle?!0!==r&&(!1===r||r):""===r?null:r}),this.bestLabel=(0,te.bo)("bestLabel",()=>{const r=this.checkedState(),t=this.settings();return!0===r&&t.TitleTrue?t.TitleTrue:!1===r&&t.TitleFalse?t.TitleFalse:null===r&&t.TitleIndeterminate?t.TitleIndeterminate:t.Name}),nn.importMe()}updateValue(r){r||this.fieldState.ui().setIfChanged(this.#e())}#e(){const r=this.fs.uiValue(),t=this.settings().ReverseToggle;switch(r){case!1:return!!t||null;case!0:return!!t&&null;case"":case null:return!t}}static{this.\u0275fac=function(t){return new(t||ys)}}static{this.\u0275cmp=e.VBU({type:ys,selectors:[["boolean-tristate"]],features:[e.Vt3],decls:6,vars:12,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(t,i){if(1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return i.updateValue(i.ui().disabled)}),e.nrm(2,"mat-slide-toggle",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text",4),e.k0s()),2&t){let n;e.Y8G("formGroup",i.group),e.R7$(2),e.Y8G("checked",i.checkedState())("disabled",i.ui().disabled)("ngClass",e.ziG(7,sd,!1===i.checkedState(),!0===i.checkedState(),null===i.checkedState(),i.changedLabel()!==i.basics().label)),e.R7$(),e.Y8G("ngClass",i.checkedState()?"":"eav-toggle-label"),e.R7$(),e.SpI(" ",null!==(n=i.changedLabel())&&void 0!==n?n:i.basics().label," "),e.R7$(),e.Y8G("disableError",!0)}},dependencies:[ge.YN,ge.cb,ge.X1,ge.j4,hi.mV,hi.sG,re.YU,kt],styles:["[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9!important}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-image:linear-gradient(to right,#7fc3f9,#bfe1fc)!important}[_nghost-%COMP%]     .toggle-null .mdc-switch__handle{margin-left:8px!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})}};da=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],da);let an=class Cs{constructor(){this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config}static{this.\u0275fac=function(t){return new(t||Cs)}}static{this.\u0275cmp=e.VBU({type:Cs,selectors:[["custom-default"]],decls:2,vars:1,consts:[[1,"message"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.EFF(1),e.k0s()),2&t&&(e.R7$(),e.SpI("",i.config.fieldName,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"]})}};an=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],an);var rd=c(7836);class Ei extends Ve.S{constructor(){super({CustomJsonEditorLogic:Ei}),this.name=be.u.CustomJsonEditor}update({settings:r}){const t={...r};return t.Rows||=5,t.JsonValidation||="strict",t.JsonSchemaMode||="none",t.JsonSchemaSource||="link",t.JsonSchemaUrl??="",t.JsonSchemaRaw??="",t.JsonCommentsAllowed??=!1,t}}Ve.S.add(Ei);class er extends Ei{constructor(){super(...arguments),this.name=be.u.StringJson}}Ve.S.add(er);const od=(a,r,t)=>({disabled:a,focused:r,error:t}),ld=a=>({height:a});function cd(a,r){if(1&a&&e.nrm(0,"input",3),2&a){const t=e.XpG();e.Y8G("placeholder",t.basics().placeholder)}}let sn=class ws{#e;#t;#i;#n;constructor(r){this.formConfig=r,this.#e=(0,e.WQX)(je.W),this.#t=this.#e.config,this.ui=this.#e.ui,this.uiValue=this.#e.uiValue,this.basics=this.#e.basics,this.#i=this.#e.settings,this.#n=this.#e.settingExt("Rows"),this.focused=(0,e.EWP)(()=>this.#t.focused$),this.editorHeight=(0,e.EWP)(()=>this.#n()*this.monacoOptions.lineHeight+"px"),this.jsonSchema=(0,e.EWP)(()=>{const t=this.#i();return"none"===t.JsonSchemaMode?void 0:{type:t.JsonSchemaSource,value:"link"===t.JsonSchemaSource?t.JsonSchemaUrl:t.JsonSchemaRaw}}),this.jsonComments=(0,e.EWP)(()=>this.#i().JsonCommentsAllowed?"ignore":"error"),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},Ei.importMe(),er.importMe()}ngOnInit(){this.filename=`${this.#t.fieldName} ${this.#t.entityGuid} ${this.formConfig.config.formId}.json`}codeChanged(r){this.ui().setIfChanged(r)}onFocused(){this.#t.focused$.next(!0)}onBlurred(){this.ui().markTouched(),this.#t.focused$.next(!1)}static{this.\u0275fac=function(t){return new(t||ws)(e.rXU(h.S))}}static{this.\u0275cmp=e.VBU({type:ws,selectors:[["custom-json-editor"]],decls:6,vars:16,consts:[[1,"json-field",3,"ngClass"],[1,"label"],[1,"editor",3,"valueChanged","focused","blurred","filename","ngStyle","value","options","jsonSchema","jsonComments"],[1,"placeholder","eav-translate-on-dblclick",3,"placeholder"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.j41(3,"app-monaco-editor",2),e.bIt("valueChanged",function(s){return i.codeChanged(s)})("focused",function(){return i.onFocused()})("blurred",function(){return i.onBlurred()}),e.k0s(),e.DNE(4,cd,1,1,"input",3),e.k0s(),e.nrm(5,"app-field-helper-text")),2&t&&(e.Y8G("ngClass",e.sMw(10,od,i.ui().disabled,i.focused().value,i.ui().touchedAndInvalid)),e.R7$(2),e.Lme("",i.basics().label," ",i.basics().required?"*":"",""),e.R7$(),e.Y8G("filename",i.filename)("ngStyle",e.eq3(14,ld,i.editorHeight()))("value",i.uiValue())("options",i.monacoOptions)("jsonSchema",i.jsonSchema())("jsonComments",i.jsonComments()),e.R7$(),e.vxM(!i.uiValue()&&i.basics().placeholder?4:-1))},dependencies:[re.YU,Oe.RG,Oe.nJ,rd.K,re.B3,kt],styles:[".json-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.json-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.json-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;top:28px;left:64px;border:none;background:transparent;outline:none;width:calc(100% - 112px);font-family:inherit;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.json-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.json-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.json-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.json-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.json-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})}};sn=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[h.S])],sn);var mt=c(8004),Mt=c(9168),ci=c(3680),me=c(7172),ht=c(7984);const dd=["mat-calendar-body",""];function ud(a,r){return this._trackRow(r)}const tr=(a,r)=>r.id;function pd(a,r){if(1&a&&(e.j41(0,"tr",0)(1,"td",3),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t.numCols),e.R7$(),e.SpI(" ",t.label," ")}}function hd(a,r){if(1&a&&(e.j41(0,"td",3),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t._firstRowOffset),e.R7$(),e.SpI(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function md(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",6)(1,"button",7),e.bIt("click",function(n){const s=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o._cellClicked(s,n))})("focus",function(n){const s=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o._emitActiveDateChange(s,n))}),e.j41(2,"span",8),e.EFF(3),e.k0s(),e.nrm(4,"span",9),e.k0s()()}if(2&a){const t=r.$implicit,i=r.$index,n=e.XpG().$index,s=e.XpG();e.xc7("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),e.BMQ("data-mat-row",n)("data-mat-col",i),e.R7$(),e.AVh("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(n,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,n,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),e.Y8G("ngClass",t.cssClasses)("tabindex",s._isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null)("aria-describedby",s._getDescribedby(t.compareValue)),e.R7$(),e.AVh("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),e.R7$(),e.SpI(" ",t.displayValue," ")}}function fd(a,r){if(1&a&&(e.j41(0,"tr",1),e.DNE(1,hd,2,6,"td",4),e.Z7z(2,md,5,48,"td",5,tr),e.k0s()),2&a){const t=r.$implicit,i=r.$index,n=e.XpG();e.R7$(),e.vxM(0===i&&n._firstRowOffset?1:-1),e.R7$(),e.Dyx(t)}}function gd(a,r){if(1&a&&(e.j41(0,"th",2)(1,"span",6),e.EFF(2),e.k0s(),e.j41(3,"span",3),e.EFF(4),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.long),e.R7$(2),e.JRh(t.narrow)}}const _d=["*"];function vd(a,r){}function bd(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-month-view",4),e.mxI("activeDateChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.activeDate,n)||(s.activeDate=n),e.Njj(n)}),e.bIt("_userSelection",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._dateSelected(n))})("dragStarted",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._dragStarted(n))})("dragEnded",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._dragEnded(n))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function yd(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-year-view",5),e.mxI("activeDateChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.activeDate,n)||(s.activeDate=n),e.Njj(n)}),e.bIt("monthSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._monthSelectedInYearView(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._goToDateInView(n,"month"))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Cd(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-multi-year-view",6),e.mxI("activeDateChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.activeDate,n)||(s.activeDate=n),e.Njj(n)}),e.bIt("yearSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._yearSelectedInMultiYearView(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._goToDateInView(n,"year"))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function wd(a,r){}const kd=["button"],Md=[[["","matDatepickerToggleIcon",""]]],Dd=["[matDatepickerToggleIcon]"];function Td(a,r){1&a&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"path",3),e.k0s())}let _i=(()=>{class a{changes=new Ze.B;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}static \u0275fac=function(i){return new(i||a)};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),xd=0;class ua{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=xd++;constructor(r,t,i,n,s={},o=r,l){this.value=r,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.cssClasses=s,this.compareValue=o,this.rawValue=l}}const ir=(0,ii.BQ)({passive:!1,capture:!0}),si=(0,ii.BQ)({passive:!0,capture:!0}),rn=(0,ii.BQ)({passive:!0});let vi=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_ngZone=(0,e.WQX)(e.SKi);_platform=(0,e.WQX)(ii.OD);_intl=(0,e.WQX)(_i);_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new e.bkB;previewChange=new e.bkB;activeDateChange=new e.bkB;dragStarted=new e.bkB;dragEnded=new e.bkB;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=(0,e.WQX)(e.zZn);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=t=>t;constructor(){const t=(0,e.WQX)(bt.g7);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),(0,e.WQX)(ni.l).load(ce.Ah),this._ngZone.runOutsideAngular(()=>{const i=this._elementRef.nativeElement;i.addEventListener("touchmove",this._touchmoveHandler,ir),i.addEventListener("mouseenter",this._enterHandler,si),i.addEventListener("focus",this._enterHandler,si),i.addEventListener("mouseleave",this._leaveHandler,si),i.addEventListener("blur",this._leaveHandler,si),i.addEventListener("mousedown",this._mousedownHandler,rn),i.addEventListener("touchstart",this._mousedownHandler,rn),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:n,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=n&&n.length&&n[0].length?s-n[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,ir),t.removeEventListener("mouseenter",this._enterHandler,si),t.removeEventListener("focus",this._enterHandler,si),t.removeEventListener("mouseleave",this._leaveHandler,si),t.removeEventListener("blur",this._leaveHandler,si),t.removeEventListener("mousedown",this._mousedownHandler,rn),t.removeEventListener("touchstart",this._mousedownHandler,rn),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let n=t*this.numCols+i;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){(0,e.mal)(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return ma(t,this.startValue,this.endValue)}_isRangeEnd(t){return fa(t,this.startValue,this.endValue)}_isInRange(t){return ga(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return ma(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][n-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][n+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return fa(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return ga(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return ma(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return fa(t,this.previewStart,this.previewEnd)}_isInPreview(t){return ga(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){if(!this.isRange)return null;if(this.startValue===t&&this.endValue===t)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===t)return this._startDateLabelId;if(this.endValue===t)return this._endDateLabelId;if(null!==this.comparisonStart&&null!==this.comparisonEnd){if(t===this.comparisonStart&&t===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(t===this.comparisonStart)return this._comparisonStartDateLabelId;if(t===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=t=>{if(this._skipNextFocus&&"focus"===t.type)this._skipNextFocus=!1;else if(t.target&&this.isRange){const i=this._getCellFromElement(t.target);i&&this._ngZone.run(()=>this.previewChange.emit({value:i.enabled?i:null,event:t}))}};_touchmoveHandler=t=>{if(!this.isRange)return;const i=nr(t),n=i?this._getCellFromElement(i):null;i!==t.target&&(this._didDragSinceMouseDown=!0),ha(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:n?.enabled?n:null,event:t}))};_leaveHandler=t=>{null!==this.previewEnd&&this.isRange&&("blur"!==t.type&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&(!t.relatedTarget||!this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})))};_mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const i=t.target&&this._getCellFromElement(t.target);!i||!this._isInRange(i.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:i.rawValue,event:t})})};_mouseupHandler=t=>{if(!this.isRange)return;const i=ha(t.target);i?i.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const n=this._getCellFromElement(i);this.dragEnded.emit({value:n?.rawValue??null,event:t})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t})})};_touchendHandler=t=>{const i=nr(t);i&&this._mouseupHandler({target:i})};_getCellFromElement(t){const i=ha(t);if(i){const n=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(n&&s)return this.rows[parseInt(n)][parseInt(s)]}return null}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[e.OA$],attrs:dd,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,n){1&i&&(e.DNE(0,pd,3,6,"tr",0),e.Z7z(1,fd,4,1,"tr",1,ud,!0),e.j41(3,"span",2),e.EFF(4),e.k0s(),e.j41(5,"span",2),e.EFF(6),e.k0s(),e.j41(7,"span",2),e.EFF(8),e.k0s(),e.j41(9,"span",2),e.EFF(10),e.k0s()),2&i&&(e.vxM(n._firstRowOffset<n.labelMinRequiredCells?0:-1),e.R7$(),e.Dyx(n.rows),e.R7$(2),e.Y8G("id",n._startDateLabelId),e.R7$(),e.SpI(" ",n.startDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._endDateLabelId),e.R7$(),e.SpI(" ",n.endDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._comparisonStartDateLabelId),e.R7$(),e.Lme(" ",n.comparisonDateAccessibleName," ",n.startDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._comparisonEndDateLabelId),e.R7$(),e.Lme(" ",n.comparisonDateAccessibleName," ",n.endDateAccessibleName,"\n"))},dependencies:[re.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return a})();function pa(a){return"TD"===a?.nodeName}function ha(a){let r;return pa(a)?r=a:pa(a.parentNode)?r=a.parentNode:pa(a.parentNode?.parentNode)&&(r=a.parentNode.parentNode),null!=r?.getAttribute("data-mat-row")?r:null}function ma(a,r,t){return null!==t&&r!==t&&a<t&&a===r}function fa(a,r,t){return null!==r&&r!==t&&a>=r&&a===t}function ga(a,r,t,i){return i&&null!==r&&null!==t&&r!==t&&a>=r&&a<=t}function nr(a){const r=a.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}class yt{start;end;_disableStructuralEquivalency;constructor(r,t){this.start=r,this.end=t}}let ri=(()=>{class a{selection;_adapter;_selectionChanged=new Ze.B;selectionChanged=this._selectionChanged;constructor(t,i){this.selection=t,this._adapter=i,this.selection=t}updateSelection(t,i){const n=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static \u0275fac=function(i){e.QTQ()};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Sd=(()=>{class a extends ri{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new a(this._adapter);return t.updateSelection(this.selection,this),t}static \u0275fac=function(i){return new(i||a)(e.KVO(ce.MJ))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const ar={provide:ri,deps:[[new e.Xx1,new e.kdw,ri],ce.MJ],useFactory:function Ed(a,r){return a||new Sd(r)}},on=new e.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let Pd=0,sr=(()=>{class a{_changeDetectorRef=(0,e.WQX)(e.gRc);_dateFormats=(0,e.WQX)(ce.de,{optional:!0});_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dir=(0,e.WQX)(ci.dS,{optional:!0});_rangeStrategy=(0,e.WQX)(on,{optional:!0});_rerenderSubscription=st.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof yt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new e.bkB;_userSelection=new e.bkB;dragStarted=new e.bkB;dragEnded=new e.bkB;activeDateChange=new e.bkB;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){(0,e.WQX)(ni.l).load(ni.Y),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Qe.Z)(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,n=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof yt?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case de.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case de.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case de.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case de.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case de.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case de.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case de.w_:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case de.dB:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case de.Fm:case de.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case de._f:return void(null!=this._previewEnd&&!(0,de.rp)(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===de.t6||t.keyCode===de.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const n=i?i.rawValue:null,s=this._rangeStrategy.createPreview(n,this.selected,t);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&n){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,t);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,l)=>({long:o,narrow:i[l],id:Pd++}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,s=this._firstWeekOffset;n<t;n++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),l=this._shouldEnableDate(o),p=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),M=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new ua(n+1,i[n],p,l,M,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,n,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof yt?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(vi,5),2&i){let s;e.mGM(s=e.lsd())&&(n._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.OA$],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.Z7z(3,gd,5,2,"th",2,tr),e.k0s(),e.j41(5,"tr",3),e.nrm(6,"th",4),e.k0s()(),e.j41(7,"tbody",5),e.bIt("selectedValueChange",function(o){return n._dateSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("previewChange",function(o){return n._previewChanged(o)})("dragStarted",function(o){return n.dragStarted.emit(o)})("dragEnded",function(o){return n._dragEnded(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(3),e.Dyx(n._weekdays),e.R7$(4),e.Y8G("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[vi],encapsulation:2,changeDetection:0})}return a})(),rr=(()=>{class a{_changeDetectorRef=(0,e.WQX)(e.gRc);_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dir=(0,e.WQX)(ci.dS,{optional:!0});_rerenderSubscription=st.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),or(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof yt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new e.bkB;yearSelected=new e.bkB;activeDateChange=new e.bkB;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Qe.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Ai(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,s=[];n<24;n++)s.push(i+n),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,n=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(n),this.selectedChange.emit(s)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case de.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case de.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case de.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case de.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case de.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ai(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case de.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Ai(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case de.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case de.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case de.Fm:case de.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===de.t6||t.keyCode===de.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ai(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new ua(t,n,n,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof yt){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(vi,5),2&i){let s;e.mGM(s=e.lsd())&&(n._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(o){return n._yearSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[vi],encapsulation:2,changeDetection:0})}return a})();function or(a,r,t,i,n){const s=a.getYear(r),o=a.getYear(t),l=lr(a,i,n);return Math.floor((s-l)/24)===Math.floor((o-l)/24)}function Ai(a,r,t,i){return function Rd(a,r){return(a%r+r)%r}(a.getYear(r)-lr(a,t,i),24)}function lr(a,r,t){let i=0;return t?i=a.getYear(t)-24+1:r&&(i=a.getYear(r)),i}let cr=(()=>{class a{_changeDetectorRef=(0,e.WQX)(e.gRc);_dateFormats=(0,e.WQX)(ce.de,{optional:!0});_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dir=(0,e.WQX)(ci.dS,{optional:!0});_rerenderSubscription=st.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof yt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new e.bkB;monthSelected=new e.bkB;activeDateChange=new e.bkB;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Qe.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(n);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case de.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case de.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case de.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case de.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case de.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case de.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case de.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case de.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case de.Fm:case de.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===de.t6||t.keyCode===de.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(n=>this._createCellForMonth(n,t[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),n=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(t,i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(n,"year"):void 0;return new ua(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof yt?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(vi,5),2&i){let s;e.mGM(s=e.lsd())&&(n._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(o){return n._monthSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[vi],encapsulation:2,changeDetection:0})}return a})(),dr=(()=>{class a{_intl=(0,e.WQX)(_i);calendar=(0,e.WQX)(ba);_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dateFormats=(0,e.WQX)(ce.de,{optional:!0});constructor(){(0,e.WQX)(ni.l).load(ni.Y);const t=(0,e.WQX)(e.gRc);this.calendar.stateChanges.subscribe(()=>t.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):or(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-Ai(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=i+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1))]}_periodButtonLabelId=(0,e.WQX)(bt.g7).getId("mat-calendar-period-label-");static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:_d,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return n.currentPeriodClicked()}),e.j41(5,"span",4),e.EFF(6),e.k0s(),e.qSk(),e.j41(7,"svg",5),e.nrm(8,"polygon",6),e.k0s()(),e.joV(),e.nrm(9,"div",7),e.SdG(10),e.j41(11,"button",8),e.bIt("click",function(){return n.previousClicked()}),e.qSk(),e.j41(12,"svg",9),e.nrm(13,"path",10),e.k0s()(),e.joV(),e.j41(14,"button",11),e.bIt("click",function(){return n.nextClicked()}),e.qSk(),e.j41(15,"svg",9),e.nrm(16,"path",12),e.k0s()()()()),2&i&&(e.R7$(2),e.Y8G("id",n._periodButtonLabelId),e.R7$(),e.JRh(n.periodButtonDescription),e.R7$(),e.BMQ("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),e.R7$(2),e.JRh(n.periodButtonText),e.R7$(),e.AVh("mat-calendar-invert","month"!==n.calendar.currentView),e.R7$(4),e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(3),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel))},dependencies:[Ye.$z,Ye.iY],encapsulation:2,changeDetection:0})}return a})(),ba=(()=>{class a{_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dateFormats=(0,e.WQX)(ce.de,{optional:!0});_changeDetectorRef=(0,e.WQX)(e.gRc);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get selected(){return this._selected}set selected(t){this._selected=t instanceof yt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new e.bkB;yearSelected=new e.bkB;monthSelected=new e.bkB;viewChanged=new e.bkB(!0);_userSelection=new e.bkB;_userDragDrop=new e.bkB;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}_currentView;_activeDrag=null;stateChanges=new Ze.B;constructor(){this._intlChanges=(0,e.WQX)(_i).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Mt.A8(this.headerComponent||dr),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,n=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,s=i||n||t.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof yt||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-calendar"]],viewQuery:function(i,n){if(1&i&&(e.GBs(sr,5),e.GBs(cr,5),e.GBs(rr,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.monthView=s.first),e.mGM(s=e.lsd())&&(n.yearView=s.first),e.mGM(s=e.lsd())&&(n.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[e.Jv_([ar]),e.OA$],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,n){if(1&i&&(e.DNE(0,vd,0,0,"ng-template",0),e.j41(1,"div",1),e.DNE(2,bd,1,11,"mat-month-view",2)(3,yd,1,6,"mat-year-view",3)(4,Cd,1,6,"mat-multi-year-view",3),e.k0s()),2&i){let s;e.Y8G("cdkPortalOutlet",n._calendarHeaderPortal),e.R7$(2),e.vxM("month"===(s=n.currentView)?2:"year"===s?3:"multi-year"===s?4:-1)}},dependencies:[Mt.I3,bt.vR,sr,cr,rr],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return a})();const ur={transformPanel:(0,me.hZ)("transformPanel",[(0,me.kY)("void => enter-dropdown",(0,me.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,me.i7)([(0,me.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,me.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,me.kY)("void => enter-dialog",(0,me.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,me.i7)([(0,me.iF)({opacity:0,transform:"scale(0.7)"}),(0,me.iF)({transform:"none",opacity:1})]))),(0,me.kY)("* => void",(0,me.i0)("100ms linear",(0,me.iF)({opacity:0})))]),fadeInCalendar:(0,me.hZ)("fadeInCalendar",[(0,me.wk)("void",(0,me.iF)({opacity:0})),(0,me.wk)("enter",(0,me.iF)({opacity:1})),(0,me.kY)("void => *",(0,me.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},pr=new e.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const a=(0,e.WQX)(mt.hJ);return()=>a.scrollStrategies.reposition()}}),Vd={provide:pr,deps:[mt.hJ],useFactory:function Ld(a){return()=>a.scrollStrategies.reposition()}};let hr=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_changeDetectorRef=(0,e.WQX)(e.gRc);_globalModel=(0,e.WQX)(ri);_dateAdapter=(0,e.WQX)(ce.MJ);_rangeSelectionStrategy=(0,e.WQX)(on,{optional:!0});_subscriptions=new st.yU;_model;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationState;_animationDone=new Ze.B;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){(0,e.WQX)(ni.l).load(ni.Y);const t=(0,e.WQX)(_i);this._closeButtonText=t.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,n=t.value,s=i instanceof yt;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(n,i,t.event);this._model.updateSelection(o,this)}else n&&(s||!this._dateAdapter.sameDate(n,i))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(i,n){if(1&i&&e.GBs(ba,5),2&i){let s;e.mGM(s=e.lsd())&&(n._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,n){1&i&&e.Kam("@transformPanel.start",function(o){return n._handleAnimationEvent(o)})("@transformPanel.done",function(o){return n._handleAnimationEvent(o)}),2&i&&(e.zvX("@transformPanel",n._animationState),e.HbH(n.color?"mat-"+n.color:""),e.AVh("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"mat-calendar",1),e.bIt("yearSelected",function(o){return n.datepicker._selectYear(o)})("monthSelected",function(o){return n.datepicker._selectMonth(o)})("viewChanged",function(o){return n.datepicker._viewChanged(o)})("_userSelection",function(o){return n._handleUserSelection(o)})("_userDragDrop",function(o){return n._handleUserDragDrop(o)}),e.k0s(),e.DNE(2,wd,0,0,"ng-template",2),e.j41(3,"button",3),e.bIt("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),e.EFF(4),e.k0s()()),2&i){let s;e.AVh("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),e.BMQ("aria-modal",!0)("aria-labelledby",null!==(s=n._dialogLabelId)&&void 0!==s?s:void 0),e.R7$(),e.HbH(n.datepicker.panelClass),e.Y8G("id",n.datepicker.id)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),e.R7$(),e.Y8G("cdkPortalOutlet",n._actionsPortal),e.R7$(),e.AVh("cdk-visually-hidden",!n._closeButtonFocused),e.Y8G("color",n.color||"primary"),e.R7$(),e.JRh(n._closeButtonText)}},dependencies:[bt.kB,ba,Mt.I3,Ye.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ur.transformPanel,ur.fadeInCalendar]},changeDetection:0})}return a})(),mr=(()=>{class a{_overlay=(0,e.WQX)(mt.hJ);_viewContainerRef=(0,e.WQX)(e.c1b);_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dir=(0,e.WQX)(ci.dS,{optional:!0});_model=(0,e.WQX)(ri);_scrollStrategy=(0,e.WQX)(pr);_inputStateChanges=st.yU.EMPTY;_document=(0,e.WQX)(re.qQ);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}_color;touchUi=!1;get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new e.bkB;monthSelected=new e.bkB;viewChanged=new e.bkB(!0);dateClass;openedStream=new e.bkB;closedStream=new e.bkB;get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,Ue.cc)(t)}_panelClass;get opened(){return this._opened}set opened(t){t?this.open():this.close()}_opened=!1;id=(0,e.WQX)(bt.g7).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new Ze.B;_injector=(0,e.WQX)(e.zZn);_changeDetectorRef=(0,e.WQX)(e.gRc);constructor(){this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const n=this._overlayRef.getConfig().positionStrategy;n instanceof mt.rW&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,ii.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:n,location:s}=this._componentRef;n._startExitAnimation(),n._animationDone.pipe((0,rt.s)(1)).subscribe(()=>{const o=this._document.activeElement;t&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new Mt.A8(hr,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new mt.rR({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(n).subscribe(s=>{s&&s.preventDefault(),this.close()}),n.keydownEvents().subscribe(s=>{const o=s.keyCode;(o===de.i7||o===de.n6||o===de.UQ||o===de.LE||o===de.w_||o===de.dB)&&s.preventDefault()}),this._componentRef=n.attach(i),this._forwardContentValues(this._componentRef.instance),t||(0,e.mal)(()=>{n.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",n="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return t.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:o}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return(0,li.h)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,vt.p)(n=>n.keyCode===de._f&&!(0,de.rp)(n)||this.datepickerInput&&(0,de.rp)(n,"altKey")&&n.keyCode===de.i7&&i.every(s=>!(0,de.rp)(n,s)))))}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",e.L39],disabled:[2,"disabled","disabled",e.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",e.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",e.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.GFd,e.OA$]})}return a})(),Yd=(()=>{class a extends mr{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[e.Jv_([ar,{provide:mr,useExisting:a}]),e.Vt3],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}return a})();class ln{target;targetElement;value;constructor(r,t){this.target=r,this.targetElement=t,this.value=this.target.value}}let Nd=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dateFormats=(0,e.WQX)(ce.de,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=t,n=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&n.blur&&n.blur()}_disabled;dateChange=new e.bkB;dateInput=new e.bkB;stateChanges=new Ze.B;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=st.yU.EMPTY;_localeSubscription=st.yU.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!i||this._matchesFilter(i)?null:{matDatepickerFilter:!0}};_minValidator=t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMinDate();return!n||!i||this._dateAdapter.compareDate(n,i)<=0?null:{matDatepickerMin:{min:n,actual:i}}};_maxValidator=t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMaxDate();return!n||!i||this._dateAdapter.compareDate(n,i)>=0?null:{matDatepickerMax:{max:n,actual:i}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const n=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new ln(this,this._elementRef.nativeElement)),this.dateChange.emit(new ln(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function zd(a,r){const t=Object.keys(a);for(let i of t){const{previousValue:n,currentValue:s}=a[i];if(!r.isDateInstance(n)||!r.isDateInstance(s))return!0;if(!r.sameDate(n,s))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){(0,de.rp)(t,"altKey")&&t.keyCode===de.n6&&["ctrlKey","shiftKey","metaKey"].every(s=>!(0,de.rp)(t,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);const s=!this._dateAdapter.sameDate(n,this.value);!n||s?this._cvaOnChange(n):(t&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(n),this.dateInput.emit(new ln(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ln(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,inputs:{value:"value",disabled:[2,"disabled","disabled",e.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.GFd,e.OA$]})}return a})();const Bd={provide:ge.kq,useExisting:(0,e.Rfq)(()=>ya),multi:!0},jd={provide:ge.cz,useExisting:(0,e.Rfq)(()=>ya),multi:!0};let ya=(()=>{class a extends Nd{_formField=(0,e.WQX)(Oe.xb,{optional:!0});_closedSubscription=st.yU.EMPTY;_openedSubscription=st.yU.EMPTY;set matDatepicker(t){t&&(this._datepicker=t,this._ariaOwns.set(t.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(t.registerInput(this)))}_datepicker;_ariaOwns=(0,e.vPA)(null);get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}_min;get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=ge.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,n){1&i&&e.bIt("input",function(o){return n._onInput(o.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(o){return n._onKeydown(o)}),2&i&&(e.Mr5("disabled",n.disabled),e.BMQ("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",n._ariaOwns())("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[e.Jv_([Bd,jd,{provide:ht.Oh,useExisting:a}]),e.Vt3]})}return a})(),Hd=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matDatepickerToggleIcon",""]]})}return a})(),fr=(()=>{class a{_intl=(0,e.WQX)(_i);_changeDetectorRef=(0,e.WQX)(e.gRc);_stateChanges=st.yU.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}_disabled;disableRipple;_customIcon;_button;constructor(){const t=(0,e.WQX)(new e.ES_("tabindex"),{optional:!0}),i=Number(t);this.tabIndex=i||0===i?i:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,Pe.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Pe.of)(),n=this.datepicker?(0,li.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Pe.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,li.h)(this._intl.changes,t,i,n).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,n,s){if(1&i&&e.wni(s,Hd,5),2&i){let o;e.mGM(o=e.lsd())&&(n._customIcon=o.first)}},viewQuery:function(i,n){if(1&i&&e.GBs(kd,5),2&i){let s;e.mGM(s=e.lsd())&&(n._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._open(o)}),2&i&&(e.BMQ("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),e.AVh("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",e.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[e.GFd,e.OA$],ngContentSelectors:Dd,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,n){1&i&&(e.NAR(Md),e.j41(0,"button",1,0),e.DNE(2,Td,2,0,":svg:svg",2),e.SdG(3),e.k0s()),2&i&&(e.Y8G("disabled",n.disabled)("disableRipple",n.disableRipple),e.BMQ("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),e.R7$(2),e.vxM(n._customIcon?-1:2))},dependencies:[Ye.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return a})(),Ud=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({providers:[_i,Vd],imports:[Ye.Hl,mt.z_,bt.Pd,Mt.jc,ce.yE,hr,fr,dr,Ae.Gj]})}return a})();const Wd=["panelTemplate"],Xd=(a,r)=>r.value;function Qd(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-option",3),e.bIt("onSelectionChange",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s._selectValue(n.value))}),e.EFF(1),e.k0s()}if(2&a){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(),e.JRh(t.label)}}function Kd(a,r){if(1&a&&(e.j41(0,"div",1),e.Z7z(1,Qd,2,2,"mat-option",2,Xd),e.k0s()),2&a){const t=e.XpG();e.Y8G("id",t.panelId)("@panel",void 0),e.BMQ("aria-label",t.ariaLabel()||null)("aria-labelledby",t._getAriaLabelledby()),e.R7$(),e.Dyx(t._timeOptions)}}const Jd=[[["","matTimepickerToggleIcon",""]]],Zd=["[matTimepickerToggleIcon]"];function qd(a,r){1&a&&(e.qSk(),e.j41(0,"svg",1),e.nrm(1,"path",2),e.k0s())}const eu=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,_r=new e.nKC("MAT_TIMEPICKER_CONFIG");function vr(a){let r;if(null===a)return null;if("number"==typeof a)r=a;else{if(0===a.trim().length)return null;const t=a.match(eu),i=t?parseFloat(t[1]):null,n=t?.[2]?.toLowerCase()||null;if(!t||null===i||isNaN(i))return null;r="h"===n||"hour"===n||"hours"===n?3600*i:"m"===n||"min"===n||"minute"===n||"minutes"===n?60*i:i}return r}let wa=(()=>{class a{_overlay=(0,e.WQX)(mt.hJ);_dir=(0,e.WQX)(ci.dS,{optional:!0});_viewContainerRef=(0,e.WQX)(e.c1b);_injector=(0,e.WQX)(e.zZn);_defaultConfig=(0,e.WQX)(_r,{optional:!0});_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dateFormats=(0,e.WQX)(ce.de,{optional:!0});_isOpen=(0,e.vPA)(!1);_activeDescendant=(0,e.vPA)(null);_input;_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=e.ebz.required("panelTemplate");_timeOptions=[];_options=(0,e.dtW)(ce.wT);_keyManager=new bt.Au(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=(0,e.hFB)(vr(this._defaultConfig?.interval||null),{transform:vr});options=(0,e.hFB)(null);isOpen=this._isOpen.asReadonly();selected=(0,e.CGW)();opened=(0,e.CGW)();closed=(0,e.CGW)();activeDescendant=this._activeDescendant.asReadonly();panelId=(0,e.WQX)(bt.g7).getId("mat-timepicker-panel-");disableRipple=(0,e.hFB)(this._defaultConfig?.disableRipple??!1,{transform:e.L39});ariaLabel=(0,e.hFB)(null,{alias:"aria-label"});ariaLabelledby=(0,e.hFB)(null,{alias:"aria-labelledby"});constructor(){(0,e.WQX)(e.aKT).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){if(!this._input||(this._input.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();const t=this._getOverlayRef();t.updateSize({width:this._input.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new Mt.VA(this._panelTemplate(),this._viewContainerRef),t.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=(0,e.mal)(()=>{const i=this._options();this._syncSelectedState(this._input.value(),i,i[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this._overlayRef?.detach(),this.closed.emit())}registerInput(t){this._input=t}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(t){this.close(),this.selected.emit({value:t,source:this}),this._input.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input?._getLabelId()||null}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;const t=this._overlay.position().flexibleConnectedTo(this._input.getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:t,scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.keydownEvents().subscribe(i=>{this._handleKeydown(i)}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const n=(0,ii.Fb)(i),s=this._input.getOverlayOrigin().nativeElement;n&&n!==s&&!s.contains(n)&&this.close()}),this._overlayRef}_generateOptions(){const t=this.interval()??1800,i=this.options();if(null!==i)this._timeOptions=i;else{const n=this._dateAdapter,s=this._dateFormats.display.timeInput,o=this._input.min()||n.setTime(n.today(),0,0,0),l=this._input.max()||n.setTime(n.today(),23,59,0),p=t+"/"+n.format(o,s)+"/"+n.format(l,s);p!==this._optionsCacheKey&&(this._optionsCacheKey=p,this._timeOptions=function tu(a,r,t,i,n){const s=[];let o=a.compareTime(t,i)<1?t:i;for(;a.sameDate(o,t)&&a.compareTime(o,i)<1&&a.isValid(o);)s.push({value:o,label:a.format(o,r.display.timeOptionLabel)}),o=a.addSeconds(o,n);return s}(n,this._dateFormats,o,l,t))}}_syncSelectedState(t,i,n){let s=!1;for(const o of i)t&&this._dateAdapter.sameTime(o.value,t)?(o.select(!1),ka(o,"center"),(0,e.O8t)(()=>this._keyManager.setActiveItem(o)),s=!0):o.deselect(!1);s||(n?((0,e.O8t)(()=>this._keyManager.setActiveItem(n)),ka(n,"center")):(0,e.O8t)(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(t){const i=t.keyCode;if(i===de.wn)this.close();else if(i!==de._f||(0,de.rp)(t))if(i===de.Fm)t.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem.value):this.close();else{const n=this._keyManager.activeItem;this._keyManager.onKeydown(t);const s=this._keyManager.activeItem;s&&s!==n&&ka(s,"nearest")}else t.preventDefault(),this.close()}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){(0,e.QZP)(()=>{const t=this._input?.value(),i=this._options();this._isOpen()&&this._syncSelectedState(t,i,null)})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-timepicker"]],viewQuery:function(i,n){1&i&&(e.wEZ(n._panelTemplate,Wd,5),e.wEZ(n._options,ce.wT,5)),2&i&&e.NyB(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[e.Jv_([{provide:ce.is,useExisting:a}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(i,n){1&i&&e.DNE(0,Kd,3,4,"ng-template",null,0,e.C5r)},dependencies:[ce.wT],styles:["mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-input:read-only{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,data:{animation:[(0,me.hZ)("panel",[(0,me.wk)("void",(0,me.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,me.kY)(":enter",[(0,me.Os)([(0,me.i0)("0.03s linear",(0,me.iF)({opacity:1})),(0,me.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,me.iF)({transform:"scaleY(1)"}))])]),(0,me.kY)(":leave",[(0,me.i0)("0.075s linear",(0,me.iF)({opacity:0}))])])]},changeDetection:0})}return a})();function ka(a,r){a._getHostElement().scrollIntoView({block:r,inline:r})}let iu=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_document=(0,e.WQX)(re.qQ);_dateAdapter=(0,e.WQX)(ce.MJ,{optional:!0});_dateFormats=(0,e.WQX)(ce.de,{optional:!0});_formField=(0,e.WQX)(Oe.xb,{optional:!0});_onChange;_onTouched;_validatorOnChange;_accessorDisabled=(0,e.vPA)(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=(0,e.EWP)(()=>{const t=this.timepicker(),i=t.isOpen(),n=t.activeDescendant();return i&&n?n:null});_ariaExpanded=(0,e.EWP)(()=>this.timepicker().isOpen()+"");_ariaControls=(0,e.EWP)(()=>{const t=this.timepicker();return t.isOpen()?t.panelId:null});value=(0,e.geq)(null);timepicker=e.hFB.required({alias:"matTimepicker"});min=(0,e.hFB)(null,{alias:"matTimepickerMin",transform:t=>this._transformDateInput(t)});max=(0,e.hFB)(null,{alias:"matTimepickerMax",transform:t=>this._transformDateInput(t)});disabled=(0,e.EWP)(()=>this.disabledInput()||this._accessorDisabled());disabledInput=(0,e.hFB)(!1,{transform:e.L39,alias:"disabled"});constructor(){this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this.getOverlayOrigin().nativeElement.addEventListener("click",this._handleClick)}writeValue(t){this.value.set(this._dateAdapter.getValidDateOrNull(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._accessorDisabled.set(t)}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._validatorOnChange=t}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this.getOverlayOrigin().nativeElement.removeEventListener("click",this._handleClick),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.timepicker().open()};_handleInput(t){const i=this.value(),n=this._dateAdapter.parseTime(t,this._dateFormats.parse.timeInput),s=!this._dateAdapter.sameTime(n,i);!n||s||t&&!i?this._assignUserSelection(n,!0):this._validatorOnChange?.()}_handleBlur(){const t=this.value();t&&this._isValid(t)&&this._formatValue(t),this._onTouched?.()}_handleKeydown(t){this.timepicker().isOpen()||(t.keyCode!==de._f||(0,de.rp)(t)||null===this.value()?(t.keyCode===de.n6||t.keyCode===de.i7)&&!this.disabled()&&(t.preventDefault(),this.timepicker().open()):(t.preventDefault(),this.value.set(null),this._formatValue(null)))}_respondToValueChanges(){(0,e.QZP)(()=>{const t=this._dateAdapter.deserialize(this.value()),i=this._lastValueValid;this._lastValueValid=this._isValid(t),this._hasFocus()||this._formatValue(t),t&&this._lastValueValid&&(this._lastValidDate=t),i!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){(0,e.QZP)(()=>{const t=this.timepicker();t.registerInput(this),t.closed.subscribe(()=>this._onTouched?.()),t.selected.subscribe(({value:i})=>{this._dateAdapter.sameTime(i,this.value())||(this._assignUserSelection(i,!0),this._formatValue(i))})})}_respondToMinMaxChanges(){(0,e.QZP)(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(t,i){if(null!=t&&this._isValid(t)){const n=this._dateAdapter,s=n.getValidDateOrNull(this._lastValidDate||this.value()),o=n.getHours(t),l=n.getMinutes(t),p=n.getSeconds(t);this.value.set(s?n.setTime(s,o,l,p):t)}else this.value.set(t);i&&this._onChange?.(this.value())}_formatValue(t){t=this._dateAdapter.getValidDateOrNull(t),this._elementRef.nativeElement.value=null==t?"":this._dateAdapter.format(t,this._dateFormats.display.timeInput)}_isValid(t){return!t||this._dateAdapter.isValid(t)}_transformDateInput(t){const i="string"==typeof t?this._dateAdapter.parseTime(t,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(t);return i&&this._dateAdapter.isValid(i)?i:null}_hasFocus(){return this._document.activeElement===this._elementRef.nativeElement}_getValidator(){return ge.k0.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this.min();return!n||!i||this._dateAdapter.compareTime(n,i)<=0?null:{matTimepickerMin:{min:n,actual:i}}},t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this.max();return!n||!i||this._dateAdapter.compareTime(n,i)>=0?null:{matTimepickerMax:{max:n,actual:i}}}])}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(i,n){if(1&i&&e.bIt("blur",function(){return n._handleBlur()})("input",function(o){return n._handleInput(o.target.value)})("keydown",function(o){return n._handleKeydown(o)}),2&i){let s;e.Mr5("disabled",n.disabled()),e.BMQ("aria-activedescendant",n._ariaActiveDescendant())("aria-expanded",n._ariaExpanded())("aria-controls",n._ariaControls())("mat-timepicker-id",null==(s=n.timepicker())?null:s.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[e.Jv_([{provide:ge.kq,useExisting:a,multi:!0},{provide:ge.cz,useExisting:a,multi:!0},{provide:ht.Oh,useExisting:a}])]})}return a})(),br=(()=>{class a{_defaultConfig=(0,e.WQX)(_r,{optional:!0});_defaultTabIndex=(()=>{const t=(0,e.WQX)(new e.ES_("tabindex"),{optional:!0}),i=Number(t);return isNaN(i)?null:i})();timepicker=e.hFB.required({alias:"for"});ariaLabel=(0,e.hFB)(void 0,{alias:"aria-label"});disabled=(0,e.hFB)(!1,{transform:e.L39,alias:"disabled"});tabIndex=(0,e.hFB)(this._defaultTabIndex);disableRipple=(0,e.hFB)(this._defaultConfig?.disableRipple??!1,{transform:e.L39});_open(t){this.timepicker()&&!this.disabled()&&(this.timepicker().open(),t.stopPropagation())}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._open(o)}),2&i&&e.BMQ("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:Zd,decls:3,vars:5,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(i,n){1&i&&(e.NAR(Jd),e.j41(0,"button",0),e.SdG(1,0,null,qd,2,0),e.k0s()),2&i&&(e.Y8G("disabled",n.disabled())("disableRipple",n.disableRipple()),e.BMQ("aria-label",n.ariaLabel())("aria-expanded",n.timepicker().isOpen())("tabindex",n.disabled()?-1:n.tabIndex()))},dependencies:[Ye.iY],encapsulation:2,changeDetection:0})}return a})(),nu=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[wa,br,Ae.Gj]})}return a})();var au=c(137),su=c(2575);const ru=["owl-date-time-calendar-body",""],ou=(a,r,t)=>({"owl-dt-calendar-cell-out":a,"owl-dt-calendar-cell-today":r,"owl-dt-calendar-cell-selected":t});function lu(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectCell(n))}),e.j41(1,"span",4),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit,i=r.index,n=e.XpG().index,s=e.XpG();e.ZvI("owl-dt-calendar-cell ",t.cellClass,""),e.xc7("width",100/s.numCols,"%")("padding-top",50*s.cellRatio/s.numCols,"%")("padding-bottom",50*s.cellRatio/s.numCols,"%"),e.AVh("owl-dt-calendar-cell-active",s.isActiveCell(n,i))("owl-dt-calendar-cell-disabled",!t.enabled)("owl-dt-calendar-cell-in-range",s.isInRange(t.value))("owl-dt-calendar-cell-range-from",s.isRangeFrom(t.value))("owl-dt-calendar-cell-range-to",s.isRangeTo(t.value)),e.Y8G("tabindex",s.isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-current",t.value===s.todayValue?"date":null)("aria-selected",s.isSelected(t.value)),e.R7$(),e.Y8G("ngClass",e.sMw(26,ou,t.out,t.value===s.todayValue,s.isSelected(t.value))),e.R7$(),e.SpI(" ",t.displayValue," ")}}function cu(a,r){if(1&a&&(e.j41(0,"tr",1),e.DNE(1,lu,3,30,"td",2),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}const yr=a=>({"owl-calendar-weeks":a});function du(a,r){if(1&a&&(e.j41(0,"li")(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function uu(a,r){if(1&a&&(e.j41(0,"ul",7),e.DNE(1,du,3,1,"li",8),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.weekNumbers)}}function pu(a,r){if(1&a&&(e.j41(0,"th",9)(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.BMQ("aria-label",t.long),e.R7$(2),e.JRh(t.short)}}function hu(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-month-view",16),e.bIt("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handlePickerMomentChange(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.dateSelected(n))})("userSelection",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.userSelected())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("firstDayOfWeek",t.firstDayOfWeek)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("showCalendarWeeks",t.showCalendarWeeks)("maxDate",t.maxDate)("dateFilter",t.dateFilter)("hideOtherMonths",t.hideOtherMonths)}}function mu(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-year-view",17),e.bIt("keyboardEnter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.focusActiveCell())})("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handlePickerMomentChange(n))})("monthSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectMonthInYearView(n))})("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.goToDateInView(n,s.DateView.MONTH))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)}}function fu(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-multi-year-view",18),e.bIt("keyboardEnter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.focusActiveCell())})("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handlePickerMomentChange(n))})("yearSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectYearInMultiYearView(n))})("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.goToDateInView(n,s.DateView.YEAR))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)}}const gu=["valueInput"];function _u(a,r){1&a&&e.nrm(0,"div",10)}function vu(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-timer-box",1),e.bIt("inputChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setSecondValue(n))})("valueChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setSecondValue(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("showDivider",!0)("upBtnAriaLabel",t.upSecondButtonLabel)("downBtnAriaLabel",t.downSecondButtonLabel)("upBtnDisabled",!t.upSecondEnabled())("downBtnDisabled",!t.downSecondEnabled())("value",t.secondValue)("min",0)("max",59)("step",t.stepSecond)("inputLabel","Second")}}function bu(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",4)(1,"button",5),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setMeridiem(n))}),e.j41(2,"span",6),e.EFF(3),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",t.hour12ButtonLabel," ")}}const Cr=a=>({"owl-dt-container-info-active":a});function yu(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-calendar",7),e.mxI("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.pickerMoment,n)||(s.pickerMoment=n),e.Njj(n)}),e.bIt("yearSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.picker.selectYear(n))})("monthSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.picker.selectMonth(n))})("dateClicked",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.picker.selectDate(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.dateSelected(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("firstDayOfWeek",t.picker.firstDayOfWeek),e.R50("pickerMoment",t.pickerMoment),e.Y8G("selected",t.picker.selected)("selecteds",t.picker.selecteds)("selectMode",t.picker.selectMode)("minDate",t.picker.minDateTime)("maxDate",t.picker.maxDateTime)("dateFilter",t.picker.dateTimeFilter)("startView",t.picker.startView)("yearOnly",t.picker.yearOnly)("showCalendarWeeks",t.picker.showCalendarWeeks)("multiyearOnly",t.picker.multiyearOnly)("hideOtherMonths",t.picker.hideOtherMonths)}}function Cu(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-timer",8),e.bIt("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.timeSelected(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("minDateTime",t.picker.minDateTime)("maxDateTime",t.picker.maxDateTime)("showSecondsTimer",t.picker.showSecondsTimer)("hour12Timer",t.picker.hour12Timer)("stepHour",t.picker.stepHour)("stepMinute",t.picker.stepMinute)("stepSecond",t.picker.stepSecond)}}function wu(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",9)(1,"div",10,0),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handleClickOnInfoGroup(n,0))})("keydown",function(n){e.eBV(t);const s=e.sdS(9),o=e.XpG();return e.Njj(o.handleKeydownOnInfoGroup(n,s,0))}),e.j41(3,"span",11)(4,"span",12),e.EFF(5),e.k0s(),e.j41(6,"span",13),e.EFF(7),e.k0s()()(),e.j41(8,"div",14,1),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handleClickOnInfoGroup(n,1))})("keydown",function(n){e.eBV(t);const s=e.sdS(2),o=e.XpG();return e.Njj(o.handleKeydownOnInfoGroup(n,s,1))}),e.j41(10,"span",11)(11,"span",12),e.EFF(12),e.k0s(),e.j41(13,"span",13),e.EFF(14),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("tabindex",0===t.activeSelectedIndex?0:-1)("ngClass",e.eq3(10,Cr,0===t.activeSelectedIndex)),e.BMQ("aria-checked",0===t.activeSelectedIndex),e.R7$(4),e.SpI("",t.fromLabel,":"),e.R7$(2),e.JRh(t.fromFormattedValue),e.R7$(),e.Y8G("tabindex",1===t.activeSelectedIndex?0:-1)("ngClass",e.eq3(12,Cr,1===t.activeSelectedIndex)),e.BMQ("aria-checked",1===t.activeSelectedIndex),e.R7$(4),e.SpI("",t.toLabel,":"),e.R7$(2),e.JRh(t.toFormattedValue)}}function ku(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onCancelClicked(n))}),e.j41(2,"span",17),e.EFF(3),e.k0s()(),e.j41(4,"button",16),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onSetClicked(n))}),e.j41(5,"span",17),e.EFF(6),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",t.cancelLabel," "),e.R7$(3),e.SpI(" ",t.setLabel," ")}}function Mu(a,r){}const Kt=new e.nKC("OWL_DATE_TIME_FORMATS"),Ma=new e.nKC("OWL_DATE_TIME_LOCALE",{providedIn:"root",factory:function Du(){return(0,e.WQX)(e.xe9)}});class Dt{constructor(){this._localeChanges=new Ze.B,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(r,t){if(!this.isValid(r)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");const i=this.clone(r),n=this.clone(t),s=this.getTime(i)-this.getTime(n);return s<0?-1:s>0?1:s}compareYear(r,t){if(!this.isValid(r)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");const s=this.getYear(r)-this.getYear(t);return s<0?-1:s>0?1:0}deserialize(r){return null==r||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next(r)}getLocale(){return this.locale}clampDate(r,t,i){return t&&this.compare(r,t)<0?t:i&&this.compare(r,i)>0?i:r}}let Tu=0;var lt=function(a){return a.MONTH="month",a.YEAR="year",a.MULTI_YEARS="multi-years",a}(lt||{});let wr=(()=>{class a{get showSecondsTimer(){return this._showSecondsTimer}set showSecondsTimer(t){this._showSecondsTimer=(0,Ue.he)(t)}get hour12Timer(){return this._hour12Timer}set hour12Timer(t){this._hour12Timer=(0,Ue.he)(t)}get stepHour(){return this._stepHour}set stepHour(t){this._stepHour=(0,Ue.OE)(t,1)}get stepMinute(){return this._stepMinute}set stepMinute(t){this._stepMinute=(0,Ue.OE)(t,1)}get stepSecond(){return this._stepSecond}set stepSecond(t){this._stepSecond=(0,Ue.OE)(t,1)}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){t=(0,Ue.OE)(t),this._firstDayOfWeek=t>6||t<0?void 0:t}get hideOtherMonths(){return this._hideOtherMonths}set hideOtherMonths(t){this._hideOtherMonths=(0,Ue.he)(t)}get id(){return this._id}get formatString(){return"both"===this.pickerType?this.dateTimeFormats.fullPickerInput:"calendar"===this.pickerType?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(t,i){if(this.dateTimeAdapter=t,this.dateTimeFormats=i,this._showSecondsTimer=!1,this._hour12Timer=!1,this.startView=lt.MONTH,this.showCalendarWeeks=!1,this.yearOnly=!1,this.multiyearOnly=!1,this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._hideOtherMonths=!1,this.dateTimeChecker=n=>!!n&&(!this.dateTimeFilter||this.dateTimeFilter(n))&&(!this.minDateTime||this.dateTimeAdapter.compare(n,this.minDateTime)>=0)&&(!this.maxDateTime||this.dateTimeAdapter.compare(n,this.maxDateTime)<=0),!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimeAdapter. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this._id="owl-dt-picker-"+Tu++}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Dt,8),e.rXU(Kt,8))}}static{this.\u0275dir=e.FsC({type:a,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",showCalendarWeeks:"showCalendarWeeks",yearOnly:"yearOnly",multiyearOnly:"multiyearOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"},standalone:!1})}}return a})(),Fi=(()=>{class a{constructor(){this.changes=new Ze.B,this.upSecondLabel="Add a second",this.downSecondLabel="Minus a second",this.upMinuteLabel="Add a minute",this.downMinuteLabel="Minus a minute",this.upHourLabel="Add a hour",this.downHourLabel="Minus a hour",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 21 years",this.nextMultiYearLabel="Next 21 years",this.switchToMonthViewLabel="Change to month view",this.switchToMultiYearViewLabel="Choose month and year",this.cancelBtnLabel="Cancel",this.setBtnLabel="Set",this.rangeFromLabel="From",this.rangeToLabel="To",this.hour12AMLabel="AM",this.hour12PMLabel="PM"}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();class Da{constructor(r,t,i,n,s=!1,o=""){this.value=r,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.out=s,this.cellClass=o}}let bi=(()=>{class a{get owlDTCalendarBodyClass(){return!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}constructor(t,i){this.elmRef=t,this.ngZone=i,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new e.bkB}ngOnInit(){}selectCell(t){this.select.emit(t)}isActiveCell(t,i){return t*this.numCols+i===this.activeCell}isSelected(t){return!(!this.selectedValues||0===this.selectedValues.length)&&(this.isInSingleMode?t===this.selectedValues[0]:this.isInRangeMode?t===this.selectedValues[0]||t===this.selectedValues[1]:void 0)}isInRange(t){if(this.isInRangeMode){const i=this.selectedValues[0],n=this.selectedValues[1];return null!==i&&null!==n?t>=i&&t<=n:t===i||t===n}}isRangeFrom(t){if(this.isInRangeMode){const i=this.selectedValues[0];return null!==i&&t===i}}isRangeTo(t){if(this.isInRangeMode){const i=this.selectedValues[1];return null!==i&&t===i}}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,rt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["","owl-date-time-calendar-body",""]],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-body",n.owlDTCalendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["owlDateTimeCalendarBody"],standalone:!1,attrs:ru,decls:1,vars:1,consts:[["role","row",4,"ngFor","ngForOf"],["role","row"],[3,"class","tabindex","owl-dt-calendar-cell-active","owl-dt-calendar-cell-disabled","owl-dt-calendar-cell-in-range","owl-dt-calendar-cell-range-from","owl-dt-calendar-cell-range-to","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],[3,"click","tabindex"],[1,"owl-dt-calendar-cell-content",3,"ngClass"]],template:function(i,n){1&i&&e.DNE(0,cu,2,1,"tr",0),2&i&&e.Y8G("ngForOf",n.rows)},dependencies:[re.YU,re.Sq],encapsulation:2,changeDetection:0})}}return a})();class Iu{static create(){return{multiYear:{yearRows:7,yearsPerRow:3}}}}class cn{static{this.all=new e.nKC("All options token")}static{this.multiYear=new e.nKC("Grid view options token")}}const Eu=[{provide:cn.all,useFactory:function xu(){return Iu.create()}},{provide:cn.multiYear,useFactory:function Su(a){return a.multiYear},deps:[cn.all]}];let Au=(()=>{class a{get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(t){const i=this._selected;t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.dateTimeAdapter.isSameDay(i,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),i&&this._pickerMoment&&!this.isSameYearList(i,this._pickerMoment)&&this.generateYearList()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&this.generateYearList()}get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&this.generateYearList()}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} - ${this._years[this.options.yearRows-1][this.options.yearsPerRow-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get owlDTCalendarView(){return!0}get owlDTCalendarMultiYearView(){return!0}constructor(t,i,n,s){this.cdRef=t,this.pickerIntl=i,this.dateTimeAdapter=n,this.options=s,this._selectMode="single",this._selecteds=[],this.initiated=!1,this.change=new e.bkB,this.yearSelected=new e.bkB,this.pickerMomentChange=new e.bkB,this.keyboardEnter=new e.bkB}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(t){this.selectYear(t.value)}selectYear(t){this.yearSelected.emit(this.dateTimeAdapter.createDate(t,0,1));const i=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.getMonth(this.pickerMoment),1),n=this.dateTimeAdapter.getNumDaysInMonth(i),s=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}prevYearList(t){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),t.preventDefault()}nextYearList(t){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),t.preventDefault()}generateYearList(){this._years=[];const t=this.dateTimeAdapter.getYear(this._pickerMoment),i=t%(this.options.yearsPerRow*this.options.yearRows);for(let n=0;n<this.options.yearRows;n++){const s=[];for(let o=0;o<this.options.yearsPerRow;o++){const p=this.createYearCell(t-i+(o+n*this.options.yearsPerRow));s.push(p)}this._years.push(s)}}previousEnabled(){return!this.minDate||!this.minDate||!this.isSameYearList(this._pickerMoment,this.minDate)}nextEnabled(){return!this.maxDate||!this.isSameYearList(this._pickerMoment,this.maxDate)}handleCalendarKeydown(t){let i;switch(t.keyCode){case de.UQ:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(i);break;case de.LE:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(i);break;case de.i7:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*this.options.yearsPerRow),this.pickerMomentChange.emit(i);break;case de.n6:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow),this.pickerMomentChange.emit(i);break;case de.yZ:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(i);break;case de.Kp:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow*this.options.yearRows-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)-1),this.pickerMomentChange.emit(i);break;case de.w_:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?this.options.yearsPerRow*this.options.yearRows*-10:this.options.yearsPerRow*this.options.yearRows*-1),this.pickerMomentChange.emit(i);break;case de.dB:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?this.options.yearsPerRow*this.options.yearRows*10:this.options.yearsPerRow*this.options.yearRows),this.pickerMomentChange.emit(i);break;case de.Fm:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),t.preventDefault()}createYearCell(t){const i=this.dateTimeAdapter.createDate(t,0,1),n=this.dateTimeAdapter.getYearName(i),s="owl-dt-year-"+t;return new Da(t,t.toString(),n,this.isYearEnabled(t),!1,s)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(t=>this.dateTimeAdapter.isValid(t)?this.dateTimeAdapter.getYear(t):null))}isYearEnabled(t){if(null==t||this.maxDate&&t>this.dateTimeAdapter.getYear(this.maxDate)||this.minDate&&t<this.dateTimeAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this.dateTimeAdapter.createDate(t,0,1);this.dateTimeAdapter.getYear(n)===t;n=this.dateTimeAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}isSameYearList(t,i){return Math.floor(this.dateTimeAdapter.getYear(t)/(this.options.yearsPerRow*this.options.yearRows))===Math.floor(this.dateTimeAdapter.getYear(i)/(this.options.yearsPerRow*this.options.yearRows))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(Fi),e.rXU(Dt,8),e.rXU(cn.multiYear))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(bi,7),2&i){let s;e.mGM(s=e.lsd())&&(n.calendarBodyElm=s.first)}},hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)("owl-dt-calendar-multi-year-view",n.owlDTCalendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},standalone:!1,decls:14,vars:12,consts:[["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-table","owl-dt-calendar-multi-year-table"],[1,"owl-dt-calendar-header"],["colspan","3"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(i,n){1&i&&(e.j41(0,"button",0),e.bIt("click",function(o){return n.prevYearList(o)}),e.j41(1,"span",1),e.qSk(),e.j41(2,"svg",2),e.nrm(3,"path",3),e.k0s()()(),e.joV(),e.j41(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),e.EFF(8),e.k0s()()(),e.j41(9,"tbody",7),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()(),e.j41(10,"button",0),e.bIt("click",function(o){return n.nextYearList(o)}),e.j41(11,"span",1),e.qSk(),e.j41(12,"svg",8),e.nrm(13,"path",9),e.k0s()()()),2&i&&(e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(8),e.JRh(n.tableHeader),e.R7$(),e.Y8G("rows",n.years)("numCols",3)("cellRatio",3/7)("activeCell",n.activeCell)("todayValue",n.todayYear)("selectedValues",n.selectedYears)("selectMode",n.selectMode),e.R7$(),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel))},dependencies:[bi],encapsulation:2,changeDetection:0})}}return a})(),Ou=(()=>{class a{get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(t){t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=[];for(let i=0;i<t.length;i++){const n=this.dateTimeAdapter.deserialize(t[i]);this._selecteds.push(this.getValidDate(n))}this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),!this.hasSameYear(i,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&this.generateMonthList()}get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&this.generateMonthList()}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get owlDTCalendarView(){return!0}constructor(t,i,n){this.cdRef=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this._selectMode="single",this._selecteds=[],this.localeSub=st.yU.EMPTY,this.initiated=!1,this.selectedMonths=[],this.change=new e.bkB,this.monthSelected=new e.bkB,this.pickerMomentChange=new e.bkB,this.keyboardEnter=new e.bkB,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(t){this.selectMonth(t.value)}selectMonth(t){const i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1);this.monthSelected.emit(i);const n=this.dateTimeAdapter.getNumDaysInMonth(i),s=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}handleCalendarKeydown(t){let i;switch(t.keyCode){case de.UQ:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case de.LE:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case de.i7:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(i);break;case de.n6:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(i);break;case de.yZ:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case de.Kp:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case de.w_:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?-10:-1),this.pickerMomentChange.emit(i);break;case de.dB:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?10:1),this.pickerMomentChange.emit(i);break;case de.Fm:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),t.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let t=0;t<4;t++){const i=[];for(let n=0;n<3;n++){const o=this.createMonthCell(n+3*t);i.push(o)}this._months.push(i)}}}createMonthCell(t){const i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1),n=this.dateTimeAdapter.format(i,this.dateTimeFormats.monthYearA11yLabel),s="owl-dt-month-"+t;return new Da(t,this.monthNames[t],n,this.isMonthEnabled(t),!1,s)}isMonthEnabled(t){for(let n=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1);this.dateTimeAdapter.getMonth(n)===t;n=this.dateTimeAdapter.addCalendarDays(n,1))if(n&&(!this.dateFilter||this.dateFilter(n))&&(!this.minDate||this.dateTimeAdapter.compare(n,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(n,this.maxDate)<=0))return!0;return!1}getMonthInCurrentYear(t){if(this.getValidDate(t)&&this.getValidDate(this._pickerMoment)){const i=this.dateTimeAdapter.compareYear(t,this._pickerMoment);return i<0?-1:i>0?12:this.dateTimeAdapter.getMonth(t)}return null}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(t,i){return!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(Dt,8),e.rXU(Kt,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(bi,7),2&i){let s;e.mGM(s=e.lsd())&&(n.calendarBodyElm=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},exportAs:["owlMonthView"],standalone:!1,decls:5,vars:7,consts:[[1,"owl-dt-calendar-table","owl-dt-calendar-year-table"],[1,"owl-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"owl-dt-calendar-table-divider"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n.months)("numCols",3)("cellRatio",3/7)("activeCell",n.activeCell)("todayValue",n.todayMonth)("selectedValues",n.selectedMonths)("selectMode",n.selectMode))},dependencies:[bi],encapsulation:2,changeDetection:0})}}return a})(),Ru=(()=>{class a{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){t>=0&&t<=6&&t!==this._firstDayOfWeek&&(this._firstDayOfWeek=t,this.isDefaultFirstDayOfWeek=!1,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(t){const i=this._selected;t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.dateTimeAdapter.isSameDay(i,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(i,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get owlDTCalendarView(){return!0}constructor(t,i,n){this.cdRef=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this.hideOtherMonths=!1,this.showCalendarWeeks=!1,this.isDefaultFirstDayOfWeek=!0,this._selectMode="single",this._selecteds=[],this.localeSub=st.yU.EMPTY,this.initiated=!1,this.selectedDates=[],this.selectedChange=new e.bkB,this.userSelection=new e.bkB,this.pickerMomentChange=new e.bkB}ngOnInit(){this.updateFirstDayOfWeek(this.dateTimeAdapter.getLocale()),this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(t=>{this.updateFirstDayOfWeek(t),this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(t){!t.enabled||this.hideOtherMonths&&t.out||this.selectDate(t.value)}selectDate(t){const n=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t-1);this.selectedChange.emit(n),this.userSelection.emit()}handleCalendarKeydown(t){let i;switch(t.keyCode){case de.UQ:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case de.LE:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case de.i7:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(i);break;case de.n6:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(i);break;case de.yZ:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case de.Kp:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case de.w_:i=t.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case de.dB:i=t.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case de.Fm:(!this.dateFilter||this.dateFilter(this.pickerMoment))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),t.preventDefault()}generateWeekDays(){const t=this.dateTimeAdapter.getDayOfWeekNames("long"),i=this.dateTimeAdapter.getDayOfWeekNames("short"),n=this.dateTimeAdapter.getDayOfWeekNames("narrow"),s=this.firstDayOfWeek,o=t.map((l,p)=>({long:l,short:i[p],narrow:n[p]}));this._weekdays=o.slice(s).concat(o.slice(0,s)),this.dateNames=this.dateTimeAdapter.getDateNames()}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=null,this.weekNumbers=[];let n=0-(this.dateTimeAdapter.getDay(this.firstDateOfMonth)+(7-this.firstDayOfWeek))%7;this.firstRowOffset=Math.abs(n),this._days=[];for(let s=0;s<6;s++){const o=[];for(let l=0;l<7;l++){const p=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,n),M=this.createDateCell(p,n);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),p)&&(this.todayDate=n+1),o.push(M),n+=1}if(this._days.push(o),this.showCalendarWeeks){const l=this.getISOWeek(new Date(o[0].ariaLabel));this.weekNumbers.push(l)}}this.setSelectedDates()}getISOWeek(t){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));i.setUTCDate(i.getUTCDate()+4-(i.getUTCDay()||7));const n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((+i-+n)/864e5+1)/7)}updateFirstDayOfWeek(t){if(this.isDefaultFirstDayOfWeek)try{this._firstDayOfWeek=(0,re.yo)(t)}catch{this._firstDayOfWeek=0}}createDateCell(t,i){const n=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),o=this.dateTimeAdapter.getDate(t).toString(),l=this.dateTimeAdapter.format(t,this.dateTimeFormats.dateA11yLabel),p=this.isDateEnabled(t),M=i+1,I=M<1||M>n,N="owl-dt-day-"+this.dateTimeAdapter.getDay(t);return new Da(M,o,l,p,I,N)}isDateEnabled(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this.dateTimeAdapter.compare(t,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(t,this.maxDate)<=0)}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}isSameMonth(t,i){return!!(t&&i&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.isValid(i)&&this.dateTimeAdapter.getYear(t)===this.dateTimeAdapter.getYear(i)&&this.dateTimeAdapter.getMonth(t)===this.dateTimeAdapter.getMonth(i))}setSelectedDates(){if(this.selectedDates=[],this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){const t=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth);return void(this.selectedDates[0]=t+1)}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(t=>this.dateTimeAdapter.isValid(t)?this.dateTimeAdapter.differenceInCalendarDays(t,this.firstDateOfMonth)+1:null))}}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(Dt,8),e.rXU(Kt,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(bi,7),2&i){let s;e.mGM(s=e.lsd())&&(n.calendarBodyElm=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)},inputs:{hideOtherMonths:"hideOtherMonths",showCalendarWeeks:"showCalendarWeeks",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},exportAs:["owlYearView"],standalone:!1,decls:8,vars:15,consts:[["class","week-number",4,"ngIf"],[1,"owl-dt-calendar-table","owl-dt-calendar-month-table",3,"ngClass"],[1,"owl-dt-calendar-header"],[1,"owl-dt-weekdays"],["class","owl-dt-weekday","scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"owl-dt-calendar-table-divider",3,"ngClass"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"],[1,"week-number"],[4,"ngFor","ngForOf"],["scope","col",1,"owl-dt-weekday"]],template:function(i,n){1&i&&(e.DNE(0,uu,2,1,"ul",0),e.j41(1,"table",1)(2,"thead",2)(3,"tr",3),e.DNE(4,pu,3,2,"th",4),e.k0s(),e.j41(5,"tr"),e.nrm(6,"th",5),e.k0s()(),e.j41(7,"tbody",6),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()()),2&i&&(e.Y8G("ngIf",n.showCalendarWeeks),e.R7$(),e.AVh("owl-dt-calendar-only-current-month",n.hideOtherMonths),e.Y8G("ngClass",e.eq3(11,yr,n.showCalendarWeeks)),e.R7$(3),e.Y8G("ngForOf",n.weekdays),e.R7$(2),e.Y8G("ngClass",e.eq3(13,yr,n.showCalendarWeeks)),e.R7$(),e.Y8G("rows",n.days)("todayValue",n.todayDate)("selectedValues",n.selectedDates)("selectMode",n.selectMode)("activeCell",n.activeCell))},dependencies:[re.YU,re.Sq,re.bT,bi],styles:[".week-number[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin:46px 0 14px;padding:0;list-style:none;border-right:1px solid rgba(0,0,0,.12);width:8%;font-weight:700}.week-number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8em}"],changeDetection:0})}}return a})(),kr=(()=>{class a{get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._minDate=t?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t)):null}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._maxDate=t?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t)):null}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(t){t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t)}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){return this._currentView===lt.MONTH?this.pickerIntl.prevMonthLabel:this._currentView===lt.YEAR?this.pickerIntl.prevYearLabel:null}get nextButtonLabel(){return this._currentView===lt.MONTH?this.pickerIntl.nextMonthLabel:this._currentView===lt.YEAR?this.pickerIntl.nextYearLabel:null}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this.moveFocusOnNextTick=!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get showControlArrows(){return this._currentView!==lt.MULTI_YEARS}get isMonthView(){return this._currentView===lt.MONTH}get owlDTCalendarClass(){return!0}constructor(t,i,n,s,o,l){this.elmRef=t,this.pickerIntl=i,this.ngZone=n,this.cdRef=s,this.dateTimeAdapter=o,this.dateTimeFormats=l,this.DateView=lt,this._selecteds=[],this.startView=lt.MONTH,this.yearOnly=!1,this.showCalendarWeeks=!1,this.multiyearOnly=!1,this.pickerMomentChange=new e.bkB,this.dateClicked=new e.bkB,this.selectedChange=new e.bkB,this.userSelection=new e.bkB,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.intlChangesSub=st.yU.EMPTY,this.moveFocusOnNextTick=!1,this.dateFilterForViews=p=>!!p&&(!this.dateFilter||this.dateFilter(p))&&(!this.minDate||this.dateTimeAdapter.compare(p,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(p,this.maxDate)<=0),this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub.unsubscribe()}toggleViews(){let t=null;t=this._currentView===lt.MONTH||this.multiyearOnly?lt.MULTI_YEARS:this.yearOnly?this._currentView===lt.YEAR?lt.MULTI_YEARS:lt.YEAR:lt.MONTH,this.currentView=t}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(t){this.dateFilterForViews(t)&&(this.dateClicked.emit(t),this.selectedChange.emit(t))}goToDateInView(t,i){this.handlePickerMomentChange(t),(!this.yearOnly&&!this.multiyearOnly||this.multiyearOnly&&i!==lt.MONTH&&i!==lt.YEAR||this.yearOnly&&i!==lt.MONTH)&&(this.currentView=i)}handlePickerMomentChange(t){this.pickerMoment=this.dateTimeAdapter.clampDate(t,this.minDate,this.maxDate),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.minDate||!this.isSameView(this.pickerMoment,this.minDate)}nextButtonEnabled(){return!this.maxDate||!this.isSameView(this.pickerMoment,this.maxDate)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,rt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}selectYearInMultiYearView(t){this.yearSelected.emit(t)}selectMonthInYearView(t){this.monthSelected.emit(t)}isSameView(t,i){return this._currentView===lt.MONTH?!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i)||this.dateTimeAdapter.getMonth(t)!==this.dateTimeAdapter.getMonth(i)):this._currentView===lt.YEAR&&!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(Fi),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(Dt,8),e.rXU(Kt,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-calendar"]],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar",n.owlDTCalendarClass)},inputs:{minDate:"minDate",maxDate:"maxDate",pickerMoment:"pickerMoment",selected:"selected",selecteds:"selecteds",dateFilter:"dateFilter",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",startView:"startView",yearOnly:"yearOnly",showCalendarWeeks:"showCalendarWeeks",multiyearOnly:"multiyearOnly",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",dateClicked:"dateClicked",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},exportAs:["owlDateTimeCalendar"],standalone:!1,decls:21,vars:16,consts:[[1,"owl-dt-calendar-control"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-control-content"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-period-button",3,"click"],[1,"owl-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d","M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\n                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\n                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                    C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"owl-dt-calendar-main",3,"ngSwitch"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths","pickerMomentChange","selectedChange","userSelection",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","monthSelected","change",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","yearSelected","change",4,"ngSwitchCase"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return n.previousClicked()}),e.j41(2,"span",2),e.qSk(),e.j41(3,"svg",3),e.nrm(4,"path",4),e.k0s()()(),e.joV(),e.j41(5,"div",5)(6,"button",6),e.bIt("click",function(){return n.toggleViews()}),e.j41(7,"span",2),e.EFF(8),e.j41(9,"span",7),e.qSk(),e.j41(10,"svg",8)(11,"g"),e.nrm(12,"path",9),e.k0s()()()()()(),e.joV(),e.j41(13,"button",1),e.bIt("click",function(){return n.nextClicked()}),e.j41(14,"span",2),e.qSk(),e.j41(15,"svg",10),e.nrm(16,"path",11),e.k0s()()()(),e.joV(),e.j41(17,"div",12),e.DNE(18,hu,1,10,"owl-date-time-month-view",13)(19,mu,1,7,"owl-date-time-year-view",14)(20,fu,1,7,"owl-date-time-multi-year-view",15),e.k0s()),2&i&&(e.R7$(),e.xc7("visibility",n.showControlArrows?"visible":"hidden"),e.Y8G("disabled",!n.prevButtonEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(5),e.BMQ("aria-label",n.periodButtonLabel),e.R7$(2),e.SpI(" ",n.periodButtonText," "),e.R7$(),e.xc7("transform","rotate("+(n.isMonthView?0:180)+"deg)"),e.R7$(4),e.xc7("visibility",n.showControlArrows?"visible":"hidden"),e.Y8G("disabled",!n.nextButtonEnabled()),e.BMQ("aria-label",n.nextButtonLabel),e.R7$(4),e.Y8G("ngSwitch",n.currentView),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.MONTH),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.YEAR),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.MULTI_YEARS))},dependencies:[re.ux,re.e1,bt.vR,Au,Ou,Ru],encapsulation:2,changeDetection:0})}}return a})(),Lu=(()=>{class a{get displayValue(){if(this.hasFocus)return this.valueInput.nativeElement.value;const t=this.boxValue||this.value;return null===t||isNaN(t)?"":t<10?"0"+t.toString():t.toString()}get owlDTTimerBoxClass(){return!0}constructor(){this.showDivider=!1,this.step=1,this.valueChange=new e.bkB,this.inputChange=new e.bkB,this.inputStream=new Ze.B,this.inputStreamSub=st.yU.EMPTY,this.hasFocus=!1,this.onValueInputMouseWheelBind=this.onValueInputMouseWheel.bind(this)}ngOnInit(){this.inputStreamSub=this.inputStream.pipe((0,su.B)(750)).subscribe(t=>{if(t){const i=(0,Ue.OE)(t,0);this.updateValueViaInput(i)}}),this.bindValueInputMouseWheel()}ngOnDestroy(){this.unbindValueInputMouseWheel(),this.inputStreamSub.unsubscribe()}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(t){this.inputStream.next(t)}focusIn(){this.hasFocus=!0}focusOut(t){if(this.hasFocus=!1,t){const i=(0,Ue.OE)(t,0);this.updateValueViaInput(i)}}updateValue(t){this.valueChange.emit(t)}updateValueViaInput(t){t>this.max||t<this.min||this.inputChange.emit(t)}onValueInputMouseWheel(t){const i=(t=t||window.event).wheelDelta||-t.deltaY||-t.detail;i>0?this.upBtnDisabled||this.upBtnClicked():i<0&&(this.downBtnDisabled||this.downBtnClicked()),t.preventDefault?t.preventDefault():t.returnValue=!1}bindValueInputMouseWheel(){this.valueInput.nativeElement.addEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}unbindValueInputMouseWheel(){this.valueInput.nativeElement.removeEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-timer-box"]],viewQuery:function(i,n){if(1&i&&e.GBs(gu,7),2&i){let s;e.mGM(s=e.lsd())&&(n.valueInput=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-timer-box",n.owlDTTimerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},exportAs:["owlDateTimeTimerBox"],standalone:!1,decls:14,vars:7,consts:[["valueInput",""],["class","owl-dt-timer-divider","aria-hidden","true",4,"ngIf"],["type","button","tabindex","-1",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d","M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0\n                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4\n                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"],[1,"owl-dt-timer-content"],["maxlength","2",1,"owl-dt-timer-input",3,"keydown.arrowup","keydown.arrowdown","input","focusin","focusout","value"],[1,"owl-hidden-accessible"],["d","M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\n                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\n                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"],["aria-hidden","true",1,"owl-dt-timer-divider"]],template:function(i,n){if(1&i){const s=e.RV6();e.DNE(0,_u,1,0,"div",1),e.j41(1,"button",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.upBtnClicked())}),e.j41(2,"span",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s()()(),e.joV(),e.j41(5,"label",6)(6,"input",7,0),e.bIt("keydown.arrowup",function(){return e.eBV(s),e.Njj(!n.upBtnDisabled&&n.upBtnClicked())})("keydown.arrowdown",function(){return e.eBV(s),e.Njj(!n.downBtnDisabled&&n.downBtnClicked())})("input",function(){e.eBV(s);const l=e.sdS(7);return e.Njj(n.handleInputChange(l.value))})("focusin",function(){return e.eBV(s),e.Njj(n.focusIn())})("focusout",function(){e.eBV(s);const l=e.sdS(7);return e.Njj(n.focusOut(l.value))}),e.k0s(),e.j41(8,"span",8),e.EFF(9),e.k0s()(),e.j41(10,"button",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.downBtnClicked())}),e.j41(11,"span",3),e.qSk(),e.j41(12,"svg",4),e.nrm(13,"path",9),e.k0s()()()}2&i&&(e.Y8G("ngIf",n.showDivider),e.R7$(),e.Y8G("disabled",n.upBtnDisabled),e.BMQ("aria-label",n.upBtnAriaLabel),e.R7$(5),e.Y8G("value",n.displayValue),e.R7$(3),e.JRh(n.inputLabel),e.R7$(),e.Y8G("disabled",n.downBtnDisabled),e.BMQ("aria-label",n.downBtnAriaLabel))},dependencies:[re.bT],encapsulation:2,changeDetection:0})}}return a})(),Mr=(()=>{class a{get pickerMoment(){return this._pickerMoment}set pickerMoment(t){t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now()}get minDateTime(){return this._minDateTime}set minDateTime(t){t=this.dateTimeAdapter.deserialize(t),this._minDateTime=this.getValidDate(t)}get maxDateTime(){return this._maxDateTime}set maxDateTime(t){t=this.dateTimeAdapter.deserialize(t),this._maxDateTime=this.getValidDate(t)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let t=this.hourValue;return this.hour12Timer&&(0===t?(t=12,this.isPM=!1):t>0&&t<12?this.isPM=!1:12===t?this.isPM=!0:t>12&&t<24&&(t-=12,this.isPM=!0)),t}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get owlDTTimerClass(){return!0}get owlDTTimeTabIndex(){return-1}constructor(t,i,n,s,o){this.ngZone=t,this.elmRef=i,this.pickerIntl=n,this.cdRef=s,this.dateTimeAdapter=o,this.isPM=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new e.bkB}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,rt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(t){this.hour12Timer&&this.isPM&&t>=1&&t<=11?t+=12:this.hour12Timer&&!this.isPM&&12===t&&(t=0),this.setHourValue(t)}setHourValue(t){const i=this.dateTimeAdapter.setHours(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setMinuteValue(t){const i=this.dateTimeAdapter.setMinutes(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setSecondValue(t){const i=this.dateTimeAdapter.setSeconds(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setMeridiem(t){this.isPM=!this.isPM;let i=this.hourValue;this.isPM?i+=12:i-=12,i>=0&&i<=23&&this.setHourValue(i),this.cdRef.markForCheck(),t.preventDefault()}upHourEnabled(){return!this.maxDateTime||this.compareHours(this.stepHour,this.maxDateTime)<1}downHourEnabled(){return!this.minDateTime||this.compareHours(-this.stepHour,this.minDateTime)>-1}upMinuteEnabled(){return!this.maxDateTime||this.compareMinutes(this.stepMinute,this.maxDateTime)<1}downMinuteEnabled(){return!this.minDateTime||this.compareMinutes(-this.stepMinute,this.minDateTime)>-1}upSecondEnabled(){return!this.maxDateTime||this.compareSeconds(this.stepSecond,this.maxDateTime)<1}downSecondEnabled(){return!this.minDateTime||this.compareSeconds(-this.stepSecond,this.minDateTime)>-1}compareHours(t,i){const n=this.dateTimeAdapter.getHours(this.pickerMoment)+t,s=this.dateTimeAdapter.setHours(this.pickerMoment,n);return this.dateTimeAdapter.compare(s,i)}compareMinutes(t,i){const n=this.dateTimeAdapter.getMinutes(this.pickerMoment)+t,s=this.dateTimeAdapter.setMinutes(this.pickerMoment,n);return this.dateTimeAdapter.compare(s,i)}compareSeconds(t,i){const n=this.dateTimeAdapter.getSeconds(this.pickerMoment)+t,s=this.dateTimeAdapter.setSeconds(this.pickerMoment,n);return this.dateTimeAdapter.compare(s,i)}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(Fi),e.rXU(e.gRc),e.rXU(Dt,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-timer"]],hostVars:3,hostBindings:function(i,n){2&i&&(e.BMQ("tabindex",n.owlDTTimeTabIndex),e.AVh("owl-dt-timer",n.owlDTTimerClass))},inputs:{pickerMoment:"pickerMoment",minDateTime:"minDateTime",maxDateTime:"maxDateTime",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},exportAs:["owlDateTimeTimer"],standalone:!1,decls:4,vars:22,consts:[[3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step","inputLabel"],[3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel"],[3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel","inputChange","valueChange",4,"ngIf"],["class","owl-dt-timer-hour12",4,"ngIf"],[1,"owl-dt-timer-hour12"],["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"owl-dt-control-button-content"]],template:function(i,n){1&i&&(e.j41(0,"owl-date-time-timer-box",0),e.bIt("inputChange",function(o){return n.setHourValueViaInput(o)})("valueChange",function(o){return n.setHourValue(o)}),e.k0s(),e.j41(1,"owl-date-time-timer-box",1),e.bIt("inputChange",function(o){return n.setMinuteValue(o)})("valueChange",function(o){return n.setMinuteValue(o)}),e.k0s(),e.DNE(2,vu,1,10,"owl-date-time-timer-box",2)(3,bu,4,1,"div",3)),2&i&&(e.Y8G("upBtnAriaLabel",n.upHourButtonLabel)("downBtnAriaLabel",n.downHourButtonLabel)("upBtnDisabled",!n.upHourEnabled())("downBtnDisabled",!n.downHourEnabled())("boxValue",n.hourBoxValue)("value",n.hourValue)("min",0)("max",23)("step",n.stepHour)("inputLabel","Hour"),e.R7$(),e.Y8G("showDivider",!0)("upBtnAriaLabel",n.upMinuteButtonLabel)("downBtnAriaLabel",n.downMinuteButtonLabel)("upBtnDisabled",!n.upMinuteEnabled())("downBtnDisabled",!n.downMinuteEnabled())("value",n.minuteValue)("min",0)("max",59)("step",n.stepMinute)("inputLabel","Minute"),e.R7$(),e.Y8G("ngIf",n.showSecondsTimer),e.R7$(),e.Y8G("ngIf",n.hour12Timer))},dependencies:[re.bT,Lu],encapsulation:2,changeDetection:0})}}return a})();const Dr={transformPicker:(0,me.hZ)("transformPicker",[(0,me.wk)("void",(0,me.iF)({opacity:0,transform:"scale(1, 0)"})),(0,me.wk)("enter",(0,me.iF)({opacity:1,transform:"scale(1, 1)"})),(0,me.kY)("void => enter",(0,me.Os)([(0,me.P)("@fadeInPicker",(0,me.MA)(),{optional:!0}),(0,me.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),(0,me.kY)("enter => void",(0,me.i0)("100ms linear",(0,me.iF)({opacity:0})))]),fadeInPicker:(0,me.hZ)("fadeInPicker",[(0,me.wk)("enter",(0,me.iF)({opacity:1})),(0,me.wk)("void",(0,me.iF)({opacity:0})),(0,me.kY)("void => enter",(0,me.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let dn=(()=>{class a{get hidePickerStream(){return this.hidePicker$.asObservable()}get confirmSelectedStream(){return this.confirmSelected$.asObservable()}get beforePickerOpenedStream(){return this.beforePickerOpened$.asObservable()}get pickerOpenedStream(){return this.pickerOpened$.asObservable()}get pickerMoment(){return this._clamPickerMoment}set pickerMoment(t){t&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(t,this.picker.minDateTime,this.picker.maxDateTime)),this.cdRef.markForCheck()}get pickerType(){return this.picker.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){const t=this.picker.selecteds[0];return t?this.dateTimeAdapter.format(t,this.picker.formatString):""}get toFormattedValue(){const t=this.picker.selecteds[1];return t?this.dateTimeAdapter.format(t,this.picker.formatString):""}get showControlButtons(){return"dialog"===this.picker.pickerMode||"calendar"!==this.picker.pickerType&&"inline"!==this.picker.pickerMode}get containerElm(){return this.elmRef.nativeElement}get owlDTContainerClass(){return!0}get owlDTPopupContainerClass(){return"popup"===this.picker.pickerMode}get owlDTDialogContainerClass(){return"dialog"===this.picker.pickerMode}get owlDTInlineContainerClass(){return"inline"===this.picker.pickerMode}get owlDTContainerDisabledClass(){return this.picker.disabled}get owlDTContainerId(){return this.picker.id}get owlDTContainerAnimation(){return"inline"===this.picker.pickerMode?"":"enter"}constructor(t,i,n,s){this.cdRef=t,this.elmRef=i,this.pickerIntl=n,this.dateTimeAdapter=s,this.activeSelectedIndex=0,this.hidePicker$=new Ze.B,this.confirmSelected$=new Ze.B,this.beforePickerOpened$=new Ze.B,this.pickerOpened$=new Ze.B}ngOnInit(){"range"===this.picker.selectMode&&(this.picker.selecteds[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(this.picker.selecteds[0])),this.picker.selecteds[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(this.picker.selecteds[1])))}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationStart(t){"enter"===t.toState&&this.beforePickerOpened$.next(null)}handleContainerAnimationDone(t){"enter"===t.toState&&this.pickerOpened$.next(null)}dateSelected(t){let i;if(this.picker.isInSingleMode)return i=this.dateSelectedInSingleMode(t),void(i?(this.pickerMoment=i,this.picker.select(i)):"calendar"===this.pickerType&&this.hidePicker$.next(null));this.picker.isInRangeMode&&(i=this.dateSelectedInRangeMode(t),i&&(this.pickerMoment=i[this.activeSelectedIndex],this.picker.select(i)))}timeSelected(t){if(this.pickerMoment=this.dateTimeAdapter.clone(t),this.picker.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode)return void this.picker.select(this.pickerMoment);if(this.picker.isInRangeMode){const i=[...this.picker.selecteds];0===this.activeSelectedIndex&&i[1]&&1===this.dateTimeAdapter.compare(this.pickerMoment,i[1])||1===this.activeSelectedIndex&&i[0]&&-1===this.dateTimeAdapter.compare(this.pickerMoment,i[0])?(i[0]=this.pickerMoment,i[1]=this.pickerMoment):i[this.activeSelectedIndex]=this.pickerMoment,i[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(i[0])),i[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(i[1])),this.picker.select(i)}}}onCancelClicked(t){this.hidePicker$.next(null),t.preventDefault()}onSetClicked(t){if(!this.picker.dateTimeChecker(this.pickerMoment))return this.hidePicker$.next(null),void t.preventDefault();this.confirmSelected$.next(t),t.preventDefault()}handleClickOnInfoGroup(t,i){this.setActiveSelectedIndex(i),t.preventDefault(),t.stopPropagation()}handleKeydownOnInfoGroup(t,i,n){switch(t.keyCode){case de.n6:case de.LE:case de.i7:case de.UQ:i.focus(),this.setActiveSelectedIndex(0===n?1:0),t.preventDefault(),t.stopPropagation();break;case de.t6:this.setActiveSelectedIndex(n),t.preventDefault(),t.stopPropagation();break;default:return}}setActiveSelectedIndex(t){if("range"===this.picker.selectMode&&this.activeSelectedIndex!==t){this.activeSelectedIndex=t;const i=this.picker.selecteds[this.activeSelectedIndex];this.picker.selecteds&&i&&(this.pickerMoment=this.dateTimeAdapter.clone(i))}}initPicker(){this.pickerMoment=this.picker.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex="rangeTo"===this.picker.selectMode?1:0}dateSelectedInSingleMode(t){return this.dateTimeAdapter.isSameDay(t,this.picker.selected)?null:this.updateAndCheckCalendarDate(t)}dateSelectedInRangeMode(t){let i=this.picker.selecteds[0],n=this.picker.selecteds[1];const s=this.updateAndCheckCalendarDate(t);return s?("range"===this.picker.selectMode?this.picker.selecteds&&this.picker.selecteds.length&&!n&&i&&this.dateTimeAdapter.differenceInCalendarDays(s,i)>=0?(n=this.picker.endAt&&!this.retainEndTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.picker.endAt),this.dateTimeAdapter.getMinutes(this.picker.endAt),this.dateTimeAdapter.getSeconds(this.picker.endAt)):this.retainEndTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.retainEndTime),this.dateTimeAdapter.getMinutes(this.retainEndTime),this.dateTimeAdapter.getSeconds(this.retainEndTime)):s,this.activeSelectedIndex=1):(i=this.picker.startAt&&!this.retainStartTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.picker.startAt),this.dateTimeAdapter.getMinutes(this.picker.startAt),this.dateTimeAdapter.getSeconds(this.picker.startAt)):this.retainStartTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.retainStartTime),this.dateTimeAdapter.getMinutes(this.retainStartTime),this.dateTimeAdapter.getSeconds(this.retainStartTime)):s,n=null,this.activeSelectedIndex=0):"rangeFrom"===this.picker.selectMode?(i=s,n&&this.dateTimeAdapter.compare(i,n)>0&&(n=null)):"rangeTo"===this.picker.selectMode&&(n=s,i&&this.dateTimeAdapter.compare(i,n)>0&&(i=null)),[i,n]):null}updateAndCheckCalendarDate(t){let i;return"both"===this.picker.pickerType?(i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),i=this.dateTimeAdapter.clampDate(i,this.picker.minDateTime,this.picker.maxDateTime)):i=this.dateTimeAdapter.clone(t),this.picker.dateTimeChecker(i)?i:null}focusPicker(){"inline"!==this.picker.pickerMode&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(Fi),e.rXU(Dt,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-container"]],viewQuery:function(i,n){if(1&i&&(e.GBs(kr,5),e.GBs(Mr,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.calendar=s.first),e.mGM(s=e.lsd())&&(n.timer=s.first)}},hostVars:12,hostBindings:function(i,n){1&i&&e.Kam("@transformPicker.start",function(o){return n.handleContainerAnimationStart(o)})("@transformPicker.done",function(o){return n.handleContainerAnimationDone(o)}),2&i&&(e.zvX("@transformPicker",n.owlDTContainerAnimation),e.BMQ("id",n.owlDTContainerId),e.AVh("owl-dt-container",n.owlDTContainerClass)("owl-dt-popup-container",n.owlDTPopupContainerClass)("owl-dt-dialog-container",n.owlDTDialogContainerClass)("owl-dt-inline-container",n.owlDTInlineContainerClass)("owl-dt-container-disabled",n.owlDTContainerDisabledClass))},exportAs:["owlDateTimeContainer"],standalone:!1,decls:5,vars:6,consts:[["from",""],["to",""],[1,"owl-dt-container-inner",3,"cdkTrapFocus"],["class","owl-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths","pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange",4,"ngIf"],["class","owl-dt-container-row",3,"pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond","selectedChange",4,"ngIf"],["role","radiogroup","class","owl-dt-container-info owl-dt-container-row",4,"ngIf"],["class","owl-dt-container-buttons owl-dt-container-row",4,"ngIf"],[1,"owl-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths"],[1,"owl-dt-container-row",3,"selectedChange","pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"owl-dt-container-info","owl-dt-container-row"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-from",3,"click","keydown","tabindex","ngClass"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-container-range-content"],[1,"owl-dt-container-info-label"],[1,"owl-dt-container-info-value"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-to",3,"click","keydown","tabindex","ngClass"],[1,"owl-dt-container-buttons","owl-dt-container-row"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-container-control-button",3,"click"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"]],template:function(i,n){1&i&&(e.j41(0,"div",2),e.DNE(1,yu,1,13,"owl-date-time-calendar",3)(2,Cu,1,8,"owl-date-time-timer",4)(3,wu,15,14,"div",5)(4,ku,7,2,"div",6),e.k0s()),2&i&&(e.Y8G("cdkTrapFocus","inline"!==n.picker.pickerMode)("@fadeInPicker","inline"===n.picker.pickerMode?"":"enter"),e.R7$(),e.Y8G("ngIf","both"===n.pickerType||"calendar"===n.pickerType),e.R7$(),e.Y8G("ngIf","both"===n.pickerType||"timer"===n.pickerType),e.R7$(),e.Y8G("ngIf",n.picker.isInRangeMode),e.R7$(),e.Y8G("ngIf",n.showControlButtons))},dependencies:[re.YU,re.bT,bt.kB,Mr,kr],encapsulation:2,data:{animation:[Dr.transformPicker,Dr.fadeInPicker]},changeDetection:0})}}return a})(),Vu=0;class Yu{constructor(){this.ariaDescribedBy=null,this.autoFocus=!0,this.hasBackdrop=!0,this.data=null,this.disableClose=!1,this.role="dialog",this.paneClass="",this.event=null,this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new mt.t0,this.id="owl-dialog-"+Vu++}}class Tr{constructor(r,t,i,n){this.overlayRef=r,this.container=t,this.id=i,this._beforeClose$=new Ze.B,this._beforeOpen$=new Ze.B,this._afterOpen$=new Ze.B,this._afterClosed$=new Ze.B,this.locationChanged=st.yU.EMPTY,this.disableClose=!0,this.disableClose=this.container.config.disableClose,this.container.animationStateChanged.pipe((0,vt.p)(s=>"start"===s.phaseName&&"enter"===s.toState),(0,rt.s)(1)).subscribe(()=>{this._beforeOpen$.next(null),this._beforeOpen$.complete()}),this.container.animationStateChanged.pipe((0,vt.p)(s=>"done"===s.phaseName&&"enter"===s.toState),(0,rt.s)(1)).subscribe(()=>{this._afterOpen$.next(null),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe((0,vt.p)(s=>"done"===s.phaseName&&"exit"===s.toState),(0,rt.s)(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged.unsubscribe(),this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=null}),this.overlayRef.keydownEvents().pipe((0,vt.p)(s=>s.keyCode===de._f&&!this.disableClose)).subscribe(()=>this.close()),n&&(this.locationChanged=n.subscribe(()=>{this.container.config.closeOnNavigation&&this.close()}))}close(r){this.result=r,this.container.animationStateChanged.pipe((0,vt.p)(t=>"start"===t.phaseName),(0,rt.s)(1)).subscribe(()=>{this._beforeClose$.next(r),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(r){const t=this.getPositionStrategy();return r&&(r.left||r.right)?r.left?t.left(r.left):t.right(r.right):t.centerHorizontally(),r&&(r.top||r.bottom)?r.top?t.top(r.top):t.bottom(r.bottom):t.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(r="auto",t="auto"){return this.getPositionStrategy().width(r).height(t),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}beforeOpen(){return this._beforeOpen$.asObservable()}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}}const Nu={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},zu={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"};let xr=(()=>{class a extends Mt.lb{get config(){return this._config}get owlDialogContainerClass(){return!0}get owlDialogContainerTabIndex(){return-1}get owlDialogContainerId(){return this._config.id}get owlDialogContainerRole(){return this._config.role||null}get owlDialogContainerAriaLabelledby(){return this.ariaLabelledBy}get owlDialogContainerAriaDescribedby(){return this._config.ariaDescribedBy||null}get owlDialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(t,i,n,s){super(),this.changeDetector=t,this.elementRef=i,this.focusTrapFactory=n,this.document=s,this.portalOutlet=null,this.ariaLabelledBy=null,this.animationStateChanged=new e.bkB,this.isAnimating=!1,this.state="enter",this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0},this.elementFocusedBeforeDialogWasOpened=null}ngOnInit(){}attachComponentPortal(t){if(this.portalOutlet.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){throw new Error("Method not implemented.")}setConfig(t){this._config=t,t.event&&this.calculateZoomOrigin(event)}onAnimationStart(t){this.isAnimating=!0,this.animationStateChanged.emit(t)}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.animationStateChanged.emit(t),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(t){if(!t)return;const i=t.clientX,n=t.clientY,s=window.innerWidth/2,p=n-window.innerHeight/2,M=i/window.innerWidth,I=n/window.innerHeight;this.params.x=i-s+"px",this.params.y=`${p}px`,this.params.ox=100*M+"%",this.params.oy=100*I+"%",this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config.autoFocus&&this.focusTrap.focusInitialElementWhenReady()}restoreFocus(){const t=this.elementFocusedBeforeDialogWasOpened;t&&"function"==typeof t.focus&&t.focus(),this.focusTrap&&this.focusTrap.destroy()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(bt.GX),e.rXU(re.qQ,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-dialog-container"]],viewQuery:function(i,n){if(1&i&&e.GBs(Mt.I3,7),2&i){let s;e.mGM(s=e.lsd())&&(n.portalOutlet=s.first)}},hostVars:8,hostBindings:function(i,n){1&i&&e.Kam("@slideModal.start",function(o){return n.onAnimationStart(o)})("@slideModal.done",function(o){return n.onAnimationDone(o)}),2&i&&(e.zvX("@slideModal",n.owlDialogContainerAnimation),e.BMQ("tabindex",n.owlDialogContainerTabIndex)("id",n.owlDialogContainerId)("role",n.owlDialogContainerRole)("aria-labelledby",n.owlDialogContainerAriaLabelledby)("aria-describedby",n.owlDialogContainerAriaDescribedby),e.AVh("owl-dialog-container",n.owlDialogContainerClass))},standalone:!1,features:[e.Vt3],decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){1&i&&e.DNE(0,Mu,0,0,"ng-template",0)},dependencies:[Mt.I3],encapsulation:2,data:{animation:[(0,me.hZ)("slideModal",[(0,me.kY)("void => enter",[(0,me.iF)(zu),(0,me.i0)("300ms cubic-bezier(0.35, 0, 0.25, 1)",(0,me.iF)("*")),(0,me.i0)("150ms",(0,me.i7)([(0,me.iF)({transform:"scale(1)",offset:0}),(0,me.iF)({transform:"scale(1.05)",offset:.3}),(0,me.iF)({transform:"scale(.95)",offset:.8}),(0,me.iF)({transform:"scale(1)",offset:1})])),(0,me.MA)()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),(0,me.kY)("enter => exit",[(0,me.MA)(),(0,me.i0)(200,(0,me.iF)(Nu))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}}return a})();const ju=new e.nKC("OwlDialogData"),Sr=new e.nKC("owl-dialog-scroll-strategy"),Gu={provide:Sr,deps:[mt.hJ],useFactory:function Hu(a){return()=>a.scrollStrategies.block()}},$u=new e.nKC("owl-dialog-default-options");let Ir=(()=>{class a{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get beforeOpen(){return this.parentDialog?this.parentDialog.beforeOpen:this._beforeOpenAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){const t=this.parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(t,i,n,s,o,l,p){this.overlay=t,this.injector=i,this.location=n,this.defaultOptions=o,this.parentDialog=l,this.overlayContainer=p,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._beforeOpenAtThisLevel=new Ze.B,this._afterOpenAtThisLevel=new Ze.B,this._afterAllClosedAtThisLevel=new Ze.B,this.afterAllClosed=(0,au.v)(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:this._afterAllClosed.pipe((0,Qe.Z)(void 0))),this.scrollStrategy=s,!l&&n&&n.subscribe(()=>this.closeAll())}open(t,i){if(i=function Uu(a,r){return function Bu(a,...r){if(null==a)throw TypeError("Cannot convert undefined or null to object");for(const t of r)if(null!=t)for(const i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a}(new Yu,a,r)}(i,this.defaultOptions),i.id&&this.getDialogById(i.id))throw Error(`Dialog with id "${i.id}" exists already. The dialog id must be unique.`);const n=this.createOverlay(i),s=this.attachDialogContainer(n,i),o=this.attachDialogContent(t,s,n,i);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this.removeOpenDialog(o)),this.beforeOpen.next(o),this.afterOpen.next(o),o}closeAll(){let t=this.openDialogs.length;for(;t--;)this.openDialogs[t].close()}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}attachDialogContent(t,i,n,s){const o=new Tr(n,i,s.id,this.location);if(s.hasBackdrop&&n.backdropClick().subscribe(()=>{o.disableClose||o.close()}),!(t instanceof e.C4Q)){const l=this.createInjector(s,o,i),p=i.attachComponentPortal(new Mt.A8(t,void 0,l));o.componentInstance=p.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}createInjector(t,i,n){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=new WeakMap;return o.set(Tr,i),o.set(xr,n),o.set(ju,t.data),new Mt.JP(s||this.injector,o)}createOverlay(t){const i=this.getOverlayConfig(t);return this.overlay.create(i)}attachDialogContainer(t,i){const n=new Mt.A8(xr,i.viewContainerRef),s=t.attach(n);return s.instance.setConfig(i),s.instance}getOverlayConfig(t){const i=new mt.rR({positionStrategy:this.overlay.position().global(),scrollStrategy:t.scrollStrategy||this.scrollStrategy(),panelClass:t.paneClass,hasBackdrop:t.hasBackdrop,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}removeOpenDialog(t){const i=this._openDialogsAtThisLevel.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){const t=this.overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let n=i.length-1;n>-1;n--){const s=i[n];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(mt.hJ),e.KVO(e.zZn),e.KVO(re.aZ,8),e.KVO(Sr),e.KVO($u,8),e.KVO(a,12),e.KVO(mt.Sf))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Er=new e.nKC("owl-dtpicker-scroll-strategy"),Xu={provide:Er,deps:[mt.hJ],useFactory:function Wu(a){return()=>a.scrollStrategies.block()}};let Qu=(()=>{class a extends wr{get startAt(){return this._startAt?this._startAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[0]||null:"rangeTo"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null}set startAt(t){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get endAt(){return this._endAt?this._endAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null}set endAt(t){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get pickerType(){return this._pickerType}set pickerType(t){t!==this._pickerType&&(this._pickerType=t,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(t){this._pickerMode="popup"===t?t:"dialog"}get disabled(){return void 0===this._disabled&&this._dtInput?this._dtInput.disabled:!!this._disabled}set disabled(t){(t=(0,Ue.he)(t))!==this._disabled&&(this._disabled=t,this.disabledChange.next(t))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(t){this._selected=t,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t,this.changeDetector.markForCheck()}get minDateTime(){return this._dtInput&&this._dtInput.min}get maxDateTime(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput&&this._dtInput.dateTimeFilter}get selectMode(){return this._dtInput.selectMode}get isInSingleMode(){return this._dtInput.isInSingleMode}get isInRangeMode(){return this._dtInput.isInRangeMode}constructor(t,i,n,s,o,l,p,M,I){super(l,M),this.overlay=t,this.viewContainerRef=i,this.dialogService=n,this.ngZone=s,this.changeDetector=o,this.dateTimeAdapter=l,this.dateTimeFormats=M,this.document=I,this.backdropClass=[],this.panelClass=[],this._pickerType="both",this._pickerMode="popup",this._opened=!1,this.afterPickerClosed=new e.bkB,this.beforePickerOpen=new e.bkB,this.afterPickerOpen=new e.bkB,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.dateSelected=new e.bkB,this.confirmSelectedChange=new e.bkB,this.disabledChange=new e.bkB,this.dtInputSub=st.yU.EMPTY,this.hidePickerStreamSub=st.yU.EMPTY,this.confirmSelectedStreamSub=st.yU.EMPTY,this.pickerOpenedStreamSub=st.yU.EMPTY,this.pickerBeforeOpenedStreamSub=st.yU.EMPTY,this.focusedElementBeforeOpen=null,this._selecteds=[],this.defaultScrollStrategy=p}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub.unsubscribe(),this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(t){if(this._dtInput)throw Error("A Owl DateTimePicker can only be associated with a single input.");this._dtInput=t,this.dtInputSub=this._dtInput.valueChange.subscribe(i=>{Array.isArray(i)?this.selecteds=i:this.selected=i})}open(){if(!this._opened&&!this.disabled){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&"calendar"!==this.pickerType&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),"dialog"===this.pickerMode?this.openAsDialog():this.openAsPopup(),this.pickerContainer.picker=this,this.hidePickerStreamSub=this.pickerContainer.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer.confirmSelectedStream.subscribe(t=>{this.confirmSelect(t)})}}select(t){Array.isArray(t)?this.selecteds=[...t]:this.selected=t,"dialog"!==this.pickerMode&&"calendar"===this.pickerType&&("single"===this.selectMode&&this.selected||"rangeFrom"===this.selectMode&&this.selecteds[0]||"rangeTo"===this.selectMode&&this.selecteds[1]||"range"===this.selectMode&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(t){this.yearSelected.emit(t)}selectMonth(t){this.monthSelected.emit(t)}selectDate(t){this.dateSelected.emit(t)}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub&&(this.hidePickerStreamSub.unsubscribe(),this.hidePickerStreamSub=null),this.confirmSelectedStreamSub&&(this.confirmSelectedStreamSub.unsubscribe(),this.confirmSelectedStreamSub=null),this.pickerBeforeOpenedStreamSub&&(this.pickerBeforeOpenedStreamSub.unsubscribe(),this.pickerBeforeOpenedStreamSub=null),this.pickerOpenedStreamSub&&(this.pickerOpenedStreamSub.unsubscribe(),this.pickerOpenedStreamSub=null),this.dialogRef&&(this.dialogRef.close(),this.dialogRef=null);const t=()=>{this._opened&&(this._opened=!1,this.afterPickerClosed.emit(this.selected||this.selecteds),this.focusedElementBeforeOpen=null)};this.focusedElementBeforeOpen&&"function"==typeof this.focusedElementBeforeOpen.focus?(this.focusedElementBeforeOpen.focus(),setTimeout(t)):t()}confirmSelect(t){if(this.isInSingleMode){const i=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(i)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open(dn,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...(0,Ue.FG)(this.backdropClass)],paneClass:["owl-dt-dialog",...(0,Ue.FG)(this.panelClass)],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.beforeOpen().subscribe(()=>{this.beforePickerOpen.emit(null)}),this.dialogRef.afterOpen().subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new Mt.A8(dn,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef.hasAttached()){const t=this.popupRef.attach(this.pickerContainerPortal);this.pickerContainer=t.instance,this.ngZone.onStable.asObservable().pipe((0,rt.s)(1)).subscribe(()=>{this.popupRef.updatePosition()}),this.pickerBeforeOpenedStreamSub=this.pickerContainer.beforePickerOpenedStream.pipe((0,rt.s)(1)).subscribe(()=>{this.beforePickerOpen.emit(null)}),this.pickerOpenedStreamSub=this.pickerContainer.pickerOpenedStream.pipe((0,rt.s)(1)).subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0})}}createPopup(){const t=new mt.rR({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...(0,Ue.FG)(this.backdropClass)],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["owl-dt-popup",...(0,Ue.FG)(this.panelClass)]});this.popupRef=this.overlay.create(t),(0,li.h)(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe((0,vt.p)(i=>i.keyCode===de._f||this._dtInput&&i.altKey&&i.keyCode===de.i7))).subscribe(()=>this.close())}createPopupPositionStrategy(){return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".owl-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(mt.hJ),e.rXU(e.c1b),e.rXU(Ir),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(Dt,8),e.rXU(Er),e.rXU(Kt,8),e.rXU(re.qQ,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",endAt:"endAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",opened:"opened",scrollStrategy:"scrollStrategy"},outputs:{afterPickerClosed:"afterPickerClosed",beforePickerOpen:"beforePickerOpen",afterPickerOpen:"afterPickerOpen",yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},exportAs:["owlDateTime"],standalone:!1,features:[e.Vt3],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}}return a})();const Ku={provide:ge.kq,useExisting:(0,e.Rfq)(()=>Sa),multi:!0},Ju={provide:ge.cz,useExisting:(0,e.Rfq)(()=>Sa),multi:!0};let Sa=(()=>{class a{get required(){return this._required}set required(t){this._required=""===t||t,this.validatorOnChange()}set owlDateTime(t){this.registerDateTimePicker(t)}set owlDateTimeFilter(t){this._dateTimeFilter=t,this.validatorOnChange()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return!!this._disabled}set disabled(t){const i=(0,Ue.he)(t),n=this.elmRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.disabledChange.emit(i)),i&&n.blur&&n.blur()}get min(){return this._min}set min(t){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.validatorOnChange()}get max(){return this._max}set max(t){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.validatorOnChange()}get selectMode(){return this._selectMode}set selectMode(t){if("single"!==t&&"range"!==t&&"rangeFrom"!==t&&"rangeTo"!==t)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=t}get value(){return this._value}set value(t){t=this.dateTimeAdapter.deserialize(t),this.lastValueValid=!t||this.dateTimeAdapter.isValid(t),t=this.getValidDate(t);const i=this._value;this._value=t,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(i,t)||this.valueChange.emit(t)}get values(){return this._values}set values(t){t&&t.length>0?(this._values=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get owlDateTimeInputAriaHaspopup(){return!0}get owlDateTimeInputAriaOwns(){return this.dtPicker.opened&&this.dtPicker.id||null}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):null}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):null}get owlDateTimeInputDisabled(){return this.disabled}constructor(t,i,n,s){if(this.elmRef=t,this.renderer=i,this.dateTimeAdapter=n,this.dateTimeFormats=s,this._selectMode="single",this.rangeSeparator="-",this._values=[],this.dateTimeChange=new e.bkB,this.dateTimeInput=new e.bkB,this.dtPickerSub=st.yU.EMPTY,this.localeSub=st.yU.EMPTY,this.lastValueValid=!0,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.validatorOnChange=()=>{},this.parseValidator=()=>this.lastValueValid?null:{owlDateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=o=>{if(this.isInSingleMode){const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.min||!l||this.dateTimeAdapter.compare(this.min,l)<=0?null:{owlDateTimeMin:{min:this.min,actual:l}}}if(this.isInRangeMode&&o.value){const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.min||!l||!p||this.dateTimeAdapter.compare(this.min,l)<=0?null:{owlDateTimeMin:{min:this.min,actual:[l,p]}}}},this.maxValidator=o=>{if(this.isInSingleMode){const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.max||!l||this.dateTimeAdapter.compare(this.max,l)>=0?null:{owlDateTimeMax:{max:this.max,actual:l}}}if(this.isInRangeMode&&o.value){const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.max||!l||!p||this.dateTimeAdapter.compare(this.max,p)>=0?null:{owlDateTimeMax:{max:this.max,actual:[l,p]}}}},this.filterValidator=o=>{const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return this._dateTimeFilter&&l&&!this._dateTimeFilter(l)?{owlDateTimeFilter:!0}:null},this.rangeValidator=o=>{if(this.isInSingleMode||!o.value)return null;const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!l||!p||this.dateTimeAdapter.compare(l,p)<=0?null:{owlDateTimeRange:!0}},this.requiredRangeValidator=o=>{if(this.isInSingleMode||!o.value||!this.required)return null;const l=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return l&&p?null:{owlRequiredDateTimeRange:[l,p]}},this.validator=ge.k0.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator,this.requiredRangeValidator]),this.valueChange=new e.bkB,this.disabledChange=new e.bkB,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimePicker. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("OwlDateTimePicker: the picker input doesn't have any associated owl-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker.confirmSelectedChange.subscribe(t=>{Array.isArray(t)?this.values=t:this.value=t,this.onModelChange(t),this.onModelTouched(),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:t,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub.unsubscribe(),this.localeSub.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()}writeValue(t){this.isInSingleMode?this.value=t:this.values=t}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.validator?this.validator(t):null}registerOnValidatorChange(t){this.validatorOnChange=t}handleKeydownOnHost(t){t.altKey&&t.keyCode===de.n6&&(this.dtPicker.open(),t.preventDefault())}handleBlurOnHost(t){this.onModelTouched()}handleInputOnHost(t){const i=t.target.value;"single"===this._selectMode?this.changeInputInSingleMode(i):"range"===this._selectMode?this.changeInputInRangeMode(i):this.changeInputInRangeFromToMode(i)}handleChangeOnHost(t){let i;this.isInSingleMode?i=this.value:this.isInRangeMode&&(i=this.values),this.dateTimeChange.emit({source:this,value:i,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){const t=this._values[0],i=this._values[1],n=t?this.dateTimeAdapter.format(t,this.dtPicker.formatString):"",s=i?this.dateTimeAdapter.format(i,this.dtPicker.formatString):"";n||s?"range"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n+" "+this.rangeSeparator+" "+s):"rangeFrom"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n):"rangeTo"===this._selectMode&&this.renderer.setProperty(this.elmRef.nativeElement,"value",s):this.renderer.setProperty(this.elmRef.nativeElement,"value",null)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(t){t&&(this.dtPicker=t,this.dtPicker.registerInput(this))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}convertTimeStringToDateTimeString(t,i){if(t){const n=i||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(n,this.dateTimeFormats.datePickerInput)+" "+t}return null}changeInputInSingleMode(t){let i=t;"timer"===this.dtPicker.pickerType&&(i=this.convertTimeStringToDateTimeString(i,this.value));let n=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),(!this.isSameValue(n,this._value)||null===n)&&(this._value=n,this.valueChange.emit(n),this.onModelChange(n),this.dateTimeInput.emit({source:this,value:n,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(t){"timer"===this.dtPicker.pickerType&&(t=this.convertTimeStringToDateTimeString(t,"rangeFrom"===this._selectMode?this._values[0]:this._values[1]));let n=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),!("rangeFrom"===this._selectMode&&this.isSameValue(n,this._values[0])&&n||"rangeTo"===this._selectMode&&this.isSameValue(n,this._values[1])&&n)&&(this._values="rangeFrom"===this._selectMode?[n,this._values[1]]:[this._values[0],n],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(t){const i=t.split(this.rangeSeparator);let n=i[0],s=i[1];"timer"===this.dtPicker.pickerType&&(n=this.convertTimeStringToDateTimeString(n,this.values[0]),s=this.convertTimeStringToDateTimeString(s,this.values[1]));let o=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput),l=this.dateTimeAdapter.parse(s,this.dateTimeFormats.parseInput);this.lastValueValid=(!o||this.dateTimeAdapter.isValid(o))&&(!l||this.dateTimeAdapter.isValid(l)),o=this.getValidDate(o),l=this.getValidDate(l),(!this.isSameValue(o,this._values[0])||!this.isSameValue(l,this._values[1])||null===o&&null===l)&&(this._values=[o,l],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(t,i){return t&&i?0===this.dateTimeAdapter.compare(t,i):t===i}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(Dt,8),e.rXU(Kt,8))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["input","owlDateTime",""]],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("keydown",function(o){return n.handleKeydownOnHost(o)})("blur",function(o){return n.handleBlurOnHost(o)})("input",function(o){return n.handleInputOnHost(o)})("change",function(o){return n.handleChangeOnHost(o)}),2&i&&(e.Mr5("disabled",n.owlDateTimeInputDisabled),e.BMQ("aria-haspopup",n.owlDateTimeInputAriaHaspopup)("aria-owns",n.owlDateTimeInputAriaOwns)("min",n.minIso8601)("max",n.maxIso8601))},inputs:{required:"required",owlDateTime:"owlDateTime",owlDateTimeFilter:"owlDateTimeFilter",_disabled:"_disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["owlDateTimeInput"],standalone:!1,features:[e.Jv_([Ku,Ju])]})}}return a})();const Zu={provide:ge.kq,useExisting:(0,e.Rfq)(()=>qu),multi:!0};let qu=(()=>{class a extends wr{get pickerType(){return this._pickerType}set pickerType(t){t!==this._pickerType&&(this._pickerType=t)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=(0,Ue.he)(t)}get selectMode(){return this._selectMode}set selectMode(t){if("single"!==t&&"range"!==t&&"rangeFrom"!==t&&"rangeTo"!==t)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=t}get startAt(){return this._startAt?this._startAt:"single"===this.selectMode?this.value||null:"range"===this.selectMode||"rangeFrom"===this.selectMode?this.values[0]||null:"rangeTo"===this.selectMode&&this.values[1]||null}set startAt(t){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get endAt(){return this._endAt?this._endAt:"single"===this.selectMode?this.value||null:("range"===this.selectMode||"rangeFrom"===this.selectMode)&&this.values[1]||null}set endAt(t){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(t){this._dateTimeFilter=t}get minDateTime(){return this._min||null}set minDateTime(t){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.changeDetector.markForCheck()}get maxDateTime(){return this._max||null}set maxDateTime(t){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.changeDetector.markForCheck()}get value(){return this._value}set value(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._value=t,this.selected=t}get values(){return this._values}set values(t){t&&t.length>0?(t=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),(i=this.getValidDate(i))?this.dateTimeAdapter.clone(i):null)),this._values=[...t],this.selecteds=[...t]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(t){this._selected=t,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t,this.changeDetector.markForCheck()}get opened(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get owlDTInlineClass(){return!0}constructor(t,i,n){super(i,n),this.changeDetector=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this._pickerType="both",this._disabled=!1,this._selectMode="single",this._values=[],this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.dateSelected=new e.bkB,this._selecteds=[],this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.container.picker=this}writeValue(t){this.isInSingleMode?(this.value=t,this.container.pickerMoment=t):(this.values=t,this.container.pickerMoment=this._values[this.container.activeSelectedIndex])}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}select(t){this.disabled||(Array.isArray(t)?this.values=[...t]:this.value=t,this.onModelChange(t),this.onModelTouched())}selectYear(t){this.yearSelected.emit(t)}selectMonth(t){this.monthSelected.emit(t)}selectDate(t){this.dateSelected.emit(t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(Dt,8),e.rXU(Kt,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-inline"]],viewQuery:function(i,n){if(1&i&&e.GBs(dn,7),2&i){let s;e.mGM(s=e.lsd())&&(n.container=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-inline",n.owlDTInlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",endAt:"endAt",dateTimeFilter:[0,"owlDateTimeFilter","dateTimeFilter"],minDateTime:[0,"min","minDateTime"],maxDateTime:[0,"max","maxDateTime"],value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},standalone:!1,features:[e.Jv_([Zu]),e.Vt3],decls:1,vars:0,template:function(i,n){1&i&&e.nrm(0,"owl-date-time-container")},dependencies:[dn],encapsulation:2,changeDetection:0})}}return a})(),ep=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[Gu,Ir],imports:[re.MD,bt.Pd,mt.z_,Mt.jc]})}}return a})(),tp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[Fi,Xu,...Eu],imports:[re.MD,mt.z_,ep,bt.Pd]})}}return a})();!function ip(a,r){const t=Array(a);for(let i=0;i<a;i++)t[i]=r(i)}(31,a=>String(a+1));var At=c(9645),Xe=c.n(At),Fr=c(1444),np=c.n(Fr),Or=c(3066),ap=c.n(Or);At.extend(Or),At.extend(Fr);const Ia=new e.nKC("OWL_DAYJS_DATE_TIME_ADAPTER_OPTIONS",{providedIn:"root",factory:function sp(){return{useUtc:!1}}});function rp(a,r){const t=Array(a);for(let i=0;i<a;i++)t[i]=r(i);return t}let op=(()=>{class a extends Dt{constructor(t,i){super(),this.owlDateTimeLocale=t,this.options=i,this.setLocale(t||At().locale())}setLocale(t){super.setLocale(t);const i=At().locale(t).localeData();this._localeData={longMonths:i.months(),shortMonths:i.monthsShort(),longDaysOfWeek:i.weekdaysShort(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin(),dates:rp(31,n=>this.createDate(2017,0,n+1).format("D"))}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDay(t){return this.clone(t).day()}getDate(t){return this.clone(t).date()}getHours(t){return this.clone(t).hour()}getMinutes(t){return this.clone(t).minute()}getSeconds(t){return this.clone(t).second()}getTime(t){return this.clone(t).valueOf()}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}differenceInCalendarDays(t,i){return Math.ceil(t.startOf("day").diff(i.startOf("day"),"day",!0))}getYearName(t){return t.format("YYYY")}getMonthNames(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}getDayOfWeekNames(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getDateNames(){return this._localeData.dates}toIso8601(t){return this.clone(t).toISOString()}isEqual(t,i){return this.clone(t).isSame(this.clone(i))}isSameDay(t,i){return this.clone(t).isSame(this.clone(i),"day")}isValid(t){return this.clone(t).isValid()}invalid(){return At(NaN)}isDateInstance(t){return At.isDayjs(t)}deserialize(t){if("string"==typeof t){const i=At(t);return this.isValid(i)?i:this.invalid()}return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}addCalendarYears(t,i){return this.clone(t).add(i,"year")}addCalendarMonths(t,i){return this.clone(t).add(i,"month")}addCalendarDays(t,i){return this.clone(t).add(i,"day")}setHours(t,i){return this.clone(t).hour(i)}setMinutes(t,i){return this.clone(t).minute(i)}setSeconds(t,i){return this.clone(t).second(i)}createDate(t,i,n,s=0,o=0,l=0){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);if(s<0||s>23)throw Error(`Invalid hours "${s}". Hours has to be between 0 and 23.`);if(o<0||o>59)throw Error(`Invalid minutes "${o}". Minutes has to between 0 and 59.`);if(l<0||l>59)throw Error(`Invalid seconds "${l}". Seconds has to be between 0 and 59.`);let p=this.createDayjs(At());function M(I,N,G){return G>=0?I.set(N,G):I}if(p=M(p,"year",t),p=M(p,"month",i),p=M(p,"date",n),p=M(p,"hour",s),p=M(p,"minute",o),p=M(p,"second",l),p.locale(this.locale),!p.isValid())throw Error(`Invalid date "${n}" for month with index "${i}".`);return p}clone(t){return this.createDayjs(t).clone().locale(this.locale)}now(){return this.clone(At())}format(t,i){return this.clone(t).format(i)}parse(t,i){return At(t,i)}createDayjs(t){return At(null===t?null:t,{utc:this.options.useUtc})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Ma,8),e.KVO(Ia,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const lp={parseInput:"l LT",fullPickerInput:"l LT",datePickerInput:"l",timePickerInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"};let cp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[{provide:Dt,useClass:op,deps:[Ma,Ia]}]})}}return a})(),dp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[{provide:Kt,useValue:lp}],imports:[cp]})}}return a})();var up=c(1102),Pr=c.n(up),pp=(c(9718),c(1810),c(6155),c(1118),c(6626),c(6058),c(3996),c(396),c(8214),c(1237),c(9791),c(3238),c(3821),c(3857),c(8403),c(1686),c(2467),c(1624),c(2121),c(3669),c(598),c(7426),c(6567),c(6886),c(7416),c(5416),c(53),c(4684),c(9193),c(623),c(5555),c(6361),c(116),c(3939),c(413),c(8224),c(9733),c(9869),c(8470),c(6344),c(4867),c(4826),c(5240),c(2725),c(6795),c(5593),c(9163),c(1)),hp=c.n(pp);const Ea=new e.nKC("MAT_DAYJS_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:()=>({useUtc:!0})});let Rr=(()=>{class a extends ce.MJ{constructor(t,i){super(),this.dateLocale=t,this._options=i,this.log=(0,w.Tq)({MatDayjsDateAdapter:a}),this.log.a("constructor",{this:this,shouldUseUtc:this.shouldUseUtc,dateLocale:t,_options:i}),this.shouldUseUtc&&Xe().extend(Pr()),Xe().extend(ap()),Xe().extend(hp()),Xe().extend(np()),this.setLocale(Xe()().locale())}setLocale(t){super.setLocale(t);const i=this.log.fn("setLocale",{locale:t});Xe().locale(t);const n=Xe()().locale(t).localeData();this.localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:Xe().months(),shortMonths:Xe().monthsShort(),dates:this.range(31,s=>this.createDate(2017,0,s+1).format("D")),longDaysOfWeek:this.range(7,s=>this.dayJs().set("day",s).format("dddd")),shortDaysOfWeek:Xe().weekdaysShort(),narrowDaysOfWeek:Xe().weekdaysMin()},i.r(this.localeData)}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this.localeData.longMonths:this.localeData.shortMonths}getDateNames(){return this.localeData.dates}getDayOfWeekNames(t){return"long"===t?this.localeData.longDaysOfWeek:"short"===t?this.localeData.shortDaysOfWeek:this.localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this.localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return this.dayJs(t).clone()}createDate(t,i,n){return this.dayJs().set("year",t).set("month",i).set("date",n).set("hour",0).set("minute",0).set("second",0).set("millisecond",0)}today(){return this.dayJs()}parse(t,i){const n="string"==typeof t,s=this.log.fn("parse",{value:t,parseFormat:i,valueIsString:n});if(t&&n){const o=Xe()().localeData().longDateFormat(i);let l=this.dayJs(t,o,this.locale,!0);if(l.isValid())return l;if(9===t.length){const p=o.replace("DD","D");if(l=this.dayJs(t,p,this.locale,!0),l.isValid())return l;const M=o.replace("MM","M");if(l=this.dayJs(t,M,this.locale,!0),l.isValid())return l}if(8===t.length){const p=o.replace(/[\W_]+/g,"");if(l=this.dayJs(t,p,this.locale,!0),l.isValid())return l;const M=o.replace("DD","D").replace("MM","M");if(l=this.dayJs(t,M,this.locale,!0),l.isValid())return l}if(t.length<6&&t.length>2){let p=new Array;if(-1!==t.indexOf("/")&&(p=t.split("/")),-1!==t.indexOf("-")&&(p=t.split("-")),-1!==t.indexOf(".")&&(p=t.split(".")),2===p.length){let M,I;if(o.startsWith("D")?(M=p[0],I=p[1]):p.length>1&&(I=p[0],M=p[1]),1===I.length&&(I=0+I),1===M.length&&(M=0+M),l=this.dayJs(M+I,"DDMM",this.locale,!0),l.isValid())return l}}return 2===t.length&&(l=this.dayJs(t,"DD",this.locale,!0),l.isValid())||1===t.length&&(l=this.dayJs(t,"D",this.locale,!0),l.isValid())?l:this.dayJs(null)}return s.r(t?this.dayJs(t).locale(this.locale):null)}parseTime(t,i){return Xe()(t,i,this.locale,!0)}getSeconds(t){return t.second()}addSeconds(t,i){return t.add(i,"second")}getMinutes(t){return t.minute()}getHours(t){return t.hour()}setTime(t,i,n,s){return t.set("hour",i).set("minute",n).set("second",s)}format(t,i){const n=this.log.fn("format",{date:t,displayFormat:i});if(!this.isValid(t))throw Error("DayjsDateAdapter: Cannot format invalid date.");return n.r(t.locale(this.locale).format(i))}addCalendarYears(t,i){return t.add(i,"year")}addCalendarMonths(t,i){return t.add(i,"month")}addCalendarDays(t,i){return t.add(i,"day")}toIso8601(t){return t.toISOString()}deserialize(t){let i;if(t instanceof Date)i=this.dayJs(t);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;i=this.dayJs(t)}return i&&this.isValid(i)?this.dayJs(i):super.deserialize(t)}isDateInstance(t){return Xe().isDayjs(t)}isValid(t){return this.clone(t).isValid()}invalid(){return this.dayJs(null)}dayJs(t,i,n,s){if(s=s||!1,!this.shouldUseUtc)return Xe()(t,i);if("string"==typeof t){const o=new Date(Xe()(t,i).toDate());return s&&o.setUTCHours(o.getUTCHours()-o.getTimezoneOffset()/60),o.getTimezoneOffset()>0?Xe()(new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()))).add(1,"day").utc():Xe()(new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()))).utc()}return Xe()(t,i).utc()}range(t,i){const n=Array(t);for(let s=0;s<t;s++)n[s]=i(s);return n}get shouldUseUtc(){const{useUtc:t}=this._options||{};return!!t}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(ce.Ju,8),e.KVO(Ea,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const mp={parse:{dateInput:"L",timeInput:"LT"},display:{dateInput:"L",timeInput:"LT",timeOptionLabel:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},fp={parseInput:"l LT",fullPickerInput:"l LT",datePickerInput:"l",timePickerInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"};let gp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[{provide:ce.de,useValue:mp},{provide:Ea,useValue:{useUtc:!0}},{provide:Kt,useValue:fp},{provide:Ia,useValue:{useUtc:!0}},{provide:ce.MJ,useClass:Rr,deps:[ce.Ju,Ea]}]})}}return a})();class un extends Ve.S{constructor(){super({DateTimeDefaultLogic:un})}update({settings:r,tools:t}){return this.log.fn("update",{settings:r,tools:t}).r(r)}}function _p(a,r){if(1&a){const t=e.RV6();e.j41(0,"input",10),e.bIt("dateTimeChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateDateTime(n))}),e.k0s(),e.nrm(1,"owl-date-time",null,2)}if(2&a){const t=e.sdS(2),i=e.XpG();e.Y8G("disabled",i.ui().disabled)("owlDateTime",t)("placeholder",i.basics().placeholder)("required",i.basics().required)("value",i.dateTimeValue())}}function vp(a,r){if(1&a){const t=e.RV6();e.qex(0,9),e.j41(1,"input",11,3),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateTime(n))}),e.k0s(),e.nrm(3,"mat-timepicker",12,4)(5,"mat-timepicker-toggle",13),e.bVm()}if(2&a){const t=e.sdS(4),i=e.XpG();e.R7$(),e.Y8G("matTimepicker",t)("value",i.dateTimeValue()),e.R7$(2),e.Y8G("options",i.timePickerOptions()),e.R7$(2),e.Y8G("for",t)}}Ve.S.add(un),Xe().extend(Pr());let Aa=class Bn{constructor(t,i){this.translate=t,this.owlDayjsDateAdapter=i,this.log=(0,w.Tq)({DatetimeDefaultComponent:Bn}),this.fieldState=(0,e.WQX)(je.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.basics=this.fieldState.basics,this.useTimePicker=this.fieldState.settingExt("UseTimePicker"),this.dateTimeValue=(0,e.EWP)(()=>Xe().utc(this.uiValue())),this.timePickerOptions=(0,e.EWP)(()=>{const s=Xe()().utc().hour(0).minute(0).second(0),o=[{label:"00:00 AM",value:s.hour(0)},{label:"06:00 AM",value:s.hour(6)},{label:"08:00 AM",value:s.hour(8)},{label:"10:00 AM",value:s.hour(10)},{label:"12:00 PM",value:s.hour(12)},{label:"06:00 PM",value:s.hour(18)}],l={label:this.dateTimeValue().format("HH:mm A"),value:Xe()().utc().hour(this.dateTimeValue().hour()).minute(this.dateTimeValue().minute()).second(0)};if(o.some(M=>M.value.hour()===l.value.hour()&&M.value.minute()===l.value.minute()))return o;const p=[...o,l];return p.sort((M,I)=>M.value.valueOf()-I.value.valueOf()),p}),this.matDayjsDateAdapter=(0,D.d)(Rr),this.translate.currentLang=navigator.language;const n=this.translate.currentLang;Xe().locale(n),this.matDayjsDateAdapter.setLocale(n),this.owlDayjsDateAdapter.setLocale(n),un.importMe()}ngAfterViewInit(){this.timePickerRef&&this.timePickerRef.selected.subscribe(t=>{t&&this.updateFormattedValue(null,t.value)})}updateTime(t){const i=Xe()(t.target.value,"HH:mm");i.isValid()&&this.updateFormattedValue(null,i)}updateDate(t){const i=t.value;i.isValid()&&this.updateFormattedValue(i,null)}updateDateTime(t){const i=t.value;this.ui().setIfChanged(null!=i?i.utc(!0).toJSON():null)}updateFormattedValue(t,i){if(!t&&!i)return;let n=Xe()(this.uiValue()).isValid()?Xe()(this.uiValue()).utc():Xe()().utc().hour(0).minute(0).second(0);return t&&(n=n.year(t.year()).month(t.month()).date(t.date())),i&&(n=n.hour(i.hour()).minute(i.minute()).second(i.second())),this.useTimePicker()?this.ui().setIfChanged(n.toISOString()):this.ui().setIfChanged(n.utc().hour(0).toISOString()),n.toISOString()}static{this.\u0275fac=function(i){return new(i||Bn)(e.rXU(x.c$),e.rXU(Dt))}}static{this.\u0275cmp=e.VBU({type:Bn,selectors:[["datetime-default"]],viewQuery:function(i,n){if(1&i&&e.GBs(wa,5),2&i){let s;e.mGM(s=e.lsd())&&(n.timePickerRef=s.first)}},decls:11,vars:8,consts:[["dateInput",""],["datepicker",""],["owlPicker",""],["timeInput",""],["timepicker",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"dateChange","matDatepicker","value"],["xPosition","end"],["matSuffix","","tippyTranslate","Fields.DateTime.OpenCalender",3,"for"],["matSuffix",""],["matInput","",3,"dateTimeChange","disabled","owlDateTime","placeholder","required","value"],["matInput","",1,"picker-input",3,"input","matTimepicker","value"],[3,"options"],["tippyTranslate","Fields.DateTime.OpenTime",3,"for"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"mat-form-field",5)(1,"mat-label"),e.EFF(2),e.k0s(),e.DNE(3,_p,3,5),e.j41(4,"input",6,0),e.bIt("dateChange",function(l){return e.eBV(s),e.Njj(n.updateDate(l))}),e.k0s(),e.nrm(6,"mat-datepicker",7,1)(8,"mat-datepicker-toggle",8),e.DNE(9,vp,6,4,"ng-container",9),e.k0s(),e.nrm(10,"app-field-helper-text")}if(2&i){const s=e.sdS(7);e.R7$(2),e.SpI("Date",n.useTimePicker()?" & Time":""," "),e.R7$(),e.vxM(n.useTimePicker()?3:-1),e.R7$(),e.AVh("picker-input",n.useTimePicker()),e.Y8G("matDatepicker",s)("value",n.dateTimeValue()),e.R7$(4),e.Y8G("for",s),e.R7$(),e.vxM(n.useTimePicker()?9:-1)}},dependencies:[Oe.RG,Oe.rl,Oe.nJ,Oe.yw,ge.YN,ge.X1,ht.fS,ht.fg,tp,Sa,Qu,kt,dp,gp,ot.e,Ud,Yd,ya,fr,nu,wa,iu,br],styles:["ngx-mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.picker-input[_ngcontent-%COMP%]{display:none}  .mat-timepicker-panel{--mat-option-selected-state-label-text-color: black;max-width:10rem!important;position:absolute!important;right:0!important}  .cdk-overlay-pane:has(.mat-timepicker-panel){position:relative!important}"],changeDetection:0})}};Aa=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[x.c$,Dt])],Aa);let bp=(()=>{class a{constructor(){}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["empty-default"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();function yp(a,r){if(1&a&&(e.nrm(0,"div",0),e.nI1(1,"safeHtml")),2&a){const t=e.XpG();e.Y8G("innerHtml",e.bMT(1,1,t.basics().notes),e.npT)}}let Fa=class ks{constructor(){this.fieldState=(0,e.WQX)(je.W),this.basics=this.fieldState.basics}static{this.\u0275fac=function(t){return new(t||ks)}}static{this.\u0275cmp=e.VBU({type:ks,selectors:[["empty-message"]],decls:1,vars:1,consts:[[1,"message-box",3,"innerHtml"]],template:function(t,i){1&t&&e.DNE(0,yp,2,3,"div",0),2&t&&e.vxM(i.basics().visible?0:-1)},dependencies:[mi.$],styles:[".message-box[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}"]})}};Fa=(0,qe.Cg)([wt({})],Fa);class pn extends Ve.S{constructor(){super({EntityContentBlocksLogic:pn}),this.name=be.u.EntityContentBlocks}update(r){const i=Y.y.singleton().get(be.u.EntityDefault).update(r);return i.EnableRemove=!0,i.AllowMultiValue=!0,i.EnableAddExisting=!1,i.EnableCreate=!1,i.EnableEdit=!1,i.Visible=!1,i.EntityType="ContentGroupReference",i.CreateTypes=i.EntityType,i}}Ve.S.add(pn);var yi=c(1817),di=c(9999),Oi=c(6647),Cp=c(4839);class Nr{stripHtml(r){if(!r)return"";if(!r.includes("<"))return r;const t=document.createElement("div");return t.innerHTML=r??"",t.innerText||""}}const wp={all:!1,data2PickerItem:!1,getMasks:!1,patchMasks:!1,parseMasks:!1,buildMasks:!1};class hn{constructor(r,t,i,n,s,o){this.name=r,this.settings=t,this.formConfig=n,this.log=(0,w.Tq)({DataSourceMasksHelper:hn},wp),this.#e=!1,this.#t=!1,this.#i=!1,this.#n=new Nr,this.log.forceEnable(o??s.enableChildren??!1),this.#e=i.allowUse[dt.T.PickerUiMoreInfo](),this.#i=n.config.dialogContext.User?.IsSystemAdmin,this.log.a("constructor - settings",{settings:t,infoEnabled:this.#e})}#e;#t;#i;#n;#a;data2PickerItem({entity:r,streamName:t,valueMustUseGuid:i,valueDefaultsToGuid:n=!1}){const s=this.log.fnIf("data2PickerItem",{entity:r,streamName:t,valueMustUseGuid:i}),o=this.#r(),l=(()=>{if(i||n&&!o.value)return r.Guid;if(void 0===r[o.value])return r.Value;const G=r[o.value];return void 0!==G?`${G}`:r.Guid})(),p=(()=>{const G=r[o.label];return G?`${G}`:r.Title?`${r.Title}`:`${l}`})(),M=r[o.previewValue]||l;if(s.a("debug values",{masks:o,value:l,label:p,previewValue:M,hasPlaceholders:o.hasPlaceholders}),!o.hasPlaceholders)return s.r({id:r.Id,data:r,value:l,previewValue:M,label:p,tooltip:o.tooltip,info:o.info,link:o.link,sourceStreamName:t??null,rules:r.Rules},"no masks");const I=this.#s(o,r),N=o.label.includes("[")?I.label:p;return s.r({id:r.Id,data:r,...I,value:l,label:N,sourceStreamName:t??null,rules:r.Rules},"with masks")}#s(r,t){const i=this.log.fnIf("parseMasks",{masks:r,data:t});let n=r.label;!this.#t&&!this.#e&&`${r.tooltip}${r.info}${r.link}`.length>0&&(this.#i,this.#t=!0);const s=this.#e||this.#i;let o=s?r.tooltip:"",l=s?r.info:"",p=s?r.link:"",M=r.previewValue;return Object.keys(t).forEach(I=>{const N=t[I]??"",G=new RegExp(`\\[Item:${I}\\]`,"gi");if(M.includes("App:Path")){const ye=this.formConfig.config.portalRoot.replace(/\/$/,"")+this.formConfig.config.appRoot;M=M.replace("[App:Path]",ye)}o=o.replace(G,N),l=l.replace(G,N),p=p.replace(G,N),n=n.replace(G,N),M=M.replace(G,N)}),i.r({label:n,tooltip:o,info:l,link:p,previewValue:M},"result")}#r(){return this.#a||(this.#a=this.#o(),this.log.aIf("getMasks",{masks:this.#a})),this.#a}#o(){const r=this.settings,t=this.log.fnIf("buildMasks",{settings:r}),i=r.ItemTooltip?this.#n.stripHtml(r.ItemTooltip):"",n=r.ItemInformation?this.#n.stripHtml(r.ItemInformation):"",s=r.ItemLink??"",o=r.Label??"",l=r.Value??"",p=r.PreviewValue??"",I={hasPlaceholders:(i+n+s+o+p).includes("["),tooltip:i,info:n,link:s,label:o,value:l,previewValue:p};return t.r(I,"result")}}class Oa{constructor(){this.log=(0,w.Tq)({DataSourceMoreFieldsHelper:Oa})}fieldListToRetrieveFromServer(r){this.log.a("fieldListToRetrieveFromServer",{settings:r});const t=r.PickerTreeConfiguration,i=r;return[...["Title","Id","Guid",...i.MoreFields?.split(",")??[],i.Value,i.Label,t?.TreeChildIdField,t?.TreeParentIdField,t?.TreeChildParentRefField,t?.TreeParentChildRefField].map(I=>this.extractFieldNamesFromTokens(I,!0)).flat(),...[r.ItemTooltip,r.ItemInformation,r.ItemLink].map(I=>this.extractFieldNamesFromTokens(I,!1)).flat()].filter(ui.a.distinct).join(",")}extractFieldNamesFromTokens(r,t=!0){this.log.a("extractFieldNamesFromTokens",{input:r,enableSimpleFields:t});const i=[];if(!(r?.trim().length>0))return i;const n=/\[Item:(\S.*?)\]/gi;let s;for(;null!==(s=n.exec(r));){const o=s[1].trim();o&&i.push(o)}return t&&0===i.length&&i.push(r),i}}const mn={all:!1,constructor:!1,data:!1,triggerGetAll:!1,addToRefresh:!1,fields:[...Ft.z,"Categories"],newIconOptions:!1,fileLoadSettings:!1};let fn=(()=>{class a extends Mi.V{constructor(){super(),this.fieldState=(0,e.WQX)(je.W),this.features=(0,e.WQX)(C.D),this.formConfig=(0,e.WQX)(h.S),this.fieldName=this.fieldState.name,this.loading=(0,te.KX)("loading",!0),this.getAll$=new Rt.t(!1),this.getAll=(0,te.KX)("getAll",!1),this.guidsToRefresh=(0,te.KX)("guidsToRefresh",[]),this.settings=this.fieldState.settings,this.noItemsLoadingFalse={data:[],loading:!1},this.noItemsLoadingTrue={data:[],loading:!0},this.fieldsHelper=new Oa,this.helpers=new Nr}constructorEnd(){this.log??=(0,w.Tq)({DataSourceBase:a}),this.log.aIf("constructor",{forField:this.fieldState.name})}setup(){return this}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}triggerGetAll(){this.log.fnIf("triggerGetAll"),this.getAll$.next(!0),this.getAll.set(!0)}addToRefresh(t){const i=this.log.fnIf("addToRefresh",{additionalGuids:t}),n=this.guidsToRefresh(),s=[...n,...t].filter(ui.a.distinct);i.values({before:n,additionalGuids:t,merged:s}),this.guidsToRefresh.set(s),i.end()}createMaskHelper(t,i){return new hn(this.fieldName,{...this.settings(),...t},this.features,this.formConfig,this.log,i)}fieldsToRetrieve(t){return this.fieldsHelper.fieldListToRetrieveFromServer(t)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Pa={...mn,all:!0,initPrefetch:!1,getFromBackend:!1,addToRefresh:!1,loadMoreIntoSignal:!0,"loadMoreIntoSignal-data":!0};let Ra=(()=>{class a extends fn{constructor(){super(),this.querySvc=(0,D.d)(Cp.c),this.#e=(0,te.KX)("typeOrParams",null),this.#t=(0,Ne.br)(this.#e),this.#i=this.#t.pipe((0,yi.F)()),this.#n=(0,Ne.ot)((0,di.z)([this.#i,this.getAll$.pipe((0,yi.F)(),(0,vt.p)(t=>!!t),(0,g.T)(t=>[]))]).pipe((0,Oi.n)(([t])=>this.getFromBackend(t,[],"getAll"))),{initialValue:this.noItemsLoadingFalse}),this.#a=(0,te.KX)("prefetchNow",this.noItemsLoadingFalse),this.#s=(0,te.KX)("modified",this.noItemsLoadingFalse),this.data=(0,te.bo)("data",()=>{const t=this.#a().data,i=this.#n().data,n=this.#s().data,s=[...new Map([...t,...i,...n].map(o=>[o.value,o])).values()];return this.log.a("data",{prefetch:t,all:i,overrides:n,data:s}),s}),this.loading=(0,te.bo)("loading",()=>this.#n().loading||this.#s().loading)}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}#e;#t;#i;#n;#a;#s;initPrefetch(t){const i=this.log.fnIfInList("initPrefetch","fields",this.fieldName,{entityGuids:t}),n=t.filter(ui.a.distinct);this.#r(this.#a,n,"initPrefetch"),i.end()}setParams(t){this.log.fnIfInList("setParams","fields",this.fieldName,{params:t}),this.#e.set(t)}addToRefresh(t){const i=this.log.fnIf("addToRefresh",{additionalGuids:t});this.#r(this.#s,t,"addToRefresh"),i.end()}#r(t,i,n){const s=this.#e(),o=this.log.fnIfInList("loadMoreIntoSignal","fields",this.fieldName,{additionalGuids:i,params:s,msgForLog:n});if(null==i||0===i.length)return o.end("no additional guids to load/refresh");t.update(l=>({data:l.data,loading:!0})),this.getFromBackend(s,i,n).subscribe(l=>{const p=this.log.fn("loadMoreIntoSignal-data",{additionalGuids:i,additions:l}),M=t();t.update(I=>({data:[...new Map([...I.data,...l.data].map(N=>[N.value,N])).values()],loading:!1})),p.values({before:M,additions:l,merged:t().data})}),o.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),kp=(()=>{class a extends Ra{constructor(){super(),this.log=(0,w.Tq)({DataSourceAppAssets:a},Pa),this.constructorEnd()}getFromBackend(t,i,n){const s=this.settings(),{AssetsRootFolder:o,AssetsFileFilter:l,AssetsType:p}=s,M=this.log.fnIf("getFromBackend",{settings:s},n),I=(p??"").toLocaleLowerCase(),N="all"===I?"Default":"folders"===I?"Folders":"Files",G=this.createMaskHelper({Value:s.Value||"FullName"}),ae=this.querySvc.getFromQuery(`System.AppAssets/${N}`,`rootFolder=${o}&filter=${l}`,"").pipe((0,g.T)(ye=>({data:ye[N].map(Fe=>G.data2PickerItem({entity:Fe,streamName:N,valueMustUseGuid:!1})),loading:!1})));return M.r(ae)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),zr=(()=>{class a extends Gi{constructor(){super(),this.log=(0,w.Tq)({DataAdapterAppAssets:a},$n),this.dataSourceRaw=(0,D.d)(kp)}fetchItems(){this.dataSource().triggerGetAll()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Mp=c(5800),Br=/[\\^$.*+?()[\]{}|]/g,Dp=RegExp(Br.source);const jr=function Tp(a){return(a=(0,Mp.A)(a))&&Dp.test(a)?a.replace(Br,"\\$&"):a};var La=c(8729);const xp={all:!0,findAllIconsInCss:!1};function Hr(a,r){const i=(0,La.T)({findAllIconsInCss:Hr},xp).fnIf("findAllIconsInCss",{cssSelector:a,showPrefix:r});if(!a)return[];const n=function Ip(a){if(!a)return new RegExp(Sp);if(a.includes("<"))return new RegExp(a,"g");const r=Gr(a,"[:{,]");return new RegExp(r,"g")}(a);console.warn(n);const s=function Ap(){return Array.from(document.styleSheets).map(Fp).filter(Boolean)}(),o=[],l={};for(const p of s){const M=Array.from(p).filter(I=>I.selectorText);for(const I of M){const N=I.selectorText;n.lastIndex=0;const G=n.exec(N)?.groups;if(!G)continue;console.log("regExed",G.Value,G.ValueRaw,G.Title);const ae=G.ValueRaw;l[ae]||(o.push({Id:null,Guid:null,Rule:I,...G,Selector:N}),l[ae]=!0)}}return i.a("findAllIconsInCss",{classPrefix:a,showPrefix:r,foundList:o}),i.r(o)}const Sp="(?<ValueRaw>\\.(?<Value>(?<Title>[\\-a-zA-Z0-9]+)))[:,{}]";function Gr(a,r){return a?`${function Ep(a){if(!a)return"";const t=a.startsWith("."),i=t?a.substring(1):a,n=`(?<Value>${jr(i)}(?<Title>[\\-a-zA-Z0-9]+))`;return`(?<ValueRaw>${t?`${jr(".")}${n}`:n})`}(a)}${r}`:""}function Fp(a){if(!a)return null;try{return a.rules}catch{}try{return a.cssRules}catch{}return null}const Op={...mn,data:!1,newIconOptions:!0,fileLoadSettings:!1,fields:[...mn.fields,"*"]};let Pp=(()=>{class a extends fn{constructor(t){super(),this.scriptsLoaderService=t,this.log=(0,w.Tq)({DataSourceCss:a},Op),this.loading=(0,te.KX)("loading",!1),this.#e=this.fieldState.settings,this.#t=(0,te.KX)("iconOptions",[]),this.fileLoadSettings=(0,te.bo)("fileLoadSettings",()=>(0,ji.z)(this.#e(),n=>({CssSourceFile:n.CssSourceFile,CssSelectorFilter:n.CssSelectorFilter,PreviewValue:n.PreviewValue,Value:n.Value}))),this.#i=(()=>{const n=this.settings();return new hn(this.fieldName,{...n,Label:n.Label||"Value"},this.features,this.formConfig,this.log)})(),this.data=(0,te.bo)("data",()=>{const n=this.#t(),s=this.#i,o=this.log.fnIfInList("data","fields",this.fieldName,{options:n,maskHelper:s}),l=n.map(p=>{const M=s.data2PickerItem({entity:p,streamName:null,valueMustUseGuid:!1});return o.a("one item",{entity:p,pickerItem:M}),M});return o.r(l)}),this.constructorEnd(),this.log.fnIf("fileLoadSettings",this.fileLoadSettings());const i=this.fileLoadSettings();this.scriptsLoaderService.load(i.CssSourceFile.split("\n"),()=>{const n=Hr(i.CssSelectorFilter,!1);this.log.fnIf("newIconOptions",{settings:i,newIconOptions:n}),this.#t.set(n)})}#e;#t;#i;static{this.\u0275fac=function(i){return new(i||a)(e.KVO(De))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Va=(()=>{class a extends qt{constructor(){super(),this.log=(0,w.Tq)({DataAdapterCss:a},qt.logSpecs),this.dataSourceRaw=(0,D.d)(Pp),this.myFeatures=(0,te.KX)("features",{edit:!1,create:!1,delete:!1}),this.log.fnIf("constructor")}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Rp=(()=>{class a extends fn{constructor(){super(),this.log=(0,w.Tq)({DataSourceEmpty:a}),this.loading=(0,te.KX)("loading",!1),this.#e=(0,te.KX)("label","something is wrong - using DataSourceEmpty"),this.data=(0,te.bo)("data",()=>[{value:"",label:this.#e()??"No options available",notSelectable:!0,isMessage:!0}]),this.constructorEnd()}#e;preSetup(t){return this.#e.set(t),this}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),$r=(()=>{class a extends qt{constructor(){super(),this.log=(0,w.Tq)({DataAdapterEmpty:a},qt.logSpecs),this.dataSourceRaw=(0,D.d)(Rp),this.myFeatures=(0,te.KX)("features",{edit:!1,create:!1,delete:!1})}connectState(t){return this.dataSourceRaw.preSetup("Error: configuration missing"),super.connectState(t)}setupEmpty(){const t=this.log.fnIf("setupEmpty");return this.dataSource.set(this.dataSourceRaw.preSetup("Error: configuration missing")),t.rSilent(this)}fetchItems(){this.log.a("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Lp=(()=>{class a extends Ra{constructor(){super(),this.log=(0,w.Tq)({DataSourceEntity:a},Pa),this.constructorEnd()}getFromBackend(t,i,n){const s=this.fieldsToRetrieve(this.settings()),o=this.fieldState.config.inputTypeSpecs,l=o.mustUseGuid;var p=this.log.fnIf("getFromBackend",{typeName:t,guids:i,fields:s,inputType:o.inputType,valueMustUseGuid:l},n);const M=this.createMaskHelper(),I=this.querySvc.getEntities({contentTypes:[t],itemIds:i,fields:s,log:this.log.name}).pipe((0,g.T)(N=>({data:N.Default.map(ae=>M.data2PickerItem({entity:ae,streamName:null,valueMustUseGuid:l,valueDefaultsToGuid:!0})),loading:!1})));return p.r(I)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Ci=(()=>{class a extends Gi{constructor(){super(),this.log=(0,w.Tq)({DataAdapterEntity:a},$n),this.dataSourceRaw=(0,D.d)(Lp)}syncParams(){this.dataSourceRaw.setParams(this.contentType())}fetchItems(){this.syncParams(),this.dataSource().triggerGetAll()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Vp=c(1573);let Yp=(()=>{class a extends Ra{#e;constructor(){super(),this.log=(0,w.Tq)({DataSourceQuery:a},Pa),this.#e=(0,e.WQX)(x.c$),this.formState=(0,e.WQX)(h.S),this.#t=Number(this.formState.config.appId),this.#i=(0,te.bo)("streamName",()=>this.settings().StreamName),this.constructorEnd()}#t;#i;getFromBackend(t,i,n){var s=this.log.fnIfInList("getFromBackend","fields",this.fieldName,{params:t,guids:i},n);const o=this.settings(),l=this.#i(),p=o.Query,M=p?p.includes("/")?o.Query:`${o.Query}/${l}`:null;s.a("queryUrl",{queryName:p,streamName:l,queryUrl:M});const N=(M?(s.a("queryUrl for request",{queryUrl:M}),this.querySvc.getFromQuery(M,t,this.fieldsToRetrieve(this.settings()),i).pipe((0,g.T)(G=>({data:G,loading:!1})))):(s.a("noQueryUrl - will create dummy item"),(0,Pe.of)({data:{Default:[{Id:-1,Guid:null,Title:this.#e.instant("Fields.Picker.QueryNotConfigured")}]},loading:!1}))).pipe((0,g.T)(G=>({data:this.#n(G.data,l),loading:G.loading})));return s.r(N)}#n(t,i){const n=this.log.fn("transformData",{data:t,streamName:i});if(!t)return n.r([Di.message(this.#e,"Fields.Picker.QueryErrorNoData")],"data is null");const s=this.fieldState.config.inputTypeSpecs,o=s.mustUseGuid,l=i.split(",");n.values({inputType:s.inputType,valueMustUseGuid:o,streamNames:l});const p=l.filter(G=>!t[G]).map(G=>Di.placeholder(this.#e,"Fields.Picker.QueryStreamNotFound"," "+G)),M=this.createMaskHelper(),I=l.filter(G=>t[G]).reduce((G,ae)=>{const ye=t[ae].map(Ee=>M.data2PickerItem({entity:Ee,streamName:ae,valueMustUseGuid:o,valueDefaultsToGuid:!0}));return G.concat(ye)},[]),N=this.#a(I);return n.r([...p,...N])}#a(t){return t&&t.forEach(i=>{const n=i.data?.AppId;i.noEdit=null!=n&&n!==this.#t,i.noDelete=i.noEdit}),t}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),wi=(()=>{class a extends Gi{constructor(){super(),this.log=(0,w.Tq)({DataAdapterQuery:a},$n),this.dataSourceRaw=(0,D.d)(Yp),this.#e=(0,D.d)(Vp.N).initSignal(this.log.name,this.fieldState.settingExt("UrlParameters"))}#e;syncParams(){this.dataSourceRaw.setParams(this.#e?.result())}fetchItems(){if(this.log.fnIfInList("fetchItems","fields",this.name),this.syncParams(),this.fieldState.settings().Query)this.dataSourceRaw.triggerGetAll();else{const i=[Di.placeholder(this.translate,"Fields.Picker.QueryNotDefined")];this.errorOptions.set(i)}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Np={...mn,data:!0};let zp=(()=>{class a extends fn{constructor(){super(),this.log=(0,w.Yx)({DataSourceString:a},Np),this.loading=(0,te.KX)("loading",!1),this.#e=this.createMaskHelper({Value:"Value"}),this.data=(0,te.bo)("data",()=>{const t=this.settings()._options,i=this.#e,n=this.log.fnIfInList("data","fields",this.fieldName,{options:t,maskHelper:i}),s=t.map(o=>{const l={Id:null,Guid:null,...o},p=i.data2PickerItem({entity:l,streamName:null,valueMustUseGuid:!1});return n.a("one item",{entity:l,pickerItem:p}),p});return n.r(s)}),this.constructorEnd()}#e;static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),oi=(()=>{class a extends qt{constructor(){super(),this.log=(0,w.Tq)({DataAdapterString:a},qt.logSpecs),this.dataSourceRaw=(0,D.d)(zp),this.myFeatures=(0,te.KX)("features",{edit:!1,create:!1,delete:!1})}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Bp={all:!1,updateValue:!1,add:!1,set:!1,remove:!1,reorder:!1,doAfterDelete:!1,selectedItems:!1,sepAndOpts:!1,createEntityTypes:!1,attachCallback:!1,typesForNew:!1,correctStringEmptyValue:!0,fields:[...Ft.z,"Query"]};let jp=(()=>{class a{#e;#t;constructor(){this.log=(0,w.Tq)({StateAdapter:a},Bp),this.#e=(0,e.WQX)(h.S),this.#t=(0,e.WQX)(je.W),this.settings=this.#t.settings,this.myFeatures=(0,te.KX)("features",{}),this.#n=(0,te.bo)("createTypesRaw",()=>(0,ji.z)(this.settings().CreateTypes,t=>t.split(t.indexOf("\n")>-1?"\n":",")).filter(Boolean)),this.typesForNew=(0,te.bo)("typesForNew",()=>{const t=this.#n().map(s=>({label:null,guid:s})),i=this.log.fnIfInList("typesForNew","fields",this.#i,{raw:t}),n=t.map(s=>{const o=s.guid,l=this.#e.settings.ContentTypes.find(p=>p.Id===o||p.Name==o);return{...s,label:(l?.Title??l?.Name??`${o} (not found)`).replace("UI Picker Source - ",""),guid:l?.Id??o}});return i.r(n)}),this.allowsEmptyLazy=(0,te.KX)("allowsEmptyLazy",(0,te.KX)("initial",!1)),this.selectedItems=(0,te.bo)("selectedItems",()=>{const t=this.#t.uiValue();this.log.fnIf("selectedItems",{uiValue:t});const i=this.mapper.toUi(t),n=this.allowsEmptyLazy()();return 0==i.length&&n?[""]:i}),this.values=(0,te.bo)("values",()=>this.mapper.toUi(this.#t.uiValue()))}setup(t,i){return this.#i=t,this.mapper=i,this}#i;#n;#a;attachCallback(t){const i=this.log.fnIf("attachCallback");return this.#a=t,i.rSilent(this)}#s(t){const i=this.log.fnIfInList("updateValue","fields",this.#i),s=t([...this.values()]),o=this.mapper.toState(s);this.#t.ui().setIfChanged(o),i.end("",{newValue:o})}add(t){this.log.fnIfInList("add","fields",this.#i,{value:t}),this.#s(i=>this.features().multiValue?[...i,t]:[t])}set(t){this.log.fnIf("set",{values:t}),this.#s(()=>t)}flush(){this.set([])}reorder(t){this.log.fnIf("reorder",{reorderIndexes:t}),this.#s(i=>((0,Ti.HD)(i,t.previousIndex,t.currentIndex),[...i]))}remove(t){this.log.fnIf("remove",{index:t}),this.#s(i=>(i.splice(t,1),[...i])),this.values().length||setTimeout(()=>this.#a())}doAfterDelete(t){this.log.fnIf("doAfterDelete",{props:t}),this.remove(t.index)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();class Ya{constructor(r,t){this.fieldName=r,this.settings=t}}class gn extends Ya{toUi(r){return r}toState(r){return r}}class Ur extends Ya{toUi(r){return null==r?[]:[r.toString()]}toState(r){const t=null==r||0===r.length?"":Fs(r,this.settings().Separator),i=Number(t);return isNaN(i)?null:i}}class _n extends Ya{toUi(r){return null==r||""===r?[]:r.split(this.settings().Separator)??[]}toState(r){return null==r||0===r.length?"":Fs(r,this.settings().Separator)}}const Na={UiPickerSourceCustomList:"UiPickerSourceCustomList",UiPickerSourceCustomCsv:"UiPickerSourceCustomCsv"},ut={...Na,UiPickerSourceQuery:"UiPickerSourceQuery",UiPickerSourceEntity:"UiPickerSourceEntity",UiPickerSourceAppAssets:"UiPickerSourceAppAssets",UiPickerSourceCss:"UiPickerSourceCss"},Wr="UiPickerModeTree";class za{constructor(r){this.injector=r,this.log=(0,w.Tq)({PickerDataSetup:za},null)}setupPickerData(r,t){const i=r,n=i.setupAlreadyStarted,s=t.config.inputTypeSpecs.inputType,o=this.log.fn("createPickerAdapters",{pickerData:r,fieldState:t,inputType:s,alreadyStarted:n});if(n)return o.rSilent(r,"exist, already started");i.setupAlreadyStarted=!0;const l=this.#e(t.name,s,t.settings),p=t.settings().dataSourceType,M=this.#t(s,p,l);return r.setup(t.name,t.settings,l,M),r.source?.onAfterViewInit?.(),o.rSilent(r)}#e(r,t,i){const n=Ba[t]?.uiMapper;if(!n)throw new Error(`No State Adapter found for inputTypeSpecs: ${t}`);const s=(0,D.d)(jp,this.injector),o=new n(r,i);return s.setup(r,o),s}#t(r,t,i){const n=this.log.fn("getSourceAdapter",{inputType:r,dataSourceType:t}),s=Ba[r],o=s.forcePickerConfig??t;n.a("use config type",{dataSourceType:t,forcePickerConfig:s.forcePickerConfig,dsType:o});const l=Hp[o]??$r;this.#i(r,l);const p=(0,D.d)(l,this.injector).connectState(i);return n.r(p)}#i(r,t){if(t===$r||Ba[r]?.sources?.includes(t))return!1;throw new Error(`Specified SourceAdapter not allowed for inputTypeSpecs: ${r}: ${oi}`)}}const Hp={[ut.UiPickerSourceCustomList]:oi,[ut.UiPickerSourceCustomCsv]:oi,[ut.UiPickerSourceCss]:Va,[ut.UiPickerSourceQuery]:wi,[ut.UiPickerSourceEntity]:Ci,[ut.UiPickerSourceAppAssets]:zr},Ba={[be.u.StringPicker]:{sources:[oi,wi,Ci,Va,zr],uiMapper:_n},[be.u.StringDropdown]:{sources:[oi],uiMapper:_n,forcePickerConfig:ut.UiPickerSourceCustomList},[be.u.StringFontIconPicker]:{sources:[Va],uiMapper:_n,forcePickerConfig:ut.UiPickerSourceCss},[be.u.NumberDropdown]:{sources:[oi],uiMapper:Ur,forcePickerConfig:ut.UiPickerSourceCustomList},[be.u.NumberPicker]:{sources:[oi,wi,Ci],uiMapper:Ur},[be.u.StringDropdownQuery]:{sources:[wi],uiMapper:_n,forcePickerConfig:ut.UiPickerSourceQuery},[be.u.EntityDefault]:{sources:[Ci],uiMapper:gn,forcePickerConfig:ut.UiPickerSourceEntity},[be.u.EntityQuery]:{sources:[wi],uiMapper:gn,forcePickerConfig:ut.UiPickerSourceQuery},[be.u.EntityContentBlocks]:{sources:[Ci],uiMapper:gn,forcePickerConfig:ut.UiPickerSourceEntity},[be.u.EntityPicker]:{sources:[Ci,wi,oi],uiMapper:gn}};var ja=c(9771),Xr=c(2551),Gp=c(9400),Qr=c(3513),Kr=c(9923),Jr=c(1903),Ha=c(2810);class Zr{dataNodes;expansionModel=new fi.CB(!0);trackBy;getLevel;isExpandable;getChildren;toggle(r){this.expansionModel.toggle(this._trackByValue(r))}expand(r){this.expansionModel.select(this._trackByValue(r))}collapse(r){this.expansionModel.deselect(this._trackByValue(r))}isExpanded(r){return this.expansionModel.isSelected(this._trackByValue(r))}toggleDescendants(r){this.expansionModel.isSelected(this._trackByValue(r))?this.collapseDescendants(r):this.expandDescendants(r)}collapseAll(){this.expansionModel.clear()}expandDescendants(r){let t=[r];t.push(...this.getDescendants(r)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(r){let t=[r];t.push(...this.getDescendants(r)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(r){return this.trackBy?this.trackBy(r):r}}class $p extends Zr{getLevel;isExpandable;options;constructor(r,t,i){super(),this.getLevel=r,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(r){const i=[];for(let n=this.dataNodes.indexOf(r)+1;n<this.dataNodes.length&&this.getLevel(r)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(r=>this._trackByValue(r)))}}const vn=new e.nKC("CDK_TREE_NODE_OUTLET_NODE");let Pi=(()=>{class a{viewContainer=(0,e.WQX)(e.c1b);_node=(0,e.WQX)(vn,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeOutlet",""]]})}return a})();class Up{$implicit;level;index;count;constructor(r){this.$implicit=r}}let bn=(()=>{class a{template=(0,e.WQX)(e.C4Q);when;constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return a})();function qr(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let ki=(()=>{class a{_differs=(0,e.WQX)(e._q3);_changeDetectorRef=(0,e.WQX)(e.gRc);_elementRef=(0,e.WQX)(e.aKT);_dir=(0,e.WQX)(ci.dS);_onDestroy=new Ze.B;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new Rt.t({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new Rt.t([]);_nodeType=new Rt.t(null);_nodes=new Rt.t(new Map);_keyManagerNodes=new Rt.t([]);_keyManagerFactory=(0,e.WQX)(bt.Z2);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const t=this._nodeDefs.filter(i=>!i.when);this._defaultNodeDef=t[0]}_setNodeTypeIfUnset(t){null===this._nodeType.value&&this._nodeType.next(t)}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new fi.CB(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let t;(0,fi.y4)(this._dataSource)?t=this._dataSource.connect(this):(0,Xr.A)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=(0,Pe.of)(this._dataSource)),t&&(this._dataSubscription=this._getRenderData(t).pipe((0,ai.Q)(this._onDestroy)).subscribe(i=>{this._renderDataChanges(i)}))}_getRenderData(t){const i=this._getExpansionModel();return(0,di.z)([t,this._nodeType,i.changed.pipe((0,Qe.Z)(null),(0,d.M)(n=>{this._emitExpansionChanges(n)}))]).pipe((0,Oi.n)(([n,s])=>null===s?(0,Pe.of)({renderNodes:n,flattenedNodes:null,nodeType:s}):this._computeRenderingData(n,s).pipe((0,g.T)(o=>({...o,nodeType:s})))))}_renderDataChanges(t){null!==t.nodeType?(this._updateCachedData(t.flattenedNodes),this.renderNodeChanges(t.renderNodes),this._updateKeyManagerItems(t.flattenedNodes)):this.renderNodeChanges(t.renderNodes)}_emitExpansionChanges(t){if(!t)return;const i=this._nodes.value;for(const n of t.added)i.get(n)?._emitExpansionState(!0);for(const n of t.removed)i.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){const t=(0,di.z)([this._keyManagerNodes,this._nodes]).pipe((0,g.T)(([n,s])=>n.reduce((o,l)=>{const p=s.get(this._getExpansionKey(l));return p&&o.push(p),o},[])));this._keyManager=this._keyManagerFactory(t,{trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const t=this.trackBy??((i,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(t)}_checkTreeControlUsage(){}renderNodeChanges(t,i=this._dataDiffer,n=this._nodeOutlet.viewContainer,s){const o=i.diff(t);!o&&!this._viewInit||(o?.forEachOperation((l,p,M)=>{if(null==l.previousIndex)this.insertNode(t[M],M,n,s);else if(null==M)n.remove(p);else{const I=n.get(p);n.move(I,M)}}),o?.forEachIdentityChange(l=>{const p=l.item;null!=l.currentIndex&&(n.get(l.currentIndex).context.$implicit=p)}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(i,t))||this._defaultNodeDef}insertNode(t,i,n,s){const o=this._getLevelAccessor(),l=this._getNodeDef(t,i),p=this._getExpansionKey(t),M=new Up(t);s??=this._parents.get(p)??void 0,M.level=o?o(t):void 0!==s&&this._levels.has(this._getExpansionKey(s))?this._levels.get(this._getExpansionKey(s))+1:0,this._levels.set(p,M.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(l.template,M,i),jt.mostRecentTreeNode&&(jt.mostRecentTreeNode.data=t)}isExpanded(t){return!(!this.treeControl?.isExpanded(t)&&!this._expansionModel?.isSelected(this._getExpansionKey(t)))}toggle(t){this.treeControl?this.treeControl.toggle(t):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(t))}expand(t){this.treeControl?this.treeControl.expand(t):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(t))}collapse(t){this.treeControl?this.treeControl.collapse(t):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(t))}toggleDescendants(t){this.treeControl?this.treeControl.toggleDescendants(t):this._expansionModel&&(this.isExpanded(t)?this.collapseDescendants(t):this.expandDescendants(t))}expandDescendants(t){if(this.treeControl)this.treeControl.expandDescendants(t);else if(this._expansionModel){const i=this._expansionModel;i.select(this._getExpansionKey(t)),this._getDescendants(t).pipe((0,rt.s)(1),(0,ai.Q)(this._onDestroy)).subscribe(n=>{i.select(...n.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(t){if(this.treeControl)this.treeControl.collapseDescendants(t);else if(this._expansionModel){const i=this._expansionModel;i.deselect(this._getExpansionKey(t)),this._getDescendants(t).pipe((0,rt.s)(1),(0,ai.Q)(this._onDestroy)).subscribe(n=>{i.deselect(...n.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(i=>this._getExpansionKey(i)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(i=>this._getExpansionKey(i)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(t){const i=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return(0,Pe.of)([]);const s=this._getExpansionKey(t),o=n.changed.pipe((0,Oi.n)(p=>p.added.includes(s)?(0,Pe.of)(!0):p.removed.includes(s)?(0,Pe.of)(!1):Gp.w),(0,Qe.Z)(this.isExpanded(t)));if(i)return(0,di.z)([o,this._flattenedNodes]).pipe((0,g.T)(([p,M])=>p?this._findChildrenByLevel(i,M,t,1):[]));const l=this._getChildrenAccessor();if(l)return(0,Ha.x)(l(t)??[]);throw qr()}_findChildrenByLevel(t,i,n,s){const o=this._getExpansionKey(n),l=i.findIndex(N=>this._getExpansionKey(N)===o),p=t(n),M=p+s,I=[];for(let N=l+1;N<i.length;N++){const G=t(i[N]);if(G<=p)break;G<=M&&I.push(i[N])}return I}_registerNode(t){this._nodes.value.set(this._getExpansionKey(t.data),t),this._nodes.next(this._nodes.value)}_unregisterNode(t){this._nodes.value.delete(this._getExpansionKey(t.data)),this._nodes.next(this._nodes.value)}_getLevel(t){return this._levels.get(this._getExpansionKey(t))}_getSetSize(t){return this._getAriaSet(t).length}_getPositionInSet(t){const i=this._getAriaSet(t),n=this._getExpansionKey(t);return i.findIndex(s=>this._getExpansionKey(s)===n)+1}_getNodeParent(t){const i=this._parents.get(this._getExpansionKey(t.data));return i&&this._nodes.value.get(this._getExpansionKey(i))}_getNodeChildren(t){return this._getDirectChildren(t.data).pipe((0,g.T)(i=>i.reduce((n,s)=>{const o=this._nodes.value.get(this._getExpansionKey(s));return o&&n.push(o),n},[])))}_sendKeydownToKeyManager(t){if(t.target===this._elementRef.nativeElement)this._keyManager.onKeydown(t);else{const i=this._nodes.getValue();for(const[,n]of i)if(t.target===n._elementRef.nativeElement){this._keyManager.onKeydown(t);break}}}_getDescendants(t){if(this.treeControl)return(0,Pe.of)(this.treeControl.getDescendants(t));if(this.levelAccessor){const i=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,t,1/0);return(0,Pe.of)(i)}if(this.childrenAccessor)return this._getAllChildrenRecursively(t).pipe((0,Kr.T)((i,n)=>(i.push(...n),i),[]));throw qr()}_getAllChildrenRecursively(t){return this.childrenAccessor?(0,Ha.x)(this.childrenAccessor(t)).pipe((0,rt.s)(1),(0,Oi.n)(i=>{for(const n of i)this._parents.set(this._getExpansionKey(n),t);return(0,Pe.of)(...i).pipe((0,Jr.H)(n=>(0,Qr.x)((0,Pe.of)([n]),this._getAllChildrenRecursively(n))))})):(0,Pe.of)([])}_getExpansionKey(t){return this.expansionKey?.(t)??t}_getAriaSet(t){const i=this._getExpansionKey(t),n=this._parents.get(i),s=n?this._getExpansionKey(n):null;return this._ariaSets.get(s)??[t]}_findParentForNode(t,i,n){if(!n.length)return null;const s=this._levels.get(this._getExpansionKey(t))??0;for(let o=i-1;o>=0;o--){const l=n[o];if((this._levels.get(this._getExpansionKey(l))??0)<s)return l}return null}_flattenNestedNodesWithExpansion(t,i=0){const n=this._getChildrenAccessor();return n?(0,Pe.of)(...t).pipe((0,Jr.H)(s=>{const o=this._getExpansionKey(s);this._parents.has(o)||this._parents.set(o,null),this._levels.set(o,i);const l=(0,Ha.x)(n(s));return(0,Qr.x)((0,Pe.of)([s]),l.pipe((0,rt.s)(1),(0,d.M)(p=>{this._ariaSets.set(o,[...p??[]]);for(const M of p??[]){const I=this._getExpansionKey(M);this._parents.set(I,s),this._levels.set(I,i+1)}}),(0,Oi.n)(p=>p?this._flattenNestedNodesWithExpansion(p,i+1).pipe((0,g.T)(M=>this.isExpanded(s)?M:[])):(0,Pe.of)([]))))}),(0,Kr.T)((s,o)=>(s.push(...o),s),[])):(0,Pe.of)([...t])}_computeRenderingData(t,i){if(this.childrenAccessor&&"flat"===i)return this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe((0,g.T)(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&"nested"===i){const n=this.levelAccessor;return(0,Pe.of)(t.filter(s=>0===n(s))).pipe((0,g.T)(s=>({renderNodes:s,flattenedNodes:t})),(0,d.M)(({flattenedNodes:s})=>{this._calculateParents(s)}))}return"flat"===i?(0,Pe.of)({renderNodes:t,flattenedNodes:t}).pipe((0,d.M)(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe((0,g.T)(n=>({renderNodes:t,flattenedNodes:n}))))}_updateCachedData(t){this._flattenedNodes.next(t)}_updateKeyManagerItems(t){this._keyManagerNodes.next(t)}_calculateParents(t){const i=this._getLevelAccessor();if(i){this._parents.clear(),this._ariaSets.clear();for(let n=0;n<t.length;n++){const s=t[n],o=this._getExpansionKey(s);this._levels.set(o,i(s));const l=this._findParentForNode(s,n,t);this._parents.set(o,l);const p=l?this._getExpansionKey(l):null,M=this._ariaSets.get(p)??[];M.splice(n,0,s),this._ariaSets.set(p,M)}}}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["cdk-tree"]],contentQueries:function(i,n,s){if(1&i&&e.wni(s,bn,5),2&i){let o;e.mGM(o=e.lsd())&&(n._nodeDefs=o)}},viewQuery:function(i,n){if(1&i&&e.GBs(Pi,7),2&i){let s;e.mGM(s=e.lsd())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(i,n){1&i&&e.bIt("keydown",function(o){return n._sendKeydownToKeyManager(o)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[Pi],encapsulation:2})}return a})(),jt=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_tree=(0,e.WQX)(ki);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(t){}get isExpandable(){return this._isExpandable()}set isExpandable(t){this._inputIsExpandable=t,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(t){this._inputIsExpanded=t,t?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new e.bkB;expandedChange=new e.bkB;static mostRecentTreeNode=null;_destroyed=new Ze.B;_dataChanges=new Ze.B;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._dataChanges.next())}_data;get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=(0,e.WQX)(e.gRc);constructor(){a.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function Wp(a){let r=a.parentElement;for(;r&&!Xp(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?(0,e.Udg)(r.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,g.T)(()=>this.isExpanded),(0,yi.F)()).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){a.mostRecentTreeNode===this&&(a.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(t){this.expandedChange.emit(t)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),2&i&&(e.Mr5("tabindex",n._tabindex),e.BMQ("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",e.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",e.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],features:[e.GFd]})}return a})();function Xp(a){const r=a.classList;return!(!r?.contains("cdk-nested-tree-node")&&!r?.contains("cdk-tree"))}const Qp=/([A-Za-z%]+)$/;let $a=(()=>{class a{_treeNode=(0,e.WQX)(jt);_tree=(0,e.WQX)(ki);_element=(0,e.WQX)(e.aKT);_dir=(0,e.WQX)(ci.dS,{optional:!0});_currentPadding;_destroyed=new Ze.B;indentUnits="px";get level(){return this._level}set level(t){this._setLevelInput(t)}_level;get indent(){return this._indent}set indent(t){this._setIndentInput(t)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe((0,ai.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,i=null==this._level?t:this._level;return"number"==typeof i?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const i=this._paddingIndent();if(i!==this._currentPadding||t){const n=this._element.nativeElement,s=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",o="paddingLeft"===s?"paddingRight":"paddingLeft";n.style[s]=i||"",n.style[o]="",this._currentPadding=i}}_setLevelInput(t){this._level=isNaN(t)?null:t,this._setPadding()}_setIndentInput(t){let i=t,n="px";if("string"==typeof t){const s=t.split(Qp);i=s[0],n=s[1]||n}this.indentUnits=n,this._indent=(0,e.Udg)(i),this._setPadding()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",e.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]},features:[e.GFd]})}return a})(),Ua=(()=>{class a{_tree=(0,e.WQX)(ki);_treeNode=(0,e.WQX)(jt);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._toggle(),o.stopPropagation()})("keydown.Enter",function(o){return n._toggle(),o.preventDefault()})("keydown.Space",function(o){return n._toggle(),o.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",e.L39]},features:[e.GFd]})}return a})(),Kp=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({})}return a})(),eo=(()=>{class a extends jt{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(t){this._tabIndexInputBinding=t}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return function Jp(a){return!!a._isNoopTreeKeyManager}(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(t){this.isDisabled=t}constructor(){super();const t=(0,e.WQX)(new e.ES_("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(t)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._focusItem()}),2&i&&(e.Mr5("tabindex",n._getTabindexAttribute()),e.BMQ("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",t=>null==t?0:(0,e.Udg)(t)],disabled:[2,"disabled","disabled",e.L39]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[e.Jv_([{provide:jt,useExisting:a}]),e.GFd,e.Vt3]})}return a})(),to=(()=>{class a extends bn{data;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[e.Jv_([{provide:bn,useExisting:a}]),e.Vt3]})}return a})(),io=(()=>{class a extends $a{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",e.Udg],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[e.Jv_([{provide:$a,useExisting:a}]),e.GFd,e.Vt3]})}return a})(),Wa=(()=>{class a{viewContainer=(0,e.WQX)(e.c1b);_node=(0,e.WQX)(vn,{optional:!0});static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeOutlet",""]],features:[e.Jv_([{provide:Pi,useExisting:a}])]})}return a})(),no=(()=>{class a extends ki{_nodeOutlet=void 0;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-tree"]],viewQuery:function(i,n){if(1&i&&e.GBs(Wa,7),2&i){let s;e.mGM(s=e.lsd())&&(n._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[e.Jv_([{provide:ki,useExisting:a}]),e.Vt3],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[Wa],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return a})(),ao=(()=>{class a extends Ua{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[e.Jv_([{provide:Ua,useExisting:a}]),e.Vt3]})}return a})(),qp=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[Kp,ce.yE,ce.yE]})}return a})();class eh{transformFunction;getLevel;isExpandable;getChildren;constructor(r,t,i,n){this.transformFunction=r,this.getLevel=t,this.isExpandable=i,this.getChildren=n}_flattenNode(r,t,i,n){const s=this.transformFunction(r,t);if(i.push(s),this.isExpandable(s)){const o=this.getChildren(r);o&&(Array.isArray(o)?this._flattenChildren(o,t,i,n):o.pipe((0,rt.s)(1)).subscribe(l=>{this._flattenChildren(l,t,i,n)}))}return i}_flattenChildren(r,t,i,n){r.forEach((s,o)=>{let l=n.slice();l.push(o!=r.length-1),this._flattenNode(s,t+1,i,l)})}flattenNodes(r){let t=[];return r.forEach(i=>this._flattenNode(i,0,t,[])),t}expandFlattenedNodes(r,t){let i=[],n=[];return n[0]=!0,r.forEach(s=>{let o=!0;for(let l=0;l<=this.getLevel(s);l++)o=o&&n[l];o&&i.push(s),this.isExpandable(s)&&(n[this.getLevel(s)+1]=t.isExpanded(s))}),i}}class th extends fi.qS{_treeControl;_treeFlattener;_flattenedData=new Rt.t([]);_expandedData=new Rt.t([]);get data(){return this._data.value}set data(r){this._data.next(r),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new Rt.t([]);constructor(r,t,i){super(),this._treeControl=r,this._treeFlattener=t,i&&(this.data=i)}connect(r){return(0,li.h)(r.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,g.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var Ri=c(9333);let Jt=(()=>{class a{constructor(){this.log=(0,w.Tq)({PickerPartBaseComponent:a}),this.fieldState=(0,e.WQX)(je.W),this.editRoutingService=(0,e.WQX)(Ct),this.enableTextEntry=this.fieldState.settingExt("EnableTextEntry"),this.pickerData=this.fieldState.pickerData,this.isInFreeTextMode=this.pickerData.isInFreeTextMode,this.ui=this.fieldState.ui,this.selectedItems=this.pickerData.selectedAll,this.selectedItem=this.pickerData.selectedOne,this.itemCount=(0,te.bo)("itemCount",()=>this.selectedItems().length),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.features=this.pickerData.features}expandDialog(){const t=this.fieldState.config;t.initialDisabled||this.editRoutingService.expand(!0,t.index,t.entityGuid)}openNewEntityDialog(t){this.log.a(`openNewEntityDialog: '${t}'`),this.pickerData.source.editItem(null,t)}toggleFreeText(t){this.log.a(`toggleFreeText ${t}`),!t&&this.pickerData.toggleFreeTextMode()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-part-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();function ih(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.edit(n.item().value,n.item().id))}),e.j41(1,"mat-icon"),e.EFF(2,"edit"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled||t.config.initialDisabled)}}function nh(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeItem(n.index()))}),e.j41(1,"mat-icon"),e.EFF(2,"do_not_disturb_on"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled)}}function ah(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteItem(n.index(),n.item().value))}),e.j41(1,"mat-icon"),e.EFF(2,"delete"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled)}}let Xa=(()=>{class a extends Jt{constructor(){super(),this.item=e.hFB.required(),this.index=e.hFB.required(),this.show=e.hFB.required(),this.uiFeatures=(0,e.hFB)(null),this.buttons=(0,te.bo)("buttons",()=>{const t=this.item(),i=this.show()&&!!t,n=this.features(),s=this.uiFeatures();return{edit:n.edit&&0!=s?.edit&&i&&!t?.noEdit,remove:n.remove&&0!=s?.remove&&i&&!t?.noRemove,delete:n.delete&&0!=s?.delete&&i&&!t?.noDelete}})}edit(t,i){this.log.a(`edit guid: '${t}'; id: '${i}'`),this.pickerData.source.editItem({entityGuid:t,entityId:i},null)}removeItem(t){this.log.a(`removeItem index: '${t}'`),this.pickerData.state.remove(t)}deleteItem(t,i){this.log.a(`deleteItem index: '${t}'; entityGuid: '${i}'`),this.pickerData.source.deleteItem({index:t,entityGuid:i})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-item-buttons"]],inputs:{item:[1,"item"],index:[1,"index"],show:[1,"show"],uiFeatures:[1,"uiFeatures"]},features:[e.Vt3],decls:3,vars:3,consts:[["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Edit","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Remove","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Delete","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Edit","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Remove","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Delete","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"]],template:function(i,n){1&i&&e.DNE(0,ih,3,1,"button",0)(1,nh,3,1,"button",1)(2,ah,3,1,"button",2),2&i&&(e.vxM(n.buttons().edit?0:-1),e.R7$(),e.vxM(n.buttons().remove?1:-1),e.R7$(),e.vxM(n.buttons().delete?2:-1))},dependencies:[Ye.Hl,Ye.iY,Ce.m_,Ce.An,ot.e,Ri.c],styles:[".picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}"]})}}return a})();var so=c(2487);function sh(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",1),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToLink())}),e.EFF(1,"open_in_new"),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("tippy",t.helpLink())}}let rh=(()=>{class a{constructor(){this.helpLink=(0,e.hFB)()}goToLink(){window.open(this.helpLink(),"_blank")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-help"]],inputs:{helpLink:[1,"helpLink"]},decls:1,vars:1,consts:[["appClickStopPropagation","",3,"tippy"],["appClickStopPropagation","",3,"click","tippy"]],template:function(i,n){1&i&&e.DNE(0,sh,2,1,"mat-icon",0),2&i&&e.vxM(n.helpLink()?0:-1)},dependencies:[Ce.m_,Ce.An,ot.e,Ri.c],encapsulation:2})}}return a})();function oh(a,r){if(1&a&&(e.j41(0,"mat-icon",0),e.EFF(1," info "),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippy",t.infoBox())("tippyAllowHtml",!0)("tippyArrow",!0)}}let lh=(()=>{class a{constructor(){this.infoBox=(0,e.hFB)()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-icon-info"]],inputs:{infoBox:[1,"infoBox"]},decls:1,vars:1,consts:[["tippyFontSize","larger","appClickStopPropagation","",3,"tippy","tippyAllowHtml","tippyArrow"]],template:function(i,n){1&i&&e.DNE(0,oh,2,3,"mat-icon",0),2&i&&e.vxM(n.infoBox()?0:-1)},dependencies:[Ce.m_,Ce.An,ot.e,Ri.c],encapsulation:2})}}return a})();var Qa=c(9470);const ch={instanceAlreadyExist:"Instance with name #tippyName already exist, please pick unique [tippyName]",instanceNotExist:"Instance with name #tippyName does not exist",childrenInstancesNotFoundGrouped:"No children tippy instances found within 'ngx-tippy-group' component",childrenInstancesNotFoundSingleton:"No children tippy instances found within 'ngx-tippy-singleton' component",singletonInstanceAlreadyExist:"Singleton instance with name #singletonName already exist, please pick unique [singletonName]"},dh={clearDelayTimeouts:()=>{},destroy:()=>{},disable:()=>{},enable:()=>{},hide:()=>{},hideWithInteractivity:()=>{},id:0,plugins:[{name:"followCursor",defaultValue:!1}],popper:{state:{}},popperInstance:{},props:{},reference:{},setContent:()=>{},setProps:()=>{},show:()=>{},state:{isEnabled:!0,isVisible:!0,isDestroyed:!1,isMounted:!0,isShown:!1},unmount:()=>{}},uh=new e.nKC("NGX_TIPPY_MESSAGES",{providedIn:"root",factory:()=>ch}),ph=(new e.nKC("TIPPY_FAKE_INSTANCE",{providedIn:"root",factory:()=>dh}),new e.nKC("NGX_TIPPY_CONFIG",{providedIn:"root",factory:()=>({})}));let hh=(()=>{class a{isDevMode(){return(0,e.naY)()}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Lt=function(a){return a.SetInstance="setInstance",a.Show="show",a.Hide="hide",a.HideWithInteractivity="hideWithInteractivity",a.Disable="disable",a.Enable="enable",a.SetProps="setProps",a.SetContent="setContent",a.Unmount="unmount",a.ClearDelayTimeouts="clearDelayTimeouts",a.Destroy="destroy",a}(Lt||{}),yn=function(a){return a.TippyName="tippyName",a.SingletonName="singletonName",a}(yn||{});class mh{constructor(r){this.args=r,this.compRef=this.args.viewContainerRef.createComponent(this.args.component)}detectChanges(){return this.compRef?.changeDetectorRef.detectChanges(),this}getElement(){return this.compRef?.location.nativeElement}destroy(){this.compRef?.destroy(),this.compRef=null}}const ro=(a,r)=>{a&&a instanceof Element&&r.setStyle(a,"display","block")};class vh{constructor(r){this.args=r,this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef)}detectChanges(){return this.viewRef?.detectChanges(),this}getElement(){if(!this.viewRef)return null;const r=this.viewRef.rootNodes;return 1===r.length&&r[0].nodeType===Node.ELEMENT_NODE?this.element=r[0]:(this.element=document.createElement("div"),this.element.append(...r)),this.element}destroy(){this.viewRef&&(1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode?.removeChild(this.element),this.element=null),this.viewRef.destroy(),this.viewRef=null)}}let oo=(()=>{class a{constructor(t){this.appRef=t}getViewRefInstance(t,i,n={}){let s;return(a=>a instanceof e.C4Q)(t)?(n.$implicit=i,s=this.createTemplate(t,n)):s=(a=>"function"==typeof a)(t)?this.createComponent(t):(a=>a instanceof HTMLTemplateElement)(t)?{getElement:()=>t.content}:{getElement:()=>t},s}createTemplate(t,i){return new vh({tpl:t,context:i,appRef:this.appRef})}createComponent(t){return new mh({component:t,viewContainerRef:this.viewContainerRef})}}return a.\u0275fac=function(t){return new(t||a)(e.KVO(e.o8S))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),bh=(()=>{class a{constructor(t,i,n,s){this.devModeService=i,this.ngxViewService=n,this.messagesDict=s,this.tippyInstances=new Map,this.tippySingletonEntryInstances=new Map,this.tippyInstances$=new Ze.B,this.createRenderer(t)}setInstance(t,i){if(this.tippyInstances.get(t)){const s=this.getMessage({reason:"instanceAlreadyExist",messageFor:yn.TippyName,name:t});this.throwError(s)}else this.tippyInstances.set(t,i),this.emitInstancesChange({name:t,reason:Lt.SetInstance,instance:i})}getInstance(t){return this.tippyInstances.has(t)?this.tippyInstances.get(t):null}getInstances(){return this.tippyInstances.size?this.tippyInstances:null}setSingletonInstance(t,i){if(this.tippySingletonEntryInstances.has(t)){const n=this.getMessage({reason:"singletonInstanceAlreadyExist",messageFor:yn.SingletonName,name:t});this.throwError(n)}else this.tippySingletonEntryInstances.set(t,i)}getSingletonInstance(t){return this.tippySingletonEntryInstances.has(t)?this.tippySingletonEntryInstances.get(t):null}getSingletonInstances(){return this.tippySingletonEntryInstances.size?this.tippySingletonEntryInstances:null}show(t){this.callNativeTippyMethod(t,Lt.Show)}hide(t){this.callNativeTippyMethod(t,Lt.Hide)}hideWithInteractivity(t,i){this.callNativeTippyMethod(t,Lt.HideWithInteractivity,i)}disable(t){this.callNativeTippyMethod(t,Lt.Disable)}enable(t){this.callNativeTippyMethod(t,Lt.Enable)}setProps(t,i){this.callNativeTippyMethod(t,Lt.SetProps,i)}setContent(t,i,n){const s=this.getInstance(t);if(s){if(i){const o=this.ngxViewService.getViewRefInstance(i,s.tippyName,n),l=o.getElement();l?(ro(l,this.renderer),s.setContent(l),s.viewRef=o,this.emitInstancesChange({name:t,reason:"setContent",instance:s})):this.throwError("message")}}else this.throwErrorInstanceNotExist(t)}unmount(t){this.callNativeTippyMethod(t,Lt.Unmount)}clearDelayTimeouts(t){this.callNativeTippyMethod(t,Lt.ClearDelayTimeouts)}destroy(t){this.callNativeTippyMethod(t,Lt.Destroy),this.tippyInstances.delete(t)}setDefaultProps(t){Qa.Ay.setDefaultProps(t)}showAll(){this.tippyInstances.forEach((t,i)=>{t.show(),this.emitInstancesChange({name:i,reason:"show",instance:t})})}hideAll(t){const i=this.getInstance(t?.excludeName||""),n=t?.duration;(0,Qa.cJ)({duration:n,...i})}get instancesChanges(){return this.tippyInstances$.asObservable()}callNativeTippyMethod(t,i,n){const s=this.getInstance(t);s?(s[i](n),this.emitInstancesChange({name:t,reason:i,instance:s})):this.throwErrorInstanceNotExist(t)}emitInstancesChange({name:t,reason:i,instance:n}){this.tippyInstances$.next({name:t,reason:i,instance:n})}createRenderer(t){this.renderer=t.createRenderer(null,null)}throwErrorInstanceNotExist(t){const i=this.getMessage({reason:"instanceNotExist",messageFor:yn.TippyName,name:t});this.throwError(i)}throwError(t,i=Error){if(this.devModeService.isDevMode())throw new i(t)}getMessage({reason:t,messageFor:i,name:n}){return this.messagesDict[t].replace(`#${i}`,`'${n}'`)}}return a.\u0275fac=function(t){return new(t||a)(e.KVO(e._9s),e.KVO(hh),e.KVO(oo),e.KVO(uh))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),yh=(()=>{class a{constructor(t,i,n,s,o,l,p){this.tippyEl=t,this.renderer=i,this.ngxTippyService=n,this.ngxViewService=s,this.viewContainerRef=o,this.platform=l,this.ngxTippyConfig=p,this.cachedInstances=new Map}ngOnInit(){(0,re.Vy)(this.platform)||(this.ngxViewService.viewContainerRef=this.viewContainerRef,this.initTippy())}ngOnChanges(t){this.handleChanges(t)}ngOnDestroy(){this.destroyTippy()}initTippy(){const t=this.tippyEl.nativeElement;if(null==this.ngxTippy)return;const i=this.ngxViewService.getViewRefInstance(this.ngxTippy,this.tippyName,this.tippyContext),n=i.getElement(),s=(0,Qa.Ay)(t,{...this.ngxTippyConfig,...this.tippyProps||{},...n&&{content:n}});this.tippyName=this.tippyName||`tippy-${s.id}`,ro(n,this.renderer),this.setTippyInstance({tippyTarget:t,tippyName:this.tippyName,viewRef:i}),this.setClassName(this.tippyInstance,this.tippyClassName),this.writeInstancesToStorage(this.tippyInstance,this.tippyName)}setTippyInstance({tippyTarget:t,tippyName:i,viewRef:n}){this.tippyInstance={...t._tippy,tippyName:i,viewRef:n}}setClassName(t,i){if(!i||!t)return;const n=i.split(" ");n.length&&n.forEach(s=>{this.renderer.addClass(t.popper.firstElementChild,s)})}removeClassName(t,i){if(!i||!t)return;const n=i.split(" ");n.length&&n.forEach(s=>{this.renderer.removeClass(t.popper.firstElementChild,s)})}writeInstancesToStorage(t,i){t&&this.ngxTippyService.setInstance(i,t)}handleChanges({tippyName:t,ngxTippy:i,tippyProps:n,tippyClassName:s,tippyContext:o}){t&&!t.firstChange&&this.handleNameChanges(t),i&&!i.firstChange&&this.handleContentChanges(i),n&&!n.firstChange&&this.handlePropsChanges(n),s&&!s.firstChange&&this.handleClassChanges(s),o&&!o.firstChange&&this.handleContextChanges(o)}handleNameChanges({previousValue:t,currentValue:i}){const n=this.cachedTippyInstances();!n||!this.tippyInstance||(this.deleteEntryInStorage(n,t),this.tippyInstance={...this.tippyInstance,tippyName:i},n.set(i,this.tippyInstance))}handleContentChanges({currentValue:t}){this.tippyInstance&&this.tippyName?(this.ngxTippyService.setContent(this.tippyName,t),null==t?this.ngxTippyService.disable(this.tippyName):this.ngxTippyService.enable(this.tippyName)):this.initTippy()}handlePropsChanges({currentValue:t}){this.tippyName&&this.ngxTippyService.setProps(this.tippyName,t)}handleClassChanges({previousValue:t,currentValue:i}){this.removeClassName(this.tippyInstance,t),this.setClassName(this.tippyInstance,i)}handleContextChanges({currentValue:t}){this.tippyInstance&&this.tippyName&&this.ngxTippy?this.ngxTippyService.setContent(this.tippyName,this.ngxTippy,t):this.initTippy()}cachedTippyInstances(){const t=this.ngxTippyService.getInstances();return this.cachedInstances.has(t)?this.cachedInstances.get(t):(this.cachedInstances.set(t,t),t)}destroyTippy(){const t=this.cachedTippyInstances(),i=this.tippyInstance;!i||!t||(this.clearInstance({tippyInstance:i,tippyInstances:t}),this.resetLocalInstance(),this.clearCachedInstances())}clearInstance({tippyInstance:t,tippyInstances:i}){const{tippyName:n}=t;this.clearViewRef(t),this.destroyTippyInstance(t),this.deleteEntryInStorage(i,n)}clearViewRef(t){t.viewRef?.destroy&&t.viewRef.destroy()}destroyTippyInstance(t){t.destroy()}deleteEntryInStorage(t,i){t.delete(i)}resetLocalInstance(){this.tippyInstance=void 0}clearCachedInstances(){this.cachedInstances.clear()}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(bh),e.rXU(oo),e.rXU(e.c1b),e.rXU(e.Agw),e.rXU(ph))},a.\u0275dir=e.FsC({type:a,selectors:[["","ngxTippy",""]],inputs:{ngxTippy:"ngxTippy",tippyProps:"tippyProps",tippyName:"tippyName",tippyClassName:"tippyClassName",tippyContext:"tippyContext"},standalone:!1,features:[e.OA$]}),a})(),Ch=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[re.MD]}),a})();function wh(a,r){if(1&a&&e.nrm(0,"i"),2&a){const t=e.XpG(2);e.ZvI("icon-preview ",t.classWithoutDot(t.item().previewValue),"")}}function kh(a,r){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s(),e.EFF(2," \xa0 ")),2&a){const t=e.XpG(2);e.R7$(),e.JRh(t.item().previewValue)}}function Mh(a,r){if(1&a&&(e.nrm(0,"img",2),e.j41(1,"div",3,0),e.nrm(3,"img",4),e.k0s()),2&a){const t=e.sdS(2),i=e.XpG(2);e.Y8G("ngxTippy",t)("src",i.item().previewValue,e.B4B)("alt",i.item().value),e.R7$(3),e.Y8G("src",i.item().previewValue,e.B4B)("alt",i.item().value)}}function Dh(a,r){if(1&a&&(e.nrm(0,"img",2),e.j41(1,"div",3,0),e.nrm(3,"img",4),e.k0s()),2&a){const t=e.sdS(2),i=e.XpG(2);e.Y8G("ngxTippy",t)("src",i.imageResize(i.item().previewValue,24,24),e.B4B)("alt",i.item().value),e.R7$(3),e.Y8G("src",i.imageResize(i.item().previewValue,140,140),e.B4B)("alt",i.item().value)}}function Th(a,r){if(1&a&&e.DNE(0,wh,1,3,"i",1)(1,kh,3,1)(2,Mh,4,5)(3,Dh,4,5),2&a){let t;const i=e.XpG();e.vxM("icon-css"===(t=i.settings().PreviewType)?0:"icon-material"===t?1:"svg"===t?2:"image"===t?3:-1)}}let lo=(()=>{class a{constructor(){this.item=e.hFB.required(),this.settings=e.hFB.required(),this.debugMessage=(0,e.EWP)(()=>"")}classWithoutDot(t){return t?.replace(/\./g,"")}imageResize(t,i,n){if(!t)return t;let s=t.replace(/[\?&]w=\d+/g,"").replace(/[\?&]h=\d+/g,"");return s=s.replace(/width=\d+/g,`width=${i}`).replace(/height=\d+/g,`height=${n}`),s.includes("width=")||(s+=(s.includes("?")?"&":"?")+`width=${i}`),s.includes("height=")||(s+=(s.includes("?")?"&":"?")+`height=${n}`),s}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-item-preview"]],inputs:{item:[1,"item"],settings:[1,"settings"]},decls:2,vars:2,consts:[["tippyTemplate",""],[3,"class"],[1,"image-preview",3,"ngxTippy","src","alt"],[1,"tippy-custom"],[1,"image-tippy",3,"src","alt"]],template:function(i,n){if(1&i&&(e.EFF(0),e.DNE(1,Th,4,1)),2&i){let s;e.SpI(" ",n.debugMessage()," "),e.R7$(),e.vxM(null!=(s=n.item())&&s.previewValue?1:-1)}},dependencies:[Ce.An,Ch,yh],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:flex;height:18px;margin-right:8px}.image-preview[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:8px;border-radius:2px;object-fit:cover;object-position:center}  .tippy-content{padding:6px!important}.tippy-custom[_ngcontent-%COMP%]{background-color:#fff!important}.tippy-custom[_ngcontent-%COMP%]   .image-tippy[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:2px;object-fit:cover;object-position:center}"]})}}return a})();function Sh(a,r){1&a&&e.nrm(0,"app-feature-icon",5),2&a&&e.Y8G("featureNameId",r.$implicit)}let Ka=(()=>{class a{constructor(){this.item=e.hFB.required(),this.index=(0,e.hFB)(0),this.settings=e.hFB.required(),this.uiFeatures=(0,e.hFB)(null),this.show=(0,e.hFB)(!1),this.featureWarnings=(0,e.EWP)(()=>{const t=this.item().rules;if(!t)return[];const i=t.split(";").map(n=>n.trim()).filter(n=>n.startsWith("warn-req=feature:")).map(n=>n.split(":")[1]);return console.log("list",i),i},{debugName:"featureWarnings"})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-item-label"]],inputs:{item:[1,"item"],index:[1,"index"],settings:[1,"settings"],uiFeatures:[1,"uiFeatures"],show:[1,"show"]},decls:11,vars:9,consts:[[1,"picker-option-contents"],[1,"picker-option"],[3,"item","settings"],[1,"picker-option-label"],[1,"picker-option-info"],[3,"featureNameId"],[3,"helpLink"],[3,"infoBox"],[1,"my-item-actions",3,"show","item","index","uiFeatures"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"app-picker-item-preview",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.j41(5,"div",4),e.Z7z(6,Sh,1,1,"app-feature-icon",5,e.fX1),e.nrm(8,"app-picker-help",6)(9,"app-picker-icon-info",7)(10,"app-picker-item-buttons",8),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("item",n.item())("settings",n.settings()),e.R7$(2),e.SpI(" ",n.item().label||n.item().value,""),e.R7$(2),e.Dyx(n.featureWarnings()),e.R7$(2),e.Y8G("helpLink",n.item().link),e.R7$(),e.Y8G("infoBox",n.item().info),e.R7$(),e.Y8G("show",n.show())("item",n.item())("index",n.index())("uiFeatures",n.uiFeatures()))},dependencies:[lo,rh,lh,Xa,so.Z],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}.picker-option-contents[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}"]})}}return a})();const Cn="parent-child";let Ja=(()=>{class a{#e;#t;constructor(){this.log=(0,w.Tq)({PickerTreeDataHelper:a}),this.treeControl=new $p(t=>t.level,t=>t.expandable),this.hasChild=(t,i)=>i.expandable,this.build()}updateConfig(t){this.log.a("updateConfigAndSelectedData"),this.#e=t}addTreeItems(t){this.log.a("addTreeItems"),this.#t=t}updateSelectedData(t){this.log.a("updateSelectedData"),this.dataSource.data=t}preConvertAllItems(t,i){this.log.a("preConvertAllItemsToTreeItems",{treeConfig:t,items:i});const n=i.map(o=>this.#i(t,o,i));return n.map(o=>{if(!o.expandable)return o;const l=this.#n(t,o,n);return o.children=l,o})}#i(t,i,n){if(this.log.a(`preConvertItemToTreeItem for item ${i?.id}`,{treeConfig:t,item:i,allItems:n}),!t)throw new Error("No tree configuration found");if(!i)throw new Error("Can't transform null-item");const s=t.TreeRelationship==Cn,o=t.TreeChildParentRefField,l=t.TreeParentChildRefField,M=t.TreeParentIdField,N=t.TreeBranchesStream,G=n.filter(Fe=>!Fe.sourceStreamName||Fe.sourceStreamName==N).find(Fe=>Fe==i),ae=i?.data?.[M],ye=s?G&&i.data[l]?.length>0:G&&!!n.find(Fe=>Fe.data[o]?.[0]?.[M]==ae),Ee={...i,level:-1,expandable:ye,parent:i.data[o],children:i.data[l]};return this.log.a("result",{result:Ee}),Ee}build(){this.log.a("build");const t=new eh((i,n)=>({...i,level:n}),i=>i.level,i=>i.expandable,i=>i.children);this.dataSource=new th(this.treeControl,t)}#n(t,i,n){const o=t.TreeChildParentRefField,p=t.TreeChildIdField,M=t.TreeParentIdField;if(t.TreeRelationship==Cn)return i.data[t.TreeParentChildRefField].map(I=>n.find(G=>G[p]==I[p]));if("child-parent"==t.TreeRelationship){const I=i.data?.[M];return n.filter(N=>N.data[o]?.[0]?.[M]==I)}throw new Error(`Unknown tree relationship: "${t?.TreeRelationship}"`)}disableOption(t,i,n){const s=this.#e;return!n&&i.some(I=>I.value===t.value)||!s?.TreeAllowSelectRoot&&t.children?.length>0&&0===t.parent?.length||!s?.TreeAllowSelectBranch&&t.children?.length>0&&t.parent?.length>0||!s?.TreeAllowSelectLeaf&&0===t.children?.length}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Eh=(()=>{class a{constructor(t,i){this.treeHelper=t,this.inject=i,this.log=(0,w.Tq)({PickerTreeDataService:a})}init(t,i){this.log.a("init");const n=t();if("tree"!==n.PickerDisplayMode)return;const o=n.PickerTreeConfiguration,l=o?.TreeRelationship==Cn;(0,e.N4e)(this.inject,()=>{(0,e.QZP)(()=>{const p=i(),M=null==p?.[0]?.data?[]:this.treeHelper.preConvertAllItems(o,p);if(null!=M?.[0]?.data){this.treeHelper.updateConfig(o),this.treeHelper.addTreeItems(M);const I=M.filter(N=>l?!M.some(G=>G.data[o?.TreeParentChildRefField]?.some(ae=>ae.Id===N.id)):0==N.data[o?.TreeChildParentRefField]?.length);this.treeHelper.updateSelectedData(I)}})})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Ja),e.KVO(e.zZn))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Ah=["autocomplete"],Fh=[[["","freeTextButtons",""]]],Oh=["[freeTextButtons]"],Ph=(a,r)=>r.value,Rh=a=>({"mat-form-field-invalid":a}),Lh=a=>({"mat-error":a});function Vh(a,r){1&a&&(e.j41(0,"span",8),e.SdG(1),e.k0s())}function Yh(a,r){if(1&a&&(e.j41(0,"mat-option",13),e.nrm(1,"app-picker-item-label",14),e.k0s()),2&a){const t=r.$implicit,i=e.XpG(2);e.Y8G("value",t.value)("disabled",!!t.noSelect||!i.settings().enableReselect&&i.isOptionDisabled(t.value))("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("settings",i.fieldState.settings())}}function Nh(a,r){if(1&a&&e.Z7z(0,Yh,2,7,"mat-option",13,Ph),2&a){const t=e.XpG();e.Dyx(t.filteredItems())}}function zh(a,r){if(1&a&&(e.j41(0,"mat-tree-node",17),e.nrm(1,"button",18),e.j41(2,"mat-option",13),e.nrm(3,"app-picker-item-label",14),e.k0s()()),2&a){const t=r.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("value",t.value)("disabled",i.treeHelper.disableOption(t,i.selectedItems(),i.settings().enableReselect))("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("settings",i.fieldState.settings())}}function Bh(a,r){if(1&a&&(e.j41(0,"mat-tree-node",17)(1,"button",19)(2,"mat-icon",20),e.EFF(3),e.k0s()(),e.j41(4,"mat-option",13),e.nrm(5,"app-picker-item-label",14),e.k0s()()),2&a){const t=r.$implicit,i=e.XpG(2);e.R7$(),e.BMQ("aria-label","Toggle "+t.name),e.R7$(2),e.SpI(" ",i.treeHelper.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.R7$(),e.Y8G("value",t.value)("disabled",i.treeHelper.disableOption(t,i.selectedItems(),i.settings().enableReselect))("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("settings",i.fieldState.settings())}}function jh(a,r){if(1&a&&(e.j41(0,"mat-tree",11),e.DNE(1,zh,4,7,"mat-tree-node",15)(2,Bh,6,9,"mat-tree-node",16),e.k0s()),2&a){const t=e.XpG();e.Y8G("dataSource",t.treeHelper.dataSource)("treeControl",t.treeHelper.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",t.hasChild)}}function Hh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",12),e.EFF(1,"debug: "),e.j41(2,"span",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.insertNull())}),e.EFF(3,"add null-item"),e.k0s()()}}const Gh={all:!1,optionSelected:!1,focusOnSearchComponent:!1,onClosed:!0,onOpened:!0,tooltip:!1,fields:[...Ft.z,"Author"]};let Za=(()=>{class a extends Jt{#e;#t;constructor(t,i){super(),this.translate=t,this.globalConfigService=i,this.log=(0,w.Tq)({PickerSearchComponent:a},Gh),this.#e=(0,w.Tq)("PickerSearchComponent-ItemChecks"),this.autocomplete=e.ebz.required("autocomplete"),this.showSelectedItem=e.hFB.required(),this.showItemEditButtons=e.hFB.required(),this.#t=(0,D.d)(Eh),this.treeHelper=(0,D.d)(Ja),this.selectedItem=(0,te.bo)("selectedItems",()=>this.pickerData.selectedOne()),this.#i=(0,te.KX)("reFilter",!1),this.filteredItems=(0,te.bo)("filteredItems",()=>{this.#i();const s=this.pickerData.optionsAll(),o=this.autocomplete()?.nativeElement.value,l=o?.toLocaleLowerCase(),p=l?s.filter(M=>((M.label?M.label:M.value)??"").toLocaleLowerCase().includes(l)):s;return p.length>0?p:[Di.message(this.translate,"Fields.Picker.FilterNoResults",{search:o})]}),this.debugEnabled=this.globalConfigService.isDebug,this.settings=(0,te.bo)("settings",()=>{const n=this.fieldState.settings();return{enableAddExisting:n.EnableAddExisting,enableReselect:n.EnableReselect,showAsTree:"tree"===n.PickerDisplayMode}}),this.hasChild=(n,s)=>this.treeHelper.hasChild(n,s)}#i;ngOnInit(){const t=this.fieldState.settings;"tree"===t().PickerDisplayMode&&(this.#t.init(t,this.pickerData.optionsAll),this.treeHelper=this.#t.treeHelper),this.pickerData.state.attachCallback(()=>this.focusOnSearchComponent())}focusOnSearchComponent(){this.log.fnIf("focusOnSearchComponent"),this.autocomplete()?.nativeElement.focus()}displaySelected(t){return this.showSelectedItem()?t?.label??"":""}tooltip(){const t=this.log.fnIfInList("tooltip","fields",this.fieldState.name,null,this.fieldState.name),i=this.pickerData.selectedAll().length;return 1!=i?t.r(null,`0 or more than 1 selected: ${i}`):t.r(this.selectedItem().tooltip,"ok")}displayFn(t){const i=this.selectedItem();if(this.#e.a(`displayFn: value: '${t}'`,{selectedItem:i}),null==t)return"";const n=this.pickerData.optionsAll().find(s=>s.value==t)?.label;return n?(this.log.a("displayFn result",{value:t,returnValue:n}),n):i?.value==t?i?.label:t+" *"}markAsTouched(){this.fieldState.ui().markTouched()}filterSelectionList(){this.#i.update(t=>!t)}onOpened(t){const i=this.log.fnIf("onOpened",{isTreeDisplayMode:t}),n=this.autocomplete().nativeElement;i.a(`onOpened: isTreeDisplayMode ${t}; domValue: '${n.value}'`),n.value="",this.#i.update(s=>!s),t&&n.blur()}onClosed(){const t=this.selectedItems(),i=this.selectedItem(),n=this.autocomplete().nativeElement,s=this.log.fnIf("onClosed",{selectedItems:t,selectedItem:i});return this.showSelectedItem()?(s.a("showSelectedItem"),i?t.length<2?(n.value=i.label,s.end(`selectedItem & < 2; label updated to ${i.label}`,{selectedItem:i})):void 0:(n.value="",s.end("!selectedItem"))):(n.value="",s.end("!showSelectedItem"))}optionSelected(t){const i=this.features().multiValue,n=this.log.fnIf("optionSelected",{value:t.option.value,multiValue:i}),s=t.option.value;i?(n.a("multiValue, will add to selection"),this.pickerData.state.add(s)):(n.a("no multiValue, will set to new"),this.pickerData.state.set([s])),setTimeout(()=>this.autocomplete().nativeElement.blur())}getPlaceholder(){const t=this.pickerData.optionsAll();var i=this.translate.instant(t.length>0?"Fields.Picker.Search":"Fields.Picker.QueryNoItems");return this.#e.a(`getPlaceholder: '${i}'`,{allOptions:t}),i}insertNull(){this.log.a("insertNull"),this.pickerData.state.add(null)}isOptionDisabled(t){const i=this.selectedItems(),n=i.some(s=>s.value===t);return this.#e.a(`sOptionDisabled value: '${t}'; result: ${n}`,{selected:i}),n}goToLink(t){this.log.a(`goToLink helpLink: '${t}'`),window.open(t,"_blank")}getSelectedItem(t){return this.pickerData.optionsAll().find(i=>i.value===t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(x.c$),e.rXU(f.B))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-search"]],viewQuery:function(i,n){1&i&&e.wEZ(n.autocomplete,Ah,5),2&i&&e.NyB()},inputs:{showSelectedItem:[1,"showSelectedItem"],showItemEditButtons:[1,"showItemEditButtons"]},features:[e.Vt3],ngContentSelectors:Oh,decls:17,vars:25,consts:[["autocomplete",""],["auto","matAutocomplete"],["color","accent",1,"eav-mat-form-field","my-search",3,"click","formGroup","ngClass"],[1,"show-input-container"],[1,"picker-container",3,"item","settings"],["matInput","",1,"eav-translate-on-dblclick",3,"focus","blur","input","matAutocomplete","value","placeholder","disabled","tippy","tippyArrow"],["matSuffix","",1,"my-item-actions",3,"show","item","index"],["mat-icon-button","","matSuffix","","disableRipple","true",1,"entity-dropdown-button","picker-inline-button",3,"disabled"],["matSuffix",""],[3,"ngClass"],[3,"optionSelected","closed","opened","displayWith","hideSingleSelectionIndicator"],[3,"dataSource","treeControl"],[1,"null-box"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"value","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","settings"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"eav-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["tippy","Add null-item",1,"null-button",3,"click"]],template:function(i,n){if(1&i){const s=e.RV6();e.NAR(Fh),e.j41(0,"mat-form-field",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.filterSelectionList())}),e.j41(1,"div",3),e.nrm(2,"app-picker-item-preview",4),e.j41(3,"input",5,0),e.bIt("focus",function(){return e.eBV(s),e.Njj(n.pickerData.source.fetchItems())})("blur",function(){return e.eBV(s),e.Njj(n.markAsTouched())})("input",function(){return e.eBV(s),e.Njj(n.filterSelectionList())}),e.k0s()(),e.nrm(5,"app-picker-item-buttons",6),e.j41(6,"button",7)(7,"mat-icon"),e.EFF(8,"arrow_drop_down"),e.k0s()(),e.DNE(9,Vh,2,0,"span",8),e.j41(10,"mat-label",9),e.EFF(11),e.k0s()(),e.j41(12,"mat-autocomplete",10,1),e.bIt("optionSelected",function(l){return e.eBV(s),e.Njj(n.optionSelected(l))})("closed",function(){return e.eBV(s),e.Njj(n.onClosed())})("opened",function(){return e.eBV(s),e.Njj(n.onOpened(n.settings().showAsTree))}),e.DNE(14,Nh,2,0)(15,jh,3,3,"mat-tree",11),e.k0s(),e.DNE(16,Hh,4,0,"div",12)}if(2&i){let s;const o=e.sdS(13);e.Y8G("formGroup",n.fieldState.group)("ngClass",e.eq3(21,Rh,n.ui().touchedAndInvalid)),e.R7$(2),e.Y8G("item",n.getSelectedItem(null==(s=n.selectedItem())?null:s.value))("settings",n.fieldState.settings()),e.R7$(),e.Y8G("matAutocomplete",o)("value",n.displaySelected(n.selectedItem()))("placeholder",n.getPlaceholder())("disabled",n.ui().disabled||!n.settings().enableAddExisting)("tippy",n.tooltip())("tippyArrow",!0),e.R7$(2),e.Y8G("show",n.showItemEditButtons())("item",n.selectedItem())("index",0),e.R7$(),e.Y8G("disabled",n.ui().disabled||!n.settings().enableAddExisting),e.R7$(3),e.vxM(n.features().textEntry?9:-1),e.R7$(),e.Y8G("ngClass",e.eq3(23,Lh,n.ui().touchedAndInvalid)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("displayWith",n.displayFn.bind(n))("hideSingleSelectionIndicator",!0),e.R7$(2),e.vxM(n.settings().showAsTree?15:14),e.R7$(2),e.vxM(n.debugEnabled()?16:-1)}},dependencies:[Oe.RG,Oe.rl,Oe.nJ,Oe.yw,ge.YN,ge.cb,ge.X1,ge.j4,re.YU,ht.fS,ht.fg,ja.jL,ja.$3,ce.wT,ja.pN,Ye.Hl,Ye.iY,Ce.m_,Ce.An,ce.Sy,qp,to,io,ao,no,eo,x.h,Xa,ot.e,Ka,lo],styles:[".eav-add-new-entity[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.show-input-container[_ngcontent-%COMP%]{display:flex}.picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.my-search[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}.picker-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}}return a})();var $h=c(7024);const Uh={all:!0,options:!0,select:!0};class wn extends Jt{constructor(){super(),this.log=(0,w.Tq)({PickerInlineBaseComponent:wn},Uh),this.options=(0,te.bo)("options",()=>{const r=this.pickerData.optionsWithMissing(),t=this.selectedItems(),i=r.map(n=>{const s=t.find(o=>o.value===n.value);return{...n,selected:!!s}});return this.log.aIf("options",{options:r,selected:t,final:i}),i}),this.pickerData.source.fetchItems()}select(r){const t=this.log.fn("select",{item:r});if(r.noSelect)return t.end("noSelect, exit early");const i=this.features().multiValue;if(!i)return this.pickerData.state.set([r.value]),t.end("no-multi",{item:r,allowMulti:i});const n=this.options(),s=n.map(p=>p.value===r.value?{...p,selected:!p.selected}:p),o=s.filter(p=>p.selected),l=o.map(p=>p.value);this.pickerData.state.set(l),t.end("multi",{item:r,allowMulti:i,before:n,toggled:s,selected:o,values:l})}}const Wh=[[["","addNew",""]],[["","freeTextButtons",""]]],Xh=["[addNew]","[freeTextButtons]"],Qh=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"my-label-disabled":n});let co=(()=>{class a extends Jt{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-inline-header"]],features:[e.Vt3],ngContentSelectors:Xh,decls:8,vars:10,consts:[[1,"my-title-bar"],[1,"c-ew__preview-label",3,"ngClass"],[3,"flatIfEmpty","smallGap"]],template:function(i,n){1&i&&(e.NAR(Wh),e.j41(0,"div",0)(1,"div")(2,"mat-label",1),e.EFF(3),e.k0s(),e.nrm(4,"app-field-helper-text",2),e.k0s(),e.j41(5,"div"),e.SdG(6),e.SdG(7,1),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngClass",e.s1E(4,Qh,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("flatIfEmpty",!0)("smallGap",!0))},dependencies:[re.YU,kt],styles:[".my-title-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}}return a})();const Kh=[[["","addNew",""]],[["","freeTextButtons",""]]],Jh=["[addNew]","[freeTextButtons]"],Zh=(a,r)=>r.value,qh=()=>({remove:!1});function em(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-checkbox",2),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.select(n))}),e.nrm(1,"app-picker-item-label",3),e.k0s()}if(2&a){const t=r.$implicit,i=r.$index,n=e.XpG();e.Y8G("checked",t.selected)("disabled",n.ui().disabled||t.noSelect)("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("show",!0)("index",i)("settings",n.fieldState.settings())("uiFeatures",e.lJ4(10,qh))}}let tm=(()=>{class a extends wn{constructor(){super(),this.fieldState.requireFeature(dt.T.PickerUiCheckbox)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-checkboxes"]],features:[e.Vt3],ngContentSelectors:Jh,decls:6,vars:0,consts:[[1,"c-ew__preview-holder"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"checked","disabled","tippy","tippyAllowHtml","tippyArrow"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","checked","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","show","index","settings","uiFeatures"]],template:function(i,n){1&i&&(e.NAR(Kh),e.j41(0,"div",0)(1,"app-picker-inline-header"),e.SdG(2,0,["addNew",""]),e.SdG(3,1,["freeTextButtons",""]),e.k0s(),e.Z7z(4,em,2,11,"mat-checkbox",1,Zh),e.k0s()),2&i&&(e.R7$(4),e.Dyx(n.options()))},dependencies:[Oe.RG,ce.pZ,$h.So,ot.e,co,Ka],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}mat-checkbox[_ngcontent-%COMP%]{width:100%}"]})}}return a})();const im=[[["","freeTextButtons",""]]],nm=["[freeTextButtons]"],am=(a,r)=>r.value+a,sm=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"my-label-disabled":n}),rm=()=>({enterDuration:360}),om=(a,r)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":r}),lm=a=>({"eav-more-entities-margin-right":a});function cm(a,r){if(1&a&&(e.j41(0,"mat-list-item",8)(1,"span",9),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("tippy",t.tooltip),e.R7$(2),e.JRh(t.label)}}function dm(a,r){if(1&a&&(e.j41(0,"mat-list",5),e.Z7z(1,cm,3,2,"mat-list-item",8,am),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Dyx(t.selectedItems())}}function um(a,r){if(1&a&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(2,lm,t.enableTextEntry())),e.R7$(),e.SpI(" ",t.itemCount()," ")}}function pm(a,r){1&a&&(e.j41(0,"span",7),e.SdG(1),e.k0s())}let hm=(()=>{class a extends Jt{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-pills"]],features:[e.Vt3],ngContentSelectors:nm,decls:9,vars:18,consts:[[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],[1,"my-flex"],[1,"eav-list","my-pills"],[1,"eav-more-entities",3,"ngClass"],["matSuffix",""],["role","listitem",1,"eav-list-item",3,"tippy"],["mat-line",""]],template:function(i,n){1&i&&(e.NAR(im),e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.bIt("click",function(){return n.expandDialog()}),e.j41(4,"div",3)(5,"div",4),e.DNE(6,dm,3,0,"mat-list",5)(7,um,2,4,"span",6)(8,pm,2,0,"span",7),e.k0s()()()()),2&i&&(e.R7$(),e.Y8G("ngClass",e.s1E(8,sm,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("matRippleAnimation",e.lJ4(14,rm))("ngClass",e.l_i(15,om,n.ui().touchedAndInvalid,n.config.initialDisabled)),e.R7$(),e.Y8G("ngClass",n.itemCount()?"c-ew__preview-container":"c-ew__preview-container--empty"),e.R7$(2),e.vxM(n.itemCount()?6:-1),e.R7$(),e.vxM(n.itemCount()>3?7:-1),e.R7$(),e.vxM(n.enableTextEntry()?8:-1))},dependencies:[Oe.RG,Oe.nJ,Oe.yw,re.YU,ce.pZ,ce.r6,qi,gc,Zi,ot.e],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;cursor:pointer}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:16px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.eav-more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.eav-more-entities-margin-right[_ngcontent-%COMP%]{margin-right:10px}.eav-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-y:hidden;flex:1 1 auto;max-height:35px}.eav-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:#1d273d14;border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis;padding:0 16px}.my-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.my-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;box-sizing:border-box}"]})}}return a})();var mm=c(3804);const fm=[[["","addNew",""]],[["","freeTextButtons",""]]],gm=["[addNew]","[freeTextButtons]"],_m=(a,r)=>r.value,vm=()=>({remove:!1});function bm(a,r){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"mat-radio-button",1),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.select(n))}),e.nrm(2,"app-picker-item-label",2),e.k0s()()}if(2&a){const t=r.$implicit,i=r.$index,n=e.XpG();e.R7$(),e.Y8G("name",n.name)("checked",t.selected)("disabled",n.ui().disabled||t.noSelect)("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("show",!0)("index",i)("settings",n.fieldState.settings())("uiFeatures",e.lJ4(11,vm))}}let ym=(()=>{class a extends wn{constructor(){super(),this.name=this.fieldState.name,this.fieldState.requireFeature(dt.T.PickerUiRadio)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-radio"]],features:[e.Vt3],ngContentSelectors:gm,decls:6,vars:0,consts:[[1,"c-ew__preview-holder"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","name","checked","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","show","index","settings","uiFeatures"]],template:function(i,n){1&i&&(e.NAR(fm),e.j41(0,"div",0)(1,"app-picker-inline-header"),e.SdG(2,0,["addNew",""]),e.SdG(3,1,["freeTextButtons",""]),e.k0s(),e.Z7z(4,bm,3,12,"div",null,_m),e.k0s()),2&i&&(e.R7$(4),e.Dyx(n.options()))},dependencies:[Oe.RG,ce.pZ,mm._g,ot.e,co,Ka],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}mat-radio-button[_ngcontent-%COMP%]{width:100%}"]})}}return a})();function Cm(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isTextMode()?n.toggleFreeText(n.csDisabled()):null)}),e.j41(1,"mat-icon"),e.EFF(2,"search"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.isTextMode()?"":"active")("disabled",t.csDisabled())}}function wm(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isTextMode()?null:n.toggleFreeText(n.csDisabled()))}),e.j41(1,"mat-icon"),e.EFF(2,"text_fields"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.isTextMode()?"active":"")("disabled",t.csDisabled())}}function km(a,r){if(1&a&&(e.j41(0,"span",0),e.DNE(1,Cm,3,2,"button",1)(2,wm,3,2,"button",2),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.vxM(t.showBoth()||t.isTextMode()?1:-1),e.R7$(),e.vxM(t.showBoth()||!t.isTextMode()?2:-1)}}let Mm=(()=>{class a{constructor(){this.csDisabled=(0,e.hFB)(),this.allowText=(0,e.hFB)(),this.isTextMode=(0,e.hFB)(!1),this.showBoth=(0,e.hFB)(!0),this.pickerData=(0,e.WQX)(je.W).pickerData}toggleFreeText(t){t||this.pickerData.toggleFreeTextMode()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-toggle-text"]],inputs:{csDisabled:[1,"csDisabled"],allowText:[1,"allowText"],isTextMode:[1,"isTextMode"],showBoth:[1,"showBoth"]},decls:1,vars:1,consts:[["matSuffix","",1,"toggle-buttons"],["mat-icon-button","","tippyTranslate","Fields.String.Dropdown","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Freetext","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Dropdown","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Freetext","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","disabled"]],template:function(i,n){1&i&&e.DNE(0,km,3,2,"span",0),2&i&&e.vxM(n.allowText()?0:-1)},dependencies:[Oe.RG,Oe.yw,Ye.Hl,Ye.iY,re.YU,Ce.m_,Ce.An,Ri.c,ot.e],styles:[".eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:3px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px}.toggle-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.toggle-buttons[_ngcontent-%COMP%]   .active.mat-mdc-icon-button[_ngcontent-%COMP%]:disabled{background-color:#1d273d3d;color:#fff}"]})}}return a})();const Dm=[[["","freeTextButtons",""]]],Tm=["[freeTextButtons]"];function xm(a,r){if(1&a&&e.nrm(0,"textarea",1),2&a){const t=e.XpG();e.Y8G("required",t.basics().required)("formControlName",t.fieldState.name)("placeholder",t.basics().placeholder)}}function Sm(a,r){if(1&a&&e.nrm(0,"input",1),2&a){const t=e.XpG();e.Y8G("required",t.basics().required)("formControlName",t.fieldState.name)("placeholder",t.basics().placeholder)}}let uo=(()=>{class a extends Jt{constructor(){super(),this.log=(0,w.Tq)({PickerTextComponent:a}),this.useMultiLine=(0,te.bo)("useMultiLine",()=>{const i=this.fieldState.settings().Separator;return"\\n"==i||"\n"==i})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-text"]],features:[e.Vt3],ngContentSelectors:Tm,decls:8,vars:3,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix",""]],template:function(i,n){1&i&&(e.NAR(Dm),e.j41(0,"div")(1,"mat-form-field",0),e.DNE(2,xm,1,3,"textarea",1)(3,Sm,1,3,"input",1),e.j41(4,"div",2),e.SdG(5),e.k0s(),e.j41(6,"mat-label"),e.EFF(7),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("formGroup",n.fieldState.group),e.R7$(),e.vxM(n.useMultiLine()?2:3),e.R7$(5),e.JRh(n.basics().label))},dependencies:[Oe.RG,Oe.rl,Oe.nJ,Oe.yw,ge.YN,ge.me,ge.BC,ge.cb,ge.YS,ge.X1,ge.j4,ge.JD,ht.fS,ht.fg],encapsulation:2})}}return a})();const po=()=>({$implicit:!1}),Im=a=>({"picker-suffix-text":a});function Em(a,r){1&a&&e.eu8(0,7)}function Am(a,r){if(1&a&&(e.j41(0,"app-picker-text"),e.DNE(1,Em,1,0,"ng-container",6),e.k0s()),2&a){e.XpG();const t=e.sdS(11);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Fm(a,r){1&a&&e.eu8(0,1)}function Om(a,r){1&a&&e.eu8(0,7)}function Pm(a,r){if(1&a&&(e.j41(0,"app-picker-checkboxes"),e.DNE(1,Fm,1,0,"ng-container",8)(2,Om,1,0,"ng-container",9),e.k0s()),2&a){e.XpG();const t=e.sdS(11),i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.lJ4(3,po))}}function Rm(a,r){1&a&&e.eu8(0,1)}function Lm(a,r){1&a&&e.eu8(0,7)}function Vm(a,r){if(1&a&&(e.j41(0,"app-picker-radio"),e.DNE(1,Rm,1,0,"ng-container",8)(2,Lm,1,0,"ng-container",9),e.k0s()),2&a){e.XpG();const t=e.sdS(11),i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.lJ4(3,po))}}function Ym(a,r){1&a&&e.eu8(0,7)}function Nm(a,r){if(1&a&&(e.j41(0,"app-picker-pills"),e.DNE(1,Ym,1,0,"ng-container",6),e.k0s()),2&a){e.XpG();const t=e.sdS(11);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function zm(a,r){1&a&&e.eu8(0,7)}function Bm(a,r){if(1&a&&(e.j41(0,"app-picker-search",5),e.DNE(1,zm,1,0,"ng-container",6),e.k0s()),2&a){e.XpG();const t=e.sdS(11);e.Y8G("showSelectedItem",!0)("showItemEditButtons",!0),e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function jm(a,r){1&a&&e.eu8(0)}function Hm(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.expandDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"post_add"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("disabled",t.ui().disabled)}}function Gm(a,r){if(1&a&&(e.j41(0,"div",3),e.DNE(1,jm,1,0,"ng-container",10)(2,Hm,3,1,"button",11),e.k0s()),2&a){const t=e.XpG(),i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.vxM(t.features().showGoToListDialogButton?2:-1)}}function $m(a,r){1&a&&e.nrm(0,"app-field-helper-text")}function Um(a,r){1&a&&e.nrm(0,"br")}function Wm(a,r){if(1&a&&(e.j41(0,"span",13),e.nrm(1,"app-picker-toggle-text",14),e.k0s()),2&a){let t;const i=r.$implicit,n=e.XpG();e.Y8G("ngClass",e.eq3(5,Im,i)),e.R7$(),e.Y8G("csDisabled",n.ui().disabled)("allowText",n.features().textEntry)("isTextMode",n.isInFreeTextMode())("showBoth",null===(t=i)||void 0===t||t)}}function Xm(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.openNewEntityDialog(n.guid))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.label)}}function Qm(a,r){if(1&a&&(e.j41(0,"button",16)(1,"mat-icon"),e.EFF(2,"add_circle_outline"),e.k0s()(),e.j41(3,"mat-menu",null,2),e.Z7z(5,Xm,3,1,"button",17,e.fX1),e.k0s()),2&a){const t=e.sdS(4),i=e.XpG(3);e.Y8G("disabled",i.ui().disabled||!i.features().create)("matMenuTriggerFor",t),e.R7$(5),e.Dyx(i.pickerData.state.typesForNew())}}function Km(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openNewEntityDialog(null))}),e.j41(1,"mat-icon"),e.EFF(2,"add_circle_outline"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled||!t.features().create)}}function Jm(a,r){if(1&a&&e.DNE(0,Qm,7,2)(1,Km,3,1,"button",15),2&a){const t=e.XpG(2);e.vxM(t.pickerData.state.typesForNew().length>1?0:1)}}function Zm(a,r){if(1&a&&e.DNE(0,Jm,2,1),2&a){const t=e.XpG();e.vxM(t.features().showAddNewButton?0:-1)}}let Vt=(()=>{class a extends Jt{constructor(){super(),this.log=(0,w.Tq)({PickerPreviewComponent:a}),this.#e=this.fieldState.settingExt("PickerDisplayMode"),this.mode=(0,te.bo)("mode",()=>{if(this.isInFreeTextMode())return"text";switch(this.#e()){case"radio":return"radio";case"checkbox":return"checkbox";case"auto-inline":return this.features().multiValue?"checkbox":"radio";default:return this.selectedItems().length>1?"pills":"search"}}),this.skipHelpText=(0,te.bo)("helpTextOnTop",()=>{const t=this.mode();return"radio"===t||"checkbox"===t})}#e;static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-preview"]],features:[e.Vt3],decls:14,vars:3,consts:[["textToggle",""],["addNew",""],["entityTypesMenu","matMenu"],[1,"my-flex"],[1,"eav-mat-form-field"],[3,"showSelectedItem","showItemEditButtons"],["freeTextButtons","",4,"ngTemplateOutlet"],["freeTextButtons",""],["addNew","",4,"ngTemplateOutlet"],["freeTextButtons","",4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["mat-icon-button","","tippyTranslate","Fields.Picker.OpenMultiselect",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Picker.OpenMultiselect",1,"picker-inline-button",3,"click","disabled"],[3,"ngClass"],[3,"csDisabled","allowText","isTextMode","showBoth"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"click","disabled"]],template:function(i,n){if(1&i&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,Am,2,1,"app-picker-text")(3,Pm,3,4,"app-picker-checkboxes")(4,Vm,3,4,"app-picker-radio")(5,Nm,2,1,"app-picker-pills")(6,Bm,2,3,"app-picker-search",5),e.k0s(),e.DNE(7,Gm,3,2,"div",3),e.k0s(),e.DNE(8,$m,1,0,"app-field-helper-text")(9,Um,1,0,"br")(10,Wm,2,7,"ng-template",null,0,e.C5r)(12,Zm,1,1,"ng-template",null,1,e.C5r)),2&i){let s;e.R7$(2),e.vxM("text"===(s=n.mode())?2:"checkbox"===s?3:"radio"===s?4:"pills"===s?5:"search"===s?6:-1),e.R7$(5),e.vxM("radio"!==n.mode()&&"checkbox"!==n.mode()?7:-1),e.R7$(),e.vxM(n.skipHelpText()?9:8)}},dependencies:[re.T3,re.YU,Ye.Hl,Ye.iY,at.Cn,at.kk,at.fb,at.Cp,Ce.m_,Ce.An,ot.e,hm,Mm,Za,uo,tm,ym,kt],styles:[".picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.picker-suffix-text[_ngcontent-%COMP%]{min-width:80px}.my-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}"]})}}return a})();const qm=(a,r)=>r.value+a,ho=a=>({disabled:a});function ef(a,r){if(1&a&&(e.j41(0,"mat-label",0),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(2,ho,t.ui().disabled)),e.R7$(),e.SpI(" ",t.basics().labelWithRequired," ")}}function tf(a,r){if(1&a&&(e.j41(0,"mat-icon",5),e.EFF(1," drag_handle "),e.k0s()),2&a){const t=e.XpG(3);e.Y8G("tippyDisabled",t.ui().disabled)}}function nf(a,r){if(1&a&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,tf,2,1,"mat-icon",5),e.j41(3,"span",6),e.EFF(4),e.k0s()(),e.nrm(5,"app-picker-item-buttons",7),e.k0s()),2&a){const t=r.$implicit,i=r.$index,n=e.XpG(2);e.Y8G("ngClass","my-item-"+(n.features().multiValue?"draggable":"static")+" "+(n.ui().disabled?"disabled":"")),e.R7$(),e.Y8G("ngClass",e.eq3(8,ho,n.ui().disabled)),e.R7$(),e.vxM(n.features().multiValue?2:-1),e.R7$(),e.Y8G("tippy",t.tooltip),e.R7$(),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("show",!0)("item",t)("index",i)}}function af(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",2),e.bIt("cdkDropListDropped",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.drop(n))}),e.Z7z(1,nf,6,10,"div",3,qm),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("cdkDropListDisabled",!t.features().multiValue||t.ui().disabled)("ngClass","my-list-"+(t.features().multiValue?"draggable":"static")),e.R7$(),e.Dyx(t.selectedItems())}}let sf=(()=>{class a extends Jt{constructor(){super(),this.log=(0,w.Tq)({PickerListComponent:a})}drop(t){this.pickerData.state.reorder({previousIndex:t.previousIndex,currentIndex:t.currentIndex})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-list"]],features:[e.Vt3],decls:2,vars:2,consts:[[1,"field-label",3,"ngClass"],["cdkDropList","",1,"my-list",3,"cdkDropListDisabled","ngClass"],["cdkDropList","",1,"my-list",3,"cdkDropListDropped","cdkDropListDisabled","ngClass"],["cdkDrag","",1,"my-item",3,"ngClass"],[1,"item-title",3,"ngClass"],["tippyTranslate","Fields.Picker.DragMove",1,"item-title__icon",3,"tippyDisabled"],[1,"item-title__text",3,"tippy"],["matSuffix","",1,"my-item-actions",3,"show","item","index"]],template:function(i,n){1&i&&e.DNE(0,ef,2,4,"mat-label",0)(1,af,3,2,"div",1),2&i&&(e.vxM(n.features().multiValue?-1:0),e.R7$(),e.vxM(n.selectedItems().length>0?1:-1))},dependencies:[Oe.RG,Oe.nJ,Oe.yw,Ce.m_,Ce.An,Ye.Hl,re.YU,Ti.O7,Ti.T1,Xa,ot.e],styles:[".my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.my-list-static[_ngcontent-%COMP%]   .my-item-static.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:#1d273d70}.field-label.disabled[_ngcontent-%COMP%]{color:#1d273d3d}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type{height:31px}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type   .my-item-actions[_ngcontent-%COMP%]{margin-top:-2px}.my-list-draggable[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.my-item-draggable[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:#fff;box-sizing:border-box;font-size:14px}.my-item-draggable[_ngcontent-%COMP%]:not(.disabled){cursor:move}.my-item-draggable[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:#1d273d3d}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.my-item-actions[_ngcontent-%COMP%]{flex-shrink:0}.my-item[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.my-list-draggable.cdk-drop-list-dragging[_ngcontent-%COMP%]   .my-item-draggable[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return a})();function rf(a,r){1&a&&e.nrm(0,"app-picker-search",1),2&a&&e.Y8G("showSelectedItem",!1)("showItemEditButtons",!1)}function lf(a,r){1&a&&e.nrm(0,"app-picker-text")}function cf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.openNewEntityDialog(n.guid))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.label)}}function df(a,r){if(1&a&&(e.j41(0,"button",4)(1,"mat-icon"),e.EFF(2,"add"),e.k0s()(),e.j41(3,"mat-menu",null,0),e.Z7z(5,cf,3,1,"button",5,e.fX1),e.k0s()),2&a){const t=e.sdS(4),i=e.XpG(2);e.Y8G("disabled",i.ui().disabled||!i.features().create)("matMenuTriggerFor",t),e.R7$(5),e.Dyx(i.pickerData.state.typesForNew())}}function uf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewEntityDialog(null))}),e.j41(1,"mat-icon"),e.EFF(2,"add"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("disabled",t.ui().disabled||!t.features().create)}}function pf(a,r){if(1&a&&(e.j41(0,"div",2),e.DNE(1,df,7,2)(2,uf,3,1,"button",3),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.vxM(t.pickerData.state.typesForNew().length>1?1:2)}}let Yt=(()=>{class a extends Jt{constructor(){super(...arguments),this.showAddNewEntityButtonInDialog=(0,te.bo)("showAddNewEntityButtonInDialog",()=>{const t=this.features(),i=this.fieldState.settings();return!this.isInFreeTextMode()&&i.EnableCreate&&i.CreateTypes&&t.multiValue})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-dialog"]],features:[e.Vt3],decls:5,vars:2,consts:[["entityTypesMenu","matMenu"],[3,"showSelectedItem","showItemEditButtons"],[2,"display","flex","justify-content","end"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"disabled"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"click","disabled"]],template:function(i,n){1&i&&(e.nrm(0,"app-picker-list"),e.DNE(1,rf,1,2,"app-picker-search",1)(2,lf,1,0,"app-picker-text"),e.nrm(3,"app-field-helper-text"),e.DNE(4,pf,3,1,"div",2)),2&i&&(e.R7$(),e.vxM(n.isInFreeTextMode()?2:1),e.R7$(3),e.vxM(n.showAddNewEntityButtonInDialog()?4:-1))},dependencies:[sf,Za,uo,kt,Ye.Hl,Ye.$0,at.Cn,at.kk,at.fb,at.Cp,Ce.m_,Ce.An,ot.e],encapsulation:2})}}return a})();function hf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function mf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let ft=(()=>{class a extends He.${static{this.logSpecs={all:!1,focusOnSearchComponent:!0,refreshOnChildClosed:!1,childFormResult:!0}}constructor(){super(),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(Ct),this.#i=(0,e.WQX)(je.W),this.#n=this.#i.pickerData,this.showPreview=(0,te.bo)("showPreview",()=>{const t=this.#n.features();return!t.multiValue||t.multiValue&&!this.#i.isOpen()})}constructorEnd(){this.log??=(0,w.Tq)({PickerComponent:a},a.logSpecs),this.log.a("constructor"),new za(this.#e).setupPickerData(this.#n,this.#i)}#e;#t;#i;#n;ngOnInit(){this.#n.closeWatcherAttachedWIP||(this.#a(),this.#n.closeWatcherAttachedWIP=!0)}#a(){const t=this.log.fnIf("refreshOnChildClosed"),i=this.#i.config;this.subscriptions.add(this.#t.childFormResult(i.index,i.entityGuid).subscribe(n=>this.log.fnIf("childFormResult",{result:n}).r(this.#n.addNewlyCreatedItem(n)))),t.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&e.GBs(Za,5),2&i){let s;e.mGM(s=e.lsd())&&(n.entitySearchComponent=s.first)}},features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,hf,1,0,"app-picker-preview")(1,mf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();const ff={all:!0,calculateDropdownOptions:!0,addSelectedIfMissing:!0};class kn{constructor(){this.log=(0,La.T)({DataSourceDropDownOptions:kn},ff)}parseOptions(r,t,i,n){const s=this.log.fn("calculateDropdownOptions",{currentValue:r,type:t,dropdownValuesFormat:i,dropdownValues:n});if(!n)return s.r(this.addSelectedIfMissing([],r),"No dropdownValues");const o=n.replace(/\r/g,"").split("\n");switch(i){case"":const l=o.map(M=>{const I=M.split(":"),N=I[1],G=I.shift(),ae=I.join(":");return{Title:G,Value:ae||""===N?ae:G}});return s.r(this.addSelectedIfMissing(l,r));case"value-label":const p=o.map(M=>{const I=[];for(let ae=0;ae<M.length;ae++){const ye=M[ae],Ee=M[ae+1];"\\"!==ye||null==Ee?I.push({char:ye,escaped:!1}):(I.push({char:Ee,escaped:!0}),ae++)}const N=I.findIndex(ae=>":"===ae.char&&!1===ae.escaped),G={Title:N>=0?I.slice(N+1,I.length).map(ae=>ae.char).join(""):I.map(ae=>ae.char).join(""),Value:N>=0?I.slice(0,N).map(ae=>ae.char).join(""):I.map(ae=>ae.char).join("")};return"number"===t&&(G.Value=null!=G.Value&&""!==G.Value?isNaN(Number(G.Value))?null:Number(G.Value):null),G});return s.r(this.addSelectedIfMissing(p,r))}}addSelectedIfMissing(r,t){const i=this.log.fn("addSelectedIfMissing",{options:r,currentValue:t});if(null==t||""===t)return i.r(r,"currentValue is null");const n=t.toString();return r.some(o=>o.Value?.toString()===n)?i.r(r,"found"):i.r([...r,{Title:n,Value:t}])}}var gf=c(2853),_f=c.n(gf);const vf={all:!0,parse:!0};class qa{constructor(){this.log=(0,w.Tq)({DataSourceParserCsv:qa},vf)}parse(r){const t=this.log.fnIf("parse",{csv:r}),i=_f().parse(r,{header:!0,skipEmptyLines:!0,transformHeader:N=>N.trim(),transform:(N,G)=>"Value"==G?N:N.trim(),dynamicTyping:!0}),n=i?.data;if(!n||!Array.isArray(n)||0==n.length)return[];const s=n.filter(N=>void 0!==N.Value);s.length!=n.length&&console.warn("CSV contains rows without a value",{data:n,filtered:s});const o=i?.meta.fields??[],l=o.reduce((N,G)=>({...N,[G]:null}),{}),{Value:p,...M}=l;t.a("Parsed CSV",{header:o,empty:M,data:n,filtered:s});const I=s.map(N=>({...M,...N,Value:N.Value??""}));return t.r(I)}}const bf={all:!0,getDataSourceAndSetupFieldSettings:!0,data:!0};class Ht{constructor(){this.log=(0,w.Tq)({PickerLogicShared:Ht},bf)}static setDefaultSettings(r){const t=r;return t.AllowMultiValue??=!1,t.EnableEdit??=!0,t.EnableCreate??=!0,t.EnableAddExisting??=!0,t.EnableRemove??=!0,t.EnableDelete??=!1,t.Label??="",t.EnableTextEntry??=!1,t.noAutoFocus=!0,t}static maybeOverrideEditRestrictions(r,t){const i=r;return t.eavConfig.removeEditRestrictions&&t.debug?(console.log(`SystemAdmin + Debug: Overriding edit restrictions for field '${i.Name}' (EntityType: '${i.EntityType}').`),i.EnableEdit=!0,i.EnableCreate=!0,i.EnableAddExisting=!0,i.EnableRemove=!0,i.EnableDelete=!0,{fs:i,removeEditRestrictions:!0}):{fs:i,removeEditRestrictions:!1}}preUpdate({settings:r,tools:t,value:i}){const n=Ht.setDefaultSettings({...r}),{fs:s,removeEditRestrictions:o}=Ht.maybeOverrideEditRestrictions(n,t),{fs:l,typeConfig:p}=(new Ht).#e(i,s,t);return{fs:l,removeEditRestrictions:o,typeConfig:p}}#e(r,t,i){const n=t,s=n.DataSources?.length>0?i.contentTypeItemSvc.getMany(n.DataSources):[],o=s[0],l=o?.Type.Name;n.dataSourceType=l??"";const p=i.reader.flatten(o),M=Object.values(ut).includes(l),I=this.log.fn("dataSources",{dataSources:s});if(I.values({typeName:l,isKnownType:M,dataSources:s,typeConfig:p}),!M)return console.error(`Unknown picker source type: '${l}' on field ${n.Name}`),{fs:n,typeConfig:p};n.CreateTypes=p.CreateTypes??"",n.MoreFields=p.MoreFields??"",n.Label=p.Label??"",n.ItemInformation=p.ItemInformation??"",n.ItemTooltip=p.ItemTooltip??"",n.ItemLink=p.ItemLink??"",n.PreviewType=p.PreviewType??"",n.Value=p.Value??"",n.PreviewValue=p.PreviewValue??"";const N=l===ut.UiPickerSourceQuery,G=l===ut.UiPickerSourceEntity,ae=l===ut.UiPickerSourceCss,ye=l===ut.UiPickerSourceAppAssets;I.values({sourceIsQuery:N,sourceIsEntity:G,sourceIsCss:ae,sourceIsAppAssets:ye});const Ee=Object.values(Na).includes(l);if(N){const Fe=p;n.Query=Fe.Query??"",n.StreamName=Fe.StreamName??"Default",n.UrlParameters=Fe.QueryParameters??""}if(G&&(n.EntityType=p.ContentTypeNames??""),ae&&(n.CssSourceFile=p.CssSourceFile??"",n.CssSelectorFilter=p.CssSelectorFilter??""),ye&&(n.AssetsRootFolder=p.AssetsRootFolder??"/",n.AssetsFileFilter=p.AssetsFileFilter??"*.*",n.AssetsType=p.AssetsType??"files",n.requiredFeatures=[dt.T.PickerSourceAppAssets]),Ee)if(l===ut.UiPickerSourceCustomList){const Fe=p.Values??"";n._options??=(new kn).parseOptions(r,"string","value-label",Fe)??[]}else if(l===ut.UiPickerSourceCustomCsv){const Fe=p.Csv;n._options??=(new qa).parse(Fe),n.requiredFeatures=[dt.T.PickerSourceCsv]}return n.AllowMultiValue?n.EnableReselect??=!1:n.EnableReselect=!1,n.AllowMultiValue?(n.AllowMultiMin??=0,n.AllowMultiMax??=0):(n.AllowMultiMin=0,n.AllowMultiMax=0),n.PickerDisplayMode??="list",n.PickerDisplayConfiguration??=[],n.PickerTreeConfiguration=this.#t(n,i),{fs:n,typeConfig:p}}#t(r,t){if(r.PickerTreeConfiguration)return r.PickerTreeConfiguration;if("tree"!==r.PickerDisplayMode)return null;const i=r.PickerDisplayConfiguration?.length>0?t.contentTypeItemSvc.getMany(r.PickerDisplayConfiguration):[];if(i[0]?.Type.Name!==Wr)return null;const s=t.reader.flatten(i[0]);return{Title:s.Title??"",ConfigModel:Wr,TreeRelationship:s.TreeRelationship??Cn,TreeBranchesStream:s.TreeBranchesStream??"Default",TreeLeavesStream:s.TreeLeavesStream??"Default",TreeParentIdField:s.TreeParentIdField??"Id",TreeChildIdField:s.TreeChildIdField??"Id",TreeParentChildRefField:s.TreeParentChildRefField??"Children",TreeChildParentRefField:s.TreeChildParentRefField??"Parent",TreeShowRoot:s.TreeShowRoot??!0,TreeDepthMax:s.TreeDepthMax??10,TreeAllowSelectRoot:s.TreeAllowSelectRoot??!0,TreeAllowSelectBranch:s.TreeAllowSelectBranch??!0,TreeAllowSelectLeaf:s.TreeAllowSelectLeaf??!0}}}class Li extends Ve.S{constructor(){super({EntityDefaultLogic:Li}),this.name=be.u.EntityDefault}update({settings:r,tools:t}){const i=Ht.setDefaultSettings({...r});return i.EntityType??="",i.CreateTypes=i.EntityType??"",i.CreatePrefill??=i.Prefill,delete i.Prefill,Ht.maybeOverrideEditRestrictions(i,t).fs}}function yf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Cf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(Li);let mo=(()=>{class a extends ft{constructor(){super(),this.log=(0,w.Tq)({EntityDefaultComponent:a},ft.logSpecs),this.constructorEnd(),Li.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-default"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,yf,1,0,"app-picker-preview")(1,Cf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();function wf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function kf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let Mf=(()=>{class a extends mo{constructor(){super(),pn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-content-blocks"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,wf,1,0,"app-picker-preview")(1,kf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();class Mn extends Ve.S{constructor(){super({EntityPickerLogic:Mn}),this.name=be.u.EntityPicker}update(r){return(new Ht).preUpdate(r).fs}}function Df(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Tf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(Mn);let xf=(()=>{class a extends ft{constructor(){super(),this.log=(0,w.Tq)({EntityPickerComponent:a},ft.logSpecs),this.constructorEnd(),Mn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Df,1,0,"app-picker-preview")(1,Tf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();class Dn extends Ve.S{constructor(){super({EntityQueryLogic:Dn}),this.name=be.u.EntityQuery}update(r){const i=Y.y.singleton().get(be.u.EntityDefault).update(r);return i.Query??="",i.StreamName||="Default",i.UrlParameters??="",i}}function Sf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function If(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(Dn);let Ef=(()=>{class a extends ft{constructor(){super(),this.log=(0,w.Tq)({EntityQueryComponent:a},ft.logSpecs),this.constructorEnd(),Dn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-query"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Sf,1,0,"app-picker-preview")(1,If,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();var fo=c(1134);let es=(()=>{class a extends u.D{constructor(t){super(),this.formConfig=t}getAll(t,i){return this.getHttp(t+"/items",{params:{subfolder:i.subfolder,usePortalRoot:i.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}addFolder(t,i,n){return this.http.post(i+"/folder",{},{params:{subfolder:n.subfolder,newFolder:V.SX.sanitizeName(t),usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}rename(t,i,n,s){return this.getHttp(n+"/rename",{params:{subfolder:s.subfolder,isFolder:t.IsFolder.toString(),id:t.Id.toString(),usePortalRoot:s.usePortalRoot.toString(),newName:V.SX.sanitizeName(i),appId:this.formConfig.config.appId}})}deleteItem(t,i,n){return this.getHttp(i+"/delete",{params:{subfolder:n.subfolder,isFolder:t.IsFolder.toString(),id:t.Id.toString(),usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}getLinkInfo(t,i,n,s){return this.getHttp(this.apiUrl("cms/edit/linkInfo"),{params:{link:t,...n&&{guid:n},...i&&{contentType:i},...s&&{field:s},appid:this.formConfig.config.appId}})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(h.S))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Vi=c(8857),go=c(7419),_o=c(3518);class ts{get field(){return this.fieldConfigSignal()}get field$(){return this.#e??=(0,Ne.br)(this.fieldConfigSignal,{injector:this._experimental.injector})}#e;constructor(r,t,i,n,s){this.fieldConfigSignal=i,this._experimental=n,this.log=(0,w.Tq)({ConnectorInstance:ts}),this.data=new Af(r,t),this.dialog=new Ff(r),this.loadScript=(o,l,p)=>{if(("string"==typeof o||"function"==typeof o)&&"string"==typeof l&&"function"==typeof p)return l=De.resolveUrlTokens(l,s),void(0,_o.P)([{test:o,src:l}],p);if(!Array.isArray(o)||"function"!=typeof l)throw new Error("Unrecognized parameters. Please double check your input");for(const I of o)I.src=De.resolveUrlTokens(I.src,s);(0,_o.P)(o,l)}}}class Af{constructor(r,t){this._connectorHost=r,this.value$=t,this.clientValueChangeListeners=[],this.value$.subscribe(i=>{this.value=i,this.clientValueChangeListeners.forEach(n=>n(i))})}update(r){this._connectorHost.update(r)}onValueChange(r){this.clientValueChangeListeners.push(r)}}class Ff{constructor(r){this._connectorHost=r}open(r){return this._connectorHost.expand(!0,r)}close(){this._connectorHost.expand(!1)}}const Of={all:!1,constructor:!1,init:!0,getUrlOfId:!1,updateControl:!1,openFeatureDisabledWarning:!1};let vo=(()=>{class a extends Mi.V{#e;#t;#i;#n;#a;#s;#r;#o;#l;#d;#c;#u;constructor(){super(),this.log=(0,w.Tq)({ConnectorHelper:a},Of),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(je.W),this.#i=(0,e.WQX)(h.S),this.#n=(0,e.WQX)(x.c$),this.#a=(0,e.WQX)(B.n),this.#s=(0,e.WQX)(Z.A),this.#r=(0,e.WQX)(C.D),this.#o=(0,e.WQX)(Ct),this.#l=(0,e.WQX)(Te.bZ),this.#d=(0,e.WQX)(H.UG),this.#c=(0,e.WQX)(e.SKi),this.#u=(0,D.d)(es),this.#g=this.#t.ui().control.valueChanges.pipe((0,Qe.Z)(this.#t.uiValue()),(0,yi.F)(Wt.A)),this.#p=this.#t.config,this.#m=this.#t.group,this.log.aIf("constructor")}#h;#g;#p;#m;#f;#_;init(t,i,n,s){return this.log.a("init"),this.#f=n,this.#_=s,this.#h=document.createElement(t),this.#h.connector=this.#v(),i.nativeElement.appendChild(this.#h),this}ngOnDestroy(){this.log.a("ngOnDestroy"),this.#h?.parentNode.removeChild(this.#h),this.#h=null,super.ngOnDestroy()}#v(){const t=this.#b(),i=this.#C(),n=(0,e.EWP)(()=>{const o=this.#t.settings();return function Pf(a,r){return{name:a.fieldName,index:a.index,label:r.Name,placeholder:r.Placeholder,inputType:a.inputTypeSpecs.inputType,type:a.type,required:r.valueRequired,disabled:a.initialDisabled,settings:r}}(this.#p,o)},{equal:Wt.A}),s=new ts(t,this.#g,n,i,this.#i.config);return(0,e.QZP)(()=>{const o=this.#t.settings(),l=s.field;l.settings=o,l.label=o.Name,l.placeholder=o.Placeholder,l.required=o.valueRequired},{injector:this.#e}),s}#b(){return{update:i=>{this.#c.run(()=>this.#y(i))},expand:(i,n)=>{this.#c.run(()=>this.#o.expand(i,this.#p.index,this.#p.entityGuid,n))}}}#C(){const t=this.#a.get(this.#p.contentTypeNameId),i=this.#s.getAttributeInputTypes(t.Attributes),n=(0,w.Tq)("ConnectorHelperExperimental");return{entityGuid:this.#p.entityGuid,allInputTypeNames:i,formGroup:this.#m,translateService:this.#n,isExpanded$:this.#o.isExpanded$(this.#p.index,this.#p.entityGuid),dropzone:this.#p.dropzone,adam:this.#p.adam,updateField:(o,l)=>{n.fn("updateField",{name:o,value:l}),this.#c.run(()=>{this.#y(l,this.#m.controls[o])})},isFeatureEnabled:this.#r.isEnabled,setFocused:o=>{n.fn("setFocused",{focused:o}),this.#c.run(()=>{this.#p.focused$.next(o)})},openPagePicker:o=>{n.fn("openPagePicker"),this.#c.run(()=>{go.C.open(this.#p,this.#m,this.#l,this.#f,this.#_,o)})},featureDisabledWarning:o=>{n.fn("featureDisabledWarning",{featureNameId:o}),this.#c.run(()=>{this.#k(o)})},getUrlOfId:(o,l)=>{n.fn("getUrlOfId",{value:o}),this.#c.run(()=>{this.#w(o,l)})},getSettings:o=>this.#i.config.settings?.Values[o],getFieldMask:(o,l)=>(0,D.d)(V.Nt,this.#e).init(l,o),injector:this.#e}}#w(t,i){if(!t)return;const n=this.#p.contentTypeNameId,s=this.#p.entityGuid,o=this.#p.fieldName;this.#u.getLinkInfo(t,n,s,o).subscribe(l=>{l&&i(l.Value)})}#y(t,i=null){(i?new Vi.a(i):this.#t.ui()).disabled||this.#t.ui().setIfChanged(t)}#k(t){t===dt.T.PasteImageFromClipboard&&this.#d.open(this.#n.instant("Message.PastingFilesIsNotEnabled"),this.#n.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>(0,Qi.j)(this.#l,dt.T.PasteImageFromClipboard,this.#f,this.#_))}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Rf=["customElContainer"];let Lf=(()=>{class a{constructor(){this.log=(0,w.Tq)({ConnectorComponent:a}),this.fieldState=(0,e.WQX)(je.W),this.connectorCreator=(0,D.d)(vo),this.viewContainerRef=(0,e.WQX)(e.c1b),this.changeDetectorRef=(0,e.WQX)(e.gRc)}ngAfterViewInit(){const t=this.log.fn("ngAfterViewInit"),i=history?.state?.componentTag||this.fieldState.config.inputTypeSpecs.componentTagDialogName;t.a("Connector created for:",{componentTag:i}),this.connectorCreator.init(i,this.customElContainerRef,this.viewContainerRef,this.changeDetectorRef)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-connector"]],viewQuery:function(i,n){if(1&i&&e.GBs(Rf,5),2&i){let s;e.mGM(s=e.lsd())&&(n.customElContainerRef=s.first)}},decls:2,vars:0,consts:[["customElContainer",""],[2,"height","100%","position","relative"]],template:function(i,n){1&i&&e.nrm(0,"div",1,0)},encapsulation:2})}}return a})();class Tn extends Ve.S{constructor(){super({CustomGpsLogic:Tn}),this.name=be.u.CustomGps}update({settings:r}){return{...r}}}Ve.S.add(Tn);class xn extends Ve.S{constructor(){super({StringWysiwygLogic:xn}),this.name=be.u.StringWysiwyg,this.canAutoTranslate=!0}update({settings:r,tools:t}){const i={...r};return i._allowDialog??=null==i.Dialog||""===i.Dialog,i.Dialog||="inline",i.ButtonSource||="",i.ButtonAdvanced||="",i.ContentCss||="",i.InlineInitialHeight||="3",i._advanced=this.findAndMergeAdvanced(t,i.WysiwygConfiguration,{Mode:"default",Json:""}),i}processValueOnLoad(r,t){try{const i=(new DOMParser).parseFromString(r,"text/html");return i.body.querySelectorAll("img").forEach(n=>{const s=n.getAttribute("data-cmsid")?.replace("file:",""),o=n.getAttribute("src");if(s&&o){const l=o.split("/").pop();if(s===l){const p=t.find(M=>M.Name===s);p&&n.setAttribute("src",p.Url)}}}),i.body.innerHTML}catch(i){return console.error("Error while cleaning wysiwyg content",i),r}}}function Vf(a,r){1&a&&e.nrm(0,"mat-spinner",0)}function Yf(a,r){1&a&&e.nrm(0,"app-connector")}Ve.S.add(xn);let Nf=(()=>{class a{constructor(t){this.scriptsLoaderService=t,this.log=(0,w.Tq)({ExternalWebComponentComponent:a}),this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.loading=(0,e.vPA)(!0),xn.importMe(),Tn.importMe()}ngOnInit(){this.loadAssets()}loadAssets(){const t=this.config.inputTypeSpecs.metadata.AngularAssets.split("\n");0!==t.length&&this.scriptsLoaderService.load(t,this.assetsLoaded.bind(this))}assetsLoaded(){this.log.fn("assetsLoaded "+this.config.fieldName),this.loading.set(!1)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(De))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["external-web-component"]],decls:2,vars:1,consts:[["color","accent"]],template:function(i,n){1&i&&e.DNE(0,Vf,1,0,"mat-spinner",0)(1,Yf,1,0,"app-connector"),2&i&&e.vxM(n.loading()?0:n.fieldState.isOpen()?1:-1)},dependencies:[fo.D6,fo.LG,Lf],encapsulation:2})}}return a})();const zf={all:!0,constructor:!1,handleImage:!1};let is=(()=>{class a{#e;#t;constructor(t,i,n,s,o,l,p){this.elementRef=t,this.features=i,this.snackBar=n,this.translate=s,this.matDialog=o,this.viewContainerRef=l,this.changeDetectorRef=p,this.log=(0,w.Tq)({PasteClipboardImageDirective:a},zf),this.config=(0,e.hFB)(),this.elementType=(0,e.hFB)(),this.#e=[],this.#t=this.features.isEnabled[dt.T.PasteImageFromClipboard](),this.log.fn("constructor",{elementType:this.elementType(),pasteImageEnabled:this.#t})}ngOnInit(){switch(this.elementType()){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}const t=i=>{this.#i(i)};this.elementRef.nativeElement.addEventListener("handleImage",t),this.#e.push({element:this.elementRef.nativeElement,type:"handleImage",listener:t})}ngOnDestroy(){this.#e.forEach(({element:t,type:i,listener:n})=>{t.removeEventListener(i,n)})}#i(t){const i=this.#t,n=this.log.fnIf("handleImage",{event:t},"handling paste image - "+(i?"enabled":"disabled"));if(i){const s=this.#n(t.detail);this.config().dropzone.uploadFile(s),n.end("started upload")}else this.snackBar.open(this.translate.instant("Message.PastingFilesIsNotEnabled"),this.translate.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>{(0,Qi.j)(this.matDialog,dt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}),n.end("not enabled, showing snackbar")}#n(t){let i=t.file;try{const n=new FormData;n.append("file",t.file,t.imageFileName),i=n.get("file")}catch(n){console.error("paste image error",n)}return i}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(C.D),e.rXU(H.UG),e.rXU(x.c$),e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(e.gRc))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appPasteClipboardImage",""]],inputs:{config:[1,"config"],elementType:[1,"elementType"]}})}}return a})(),bo=(()=>{class a{#e;#t;constructor(t,i,n,s,o,l){this.formConfig=t,this.matDialog=i,this.viewContainerRef=n,this.changeDetectorRef=s,this.linkCacheService=o,this.formsStateService=l,this.log=(0,w.Tq)({HyperlinkDefaultBaseComponent:a}),this.preview=(0,e.vPA)({url:"",thumbnailUrl:"",previewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),this.fieldState=(0,e.WQX)(je.W),this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.config=this.fieldState.config,this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(Ct),this.adamService=(0,D.d)(es),this.adamItem=(0,te.bo)("adamItem",()=>{const p=this.uiValue(),M=this.config.adam.items();if(!p||!M.length)return;const I=p.trim().match(/^file:([0-9]+)$/i);if(!I)return;const N=parseInt(I[1],10);return M.find(ae=>ae.Id===N)})}ngOnInit(){(0,e.QZP)(()=>{this.log.a("controlStatus effect");const t=this.fieldState.uiValue();this.fetchLink(t)},{injector:this.#e})}openPagePicker(){go.C.open(this.config,this.group,this.matDialog,this.viewContainerRef,this.changeDetectorRef,t=>{t&&this.fieldState.ui().setIfChanged(`page:${t.id}`)})}openImageConfiguration(t){if(this.formsStateService.readOnly().isReadOnly||!t?._imageConfigurationContentType)return;const i={items:[t._imageConfigurationId>0?Gt.c.editId(t._imageConfigurationId):Gt.c.newMetadata(t.ReferenceId,t._imageConfigurationContentType,ti.YX.metadata.cmsObject)]};this.#t.open(this.config.index,this.config.entityGuid,i)}fetchLink(t){if(this.log.a("fetchLink",{value:t}),!t)return void this.setPreview(t,!1);if(!this.isFileOrPage(t))return void this.setPreview(t,!1);const n=this.linkCacheService.get(t);if(n){const p=!this.isFileOrPage(n.Value);this.setPreview(n.Value,p,n.Adam)}else this.adamService.getLinkInfo(t,this.config.contentTypeNameId,this.config.entityGuid,this.config.fieldName).subscribe(p=>{if(!p)return void this.setPreview(t,!1);this.linkCacheService.addLink(t,p);const M=!this.isFileOrPage(p.Value);this.setPreview(p.Value,M,p.Adam)})}setPreview(t,i,n){const s=this.getPreview(t,i,n);this.preview.set(s)}getPreview(t,i,n){return{url:t=t.replace(/\[App:Path\]/i,V.b.getUrlPrefix("app",this.formConfig.config)),floatingText:i?`.../${t.substring(t.lastIndexOf("/")+1)}`:"",thumbnailUrl:`url("${n?.ThumbnailUrl??this.buildUrl(t,1)}")`,previewUrl:n?.PreviewUrl??this.buildUrl(t,2),isImage:V.M5.isImage(t),isKnownType:V.M5.isKnownType(t),icon:V.M5.getIconClass(t)}}buildUrl(t,i){let n="";return 1===i&&(n+="w=80&h=80&mode=crop"),2===i&&(n+="w=800&h=800&mode=max"),n&&!t.includes("?")&&(n="?"+n),t+n}isFileOrPage(t){const i=t.trim().toLocaleLowerCase();return i.startsWith("file:")||i.startsWith("page:")}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(h.S),e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(ke),e.rXU(pt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-base-field-hyperlink-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();class Sn extends Ve.S{constructor(){super({HyperlinkDefaultLogic:Sn}),this.name=be.u.HyperlinkDefault}update({settings:r}){const t={...r};return t.Buttons||="adam,more",t.FileFilter??="",t.Paths??="",t.ServerResourceMapping??="",t.EnableImageConfiguration??=!0,t}}Ve.S.add(Sn);const Bf=a=>({"metadata-exists":a});function jf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.toggleAdam(!1,!1))}),e.nrm(1,"mat-icon",18),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function Hf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",20),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function Gf(a,r){if(1&a&&(e.j41(0,"button",6)(1,"mat-icon"),e.EFF(2,"more_vert"),e.k0s()()),2&a){e.XpG();const t=e.sdS(8),i=e.XpG(2);e.Y8G("disabled",i.ui().disabled)("matMenuTriggerFor",t)}}function $f(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!1,!1))}),e.nrm(1,"mat-icon",18),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function Uf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",20),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuPage")))}function Wf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!0,!0))}),e.nrm(1,"mat-icon",23),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuImage")))}function Xf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!0,!1))}),e.nrm(1,"mat-icon",24),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function Qf(a,r){if(1&a&&e.DNE(0,$f,5,3,"button",21)(1,Uf,5,3,"button",21)(2,Wf,5,3,"button",21)(3,Xf,5,3,"button",21),2&a){const t=e.XpG(3);e.vxM(t.showAdam()?0:-1),e.R7$(),e.vxM(t.showPagePicker()?1:-1),e.R7$(),e.vxM(t.showImageManager()?2:-1),e.R7$(),e.vxM(t.showFileManager()?3:-1)}}function Kf(a,r){if(1&a&&(e.j41(0,"div",15)(1,"div",25),e.EFF(2),e.k0s(),e.j41(3,"div",26)(4,"a",27)(5,"span"),e.EFF(6),e.k0s()()()()),2&a){const t=e.XpG(2),i=e.XpG();e.R7$(2),e.JRh(i.uiValue()),e.R7$(2),e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.JRh(t.floatingText)}}function Jf(a,r){if(1&a&&(e.j41(0,"a",28)(1,"div",30),e.nrm(2,"img",31),e.k0s()()),2&a){const t=e.XpG(3);e.Y8G("href",t.url,e.B4B),e.R7$(2),e.Y8G("src",t.previewUrl,e.B4B)}}function Zf(a,r){if(1&a&&(e.j41(0,"a",29)(1,"div",32),e.nrm(2,"mat-icon",33),e.k0s()()),2&a){const t=e.XpG(3);e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.Y8G("svgIcon",t.icon)}}function qf(a,r){if(1&a&&(e.j41(0,"div",16),e.DNE(1,Jf,3,2,"a",28)(2,Zf,3,3,"a",29),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.vxM(t.isImage?1:2)}}function eg(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",1),e.DNE(1,jf,2,1,"button",2),e.j41(2,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openImageConfiguration(n.adamItem()))}),e.j41(3,"mat-icon",4),e.EFF(4,"filter_center_focus"),e.k0s()(),e.DNE(5,Hf,2,1,"button",5)(6,Gf,3,2,"button",6),e.k0s(),e.j41(7,"mat-menu",7,0),e.DNE(9,Qf,4,4,"ng-template",8),e.k0s(),e.j41(10,"div",9)(11,"div",10)(12,"mat-card",11)(13,"div",12)(14,"mat-form-field",13),e.nrm(15,"input",14),e.j41(16,"mat-label"),e.EFF(17),e.k0s()(),e.DNE(18,Kf,7,4,"div",15),e.k0s(),e.DNE(19,qf,3,1,"div",16),e.k0s()()()}if(2&a){let t,i,n;const s=e.XpG(),o=e.XpG();e.R7$(),e.vxM(o.buttonAdam()?1:-1),e.R7$(),e.Y8G("disabled",!(null!=(t=o.adamItem())&&t._imageConfigurationContentType))("ngClass",e.eq3(16,Bf,(null==(i=o.adamItem())?null:i._imageConfigurationId)>0)),e.R7$(),e.Y8G("tippyTranslate",o.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")("tippyDisabled",null==(n=o.adamItem())?null:n._imageConfigurationContentType),e.R7$(2),e.vxM(o.buttonPage()?5:-1),e.R7$(),e.vxM(o.buttonMore()?6:-1),e.R7$(8),e.Y8G("formGroup",o.group),e.R7$(),e.Y8G("formControlName",o.config.fieldName)("placeholder",o.basics().placeholder)("required",o.basics().required)("config",o.config)("elementType","input"),e.R7$(2),e.JRh(o.basics().label),e.R7$(),e.vxM(null!=s&&s.floatingText?18:-1),e.R7$(),e.vxM(o.uiValue()?19:-1)}}function tg(a,r){if(1&a&&e.DNE(0,eg,20,18),2&a){const t=e.XpG();e.vxM(t.fieldState.isOpen()?0:-1)}}let ns=class Ms extends bo{constructor(r,t,i,n,s,o){super(r,t,i,n,s,o),this.buttonAdam=(0,e.EWP)(()=>this.settings().Buttons.includes("adam"),ei.bool),this.buttonPage=(0,e.EWP)(()=>this.settings().Buttons.includes("page"),ei.bool),this.buttonMore=(0,e.EWP)(()=>this.settings().Buttons.includes("more"),ei.bool),this.showAdam=this.fieldState.settingExt("ShowAdam"),this.showPagePicker=this.fieldState.settingExt("ShowPagePicker"),this.showImageManager=this.fieldState.settingExt("ShowImageManager"),this.showFileManager=this.fieldState.settingExt("ShowFileManager"),this.enableImageConfiguration=this.fieldState.settingExt("EnableImageConfiguration"),Sn.importMe();const l=(0,te.bo)("adamSettings",()=>{const p=this.fieldState.settings();return{rootSubfolder:p.Paths,fileFilter:p.FileFilter,autoLoad:!0}});(0,e.QZP)(()=>{const p=l();this.config.adam.setConfig(p)})}ngOnInit(){super.ngOnInit(),this.config.adam.onItemClick=r=>{this.setValue(r)},this.config.adam.onItemUpload=r=>{this.setValue(r)}}toggleAdam(r,t){this.config.adam.toggle(r,t)}setValue(r){const i="url"===this.settings().ServerResourceMapping?r.Url:r.ReferenceId;this.fieldState.ui().setIfChanged(i)}static{this.\u0275fac=function(t){return new(t||Ms)(e.rXU(h.S),e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(ke),e.rXU(pt))}}static{this.\u0275cmp=e.VBU({type:Ms,selectors:[["hyperlink-default"]],features:[e.Vt3],decls:1,vars:1,consts:[["menu","matMenu"],[1,"fabs-box"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Hyperlink.Default.AdamTip",3,"disabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.AdamFileManager.ImageSettings",3,"click","disabled","ngClass"],[3,"tippyTranslate","tippyDisabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.PageTip",3,"disabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.MoreOptions",3,"disabled","matMenuTriggerFor"],[1,"menu-box"],["matMenuContent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","tippyTranslate","Fields.Hyperlink.Default.Tooltip","tippyPlacement","top","appPasteClipboardImage","",3,"formControlName","placeholder","required","config","elementType"],[1,"hyperlink-floating"],[1,"preview-wrapper"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Hyperlink.Default.AdamTip",3,"click","disabled"],["svgIcon","apple-outlined"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.PageTip",3,"click","disabled"],["svgIcon","sitemap"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","tippy"],["target","_blank",3,"href"],["target","_blank","tippyPlacement","right",3,"href","tippy"],[1,"preview-image-box"],[1,"preview-image",3,"src"],[1,"preview-icon-box"],[3,"svgIcon"]],template:function(t,i){if(1&t&&e.DNE(0,tg,1,1),2&t){let n;e.vxM((n=i.preview())?0:-1,n)}},dependencies:[Ye.Hl,Ye.$0,Ce.m_,Ce.An,re.YU,at.Cn,at.kk,at.fb,at.z8,at.Cp,Re.Hu,Re.RN,Oe.RG,Oe.rl,Oe.nJ,ge.YN,ge.me,ge.BC,ge.cb,ge.YS,ge.X1,ge.j4,ge.JD,ht.fS,ht.fg,is,x.h,x.D9,ot.e],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 219px - var(--edit-dialog-header-height) - var(--edit-dialog-margin-top));height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:#1d273d14}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:#1d273d70}"]})}};ns=(0,qe.Cg)([wt({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-default-expandable-wrapper","app-adam-wrapper"]}),(0,qe.Sn)("design:paramtypes",[h.S,Te.bZ,e.c1b,e.gRc,ke,pt])],ns);class In extends Ve.S{constructor(){super({HyperlinkLibraryLogic:In}),this.name=be.u.HyperlinkLibrary}update({settings:r}){const t={...r};return t.EnableImageConfiguration??=!0,t}}Ve.S.add(In);let as=class Ds{constructor(){this.fieldState=(0,e.WQX)(je.W),this.injector=(0,e.WQX)(e.zZn),In.importMe();let r=!0;(0,e.QZP)(()=>{const t=this.fieldState.ui().control;t.adamItems=this.fieldState.config.adam.items().length,r||t.updateValueAndValidity(),r=!1})}ngOnInit(){this.attachAdamConfig()}attachAdamConfig(){const r=(0,te.bo)("adamConfig",()=>{const t=this.fieldState.settings();return{allowAssetsInRoot:t.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:t.Paths,fileFilter:t.FileFilter,folderDepth:t.FolderDepth||0,metadataContentTypes:t.MetadataContentTypes}});(0,e.QZP)(()=>{const t=r();this.fieldState.config.adam.setConfig(t)},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Ds)}}static{this.\u0275cmp=e.VBU({type:Ds,selectors:[["hyperlink-library"]],decls:0,vars:0,template:function(t,i){},encapsulation:2})}};as=(0,qe.Cg)([wt({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-library-expandable-wrapper","app-adam-wrapper"]}),(0,qe.Sn)("design:paramtypes",[])],as);class Yi extends Ve.S{constructor(){super({StringDropdownLogic:Yi}),this.name=be.u.StringDropdown,this.type="string"}update({settings:r,value:t}){const i=Ht.setDefaultSettings({...r});return i._options=(new kn).parseOptions(t,this.type,i.DropdownValuesFormat||"",i.DropdownValues||""),i.EntityType??="",i.CreateTypes=i.EntityType,i.EnableEdit??=!1,i.EnableCreate??=!1,i.EnableRemove??=i.AllowMultiValue,i}}Ve.S.add(Yi);class yo extends Yi{constructor(){super(...arguments),this.name=be.u.NumberDefault}update(r){return{...super.update(r)}}}Ve.S.add(yo);let ss=class Ts{constructor(){this.fieldState=(0,e.WQX)(je.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.min=this.fieldState.settingExt("Min"),this.max=this.fieldState.settingExt("Max"),yo.importMe()}static{this.\u0275fac=function(t){return new(t||Ts)}}static{this.\u0275cmp=e.VBU({type:Ts,selectors:[["number-default"]],decls:5,vars:7,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","type","number",1,"eav-translate-on-dblclick",3,"formControlName","required","placeholder","min","max"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.nrm(1,"input",1),e.j41(2,"mat-label"),e.EFF(3),e.k0s()(),e.nrm(4,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("formControlName",i.config.fieldName)("required",i.basics().required)("placeholder",i.basics().placeholder)("min",i.min())("max",i.max()),e.R7$(2),e.JRh(i.basics().label))},dependencies:[Oe.RG,Oe.rl,Oe.nJ,ge.YN,ge.me,ge.Q0,ge.BC,ge.cb,ge.YS,ge.VZ,ge.zX,ge.X1,ge.j4,ge.JD,ht.fS,ht.fg,kt],encapsulation:2})}};ss=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],ss);class Co extends Yi{constructor(){super(...arguments),this.name=be.u.NumberDropdown,this.type="number"}update(r){return{...super.update(r)}}}function ig(a,r){1&a&&e.nrm(0,"app-picker-preview")}function ng(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(Co);let rs=class xs extends ft{constructor(){super(),this.constructorEnd(),Co.importMe()}static{this.\u0275fac=function(t){return new(t||xs)}}static{this.\u0275cmp=e.VBU({type:xs,selectors:[["number-dropdown"]],features:[e.Vt3],decls:2,vars:1,template:function(t,i){1&t&&e.DNE(0,ig,1,0,"app-picker-preview")(1,ng,1,0,"app-picker-dialog"),2&t&&e.vxM(i.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}};rs=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],rs);class En extends Ve.S{constructor(){super({NumberPickerLogic:En}),this.name=be.u.NumberPicker}update(r){return Y.y.singleton().get(be.u.StringPicker).update(r)}}function ag(a,r){1&a&&e.nrm(0,"app-picker-preview")}function sg(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(En);let rg=(()=>{class a extends ft{constructor(){super(),this.log=(0,La.T)({NumberPickerComponent:a},ft.logSpecs),this.constructorEnd(),En.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["number-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,ag,1,0,"app-picker-preview")(1,sg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();class An extends Ve.S{constructor(){super({StringDefaultLogic:An}),this.name=be.u.StringDefault,this.canAutoTranslate=!0}update(r){const t={...r.settings};return t.InputFontFamily??="",t.RowCount||=1,t}}Ve.S.add(An);const og=a=>({"textarea-field":a}),lg=a=>({"font-family":a}),cg=(a,r)=>({"font-family":a,"white-space":r});function dg(a,r){if(1&a&&e.nrm(0,"input",1),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("placeholder",t.basics().placeholder)("required",t.basics().required)("ngStyle",e.eq3(4,lg,t.inputFontFamily()))}}function ug(a,r){if(1&a&&(e.j41(0,"textarea",2),e.EFF(1,"    "),e.k0s()),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("rows",t.rowCount())("placeholder",t.basics().placeholder)("required",t.basics().required)("ngStyle",e.l_i(5,cg,t.inputFontFamily(),t.textWrap()))}}let os=class Ss{constructor(){this.fieldState=(0,e.WQX)(je.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.rowCountRaw=this.fieldState.settingExt("RowCount"),this.rowCount=(0,te.bo)("rowCount",()=>Math.abs(this.rowCountRaw()||1)),this.isMultiline=(0,te.bo)("isMultiline",()=>{const r=this.rowCountRaw()||1;return r<0||r>1}),this.inputFontFamily=this.fieldState.settingExt("InputFontFamily"),this.textWrap=this.fieldState.settingExt("TextWrapping"),An.importMe()}static{this.\u0275fac=function(t){return new(t||Ss)}}static{this.\u0275cmp=e.VBU({type:Ss,selectors:[["string-default"]],decls:6,vars:6,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup","ngClass"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","placeholder","required","ngStyle"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","rows","placeholder","required","ngStyle"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.DNE(1,dg,1,6,"input",1)(2,ug,2,8,"textarea",2),e.j41(3,"mat-label"),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group)("ngClass",e.eq3(4,og,i.rowCount()>1)),e.R7$(),e.vxM(i.isMultiline()?2:1),e.R7$(3),e.JRh(i.basics().label))},dependencies:[Oe.RG,Oe.rl,Oe.nJ,ge.YN,ge.me,ge.BC,ge.cb,ge.YS,ge.X1,ge.j4,ge.JD,re.YU,ht.fS,ht.fg,re.B3,kt],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"]})}};os=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],os);class Fn extends Ve.S{constructor(){super({StringDropdownQueryLogic:Fn}),this.name=be.u.StringDropdownQuery}update(r){const i=Y.y.singleton().get(be.u.EntityDefault).update(r);return i.Separator||=",",i}}function pg(a,r){1&a&&e.nrm(0,"app-picker-preview")}function hg(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(Fn);let mg=(()=>{class a extends ft{constructor(){super(),this.log=(0,w.Tq)({StringDropdownQueryComponent:a},ft.logSpecs),this.constructorEnd(),Fn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["string-dropdown-query"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,pg,1,0,"app-picker-preview")(1,hg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();function fg(a,r){1&a&&e.nrm(0,"app-picker-preview")}function gg(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let _g=(()=>{class a extends ft{constructor(){super(),this.log=(0,w.Tq)({StringDropdownComponent:a},ft.logSpecs),this.constructorEnd(),Li.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["string-dropdown"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,fg,1,0,"app-picker-preview")(1,gg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();class On extends Ve.S{constructor(){super({StringFontIconPickerLogic:On}),this.name=be.u.StringFontIconPicker}update({fieldName:r,settings:t}){const i=this.log.fnIfInList("update","fields",r,{fieldName:r,settings:t}),n={...t},s=n;return n.CssSourceFile=s.Files??"",n.CssSelectorFilter=s.CssPrefix??"",n.CssSelectorFilter=Gr(s.CssPrefix??"",":"),n.PreviewValue=`${s.PreviewCss} [Item:Value]`,n.PreviewType="icon-css",n.EnableTextEntry=!1,n.EnableAddExisting=!0,n.AllowMultiValue=!1,n.noAutoFocus=!0,n.Label=s.ShowPrefix?"Value":"Title",i.r(n)}}function vg(a,r){1&a&&e.nrm(0,"app-picker-preview")}function bg(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(On);let ls=class jn extends ft{constructor(){super(),this.log=(0,w.Tq)({StringFontIconPickerComponent:jn},ft.logSpecs),this.constructorEnd(),On.importMe()}static{this.\u0275fac=function(i){return new(i||jn)}}static{this.\u0275cmp=e.VBU({type:jn,selectors:[["string-font-icon-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,vg,1,0,"app-picker-preview")(1,bg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}};ls=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],ls);class Ni extends Ve.S{constructor(){super({StringPickerLogic:Ni}),this.name=be.u.StringPicker}update(r){const i=(0,w.Tq)({StringPickerLogic:Ni},null).fn("update",{specs:r}),{fs:n,removeEditRestrictions:s,typeConfig:o}=(new Ht).preUpdate(r);n.Separator??="\n","\\n"==n.Separator&&(n.Separator="\n");const l=n.dataSourceType,p=Object.values(Na).includes(l);return i.a(`type: ${l}`,{typeConfig:o,isCustomSource:p}),p?s||(n.EnableEdit=!1,n.EnableCreate=!1,n.EnableDelete=!1):i.a("type: not UiPickerSourceCustom-List/Csv",{typeConfig:o}),i.r(n)}}function yg(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Cg(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Ve.S.add(Ni);let wg=(()=>{class a extends ft{constructor(){super(),this.log=(0,w.Tq)({StringPickerComponent:a},ft.logSpecs),this.constructorEnd(),Ni.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["string-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,yg,1,0,"app-picker-preview")(1,Cg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[Vt,Yt],encapsulation:2})}}return a})();var ko=c(5175),kg=c(9996),Mg=c(4029);const Mo={Token:{ext:".html",purpose:"Template",type:"Token"},"C# Razor":{ext:".cshtml",purpose:"Template",type:"Razor"},"C# Search":{ext:".cs",purpose:"Search"}};function Dg(a,r){if(1&a&&(e.j41(0,"mat-option",4),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}let cs=class Hn{#e;#t;#i;#n;#a;#s;#r;#o;#l;constructor(t,i){this.matDialog=t,this.viewContainerRef=i,this.log=(0,w.Tq)({StringTemplatePickerComponent:Hn}),this.#e=(0,e.WQX)(je.W),this.#t=(0,e.WQX)(e.zZn),this.#i=(0,D.d)(V.Nt).init("typeMask",this.#e.settings().FileType??"[Type]"),this.#n=(0,D.d)(V.Nt).init("String-LocationMask","[Location]"),this.#a=(0,D.d)(kg.F),this.group=this.#e.group,this.config=this.#e.config,this.basics=this.#e.basics,this.ui=this.#e.ui,this.files=(0,e.vPA)([]),this.#s=Mo.Token,this.#r=[],this.#o=!1,this.#l=!1,this.#c="",(0,e.QZP)(()=>this.#u(this.#n.result())),(0,e.QZP)(()=>this.#d(this.#i.result()))}#d(t){this.#s=Mo[t],this.#h()}#c;#u(t){this.log.fn("onLocationChange",{location:t}),this.#o="Host File System"===t||"Global"===t,this.#c!==t&&(this.#c=t,this.#a.getAll().pipe((0,rt.s)(1)).subscribe(n=>{this.#r=n.filter(s=>s.Shared===this.#o).map(s=>s.Path),this.#l=!0,this.#h()}))}#h(){const t=this.#s.ext,i=this.#r.filter(s=>!/\.code\.[a-zA-Z0-9]+$/.test(s)).filter(s=>s.endsWith(t));this.files.set(i),this.#l&&!i.some(s=>s===this.#e.uiValue())&&this.ui().setIfChanged("")}createTemplate(){const t=(0,D.d)(V.Nt,this.#t).init("String-NameMask","[Name]"),i={global:this.#o,purpose:this.#s.purpose,type:this.#s.type,name:t.result()};t.destroy(),this.matDialog.open(Mg.g,{autoFocus:!1,data:i,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(s=>{s&&this.#a.create(s.name,this.#o,s.templateKey).subscribe(o=>{!1===o?alert("Server reported that create failed - the file probably already exists"):(this.#r.push(s.name),this.#h(),this.ui().setIfChanged(s.name))})})}static{this.\u0275fac=function(i){return new(i||Hn)(e.rXU(Te.bZ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:Hn,selectors:[["string-template-picker"]],decls:14,vars:8,consts:[[1,"picker-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],[1,"eav-translate-on-dblclick",3,"formControlName","required"],["value",""],[3,"value"],["mat-icon-button","","tippyTranslate","Fields.TemplatePicker.NewTemplate",3,"click","disabled"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2)(3,"mat-option",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.Z7z(6,Dg,2,2,"mat-option",4,e.fX1),e.k0s(),e.j41(8,"mat-label"),e.EFF(9),e.k0s()(),e.j41(10,"button",5),e.bIt("click",function(){return n.createTemplate()}),e.j41(11,"mat-icon"),e.EFF(12,"add"),e.k0s()()(),e.nrm(13,"app-field-helper-text")),2&i&&(e.R7$(),e.Y8G("formGroup",n.group),e.R7$(),e.Y8G("formControlName",n.config.fieldName)("required",n.basics().required),e.R7$(2),e.JRh(e.bMT(5,6,"Fields.TemplatePicker.NotSelected")),e.R7$(2),e.Dyx(n.files()),e.R7$(3),e.JRh(n.basics().label),e.R7$(),e.Y8G("disabled",n.ui().disabled))},dependencies:[Oe.RG,Oe.rl,Oe.nJ,ge.YN,ge.BC,ge.cb,ge.YS,ge.X1,ge.j4,ge.JD,ko.Ve,ko.VO,ce.wT,ce.Sy,Ye.Hl,Ye.iY,Ce.m_,Ce.An,kt,x.h,x.D9,ot.e],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"]})}};cs=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[Te.bZ,e.c1b])],cs);class To extends Ve.S{constructor(){super({InputTypeCatalog:be.u}),this.name=be.u.StringUrlPath}update({settings:r}){const t={...r};return t.AutoGenerateMask??=null,t.AllowSlashes??=!1,t}}Ve.S.add(To);let ds=class Gn{#e;#t;#i;#n;constructor(){this.log=(0,w.Tq)({StringUrlPathComponent:Gn}),this.fieldState=(0,e.WQX)(je.W),this.group=this.fieldState.group,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.#e=this.fieldState.settingExt("AutoGenerateMask"),this.#t=(0,e.vPA)(""),this.#i=(0,D.d)(V.Nt).initPreClean((t,i)=>"string"==typeof i?i.replace("/","-").replace("\\","-"):i).initSignal("UrlPath",this.#e),this.#n=(0,e.EWP)(()=>{const t=this.#i.result();return V.b.stripNonUrlCharacters(t,this.settings().AllowSlashes,!0)}),To.importMe(),(0,e.QZP)(()=>{this.fieldState.uiValue(),this.clean(!1)}),(0,e.QZP)(()=>this.#a(this.#n()))}#a(t){const i=this.log.fn("#onSourcesChanged",{newValue:t}),n={uiValue:this.fieldState.uiValue(),lastAutoCopy:this.#t(),allowSlashes:this.settings().AllowSlashes,cleaned:t};return n.uiValue&&n.uiValue!==n.lastAutoCopy?i.end("UI not empty but manually modified, so no auto-update",n):n.cleaned?n.uiValue===n.cleaned?i.end("no changes",n):(this.#t.set(n.cleaned),this.fieldState.ui().setIfChanged(n.cleaned),void i.end(`updated to "${n.cleaned}"`,n)):i.end("cleaned is empty",n)}clean(t){this.log.fn("clean",{trimEnd:t});const n=this.fieldState.uiValue(),s=V.b.stripNonUrlCharacters(n,this.settings().AllowSlashes,t);this.fieldState.ui().setIfChanged(s)}static{this.\u0275fac=function(i){return new(i||Gn)}}static{this.\u0275cmp=e.VBU({type:Gn,selectors:[["string-url-path"]],decls:5,vars:5,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",1,"eav-translate-on-dblclick",3,"blur","formControlName","placeholder","required"]],template:function(i,n){1&i&&(e.j41(0,"mat-form-field",0)(1,"input",1),e.bIt("blur",function(){return n.clean(!0)}),e.k0s(),e.j41(2,"mat-label"),e.EFF(3),e.k0s()(),e.nrm(4,"app-field-helper-text")),2&i&&(e.Y8G("formGroup",n.group),e.R7$(),e.Y8G("formControlName",n.fieldState.name)("placeholder",n.basics().placeholder)("required",n.basics().required),e.R7$(2),e.JRh(n.basics().label))},dependencies:[Oe.RG,Oe.rl,Oe.nJ,ge.YN,ge.me,ge.BC,ge.cb,ge.YS,ge.X1,ge.j4,ge.JD,ht.fS,ht.fg,kt],encapsulation:2})}};ds=(0,qe.Cg)([wt({...Pt}),(0,qe.Sn)("design:paramtypes",[])],ds);var So=c(6256);class Pn{constructor(r){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=r}static completeConfig(r,t,i){const n=t.inputTypeSpecs.isExternal;i=i??new Pn(n);const s=new Pn(n);for(const l of Object.keys(s))s[l]=r[l]??i[l];if(i.usePortalRoot!==s.usePortalRoot&&(s.subfolder=""),s.usePortalRoot&&(s.rootSubfolder.includes("\\")&&(s.rootSubfolder=s.rootSubfolder.replace(/\\/g,"/")),s.rootSubfolder.startsWith("/")&&(s.rootSubfolder=s.rootSubfolder.replace("/","")),!s.subfolder.startsWith(s.rootSubfolder)&&(s.subfolder=s.rootSubfolder),s.maxDepthReached=!1),!s.usePortalRoot)if((s.subfolder?s.subfolder.split("/").length:0)>=s.folderDepth){let M=s.subfolder.split("/");M=M.slice(0,s.folderDepth),s.subfolder=M.join("/"),s.maxDepthReached=!0}else s.maxDepthReached=!1;return s}}var Io=c(1955);const xg=(a,r)=>r.Id,Sg=(a,r)=>({"adam-scope-site":a,"adam-scope-field":r}),Rn=a=>({"adam-button-disabled":a}),Eo=a=>({"metadata-exists":a}),Ig=(a,r)=>({"dz-success":a,"disable-select":r}),Eg=(a,r)=>({"adam-button-disabled":a,"metadata-exists":r});function Ag(a,r){1&a&&(e.j41(0,"mat-icon"),e.EFF(1,"public"),e.k0s())}function Fg(a,r){1&a&&e.nrm(0,"mat-icon",8)}function Og(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",5),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.openUploadClick(n))}),e.j41(1,"div",6)(2,"mat-icon"),e.EFF(3,"cloud_upload"),e.k0s(),e.j41(4,"div",7),e.EFF(5),e.nI1(6,"translate"),e.DNE(7,Ag,2,0,"mat-icon")(8,Fg,1,0,"mat-icon",8),e.k0s()()(),e.j41(9,"div",9,0),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openFeatureInfoDialog())}),e.j41(11,"div",6)(12,"mat-icon",10),e.EFF(13," filter "),e.k0s(),e.j41(14,"div",7),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}if(2&a){const t=e.sdS(10),i=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,6,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),e.R7$(2),e.vxM(i.adamConfig().usePortalRoot?7:8),e.R7$(2),e.Y8G("config",i.config)("elementType","element"),e.R7$(3),e.Y8G("matBadgeHidden",i.isPasteImageFromClipboardEnabled()),e.R7$(3),e.SpI(" ",i.isPasteImageFromClipboardEnabled()?t.classList.contains("pastable-focus")?"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel":e.bMT(16,8,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"):"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"," ")}}function Pg(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addFolder())}),e.j41(1,"div",6),e.nrm(2,"mat-icon",12),e.j41(3,"div",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.nrm(6,"div",14),e.k0s()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function Rg(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.goUp())}),e.j41(1,"div",6),e.nrm(2,"mat-icon",16),e.j41(3,"div",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",17)(7,"mat-icon",18),e.EFF(8,"arrow_back"),e.k0s()()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Fields.Hyperlink.AdamFileManager.BackFolder")))}function Lg(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.del(n))}),e.EFF(1,"clear"),e.k0s(),e.j41(2,"mat-icon",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.rename(n))}),e.EFF(3,"edit"),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("ngClass",e.eq3(2,Rn,t.disabled())),e.R7$(2),e.Y8G("ngClass",e.eq3(4,Rn,t.disabled()))}}function Vg(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.editItemMetadata(n,n._metadataContentType,n._metadataId))}),e.EFF(1,"local_offer"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.FCK("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Y8G("ngClass",e.eq3(4,Eo,t._metadataId>0))}}function Yg(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.goIntoFolder(n))}),e.j41(1,"div",22),e.nrm(2,"mat-icon",16),e.j41(3,"div",23),e.EFF(4),e.k0s()(),e.j41(5,"div"),e.DNE(6,Lg,4,6),e.j41(7,"div",24)(8,"div",25),e.EFF(9),e.k0s()()(),e.DNE(10,Vg,2,6,"mat-icon",26),e.k0s()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(4),e.JRh(t.Name),e.R7$(),e.ZvI("dz-details file-type-",t.Type,""),e.R7$(),e.vxM(i.adamConfig().allowEdit?6:-1),e.R7$(2),e.Y8G("title",t.Name),e.R7$(),e.JRh(t.Name),e.R7$(),e.vxM(t._metadataContentType?10:-1)}}function Ng(a,r){if(1&a&&(e.j41(0,"div",22)(1,"mat-icon"),e.EFF(2),e.k0s(),e.j41(3,"div",13),e.EFF(4),e.k0s()()),2&a){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(t._icon),e.R7$(2),e.JRh(t.Name)}}function zg(a,r){if(1&a&&(e.j41(0,"div",31),e.nrm(1,"img",40),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("alt",t.Id+":"+t.Name)("src",t.ThumbnailUrl,e.B4B)}}function Bg(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.del(n))}),e.EFF(1,"clear"),e.k0s(),e.j41(2,"mat-icon",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.rename(n))}),e.EFF(3,"edit"),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("ngClass",e.eq3(2,Rn,t.disabled())),e.R7$(2),e.Y8G("ngClass",e.eq3(4,Rn,t.disabled()))}}function jg(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.editItemMetadata(n,n._imageConfigurationContentType,n._imageConfigurationId))}),e.EFF(1," filter_center_focus"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.Y8G("ngClass",e.l_i(2,Eg,!t._imageConfigurationContentType,t._imageConfigurationId>0))("tippyTranslate",t._imageConfigurationContentType?"Fields.Hyperlink.AdamFileManager.ImageSettings":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")}}function Hg(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.editItemMetadata(n,n._metadataContentType,n._metadataId))}),e.EFF(1,"local_offer"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.FCK("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Y8G("ngClass",e.eq3(4,Eo,t._metadataId>0))}}function Gg(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.select(n))}),e.DNE(1,Ng,5,2,"div",22)(2,zg,2,2,"div",31),e.j41(3,"div"),e.DNE(4,Bg,4,6),e.j41(5,"div",24)(6,"div",25),e.EFF(7),e.k0s()(),e.j41(8,"div",32)(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"a",33)(12,"mat-icon",34),e.EFF(13,"open_in_new"),e.k0s()(),e.DNE(14,jg,2,5,"mat-icon",35),e.k0s(),e.DNE(15,Hg,2,6,"mat-icon",26),e.j41(16,"div",36),e.qSk(),e.j41(17,"svg",37)(18,"title"),e.EFF(19,"Check"),e.k0s(),e.nrm(20,"defs"),e.j41(21,"g",38),e.nrm(22,"path",39),e.k0s()()()()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",e.l_i(16,Ig,i.value()==="file:"+t.Id,!i.adamConfig().enableSelect)),e.R7$(),e.vxM("image"!==t.Type?1:2),e.R7$(2),e.ZvI("dz-details file-type-",t.Type,""),e.R7$(),e.vxM(i.adamConfig().allowEdit?4:-1),e.R7$(2),e.Y8G("title",t.Name),e.R7$(),e.JRh(t.Name),e.R7$(),e.FCK("title","#",t.Id," - ",t._displaySize," KB"),e.R7$(2),e.Lme("#",t.Id," - ",t._displaySize," KB"),e.R7$(),e.Y8G("href",t.Url,e.B4B),e.R7$(3),e.vxM("image"===t.Type?14:-1),e.R7$(),e.vxM(t._metadataContentType?15:-1)}}function $g(a,r){if(1&a&&e.DNE(0,Yg,11,8,"div",19)(1,Gg,23,19,"div",20),2&a){const t=r.$implicit;e.vxM(t.IsFolder?0:-1),e.R7$(),e.vxM(t.IsFolder?-1:1)}}function Ug(a,r){if(1&a&&(e.j41(0,"div",2),e.DNE(1,Og,17,10)(2,Pg,7,3,"div",3)(3,Rg,9,3,"div",4),e.Z7z(4,$g,2,2,null,null,xg),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.l_i(4,Sg,t.adamConfig().usePortalRoot,!t.adamConfig().usePortalRoot)),e.R7$(),e.vxM(!t.disabled()&&t.allowAddButtons()?1:-1),e.R7$(),e.vxM(t.adamConfig().maxDepthReached||t.disabled()||!t.allowAddButtons()?-1:2),e.R7$(),e.vxM(""!==t.adamConfig().subfolder||t.adamConfig().usePortalRoot&&t.adamConfig().subfolder!==t.adamConfig().rootSubfolder?3:-1),e.R7$(),e.Dyx(t.items())}}const Wg={all:!1,constructor:!1,editItemMetadata:!1,setConfig:!1,fetchItems:!0,processFetchedItems:!0};let Xg=(()=>{class a{#e;#t;#i;#n;constructor(t,i,n,s,o,l,p){this.dnnContext=t,this.adamCacheService=i,this.linkCacheService=n,this.formsStateService=s,this.matDialog=o,this.viewContainerRef=l,this.changeDetectorRef=p,this.openUpload=(0,e.CGW)(),this.log=(0,w.Tq)({AdamBrowserComponent:a},Wg),this.fieldState=(0,e.WQX)(je.W),this.#e=(0,e.WQX)(Ct),this.#t=(0,e.WQX)(C.D),this.#i=(0,D.d)(es),this.#n=(0,D.d)(Hi.c),this.config=this.fieldState.config,this.group=this.fieldState.group,this.#a=this.fieldState.ui,this.disabled=(0,te.bo)("disabled",()=>this.#a().disabled),this.value=(0,te.bo)("value",()=>this.fieldState.uiValue()),this.adamConfig=(0,te.KX)("adamConfig",null),this.items=(0,te.KX)("items",[]),this.#r=!0,this.allowAddButtons=(0,te.bo)("allowAddButtons",()=>{const N=this.adamConfig();return N.allowEdit&&!((""===N.subfolder||N.usePortalRoot&&N.subfolder===N.rootSubfolder)&&!N.allowAssetsInRoot)}),this.isPasteImageFromClipboardEnabled=this.#t.isEnabled[dt.T.PasteImageFromClipboard],this.log.fnIf("constructor"),(0,e.QZP)(()=>{null!=this.adamConfig()&&this.fetchItems()});const I=this.config;this.#s=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${I.contentTypeNameId}/${I.entityGuid}/${I.fieldName}`)}#a;#s;#r;ngOnInit(){this.#n.doOnDialogClosed(()=>this.fetchItems()),this.config.adam.setBrowser(this)}addFolder(){if(this.#a().disabled)return;const t=window.prompt("Please enter a folder name");t&&this.#i.addFolder(t,this.#s,this.adamConfig()).subscribe(()=>this.fetchItems())}del(t){this.#a().disabled||!window.confirm("Are you sure you want to delete this item?")||this.#i.deleteItem(t,this.#s,this.adamConfig()).subscribe(()=>this.fetchItems())}editItemMetadata(t,i,n){const s=this.log.fnIf("editItemMetadata",{adamItem:t,contentTypeName:i,metadataId:n});if(this.formsStateService.readOnly().isReadOnly||!i)return s.end("readonly or no content type");const o={items:[n>0?Gt.c.editId(n):Gt.c.newMetadata(t.ReferenceId,i,ti.YX.metadata.cmsObject)]};this.#e.open(this.config.index,this.config.entityGuid,o)}goUp(){let t=this.adamConfig().subfolder;t=t.includes("/")?t.slice(0,t.lastIndexOf("/")):"",this.setConfig({subfolder:t})}#o(t){return this.fieldState.settings().EnableImageConfiguration&&"image"===t.Type?ti.YX.contentTypes.imageDecorator:null}#l(t){let i;return"folder"===t.Type?(i=this.adamConfig().metadataContentTypes.match(/^(folder)(:)([^\n]*)/im),i?i[3]:null):(i=this.adamConfig().metadataContentTypes.match(/^([^:\n]*)(\n|$)/im),i?i[1]:null)}goIntoFolder(t){let i=this.adamConfig().subfolder;i=i?`${i}/${t.Name}`:t.Name,this.setConfig({subfolder:i})}openUploadClick(t){this.openUpload.emit()}rename(t){if(this.#a().disabled)return;const i=window.prompt("Rename the file / folder to: ",t.Name);i&&this.#i.rename(t,i,this.#s,this.adamConfig()).subscribe(()=>this.fetchItems())}select(t){this.#a().disabled||!this.adamConfig().enableSelect||this.config.adam.onItemClick(t)}fetchItems(){const t=this.adamConfig();if(this.log.fnIf("fetchItems",{adamConfig:t,firstFetch:this.#r,usePortalRoot:t?.usePortalRoot}),null!=t&&t.autoLoad){if(this.#r){this.#r=!1;const n=this.adamCacheService.getAdamSnapshot(this.config.entityGuid,this.config.fieldName);if(n){const s=n.map(o=>({...o}));return void setTimeout(()=>this.#d(s,t))}}this.#i.getAll(this.#s,t).subscribe(n=>this.#d(n,t))}}openFeatureInfoDialog(){this.isPasteImageFromClipboardEnabled()||(0,Qi.j)(this.matDialog,dt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}#d(t,i){this.log.fnIf("processFetchedItems",{items:t,adamConfig:i,usePortalRoot:i.usePortalRoot}),this.linkCacheService.addAdam(t);const s=[],o=function Qg(a){return a?a.split(",").map(t=>((t=t.trim()).startsWith("*.")?t=t.replace("*.",""):t.startsWith("*")&&(t=t.replace("*","")),t.toLocaleLowerCase())):[]}(i.fileFilter);for(const l of t)if("."!==l.Name){if("2sxc"!==l.Name&&"adam"!==l.Name&&(l.IsFolder||!i.showImagesOnly||"image"===l.Type)&&(!l.IsFolder||!i.maxDepthReached)){if(o.length>0){const p=l.Name.substring(l.Name.lastIndexOf(".")+1).toLocaleLowerCase();if(!o.includes(p))continue}l._imageConfigurationContentType=this.#o(l),l._imageConfigurationId=l.Metadata?.find(p=>p.Type.Name===l._imageConfigurationContentType)?.Id??0,l._metadataContentType=this.#l(l),l._metadataId=l.Metadata?.find(p=>p.Type.Name===l._metadataContentType)?.Id??0,l._icon=V.M5.getIconClass(l.Name),l._isMaterialIcon=V.M5.isKnownType(l.Name),l._displaySize=(l.Size/1024).toFixed(0),s.push(l)}}else{const p=l.AllowEdit;p!==i.allowEdit&&this.setConfig({allowEdit:p})}s.sort((l,p)=>l.Name.toLocaleLowerCase().localeCompare(p.Name.toLocaleLowerCase())),s.sort((l,p)=>p.IsFolder.toString().localeCompare(l.IsFolder.toString())),this.items.set(s)}setConfig(t){const i=this.log.fnIf("setConfig",t),n=Pn.completeConfig(t,this.config,this.adamConfig());(0,Wt.A)(n,this.adamConfig())?i.end("no change"):(this.adamConfig.set(n),function Tg(a,r){const t=r.dropzone.getConfig(),i={},n=V.b.getUrlParams(t.url);if((n.subfolder||"")!==a.subfolder||n.usePortalRoot!==a.usePortalRoot.toString()){let I=t.url;I=V.b.replaceUrlParam(I,"subfolder",a.subfolder),I=V.b.replaceUrlParam(I,"usePortalRoot",a.usePortalRoot.toString()),i.url=I}const p=!a.allowEdit||(""===a.subfolder||a.usePortalRoot&&a.subfolder===a.rootSubfolder)&&!a.allowAssetsInRoot;t.disabled!==p&&(i.disabled=p),Object.keys(i).length>0&&r.dropzone.setConfig(i)}(n,this.config),i.end())}toggle(t,i){const n={...this.adamConfig(),usePortalRoot:t,showImagesOnly:i};(0,Wt.A)(n,this.adamConfig())?n.autoLoad=!n.autoLoad:n.autoLoad||(n.autoLoad=!0),this.setConfig(n)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Io.ob),e.rXU(_e),e.rXU(ke),e.rXU(pt),e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["adam-browser"]],outputs:{openUpload:"openUpload"},decls:2,vars:2,consts:[["pasteDiv",""],[1,"dropzone"],[3,"ngClass"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.NewFolderTip",1,"dz-preview"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.BackFolderTip",1,"dz-preview"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.UploadTip",1,"dz-preview","dropzone-adam",3,"click"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["svgIcon","apple-outlined"],["appPasteClipboardImage","","tippyTranslate","Fields.Hyperlink.AdamFileManager.UploadPasteTip",1,"dz-preview","dropzone-adam","paste-image",3,"click","config","elementType"],["matBadgeSize","large","matBadge","\u{1f48e}","matBadgePosition","below after","matBadgeOverlap","true","aria-hidden","false",1,"adam-filter-mat-icon-with-grey-mat-badge",3,"matBadgeHidden"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.NewFolderTip",1,"dz-preview",3,"click"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.BackFolderTip",1,"dz-preview",3,"click"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],[1,"dz-preview"],[1,"dz-preview",3,"ngClass"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","tippy"],["appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.Delete",1,"adam-delete-button",3,"click","ngClass"],["appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.Edit",1,"adam-rename-button",3,"click","ngClass"],["appClickStopPropagation","",1,"adam-tag",3,"click","ngClass","tippy"],[1,"dz-preview",3,"click","ngClass"],[1,"dz-image","adam-browse-background-image"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.Show"],["appClickStopPropagation","",1,"image-configuration-button",3,"ngClass","tippyTranslate"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],["vm-dz-thumbnail","",3,"alt","src"],["appClickStopPropagation","",1,"image-configuration-button",3,"click","ngClass","tippyTranslate"]],template:function(i,n){if(1&i&&(e.j41(0,"div",1),e.DNE(1,Ug,6,7,"div",2),e.k0s()),2&i){let s,o;e.Y8G("@adamShowAnimate",null!=(s=n.adamConfig())&&s.autoLoad?"open":"closed"),e.R7$(),e.vxM(null!=(o=n.adamConfig())&&o.autoLoad&&n.fieldState.isOpen()?1:-1)}},dependencies:[re.YU,Ce.m_,Ce.An,is,So.Y,So.k,x.h,x.D9,Ri.c,ot.e],styles:['.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{position:absolute;left:4px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6}.image-configuration-button[_ngcontent-%COMP%]{position:absolute;left:30px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6;cursor:pointer}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;cursor:pointer;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .image-configuration-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled):not(.metadata-exists), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#002753}.image-configuration-button.metadata-exists[_ngcontent-%COMP%], .adam-tag.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.adam-button-disabled[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0;cursor:pointer}.dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text;display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:#fffc;border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class^=icon-][_ngcontent-%COMP%]:before, .mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%], .dropzone.dz-drag-hover[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069BF;background:#fff;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(to bottom,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:#000000e6;line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid rgba(200,200,200,.8);background-color:#fffc}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff6;padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:#ffffffe6;-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(to bottom,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(to bottom,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}[_nghost-%COMP%]     .adam-filter-mat-icon-with-grey-mat-badge .mat-badge-content{background:#fff0!important}'],data:{animation:[(0,me.hZ)("adamShowAnimate",[(0,me.wk)("closed",(0,me.iF)({height:"0",overflow:"hidden"})),(0,me.wk)("open",(0,me.iF)({height:"*",overflow:"hidden"})),(0,me.kY)("closed => open",[(0,me.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]}})}}return a})();function Kg(a,r){1&a&&(e.EFF(0," \xa0 "),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.EFF(4," \xa0 "),e.j41(5,"a",5),e.EFF(6,"2sic.com"),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Fields.Hyperlink.AdamFileManager.SponsorLine")))}let Jg=(()=>{class a{constructor(){this.features=(0,e.WQX)(C.D),this.hideAdamSponsor=this.features.isEnabled[dt.T.NoSponsoredByToSic]}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["adam-hint"]],decls:12,vars:7,consts:[[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1","tippyTranslate","Fields.Hyperlink.AdamFileManager.HelpTooltip",1,"adam-link"],["svgIcon","apple-outlined"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(i,n){1&i&&(e.nrm(0,"mat-divider"),e.j41(1,"div",0)(2,"div",1),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",2)(6,"a",3),e.nrm(7,"mat-icon",4),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.DNE(11,Kg,7,3),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,3,"Fields.Hyperlink.AdamFileManager.Hint")),e.R7$(6),e.JRh(e.bMT(10,5,"Fields.Hyperlink.AdamFileManager.Name")),e.R7$(2),e.vxM(n.hideAdamSponsor()?-1:11))},dependencies:[Bs,Ul,Ce.m_,Ce.An,x.h,x.D9,ot.e],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:#1d273d70;display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"]})}}return a})();const Zg=["fieldComponent"],qg=["invisibleClickable"],e_=(a,r)=>({"adam-in-popup":a,"c-ew__dialog-content--empty":r}),t_=(a,r)=>({"adam-browser-container--short u-hide-scrollbar":a,"u-display-none":r}),Ao=a=>({"u-display-none":a});let i_=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.adamDisabled=this.config.adam.isDisabled}ngOnInit(){this.fullscreenAdam=this.config.inputTypeSpecs.inputType===be.u.HyperlinkLibrary}openUpload(){this.invisibleClickableRef.nativeElement.click()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-adam-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Zg,7,e.c1b),e.GBs(qg,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.invisibleClickableRef=s.first)}},decls:10,vars:17,consts:[["fieldComponent",""],["invisibleClickable",""],[3,"ngClass"],[1,"adam-dialog-content"],[1,"u-shadow-top",3,"openUpload","ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],[1,"field-hints",3,"ngClass"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",2)(1,"div",3),e.eu8(2,null,0),e.k0s(),e.j41(4,"adam-browser",4),e.bIt("openUpload",function(){return e.eBV(s),e.Njj(n.openUpload())}),e.k0s(),e.j41(5,"div",2),e.nrm(6,"div",5)(7,"span",6,1),e.k0s(),e.nrm(9,"adam-hint",7),e.k0s()}2&i&&(e.Y8G("ngClass",e.l_i(7,e_,n.fieldState.isOpen(),n.fullscreenAdam)),e.R7$(4),e.Y8G("ngClass",e.l_i(10,t_,!n.fullscreenAdam,n.adamDisabled())),e.R7$(),e.HbH(n.config.dropzonePreviewsClass),e.Y8G("ngClass",e.eq3(13,Ao,n.adamDisabled())),e.R7$(4),e.Y8G("ngClass",e.eq3(15,Ao,n.adamDisabled())))},dependencies:[Xg,re.YU,Jg],styles:['.adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}.dropzone-previews[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;box-shadow:0 2px #ccc inset}.dropzone-previews[_ngcontent-%COMP%]     .dz-preview{padding:5px}.dropzone-previews[_ngcontent-%COMP%]     .dz-details, .dropzone-previews[_ngcontent-%COMP%]     .dz-progress, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-message, .dropzone-previews[_ngcontent-%COMP%]     .dz-success-mark, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-mark{display:none}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.dropzone-previews[_ngcontent-%COMP%]     .dz-image{position:relative}.dropzone-previews[_ngcontent-%COMP%]     .dz-image:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:32px;height:32px;margin-top:-16px;margin-left:-16px;border-radius:50%;border:4px solid #0087f4;border-top-color:transparent;animation:_ngcontent-%COMP%_spinner .6s linear infinite}.c-ew__dialog-content[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.c-ew__dialog-content[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.c-ew__dialog-content[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar, .adam-in-popup[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.c-ew__dialog-content[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]{background:#fff;z-index:2}.c-ew__dialog-content[_ngcontent-%COMP%]   adam-hint[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   adam-hint[_ngcontent-%COMP%]{z-index:3}.c-ew__dialog-content--empty[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]{flex:1 1 100%;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.c-ew__dialog-content--empty[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}']})}}return a})();var Fo=c(5176);const n_=new e.nKC("DROPZONE_CONFIG"),a_=["error","success","sending","canceled","complete","processing","drop","dragStart","dragEnd","dragEnter","dragOver","dragLeave","thumbnail","addedFile","addedFiles","removedFile","uploadProgress","maxFilesReached","maxFilesExceeded","errorMultiple","successMultiple","sendingMultiple","canceledMultiple","completeMultiple","processingMultiple","reset","queueComplete","totalUploadProgress"];class s_{constructor(r={}){this.assign(r)}assign(r={},t){t=t||this;for(const i in r)null==r[i]||Array.isArray(r[i])||"object"!=typeof r[i]||r[i]instanceof HTMLElement?t[i]=r[i]:(t[i]={},this.assign(r[i],t[i]))}}let Oo=(()=>{class a{constructor(t,i,n,s,o,l){this.zone=t,this.renderer=i,this.elementRef=n,this.differs=s,this.platformId=o,this.defaults=l,this.configDiff=null,this.disabled=!1,this.DZ_INIT=new e.bkB,this.DZ_ERROR=new e.bkB,this.DZ_SUCCESS=new e.bkB,this.DZ_SENDING=new e.bkB,this.DZ_CANCELED=new e.bkB,this.DZ_COMPLETE=new e.bkB,this.DZ_PROCESSING=new e.bkB,this.DZ_DROP=new e.bkB,this.DZ_DRAGSTART=new e.bkB,this.DZ_DRAGEND=new e.bkB,this.DZ_DRAGENTER=new e.bkB,this.DZ_DRAGOVER=new e.bkB,this.DZ_DRAGLEAVE=new e.bkB,this.DZ_THUMBNAIL=new e.bkB,this.DZ_ADDEDFILE=new e.bkB,this.DZ_ADDEDFILES=new e.bkB,this.DZ_REMOVEDFILE=new e.bkB,this.DZ_UPLOADPROGRESS=new e.bkB,this.DZ_MAXFILESREACHED=new e.bkB,this.DZ_MAXFILESEXCEEDED=new e.bkB,this.DZ_ERRORMULTIPLE=new e.bkB,this.DZ_SUCCESSMULTIPLE=new e.bkB,this.DZ_SENDINGMULTIPLE=new e.bkB,this.DZ_CANCELEDMULTIPLE=new e.bkB,this.DZ_COMPLETEMULTIPLE=new e.bkB,this.DZ_PROCESSINGMULTIPLE=new e.bkB,this.DZ_RESET=new e.bkB,this.DZ_QUEUECOMPLETE=new e.bkB,this.DZ_TOTALUPLOADPROGRESS=new e.bkB,Fo.autoDiscover=!1}ngOnInit(){if(!(0,re.UE)(this.platformId))return;const t=new s_(this.defaults);t.assign(this.config),this.renderer.addClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-single":"dz-multiple"),this.renderer.removeClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-multiple":"dz-single"),this.zone.runOutsideAngular(()=>{this.instance=new Fo(this.elementRef.nativeElement,t)}),this.disabled&&this.instance.disable(),this.DZ_INIT.observers.length&&this.zone.run(()=>{this.DZ_INIT.emit(this.instance)}),this.instance.on("success",()=>{null!=t.autoReset&&setTimeout(()=>this.reset(),t.autoReset)}),this.instance.on("error",()=>{null!=t.errorReset&&setTimeout(()=>this.reset(),t.errorReset)}),this.instance.on("canceled",()=>{null!=t.cancelReset&&setTimeout(()=>this.reset(),t.cancelReset)}),a_.forEach(i=>{this.instance.on(i.toLowerCase(),(...n)=>{n=1===n.length?n[0]:n;const o=this[`DZ_${i.toUpperCase()}`];o.observers.length>0&&this.zone.run(()=>{o.emit(n)})})}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{}))}ngOnDestroy(){this.instance&&(this.zone.runOutsideAngular(()=>{this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&this.configDiff.diff(this.config||{})&&this.instance&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){this.instance&&t.disabled&&t.disabled.currentValue!==t.disabled.previousValue&&(!1===t.disabled.currentValue?this.zone.runOutsideAngular(()=>{this.instance.enable()}):!0===t.disabled.currentValue&&this.zone.runOutsideAngular(()=>{this.instance.disable()}))}dropzone(){return this.instance}reset(t){this.instance&&this.zone.runOutsideAngular(()=>{this.instance.removeAllFiles(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(e.MKu),e.rXU(e.Agw),e.rXU(n_,8))},a.\u0275dir=e.FsC({type:a,selectors:[["","dropzone",""]],inputs:{disabled:"disabled",config:[0,"dropzone","config"]},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],standalone:!1,features:[e.OA$]}),a})(),r_=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[[re.MD],re.MD]}),a})();class o_{constructor(r,t,i){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=2e4,this.timeout=18e5,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=r,this.url=t,this.headers=i}}let Po=(()=>{class a{static{this.classToDetectWysiwyg="class-distinguish-from-adam-dropzone"}}return a})();class us{constructor(){this.isStringWysiwyg=!1,this.imageTypes=["image/jpeg","image/png"]}detectWysiwygOnDrop(r){this.isStringWysiwyg=us.isParentWysiwyg(r.toElement)}removeFilesHandledByWysiwyg(r,t){this.isStringWysiwyg&&this.imageTypes.some(i=>i===t.type)&&r.removeFile(t)}static isParentWysiwyg(r){do{if(null==r)return!1;if(r?.classList.contains(Po.classToDetectWysiwyg))return!0;r=r.parentElement}while(!r?.classList.contains(Po.classToDetectWysiwyg)||r.parentElement!=document.body);return!1}}const l_=["fieldComponent"],c_=a=>({"dropzone-disabled":a});let d_=(()=>{class a{#e;#t;#i;constructor(t,i){this.formConfig=t,this.dnnContext=i,this.log=(0,w.Tq)({DropzoneWrapperComponent:a}),this.#e=(0,e.WQX)(je.W),this.#t=this.#e.config,this.dropzoneConfig=(0,e.vPA)(null),this.dropzoneDisabled=(0,e.EWP)(()=>this.#e.ui().disabled||(this.dropzoneConfig()?.disabled??!0)),this.#i=new us,this.extendFieldConfigWithDropZone(),this.#n({})}extendFieldConfigWithDropZone(){this.#t.dropzone={setConfig:t=>this.#n(t),getConfig:()=>this.dropzoneConfig(),uploadFile:t=>this.#a(t)}}ngAfterViewInit(){this.#n({previewsContainer:`.${this.#t.dropzonePreviewsClass} .dropzone-previews`,clickable:`.${this.#t.dropzonePreviewsClass} .invisible-clickable`})}onDrop(t){this.#i.detectWysiwygOnDrop(t)}onAddedFile(t){this.#i.removeFilesHandledByWysiwyg(this.dropzoneRef.dropzone(),t)}onUploadError(t){this.log.fn("onUploadError",{event:t}),alert(`Dropzone upload error. Event ${t}`),this.dropzoneRef.reset()}onUploadSuccess(t){const i=this.log.fn("onUploadSuccess",{event:t}),n=t[1];n.Error?(i.a(`Upload failed because: ${n.Error}`),alert(`Upload failed because: ${n.Error}`)):this.#t.adam?(this.#t.adam.onItemUpload(n),this.#t.adam.refresh()):i.a("Upload failed because: ADAM reference doesn't exist"),this.dropzoneRef.reset()}#n(t){const i=this.#t.contentTypeNameId,n=this.#t.entityGuid,s=this.#t.fieldName,l=this.#t.inputTypeSpecs.isExternal,p=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${i}/${n}/${s}?subfolder=&usePortalRoot=false&appId=${this.formConfig.config.appId}`),M=this.dnnContext.sxc.webApi.headers(),I=new o_(l,p,M),N=this.dropzoneConfig()??I;for(const ye of Object.keys(I))I[ye]=t[ye]??N[ye];if(I.maxFiles!==I.parallelUploads){const ye=I.maxFiles>=I.parallelUploads?I.maxFiles:I.parallelUploads;I.maxFiles=ye,I.parallelUploads=ye}(null==I.acceptedFiles||""===I.acceptedFiles)&&delete I.acceptedFiles,this.dropzoneConfig.set(I)}#a(t){const i=this.dropzoneRef.dropzone();t.upload={chunked:i.defaultOptions.chunking},i.processFile(t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(h.S),e.rXU(Io.ob))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-dropzone-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(l_,7,e.c1b),e.GBs(Oo,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.dropzoneRef=s.first)}},decls:3,vars:5,consts:[["fieldComponent",""],[1,"dropzone","dropzone-container",3,"error","success","addedFile","drop","ngClass","dropzone","disabled"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",1),e.bIt("error",function(l){return e.eBV(s),e.Njj(n.onUploadError(l))})("success",function(l){return e.eBV(s),e.Njj(n.onUploadSuccess(l))})("addedFile",function(l){return e.eBV(s),e.Njj(n.onAddedFile(l))})("drop",function(l){return e.eBV(s),e.Njj(n.onDrop(l))}),e.eu8(1,null,0),e.k0s()}2&i&&e.Y8G("ngClass",e.eq3(3,c_,n.dropzoneDisabled()))("dropzone",n.dropzoneConfig())("disabled",n.dropzoneDisabled())},dependencies:[re.YU,r_,Oo],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"]})}}return a})();class Ln{constructor(r){this.zone=r,this.eventListeners=[]}attach(r){this.zone.runOutsideAngular(()=>{function t(){(function n(s){for(const o of s)clearTimeout(o);s.splice(0,s.length)})(window.windowBodyTimeouts),document.body.classList.add(window.draggingClass)}function i(){document.body.classList.remove(window.draggingClass)}r.addEventListener("dragover",t,{passive:!0}),r.addEventListener("drop",i,{passive:!0}),this.eventListeners.push({element:r,type:"dragover",listener:t},{element:r,type:"drop",listener:i})})}detach(){this.zone.runOutsideAngular(()=>{this.eventListeners.forEach(({element:r,type:t,listener:i})=>r.removeEventListener(t,i))})}}const zi=[(0,me.hZ)("itemShrinkAnimation",[(0,me.wk)("open",(0,me.iF)({height:"30vh"})),(0,me.wk)("closed",(0,me.iF)({height:"0vh"})),(0,me.kY)("open => closed",[(0,me.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),(0,me.hZ)("contentExpandAnimation",[(0,me.wk)("closed",(0,me.iF)({height:"0"})),(0,me.wk)("expanded",(0,me.iF)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),(0,me.kY)("closed => expanded",[(0,me.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,me.i7)([(0,me.iF)({height:"0vh",overflow:"hidden"}),(0,me.iF)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])];let ps=(()=>{class a{constructor(t){this.elementRef=t,this.disabled=(0,e.hFB)(!1)}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{disabled:[1,"disabled"]},features:[e.OA$]})}}return a})(),hs=(()=>{class a{constructor(t){this.templateRef=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}}return a})(),ms=(()=>{class a{constructor(t){this.templateRef=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}}return a})(),Ro=(()=>{class a extends He.${constructor(){super(),this.disabled=(0,e.hFB)(!1),this.open$=new Rt.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,di.z)([this.open$.pipe((0,yi.F)()),this.actionButtons.changes.pipe((0,Qe.Z)(void 0))]).subscribe(([t])=>{this.actionButtons.forEach((i,n,s)=>{const l=Math.min(.3+.05*(s.length-1),.6),p=(l-.3)/(s.length-1),M=(t?.3+p*n:l-p*n)+"s";i.nativeElement.style.transitionDuration!==M&&(i.nativeElement.style.transitionDuration=M)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(t,i){"touch"!==t.pointerType&&this.open$.next(i)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["extended-fab-speed-dial"]],contentQueries:function(i,n,s){if(1&i&&(e.wni(s,ms,5),e.wni(s,hs,5),e.wni(s,ps,4,e.aKT)),2&i){let o;e.mGM(o=e.lsd())&&(n.trigger=o.first),e.mGM(o=e.lsd())&&(n.actions=o.first),e.mGM(o=e.lsd())&&(n.actionButtons=o)}},inputs:{disabled:[1,"disabled"]},features:[e.Vt3],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.bIt("pointerenter",function(o){return n.setOpen(o,!0)})("pointerleave",function(o){return n.setOpen(o,!1)}),e.j41(1,"div",1),e.eu8(2,2),e.k0s(),e.j41(3,"div",3),e.eu8(4,2),e.k0s()()),2&i&&(e.BMQ("disabled",n.disabled()||null),e.R7$(2),e.Y8G("ngTemplateOutlet",null==n.trigger?null:n.trigger.templateRef),e.R7$(2),e.Y8G("ngTemplateOutlet",null==n.actions?null:n.actions.templateRef))},dependencies:[re.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-trigger{position:absolute;bottom:0;right:0}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:#002753;cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:max-width .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-trigger].appear-disabled,.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action].appear-disabled{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>span{max-width:256px}\n'],encapsulation:2})}}return a})(),Lo=(()=>{class a{constructor(t){this.elementRef=t,this.disabled=(0,e.hFB)(!1)}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:[1,"disabled"]},features:[e.OA$]})}}return a})();const p_=["backdrop"],h_=["dialog"],m_=["*"],f_=a=>({"c-ew__dialog-header mat-elevation-z2":a}),g_=a=>({bottomPixels:a}),__=(a,r)=>({value:a,params:r}),Vo=a=>({"appear-disabled":a});function v_(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Form.Buttons.Return.Tip")))}function b_(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()(),e.j41(6,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!0))}),e.j41(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-icon"),e.EFF(11,"done_all"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(8,Vo,t.saveDisabled())),e.R7$(2),e.JRh(e.bMT(3,4,"Form.Buttons.Save")),e.R7$(4),e.Y8G("ngClass",e.eq3(10,Vo,t.saveDisabled())),e.R7$(2),e.JRh(e.bMT(9,6,"Form.Buttons.SaveAndClose"))}}let Vn=(()=>{class a{#e;#t;#i;constructor(t){this.zone=t,this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.#e=(0,e.WQX)(Ct),this.formsStateService=(0,e.WQX)(pt),this.featuresService=(0,e.WQX)(C.D),this.applyEmptyClass=(0,e.hFB)(),this.#i=(0,D.d)($t),this.saveDisabled=(0,te.bo)("saveDisabled",()=>this.#i.isSaving()||this.formsStateService.saveButtonDisabled()),this.open=this.fieldState.isOpen,this.#n=this.featuresService.isEnabled[dt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,e.EWP)(()=>this.#n()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.#t=new Ln(this.zone),this.#t.attach(this.backdropRef.nativeElement),this.#t.attach(this.dialogRef.nativeElement)}ngOnDestroy(){this.#t.detach()}#n;calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}closeDialog(){this.#e.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.triggerSave(t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-dialog-popup"]],viewQuery:function(i,n){if(1&i&&(e.GBs(p_,5),e.GBs(h_,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.backdropRef=s.first),e.mGM(s=e.lsd())&&(n.dialogRef=s.first)}},inputs:{applyEmptyClass:[1,"applyEmptyClass"]},ngContentSelectors:m_,decls:19,vars:14,consts:[["backdrop",""],["dialog",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],[1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["appearance","raised",1,"mat-elevation-z0"],["mat-icon-button","","tippyTranslate","Form.Buttons.Return.Tip",1,"back-arrow",3,"click"],[1,"title","mat-headline-4"],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","ngClass"]],template:function(i,n){if(1&i){const s=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3,0),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.k0s(),e.j41(3,"div",4,1)(5,"div",2)(6,"mat-card",5)(7,"button",6),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.j41(8,"mat-icon"),e.EFF(9,"arrow_back"),e.k0s()(),e.j41(10,"span",7),e.EFF(11),e.k0s()()(),e.j41(12,"div"),e.nrm(13,"div"),e.j41(14,"div"),e.SdG(15),e.j41(16,"extended-fab-speed-dial",8),e.DNE(17,v_,6,3,"ng-template",9)(18,b_,12,12,"ng-template",10),e.k0s()()()()()}2&i&&(e.Y8G("ngClass",n.open()?"c-ew__container":"u-display-none"),e.R7$(5),e.Y8G("ngClass",e.eq3(7,f_,n.open())),e.R7$(6),e.JRh(n.basics().label),e.R7$(2),e.Y8G("@itemShrinkAnimation",n.open()?"closed":"open"),e.R7$(),e.HbH("c-ew__dialog-content u-border-radius-bottom u-add-scrollbar u-hide-scrollbar"+(n.applyEmptyClass()?" c-ew__dialog-content--empty":"")),e.Y8G("@contentExpandAnimation",e.l_i(11,__,n.open()?"expanded":"closed",e.eq3(9,g_,n.calculateBottomPixels()))))},dependencies:[re.YU,Re.Hu,Re.RN,ce.pZ,ce.r6,Ye.Hl,Ye.iY,Ce.m_,Ce.An,x.h,x.D9,Ro,Lo,ps,ms,hs,ot.e,re.MD],styles:[".c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;inset:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.mat-elevation-z0[_ngcontent-%COMP%]{display:flex;flex-direction:row}.c-ew__backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%}.c-ew__dialog[_ngcontent-%COMP%]{z-index:3;display:flex;flex-direction:column;max-width:800px;width:100vw;margin-top:24px;min-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));max-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));padding:0}@media (max-width: 600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height));max-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height))}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-header[_ngcontent-%COMP%]{z-index:4;border-radius:8px 8px 0 0}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{padding:16px;align-items:center;border-radius:8px 8px 0 0;height:52px;z-index:1}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{scale:.6666666667}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-top:1px;line-height:20px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec;border-radius:0 0 8px 8px}.c-ew__dialog-content[_ngcontent-%COMP%]   .eav-layout-grid[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]   .eav-layout-grid[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:calc(100% - 32px)}"],data:{animation:[zi]}})}}return a})();const y_=["fieldComponent"],C_=["previewContainer"],w_=(a,r,t,i,n,s)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"my-label-disabled":n,"c-ew__preview-label--focused":s}),k_=(a,r,t)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":r,"c-ew__preview--focused":t}),M_=a=>({"c-ew__preview-content--disabled":a}),D_=(a,r)=>({"min-height":a,"max-height":r});let T_=(()=>{class a{constructor(t,i,n,s){this.changeDetectorRef=t,this.viewContainerRef=i,this.zone=n,this.formsStateService=s,this.log=(0,w.Tq)({ExpandableWrapperComponent:a}),this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.settings=this.fieldState.settings,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.focused=(0,e.vPA)(!1),this.adamDisabled=this.config.adam.isDisabled,this.previewHeight=(0,e.EWP)(()=>{const o=this.settings(),l={minHeight:"36px",maxHeight:"50vh"};if(this.config.inputTypeSpecs.inputType!==be.u.StringWysiwyg&&"inline"!==o.Dialog)return l;let p=parseInt(o.InlineInitialHeight,10);p<1&&(p=1);const M=function u_(a){return a*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}(50);let I=40+36*p;return I>M&&(I=M),l.minHeight=`${I}px`,l}),this.connectorCreator=(0,D.d)(vo)}ngOnInit(){this.config.focused$.subscribe(this.focused.set)}ngAfterViewInit(){const t=this.log.fn("ngAfterViewInit"),i=this.config.inputTypeSpecs.componentTagName;t.a("ExpandableWrapper created for:",{componentTagName:i}),this.connectorCreator.init(i,this.previewContainerRef,this.viewContainerRef,this.changeDetectorRef),this.dropzoneDraggingHelper=new Ln(this.zone)}ngOnDestroy(){this.log.fn("ngOnDestroy",null,"destroying ExpandableWrapper"),this.dropzoneDraggingHelper.detach()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(pt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(y_,7,e.c1b),e.GBs(C_,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.previewContainerRef=s.first)}},decls:11,vars:21,consts:[["fieldComponent",""],["previewContainer",""],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass","ngStyle"]],template:function(i,n){1&i&&(e.j41(0,"app-dialog-popup"),e.eu8(1,null,0),e.k0s(),e.j41(3,"div",2)(4,"mat-label",3),e.EFF(5),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.nrm(8,"div",6,1),e.k0s()(),e.nrm(10,"app-field-helper-text"),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngClass",e.l4e(5,w_,n.uiValue(),!n.uiValue(),n.ui().invalid&&(n.ui().touched||n.ui().dirty)&&!n.ui().disabled,!n.ui().touchedAndInvalid&&!n.ui().disabled,n.ui().disabled,n.focused())),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("ngClass",e.sMw(12,k_,n.ui().invalid&&(n.ui().touched||n.ui().dirty),n.ui().disabled,n.focused())),e.R7$(2),e.Y8G("ngClass",e.eq3(16,M_,n.ui().disabled))("ngStyle",e.l_i(18,D_,n.previewHeight().minHeight,n.previewHeight().maxHeight)))},dependencies:[kt,Vn,re.MD,re.YU,re.B3],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #002753!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#002753!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}"],data:{animation:[zi]}})}}return a})();const x_=["fieldComponent"],S_=a=>({mark:a});function I_(a,r){if(1&a&&(e.EFF(0),e.nrm(1,"app-feature-icon",3)),2&a){const t=r.$implicit;e.SpI(" ",t," "),e.R7$(),e.Y8G("featureNameId",t)}}function E_(a,r){if(1&a&&(e.j41(0,"div",2),e.EFF(1," This uses features which are not licensed: "),e.Z7z(2,I_,2,2,null,null,e.fX1),e.k0s()),2&a){const t=e.XpG();e.R7$(2),e.Dyx(t.requiredFeatures())}}let A_=(()=>{class a{#e;#t;constructor(){this.#e=(0,e.WQX)(je.W),this.#t=(0,e.WQX)(C.D),this.requiredFeatures=(0,te.bo)("requiredFeatures",()=>{const t=this.#e.requiredFeatures();return 0===t.length?t:t.filter(i=>!this.#t.allowUse[i]())}),this.basics=this.#e.basics}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-feat-warnings-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(x_,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},decls:4,vars:4,consts:[["fieldComponent",""],[3,"ngClass"],[1,"feature-warning"],[3,"featureNameId"]],template:function(i,n){1&i&&(e.j41(0,"div",1),e.eu8(1,null,0),e.DNE(3,E_,4,0,"div",2),e.k0s()),2&i&&(e.Y8G("ngClass",e.eq3(2,S_,n.requiredFeatures().length)),e.R7$(3),e.vxM(-1))},dependencies:[re.YU,so.Z],styles:[".feature-warning[_ngcontent-%COMP%]{display:none}.mark[_ngcontent-%COMP%]{border-right:2px solid #00A6ED;--s: 2px;mask:conic-gradient(at var(--s) var(--s),rgba(0,0,0,0) 75%,#000 0) 0 0/calc(100% - var(--s)) calc(100% - var(--s)),linear-gradient(#000 0 0) content-box}.mark[_ngcontent-%COMP%]   .feature-warning[_ngcontent-%COMP%]{display:block;background-color:#f0ad4e;padding:4px}"]})}}return a})();class Yn extends Ve.S{constructor(){super({EmptyDefaultLogic:Yn}),this.name=be.u.EmptyDefault}update({settings:r}){const t={...r};return t.Visible??=!0,t.Collapsed??=!1,t.Notes??="",t}}Ve.S.add(Yn);const F_=["fieldComponent"],O_=a=>({"force-hide":a});function P_(a,r){1&a&&(e.j41(0,"div",9),e.nrm(1,"div",11),e.nI1(2,"safeHtml"),e.k0s()),2&a&&(e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,r),e.npT))}let R_=(()=>{class a{#e;#t;constructor(){this.log=(0,w.Tq)({CollapsibleWrapperComponent:a}),this.#e=(0,e.WQX)(je.W),this.config=this.#e.config,this.group=this.#e.group,this.basics=this.#e.basics,this.collapsed=this.#e.settingExt("Collapsed"),this.#t=(0,e.WQX)(Xt),Yn.importMe()}toggleCollapse(){const t=this.collapsed();this.log.a("toggleCollapse",{before:t}),this.#t.updateSetting(this.#e.name,{Collapsed:!t},"CollapsibleWrapperComponent")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-collapsible-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(F_,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},decls:14,vars:8,consts:[["fieldComponent",""],["appearance","raised",1,"eav-card-group-child","shadow-bottom-z-1",3,"ngClass"],[1,"eav-card-header-group-child",3,"click"],[1,"my-title-bar","eav-card-title-group","mat-body-2"],[1,"title-arrow"],[1,"title"],[1,"eav-card-content-group-child"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"mat-card",1)(1,"div",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.toggleCollapse())}),e.j41(2,"div",3)(3,"mat-icon",4),e.EFF(4),e.k0s(),e.j41(5,"span",5),e.EFF(6),e.k0s()()(),e.j41(7,"mat-card-content",6)(8,"div",7)(9,"div",8),e.DNE(10,P_,3,3,"div",9),e.j41(11,"div",10),e.eu8(12,null,0),e.k0s()()()()()}if(2&i){let s;e.Y8G("ngClass",e.eq3(6,O_,!1===n.basics().visible)),e.R7$(4),e.SpI("",n.collapsed()?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.R7$(2),e.SpI(" ",n.basics().label||n.config.fieldName," "),e.R7$(),e.xc7("display",n.collapsed()?"none":"block"),e.R7$(3),e.vxM((s=n.basics().notes)?10:-1,s)}},dependencies:[Re.Hu,Re.RN,Re.m2,re.YU,Ce.m_,Ce.An,la,mi.$],styles:[".eav-card-content-group-child[_ngcontent-%COMP%]{padding:0}.eav-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-mdc-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.my-title-bar[_ngcontent-%COMP%]{display:flex}"]})}}return a})();const L_=["fieldComponent"];let V_=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(je.W),this.basics=this.fieldState.basics}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hidden-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(L_,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},decls:3,vars:1,consts:[["fieldComponent",""],[3,"hidden"]],template:function(i,n){1&i&&(e.j41(0,"div",1),e.eu8(1,null,0),e.k0s()),2&i&&e.Y8G("hidden",!n.basics().visible)},encapsulation:2})}}return a})();var Yo=c(3609);const Y_=["fieldComponent"],N_=(a,r)=>({"c-ew__preview--disabled":a,"c-ew__preview--last-in-group":r}),z_=(a,r)=>({"icon-before-input":a,"thumbnail-before-input--disabled":r}),B_=a=>({"background-image":a}),j_=a=>({"mat-form-field-invalid":a}),H_=a=>({"mat-error":a}),G_=a=>({"c-ew__preview-suffix-text--disabled":a}),$_=a=>({"metadata-exists":a});function U_(a,r){if(1&a&&e.nrm(0,"mat-icon",4),2&a){const t=e.XpG();e.Y8G("tippy",t.url)("svgIcon",t.icon)}}function W_(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.expandDialog())}),e.nrm(1,"mat-icon",21),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function X_(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",23),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function Q_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",9)(1,"div",15),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,W_,2,1,"button",16),e.j41(5,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openImageConfiguration(n.adamItem()))}),e.j41(6,"mat-icon",18),e.EFF(7,"filter_center_focus"),e.k0s()(),e.DNE(8,X_,2,1,"button",19),e.k0s()}if(2&a){let t,i,n;const s=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(10,G_,s.ui().disabled)),e.R7$(),e.SpI(" ",s.buttonAdam()?e.bMT(3,8,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),e.R7$(2),e.vxM(s.buttonAdam()?4:-1),e.R7$(),e.Y8G("disabled",!(null!=(t=s.adamItem())&&t._imageConfigurationContentType))("ngClass",e.eq3(12,$_,(null==(i=s.adamItem())?null:i._imageConfigurationId)>0)),e.R7$(),e.Y8G("tippyTranslate",s.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")("tippyDisabled",null==(n=s.adamItem())?null:n._imageConfigurationContentType),e.R7$(2),e.vxM(s.buttonPage()?8:-1)}}function K_(a,r){if(1&a&&(e.j41(0,"div",11)(1,"div",24),e.EFF(2),e.k0s(),e.j41(3,"div",25)(4,"a",26)(5,"span"),e.EFF(6),e.k0s()()()()),2&a){const t=e.XpG(),i=e.XpG();e.R7$(2),e.JRh(i.uiValue()),e.R7$(2),e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.JRh(t.floatingText)}}function J_(a,r){if(1&a&&(e.j41(0,"div",14)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"app-feature-icon-text",27),e.k0s()),2&a){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,t.adamSponsorI18nKey())),e.R7$(2),e.Y8G("featureNameId","NoSponsoredByToSic")}}function Z_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.expandDialog())}),e.DNE(3,U_,1,2,"mat-icon",4),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"input",8),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setValue(n))})("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.markAsTouched())})("keyup",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setValue(n))}),e.k0s(),e.DNE(8,Q_,9,14,"div",9),e.j41(9,"mat-label",10),e.EFF(10),e.k0s()(),e.DNE(11,K_,7,4,"div",11),e.k0s(),e.j41(12,"div",12),e.nrm(13,"app-field-helper-text",13),e.DNE(14,J_,5,4,"div",14),e.k0s()()()()}if(2&a){const t=r,i=e.XpG();e.R7$(),e.Y8G("ngClass",e.l_i(17,N_,i.ui().disabled,i.config.isLastInGroup)),e.R7$(),e.Y8G("tippyDisabled",i.ui().disabled)("ngClass",e.l_i(20,z_,i.uiValue()&&!t.isImage,i.ui().disabled))("ngStyle",e.eq3(23,B_,i.uiValue()&&t.isImage?t.thumbnailUrl:"")),e.R7$(),e.vxM(i.uiValue()&&!t.isImage?3:-1),e.R7$(3),e.Y8G("ngClass",e.eq3(25,j_,i.ui().touchedAndInvalid)),e.R7$(),e.Y8G("placeholder",i.basics().placeholder)("disabled",i.ui().disabled)("value",i.uiValue())("config",i.config)("elementType","input"),e.R7$(),e.vxM(i.buttonAdam()||i.buttonPage()?8:-1),e.R7$(),e.Y8G("ngClass",e.eq3(27,H_,i.ui().touchedAndInvalid)),e.R7$(),e.SpI(" ",i.basics().labelWithRequired," "),e.R7$(),e.vxM(t.floatingText?11:-1),e.R7$(2),e.Y8G("hyperlinkDefaultWrapperFix",!0),e.R7$(),e.vxM(i.buttonAdam()?14:-1)}}let q_=(()=>{class a extends bo{constructor(t,i,n,s,o,l,p,M,I){super(t,i,n,s,o,M),this.zone=p,this.formsStateService=M,this.featuresService=I,this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.buttonAdam=(0,e.EWP)(()=>this.fieldState.settings().Buttons.includes("adam"),ei.bool),this.buttonPage=(0,e.EWP)(()=>this.fieldState.settings().Buttons.includes("page"),ei.bool),this.enableImageConfiguration=this.fieldState.settingExt("EnableImageConfiguration"),this.#e=this.featuresService.isEnabled[dt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,e.EWP)(()=>this.#e()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor"),this.editRoutingService=l}#e;ngAfterViewInit(){this.dropzoneDraggingHelper=new Ln(this.zone)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}markAsTouched(){this.fieldState.ui().markTouched()}setValue(t){const i=t.target.value;this.fieldState.ui().setIfChanged(i)}expandDialog(){this.fieldState.ui().disabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(h.S),e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(ke),e.rXU(Ct),e.rXU(e.SKi),e.rXU(pt),e.rXU(C.D))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(Y_,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},features:[e.Vt3],decls:4,vars:1,consts:[["fieldComponent",""],[1,"c-hyperlink-default-field-preview"],[1,"c-ew__preview","c-ew__preview--hyperlink",3,"ngClass"],["tippyTranslate","Fields.Hyperlink.Default.Fullscreen",1,"thumbnail-before-input",3,"click","tippyDisabled","ngClass","ngStyle"],["tippyPlacement","right",3,"tippy","svgIcon"],[1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"ngClass"],["matInput","","tippyTranslate","Fields.Hyperlink.Default.Tooltip","tippyPlacement","top","appPasteClipboardImage","",1,"eav-translate-on-dblclick",3,"change","blur","keyup","placeholder","disabled","value","config","elementType"],["matTextSuffix","",1,"c-ew__preview-suffix"],[3,"ngClass"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"hyperlinkDefaultWrapperFix"],[1,"c-ew__preview-field-hint","c__helper-wrapper--right"],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.Fullscreen","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled"],["mat-icon-button","","appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.ImageSettings",1,"c-ew__preview-suffix-icon",3,"click","disabled","ngClass"],[3,"tippyTranslate","tippyDisabled"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.PageTip","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.Fullscreen","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled"],["svgIcon","apple-outlined"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.PageTip","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled"],["svgIcon","sitemap"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","tippy"],[3,"featureNameId"]],template:function(i,n){if(1&i&&(e.j41(0,"app-dialog-popup"),e.eu8(1,null,0),e.k0s(),e.DNE(3,Z_,15,29,"div",1)),2&i){let s;e.R7$(3),e.vxM((s=n.preview())?3:-1,s)}},dependencies:[re.YU,Ce.m_,Ce.An,re.B3,x.h,x.D9,ot.e,Vn,kt,Yo.U,is,re.MD,Oe.RG,Oe.rl,Oe.nJ,Oe.yw,ht.fS,ht.fg,Ye.Hl,Ye.iY],styles:[".metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview--hyperlink[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:#1d273d14;width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-field--short[_ngcontent-%COMP%]{flex:1 1 auto;width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d70;font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-suffix[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#06599a;-webkit-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:#1d273d3d}@media (min-width: 601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}.hyperlink-floating[_ngcontent-%COMP%], .c-ew__preview-field-hint.c__helper-wrapper--right[_ngcontent-%COMP%]{display:flex}}@media (max-width: 600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}.hyperlink-floating[_ngcontent-%COMP%], .c-ew__preview-field-hint.c__helper-wrapper--right[_ngcontent-%COMP%]{display:none}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[zi]}})}}return a})();const ev=["fieldComponent"],tv=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"my-label-disabled":n}),iv=()=>({enterDuration:360}),nv=(a,r)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":r});function av(a,r){if(1&a&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"mat-icon",12),e.j41(3,"div",13),e.EFF(4),e.k0s()()()),2&a){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.Name)}}function sv(a,r){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t._icon)}}function rv(a,r){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t._icon)}}function ov(a,r){if(1&a&&(e.j41(0,"div",11),e.DNE(1,sv,2,1,"mat-icon")(2,rv,2,1,"mat-icon"),e.j41(3,"div",13),e.EFF(4),e.k0s()()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.vxM(t._isMaterialIcon?1:-1),e.R7$(),e.vxM(t._isMaterialIcon?-1:2),e.R7$(2),e.JRh(t.Name)}}function lv(a,r){if(1&a&&(e.j41(0,"div",14),e.nrm(1,"img",15),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.FCK("alt","",t.Id,":",t.Name,""),e.Y8G("src",t.ThumbnailUrl,e.B4B)}}function cv(a,r){if(1&a&&(e.j41(0,"div"),e.DNE(1,ov,5,3,"div",11)(2,lv,2,4,"div",14),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.vxM("image"!==t.Type?1:-1),e.R7$(),e.vxM("image"===t.Type?2:-1)}}function dv(a,r){if(1&a&&e.DNE(0,av,5,1,"div")(1,cv,3,2,"div"),2&a){const t=r.$implicit;e.vxM(t.IsFolder?0:-1),e.R7$(),e.vxM(t.IsFolder?-1:1)}}let uv=(()=>{class a{#e;constructor(t,i,n,s){this.zone=t,this.editRoutingService=i,this.formsStateService=n,this.featuresService=s,this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.items=(0,e.EWP)(()=>this.config.adam.items().slice(0,9)),this.itemsNumber=(0,e.EWP)(()=>this.config.adam.items().length,ei.number),this.#e=this.featuresService.isEnabled[dt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,e.EWP)(()=>this.#e()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.dropzoneDraggingHelper=new Ln(this.zone)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}trackByFn(t,i){return i.Id}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi),e.rXU(Ct),e.rXU(pt),e.rXU(C.D))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(ev,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},decls:19,vars:20,consts:[["fieldComponent",""],[3,"applyEmptyClass"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],[1,"c-ew__preview-content"],[1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],[3,"featureNameId"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],[1,"adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"app-dialog-popup",1),e.eu8(1,null,0),e.k0s(),e.j41(3,"div",2)(4,"mat-label",3),e.EFF(5),e.k0s(),e.j41(6,"div",4),e.bIt("click",function(){return e.eBV(s),e.Njj(n.expandDialog())}),e.j41(7,"div",5)(8,"div",6),e.Z7z(9,dv,2,2,null,null,n.trackByFn,!0),e.k0s()()(),e.j41(11,"div",7)(12,"div",8),e.nrm(13,"app-field-helper-text"),e.k0s(),e.j41(14,"div",9)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"app-feature-icon-text",10),e.k0s()()()}2&i&&(e.Y8G("applyEmptyClass",!0),e.R7$(4),e.Y8G("ngClass",e.s1E(10,tv,n.itemsNumber()>0,0===n.itemsNumber(),n.ui().invalid&&!n.config.initialDisabled,!n.ui().invalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("matRippleAnimation",e.lJ4(16,iv))("ngClass",e.l_i(17,nv,n.ui().invalid,n.config.initialDisabled)),e.R7$(),e.Y8G("ngClass",n.uiValue()?"c-ew__preview-container":"c-ew__preview-container--empty"),e.R7$(2),e.Dyx(n.items()),e.R7$(7),e.SpI("",e.bMT(17,8,n.adamSponsorI18nKey())," "),e.R7$(2),e.Y8G("featureNameId","NoSponsoredByToSic"))},dependencies:[Vn,Ce.m_,Ce.An,ce.pZ,ce.r6,kt,Yo.U,x.h,x.D9,re.MD,re.YU],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;gap:2px;overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[zi]}})}}return a})();const pv=["fieldComponent"],hv=["previewComponent"];let mv=(()=>{class a{constructor(t){this.formsStateService=t,this.log=(0,w.Tq)({PickerExpandableWrapperComponent:a}),this.fieldState=(0,e.WQX)(je.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(pt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(pv,7,e.c1b),e.GBs(hv,7,e.c1b)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.previewComponent=s.first)}},decls:8,vars:0,consts:[["fieldComponent",""],["previewComponent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"]],template:function(i,n){1&i&&(e.j41(0,"app-dialog-popup")(1,"div",2)(2,"div",3)(3,"mat-card",4),e.eu8(4,null,0),e.k0s()()()(),e.eu8(6,null,1))},dependencies:[Re.Hu,Re.RN,Vn,re.MD],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}  .eav-layout-grid{padding:16px}  .eav-layout-grid .mat-mdc-card{height:calc(100% - 32px)}"],data:{animation:[zi]}})}}return a})();const fv={[We_AdamWrapper]:i_,[We_CollapsibleWrapper]:R_,[We_DropzoneWrapper]:d_,[We_PickerExpandableWrapper]:mv,[We_ExpandableWrapper]:T_,[We_HiddenWrapper]:V_,[We_FeatureWarningWrapper]:A_,[We_HyperlinkDefaultExpandableWrapper]:q_,[We_HyperlinkLibraryExpandableWrapper]:uv,[We_LocalizationWrapper]:Zc,[be.u.BooleanDefault]:ca,[be.u.BooleanTristate]:da,[be.u.CustomDefault]:an,[be.u.CustomJsonEditor]:sn,[be.u.DateTimeDefault]:Aa,[be.u.EmptyDefault]:bp,[be.u.EmptyMessage]:Fa,[be.u.EntityContentBlocks]:Mf,[be.u.EntityDefault]:mo,[be.u.EntityQuery]:Ef,[be.u.ExternalWebComponent]:Nf,[be.u.HyperlinkDefault]:ns,[be.u.HyperlinkLibrary]:as,[be.u.NumberDefault]:ss,[be.u.NumberDropdown]:rs,[be.u.StringDefault]:os,[be.u.StringDropdown]:_g,[be.u.StringDropdownQuery]:mg,[be.u.StringFontIconPicker]:ls,[be.u.StringJson]:sn,[be.u.StringTemplatePicker]:cs,[be.u.StringUrlPath]:ds,[be.u.EntityPicker]:xf,[be.u.StringPicker]:wg,[be.u.NumberPicker]:rg},gv={all:!1,setConfig:!0,refresh:!0};class fs{constructor(){this.log=(0,w.Tq)({AdamConnector:fs},gv),this.#e=(0,e.vPA)(null),this.#t=(0,te.bo)("items",()=>this.#e()?.items()??[]),this.#i=0,this.isDisabled=(0,e.EWP)(()=>this.#e()?.adamConfig()?.disabled??!0)}get browser(){const r=this.#e();if(r)return r;throw new Error("Browser not set")}setBrowser(r){this.#e.set(r)}#e;#t;get items(){return this.#t}toggle(r,t){this.log.fn("toggle",{usePortalRoot:r,showImagesOnly:t}),this.browser.toggle(r,t)}#i;setConfig(r){const t=this.log.fnIf("setConfig",{config:r,count:this.#i});if(this.#i++,this.#i>10)throw new Error("Infinite loop");this.browser.setConfig(r),t.end()}getConfig(){return this.browser.adamConfig()}onItemClick(){}onItemUpload(){}refresh(){this.log.fnIf("refresh"),this.browser.fetchItems()}}class _v{static fromSettings(r){const t=r?.Name??"loading...",i=r?.Notes??"",n=r?.valueRequired??!0,l=(r?.Visible??!0)&&!r?.VisibleDisabled,p=r?.Collapsed??!1;return{label:t,notes:i,placeholder:r?.Placeholder??"loading...",required:n,labelWithRequired:t+(n?" *":""),visible:l,collapsed:p}}}const vv={getInjectors:!0,fields:[...Ft.z]};let yv=(()=>{class a{#e;#t;#i;#n;#a;#s;constructor(){this.log=(0,w.Tq)({FieldStateInjectorFactory:a},vv),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(e.uvJ),this.#i=(0,e.WQX)(Xt),this.#n=(0,e.WQX)($t),this.#a=(0,e.WQX)(C.D),this.#s=(0,e.WQX)(Ct)}getInjectors(t,i){const n=this.log.fnIf("getInjectors",{fieldConfig:t,inputType:i}),s=t.fieldName,o=this.#i.settings[s],l=(0,te.bo)("basics",()=>_v.fromSettings(o())),p=this.#n.formGroup,M=p.controls[s],I=this.#r(s,M,i,o),N=(()=>{if(!M)return(0,te.KX)("value-change-empty",null);const ye=M.valueChanges.pipe((0,Ut.A)(Ee=>Ee));return(0,Ne.ot)(ye,{injector:this.#e,initialValue:M.value})})(),G=new je.W(s,t,p,o,l,I,N,this.#i.translationState[s],this.#s.isExpandedSignal(t.index,t.entityGuid,this.#e),this.#i.pickerData[s]??null,this.#a,this.#e),ae=this.#o(G);return n.r(ae)}#r(t,i,n,s){const o=this.log.fnCond(this.log.specs.fields.includes(t),"buildControlChangeSignal",{fieldName:t,inputType:n});if(i){const l=(0,Ne.br)(s,{injector:this.#e});return(0,e.N4e)(this.#e,()=>{const p=i.valueChanges.pipe((0,Ut.A)(I=>({dirty:i.dirty,invalid:i.invalid,touched:i.touched,disabled:i.disabled})),(0,d.M)(I=>!1)),M=(0,di.z)([p,l.pipe((0,Ut.A)(I=>I.uiDisabled))]).pipe((0,d.M)(([I,N])=>o.a("controlStateChange on control",{control:i,disabled:N})),(0,Ut.A)(([I,N])=>new Vi.a(i,t,N)),(0,d.M)(I=>o.a("controlStatusChangeSignal",{result:I})));return(0,Ne.ot)(M,{initialValue:new Vi.a(i,t,s().uiDisabled)})})}return T.Q.isEmpty(n.inputType)?null:(console.error(`Error: can't create signal for control of ${t} (not found). Input type is not empty, it's ${n.inputType}.`),(0,te.KX)("control-status-empty",Vi.a.emptyControl()))}#o(t){const i=[{provide:je.W,useValue:t}];return{injector:e.zZn.create({providers:i,parent:this.#e,name:"FieldInjector"}),environmentInjector:(0,e.Ol2)(i,this.#t,"FieldEnvInjector")}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Cv={all:!1,createWrapper:!0};let wv=(()=>{class a{#e;#t;#i;#n;constructor(t,i){this.formConfigService=t,this.el=i,this.renderer=(0,e.WQX)(e.sFG),this.#e=!1,this.log=(0,w.Tq)({EditControlsBuilderDirective:a},Cv),this.#t=(0,D.d)(yv),this.#i=(0,e.WQX)(e.c1b),this.#n=(0,e.WQX)(Xt),this.#a=[],this.onInitReady=(0,e.vPA)(!1),(0,e.QZP)(()=>{const n=this.onInitReady(),s=this.formConfigService.controlsCreated();this.log.a("createControls - effect",{onInitReady:n,controlsCreated:s}),n&&s&&(this.log.a("createControls RUN"),(0,e.O8t)(()=>this.createControls()))})}#a;ngOnInit(){this.onInitReady.set(!0),this.index=parseInt(this.el.nativeElement.getAttribute("data-index"))}createControls(){this.#i.clear();let t=this.#i;const i=this.#n.allProps();for(const[n,s]of Object.entries(i)){const o={...s.constants,fieldName:n,focused$:new Rt.t(!1),adam:new fs};this.#a.push(o);const l=s.constants.inputTypeSpecs.inputType;T.Q.isGroupStart(l)?t=this.#s(this.#i,s,o):T.Q.isGroupEnd(l)?t=this.#i:this.#r(t,s,o)}}ngOnDestroy(){for(const t of this.#a)t.focused$.complete()}#s(t,i,n){const s=this.#t.getInjectors(n,i.constants.inputTypeSpecs);let o=new gs(null,t,s);return i.buildWrappers&&(o=this.#d(o,i.buildWrappers)),o.contentsRef}#r(t,i,n){const s=i.constants.inputTypeSpecs;this.log.a("createComponent",{inputSpecs:s});const o=this.#t.getInjectors(n,s);let l=new gs(null,t,o);i.buildWrappers&&(l=this.#d(l,i.buildWrappers));const M=this.#u(s.isExternal?be.u.ExternalWebComponent:s.inputType),I=Reflect.getMetadata(Zs,M);I?.wrappers&&(l=this.#d(l,I.wrappers));const N=this.#l(M,l.contentsRef,l.injectors),G=l.wrapperRef?.instance?.previewComponent;if(null!=G){const ae=this.#u(s.inputType);this.log.a("createComponent - add preview",{previewType:ae}),this.#l(ae,G,l.injectors)}!1===this.#e&&0===this.index&&!0!==i.settings.noAutoFocus&&(this.#o(N),this.#e=!0)}#o(t){setTimeout(()=>{const i=t.location.nativeElement.querySelector("input");i&&(this.renderer.setAttribute(i,"autofocus","true"),i?.focus())},250)}#l(t,i,n){return i.createComponent(t,n)}#d(t,i){let n=t;for(const s of i)n=this.#c(n,s);return n}#c(t,i){this.log.fnIf("createWrapper",{wrapperName:i});const s=this.#u(i),o=t.contentsRef.createComponent(s,t.injectors);return new gs(o,o.instance.fieldComponent,null)}#u(t){return fv[t]??(console.error(`Missing component class for: ${t}`),an)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU($t),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appEditControlsBuilder",""]]})}}return a})();class gs{constructor(r,t,i){this.wrapperRef=r,this.contentsRef=t,this.injectors=i}}const kv={all:!0,watchToRefreshOnVersionsClosed:!0};let Mv=(()=>{class a{constructor(){this.log=(0,w.Tq)({EditForceReloadService:a},kv),this.#e=(0,e.WQX)(Te.CP),this.#t=(0,D.d)(Hi.c)}#e;#t;ngOnDestroy(){this.#i?.unsubscribe()}#i;watchToRefreshOnVersionsClosed(){const t=this.log.fnIf("watchToRefreshOnVersionsClosed");this.#i=this.#t.childDialogClosed$().pipe((0,g.T)(()=>this.#t.state()),(0,vt.p)(i=>!0===i?.refreshEdit)).subscribe(i=>{const n=this.log.fnIf("watchToRefreshOnVersionsClosed",null,"refreshEdit");t.a("version closed, refreshing edit dialog");const s=this.#t.snapshot.params,o=V.b.newUrlIfCurrentContainsOldUrl(this.#t.route,`edit/${s.items}`,`edit/refresh/${s.items}`);if(null==o)return n.end("no change");this.#e.close({navigateUrl:o}),n.end(`routed away to :${o}`)}),t.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Dv=c(5443),Tv=c(3966);function Ev(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.unlockAll())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.autoTranslateMany())}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"app-feature-icon-indicator",6),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.lockAll())}),e.EFF(8),e.nI1(9,"translate"),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"LangMenu.TranslateAll")),e.R7$(3),e.SpI(" ",e.bMT(5,6,"LangMenu.AutoTranslateAll")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(2),e.JRh(e.bMT(9,8,"LangMenu.NoTranslateAll")))}function Av(a,r){if(1&a&&(e.j41(0,"div")(1,"button",1)(2,"span",2),e.EFF(3),e.nI1(4,"translate"),e.nI1(5,"uppercase"),e.j41(6,"mat-icon",3),e.EFF(7,"translate"),e.k0s()()(),e.j41(8,"mat-menu",null,0),e.DNE(10,Ev,10,10,"ng-template",4),e.k0s()()),2&a){const t=e.sdS(9),i=e.XpG();e.R7$(),e.Y8G("disabled",i.readOnly().isReadOnly||i.slotIsEmpty())("matMenuTriggerFor",t),e.R7$(2),e.SpI(" ",e.bMT(5,5,e.bMT(4,3,"LangMenu.Translate"))," \xa0\xa0 ")}}let Fv=(()=>{class a{constructor(t,i,n,s,o,l){this.matDialog=t,this.itemService=i,this.eavService=n,this.fieldTranslateSvc=s,this.viewContainerRef=o,this.fieldSettingsSvc=l,this.entityGuid=(0,e.hFB)(),this.formsStateService=(0,e.WQX)(pt),this.readOnly=this.formsStateService.readOnly,this.#e=(0,e.EWP)(()=>this.fieldTranslateSvc.findAutoTranslatableFields()),this.slotIsEmpty=(0,e.EWP)(()=>this.itemService.slotIsEmpty(this.entityGuid())(),ei.bool),this.language=this.eavService.language}#e;unlockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!0)}lockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!1)}autoTranslateMany(){const t=this.#e();if(0===t.length)return this.fieldTranslateSvc.showMessageNoTranslatableFields(!0);const i=this.fieldSettingsSvc.translationState[t[0]]();if(t.length>0){const s={config:{entityGuid:this.entityGuid(),fieldName:t[0]},translationState:{language:i.language,linkType:i.linkType},isTranslateMany:!0,translatableFields:t};this.matDialog.open(Ks,{autoFocus:!1,data:s,viewContainerRef:this.viewContainerRef,width:"400px"})}else this.matDialog.open(zs,{autoFocus:!1,data:{isAutoTranslateAll:!0},viewContainerRef:this.viewContainerRef,width:"400px"})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.bZ),e.rXU(m.b),e.rXU(h.S),e.rXU(pi),e.rXU(e.c1b),e.rXU(Xt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-entity-translate-menu"]],inputs:{entityGuid:[1,"entityGuid"]},decls:1,vars:1,consts:[["menu","matMenu"],["mat-button","",3,"disabled","matMenuTriggerFor"],[1,"my-flex-inside"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click"],[3,"featureNameId"]],template:function(i,n){1&i&&e.DNE(0,Av,11,7,"div"),2&i&&e.vxM(n.language().current!==n.language().primary?0:-1)},dependencies:[Ye.Hl,Ye.$z,at.Cn,at.kk,at.fb,at.z8,at.Cp,Ce.m_,Ce.An,Ns,re.Pc,x.h,x.D9],styles:[".eav-translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}.my-flex-main[_ngcontent-%COMP%]{display:flex;place-content:center end}.my-flex-inside[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})();const Ov=["noteTrigger"],Pv=["noteTemplate"];function Rv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",18,1),e.bIt("pointerenter",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.noteProps().note?s.toggleNote(n):null)})("pointerleave",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.noteProps().note?s.toggleNote(n):null)})("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.noteProps().note?s.toggleNote(n):s.editNote())}),e.j41(2,"mat-icon"),e.EFF(3),e.k0s()()}if(2&a){const t=e.XpG();e.ZvI("eav-note ",t.noteProps().triggerClass,""),e.Y8G("disabled",t.readOnly())("tippyTranslate",t.noteProps().tooltip)("tippyDisabled",t.readOnly())("disableRipple",t.noteProps().itemNotSaved),e.R7$(3),e.JRh(t.noteProps().iconName)}}function Lv(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",19),e.bIt("pointerdown",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.noteTouched=!0)}),e.j41(1,"div",20)(2,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.editNote(n.noteProps().note))}),e.j41(3,"mat-icon"),e.EFF(4,"edit"),e.k0s()(),e.j41(5,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteNote(n.noteProps().note))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s()(),e.j41(8,"button",21),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleNote(n))}),e.j41(9,"mat-icon"),e.EFF(10,"close"),e.k0s()()(),e.nrm(11,"div",22),e.nI1(12,"safeHtml"),e.k0s()}if(2&a){const t=e.XpG();e.ZvI("eav-note-wrapper ",t.noteProps().noteClass,""),e.R7$(11),e.Y8G("innerHtml",e.bMT(12,4,t.noteProps().noteHtml),e.npT)}}function Vv(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-slide-toggle",23),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleSlotIsEmpty())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("checked",!t.ctSettings().slotIsEmpty)("disabled",t.readOnly()||t.languages().current!==t.languages().primary)("tippyTranslate",t.ctSettings().slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue")("tippyDisabled",t.readOnly()||t.languages().current!==t.languages().primary)}}function Yv(a,r){if(1&a&&(e.j41(0,"div",9)(1,"mat-icon"),e.EFF(2,"local_offer"),e.k0s()()),2&a){const t=e.XpG();e.Y8G("tippy",t.itemForTooltip())}}function Nv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openHistory())}),e.j41(1,"mat-icon"),e.EFF(2,"history"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.readOnly())}}function zv(a,r){if(1&a&&(e.j41(0,"div",15),e.nrm(1,"div",25),e.nI1(2,"safeHtml"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,t.ctSettings().editInstructions),e.npT)}}const Bv={all:!1,fetchNote:!0,noteFormData:!0};let jv=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;#o;#l;#d;#c;constructor(t,i,n,s){this.itemSvc=t,this.editRoutingSvc=i,this.matDialog=n,this.viewContainerRef=s,this.log=(0,w.Tq)({EntityFormComponent:a},Bv),this.entityGuid=(0,e.hFB)(),this.index=(0,e.hFB)(),this.formConfig=(0,e.WQX)(h.S),this.#e=(0,e.WQX)(Xt),this.#t=(0,e.WQX)(pt),this.#i=(0,e.WQX)(x.c$),this.#n=(0,D.d)(Mv),this.collapse=!1,this.noteTouched=!1,this.#a=(0,e.WQX)(C.D),this.#s=this.#a.isEnabled[dt.T.EditUiShowNotes],this.#r=this.#a.isEnabled[dt.T.EditUiShowMetadataFor],this.languages=this.formConfig.language,this.ctSettings=(0,te.bo)("ctSettings",()=>{const o=this.#e.contentTypeSettings(),l=o.Features,p=function Iv(a){return a.split("\n").reduce((t,i)=>{if(!i)return t;const n=i.split("=");return t[n[0]]="true"===n[1],t},{})}(o.Features);return{itemTitle:o._itemTitle,slotCanBeEmpty:o._slotCanBeEmpty,slotIsEmpty:o._slotIsEmpty,editInstructions:o.EditInstructions,features:l,showNotes:p[dt.T.EditUiShowNotes]??this.#s(),showMdFor:p[dt.T.EditUiShowMetadataFor]??this.#r()}}),this.readOnly=(0,te.bo)("readOnly",()=>this.#t.readOnly().isReadOnly),this.itemForTooltip=(0,te.bo)("itemForTooltip",()=>function xv(a,r){if(a)return r.instant("Form.Buttons.Metadata.Tip")+`\nTarget: ${a.Target}\nTargetType: ${a.TargetType}`+(a.Number?`\nNumber: ${a.Number}`:"")+(a.String?`\nString: ${a.String}`:"")+(a.Guid?`\nGuid: ${a.Guid}`:"")+(a.Title?`\nTitle: ${a.Title}`:"")}(this.itemSvc.getItemFor(this.entityGuid()),this.#i)),this.#o=(0,te.KX)("retriggerNoteProps",!1),this.noteProps=(0,te.bo)("noteProps",()=>{this.#o();const o=this.entityGuid(),l=this.formConfig.language();return function Sv(a,r,t){const i={note:a,tooltip:t?"Form.Buttons.Note.ItemNotSaved":"Form.Buttons.Note.Add",triggerClass:"no-note "+(t?"item-not-saved":""),iconName:"sticky_note_2",noteClass:"",noteHtml:void 0,itemNotSaved:t};if(!a)return i;i.tooltip=void 0;const n=new V.bT(r);i.noteHtml=n.getBestValue(a.Attributes.Note);const s=n.getBestValue(a.Attributes.NoteType);return"note"===s?i.triggerClass="has-note":"warning"===s&&(i.triggerClass="has-warning",i.iconName="warning",i.noteClass="warning"),i}(this.itemSvc.getItemNote(o),l,0===this.itemSvc.get(o).Entity.Id)}),this.#l=(0,D.d)($),this.#d=(0,D.d)(Is.Tr),this.#c=(0,D.d)(Hi.c)}ngAfterViewChecked(){this.noteRef?._containerInstance?._changeDetectorRef?.detectChanges()}ngOnInit(){this.#c.doOnDialogClosed(()=>this.#u())}ngOnDestroy(){this.noteRef?.close()}toggleCollapse(){this.collapse=!this.collapse}toggleSlotIsEmpty(){const t=this.entityGuid(),i=this.itemSvc.getItemHeader(t),n={...i,IsEmpty:!i.IsEmpty},s=this.log.fn("toggleSlotIsEmpty",{oldHeader:i,newHeader:n});this.itemSvc.updater.updateItemHeader(t,n),s.end()}openHistory(){const t=this.itemSvc.get(this.entityGuid());this.#n.watchToRefreshOnVersionsClosed(),this.#c.navRelative([`versions/${t.Entity.Id}`])}toggleNote(t){const i=this.noteRef?.getState()===Te.CF.OPEN;"pointerenter"===t.type&&0==this.noteTouched?this.openNote():"pointerleave"===t.type&&0==this.noteTouched?this.noteRef?.close():"click"===t.type&&i&&(0==this.noteTouched?this.noteTouched=!0:(this.noteRef?.close(),this.noteTouched=!1))}openNote(){const t=this.noteTriggerRef.nativeElement.getBoundingClientRect();this.noteRef=this.matDialog.open(this.noteTemplateRef,{autoFocus:!1,hasBackdrop:!1,disableClose:!0,restoreFocus:!1,closeOnNavigation:!1,position:{top:`${t.bottom}px`,left:t.left-200+"px"},viewContainerRef:this.viewContainerRef,panelClass:"note-dialog"})}editNote(t){const i=this.entityGuid(),n=this.log.fn("editNote",{note:t});if(0===this.itemSvc.get(i).Entity.Id)return void n.end("Item not saved yet, ID = 0");const o={items:[null==t?Gt.c.newMetadata(i,ti.YX.contentTypes.notes,ti.YX.metadata.entity,!0):Gt.c.editId(t.Id)]};this.editRoutingSvc.open(null,null,o)}deleteNote(t){const i=this.formConfig.language(),n=new Dv.b(i).getBestValue(t.Attributes.Title);confirm(this.#i.instant("Data.Delete.Question",{title:n,id:t.Id}))&&this.#d.delete(this.formConfig.config.appId,ti.YX.contentTypes.notes,t.Id,!1).subscribe(()=>{this.noteRef?.close(),this.#u()})}#u(){const t=this.entityGuid(),i=this.itemSvc.get(t),n=this.log.fnIf("fetchNote",{entityGuid:t,item:i,id:i.Entity.Id});if(0===i.Entity.Id)return n.end("no change");const s=[Gt.c.editId(i.Entity.Id)];this.#l.fetchFormData(JSON.stringify(s)).subscribe(o=>{const l=this.log.fn("noteFormData",{formData:o});if(!this.itemSvc.get(t))return l.end(`Item ${t} not found in service, was probably flushed for reload`);const p=o.Items.map(M=>Tv.U.convert(M));this.itemSvc.updater.updateItemMetadata(t,p[0].Entity.Metadata),this.#o.set(!0),l.end("updated note")}),n.end("started note-loading")}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(m.b),e.rXU(Ct),e.rXU(Te.bZ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entity-form"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Ov,5,e.aKT),e.GBs(Pv,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.noteTriggerRef=s.first),e.mGM(s=e.lsd())&&(n.noteTemplateRef=s.first)}},inputs:{entityGuid:[1,"entityGuid"],index:[1,"index"]},decls:21,vars:13,consts:[["noteTemplate",""],["noteTrigger",""],["appearance","raised",1,"eav-card-group-parent","shadow-bottom-z-1"],[1,"my-title-bar-outer","eav-card-header-group-parent"],[1,"my-title-bar","eav-card-title-group","mat-headline-4",3,"click"],[1,"title-arrow"],[1,"title"],["type","button","mat-icon-button","",3,"class","disabled","tippyTranslate","tippyDisabled","disableRipple"],[1,"empty-slot-toggle",3,"checked","disabled","tippyTranslate","tippyDisabled"],[1,"icon-box",3,"tippy"],["type","button","mat-icon-button","","tippyTranslate","Form.Buttons.History.Tip",3,"disabled"],[3,"entityGuid"],[1,"eav-card-content-group-parent"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appEditControlsBuilder",""],["type","button","mat-icon-button","",3,"pointerenter","pointerleave","click","disabled","tippyTranslate","tippyDisabled","disableRipple"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body",3,"pointerdown"],["cdkDragHandle","",1,"eav-note-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"click"],[1,"eav-note-content","eav-hide-scrollbar",3,"innerHtml"],[1,"empty-slot-toggle",3,"change","checked","disabled","tippyTranslate","tippyDisabled"],["type","button","mat-icon-button","","tippyTranslate","Form.Buttons.History.Tip",3,"click","disabled"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"mat-card",2)(1,"div",3)(2,"div",4),e.bIt("click",function(){return e.eBV(s),e.Njj(n.toggleCollapse())}),e.j41(3,"mat-icon",5),e.EFF(4),e.k0s(),e.j41(5,"span",6),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.DNE(8,Rv,4,8,"button",7)(9,Lv,13,6,"ng-template",null,0,e.C5r)(11,Vv,1,4,"mat-slide-toggle",8)(12,Yv,3,1,"div",9)(13,Nv,3,1,"button",10),e.nrm(14,"app-entity-translate-menu",11),e.k0s(),e.j41(15,"mat-card-content",12)(16,"div",13)(17,"div",14),e.DNE(18,zv,3,3,"div",15),e.j41(19,"div",16),e.nrm(20,"div",17),e.k0s()()()()()}2&i&&(e.R7$(4),e.SpI(" ",n.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.R7$(2),e.SpI(" ",n.ctSettings().itemTitle||e.bMT(7,11,"ItemCard.DefaultTitle")," "),e.R7$(2),e.vxM(n.ctSettings().showNotes?8:-1),e.R7$(3),e.vxM(n.ctSettings().slotCanBeEmpty?11:-1),e.R7$(),e.vxM(n.ctSettings().showMdFor&&n.itemForTooltip()?12:-1),e.R7$(),e.vxM(n.formConfig.config.enableHistory?13:-1),e.R7$(),e.Y8G("entityGuid",n.entityGuid()),e.R7$(),e.xc7("display",n.collapse?"none":"block"),e.R7$(3),e.vxM(n.ctSettings().editInstructions?18:-1),e.R7$(2),e.BMQ("data-index",n.index()))},dependencies:[Re.Hu,Re.RN,Re.m2,Ce.m_,Ce.An,Ye.Hl,Ye.iY,Ti.T1,Ti.Fb,hi.mV,hi.sG,Fv,la,wv,x.h,x.D9,ot.e,mi.$,Bl.z],styles:[".eav-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width: 600px){.eav-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.eav-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.eav-card-header-group-parent[_ngcontent-%COMP%]:not(:hover)   .no-note[_ngcontent-%COMP%]{display:none}.eav-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding:0}.eav-card-content-group-parent[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.empty-slot-toggle[_ngcontent-%COMP%]{padding-top:0}.icon-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.eav-note.item-not-saved[_ngcontent-%COMP%]{cursor:default}.eav-note[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d9ca1f}.eav-note.has-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#e90000}.eav-note-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;width:300px;min-height:300px;max-height:400px;box-sizing:border-box;overflow:hidden;background-color:#fff79f}.eav-note-wrapper.warning[_ngcontent-%COMP%]{background-color:#ffdede}.eav-note-content[_ngcontent-%COMP%]{flex-shrink:1;overflow:auto}.eav-note-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:flex-end;cursor:move;margin-top:-16px;margin-left:-16px;margin-right:-16px;padding-top:8px;padding-left:8px;padding-right:8px}.my-title-bar-outer[_ngcontent-%COMP%]{display:flex;align-items:center;box-sizing:border-box}.my-title-bar[_ngcontent-%COMP%]{display:flex;flex:auto}"]})}}return a})(),Hv=(()=>{class a extends Mi.V{constructor(t,i,n,s){super(),this.entityFormSvc=t,this.formsStateSvc=i,this.formConfig=n,this.itemSvc=s,this.log=(0,w.Tq)({EntityFormSyncService:a})}setupSync(t){const i=this.entityFormSvc.formGroup;this.subscriptions.add(i.valueChanges.pipe((0,g.T)(()=>i.dirty),(0,Qe.Z)(i.dirty)).subscribe(o=>{this.formsStateSvc.setFormDirty(t,o)}));const n=i.valueChanges.pipe((0,g.T)(()=>!i.invalid),(0,Qe.Z)(!i.invalid),(0,Ut.J)(o=>o)),s=this.itemSvc.getItemHeader$(t);this.subscriptions.add((0,di.z)([n,s]).pipe((0,Ut.J)(([o,l])=>l?.IsEmpty||o)).subscribe(o=>{this.formsStateSvc.setFormValid(t,o)})),this.subscriptions.add(i.valueChanges.pipe((0,g.T)(()=>i.getRawValue()),(0,yi.F)((o,l)=>null==Zn.$.getItemValuesChanges(o,l))).subscribe(o=>{const l=this.formConfig.language();this.itemSvc.updater.updateItemAttributesValues(t,o,l)}))}static{this.\u0275fac=function(i){return new(i||a)(e.KVO($t),e.KVO(pt),e.KVO(h.S),e.KVO(m.b))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Gv=(()=>{class a{constructor(t,i,n,s){this.fieldsSettingsSvc=t,this.adamCacheSvc=i,this.formBuilder=n,this.entityFormConfigSvc=s,this.log=(0,w.Tq)({FormFieldsBuilderService:a},null)}createFields(t,i,n){const s=this.log.fn("createFields"),o=n.filter(({inputType:l,hasControl:p})=>!T.Q.isEmpty(l)&&!p);this.log.a(`create missing controls ${o.length} of ${n.length}`,{fieldsForNgForm:o});for(const l of o){const{name:p,props:M,inputType:I,value:N}=l;let G=N;if(I===be.u.StringWysiwyg&&G){const _t=Y.y.singleton().get(be.u.StringWysiwyg),$e=this.adamCacheSvc.getAdamSnapshot(t,p);l.value=G=_t.processValueOnLoad(G,$e)}const ae=M.settings.uiDisabled,ye=this.fieldsSettingsSvc,Ee=new ml(p,I,ye.settings[p],ye.fieldProps[p],()=>ye.pickerData),Fe=Rs.getValidators(Ee,I),et=this.formBuilder.control({disabled:ae,value:G},Fe);i.addControl(p,et)}this.entityFormConfigSvc.controlsCreated.set(!0),s.end()}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Xt),e.KVO(_e),e.KVO(ge.ze),e.KVO($t))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const $v={keepFieldsAndStateInSync:!0};let Uv=(()=>{class a extends Mi.V{constructor(){super(),this.log=(0,w.Tq)({FormFieldsSyncService:a},$v)}keepFieldsAndStateInSync(t,i){const n=this.log.fnIf("keepFieldsAndStateInSync");this.subscriptions.add(i.subscribe(s=>{const o=s.filter(I=>I.hasControl);n.a(`sync values for max ${o.length} controls`);const l=t.getRawValue(),p={};for(const{name:I,value:N}of o)p[I]=N;const M=Zn.$.getItemValuesChanges(l,p);null!=M?(n.a(`patching form as it changed (${Object.keys(M).length}`,{changes:M,oldValues:l,newValues:p}),t.patchValue(M)):n.a("no changes detected",{oldValues:l,newValues:p}),n.a('sync "disabled" state');for(const{control:I,props:N}of o)Vi.a.disable(I,N.settings.uiDisabled);n.a("run validators");for(const{control:I}of o)I.updateValueAndValidity()})),n.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Wv={all:!0,getFieldsToProcess:!1,ngOnInit:!1,fieldsToProcess$:!0};let No=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;#o;constructor(){this.entityGuid=(0,e.hFB)(),this.index=(0,e.hFB)(),this.log=(0,w.Tq)({EntityFormBuilderComponent:a},Wv),this.#e=(0,e.WQX)($t),this.#t=(0,e.WQX)(Bi.f),this.#i=(0,e.WQX)(pi),this.#n=(0,e.WQX)(Xt),this.#a=(0,e.WQX)(e.zZn),this.#s=(0,D.d)(Gv),this.#r=(0,D.d)(Uv),this.#o=(0,D.d)(Hv),this.form=this.#e.formGroup}ngOnInit(){const t=this.entityGuid(),i=this.log.fnIf("ngOnInit",{entityGuid:t});this.#n.init(t),this.#t.itemSettingsServices[t]=this.#n,this.#i.init(t);const n=this.#l(t);n.pipe((0,rt.s)(1)).subscribe(s=>this.#s.createFields(t,this.form,s)),this.#r.keepFieldsAndStateInSync(this.form,n),this.#o.setupSync(t),i.end()}ngOnDestroy(){this.#n.disableForCleanUp()}#l(t){const i=this.log.fnIf("getFieldsToProcess",null,t),n=this.form,s=this.#n.allProps,l=(0,Ne.br)(s,{injector:this.#a}).pipe((0,vt.p)(p=>null!=p&&Object.keys(p).length>0),(0,g.T)(p=>{const M=Object.entries(p).map(([I,N])=>{const G=n.controls.hasOwnProperty(I);return{name:I,props:N,inputType:N.constants.inputTypeSpecs.inputType,value:N.value,hasControl:G,control:G?n.controls[I]:null}});return this.log.aIf("fieldsToProcess$",{entityGuid:t,fields:M}),M}));return i.rSilent(l)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entity-form-builder"]],inputs:{entityGuid:[1,"entityGuid"],index:[1,"index"]},features:[e.Jv_([Xt,pi,$t])],decls:2,vars:3,consts:[[1,"dynamic-form",3,"formGroup"],[3,"entityGuid","index"]],template:function(i,n){1&i&&(e.j41(0,"form",0),e.nrm(1,"app-edit-entity-form",1),e.k0s()),2&i&&(e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("entityGuid",n.entityGuid())("index",n.index()))},dependencies:[ge.YN,ge.qT,ge.cb,ge.X1,ge.j4,jv],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"]})}}return a})();class Xv{static valuesToDto(r){const t={};for(const i of r.Values)t[i.Dimensions.map(s=>s.Value).join()]=i.Value;return t}}class Qv{static attributesToDto(r){const t={};for(const[i,n]of Object.entries(r)){const s=n.Type;null==t[s]&&(t[s]={}),t[s][i]=Xv.valuesToDto(n)}return t}}class _s{static entityToDto(r){const t=Qv.attributesToDto(r.Attributes),i=this.entitiesToDto(r.Metadata);return{Attributes:t,Guid:r.Guid,Id:r.Id,Owner:r.Owner,Type:r.Type,Version:r.Version,For:r.For,Metadata:i}}static entitiesToDto(r){return null==r?null:r.map(i=>_s.entityToDto(i))}}class Kv{static bundleToDto(r){return{Entity:_s.entityToDto(r.Entity),Header:r.Header}}}var Jv=c(8275),Zv=c(4065),qv=c(1191),eb=c(5943);const tb=(a,r)=>r.nameId,ib=a=>({feature:a,showGuid:!1,showStatus:!0,showClose:!1});function nb(a,r){1&a&&e.nrm(0,"app-feature-details-dialog",1)(1,"br"),2&a&&e.Y8G("specs",e.eq3(1,ib,r.$implicit))}const ab={...w.W_,unlicensedFeatures:!1};let sb=(()=>{class a{#e;#t;constructor(){this.log=(0,w.Tq)({FeaturesUsedButUnlicensedComponent:a},ab),this.#e=(0,e.WQX)(C.D),this.#t=(0,D.d)(eb.N),this.features=this.#t.getFeatureDetails(this.#e.unlicensedFeatures()),this.log.fnIf("constructor")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-features-used-but-unlicensed-dialog"]],decls:18,vars:0,consts:[["href","https://patrons.2sxc.org/","target","_blank"],[3,"specs"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"Preview of Features which are not Licensed"),e.k0s()(),e.j41(4,"mat-card-content")(5,"p"),e.EFF(6," 99% of all features in 2sxc are free. But some very advanced features are only for patrons (supporters) and enterprise customers. You are permitted to try these features, but to really use them you must get a license. "),e.k0s(),e.j41(7,"p"),e.EFF(8," This message should remind you \u{1f609} of that. "),e.nrm(9,"br"),e.EFF(10," Please contact your account manager to get them licensed, or visit the "),e.j41(11,"a",0),e.EFF(12,"patrons"),e.k0s(),e.EFF(13," to learn more. "),e.k0s(),e.j41(14,"p"),e.EFF(15,"The following features are currently in preview:"),e.k0s(),e.Z7z(16,nb,2,3,null,null,tb),e.k0s()()),2&i&&(e.R7$(16),e.Dyx(n.features()))},dependencies:[Re.Hu,Re.RN,Re.m2,Re.MM,Re.dh,Ye.Hl,Ce.m_,x.h,qv.O],encapsulation:2})}}return a})();const vs=a=>({"eav-list-item__focus":a});let ob=(()=>{class a{constructor(t,i,n){this.dialog=t,this.publishStatusService=i,this.formConfig=n,this.PublishModes=ne,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.options=this.formConfig.config.versioningOptions,this.dialog.keydownEvents().subscribe(s=>{(0,Si.J)(s)&&s.preventDefault()})}setPublishMode(t){this.publishStatusService.setPublishMode(t,this.formConfig.config.formId,this.formConfig),this.closeDialog()}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.CP),e.rXU(O),e.rXU(h.S))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-publish-status-dialog"]],decls:36,vars:36,consts:[[1,"eav-card-content__no-padding"],["toggle",""],["lines","3",3,"click","disabled","ngClass"],["matListItemIcon",""],["matListItemTitle",""],["matListItemIcon","","svgIcon","draft-branch"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-card-content",0)(9,"mat-nav-list",1)(10,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Show)}),e.j41(11,"mat-icon",3),e.EFF(12,"visibility"),e.k0s(),e.j41(13,"span",4),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Hide)}),e.j41(20,"mat-icon",3),e.EFF(21,"visibility_off"),e.k0s(),e.j41(22,"span",4),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Branch)}),e.nrm(29,"mat-icon",5),e.j41(30,"span",4),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,14,"PublishStatus.Dialog.Title")),e.R7$(3),e.JRh(e.bMT(7,16,"PublishStatus.Dialog.Intro")),e.R7$(4),e.Y8G("disabled",!0!==n.options[n.PublishModes.Show])("ngClass",e.eq3(30,vs,n.publishMode()===n.PublishModes.Show)),e.R7$(4),e.JRh(e.bMT(15,18,"PublishStatus.Dialog.Show.Title")),e.R7$(3),e.JRh(e.bMT(18,20,"PublishStatus.Dialog.Show.Body")),e.R7$(2),e.Y8G("disabled",!0!==n.options[n.PublishModes.Hide])("ngClass",e.eq3(32,vs,n.publishMode()===n.PublishModes.Hide)),e.R7$(4),e.JRh(e.bMT(24,22,"PublishStatus.Dialog.Hide.Title")),e.R7$(3),e.JRh(e.bMT(27,24,"PublishStatus.Dialog.Hide.Body")),e.R7$(2),e.Y8G("disabled",!0!==n.options[n.PublishModes.Branch])("ngClass",e.eq3(34,vs,n.publishMode()===n.PublishModes.Branch)),e.R7$(3),e.JRh(e.bMT(32,26,"PublishStatus.Dialog.Branch.Title")),e.R7$(3),e.JRh(e.bMT(35,28,"PublishStatus.Dialog.Branch.Body")))},dependencies:[Re.Hu,Re.RN,Re.m2,Re.MM,Re.Lc,Re.dh,qi,Ws,Zi,Ji,xi,re.YU,Ce.m_,Ce.An,x.h,x.D9],styles:[".eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}"]})}}return a})();const lb=()=>[c.e("projects_eav-ui_src_app_edit_dialog_header_language-switcher_language-switcher_component_ts").then(c.bind(c,7870)).then(a=>a.LanguageSwitcherComponent)];function cb(a,r){if(1&a&&e.nrm(0,"app-language-switcher",9),2&a){const t=e.XpG(2);e.Y8G("disabled",t.disabled())}}function db(a,r){1&a&&(e.DNE(0,cb,1,1),e.nv$(1,0,lb),e.g25())}function ub(a,r){if(1&a&&(e.j41(0,"mat-icon",4),e.EFF(1," lock "),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippyTranslate","General.ReadOnlyHint."+t.readOnly().reason)}}function pb(a,r){1&a&&(e.j41(0,"mat-icon",5),e.EFF(1," file_copy "),e.k0s())}function hb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openUnlicensedDialog())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"License-EditUi-Warning-Label")," \u{1f6e1}\ufe0f "))}let mb=(()=>{class a{#e;#t;constructor(t,i,n,s,o){this.matDialog=t,this.viewContainerRef=i,this.languageService=n,this.publishStatusService=s,this.formConfig=o,this.disabled=(0,e.hFB)(),this.closeDialog=(0,e.CGW)(),this.#e=(0,e.WQX)(pt),this.#t=(0,e.WQX)(C.D),this.config=this.formConfig.config,this.readOnly=this.#e.readOnly,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.hasLanguages=(0,e.EWP)(()=>this.languageService.getAllSignal()().length>0),this.showLicenseWarning=this.#t.hasUnlicensedFeatures}close(){this.closeDialog.emit()}openPublishStatusDialog(){this.matDialog.open(ob,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"350px"})}openUnlicensedDialog(){!function rb(a,r){a.open(sb,{autoFocus:!1,viewContainerRef:r,width:"600px"})}(this.matDialog,this.viewContainerRef)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.bZ),e.rXU(e.c1b),e.rXU(oe.g),e.rXU(O),e.rXU(h.S))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-header"]],inputs:{disabled:[1,"disabled"]},outputs:{closeDialog:"closeDialog"},decls:17,vars:16,consts:[[1,"eav-header"],["mat-icon-button","",1,"eav-exit-button",3,"click","tippyTranslate"],[1,"eav-icon"],[1,"eav-languages"],[1,"eav-hint-icon",3,"tippyTranslate"],["tippyTranslate","General.CopyHint",1,"eav-hint-icon"],["mat-button","",1,"eav-publish-button",3,"click","disabled","tippyTranslate"],[1,"eav-publish-mode"],["mat-button","","tippyTranslate","License-EditUi-Warning-Tooltip"],[3,"disabled"],["mat-button","","tippyTranslate","License-EditUi-Warning-Tooltip",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"button",1),e.bIt("click",function(){return n.close()}),e.j41(2,"mat-icon",2),e.EFF(3),e.k0s()(),e.j41(4,"div",3),e.DNE(5,db,3,0),e.k0s(),e.DNE(6,ub,2,1,"mat-icon",4)(7,pb,2,0,"mat-icon",5),e.j41(8,"button",6),e.bIt("click",function(){return n.openPublishStatusDialog()}),e.j41(9,"span",7),e.EFF(10),e.nI1(11,"translate"),e.j41(12,"b"),e.EFF(13),e.nI1(14,"translate"),e.nI1(15,"uppercase"),e.k0s()()(),e.DNE(16,hb,3,3,"button",8),e.k0s()),2&i&&(e.R7$(),e.Y8G("tippyTranslate","Form.Buttons."+(n.config.isParentDialog?"Exit":"Return")+".Tip"),e.R7$(2),e.JRh(n.config.isParentDialog?"clear":"arrow_back"),e.R7$(2),e.vxM(n.hasLanguages()?5:-1),e.R7$(),e.vxM(n.readOnly().isReadOnly?6:-1),e.R7$(),e.vxM(n.config.isCopy?7:-1),e.R7$(),e.Y8G("disabled",n.readOnly().isReadOnly)("tippyTranslate","PublishStatus."+n.publishMode()+".Tip"),e.R7$(2),e.SpI(" ",e.bMT(11,10,"PublishStatus.Label")," "),e.R7$(3),e.JRh(e.bMT(15,14,e.bMT(14,12,"PublishStatus."+n.publishMode()))),e.R7$(3),e.vxM(n.showLicenseWarning()?16:-1))},dependencies:[Re.Hu,Re.RN,Ye.Hl,Ye.$z,Ye.iY,Ce.m_,Ce.An,re.Pc,x.h,x.D9,ot.e],styles:[".eav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:var(--edit-dialog-header-height);z-index:1;box-shadow:0 2px 5px #00000042}@media (max-width: 600px){.eav-header[_ngcontent-%COMP%]{border-radius:0}}.eav-header[_ngcontent-%COMP%]   .eav-exit-button[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{scale:.6666666667}.eav-header[_ngcontent-%COMP%]   .eav-languages[_ngcontent-%COMP%]{margin-left:12px;flex-grow:1;overflow:hidden;height:100%}.eav-header[_ngcontent-%COMP%]   .eav-hint-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-header[_ngcontent-%COMP%]   .eav-publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.eav-header[_ngcontent-%COMP%]   .eav-publish-mode[_ngcontent-%COMP%]{font-weight:400}"]})}}return a})();var fb=c(5057),gb=c(3140);const Bo="previous",_b=["move-next","move-previous"];let vb=(()=>{class a extends gb.J{constructor(t,i,n){super(),this.elementRef=t,this.languageService=i,this.formConfig=n,this.log=(0,w.Tq)({FormSlideDirective:a})}ngOnInit(){const t=this.log.fn("ngOnInit"),i=this.languageService.getAll(),n=this.elementRef.nativeElement;this.subscriptions.add((0,li.h)(this.formConfig.language$.pipe((0,g.T)(s=>s.current),(0,Ut.J)(s=>s),(0,fb.J)(),(0,g.T)(([s,o])=>{t.a("toggle",{previousLang:s,currentLang:o});const l=i.findIndex(I=>I.NameId===s),p=i.findIndex(I=>I.NameId===o),M=l>p?Bo:"next";return t.a("slide",{prevIndex:l,currentIndex:p,slide:M}),M})),(0,ct.R)(n,"animationend").pipe((0,vt.p)(s=>void 0!==_b.find(o=>s.animationName.endsWith(o))),(0,g.T)(()=>""),(0,it.c)(0))).subscribe(s=>{const o=n.classList;""===s?(t.a("stop-slide"),o.remove("next"),o.remove(Bo)):(t.a(`start-slide to '${s}'`),o.add(s))}))}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(oe.g),e.rXU(h.S))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appFormSlide",""]],features:[e.Vt3]})}}return a})();function bb(a,r){if(1&a&&(e.j41(0,"div")(1,"span"),e.EFF(2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.field),e.R7$(2),e.SpI(": ",e.bMT(5,2,t.message),"")}}let yb=(()=>{class a{constructor(t){this.snackBarData=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(H.ht))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-save-errors"]],decls:7,vars:3,consts:[[1,"save-errors-container"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"br"),e.Z7z(5,bb,6,4,"div",null,e.fX1),e.k0s()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"Errors.SaveErrors")),e.R7$(3),e.Dyx(n.snackBarData.fieldErrors))},dependencies:[x.h,x.D9],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"]})}}return a})(),Cb=(()=>{class a{constructor(t,i){this.snackRef=t,this.snackBarData=i}saveChanges(t){this.snackBarData.save=t,this.snackRef.dismissWithAction()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(H.TQ),e.rXU(H.ht))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-unsaved-changes"]],decls:12,vars:13,consts:[[1,"error-message"],[1,"my-flex-right"],["mat-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"div",1)(4,"button",2),e.bIt("click",function(){return n.saveChanges(!1)}),e.EFF(5),e.nI1(6,"translate"),e.nI1(7,"uppercase"),e.k0s(),e.j41(8,"button",2),e.bIt("click",function(){return n.saveChanges(!0)}),e.EFF(9),e.nI1(10,"translate"),e.nI1(11,"uppercase"),e.k0s()()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,3,"Errors.UnsavedChanges"),"\n"),e.R7$(4),e.SpI(" ",e.bMT(7,7,e.bMT(6,5,"General.Buttons.NotSave"))," "),e.R7$(4),e.SpI(" ",e.bMT(11,11,e.bMT(10,9,"General.Buttons.Save"))," "))},dependencies:[Ye.Hl,Ye.$z,re.Pc,x.h,x.D9],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}.my-flex-right[_ngcontent-%COMP%]{display:flex;justify-content:end}"]})}}return a})();const wb=(a,r)=>r.Entity.Guid,kb=()=>[Te.E7,c.e("projects_eav-ui_src_app_edit_dialog_footer_edit-dialog-footer_component_ts").then(c.bind(c,6054)).then(a=>a.EditDialogFooterComponent)],Mb=a=>({"u-display-none":a}),Db=(a,r,t,i)=>({"debug-enabled":a,"debug-info-is-open":r,"footer-xl":t,"hide-header-height-fix":i}),jo=a=>({"appear-disabled":a});function Tb(a,r){if(1&a&&(e.j41(0,"div"),e.nrm(1,"app-edit-entity-form-builder",8),e.k0s()),2&a){const t=r.$implicit,i=r.$index;e.R7$(),e.Y8G("entityGuid",t.Entity.Guid)("index",i)}}function xb(a,r){if(1&a&&(e.j41(0,"div",7),e.Z7z(1,Tb,2,2,"div",null,wb),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Dyx(t.items())}}function Sb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveAll(!0))}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(4,jo,t.saveDisabled())),e.R7$(4),e.JRh(e.bMT(5,2,"Form.Buttons.SaveAndClose"))}}function Ib(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(4,jo,t.saveDisabled())),e.R7$(2),e.JRh(e.bMT(3,2,"Form.Buttons.Save"))}}function Eb(a,r){1&a&&(e.j41(0,"extended-fab-speed-dial"),e.DNE(1,Sb,6,6,"ng-template",9)(2,Ib,6,6,"ng-template",10),e.k0s())}function Ab(a,r){if(1&a&&e.nrm(0,"app-edit-dialog-footer",13),2&a){const t=e.XpG(2);e.xc7("display",t.footerShow()?"block":"none")}}function Fb(a,r){1&a&&(e.DNE(0,Ab,1,2),e.nv$(1,0,kb),e.g25())}const Ob={all:!1,constructor:!0};let Pb=(()=>{class a extends He.${#e;#t;#i;#n;#a;#s;constructor(t,i,n,s,o,l,p,M,I,N,G,ae,ye,Ee,Fe){super(),this.dialog=t,this.contentTypeItemService=i,this.contentTypeService=n,this.inputTypeService=s,this.itemService=o,this.languageService=l,this.languageStore=p,this.snackBar=M,this.translate=I,this.editRoutingService=N,this.publishStatusService=G,this.formsStateService=ae,this.adamCacheService=ye,this.linkCacheService=Ee,this.formulaDesignerService=Fe,this.log=(0,w.Tq)({EditDialogMainComponent:a},Ob),this.#e=(0,e.WQX)(f.B),this.#t=(0,e.WQX)(h.S),this.#i=(0,e.WQX)(Ge.i).part(Zv.K),this.footerSize=(0,e.EWP)(()=>this.#i.data().size),this.#n=(0,D.d)(It),this.#a=(0,D.d)($),this.#s=(0,D.d)($t),this.viewInitiated=(0,e.vPA)(!1),this.items=this.itemService.getManySignal(this.#t.config.itemGuids),this.formsValid=this.formsStateService.formsValidTemp,this.saveDisabled=(0,e.EWP)(()=>this.#s.isSaving()||this.formsStateService.saveButtonDisabled()),this.hideHeader=this.languageStore.getHideHeaderSignal(this.#t.config.formId),this.footerShow=(0,e.EWP)(()=>this.#e.isDebug()?(this.#o=!0,!0):!this.#o&&this.#i.data().pinned),this.footerShowOnceOrMore=(0,te.tD)($e=>$e||this.footerShow(),!1),this.#o=!1,this.delayForm=(0,Ne.ot)((0,Pe.of)(!1).pipe((0,it.c)(0),(0,Qe.Z)(!0))),this.log.fnIf("constructor"),this.dialog.disableClose=!0;const _t=this.#i;null==_t.data().pinned&&_t.set("pinned",this.#t.config.dialogContext.User?.IsSystemAdmin??!1),(0,e.QZP)(()=>{const $e=this.formsStateService.triggerTrySaveAndMaybeClose();$e.tryToSave&&(0,e.O8t)(()=>this.saveAll($e.close))})}#r;#o;ngOnInit(){this.editRoutingService.init(),this.#n.load(),this.formulaDesignerService.cache.init(),this.#l(),this.#d()}ngAfterViewInit(){setTimeout(()=>this.viewInitiated.set(!0))}ngOnDestroy(){this.languageStore.remove(this.#t.config.formId),this.publishStatusService.remove(this.#t.config.formId),this.#t.config.isParentDialog&&(this.languageStore.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.contentTypeItemService.clearCache(),this.contentTypeService.clearCache(),this.publishStatusService.clearCache(),this.adamCacheService.clearCache(),this.linkCacheService.clearCache()),super.ngOnDestroy()}closeDialog(t){return t?this.dialog.close(this.#t.config.createMode?this.#r:void 0):!this.formsStateService.readOnly().isReadOnly&&this.formsStateService.formsAreDirty()?this.#c():void this.dialog.close(this.#t.config.createMode?this.#r:void 0)}saveAll(t){this.#s.isSaving.set(!0);const i=this.log.fn("saveAll",{close:t});if(this.formsStateService.formsAreValid()){const n=this.formBuilderRefs.map(l=>{const p=this.itemService.get(l.entityGuid());if(!this.formsStateService.getFormValid(p.Entity.Guid))return null;const I=Object.keys(p.Entity.Attributes).length>0,G=this.contentTypeService.getContentTypeOfItem(p).Metadata.some(ye=>"SaveEmptyDecorator"===ye.Type.Name);return I||G?Kv.bundleToDto(p):null}).filter(l=>null!=l),s=this.publishStatusService.get(this.#t.config.formId),o={Items:n,IsPublished:s.IsPublished,DraftShouldBranch:s.DraftShouldBranch};i.a("SAVE FORM DATA:",{saveFormData:o}),this.snackBar.open(this.translate.instant("Message.Saving"),null,{duration:2e3}),this.#a.saveFormData(o,this.#t.config.partOfPage).subscribe({next:l=>{i.a("SAVED!, result:",{result:l,close:t}),this.itemService.updater.updateItemId(l),this.snackBar.open(this.translate.instant("Message.Saved"),null,{duration:2e3}),this.formsStateService.formsAreDirty.set(!1),this.#r=l,t&&this.closeDialog(),setTimeout(()=>this.#s.isSaving.set(!1),500)},error:l=>{i.a("SAVE FAILED:",l),this.snackBar.open("Error",null,{duration:2e3}),this.#s.isSaving.set(!1)}})}else{if(this.#s.isSaving.set(!1),null==this.formBuilderRefs)return;const n=[];this.formBuilderRefs.forEach(o=>{o.form.invalid&&n.push(Jv.n.validateForm(o.form))});const s=[];n.forEach(o=>{Object.keys(o).forEach(l=>{s.push({field:l,message:o[l]})})}),this.snackBar.openFromComponent(yb,{data:{fieldErrors:s},duration:5e3})}}#l(){this.subscriptions.add((0,ct.R)(window,"beforeunload").subscribe(t=>{this.formsStateService.readOnly().isReadOnly||!this.formsStateService.formsAreDirty()||(t.preventDefault(),t.returnValue="",this.#c())})),this.subscriptions.add(this.dialog.backdropClick().subscribe(t=>this.closeDialog()))}#d(){this.dialog.keydownEvents().subscribe(t=>{if((0,Si.K)(t))return this.closeDialog();(0,Si.J)(t)&&(t.preventDefault(),!this.formsStateService.readOnly().isReadOnly&&!this.#s.isSaving()&&this.saveAll(t.altKey))})}#c(){const t=this.snackBar.openFromComponent(Cb,{data:{save:!1},duration:5e3});t.onAction().subscribe(()=>{if(t.containerInstance.snackBarConfig.data.save)return this.saveAll(!0);this.closeDialog(!0)})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Te.CP),e.rXU(K.k),e.rXU(B.n),e.rXU(Z.A),e.rXU(m.b),e.rXU(oe.g),e.rXU(j.A),e.rXU(H.UG),e.rXU(x.c$),e.rXU(Ct),e.rXU(O),e.rXU(pt),e.rXU(_e),e.rXU(ke),e.rXU(Bi.f))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-main"]],viewQuery:function(i,n){if(1&i&&e.GBs(No,5),2&i){let s;e.mGM(s=e.lsd())&&(n.formBuilderRefs=s)}},features:[e.Jv_([Ct,pt,Bi.f,Ja]),e.Vt3],decls:10,vars:13,consts:[["mat-dialog__container","","appToggleDebug","",2,"position","relative"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"closeDialog","disabled"],[2,"position","relative"],["mat-mdc-dialog-content","","cdkScrollable","",1,"eav-dialog-content","u-hide-scrollbar",3,"ngClass"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["appFormSlide","",1,"eav-layout-grid__cell--span-12"],[3,"entityGuid","index"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click","ngClass"],["extended-fab-speed-dial-action","","matRipple","",3,"click","ngClass"],["mat-dialog-actions",""]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"app-edit-dialog-header",2),e.bIt("closeDialog",function(){return n.closeDialog()}),e.k0s()(),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.DNE(7,xb,3,0,"div",7),e.k0s()()(),e.DNE(8,Eb,3,0,"extended-fab-speed-dial"),e.k0s(),e.DNE(9,Fb,3,0),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngClass",e.eq3(6,Mb,n.hideHeader())),e.R7$(),e.Y8G("disabled",!n.formsValid()),e.R7$(2),e.Y8G("ngClass",e.ziG(8,Db,n.footerShow(),n.footerShow()&&n.footerSize(),n.footerShow()&&2==n.footerSize(),n.hideHeader())),e.R7$(3),e.vxM(n.delayForm()?-1:7),e.R7$(),e.vxM(n.viewInitiated()?8:-1),e.R7$(),e.vxM(n.footerShowOnceOrMore()?9:-1))},dependencies:[Te.E7,re.YU,mb,Ae.uv,vb,No,ce.pZ,ce.r6,Ce.m_,Ce.An,x.h,x.D9,Ro,Lo,ps,ms,hs,Ke.V],styles:["@keyframes _ngcontent-%COMP%_move-next{0%{transform:translate(0)}49%{transform:translate(-800px);animation-timing-function:step-end}50%{transform:translate(800px);animation-timing-function:ease-out}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_move-previous{0%{transform:translate(0)}49%{transform:translate(800px);animation-timing-function:step-end}50%{transform:translate(-800px);animation-timing-function:ease-out}to{transform:translate(0)}}.next[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-next}.previous[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-previous}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.eav-dialog-content[_ngcontent-%COMP%]{--edit-content-max-height: var(--edit-content-max-height-no-margins);--edit-footer-height: 0px;--edit-margins-vertical: var(--edit-dialog-margins-vertical);--edit-safari-fix: 0px;margin:0;padding:0;max-height:calc(var(--edit-content-max-height) - var(--edit-footer-height) - var(--edit-margins-vertical) + var(--edit-safari-fix));background-color:#0000000f}@media (max-width: 600px){.eav-dialog-content[_ngcontent-%COMP%]{--edit-margins-vertical: 0px}}.eav-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{--edit-safari-fix: var(--edit-dialog-header-height)}.eav-dialog-content.debug-enabled[_ngcontent-%COMP%]{--edit-footer-height: var(--edit-footer-bar-height)}.eav-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total))}.eav-dialog-content.debug-enabled.debug-info-is-open.footer-xl[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total) + var(--edit-footer-container-height))}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.eav-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width: 600px){.eav-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"]})}}return a})();function Rb(a,r){1&a&&e.nrm(0,"app-edit-dialog-main")}let Lb=(()=>{class a{constructor(t,i){this.editInitializerService=t,this.log=(0,w.Tq)({EditEntryComponent:a}),this.log.aIf("constructor")}ngOnInit(){this.editInitializerService.fetchFormData()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(le),e.rXU(C.D))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entry"]],features:[e.Jv_([ve.J,C.D,le,b.o,h.S,De])],decls:2,vars:1,template:function(i,n){1&i&&(e.nrm(0,"router-outlet"),e.DNE(1,Rb,1,0,"app-edit-dialog-main")),2&i&&(e.R7$(),e.vxM(n.editInitializerService.loaded()?1:-1))},dependencies:[v.n3,Pb],encapsulation:2})}}return a})()},4065:(X,q,c)=>{"use strict";c.d(q,{K:()=>v});const v={key:"edit-dialog-footer",data:{tab:null,expanded:!1,size:0,pinned:null}}},2490:(X,q,c)=>{"use strict";c.d(q,{S:()=>e});var v=c(4435),C=c(6740),w=c(4031);const b={all:!1,constructor:!0,update:!0,fields:[...C.z,"Icon"]};class e{get log(){return this.#e??=(0,v.Tq)({FieldLogicBase:e},b).extendName(`[${this.name}]`)}#e;constructor(T,S){this.canAutoTranslate=!1,this.#e=(0,v.Tq)(T??{FieldLogicBase:e},b,null,S),this.name??=this.#e.name,this.log.fnIf("constructor")}static add(T){const S=new T;w.y.singleton().add(S)}static importMe(){}isValueEmpty(T,S){const y=this.log.fn("isValueEmpty",{value:T,isCreateMode:S}),A=Array.isArray(T)&&0===T.length&&S;return y.r(void 0===T||A)}findAndMergeAdvanced(T,S,y){if(!S)return y;const A=T.eavConfig.settings.Entities.find(R=>R.Guid===S);if(!A)return y;const z=T.reader.flatten(A);return{...y,...z}}}},4031:(X,q,c)=>{"use strict";c.d(q,{y:()=>D});var v=c(4202),C=c(4435),w=c(2490);class b extends w.S{constructor(){super({UnknownLogic:b}),this.name=v.u.Unknown,this.canAutoTranslate=!1}update({settings:S}){return S}}const e={all:!1,get:!0};class D{constructor(){this.logics={},this.log=(0,C.Tq)({FieldLogicManager:D},e),this.add(new b)}static singleton(){return window.eavFieldLogicManager??=new D}add(S){this.logics[S.name]=S}get(S){return this.log.fnIf("get",{inputTypeName:S}).r(this.logics[S]??null)}getOrUnknown(S){return this.get(S)??this.get(v.u.Unknown)}}},6177:(X,q,c)=>{"use strict";c.d(q,{x:()=>C});var v=c(5675);class C{static getTranslationStateClass(b){switch(b){case v.J.MissingDefaultLangValue:return"localization-missing-default-lang-value";case v.J.Translate:case v.J.LinkCopyFrom:return"localization-translate";case v.J.DontTranslate:return"";case v.J.LinkReadOnly:return"localization-link-read-only";case v.J.LinkReadWrite:return"localization-link-read-write";default:return""}}static calculateSharedInfoMessage(b,e){b=C.calculateShortDimensions(b,e);const D=C.calculateEditAndReadDimensions(b),T=D.editableDimensions,S=D.readOnlyDimensions;let y="";const A=T.length>0,z=S.length>0;return A&&z?y=`${T.join(", ")}, (${S.join(", ")})`:A?y=T.join(", "):z&&(y=`(${S.join(", ")})`),y}static calculateShortDimensions(b,e){const D={},T=e.slice(0,e.indexOf("-"));return D[T]=[T],b.forEach(S=>{const A=S.slice(0,S.indexOf("-")).replace("~","");D[A]?D[A].push(S):D[A]=[S]}),b.map(S=>{const y=S.slice(0,S.indexOf("-")),A=y.replace("~","");return D[A].length>1?S:y})}static calculateEditAndReadDimensions(b){return{editableDimensions:[],readOnlyDimensions:b.map(e=>e.replace("~",""))}}}},3688:(X,q,c)=>{"use strict";c.d(q,{f:()=>j});var v=c(2938),C=c(4435),w=c(7993),b=c(927),e=c(7580),D=c(6740),T=c(5970),S=c(5797),y=c(1567),A=c(6647),z=c(4600),R=c(271),Y=c(9999),W=c(4979),oe=c(8265),J=c(3991),_e=c(6849),ke=c(3050),K=c(6001),B=c(7149),V=c(7706),Z=c(827);class ee{static#e(ne){if(!ne)return ne;let O=ne.trim();return O.startsWith("//")&&(O=O.replace(/^\/\/.*\n/gm,"").trim()),O.startsWith(Z.GI.V1)?`${Z.qe}${O}`:O.startsWith(`${Z.qe}${Z.GI.V1}`)?O:O.startsWith("v2(")?(O=O.substring(3,O.lastIndexOf("}")+1),O=O.replace("=>",""),`${Z.qe}v2 ${O}`):O}static findFormulaVersion(ne){const O=this.#e(ne),x=O.substring(Z.qe.length,O.indexOf("(")).trim();return Object.values(Z.GI).includes(x)?x:void 0}static buildFormulaFunction(ne){const O=this.#e(ne);return new Function(`return ${O}`)()}}var se=c(852);const _={all:!1,buildFormulaCache:!1,updateFormulaFromEditor:!1,createPromisedParts:!1,getSharedParts:!1};let m=(()=>{class P extends W.V{constructor(O,x,H,Q,le,ve,he){super(),this.formConfig=O,this.itemService=x,this.contentTypeService=H,this.contentTypeItemService=Q,this.loggingService=le,this.translate=ve,this.inputTypes=he,this.log=(0,C.Tq)({FormulaCacheBuilder:P},_),this.#n={}}buildFormulaCache(O){const x=this.log.fnIf("buildFormulaCache"),H=[],Q=this.formConfig.language(),le=new ke.bT(Q),ve=new V.q(this.log.name);for(const he of this.formConfig.config.itemGuids){const fe=this.itemService.get(he),ue=this.#i(he,fe),De=this.contentTypeService.getContentTypeOfItem(fe);for(const Ae of De.Attributes){const re=ve.getDefaultSettings(le.flatten(Ae.Metadata)),Ne=this.inputTypes.getSpecs(Ae),ce=this.contentTypeItemService.getMany(re.Formulas).filter(Te=>le.getBestValue(Te.Attributes.Enabled));for(const Te of ce){const Ce=le.getBestValue(Te.Attributes.Formula);if(!Ce)continue;const Pe=le.getBestValue(Te.Attributes.Target);let it;try{it=ee.buildFormulaFunction(Ce)}catch(ct){O.cacheResults({entityGuid:he,fieldName:Ae.Name,target:Pe},void 0,!0,!1);const He=ke.im.getTitle(De,Q);this.loggingService.addLog(B.E.Error,`Error building formula for Entity: "${He}", Field: "${Ae.Name}", Target: "${Pe}"`,ct),this.loggingService.showMessage(this.translate.instant("Errors.FormulaConfiguration"),2e3)}const Qe={cache:{},entityGuid:he,fieldName:Ae.Name,fn:it?.bind({}),isDraft:null==it,sourceCode:Ce,sourceCodeSaved:Ce,sourceCodeGuid:Te.Guid,sourceCodeId:Te.Id,target:Pe,...this.#e(Pe,Ne),version:ee.findFormulaVersion(Ce),...ue,stop:!1,sleep:!1,fieldIsSpecialPicker:T.Yb.includes(Pe),...this.#a(),...this.#t(Pe)};H.push(Qe)}}}return x.r(H)}#e(O,x){return{inputType:x,isNewPicker:x.isNewPicker,disabled:!1,disabledReason:""}}#t(O){return O.startsWith(T.si)?{isSetting:!0,settingName:O.substring(T.si.length),isValue:!1,isValidation:!1}:{isSetting:!1,settingName:"",isValue:O===T.a2.Value,isValidation:O===T.a2.Validation}}#i(O,x=null){if(this.log.fnIf("getSharedParts",{item:x,entityGuid:O}),this.#n[O])return this.#n[O];const H=(x=x??this.itemService.get(O)).Entity,Q=H.For,ve=this.formConfig.config,he=ve.dialogContext.User??{},fe={targetEntity:{guid:H.Guid,id:H.Id,type:{guid:H.Type.Id,name:H.Type.Name},for:{targetType:Q?.TargetType??0,guid:Q?.Guid,number:Q?.Number,string:Q?.String}},user:{email:he.Email,guid:he.Guid,id:he.Id,isAnonymous:he.IsAnonymous,isSiteAdmin:he.IsSiteAdmin,isContentAdmin:he.IsContentAdmin,isSystemAdmin:he.IsSystemAdmin,name:he.Name,username:he.Username},app:{appId:ve.appId,zoneId:ve.zoneId,isGlobal:ve.dialogContext.App.IsGlobalApp,isSite:ve.dialogContext.App.IsSiteApp,isContent:ve.dialogContext.App.IsContentApp,getSetting:ue=>{}},sxc:window.$2sxc({zoneId:ve.zoneId,appId:ve.appId,pageId:ve.tabId,moduleId:ve.moduleId,_noContextInHttpHeaders:!0,_autoAppIdsInUrl:!0})};return this.#n[O]=fe,fe}#n;#a(){this.log.fnIf("createPromisedParts");const O=new S.t(null),x=new S.t(null),H=O.pipe((0,y.p)(Q=>!!Q),(0,A.n)(Q=>(0,z.H)(Q.promise).pipe((0,R.T)(le=>({set:Q,result:le})))));return this.subscriptions.add((0,Y.z)([H,x.pipe((0,y.p)(Q=>!!Q))]).subscribe(([Q,le])=>(Q.set.completed=!0,Q.set.sleep=!1,le(Q.result)))),{promises$:O,updateCallback$:x}}updateFormulaFromEditor(O,x,H,Q){let le;if(this.log.fnIf("updateFormulaFromEditor",{id:x,sourceCode:H,run:Q}),Q)try{le=ee.buildFormulaFunction(H)}catch(Pe){O.cacheResults(x,void 0,!0,!1);const it=this.itemService.get(x.entityGuid),Qe=this.contentTypeService.getContentTypeOfItem(it),ct=this.formConfig.language(),Ke=`Error building formula for Entity: "${ke.im.getTitle(Qe,ct)}", Field: "${x.fieldName}", Target: "${x.target}"`;this.loggingService.addLog(B.E.Error,Ke,Pe),console.error(Ke,Pe)}const ve=this.itemService.get(x.entityGuid),he=this.contentTypeService.getAttributeOfItem(ve,x.fieldName),fe=this.inputTypes.getSpecs(he),{list:ue,index:De,value:Ae}=O.formulaListIndexAndOriginal(x),re=Ae??{},Ne=this.#i(x.entityGuid),ce=re.promises$&&re.updateCallback$?{promises$:Ae.promises$,updateCallback$:Ae.updateCallback$}:this.#a(),Te={...x,cache:re.cache??{},fn:le?.bind({}),isDraft:!Q||null==le,sourceCode:H,sourceCodeSaved:re.sourceCodeSaved,sourceCodeGuid:re.sourceCodeGuid,sourceCodeId:re.sourceCodeId,version:ee.findFormulaVersion(H),...this.#e(x.target,fe),...Ne,stop:!1,sleep:!1,fieldIsSpecialPicker:T.Yb.includes(x.target),...ce,...this.#t(x.target)};return De>=0?[...ue.slice(0,De),Te,...ue.slice(De+1)]:[Te,...ue]}static{this.\u0275fac=function(x){return new(x||P)(e.KVO(oe.S),e.KVO(b.b),e.KVO(_e.n),e.KVO(J.k),e.KVO(B.J),e.KVO(se.c$),e.KVO(K.A))}}static{this.\u0275prov=e.jDH({token:P,factory:P.\u0275fac})}}return P})();const h={all:!0,getActive:!0,fields:[...D.z]};let g=(()=>{class P{#e;constructor(){this.log=(0,C.Tq)({FormulaCacheService:P},h),this.#e=(0,v.d)(m),this.formulas=(0,w.KX)("formulas",[]),this.#t=(0,w.KX)("formula-results",[])}#t;init(){const O=this.#e.buildFormulaCache(this);this.formulas.set(O)}#i(O,x,H,Q){return this.formulas().filter(le=>(!O||le.entityGuid===O)&&(!x||le.fieldName===x)&&(!H||H?.find(ve=>le.target==ve))&&(!!Q||!le.isDraft))}getActive(O,x,H){const Q=this.log.fnIfInList("getActive","fields",x,()=>({name:x,forNewPicker:H,formulas:this.formulas()})),le=T.zD.concat(H?T.AJ:T.K3),ve=this.#i(O,x,le,!1),he=ve.filter(fe=>!fe.stop);return Q.r(he,`all: ${ve.length}, unstopped: ${he.length}`)}formulaListIndexAndOriginal(O){const x=this.formulas(),H=x.findIndex(le=>le.entityGuid===O.entityGuid&&le.fieldName===O.fieldName&&le.target===O.target);return{list:x,index:H,value:x[H]}}updateSaved(O,x,H){const{list:Q,index:le,value:ve}=this.formulaListIndexAndOriginal(O);if(null==ve)return;const he={...ve,sourceCodeSaved:O.sourceCode,sourceCodeGuid:x,sourceCodeId:H},fe=[...Q.slice(0,le),he,...Q.slice(le+1)];this.formulas.set(fe)}updateFormulaFromEditor(O,x,H){const Q=this.#e.updateFormulaFromEditor(this,O,x,H);this.formulas.set(Q)}delete(O){const{list:x,index:H}=this.formulaListIndexAndOriginal(O);if(H<0)return;const Q=[...x.slice(0,H),...x.slice(H+1)];this.formulas.set(Q)}resetFormula(O){this.#n(O);const x=this.formulaListIndexAndOriginal(O).value?.sourceCodeSaved;null!=x?this.updateFormulaFromEditor(O,x,!0):this.delete(O)}cacheResults(O,x,H,Q){const le={entityGuid:O.entityGuid,fieldName:O.fieldName,target:O.target,value:x,isError:H,isOnlyPromise:Q},ve=this.log.fn("cacheResults",{newResult:le});(0,e.O8t)(()=>{const{list:he,index:fe}=this.resultListIndexAndOriginal(O),ue=fe>=0?[...he.slice(0,fe),le,...he.slice(fe+1)]:[le,...he];ve.a("set results",{list:he,index:fe,newResults:ue}),this.#t.set(ue)}),ve.end("ok")}resultListIndexAndOriginal(O){const x=this.#t(),H=x.findIndex(le=>le.entityGuid===O.entityGuid&&le.fieldName===O.fieldName&&le.target===O.target);return{list:x,index:H,value:x[H]}}#n(O){const{list:x,index:H}=this.resultListIndexAndOriginal(O);if(H<0)return;const Q=[...x.slice(0,H),...x.slice(H+1)];this.#t.set(Q)}static{this.\u0275fac=function(x){return new(x||P)}}static{this.\u0275prov=e.jDH({token:P,factory:P.\u0275fac})}}return P})();var d=c(1612);let u=(()=>{class P{constructor(O,x){this.itemService=O,this.contentTypeService=x}getTargetOptions(O,x){const H=[];if(null==O.entityGuid||null==O.fieldName)return H;const Q=x.filter(ue=>ue.entityGuid===O.entityGuid&&ue.fieldName===O.fieldName);for(const ue of Object.values(T.a2)){const De={hasFormula:Q.some(Ae=>Ae.target===ue),label:ue.substring(ue.lastIndexOf(".")+1),target:ue};H.push(De)}const le=this.itemService.get(O.entityGuid),he=this.contentTypeService.getAttributeOfItem(le,O.fieldName).InputType;if(d.Q.isGroupStart(he))for(const ue of[T.j5.Collapsed]){const De={hasFormula:Q.some(Ae=>Ae.target===ue),label:ue.substring(ue.lastIndexOf(".")+1),target:ue};H.push(De)}if(d.Q.isOldValuePicker(he))for(const ue of[T.j5.DropdownValues]){const De={hasFormula:Q.some(Ae=>Ae.target===ue),label:ue.substring(ue.lastIndexOf(".")+1),target:ue};H.push(De)}if(d.Q.isNewPicker(he))for(const ue of Object.values(T.jk)){const De={hasFormula:Q.some(Ae=>Ae.target===ue),label:"Picker "+ue.substring(ue.lastIndexOf(".")+1),target:ue};H.push(De)}for(const ue of Q){if(H.some(re=>re.target===ue.target))continue;const Ae={hasFormula:!0,label:ue.target.substring(ue.target.lastIndexOf(".")+1),target:ue.target};H.push(Ae)}if(!H.some(ue=>ue.target===O.target)){const ue={hasFormula:Q.some(De=>De.target===O.target),label:O.target.substring(O.target.lastIndexOf(".")+1),target:O.target};H.push(ue)}return H}static{this.\u0275fac=function(x){return new(x||P)(e.KVO(b.b),e.KVO(_e.n))}}static{this.\u0275prov=e.jDH({token:P,factory:P.\u0275fac})}}return P})();var f=c(5067);class k{static buildDesignerSnippetsContext(ne){if(ne.version===Z.GI.V1)return["app.appId","app.zoneId","app.isGlobal","app.isSite","app.isContent","cache.ChangeThis","culture.code","culture.name","debug","features.isEnabled('nameId')","form.runFormulas()","sxc.ChangeThis","target.entity.id","target.entity.guid","target.name","target.type","user.id","user.isAnonymous","user.isSiteAdmin","user.isSystemAdmin"].map(x=>{const H=`context.${x}`;return{code:H,label:H}})}static getSnippets(ne,O,x){if(ne.version===Z.GI.V1){const H=new f.Z(x).all;return["value","default","prefill","initial",...O.map(le=>le.fieldName),"parameters.ChangeThis",...Object.keys(H).map(le=>`parameters.${le}`)].map(le=>{const ve=`data.${le}`;return{code:ve,label:ve}})}}}class E{static getTypings(ne,O,x){if(ne.version===Z.GI.V2){const H=new f.Z(x).all,Q=O.map(he=>`${he.fieldName}: ${this.#e(he.inputType)};`).join("\n"),le=Object.keys(H).map(he=>`${he}: any;`).join("\n");return"/*\r\n  This is a special file which is not compiled as a normal TypeScript.\r\n  Instead it's loaded as raw text, to hand over to Monaco.\r\n  It ensures that v2 functions have intellisense.\r\n\r\n  TIP: To edit this file, briefly rename it to ...raw.ts, then back to ...rawts\r\n       This will make VSCode load it as a normal TypeScript file, so you can edit it.\r\n\r\n  - Try to keep in sync with the real code in the 2sxc project.\r\n  - The comments are _documentation_ for the user, so they can see what's available\r\n  - If you need any \"internal\" comments, use // instead\r\n  - Note that the [inject:...] comments are replaced by the build process\r\n*/\r\n\r\n/**\r\n * The data object is the main object for figuring out what the field or setting contained and what other fields currently store.\r\n * It has properties such as `.value` etc.\r\n * Just start typing to see the intellisense.\r\n */\r\n// Note that the type must be explicitly like `string | boolean | number | string[]`\r\n// Otherwise it won't show the details to the user\r\ndeclare interface FormulaData {\r\n  /**\r\n   * The value of the current field/setting when the formula runs.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  value: string | boolean | number | string[];\r\n  /**\r\n   * The _default_ value of the current field/setting as defined in the field settings.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  default: string | boolean | number | string[];\r\n  /**\r\n   * A prefill value that was passed into the form when it was loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  prefill: string | boolean | number | string[];\r\n  /**\r\n   * The value of the current field/setting when the form initially loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  initial: string | boolean | number | string[];\r\n  /* [inject:AllFields] */\r\n  /**\r\n   * All parameters which were passed to the form when it was loaded\r\n   *\r\n   * _It's exact type depends on the parameter, but it's usually a string._\r\n   */\r\n  parameters: {\r\n    /* [inject:AllParameters] */\r\n  };\r\n}\r\n\r\ndeclare interface FormulaContext {\r\n  /**\r\n   * Information about the current App\r\n   */\r\n  app: {\r\n    /** The current App ID */\r\n    appId: number;\r\n    /** The current Zone ID */\r\n    zoneId: number;\r\n    /** Determines if the current App is the global App */\r\n    isGlobal: boolean;\r\n    /** Determines if the current App is the primary (main) App on the site */\r\n    isSite: boolean;\r\n    /** Determines if the current App is a content App */\r\n    isContent: boolean;\r\n    /**\r\n     * Retrieve a setting like an App setting.\r\n     * You need the full path like `Settings.ShowCategories`.\r\n     * \r\n     * Important: For security reasons formulas will only get settings which where configured in the ContentType for use in Formulas.\r\n     */\r\n    getSetting(settingPath: string): string;\r\n  };\r\n  /**\r\n   * Cache for this formula. You can store any data here and it will be available in the next run.\r\n   */\r\n  cache: Record<string, any>;\r\n  /**\r\n   * Information about the current language\r\n   */\r\n  culture: {\r\n    code: string;\r\n    name: string;\r\n  };\r\n  debug: boolean;\r\n  /**\r\n   * API to detect what features are currently enabled/available\r\n   */\r\n  features: {\r\n    // /**\r\n    //  * Get internal information about a feature if it's available. This is rarely used.\r\n    //  * @param nameId The name of the feature, eg. `PasteImageFromClipboard`\r\n    //  */\r\n    // get(nameId: string): Record<string, any>;\r\n    /** Find out if the feature is enabled. Eg. `...isEnabled('PasteImageFromClipboard')` */\r\n    isEnabled(nameId: string): boolean;\r\n  };\r\n  /**\r\n   * Work with the current form\r\n   */\r\n  form: {\r\n    // v16 Deprecated for v2\r\n    // /** Re-trigger all formulas. Usually used inside promises when they complete. */\r\n    // runFormulas(): void;\r\n  };\r\n  /**\r\n   * The standard sxc object for the current App.\r\n   * It's the same as the sxc-instance in the page.\r\n   *\r\n   * You can use it to make API calls to the server.\r\n   */\r\n  sxc: {\r\n    /** The module ID */\r\n    id: number;\r\n    /** The Content-Block ID - matches the module ID unless it's an inner-content block inside another module */\r\n    cbid: number;\r\n    /** The sxc WebAPI object. Check the docs: https://docs.2sxc.org/api/js/SxcWebApi.html */\r\n    webApi: {\r\n      /**\r\n       * Get data from a url and return the json-object\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchJson<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n      /**\r\n       * Get data from a url and return the response (not a nice object)\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchRaw<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n    };\r\n    // turn off for now v16.00 - confusing\r\n    // [key: string]: any;\r\n  };\r\n  /**\r\n   * Information about the item this formula targets.\r\n   */\r\n  target: {\r\n    /** The entity the current formula affects */\r\n    entity: {\r\n      /** The entity ID */\r\n      id: number;\r\n      /** The entity GUID */\r\n      guid: string;\r\n      /** Metadata For information */\r\n      for: {\r\n        /** The target type like `4` (Entity). `0` if it's not metadata  */\r\n        targetType: number;\r\n        /** The int-key if it uses number keys, otherwise null */\r\n        number?: number;\r\n        /** The string-key if it uses string keys, otherwise null */\r\n        string?: string;\r\n        /** The GUID-key if it uses GUIDs, otherwise null */\r\n        guid?: string;\r\n      }\r\n    };\r\n    name: string;\r\n    /** The entity type name */\r\n    type: string;\r\n  };\r\n  /**\r\n   * Information about the current user\r\n   */\r\n  user: {\r\n    /** The current user ID */\r\n    id: number;\r\n    /** Check if the current user is anonymous eg. not logged in */\r\n    isAnonymous: boolean;\r\n    /** Check if the current user is a content admin */\r\n    isContentAdmin: boolean;\r\n    /** Check if the current user is a site admin */\r\n    isSiteAdmin: boolean;\r\n    /** Check if the current user is a system admin */\r\n    isSystemAdmin: boolean;\r\n    /** current user e-mail */\r\n    email: string;\r\n    /** The user GUID */\r\n    guid: string;\r\n    /** the name usually shown in greetings */\r\n    name: string;\r\n    /** The user name used for login */\r\n    username: string;\r\n  };\r\n}\r\n\r\n// /**\r\n//  * Test docs\r\n//  * @param data The data object\r\n//  */\r\n// declare function callbackV2(data: FormulaData): string | string[];\r\n\r\n// /**\r\n//  * test docs 3\r\n//  * @param callback The real code of the formula\r\n//  */\r\n// declare function v3(callback: typeof callbackV2);\r\n\r\n/**\r\n * This `v2` wrapper is required for the intellisense to work.\r\n * @param callback The real code of the formula\r\n * @returns A string, boolean, number, date or an advanced object\r\n */\r\ndeclare function v2(\r\n  // The main function - adding comments here does not show up, so we don't have them ATM\r\n  callback: (\r\n    data: FormulaData,\r\n    context: FormulaContext,\r\n  ) => string | boolean | number | Date | {\r\n    value?: string | boolean | number | Date | { severity: 'warning' | 'error', message: string },\r\n    fields?: {\r\n      name: string,\r\n      value: string | boolean | number | Date\r\n    }[],\r\n    promise?: Promise<any>,\r\n    stop?: boolean,\r\n  },\r\n): void;\r\n".replace("/* [inject:AllFields] */",Q).replace("/* [inject:AllParameters] */",le)}}static#e(ne){const O=ne.toLowerCase();return O.startsWith("string")?"string":O.startsWith("number")?"number":O.startsWith("date")?"Date":O.startsWith("boolean")?"boolean":"any"}}const $={all:!1,constructor:!1,setDesignerOpen:!1};let j=(()=>{class P{#e;constructor(O){this.itemService=O,this.log=(0,C.Tq)({FormulaDesignerService:P},$),this.cache=(0,v.d)(g),this.#e=(0,v.d)(u),this.itemSettingsServices={},this.designerState=(0,w.KX)("designerState",{editMode:!1,entityGuid:void 0,fieldName:void 0,isOpen:!1,target:void 0}),this.formulaResult=(0,w.bo)("formulaResult",()=>{const x=this.designerState();return this.cache.resultListIndexAndOriginal(x).value}),this.currentTargetOptions=(0,w.bo)("currentTargetOptions",()=>{const x=this.designerState(),H=this.cache.formulas();return this.#e.getTargetOptions(x,H)}),this.entityOptions=(0,w.bo)("entityOptions",()=>{const x=this.cache.formulas();return Object.entries(this.itemSettingsServices).map(([H,Q])=>{const le=x.filter(ve=>ve.entityGuid===H);return{entityGuid:H,formulas:le,hasFormula:le.length>0,label:Q.contentTypeSettings()._itemTitle}})}),this.fieldsOptions=(0,w.bo)("fieldsOptions",()=>{const x=this.designerState().entityGuid;if(null==x)return[];const H=this.entityOptions().find(he=>he.entityGuid==x).formulas,le=this.itemSettingsServices[x].allProps();return Object.keys(le).map(he=>{const fe=H.filter(ue=>ue.fieldName===he);return{fieldName:he,formulas:fe,hasFormula:fe.length>0,inputType:le[he].settings.InputType,label:he}})}),this.currentFormula=(0,w.bo)("currentFormula",()=>{const x=this.designerState(),{value:H}=this.cache.formulaListIndexAndOriginal(x);return H}),this.v1ContextSnippets=(0,w.bo)("v1ContextSnippets",()=>{const x=this.currentFormula();return null!=x?k.buildDesignerSnippetsContext(x):[]}),this.#t=(0,w.bo)("currentItemHeader",()=>{const x=this.designerState().entityGuid;return null==x?null:this.itemService.getItemHeader(x)}),this.v2JsTypings=(0,w.bo)("v2JsTypings",()=>{const x=this.currentFormula(),H=this.#t();return null!=x&&null!=H?E.getTypings(x,this.fieldsOptions(),H.Prefill):""}),this.v1DataSnippets=(0,w.bo)("v1DataSnippets",()=>{const x=this.currentFormula(),H=this.#t();return null!=x&&null!=H?k.getSnippets(x,this.fieldsOptions(),H.Prefill):[]}),this.log.fnIf("constructor")}initAfterItemSettingsAreReady(){const O=this.designerState(),[x,H]=Object.entries(this.itemSettingsServices)[0],Q=H.allProps(),le=Object.keys(Q)[0],he={...O,entityGuid:x,fieldName:le,target:null!=le?T.tC.Value:null};this.designerState.set(he)}#t;setDesignerOpen(O){this.log.fnIf("setDesignerOpen",{isOpen:O}),this.designerState.set({...this.designerState(),isOpen:O})}static{this.\u0275fac=function(x){return new(x||P)(e.KVO(b.b))}}static{this.\u0275prov=e.jDH({token:P,factory:P.\u0275fac})}}return P})()},827:(X,q,c)=>{"use strict";c.d(q,{GI:()=>D,OK:()=>w,pk:()=>e,qe:()=>v});const v="function ",w="v2((data, context) => {\n  return data.value;\n});",e="v2((data, context, item) => {\n  return data.value;\n});",D={V1:"v1",V2:"v2"}},5067:(X,q,c)=>{"use strict";c.d(q,{Z:()=>_e,$:()=>J});var v=c(827);class C{#e;#t;#i;#n;constructor(K){this.#e=K,this.#t=K.runParameters,this.#n=this.#t.pickerHelper.infos,this.#i=this.#t.pickerHelper.infos.mapper}get default(){const{formula:K}=this.#t;return K.isValue?this.#r(this.#t.defaultValueHelper().getDefaultOrPrefillValue()):K.isSetting?this.#t.settingsInitial[K.settingName]:K.isNewPicker?this.#n.options.list:void 0}get initial(){const K=this.#t.formula;return K.isValue?this.#r(this.#e.initialFormValues[K.fieldName]):null}get parameters(){return this.#e.parameters.all()}get prefill(){const{formula:K}=this.#t;return K.isValue?this.#r(this.#t.defaultValueHelper().getDefaultOrPrefillValue(!0)):null}get value(){const K=this.#t.formula;return K.isValue?this.#r(this.#t.currentValues[K.fieldName]):K.isSetting?this.#t.settingsCurrent[K.settingName]:K.isValidation?{severity:"",message:""}:void 0}get selected(){return this.#a("list")}get selectedRaw(){return this.#a("listRaw")}#a(K){const B=this.#n.selected[K];return this.#n.picker.selectedCopy(B)}get options(){return this.#s("list")}get optionsRaw(){return this.#s("listRaw")}#s(K){return this.#n.options[K]}#r(K){return this.#i?.toUi(K)??K}}class w{constructor(K,B){const V=K.runParameters.formula;this.cache=V.cache,this.debug=K.debugEnabled,this.sxc=V.sxc,this.user=V.user;const{getSetting:Z,...ee}=K.runParameters.formula.app;this.app=Object.assign(new T(K),ee),this.target=new S(K);const se=K.language,_=K.languages;this.culture={code:se.current,name:_.find(m=>m.NameId===se.current)?.Culture},this.features=new e(K),this.form=new D(K),this.entities=new b(K),this.xp=B}}class b{constructor(K){this.specs=K}getAll(){return this.specs.itemService.getMany(this.specs.formConfig.config.itemGuids).map(B=>({guid:B.Entity.Guid,id:B.Entity.Id,type:{guid:B.Entity.Type.Id,name:B.Entity.Type.Name}}))}getOfType(K){return this.getAll().find(B=>B.type.guid==K||B.type.name==K)}}class e{constructor(K){this.specs=K}isEnabled(K){return this.specs.features().find(B=>B.nameId===K)?.isEnabled??!1}}class D{constructor(K){this.specs=K}runFormulas(){if(this.specs.runParameters.formula.version===v.GI.V1)return console.error("form.runFormulas() is being deprecated and will stop working end of 2024. Use V2 formulas and return the promise. Formulas will auto-run when it completes."),void this.specs.fieldsSettingsSvc.retriggerFormulas("form.runFormulas()");console.error("form.runFormulas() is not supported in V2 formulas. Just return a promise.")}}class T{#e;constructor(K){this.#e=K}getSetting(K){return this.#e.runParameters.formula.version===v.GI.V1?(console.warn("app.getSetting() is not available in v1 formulas, please use v2."),"\u26a0\ufe0f error - see console"):this.#e.formConfig.config.settings.Values[K]??(console.warn(`Error: Setting '${K}' not found. Did you configure it in the ContentType to be included? See https://go.2sxc.org/formulas`),"\u26a0\ufe0f error - see console")}}class S{#e;constructor(K){this.#e=K;const B=K.runParameters.formula;this.entity=B.targetEntity;const V=B.isValue||B.isValidation;this.name=V?B.fieldName:B.target.substring(B.target.lastIndexOf(".")+1),this.type=V?B.target:B.target.substring(0,B.target.lastIndexOf("."))}}var y=c(3050);class z{constructor(K){this.specs=K}getEntities(){return this.#e("getEntities"),this.specs.itemService.getMany(this.specs.formConfig.config.itemGuids).map(B=>({guid:B.Entity.Guid,id:B.Entity.Id,type:{guid:B.Entity.Type.Id,name:B.Entity.Type.Name}}))}getSettings(K){return this.#e("getSettings"),this.specs.fieldsSettingsSvc.settings[K]()}getValues(K){this.#e("getValues");const B=this.specs.itemService.get(K);return new y.bT(this.specs.language).currentValues(B.Entity.Attributes)}#e(K){const B='A formula in this dialog is using an experimental feature: "{0}" - this will be removed soon.'.replace("{0}",K);console.error(B),!this.specs.warningsObsolete[K]&&(this.specs.warningsObsolete[K]=!0,alert(B))}}var R=c(7580),Y=c(7149);class W{constructor(K,B,V,Z,ee,se){this.designerSvc=K,this.translate=B,this.logSvc=V,this.formula=Z,this.ctTitle=ee,this.formulaProps=se,this.isOpen=!1,this.isOpen=this.#e(Z)}showStart(){if(!this.isOpen)return;const K=this.formula;console.log(`Running formula${K.version?.toLocaleUpperCase()} for Entity: "${this.ctTitle}", Field: "${K.fieldName}", Target: "${K.target}", arguments:`,this.formulaProps)}showResult(K,B,V){this.designerSvc.cache.cacheResults(this.formula,K,!1,!1),this.isOpen&&console.log("Formula result:",K)}showError(K){const B=this.formula,V=`Error in formula calculation for Entity: "${this.ctTitle}", Field: "${B.fieldName}", Target: "${B.target}"`;this.designerSvc.cache.cacheResults(B,void 0,!0,!1),this.logSvc.addLog(Y.E.Error,V,K),this.isOpen?console.error(V,K):this.logSvc.showMessage(this.translate.instant("Errors.FormulaCalculation"),2e3)}#e(K){return(0,R.O8t)(()=>{const B=this.designerSvc.designerState();return B.isOpen&&B.entityGuid===K.entityGuid&&B.fieldName===K.fieldName&&B.target===K.target})}}var oe=c(8003);class J{constructor(K,B,V,Z){this.designerSvc=K,this.translate=B,this.logSvc=V,this.ctTitle=Z}getPartsFor(K){const B=K.runParameters.formula,V=this.#e(K),Z=new W(this.designerSvc,this.translate,this.logSvc,B,this.ctTitle,V);return{formula:B,fieldName:B.fieldName,params:V,title:this.ctTitle,devHelper:Z,valHelper:new oe.d(B.fieldName,B.isValue,B.inputType,Z.isOpen,K.runParameters.pickerHelper.infos.mapper)}}#e(K){const{formula:B,currentValues:V}=K.runParameters;switch(B.version){case v.GI.V1:case v.GI.V2:const Z=Object.assign(new C(K),V),ee=new z(K);return{data:Z,context:new w(K,ee),experimental:ee};default:throw new Error("Formula version unknown not supported")}}}class _e{constructor(K){this.prefill=K}all(){return this.#e||(this.#e=this.prefill?JSON.parse(JSON.stringify(this.prefill)):{}),this.#e}#e}},8003:(X,q,c)=>{"use strict";c.d(q,{d:()=>D});var v=c(1726),C=c(4202),w=c(4435);const e={all:!1,v1:!1,v2:!1,allValues:!0,oneValue:!0,fields:[...c(6740).z]};class D{constructor(y,A,z,R,Y){this.fieldName=y,this.isValue=A,this.inputType=z,this.isOpen=R,this.valueMapper=Y,this.log=(0,w.Tq)({FormulaValueCorrections:D},e)}v1(y){const A=y&&Array.isArray(y)&&y.every(Y=>"string"==typeof Y);if(!(["string","number","boolean"].includes(typeof y)||y instanceof Date||A)&&y)return{ok:!1,v1Result:this.toFormulaResult(void 0)};const R=this.isValue?this.#e(y):y;return{ok:!0,v1Result:this.toFormulaResult(R)}}v2(y){return{...this.allValues(y),openInDesigner:this.isOpen}}allValues(y){const A=this.log.fnIfInList("allValues","fields",this.fieldName,{result:y}),z={value:void 0,fields:[],stop:null,sleep:null};if(null==y)return A.r({...z,value:y},"null/empty");const R=this.isValue;if(Array.isArray(y))return console.warn("Formula result was an array - this is not allowed. Please return an object containing the array instead: { value: [...] }.",y),A.r(z,"array");if("object"==typeof y){if(y instanceof Date&&R)return A.r({...z,value:this.#e(y)},"date");if(y instanceof Promise)return A.r({...z,value:void 0,promise:y},"promise");const W=y;return W.stop??=null,W.sleep??=null,W.value&&R&&(W.value=Array.isArray(W.value)?this.valueMapper?.toState(W.value)??W.value:this.#e(W.value)),W.fields&&(W.fields=W.fields?.map(oe=>(oe.value=this.#e(oe.value),oe))),W.options&&(Array.isArray(W.options)?W.options.length>0&&(W.options.find(oe=>!oe||null==oe.value)&&(console.error("some options are missing value",W.options),W.options=[]),function T(S){var y=S.map(z=>z.value),A=new Set(y);return y.length!==A.size&&(console.error("Duplicate values in options",S),!0)}(W.options)&&(console.error("duplicate values in options",W.options),W.options=[])):(console.error("options is not an array",W.options),W.options=[])),A.r(W,"object")}const Y={value:y};return R?A.r({...z,value:this.#e(Y.value)},"non-object, value"):A.r(Y,"non-object, non-value")}#e(y){if(null==y)return y;const A=this.inputType.inputType;if(A===C.u.DateTimeDefault||y instanceof Date){const z=new Date(y);return!("string"==typeof y&&y.endsWith("Z"))&&z.getTime()!==y&&z.setTime(z.getTime()-6e4*z.getTimezoneOffset()),z.setMilliseconds(0),z.toJSON()}return"string"!=typeof y&&(A?.startsWith(v.O.String.toLocaleLowerCase())||A?.startsWith(v.O.Hyperlink.toLocaleLowerCase()))?y.toString():y}toFormulaResult(y){return{value:y,fields:[],stop:null,sleep:null,openInDesigner:this.isOpen}}}},5970:(X,q,c)=>{"use strict";c.d(q,{AJ:()=>e,K3:()=>y,Yb:()=>D,a2:()=>C,j5:()=>S,jk:()=>b,si:()=>v,tC:()=>A,wB:()=>T,zD:()=>w});const v="Field.Settings.",C={Disabled:`${v}Disabled`,Name:`${v}Name`,Notes:`${v}Notes`,Required:`${v}Required`,Value:"Field.Value",Visible:`${v}Visible`,Validation:"Field.Validation"},w=Object.values(C),b={Options:"Field.Options",Selected:"Field.Selected"},e=Object.values(b),D=[b.Options,b.Selected],T=[b.Options,b.Selected],S={Collapsed:`${v}Collapsed`,DropdownValues:`${v}DropdownValues`},y=Object.values(S),A={...C,...S,...b}},9977:(X,q,c)=>{"use strict";c.d(q,{g:()=>b});var v=c(4435),C=c(6632),w=c(7580);let b=(()=>{class e extends C.r{constructor(){super((0,v.Tq)({LanguageService:e})),this.getId=T=>T.NameId.toLocaleLowerCase()}static{this.\u0275fac=function(S){return new(S||e)}}static{this.\u0275prov=w.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},5675:(X,q,c)=>{"use strict";c.d(q,{J:()=>v});const v={Translate:"Translate",DontTranslate:"DontTranslate",MissingDefaultLangValue:"MissingDefaultLangValue",LinkReadOnly:"LinkReadOnly",LinkReadWrite:"LinkReadWrite",LinkCopyFrom:"LinkCopyFrom"}},3991:(X,q,c)=>{"use strict";c.d(q,{k:()=>e});var v=c(4435),C=c(8394),w=c(6632),b=c(7580);let e=(()=>{class D extends w.r{constructor(){super((0,v.Tq)({ContentTypeItemService:D})),this.getId=S=>S.Guid}addContentTypeItems(S){const y=C.g.convertMany(S);this.addMany(y)}static{this.\u0275fac=function(y){return new(y||D)}}static{this.\u0275prov=b.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},6849:(X,q,c)=>{"use strict";c.d(q,{n:()=>D});var v=c(4813),C=c(9765),w=c(6632),b=c(4435),e=c(7580);let D=(()=>{class T extends w.r{constructor(){super((0,b.Tq)({ContentTypeService:T})),this.getId=y=>y.Id}addContentTypes(y){const A=v._.convertMany(y);this.addMany(A)}getContentTypeOfItem(y){const A=C.i.getContentTypeNameId(y);return this.get(A)}getAttribute(y,A){return this.get(y).Attributes.find(z=>z.Name===A)}getAttributeOfItem(y,A){return this.getContentTypeOfItem(y).Attributes.find(z=>z.Name===A)}static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275prov=e.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},9765:(X,q,c)=>{"use strict";c.d(q,{i:()=>v});class v{static getContentTypeNameId(w){return w.Entity.Type?.Id??w.Header.ContentTypeName}}},6001:(X,q,c)=>{"use strict";c.d(q,{A:()=>e});var v=c(1612),C=c(4435),w=c(6632),b=c(7580);let e=(()=>{class D extends w.r{constructor(){super((0,C.Tq)({InputTypeService:D},null)),this.getId=S=>S.Type}getAttributeInputTypes(S){const y=this.getAll();return S.map(A=>{const z=this.getSpecsInternal(A,y);return{name:A.Name,inputType:z.inputType}})}getSpecs(S){return this.getSpecsInternal(S,this.getAll())}getSpecsInternal(S,y){const A=y.find(W=>W.Type===S.InputType),z=S.InputType,R=z.toString();return{inputType:z,isExternal:!!A?.AngularAssets,mustUseGuid:!R.startsWith("string")&&!R.startsWith("number"),componentTagName:`field-${z}`,componentTagDialogName:`field-${z}-dialog`,metadata:A,isNewPicker:v.Q.isNewPicker(z)}}static{this.\u0275fac=function(y){return new(y||D)}}static{this.\u0275prov=b.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},4813:(X,q,c)=>{"use strict";c.d(q,{_:()=>b});var v=c(8394),C=c(3626);class w{static convertOne(D){const T=v.g.convertMany(D.Metadata),S=C.h.mergeSettings(T);return{InputType:D.InputType,IsTitle:D.IsTitle,Metadata:T,Name:D.Name,Settings:S,Type:D.Type}}static convertMany(D){return null==D?[]:D.map(S=>w.convertOne(S))}}class b{static convertOne(D){const T=w.convertMany(D.Attributes),S=v.g.convertMany(D.Metadata),y=C.h.mergeSettings(S);return{Attributes:T,Id:D.Id,Metadata:S,Name:D.Name,Scope:D.Scope,Settings:y,Title:D.Title}}static convertMany(D){return null==D?null:D.map(S=>b.convertOne(S))}}},402:(X,q,c)=>{"use strict";c.d(q,{v:()=>v});class v{static create(w){return{Value:w}}}},3626:(X,q,c)=>{"use strict";c.d(q,{h:()=>w});var v=c(3408);class C{static convert(e,D){return{Values:v._.convert(e),Type:D}}}class w{static convert(e){const D={};for(const[T,S]of Object.entries(e))for(const[y,A]of Object.entries(S))D[y]=C.convert(A,T);return D}static mergeSettings(e){if(null==e)return{};const D={};for(const T of e)if("@All"!==T.Type.Id)for(const[S,y]of Object.entries(T.Attributes)){const A={...y};D[S]=A}for(const T of e)if("@All"===T.Type.Id)for(const[S,y]of Object.entries(T.Attributes)){if(null!=D[S]&&""===y.Values[0].Value)continue;const R={...y};D[S]=R}return D}}},8394:(X,q,c)=>{"use strict";c.d(q,{g:()=>C});var v=c(3626);class C{static convertOne(b){const e=v.h.convert(b.Attributes),D=this.convertMany(b.Metadata);return{Attributes:e,Guid:b.Guid,Id:b.Id,Owner:b.Owner,Type:b.Type,Version:b.Version,For:b.For,Metadata:D}}static convertMany(b){return null==b?null:b.map(D=>C.convertOne(D))}}},3966:(X,q,c)=>{"use strict";c.d(q,{U:()=>C});var v=c(8394);class C{static convert(b){return{Entity:v.g.convertOne(b.Entity),Header:b.Header}}}},3408:(X,q,c)=>{"use strict";c.d(q,{_:()=>C});var v=c(402);class C{static create(b,e){return{Value:b,Dimensions:e}}static convert(b){return Object.entries(b).map(([D,T])=>{const S=D.split(",").map(y=>v.v.create(y));return this.create(T,S)})}}},7149:(X,q,c)=>{"use strict";c.d(q,{E:()=>D,J:()=>e});var v=c(9074),C=c(5797),w=c(7580),b=c(3347);let e=(()=>{class T{constructor(y){this.snackBar=y,this.logs$=new C.t([]),this.logLimit=50,this.lastSnackBarTime=0,this.snackBarDebounce=1e4}ngOnDestroy(){this.logs$.complete()}addLog(y,A,z){const W=[{error:z,label:A,severity:y,time:Date.now()},...this.logs$.value.slice(0,this.logLimit-2)];this.logs$.next(W)}showMessage(y,A,z){const R=Date.now();!z&&R-this.lastSnackBarTime<=this.snackBarDebounce||(null!=A&&A>0?this.snackBar.open(y,null,{duration:A}):this.snackBar.open(y),this.lastSnackBarTime=R)}getLogs$(){return this.logs$.asObservable()}getLogsSignal(){return(0,v.ot)(this.logs$)}static{this.\u0275fac=function(A){return new(A||T)(w.KVO(b.UG))}}static{this.\u0275prov=w.jDH({token:T,factory:T.\u0275fac})}}return T})();const D={Error:"error",Log:"log",Warn:"warn"}},7706:(X,q,c)=>{"use strict";c.d(q,{q:()=>y});var v=c(1612),C=c(4435),w=c(6740),b=c(4031),e=c(6177),D=c(7314),T=c(5675);const S={all:!1,mergeGenericSettings:!0,getDefaultSettings:!1,fields:[...w.z,"GroupPreview"]};class y{constructor(R){this.log=(0,C.Tq)({FieldsSettingsHelpers:y},S)}mergeGenericSettings(R,Y){const W=this.log.fnIfInList("mergeGenericSettings","fields",R,{fieldName:R,settings:Y}),oe=Y;if(null==oe.SettingsGeneric)return W.r(Y,"No generic settings");try{const J=JSON.parse(oe.SettingsGeneric);return W.r({...Y,...J},"Merged generic settings")}catch(J){return console.error("mergeGenericSettings",J),W.r(Y,"Error parsing generic settings")}}getDefaultSettings(R){const Y=A.moveDeprecatedSettings({...R});Y.Name??="",Y.Placeholder??="",Y.Notes??="",Y.Required??=!1,Y.Disabled??=!1,Y.DisableTranslation??=!1,Y.Visible??=!0,null!=Y.DefaultCollapsed&&(Y.Collapsed=Y.DefaultCollapsed,delete Y.DefaultCollapsed),Y.Formulas??=[];let W=b.y.singleton().get(R.InputType);return Y.DisableAutoTranslation??=!W?.canAutoTranslate,Y}isLastInGroup(R,Y){const W=R.Attributes.indexOf(Y);return null==R.Attributes[W+1]||!(W<R.Attributes.findIndex(J=>v.Q.isGroupStart(J.InputType))||!v.Q.isGroupEnd(Y.InputType)&&!v.Q.endsPreviousGroup(R.Attributes[W+1].InputType))}getDisabledBecauseTranslations(R,Y,W){const oe=new D.U(R,W);return!(W.current===W.primary||oe.hasPrimary&&!Y&&oe.hasEditableValues)}getTranslationState(R,Y,W,oe){let J,_e;oe&&this.log.fn("getTranslationState",{attributeValues:R,disableTranslation:Y,language:W});const ke=new D.U(R,W);if(Y)J="LangMenu.InAllLanguages",_e="";else if(ke.hasPrimary){const V=ke.hasEditableValues,Z=ke.hasCurrentReadonly;if(V||Z){const ee=ke.current.Dimensions.map(_=>_.Value).filter(_=>!_.includes(W.current));ee.length>0?(V?J="LangMenu.In":Z&&(J="LangMenu.From"),_e=e.x.calculateSharedInfoMessage(ee,W.current)):(J="",_e="")}else J="LangMenu.UseDefault",_e=""}else J="LangMenu.MissingDefaultLangValue",_e=W.primary;const K=this.#e(R,Y,W);return{infoLabel:J,infoMessage:_e,language:K.language,linkType:K.linkType}}#e(R,Y,W){const oe=new D.U(R,W);if(!oe.hasPrimary)return{language:"",linkType:T.J.MissingDefaultLangValue};if(Y)return{language:"",linkType:T.J.DontTranslate};if(oe.hasEditableValues){const J=oe.current.Dimensions.filter(_e=>_e.Value!==W.current);return J.length>0?{language:J[0].Value,linkType:T.J.LinkReadWrite}:{language:"",linkType:T.J.Translate}}return oe.hasCurrentReadonly?{language:oe.current.Dimensions.filter(_e=>_e.Value!==W.current)[0].Value,linkType:T.J.LinkReadOnly}:{language:"",linkType:T.J.DontTranslate}}}class A{static moveDeprecatedSettings(R){var Y=R;return null==Y.VisibleInEditUI||(R.Visible=Y.VisibleInEditUI,delete Y.VisibleInEditUI),R}}},927:(X,q,c)=>{"use strict";c.d(q,{b:()=>ke});var v=c(271),C=c(52),w=c(3966),b=c(8021),e=c(4435),D=c(7314),T=c(402),S=c(3408),y=c(9274);class A{constructor(){this.log=(0,e.Tq)({FieldWriter:A})}#e(B,V,Z){const ee={};if(0===Object.keys(B).length){const se={...Z};return ee[V]=se,ee}for(const se of Object.keys(B))if(se===V){const _={...Z};ee[se]=_}else{const _={...B[se]};ee[se]=_}if(null==B[V]){const se={...Z};ee[V]=se}return ee}updateAttributesValues(B,V,Z){const ee=this.log.fn("updateAttributesValues",{allFields:B,updateValues:V,language:Z}),se={};return Object.keys(B).forEach(_=>{const m=V[_];if(void 0!==m)if(new D.U(B[_],Z).isEditableOrReadonlyTranslationExist()){const d={...B[_],Values:B[_].Values.map(u=>new y.Y(u.Dimensions,Z).hasCurrent?{...u,Value:m}:u)};se[_]=d}else{ee.a("saveAttributeValues add values ",{newItemValue:m});const d=S._.create(m,[T.v.create(Z.current)]);se[_]={...B[_],Values:[...B[_].Values,d]}}else se[_]={...B[_]}}),se}updateAttributeValue(B,V,Z,ee,se){let _={},m=ee.current;se&&(m=`~${ee.current}`);const h={...B[V],Values:B[V].Values.map(g=>new y.Y(g.Dimensions,ee).hasCurrent?{...g,Value:Z,Dimensions:g.Dimensions.map(f=>f.Value===ee.current||f.Value===`~${ee.current}`||ee.current===ee.primary&&"*"===f.Value?{Value:m}:f)}:g)};return _=this.#e(B,V,h),_}addAttributeValue(B,V,Z,ee){let se={};const _=0!==Object.keys(B).length&&B[Z]?{...B[Z],Values:[...B[Z].Values,V],Type:ee}:{...B[Z],Values:[V],Type:ee};return se=this.#e(B,Z,_),se}addAttributeDimension(B,V,Z,ee,se,_){let m={},h=Z;_&&(h=`~${Z}`);const g={...B[V],Values:B[V].Values.map(d=>d.Dimensions.find(f=>f.Value===ee||ee===se&&"*"===f.Value)?{...d,Dimensions:d.Dimensions.concat({Value:h})}:d)};return m=this.#e(B,V,g),m}removeAttributeDimension(B,V,Z){const ee=B,se=[Z,`~${Z}`],_=ee[V].Values.find(g=>g.Dimensions.some(u=>se.includes(u.Value)));if(!_)return{...ee};let m;return _.Dimensions.length>1?m={...ee[V],Values:ee[V].Values.map(g=>g.Dimensions.some(u=>se.includes(u.Value))?{...g,Dimensions:g.Dimensions.filter(u=>!se.includes(u.Value))}:g)}:1===_.Dimensions.length&&(m={...ee[V],Values:ee[V].Values.filter(g=>!g.Dimensions.some(u=>se.includes(u.Value)))}),this.#e(ee,V,m)}}var z=c(3050),R=c(6953);const Y={all:!0,updateItemId:!1,updateItemHeader:!1,addItemAttributeValue:!1,updateItemAttributeValue:!1,setDefaultValue:!1,updateItemAttributesValues:!1,addItemAttributeDimension:!1,removeItemAttributeDimension:!1,updateItemMetadata:!1};class W{constructor(B){this.itemSvc=B,this.log=(0,e.Tq)({ItemUpdateHelper:W},Y)}updateItemId(B){this.log.fnIf("updateItemId",{saveResult:B});const Z=Object.keys(B)[0],ee=B[Z],se=this.itemSvc.get(Z);if(!se||0!==se.Header.EntityId&&0!==se.Entity.Id)return;const _={...se,Header:{...se.Header,EntityId:ee},Entity:{...se.Entity,Id:ee}};this.itemSvc.add(_)}updateItemHeader(B,V){const Z=this.log.fnIf("updateItemHeader",{entityGuid:B,header:V}),ee=this.itemSvc.get(B);if(!ee)return;const se={...ee,Header:{...V}};this.itemSvc.add(se),Z.end()}addItemAttributeValue(B,V,Z,ee,se,_,m=!1,h){this.log.fnIf("addItemAttributeValue",{entityGuid:B,attributeKey:V,newValue:Z,currentLanguage:ee,isReadOnly:se,attributeType:_,isTransaction:m,transactionItem:h});const u=S._.create(Z,[T.v.create(se?`~${ee}`:ee)]),f=h??this.itemSvc.get(B),k={...f,Entity:{...f.Entity,Attributes:(new A).addAttributeValue(f.Entity.Attributes,u,V,_)}};return m||this.itemSvc.add(k),k}updateItemAttributeValue(B,V,Z,ee,se){this.log.fnIf("updateItemAttributeValue",{entityGuid:B,attributeKey:V,newValue:Z,language:ee,isReadOnly:se});const m=this.itemSvc.get(B);if(!m)return;const h={...m,Entity:{...m.Entity,Attributes:(new A).updateAttributeValue(m.Entity.Attributes,V,Z,ee,se)}};this.itemSvc.add(h)}setDefaultValue(B,V,Z,ee,se,_){const m=this.log.fnIf("setDefaultValue",{item:B,ctAttribute:V,inputType:Z,settings:ee,languages:se,defaultLanguage:_},`Name: ${V.Name}`),h=new z.X3(V.Name,Z?.Type,ee,B.Header).getDefaultOrPrefillValue(),g=new D.U(B.Entity.Attributes[V.Name],_).currentOrDefault?.Value,d=0===se.length||Z?.DisableI18n?"*":_;return void 0===g?this.addItemAttributeValue(B.Entity.Guid,V.Name,h,d,!1,V.Type):this.updateItemAttributeValue(B.Entity.Guid,V.Name,h,{current:d,primary:_},!1),m.r(h)}updateItemAttributesValues(B,V,Z){const ee=this.log.fnIf("updateItemAttributesValues",{entityGuid:B,newValues:V,language:Z}),se=this.itemSvc.get(B);if(!se)return ee.end("Item not found");const _=new z.bT(Z),m={},h=Object.entries(se.Entity.Attributes).filter(([f])=>V.hasOwnProperty(f));for(const[f,k]of h)m[f]=_.getBestValue(k);const g=R.$.getItemValuesChanges(m,V);if(null==g)return ee.end("No changes");const d=(new A).updateAttributesValues(se.Entity.Attributes,g,Z),u={...se,Entity:{...se.Entity,Attributes:d}};this.itemSvc.add(u)}addItemAttributeDimension(B,V,Z,ee,se,_,m){this.log.fnIf("addItemAttributeDimension",{entityGuid:B,attributeKey:V,currentLanguage:Z,shareWithLanguage:ee,defaultLanguage:se,isReadOnly:_,transactionItem:m});const g=m??this.itemSvc.get(B),d={...g,Entity:{...g.Entity,Attributes:(new A).addAttributeDimension(g.Entity.Attributes,V,Z,ee,se,_)}};this.itemSvc.add(d)}removeItemAttributeDimension(B,V,Z,ee=!1,se){const _=this.log.fnIf("removeItemAttributeDimension",{entityGuid:B,attributeKey:V,currentLanguage:Z,isTransaction:ee,transactionItem:se}),m=se??this.itemSvc.get(B),h={...m,Entity:{...m.Entity,Attributes:(new A).removeAttributeDimension(m.Entity.Attributes,V,Z)}};return ee||this.itemSvc.add(h),_.r(h)}updateItemMetadata(B,V){const Z=this.log.fnIf("updateItemMetadata",{entityGuid:B,metadata:V}),ee=this.itemSvc.get(B),se={...ee,Entity:{...ee.Entity,Metadata:V}};this.itemSvc.add(se),Z.end("ok",{newItem:se})}}var oe=c(8503),J=c(9964),_e=c(7580);let ke=(()=>{class K extends J.k{constructor(){super((0,e.Tq)({ItemService:K})),this.getId=V=>V.Entity.Guid,this.updater=new W(this),this.#e=new oe.K("itemAttributes"),this.#t=new oe.K("itemHeader"),this.#i=new oe.K("slotIsEmpty")}loadItems(V){const Z=V.map(ee=>w.U.convert(ee));this.addMany(Z)}itemAttributesSignal(V){const Z=this.log.fn("itemAttributes",{entityGuid:V}),ee=this.#e.getOrCreate(V,()=>this.getSignal(V)()?.Entity.Attributes);return Z.r(ee)}#e;getItemAttributes(V){const Z=this.log.fn("getItemAttributes",{entityGuid:V}),ee=this.get(V)?.Entity.Attributes;return Z.r(ee)}getItemAttributes$(V){return this.list$.pipe((0,v.T)(Z=>Z.find(ee=>ee.Entity.Guid===V)?.Entity.Attributes),(0,b.J)(Z=>Z))}getItemHeader(V){return this.get(V)?.Header}getItemHeader$(V){return this.list$.pipe((0,v.T)(Z=>Z.find(ee=>ee.Entity.Guid===V)?.Header),(0,b.A)(Z=>Z))}getItemHeaderSignal(V){return this.#t.getOrCreate(V,()=>this.getSignal(V)()?.Header)}#t;slotIsEmpty(V){return this.#i.getOrCreate(V,()=>{const Z=this.getSignal(V)()?.Header;return null==Z||Z.IsEmptyAllowed&&Z.IsEmpty})}#i;getItemFor(V){return this.get(V)?.Entity.For}getItemNote(V){return this.get(V)?.Entity.Metadata?.find(Z=>Z.Type.Name===C.YX.contentTypes.notes)}static{this.\u0275fac=function(Z){return new(Z||K)}}static{this.\u0275prov=_e.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},3176:(X,q,c)=>{"use strict";c.d(q,{$:()=>w});var v=c(7092),C=c(7580);let w=(()=>{class b{constructor(){this.subscriptions=new v.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(T){return new(T||b)}}static{this.\u0275cmp=C.VBU({type:b,selectors:[["app-base-component"]],decls:0,vars:0,template:function(T,S){},encapsulation:2})}}return b})()},3140:(X,q,c)=>{"use strict";c.d(q,{J:()=>w});var v=c(7092),C=c(7580);let w=(()=>{class b{constructor(){this.subscriptions=new v.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(T){return new(T||b)}}static{this.\u0275dir=C.FsC({type:b})}}return b})()},1726:(X,q,c)=>{"use strict";c.d(q,{O:()=>v});const v={Boolean:"Boolean",Custom:"Custom",DateTime:"DateTime",Empty:"Empty",Entity:"Entity",Hyperlink:"Hyperlink",Number:"Number",String:"String"}},519:(X,q,c)=>{"use strict";function v(C){const w=document.createElement("textarea");w.value=C,w.setAttribute("readonly",""),w.style.position="absolute",w.style.left="-9999px",document.body.appendChild(w);const b=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);w.select(),document.execCommand("copy"),document.body.removeChild(w),b&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(b))}c.d(q,{l:()=>v})},9914:(X,q,c)=>{"use strict";c.d(q,{$:()=>w});var v=c(7580),C=c(436);let w=(()=>{class b{constructor(D){this.sanitizer=D}transform(D){return this.sanitizer.bypassSecurityTrustHtml(D)}static{this.\u0275fac=function(T){return new(T||b)(v.rXU(C.up,16))}}static{this.\u0275pipe=v.EJ8({name:"safeHtml",type:b,pure:!0})}}return b})()},9234:(X,q,c)=>{"use strict";c.d(q,{Gg:()=>R,Tr:()=>Y,gb:()=>z});var v=c(1567),C=c(6647),w=c(6301),b=c(271),e=c(2938),D=c(4435),T=c(6474),S=c(4839),y=c(7580);const A={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},z="admin/entity/",R="admin/entity/list";let Y=(()=>{class W extends T.D{constructor(){super(...arguments),this.log=(0,D.Tq)({EntityService:W},A),this.queryService=(0,e.d)(S.c)}getEntities$(J){return this.log.fnIf("getEntities"),J.pipe((0,v.p)(_e=>null!=_e),(0,C.n)(_e=>this.getAvailableEntities(_e.contentTypeName).pipe((0,w.t)(1))))}getAvailableEntities(J,_e){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[J],itemIds:_e,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,b.T)(K=>K.Default))}delete(J,_e,ke,K,B,V){return this.log.fnIf("delete",{appId:J,contentType:_e,entityId:ke,force:K,parentId:B,parent}),this.http.delete(this.apiUrl(z+"delete"),{params:{contentType:_e,id:ke.toString(),appId:J,force:K.toString(),...B&&{parentId:B.toString()},...B&&V&&{parentField:V}}})}static{this.\u0275fac=(()=>{let J;return function(ke){return(J||(J=y.xGo(W)))(ke||W)}})()}static{this.\u0275prov=y.jDH({token:W,factory:W.\u0275fac})}}return W})()},4839:(X,q,c)=>{"use strict";c.d(q,{c:()=>D});var v=c(4435),C=c(8873),w=c(7580),b=c(6443);const e={all:!1,getAvailableEntities:!1,getEntities:!1};let D=(()=>{class T{constructor(y,A){this.http=y,this.context=A,this.log=(0,v.Tq)({QueryService:T},e)}getFromQuery(y,A,z,R){this.log.fnIf("getAvailableEntities",{queryUrl:y,params:A,fields:z,entitiesFilter:R});const Y=!!A,_e=(((A?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(Y?`&${A}`:"")+"&$select="+(z??"")).substring(1);return this.http.post(`app/auto/query/${y}?${_e}`,{Guids:R})}getEntities({contentTypes:y,itemIds:A,fields:z,log:R}){this.log.fnIf("getEntities",{log:R,contentTypes:y,itemIds:A,fields:z});const W=("&typeNames="+(y?.join(",")??"")+`&appId=${this.context.appId}&itemIds=`+(A?.join(",")??"")+"&$select="+(z??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${W}`,{})}static{this.\u0275fac=function(A){return new(A||T)(w.KVO(b.Qq),w.KVO(C.o))}}static{this.\u0275prov=w.jDH({token:T,factory:T.\u0275fac})}}return T})()},7167:(X,q,c)=>{"use strict";c.d(q,{L:()=>T});var v=c(8172),C=c(8798),w=c(7580);let T=(()=>{class S{constructor(){}#e=new C.Yz("user-language");#t(A,z){const R=this.#i()?.["ui"==A?"languageUi":"languageForm"];return R?.endsWith("!")?{language:R.slice(0,-1),force:!0}:{language:this.stored(A)??R??z,force:!1}}value(A){return this.#t(A).language}stored(A){return this.#e.get(A)||null}save(A,z){this.#e.add(A,z||null)}uiCode(A){return this.#t("ui",A)?.language?.toLocaleLowerCase().split("-")[0]}isForced(A){return this.#t(A)?.force}userConfigurable(){const A=this.#i()?.languageUserSettings;return!1!==A&&"false"!==A}#i(){if(this.#n)return this.#n;const A=sessionStorage.getItem(v.QR);return A?this.#n=JSON.parse(A):null}#n;static{this.\u0275fac=function(z){return new(z||S)}}static{this.\u0275prov=w.jDH({token:S,factory:S.\u0275fac})}}return S})()},8656:(X,q,c)=>{"use strict";c.d(q,{i:()=>e});var v=c(7580),C=c(4435),w=c(8798);const b="user-settings";let e=(()=>{class T{constructor(){this.log=(0,C.Tq)({UserPreferences:T}),this.#n={},this.log.fn("constructor")}get local(){return this.#e??=new w.Yz(b)}#e;get session(){return this.#t??=new w.pj(b)}#t;get(y,A=!1){return(A?this.local:this.session).get(y)}set(y,A,z=!1){(z?this.local:this.session).add(y,A)}part({key:y,data:A}){return this.#i(y,A,!0)}#i(y,A,z=!1){if(this.#n[y])return this.#n[y];const R=new D(this,y,A,z);return this.#n[y]=R,R}#n;static{this.\u0275fac=function(A){return new(A||T)}}static{this.\u0275prov=v.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();class D{constructor(S,y,A,z=!1){this.userSettings=S,this.storeKey=y,this.longTerm=z,this.log=(0,C.Tq)({UserPreferencesPart:D});const R={...A,...S.get(y,z)};this.log.fn("constructor",R),this.#e=(0,v.vPA)(R)}#e;get snapshot(){return this.#e()}get data(){return this.#e.asReadonly()}get(S){return this.#e()[S]}set(S,y){this.#e.update(A=>({...A,[S]:y})),this.#t()}toggle(S){this.#e.update(y=>({...y,[S]:!y[S]})),this.#t()}setAll(S){this.#e.set(S),this.#t()}setMany(S){this.#e.update(y=>({...y,...S})),this.#t()}#t(){const S=this.#e();this.log.fn("save",S),this.userSettings.set(this.storeKey,this.#e(),this.longTerm)}}},9645:function(X){X.exports=function(){"use strict";var c=6e4,v=36e5,C="millisecond",w="second",b="minute",e="hour",D="day",T="week",S="month",y="quarter",A="year",z="date",R="Invalid Date",Y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},J=function(m,h,g){var d=String(m);return!d||d.length>=h?m:""+Array(h+1-d.length).join(g)+m},_e={s:J,z:function(m){var h=-m.utcOffset(),g=Math.abs(h),d=Math.floor(g/60),u=g%60;return(h<=0?"+":"-")+J(d,2,"0")+":"+J(u,2,"0")},m:function m(h,g){if(h.date()<g.date())return-m(g,h);var d=12*(g.year()-h.year())+(g.month()-h.month()),u=h.clone().add(d,S),f=g-u<0,k=h.clone().add(d+(f?-1:1),S);return+(-(d+(g-u)/(f?u-k:k-u))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:S,y:A,w:T,d:D,D:z,h:e,m:b,s:w,ms:C,Q:y}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return void 0===m}},ke="en",K={};K[ke]=oe;var B=function(m){return m instanceof se},V=function m(h,g,d){var u;if(!h)return ke;if("string"==typeof h){var f=h.toLowerCase();K[f]&&(u=f),g&&(K[f]=g,u=f);var k=h.split("-");if(!u&&k.length>1)return m(k[0])}else{var F=h.name;K[F]=h,u=F}return!d&&u&&(ke=u),u||!d&&ke},Z=function(m,h){if(B(m))return m.clone();var g="object"==typeof h?h:{};return g.date=m,g.args=arguments,new se(g)},ee=_e;ee.l=V,ee.i=B,ee.w=function(m,h){return Z(m,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var se=function(){function m(g){this.$L=V(g.locale,null,!0),this.parse(g)}var h=m.prototype;return h.parse=function(g){this.$d=function(d){var u=d.date,f=d.utc;if(null===u)return new Date(NaN);if(ee.u(u))return new Date;if(u instanceof Date)return new Date(u);if("string"==typeof u&&!/Z$/i.test(u)){var k=u.match(Y);if(k){var F=k[2]-1||0,E=(k[7]||"0").substring(0,3);return f?new Date(Date.UTC(k[1],F,k[3]||1,k[4]||0,k[5]||0,k[6]||0,E)):new Date(k[1],F,k[3]||1,k[4]||0,k[5]||0,k[6]||0,E)}}return new Date(u)}(g),this.$x=g.x||{},this.init()},h.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},h.$utils=function(){return ee},h.isValid=function(){return this.$d.toString()!==R},h.isSame=function(g,d){var u=Z(g);return this.startOf(d)<=u&&u<=this.endOf(d)},h.isAfter=function(g,d){return Z(g)<this.startOf(d)},h.isBefore=function(g,d){return this.endOf(d)<Z(g)},h.$g=function(g,d,u){return ee.u(g)?this[d]:this.set(u,g)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(g,d){var u=this,f=!!ee.u(d)||d,k=ee.p(g),F=function(H,Q){var le=ee.w(u.$u?Date.UTC(u.$y,Q,H):new Date(u.$y,Q,H),u);return f?le:le.endOf(D)},E=function(H,Q){return ee.w(u.toDate()[H].apply(u.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(Q)),u)},$=this.$W,j=this.$M,P=this.$D,ne="set"+(this.$u?"UTC":"");switch(k){case A:return f?F(1,0):F(31,11);case S:return f?F(1,j):F(0,j+1);case T:var O=this.$locale().weekStart||0,x=($<O?$+7:$)-O;return F(f?P-x:P+(6-x),j);case D:case z:return E(ne+"Hours",0);case e:return E(ne+"Minutes",1);case b:return E(ne+"Seconds",2);case w:return E(ne+"Milliseconds",3);default:return this.clone()}},h.endOf=function(g){return this.startOf(g,!1)},h.$set=function(g,d){var u,f=ee.p(g),k="set"+(this.$u?"UTC":""),F=(u={},u[D]=k+"Date",u[z]=k+"Date",u[S]=k+"Month",u[A]=k+"FullYear",u[e]=k+"Hours",u[b]=k+"Minutes",u[w]=k+"Seconds",u[C]=k+"Milliseconds",u)[f],E=f===D?this.$D+(d-this.$W):d;if(f===S||f===A){var $=this.clone().set(z,1);$.$d[F](E),$.init(),this.$d=$.set(z,Math.min(this.$D,$.daysInMonth())).$d}else F&&this.$d[F](E);return this.init(),this},h.set=function(g,d){return this.clone().$set(g,d)},h.get=function(g){return this[ee.p(g)]()},h.add=function(g,d){var u,f=this;g=Number(g);var k=ee.p(d),F=function(j){var P=Z(f);return ee.w(P.date(P.date()+Math.round(j*g)),f)};if(k===S)return this.set(S,this.$M+g);if(k===A)return this.set(A,this.$y+g);if(k===D)return F(1);if(k===T)return F(7);var E=(u={},u[b]=c,u[e]=v,u[w]=1e3,u)[k]||1,$=this.$d.getTime()+g*E;return ee.w($,this)},h.subtract=function(g,d){return this.add(-1*g,d)},h.format=function(g){var d=this,u=this.$locale();if(!this.isValid())return u.invalidDate||R;var f=g||"YYYY-MM-DDTHH:mm:ssZ",k=ee.z(this),F=this.$H,E=this.$m,$=this.$M,j=u.weekdays,P=u.months,ne=function(Q,le,ve,he){return Q&&(Q[le]||Q(d,f))||ve[le].slice(0,he)},O=function(Q){return ee.s(F%12||12,Q,"0")},x=u.meridiem||function(Q,le,ve){var he=Q<12?"AM":"PM";return ve?he.toLowerCase():he},H={YY:String(this.$y).slice(-2),YYYY:this.$y,M:$+1,MM:ee.s($+1,2,"0"),MMM:ne(u.monthsShort,$,P,3),MMMM:ne(P,$),D:this.$D,DD:ee.s(this.$D,2,"0"),d:String(this.$W),dd:ne(u.weekdaysMin,this.$W,j,2),ddd:ne(u.weekdaysShort,this.$W,j,3),dddd:j[this.$W],H:String(F),HH:ee.s(F,2,"0"),h:O(1),hh:O(2),a:x(F,E,!0),A:x(F,E,!1),m:String(E),mm:ee.s(E,2,"0"),s:String(this.$s),ss:ee.s(this.$s,2,"0"),SSS:ee.s(this.$ms,3,"0"),Z:k};return f.replace(W,function(Q,le){return le||H[Q]||k.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(g,d,u){var f,k=ee.p(d),F=Z(g),E=(F.utcOffset()-this.utcOffset())*c,$=this-F,j=ee.m(this,F);return j=(f={},f[A]=j/12,f[S]=j,f[y]=j/3,f[T]=($-E)/6048e5,f[D]=($-E)/864e5,f[e]=$/v,f[b]=$/c,f[w]=$/1e3,f)[k]||$,u?j:ee.a(j)},h.daysInMonth=function(){return this.endOf(S).$D},h.$locale=function(){return K[this.$L]},h.locale=function(g,d){if(!g)return this.$L;var u=this.clone(),f=V(g,d,!0);return f&&(u.$L=f),u},h.clone=function(){return ee.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},m}(),_=se.prototype;return Z.prototype=_,[["$ms",C],["$s",w],["$m",b],["$H",e],["$W",D],["$M",S],["$y",A],["$D",z]].forEach(function(m){_[m[1]]=function(h){return this.$g(h,m[0],m[1])}}),Z.extend=function(m,h){return m.$i||(m(h,se,Z),m.$i=!0),Z},Z.locale=V,Z.isDayjs=B,Z.unix=function(m){return Z(1e3*m)},Z.en=K[ke],Z.Ls=K,Z.p={},Z}()},9718:function(X,q,c){X.exports=function(v){"use strict";var w=function C(S){return S&&"object"==typeof S&&"default"in S?S:{default:S}}(v),b="\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},D={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},T={name:"ar",weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),months:b,monthsShort:b,weekStart:6,relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",m:"\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",yy:"%d \u0623\u0639\u0648\u0627\u0645"},preparse:function(S){return S.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(y){return D[y]}).replace(/\u060c/g,",")},postformat:function(S){return S.replace(/\d/g,function(y){return e[y]}).replace(/,/g,"\u060c")},ordinal:function(S){return S},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return w.default.locale(T,null,!0),T}(c(9645))},1810:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"bg",weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekStart:1,ordinal:function(e){var D=e%100;if(D>10&&D<20)return e+"-\u0442\u0438";var T=e%10;return 1===T?e+"-\u0432\u0438":2===T?e+"-\u0440\u0438":7===T||8===T?e+"-\u043c\u0438":e+"-\u0442\u0438"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"}};return w.default.locale(b,null,!0),b}(c(9645))},6155:function(X,q,c){X.exports=function(v){"use strict";var w=function C(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(v);function b(T){return T>1&&T<5&&1!=~~(T/10)}function e(T,S,y,A){var z=T+" ";switch(y){case"s":return S||A?"p\xe1r sekund":"p\xe1r sekundami";case"m":return S?"minuta":A?"minutu":"minutou";case"mm":return S||A?z+(b(T)?"minuty":"minut"):z+"minutami";case"h":return S?"hodina":A?"hodinu":"hodinou";case"hh":return S||A?z+(b(T)?"hodiny":"hodin"):z+"hodinami";case"d":return S||A?"den":"dnem";case"dd":return S||A?z+(b(T)?"dny":"dn\xed"):z+"dny";case"M":return S||A?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return S||A?z+(b(T)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):z+"m\u011bs\xedci";case"y":return S||A?"rok":"rokem";case"yy":return S||A?z+(b(T)?"roky":"let"):z+"lety"}}var D={name:"cs",weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),months:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),monthsShort:"led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(T){return T+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return w.default.locale(D,null,!0),D}(c(9645))},1118:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"da",weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n._man._tirs._ons._tors._fre._l\xf8r.".split("_"),weekdaysMin:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(e){return e+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"}};return w.default.locale(b,null,!0),b}(c(9645))},6058:function(X,q,c){X.exports=function(v){"use strict";var w=function C(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(v),b={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(T,S,y){var A=b[y];return Array.isArray(A)&&(A=A[S?0:1]),A.replace("%d",T)}var D={name:"de-at",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(T){return T+"."},weekStart:1,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return w.default.locale(D,null,!0),D}(c(9645))},3996:function(X,q,c){X.exports=function(v){"use strict";var w=function C(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(v),b={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(T,S,y){var A=b[y];return Array.isArray(A)&&(A=A[S?0:1]),A.replace("%d",T)}var D={name:"de-ch",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(T){return T+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return w.default.locale(D,null,!0),D}(c(9645))},6626:function(X,q,c){X.exports=function(v){"use strict";var w=function C(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(v),b={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(T,S,y){var A=b[y];return Array.isArray(A)&&(A=A[S?0:1]),A.replace("%d",T)}var D={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(T){return T+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return w.default.locale(D,null,!0),D}(c(9645))},396:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"el",weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03b9_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0\u03c4_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),ordinal:function(e){return e},weekStart:1,relativeTime:{future:"\u03c3\u03b5 %s",past:"\u03c0\u03c1\u03b9\u03bd %s",s:"\u03bc\u03b5\u03c1\u03b9\u03ba\u03ac \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return w.default.locale(b,null,!0),b}(c(9645))},1237:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"en-au",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return w.default.locale(b,null,!0),b}(c(9645))},9791:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"en-ca",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return w.default.locale(b,null,!0),b}(c(9645))},3238:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(e){var D=["th","st","nd","rd"],T=e%100;return"["+e+(D[(T-20)%10]||D[T]||D[0])+"]"}};return w.default.locale(b,null,!0),b}(c(9645))},3821:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"en-ie",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return w.default.locale(b,null,!0),b}(c(9645))},8214:function(X){X.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}()},8403:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return w.default.locale(b,null,!0),b}(c(9645))},1686:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"es-us",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return w.default.locale(b,null,!0),b}(c(9645))},3857:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"}};return w.default.locale(b,null,!0),b}(c(9645))},2467:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"fa",weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekStart:6,months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"}};return w.default.locale(b,null,!0),b}(c(9645))},1624:function(X,q,c){X.exports=function(v){"use strict";var w=function C(D){return D&&"object"==typeof D&&"default"in D?D:{default:D}}(v);function b(D,T,S,y){var A={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"p\xe4iv\xe4",dd:"%d p\xe4iv\xe4\xe4",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj\xe4_viisi_kuusi_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},z={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"p\xe4iv\xe4n",dd:"%d p\xe4iv\xe4n",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_nelj\xe4n_viiden_kuuden_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},R=y&&!T?z:A;return R[S].replace("%d",D<10?R.numbers[D]:D)}var e={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),ordinal:function(D){return D+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return w.default.locale(e,null,!0),e}(c(9645))},3669:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"fr-ch",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekStart:1,weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return w.default.locale(b,null,!0),b}(c(9645))},2121:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return w.default.locale(b,null,!0),b}(c(9645))},598:function(X,q,c){X.exports=function(v){"use strict";var w=function C(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(v),b={s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:"%d \u05e9\u05e2\u05d5\u05ea",hh2:"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",d:"\u05d9\u05d5\u05dd",dd:"%d \u05d9\u05de\u05d9\u05dd",dd2:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd",M:"\u05d7\u05d5\u05d3\u05e9",MM:"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd",MM2:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",y:"\u05e9\u05e0\u05d4",yy:"%d \u05e9\u05e0\u05d9\u05dd",yy2:"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd"};function e(T,S,y){return(b[y+(2===T?"2":"")]||b[y]).replace("%d",T)}var D={name:"he",weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5_\u05e9\u05f3".split("_"),months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5_\u05e4\u05d1\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0_\u05d9\u05d5\u05dc_\u05d0\u05d5\u05d2_\u05e1\u05e4\u05d8_\u05d0\u05d5\u05e7_\u05e0\u05d5\u05d1_\u05d3\u05e6\u05de".split("_"),relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinal:function(T){return T},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"}};return w.default.locale(D,null,!0),D}(c(9645))},7426:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"hi",weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"}};return w.default.locale(b,null,!0),b}(c(9645))},6567:function(X,q,c){X.exports=function(v){"use strict";var w=function C(y){return y&&"object"==typeof y&&"default"in y?y:{default:y}}(v),b="sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),e="sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),D=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,T=function(y,A){return D.test(A)?b[y.month()]:e[y.month()]};T.s=e,T.f=b;var S={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),months:T,monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(y){return y+"."}};return w.default.locale(S,null,!0),S}(c(9645))},6886:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"hu",weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),ordinal:function(e){return e+"."},weekStart:1,relativeTime:{future:"%s m\xfalva",past:"%s",s:function(e,D,T,S){return"n\xe9h\xe1ny m\xe1sodperc"+(S||D?"":"e")},m:function(e,D,T,S){return"egy perc"+(S||D?"":"e")},mm:function(e,D,T,S){return e+" perc"+(S||D?"":"e")},h:function(e,D,T,S){return"egy "+(S||D?"\xf3ra":"\xf3r\xe1ja")},hh:function(e,D,T,S){return e+" "+(S||D?"\xf3ra":"\xf3r\xe1ja")},d:function(e,D,T,S){return"egy "+(S||D?"nap":"napja")},dd:function(e,D,T,S){return e+" "+(S||D?"nap":"napja")},M:function(e,D,T,S){return"egy "+(S||D?"h\xf3nap":"h\xf3napja")},MM:function(e,D,T,S){return e+" "+(S||D?"h\xf3nap":"h\xf3napja")},y:function(e,D,T,S){return"egy "+(S||D?"\xe9v":"\xe9ve")},yy:function(e,D,T,S){return e+" "+(S||D?"\xe9v":"\xe9ve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return w.default.locale(b,null,!0),b}(c(9645))},7416:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return w.default.locale(b,null,!0),b}(c(9645))},53:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"it-ch",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"}};return w.default.locale(b,null,!0),b}(c(9645))},5416:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"\xba"}};return w.default.locale(b,null,!0),b}(c(9645))},4684:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e){return e+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(e){return e<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return w.default.locale(b,null,!0),b}(c(9645))},9193:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"jv",weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),weekStart:1,weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),ordinal:function(e){return e},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"}};return w.default.locale(b,null,!0),b}(c(9645))},623:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return w.default.locale(b,null,!0),b}(c(9645))},5555:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"lb",weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),weekStart:1,weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"}};return w.default.locale(b,null,!0),b}(c(9645))},116:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"ms-my",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),weekStart:1,weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),ordinal:function(e){return e},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"}};return w.default.locale(b,null,!0),b}(c(9645))},6361:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return w.default.locale(b,null,!0),b}(c(9645))},413:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"nl-be",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),weekStart:1,weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"}};return w.default.locale(b,null,!0),b}(c(9645))},3939:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return w.default.locale(b,null,!0),b}(c(9645))},8224:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"pa-in",weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"}};return w.default.locale(b,null,!0),b}(c(9645))},9733:function(X,q,c){X.exports=function(v){"use strict";var w=function C(z){return z&&"object"==typeof z&&"default"in z?z:{default:z}}(v);function b(z){return z%10<5&&z%10>1&&~~(z/10)%10!=1}function e(z,R,Y){var W=z+" ";switch(Y){case"m":return R?"minuta":"minut\u0119";case"mm":return W+(b(z)?"minuty":"minut");case"h":return R?"godzina":"godzin\u0119";case"hh":return W+(b(z)?"godziny":"godzin");case"MM":return W+(b(z)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return W+(b(z)?"lata":"lat")}}var D="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),T="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),S=/D MMMM/,y=function(z,R){return S.test(R)?D[z.month()]:T[z.month()]};y.s=T,y.f=D;var A={name:"pl",weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),months:y,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),ordinal:function(z){return z+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:e,mm:e,h:e,hh:e,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:e,y:"rok",yy:e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return w.default.locale(A,null,!0),A}(c(9645))},8470:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return w.default.locale(b,null,!0),b}(c(9645))},9869:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"pt",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_Sa".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"\xba"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return w.default.locale(b,null,!0),b}(c(9645))},6344:function(X,q,c){X.exports=function(v){"use strict";var w=function C(Y){return Y&&"object"==typeof Y&&"default"in Y?Y:{default:Y}}(v),b="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),e="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),D="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),T="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),S=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function y(Y,W,oe){var J,_e;return"m"===oe?W?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":Y+" "+(J=+Y,_e={mm:W?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[oe].split("_"),J%10==1&&J%100!=11?_e[0]:J%10>=2&&J%10<=4&&(J%100<10||J%100>=20)?_e[1]:_e[2])}var A=function(Y,W){return S.test(W)?b[Y.month()]:e[Y.month()]};A.s=e,A.f=b;var z=function(Y,W){return S.test(W)?D[Y.month()]:T[Y.month()]};z.s=T,z.f=D;var R={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:A,monthsShort:z,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:y,mm:y,h:"\u0447\u0430\u0441",hh:y,d:"\u0434\u0435\u043d\u044c",dd:y,M:"\u043c\u0435\u0441\u044f\u0446",MM:y,y:"\u0433\u043e\u0434",yy:y},ordinal:function(Y){return Y},meridiem:function(Y){return Y<4?"\u043d\u043e\u0447\u0438":Y<12?"\u0443\u0442\u0440\u0430":Y<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return w.default.locale(R,null,!0),R}(c(9645))},4867:function(X,q,c){X.exports=function(v){"use strict";var w=function C(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(v);function b(T){return T>1&&T<5&&1!=~~(T/10)}function e(T,S,y,A){var z=T+" ";switch(y){case"s":return S||A?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return S?"min\xfata":A?"min\xfatu":"min\xfatou";case"mm":return S||A?z+(b(T)?"min\xfaty":"min\xfat"):z+"min\xfatami";case"h":return S?"hodina":A?"hodinu":"hodinou";case"hh":return S||A?z+(b(T)?"hodiny":"hod\xedn"):z+"hodinami";case"d":return S||A?"de\u0148":"d\u0148om";case"dd":return S||A?z+(b(T)?"dni":"dn\xed"):z+"d\u0148ami";case"M":return S||A?"mesiac":"mesiacom";case"MM":return S||A?z+(b(T)?"mesiace":"mesiacov"):z+"mesiacmi";case"y":return S||A?"rok":"rokom";case"yy":return S||A?z+(b(T)?"roky":"rokov"):z+"rokmi"}}var D={name:"sk",weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),months:"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(T){return T+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"pred %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return w.default.locale(D,null,!0),D}(c(9645))},4826:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"sl",weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),weekStart:1,weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),ordinal:function(e){return e+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:"nekaj sekund",m:"minuta",mm:"%d minut",h:"ura",hh:"%d ur",d:"dan",dd:"%d dni",M:"mesec",MM:"%d mesecev",y:"leto",yy:"%d let"}};return w.default.locale(b,null,!0),b}(c(9645))},5240:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"sv",weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(e){var D=e%10;return"["+e+(1===D||2===D?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"}};return w.default.locale(b,null,!0),b}(c(9645))},2725:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"th",weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},ordinal:function(e){return e+"."}};return w.default.locale(b,null,!0),b}(c(9645))},6795:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e){return e+"."}};return w.default.locale(b,null,!0),b}(c(9645))},5593:function(X,q,c){X.exports=function(v){"use strict";var w=function C(A){return A&&"object"==typeof A&&"default"in A?A:{default:A}}(v),b="\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),e="\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),D=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function T(A,z,R){var Y,W;return"m"===R?z?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===R?z?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":A+" "+(Y=+A,W={ss:z?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:z?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:z?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[R].split("_"),Y%10==1&&Y%100!=11?W[0]:Y%10>=2&&Y%10<=4&&(Y%100<10||Y%100>=20)?W[1]:W[2])}var S=function(A,z){return D.test(z)?b[A.month()]:e[A.month()]};S.s=e,S.f=b;var y={name:"uk",weekdays:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0434\u043b_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:S,monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekStart:1,relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m:T,mm:T,h:T,hh:T,d:"\u0434\u0435\u043d\u044c",dd:T,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:T,y:"\u0440\u0456\u043a",yy:T},ordinal:function(A){return A},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"}};return w.default.locale(y,null,!0),y}(c(9645))},9163:function(X,q,c){X.exports=function(v){"use strict";var w=function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(v),b={name:"zh",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,D){return"W"===D?e+"\u5468":e+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,D){var T=100*e+D;return T<600?"\u51cc\u6668":T<900?"\u65e9\u4e0a":T<1100?"\u4e0a\u5348":T<1300?"\u4e2d\u5348":T<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return w.default.locale(b,null,!0),b}(c(9645))},1:function(X){X.exports=function(){"use strict";var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},c=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,v=/\d\d/,C=/\d\d?/,w=/\d*[^-_:/,()\s\d]+/,b={},e=function(R){return(R=+R)+(R>68?1900:2e3)},D=function(R){return function(Y){this[R]=+Y}},T=[/[+-]\d\d:?(\d\d)?|Z/,function(R){(this.zone||(this.zone={})).offset=function(Y){if(!Y||"Z"===Y)return 0;var W=Y.match(/([+-]|\d\d)/g),oe=60*W[1]+(+W[2]||0);return 0===oe?0:"+"===W[0]?-oe:oe}(R)}],S=function(R){var Y=b[R];return Y&&(Y.indexOf?Y:Y.s.concat(Y.f))},y=function(R,Y){var W,oe=b.meridiem;if(oe){for(var J=1;J<=24;J+=1)if(R.indexOf(oe(J,0,Y))>-1){W=J>12;break}}else W=R===(Y?"pm":"PM");return W},A={A:[w,function(R){this.afternoon=y(R,!1)}],a:[w,function(R){this.afternoon=y(R,!0)}],S:[/\d/,function(R){this.milliseconds=100*+R}],SS:[v,function(R){this.milliseconds=10*+R}],SSS:[/\d{3}/,function(R){this.milliseconds=+R}],s:[C,D("seconds")],ss:[C,D("seconds")],m:[C,D("minutes")],mm:[C,D("minutes")],H:[C,D("hours")],h:[C,D("hours")],HH:[C,D("hours")],hh:[C,D("hours")],D:[C,D("day")],DD:[v,D("day")],Do:[w,function(R){var Y=b.ordinal,W=R.match(/\d+/);if(this.day=W[0],Y)for(var oe=1;oe<=31;oe+=1)Y(oe).replace(/\[|\]/g,"")===R&&(this.day=oe)}],M:[C,D("month")],MM:[v,D("month")],MMM:[w,function(R){var Y=S("months"),W=(S("monthsShort")||Y.map(function(oe){return oe.slice(0,3)})).indexOf(R)+1;if(W<1)throw new Error;this.month=W%12||W}],MMMM:[w,function(R){var Y=S("months").indexOf(R)+1;if(Y<1)throw new Error;this.month=Y%12||Y}],Y:[/[+-]?\d+/,D("year")],YY:[v,function(R){this.year=e(R)}],YYYY:[/\d{4}/,D("year")],Z:T,ZZ:T};return function(R,Y,W){W.p.customParseFormat=!0,R&&R.parseTwoDigitYear&&(e=R.parseTwoDigitYear);var oe=Y.prototype,J=oe.parse;oe.parse=function(_e){var ke=_e.date,K=_e.utc,B=_e.args;this.$u=K;var V=B[1];if("string"==typeof V){var Z=!0===B[2],ee=!0===B[3],se=Z||ee,_=B[2];ee&&(_=B[2]),b=this.$locale(),!Z&&_&&(b=W.Ls[_]),this.$d=function(d,u,f){try{if(["x","X"].indexOf(u)>-1)return new Date(("X"===u?1e3:1)*d);var k=function z(R){var W;W=b&&b.formats;for(var oe=(R=R.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Z,ee,se){var _=se&&se.toUpperCase();return ee||W[se]||q[se]||W[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,h,g){return h||g.slice(1)})})).match(c),J=oe.length,_e=0;_e<J;_e+=1){var ke=oe[_e],K=A[ke],V=K&&K[1];oe[_e]=V?{regex:K&&K[0],parser:V}:ke.replace(/^\[|\]$/g,"")}return function(Z){for(var ee={},se=0,_=0;se<J;se+=1){var m=oe[se];if("string"==typeof m)_+=m.length;else{var h=m.regex,g=m.parser,d=Z.slice(_),u=h.exec(d)[0];g.call(ee,u),Z=Z.replace(u,"")}}return function(f){var k=f.afternoon;if(void 0!==k){var F=f.hours;k?F<12&&(f.hours+=12):12===F&&(f.hours=0),delete f.afternoon}}(ee),ee}}(u)(d),F=k.year,E=k.month,$=k.day,j=k.hours,P=k.minutes,ne=k.seconds,O=k.milliseconds,x=k.zone,H=new Date,Q=$||(F||E?1:H.getDate()),le=F||H.getFullYear(),ve=0;F&&!E||(ve=E>0?E-1:H.getMonth());var he=j||0,fe=P||0,ue=ne||0,De=O||0;return x?new Date(Date.UTC(le,ve,Q,he,fe,ue,De+60*x.offset*1e3)):f?new Date(Date.UTC(le,ve,Q,he,fe,ue,De)):new Date(le,ve,Q,he,fe,ue,De)}catch{return new Date("")}}(ke,V,K),this.init(),_&&!0!==_&&(this.$L=this.locale(_).$L),se&&ke!=this.format(V)&&(this.$d=new Date("")),b={}}else if(V instanceof Array)for(var m=V.length,h=1;h<=m;h+=1){B[1]=V[h-1];var g=W.apply(this,B);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}h===m&&(this.$d=new Date(""))}else J.call(this,_e)}}}()},1444:function(X){X.exports=function(){"use strict";return function(q,c,v){var w=function(S){return S&&(S.indexOf?S:S.s)},b=function(S,y,A,z,R){var Y=S.name?S:S.$locale(),W=w(Y[y]),oe=w(Y[A]),J=W||oe.map(function(ke){return ke.slice(0,z)});if(!R)return J;var _e=Y.weekStart;return J.map(function(ke,K){return J[(K+(_e||0))%7]})},e=function(){return v.Ls[v.locale()]},D=function(S,y){return S.formats[y]||S.formats[y.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(z,R,Y){return R||Y.slice(1)})},T=function(){var S=this;return{months:function(y){return y?y.format("MMMM"):b(S,"months")},monthsShort:function(y){return y?y.format("MMM"):b(S,"monthsShort","months",3)},firstDayOfWeek:function(){return S.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):b(S,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):b(S,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):b(S,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return D(S.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.prototype.localeData=function(){return T.bind(this)()},v.localeData=function(){var S=e();return{firstDayOfWeek:function(){return S.weekStart||0},weekdays:function(){return v.weekdays()},weekdaysShort:function(){return v.weekdaysShort()},weekdaysMin:function(){return v.weekdaysMin()},months:function(){return v.months()},monthsShort:function(){return v.monthsShort()},longDateFormat:function(y){return D(S,y)},meridiem:S.meridiem,ordinal:S.ordinal}},v.months=function(){return b(e(),"months")},v.monthsShort=function(){return b(e(),"monthsShort","months",3)},v.weekdays=function(S){return b(e(),"weekdays",null,null,S)},v.weekdaysShort=function(S){return b(e(),"weekdaysShort","weekdays",3,S)},v.weekdaysMin=function(S){return b(e(),"weekdaysMin","weekdays",2,S)}}}()},3066:function(X){X.exports=function(){"use strict";var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(c,v,C){var w=v.prototype,b=w.format;C.en.formats=q,w.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var y,D=this.$locale().formats,T=(y=void 0===D?{}:D,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,z,R){var Y=R&&R.toUpperCase();return z||y[R]||q[R]||y[Y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(W,oe,J){return oe||J.slice(1)})}));return b.call(this,T)}}}()},1102:function(X){X.exports=function(){"use strict";var q="minute",c=/[+-]\d\d(?::?\d\d)?/g,v=/([+-]|\d\d)/g;return function(C,w,b){var e=w.prototype;b.utc=function(R){return new w({date:R,utc:!0,args:arguments})},e.utc=function(R){var Y=b(this.toDate(),{locale:this.$L,utc:!0});return R?Y.add(this.utcOffset(),q):Y},e.local=function(){return b(this.toDate(),{locale:this.$L,utc:!1})};var D=e.parse;e.parse=function(R){R.utc&&(this.$u=!0),this.$utils().u(R.$offset)||(this.$offset=R.$offset),D.call(this,R)};var T=e.init;e.init=function(){if(this.$u){var R=this.$d;this.$y=R.getUTCFullYear(),this.$M=R.getUTCMonth(),this.$D=R.getUTCDate(),this.$W=R.getUTCDay(),this.$H=R.getUTCHours(),this.$m=R.getUTCMinutes(),this.$s=R.getUTCSeconds(),this.$ms=R.getUTCMilliseconds()}else T.call(this)};var S=e.utcOffset;e.utcOffset=function(R,Y){var W=this.$utils().u;if(W(R))return this.$u?0:W(this.$offset)?S.call(this):this.$offset;if("string"==typeof R&&null===(R=function(ke){void 0===ke&&(ke="");var K=ke.match(c);if(!K)return null;var B=(""+K[0]).match(v)||["-",0,0],Z=60*+B[1]+ +B[2];return 0===Z?0:"+"===B[0]?Z:-Z}(R)))return this;var oe=Math.abs(R)<=16?60*R:R,J=this;if(Y)return J.$offset=oe,J.$u=0===R,J;if(0!==R){var _e=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(J=this.local().add(oe+_e,q)).$offset=oe,J.$x.$localOffset=_e}else J=this.utc();return J};var y=e.format;e.format=function(R){return y.call(this,R||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},e.valueOf=function(){var R=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*R},e.isUTC=function(){return!!this.$u},e.toISOString=function(){return this.toDate().toISOString()},e.toString=function(){return this.toDate().toUTCString()};var A=e.toDate;e.toDate=function(R){return"s"===R&&this.$offset?b(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():A.call(this)};var z=e.diff;e.diff=function(R,Y,W){if(R&&this.$u===R.$u)return z.call(this,R,Y,W);var oe=this.local(),J=b(R).local();return z.call(oe,J,Y,W)}}}()},5176:(X,q,c)=>{"use strict";function v(_){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(_)}function w(_,m){return(w=Object.setPrototypeOf||function(g,d){return g.__proto__=d,g})(_,m)}function e(_,m){return!m||"object"!==v(m)&&"function"!=typeof m?D(_):m}function D(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function S(_){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(_)}function y(_,m){var h;if(typeof Symbol>"u"||null==_[Symbol.iterator]){if(Array.isArray(_)||(h=function A(_,m){if(_){if("string"==typeof _)return z(_,m);var h=Object.prototype.toString.call(_).slice(8,-1);if("Object"===h&&_.constructor&&(h=_.constructor.name),"Map"===h||"Set"===h)return Array.from(_);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return z(_,m)}}(_))||m&&_&&"number"==typeof _.length){h&&(_=h);var g=0,d=function(){};return{s:d,n:function(){return g>=_.length?{done:!0}:{done:!1,value:_[g++]}},e:function(E){throw E},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var k,u=!0,f=!1;return{s:function(){h=_[Symbol.iterator]()},n:function(){var E=h.next();return u=E.done,E},e:function(E){f=!0,k=E},f:function(){try{!u&&null!=h.return&&h.return()}finally{if(f)throw k}}}}function z(_,m){(null==m||m>_.length)&&(m=_.length);for(var h=0,g=new Array(m);h<m;h++)g[h]=_[h];return g}function R(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function Y(_,m){for(var h=0;h<m.length;h++){var g=m[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}function W(_,m,h){return m&&Y(_.prototype,m),h&&Y(_,h),_}X=c.nmd(X);var oe=function(){function _(){R(this,_)}return W(_,[{key:"on",value:function(h,g){return this._callbacks=this._callbacks||{},this._callbacks[h]||(this._callbacks[h]=[]),this._callbacks[h].push(g),this}},{key:"emit",value:function(h){this._callbacks=this._callbacks||{};var g=this._callbacks[h];if(g){for(var d=arguments.length,u=new Array(d>1?d-1:0),f=1;f<d;f++)u[f-1]=arguments[f];var F,k=y(g);try{for(k.s();!(F=k.n()).done;)F.value.apply(this,u)}catch($){k.e($)}finally{k.f()}}return this}},{key:"off",value:function(h,g){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var d=this._callbacks[h];if(!d)return this;if(1===arguments.length)return delete this._callbacks[h],this;for(var u=0;u<d.length;u++)if(d[u]===g){d.splice(u,1);break}return this}}]),_}(),J=function(_){!function C(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&w(_,m)}(h,_);var m=function b(_){var m=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,g=S(_);if(m){var u=S(this).constructor;d=Reflect.construct(g,arguments,u)}else d=g.apply(this,arguments);return e(this,d)}}(h);function h(g,d){var u,f,k;if(R(this,h),(u=m.call(this)).element=g,u.version=h.version,u.defaultOptions.previewTemplate=u.defaultOptions.previewTemplate.replace(/\n*/g,""),u.clickableElements=[],u.listeners=[],u.files=[],"string"==typeof u.element&&(u.element=document.querySelector(u.element)),!u.element||null==u.element.nodeType)throw new Error("Invalid dropzone element.");if(u.element.dropzone)throw new Error("Dropzone already attached.");h.instances.push(D(u)),u.element.dropzone=D(u);var F=null!=(k=h.optionsForElement(u.element))?k:{};if(u.options=h.extend({},u.defaultOptions,F,d??{}),u.options.forceFallback||!h.isBrowserSupported())return e(u,u.options.fallback.call(D(u)));if(null==u.options.url&&(u.options.url=u.element.getAttribute("action")),!u.options.url)throw new Error("No URL provided.");if(u.options.acceptedFiles&&u.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(u.options.uploadMultiple&&u.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return u.options.acceptedMimeTypes&&(u.options.acceptedFiles=u.options.acceptedMimeTypes,delete u.options.acceptedMimeTypes),null!=u.options.renameFilename&&(u.options.renameFile=function(E){return u.options.renameFilename.call(D(u),E.name,E)}),"string"==typeof u.options.method&&(u.options.method=u.options.method.toUpperCase()),(f=u.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f),!1!==u.options.previewsContainer&&(u.previewsContainer=u.options.previewsContainer?h.getElement(u.options.previewsContainer,"previewsContainer"):u.element),u.options.clickable&&(u.clickableElements=!0===u.options.clickable?[u.element]:h.getElements(u.options.clickable,"clickable")),u.init(),u}return W(h,null,[{key:"initClass",value:function(){this.prototype.Emitter=oe,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(u,f,k){if(k)return{dzuuid:k.file.upload.uuid,dzchunkindex:k.index,dztotalfilesize:k.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:k.file.upload.totalChunkCount,dzchunkbyteoffset:k.index*this.options.chunkSize}},accept:function(u,f){return f()},chunksUploaded:function(u,f){f()},fallback:function(){var u;this.element.className="".concat(this.element.className," dz-browser-not-supported");var k,f=y(this.element.getElementsByTagName("div"));try{for(f.s();!(k=f.n()).done;){var F=k.value;if(/(^| )dz-message($| )/.test(F.className)){u=F,F.className="dz-message";break}}}catch($){f.e($)}finally{f.f()}u||(u=h.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(u));var E=u.getElementsByTagName("span")[0];return E&&(null!=E.textContent?E.textContent=this.options.dictFallbackMessage:null!=E.innerText&&(E.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(u,f,k,F){var E={srcX:0,srcY:0,srcWidth:u.width,srcHeight:u.height},$=u.width/u.height;null==f&&null==k?(f=E.srcWidth,k=E.srcHeight):null==f?f=k*$:null==k&&(k=f/$);var j=(f=Math.min(f,E.srcWidth))/(k=Math.min(k,E.srcHeight));if(E.srcWidth>f||E.srcHeight>k)if("crop"===F)$>j?(E.srcHeight=u.height,E.srcWidth=E.srcHeight*j):(E.srcWidth=u.width,E.srcHeight=E.srcWidth/j);else{if("contain"!==F)throw new Error("Unknown resizeMethod '".concat(F,"'"));$>j?k=f/$:f=k*$}return E.srcX=(u.width-E.srcWidth)/2,E.srcY=(u.height-E.srcHeight)/2,E.trgWidth=f,E.trgHeight=k,E},transformFile:function(u,f){return(this.options.resizeWidth||this.options.resizeHeight)&&u.type.match(/image.*/)?this.resizeImage(u,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,f):f(u)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(u){return this.element.classList.remove("dz-drag-hover")},dragstart:function(u){},dragend:function(u){return this.element.classList.remove("dz-drag-hover")},dragenter:function(u){return this.element.classList.add("dz-drag-hover")},dragover:function(u){return this.element.classList.add("dz-drag-hover")},dragleave:function(u){return this.element.classList.remove("dz-drag-hover")},paste:function(u){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(u){var f=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){u.previewElement=h.createElement(this.options.previewTemplate.trim()),u.previewTemplate=u.previewElement,this.previewsContainer.appendChild(u.previewElement);var F,k=y(u.previewElement.querySelectorAll("[data-dz-name]"));try{for(k.s();!(F=k.n()).done;){var E=F.value;E.textContent=u.name}}catch(H){k.e(H)}finally{k.f()}var j,$=y(u.previewElement.querySelectorAll("[data-dz-size]"));try{for($.s();!(j=$.n()).done;)(E=j.value).innerHTML=this.filesize(u.size)}catch(H){$.e(H)}finally{$.f()}this.options.addRemoveLinks&&(u._removeLink=h.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),u.previewElement.appendChild(u._removeLink));var O,P=function(Q){return Q.preventDefault(),Q.stopPropagation(),u.status===h.UPLOADING?h.confirm(f.options.dictCancelUploadConfirmation,function(){return f.removeFile(u)}):f.options.dictRemoveFileConfirmation?h.confirm(f.options.dictRemoveFileConfirmation,function(){return f.removeFile(u)}):f.removeFile(u)},ne=y(u.previewElement.querySelectorAll("[data-dz-remove]"));try{for(ne.s();!(O=ne.n()).done;)O.value.addEventListener("click",P)}catch(H){ne.e(H)}finally{ne.f()}}},removedfile:function(u){return null!=u.previewElement&&null!=u.previewElement.parentNode&&u.previewElement.parentNode.removeChild(u.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(u,f){if(u.previewElement){u.previewElement.classList.remove("dz-file-preview");var F,k=y(u.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(k.s();!(F=k.n()).done;){var E=F.value;E.alt=u.name,E.src=f}}catch($){k.e($)}finally{k.f()}return setTimeout(function(){return u.previewElement.classList.add("dz-image-preview")},1)}},error:function(u,f){if(u.previewElement){u.previewElement.classList.add("dz-error"),"string"!=typeof f&&f.error&&(f=f.error);var F,k=y(u.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(k.s();!(F=k.n()).done;)F.value.textContent=f}catch($){k.e($)}finally{k.f()}}},errormultiple:function(){},processing:function(u){if(u.previewElement&&(u.previewElement.classList.add("dz-processing"),u._removeLink))return u._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(u,f,k){if(u.previewElement){var E,F=y(u.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(F.s();!(E=F.n()).done;){var $=E.value;"PROGRESS"===$.nodeName?$.value=f:$.style.width="".concat(f,"%")}}catch(j){F.e(j)}finally{F.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(u){if(u.previewElement)return u.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(u){return this.emit("error",u,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(u){if(u._removeLink&&(u._removeLink.innerHTML=this.options.dictRemoveFile),u.previewElement)return u.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(d){for(var u=arguments.length,f=new Array(u>1?u-1:0),k=1;k<u;k++)f[k-1]=arguments[k];for(var F=0,E=f;F<E.length;F++){var $=E[F];for(var j in $)d[j]=$[j]}return d}}]),W(h,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(d){return d.accepted}).map(function(d){return d})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(d){return!d.accepted}).map(function(d){return d})}},{key:"getFilesWithStatus",value:function(d){return this.files.filter(function(u){return u.status===d}).map(function(u){return u})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(h.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(h.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(h.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(d){return d.status===h.UPLOADING||d.status===h.QUEUED}).map(function(d){return d})}},{key:"init",value:function(){var d=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(h.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function j(){return d.hiddenFileInput&&d.hiddenFileInput.parentNode.removeChild(d.hiddenFileInput),d.hiddenFileInput=document.createElement("input"),d.hiddenFileInput.setAttribute("type","file"),(null===d.options.maxFiles||d.options.maxFiles>1)&&d.hiddenFileInput.setAttribute("multiple","multiple"),d.hiddenFileInput.className="dz-hidden-input",null!==d.options.acceptedFiles&&d.hiddenFileInput.setAttribute("accept",d.options.acceptedFiles),null!==d.options.capture&&d.hiddenFileInput.setAttribute("capture",d.options.capture),d.hiddenFileInput.style.visibility="hidden",d.hiddenFileInput.style.position="absolute",d.hiddenFileInput.style.top="0",d.hiddenFileInput.style.left="0",d.hiddenFileInput.style.height="0",d.hiddenFileInput.style.width="0",h.getElement(d.options.hiddenInputContainer,"hiddenInputContainer").appendChild(d.hiddenFileInput),d.hiddenFileInput.addEventListener("change",function(){var P=d.hiddenFileInput.files;if(P.length){var O,ne=y(P);try{for(ne.s();!(O=ne.n()).done;)d.addFile(O.value)}catch(H){ne.e(H)}finally{ne.f()}}return d.emit("addedfiles",P),j()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var k,f=y(this.events);try{for(f.s();!(k=f.n()).done;){var F=k.value;this.on(F,this.options[F])}}catch(j){f.e(j)}finally{f.f()}this.on("uploadprogress",function(){return d.updateTotalUploadProgress()}),this.on("removedfile",function(){return d.updateTotalUploadProgress()}),this.on("canceled",function(j){return d.emit("complete",j)}),this.on("complete",function(j){if(0===d.getAddedFiles().length&&0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length)return setTimeout(function(){return d.emit("queuecomplete")},0)});var $=function(P){if(function(P){if(P.dataTransfer.types)for(var ne=0;ne<P.dataTransfer.types.length;ne++)if("Files"===P.dataTransfer.types[ne])return!0;return!1}(P))return P.stopPropagation(),P.preventDefault?P.preventDefault():P.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(P){return d.emit("dragstart",P)},dragenter:function(P){return $(P),d.emit("dragenter",P)},dragover:function(P){var ne;try{ne=P.dataTransfer.effectAllowed}catch{}return P.dataTransfer.dropEffect="move"===ne||"linkMove"===ne?"move":"copy",$(P),d.emit("dragover",P)},dragleave:function(P){return d.emit("dragleave",P)},drop:function(P){return $(P),d.drop(P)},dragend:function(P){return d.emit("dragend",P)}}}],this.clickableElements.forEach(function(j){return d.listeners.push({element:j,events:{click:function(ne){return(j!==d.element||ne.target===d.element||h.elementInside(ne.target,d.element.querySelector(".dz-message")))&&d.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,h.instances.splice(h.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var d,u=0,f=0;if(this.getActiveFiles().length){var E,F=y(this.getActiveFiles());try{for(F.s();!(E=F.n()).done;){var $=E.value;u+=$.upload.bytesSent,f+=$.upload.total}}catch(j){F.e(j)}finally{F.f()}d=100*u/f}else d=100;return this.emit("totaluploadprogress",d,f,u)}},{key:"_getParamName",value:function(d){return"function"==typeof this.options.paramName?this.options.paramName(d):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(d,"]"):"")}},{key:"_renameFile",value:function(d){return"function"!=typeof this.options.renameFile?d.name:this.options.renameFile(d)}},{key:"getFallbackForm",value:function(){var d,u;if(d=this.getExistingFallback())return d;var f='<div class="dz-fallback">';this.options.dictFallbackText&&(f+="<p>".concat(this.options.dictFallbackText,"</p>")),f+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var k=h.createElement(f);return"FORM"!==this.element.tagName?(u=h.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(k):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),u??k}},{key:"getExistingFallback",value:function(){for(var d=function($){var P,j=y($);try{for(j.s();!(P=j.n()).done;){var ne=P.value;if(/(^| )fallback($| )/.test(ne.className))return ne}}catch(O){j.e(O)}finally{j.f()}},u=0,f=["div","form"];u<f.length;u++){var F;if(F=d(this.element.getElementsByTagName(f[u])))return F}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(d){return function(){var u=[];for(var f in d.events)u.push(d.element.addEventListener(f,d.events[f],!1));return u}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(d){return function(){var u=[];for(var f in d.events)u.push(d.element.removeEventListener(f,d.events[f],!1));return u}()})}},{key:"disable",value:function(){var d=this;return this.clickableElements.forEach(function(u){return u.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(u){return d.cancelUpload(u)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(d){return d.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(d){var u=0,f="b";if(d>0){for(var k=["tb","gb","mb","kb","b"],F=0;F<k.length;F++){var E=k[F];if(d>=Math.pow(this.options.filesizeBase,4-F)/10){u=d/Math.pow(this.options.filesizeBase,4-F),f=E;break}}u=Math.round(10*u)/10}return"<strong>".concat(u,"</strong> ").concat(this.options.dictFileSizeUnits[f])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(d){if(d.dataTransfer){this.emit("drop",d);for(var u=[],f=0;f<d.dataTransfer.files.length;f++)u[f]=d.dataTransfer.files[f];if(u.length){var k=d.dataTransfer.items;k&&k.length&&null!=k[0].webkitGetAsEntry?this._addFilesFromItems(k):this.handleFiles(u)}this.emit("addedfiles",u)}}},{key:"paste",value:function(d){if(null!=function ee(_,m){return typeof _<"u"&&null!==_?m(_):void 0}(d?.clipboardData,function(f){return f.items})){this.emit("paste",d);var u=d.clipboardData.items;if(u.length)return this._addFilesFromItems(u)}}},{key:"handleFiles",value:function(d){var f,u=y(d);try{for(u.s();!(f=u.n()).done;)this.addFile(f.value)}catch(F){u.e(F)}finally{u.f()}}},{key:"_addFilesFromItems",value:function(d){var u=this;return function(){var F,f=[],k=y(d);try{for(k.s();!(F=k.n()).done;){var $,E=F.value;null!=E.webkitGetAsEntry&&($=E.webkitGetAsEntry())?f.push($.isFile?u.addFile(E.getAsFile()):$.isDirectory?u._addFilesFromDirectory($,$.name):void 0):f.push(null==E.getAsFile||null!=E.kind&&"file"!==E.kind?void 0:u.addFile(E.getAsFile()))}}catch(j){k.e(j)}finally{k.f()}return f}()}},{key:"_addFilesFromDirectory",value:function(d,u){var f=this,k=d.createReader(),F=function(j){return function se(_,m,h){if(typeof _<"u"&&null!==_&&"function"==typeof _[m])return h(_,m)}(console,"log",function(P){return P.log(j)})};return function $(){return k.readEntries(function(j){if(j.length>0){var ne,P=y(j);try{for(P.s();!(ne=P.n()).done;){var O=ne.value;O.isFile?O.file(function(x){if(!f.options.ignoreHiddenFiles||"."!==x.name.substring(0,1))return x.fullPath="".concat(u,"/").concat(x.name),f.addFile(x)}):O.isDirectory&&f._addFilesFromDirectory(O,"".concat(u,"/").concat(O.name))}}catch(x){P.e(x)}finally{P.f()}$()}return null},F)}()}},{key:"accept",value:function(d,u){this.options.maxFilesize&&d.size>1024*this.options.maxFilesize*1024?u(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(d.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):h.isValidFile(d,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(u(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",d)):this.options.accept.call(this,d,u):u(this.options.dictInvalidFileType)}},{key:"addFile",value:function(d){var u=this;d.upload={uuid:h.uuidv4(),progress:0,total:d.size,bytesSent:0,filename:this._renameFile(d)},this.files.push(d),d.status=h.ADDED,this.emit("addedfile",d),this._enqueueThumbnail(d),this.accept(d,function(f){f?(d.accepted=!1,u._errorProcessing([d],f)):(d.accepted=!0,u.options.autoQueue&&u.enqueueFile(d)),u._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(d){var f,u=y(d);try{for(u.s();!(f=u.n()).done;)this.enqueueFile(f.value)}catch(F){u.e(F)}finally{u.f()}return null}},{key:"enqueueFile",value:function(d){var u=this;if(d.status!==h.ADDED||!0!==d.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(d.status=h.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return u.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(d){var u=this;if(this.options.createImageThumbnails&&d.type.match(/image.*/)&&d.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(d),setTimeout(function(){return u._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var d=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var u=this._thumbnailQueue.shift();return this.createThumbnail(u,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(f){return d.emit("thumbnail",u,f),d._processingThumbnail=!1,d._processThumbnailQueue()})}}},{key:"removeFile",value:function(d){if(d.status===h.UPLOADING&&this.cancelUpload(d),this.files=_e(this.files,d),this.emit("removedfile",d),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(d){null==d&&(d=!1);var f,u=y(this.files.slice());try{for(u.s();!(f=u.n()).done;){var k=f.value;(k.status!==h.UPLOADING||d)&&this.removeFile(k)}}catch(F){u.e(F)}finally{u.f()}return null}},{key:"resizeImage",value:function(d,u,f,k,F){var E=this;return this.createThumbnail(d,u,f,k,!0,function($,j){if(null==j)return F(d);var P=E.options.resizeMimeType;null==P&&(P=d.type);var ne=j.toDataURL(P,E.options.resizeQuality);return("image/jpeg"===P||"image/jpg"===P)&&(ne=V.restore(d.dataURL,ne)),F(h.dataURItoBlob(ne))})}},{key:"createThumbnail",value:function(d,u,f,k,F,E){var $=this,j=new FileReader;j.onload=function(){d.dataURL=j.result,"image/svg+xml"!==d.type?$.createThumbnailFromUrl(d,u,f,k,F,E):E?.(j.result)},j.readAsDataURL(d)}},{key:"displayExistingFile",value:function(d,u,f,k){var F=this,E=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.emit("addedfile",d),this.emit("complete",d),E?(d.dataURL=u,this.createThumbnailFromUrl(d,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(P){F.emit("thumbnail",d,P),f&&f()},k)):(this.emit("thumbnail",d,u),f&&f())}},{key:"createThumbnailFromUrl",value:function(d,u,f,k,F,E,$){var j=this,P=document.createElement("img");return $&&(P.crossOrigin=$),F="from-image"!=getComputedStyle(document.body).imageOrientation&&F,P.onload=function(){var ne=function(x){return x(1)};return typeof EXIF<"u"&&null!==EXIF&&F&&(ne=function(x){return EXIF.getData(P,function(){return x(EXIF.getTag(this,"Orientation"))})}),ne(function(O){d.width=P.width,d.height=P.height;var x=j.options.resize.call(j,d,u,f,k),H=document.createElement("canvas"),Q=H.getContext("2d");switch(H.width=x.trgWidth,H.height=x.trgHeight,O>4&&(H.width=x.trgHeight,H.height=x.trgWidth),O){case 2:Q.translate(H.width,0),Q.scale(-1,1);break;case 3:Q.translate(H.width,H.height),Q.rotate(Math.PI);break;case 4:Q.translate(0,H.height),Q.scale(1,-1);break;case 5:Q.rotate(.5*Math.PI),Q.scale(1,-1);break;case 6:Q.rotate(.5*Math.PI),Q.translate(0,-H.width);break;case 7:Q.rotate(.5*Math.PI),Q.translate(H.height,-H.width),Q.scale(-1,1);break;case 8:Q.rotate(-.5*Math.PI),Q.translate(-H.height,0)}B(Q,P,null!=x.srcX?x.srcX:0,null!=x.srcY?x.srcY:0,x.srcWidth,x.srcHeight,null!=x.trgX?x.trgX:0,null!=x.trgY?x.trgY:0,x.trgWidth,x.trgHeight);var le=H.toDataURL("image/png");if(null!=E)return E(le,H)})},null!=E&&(P.onerror=E),P.src=d.dataURL}},{key:"processQueue",value:function(){var d=this.options.parallelUploads,u=this.getUploadingFiles().length,f=u;if(!(u>=d)){var k=this.getQueuedFiles();if(k.length>0){if(this.options.uploadMultiple)return this.processFiles(k.slice(0,d-u));for(;f<d;){if(!k.length)return;this.processFile(k.shift()),f++}}}}},{key:"processFile",value:function(d){return this.processFiles([d])}},{key:"processFiles",value:function(d){var f,u=y(d);try{for(u.s();!(f=u.n()).done;){var k=f.value;k.processing=!0,k.status=h.UPLOADING,this.emit("processing",k)}}catch(F){u.e(F)}finally{u.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",d),this.uploadFiles(d)}},{key:"_getFilesWithXhr",value:function(d){return this.files.filter(function(f){return f.xhr===d}).map(function(f){return f})}},{key:"cancelUpload",value:function(d){if(d.status===h.UPLOADING){var k,u=this._getFilesWithXhr(d.xhr),f=y(u);try{for(f.s();!(k=f.n()).done;)k.value.status=h.CANCELED}catch(P){f.e(P)}finally{f.f()}typeof d.xhr<"u"&&d.xhr.abort();var $,E=y(u);try{for(E.s();!($=E.n()).done;)this.emit("canceled",$.value)}catch(P){E.e(P)}finally{E.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",u)}else(d.status===h.ADDED||d.status===h.QUEUED)&&(d.status=h.CANCELED,this.emit("canceled",d),this.options.uploadMultiple&&this.emit("canceledmultiple",[d]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(d){if("function"==typeof d){for(var u=arguments.length,f=new Array(u>1?u-1:0),k=1;k<u;k++)f[k-1]=arguments[k];return d.apply(this,f)}return d}},{key:"uploadFile",value:function(d){return this.uploadFiles([d])}},{key:"uploadFiles",value:function(d){var u=this;this._transformFiles(d,function(f){if(u.options.chunking){var k=f[0];d[0].upload.chunked=u.options.chunking&&(u.options.forceChunking||k.size>u.options.chunkSize),d[0].upload.totalChunkCount=Math.ceil(k.size/u.options.chunkSize)}if(d[0].upload.chunked){var F=d[0],E=f[0];F.upload.chunks=[];var j=function(){for(var H=0;void 0!==F.upload.chunks[H];)H++;if(!(H>=F.upload.totalChunkCount)){var Q=H*u.options.chunkSize,le=Math.min(Q+u.options.chunkSize,E.size),ve={name:u._getParamName(0),data:E.webkitSlice?E.webkitSlice(Q,le):E.slice(Q,le),filename:F.upload.filename,chunkIndex:H};F.upload.chunks[H]={file:F,index:H,dataBlock:ve,status:h.UPLOADING,progress:0,retries:0},u._uploadData(d,[ve])}};if(F.upload.finishedChunkUpload=function(x){var H=!0;x.status=h.SUCCESS,x.dataBlock=null,x.xhr=null;for(var Q=0;Q<F.upload.totalChunkCount;Q++){if(void 0===F.upload.chunks[Q])return j();F.upload.chunks[Q].status!==h.SUCCESS&&(H=!1)}H&&u.options.chunksUploaded(F,function(){u._finished(d,"",null)})},u.options.parallelChunkUploads)for(var P=0;P<F.upload.totalChunkCount;P++)j();else j()}else{for(var ne=[],O=0;O<d.length;O++)ne[O]={name:u._getParamName(O),data:f[O],filename:d[O].upload.filename};u._uploadData(d,ne)}})}},{key:"_getChunk",value:function(d,u){for(var f=0;f<d.upload.totalChunkCount;f++)if(void 0!==d.upload.chunks[f]&&d.upload.chunks[f].xhr===u)return d.upload.chunks[f]}},{key:"_uploadData",value:function(d,u){var E,f=this,k=new XMLHttpRequest,F=y(d);try{for(F.s();!(E=F.n()).done;)E.value.xhr=k}catch(ce){F.e(ce)}finally{F.f()}d[0].upload.chunked&&(d[0].upload.chunks[u[0].chunkIndex].xhr=k);var j=this.resolveOption(this.options.method,d),P=this.resolveOption(this.options.url,d);k.open(j,P,!0),k.timeout=this.resolveOption(this.options.timeout,d),k.withCredentials=!!this.options.withCredentials,k.onload=function(ce){f._finishedUploading(d,k,ce)},k.ontimeout=function(){f._handleUploadError(d,k,"Request timedout after ".concat(f.options.timeout/1e3," seconds"))},k.onerror=function(){f._handleUploadError(d,k)},(null!=k.upload?k.upload:k).onprogress=function(ce){return f._updateFilesUploadProgress(d,k,ce)};var O={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var x in this.options.headers&&h.extend(O,this.options.headers),O){var H=O[x];H&&k.setRequestHeader(x,H)}var Q=new FormData;if(this.options.params){var le=this.options.params;for(var ve in"function"==typeof le&&(le=le.call(this,d,k,d[0].upload.chunked?this._getChunk(d[0],k):null)),le){var he=le[ve];if(Array.isArray(he))for(var fe=0;fe<he.length;fe++)Q.append(ve,he[fe]);else Q.append(ve,he)}}var De,ue=y(d);try{for(ue.s();!(De=ue.n()).done;)this.emit("sending",De.value,k,Q)}catch(ce){ue.e(ce)}finally{ue.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",d,k,Q),this._addFormElementData(Q);for(var re=0;re<u.length;re++){var Ne=u[re];Q.append(Ne.name,Ne.data,Ne.filename)}this.submitRequest(k,Q,d)}},{key:"_transformFiles",value:function(d,u){for(var f=this,k=[],F=0,E=function(P){f.options.transformFile.call(f,d[P],function(ne){k[P]=ne,++F===d.length&&u(k)})},$=0;$<d.length;$++)E($)}},{key:"_addFormElementData",value:function(d){if("FORM"===this.element.tagName){var f,u=y(this.element.querySelectorAll("input, textarea, select, button"));try{for(u.s();!(f=u.n()).done;){var k=f.value,F=k.getAttribute("name"),E=k.getAttribute("type");if(E&&(E=E.toLowerCase()),!(typeof F>"u"||null===F))if("SELECT"===k.tagName&&k.hasAttribute("multiple")){var j,$=y(k.options);try{for($.s();!(j=$.n()).done;){var P=j.value;P.selected&&d.append(F,P.value)}}catch(ne){$.e(ne)}finally{$.f()}}else(!E||"checkbox"!==E&&"radio"!==E||k.checked)&&d.append(F,k.value)}}catch(ne){u.e(ne)}finally{u.f()}}}},{key:"_updateFilesUploadProgress",value:function(d,u,f){var k;if(typeof f<"u"){if(k=100*f.loaded/f.total,d[0].upload.chunked){var F=d[0],E=this._getChunk(F,u);E.progress=k,E.total=f.total,E.bytesSent=f.loaded,F.upload.progress=0,F.upload.total=0,F.upload.bytesSent=0;for(var ne=0;ne<F.upload.totalChunkCount;ne++)void 0!==F.upload.chunks[ne]&&void 0!==F.upload.chunks[ne].progress&&(F.upload.progress+=F.upload.chunks[ne].progress,F.upload.total+=F.upload.chunks[ne].total,F.upload.bytesSent+=F.upload.chunks[ne].bytesSent);F.upload.progress=F.upload.progress/F.upload.totalChunkCount}else{var x,O=y(d);try{for(O.s();!(x=O.n()).done;){var H=x.value;H.upload.progress=k,H.upload.total=f.total,H.upload.bytesSent=f.loaded}}catch(ce){O.e(ce)}finally{O.f()}}var le,Q=y(d);try{for(Q.s();!(le=Q.n()).done;){var ve=le.value;this.emit("uploadprogress",ve,ve.upload.progress,ve.upload.bytesSent)}}catch(ce){Q.e(ce)}finally{Q.f()}}else{var he=!0;k=100;var ue,fe=y(d);try{for(fe.s();!(ue=fe.n()).done;){var De=ue.value;(100!==De.upload.progress||De.upload.bytesSent!==De.upload.total)&&(he=!1),De.upload.progress=k,De.upload.bytesSent=De.upload.total}}catch(ce){fe.e(ce)}finally{fe.f()}if(he)return;var re,Ae=y(d);try{for(Ae.s();!(re=Ae.n()).done;){var Ne=re.value;this.emit("uploadprogress",Ne,k,Ne.upload.bytesSent)}}catch(ce){Ae.e(ce)}finally{Ae.f()}}}},{key:"_finishedUploading",value:function(d,u,f){var k;if(d[0].status!==h.CANCELED&&4===u.readyState){if("arraybuffer"!==u.responseType&&"blob"!==u.responseType&&(k=u.responseText,u.getResponseHeader("content-type")&&~u.getResponseHeader("content-type").indexOf("application/json")))try{k=JSON.parse(k)}catch(F){f=F,k="Invalid JSON response from server."}this._updateFilesUploadProgress(d),200<=u.status&&u.status<300?d[0].upload.chunked?d[0].upload.finishedChunkUpload(this._getChunk(d[0],u)):this._finished(d,k,f):this._handleUploadError(d,u,k)}}},{key:"_handleUploadError",value:function(d,u,f){if(d[0].status!==h.CANCELED){if(d[0].upload.chunked&&this.options.retryChunks){var k=this._getChunk(d[0],u);if(k.retries++<this.options.retryChunksLimit)return void this._uploadData(d,[k.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(d,f||this.options.dictResponseError.replace("{{statusCode}}",u.status),u)}}},{key:"submitRequest",value:function(d,u,f){d.send(u)}},{key:"_finished",value:function(d,u,f){var F,k=y(d);try{for(k.s();!(F=k.n()).done;){var E=F.value;E.status=h.SUCCESS,this.emit("success",E,u,f),this.emit("complete",E)}}catch($){k.e($)}finally{k.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",d,u,f),this.emit("completemultiple",d)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(d,u,f){var F,k=y(d);try{for(k.s();!(F=k.n()).done;){var E=F.value;E.status=h.ERROR,this.emit("error",E,u,f),this.emit("complete",E)}}catch($){k.e($)}finally{k.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",d,u,f),this.emit("completemultiple",d)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var u=16*Math.random()|0;return("x"===d?u:3&u|8).toString(16)})}}]),h}(oe);J.initClass(),J.version="5.7.2",J.options={},J.optionsForElement=function(_){if(_.getAttribute("id"))return J.options[ke(_.getAttribute("id"))]},J.instances=[],J.forElement=function(_){if("string"==typeof _&&(_=document.querySelector(_)),null==_?.dropzone)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return _.dropzone},J.autoDiscover=!0,J.discover=function(){var _;if(document.querySelectorAll)_=document.querySelectorAll(".dropzone");else{_=[];var m=function(g){return function(){var f,d=[],u=y(g);try{for(u.s();!(f=u.n()).done;){var k=f.value;/(^| )dropzone($| )/.test(k.className)?d.push(_.push(k)):d.push(void 0)}}catch(F){u.e(F)}finally{u.f()}return d}()};m(document.getElementsByTagName("div")),m(document.getElementsByTagName("form"))}return function(){var d,h=[],g=y(_);try{for(g.s();!(d=g.n()).done;){var u=d.value;!1!==J.optionsForElement(u)?h.push(new J(u)):h.push(void 0)}}catch(f){g.e(f)}finally{g.f()}return h}()},J.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],J.isBrowserSupported=function(){var _=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var h,m=y(J.blacklistedBrowsers);try{for(m.s();!(h=m.n()).done;)h.value.test(navigator.userAgent)&&(_=!1)}catch(d){m.e(d)}finally{m.f()}}else _=!1;else _=!1;return _},J.dataURItoBlob=function(_){for(var m=atob(_.split(",")[1]),h=_.split(",")[0].split(":")[1].split(";")[0],g=new ArrayBuffer(m.length),d=new Uint8Array(g),u=0,f=m.length,k=0<=f;k?u<=f:u>=f;k?u++:u--)d[u]=m.charCodeAt(u);return new Blob([g],{type:h})};var _e=function(m,h){return m.filter(function(g){return g!==h}).map(function(g){return g})},ke=function(m){return m.replace(/[\-_](\w)/g,function(h){return h.charAt(1).toUpperCase()})};J.createElement=function(_){var m=document.createElement("div");return m.innerHTML=_,m.childNodes[0]},J.elementInside=function(_,m){if(_===m)return!0;for(;_=_.parentNode;)if(_===m)return!0;return!1},J.getElement=function(_,m){var h;if("string"==typeof _?h=document.querySelector(_):null!=_.nodeType&&(h=_),null==h)throw new Error("Invalid `".concat(m,"` option provided. Please provide a CSS selector or a plain HTML element."));return h},J.getElements=function(_,m){var g;if(_ instanceof Array){g=[];try{var u,d=y(_);try{for(d.s();!(u=d.n()).done;)g.push(this.getElement(u.value,m))}catch(F){d.e(F)}finally{d.f()}}catch{g=null}}else if("string"==typeof _){g=[];var k,f=y(document.querySelectorAll(_));try{for(f.s();!(k=f.n()).done;)g.push(k.value)}catch(F){f.e(F)}finally{f.f()}}else null!=_.nodeType&&(g=[_]);if(null==g||!g.length)throw new Error("Invalid `".concat(m,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return g},J.confirm=function(_,m,h){return window.confirm(_)?m():null!=h?h():void 0},J.isValidFile=function(_,m){if(!m)return!0;m=m.split(",");var u,h=_.type,g=h.replace(/\/.*$/,""),d=y(m);try{for(d.s();!(u=d.n()).done;){var f=u.value;if("."===(f=f.trim()).charAt(0)){if(-1!==_.name.toLowerCase().indexOf(f.toLowerCase(),_.name.length-f.length))return!0}else if(/\/\*$/.test(f)){if(g===f.replace(/\/.*$/,""))return!0}else if(h===f)return!0}}catch(k){d.e(k)}finally{d.f()}return!1},typeof jQuery<"u"&&null!==jQuery&&(jQuery.fn.dropzone=function(_){return this.each(function(){return new J(this,_)})}),null!==X?X.exports=J:window.Dropzone=J,J.ADDED="added",J.QUEUED="queued",J.ACCEPTED=J.QUEUED,J.UPLOADING="uploading",J.PROCESSING=J.UPLOADING,J.CANCELED="canceled",J.ERROR="error",J.SUCCESS="success";var B=function(m,h,g,d,u,f,k,F,E,$){var j=function(m){var g=m.naturalHeight,d=document.createElement("canvas");d.width=1,d.height=g;var u=d.getContext("2d");u.drawImage(m,0,0);for(var k=u.getImageData(1,0,1,g).data,F=0,E=g,$=g;$>F;)0===k[4*($-1)+3]?E=$:F=$,$=E+F>>1;var P=$/g;return 0===P?1:P}(h);return m.drawImage(h,g,d,u,f,k,F,E,$/j)},V=function(){function _(){R(this,_)}return W(_,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(h){for(var g="",d=void 0,u=void 0,f="",k=void 0,F=void 0,E=void 0,$="",j=0;k=(d=h[j++])>>2,F=(3&d)<<4|(u=h[j++])>>4,E=(15&u)<<2|(f=h[j++])>>6,$=63&f,isNaN(u)?E=$=64:isNaN(f)&&($=64),g=g+this.KEY_STR.charAt(k)+this.KEY_STR.charAt(F)+this.KEY_STR.charAt(E)+this.KEY_STR.charAt($),d=u=f="",k=F=E=$="",j<h.length;);return g}},{key:"restore",value:function(h,g){if(!h.match("data:image/jpeg;base64,"))return g;var d=this.decode64(h.replace("data:image/jpeg;base64,","")),u=this.slice2Segments(d),f=this.exifManipulation(g,u);return"data:image/jpeg;base64,".concat(this.encode64(f))}},{key:"exifManipulation",value:function(h,g){var d=this.getExifArray(g),u=this.insertExif(h,d);return new Uint8Array(u)}},{key:"getExifArray",value:function(h){for(var g=void 0,d=0;d<h.length;){if(255===(g=h[d])[0]&225===g[1])return g;d++}return[]}},{key:"insertExif",value:function(h,g){var d=h.replace("data:image/jpeg;base64,",""),u=this.decode64(d),f=u.indexOf(255,3),k=u.slice(0,f),F=u.slice(f),E=k;return(E=E.concat(g)).concat(F)}},{key:"slice2Segments",value:function(h){for(var g=0,d=[];!(255===h[g]&218===h[g+1]);){if(255===h[g]&216===h[g+1])g+=2;else{var f=g+(256*h[g+2]+h[g+3])+2,k=h.slice(g,f);d.push(k),g=f}if(g>h.length)break}return d}},{key:"decode64",value:function(h){var u=void 0,f="",k=void 0,F=void 0,E=void 0,$="",j=0,P=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(h)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");k=this.KEY_STR.indexOf(h.charAt(j++)),u=(15&(F=this.KEY_STR.indexOf(h.charAt(j++))))<<4|(E=this.KEY_STR.indexOf(h.charAt(j++)))>>2,f=(3&E)<<6|($=this.KEY_STR.indexOf(h.charAt(j++))),P.push(k<<2|F>>4),64!==E&&P.push(u),64!==$&&P.push(f),u=f="",k=F=E=$="",j<h.length;);return P}}]),_}();V.initClass(),J._autoDiscoverFunction=function(){if(J.autoDiscover)return J.discover()},function(m,h){var g=!1,d=!0,u=m.document,f=u.documentElement,k=u.addEventListener?"addEventListener":"attachEvent",F=u.addEventListener?"removeEventListener":"detachEvent",E=u.addEventListener?"":"on",$=function P(ne){if(("readystatechange"!==ne.type||"complete"===u.readyState)&&(("load"===ne.type?m:u)[F](E+ne.type,P,!1),!g&&(g=!0)))return h.call(m,ne.type||ne)};if("complete"!==u.readyState){if(u.createEventObject&&f.doScroll){try{d=!m.frameElement}catch{}d&&function P(){try{f.doScroll("left")}catch{return void setTimeout(P,50)}return $("poll")}()}u[k](E+"DOMContentLoaded",$,!1),u[k](E+"readystatechange",$,!1),m[k](E+"load",$,!1)}}(window,J._autoDiscoverFunction)},2853:function(X,q){var c,C;c=function w(){"use strict";var b=typeof self<"u"?self:typeof window<"u"?window:void 0!==b?b:{},e=!b.document&&!!b.postMessage,D=b.IS_PAPA_WORKER||!1,T={},S=0,y={parse:function(_,m){var h=(m=m||{}).dynamicTyping||!1;if(se(h)&&(m.dynamicTypingFunction=h,h={}),m.dynamicTyping=h,m.transform=!!se(m.transform)&&m.transform,m.worker&&y.WORKERS_SUPPORTED){var g=function(){if(!y.WORKERS_SUPPORTED)return!1;var k,F,u=(k=b.URL||b.webkitURL||null,F=w.toString(),y.BLOB_URL||(y.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))),f=new b.Worker(u);return f.onmessage=K,f.id=S++,T[f.id]=f}();return g.userStep=m.step,g.userChunk=m.chunk,g.userComplete=m.complete,g.userError=m.error,m.step=se(m.step),m.chunk=se(m.chunk),m.complete=se(m.complete),m.error=se(m.error),delete m.worker,void g.postMessage({input:_,config:m,workerId:g.id})}var u,d=null;return"string"==typeof _?(_=65279===(u=_).charCodeAt(0)?u.slice(1):u,d=m.download?new R(m):new W(m)):!0===_.readable&&se(_.read)&&se(_.on)?d=new oe(m):(b.File&&_ instanceof File||_ instanceof Object)&&(d=new Y(m)),d.stream(_)},unparse:function(_,m){var h=!1,g=!0,d=",",u="\r\n",f='"',k=f+f,F=!1,E=null,$=!1;!function(){if("object"==typeof m){if("string"!=typeof m.delimiter||y.BAD_DELIMITERS.filter(function(O){return-1!==m.delimiter.indexOf(O)}).length||(d=m.delimiter),("boolean"==typeof m.quotes||"function"==typeof m.quotes||Array.isArray(m.quotes))&&(h=m.quotes),"boolean"!=typeof m.skipEmptyLines&&"string"!=typeof m.skipEmptyLines||(F=m.skipEmptyLines),"string"==typeof m.newline&&(u=m.newline),"string"==typeof m.quoteChar&&(f=m.quoteChar),"boolean"==typeof m.header&&(g=m.header),Array.isArray(m.columns)){if(0===m.columns.length)throw new Error("Option columns is empty");E=m.columns}void 0!==m.escapeChar&&(k=m.escapeChar+f),("boolean"==typeof m.escapeFormulae||m.escapeFormulae instanceof RegExp)&&($=m.escapeFormulae instanceof RegExp?m.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var j=new RegExp(_e(f),"g");if("string"==typeof _&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return P(null,_,F);if("object"==typeof _[0])return P(E||Object.keys(_[0]),_,F)}else if("object"==typeof _)return"string"==typeof _.data&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||E),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:"object"==typeof _.data[0]?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||"object"==typeof _.data[0]||(_.data=[_.data])),P(_.fields||[],_.data||[],F);throw new Error("Unable to serialize unrecognized input");function P(O,x,H){var Q="";"string"==typeof O&&(O=JSON.parse(O)),"string"==typeof x&&(x=JSON.parse(x));var le=Array.isArray(O)&&0<O.length,ve=!Array.isArray(x[0]);if(le&&g){for(var he=0;he<O.length;he++)0<he&&(Q+=d),Q+=ne(O[he],he);0<x.length&&(Q+=u)}for(var fe=0;fe<x.length;fe++){var ue=le?O.length:x[fe].length,De=!1,Ae=le?0===Object.keys(x[fe]).length:0===x[fe].length;if(H&&!le&&(De="greedy"===H?""===x[fe].join("").trim():1===x[fe].length&&0===x[fe][0].length),"greedy"===H&&le){for(var re=[],Ne=0;Ne<ue;Ne++)re.push(x[fe][ve?O[Ne]:Ne]);De=""===re.join("").trim()}if(!De){for(var Te=0;Te<ue;Te++)0<Te&&!Ae&&(Q+=d),Q+=ne(x[fe][le&&ve?O[Te]:Te],Te);fe<x.length-1&&(!H||0<ue&&!Ae)&&(Q+=u)}}return Q}function ne(O,x){if(null==O)return"";if(O.constructor===Date)return JSON.stringify(O).slice(1,25);var H=!1;$&&"string"==typeof O&&$.test(O)&&(O="'"+O,H=!0);var Q=O.toString().replace(j,k);return(H=H||!0===h||"function"==typeof h&&h(O,x)||Array.isArray(h)&&h[x]||function(le,ve){for(var he=0;he<ve.length;he++)if(-1<le.indexOf(ve[he]))return!0;return!1}(Q,y.BAD_DELIMITERS)||-1<Q.indexOf(d)||" "===Q.charAt(0)||" "===Q.charAt(Q.length-1))?f+Q+f:Q}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(y.BAD_DELIMITERS=["\r","\n",'"',y.BYTE_ORDER_MARK],y.WORKERS_SUPPORTED=!e&&!!b.Worker,y.NODE_STREAM_INPUT=1,y.LocalChunkSize=10485760,y.RemoteChunkSize=5242880,y.DefaultDelimiter=",",y.Parser=ke,y.ParserHandle=J,y.NetworkStreamer=R,y.FileStreamer=Y,y.StringStreamer=W,y.ReadableStreamStreamer=oe,b.jQuery){var A=b.jQuery;A.fn.parse=function(_){var m=_.config||{},h=[];return this.each(function(u){if("INPUT"!==A(this).prop("tagName").toUpperCase()||"file"!==A(this).attr("type").toLowerCase()||!b.FileReader||!this.files||0===this.files.length)return!0;for(var f=0;f<this.files.length;f++)h.push({file:this.files[f],inputElem:this,instanceConfig:A.extend({},m)})}),g(),this;function g(){if(0!==h.length){var f,k,F,E=h[0];if(se(_.before)){var $=_.before(E.file,E.inputElem);if("object"==typeof $){if("abort"===$.action)return f=E.file,k=E.inputElem,F=$.reason,void(se(_.error)&&_.error({name:"AbortError"},f,k,F));if("skip"===$.action)return void d();"object"==typeof $.config&&(E.instanceConfig=A.extend(E.instanceConfig,$.config))}else if("skip"===$)return void d()}var j=E.instanceConfig.complete;E.instanceConfig.complete=function(P){se(j)&&j(P,E.file,E.inputElem),d()},y.parse(E.file,E.instanceConfig)}else se(_.complete)&&_.complete()}function d(){h.splice(0,1),g()}}}function z(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(m){var h=Z(m);h.chunkSize=parseInt(h.chunkSize),m.step||m.chunk||(h.chunkSize=null),this._handle=new J(h),(this._handle.streamer=this)._config=h}.call(this,_),this.parseChunk=function(m,h){if(this.isFirstChunk&&se(this._config.beforeFirstChunk)){var g=this._config.beforeFirstChunk(m);void 0!==g&&(m=g)}this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+m;this._partialLine="";var u=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var f=u.meta.cursor;this._finished||(this._partialLine=d.substring(f-this._baseIndex),this._baseIndex=f),u&&u.data&&(this._rowCount+=u.data.length);var k=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(D)b.postMessage({results:u,workerId:y.WORKER_ID,finished:k});else if(se(this._config.chunk)&&!h){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!k||!se(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(m){se(this._config.error)?this._config.error(m):D&&this._config.error&&b.postMessage({workerId:y.WORKER_ID,error:m,finished:!1})}}function R(_){var m;(_=_||{}).chunkSize||(_.chunkSize=y.RemoteChunkSize),z.call(this,_),this._nextChunk=e?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(m=new XMLHttpRequest,this._config.withCredentials&&(m.withCredentials=this._config.withCredentials),e||(m.onload=ee(this._chunkLoaded,this),m.onerror=ee(this._chunkError,this)),m.open(this._config.downloadRequestBody?"POST":"GET",this._input,!e),this._config.downloadRequestHeaders){var h=this._config.downloadRequestHeaders;for(var g in h)m.setRequestHeader(g,h[g])}this._config.chunkSize&&m.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{m.send(this._config.downloadRequestBody)}catch(u){this._chunkError(u.message)}e&&0===m.status&&this._chunkError()}},this._chunkLoaded=function(){var g;4===m.readyState&&(m.status<200||400<=m.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:m.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(g=m.getResponseHeader("Content-Range"))?-1:parseInt(g.substring(g.lastIndexOf("/")+1))),this.parseChunk(m.responseText)))},this._chunkError=function(h){this._sendError(new Error(m.statusText||h))}}function Y(_){var m,h;(_=_||{}).chunkSize||(_.chunkSize=y.LocalChunkSize),z.call(this,_);var g=typeof FileReader<"u";this.stream=function(d){this._input=d,h=d.slice||d.webkitSlice||d.mozSlice,g?((m=new FileReader).onload=ee(this._chunkLoaded,this),m.onerror=ee(this._chunkError,this)):m=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var d=this._input;if(this._config.chunkSize){var u=Math.min(this._start+this._config.chunkSize,this._input.size);d=h.call(d,this._start,u)}var f=m.readAsText(d,this._config.encoding);g||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(d){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(d.target.result)},this._chunkError=function(){this._sendError(m.error)}}function W(_){var m;z.call(this,_=_||{}),this.stream=function(h){return m=h,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var h,g=this._config.chunkSize;return g?(h=m.substring(0,g),m=m.substring(g)):(h=m,m=""),this._finished=!m,this.parseChunk(h)}}}function oe(_){z.call(this,_=_||{});var m=[],h=!0,g=!1;this.pause=function(){z.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){z.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(d){this._input=d,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){g&&1===m.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),m.length?this.parseChunk(m.shift()):h=!0},this._streamData=ee(function(d){try{m.push("string"==typeof d?d:d.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(m.shift()))}catch(u){this._streamError(u)}},this),this._streamError=ee(function(d){this._streamCleanUp(),this._sendError(d)},this),this._streamEnd=ee(function(){this._streamCleanUp(),g=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function J(_){var m,h,g,d=Math.pow(2,53),u=-d,f=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,F=this,E=0,$=0,j=!1,P=!1,ne=[],O={data:[],errors:[],meta:{}};if(se(_.step)){var x=_.step;_.step=function(fe){if(O=fe,le())Q();else{if(Q(),0===O.data.length)return;E+=fe.data.length,_.preview&&E>_.preview?h.abort():(O.data=O.data[0],x(O,F))}}}function H(fe){return"greedy"===_.skipEmptyLines?""===fe.join("").trim():1===fe.length&&0===fe[0].length}function Q(){return O&&g&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+y.DefaultDelimiter+"'"),g=!1),_.skipEmptyLines&&(O.data=O.data.filter(function(fe){return!H(fe)})),le()&&function(){if(O)if(Array.isArray(O.data[0])){for(var ue=0;le()&&ue<O.data.length;ue++)O.data[ue].forEach(fe);O.data.splice(0,1)}else O.data.forEach(fe);function fe(De,Ae){se(_.transformHeader)&&(De=_.transformHeader(De,Ae)),ne.push(De)}}(),function(){if(!O||!_.header&&!_.dynamicTyping&&!_.transform)return O;function fe(De,Ae){var re,Ne=_.header?{}:[];for(re=0;re<De.length;re++){var ce=re,Te=De[re];_.header&&(ce=re>=ne.length?"__parsed_extra":ne[re]),_.transform&&(Te=_.transform(Te,ce)),Te=ve(ce,Te),"__parsed_extra"===ce?(Ne[ce]=Ne[ce]||[],Ne[ce].push(Te)):Ne[ce]=Te}return _.header&&(re>ne.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+ne.length+" fields but parsed "+re,$+Ae):re<ne.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+ne.length+" fields but parsed "+re,$+Ae)),Ne}var ue=1;return!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(fe),ue=O.data.length):O.data=fe(O.data,0),_.header&&O.meta&&(O.meta.fields=ne),$+=ue,O}()}function le(){return _.header&&0===ne.length}function ve(fe,ue){return De=fe,_.dynamicTypingFunction&&void 0===_.dynamicTyping[De]&&(_.dynamicTyping[De]=_.dynamicTypingFunction(De)),!0===(_.dynamicTyping[De]||_.dynamicTyping)?"true"===ue||"TRUE"===ue||"false"!==ue&&"FALSE"!==ue&&(function(Ae){if(f.test(Ae)){var re=parseFloat(Ae);if(u<re&&re<d)return!0}return!1}(ue)?parseFloat(ue):k.test(ue)?new Date(ue):""===ue?null:ue):ue;var De}function he(fe,ue,De,Ae){var re={type:fe,code:ue,message:De};void 0!==Ae&&(re.row=Ae),O.errors.push(re)}this.parse=function(fe,ue,De){if(_.newline||(_.newline=function(ce,Te){ce=ce.substring(0,1048576);var Ce=new RegExp(_e(Te)+"([^]*?)"+_e(Te),"gm"),Pe=(ce=ce.replace(Ce,"")).split("\r"),it=ce.split("\n");if(1===Pe.length||1<it.length&&it[0].length<Pe[0].length)return"\n";for(var ct=0,He=0;He<Pe.length;He++)"\n"===Pe[He][0]&&ct++;return ct>=Pe.length/2?"\r\n":"\r"}(fe,_.quoteChar||'"')),g=!1,_.delimiter)se(_.delimiter)&&(_.delimiter=_.delimiter(fe),O.meta.delimiter=_.delimiter);else{var re=function(ce,Te,Ce,Pe,it){var Qe,ct,He,Ke;it=it||[",","\t","|",";",y.RECORD_SEP,y.UNIT_SEP];for(var te=0;te<it.length;te++){var Ge=it[te],zt=0,xt=0,St=0;He=void 0;for(var L=new ke({comments:Pe,delimiter:Ge,newline:Te,preview:10}).parse(ce),U=0;U<L.data.length;U++)if(Ce&&H(L.data[U]))St++;else{var ie=L.data[U].length;xt+=ie,void 0!==He?0<ie&&(zt+=Math.abs(ie-He),He=ie):He=ie}0<L.data.length&&(xt/=L.data.length-St),(void 0===ct||zt<=ct)&&(void 0===Ke||Ke<xt)&&1.99<xt&&(ct=zt,Qe=Ge,Ke=xt)}return{successful:!!(_.delimiter=Qe),bestDelimiter:Qe}}(fe,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);re.successful?_.delimiter=re.bestDelimiter:(g=!0,_.delimiter=y.DefaultDelimiter),O.meta.delimiter=_.delimiter}var Ne=Z(_);return _.preview&&_.header&&Ne.preview++,m=fe,h=new ke(Ne),O=h.parse(m,ue,De),Q(),j?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,h.abort(),m=se(_.chunk)?"":m.substring(h.getCharIndex())},this.resume=function(){F.streamer._halted?(j=!1,F.streamer.parseChunk(m,!0)):setTimeout(F.resume,3)},this.aborted=function(){return P},this.abort=function(){P=!0,h.abort(),O.meta.aborted=!0,se(_.complete)&&_.complete(O),m=""}}function _e(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ke(_){var m,h=(_=_||{}).delimiter,g=_.newline,d=_.comments,u=_.step,f=_.preview,k=_.fastMode,F=m=null==_.quoteChar?'"':_.quoteChar;if(void 0!==_.escapeChar&&(F=_.escapeChar),("string"!=typeof h||-1<y.BAD_DELIMITERS.indexOf(h))&&(h=","),d===h)throw new Error("Comment character same as delimiter");!0===d?d="#":("string"!=typeof d||-1<y.BAD_DELIMITERS.indexOf(d))&&(d=!1),"\n"!==g&&"\r"!==g&&"\r\n"!==g&&(g="\n");var E=0,$=!1;this.parse=function(j,P,ne){if("string"!=typeof j)throw new Error("Input must be a string");var O=j.length,x=h.length,H=g.length,Q=d.length,le=se(u),ve=[],he=[],fe=[],ue=E=0;if(!j)return pe();if(_.header&&!P){var De=j.split(g)[0].split(h),Ae=[],re={},Ne=!1;for(var ce in De){var Te=De[ce];se(_.transformHeader)&&(Te=_.transformHeader(Te,ce));var Ce=Te,Pe=re[Te]||0;for(0<Pe&&(Ne=!0,Ce=Te+"_"+Pe),re[Te]=Pe+1;Ae.includes(Ce);)Ce=Ce+"_"+Pe;Ae.push(Ce)}if(Ne){var it=j.split(g);it[0]=Ae.join(h),j=it.join(g)}}if(k||!1!==k&&-1===j.indexOf(m)){for(var Qe=j.split(g),ct=0;ct<Qe.length;ct++){if(E+=(fe=Qe[ct]).length,ct!==Qe.length-1)E+=g.length;else if(ne)return pe();if(!d||fe.substring(0,Q)!==d){if(le){if(ve=[],St(fe.split(h)),Ie(),$)return pe()}else St(fe.split(h));if(f&&f<=ct)return ve=ve.slice(0,f),pe(!0)}}return pe()}for(var He=j.indexOf(h,E),Ke=j.indexOf(g,E),te=new RegExp(_e(F)+_e(m),"g"),Ge=j.indexOf(m,E);;)if(j[E]!==m)if(d&&0===fe.length&&j.substring(E,E+Q)===d){if(-1===Ke)return pe();Ke=j.indexOf(g,E=Ke+H),He=j.indexOf(h,E)}else if(-1!==He&&(He<Ke||-1===Ke))fe.push(j.substring(E,He)),He=j.indexOf(h,E=He+x);else{if(-1===Ke)break;if(fe.push(j.substring(E,Ke)),ie(Ke+H),le&&(Ie(),$))return pe();if(f&&ve.length>=f)return pe(!0)}else for(Ge=E,E++;;){if(-1===(Ge=j.indexOf(m,Ge+1)))return ne||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ve.length,index:E}),U();if(Ge===O-1)return U(j.substring(E,Ge).replace(te,m));if(m!==F||j[Ge+1]!==F){if(m===F||0===Ge||j[Ge-1]!==F){-1!==He&&He<Ge+1&&(He=j.indexOf(h,Ge+1)),-1!==Ke&&Ke<Ge+1&&(Ke=j.indexOf(g,Ge+1));var zt=L(-1===Ke?He:Math.min(He,Ke));if(j.substr(Ge+1+zt,x)===h){fe.push(j.substring(E,Ge).replace(te,m)),j[E=Ge+1+zt+x]!==m&&(Ge=j.indexOf(m,E)),He=j.indexOf(h,E),Ke=j.indexOf(g,E);break}var xt=L(Ke);if(j.substring(Ge+1+xt,Ge+1+xt+H)===g){if(fe.push(j.substring(E,Ge).replace(te,m)),ie(Ge+1+xt+H),He=j.indexOf(h,E),Ge=j.indexOf(m,E),le&&(Ie(),$))return pe();if(f&&ve.length>=f)return pe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ve.length,index:E}),Ge++}}else Ge++}return U();function St(Be){ve.push(Be),ue=E}function L(Be){var tt=0;if(-1!==Be){var Le=j.substring(Ge+1,Be);Le&&""===Le.trim()&&(tt=Le.length)}return tt}function U(Be){return ne||(void 0===Be&&(Be=j.substring(E)),fe.push(Be),E=O,St(fe),le&&Ie()),pe()}function ie(Be){E=Be,St(fe),fe=[],Ke=j.indexOf(g,E)}function pe(Be){return{data:ve,errors:he,meta:{delimiter:h,linebreak:g,aborted:$,truncated:!!Be,cursor:ue+(P||0)}}}function Ie(){u(pe()),ve=[],he=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return E}}function K(_){var m=_.data,h=T[m.workerId],g=!1;if(m.error)h.userError(m.error,m.file);else if(m.results&&m.results.data){var d={abort:function(){g=!0,B(m.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(se(h.userStep)){for(var u=0;u<m.results.data.length&&(h.userStep({data:m.results.data[u],errors:m.results.errors,meta:m.results.meta},d),!g);u++);delete m.results}else se(h.userChunk)&&(h.userChunk(m.results,d,m.file),delete m.results)}m.finished&&!g&&B(m.workerId,m.results)}function B(_,m){var h=T[_];se(h.userComplete)&&h.userComplete(m),h.terminate(),delete T[_]}function V(){throw new Error("Not implemented.")}function Z(_){if("object"!=typeof _||null===_)return _;var m=Array.isArray(_)?[]:{};for(var h in _)m[h]=Z(_[h]);return m}function ee(_,m){return function(){_.apply(m,arguments)}}function se(_){return"function"==typeof _}return D&&(b.onmessage=function(_){var m=_.data;if(void 0===y.WORKER_ID&&m&&(y.WORKER_ID=m.workerId),"string"==typeof m.input)b.postMessage({workerId:y.WORKER_ID,results:y.parse(m.input,m.config),finished:!0});else if(b.File&&m.input instanceof File||m.input instanceof Object){var h=y.parse(m.input,m.config);h&&b.postMessage({workerId:y.WORKER_ID,results:h,finished:!0})}}),(R.prototype=Object.create(z.prototype)).constructor=R,(Y.prototype=Object.create(z.prototype)).constructor=Y,(W.prototype=Object.create(W.prototype)).constructor=W,(oe.prototype=Object.create(z.prototype)).constructor=oe,y},void 0!==(C=c.apply(q,[]))&&(X.exports=C)},2256:()=>{var X,q;q=X||(X={}),function(){var v="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function D(){return function b(){try{return Function("return this;")()}catch{}}()||function e(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),C=w(q);function w(T,S){return function(y,A){Object.defineProperty(T,y,{configurable:!0,writable:!0,value:A}),S&&S(y,A)}}typeof v.Reflect<"u"&&(C=w(v.Reflect,C)),function(c,v){var C=Object.prototype.hasOwnProperty,w="function"==typeof Symbol,b=w&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",e=w&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",D="function"==typeof Object.create,T={__proto__:[]}instanceof Array,S=!D&&!T,y={create:D?function(){return St(Object.create(null))}:T?function(){return St({__proto__:null})}:function(){return St({})},has:S?function(L,U){return C.call(L,U)}:function(L,U){return U in L},get:S?function(L,U){return C.call(L,U)?L[U]:void 0}:function(L,U){return L[U]}},A=Object.getPrototypeOf(Function),z="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function Ge(){var L={},U=[],ie=function(){function Le(we,Me,xe){this._index=0,this._keys=we,this._values=Me,this._selector=xe}return Le.prototype["@@iterator"]=function(){return this},Le.prototype[e]=function(){return this},Le.prototype.next=function(){var we=this._index;if(we>=0&&we<this._keys.length){var Me=this._selector(this._keys[we],this._values[we]);return we+1>=this._keys.length?(this._index=-1,this._keys=U,this._values=U):this._index++,{value:Me,done:!1}}return{value:void 0,done:!0}},Le.prototype.throw=function(we){throw this._index>=0&&(this._index=-1,this._keys=U,this._values=U),we},Le.prototype.return=function(we){return this._index>=0&&(this._index=-1,this._keys=U,this._values=U),{value:we,done:!0}},Le}();return function(){function Le(){this._keys=[],this._values=[],this._cacheKey=L,this._cacheIndex=-2}return Object.defineProperty(Le.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Le.prototype.has=function(we){return this._find(we,!1)>=0},Le.prototype.get=function(we){var Me=this._find(we,!1);return Me>=0?this._values[Me]:void 0},Le.prototype.set=function(we,Me){var xe=this._find(we,!0);return this._values[xe]=Me,this},Le.prototype.delete=function(we){var Me=this._find(we,!1);if(Me>=0){for(var xe=this._keys.length,Se=Me+1;Se<xe;Se++)this._keys[Se-1]=this._keys[Se],this._values[Se-1]=this._values[Se];return this._keys.length--,this._values.length--,re(we,this._cacheKey)&&(this._cacheKey=L,this._cacheIndex=-2),!0}return!1},Le.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=L,this._cacheIndex=-2},Le.prototype.keys=function(){return new ie(this._keys,this._values,Ie)},Le.prototype.values=function(){return new ie(this._keys,this._values,Be)},Le.prototype.entries=function(){return new ie(this._keys,this._values,tt)},Le.prototype["@@iterator"]=function(){return this.entries()},Le.prototype[e]=function(){return this.entries()},Le.prototype._find=function(we,Me){if(!re(this._cacheKey,we)){this._cacheIndex=-1;for(var xe=0;xe<this._keys.length;xe++)if(re(this._keys[xe],we)){this._cacheIndex=xe;break}}return this._cacheIndex<0&&Me&&(this._cacheIndex=this._keys.length,this._keys.push(we),this._values.push(void 0)),this._cacheIndex},Le}();function Ie(Le,we){return Le}function Be(Le,we){return we}function tt(Le,we){return[Le,we]}}(),R="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function zt(){return function(){function U(){this._map=new z}return Object.defineProperty(U.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),U.prototype.has=function(ie){return this._map.has(ie)},U.prototype.add=function(ie){return this._map.set(ie,ie),this},U.prototype.delete=function(ie){return this._map.delete(ie)},U.prototype.clear=function(){this._map.clear()},U.prototype.keys=function(){return this._map.keys()},U.prototype.values=function(){return this._map.keys()},U.prototype.entries=function(){return this._map.entries()},U.prototype["@@iterator"]=function(){return this.keys()},U.prototype[e]=function(){return this.keys()},U}()}(),Y="function"==typeof WeakMap?WeakMap:function xt(){var U=y.create(),ie=pe();return function(){function we(){this._key=pe()}return we.prototype.has=function(Me){var xe=Ie(Me,!1);return void 0!==xe&&y.has(xe,this._key)},we.prototype.get=function(Me){var xe=Ie(Me,!1);return void 0!==xe?y.get(xe,this._key):void 0},we.prototype.set=function(Me,xe){return Ie(Me,!0)[this._key]=xe,this},we.prototype.delete=function(Me){var xe=Ie(Me,!1);return void 0!==xe&&delete xe[this._key]},we.prototype.clear=function(){this._key=pe()},we}();function pe(){var we;do{we="@@WeakMap@@"+Le()}while(y.has(U,we));return U[we]=!0,we}function Ie(we,Me){if(!C.call(we,ie)){if(!Me)return;Object.defineProperty(we,ie,{value:y.create()})}return we[ie]}function Be(we,Me){for(var xe=0;xe<Me;++xe)we[xe]=255*Math.random()|0;return we}function Le(){var we=function tt(we){if("function"==typeof Uint8Array){var Me=new Uint8Array(we);return typeof crypto<"u"?crypto.getRandomValues(Me):typeof msCrypto<"u"?msCrypto.getRandomValues(Me):Be(Me,we),Me}return Be(new Array(we),we)}(16);we[6]=79&we[6]|64,we[8]=191&we[8]|128;for(var Me="",xe=0;xe<16;++xe){var Se=we[xe];(4===xe||6===xe||8===xe)&&(Me+="-"),Se<16&&(Me+="0"),Me+=Se.toString(16).toLowerCase()}return Me}}(),W=w?Symbol.for("@reflect-metadata:registry"):void 0,oe=function ct(){var L;return!P(W)&&x(v.Reflect)&&Object.isExtensible(v.Reflect)&&(L=v.Reflect[W]),P(L)&&(L=function Qe(){var L;!P(W)&&typeof v.Reflect<"u"&&!(W in v.Reflect)&&"function"==typeof v.Reflect.defineMetadata&&(L=function Ke(L){var U=L.defineMetadata,ie=L.hasOwnMetadata,pe=L.getOwnMetadata,Ie=L.getOwnMetadataKeys,Be=L.deleteMetadata,tt=new Y;return{isProviderFor:function(we,Me){var xe=tt.get(we);return!(P(xe)||!xe.has(Me))||!!Ie(we,Me).length&&(P(xe)&&(xe=new R,tt.set(we,xe)),xe.add(Me),!0)},OrdinaryDefineOwnMetadata:U,OrdinaryHasOwnMetadata:ie,OrdinaryGetOwnMetadata:pe,OrdinaryOwnMetadataKeys:Ie,OrdinaryDeleteMetadata:Be}}(v.Reflect));var U,ie,pe,Ie=new Y,Be={registerProvider:tt,getProvider:we,setProvider:xe};return Be;function tt(Se){if(!Object.isExtensible(Be))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case L===Se:break;case P(U):U=Se;break;case U===Se:break;case P(ie):ie=Se;break;case ie===Se:break;default:void 0===pe&&(pe=new R),pe.add(Se)}}function Le(Se,ze){if(!P(U)){if(U.isProviderFor(Se,ze))return U;if(!P(ie)){if(ie.isProviderFor(Se,ze))return U;if(!P(pe))for(var Je=ce(pe);;){var nt=Ce(Je);if(!nt)return;var It=Te(nt);if(It.isProviderFor(Se,ze))return Pe(Je),It}}}if(!P(L)&&L.isProviderFor(Se,ze))return L}function we(Se,ze){var nt,Je=Ie.get(Se);return P(Je)||(nt=Je.get(ze)),P(nt)&&(P(nt=Le(Se,ze))||(P(Je)&&(Je=new z,Ie.set(Se,Je)),Je.set(ze,nt))),nt}function Me(Se){if(P(Se))throw new TypeError;return U===Se||ie===Se||!P(pe)&&pe.has(Se)}function xe(Se,ze,Je){if(!Me(Je))throw new Error("Metadata provider not registered.");var nt=we(Se,ze);if(nt!==Je){if(!P(nt))return!1;var It=Ie.get(Se);P(It)&&(It=new z,Ie.set(Se,It)),It.set(ze,Je)}return!0}}()),!P(W)&&x(v.Reflect)&&Object.isExtensible(v.Reflect)&&Object.defineProperty(v.Reflect,W,{enumerable:!1,configurable:!1,writable:!1,value:L}),L}(),J=function He(L){var U=new Y,ie={isProviderFor:function(Me,xe){var Se=U.get(Me);return!P(Se)&&Se.has(xe)},OrdinaryDefineOwnMetadata:function tt(Me,xe,Se,ze){pe(Se,ze,!0).set(Me,xe)},OrdinaryHasOwnMetadata:function Ie(Me,xe,Se){var ze=pe(xe,Se,!1);return!P(ze)&&le(ze.has(Me))},OrdinaryGetOwnMetadata:function Be(Me,xe,Se){var ze=pe(xe,Se,!1);if(!P(ze))return ze.get(Me)},OrdinaryOwnMetadataKeys:function Le(Me,xe){var Se=[],ze=pe(Me,xe,!1);if(P(ze))return Se;for(var nt=ce(ze.keys()),It=0;;){var ge=Ce(nt);if(!ge)return Se.length=It,Se;var rt=Te(ge);try{Se[It]=rt}catch(vt){try{Pe(nt)}finally{throw vt}}It++}},OrdinaryDeleteMetadata:function we(Me,xe,Se){var ze=pe(xe,Se,!1);if(P(ze)||!ze.delete(Me))return!1;if(0===ze.size){var Je=U.get(xe);P(Je)||(Je.delete(Se),0===Je.size&&U.delete(Je))}return!0}};return oe.registerProvider(ie),ie;function pe(Me,xe,Se){var ze=U.get(Me),Je=!1;if(P(ze)){if(!Se)return;ze=new z,U.set(Me,ze),Je=!0}var nt=ze.get(xe);if(P(nt)){if(!Se)return;if(nt=new z,ze.set(xe,nt),!L.setProvider(Me,xe,ie))throw ze.delete(xe),Je&&U.delete(Me),new Error("Wrong provider for target.")}return nt}}(oe);function d(L,U,ie){if(u(L,U,ie))return!0;var Ie=it(U);return!ne(Ie)&&d(L,Ie,ie)}function u(L,U,ie){var pe=te(U,ie,!1);return!P(pe)&&le(pe.OrdinaryHasOwnMetadata(L,U,ie))}function f(L,U,ie){if(u(L,U,ie))return k(L,U,ie);var Ie=it(U);return ne(Ie)?void 0:f(L,Ie,ie)}function k(L,U,ie){var pe=te(U,ie,!1);if(!P(pe))return pe.OrdinaryGetOwnMetadata(L,U,ie)}function F(L,U,ie,pe){te(ie,pe,!0).OrdinaryDefineOwnMetadata(L,U,ie,pe)}function E(L,U){var ie=$(L,U),pe=it(L);if(null===pe)return ie;var Ie=E(pe,U);if(Ie.length<=0)return ie;if(ie.length<=0)return Ie;for(var Be=new R,tt=[],Le=0,we=ie;Le<we.length;Le++)Be.has(Me=we[Le])||(Be.add(Me),tt.push(Me));for(var Se=0,ze=Ie;Se<ze.length;Se++){var Me;Be.has(Me=ze[Se])||(Be.add(Me),tt.push(Me))}return tt}function $(L,U){var ie=te(L,U,!1);return ie?ie.OrdinaryOwnMetadataKeys(L,U):[]}function j(L){if(null===L)return 1;switch(typeof L){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===L?1:6;default:return 6}}function P(L){return void 0===L}function ne(L){return null===L}function x(L){return"object"==typeof L?null!==L:"function"==typeof L}function H(L,U){switch(j(L)){case 0:case 1:case 2:case 3:case 4:case 5:return L}var ie=3===U?"string":5===U?"number":"default",pe=Ne(L,b);if(void 0!==pe){var Ie=pe.call(L,ie);if(x(Ie))throw new TypeError;return Ie}return function Q(L,U){if("string"===U){var ie=L.toString;if(ue(ie)&&!x(pe=ie.call(L)))return pe;if(ue(Ie=L.valueOf)&&!x(pe=Ie.call(L)))return pe}else{var Ie;if(ue(Ie=L.valueOf)&&!x(pe=Ie.call(L)))return pe;var pe,Be=L.toString;if(ue(Be)&&!x(pe=Be.call(L)))return pe}throw new TypeError}(L,"default"===ie?"number":ie)}function le(L){return!!L}function he(L){var U=H(L,3);return function O(L){return"symbol"==typeof L}(U)?U:function ve(L){return""+L}(U)}function fe(L){return Array.isArray?Array.isArray(L):L instanceof Object?L instanceof Array:"[object Array]"===Object.prototype.toString.call(L)}function ue(L){return"function"==typeof L}function De(L){return"function"==typeof L}function re(L,U){return L===U||L!=L&&U!=U}function Ne(L,U){var ie=L[U];if(null!=ie){if(!ue(ie))throw new TypeError;return ie}}function ce(L){var U=Ne(L,e);if(!ue(U))throw new TypeError;var ie=U.call(L);if(!x(ie))throw new TypeError;return ie}function Te(L){return L.value}function Ce(L){var U=L.next();return!U.done&&U}function Pe(L){var U=L.return;U&&U.call(L)}function it(L){var U=Object.getPrototypeOf(L);if("function"!=typeof L||L===A||U!==A)return U;var ie=L.prototype,pe=ie&&Object.getPrototypeOf(ie);if(null==pe||pe===Object.prototype)return U;var Ie=pe.constructor;return"function"!=typeof Ie||Ie===L?U:Ie}function te(L,U,ie){var pe=oe.getProvider(L,U);if(!P(pe))return pe;if(ie){if(oe.setProvider(L,U,J))return J;throw new Error("Illegal state.")}}function St(L){return L.__=void 0,delete L.__,L}c("decorate",function _e(L,U,ie,pe){if(P(ie)){if(!fe(L))throw new TypeError;if(!De(U))throw new TypeError;return function h(L,U){for(var ie=L.length-1;ie>=0;--ie){var Ie=(0,L[ie])(U);if(!P(Ie)&&!ne(Ie)){if(!De(Ie))throw new TypeError;U=Ie}}return U}(L,U)}if(!fe(L))throw new TypeError;if(!x(U))throw new TypeError;if(!x(pe)&&!P(pe)&&!ne(pe))throw new TypeError;return ne(pe)&&(pe=void 0),function g(L,U,ie,pe){for(var Ie=L.length-1;Ie>=0;--Ie){var tt=(0,L[Ie])(U,ie,pe);if(!P(tt)&&!ne(tt)){if(!x(tt))throw new TypeError;pe=tt}}return pe}(L,U,ie=he(ie),pe)}),c("metadata",function ke(L,U){return function ie(pe,Ie){if(!x(pe))throw new TypeError;if(!P(Ie)&&!function Ae(L){switch(j(L)){case 3:case 4:return!0;default:return!1}}(Ie))throw new TypeError;F(L,U,pe,Ie)}}),c("defineMetadata",function K(L,U,ie,pe){if(!x(ie))throw new TypeError;return P(pe)||(pe=he(pe)),F(L,U,ie,pe)}),c("hasMetadata",function B(L,U,ie){if(!x(U))throw new TypeError;return P(ie)||(ie=he(ie)),d(L,U,ie)}),c("hasOwnMetadata",function V(L,U,ie){if(!x(U))throw new TypeError;return P(ie)||(ie=he(ie)),u(L,U,ie)}),c("getMetadata",function Z(L,U,ie){if(!x(U))throw new TypeError;return P(ie)||(ie=he(ie)),f(L,U,ie)}),c("getOwnMetadata",function ee(L,U,ie){if(!x(U))throw new TypeError;return P(ie)||(ie=he(ie)),k(L,U,ie)}),c("getMetadataKeys",function se(L,U){if(!x(L))throw new TypeError;return P(U)||(U=he(U)),E(L,U)}),c("getOwnMetadataKeys",function _(L,U){if(!x(L))throw new TypeError;return P(U)||(U=he(U)),$(L,U)}),c("deleteMetadata",function m(L,U,ie){if(!x(U))throw new TypeError;if(P(ie)||(ie=he(ie)),!x(U))throw new TypeError;P(ie)||(ie=he(ie));var pe=te(U,ie,!1);return!P(pe)&&pe.OrdinaryDeleteMetadata(L,U,ie)})}(C,v),typeof v.Reflect>"u"&&(v.Reflect=q)}()},1134:(X,q,c)=>{"use strict";c.d(q,{D6:()=>R,LG:()=>A});var v=c(7580),C=c(316),w=c(4646);const b=["determinateSpinner"];function e(Y,W){if(1&Y&&(v.qSk(),v.j41(0,"svg",11),v.nrm(1,"circle",12),v.k0s()),2&Y){const oe=v.XpG();v.BMQ("viewBox",oe._viewBox()),v.R7$(),v.xc7("stroke-dasharray",oe._strokeCircumference(),"px")("stroke-dashoffset",oe._strokeCircumference()/2,"px")("stroke-width",oe._circleStrokeWidth(),"%"),v.BMQ("r",oe._circleRadius())}}const D=new v.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function T(){return{diameter:S}}}),S=100;let A=(()=>{class Y{_elementRef=(0,v.WQX)(v.aKT);_noopAnimations;get color(){return this._color||this._defaultColor}set color(oe){this._color=oe}_color;_defaultColor="primary";_determinateCircle;constructor(){const oe=(0,v.WQX)(v.bc$,{optional:!0}),J=(0,v.WQX)(D);this._noopAnimations="NoopAnimations"===oe&&!!J&&!J._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",J&&(J.color&&(this.color=this._defaultColor=J.color),J.diameter&&(this.diameter=J.diameter),J.strokeWidth&&(this.strokeWidth=J.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(oe){this._value=Math.max(0,Math.min(100,oe||0))}_value=0;get diameter(){return this._diameter}set diameter(oe){this._diameter=oe||0}_diameter=S;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(oe){this._strokeWidth=oe||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const oe=2*this._circleRadius()+this.strokeWidth;return`0 0 ${oe} ${oe}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(J){return new(J||Y)};static \u0275cmp=v.VBU({type:Y,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(J,_e){if(1&J&&v.GBs(b,5),2&J){let ke;v.mGM(ke=v.lsd())&&(_e._determinateCircle=ke.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(J,_e){2&J&&(v.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===_e.mode?_e.value:null)("mode",_e.mode),v.HbH("mat-"+_e.color),v.xc7("width",_e.diameter,"px")("height",_e.diameter,"px")("--mdc-circular-progress-size",_e.diameter+"px")("--mdc-circular-progress-active-indicator-width",_e.diameter+"px"),v.AVh("_mat-animation-noopable",_e._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===_e.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",v.Udg],diameter:[2,"diameter","diameter",v.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",v.Udg]},exportAs:["matProgressSpinner"],features:[v.GFd],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(J,_e){if(1&J&&(v.DNE(0,e,2,8,"ng-template",null,0,v.C5r),v.j41(2,"div",2,1),v.qSk(),v.j41(4,"svg",3),v.nrm(5,"circle",4),v.k0s()(),v.joV(),v.j41(6,"div",5)(7,"div",6)(8,"div",7),v.eu8(9,8),v.k0s(),v.j41(10,"div",9),v.eu8(11,8),v.k0s(),v.j41(12,"div",10),v.eu8(13,8),v.k0s()()()),2&J){const ke=v.sdS(1);v.R7$(4),v.BMQ("viewBox",_e._viewBox()),v.R7$(),v.xc7("stroke-dasharray",_e._strokeCircumference(),"px")("stroke-dashoffset",_e._strokeDashOffset(),"px")("stroke-width",_e._circleStrokeWidth(),"%"),v.BMQ("r",_e._circleRadius()),v.R7$(4),v.Y8G("ngTemplateOutlet",ke),v.R7$(2),v.Y8G("ngTemplateOutlet",ke),v.R7$(2),v.Y8G("ngTemplateOutlet",ke)}},dependencies:[C.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return Y})(),R=(()=>{class Y{static \u0275fac=function(J){return new(J||Y)};static \u0275mod=v.$C({type:Y});static \u0275inj=v.G2t({imports:[w.yE]})}return Y})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/19.03.00/dist/ng-edit/projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts-projects_eav-ui_src_app_sha-ddd80a.3b79be91cbc76438.js.map
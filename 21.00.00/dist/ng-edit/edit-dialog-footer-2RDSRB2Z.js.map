{"version":3,"sources":["projects/eav-ui/src/app/edit/dialog/footer/data-dump/data-dump.ts","projects/eav-ui/src/app/edit/dialog/footer/data-dump/data-dump.html","projects/eav-ui/src/app/edit/dialog/footer/edit-dialog-footer.models.ts","projects/eav-ui/src/app/edit/dialog/footer/formula-designer/formula-designer.models.ts","projects/eav-ui/src/app/edit/dialog/footer/formula-designer/snippet-label-size.pipe.ts","projects/eav-ui/src/app/edit/dialog/footer/formula-designer/formula-designer.ts","projects/eav-ui/src/app/edit/dialog/footer/formula-designer/formula-designer.html","node_modules/@angular/cdk/fesm2022/clipboard.mjs","projects/eav-ui/src/app/edit/dialog/footer/logs-config/config-editor-dialog/config-editor-dialog.ts","projects/eav-ui/src/app/edit/dialog/footer/logs-config/config-editor-dialog/config-editor-dialog.html","projects/eav-ui/src/app/edit/dialog/footer/logs-config/specs-editor-dialog/specs-editor-dialog.ts","projects/eav-ui/src/app/edit/dialog/footer/logs-config/specs-editor-dialog/specs-editor-dialog.html","projects/eav-ui/src/app/edit/dialog/footer/logs-config/logs-config.ts","projects/eav-ui/src/app/edit/dialog/footer/logs-config/logs-config.html","projects/eav-ui/src/app/edit/dialog/footer/logs-dump/logs-dump.ts","projects/eav-ui/src/app/edit/dialog/footer/logs-dump/logs-dump.html","projects/eav-ui/src/app/edit/dialog/footer/edit-dialog-footer.ts","projects/eav-ui/src/app/edit/dialog/footer/edit-dialog-footer.html"],"sourcesContent":["import { JsonPipe } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { ItemService } from '../../../state/item.service';\r\n\r\n@Component({\r\n    selector: 'app-data-dump',\r\n    templateUrl: './data-dump.html',\r\n    styleUrls: ['./data-dump.scss'],\r\n    imports: [JsonPipe]\r\n})\r\nexport class DataDumpComponent {\r\n  protected items = this.itemService.getManySignal(this.formConfig.config.itemGuids);\r\n  constructor(private itemService: ItemService, private formConfig: FormConfigService) { }\r\n}\r\n","  <textarea readonly class=\"fancy-scrollbar-light\">{{ items() | json }}</textarea>\r\n\r\n","export const DebugTypes = {\r\n  Data: 'data',\r\n  Formulas: 'formulas',\r\n  Logs: 'logs',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n","import { Of } from '../../../../../../../core';\r\nimport { FormulaCacheItem } from '../../../formulas/cache/formula-cache.model';\r\nimport { FormulaTargets } from '../../../formulas/targets/formula-targets';\r\n\r\nexport interface EntityOption {\r\n  entityGuid: string;\r\n  formulas: FormulaCacheItem[];\r\n  hasFormula: boolean;\r\n  label: string;\r\n}\r\n\r\nexport interface FieldOption {\r\n  fieldName: string;\r\n  formulas: FormulaCacheItem[];\r\n  hasFormula: boolean;\r\n  inputType: string;\r\n  label: string;\r\n}\r\n\r\nexport interface TargetOption {\r\n  hasFormula: boolean;\r\n  label: string;\r\n  target: Of<typeof FormulaTargets>;\r\n}\r\n\r\nexport interface DesignerSnippet {\r\n  code: string;\r\n  label: string;\r\n}\r\n\r\nexport const SelectTargets = {\r\n  Entity: 'entityGuid',\r\n  Field: 'fieldValue',\r\n  Target: 'formulaTarget',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'snippetLabelSize',\r\n})\r\nexport class SnippetLabelSizePipe implements PipeTransform {\r\n\r\n  private maxLength = 24;\r\n\r\n  transform(label: string): string {\r\n    if (label.length <= this.maxLength) { return label; }\r\n    return `‚Ä¶${label.substring(label.length - this.maxLength)}`;\r\n  }\r\n}\r\n","import { JsonPipe, NgClass } from '@angular/common';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, computed, inject, OnDestroy, OnInit, signal } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport type * as Monaco from 'monaco-editor';\r\nimport { Of } from '../../../../../../../core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { MonacoEditorComponent } from '../../../../monaco-editor/monaco-editor';\r\nimport { eavConstants } from '../../../../shared/constants/eav.constants';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { EditPrep } from '../../../../shared/models/edit-form.model';\r\nimport { ClipboardService } from '../../../../shared/services/clipboard.service';\r\nimport { EntityEditService } from '../../../../shared/services/entity-edit.service';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { DesignerState } from '../../../formulas/designer/designer-state.model';\r\nimport { FormulaDesignerService } from '../../../formulas/designer/formula-designer.service';\r\nimport { defaultFormula, defaultListItemFormula } from '../../../formulas/formula-definitions';\r\nimport { FormulaIdentifier } from '../../../formulas/results/formula-results.models';\r\nimport { FormulaNewPickerTargets, FormulaTargets } from '../../../formulas/targets/formula-targets';\r\nimport { ContentTypeService } from '../../../shared/content-types/content-type.service';\r\nimport { ItemService } from '../../../state/item.service';\r\nimport { SelectTargets } from './formula-designer.models';\r\nimport { SnippetLabelSizePipe } from './snippet-label-size.pipe';\r\n\r\n@Component({\r\n    selector: 'app-formula-designer',\r\n    templateUrl: './formula-designer.html',\r\n    styleUrls: ['./formula-designer.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        MatSelectModule,\r\n        FormsModule,\r\n        MatOptionModule,\r\n        NgClass,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MonacoEditorComponent,\r\n        MatMenuModule,\r\n        JsonPipe,\r\n        SnippetLabelSizePipe,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class FormulaDesignerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({FormulaDesignerComponent});\r\n\r\n  #designerSvc = inject(FormulaDesignerService);\r\n\r\n  #entitiesService = transient(EntityEditService);\r\n  \r\n  constructor(\r\n    private snackBar: MatSnackBar,\r\n    private formConfig: FormConfigService,\r\n    private itemService: ItemService,\r\n    private contentTypeService: ContentTypeService,\r\n    private translate: TranslateService,\r\n  ) { }\r\n\r\n  protected clipboard = transient(ClipboardService);\r\n\r\n  SelectTargets = SelectTargets;\r\n  loadError = false;\r\n  freeTextTarget = false;\r\n  allowSaveFormula = this.formConfig.config.enableFormulaSave;\r\n  isDeleted = signal(false);\r\n  saving = signal(false);\r\n  monacoOptions: Monaco.editor.IStandaloneEditorConstructionOptions = {\r\n    minimap: {\r\n      enabled: false,\r\n    },\r\n    lineHeight: 19,\r\n    lineNumbers: 'off',\r\n    lineDecorationsWidth: 0,\r\n    folding: false,\r\n    scrollBeyondLastLine: false,\r\n    tabSize: 2,\r\n    fixedOverflowWidgets: true,\r\n  };\r\n  filename = `formula${this.formConfig.config.formId}.js`;\r\n  focused = false;\r\n\r\n\r\n  protected state = this.#designerSvc.designerState;\r\n  protected result = this.#designerSvc.formulaResult;\r\n  protected targetOptions = this.#designerSvc.currentTargetOptions;\r\n  \r\n  protected entityOptions = this.#designerSvc.entityOptions;\r\n  protected fieldsOptions = this.#designerSvc.fieldsOptions;\r\n  protected currentFormula = this.#designerSvc.currentFormula;\r\n\r\n  protected v2JsTypings = this.#designerSvc.v2JsTypings;\r\n\r\n  protected v1ContextSnippets = this.#designerSvc.v1ContextSnippets;\r\n  protected v1DataSnippets = this.#designerSvc.v1DataSnippets;\r\n\r\n  protected template = computed(() => Object.values(FormulaNewPickerTargets).includes(this.state().target)\r\n    ? defaultListItemFormula\r\n    : defaultFormula\r\n  );\r\n\r\n\r\n  ngOnInit(): void {\r\n    // Make sure all necessary services have what they need, otherwise flag & exit\r\n    // 1. Make sure the designer has access to all itemSettingsServices\r\n    this.loadError = false;\r\n    if (Object.keys(this.#designerSvc.itemSettingsServices).length < 1) {\r\n      this.loadError = true;\r\n      return;\r\n    }\r\n    \r\n    this.#designerSvc.setDesignerOpen(true);\r\n    this.#designerSvc.initAfterItemSettingsAreReady();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.#designerSvc.setDesignerOpen(false);\r\n  }\r\n\r\n  selectedChanged(target: Of<typeof SelectTargets>, value: string | Of<typeof FormulaTargets>): void {\r\n    const newState: DesignerState = {\r\n      ...this.#designerSvc.designerState(),\r\n      editMode: false,\r\n    };\r\n    switch (target) {\r\n      case SelectTargets.Entity:\r\n        newState.entityGuid = value;\r\n        const selectedSettingsSvc = this.#designerSvc.itemSettingsServices[newState.entityGuid];\r\n        newState.fieldName = Object.keys(selectedSettingsSvc.allProps())[0];\r\n        break;\r\n      case SelectTargets.Field:\r\n        newState.fieldName = value;\r\n        break;\r\n      case SelectTargets.Target:\r\n        newState.target = value as Of<typeof FormulaTargets>;\r\n        break;\r\n    }\r\n\r\n    this.#designerSvc.designerState.set(newState);\r\n  }\r\n\r\n  toggleFreeText(): void {\r\n    this.freeTextTarget = !this.freeTextTarget;\r\n  }\r\n\r\n  formulaChanged(formula: string): void {\r\n    this.#designerSvc.cache.updateFormulaFromEditor(this.#designerIdentifier, formula, false);\r\n  }\r\n\r\n  onFocused(focused: boolean): void {\r\n    this.focused = focused;\r\n  }\r\n\r\n  toggleEdit(): void {\r\n    const oldState = this.#designerSvc.designerState();\r\n    const designer: DesignerState = {\r\n      ...oldState,\r\n      editMode: !oldState.editMode,\r\n    };\r\n    this.#designerSvc.designerState.set(designer);\r\n    if (designer.editMode && this.#designerSvc.currentFormula() == null)\r\n      this.#designerSvc.cache.updateFormulaFromEditor(this.#designerIdentifier, this.template(), false);\r\n  }\r\n\r\n  reset(): void {\r\n    const designer: DesignerState = {\r\n      ...this.#designerSvc.designerState(),\r\n      editMode: false,\r\n    };\r\n    const identifier = this.#designerIdentifier;\r\n    this.#designerSvc.designerState.set(designer);\r\n    this.#designerSvc.cache.resetFormula(identifier);\r\n    this.#designerSvc.itemSettingsServices[identifier.entityGuid].retriggerFormulas('designer-reset');\r\n  }\r\n\r\n  run(): void {\r\n    const identifier = this.#designerIdentifier;\r\n    const formula = this.#designerSvc.currentFormula();\r\n    this.#designerSvc.cache.updateFormulaFromEditor(identifier, formula.sourceCode, true);\r\n    this.#designerSvc.itemSettingsServices[identifier.entityGuid].retriggerFormulas('designer-run');\r\n    this.isDeleted.set(false);\r\n  }\r\n\r\n  get #designerIdentifier(): FormulaIdentifier {\r\n    const designer = this.#designerSvc.designerState();\r\n    const id: FormulaIdentifier = { entityGuid: designer.entityGuid, fieldName: designer.fieldName, target: designer.target };\r\n    return id;\r\n  }\r\n\r\n  //#region Save/Delete\r\n\r\n  save(): void {\r\n    this.saving.set(true);\r\n    const formula = this.#designerSvc.currentFormula();\r\n\r\n    if (formula.sourceCodeId == null) {\r\n      const item = this.itemService.get(formula.entityGuid);\r\n      const attributeDef = this.contentTypeService.getAttributeOfItem(item, formula.fieldName);\r\n      const atAllFieldSettings = attributeDef.Metadata.find(m => m.Type.Id === '@All');\r\n      if (!atAllFieldSettings) {\r\n        this.snackBar.open('Field configuration is missing. Please create formula in Administration', undefined, { duration: 3000 });\r\n        this.saving.set(false);\r\n        return;\r\n      }\r\n      this.#entitiesService.create(\r\n        eavConstants.contentTypes.formulas,\r\n        {\r\n          Title: formula.target,\r\n          Target: formula.target,\r\n          Formula: formula.sourceCode,\r\n          Enabled: true,\r\n          ParentRelationship: EditPrep.relationship(atAllFieldSettings.Guid, 'Formulas'),\r\n        },\r\n      ).subscribe(savedFormula => {\r\n        this.#designerSvc.cache.updateSaved(formula, savedFormula.Guid, savedFormula.Id);\r\n        this.snackBar.open('Formula saved', null, { duration: 2000 });\r\n        this.saving.set(false);\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.#entitiesService.update(eavConstants.contentTypes.formulas, formula.sourceCodeId, { Formula: formula.sourceCode }).subscribe(() => {\r\n      this.#designerSvc.cache.updateSaved(formula, formula.sourceCodeGuid, formula.sourceCodeId);\r\n      this.snackBar.open('Formula saved', null, { duration: 2000 });\r\n      this.saving.set(false);\r\n    });\r\n  }\r\n\r\n  deleteFormula(): void {\r\n    const designer = this.#designerSvc.designerState();\r\n    const formula = this.#designerSvc.currentFormula();\r\n\r\n    const id = formula.sourceCodeId;\r\n    const title = formula.fieldName + ' - ' + formula.target;\r\n\r\n    const confirmed = confirm(this.translate.instant('Data.Delete.Question', { title, id }));\r\n    if (!confirmed)\r\n      return;\r\n\r\n    this.#entitiesService.delete(eavConstants.contentTypes.formulas, formula.sourceCodeId, true)\r\n      .subscribe({\r\n        next: () => {\r\n          this.#designerSvc.cache.delete(formula);\r\n          this.snackBar.open(this.translate.instant('Message.Deleted'), null, { duration: 2000 });\r\n          this.isDeleted.set(true);\r\n          if (designer.editMode)\r\n            this.toggleEdit();\r\n        },\r\n        error: (_: HttpErrorResponse) => {\r\n          this.snackBar.open(this.translate.instant('Message.DeleteError'), null, { duration: 2000 });\r\n        }\r\n      });\r\n  }\r\n\r\n  //#endregion\r\n\r\n}\r\n","@if (!loadError) {\r\n  <div class=\"formula-context-box\">\r\n    <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n      <mat-label>Entity</mat-label>\r\n      <mat-select [ngModel]=\"state().entityGuid\" (ngModelChange)=\"selectedChanged(SelectTargets.Entity, $event)\">\r\n        @for (entityOption of entityOptions(); track entityOption.entityGuid)\r\n        {\r\n          <mat-option\r\n            [value]=\"entityOption.entityGuid\">\r\n            <span [ngClass]=\"{ 'has-formula': entityOption.hasFormula }\">\r\n              {{ entityOption.label }}\r\n            </span>\r\n          </mat-option>\r\n        }\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n      <mat-label>Attribute</mat-label>\r\n      <mat-select [ngModel]=\"state().fieldName\" (ngModelChange)=\"selectedChanged(SelectTargets.Field, $event)\"\r\n        [disabled]=\"state().entityGuid == null\">\r\n        @for (fieldOption of fieldsOptions(); track fieldOption.fieldName)\r\n        {\r\n          <mat-option\r\n            [value]=\"fieldOption.fieldName\">\r\n            <span [ngClass]=\"{ 'has-formula': fieldOption.hasFormula }\">\r\n              {{ fieldOption.fieldName }}\r\n            </span>\r\n          </mat-option>\r\n        }\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n      <mat-label>Target</mat-label>\r\n      @if (!freeTextTarget)\r\n      {\r\n        <mat-select [ngModel]=\"state().target\"\r\n          (ngModelChange)=\"selectedChanged(SelectTargets.Target, $event)\"\r\n          [disabled]=\"state().entityGuid == null || state().fieldName == null\">\r\n          @for (targetOption of targetOptions(); track targetOption) {\r\n            <mat-option [value]=\"targetOption.target\">\r\n              <span [ngClass]=\"{ 'has-formula': targetOption.hasFormula }\">\r\n                {{ targetOption.label }}\r\n              </span>\r\n            </mat-option>\r\n          }\r\n        </mat-select>\r\n      }\r\n      @else\r\n      {\r\n        <input matInput [ngModel]=\"state().target\"\r\n          (ngModelChange)=\"selectedChanged(SelectTargets.Target, $event)\"\r\n          [disabled]=\"state().entityGuid == null || state().fieldName == null\">\r\n      }\r\n    </mat-form-field>\r\n    <button mat-icon-button tippy=\"FreeText Target\" class=\"eav-formula-button\"\r\n      [disabled]=\"state().entityGuid == null || state().fieldName == null\" (click)=\"toggleFreeText()\">\r\n      <mat-icon>text_fields</mat-icon>\r\n    </button>\r\n    <div class=\"spacer\"></div>\r\n    <a mat-icon-button tippy=\"Help\" class=\"eav-formula-button\" href=\"https://go.2sxc.org/formulas\" target=\"_blank\">\r\n      <mat-icon>help</mat-icon>\r\n    </a>\r\n  </div>\r\n  <div class=\"formula-box\">\r\n    <div class=\"formula-field\" [ngClass]=\"{\r\n      'disabled': !state().editMode || state().entityGuid == null || state().fieldName == null || state().target == null,\r\n      'focused': focused\r\n      }\">\r\n      <mat-label class=\"label\">Function</mat-label>\r\n      <app-monaco-editor class=\"editor\" [filename]=\"filename\" [value]=\"currentFormula()?.sourceCode ?? template()\"\r\n        [jsTypings]=\"v2JsTypings()\" (valueChanged)=\"formulaChanged($event)\" [options]=\"monacoOptions\"\r\n        (focused)=\"onFocused(true)\" (blurred)=\"onFocused(false)\">\r\n      </app-monaco-editor>\r\n    </div>\r\n    <div class=\"formula-snippets fancy-scrollbar-light\" [ngClass]=\"{ 'disabled': !state().editMode }\">\r\n      @for (snippet of v1DataSnippets(); track snippet.code)\r\n      {\r\n        <div class=\"snippet\" [title]=\"snippet.code\"\r\n          (click)=\"clipboard.copyToClipboard(snippet.code)\">\r\n          {{ snippet.label | snippetLabelSize }}\r\n        </div>\r\n      }\r\n      @if (v1DataSnippets()?.length && v1ContextSnippets().length)\r\n      {\r\n        <div class=\"separator\"></div>\r\n      }\r\n      @for (snippet of v1ContextSnippets(); track snippet.code)\r\n      {\r\n        <div class=\"snippet\" [title]=\"snippet.code\"\r\n          (click)=\"clipboard.copyToClipboard(snippet.code)\">\r\n          {{ snippet.label | snippetLabelSize }}\r\n        </div>\r\n      }\r\n    </div>\r\n  </div>\r\n  <div class=\"formula-footer-box\">\r\n    <div class=\"formula-result-box hide-scrollbar\">\r\n      <span class=\"label\">Result:&nbsp;</span>\r\n      @if (result() != null && !isDeleted())\r\n      {\r\n        @if (!result().isError)\r\n        {\r\n          @if (result().value !== undefined) {\r\n            <span>{{ result().value | json }}</span>\r\n          }\r\n          @else if (!result().isOnlyPromise) {\r\n            <span class=\"result-undefined\">undefined</span>\r\n          }\r\n          @else {\r\n            <span>promise(ü§ûüèΩ)</span>\r\n          }\r\n        }\r\n        @else\r\n        {\r\n          <span class=\"result-error\">\r\n            Calculation failed. Please check console for more info\r\n          </span>\r\n        }\r\n      }\r\n    </div>\r\n    <div class=\"formula-actions-box\">\r\n      <button mat-icon-button tippy=\"Edit\" (click)=\"toggleEdit()\">\r\n        <mat-icon>edit</mat-icon>\r\n      </button>\r\n      <button mat-icon-button tippy=\"Menu\" [matMenuTriggerFor]=\"menu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #menu=\"matMenu\">\r\n        <button mat-menu-item (click)=\"deleteFormula()\"\r\n          [disabled]=\"!currentFormula()?.sourceCodeId\">\r\n          <mat-icon>delete</mat-icon>\r\n          <span>Delete</span>\r\n        </button>\r\n        <button mat-menu-item (click)=\"reset()\">\r\n          <mat-icon>history</mat-icon>\r\n          <span>Reset</span>\r\n        </button>\r\n      </mat-menu>\r\n      @if (allowSaveFormula)\r\n      {\r\n        <button mat-icon-button tippy=\"Save\"\r\n          [tippyDisabled]=\"!state().editMode || !currentFormula()?.sourceCode\"\r\n          [disabled]=\"!state().editMode || !currentFormula()?.sourceCode || saving()\" (click)=\"save()\">\r\n          <mat-icon>save</mat-icon>\r\n        </button>\r\n      }\r\n      <button mat-icon-button tippy=\"Run\"\r\n        [disabled]=\"!state().editMode || !currentFormula()?.sourceCode\" (click)=\"run()\">\r\n        <mat-icon>play_arrow</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n}\r\n","import * as i0 from '@angular/core';\nimport { inject, DOCUMENT, Injectable, InjectionToken, NgZone, EventEmitter, Directive, Input, Output, NgModule } from '@angular/core';\nclass PendingCopy {\n  _document;\n  _textarea;\n  constructor(text, _document) {\n    this._document = _document;\n    const textarea = this._textarea = this._document.createElement('textarea');\n    const styles = textarea.style;\n    styles.position = 'fixed';\n    styles.top = styles.opacity = '0';\n    styles.left = '-999em';\n    textarea.setAttribute('aria-hidden', 'true');\n    textarea.value = text;\n    textarea.readOnly = true;\n    (this._document.fullscreenElement || this._document.body).appendChild(textarea);\n  }\n  copy() {\n    const textarea = this._textarea;\n    let successful = false;\n    try {\n      if (textarea) {\n        const currentFocus = this._document.activeElement;\n        textarea.select();\n        textarea.setSelectionRange(0, textarea.value.length);\n        successful = this._document.execCommand('copy');\n        if (currentFocus) {\n          currentFocus.focus();\n        }\n      }\n    } catch {}\n    return successful;\n  }\n  destroy() {\n    const textarea = this._textarea;\n    if (textarea) {\n      textarea.remove();\n      this._textarea = undefined;\n    }\n  }\n}\nlet Clipboard = /*#__PURE__*/(() => {\n  class Clipboard {\n    _document = inject(DOCUMENT);\n    constructor() {}\n    copy(text) {\n      const pendingCopy = this.beginCopy(text);\n      const successful = pendingCopy.copy();\n      pendingCopy.destroy();\n      return successful;\n    }\n    beginCopy(text) {\n      return new PendingCopy(text, this._document);\n    }\n    static …µfac = function Clipboard_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Clipboard)();\n    };\n    static …µprov = /* @__PURE__ */i0.…µ…µdefineInjectable({\n      token: Clipboard,\n      factory: Clipboard.…µfac,\n      providedIn: 'root'\n    });\n  }\n  return Clipboard;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst CDK_COPY_TO_CLIPBOARD_CONFIG = /*#__PURE__*/new InjectionToken('CDK_COPY_TO_CLIPBOARD_CONFIG');\nlet CdkCopyToClipboard = /*#__PURE__*/(() => {\n  class CdkCopyToClipboard {\n    _clipboard = inject(Clipboard);\n    _ngZone = inject(NgZone);\n    text = '';\n    attempts = 1;\n    copied = new EventEmitter();\n    _pending = new Set();\n    _destroyed;\n    _currentTimeout;\n    constructor() {\n      const config = inject(CDK_COPY_TO_CLIPBOARD_CONFIG, {\n        optional: true\n      });\n      if (config && config.attempts != null) {\n        this.attempts = config.attempts;\n      }\n    }\n    copy(attempts = this.attempts) {\n      if (attempts > 1) {\n        let remainingAttempts = attempts;\n        const pending = this._clipboard.beginCopy(this.text);\n        this._pending.add(pending);\n        const attempt = () => {\n          const successful = pending.copy();\n          if (!successful && --remainingAttempts && !this._destroyed) {\n            this._currentTimeout = this._ngZone.runOutsideAngular(() => setTimeout(attempt, 1));\n          } else {\n            this._currentTimeout = null;\n            this._pending.delete(pending);\n            pending.destroy();\n            this.copied.emit(successful);\n          }\n        };\n        attempt();\n      } else {\n        this.copied.emit(this._clipboard.copy(this.text));\n      }\n    }\n    ngOnDestroy() {\n      if (this._currentTimeout) {\n        clearTimeout(this._currentTimeout);\n      }\n      this._pending.forEach(copy => copy.destroy());\n      this._pending.clear();\n      this._destroyed = true;\n    }\n    static …µfac = function CdkCopyToClipboard_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkCopyToClipboard)();\n    };\n    static …µdir = /* @__PURE__ */i0.…µ…µdefineDirective({\n      type: CdkCopyToClipboard,\n      selectors: [[\"\", \"cdkCopyToClipboard\", \"\"]],\n      hostBindings: function CdkCopyToClipboard_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µlistener(\"click\", function CdkCopyToClipboard_click_HostBindingHandler() {\n            return ctx.copy();\n          });\n        }\n      },\n      inputs: {\n        text: [0, \"cdkCopyToClipboard\", \"text\"],\n        attempts: [0, \"cdkCopyToClipboardAttempts\", \"attempts\"]\n      },\n      outputs: {\n        copied: \"cdkCopyToClipboardCopied\"\n      }\n    });\n  }\n  return CdkCopyToClipboard;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ClipboardModule = /*#__PURE__*/(() => {\n  class ClipboardModule {\n    static …µfac = function ClipboardModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ClipboardModule)();\n    };\n    static …µmod = /* @__PURE__ */i0.…µ…µdefineNgModule({\n      type: ClipboardModule\n    });\n    static …µinj = /* @__PURE__ */i0.…µ…µdefineInjector({});\n  }\n  return ClipboardModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { CDK_COPY_TO_CLIPBOARD_CONFIG, CdkCopyToClipboard, Clipboard, ClipboardModule, PendingCopy };\n","import { ClipboardModule } from '@angular/cdk/clipboard';\r\nimport { Component, HostBinding, Inject } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport {\r\n  MAT_DIALOG_DATA,\r\n  MatDialogActions,\r\n  MatDialogClose,\r\n  MatDialogModule, MatDialogRef\r\n} from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { transient } from '../../../../../../../../core/transient';\r\nimport { ClipboardService } from '../../../../..//shared/services/clipboard.service';\r\nimport { MonacoEditorComponent } from '../../../../../monaco-editor/monaco-editor';\r\nimport { TippyDirective } from '../../../../../shared/directives/tippy.directive';\r\n@Component({\r\n    imports: [\r\n        MatDialogModule,\r\n        FormsModule,\r\n        MonacoEditorComponent,\r\n        MatButtonModule,\r\n        MatDialogActions,\r\n        MatDialogClose,\r\n        ClipboardModule,\r\n        MatIconModule,\r\n        TippyDirective,\r\n    ],\r\n    selector: 'app-monaco-editor-dialog',\r\n    templateUrl: './config-editor-dialog.html'\r\n})\r\nexport class ConfigEditorDialogComponent {\r\n\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n  \r\n  selectedConfig: string;\r\n  focused = false;\r\n  editorOptions = {\r\n    theme: 'vs-light',\r\n    language: 'json',\r\n    readOnly: true,\r\n    automaticLayout: true,\r\n    minimap: { enabled: false },\r\n    scrollBeyondLastLine: false,\r\n  };\r\n  filename = 'exported-config.json';\r\n\r\n  constructor(\r\n    public dialog: MatDialogRef<ConfigEditorDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    this.selectedConfig = JSON.stringify(data.configData, null, 2);\r\n  }\r\n  \r\n  protected clipboard = transient(ClipboardService);\r\n\r\n  onFocused(focused: boolean): void {\r\n    this.focused = focused;\r\n  }\r\n}\r\n","<div class=\"eav-dialog\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">Configs Exporter</div>\r\n    <button mat-icon-button mat-dialog-close tippy=\"Close dialog\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"eav-dialog-content\" style=\"padding-bottom: 0;\">\r\n    <app-monaco-editor\r\n      [filename]=\"filename\"\r\n      [value]=\"selectedConfig\"\r\n      [options]=\"editorOptions\"\r\n      (focused)=\"onFocused(true)\"\r\n      (blurred)=\"onFocused(false)\"\r\n      style=\"height: 350px; width: 100%\"\r\n    />\r\n  </div>\r\n  <mat-dialog-actions>\r\n    <button mat-icon-button (click)=\"clipboard.copyToClipboard(selectedConfig)\" tippy=\"Copy Config To Clipboard\">\r\n      <mat-icon>content_copy</mat-icon>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { Component, HostBinding, Inject } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport {\r\n  MAT_DIALOG_DATA,\r\n  MatDialogActions,\r\n  MatDialogClose,\r\n  MatDialogModule,\r\n  MatDialogRef\r\n} from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MonacoEditorComponent } from '../../../../../monaco-editor/monaco-editor';\r\nimport { TippyDirective } from '../../../../../shared/directives/tippy.directive';\r\n@Component({\r\n    imports: [\r\n        MatDialogModule,\r\n        FormsModule,\r\n        MonacoEditorComponent,\r\n        MatButtonModule,\r\n        MatDialogActions,\r\n        MatDialogClose,\r\n        MatIconModule,\r\n        TippyDirective,\r\n    ],\r\n    selector: 'app-monaco-editor-dialog',\r\n    templateUrl: './specs-editor-dialog.html'\r\n})\r\nexport class SpecsEditorDialogComponent {\r\n\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  logSpecs: string;\r\n  focused = false;\r\n  editorOptions = {\r\n    theme: 'vs-light',\r\n    language: 'json',\r\n    readOnly: false,\r\n    automaticLayout: true,\r\n    minimap: { enabled: false },\r\n    scrollBeyondLastLine: false,\r\n  };\r\n  filename = 'log-specs.json';\r\n\r\n  constructor(\r\n    public dialog: MatDialogRef<SpecsEditorDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    this.logSpecs = JSON.stringify(data.logSpecs, null, 2);\r\n  }\r\n\r\n  onClose(): void {\r\n    this.dialog.close();\r\n  }\r\n\r\n  onSave(): void {\r\n    this.dialog.close(this.logSpecs);\r\n  }\r\n\r\n  onValueChanged(newValue: string): void {\r\n    this.logSpecs = newValue;\r\n  }\r\n\r\n  onFocused(focused: boolean): void {\r\n    this.focused = focused;\r\n  }\r\n}\r\n","<div class=\"eav-dialog\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">Log Specs Editor</div>\r\n    <button mat-icon-button mat-dialog-close tippy=\"Close dialog\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"eav-dialog-content\" style=\"padding-bottom: 0;\">\r\n    <app-monaco-editor\r\n      [filename]=\"filename\"\r\n      [value]=\"logSpecs\"\r\n      [options]=\"editorOptions\"\r\n      (valueChanged)=\"onValueChanged($event)\"\r\n      (focused)=\"onFocused(true)\"\r\n      (blurred)=\"onFocused(false)\"\r\n      style=\"height: 350px; width: 100%\"\r\n    />\r\n  </div>\r\n  <mat-dialog-actions>\r\n    <button mat-icon-button (click)=\"onSave()\" tippy=\"Save Specs\">\r\n      <mat-icon>save</mat-icon>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { LogManager } from '../../../../shared/logging/log-manager';\r\nimport { LoggingService, LogSeverities } from '../../../shared/services/logging.service';\r\nimport { ConfigEditorDialogComponent } from './config-editor-dialog/config-editor-dialog';\r\nimport { SpecsEditorDialogComponent } from './specs-editor-dialog/specs-editor-dialog';\r\n\r\n@Component({\r\n  selector: 'app-logs-config',\r\n  templateUrl: './logs-config.html',\r\n  styleUrls: ['./logs-config.scss'],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    TippyDirective,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatOptionModule,\r\n    FormsModule,\r\n    MatInputModule,\r\n  ]\r\n})\r\nexport class LogsConfigComponent {\r\n  LogSeverities = LogSeverities;\r\n  logManager = LogManager.singleton();\r\n  allLogs = this.logManager.mergeAllSpecs;\r\n  configs: string[] = [];\r\n  sessionPrefix = 'logSpecs';\r\n  selectedFilter: \"activated\" | \"deactivated\" | \"\";\r\n  selectedConfig: string | null = null;\r\n  searchTerm: string = '';\r\n\r\n  protected logs = this.loggingService.getLogsSignal();\r\n\r\n  constructor(\r\n    private loggingService: LoggingService,\r\n    private matDialog: MatDialog,\r\n    private snackBar: MatSnackBar\r\n  ) { this.loadConfigsFromStateManager(); }\r\n\r\n  /* Toggle Functions */\r\n  checkAll(): void {\r\n    const allChecked = Object.values(this.allLogs).every(\r\n      (specs) => specs.enabled\r\n    );\r\n\r\n    if (allChecked) {\r\n      // Reset all to unchecked\r\n      for (const spec of Object.keys(this.allLogs)) {\r\n        if (this.isChecked(spec)) {\r\n          this.logManager.toggle(spec);\r\n        }\r\n      }\r\n    } else {\r\n      for (const spec of Object.keys(this.allLogs)) {\r\n        if (!this.isChecked(spec)) {\r\n          this.logManager.toggle(spec);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.applyFilters();\r\n  }\r\n\r\n  onFilterSelected(filter: \"activated\" | \"deactivated\" | \"\"): void {\r\n    this.selectedFilter = filter;\r\n    this.applyFilters();\r\n  }\r\n\r\n  filterLogs(event: Event): void {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    this.searchTerm = inputElement.value.toLowerCase(); // Store the search term\r\n    this.applyFilters();\r\n  }\r\n\r\n  isChecked(name: string): boolean {\r\n    return this.allLogs[name]?.enabled ?? false;\r\n  }\r\n\r\n  toggleConfig(name: string): void {\r\n    this.logManager.toggle(name);\r\n    this.applyFilters();\r\n  }\r\n\r\n  /* Config Functions */\r\n  loadConfigsFromStateManager(): void {\r\n    const savedConfigs = Object.keys(this.logManager.state.cache).filter(\r\n      (key) => key.startsWith(this.sessionPrefix)\r\n    );\r\n    this.configs = savedConfigs.map((key) =>\r\n      key.replace(`${this.sessionPrefix}.`, '')\r\n    );\r\n  }\r\n\r\n  onConfigSelected(configName: string | null): void {\r\n    this.selectedConfig = configName;\r\n  }\r\n\r\n  private applyFilters(): void {\r\n \r\n    let filteredLogs = Object.entries(this.logManager.mergeAllSpecs); // Always start from full logs\r\n  \r\n    if (this.searchTerm) {\r\n      filteredLogs = filteredLogs.filter(([key]) => key.toLowerCase().includes(this.searchTerm));\r\n    }\r\n  \r\n    if (this.selectedFilter === 'activated') {\r\n      filteredLogs = filteredLogs.filter(([, log]) => log.enabled);\r\n    } else if (this.selectedFilter === 'deactivated') {\r\n      filteredLogs = filteredLogs.filter(([, log]) => !log.enabled);\r\n    }\r\n  \r\n    this.allLogs = Object.fromEntries(filteredLogs);\r\n  }\r\n\r\n  saveConfig(): void {\r\n    const configName = prompt('Enter the config name:');\r\n  \r\n    if (configName) {\r\n      // Save all activated logs, irrespective of the filters\r\n      const enabledConfigs = Object.fromEntries(\r\n        Object.entries(this.logManager.mergeAllSpecs).filter(\r\n          ([, config]) => config.enabled\r\n        )\r\n      );\r\n  \r\n      const fullConfigKey = `${this.sessionPrefix}.${configName}`;\r\n      this.logManager.state.add(fullConfigKey, enabledConfigs);\r\n  \r\n      this.snackBar.open(`Config \"${configName}\" has been saved.`, null, {\r\n        duration: 2000,\r\n      });\r\n      this.loadConfigsFromStateManager();\r\n    }\r\n  }\r\n  \r\n  exportConfig(): void {\r\n    const fullConfigKey = `${this.sessionPrefix}.${this.selectedConfig}`;\r\n    const configData = this.logManager.state.cache[fullConfigKey];\r\n\r\n    if (configData && Object.keys(configData).length > 0) {\r\n      this.matDialog.open(ConfigEditorDialogComponent, {\r\n        width: '800px',\r\n        data: { configData },\r\n      });\r\n    } else {\r\n      this.snackBar.open(`No active logs to export for \"${this.selectedConfig}\".`, null, {\r\n        duration: 2000,\r\n      });\r\n    }\r\n    \r\n    this.applyFilters();\r\n  }\r\n\r\n  /* Specs Editor Dialog Functions */\r\n  hasLogSpecs(logKey: string): boolean {\r\n    const specs = this.allLogs[logKey]?.specs;\r\n    return !!specs && Object.keys(specs).length > 0;\r\n  }\r\n\r\n  openLogSpecs(logKey: string): void {\r\n    let logSpecs = this.allLogs[logKey].specs;\r\n    const dialogRef = this.matDialog.open(SpecsEditorDialogComponent, {\r\n      width: '800px',\r\n      data: { logSpecs: logSpecs },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result) {\r\n        const updatedSpecs = JSON.parse(result);\r\n\r\n        this.allLogs[logKey].specs = updatedSpecs;\r\n\r\n        this.logManager.updateSpecs(this.allLogs);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"log-content fancy-scrollbar-light\">\r\n  <div class=\"menu\">\r\n    <mat-form-field id=\"search-input\" color=\"accent\">\r\n      <mat-label>Search</mat-label>\r\n      <input matInput placeholder=\"Search\" (input)=\"filterLogs($event)\" />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field id=\"active-filter-dropdown\" color=\"accent\">\r\n      <mat-label>Show</mat-label>\r\n      <mat-select [(value)]=\"selectedFilter\" (selectionChange)=\"onFilterSelected($event.value)\">\r\n        <mat-option value=\"\"> All </mat-option>\r\n        <mat-option value=\"activated\"> Activated </mat-option>\r\n        <mat-option value=\"deactivated\"> Deactivated </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <button mat-icon-button tippy=\"Toggle All Logs in View\" (click)=\"checkAll()\">\r\n      <mat-icon>check_box</mat-icon>\r\n    </button>\r\n\r\n    <button mat-icon-button (click)=\"saveConfig()\" tippy=\"Save Configuration with all selected Logs\">\r\n      <mat-icon>save</mat-icon>\r\n    </button>\r\n\r\n    <button\r\n      mat-icon-button\r\n      [disabled]=\"selectedConfig === null\"\r\n      (click)=\"exportConfig()\"\r\n      tippy=\"Export the selected configuration from the saved Configs\"\r\n      >\r\n      <mat-icon>ios_share</mat-icon>\r\n    </button>\r\n\r\n    <mat-form-field color=\"accent\">\r\n      <mat-label>Configs</mat-label>\r\n      <mat-select\r\n        [(value)]=\"selectedConfig\"\r\n        (selectionChange)=\"onConfigSelected($event.value)\"\r\n        >\r\n        @for (config of configs; track config) {\r\n          <mat-option [value]=\"config\">\r\n            {{ config }}\r\n          </mat-option>\r\n        }\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n  @for (log of allLogs | keyvalue; track log) {\r\n    <div>\r\n      <label>\r\n        <input\r\n          type=\"checkbox\"\r\n          [id]=\"log.key\"\r\n          [name]=\"log.key\"\r\n          [checked]=\"isChecked(log.key)\"\r\n          (change)=\"toggleConfig(log.key)\"\r\n          />\r\n          {{ log.key }}\r\n          @if (hasLogSpecs(log.key)) {\r\n            <button (click)=\"openLogSpecs(log.key)\" tippy=\"Edit Log Specs\">\r\n              <mat-icon class=\"specs-icon\">data_object</mat-icon>\r\n            </button>\r\n          }\r\n        </label>\r\n      </div>\r\n    }\r\n  </div>\r\n","import { DatePipe, NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { LogEntry, LoggingService, LogSeverities } from '../../../shared/services/logging.service';\r\nimport { LogsConfigComponent } from \"../logs-config/logs-config\";\r\n\r\n@Component({\r\n  selector: 'app-logs-dump',\r\n  templateUrl: './logs-dump.html',\r\n  styleUrls: ['./logs-dump.scss'],\r\n  imports: [\r\n    NgClass,\r\n    DatePipe,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    LogsConfigComponent,\r\n    TippyDirective,\r\n  ]\r\n})\r\nexport class LogsDumpComponent {\r\n  LogSeverities = LogSeverities;\r\n  showSettings = true;\r\n\r\n  protected logs = this.loggingService.getLogsSignal();\r\n\r\n  constructor(private loggingService: LoggingService) { }\r\n\r\n  logToConsole(log: LogEntry): void {\r\n    switch (log.severity) {\r\n      case LogSeverities.Log:\r\n        console.log(log.label, log.error);\r\n        break;\r\n      case LogSeverities.Warn:\r\n        console.warn(log.label, log.error);\r\n        break;\r\n      case LogSeverities.Error:\r\n        console.error(log.label, log.error);\r\n        break;\r\n    }\r\n  }\r\n\r\n  showLogSettings(show: boolean): void {\r\n    this.showSettings = show;\r\n  }\r\n}\r\n\r\n","<div class=\"logs-box fancy-scrollbar-light\">\r\n  <div class=\"logs-content\">\r\n    @if (!showSettings) {\r\n      @if (logs().length === 0) {\r\n        <div>Logs are empty</div>\r\n      } \r\n      @for (log of logs(); track log) {\r\n        <div\r\n          class=\"log-entry\"\r\n          [ngClass]=\"{\r\n            'log-error': log.severity === LogSeverities.Error,\r\n            'log-warn': log.severity === LogSeverities.Warn\r\n          }\"\r\n        >\r\n          <span class=\"log-entry-part log-entry-time\"\r\n            >{{ log.time | date : \"HH:mm:ss\" }}:</span\r\n          >\r\n          <span class=\"log-entry-part log-entry-label\">{{ log.label }}</span>\r\n          <span\r\n            class=\"log-entry-part log-entry-show\"\r\n            tippy=\"Log to console\"\r\n            (click)=\"logToConsole(log)\"\r\n          >\r\n            console\r\n          </span>\r\n        </div>\r\n      }\r\n    } @else {\r\n      <app-logs-config />\r\n    }\r\n  </div>\r\n\r\n  <div class=\"log-button\">\r\n    <button mat-icon-button tippy=\"Show Logs Settings\" (click)=\"showLogSettings(true)\">\r\n      <mat-icon>settings</mat-icon>\r\n    </button>\r\n    <button mat-icon-button tippy=\"Show Logs Output\" (click)=\"showLogSettings(false)\">\r\n      <mat-icon>contract</mat-icon>\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, inject } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { Of } from '../../../../../../core';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { EavWindow } from '../../../shared/models/eav-window.model';\r\nimport { UserPreferences } from '../../../shared/user/user-preferences.service';\r\nimport { DataDumpComponent } from './data-dump/data-dump';\r\nimport { DebugTypes } from './edit-dialog-footer.models';\r\nimport { footerPreferences } from './footer-preferences';\r\nimport { FormulaDesignerComponent } from './formula-designer/formula-designer';\r\nimport { LogsDumpComponent } from './logs-dump/logs-dump';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n@Component({\r\n    selector: 'app-edit-dialog-footer',\r\n    templateUrl: './edit-dialog-footer.html',\r\n    styleUrls: ['./edit-dialog-footer.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        NgClass,\r\n        DataDumpComponent,\r\n        FormulaDesignerComponent,\r\n        LogsDumpComponent,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class EditDialogFooterComponent {\r\n\r\n  log = classLog({EditDialogFooterComponent});\r\n\r\n  DebugTypes = DebugTypes;\r\n\r\n  sxcVer = window.sxcVersion.substring(0, window.sxcVersion.lastIndexOf('.'));\r\n  \r\n  prefManager = inject(UserPreferences).part(footerPreferences);\r\n  preferences = this.prefManager.data;\r\n\r\n  toggleDialog(type: Of<typeof DebugTypes>): void {\r\n    const s = this.preferences();\r\n    const hideTab = s.tab === type;\r\n    const tab = hideTab ? null :  type;\r\n    const expanded = hideTab ? false : s.expanded;\r\n    const size = hideTab ? 0 : expanded ? 2 : 1;\r\n    this.prefManager.setMany({ tab, expanded, size });\r\n  }\r\n\r\n  closeDialog(): void {\r\n    const tab: Of<typeof DebugTypes> = null;\r\n    const expanded = false;\r\n    const size = 0;\r\n    this.prefManager.setMany({ tab, expanded, size });\r\n  }\r\n\r\n  toggleSize(): void {\r\n    const expanded = !this.preferences().expanded;\r\n    const size = expanded ? 2 : 1;\r\n    this.prefManager.setMany({ expanded, size });\r\n  }\r\n\r\n  pinResource(part: string): string {\r\n    return pinResources[(`${part}-${this.preferences().pinned}`)];\r\n  }\r\n}\r\n\r\nconst pinResources: Record<string, string> = {\r\n  ['status-true']: 'pinned - will remain visible on reload',\r\n  ['status-false']: 'not pinned - will hide on reload',\r\n  ['icon-true']: 'keep_public',\r\n  ['icon-false']: 'keep_off',\r\n}\r\n","<mat-card appearance=\"raised\" class=\"mat-elevation-z4\" [ngClass]=\"{ 'debug-enabled': preferences().tab != null }\">\r\n  \r\n  <div class=\"debug-buttons-container\">\r\n    <button mat-button tippy=\"Show Data JSON\" (click)=\"toggleDialog(DebugTypes.Data)\">\r\n      <mat-icon>offline_bolt</mat-icon>\r\n      <span>Data</span>\r\n    </button>\r\n    <button mat-button tippy=\"Show Formula Designer\" (click)=\"toggleDialog(DebugTypes.Formulas)\">\r\n      <mat-icon>functions</mat-icon>\r\n      <span>Formulas</span>\r\n    </button>\r\n    <button mat-button tippy=\"Show Logs\" (click)=\"toggleDialog(DebugTypes.Logs)\">\r\n      <mat-icon>speed</mat-icon>\r\n      <span>Logs</span>\r\n    </button>\r\n    \r\n    <div class=\"spacer\"></div>\r\n\r\n    <!-- Special expand button when footer is open -->\r\n    @if (preferences().tab != null)\r\n    {\r\n      <button mat-icon-button tippy=\"close\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n      <button mat-icon-button [tippy]=\"preferences().expanded ? 'shrink' : 'expand'\" (click)=\"toggleSize()\">\r\n        <mat-icon>{{ preferences().expanded ? 'unfold_less' : 'expand' }}</mat-icon>\r\n      </button>\r\n    }\r\n    @else\r\n    {\r\n      <button mat-icon-button [tippy]=\"'Developer tools are only visible to developers. ' + pinResource('status')\" (click)=\"prefManager.toggle('pinned')\">\r\n        <mat-icon>{{ pinResource('icon') }}</mat-icon>\r\n      </button>\r\n    }\r\n\r\n    <div class=\"sxc-version\">\r\n      2sxc {{ sxcVer }}\r\n    </div>\r\n  </div>\r\n\r\n  @if (preferences().tab != null)\r\n  {\r\n    <div class=\"debug-info-container\" [ngClass]=\"'size' + (preferences().expanded ? '-xl' : '')\">\r\n      @switch (preferences().tab) {\r\n        @case (DebugTypes.Data) {\r\n          <app-data-dump></app-data-dump>\r\n        }\r\n        @case (DebugTypes.Formulas) {\r\n          <app-formula-designer></app-formula-designer>\r\n        }\r\n        @case (DebugTypes.Logs) {\r\n          <app-logs-dump></app-logs-dump>\r\n        }\r\n      }\r\n    </div>\r\n  }\r\n</mat-card>"],"mappings":"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","names":["DataDumpComponent","constructor","itemService","formConfig","items","getManySignal","config","itemGuids","…µ…µdirectiveInject","ItemService","FormConfigService","selectors","decls","vars","consts","template","rf","ctx","…µ…µdomElementStart","…µ…µtext","…µ…µdomElementEnd","…µ…µadvance","…µ…µtextInterpolate","…µ…µpipeBind1","JsonPipe","styles","DebugTypes","Data","Formulas","Logs","SelectTargets","Entity","Field","Target","SnippetLabelSizePipe","constructor","maxLength","transform","label","length","substring","pure","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µproperty","entityOption_r3","entityGuid","…µ…µadvance","…µ…µpureFunction1","_c2","hasFormula","…µ…µtextInterpolate1","label","fieldOption_r4","fieldName","targetOption_r6","target","…µ…µlistener","$event","…µ…µrestoreView","_r5","ctx_r1","…µ…µnextContext","…µ…µresetView","selectedChanged","SelectTargets","Target","…µ…µrepeaterCreate","FormulaDesignerComponent_Conditional_0_Conditional_16_For_2_Template","…µ…µrepeaterTrackByIdentity","state","…µ…µrepeater","targetOptions","_r7","snippet_r9","_r8","$implicit","clipboard","copyToClipboard","code","…µ…µpipeBind1","…µ…µelement","snippet_r11","_r10","…µ…µtextInterpolate","result","value","…µ…µconditionalCreate","FormulaDesignerComponent_Conditional_0_Conditional_40_Conditional_0_Conditional_0_Template","FormulaDesignerComponent_Conditional_0_Conditional_40_Conditional_0_Conditional_1_Template","FormulaDesignerComponent_Conditional_0_Conditional_40_Conditional_0_Conditional_2_Template","…µ…µconditional","undefined","isOnlyPromise","FormulaDesignerComponent_Conditional_0_Conditional_40_Conditional_0_Template","FormulaDesignerComponent_Conditional_0_Conditional_40_Conditional_1_Template","isError","_r12","save","editMode","tmp_3_0","currentFormula","sourceCode","tmp_4_0","saving","_r1","Entity","FormulaDesignerComponent_Conditional_0_For_6_Template","_forTrack0","Field","FormulaDesignerComponent_Conditional_0_For_12_Template","_forTrack1","FormulaDesignerComponent_Conditional_0_Conditional_16_Template","FormulaDesignerComponent_Conditional_0_Conditional_17_Template","toggleFreeText","formulaChanged","onFocused","FormulaDesignerComponent_Conditional_0_For_32_Template","_forTrack2","FormulaDesignerComponent_Conditional_0_Conditional_33_Template","FormulaDesignerComponent_Conditional_0_For_35_Template","FormulaDesignerComponent_Conditional_0_Conditional_40_Template","toggleEdit","deleteFormula","reset","FormulaDesignerComponent_Conditional_0_Conditional_60_Template","run","entityOptions","fieldsOptions","freeTextTarget","…µ…µpureFunction2","_c0","focused","filename","tmp_11_0","template","v2JsTypings","monacoOptions","_c1","v1DataSnippets","tmp_16_0","length","v1ContextSnippets","isDeleted","menu_r13","tmp_20_0","sourceCodeId","allowSaveFormula","tmp_22_0","FormulaDesignerComponent","#designerSvc","#entitiesService","constructor","snackBar","formConfig","itemService","contentTypeService","translate","log","classLog","inject","FormulaDesignerService","transient","EntityEditService","ClipboardService","loadError","config","enableFormulaSave","signal","minimap","enabled","lineHeight","lineNumbers","lineDecorationsWidth","folding","scrollBeyondLastLine","tabSize","fixedOverflowWidgets","formId","designerState","formulaResult","currentTargetOptions","computed","Object","values","FormulaNewPickerTargets","includes","defaultListItemFormula","defaultFormula","ngOnInit","keys","itemSettingsServices","setDesignerOpen","initAfterItemSettingsAreReady","ngOnDestroy","newState","__spreadProps","__spreadValues","selectedSettingsSvc","allProps","set","formula","cache","updateFormulaFromEditor","#designerIdentifier","oldState","designer","identifier","resetFormula","retriggerFormulas","item","get","atAllFieldSettings","getAttributeOfItem","Metadata","find","m","Type","Id","open","duration","create","eavConstants","contentTypes","formulas","Title","Formula","Enabled","ParentRelationship","EditPrep","relationship","Guid","subscribe","savedFormula","updateSaved","update","sourceCodeGuid","id","title","confirm","instant","delete","next","error","_","…µ…µdirectiveInject","MatSnackBar","FormConfigService","ItemService","ContentTypeService","TranslateService","selectors","decls","vars","consts","rf","ctx","FormulaDesignerComponent_Conditional_0_Template","MatFormFieldModule","MatFormField","MatLabel","MatSelectModule","MatSelect","MatOption","FormsModule","DefaultValueAccessor","NgControlStatus","NgModel","MatOptionModule","NgClass","MatInputModule","MatInput","MatButtonModule","MatIconButton","MatIconModule","MatIcon","MonacoEditorComponent","MatMenuModule","MatMenu","MatMenuItem","MatMenuTrigger","TippyDirective","JsonPipe","SnippetLabelSizePipe","styles","ClipboardModule","__ngFactoryType__","…µ…µdefineNgModule","…µ…µdefineInjector","ConfigEditorDialogComponent","constructor","dialog","data","hostClass","focused","editorOptions","theme","language","readOnly","automaticLayout","minimap","enabled","scrollBeyondLastLine","filename","clipboard","transient","ClipboardService","selectedConfig","JSON","stringify","configData","onFocused","…µ…µdirectiveInject","MatDialogRef","MAT_DIALOG_DATA","selectors","hostVars","hostBindings","rf","ctx","…µ…µdomProperty","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","copyToClipboard","…µ…µadvance","…µ…µproperty","MatDialogModule","MatDialogClose","MatDialogActions","FormsModule","MonacoEditorComponent","MatButtonModule","MatIconButton","ClipboardModule","MatIconModule","MatIcon","TippyDirective","encapsulation","SpecsEditorDialogComponent","constructor","dialog","data","hostClass","focused","editorOptions","theme","language","readOnly","automaticLayout","minimap","enabled","scrollBeyondLastLine","filename","logSpecs","JSON","stringify","onClose","close","onSave","onValueChanged","newValue","onFocused","…µ…µdirectiveInject","MatDialogRef","MAT_DIALOG_DATA","selectors","hostVars","hostBindings","rf","ctx","…µ…µdomProperty","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","$event","…µ…µadvance","…µ…µproperty","MatDialogModule","MatDialogClose","MatDialogActions","FormsModule","MonacoEditorComponent","MatButtonModule","MatIconButton","MatIconModule","MatIcon","TippyDirective","encapsulation","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µproperty","config_r1","…µ…µadvance","…µ…µtextInterpolate1","…µ…µlistener","…µ…µrestoreView","_r5","log_r3","…µ…µnextContext","$implicit","ctx_r3","…µ…µresetView","openLogSpecs","key","_r2","toggleConfig","…µ…µconditionalCreate","LogsConfigComponent_For_32_Conditional_4_Template","isChecked","…µ…µconditional","hasLogSpecs","LogsConfigComponent","constructor","loggingService","matDialog","snackBar","LogSeverities","logManager","LogManager","singleton","allLogs","mergeAllSpecs","configs","sessionPrefix","selectedConfig","searchTerm","logs","getLogsSignal","loadConfigsFromStateManager","checkAll","Object","values","every","specs","enabled","spec","keys","toggle","applyFilters","onFilterSelected","filter","selectedFilter","filterLogs","event","inputElement","target","value","toLowerCase","name","savedConfigs","state","cache","startsWith","map","replace","onConfigSelected","configName","filteredLogs","entries","includes","log","fromEntries","saveConfig","prompt","enabledConfigs","config","fullConfigKey","add","open","duration","exportConfig","configData","length","ConfigEditorDialogComponent","width","data","logKey","logSpecs","SpecsEditorDialogComponent","afterClosed","subscribe","result","updatedSpecs","JSON","parse","updateSpecs","…µ…µdirectiveInject","LoggingService","MatDialog","MatSnackBar","selectors","decls","vars","consts","template","rf","ctx","$event","…µ…µtwoWayListener","i0","…µ…µtwoWayBindingSet","…µ…µrepeaterCreate","LogsConfigComponent_For_30_Template","…µ…µrepeaterTrackByIdentity","LogsConfigComponent_For_32_Template","…µ…µtwoWayProperty","…µ…µrepeater","…µ…µpipeBind1","CommonModule","MatIconModule","MatIcon","MatButtonModule","MatIconButton","TippyDirective","MatFormFieldModule","MatFormField","MatLabel","MatSelectModule","MatSelect","MatOption","MatOptionModule","FormsModule","MatInputModule","MatInput","KeyValuePipe","styles","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","log_r2","…µ…µrestoreView","_r1","$implicit","ctx_r2","…µ…µnextContext","…µ…µresetView","logToConsole","…µ…µproperty","…µ…µpureFunction2","_c0","severity","LogSeverities","Error","Warn","…µ…µadvance","…µ…µtextInterpolate1","…µ…µpipeBind2","time","…µ…µtextInterpolate","label","…µ…µconditionalCreate","LogsDumpComponent_Conditional_2_Conditional_0_Template","…µ…µrepeaterCreate","LogsDumpComponent_Conditional_2_For_2_Template","…µ…µrepeaterTrackByIdentity","…µ…µconditional","logs","length","…µ…µrepeater","…µ…µelement","LogsDumpComponent","constructor","loggingService","showSettings","getLogsSignal","log","Log","console","error","warn","showLogSettings","show","…µ…µdirectiveInject","LoggingService","selectors","decls","vars","consts","template","rf","ctx","LogsDumpComponent_Conditional_2_Template","LogsDumpComponent_Conditional_3_Template","NgClass","MatIconModule","MatIcon","MatButtonModule","MatIconButton","LogsConfigComponent","TippyDirective","DatePipe","styles","…µ…µelementStart","…µ…µlistener","…µ…µrestoreView","_r1","ctx_r1","…µ…µnextContext","…µ…µresetView","closeDialog","…µ…µtext","…µ…µelementEnd","toggleSize","…µ…µadvance","…µ…µproperty","preferences","expanded","…µ…µtextInterpolate","_r3","prefManager","toggle","pinResource","…µ…µelement","…µ…µconditionalCreate","EditDialogFooterComponent_Conditional_22_Case_1_Template","EditDialogFooterComponent_Conditional_22_Case_2_Template","EditDialogFooterComponent_Conditional_22_Case_3_Template","…µ…µconditional","tmp_2_0","tab","DebugTypes","Data","Formulas","Logs","EditDialogFooterComponent","constructor","log","classLog","sxcVer","window","sxcVersion","substring","lastIndexOf","inject","UserPreferences","part","footerPreferences","data","toggleDialog","type","s","hideTab","size","setMany","pinResources","pinned","selectors","decls","vars","consts","template","rf","ctx","EditDialogFooterComponent_Conditional_18_Template","EditDialogFooterComponent_Conditional_19_Template","EditDialogFooterComponent_Conditional_22_Template","…µ…µpureFunction1","_c0","…µ…µtextInterpolate1","MatCardModule","MatCard","MatButtonModule","MatButton","MatIconButton","MatIconModule","MatIcon","NgClass","DataDumpComponent","FormulaDesignerComponent","LogsDumpComponent","TippyDirective","styles"],"x_google_ignoreList":[7]}
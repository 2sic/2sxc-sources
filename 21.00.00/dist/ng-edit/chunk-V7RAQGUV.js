import{a as m}from"./chunk-JNRBLGLU.js";import{aa as h}from"./chunk-DX662RXJ.js";import{Ea as l,ea as d,u as r}from"./chunk-46QINP2S.js";import{a as e}from"./chunk-BDOJB7O2.js";var x=(()=>{class p extends m{constructor(){super(...arguments),this.log=h({AppExtensionsService:p})}getAllLive(s){return this.newHttpResource(()=>(s(),{url:this.apiUrl("admin/appExtensions/extensions"),params:{appId:this.appId},method:"GET"}))}getAll(){return this.http.get(this.apiUrl("admin/appExtensions/extensions"),{params:{appId:this.appId}})}updateConfiguration(s,t){let a=JSON.parse(t);return this.http.post(this.apiUrl("admin/appExtensions/configuration"),a,{params:{zoneId:this.zoneId,appId:this.appId,name:s}})}downloadExtension(s){let t=new URLSearchParams({appId:this.appId,zoneId:this.zoneId,name:s}),a=`${this.apiUrl("admin/appExtensions/download")}?${t.toString()}`;window.open(a,"_blank","")}installRemoteExtension(s,t,a){let n=[s],i=e(e({appId:this.appId,zoneId:this.zoneId},t?{editions:t}:{}),a?{overwrite:a}:{});return this.http.post(this.apiUrl("admin/appExtensions/InstallFrom"),n,{params:i})}installPreflightExtensionFromUrl(s,t){let a=[s],n=e({appId:this.appId},t?{editions:t}:{});return this.http.post(this.apiUrl("admin/appExtensions/InstallPreflightFrom"),a,{params:n})}uploadExtensions(s,t,a){let n=new FormData;n.append("files",s);let i=e(e({appId:this.appId,zoneId:this.zoneId},t?{editions:t}:{}),a?{overwrite:a}:{});return this.http.post(this.apiUrl("admin/appExtensions/install"),n,{params:i}).pipe(r(o=>({Success:o,Messages:o?[{MessageType:1,Text:"Extension uploaded successfully"}]:[{MessageType:2,Text:"Extension upload failed"}]})))}installPreflightExtension(s){let t=new FormData;return s.forEach(a=>t.append("files",a)),this.http.post(this.apiUrl("admin/appExtensions/installPreflight"),t,{params:{appId:this.appId,zoneId:this.zoneId}})}preflightExtension(s,t){let a={appId:this.appId,name:s};return t&&(a.edition=t),this.newHttpResource(()=>({url:this.apiUrl("admin/appExtensions/inspect"),params:a,method:"GET"}))}deleteExtension(s,t,a=!1,n=!1){let i=e({appId:this.appId,name:s,force:a,withData:n},t?{edition:t}:{});return this.http.delete(this.apiUrl("admin/appExtensions/delete"),{params:i})}static{this.\u0275fac=(()=>{let s;return function(a){return(s||(s=l(p)))(a||p)}})()}static{this.\u0275prov=d({token:p,factory:p.\u0275fac})}}return p})();export{x as a};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/chunk-V7RAQGUV.js.map

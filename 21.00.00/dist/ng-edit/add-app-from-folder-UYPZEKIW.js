import{a as V}from"./chunk-MBSXBYF5.js";import{e as G}from"./chunk-RAUQWANF.js";import{a as L}from"./chunk-3S44UA6M.js";import{b as U,d as H}from"./chunk-S7Y6G6OZ.js";import{a as R}from"./chunk-H6SOZQOZ.js";import{a as A}from"./chunk-LKTKDGC2.js";import"./chunk-OI3ZGSUF.js";import"./chunk-56YE37V6.js";import{a as P}from"./chunk-OYXWEFHA.js";import"./chunk-V5UC4TMG.js";import"./chunk-U657U553.js";import"./chunk-QFYVXC4V.js";import"./chunk-JNRBLGLU.js";import"./chunk-MWYLUFVP.js";import"./chunk-FYQJ654R.js";import"./chunk-ZKDKEYV7.js";import"./chunk-4YE3E6NH.js";import"./chunk-BTK5NHS7.js";import"./chunk-K5FCDENP.js";import"./chunk-37NMTDTM.js";import"./chunk-WAPW5AUJ.js";import"./chunk-ENHI5GWA.js";import"./chunk-GL2SUH6T.js";import"./chunk-3M22BTAM.js";import{c as E}from"./chunk-HCPBPEHV.js";import{h as w,l as I}from"./chunk-QVLOO535.js";import{c as N}from"./chunk-XREQECMQ.js";import"./chunk-UMOPET3G.js";import"./chunk-RGKBOUPL.js";import"./chunk-EZZQWHAZ.js";import{b as D,c as O}from"./chunk-23CS2WID.js";import{a as M}from"./chunk-OIHIMR2W.js";import"./chunk-BDMUNOAA.js";import"./chunk-OYQCZWOE.js";import{b as T,g as B}from"./chunk-G33ZJSCE.js";import"./chunk-DX662RXJ.js";import"./chunk-N5GZ74QQ.js";import"./chunk-XASILSQS.js";import{Cb as d,Db as a,Eb as r,Fb as v,Gb as _,Hb as y,Ob as c,Pb as b,Qb as F,Rb as S,Sa as o,Za as u,db as l,ec as s,fc as k,ja as x,wb as g,yb as C}from"./chunk-46QINP2S.js";import{a as h,b as f}from"./chunk-BDOJB7O2.js";var $=(()=>{class n{agInit(t){this.name=t.value,this.tooltip=t.tooltipGetter(t.data)}refresh(t){return!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l({type:n,selectors:[["app-app-name-show"]],decls:5,vars:2,consts:[[1,"name-box"],[1,"info-icon",3,"tippy"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"span"),s(2),r(),a(3,"mat-icon",1),s(4,"info"),r()()),i&2&&(o(2),k(e.name),o(),d("tippy",e.tooltip))},dependencies:[O,D,N],styles:[`.name-box[_ngcontent-%COMP%]{display:flex;align-items:center}.info-icon[_ngcontent-%COMP%]{margin-left:7px;margin-bottom:3px}
/*# sourceMappingURL=app-name-show-OZBGZIJU.css.map */`]})}}return n})();var j=(()=>{class n{agInit(t){this.params=t}refresh(t){return!0}onChange(t){this.params.onChange(this.params.data,t.currentTarget.checked)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l({type:n,selectors:[["app-checkbox-cell"]],decls:2,vars:2,consts:[[1,"checkbox-box"],["type","checkbox",1,"checkbox-input",3,"change","disabled","checked"]],template:function(i,e){i&1&&(_(0,"div",0)(1,"input",1),F("change",function(m){return e.onChange(m)}),y()()),i&2&&(o(),c("disabled",e.params.isDisabled)("checked",e.params.value))},styles:[`.checkbox-box[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.checkbox-input[_ngcontent-%COMP%]{height:15px;width:15px}
/*# sourceMappingURL=checkbox-cell-4YJJHAD6.css.map */`]})}}return n})();function Z(n,J){n&1&&(a(0,"p"),s(1," Nothing to show. All apps in the 2sxc folder are already installed. "),r())}function K(n,J){if(n&1&&(a(0,"div"),v(1,"ag-grid-angular",8),r()),n&2){let t=S();o(),d("rowData",t.pendingApps())("gridOptions",t.gridOptions)}}var Ae=(()=>{class n{#t;#e;constructor(t,i){this.dialog=t,this.snackBar=i,this.hostClass="dialog-component",this.gridOptions=this.buildGridOptions(),this.installing=!1,this.features=x(P),this.#t=this.features.isEnabled[A.AppSyncWithSiteFiles],this.#e=M(V),this.AppSyncWithSiteFiles=A.AppSyncWithSiteFiles,this.pendingApps=this.#e.getPendingApps().value}closeDialog(){this.dialog.close()}onChange(t,i){let e=this.pendingApps();i?e.push(t):e.splice(e.indexOf(t),1),this.pendingApps.set(e)}install(){this.installing=!0,this.snackBar.open("Installing",void 0,{duration:2e3}),this.#e.installPendingApps(this.pendingApps()).subscribe({error:()=>{this.installing=!1,this.snackBar.open("Failed to install app. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.installing=!1,this.snackBar.open("Installed app",void 0,{duration:2e3}),this.closeDialog()}})}buildGridOptions(){return f(h({},L),{columnDefs:[{field:"",width:40,cellClass:"no-outline",sortable:!0,cellRenderer:j,cellRendererParams:()=>({isDisabled:!this.#t(),onChange:(e,p)=>this.onChange(e,p)})},f(h({},G.ItemsText),{field:"Name",flex:1,sort:"asc",cellRenderer:$,cellRendererParams:{tooltipGetter:e=>`Server folder: ${e.ServerFolder}
Folder: ${e.Folder}
Version: ${e.Version}
Description: ${e.Description}`}})]})}static{this.\u0275fac=function(i){return new(i||n)(u(T),u(E))}}static{this.\u0275cmp=l({type:n,selectors:[["app-add-app-from-folder"]],hostVars:1,hostBindings:function(i,e){i&2&&c("className",e.hostClass)},decls:15,vars:4,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[3,"featureNameId"],["align","end"],["type","button","mat-raised-button","",3,"click"],["type","button","mat-raised-button","",1,"eav-action-button",3,"click","disabled"],[1,"ag-theme-material","eav-grid",3,"rowData","gridOptions"]],template:function(i,e){if(i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),s(3,"Add App from Folder"),r()(),a(4,"div",3),v(5,"app-feature-text-info",4),a(6,"p"),s(7," Select an app from the apps-folder which has been copied there (or git-cloned) but not installed yet. "),r(),g(8,Z,2,0,"p"),g(9,K,2,2,"div"),r(),a(10,"mat-dialog-actions",5)(11,"button",6),b("click",function(){return e.closeDialog()}),s(12," Cancel "),r(),a(13,"button",7),b("click",function(){return e.install()}),s(14," Install "),r()()()),i&2){let p,m;o(5),d("featureNameId",e.AppSyncWithSiteFiles),o(3),C(((p=e.pendingApps())==null?null:p.length)==0?8:-1),o(),C(((m=e.pendingApps())==null?null:m.length)>0?9:-1),o(4),d("disabled",e.pendingApps().length===0||e.installing)}},dependencies:[B,I,w,R,H,U],styles:[`.eav-grid[_ngcontent-%COMP%]{height:200px;width:auto}
/*# sourceMappingURL=add-app-from-folder-VHUKRNOP.css.map */`]})}}return n})();export{Ae as AddAppFromFolderComponent};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/add-app-from-folder-UYPZEKIW.js.map

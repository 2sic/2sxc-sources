import{b as n}from"./chunk-RGKBOUPL.js";var i=class s{static proxy(t="cache-name?",e,c=null){return new s(t).buildProxy(e,c)}constructor(t="cache-name?"){this.name=t,this.cache={}}get(t){return this.cache[t]}buildProxy(t,e=null){if(this.#t)throw new Error("Proxy already built; it can't be again, as the factory could be unexpectedly different.");return this.#t=new Proxy(this.cache,{get:(c,r)=>{if(typeof r=="string")return this.getOrCreate(r,t(r),e);throw new Error(`Invalid name: '${r?.toString()}'`)}}),this.#t}#t;getOrCreate(t,e,c=null){return this.getOrCreateWithInfo(t,e,c).signal}getOrCreateWithInfo(t,e,c=null){if(this.cache[t])return{signal:this.cache[t],isNew:!1};let r=n(`${this.name}-${t}`,()=>e());return{signal:this.set(t,r),isNew:!0}}set(t,e){return this.cache[t]=e,e}delete(t){delete this.cache[t]}clear(){Object.keys(this.cache).forEach(t=>{delete this.cache[t]})}};export{i as a};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/chunk-37NMTDTM.js.map

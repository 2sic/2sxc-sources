import{a as d}from"./chunk-LPOE4446.js";import{d as y}from"./chunk-ENHI5GWA.js";import{a as u}from"./chunk-OIHIMR2W.js";import{aa as h}from"./chunk-DX662RXJ.js";import{Ea as m,F as f,V as p,Y as c,ea as g,u as n}from"./chunk-46QINP2S.js";import{a as o}from"./chunk-BDOJB7O2.js";var v={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},E="admin/entity/",j="admin/entity/list",q=(()=>{class i extends y{constructor(){super(...arguments),this.log=h({EntityService:i},v),this.queryService=u(d)}getEntities$(t){return this.log.fnIf("getEntities"),t.pipe(f(e=>e!=null),c(e=>this.getAvailableEntities(e.contentTypeName).pipe(p(1))))}getAvailableEntities(t,e){var r=this.log.fnIf("getAvailableEntities");return this.queryService.getEntities({contentTypes:[t],itemIds:e,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe(n(s=>s.Default))}delete(t,e,r,s,l,a){return this.log.fnIf("delete",{appId:t,contentType:e,entityId:r,force:s,parentId:l,parent}),this.http.delete(this.apiUrl(E+"delete"),{params:o(o({contentType:e,id:r.toString(),appId:t,force:s.toString()},l&&{parentId:l.toString()}),l&&a&&{parentField:a})})}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=m(i)))(r||i)}})()}static{this.\u0275prov=g({token:i,factory:i.\u0275fac})}}return i})();export{E as a,j as b,q as c};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/chunk-JEQANFI7.js.map

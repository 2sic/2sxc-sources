{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { FileUploadResult } from '../../../shared/components/file-upload-dialog';\r\nimport { HttpServiceBaseSignal } from '../../../shared/services/http-service-base-signal';\r\n\r\nconst webApiDataRootBundleImport = 'admin/data/BundleImport';\r\nconst webApiDataRootJsonBundleExport = 'admin/data/BundleExport';\r\nconst webApiDataRootBundleSave = 'admin/data/BundleSave';\r\nconst webApiDataRootBundleRestore = 'admin/data/BundleRestore';\r\n\r\n@Injectable()\r\nexport class DataBundlesService extends HttpServiceBaseSignal {\r\n\r\n  import(files: File[]) {\r\n    const formData = new FormData();\r\n    for (const file of files) {\r\n      formData.append('File', file);\r\n    }\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiDataRootBundleImport), formData, {\r\n      params: { appId: this.appId, zoneId: this.zoneId },\r\n    });\r\n  }\r\n\r\n  exportDataBundle(Guid: string) {\r\n    const params = new URLSearchParams({\r\n      appId: this.appId,\r\n      exportConfiguration: Guid,\r\n      indentation: '1',\r\n    });\r\n    const url = `${this.apiUrl(webApiDataRootJsonBundleExport)}?${params.toString()}`;\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  async saveDataBundlesFetch(guid: string): Promise<number> {\r\n    return this.getStatusPromise(webApiDataRootBundleSave, {\r\n      params: { appId: this.appId, exportConfiguration: guid, indentation: '1' },\r\n    });\r\n  }\r\n\r\n  restoreDataBundles(fileName: string) {\r\n    return this.http.get<FileUploadResult>(this.apiUrl(webApiDataRootBundleRestore), {\r\n      params: {\r\n        fileName: fileName,\r\n        zoneId: this.zoneId,\r\n        appId: this.appId,\r\n      }\r\n    });\r\n  }\r\n}\r\n"],
  "mappings": "iIAIA,IAAMA,EAA6B,0BAC7BC,EAAiC,0BACjCC,EAA2B,wBAC3BC,EAA8B,2BAGvBC,GAAmB,IAAA,CAA1B,MAAOA,UAA2BC,CAAqB,CAE3DC,OAAOC,EAAa,CAClB,IAAMC,EAAW,IAAIC,SACrB,QAAWC,KAAQH,EACjBC,EAASG,OAAO,OAAQD,CAAI,EAE9B,OAAO,KAAKE,KAAKC,KAAuB,KAAKC,OAAOd,CAA0B,EAAGQ,EAAU,CACzFO,OAAQ,CAAEC,MAAO,KAAKA,MAAOC,OAAQ,KAAKA,MAAM,EACjD,CACH,CAEAC,iBAAiBC,EAAY,CAC3B,IAAMJ,EAAS,IAAIK,gBAAgB,CACjCJ,MAAO,KAAKA,MACZK,oBAAqBF,EACrBG,YAAa,IACd,EACKC,EAAM,GAAG,KAAKT,OAAOb,CAA8B,CAAC,IAAIc,EAAOS,SAAQ,CAAE,GAC/EC,OAAOC,KAAKH,EAAK,SAAU,EAAE,CAC/B,CAEMI,qBAAqBC,EAAY,QAAAC,EAAA,sBACrC,OAAO,KAAKC,iBAAiB5B,EAA0B,CACrDa,OAAQ,CAAEC,MAAO,KAAKA,MAAOK,oBAAqBO,EAAMN,YAAa,GAAG,EACzE,CACH,GAEAS,mBAAmBC,EAAgB,CACjC,OAAO,KAAKpB,KAAKqB,IAAsB,KAAKnB,OAAOX,CAA2B,EAAG,CAC/EY,OAAQ,CACNiB,SAAUA,EACVf,OAAQ,KAAKA,OACbD,MAAO,KAAKA,OAEf,CACH,qEApCWZ,CAAkB,IAAA8B,GAAlB9B,CAAkB,CAAA,CAAA,GAAA,CAAA,iCAAlBA,EAAkB+B,QAAlB/B,EAAkBgC,SAAA,CAAA,CAAA,SAAlBhC,CAAmB,GAAA",
  "names": ["webApiDataRootBundleImport", "webApiDataRootJsonBundleExport", "webApiDataRootBundleSave", "webApiDataRootBundleRestore", "DataBundlesService", "HttpServiceBaseSignal", "import", "files", "formData", "FormData", "file", "append", "http", "post", "apiUrl", "params", "appId", "zoneId", "exportDataBundle", "Guid", "URLSearchParams", "exportConfiguration", "indentation", "url", "toString", "window", "open", "saveDataBundlesFetch", "guid", "__async", "getStatusPromise", "restoreDataBundles", "fileName", "get", "__ngFactoryType__", "factory", "\u0275fac"]
}

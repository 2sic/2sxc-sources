"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_shared_s-1e42e0"],{320(g,d,t){t.d(d,{t:()=>_});var o=t(89204),n=t(46443),c=t(71772),i=t(24467),p=t(56884),s=t(36124);let _=(()=>{class l extends i.B{getAppInfo(){return(0,n.fx)(()=>({url:this.apiUrl("admin/app/Statistics"),params:{appid:this.appId,zoneId:this.zoneId}}))}exportAppUrl(){return`${this.apiUrl(`${c.u}Export`)}?appId=${this.appId}&zoneId=${this.zoneId}`}exportForVersionControl(m){var u=this;return(0,o.A)(function*({includeContentGroups:P,resetAppGuid:a,withFiles:I}){return u.getStatusPromise("admin/app/SaveData",{params:{appid:u.appId,zoneId:u.zoneId,includeContentGroups:P.toString(),resetAppGuid:a.toString(),withPortalFiles:I.toString()}})}).apply(this,arguments)}static{this.\u0275fac=(()=>{let m;return function(P){return(m||(m=s.xGo(l)))(P||l)}})()}static{this.\u0275prov=p.jDH({token:l,factory:l.\u0275fac})}}return l})()},2570(g,d,t){t.d(d,{y:()=>m});var o=t(89204),n=t(46443),c=t(24467),i=t(56884),p=t(36124);const s="admin/view/all";let m=(()=>{class u extends c.B{getAllOnce(){return(0,n.fx)(()=>({url:this.apiUrl(s),params:{appId:this.appId}}))}getAllLive(a){return(0,n.fx)(()=>(a(),{url:this.apiUrl(s),params:{appId:this.appId}}))}delete(a){var I=this;return(0,o.A)(function*(){return I.getStatusPromise("admin/view/delete",{params:{appId:I.appId,Id:a.toString()}})})()}import(a){const I=new FormData;return I.append("File",a),this.http.post(this.apiUrl("admin/view/import"),I,{params:{appId:this.appId,zoneId:this.zoneId}})}export(a){const I=this.apiUrl("admin/view/json")+"?appId="+this.appId+"&viewId="+a;window.open(I,"_blank","")}getPolymorphismLive(a){return(0,n.fx)(()=>(a(),{url:this.apiUrl("admin/view/polymorphism"),params:{appId:this.appId}}))}getUsage(a){return this.newHttpResource(()=>({url:this.apiUrl("admin/view/usage"),params:{appId:this.appId,guid:a}}))}static{this.\u0275fac=(()=>{let a;return function(r){return(a||(a=p.xGo(u)))(r||u)}})()}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},2903(g,d,t){t.d(d,{B:()=>n});var o=t(47441);class n extends o.l{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}},17693(g,d,t){t.d(d,{X:()=>s,g:()=>P});var o=t(46443),n=t(36664),c=t(96474),i=t(56884),p=t(36124);const s="admin/type/",e="admin/type/get",h="admin/type/list",_="admin/type/scopes";let P=(()=>{class a extends c.D{retrieveContentType(r){return this.getHttpApiUrl(e,{params:{appId:this.appId,contentTypeId:r}})}getType(r){return(0,o.fx)(()=>({url:this.apiUrl(e),params:{appId:this.appId,contentTypeId:r}}))}getTypes(r){return(0,o.fx)(()=>({url:this.apiUrl(h),params:{appId:this.appId,scope:r()}}),{defaultValue:[]})}retrieveContentTypesPromise(r){return this.fetchPromise(h,{params:{appId:this.appId,scope:r}})}getScopesPromise(){return this.fetchPromise(_,{params:{appId:this.appId}}).then(r=>{const O=r.old;return Object.keys(O).map(y=>({name:O[y],value:y}))})}getScopesSig(){const r=(0,o.fx)(()=>({url:this.apiUrl(_),params:{appid:this.appId}}));return(0,n.EW)(()=>{const y=(0,r.value)();if(!y||!y.old)return[];const M=y.old;return Object.keys(M).map(T=>({name:M[T],value:T}))})}getScopesV2Promise(){return this.fetchPromise(_,{params:{appId:this.appId}}).then(r=>r.scopes)}save(r){return this.http.post(this.apiUrl("admin/type/save"),r,{params:{appid:this.appId}})}delete(r){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.appId,staticName:r.NameId}})}import(r){const O=new FormData;for(const f of r)O.append("File",f);return this.http.post(this.apiUrl("admin/type/import"),O,{params:{appId:this.appId,zoneId:this.zoneId}})}createGhost(r){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.appId,sourceNameId:r}})}static{this.\u0275fac=(()=>{let r;return function(f){return(r||(r=p.xGo(a)))(f||a)}})()}static{this.\u0275prov=i.jDH({token:a,factory:a.\u0275fac})}}return a})()},25081(g,d,t){t.d(d,{W:()=>i});var o=t(70519),n=t(56884),c=t(3347);let i=(()=>{class p{constructor(e){this.snackBar=e}copyToClipboard(e){(0,o.l)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static{this.\u0275fac=function(h){return new(h||p)(n.KVO(c.UG))}}static{this.\u0275prov=n.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},58624(g,d,t){t.d(d,{Q:()=>p,S:()=>s});var o=t(71772),n=t(24467),c=t(56884),i=t(36124);const p="admin/appParts/";let s=(()=>{class e extends n.B{importAppParts(_){const l=new FormData;return l.append("File",_),this.http.post(this.apiUrl(p+"Import"),l,{params:{appId:this.appId,zoneId:this.zoneId}})}resetApp(_){return this.http.post(this.apiUrl(o.u+"Reset"),{},{params:{appId:this.appId,zoneId:this.zoneId,withPortalFiles:_.toString()}})}static{this.\u0275fac=(()=>{let _;return function(E){return(_||(_=i.xGo(e)))(E||e)}})()}static{this.\u0275prov=c.jDH({token:e,factory:e.\u0275fac})}}return e})()},70693(g,d,t){function o(c){return new Promise((i,p)=>{const s=new FileReader;s.readAsDataURL(c),s.onload=()=>{i(s.result.split(",")[1])},s.onerror=e=>{p(e)}})}function n(c){return new Promise((i,p)=>{const s=new FileReader;s.readAsText(c),s.onload=()=>{i(s.result)},s.onerror=e=>{p(e)}})}t.d(d,{d:()=>n,n:()=>o})},71475(g,d,t){t.d(d,{j:()=>e});var o=t(46443),n=t(24467),c=t(58624),i=t(56884),p=t(36124);let e=(()=>{class h extends n.B{getContentInfoLiveParam(l){return(0,o.fx)(()=>({url:this.apiUrl("admin/appParts/get"),params:{appid:this.appId,zoneId:this.zoneId,scope:l()}}))}exportParts(l,E,m){const u=this.apiUrl(c.Q+"Export")+"?appId="+this.appId+"&zoneId="+this.zoneId+"&contentTypeIdsString="+l.join(";")+"&entityIdsString="+E.join(";")+"&templateIdsString="+m.join(";");window.open(u,"_blank","")}static{this.\u0275fac=(()=>{let l;return function(m){return(l||(l=p.xGo(h)))(m||h)}})()}static{this.\u0275prov=i.jDH({token:h,factory:h.\u0275fac})}}return h})()},71772(g,d,t){t.d(d,{I:()=>h,u:()=>e});var o=t(59452),n=t(36647),c=t(62876),i=t(24467),p=t(56884),s=t(36124);const e="admin/app/";let h=(()=>{class _ extends i.B{importApp(E,m,u=!1){const P=new FormData;return P.append("File",E),P.append("Name",m??""),this.http.post(this.apiUrl(e+"Import"),P,{params:{zoneId:this.zoneId}}).pipe((0,n.n)(a=>{if(u&&a.Messages[0]?.MessageType===c.G1.Warning){const I=prompt(a.Messages[0].Text+" Would you like to install it using another folder name?");if(I)return this.importApp(E,I,!0)}return(0,o.of)(a)}))}static{this.\u0275fac=(()=>{let E;return function(u){return(E||(E=s.xGo(_)))(u||_)}})()}static{this.\u0275prov=p.jDH({token:_,factory:_.\u0275fac})}}return _})()},74079(g,d,t){t.d(d,{Cu:()=>r,JL:()=>O,Mk:()=>a,ei:()=>I,vN:()=>f,xR:()=>y});var o=t(46443),n=t(14600),c=t(70271),i=t(36647),p=t(70693),s=t(34435),e=t(9234),h=t(96474),_=t(56884),l=t(36124);const E={all:!0,getAll:!1,getAllSig:!0,getAllLive:!1,getAllRes:!0,importQuery:!1,clonePipeline:!1,delete:!1,update:!1},a="admin/query/Run",I="admin/query/DebugStream",r="admin/query/Save",O="admin/query/Get",f="admin/query/DataSources";let y=(()=>{class M extends h.D{constructor(){super(...arguments),this.log=(0,s.Tq)({PipelinesService:M},E)}getAll(D){return this.log.fnIf("getAll").r(this.getHttpApiUrl(e.Gg,{params:{appId:this.appId,contentType:D}}))}getAllLive(D,v){return this.log.fnIf("getAllLive",{contentType:D,refresh:v}),(0,o.fx)(()=>(v(),{url:this.apiUrl(e.Gg),params:{appId:this.appId,contentType:D}}))}getAllRes(D,v){const A=this.log.fnIf("getAllRes"),U=(0,o.fx)(()=>({url:e.Gg,params:{appId:this.appId,contentType:D}}),{defaultValue:v});return A.r(U)}importQuery(D){const v=this.log.fnIf("importQuery"),A=(0,n.H)((0,p.n)(D)).pipe((0,i.n)(U=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:U})),(0,c.T)(U=>({Success:U,Messages:[]})));return v.r(A)}clonePipelinePromise(D){const v=this.log.fnIf("clonePipeline"),A=this.fetchPromise("admin/query/Clone",{params:{Id:D.toString(),appId:this.appId}});return v.r(A)}delete(D){const v=this.log.fnIf("delete"),A=this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:D.toString()}});return v.r(A)}static{this.\u0275fac=(()=>{let D;return function(A){return(D||(D=l.xGo(M)))(A||M)}})()}static{this.\u0275prov=_.jDH({token:M,factory:M.\u0275fac})}}return M})()},75445(g,d,t){t.d(d,{Cu:()=>s.Cu,JL:()=>s.JL,Mk:()=>s.Mk,X6:()=>n.X,ei:()=>s.ei,gs:()=>n.g,tr:()=>o.t,vN:()=>s.vN,xR:()=>s.xR,y0:()=>e.y});var o=t(61479),n=t(17693),s=(t(71475),t(320),t(58624),t(74079)),e=t(2570)}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_shared_s-1e42e0.1b06b21fa2fa841f.js.map
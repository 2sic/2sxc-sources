{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/shared/helpers/load-scripts.helper.ts"],
  "sourcesContent": ["import { EavWindow } from '../models/eav-window.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport function loadScripts(scriptObjects: ScriptObject[], callback: () => void, iteration = 0) {\r\n  const isLast = scriptObjects.length === iteration + 1;\r\n  const newCallback = isLast ? callback : loadScripts.bind(this, scriptObjects, callback, iteration + 1);\r\n  const scrObj = scriptObjects[iteration];\r\n\r\n  const global = typeof scrObj.test === 'string' ? scrObj.test : null;\r\n  const test = typeof scrObj.test === 'function' ? scrObj.test : null;\r\n  const w = window as Record<string, any>;\r\n\r\n  if (global != null && !!w[global]) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  if (test != null && test()) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  window.require([scrObj.src], (exportedVar: any) => {\r\n    if (exportedVar && !w[global]) {\r\n      w[global] = exportedVar;\r\n    }\r\n    newCallback();\r\n  });\r\n}\r\n\r\nexport interface ScriptObject {\r\n  /** window.xxx or a function that returns a boolean */\r\n  test: string | (() => boolean);\r\n  src: string;\r\n}\r\n"],
  "mappings": "AAIM,SAAUA,EAAYC,EAA+BC,EAAsBC,EAAY,EAAC,CAE5F,IAAMC,EADSH,EAAcI,SAAWF,EAAY,EACvBD,EAAWF,EAAYM,KAAK,KAAML,EAAeC,EAAUC,EAAY,CAAC,EAC/FI,EAASN,EAAcE,CAAS,EAEhCK,EAAS,OAAOD,EAAOE,MAAS,SAAWF,EAAOE,KAAO,KACzDA,EAAO,OAAOF,EAAOE,MAAS,WAAaF,EAAOE,KAAO,KACzDC,EAAIC,OAEV,GAAIH,GAAU,MAAUE,EAAEF,CAAM,EAAG,CACjCN,EAAQ,EACR,MACF,CAEA,GAAIO,GAAQ,MAAQA,EAAI,EAAI,CAC1BP,EAAQ,EACR,MACF,CAEAS,OAAOC,QAAQ,CAACL,EAAOM,GAAG,EAAIC,GAAoB,CAC5CA,GAAe,CAACJ,EAAEF,CAAM,IAC1BE,EAAEF,CAAM,EAAIM,GAEdV,EAAW,CACb,CAAC,CACH",
  "names": ["loadScripts", "scriptObjects", "callback", "iteration", "newCallback", "length", "bind", "scrObj", "global", "test", "w", "window", "require", "src", "exportedVar"]
}

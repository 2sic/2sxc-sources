import{a as it,b as nt,c as ot,d as at,e as rt,f as pt,g as mt,h as st,i as lt}from"./chunk-O3YKWI3S.js";import{a as ct}from"./chunk-O4YQRNMZ.js";import{a as dt,b,c as gt}from"./chunk-SDTB2VJZ.js";import{a as A}from"./chunk-WO7E65AC.js";import{a as Y}from"./chunk-XD2SQB6M.js";import{a as tt}from"./chunk-XJQCOIGF.js";import{a as et}from"./chunk-ORK43FFD.js";import{a as J}from"./chunk-V5UC4TMG.js";import"./chunk-U657U553.js";import"./chunk-QFYVXC4V.js";import{a as z,b as W}from"./chunk-T7AKPKMZ.js";import"./chunk-JNRBLGLU.js";import{c as Z}from"./chunk-HJXR3IL7.js";import"./chunk-R3Y7P2GW.js";import"./chunk-WAPW5AUJ.js";import"./chunk-ENHI5GWA.js";import"./chunk-HCPBPEHV.js";import{f as q,l as X}from"./chunk-QVLOO535.js";import"./chunk-XREQECMQ.js";import"./chunk-EZZQWHAZ.js";import{b as F,c as H}from"./chunk-23CS2WID.js";import{a as I}from"./chunk-OIHIMR2W.js";import"./chunk-BDMUNOAA.js";import{d as j}from"./chunk-OYQCZWOE.js";import{b as K}from"./chunk-G33ZJSCE.js";import{aa as U}from"./chunk-DX662RXJ.js";import"./chunk-N5GZ74QQ.js";import{c as $}from"./chunk-XASILSQS.js";import{$b as M,Aa as S,Ab as k,Bb as R,Cb as f,Db as o,Dc as G,Eb as r,Fb as _,Jb as V,Kb as Q,Nb as v,Pa as T,Pb as C,Rb as u,Sa as p,Vb as L,Wb as B,Xb as N,Za as D,db as E,ec as m,gc as P,jb as w,oa as h,pa as x,wb as d,yb as g}from"./chunk-46QINP2S.js";import{a as s,b as l}from"./chunk-BDOJB7O2.js";var ut=[{name:"App Info",path:"home",icon:"info",tippy:"App Info"},{name:"Data",path:`data/${Z.scopes.default.value}`,icon:"menu",tippy:"Data / Content",child:[l(s({},b.routeDefinition("data")),{tippy:"Autogenerate content types "}),l(s({},A.routeDataDefinition),{tippy:"Rest-Api Data "}),l(s({},gt.routeDefinition("data")),{tippy:"Recycle Bin (beta)"})]},{name:"Queries",path:"queries",icon:"filter_list",tippy:"Queries / Visual Query Designer",child:[l(s({},A.routeQueryDefinition),{tippy:"Rest-Api Queries"})]},{name:"Views",path:"views",icon:"layers",tippy:"Views / Templates",child:[l(s({},b.routeDefinition("views")),{tippy:"Autogenerate Razor Views"})]},{name:"App Extensions",path:"extensions",icon:"extension",tippy:"App Extensions"},{name:"Web API",path:"web-api",icon:"offline_bolt",tippy:"WebApi",child:[l(s({},b.routeDefinition("web-api")),{tippy:dt.webApi.teaser}),l(s({},A.routeWebApiDefinition),{tippy:"Rest-Api Queries"})]},{name:"App",path:"app",icon:"settings_applications",tippy:"App Settings"},{name:"Import/Export",path:"import-export",icon:"cloud_sync",tippy:"Import Export",child:[{name:"Export App",path:"export-app",icon:"deployed_code_update",tippy:"Export this entire App"},{name:"Data Bundles (beta)",path:"data-bundles",icon:"dataset",tippy:"Data Bundles"},{name:"Export Parts",path:"export-parts",icon:"cloud_download",tippy:"Export parts of this App"},{name:"Import Parts",path:"import-parts",icon:"cloud_upload",tippy:"Import parts of this App"},{name:"App-State Git Sync",path:"app-state",icon:"sync",tippy:"App-State Versioning"}]}];var _t=["sidenav"],ht=(t,a)=>a.path;function xt(t,a){if(t&1){let e=v();o(0,"img",16),C("click",function(){h(e),u();let n=M(22);return x(n.opened=!n.opened)}),r()}if(t&2){let e,i=u();f("src",((e=i.dialogSettings())==null?null:e.Context.App.Icon)+"?w=40&h=40&mode=crop",T)}}function vt(t,a){if(t&1){let e=v();o(0,"mat-icon",17),C("click",function(){h(e),u();let n=M(22);return x(n.opened=!n.opened)}),m(1,"menu"),r()}}function Ct(t,a){t&1&&m(0," Global ")}function Mt(t,a){if(t&1&&m(0),t&2){let e,i=u();P(" ",(e=i.dialogSettings())==null?null:e.Context.App.Name," ")}}function At(t,a){if(t&1&&(o(0,"mat-icon",18),m(1,"chevron_right"),r(),m(2)),t&2){let e=u().$implicit;p(2),P(" ",e," ")}}function bt(t,a){if(t&1&&(V(0),d(1,At,3,1),Q()),t&2){let e=a.last;p(),g(e?1:-1)}}function yt(t,a){}function St(t,a){if(t&1&&_(0,"app-nav-item-list",13),t&2){let e=a.$implicit;f("navItem",e)}}function Dt(t,a){t&1&&(o(0,"div",15),_(1,"mat-spinner"),r())}function wt(t,a){t&1&&_(0,"router-outlet")}var se=(()=>{class t{#t;#e;constructor(e,i){this.dialog=e,this.media=i,this.log=U({AppAdminMain:t}),this.isLoading=S(!0),this.#t=I(J),this.#e=I(et),this.AppScopes=ct,this.dialogSettings=S(void 0),this.smallScreen=this.media.matchMedia("(max-width: 1000px)"),this.sideNavOpened=!this.smallScreen.matches,this.navItems=ut,this.log.a("constructor")}ngOnInit(){this.fetchDialogSettings(),this.#e.doOnDialogClosed(()=>this.fetchDialogSettings()),this.smallScreen.addEventListener("change",e=>(this.sidenav.opened=!e.matches,this.sidenav.mode=e.matches?"over":"side"))}closeDialog(){this.dialog.close()}fetchDialogSettings(){this.isLoading.set(!0),this.#t.getCurrent$().subscribe({next:e=>{Y(e.Context.App),this.dialogSettings.set(e),e.Context.Enable.Query||(this.navItems=this.navItems.filter(i=>i.name!=="Queries"&&i.name!=="Web API")),this.isLoading.set(!1)},error:e=>{console.error("fetchDialogSettings error",e),this.isLoading.set(!1)}})}static{this.\u0275fac=function(i){return new(i||t)(D(K),D($))}}static{this.\u0275cmp=E({type:t,selectors:[["app-app-admin-main"]],viewQuery:function(i,n){if(i&1&&L(_t,5),i&2){let c;B(c=N())&&(n.sidenav=c.first)}},decls:31,vars:7,consts:[["emptyTemplate",""],["sidenav",""],["appToggleDebug",""],[1,"toolbar-container"],[3,"src"],[1,"menu-container"],[1,"d-flex"],[1,"mat-icon-admin"],[3,"separator"],[4,"xngBreadcrumbItem"],[1,"toolbar-spacer"],["mat-icon-button","","tippy","Close dialog",3,"click"],[3,"mode","opened"],[3,"navItem"],[1,"sideNav-bottom-info"],[1,"lading-indicator"],[3,"click","src"],[1,"menu-container",3,"click"],[1,"breadcrumb-icon"]],template:function(i,n){if(i&1){let c=v();o(0,"mat-toolbar",2)(1,"div",3),d(2,xt,1,1,"img",4)(3,vt,2,0,"mat-icon",5),o(4,"div",6),d(5,Ct,1,0),d(6,Mt,1,1),o(7,"span")(8,"span",7)(9,"mat-icon"),m(10,"settings"),r()(),m(11," Admin "),r()(),o(12,"xng-breadcrumb",8),w(13,bt,2,1,"ng-container",9),r(),w(14,yt,0,0,"ng-template",null,0,G),r(),_(16,"span",10),o(17,"button",11),C("click",function(){return h(c),x(n.closeDialog())}),o(18,"mat-icon"),m(19,"close"),r()()(),o(20,"mat-sidenav-container",2)(21,"mat-sidenav",12,1),k(23,St,1,1,"app-nav-item-list",13,ht),o(25,"div",14)(26,"p"),m(27,"use App logo to show/hide menu"),r()()(),o(28,"mat-sidenav-content"),d(29,Dt,2,0,"div",15)(30,wt,1,0,"router-outlet"),r()()}if(i&2){let c,y,O,ft=M(15);p(2),g((c=n.dialogSettings())!=null&&c.Context.App.Icon?2:3),p(3),g(((y=n.dialogSettings())==null?null:y.Context.App.SettingsScope)===n.AppScopes.Global?5:-1),p(),g(((O=n.dialogSettings())==null?null:O.Context.App.SettingsScope)!==n.AppScopes.Global?6:-1),p(6),f("separator",ft),p(9),f("mode",n.smallScreen.matches?"over":"side")("opened",n.sideNavOpened),p(2),R(n.navItems),p(6),g(n.isLoading()?29:30)}},dependencies:[pt,rt,H,F,st,mt,X,q,at,nt,ot,it,j,lt,tt,W,z],styles:[`mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid rgba(0,0,0,.1);position:sticky;top:0;z-index:10;flex:1 0 74px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{margin-right:16px;cursor:pointer}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid rgba(0,0,0,.2);border-radius:16px 0;margin-right:16px;-webkit-user-select:none;user-select:none;text-shadow:none;cursor:pointer;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]   .mat-icon-admin[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px}mat-sidenav-container[_ngcontent-%COMP%]{height:100vh}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:295px;border-right:1px solid rgba(0,0,0,.1)}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNav-bottom-info[_ngcontent-%COMP%]{background:#fff;position:absolute;bottom:0;text-align:center;width:100%;font-size:12px}.container-content[_ngcontent-%COMP%]{height:100%}.active[_ngcontent-%COMP%]{background-color:#8080801a}  .xng-breadcrumb-separator{margin-left:0!important;margin-right:0!important}  .mat-drawer-container{background-color:transparent!important}.lading-indicator[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}
/*# sourceMappingURL=app-admin-main-XMHWHPH3.css.map */`]})}}return t})();export{se as AppAdminMain};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/app-admin-main-5DG7NCJE.js.map

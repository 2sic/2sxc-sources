import{a as v}from"./chunk-R3Y7P2GW.js";import{a as l,c as f,e as m}from"./chunk-OYQCZWOE.js";import{aa as C}from"./chunk-DX662RXJ.js";import{$ as c,F as i,T as n,X as h,ea as g,ia as u,u as a}from"./chunk-46QINP2S.js";import{a as d,b as p}from"./chunk-BDOJB7O2.js";var D={doOnDialogClosed:!0},R=(()=>{class s extends v{constructor(t,r){super(),this.router=t,this.route=r,this.log=C({DialogRoutingService:s},D)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(t){return this.route.snapshot.paramMap.get(t)}getParams(t){let r=this.route.snapshot.paramMap;return t.reduce((e,o)=>(e[o]=r.get(o),e),{})}getQueryParam(t){return this.route.snapshot.queryParamMap.get(t)}getQueryParams(t){let r=this.route.snapshot.queryParamMap;return t.reduce((e,o)=>(e[o]=r.get(o),e),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(t){let r=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(e=>(r.a("Dialog closed",{data:e}),t()))),r.end()}doOnDialogClosedWithData(t){let r=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.#t().subscribe(({state:e})=>{r.a("Dialog closed",{state:e}),t(e)})),r.end()}urlSubRoute(t){let r=this.router.createUrlTree([t],{relativeTo:this.route});return this.router.serializeUrl(r)}navPath(t,r){return this.router.navigate([t],r)}navRelative(t,r){return this.router.navigate(t,p(d({},r),{relativeTo:this.route}))}childDialogClosed$(){return this.router.events.pipe(i(t=>t instanceof l),h(!!this.route.snapshot.firstChild),a(()=>!!this.route.snapshot.firstChild),n(),i(([t,r])=>t&&!r))}#t(){return this.router.events.pipe(i(t=>t instanceof l),c(t=>{let r=this.log.fn("childDialogClosed$",{event:t,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});r.a("NavigationEnd",{event:t}),r.end()}),h(!!this.route.snapshot.firstChild),a(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),n(),i(([t,r])=>t.hasChildNow&&!r.hasChildNow),a(([t,r])=>({hadChildBefore:t.hasChildNow,hasChildNow:r.hasChildNow,state:r.state})))}static{this.\u0275fac=function(r){return new(r||s)(u(m),u(f))}}static{this.\u0275prov=g({token:s,factory:s.\u0275fac})}}return s})();export{R as a};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/chunk-ORK43FFD.js.map

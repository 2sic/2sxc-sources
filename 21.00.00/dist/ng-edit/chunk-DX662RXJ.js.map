{"version":3,"sources":["projects/eav-ui/src/app/shared/constants/session.constants.ts","projects/eav-ui/src/environments/environment.prod.ts","projects/eav-ui/src/app/shared/logging/rx-debug-dbg.ts","projects/eav-ui/src/app/shared/logging/fn/fn-logger-noop.ts","projects/eav-ui/src/app/shared/logging/class/class-logger-noop.ts","projects/eav-ui/src/app/shared/logging/output-console.ts","projects/eav-ui/src/app/shared/logging/fn/fn-logger-real.ts","projects/eav-ui/src/app/shared/logging/class/class-logger-real.ts","projects/eav-ui/src/app/shared/user/state-manager.ts","node_modules/lodash-es/_listCacheClear.js","node_modules/lodash-es/eq.js","node_modules/lodash-es/_assocIndexOf.js","node_modules/lodash-es/_listCacheDelete.js","node_modules/lodash-es/_listCacheGet.js","node_modules/lodash-es/_listCacheHas.js","node_modules/lodash-es/_listCacheSet.js","node_modules/lodash-es/_ListCache.js","node_modules/lodash-es/_stackClear.js","node_modules/lodash-es/_stackDelete.js","node_modules/lodash-es/_stackGet.js","node_modules/lodash-es/_stackHas.js","node_modules/lodash-es/_freeGlobal.js","node_modules/lodash-es/_root.js","node_modules/lodash-es/_Symbol.js","node_modules/lodash-es/_getRawTag.js","node_modules/lodash-es/_objectToString.js","node_modules/lodash-es/_baseGetTag.js","node_modules/lodash-es/isObject.js","node_modules/lodash-es/isFunction.js","node_modules/lodash-es/_coreJsData.js","node_modules/lodash-es/_isMasked.js","node_modules/lodash-es/_toSource.js","node_modules/lodash-es/_baseIsNative.js","node_modules/lodash-es/_getValue.js","node_modules/lodash-es/_getNative.js","node_modules/lodash-es/_Map.js","node_modules/lodash-es/_nativeCreate.js","node_modules/lodash-es/_hashClear.js","node_modules/lodash-es/_hashDelete.js","node_modules/lodash-es/_hashGet.js","node_modules/lodash-es/_hashHas.js","node_modules/lodash-es/_hashSet.js","node_modules/lodash-es/_Hash.js","node_modules/lodash-es/_mapCacheClear.js","node_modules/lodash-es/_isKeyable.js","node_modules/lodash-es/_getMapData.js","node_modules/lodash-es/_mapCacheDelete.js","node_modules/lodash-es/_mapCacheGet.js","node_modules/lodash-es/_mapCacheHas.js","node_modules/lodash-es/_mapCacheSet.js","node_modules/lodash-es/_MapCache.js","node_modules/lodash-es/_stackSet.js","node_modules/lodash-es/_Stack.js","node_modules/lodash-es/_setCacheAdd.js","node_modules/lodash-es/_setCacheHas.js","node_modules/lodash-es/_SetCache.js","node_modules/lodash-es/_arraySome.js","node_modules/lodash-es/_cacheHas.js","node_modules/lodash-es/_equalArrays.js","node_modules/lodash-es/_Uint8Array.js","node_modules/lodash-es/_mapToArray.js","node_modules/lodash-es/_setToArray.js","node_modules/lodash-es/_equalByTag.js","node_modules/lodash-es/_arrayPush.js","node_modules/lodash-es/isArray.js","node_modules/lodash-es/_baseGetAllKeys.js","node_modules/lodash-es/_arrayFilter.js","node_modules/lodash-es/stubArray.js","node_modules/lodash-es/_getSymbols.js","node_modules/lodash-es/_baseTimes.js","node_modules/lodash-es/isObjectLike.js","node_modules/lodash-es/_baseIsArguments.js","node_modules/lodash-es/isArguments.js","node_modules/lodash-es/stubFalse.js","node_modules/lodash-es/isBuffer.js","node_modules/lodash-es/_isIndex.js","node_modules/lodash-es/isLength.js","node_modules/lodash-es/_baseIsTypedArray.js","node_modules/lodash-es/_baseUnary.js","node_modules/lodash-es/_nodeUtil.js","node_modules/lodash-es/isTypedArray.js","node_modules/lodash-es/_arrayLikeKeys.js","node_modules/lodash-es/_isPrototype.js","node_modules/lodash-es/_overArg.js","node_modules/lodash-es/_nativeKeys.js","node_modules/lodash-es/_baseKeys.js","node_modules/lodash-es/isArrayLike.js","node_modules/lodash-es/keys.js","node_modules/lodash-es/_getAllKeys.js","node_modules/lodash-es/_equalObjects.js","node_modules/lodash-es/_DataView.js","node_modules/lodash-es/_Promise.js","node_modules/lodash-es/_Set.js","node_modules/lodash-es/_WeakMap.js","node_modules/lodash-es/_getTag.js","node_modules/lodash-es/_baseIsEqualDeep.js","node_modules/lodash-es/_baseIsEqual.js","node_modules/lodash-es/isEqual.js","projects/eav-ui/src/app/shared/logging/log-manager.ts","projects/eav-ui/src/app/shared/logging/logging.ts","projects/eav-ui/src/app/shared/logging/index.ts","projects/eav-ui/src/app/shared/services/context.ts"],"sourcesContent":["// TODO: @someday Change constants to be a object with these keys\r\n// to make code which uses them clearer that these are global constants\r\n\r\nexport const prefix = 'eav-';\r\nexport const keyZoneId = `${prefix}zoneId`;\r\nexport const keyContentBlockId = `${prefix}cbid`;\r\nexport const keyModuleId = `${prefix}mid`;\r\nexport const keyAppId = `${prefix}appId`;\r\nexport const keyDebug = `${prefix}debug`;\r\nexport const keyDialog = `${prefix}dialog`;\r\nexport const keyContentType = `${prefix}contentType`;\r\nexport const keyItems = `${prefix}items`;\r\nexport const keyPartOfPage = `${prefix}partOfPage`;\r\nexport const keyPublishing = `${prefix}publishing`;\r\nexport const keyFilters = `${prefix}filters`;\r\nexport const keyPipelineId = `${prefix}pipelineId`;\r\n\r\n/** WIP v16.01 */\r\nexport const keyEditFields = `${prefix}uifields`;\r\n\r\n/** Url which opened the dialog. Used for debugging */\r\nexport const keyUrl = `${prefix}url`;\r\n\r\n/** This is used by file editor to determine if it's editing shared files or of that portal only */\r\nexport const keyIsShared = `${prefix}isshared`;\r\n\r\n/** \r\n * Contains extra parameters for dialogs.\r\n * Example: { tab: 'settings' } or { scope: 'global' } - this would be for the data admin dialog.\r\n */\r\nexport const keyExtras = `${prefix}extras`;\r\n\r\n/** Fallback value in case it is missing in url */\r\nexport const partOfPageDefault = 'false';\r\n\r\n/** Language settings - multiple values (JSON), WIP 18.03 */\r\nexport const keySettings = `${prefix}settings`;\r\n\r\n/**\r\n * NOTE: WIP\r\n * - v18.03 already introduced the various language parameters, but I believe there is as of v20 no case where this is passed in.\r\n * - v20 trying to introduce save behavior\r\n */\r\nexport interface DialogUiSettings {\r\n  /** enable / disable the language-dialog button */\r\n  languageUserSettings?: boolean | string;\r\n  languageUi?: string;\r\n  languageForm?: string;\r\n\r\n  /**\r\n   * Save behavior for the dialog.\r\n   * - `false` means it will not save the form.\r\n   * - `/any/path` means it will save the form to that path.\r\n   */\r\n  save: string;\r\n}","export const environment = {\r\n  production: true\r\n};\r\n","import { Observable, tap } from 'rxjs';\r\nimport { ClassLogger } from './class/class-logger';\r\n\r\n/**\r\n * Special debug helper for RxJS observables\r\n */\r\nexport class RxTapDebug {\r\n  /**\r\n   * Constructor which will know the context and name of the stream it's for\r\n   * @param logger the main objects logger with name etc.\r\n   * @param name name of the stream we're logging\r\n   * @param jsonify will JSON.stringify the data if true - this is much faster as the browser doesn't block the debugger as much\r\n   */\r\n  constructor(private logger: ClassLogger, public name: string, private enabled = true, private jsonify: boolean = true) { }\r\n\r\n  /**\r\n   * Generate a rxjs tap function that logs the data with the current context\r\n   * Inspired by https://blog.angular-university.io/debug-rxjs/\r\n   * @param key\r\n   * @param subName\r\n   * @param message\r\n   * @returns\r\n   */\r\n  private generateFn<T>(key: string, subName?: unknown, message?: string): (source: Observable<T>) => Observable<T> {\r\n    // if not enabled, just return the original observable\r\n    if (!this.enabled || !this.logger.enabled) return (source: Observable<T>) => source;\r\n\r\n    const label = `${this.name}/${key}${subName ? `-${subName}` : ''}`;\r\n    let counter = 0;\r\n\r\n    // return a function that takes an observable and returns an observable\r\n    // and logs the data, and counts every access\r\n    return (source: Observable<T>) =>\r\n      source.pipe(\r\n        tap((data) => {\r\n          const showData = data == null\r\n            ? data  // if null or undefined, just show it\r\n            : this.jsonify ? JSON.parse(JSON.stringify(data)) : data;\r\n          return this.logger.a(label + ` #${counter++}`, { showData });\r\n        })\r\n      );\r\n  };\r\n\r\n  /** Create a sub-rx-tap (not yet tested as of 2024-06-11) */\r\n  rxTap(name: string, { enabled = true, jsonify = true }: { enabled?: boolean; jsonify?: boolean; } = { enabled: true, jsonify: true }) {\r\n    return new RxTapDebug(this.logger, `${this.name}-${name}`, enabled, jsonify);\r\n  }\r\n\r\n\r\n  /**\r\n   * Recommended to use at the beginning of a pipe to show when inbound signals came\r\n   * @param subName optional sub-name, to distinguish between different uses\r\n   */\r\n  pipe<T>(subName?: string) { return this.generateFn<T>('pipe', subName); }\r\n\r\n  /**\r\n   * Recommended after map to show what the map did\r\n   * @param subName optional sub-name, to distinguish between different uses\r\n   */\r\n  map<T>(subName?: string) { return this.generateFn<T>('map', subName); }\r\n\r\n  /**\r\n   * Recommended after filter to show what the filter did\r\n   * @param subName optional sub-name, to distinguish between different uses\r\n   */\r\n  filter<T>(subName?: string) { return this.generateFn<T>('filter', subName); }\r\n\r\n  /**\r\n   * Recommended after shareReplay\r\n   * @param subName optional sub-name, to distinguish between different uses\r\n   * @returns\r\n   */\r\n  shareReplay<T>(subName?: string) { return this.generateFn<T>('shareReplay', subName); }\r\n\r\n  /**\r\n   * Recommended after distinctUntilChanged\r\n   * @param subName optional sub-name, to distinguish between different uses\r\n   * @returns\r\n   */\r\n  distinctUntilChanged<T>(subName?: string) { return this.generateFn<T>('distinctUntilChanged', subName); }\r\n\r\n\r\n  start<T>() { return this.generateFn<T>('start'); }\r\n  end<T>() { return this.generateFn<T>('end'); }\r\n  step<T>(num: number) { return this.generateFn('step' + num); }\r\n  part<T>(subName?: string) { return this.generateFn<T>('part', subName); };\r\n  read<T>(subName?: string) { return this.generateFn<T>('read', subName); }\r\n}\r\n","import { FnLogger } from './fn-logger.interface';\r\n\r\n/**\r\n * No-Operation logger.\r\n */\r\nexport class FnLoggerNoOp implements FnLogger {\r\n  enabled: boolean = false;\r\n  values(data: Record<string, unknown>, intro?: string): void { }\r\n  a(message: string, data?: Record<string, unknown>): void { }\r\n  r<TResult>(result: TResult, message?: string, showData?: boolean): TResult {\r\n    return result;\r\n  }\r\n  rSilent<TResult>(result: TResult, message?: string): TResult {\r\n    return result;\r\n  }\r\n  rNull(message?: string): null {\r\n    return null;\r\n  }\r\n  rTrue(message?: string): boolean {\r\n    throw true;\r\n  }\r\n  rFalse(message?: string): boolean {\r\n    throw false;\r\n  }\r\n\r\n  end(message?: string, data?: Record<string, unknown>): void { }\r\n\r\n}\r\n","import { FnLogger } from '../fn/fn-logger.interface';\r\nimport { RxTapDebug } from '../rx-debug-dbg';\r\nimport { FnLoggerNoOp } from '../fn/fn-logger-noop';\r\nimport { BooleanKeys, ClassLogger, RecordOrGenerator, StringArrayKeys } from './class-logger';\r\n\r\nexport class ClassLoggerNoop<TSpecs extends unknown = any> implements ClassLogger<TSpecs> {\r\n  constructor(specs: TSpecs) {\r\n    this.specs = specs ?? {} as TSpecs;\r\n  }\r\n  svcId = 'noop';\r\n  name = 'noop';\r\n  get enabled() { return false; }\r\n  enableChildren = false;\r\n  specs: TSpecs;\r\n\r\n  extendName(addOn: string): this { return this; }\r\n\r\n  nameWithSvcId: string;\r\n\r\n  inherit(parent: ClassLogger<any>): void { }\r\n  forceEnable(enabled: boolean | null): void { }\r\n\r\n  a(message: string, data?: RecordOrGenerator): void { }\r\n  aIfInList(list: StringArrayKeys<TSpecs>, subKey: string, data?: RecordOrGenerator, message?: string): void { }\r\n  aIf(key: BooleanKeys<TSpecs> & string, data?: RecordOrGenerator, message?: string): void { }\r\n\r\n  rxTap(name: string, options?: { enabled?: boolean; jsonify?: boolean; }): RxTapDebug {\r\n    return new RxTapDebug(this as ClassLogger, 'noop');\r\n  }\r\n  fn(name: string, data?: RecordOrGenerator, message?: string): FnLogger { return new FnLoggerNoOp(); }\r\n  fnCond(condition: boolean, name: string, data?: RecordOrGenerator, message?: string): FnLogger { return new FnLoggerNoOp(); }\r\n  fnIf(key: string, data?: RecordOrGenerator, message?: string): FnLogger { return new FnLoggerNoOp(); }\r\n  fnIfInList(key: BooleanKeys<TSpecs> & string, list: StringArrayKeys<TSpecs>, subKey: string, data?: RecordOrGenerator, message?: string): FnLogger { return new FnLoggerNoOp(); }\r\n}","/**\r\n * Log to Console lightweight (no stack).\r\n * Uses a short, cryptic name log-console-internal to avoid it being used by mistake.\r\n*/\r\nexport function consoleLogObject({ message, callStack = false, data = null }\r\n  : { message?: any; callStack?: boolean, data?: Record<string, unknown>; }\r\n): void {\r\n  // Make prefix uppercase if not always\r\n  const prefix = 'ðŸªµ ';\r\n  message = prefix + message;\r\n\r\n  // New lightweight log, without the entire trace / call stack\r\n  if (callStack != true) {\r\n    if (!data)\r\n      return console.log(`${message}`)\r\n\r\n    const keys = Object.keys(data);\r\n    if (keys.length === 0)\r\n      return console.log(`${message}`);\r\n\r\n    if (keys.length === 1) {\r\n      const key = keys[0];\r\n      const show = data[key];\r\n      if (typeof (show) === 'string')\r\n        return console.log(`${message} [string:${show.length}] '${key}'='${show}'`);\r\n      return console.log(`${message} [${typeof (show)}] '${key}'=`, show);\r\n    }\r\n\r\n    console.log(`${message} [${keys.length} data-items]`, data);\r\n    return;\r\n  }\r\n\r\n  console.groupCollapsed(`${message}`, data);\r\n\r\n  // tslint:disable-next-line:no-console\r\n  console.trace();\r\n  console.groupEnd();\r\n}\r\n\r\n","import { consoleLogObject } from '../output-console';\r\nimport { FnLogger } from './fn-logger.interface';\r\nimport { ClassLogger, RecordOrGenerator } from '../class/class-logger';\r\n\r\nexport class FnLoggerReal implements FnLogger {\r\n  \r\n  constructor(private parent: ClassLogger, private fnName: string, message?: string, data?: RecordOrGenerator) {\r\n    this.#a(message, data);\r\n  }\r\n\r\n  get enabled() { return this.parent.enabled; };\r\n\r\n  /** Internal helper to really log - if enabled */\r\n  #a(message: string, data?: RecordOrGenerator, autoPad: boolean = true): void {\r\n    if (!this.parent.enabled) return;\r\n    message ??= '';\r\n    if (message && autoPad) message = ` ${message}`;\r\n    data = typeof data === 'function' ? data() : data;\r\n    consoleLogObject({ message: `${this.parent.nameWithSvcId}.${this.fnName}()${message}`, data });\r\n  }\r\n\r\n  a(message: string, data?: Record<string, unknown>): void {\r\n    this.#a('/' + message, data, false);\r\n  }\r\n\r\n  values(data: Record<string, unknown>, intro?: string): void {\r\n    if (!data) return;\r\n    if (!this.parent.enabled) return;\r\n    intro = intro ? ` ${intro} ` : '';\r\n    this.#a('/values' + intro, data, false);\r\n  }\r\n\r\n  /** Return result and log it */\r\n  r<TResult>(result: TResult, message?: string): TResult {\r\n    this.#a('/return' + (message ? ' ' + message : ''), { result: result }, false);\r\n    return result;\r\n  }\r\n\r\n  /** Return without logging the result data */\r\n  rSilent<TResult>(result: TResult, message?: string): TResult {\r\n    this.#a('/return' + (message ? ' ' + message : ''), null, false);\r\n    return result;\r\n  }\r\n\r\n  /** Return NULL */\r\n  rNull(message?: string): null {\r\n    this.#a('/return NULL' + (message ? ' ' + message : ''), null, false);\r\n    return null;\r\n  }\r\n  rTrue(message?: string): boolean {\r\n    this.#a('/return TRUE' + (message ? ' ' + message : ''), null, false);\r\n    return true;\r\n  }\r\n  rFalse(message?: string): boolean {\r\n    this.#a('/return FALSE' + (message ? ' ' + message : ''), null, false);\r\n    return false;\r\n  }\r\n\r\n\r\n  /** End without return but show message and optional data */\r\n  end(message?: string, data?: Record<string, unknown>) {\r\n    this.#a('/end' + (message ? ' ' + message : ''), data, false);\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { environment } from '../../../../environments/environment';\r\nimport { FnLoggerNoOp } from '../fn/fn-logger-noop';\r\nimport { FnLoggerReal } from '../fn/fn-logger-real';\r\nimport { FnLogger } from '../fn/fn-logger.interface';\r\nimport { LogSpecs } from '../log-specs';\r\nimport { consoleLogObject } from '../output-console';\r\nimport { RxTapDebug } from '../rx-debug-dbg';\r\nimport { BooleanKeys, ClassLogger, RecordOrGenerator, StringArrayKeys } from './class-logger';\r\n\r\n/**\r\n * TODO:\r\n * - STOP using this directly, but instead use the classLog function\r\n * - Then rename to ClassLogger\r\n * - ...and move to sub-folder\r\n */\r\nexport class ClassLoggerReal<TSpecs extends unknown = any> implements ClassLogger<TSpecs> {\r\n  /** Special random ID to identify a specific service and detect reuse or separate instances  */\r\n  svcId = Math.random().toString(36).substring(2, 5);\r\n\r\n  /** Name to be used in console logs etc. */\r\n  name: string;\r\n\r\n  /** Enabled state, combination of own enabled value + production-build info */\r\n  get enabled() { return this.#enabled; }\r\n  #enabled: boolean;\r\n  #setEnabled(value: boolean) {\r\n    this.#enabled = value && !environment.production;\r\n  }\r\n\r\n\r\n  enableChildren: boolean;\r\n\r\n  /** Additional specs for logging just parts of the data */\r\n  specs: TSpecs;\r\n\r\n  constructor(logSpecs: LogSpecs<TSpecs>) {\r\n    this.#rename(logSpecs.name);\r\n    // Bypass the default setEnabled, as we want to be able to override in production\r\n    this.#enabled = logSpecs.enabled;\r\n    this.enableChildren = logSpecs.enableChildren ?? false;\r\n    this.specs = logSpecs.specs;\r\n  }\r\n\r\n  #rename(name: string) {\r\n    this.name = name;\r\n    this.nameWithSvcId = `${name}-${this.svcId}`;\r\n  }\r\n\r\n  public extendName(addOn: string): this {\r\n    this.#rename(`${this.name}${addOn}`);\r\n    return this;\r\n  }\r\n\r\n  public nameWithSvcId: string;\r\n\r\n  public inherit(parent: ClassLogger) {\r\n    // if already enabled, don't do anything; inherit can only activate it\r\n    if (this.enabled)\r\n      return;\r\n\r\n    this.#setEnabled(parent.enabled);\r\n\r\n    // if this results in log enabled, inform the console.\r\n    // otherwise it's really hard to find out why a log is on\r\n    if (parent.enabled)\r\n      this.a(`Enabled: Inheriting log settings from parent ${parent.nameWithSvcId}`);\r\n  }\r\n\r\n  public forceEnable(enabled: boolean | null) {\r\n    if (enabled == null || this.enabled) return;\r\n    if (enabled) this.a('Enabled: Forced to enable log');\r\n    this.#setEnabled(enabled);\r\n  }\r\n\r\n  /** Internal helper to really log - if enabled */\r\n  #a(message: string, data?: RecordOrGenerator, autoPad: boolean = true): void {\r\n    if (!this.enabled) return;\r\n    message ??= '';\r\n    if (message && autoPad) message = ` ${message}`;\r\n    data = typeof data === 'function' ? data() : data;\r\n    consoleLogObject({ message: `${this.nameWithSvcId}${message}`, data });\r\n  }\r\n\r\n  /**\r\n   * Special 'a' = add log helper to better diagnose what is happening\r\n   */\r\n  a(message: string, data?: RecordOrGenerator): void {\r\n    this.#a(message, data);\r\n  }\r\n\r\n  aIf(key: BooleanKeys<TSpecs> & string, data?: RecordOrGenerator, message?: string): void {\r\n    if (this.enabled && this.#ifInSpecs(key))\r\n      this.#a(message, data);\r\n  }\r\n\r\n  aIfInList(list: StringArrayKeys<TSpecs>, subKey: string, data?: RecordOrGenerator, message?: string): void {\r\n    if (this.enabled && this.#ifInSpecsList(list, subKey))\r\n      this.#a(message, data);\r\n  }\r\n\r\n  /** Create a special logger for rx logging */\r\n  rxTap(name: string, { enabled = true, jsonify = true }: { enabled?: boolean; jsonify?: boolean; } = { enabled: true, jsonify: true }): RxTapDebug {\r\n    return new RxTapDebug(this as ClassLogger, name, enabled, jsonify);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * TODO: @2pp - refactor all uses to just use the fnIf method? - but WAIT till delegate by 2dm\r\n   * \r\n   * @param name \r\n   * @param data \r\n   * @param message \r\n   * @returns \r\n   */\r\n  fn(name: string, data?: RecordOrGenerator, message?: string): FnLogger {\r\n    return new FnLoggerReal(this as ClassLogger, name, message, data);\r\n  }\r\n\r\n  /**\r\n   * Create a logger function that will only log if the condition is true\r\n   */\r\n  fnCond(condition: boolean, name: string, data?: RecordOrGenerator, message?: string): FnLogger {\r\n    // create real logger if condition is true, or if this logger is disabled anyhow\r\n    return condition || !this.enabled\r\n      ? this.fn(name, data, message)\r\n      : new FnLoggerNoOp();\r\n  }\r\n\r\n  /**\r\n   * Create a logger function that will only log if the condition is true.\r\n   * The condition must come from the specs object.\r\n   */\r\n  fnIf(key: BooleanKeys<TSpecs> & string, data?: RecordOrGenerator, message?: string): FnLogger {\r\n    // create real logger if condition is true, or if this logger is disabled anyhow\r\n    return this.enabled && this.#ifInSpecs(key)\r\n      ? this.fn(key, data, message)\r\n      : new FnLoggerNoOp();\r\n  }\r\n\r\n  fnIfInList(key: BooleanKeys<TSpecs> & string, list: StringArrayKeys<TSpecs>, subKey: string, data?: RecordOrGenerator, message?: string): FnLogger {\r\n    return this.enabled && this.#ifInSpecs(key) && this.#ifInSpecsList(list, subKey)\r\n      ? this.fn(`${key}[${subKey}]`, data, message)\r\n      : new FnLoggerNoOp();\r\n  }\r\n\r\n  /** Helper to check if a key is in the specs and is true, or 'all' is true */\r\n  #ifInSpecs(key: BooleanKeys<TSpecs> & string): boolean {\r\n    return this.specs && !!(this.specs[key] || (this.specs as { all: boolean })['all']);\r\n  }\r\n\r\n  #ifInSpecsList(list: StringArrayKeys<TSpecs>, subKey: string): boolean {\r\n    const keys = this.specs?.[list] as string[];\r\n    return keys && (keys.includes(subKey) || keys.includes('*'));\r\n  }\r\n}\r\n","import { LogSpecs } from '../logging/log-specs';\r\n\r\nconst logThis = false;\r\nconst separator = \":\";\r\nexport class StateManager<T> {\r\n\r\n  protected constructor(private storage: Storage, public prefix: string, private configName?: string) {\r\n    this.#storeKey = this.prefix + (this.configName ? `${separator}${this.configName}` : '');\r\n  }\r\n  #storeKey: string;\r\n\r\n  /** Get the current list of these settings */\r\n  get cache(): Record<string, T> {\r\n    return (this.#cache ??= this.#load() ?? {}) as unknown as Record<string, T>;\r\n  }\r\n  #cache: Record<string, unknown>;\r\n\r\n  get<TValue>(name: string): TValue {\r\n    return this.cache[name] as unknown as TValue;\r\n  }\r\n\r\n  add<TValue>(name: string, specs: TValue) {\r\n    this.cache[name] = specs as unknown as T;\r\n    this.#save(this.cache);\r\n  }\r\n\r\n  remove(name: string) {\r\n    delete this.cache[name];\r\n    this.#save(this.cache);\r\n  }\r\n\r\n  reset() {\r\n    this.#save(this.#cache = {});\r\n  }\r\n\r\n  getNamesInStoreWithPrefix() {\r\n    const result = Array.from(this.storage)\r\n      .filter(([key]) => key === this.prefix || key.startsWith(this.prefix + separator))\r\n      .map(([key]) => key);\r\n    \r\n    return result;\r\n  }\r\n\r\n  #save(data: Record<string, unknown>) {\r\n    this.storage.setItem(this.#storeKey, JSON.stringify(data));\r\n  }\r\n\r\n  #load(): Record<string, unknown> {\r\n    const data = this.storage.getItem(this.#storeKey);\r\n    const result = data ? JSON.parse(data) : {};\r\n    if (logThis && result)\r\n      console.log(`Loaded log specs for ${Object.keys(result).length} items`, result);\r\n    return result;\r\n  }\r\n}\r\n\r\n/**\r\n * State management for the log manager.\r\n * It will store it in the current session.\r\n */\r\nexport class StateManagerSession extends StateManager<LogSpecs<unknown>> {\r\n  constructor(prefix: string, configName?: string) {\r\n    super(window.sessionStorage, prefix, configName);\r\n  }\r\n}\r\n\r\nexport class StateManagerLocal extends StateManager<LogSpecs<unknown>> {\r\n  constructor(prefix: string, configName?: string) {\r\n    super(window.localStorage, prefix, configName);\r\n  }\r\n}\r\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\nexport default listCacheClear;","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\nexport default eq;","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\nexport default assocIndexOf;","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n    index = assocIndexOf(data, key);\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\nexport default listCacheDelete;","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n    index = assocIndexOf(data, key);\n  return index < 0 ? undefined : data[index][1];\n}\nexport default listCacheGet;","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\nexport default listCacheHas;","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n    index = assocIndexOf(data, key);\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\nexport default listCacheSet;","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n    length = entries == null ? 0 : entries.length;\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\nexport default ListCache;","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache();\n  this.size = 0;\n}\nexport default stackClear;","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n    result = data['delete'](key);\n  this.size = data.size;\n  return result;\n}\nexport default stackDelete;","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\nexport default stackGet;","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\nexport default stackHas;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nexport default freeGlobal;","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\nexport default root;","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\nexport default Symbol;","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n    tag = value[symToStringTag];\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\nexport default getRawTag;","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\nexport default objectToString;","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n  undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\nexport default baseGetTag;","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\nexport default isObject;","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n  funcTag = '[object Function]',\n  genTag = '[object GeneratorFunction]',\n  proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nexport default isFunction;","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\nexport default coreJsData;","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\nexport default isMasked;","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n  return '';\n}\nexport default toSource;","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n  objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\nexport default baseIsNative;","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\nexport default getValue;","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\nexport default getNative;","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\nexport default Map;","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\nexport default nativeCreate;","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\nexport default hashClear;","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\nexport default hashDelete;","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\nexport default hashGet;","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\nexport default hashHas;","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n  return this;\n}\nexport default hashSet;","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n    length = entries == null ? 0 : entries.length;\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\nexport default Hash;","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash(),\n    'map': new (Map || ListCache)(),\n    'string': new Hash()\n  };\n}\nexport default mapCacheClear;","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\nexport default isKeyable;","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\nexport default getMapData;","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\nexport default mapCacheDelete;","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\nexport default mapCacheGet;","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\nexport default mapCacheHas;","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n    size = data.size;\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\nexport default mapCacheSet;","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n    length = entries == null ? 0 : entries.length;\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\nexport default MapCache;","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\nexport default stackSet;","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\nexport default Stack;","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\nexport default setCacheAdd;","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\nexport default setCacheHas;","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n    length = values == null ? 0 : values.length;\n  this.__data__ = new MapCache();\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\nexport default SetCache;","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n    length = array == null ? 0 : array.length;\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\nexport default arraySome;","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\nexport default cacheHas;","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n    arrLength = array.length,\n    othLength = other.length;\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n    result = true,\n    seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n      othValue = other[index];\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function (othValue, othIndex) {\n        if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          return seen.push(othIndex);\n        }\n      })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\nexport default equalArrays;","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\nexport default Uint8Array;","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n    result = Array(map.size);\n  map.forEach(function (value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\nexport default mapToArray;","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n    result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\nexport default setToArray;","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n  dateTag = '[object Date]',\n  errorTag = '[object Error]',\n  mapTag = '[object Map]',\n  numberTag = '[object Number]',\n  regexpTag = '[object RegExp]',\n  setTag = '[object Set]',\n  stringTag = '[object String]',\n  symbolTag = '[object Symbol]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n  dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n  symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n    case arrayBufferTag:\n      if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == other + '';\n    case mapTag:\n      var convert = mapToArray;\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\nexport default equalByTag;","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n    length = values.length,\n    offset = array.length;\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\nexport default arrayPush;","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\nexport default isArray;","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\nexport default baseGetAllKeys;","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n    length = array == null ? 0 : array.length,\n    resIndex = 0,\n    result = [];\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\nexport default arrayFilter;","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\nexport default stubArray;","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function (symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\nexport default getSymbols;","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n    result = Array(n);\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\nexport default baseTimes;","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\nexport default isObjectLike;","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\nexport default baseIsArguments;","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function () {\n  return arguments;\n}()) ? baseIsArguments : function (value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n};\nexport default isArguments;","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\nexport default stubFalse;","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\nexport default isBuffer;","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\nexport default isIndex;","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\nexport default isLength;","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n  arrayTag = '[object Array]',\n  boolTag = '[object Boolean]',\n  dateTag = '[object Date]',\n  errorTag = '[object Error]',\n  funcTag = '[object Function]',\n  mapTag = '[object Map]',\n  numberTag = '[object Number]',\n  objectTag = '[object Object]',\n  regexpTag = '[object RegExp]',\n  setTag = '[object Set]',\n  stringTag = '[object String]',\n  weakMapTag = '[object WeakMap]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n  dataViewTag = '[object DataView]',\n  float32Tag = '[object Float32Array]',\n  float64Tag = '[object Float64Array]',\n  int8Tag = '[object Int8Array]',\n  int16Tag = '[object Int16Array]',\n  int32Tag = '[object Int32Array]',\n  uint8Tag = '[object Uint8Array]',\n  uint8ClampedTag = '[object Uint8ClampedArray]',\n  uint16Tag = '[object Uint16Array]',\n  uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\nexport default baseIsTypedArray;","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\nexport default baseUnary;","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = function () {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}();\nexport default nodeUtil;","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\nexport default isTypedArray;","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n    isArg = !isArr && isArguments(value),\n    isBuff = !isArr && !isArg && isBuffer(value),\n    isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n    skipIndexes = isArr || isArg || isBuff || isType,\n    result = skipIndexes ? baseTimes(value.length, String) : [],\n    length = result.length;\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (\n    // Safari 9 has enumerable `arguments.length` in strict mode.\n    key == 'length' ||\n    // Node.js 0.10 has enumerable non-index properties on buffers.\n    isBuff && (key == 'offset' || key == 'parent') ||\n    // PhantomJS 2 has enumerable non-index properties on typed arrays.\n    isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') ||\n    // Skip index properties.\n    isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\nexport default arrayLikeKeys;","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n    proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n}\nexport default isPrototype;","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\nexport default overArg;","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\nexport default nativeKeys;","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\nexport default baseKeys;","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\nexport default isArrayLike;","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\nexport default keys;","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\nexport default getAllKeys;","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n    objProps = getAllKeys(object),\n    objLength = objProps.length,\n    othProps = getAllKeys(other),\n    othLength = othProps.length;\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n      othValue = other[key];\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n      othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\nexport default equalObjects;","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\nexport default DataView;","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\nexport default Promise;","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\nexport default Set;","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\nexport default WeakMap;","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n  objectTag = '[object Object]',\n  promiseTag = '[object Promise]',\n  setTag = '[object Set]',\n  weakMapTag = '[object WeakMap]';\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n  mapCtorString = toSource(Map),\n  promiseCtorString = toSource(Promise),\n  setCtorString = toSource(Set),\n  weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n  getTag = function (value) {\n    var result = baseGetTag(value),\n      Ctor = result == objectTag ? value.constructor : undefined,\n      ctorString = Ctor ? toSource(Ctor) : '';\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString:\n          return dataViewTag;\n        case mapCtorString:\n          return mapTag;\n        case promiseCtorString:\n          return promiseTag;\n        case setCtorString:\n          return setTag;\n        case weakMapCtorString:\n          return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\nexport default getTag;","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n  arrayTag = '[object Array]',\n  objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n    othIsArr = isArray(other),\n    objTag = objIsArr ? arrayTag : getTag(object),\n    othTag = othIsArr ? arrayTag : getTag(other);\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n  var objIsObj = objTag == objectTag,\n    othIsObj = othTag == objectTag,\n    isSameTag = objTag == othTag;\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack());\n    return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n      othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n        othUnwrapped = othIsWrapped ? other.value() : other;\n      stack || (stack = new Stack());\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack());\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\nexport default baseIsEqualDeep;","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\nexport default baseIsEqual;","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\nexport default isEqual;","import { LogSpecs } from './log-specs';\r\nimport { StateManagerSession, StateManager } from '../user/state-manager';\r\nimport isEqual from 'lodash-es/isEqual';\r\n\r\nlet logManager: LogManager;\r\nconst storePrefix = 'logSpecs';\r\n\r\nexport class LogManager {\r\n  /**\r\n   * Main external function to get the specs for activating a logger.\r\n   *\r\n   * Goal are\r\n   * - to register the logger - so the UI can show that it exists.\r\n   * - to get any alternate specs for the logger, in case the UI changes the settings.\r\n   *\r\n   * @param specs initial / default specs according to code\r\n   * @returns\r\n   */\r\n  static getSpecs<T>(specs: LogSpecs<T>): LogSpecs<T> {\r\n    const lm = LogManager.singleton();\r\n\r\n    if (lm.debug) debugger;\r\n\r\n    // Check if we already did all the merge etc.\r\n    // and should just return the existing specs\r\n    const existing = lm.cache[specs.name] as LogSpecs<T>;\r\n    if (existing) return existing;\r\n\r\n    // Check if we have a configured version of the specs\r\n    const configured = lm.state.cache[specs.name] as LogSpecs<T>;\r\n\r\n    const merged: LogSpecs<T> = {\r\n      enabled: false,\r\n      ...specs,\r\n      ...configured,\r\n    };\r\n    lm.cache[specs.name] = merged;\r\n\r\n    return merged;\r\n  }\r\n\r\n  /** Get access to the singleton log manager */\r\n  static singleton(): LogManager {\r\n    if (logManager) return logManager;\r\n\r\n    // Since the code for the logger could be in multiple bundles, we must ensure we only have one instance\r\n    const win: { logManager: LogManager } = window as any;\r\n\r\n    if (win.logManager) return (logManager = win.logManager);\r\n\r\n    win.logManager = logManager = new LogManager();\r\n    return logManager;\r\n  }\r\n\r\n  /** Ensures that this class can only be constructed here */\r\n  private constructor() {}\r\n\r\n  private cache: Record<string, LogSpecs<unknown>> = {};\r\n\r\n  public state: StateManager<LogSpecs<unknown>> = new StateManagerSession(\r\n    storePrefix\r\n  );\r\n\r\n  debug: false;\r\n\r\n  /** Updates the in-memory specs and saves them to the state */\r\n  updateSpecs(updatedSpecs: Record<string, LogSpecs<unknown>>): void {\r\n    // Iterate through the updated specs to ensure all changes are reflected\r\n    Object.keys(updatedSpecs).forEach((name) => {\r\n      const existing = this.cache[name];\r\n\r\n      // Only update if the log specs are different\r\n      if (!isEqual(existing?.specs, updatedSpecs[name].specs)) {\r\n        this.cache[name] = updatedSpecs[name];\r\n        this.state.add(name, updatedSpecs[name]);\r\n      }\r\n    });\r\n  }\r\n\r\n  /** Get all specs */\r\n  get allSpecs() {\r\n    return this.cache;\r\n  }\r\n\r\n  get allConfigured() {\r\n    return this.state.cache;\r\n  }\r\n\r\n  /** Merged version of all configured and cached specs */\r\n  get mergeAllSpecs() {\r\n    const mergedSpecs: Record<string, LogSpecs<unknown>> = { ...this.cache };\r\n\r\n    Object.keys(this.state.cache).forEach((name) => {\r\n      mergedSpecs[name] = {\r\n        ...mergedSpecs[name],\r\n        ...this.state.cache[name],\r\n      };\r\n    });\r\n\r\n    // Removes all user Configs, because they are saved with the logs\r\n    Object.keys(mergedSpecs).forEach((key) => {\r\n      if (key.startsWith(storePrefix)) {\r\n        delete mergedSpecs[key];\r\n      }\r\n    });\r\n    return mergedSpecs;\r\n  }\r\n\r\n  get specsOfConfigured() {\r\n    const stateCache = this.state.cache;\r\n    return Object.keys(stateCache).map((k) => this.cache[k] || stateCache[k]);\r\n  }\r\n\r\n  configure<T>(specs: LogSpecs<T>) {\r\n    delete this.cache[specs.name];\r\n    this.state.add(specs.name, specs);\r\n  }\r\n\r\n  toggle(name: string): boolean;\r\n  toggle(name: string, state: boolean): boolean;\r\n  toggle(name: string, state?: boolean): boolean {\r\n    const cached = this.cache[name];\r\n    const configured = this.state.cache[name];\r\n    const enabled = state ?? !configured?.enabled;\r\n    const specs = configured?.specs || cached?.specs || {};\r\n    const newConfig = {\r\n      name,\r\n      enabled,\r\n      specs,\r\n    };\r\n    this.configure(newConfig);\r\n    return state;\r\n  }\r\n}\r\n","import { environment } from './../../../environments/environment';\r\nimport { ClassLogger } from './class/class-logger';\r\nimport { ClassLoggerNoop } from './class/class-logger-noop';\r\nimport { ClassLoggerReal } from './class/class-logger-real';\r\nimport { LogManager } from './log-manager';\r\n\r\n//\r\n// This is a special section for logging.\r\n// A core goal is that logging will never break the application, so it should be null-safe\r\n// and work even if for example the .log property is null.\r\n\r\n/**\r\n * Main entry function to create a logger for a class.\r\n * \r\n * Usage: `log = classLog({MyClass})` // this will allow it to auto-detect the class name\r\n * \r\n * TODO: If logging is disabled, it will create a dummy logger that does nothing.\r\n * - wait with this, until we've refactored everything to use the new classLog and the logFn / logFnIf functions\r\n * @param owner a mini-class with 1 property, being the name of the class; optionally also the name as string, but not recommended\r\n * @param specs optional object containing further specs. If provided, can be used in `log.fnIf()` calls \r\n * @param pleaseUseClassLogEnabled blocker: to enable logging, please use classLogEnabled(...) so it's easier to find and disable again before release\r\n * @returns \r\n */\r\nexport function classLog<TSpecs extends Record<string, unknown> = any>(\r\n  owner: Record<string, unknown> | string,\r\n  specs?: TSpecs,\r\n  pleaseUseClassLogEnabled?: string,\r\n  enabled: boolean = false\r\n): ClassLogger<TSpecs> {\r\n  // Pick the first key as the name of the class\r\n  const name = (() => {\r\n    if (!owner) return 'unknown';\r\n    if (typeof owner === 'string') return owner;\r\n    return (owner ? Object.keys(owner)[0] : null) ?? 'unknown';\r\n  })();\r\n  \r\n  // Build temporary logSpecs object\r\n  const logSpecs = {\r\n    // enabled should be false in production - unless overloaded below by the LogManager\r\n    enabled: enabled && !environment.production,\r\n    name,\r\n    specs: specs ?? {} as TSpecs,\r\n  }\r\n\r\n  // Get final / real logSpecs, and register these logs in the LogManager for run-time configuration\r\n  const mainSpecs = LogManager.getSpecs(logSpecs);\r\n\r\n  return (mainSpecs.enabled)\r\n    ? new ClassLoggerReal<TSpecs>(mainSpecs)\r\n    : new ClassLoggerNoop(specs);\r\n}\r\n\r\nexport function classLogEnabled<TSpecs extends Record<string, unknown> = any>(\r\n  owner: Record<string, unknown> | string,\r\n  specs?: TSpecs,\r\n): ClassLogger<TSpecs> {\r\n  return classLog(owner, specs, null, true);\r\n}","/*\r\n * Internal API Surface of logging.\r\n *\r\n * Please make sure you only use this index file for imports in typescripts outside of this folder.\r\n * This is just for consistency.\r\n */\r\n\r\nexport { ClassLogger } from './class/class-logger';\r\nexport { FnLogger } from './fn/fn-logger.interface';\r\nexport * from './logging';\r\n\r\nexport const commonSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n};","import { Injectable, Optional, SkipSelf } from '@angular/core';\r\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { keyAppId, keyContentBlockId, keyModuleId, keyZoneId, prefix } from '../constants/session.constants';\r\nimport { classLog } from '../logging';\r\nimport { EavWindow } from '../models/eav-window.model';\r\nimport { RouteContextInfo } from '../routing/route-context-info';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n  init: false,\r\n  initRoot: false,\r\n};\r\n\r\n/**\r\n * Context is used to display information about the current app in various depths.\r\n * In other words, if you open another app in a deeper dialog in the app on Apps Management\r\n * (the component is deeper), you get the information from this app and not the initial app.\r\n */\r\n@Injectable()\r\nexport class Context implements RouteContextInfo {\r\n\r\n  log = classLog({Context}, logSpecs);\r\n\r\n  constructor(@Optional() @SkipSelf() parentContext: Context) {\r\n    this.log.a(`constructor; hasParent: ${parentContext != null}`, { parentContext, 'parentId': parentContext?.id });\r\n    this.parent = parentContext;\r\n\r\n    // spm NOTE: I've given id to every context to make it easier to follow how things work\r\n    if (!window.contextId)\r\n      window.contextId = 0;\r\n    this.id = window.contextId++;\r\n    this.log.a('Context.constructor', { this: this });\r\n  }\r\n\r\n  /** Id of current context */\r\n  public id: number;\r\n\r\n  /** Determines if the context is ready to use, and everything is initialized */\r\n  public ready = false;\r\n\r\n  /** The parent, for hierarchical lookup */\r\n  private parent: Context;\r\n\r\n  private routeSnapshot: ActivatedRouteSnapshot;\r\n\r\n  /** The current Zone ID */\r\n  get zoneId(): number {\r\n    return this._zoneId || (this._zoneId = this.#routeNum(keyZoneId) || this.parent?.zoneId);\r\n  }\r\n  private _zoneId: number;\r\n\r\n  /** The current App ID */\r\n  get appId(): number {\r\n    return (this._appId != null) ? this._appId : (this._appId = this.#routeNum(keyAppId) || this.parent?.appId);\r\n  }\r\n  private _appId: number;\r\n\r\n\r\n  /** Tab Id is global */\r\n  get tabId(): number {\r\n    return window.$2sxc.env.page();\r\n  }\r\n\r\n  /** Content Block Id is global */\r\n  get contentBlockId(): number {\r\n    return this._contentBlockId || (this._contentBlockId = this.#routeNum(keyContentBlockId) || this.parent?.contentBlockId);\r\n  }\r\n  private _contentBlockId: number;\r\n\r\n  /** Module Id is global */\r\n  get moduleId(): number {\r\n    return this._moduleId || (this._moduleId = this.#routeNum(keyModuleId) || this.parent?.moduleId);\r\n  }\r\n  private _moduleId: number;\r\n\r\n  /**\r\n   * This is the initializer at entry-components of modules.\r\n   * It ensures that within that module, the context has the values given by the route.\r\n   *\r\n   * Note: 2024-07-01 2dm: a long time ago the context was recreated for every single component, so init was also called for every component.\r\n   * But after going standalone, thi doesn't happen any more, and the re-init seems to kill the context from previous,\r\n   * which is why we skip this if already ready.\r\n   * This is still a bit shaky, not sure if this should be the final implementation.\r\n   */\r\n  init(route: ActivatedRoute) {\r\n    const l = this.log.fnIf('init', { route }, `- previously ready: '${this.ready}'`);\r\n    // New prevent-multiple-init checks 2dm 2024-07-01\r\n    if (this.ready)\r\n      return l.r(this, 'Already ready, skipping init');\r\n    this.routeSnapshot = route?.snapshot;\r\n    this.#clearCachedValues();\r\n    this.ready = route != null;\r\n    this.log.a('init done', { this: this, 'appId': this.appId, 'zoneId': this.zoneId, 'contentBlockId': this.contentBlockId, 'moduleId': this.moduleId });\r\n  }\r\n\r\n  initRoot(): void {\r\n    const l = this.log.fnIf('initRoot');\r\n    this._zoneId = this.#sessionNumber(keyZoneId);\r\n    this._contentBlockId = this.#sessionNumber(keyContentBlockId);\r\n    this._moduleId = this.#sessionNumber(keyModuleId);\r\n    this._appId = this.#sessionNumber(keyAppId);\r\n\r\n    if (!this._zoneId)\r\n      throw new Error('Context is missing some of the required parameters');\r\n\r\n    this.ready = true;\r\n    l.r(this);\r\n  }\r\n\r\n  #sessionNumber(name: string): number {\r\n    const result = sessionStorage.getItem(name);\r\n    if (result === null) return null;\r\n    const num = parseInt(result, 10);\r\n    return isNaN(num) ? null : num;\r\n  }\r\n\r\n  /**\r\n   * Get a number from the route, or optionally its parents.\r\n   * Returns value in route or null\r\n   */\r\n  #routeNum(name: string): number {\r\n    // catch case where state is null, like when the recursive parent is in use\r\n    if (this.routeSnapshot == null) { return null; }\r\n    const paramName = name.substring(prefix.length);\r\n    const result = this.routeSnapshot.paramMap.get(paramName);\r\n    if (result !== null) {\r\n      const num = parseInt(result, 10);\r\n      return isNaN(num) ? null : num;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clears cached values. Required when one module instance is opened multiple times,\r\n   * e.g. Apps Management -> App Admin for appId 2 -> back -> App Admin for appId 17.\r\n   * Module is reused, and so is context and it contains values for previous appId.\r\n   */\r\n  #clearCachedValues() {\r\n    this._zoneId = null;\r\n    this._appId = null;\r\n    this._contentBlockId = null;\r\n    this._moduleId = null;\r\n  }\r\n}\r\n"],"mappings":"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","names":["prefix","keyZoneId","keyContentBlockId","keyModuleId","keyAppId","keyDebug","keyDialog","keyContentType","keyItems","keyPartOfPage","keyPublishing","keyFilters","keyPipelineId","keyEditFields","keyUrl","keyIsShared","keyExtras","partOfPageDefault","keySettings","environment","production","RxTapDebug","constructor","logger","name","enabled","jsonify","generateFn","key","subName","message","source","label","counter","pipe","tap","data","showData","JSON","parse","stringify","a","rxTap","map","filter","shareReplay","distinctUntilChanged","start","end","step","num","part","read","FnLoggerNoOp","constructor","enabled","values","data","intro","a","message","r","result","showData","rSilent","rNull","rTrue","rFalse","end","ClassLoggerNoop","constructor","specs","svcId","name","enableChildren","enabled","extendName","addOn","inherit","parent","forceEnable","a","message","data","aIfInList","list","subKey","aIf","key","rxTap","options","RxTapDebug","fn","FnLoggerNoOp","fnCond","condition","fnIf","fnIfInList","consoleLogObject","message","callStack","data","prefix","console","log","keys","Object","length","key","show","groupCollapsed","trace","groupEnd","FnLoggerReal","constructor","parent","fnName","message","data","#a","enabled","autoPad","consoleLogObject","nameWithSvcId","a","values","intro","r","result","rSilent","rNull","rTrue","rFalse","end","ClassLoggerReal","enabled","#enabled","#setEnabled","value","environment","production","constructor","logSpecs","svcId","Math","random","toString","substring","#rename","name","enableChildren","specs","nameWithSvcId","extendName","addOn","inherit","parent","a","forceEnable","#a","message","data","autoPad","consoleLogObject","aIf","key","#ifInSpecs","aIfInList","list","subKey","#ifInSpecsList","rxTap","jsonify","RxTapDebug","fn","FnLoggerReal","fnCond","condition","FnLoggerNoOp","fnIf","fnIfInList","keys","includes","StateManager","constructor","storage","prefix","configName","#storeKey","cache","#cache","#load","get","name","add","specs","#save","remove","reset","getNamesInStoreWithPrefix","Array","from","filter","key","startsWith","separator","map","data","setItem","JSON","stringify","getItem","parse","StateManagerSession","window","sessionStorage","StateManagerLocal","localStorage","listCacheClear","listCacheClear_default","eq","value","other","eq_default","assocIndexOf","array","key","length","eq_default","assocIndexOf_default","arrayProto","splice","listCacheDelete","key","data","index","assocIndexOf_default","lastIndex","listCacheDelete_default","listCacheGet","key","data","index","assocIndexOf_default","listCacheGet_default","listCacheHas","key","assocIndexOf_default","listCacheHas_default","listCacheSet","key","value","data","index","assocIndexOf_default","listCacheSet_default","ListCache","entries","index","length","entry","listCacheClear_default","listCacheDelete_default","listCacheGet_default","listCacheHas_default","listCacheSet_default","ListCache_default","stackClear","ListCache_default","stackClear_default","stackDelete","key","data","result","stackDelete_default","stackGet","key","stackGet_default","stackHas","key","stackHas_default","freeGlobal","freeGlobal_default","freeSelf","root","freeGlobal_default","root_default","Symbol","root_default","Symbol_default","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","Symbol_default","getRawTag","value","isOwn","tag","unmasked","result","getRawTag_default","objectProto","nativeObjectToString","objectToString","value","objectToString_default","nullTag","undefinedTag","symToStringTag","Symbol_default","baseGetTag","value","getRawTag_default","objectToString_default","baseGetTag_default","isObject","value","type","isObject_default","asyncTag","funcTag","genTag","proxyTag","isFunction","value","isObject_default","tag","baseGetTag_default","isFunction_default","coreJsData","root_default","coreJsData_default","maskSrcKey","uid","coreJsData_default","isMasked","func","isMasked_default","funcProto","funcToString","toSource","func","toSource_default","reRegExpChar","reIsHostCtor","funcProto","objectProto","funcToString","hasOwnProperty","reIsNative","baseIsNative","value","isObject_default","isMasked_default","pattern","isFunction_default","toSource_default","baseIsNative_default","getValue","object","key","getValue_default","getNative","object","key","value","getValue_default","baseIsNative_default","getNative_default","Map","getNative_default","root_default","Map_default","nativeCreate","getNative_default","nativeCreate_default","hashClear","nativeCreate_default","hashClear_default","hashDelete","key","result","hashDelete_default","HASH_UNDEFINED","objectProto","hasOwnProperty","hashGet","key","data","nativeCreate_default","result","hashGet_default","objectProto","hasOwnProperty","hashHas","key","data","nativeCreate_default","hashHas_default","HASH_UNDEFINED","hashSet","key","value","data","nativeCreate_default","hashSet_default","Hash","entries","index","length","entry","hashClear_default","hashDelete_default","hashGet_default","hashHas_default","hashSet_default","Hash_default","mapCacheClear","Hash_default","Map_default","ListCache_default","mapCacheClear_default","isKeyable","value","type","isKeyable_default","getMapData","map","key","data","isKeyable_default","getMapData_default","mapCacheDelete","key","result","getMapData_default","mapCacheDelete_default","mapCacheGet","key","getMapData_default","mapCacheGet_default","mapCacheHas","key","getMapData_default","mapCacheHas_default","mapCacheSet","key","value","data","getMapData_default","size","mapCacheSet_default","MapCache","entries","index","length","entry","mapCacheClear_default","mapCacheDelete_default","mapCacheGet_default","mapCacheHas_default","mapCacheSet_default","MapCache_default","LARGE_ARRAY_SIZE","stackSet","key","value","data","ListCache_default","pairs","Map_default","MapCache_default","stackSet_default","Stack","entries","data","ListCache_default","stackClear_default","stackDelete_default","stackGet_default","stackHas_default","stackSet_default","Stack_default","HASH_UNDEFINED","setCacheAdd","value","setCacheAdd_default","setCacheHas","value","setCacheHas_default","SetCache","values","index","length","MapCache_default","setCacheAdd_default","setCacheHas_default","SetCache_default","arraySome","array","predicate","index","length","arraySome_default","cacheHas","cache","key","cacheHas_default","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","array","other","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","index","result","seen","SetCache_default","arrValue","othValue","compared","arraySome_default","othIndex","cacheHas_default","equalArrays_default","Uint8Array","root_default","Uint8Array_default","mapToArray","map","index","result","value","key","mapToArray_default","setToArray","set","index","result","value","setToArray_default","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","Symbol_default","symbolValueOf","equalByTag","object","other","tag","bitmask","customizer","equalFunc","stack","Uint8Array_default","eq_default","convert","mapToArray_default","isPartial","setToArray_default","stacked","result","equalArrays_default","equalByTag_default","arrayPush","array","values","index","length","offset","arrayPush_default","isArray","isArray_default","baseGetAllKeys","object","keysFunc","symbolsFunc","result","isArray_default","arrayPush_default","baseGetAllKeys_default","arrayFilter","array","predicate","index","length","resIndex","result","value","arrayFilter_default","stubArray","stubArray_default","objectProto","propertyIsEnumerable","nativeGetSymbols","getSymbols","object","arrayFilter_default","symbol","stubArray_default","getSymbols_default","baseTimes","n","iteratee","index","result","baseTimes_default","isObjectLike","value","isObjectLike_default","argsTag","baseIsArguments","value","isObjectLike_default","baseGetTag_default","baseIsArguments_default","objectProto","hasOwnProperty","propertyIsEnumerable","isArguments","baseIsArguments_default","value","isObjectLike_default","isArguments_default","stubFalse","stubFalse_default","freeExports","freeModule","moduleExports","Buffer","root_default","nativeIsBuffer","isBuffer","stubFalse_default","isBuffer_default","MAX_SAFE_INTEGER","reIsUint","isIndex","value","length","type","isIndex_default","MAX_SAFE_INTEGER","isLength","value","isLength_default","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","value","isObjectLike_default","isLength_default","baseGetTag_default","baseIsTypedArray_default","baseUnary","func","value","baseUnary_default","freeExports","freeModule","moduleExports","freeProcess","freeGlobal_default","nodeUtil","types","nodeUtil_default","nodeIsTypedArray","nodeUtil_default","isTypedArray","baseUnary_default","baseIsTypedArray_default","isTypedArray_default","objectProto","hasOwnProperty","arrayLikeKeys","value","inherited","isArr","isArray_default","isArg","isArguments_default","isBuff","isBuffer_default","isType","isTypedArray_default","skipIndexes","result","baseTimes_default","length","key","isIndex_default","arrayLikeKeys_default","objectProto","isPrototype","value","Ctor","proto","isPrototype_default","overArg","func","transform","arg","overArg_default","nativeKeys","overArg_default","nativeKeys_default","objectProto","hasOwnProperty","baseKeys","object","isPrototype_default","nativeKeys_default","result","key","baseKeys_default","isArrayLike","value","isLength_default","isFunction_default","isArrayLike_default","keys","object","isArrayLike_default","arrayLikeKeys_default","baseKeys_default","keys_default","getAllKeys","object","baseGetAllKeys_default","keys_default","getSymbols_default","getAllKeys_default","COMPARE_PARTIAL_FLAG","objectProto","hasOwnProperty","equalObjects","object","other","bitmask","customizer","equalFunc","stack","isPartial","objProps","getAllKeys_default","objLength","othProps","othLength","index","key","objStacked","othStacked","result","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects_default","DataView","getNative_default","root_default","DataView_default","Promise","getNative_default","root_default","Promise_default","Set","getNative_default","root_default","Set_default","WeakMap","getNative_default","root_default","WeakMap_default","mapTag","objectTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","toSource_default","DataView_default","mapCtorString","Map_default","promiseCtorString","Promise_default","setCtorString","Set_default","weakMapCtorString","WeakMap_default","getTag","baseGetTag_default","value","result","Ctor","ctorString","getTag_default","COMPARE_PARTIAL_FLAG","argsTag","arrayTag","objectTag","objectProto","hasOwnProperty","baseIsEqualDeep","object","other","bitmask","customizer","equalFunc","stack","objIsArr","isArray_default","othIsArr","objTag","getTag_default","othTag","objIsObj","othIsObj","isSameTag","isBuffer_default","Stack_default","isTypedArray_default","equalArrays_default","equalByTag_default","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects_default","baseIsEqualDeep_default","baseIsEqual","value","other","bitmask","customizer","stack","isObjectLike_default","baseIsEqualDeep_default","baseIsEqual_default","isEqual","value","other","baseIsEqual_default","isEqual_default","logManager","storePrefix","LogManager","getSpecs","specs","lm","singleton","debug","existing","cache","name","configured","state","merged","__spreadValues","enabled","win","window","constructor","StateManagerSession","updateSpecs","updatedSpecs","Object","keys","forEach","isEqual","add","allSpecs","allConfigured","mergeAllSpecs","mergedSpecs","key","startsWith","specsOfConfigured","stateCache","map","k","configure","toggle","cached","newConfig","classLog","owner","specs","pleaseUseClassLogEnabled","enabled","name","Object","keys","logSpecs","environment","production","mainSpecs","LogManager","getSpecs","ClassLoggerReal","ClassLoggerNoop","commonSpecs","all","constructor","logSpecs","all","constructor","init","initRoot","Context","parentContext","log","classLog","ready","a","id","parent","window","contextId","this","zoneId","_zoneId","#routeNum","keyZoneId","appId","_appId","keyAppId","tabId","$2sxc","env","page","contentBlockId","_contentBlockId","keyContentBlockId","moduleId","_moduleId","keyModuleId","route","l","fnIf","r","routeSnapshot","snapshot","#clearCachedValues","#sessionNumber","Error","name","result","sessionStorage","getItem","num","parseInt","isNaN","paramName","substring","prefix","length","paramMap","get","ÉµÉµinject","factory","Éµfac"],"x_google_ignoreList":[9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97]}
{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/content-type-fields/edit-content-type-fields/edit-content-type-fields.ts", "projects/eav-ui/src/app/content-type-fields/edit-content-type-fields/edit-content-type-fields.html"],
  "sourcesContent": ["import { NgClass } from '@angular/common';\r\nimport { AfterViewInit, Component, computed, ElementRef, HostBinding, linkedSignal, OnInit, QueryList, signal, untracked, ViewChild, ViewChildren } from '@angular/core';\r\nimport { FormsModule, NgForm } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialogActions, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { catchError, concatMap, filter, of, toArray } from 'rxjs';\r\nimport { transient } from '../../../../../core';\r\nimport { fieldNameError, fieldNamePattern } from '../../app-administration/constants/field-name.patterns';\r\nimport { ContentTypesService } from '../../app-administration/services/content-types.service';\r\nimport { isCtrlEnter } from '../../edit/dialog/main/keyboard-shortcuts';\r\nimport { BaseComponent } from '../../shared/components/base';\r\nimport { FieldHintComponent } from '../../shared/components/field-hint/field-hint';\r\nimport { ContentTypesFieldsService } from '../../shared/fields/content-types-fields.service';\r\nimport { DataTypeCatalog } from '../../shared/fields/data-type-catalog';\r\nimport { Field, FieldInputTypeOption } from '../../shared/fields/field.model';\r\nimport { InputTypeCatalog } from '../../shared/fields/input-type-catalog';\r\nimport { SaveCloseButtonFabComponent } from '../../shared/modules/save-close-button-fab/save-close-button-fab';\r\nimport { computedObj } from '../../shared/signals/signal.utilities';\r\nimport { calculateTypeIcon, calculateTypeLabel } from '../content-type-fields.helpers';\r\nimport { ReservedNamesValidatorDirective } from './reserved-names.directive';\r\n\r\ninterface Hints {\r\n  input: string;\r\n  data: string;\r\n}\r\n\r\ntype FieldSubset = Pick<Field, 'Id' | 'Type' | 'InputType' | 'StaticName' | 'IsTitle' | 'SortOrder'>;\r\n\r\n@Component({\r\n  selector: 'app-edit-content-type-fields',\r\n  templateUrl: './edit-content-type-fields.html',\r\n  styleUrls: ['./edit-content-type-fields.scss'],\r\n  imports: [\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    ReservedNamesValidatorDirective,\r\n    MatSelectModule,\r\n    MatIconModule,\r\n    MatOptionModule,\r\n    NgClass,\r\n    MatDialogActions,\r\n    MatButtonModule,\r\n    TranslateModule,\r\n    FieldHintComponent,\r\n    SaveCloseButtonFabComponent\r\n  ]\r\n})\r\nexport class EditContentTypeFieldsComponent extends BaseComponent implements AfterViewInit, OnInit {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n  @ViewChild('ngForm', { read: NgForm }) private ngForm: NgForm;\r\n  @ViewChildren('autoFocusInputField') autoFocusInputField!: QueryList<ElementRef>;\r\n  \r\n  protected formValid = signal(false);\r\n  protected canSave = computed(() => this.formValid() && !this.saving());\r\n\r\n  #typesSvc = transient(ContentTypesService);\r\n  #typesFieldsSvc = transient(ContentTypesFieldsService);\r\n\r\n  constructor(\r\n    protected dialog: MatDialogRef<EditContentTypeFieldsComponent>,\r\n    private route: ActivatedRoute,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n    super();\r\n    this.dialog.disableClose = true;\r\n    this.subscriptions.add(\r\n      this.dialog.backdropClick().subscribe(_ => {\r\n        if (this.ngForm?.dirty) {\r\n          const confirmed = confirm('You have unsaved changes. Are you sure you want to close this dialog?');\r\n          if (!confirmed) return;\r\n        }\r\n        this.closeDialog();\r\n      })\r\n    );\r\n  }\r\n\r\n  // External functions / constants to pass to the view\r\n  fieldNamePattern = fieldNamePattern;\r\n  fieldNameError = fieldNameError;\r\n  findIcon = calculateTypeIcon;\r\n  findLabel = calculateTypeLabel;\r\n\r\n  /** Edit mode is either not set (new fields) or edit-name / edit-inputType */\r\n  editMode = this.route.snapshot.paramMap.get('editMode') as 'name' | 'inputType';\r\n  filteredInputTypeOptions: FieldInputTypeOption[][] = [];\r\n  saving = signal(false);\r\n\r\n  /** Data types such as string, number, ... */\r\n  // dataTypes = this.#typesFieldsSvc.dataTypes();\r\n  dataTypes = this.#typesFieldsSvc.dataTypes().value;\r\n\r\n  #inputTypeOptions = this.#typesFieldsSvc.getInputTypes().value;\r\n\r\n  #contentTypeRouteName = this.#typesSvc.getType(this.route.snapshot.paramMap.get('contentTypeStaticName')).value;\r\n\r\n  #existingFieldsLazy = computed(() => {\r\n    const contentTypeRouteName = this.#contentTypeRouteName();\r\n    const data = untracked(() => {\r\n      return this.#typesFieldsSvc.getFieldsLive(signal(0), contentTypeRouteName?.NameId);\r\n    })\r\n    return data;\r\n  });\r\n\r\n\r\n  fields = (() => {\r\n    // Get the fields once the data is ready\r\n    const initial = computedObj('fields', () => {\r\n      const fields = this.#existingFieldsLazy()();\r\n      if (this.editMode != null) {\r\n        if (fields.length === 0) return [];\r\n        const routeId = this.route.snapshot.paramMap.get('id');\r\n        const editFieldId = routeId ? parseInt(routeId, 10) : null;\r\n        const editField = fields.find(field => field.Id === editFieldId);\r\n        return [editField];\r\n      } else\r\n        return this.#generateNewList(fields.length);\r\n    });\r\n\r\n    return linkedSignal({\r\n      source: initial,\r\n      computation: fields => fields,\r\n    });\r\n  })();\r\n\r\n  // Figure out the reserved names which should not be used as field names\r\n  #reservedNamesSystem = this.#typesFieldsSvc.getReservedNames().value;\r\n\r\n  reservedNames = computedObj('reservedNamesAll', () => {\r\n    // setup watchers\r\n    const fields = this.#existingFieldsLazy()();\r\n    const reservedNames = this.#reservedNamesSystem();\r\n    if (fields.length === 0)\r\n      return reservedNames;\r\n    const merged = ReservedNamesValidatorDirective.mergeReserved(reservedNames, fields);\r\n\r\n    // If we're about to rename, allow the current name to be reused\r\n    if (this.editMode === 'name')\r\n      delete merged[fields[0].StaticName];\r\n    return merged;\r\n  });\r\n\r\n  ngAfterViewInit(): void {\r\n    // Only run form logic if fields are loaded and form is rendered\r\n    if (this.fields().length && this.ngForm) {\r\n      this.formValid.set(this.ngForm?.form.valid ?? false);\r\n      this.ngForm?.form.statusChanges.subscribe(() => {\r\n        this.formValid.set(this.ngForm?.form.valid ?? false);\r\n      });\r\n    } else {\r\n      // Retry after a short delay if not ready\r\n      setTimeout(() => this.ngAfterViewInit(), 250);\r\n      return;\r\n    }\r\n    // Wait for the inputFields to be available\r\n    // But delay execution to ensure the view is fully rendered\r\n    if (this.autoFocusInputField)\r\n      setTimeout(() => this.autoFocusInputField.first?.nativeElement?.focus(), 250);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.#watchKeyboardShortcuts();\r\n\r\n  //   setTimeout(() => {\r\n  //     console.log(this.#contentTypeRouteName()?.NameId)\r\n\r\n  //   }, 110); // Force change detection to ensure the view is ready\r\n  //   this.#typesFieldsSvc.getFieldsPromise(this.#contentTypeRouteName()?.NameId).then(fields => {\r\n  //     console.log('Fields loaded', fields);\r\n  //     this.#existingFieldsLazy.set(fields);\r\n  //   })\r\n  }\r\n\r\n  #generateNewList(existingFieldCount: number): FieldSubset[] {\r\n    return [...Array(8).keys()].map(k => ({\r\n      Id: 0,\r\n      Type: DataTypeCatalog.String,\r\n      InputType: InputTypeCatalog.StringDefault,\r\n      StaticName: '',\r\n      // first one is title, if there were no fields before\r\n      IsTitle: existingFieldCount === 0 && k === 0,\r\n      SortOrder: existingFieldCount + k + 1,\r\n    } satisfies FieldSubset));\r\n  }\r\n\r\n  /** 2D array of all possible options (by field index) */\r\n  inputTypeOptions = computedObj('inputTypeOptions', () => {\r\n    const all = this.#inputTypeOptions();\r\n    const fields = this.fields();\r\n    return fields.map((field, i) => {\r\n      return all.filter(option => option.dataType === field.Type.toLocaleLowerCase());\r\n    });\r\n  });\r\n\r\n  updateFieldPart(index: number, patch: Partial<Field>) {\r\n    this.fields.update(fields => [...fields].map((f, i) => (i !== index) ? f : ({ ...f, ...patch })));\r\n  }\r\n\r\n  setFieldType(index: number, type: string) {\r\n    // First update the field, as we'll access this again indirectly through other signals\r\n    this.updateFieldPart(index, { Type: type });\r\n\r\n    // Check if it has a xxx-default like string-default in the list\r\n    const defaultInputName = type.toLocaleLowerCase() + InputTypeCatalog.DefaultSuffix;\r\n    const options = this.inputTypeOptions()[index];\r\n    const inputName = options.find(option => option.inputType === defaultInputName)?.inputType\r\n      ?? options[0].inputType;\r\n    this.updateFieldPart(index, { InputType: inputName });\r\n  }\r\n\r\n  hints = computedObj('hints', () => {\r\n    const fields = this.fields();\r\n    return fields.map((field, i) => {\r\n      const dataType = this.dataTypes().find(dataType => dataType.name === field.Type);\r\n      const inputType = this.#inputTypeOptions().find(option => option.inputType === field.InputType);\r\n      return {\r\n        data: dataType?.description ?? '',\r\n        input: inputType?.isObsolete\r\n          ? `OBSOLETE - ${inputType.obsoleteMessage}`\r\n          : inputType?.description ?? '',\r\n      } satisfies Hints;\r\n    });\r\n  });\r\n\r\n  getInputTypeOption(inputName: string) {\r\n    return this.#inputTypeOptions().find(option => option.inputType === inputName);\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  saveAndClose() {\r\n    this.saving.set(true);\r\n    this.snackBar.open('Saving...');\r\n\r\n    // Prepare finalize-action to reuse below\r\n    const doneAndClose = () => {\r\n      this.saving.set(false);\r\n      this.snackBar.open('Saved', null, { duration: 2000 });\r\n      this.closeDialog();\r\n    }\r\n\r\n    if (this.editMode != null) {\r\n      const field = this.fields()[0];\r\n      if (this.editMode === 'name') {\r\n        this.#typesFieldsSvc\r\n          .rename(field.Id, this.#contentTypeRouteName().Id, field.StaticName)\r\n          .subscribe(() => doneAndClose());\r\n      } else if (this.editMode === 'inputType') {\r\n        this.#typesFieldsSvc\r\n          .updateInputType(field.Id, field.StaticName, field.InputType)\r\n          .subscribe(() => doneAndClose());\r\n      }\r\n    } else {\r\n      of(...this.fields())\r\n        .pipe(\r\n          filter(field => !!field.StaticName),\r\n          concatMap(field =>\r\n            this.#typesFieldsSvc.add(field, this.#contentTypeRouteName().Id).pipe(catchError(_ => of(null)))\r\n          ),\r\n          toArray(),\r\n        )\r\n        .subscribe(() => doneAndClose());\r\n    }\r\n  }\r\n\r\n  #watchKeyboardShortcuts(): void {\r\n    this.dialog.keydownEvents().subscribe(event => {\r\n      if (isCtrlEnter(event) && this.canSave()) {\r\n        event.preventDefault();\r\n        this.saveAndClose();\r\n      }\r\n    });\r\n  }\r\n}", "<div class=\"eav-dialog eav-no-scrollbar\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">\r\n      @if (editMode === undefined) {\r\n        Fields\r\n      }\r\n      @if (editMode === null) {\r\n        Add Fields\r\n      }\r\n      @if (editMode != null) {\r\n        Edit Field\r\n      }\r\n    </div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  @if (fields()?.length) {\r\n    <form #ngForm=\"ngForm\" (ngSubmit)=\"saveAndClose()\">\r\n      <div class=\"eav-dialog-content\">\r\n        @for (field of fields(); track field.SortOrder; let i = $index) {\r\n          <div class=\"eav-row-container\">\r\n            <div class=\"eav-edit-input\">\r\n              <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n                <mat-label>Name</mat-label>\r\n                <input\r\n                  matInput\r\n                  [pattern]=\"fieldNamePattern\"\r\n                  [appReservedNames]=\"reservedNames()\"\r\n                  [(ngModel)]=\"field.StaticName\"\r\n                  [name]=\"'StaticName' + i\"\r\n                  #staticName=\"ngModel\"\r\n                  [disabled]=\"editMode === 'inputType'\"\r\n                  #autoFocusInputField\r\n                />\r\n              </mat-form-field>\r\n              @if (staticName.touched && staticName.errors) {\r\n                @if (staticName.errors.pattern) {\r\n                  <app-field-hint [isError]=\"true\">{{ fieldNameError }}</app-field-hint>\r\n                }\r\n                @if (staticName.errors.reservedNames) {\r\n                  <app-field-hint [isError]=\"true\">\r\n                    {{ staticName.errors.reservedNames }}\r\n                  </app-field-hint>\r\n                }\r\n              }\r\n            </div>\r\n            <div class=\"eav-edit-input\">\r\n              <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n                <mat-label>Data Type</mat-label>\r\n                <mat-select\r\n                  (selectionChange)=\"setFieldType(i, $event.value)\"\r\n                  [ngModel]=\"field.Type\"\r\n                  [name]=\"'Type' + i\"\r\n                  [disabled]=\"editMode != null\"\r\n                  panelClass=\"eav-type-field-type-select\"\r\n                  panelWidth=\"\"\r\n                >\r\n                  <mat-select-trigger>\r\n                    <mat-icon class=\"eav-type-icon\">{{ findIcon(field.Type) }}</mat-icon>\r\n                    <span>{{ findLabel(field.Type) }}</span>\r\n                  </mat-select-trigger>\r\n                  @for (dataType of dataTypes(); track dataType) {\r\n                    <mat-option [value]=\"dataType.name\">\r\n                      {{ dataType.label }}\r\n                      <!-- Icon must come last; Angular will put it first. Otherwise we can't type the name of the label to quickly find an entry -->\r\n                      <mat-icon class=\"eav-type-icon\">{{ dataType.icon }}</mat-icon>\r\n                    </mat-option>\r\n                  }\r\n                </mat-select>\r\n              </mat-form-field>\r\n              <app-field-hint>{{ hints()[i].data }}</app-field-hint>\r\n            </div>\r\n            <div class=\"eav-edit-input\">\r\n              <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n                <mat-label>Input Type</mat-label>\r\n                <mat-select\r\n                  (selectionChange)=\"updateFieldPart(i, { InputType: $event.value })\"\r\n                  [ngModel]=\"field.InputType\"\r\n                  [name]=\"'InputType' + i\"\r\n                  [disabled]=\"editMode === 'name'\"\r\n                  panelClass=\"eav-type-field-input-type-select\"\r\n                  panelWidth=\"\"\r\n                >\r\n                  <mat-select-trigger>\r\n                    <span>{{ getInputTypeOption(field.InputType)?.label }}</span>\r\n                    <mat-icon class=\"eav-input-icon\">{{ getInputTypeOption(field.InputType)?.icon }}</mat-icon>\r\n                  </mat-select-trigger>\r\n                  @for (option of inputTypeOptions()[i]; track option) {\r\n                    <mat-option [value]=\"option.inputType\" [ngClass]=\"{ 'eav-input-obsolete': option.isObsolete }\">\r\n                      {{ option.label }}\r\n                      @if (option.icon) {\r\n                        <!-- span is needed here because <mat-option> by default puts mat-icon to the beginning -->\r\n                        <span>\r\n                          <mat-icon class=\"eav-input-icon\">{{ option.icon }}</mat-icon>\r\n                        </span>\r\n                      }\r\n                    </mat-option>\r\n                  }\r\n                </mat-select>\r\n              </mat-form-field>\r\n              <app-field-hint>{{ hints()[i].input }}</app-field-hint>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n      <!-- Save / cancel buttons -->\r\n      <mat-dialog-actions align=\"end\">\r\n        <app-save-close-button-fab\r\n          [triggerOnFormSubmit]=\"true\"\r\n          [ngClass]=\"!canSave() ? 'disabled' : ''\"\r\n          [disabled]=\"!canSave()\"\r\n          (action)=\"saveAndClose()\"\r\n        />\r\n      </mat-dialog-actions>\r\n    </form>\r\n  }\r\n</div>"],
  "mappings": "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",
  "names": ["\u0275\u0275text", "\u0275\u0275elementStart", "\u0275\u0275elementEnd", "\u0275\u0275property", "\u0275\u0275advance", "\u0275\u0275textInterpolate", "ctx_r1", "fieldNameError", "\u0275\u0275textInterpolate1", "staticName_r5", "errors", "reservedNames", "\u0275\u0275conditionalCreate", "EditContentTypeFieldsComponent_Conditional_9_For_4_Conditional_8_Conditional_0_Template", "EditContentTypeFieldsComponent_Conditional_9_For_4_Conditional_8_Conditional_1_Template", "\u0275\u0275conditional", "pattern", "dataType_r7", "name", "label", "icon", "option_r8", "EditContentTypeFieldsComponent_Conditional_9_For_4_For_34_Conditional_2_Template", "inputType", "\u0275\u0275pureFunction1", "_c2", "isObsolete", "\u0275\u0275twoWayListener", "$event", "field_r4", "\u0275\u0275restoreView", "_r3", "$implicit", "i0", "\u0275\u0275twoWayBindingSet", "StaticName", "\u0275\u0275resetView", "EditContentTypeFieldsComponent_Conditional_9_For_4_Conditional_8_Template", "\u0275\u0275listener", "\u0275$index_23_r6", "$index", "\u0275\u0275nextContext", "setFieldType", "value", "\u0275\u0275repeaterCreate", "EditContentTypeFieldsComponent_Conditional_9_For_4_For_20_Template", "\u0275\u0275repeaterTrackByIdentity", "updateFieldPart", "InputType", "EditContentTypeFieldsComponent_Conditional_9_For_4_For_34_Template", "fieldNamePattern", "\u0275\u0275twoWayProperty", "editMode", "touched", "Type", "findIcon", "findLabel", "\u0275\u0275repeater", "dataTypes", "hints", "data", "tmp_31_0", "getInputTypeOption", "tmp_32_0", "inputTypeOptions", "input", "_r1", "saveAndClose", "EditContentTypeFieldsComponent_Conditional_9_For_4_Template", "_forTrack0", "fields", "canSave", "EditContentTypeFieldsComponent", "BaseComponent", "#typesSvc", "#typesFieldsSvc", "constructor", "dialog", "route", "snackBar", "hostClass", "formValid", "signal", "computed", "saving", "transient", "ContentTypesService", "ContentTypesFieldsService", "calculateTypeIcon", "calculateTypeLabel", "snapshot", "paramMap", "get", "filteredInputTypeOptions", "#inputTypeOptions", "getInputTypes", "#contentTypeRouteName", "getType", "#existingFieldsLazy", "contentTypeRouteName", "untracked", "getFieldsLive", "NameId", "initial", "computedObj", "length", "routeId", "editFieldId", "parseInt", "find", "field", "Id", "#generateNewList", "linkedSignal", "source", "computation", "#reservedNamesSystem", "getReservedNames", "merged", "ReservedNamesValidatorDirective", "mergeReserved", "all", "map", "i", "filter", "option", "dataType", "toLocaleLowerCase", "description", "obsoleteMessage", "disableClose", "subscriptions", "add", "backdropClick", "subscribe", "_", "ngForm", "dirty", "confirm", "closeDialog", "ngAfterViewInit", "set", "form", "valid", "statusChanges", "setTimeout", "autoFocusInputField", "first", "nativeElement", "focus", "ngOnInit", "#watchKeyboardShortcuts", "existingFieldCount", "Array", "keys", "k", "DataTypeCatalog", "String", "InputTypeCatalog", "StringDefault", "IsTitle", "SortOrder", "index", "patch", "update", "f", "__spreadValues", "type", "defaultInputName", "DefaultSuffix", "options", "inputName", "close", "open", "doneAndClose", "duration", "rename", "updateInputType", "of", "pipe", "concatMap", "catchError", "toArray", "keydownEvents", "event", "isCtrlEnter", "preventDefault", "\u0275\u0275directiveInject", "MatDialogRef", "ActivatedRoute", "MatSnackBar", "selectors", "viewQuery", "rf", "ctx", "NgForm", "_c1", "\u0275\u0275domProperty", "EditContentTypeFieldsComponent_Conditional_3_Template", "EditContentTypeFieldsComponent_Conditional_4_Template", "EditContentTypeFieldsComponent_Conditional_5_Template", "EditContentTypeFieldsComponent_Conditional_9_Template", "undefined", "tmp_3_0", "FormsModule", "\u0275NgNoValidate", "DefaultValueAccessor", "NgControlStatus", "NgControlStatusGroup", "PatternValidator", "NgModel", "MatFormFieldModule", "MatFormField", "MatLabel", "MatInputModule", "MatInput", "MatSelectModule", "MatSelect", "MatSelectTrigger", "MatOption", "MatIconModule", "MatIcon", "MatOptionModule", "NgClass", "MatDialogActions", "MatButtonModule", "MatIconButton", "TranslateModule", "FieldHintComponent", "SaveCloseButtonFabComponent", "styles"]
}

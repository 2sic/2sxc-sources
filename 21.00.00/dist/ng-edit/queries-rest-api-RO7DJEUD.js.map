{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/app-administration/queries-rest-api/queries-rest-api.ts", "projects/eav-ui/src/app/app-administration/queries-rest-api/queries-rest-api.html"],
  "sourcesContent": ["import { Component, computed, effect, inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { transient } from '../../../../../core';\r\nimport { RestApiHelpTextComponent } from '../../shared/components/rest-api-help-text/rest-api-help-text';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { classLog } from '../../shared/logging';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { Query } from '../models';\r\nimport { PipelinesService } from '../services';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  queryTypes: true,\r\n};\r\n\r\n@Component({\r\n    selector: 'app-web-api-rest-api',\r\n    imports: [\r\n        MatSelectModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatIconModule,\r\n        ReactiveFormsModule,\r\n        RouterOutlet,\r\n        SxcGridModule,\r\n        RestApiHelpTextComponent,\r\n    ],\r\n    templateUrl: './queries-rest-api.html'\r\n})\r\nexport class QueriesRestApiComponent {\r\n  log = classLog({ QueriesRestApiComponent }, logSpecs);\r\n\r\n  #pipelinesSvc = transient(PipelinesService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  #formBuilder = inject(FormBuilder);\r\n\r\n  constructor() {\r\n    // Update form if the url changes and the item is found\r\n    effect(() => {\r\n      const queryTypes = this.queryTypes();\r\n      if (queryTypes.length === 0)\r\n        return;\r\n      const urlGuidName = this.#dialogRouter.urlSegments.at(-1);\r\n      const selectedContentType = queryTypes.find(q => q.Guid === urlGuidName);\r\n      if (selectedContentType)\r\n        this.queryTypeForm.get('queryType').setValue(selectedContentType.Guid);\r\n    });\r\n  }\r\n\r\n  #getAllQueryTypes = this.#pipelinesSvc.getAllRes(eavConstants.contentTypes.query, []);\r\n\r\n  queryTypes = computed<Query[]>(() => {\r\n    const l = this.log.fnIf('queryTypes');\r\n    const queries = this.#getAllQueryTypes.value();\r\n    return l.r(queries || []);\r\n  }, { });\r\n\r\n  queryTypeForm: FormGroup = this.#formBuilder.group({\r\n    queryType: ['']\r\n  });\r\n\r\n  openRestApi(event: string): void {\r\n    if (!event) return;\r\n    this.#dialogRouter.navRelative([`${event}`]);\r\n  }\r\n}\r\n", "\r\n<form [formGroup]=\"queryTypeForm\">\r\n  <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n    <mat-label>Query</mat-label>\r\n    <mat-select formControlName=\"queryType\" (valueChange)=\"openRestApi($event)\">\r\n      @if (queryTypes()) {\r\n        @for (contentType of queryTypes().sort(); track contentType) {\r\n        <mat-option [value]=\"contentType.Guid\">\r\n          {{ contentType.Name }}\r\n        </mat-option>\r\n        }\r\n      }\r\n    </mat-select>\r\n  </mat-form-field>\r\n</form>\r\n\r\n@if(!queryTypeForm.get('queryType')?.value) {\r\n  <app-rest-api-help-text [apiTitle]=\"'Query'\"></app-rest-api-help-text>\r\n}\r\n\r\n<router-outlet></router-outlet>\r\n"],
  "mappings": "2tDCOQA,EAAA,EAAA,aAAA,CAAA,EACEC,EAAA,CAAA,EACFC,EAAA,0BAFYC,EAAA,QAAAC,EAAAC,IAAA,EACVC,EAAA,EAAAC,EAAA,IAAAH,EAAAI,KAAA,GAAA,2BAFFC,EAAA,EAAAC,EAAA,EAAA,EAAA,aAAA,EAAAC,CAAA,iBAAAC,EAAAC,EAAAC,WAAA,EAAYC,KAAA,CAAO,wBAWzBC,EAAA,EAAA,yBAAA,CAAA,OAAwBb,EAAA,WAAA,OAAA,EDD1B,IAAMc,EAAW,CACfC,IAAK,GACLJ,WAAY,IAiBDK,IAAuB,IAAA,CAA9B,MAAOA,CAAuB,CAGlCC,GACAC,GAEAC,GAEAC,aAAA,CAPA,KAAAC,IAAMC,EAAS,CAAEN,wBAAAA,CAAuB,EAAIF,CAAQ,EAEpD,KAAAG,GAAgBM,EAAUC,CAAgB,EAC1C,KAAAN,GAAgBK,EAAUE,CAAoB,EAE9C,KAAAN,GAAeO,EAAOC,CAAW,EAejC,KAAAC,GAAoB,KAAKX,GAAcY,UAAUC,EAAaC,aAAaC,MAAO,CAAA,CAAE,EAEpF,KAAArB,WAAasB,EAAkB,IAAK,CAClC,IAAMC,EAAI,KAAKb,IAAIc,KAAK,YAAY,EAC9BC,EAAU,KAAKR,GAAkBS,MAAK,EAC5C,OAAOH,EAAEI,EAAEF,GAAW,CAAA,CAAE,CAC1B,EAAC,CAAA,CAAA,EAED,KAAAG,cAA2B,KAAKpB,GAAaqB,MAAM,CACjDC,UAAW,CAAC,EAAE,EACf,EArBCC,EAAO,IAAK,CACV,IAAM/B,EAAa,KAAKA,WAAU,EAClC,GAAIA,EAAWgC,SAAW,EACxB,OACF,IAAMC,EAAc,KAAK1B,GAAc2B,YAAYC,GAAG,EAAE,EAClDC,EAAsBpC,EAAWqC,KAAKC,GAAKA,EAAE/C,OAAS0C,CAAW,EACnEG,GACF,KAAKR,cAAcW,IAAI,WAAW,EAAEC,SAASJ,EAAoB7C,IAAI,CACzE,CAAC,CACH,CAEA0B,GAYAwB,YAAYC,EAAa,CAClBA,GACL,KAAKnC,GAAcoC,YAAY,CAAC,GAAGD,CAAK,EAAE,CAAC,CAC7C,iDApCWrC,EAAuB,CAAA,+BAAvBA,EAAuBuC,UAAA,CAAA,CAAA,sBAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,WAAA,EAAA,CAAA,QAAA,SAAA,EAAA,oBAAA,EAAA,CAAA,kBAAA,YAAA,EAAA,aAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,IAAAD,EAAA,IClCpC/D,EAAA,EAAA,OAAA,CAAA,EAAkC,EAAA,iBAAA,CAAA,EAC0B,EAAA,WAAA,EAC7CC,EAAA,EAAA,OAAA,EAAKC,EAAA,EAChBF,EAAA,EAAA,aAAA,CAAA,EAAwCiE,EAAA,cAAA,SAAAC,EAAA,CAAA,OAAeF,EAAAT,YAAAW,CAAA,CAAmB,CAAA,EACxEC,EAAA,EAAAC,EAAA,EAAA,CAAA,EAOFlE,EAAA,EAAa,EACE,EAGnBiE,EAAA,EAAAE,EAAA,EAAA,EAAA,yBAAA,CAAA,EAIArD,EAAA,EAAA,eAAA,cAnBMb,EAAA,YAAA6D,EAAAtB,aAAA,EAIApC,EAAA,CAAA,EAAAgE,EAAAN,EAAAlD,WAAA,EAAA,EAAA,EAAA,EAWNR,EAAA,EAAAgE,GAAAC,EAAAP,EAAAtB,cAAAW,IAAA,WAAA,IAAA,MAAAkB,EAAA/B,MAAA,GAAA,CAAA,kBDQQgC,EAAeC,EAAAC,EAAAC,EAAAC,EACfC,EACAC,EACAC,EACAC,EAAmBC,EAAAC,EAAAC,EAAAC,EAAAC,EACnBC,EACAC,EACAC,CAAwB,EAAAC,cAAA,CAAA,CAAA,CAAA,SAInBtE,CAAuB,GAAA",
  "names": ["\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275property", "contentType_r1", "Guid", "\u0275\u0275advance", "\u0275\u0275textInterpolate1", "Name", "\u0275\u0275repeaterCreate", "QueriesRestApiComponent_Conditional_5_For_1_Template", "\u0275\u0275repeaterTrackByIdentity", "\u0275\u0275repeater", "ctx_r1", "queryTypes", "sort", "\u0275\u0275element", "logSpecs", "all", "QueriesRestApiComponent", "#pipelinesSvc", "#dialogRouter", "#formBuilder", "constructor", "log", "classLog", "transient", "PipelinesService", "DialogRoutingService", "inject", "FormBuilder", "#getAllQueryTypes", "getAllRes", "eavConstants", "contentTypes", "query", "computed", "l", "fnIf", "queries", "value", "r", "queryTypeForm", "group", "queryType", "effect", "length", "urlGuidName", "urlSegments", "at", "selectedContentType", "find", "q", "get", "setValue", "openRestApi", "event", "navRelative", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275listener", "$event", "\u0275\u0275conditionalCreate", "QueriesRestApiComponent_Conditional_5_Template", "QueriesRestApiComponent_Conditional_6_Template", "\u0275\u0275conditional", "tmp_2_0", "MatSelectModule", "MatFormField", "MatLabel", "MatSelect", "MatOption", "MatButtonModule", "MatCardModule", "MatIconModule", "ReactiveFormsModule", "\u0275NgNoValidate", "NgControlStatus", "NgControlStatusGroup", "FormGroupDirective", "FormControlName", "RouterOutlet", "SxcGridModule", "RestApiHelpTextComponent", "encapsulation"]
}

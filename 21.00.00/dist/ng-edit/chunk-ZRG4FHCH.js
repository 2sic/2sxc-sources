import{a as wt}from"./chunk-V7RAQGUV.js";import{a as bt,c as Ct,d as xt}from"./chunk-HW433KCS.js";import{a as yt}from"./chunk-GLFISIX2.js";import{a as ft}from"./chunk-AAMPB3UT.js";import{a as dt,b as ht}from"./chunk-E2PCXKCE.js";import{a as rt,b as st}from"./chunk-BKBBHERO.js";import{a as Ri,b as Ti}from"./chunk-T7AKPKMZ.js";import{c as pt}from"./chunk-SCB2MVKQ.js";import{a as ct}from"./chunk-4SMJHLGZ.js";import{a as mt,b as ut,d as _t,e as gt,f as vt}from"./chunk-HYUOS4CI.js";import{c as lt}from"./chunk-DAEXUMJT.js";import{c as Wi}from"./chunk-HCPBPEHV.js";import{b as Ni,d as qi,e as ii,f as Gi,g as Qi,h as Ki,l as Ui}from"./chunk-QVLOO535.js";import{c as ot}from"./chunk-XREQECMQ.js";import{a as nt}from"./chunk-RPJBZPSB.js";import{d as Xi,f as it,k as tt,t as et,v as at}from"./chunk-UMOPET3G.js";import{j as ji}from"./chunk-4LV77BQU.js";import{b as Bi,c as Li}from"./chunk-23CS2WID.js";import{a as N}from"./chunk-OIHIMR2W.js";import{b as $i,c as Zi,g as Ji,h as Yi}from"./chunk-G33ZJSCE.js";import{ca as Oi}from"./chunk-DX662RXJ.js";import{D as zi,G as Hi,g as Di,h as Fi,i as Ai,j as X,k as Pi,u as Vi}from"./chunk-XASILSQS.js";import{$b as gi,Aa as C,Ab as U,Ac as wi,B as ei,Bb as W,Cb as b,Cd as Mi,Db as o,E as q,Ea as si,Eb as r,F as G,Fb as x,Ga as V,Gb as mi,Gc as Ii,Ha as li,Hb as ui,Jc as Ei,M as L,Nb as k,Ob as _i,Pa as di,Pb as _,Qa as hi,Rb as h,Sa as s,Sb as $,Tb as T,Tc as J,Ub as Z,Vb as j,Wb as g,Wc as S,X as O,Xb as v,Xc as Y,Y as ai,Z as F,Za as z,bc as M,db as A,dc as vi,eb as pi,ec as l,f as B,fa as ni,fb as K,fc as P,gc as w,ha as E,ib as H,ja as p,lc as fi,mc as yi,md as ki,nc as bi,nd as Si,oa as f,pa as y,rc as Ci,sa as oi,ta as ci,ub as R,wa as Q,wb as m,xa as ri,yb as u,zc as xi}from"./chunk-46QINP2S.js";var Pt=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Bt=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Lt(a,d){a&1&&(o(0,"span",3),T(1,1),r())}function Ot(a,d){a&1&&(o(0,"span",6),T(1,2),r())}var Vt=["*"];var zt=new E("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),It=new E("MatChipAvatar"),Et=new E("MatChipTrailingIcon"),kt=new E("MatChipEdit"),St=new E("MatChipRemove"),Dt=new E("MatChip"),Ft=(()=>{class a{_elementRef=p(V);_parentChip=p(Dt);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(i){this._disabled=i}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){p(X).load(ii),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(e){return new(e||a)};static \u0275dir=K({type:a,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(e,t){e&2&&(R("disabled",t._getDisabledAttribute())("aria-disabled",t.disabled),M("mdc-evolution-chip__action--primary",t._isPrimary)("mdc-evolution-chip__action--secondary",!t._isPrimary)("mdc-evolution-chip__action--trailing",!t._isPrimary&&!t._isLeading))},inputs:{disabled:[2,"disabled","disabled",S],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?-1:Y(i)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return a})(),Ht=(()=>{class a extends Ft{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(i){!this.disabled&&this._isPrimary&&(i.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(i.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let i;return function(t){return(i||(i=si(a)))(t||a)}})();static \u0275dir=K({type:a,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(e,t){e&1&&_("click",function(c){return t._handleClick(c)})("keydown",function(c){return t._handleKeydown(c)}),e&2&&(R("tabindex",t._getTabindex()),M("mdc-evolution-chip__action--presentational",!1))},features:[H]})}return a})();var ti=(()=>{class a{_changeDetectorRef=p(J);_elementRef=p(V);_tagName=p(Ei);_ngZone=p(ri);_focusMonitor=p(Vi);_globalRippleOptions=p(Ni,{optional:!0});_document=p(ci);_onFocus=new B;_onBlur=new B;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=Di();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=p(zi).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(i){this._value=i}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(i){this._disabled=i}_disabled=!1;removed=new Q;destroyed=new Q;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=p(qi);_injector=p(oi);constructor(){let i=p(X);i.load(ii),i.load(Pi),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=q(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(i){(i.keyCode===8&&!i.repeat||i.keyCode===46)&&(i.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(i){return this._getActions().find(e=>{let t=e._elementRef.nativeElement;return t===i||t.contains(i)})}_getActions(){let i=[];return this.editIcon&&i.push(this.editIcon),this.primaryAction&&i.push(this.primaryAction),this.removeIcon&&i.push(this.removeIcon),i}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(i){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{let e=i!==null;e!==this._hasFocusInternal&&(this._hasFocusInternal=e,e?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=A({type:a,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,n){if(e&1&&Z(n,It,5)(n,kt,5)(n,Et,5)(n,St,5)(n,It,5)(n,Et,5)(n,kt,5)(n,St,5),e&2){let c;g(c=v())&&(t.leadingIcon=c.first),g(c=v())&&(t.editIcon=c.first),g(c=v())&&(t.trailingIcon=c.first),g(c=v())&&(t.removeIcon=c.first),g(c=v())&&(t._allLeadingIcons=c),g(c=v())&&(t._allTrailingIcons=c),g(c=v())&&(t._allEditIcons=c),g(c=v())&&(t._allRemoveIcons=c)}},viewQuery:function(e,t){if(e&1&&j(Ht,5),e&2){let n;g(n=v())&&(t.primaryAction=n.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(e,t){e&1&&_("keydown",function(c){return t._handleKeydown(c)}),e&2&&(_i("id",t.id),R("role",t.role)("aria-label",t.ariaLabel),vi("mat-"+(t.color||"primary")),M("mdc-evolution-chip",!t._isBasicChip)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-basic-chip",t._isBasicChip)("mat-mdc-standard-chip",!t._isBasicChip)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon())("_mat-animation-noopable",t._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",S],highlighted:[2,"highlighted","highlighted",S],disableRipple:[2,"disableRipple","disableRipple",S],disabled:[2,"disabled","disabled",S]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Ci([{provide:Dt,useExisting:a}])],ngContentSelectors:Bt,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,t){e&1&&($(Pt),x(0,"span",0),o(1,"span",1)(2,"span",2),m(3,Lt,2,0,"span",3),o(4,"span",4),T(5),x(6,"span",5),r()()(),m(7,Ot,2,0,"span",6)),e&2&&(s(3),u(t.leadingIcon?3:-1),s(4),u(t._hasTrailingIcon()?7:-1))},dependencies:[Ft],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus-visible .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`],encapsulation:2,changeDetection:0})}return a})();var At=(()=>{class a{_elementRef=p(V);_changeDetectorRef=p(J);_dir=p(Fi,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new B;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(i=>i._onFocus)}get chipDestroyedChanges(){return this._getChipStream(i=>i.destroyed)}get chipRemovedChanges(){return this._getChipStream(i=>i.removed)}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(i){this._explicitRole=i}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new li;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(i=>i._hasFocus())}_syncChipsState(){this._chips?.forEach(i=>{i._chipListDisabled=this._disabled,i._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(i){this._originatesFromChip(i)&&this._keyManager.onKeydown(i)}_isValidIndex(i){return i>=0&&i<this._chips.length}_allowFocusEscape(){let i=this._elementRef.nativeElement.tabIndex;i!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=i))}_getChipStream(i){return this._chips.changes.pipe(O(null),ai(()=>q(...this._chips.map(i))))}_originatesFromChip(i){let e=i.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-mdc-chip"))return!0;e=e.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(O(this._chips)).subscribe(i=>{let e=[];i.forEach(t=>t._getActions().forEach(n=>e.push(n))),this._chipActions.reset(e),this._chipActions.notifyOnChanges()}),this._keyManager=new Hi(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(i=>this._skipPredicate(i)),this.chipFocusChanges.pipe(F(this._destroyed)).subscribe(({chip:i})=>{let e=i._getSourceAction(document.activeElement);e&&this._keyManager.updateActiveItem(e)}),this._dir?.change.pipe(F(this._destroyed)).subscribe(i=>this._keyManager.withHorizontalOrientation(i))}_skipPredicate(i){return i.disabled}_trackChipSetChanges(){this._chips.changes.pipe(O(null),F(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(F(this._destroyed)).subscribe(i=>{let t=this._chips.toArray().indexOf(i.chip),n=i.chip._hasFocus(),c=i.chip._hadFocusOnRemove&&this._keyManager.activeItem&&i.chip._getActions().includes(this._keyManager.activeItem),I=n||c;this._isValidIndex(t)&&I&&(this._lastDestroyedFocusedChipIndex=t)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let i=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),e=this._chips.toArray()[i];e.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():e.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=A({type:a,selectors:[["mat-chip-set"]],contentQueries:function(e,t,n){if(e&1&&Z(n,ti,5),e&2){let c;g(c=v())&&(t._chips=c)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,t){e&1&&_("keydown",function(c){return t._handleKeydown(c)}),e&2&&R("role",t.role)},inputs:{disabled:[2,"disabled","disabled",S],role:"role",tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Y(i)]},ngContentSelectors:Vt,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,t){e&1&&($(),mi(0,"div",0),T(1),ui())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return a})();var Rt=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=pi({type:a});static \u0275inj=ni({providers:[nt,{provide:zt,useValue:{separatorKeyCodes:[13]}}],imports:[Qi,Ai]})}return a})();var Nt=["installerWindow"],qt=(a,d)=>d.key,Gt=(a,d)=>d.edition;function Qt(a,d){if(a&1){let i=k();o(0,"p"),l(1),r(),o(2,"p"),l(3,"Drag and drop files here or click to select"),r(),o(4,"input",15,0),_("change",function(t){f(i);let n=h(2);return y(n.filesChanged(t))}),r(),o(6,"button",16),_("click",function(){f(i);let t=gi(5);return y(t.click())}),l(7," Select Files "),r(),o(8,"button",17),_("click",function(){f(i);let t=h(2);return y(t.toggleShowExtensionCatalog())}),l(9," Extensions Catalog "),r()}if(a&2){let i=h(2);s(),P(i.dialogData.description),s(3),b("accept",i.dialogData.allowedFileTypes)("multiple",i.dialogData.multiple)}}function Kt(a,d){if(a&1&&x(0,"iframe",18,1),a&2){let i=h(3);b("src",i.remoteInstallerUrl,hi)}}function Ut(a,d){if(a&1&&m(0,Kt,2,1,"iframe",18),a&2){let i=h(2);u(i.ready?0:-1)}}function Wt(a,d){if(a&1){let i=k();o(0,"div",14),_("filesDropped",function(t){f(i);let n=h();return y(n.filesDropped(t))}),m(1,Qt,10,3),m(2,Ut,1,1),r()}if(a&2){let i=h();s(),u(i.showExtensionCatalog()?-1:1),s(),u(i.showExtensionCatalog()?2:-1)}}function $t(a,d){a&1&&(o(0,"div",8),x(1,"mat-spinner",19),o(2,"p"),l(3,"Running preflight check..."),r()())}function Zt(a,d){if(a&1){let i=k();o(0,"div",9)(1,"h3"),l(2,"Error"),r(),o(3,"p"),l(4),r(),o(5,"button",20),_("click",function(){f(i);let t=h();return y(t.cancelPreflight())}),l(6," Back "),r()()}if(a&2){let i=h();s(4),P(i.preflightError())}}function Jt(a,d){if(a&1&&(l(0," File: "),o(1,"em"),l(2),r()),a&2){let i=h(2);s(2),P(i.currentFile==null?null:i.currentFile.name)}}function Yt(a,d){if(a&1&&(l(0," Remote Source: "),o(1,"em")(2,"a",29),l(3),r()()),a&2){let i=h(2);s(2),b("href",i.preflightSource,di),s(),w(" ",i.preflightSource.toString().substring(0,50),"... ")}}function Xt(a,d){if(a&1&&(o(0,"mat-chip"),l(1),r()),a&2){let i=d.$implicit;M("disabled",!i.value),s(),w(" ",i.key.split("Inside").join("")," ")}}function ie(a,d){if(a&1&&(o(0,"mat-accordion")(1,"mat-expansion-panel",21)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),l(4,"Extension Details"),r()(),o(5,"div",22),m(6,Jt,3,1)(7,Yt,4,2),o(8,"h4"),l(9),r(),o(10,"span"),l(11),r(),x(12,"br"),o(13,"div",23)(14,"div",24)(15,"span",25),l(16,"File Count:"),r(),o(17,"span",26),l(18),r()(),o(19,"div",24)(20,"span",25),l(21,"Supports Editions:"),r(),o(22,"span",26),l(23),r()()(),o(24,"div",27)(25,"h4"),l(26,"Features used by this Extension"),r(),o(27,"mat-chip-set"),U(28,Xt,2,3,"mat-chip",28,qt),xi(30,"keyvalue"),r()()()()()),a&2){let i=h();s(),b("expanded",!1),s(5),u(i.isFileSource?6:7),s(3),w("",i.extension().name," Details"),s(2),w("Version ",i.extension().version),s(7),w(" ",i.extension().fileCount," "),s(5),w(" ",i.extension().editionsSupported?"Yes":"No"," "),s(5),W(wi(30,6,i.extension().features))}}function te(a,d){if(a&1){let i=k();o(0,"mat-checkbox",32),_("change",function(t){let n=f(i).$implicit,c=h(2);return y(c.onEditionToggle(n.edition,t.checked))}),l(1),r()}if(a&2){let i=d.$implicit,e=h(2);b("checked",e.selectedEditions().includes(i.edition)),s(),w(" ",i.edition||"Default"," ")}}function ee(a,d){if(a&1&&(o(0,"div",10)(1,"h4"),l(2,"Editions to install this Extension to"),r(),o(3,"div",30),U(4,te,2,2,"mat-checkbox",31,Gt),r()()),a&2){let i=h();s(4),W(i.editions())}}function ae(a,d){if(a&1){let i=k();o(0,"div",11)(1,"h4"),l(2,"Caution: Import causes an Overwrite"),r(),o(3,"p"),l(4," You need to force install/ overwrite the extension. "),r(),o(5,"mat-slide-toggle",33),bi("ngModelChange",function(t){f(i);let n=h();return yi(n.forceInstall,t)||(n.forceInstall=t),y(t)}),l(6," Force / Overwrite "),r()()}if(a&2){let i=h();s(5),fi("ngModel",i.forceInstall)}}function ne(a,d){a&1&&(o(0,"div",12),x(1,"mat-spinner",19),o(2,"p"),l(3,"Installing extension..."),r()())}function oe(a,d){if(a&1){let i=k();o(0,"button",34),_("click",function(){f(i);let t=h();return y(t.cancelPreflight())}),l(1," Cancel "),r(),o(2,"button",35),_("click",function(){f(i);let t=h();return y(t.install())}),l(3," Install "),r()}if(a&2){let i=h();b("disabled",i.isInstalling()),s(2),b("disabled",!i.canInstall())}}var Ca=(()=>{class a extends ct{#t;#e;#a;#i;constructor(i,e,t){super(),this.dialogData=i,this.dialogRef=e,this.sanitizer=t,this.extensionSvc=N(wt),this.#t=N(yt),this.#e=N(et),this.#a=p(Wi),this.uploadType=Ct.Extension,this.importModeValues=bt,this.fallbackEditions=["staging","live"],this.extension=C(null),this.isLoadingPreflight=C(!1),this.isInstalling=C(!1),this.preflightError=C(null),this.editions=C([]),this.showExtensionCatalog=C(!1),this.forceInstall=!1,this.alreadyInstalled=Ii(()=>{let n=this.extension();return!n||!this.selectedEditions().length?!1:n.editions?.some(c=>this.selectedEditions().includes(c.edition??"")&&c.isInstalled)??!1}),this.selectedEditions=C([]),this.preflightSource=null,this.urlChangeImportMode="",this.ready=!1,this.#i=!1,this.importForm=this.#e.group({importMode:[this.importModeValues.importOriginal,Xi.required],name:[""]}),this.context=p(Oi),this.messages=new xt(this.context.moduleId),i.title??="Import Extension",i.description??="Select Extension folder from your computer to import.",i.allowedFileTypes??="zip",i.multiple??=!0,i.file&&this.runFilePreflight(i.file),this.subscriptions.add(this.#t.settings$.subscribe(n=>{this.settings=n,this.urlChangeImportMode=n.remoteUrl,this.updateRemoteUrl(),this.ready=!0}))}ngOnInit(){this.#n(),this.#t.loadGettingStarted(!1),this.importForm.get("importMode")?.valueChanges.subscribe(()=>{this.updateRemoteUrl()}),this.subscriptions.add(this.messages.messages$.pipe(G(i=>i.action==="specs")).subscribe(()=>{})),this.subscriptions.add(ei(window,"message").pipe(G(()=>!!this.installerWindow)).subscribe(i=>{let e;try{e=typeof i.data=="string"?JSON.parse(i.data):i.data}catch{return}if(this.showExtensionCatalog()&&e.action==="install"&&e.packages){let t=Object.values(e.packages)[0];if(!t?.url||this.#i)return;this.#i=!0,this.handleRemotePreflight(t.url)}}))}get isFileSource(){return this.preflightSource instanceof File}get currentFile(){return this.isFileSource?this.preflightSource:null}updateRemoteUrl(){this.remoteInstallerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.buildRemoteUrl(this.urlChangeImportMode,{view:"app-extensions",selectOnlyMode:"true",excludeInstalled:"true"}))}buildRemoteUrl(i,e={}){let[t,n]=i.split("?"),c=new URLSearchParams(n||"");for(let I in e)c.set(I,e[I]);return`${t}?${c.toString()}`}#n(){this.dialogRef.keydownEvents().subscribe(i=>{pt(i)&&(i.preventDefault(),this.install())})}filesDropped(i){this.runFilePreflight(i[0])}filesChanged(i){let e=i.target.files[0];this.runFilePreflight(e)}toggleShowExtensionCatalog(){this.showExtensionCatalog.set(!this.showExtensionCatalog())}closeDialog(){this.dialogRef.close(!1)}cancelPreflight(){this.extension.set(null),this.preflightSource=null,this.selectedEditions.set([]),this.preflightError.set(null),this.forceInstall=!1,this.#i=!1}runFilePreflight(i){this.isLoadingPreflight.set(!0),this.extensionSvc.installPreflightExtension([i]).pipe(L(1)).subscribe({next:e=>this.handlePreflightResult(e.extensions[0],i),error:e=>this.handlePreflightError(e)})}handleRemotePreflight(i){this.showExtensionCatalog.set(!1),this.isLoadingPreflight.set(!0),this.extensionSvc.installPreflightExtensionFromUrl(i).pipe(L(1)).subscribe({next:e=>this.handlePreflightResult(e.extensions[0],i),error:e=>this.handlePreflightError(e)})}handlePreflightResult(i,e){this.isLoadingPreflight.set(!1),this.preflightError.set(null),this.extension.set(i),this.preflightSource=e,this.forceInstall=!1,i.editions?.length>0?this.editions.set(i.editions):this.editions.set(this.fallbackEditions.map(t=>({edition:t}))),this.selectedEditions.set(this.editions().map(t=>t.edition))}handlePreflightError(i){this.isLoadingPreflight.set(!1),this.extension.set(null),this.preflightSource=null,this.preflightError.set(i?.message||"Preflight check failed"),this.#i=!1}canInstall(){return!(!this.preflightSource||this.preflightError()||this.isInstalling()||this.isLoadingPreflight()||!this.extension()||this.selectedEditions().length===0)}install(){if(!this.canInstall())return;if(this.alreadyInstalled()&&!this.forceInstall){this.#a.open('Installation requires force. Please enable "Force Install" and try again.',"OK",{duration:1e4});return}this.isInstalling.set(!0);let i=this.forceInstall,e,t=this.selectedEditions().length?this.selectedEditions().join(","):void 0;if(this.preflightSource instanceof File)e=this.extensionSvc.uploadExtensions(this.preflightSource,t,i);else if(typeof this.preflightSource=="string")e=this.extensionSvc.installRemoteExtension(this.preflightSource,t,i);else return;e.pipe(L(1)).subscribe({next:()=>{this.isInstalling.set(!1),this.dialogRef.close(!0)},error:n=>{this.isInstalling.set(!1),this.preflightError.set(n?.message||"Installation failed"),console.error("Installation error:",n)}})}onEditionToggle(i,e){e?this.selectedEditions().includes(i)||this.selectedEditions.set([...this.selectedEditions(),i]):this.selectedEditions.set(this.selectedEditions().filter(t=>t!==i))}static{this.\u0275fac=function(e){return new(e||a)(z(Zi),z($i),z(Mi))}}static{this.\u0275cmp=A({type:a,selectors:[["app-import-extension"]],viewQuery:function(e,t){if(e&1&&j(Nt,5),e&2){let n;g(n=v())&&(t.installerWindow=n.first)}},features:[H],decls:17,vars:9,consts:[["fileInput",""],["installerWindow",""],[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],["appDragAndDrop","",1,"file-drop-zone"],[1,"preflight-loading"],[1,"preflight-error"],[1,"ext-editions"],[1,"install-options",2,"margin-top","16px"],[1,"installing"],["align","end"],["appDragAndDrop","",1,"file-drop-zone",3,"filesDropped"],["type","file",2,"display","none",3,"change","accept","multiple"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","tippy","Open extension catalog",1,"eav-app-catalog-button","eav-action-button",3,"click"],[1,"eav-app-catalog-iframe",3,"src"],["diameter","40"],["mat-stroked-button","",3,"click"],[3,"expanded"],[1,"unified-preflight-details"],[1,"ext-info"],[1,"info-row"],[1,"label"],[1,"value"],[1,"ext-features"],[3,"disabled"],[3,"href"],[1,"edition-selector"],["color","accent",3,"checked"],["color","accent",3,"change","checked"],["color","primary",3,"ngModelChange","ngModel"],["mat-stroked-button","",3,"click","disabled"],["mat-raised-button","",1,"eav-action-button",3,"click","disabled"]],template:function(e,t){if(e&1&&(o(0,"div",2)(1,"div",3)(2,"div",4),l(3),r(),o(4,"button",5),_("click",function(){return t.closeDialog()}),o(5,"mat-icon"),l(6,"close"),r()()(),o(7,"div",6),m(8,Wt,3,2,"div",7),m(9,$t,4,0,"div",8),m(10,Zt,7,1,"div",9),m(11,ie,31,8,"mat-accordion"),m(12,ee,6,0,"div",10),m(13,ae,7,1,"div",11),m(14,ne,4,0,"div",12),r(),o(15,"mat-dialog-actions",13),m(16,oe,4,2),r()()),e&2){let n;s(3),P(t.dialogData.title),s(5),u(!t.extension()&&!t.isLoadingPreflight()?8:-1),s(),u(t.isLoadingPreflight()?9:-1),s(),u(t.preflightError()?10:-1),s(),u(t.extension()&&!t.isLoadingPreflight()?11:-1),s(),u((n=t.extension())!=null&&n.editionsSupported&&((n=t.editions())==null?null:n.length)>1?12:-1),s(),u(t.alreadyInstalled()?13:-1),s(),u(t.isInstalling()?14:-1),s(2),u(t.extension()&&!t.isLoadingPreflight()?16:-1)}},dependencies:[Si,Ui,Ki,Gi,Ti,Ri,Yi,Ji,Rt,ti,At,ji,lt,ht,dt,at,it,tt,ft,Li,Bi,ot,st,rt,vt,gt,mt,ut,_t,ki],styles:[`.disabled[_ngcontent-%COMP%]{opacity:.25;pointer-events:none}.eav-app-catalog-button[_ngcontent-%COMP%]{margin-left:12px}.eav-app-catalog-iframe[_ngcontent-%COMP%]{margin-top:16px;width:100%;height:500px;border:none}mat-slide-toggle[_ngcontent-%COMP%]{margin-left:5px}
/*# sourceMappingURL=import-extension-Z6CWUAV6.css.map */`]})}}return a})();export{Rt as a,Ca as b};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/chunk-ZRG4FHCH.js.map

{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-query.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { transient } from 'projects/core';\r\nimport { EntityLightIdentifier } from 'projects/edit-types/src/EntityLight';\r\nimport { catchError, map, Observable, throwError } from 'rxjs';\r\nimport { ContentItem } from '../../../content-items/models/content-item.model';\r\nimport { QueryService } from '../../../shared/services/query.service';\r\n\r\n/**\r\n * Helper to handle dialog routings, especially:\r\n * 1. handling on-child-closed events (it also takes care of subscriptions)\r\n * 2. accessing the router and route - a very common task when you have dialogs\r\n */\r\n@Injectable()\r\nexport class DataBundlesQueryService {\r\n\r\n  #queryService = transient(QueryService);\r\n\r\n  constructor(private translate: TranslateService) { }\r\n\r\n  fetchQuery(guid?: string): Observable<ContentItem[] | EntityLightIdentifier[]> {\r\n    const stream = 'Default';\r\n    const params = `configurationguid=${guid}`;\r\n    \r\n    return this.#queryService.getFromQuery(`System.BundleDetails/${stream}`, params, null).pipe(\r\n      map((data) => {\r\n        return data[stream];\r\n      }),\r\n      catchError((error) => {\r\n        console.error(`${this.translate.instant('Fields.Picker.QueryError:')} - ${error.data}`);\r\n        alert(`${this.translate.instant('Fields.Picker.QueryError:')} - ${error.data}`);\r\n        return throwError(() => error);\r\n      })\r\n    );\r\n  }\r\n}\r\n"],
  "mappings": "8LAcA,IAAaA,GAAuB,IAAA,CAA9B,MAAOA,CAAuB,CAElCC,GAAgBC,EAAUC,CAAY,EAEtCC,YAAoBC,EAA2B,CAA3B,KAAAA,UAAAA,CAA+B,CAEnDC,WAAWC,EAAa,CACtB,IAAMC,EAAS,UACTC,EAAS,qBAAqBF,CAAI,GAExC,OAAO,KAAKN,GAAcS,aAAa,wBAAwBF,CAAM,GAAIC,EAAQ,IAAI,EAAEE,KACrFC,EAAKC,GACIA,EAAKL,CAAM,CACnB,EACDM,EAAYC,IACVC,QAAQD,MAAM,GAAG,KAAKV,UAAUY,QAAQ,2BAA2B,CAAC,MAAMF,EAAMF,IAAI,EAAE,EACtFK,MAAM,GAAG,KAAKb,UAAUY,QAAQ,2BAA2B,CAAC,MAAMF,EAAMF,IAAI,EAAE,EACvEM,EAAW,IAAMJ,CAAK,EAC9B,CAAC,CAEN,iDApBWf,GAAuBoB,EAAAC,CAAA,CAAA,CAAA,CAAA,iCAAvBrB,EAAuBsB,QAAvBtB,EAAuBuB,SAAA,CAAA,CAAA,SAAvBvB,CAAuB,GAAA",
  "names": ["DataBundlesQueryService", "#queryService", "transient", "QueryService", "constructor", "translate", "fetchQuery", "guid", "stream", "params", "getFromQuery", "pipe", "map", "data", "catchError", "error", "console", "instant", "alert", "throwError", "\u0275\u0275inject", "TranslateService", "factory", "\u0275fac"]
}

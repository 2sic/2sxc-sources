{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/app-administration/sub-dialogs/language-permissions/languages-permissions-actions/languages-permissions-actions.ts", "projects/eav-ui/src/app/app-administration/sub-dialogs/language-permissions/languages-permissions-actions/languages-permissions-actions.html", "projects/eav-ui/src/app/app-administration/sub-dialogs/language-permissions/language-permissions.ts", "projects/eav-ui/src/app/app-administration/sub-dialogs/language-permissions/language-permissions.html"],
  "sourcesContent": ["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { SiteLanguagePermissions } from '../../../../apps-management/models/site-language.model';\r\nimport { LanguagesPermissionsActionsParams } from './languages-permissions-actions.models';\r\n\r\n@Component({\r\n    selector: 'app-languages-permissions-actions',\r\n    templateUrl: './languages-permissions-actions.html',\r\n    imports: [\r\n        MatRippleModule,\r\n        MatIconModule,\r\n        MatBadgeModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class LanguagesPermissionsActionsComponent implements ICellRendererAngularComp {\r\n  language: SiteLanguagePermissions;\r\n\r\n  private params: ICellRendererParams & LanguagesPermissionsActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & LanguagesPermissionsActionsParams): void {\r\n    this.params = params;\r\n    this.language = this.params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  openPermissions(): void {\r\n    this.params.onOpenPermissions(this.language);\r\n  }\r\n}\r\n", "\r\n<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Permissions\" (click)=\"openPermissions()\">\r\n    <mat-icon [matBadge]=\"language.Permissions.Count\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!language.Permissions.Count\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      person\r\n    </mat-icon>\r\n  </div>\r\n</div>\r\n", "import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnInit, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogActions, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { transient } from '../../../../../../core';\r\nimport { SiteLanguagePermissions } from '../../../apps-management/models/site-language.model';\r\nimport { ZoneService } from '../../../apps-management/services/zone.service';\r\nimport { GoToPermissions } from '../../../permissions';\r\nimport { ColumnDefinitions } from '../../../shared/ag-grid/column-definitions';\r\nimport { IdFieldParams } from '../../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../../shared/constants/default-grid-options.constants';\r\nimport { SxcGridModule } from '../../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { DialogRoutingService } from '../../../shared/routing/dialog-routing.service';\r\nimport { LanguagesPermissionsActionsComponent } from './languages-permissions-actions/languages-permissions-actions';\r\nimport { LanguagesPermissionsActionsParams } from './languages-permissions-actions/languages-permissions-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-language-permissions',\r\n  templateUrl: './language-permissions.html',\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    RouterOutlet,\r\n    MatDialogActions,\r\n    SxcGridModule,\r\n  ]\r\n})\r\nexport class LanguagePermissionsComponent implements OnInit {\r\n  gridOptions: GridOptions = this.#buildGridOptions();\r\n\r\n\r\n  #zoneSvc = transient(ZoneService);\r\n  #dialogRouting = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<LanguagePermissionsComponent>,\r\n  ) { }\r\n\r\n  #refresh = signal(0);\r\n\r\n  languages = this.#zoneSvc.getLanguagesPermissionsLive(this.#refresh).value\r\n\r\n  ngOnInit(): void {\r\n    this.#dialogRouting.doOnDialogClosed(() => {\r\n      this.#refresh.update(v => ++v)\r\n    });\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialog.close();\r\n  }\r\n\r\n  openPermissions(language: SiteLanguagePermissions): void {\r\n    this.#dialogRouting.navRelative([GoToPermissions.getUrlLanguage(language.NameId)]);\r\n  }\r\n\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.IdWithDefaultRenderer,\r\n          field: 'Code',\r\n          filter: 'agTextColumnFilter',\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<SiteLanguagePermissions> = {\r\n              tooltipGetter: (language) => `ID: ${language.Code}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Name',\r\n          sort: 'asc',\r\n          valueGetter: (p: { data: SiteLanguagePermissions }) => p.data.Culture,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight1,\r\n          cellRenderer: LanguagesPermissionsActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: LanguagesPermissionsActionsParams = {\r\n              onOpenPermissions: (lang) => this.openPermissions(lang),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\n\r\n", "<div class=\"eav-dialog nav-component-wrapper\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">Language permissions</div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"eav-dialog-content nav-component-wrapper\">\r\n    <p>\r\n      If no language permissions are defined, all editors can edit all languages. As soon as you set any language permission, only the\r\n      specified users (or users in the specified groups) can edit these permissions.\r\n    </p>\r\n    <router-outlet></router-outlet>\r\n    <div class=\"grid-wrapper\">\r\n      <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"languages()\" [gridOptions]=\"gridOptions\"> </ag-grid-angular>\r\n    </div>\r\n    <mat-dialog-actions align=\"end\"></mat-dialog-actions>\r\n  </div>\r\n</div>\r\n"],
  "mappings": "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",
  "names": ["LanguagesPermissionsActionsComponent", "agInit", "params", "language", "data", "refresh", "openPermissions", "onOpenPermissions", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275listener", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275property", "Permissions", "Count", "MatRippleModule", "MatRipple", "MatIconModule", "MatIcon", "MatBadgeModule", "MatBadge", "TippyDirective", "encapsulation", "LanguagePermissionsComponent", "#zoneSvc", "#dialogRouting", "constructor", "dialog", "gridOptions", "#buildGridOptions", "transient", "ZoneService", "DialogRoutingService", "#refresh", "signal", "languages", "getLanguagesPermissionsLive", "value", "ngOnInit", "doOnDialogClosed", "update", "v", "closeDialog", "close", "openPermissions", "language", "navRelative", "GoToPermissions", "getUrlLanguage", "NameId", "__spreadProps", "__spreadValues", "defaultGridOptions", "columnDefs", "ColumnDefinitions", "IdWithDefaultRenderer", "field", "filter", "cellRendererParams", "tooltipGetter", "Code", "TextWide", "sort", "valueGetter", "p", "data", "Culture", "ActionsPinnedRight1", "cellRenderer", "LanguagesPermissionsActionsComponent", "onOpenPermissions", "lang", "\u0275\u0275directiveInject", "MatDialogRef", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275listener", "\u0275\u0275element", "\u0275\u0275advance", "\u0275\u0275property", "MatButtonModule", "MatIconButton", "MatIconModule", "MatIcon", "RouterOutlet", "MatDialogActions", "SxcGridModule", "AgGridAngular", "encapsulation"]
}

{"version":3,"sources":["node_modules/reflect-metadata/Reflect.js","node_modules/dayjs/dayjs.min.js","node_modules/dayjs/locale/ar.js","node_modules/dayjs/locale/bg.js","node_modules/dayjs/locale/cs.js","node_modules/dayjs/locale/da.js","node_modules/dayjs/locale/de.js","node_modules/dayjs/locale/de-at.js","node_modules/dayjs/locale/de-ch.js","node_modules/dayjs/locale/el.js","node_modules/dayjs/locale/en.js","node_modules/dayjs/locale/en-au.js","node_modules/dayjs/locale/en-ca.js","node_modules/dayjs/locale/en-gb.js","node_modules/dayjs/locale/en-ie.js","node_modules/dayjs/locale/es.js","node_modules/dayjs/locale/es-mx.js","node_modules/dayjs/locale/es-us.js","node_modules/dayjs/locale/fa.js","node_modules/dayjs/locale/fi.js","node_modules/dayjs/locale/fr.js","node_modules/dayjs/locale/fr-ch.js","node_modules/dayjs/locale/he.js","node_modules/dayjs/locale/hi.js","node_modules/dayjs/locale/hr.js","node_modules/dayjs/locale/hu.js","node_modules/dayjs/locale/id.js","node_modules/dayjs/locale/it.js","node_modules/dayjs/locale/it-ch.js","node_modules/dayjs/locale/ja.js","node_modules/dayjs/locale/jv.js","node_modules/dayjs/locale/ko.js","node_modules/dayjs/locale/lb.js","node_modules/dayjs/locale/ms.js","node_modules/dayjs/locale/ms-my.js","node_modules/dayjs/locale/nl.js","node_modules/dayjs/locale/nl-be.js","node_modules/dayjs/locale/pa-in.js","node_modules/dayjs/locale/pl.js","node_modules/dayjs/locale/pt.js","node_modules/dayjs/locale/pt-br.js","node_modules/dayjs/locale/ru.js","node_modules/dayjs/locale/sk.js","node_modules/dayjs/locale/sl.js","node_modules/dayjs/locale/sv.js","node_modules/dayjs/locale/th.js","node_modules/dayjs/locale/tr.js","node_modules/dayjs/locale/uk.js","node_modules/dayjs/locale/zh.js","node_modules/dayjs/plugin/customParseFormat.js","node_modules/dayjs/plugin/localeData.js","node_modules/dayjs/plugin/localizedFormat.js","node_modules/dayjs/plugin/utc.js","node_modules/papaparse/papaparse.min.js","node_modules/dropzone/dist/dropzone.js","projects/eav-ui/src/app/edit/dialog/main/edit-dialog-main.helpers.ts","projects/eav-ui/src/app/edit/shared/adam/adam-cache.service.ts","projects/eav-ui/src/app/edit/shared/adam/link-cache.service.ts","projects/eav-ui/src/app/edit/form/correctAdamUrl.ts","projects/eav-ui/src/app/edit/form/form-data.service.ts","projects/eav-ui/src/app/edit/dialog/main/edit-dialog-main.models.ts","projects/eav-ui/src/app/edit/form/form-publishing.service.ts","projects/eav-ui/src/app/edit/form/initial-values-service.ts","projects/eav-ui/src/app/edit/form/initialize-missing-values-services.ts","projects/eav-ui/src/app/edit/form/items-request-restore-helper.ts","projects/eav-ui/src/app/edit/form/edit-initializer.service.ts","projects/eav-ui/src/app/edit/shared/services/scripts-loader.service.ts","projects/eav-ui/src/app/edit/assets/icons/2sxc/Material-Icon-Adam-48-filled.svg","projects/eav-ui/src/app/edit/assets/icons/2sxc/Material-Icon-Adam-48-outlined.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/draft-branch.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-archive.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-audio.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-code.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-excel.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-image.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-pdf.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-powerpoint.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-text.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-video.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file-word.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/file.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/folder-plus.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/folder.svg","projects/eav-ui/src/app/edit/assets/icons/font-awesome/sitemap.svg","projects/eav-ui/src/app/edit/assets/icons/load-icons.service.ts","projects/eav-ui/src/app/edit/entity-form/entity-form-state.service.ts","projects/eav-ui/src/app/edit/routing/edit-routing.service.ts","projects/eav-ui/src/app/edit/fields/picker/models/picker-item.model.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-base.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-entity-base.ts","projects/eav-ui/src/app/edit/fields/picker/picker-features.model.ts","projects/eav-ui/src/app/edit/fields/picker/picker.helpers.ts","projects/eav-ui/src/app/edit/fields/picker/picker-data.ts","projects/eav-ui/src/app/edit/fields/picker/picker-data.factory.ts","projects/eav-ui/src/app/shared/signals/signal-equals.ts","projects/eav-ui/src/app/edit/form/forms-state.service.ts","projects/eav-ui/src/app/edit/formulas/formula-exec-specs.factory.ts","projects/eav-ui/src/app/edit/state/fields-configs.model.ts","projects/eav-ui/src/app/edit/formulas/formula-field-picker.helper.ts","projects/eav-ui/src/app/edit/formulas/results/formula-settings.helper.ts","projects/eav-ui/src/app/edit/formulas/formula-run-field.ts","projects/eav-ui/src/app/edit/formulas/formula-engine.ts","projects/eav-ui/src/app/edit/formulas/promise/formula-promise-result.model.ts","projects/eav-ui/src/app/edit/formulas/promise/formula-promise-handler.ts","projects/eav-ui/src/app/edit/fields/wrappers/wrappers.constants.ts","projects/eav-ui/src/app/edit/fields/wrappers/wrapper.helper.ts","projects/eav-ui/src/app/edit/state/fields-properties-engine-cycle.ts","projects/eav-ui/src/app/edit/state/item-field-visibility.ts","projects/eav-ui/src/app/edit/state/fields-settings-constants.service.ts","projects/eav-ui/src/app/edit/shared/validation/validation.helpers.ts","projects/eav-ui/src/app/edit/state/metadata-decorators.constants.ts","projects/eav-ui/src/app/edit/state/fields-settings-update.helpers.ts","projects/eav-ui/src/app/edit/state/fields-values-modified.helper.ts","projects/eav-ui/src/app/edit/state/fields-properties-engine.ts","projects/eav-ui/src/app/edit/state/fields-properties-updates.ts","projects/eav-ui/src/app/edit/state/fields-settings-picker-updater.ts","node_modules/lodash-es/transform.js","projects/eav-ui/src/app/shared/helpers/difference.ts","projects/eav-ui/src/app/edit/state/fields-signals.helper.ts","projects/eav-ui/src/app/edit/state/fields-settings.service.ts","projects/eav-ui/src/app/edit/state/field-translation-info.ts","projects/eav-ui/src/app/edit/state/fields-translate.service.ts","projects/eav-ui/src/app/edit/entity-form/entity-form-sync.service.ts","projects/eav-ui/src/app/edit/fields/field-metadata.decorator.ts","projects/eav-ui/src/app/edit/fields/directives/change-anchor-target.directive.ts","projects/eav-ui/src/app/edit/fields/help-text/field-help-text.ts","projects/eav-ui/src/app/edit/fields/help-text/field-help-text.html","projects/eav-ui/src/app/edit/fields/basic/boolean-default/boolean-base.ts","projects/eav-ui/src/app/edit/fields/basic/boolean-default/boolean-default-logic.ts","projects/eav-ui/src/app/edit/fields/basic/boolean-default/boolean-default.ts","projects/eav-ui/src/app/edit/fields/basic/boolean-default/boolean-default.html","projects/eav-ui/src/app/edit/fields/basic/boolean-tristate/boolean-tristate-logic.ts","projects/eav-ui/src/app/edit/fields/basic/boolean-tristate/boolean-tristate.ts","projects/eav-ui/src/app/edit/fields/basic/boolean-tristate/boolean-tristate.html","projects/eav-ui/src/app/edit/fields/basic/custom-default/custom-default.ts","projects/eav-ui/src/app/edit/fields/basic/custom-default/custom-default.html","projects/eav-ui/src/app/edit/fields/basic/custom-json-editor/custom-json-editor-logic.ts","projects/eav-ui/src/app/edit/fields/basic/custom-json-editor/custom-json-editor.ts","projects/eav-ui/src/app/edit/fields/basic/custom-json-editor/custom-json-editor.html","node_modules/@angular/material/fesm2022/datepicker.mjs","node_modules/@angular/material/fesm2022/timepicker.mjs","projects/eav-ui/src/app/edit/shared/date-adapters/date-adapter-api.ts","projects/eav-ui/src/app/edit/shared/date-adapters/mat-dayjs-date-adapter/mat-dayjs-date-adapter.ts","projects/eav-ui/src/app/edit/shared/date-adapters/mat-dayjs-date-adapter/mat-dayjs-date-formats.ts","projects/eav-ui/src/app/edit/shared/date-adapters/mat-dayjs-date-adapter/mat-dayjs-date-adapter.module.ts","projects/eav-ui/src/app/edit/fields/basic/datetime-default/datetime-fn.ts","projects/eav-ui/src/app/edit/fields/basic/datetime-default/mat-time-picker.ts","projects/eav-ui/src/app/edit/fields/basic/datetime-default/datetime-default.ts","projects/eav-ui/src/app/edit/fields/basic/datetime-default/datetime-default.html","projects/eav-ui/src/app/edit/fields/basic/empty-default/empty-default.ts","projects/eav-ui/src/app/edit/fields/basic/empty-message/empty-message.ts","projects/eav-ui/src/app/edit/fields/basic/empty-message/empty-message.html","projects/eav-ui/src/app/edit/fields/picker/picker-part-base.ts","projects/eav-ui/src/app/edit/fields/picker/picker-item-buttons/picker-item-buttons.ts","projects/eav-ui/src/app/edit/fields/picker/picker-item-buttons/picker-item-buttons.html","projects/eav-ui/src/app/edit/fields/picker/picker-list/picker-list.ts","projects/eav-ui/src/app/edit/fields/picker/picker-list/picker-list.html","node_modules/@angular/cdk/fesm2022/tree.mjs","node_modules/@angular/material/fesm2022/tree.mjs","projects/eav-ui/src/app/edit/fields/picker/picker-icon-help/picker-icon-help.ts","projects/eav-ui/src/app/edit/fields/picker/picker-icon-help/picker-icon-help.html","projects/eav-ui/src/app/edit/fields/picker/picker-icon-info/picker-icon-info.ts","projects/eav-ui/src/app/edit/fields/picker/picker-icon-info/picker-icon-info.html","node_modules/ngx-tippy-wrapper/fesm2020/ngx-tippy-wrapper.mjs","projects/eav-ui/src/app/edit/fields/picker/picker-item-preview/picker-item-preview.ts","projects/eav-ui/src/app/edit/fields/picker/picker-item-preview/picker-item-preview.html","projects/eav-ui/src/app/edit/fields/picker/picker-item-label/picker-item-label.ts","projects/eav-ui/src/app/edit/fields/picker/picker-item-label/picker-item-label.html","projects/edit-types/src/PickerModeTree.ts","projects/eav-ui/src/app/edit/fields/picker/picker-tree/picker-tree-data-helper.ts","projects/eav-ui/src/app/edit/fields/picker/picker-tree/picker-tree-data-service.ts","projects/eav-ui/src/app/edit/fields/picker/picker-search/picker-search.ts","projects/eav-ui/src/app/edit/fields/picker/picker-search/picker-search.html","projects/eav-ui/src/app/edit/fields/picker/picker-text/picker-text.ts","projects/eav-ui/src/app/edit/fields/picker/picker-text/picker-text.html","projects/eav-ui/src/app/edit/fields/picker/picker-dialog/picker-dialog.ts","projects/eav-ui/src/app/edit/fields/picker/picker-dialog/picker-dialog.html","projects/eav-ui/src/app/edit/fields/picker/picker-inline/picker-inline-base.ts","projects/eav-ui/src/app/edit/fields/picker/picker-inline/picker-inline-header.ts","projects/eav-ui/src/app/edit/fields/picker/picker-inline/picker-inline-header.html","projects/eav-ui/src/app/edit/fields/picker/picker-checkboxes/picker-checkboxes.ts","projects/eav-ui/src/app/edit/fields/picker/picker-checkboxes/picker-checkboxes.html","node_modules/@angular/material/fesm2022/divider.mjs","node_modules/@angular/material/fesm2022/list.mjs","projects/eav-ui/src/app/edit/fields/picker/picker-pills/picker-pills.ts","projects/eav-ui/src/app/edit/fields/picker/picker-pills/picker-pills.html","projects/eav-ui/src/app/edit/fields/picker/picker-radio/picker-radio.ts","projects/eav-ui/src/app/edit/fields/picker/picker-radio/picker-radio.html","projects/eav-ui/src/app/edit/fields/picker/picker-text-toggle/picker-text-toggle.ts","projects/eav-ui/src/app/edit/fields/picker/picker-text-toggle/picker-text-toggle.html","projects/eav-ui/src/app/edit/fields/picker/picker-preview/picker-preview.ts","projects/eav-ui/src/app/edit/fields/picker/picker-preview/picker-preview.html","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-helpers.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-masks-helper.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-more-fields-helper.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-base.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-entity-base.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-app-assets.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-app-assets.ts","node_modules/lodash-es/escapeRegExp.js","projects/eav-ui/src/app/edit/fields/picker/data-sources/css/string-font-icon-picker.helpers.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-css.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-css.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-empty.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-empty.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-entity.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-entity.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-query.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-query.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-string.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/data-adapter-string.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/state-adapter.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/state-ui-mapper-base.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/state-ui-mapper-noop.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/state-ui-mapper-number-array.ts","projects/eav-ui/src/app/edit/fields/picker/adapters/state-ui-mapper-string-array.ts","projects/eav-ui/src/app/edit/fields/picker/constants/picker-config-model.constants.ts","projects/eav-ui/src/app/edit/fields/picker/picker-data-setup.ts","projects/eav-ui/src/app/edit/fields/picker/picker.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/string-picker/string-picker.helpers.ts","projects/eav-ui/src/app/edit/fields/picker/data-sources/data-source-parser-csv.ts","projects/eav-ui/src/app/edit/fields/picker/picker-logic-shared.ts","projects/eav-ui/src/app/edit/fields/basic/entity-default/entity-default-logic.ts","projects/eav-ui/src/app/edit/fields/basic/entity-default/entity-default.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/entity-content-blocks/entity-content-blocks-logic.ts","projects/eav-ui/src/app/edit/fields/basic/entity-content-blocks/entity-content-blocks.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/entity-picker/entity-picker-logic.ts","projects/eav-ui/src/app/edit/fields/basic/entity-picker/entity-picker.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/entity-query/entity-query-logic.ts","projects/eav-ui/src/app/edit/fields/basic/entity-query/entity-query.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/shared/adam/adam.service.ts","projects/eav-ui/src/app/edit/fields/connector/connector-instance.model.ts","projects/eav-ui/src/app/edit/fields/connector/connector.helper.ts","projects/eav-ui/src/app/edit/fields/connector/connector.ts","projects/eav-ui/src/app/edit/fields/connector/connector.html","projects/eav-ui/src/app/edit/fields/basic/external-web-component/custom-gps-logic.ts","projects/eav-ui/src/app/edit/fields/basic/external-web-component/string-wysiwyg-logic.ts","projects/eav-ui/src/app/edit/fields/basic/external-web-component/external-web-component.ts","projects/eav-ui/src/app/edit/fields/basic/external-web-component/external-web-component.html","projects/eav-ui/src/app/edit/fields/directives/paste-clipboard-image.directive.ts","projects/eav-ui/src/app/edit/fields/basic/hyperlink-default/hyperlink-default-base.ts","projects/eav-ui/src/app/edit/fields/basic/hyperlink-default/hyperlink-default-logic.ts","projects/eav-ui/src/app/edit/fields/basic/hyperlink-default/hyperlink-default.ts","projects/eav-ui/src/app/edit/fields/basic/hyperlink-default/hyperlink-default.html","projects/eav-ui/src/app/edit/fields/basic/hyperlink-library/hyperlink-library-logic.ts","projects/eav-ui/src/app/edit/fields/basic/hyperlink-library/hyperlink-library.ts","projects/eav-ui/src/app/edit/fields/basic/string-dropdown/string-dropdown-logic.ts","projects/eav-ui/src/app/edit/fields/basic/number-default/number-default-logic.ts","projects/eav-ui/src/app/edit/fields/basic/number-default/number-default.ts","projects/eav-ui/src/app/edit/fields/basic/number-default/number-default.html","projects/eav-ui/src/app/edit/fields/basic/number-dropdown/number-dropdown-logic.ts","projects/eav-ui/src/app/edit/fields/basic/number-dropdown/number-dropdown.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/number-picker/number-picker-logic.ts","projects/eav-ui/src/app/edit/fields/basic/number-picker/number-picker.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/string-default/string-default-logic.ts","projects/eav-ui/src/app/edit/fields/basic/string-default/string-default.ts","projects/eav-ui/src/app/edit/fields/basic/string-default/string-default.html","projects/eav-ui/src/app/edit/fields/basic/string-dropdown-query/string-dropdown-query-logic.ts","projects/eav-ui/src/app/edit/fields/basic/string-dropdown-query/string-dropdown-query.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/string-dropdown/string-dropdown.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/string-font-icon-picker/string-font-icon-picker-logic.ts","projects/eav-ui/src/app/edit/fields/basic/string-font-icon-picker/string-font-icon-picker.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/string-picker/string-picker-logic.ts","projects/eav-ui/src/app/edit/fields/basic/string-picker/string-picker.ts","projects/eav-ui/src/app/edit/fields/picker/picker.html","projects/eav-ui/src/app/edit/fields/basic/string-template-picker/string-template-picker.constants.ts","projects/eav-ui/src/app/edit/fields/basic/string-template-picker/string-template-picker.ts","projects/eav-ui/src/app/edit/fields/basic/string-template-picker/string-template-picker.html","projects/eav-ui/src/app/edit/fields/basic/string-url-path/string-url-path-logic.ts","projects/eav-ui/src/app/edit/fields/basic/string-url-path/string-url-path.ts","projects/eav-ui/src/app/edit/fields/basic/string-url-path/string-url-path.html","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-browser/adam-browser.models.ts","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-browser/dropzone-helper.ts","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-browser/adam-browser.ts","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-browser/adam-browser.html","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-hint/adam-hint.ts","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-hint/adam-hint.html","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-wrapper.html","node_modules/ngx-dropzone-wrapper/fesm2022/ngx-dropzone-wrapper.mjs","projects/eav-ui/src/app/edit/fields/wrappers/dropzone/dropzone-wrapper.models.ts","projects/field-string-wysiwyg/shared/wysiwyg.constants.ts","projects/eav-ui/src/app/edit/fields/wrappers/dropzone/dropzone-wysiwyg.ts","projects/eav-ui/src/app/edit/fields/wrappers/dropzone/dropzone-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/dropzone/dropzone-wrapper.html","projects/eav-ui/src/app/shared/helpers/viewport.helpers.ts","projects/eav-ui/src/app/edit/fields/wrappers/dropzone-dragging.helper.ts","projects/eav-ui/src/app/edit/fields/wrappers/expand-dialog/content-expand.animation.ts","projects/eav-ui/src/app/edit/fields/wrappers/dialog-popup/dialog-popup.ts","projects/eav-ui/src/app/edit/fields/wrappers/dialog-popup/dialog-popup.html","projects/eav-ui/src/app/edit/fields/wrappers/expand-dialog/expandable-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/expand-dialog/expandable-wrapper.html","projects/eav-ui/src/app/edit/fields/wrappers/feature-warning/feature-warning-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/feature-warning/feature-warning-wrapper.html","projects/eav-ui/src/app/edit/fields/wrappers/group/collapsible-wrapper-logic.ts","projects/eav-ui/src/app/edit/fields/wrappers/group/collapsible-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/group/collapsible-wrapper.html","projects/eav-ui/src/app/edit/fields/wrappers/hidden/hidden-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/hidden/hidden-wrapper.html","projects/eav-ui/src/app/edit/fields/wrappers/hyperlink-dialog/hyperlink-default-expandable-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/hyperlink-dialog/hyperlink-default-expandable-wrapper.html","projects/eav-ui/src/app/edit/fields/wrappers/hyperlink-library-dialog/hyperlink-library-expandable-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/hyperlink-library-dialog/hyperlink-library-expandable-wrapper.html","projects/eav-ui/src/app/features/feature-icon-indicator/feature-icon-indicator.ts","projects/eav-ui/src/app/features/feature-icon-indicator/feature-icon-indicator.html","projects/eav-ui/src/app/edit/localization/auto-translate-disabled-warning-dialog/auto-translate-disabled-warning-dialog.ts","projects/eav-ui/src/app/edit/localization/auto-translate-disabled-warning-dialog/auto-translate-disabled-warning-dialog.html","projects/eav-ui/src/app/edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.constants.ts","projects/eav-ui/src/app/edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.helpers.ts","projects/eav-ui/src/app/shared/components/translate-helper.ts","projects/eav-ui/src/app/edit/localization/snack-bar-warning-demo/snack-bar-warning-demo.ts","projects/eav-ui/src/app/edit/localization/snack-bar-warning-demo/snack-bar-warning-demo.html","projects/eav-ui/src/app/edit/localization/auto-translate-menu-dialog/auto-translate-menu-dialog.ts","projects/eav-ui/src/app/edit/localization/auto-translate-menu-dialog/auto-translate-menu-dialog.html","projects/eav-ui/src/app/edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.ts","projects/eav-ui/src/app/edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.html","projects/eav-ui/src/app/edit/fields/wrappers/localization/translate-menu/translate-menu.ts","projects/eav-ui/src/app/edit/fields/wrappers/localization/translate-menu/translate-menu.html","projects/eav-ui/src/app/edit/fields/wrappers/localization/localization-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/localization/localization-wrapper.html","projects/eav-ui/src/app/edit/fields/wrappers/picker-dialog/picker-expandable-wrapper.ts","projects/eav-ui/src/app/edit/fields/wrappers/picker-dialog/picker-expandable-wrapper.html","projects/eav-ui/src/app/edit/fields/input-components.constant.ts","projects/eav-ui/src/app/edit/fields/wrappers/adam/adam-browser/adam-connector.ts","projects/edit-types/src/BasicControlSettings.ts","projects/eav-ui/src/app/edit/fields/builder/field-injector.service.ts","projects/eav-ui/src/app/edit/fields/builder/fields-builder.directive.ts","projects/eav-ui/src/app/edit/routing/edit-force-reload.service.ts","projects/eav-ui/src/app/edit/entity-form/entity-form.helpers.ts","projects/eav-ui/src/app/edit/entity-form/entity-translate-menu/entity-translate-menu.ts","projects/eav-ui/src/app/edit/entity-form/entity-translate-menu/entity-translate-menu.html","projects/eav-ui/src/app/edit/entity-form/entity-form/entity-form.ts","projects/eav-ui/src/app/edit/entity-form/entity-form/entity-form.html","projects/eav-ui/src/app/edit/entity-form/entity-form-builder/form-fields-builder.service.ts","projects/eav-ui/src/app/edit/entity-form/entity-form-builder/form-fields-sync.service.ts","projects/eav-ui/src/app/edit/entity-form/entity-form-builder/form-builder.ts","projects/eav-ui/src/app/edit/entity-form/entity-form-builder/form-builder.html","projects/eav-ui/src/app/edit/shared/models/json-format-v1/eav-attributes-dto.ts","projects/eav-ui/src/app/edit/shared/models/json-format-v1/eav-entity-dto.ts","projects/eav-ui/src/app/edit/shared/models/json-format-v1/eav-entity-bundle-dto.ts","projects/eav-ui/src/app/edit/shared/models/json-format-v1/eav-values-dto.ts","projects/eav-ui/src/app/features/features-used-but-missing-dialog/features-used-but-unlicensed-dialog.ts","projects/eav-ui/src/app/features/features-used-but-missing-dialog/features-used-but-unlicensed-dialog.html","projects/eav-ui/src/app/edit/dialog/header/publish-status-dialog/publish-status-dialog.ts","projects/eav-ui/src/app/edit/dialog/header/publish-status-dialog/publish-status-dialog.html","projects/eav-ui/src/app/edit/dialog/header/edit-dialog-header.ts","projects/eav-ui/src/app/edit/dialog/header/edit-dialog-header.html","projects/eav-ui/src/app/edit/dialog/main/form-slide.directive.ts","projects/eav-ui/src/app/edit/dialog/main/snack-bar-save-errors/snack-bar-save-errors.ts","projects/eav-ui/src/app/edit/dialog/main/snack-bar-save-errors/snack-bar-save-errors.html","projects/eav-ui/src/app/edit/dialog/main/snack-bar-unsaved-changes/snack-bar-unsaved-changes.ts","projects/eav-ui/src/app/edit/dialog/main/snack-bar-unsaved-changes/snack-bar-unsaved-changes.html","projects/eav-ui/src/app/edit/dialog/main/edit-dialog-main.ts","projects/eav-ui/src/app/edit/dialog/main/edit-dialog-main.html","projects/eav-ui/src/app/edit/dialog/entry/edit-entry.ts","projects/eav-ui/src/app/edit/dialog/entry/edit-entry.html"],"sourcesContent":["/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n  // Metadata Proposal\n  // https://rbuckton.github.io/reflect-metadata/\n  (function (factory) {\n    var root = typeof globalThis === \"object\" ? globalThis : typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : sloppyModeThis();\n    var exporter = makeExporter(Reflect);\n    if (typeof root.Reflect !== \"undefined\") {\n      exporter = makeExporter(root.Reflect, exporter);\n    }\n    factory(exporter, root);\n    if (typeof root.Reflect === \"undefined\") {\n      root.Reflect = Reflect;\n    }\n    function makeExporter(target, previous) {\n      return function (key, value) {\n        Object.defineProperty(target, key, {\n          configurable: true,\n          writable: true,\n          value: value\n        });\n        if (previous) previous(key, value);\n      };\n    }\n    function functionThis() {\n      try {\n        return Function(\"return this;\")();\n      } catch (_) {}\n    }\n    function indirectEvalThis() {\n      try {\n        return (void 0, eval)(\"(function() { return this; })()\");\n      } catch (_) {}\n    }\n    function sloppyModeThis() {\n      return functionThis() || indirectEvalThis();\n    }\n  })(function (exporter, root) {\n    var hasOwn = Object.prototype.hasOwnProperty;\n    // feature test for Symbol support\n    var supportsSymbol = typeof Symbol === \"function\";\n    var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n    var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n    var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n    var supportsProto = {\n      __proto__: []\n    } instanceof Array; // feature test for __proto__ support\n    var downLevel = !supportsCreate && !supportsProto;\n    var HashMap = {\n      // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n      create: supportsCreate ? function () {\n        return MakeDictionary(Object.create(null));\n      } : supportsProto ? function () {\n        return MakeDictionary({\n          __proto__: null\n        });\n      } : function () {\n        return MakeDictionary({});\n      },\n      has: downLevel ? function (map, key) {\n        return hasOwn.call(map, key);\n      } : function (map, key) {\n        return key in map;\n      },\n      get: downLevel ? function (map, key) {\n        return hasOwn.call(map, key) ? map[key] : undefined;\n      } : function (map, key) {\n        return map[key];\n      }\n    };\n    // Load global or shim versions of Map, Set, and WeakMap\n    var functionPrototype = Object.getPrototypeOf(Function);\n    var _Map = typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n    var _Set = typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n    var _WeakMap = typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n    var registrySymbol = supportsSymbol ? Symbol.for(\"@reflect-metadata:registry\") : undefined;\n    var metadataRegistry = GetOrCreateMetadataRegistry();\n    var metadataProvider = CreateMetadataProvider(metadataRegistry);\n    /**\n     * Applies a set of decorators to a property of a target object.\n     * @param decorators An array of decorators.\n     * @param target The target object.\n     * @param propertyKey (Optional) The property key to decorate.\n     * @param attributes (Optional) The property descriptor for the target key.\n     * @remarks Decorators are applied in reverse order.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     Example = Reflect.decorate(decoratorsArray, Example);\n     *\n     *     // property (on constructor)\n     *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     Object.defineProperty(Example, \"staticMethod\",\n     *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n     *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n     *\n     *     // method (on prototype)\n     *     Object.defineProperty(Example.prototype, \"method\",\n     *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n     *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n     *\n     */\n    function decorate(decorators, target, propertyKey, attributes) {\n      if (!IsUndefined(propertyKey)) {\n        if (!IsArray(decorators)) throw new TypeError();\n        if (!IsObject(target)) throw new TypeError();\n        if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes)) throw new TypeError();\n        if (IsNull(attributes)) attributes = undefined;\n        propertyKey = ToPropertyKey(propertyKey);\n        return DecorateProperty(decorators, target, propertyKey, attributes);\n      } else {\n        if (!IsArray(decorators)) throw new TypeError();\n        if (!IsConstructor(target)) throw new TypeError();\n        return DecorateConstructor(decorators, target);\n      }\n    }\n    exporter(\"decorate\", decorate);\n    // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n    // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n    /**\n     * A default metadata decorator factory that can be used on a class, class member, or parameter.\n     * @param metadataKey The key for the metadata entry.\n     * @param metadataValue The value for the metadata entry.\n     * @returns A decorator function.\n     * @remarks\n     * If `metadataKey` is already defined for the target and target key, the\n     * metadataValue for that key will be overwritten.\n     * @example\n     *\n     *     // constructor\n     *     @Reflect.metadata(key, value)\n     *     class Example {\n     *     }\n     *\n     *     // property (on constructor, TypeScript only)\n     *     class Example {\n     *         @Reflect.metadata(key, value)\n     *         static staticProperty;\n     *     }\n     *\n     *     // property (on prototype, TypeScript only)\n     *     class Example {\n     *         @Reflect.metadata(key, value)\n     *         property;\n     *     }\n     *\n     *     // method (on constructor)\n     *     class Example {\n     *         @Reflect.metadata(key, value)\n     *         static staticMethod() { }\n     *     }\n     *\n     *     // method (on prototype)\n     *     class Example {\n     *         @Reflect.metadata(key, value)\n     *         method() { }\n     *     }\n     *\n     */\n    function metadata(metadataKey, metadataValue) {\n      function decorator(target, propertyKey) {\n        if (!IsObject(target)) throw new TypeError();\n        if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey)) throw new TypeError();\n        OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n      }\n      return decorator;\n    }\n    exporter(\"metadata\", metadata);\n    /**\n     * Define a unique metadata entry on the target.\n     * @param metadataKey A key used to store and retrieve metadata.\n     * @param metadataValue A value that contains attached metadata.\n     * @param target The target object on which to define metadata.\n     * @param propertyKey (Optional) The property key for the target.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n     *\n     *     // property (on constructor)\n     *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n     *\n     *     // decorator factory as metadata-producing annotation.\n     *     function MyAnnotation(options): Decorator {\n     *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n     *     }\n     *\n     */\n    function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n    }\n    exporter(\"defineMetadata\", defineMetadata);\n    /**\n     * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n     * @param metadataKey A key used to store and retrieve metadata.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n     *\n     */\n    function hasMetadata(metadataKey, target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n    }\n    exporter(\"hasMetadata\", hasMetadata);\n    /**\n     * Gets a value indicating whether the target object has the provided metadata key defined.\n     * @param metadataKey A key used to store and retrieve metadata.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n     *\n     */\n    function hasOwnMetadata(metadataKey, target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n    }\n    exporter(\"hasOwnMetadata\", hasOwnMetadata);\n    /**\n     * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n     * @param metadataKey A key used to store and retrieve metadata.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n     *\n     */\n    function getMetadata(metadataKey, target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n    }\n    exporter(\"getMetadata\", getMetadata);\n    /**\n     * Gets the metadata value for the provided metadata key on the target object.\n     * @param metadataKey A key used to store and retrieve metadata.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n     *\n     */\n    function getOwnMetadata(metadataKey, target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n    }\n    exporter(\"getOwnMetadata\", getOwnMetadata);\n    /**\n     * Gets the metadata keys defined on the target object or its prototype chain.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns An array of unique metadata keys.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.getMetadataKeys(Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n     *\n     */\n    function getMetadataKeys(target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryMetadataKeys(target, propertyKey);\n    }\n    exporter(\"getMetadataKeys\", getMetadataKeys);\n    /**\n     * Gets the unique metadata keys defined on the target object.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns An array of unique metadata keys.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.getOwnMetadataKeys(Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n     *\n     */\n    function getOwnMetadataKeys(target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      return OrdinaryOwnMetadataKeys(target, propertyKey);\n    }\n    exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n    /**\n     * Deletes the metadata entry from the target object with the provided key.\n     * @param metadataKey A key used to store and retrieve metadata.\n     * @param target The target object on which the metadata is defined.\n     * @param propertyKey (Optional) The property key for the target.\n     * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n     * @example\n     *\n     *     class Example {\n     *         // property declarations are not part of ES6, though they are valid in TypeScript:\n     *         // static staticProperty;\n     *         // property;\n     *\n     *         constructor(p) { }\n     *         static staticMethod(p) { }\n     *         method(p) { }\n     *     }\n     *\n     *     // constructor\n     *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n     *\n     *     // property (on constructor)\n     *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n     *\n     *     // property (on prototype)\n     *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n     *\n     *     // method (on constructor)\n     *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n     *\n     *     // method (on prototype)\n     *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n     *\n     */\n    function deleteMetadata(metadataKey, target, propertyKey) {\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      if (!IsObject(target)) throw new TypeError();\n      if (!IsUndefined(propertyKey)) propertyKey = ToPropertyKey(propertyKey);\n      var provider = GetMetadataProvider(target, propertyKey, /*Create*/false);\n      if (IsUndefined(provider)) return false;\n      return provider.OrdinaryDeleteMetadata(metadataKey, target, propertyKey);\n    }\n    exporter(\"deleteMetadata\", deleteMetadata);\n    function DecorateConstructor(decorators, target) {\n      for (var i = decorators.length - 1; i >= 0; --i) {\n        var decorator = decorators[i];\n        var decorated = decorator(target);\n        if (!IsUndefined(decorated) && !IsNull(decorated)) {\n          if (!IsConstructor(decorated)) throw new TypeError();\n          target = decorated;\n        }\n      }\n      return target;\n    }\n    function DecorateProperty(decorators, target, propertyKey, descriptor) {\n      for (var i = decorators.length - 1; i >= 0; --i) {\n        var decorator = decorators[i];\n        var decorated = decorator(target, propertyKey, descriptor);\n        if (!IsUndefined(decorated) && !IsNull(decorated)) {\n          if (!IsObject(decorated)) throw new TypeError();\n          descriptor = decorated;\n        }\n      }\n      return descriptor;\n    }\n    // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n    function OrdinaryHasMetadata(MetadataKey, O, P) {\n      var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n      if (hasOwn) return true;\n      var parent = OrdinaryGetPrototypeOf(O);\n      if (!IsNull(parent)) return OrdinaryHasMetadata(MetadataKey, parent, P);\n      return false;\n    }\n    // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n    function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n      var provider = GetMetadataProvider(O, P, /*Create*/false);\n      if (IsUndefined(provider)) return false;\n      return ToBoolean(provider.OrdinaryHasOwnMetadata(MetadataKey, O, P));\n    }\n    // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n    function OrdinaryGetMetadata(MetadataKey, O, P) {\n      var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n      if (hasOwn) return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n      var parent = OrdinaryGetPrototypeOf(O);\n      if (!IsNull(parent)) return OrdinaryGetMetadata(MetadataKey, parent, P);\n      return undefined;\n    }\n    // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n    function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n      var provider = GetMetadataProvider(O, P, /*Create*/false);\n      if (IsUndefined(provider)) return;\n      return provider.OrdinaryGetOwnMetadata(MetadataKey, O, P);\n    }\n    // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n    function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n      var provider = GetMetadataProvider(O, P, /*Create*/true);\n      provider.OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P);\n    }\n    // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n    function OrdinaryMetadataKeys(O, P) {\n      var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n      var parent = OrdinaryGetPrototypeOf(O);\n      if (parent === null) return ownKeys;\n      var parentKeys = OrdinaryMetadataKeys(parent, P);\n      if (parentKeys.length <= 0) return ownKeys;\n      if (ownKeys.length <= 0) return parentKeys;\n      var set = new _Set();\n      var keys = [];\n      for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n        var key = ownKeys_1[_i];\n        var hasKey = set.has(key);\n        if (!hasKey) {\n          set.add(key);\n          keys.push(key);\n        }\n      }\n      for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n        var key = parentKeys_1[_a];\n        var hasKey = set.has(key);\n        if (!hasKey) {\n          set.add(key);\n          keys.push(key);\n        }\n      }\n      return keys;\n    }\n    // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n    function OrdinaryOwnMetadataKeys(O, P) {\n      var provider = GetMetadataProvider(O, P, /*create*/false);\n      if (!provider) {\n        return [];\n      }\n      return provider.OrdinaryOwnMetadataKeys(O, P);\n    }\n    // 6 ECMAScript Data Types and Values\n    // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n    function Type(x) {\n      if (x === null) return 1 /* Null */;\n      switch (typeof x) {\n        case \"undefined\":\n          return 0 /* Undefined */;\n        case \"boolean\":\n          return 2 /* Boolean */;\n        case \"string\":\n          return 3 /* String */;\n        case \"symbol\":\n          return 4 /* Symbol */;\n        case \"number\":\n          return 5 /* Number */;\n        case \"object\":\n          return x === null ? 1 /* Null */ : 6 /* Object */;\n        default:\n          return 6 /* Object */;\n      }\n    }\n    // 6.1.1 The Undefined Type\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n    function IsUndefined(x) {\n      return x === undefined;\n    }\n    // 6.1.2 The Null Type\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n    function IsNull(x) {\n      return x === null;\n    }\n    // 6.1.5 The Symbol Type\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n    function IsSymbol(x) {\n      return typeof x === \"symbol\";\n    }\n    // 6.1.7 The Object Type\n    // https://tc39.github.io/ecma262/#sec-object-type\n    function IsObject(x) {\n      return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n    }\n    // 7.1 Type Conversion\n    // https://tc39.github.io/ecma262/#sec-type-conversion\n    // 7.1.1 ToPrimitive(input [, PreferredType])\n    // https://tc39.github.io/ecma262/#sec-toprimitive\n    function ToPrimitive(input, PreferredType) {\n      switch (Type(input)) {\n        case 0 /* Undefined */:\n          return input;\n        case 1 /* Null */:\n          return input;\n        case 2 /* Boolean */:\n          return input;\n        case 3 /* String */:\n          return input;\n        case 4 /* Symbol */:\n          return input;\n        case 5 /* Number */:\n          return input;\n      }\n      var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n      var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n      if (exoticToPrim !== undefined) {\n        var result = exoticToPrim.call(input, hint);\n        if (IsObject(result)) throw new TypeError();\n        return result;\n      }\n      return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n    }\n    // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n    // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n    function OrdinaryToPrimitive(O, hint) {\n      if (hint === \"string\") {\n        var toString_1 = O.toString;\n        if (IsCallable(toString_1)) {\n          var result = toString_1.call(O);\n          if (!IsObject(result)) return result;\n        }\n        var valueOf = O.valueOf;\n        if (IsCallable(valueOf)) {\n          var result = valueOf.call(O);\n          if (!IsObject(result)) return result;\n        }\n      } else {\n        var valueOf = O.valueOf;\n        if (IsCallable(valueOf)) {\n          var result = valueOf.call(O);\n          if (!IsObject(result)) return result;\n        }\n        var toString_2 = O.toString;\n        if (IsCallable(toString_2)) {\n          var result = toString_2.call(O);\n          if (!IsObject(result)) return result;\n        }\n      }\n      throw new TypeError();\n    }\n    // 7.1.2 ToBoolean(argument)\n    // https://tc39.github.io/ecma262/2016/#sec-toboolean\n    function ToBoolean(argument) {\n      return !!argument;\n    }\n    // 7.1.12 ToString(argument)\n    // https://tc39.github.io/ecma262/#sec-tostring\n    function ToString(argument) {\n      return \"\" + argument;\n    }\n    // 7.1.14 ToPropertyKey(argument)\n    // https://tc39.github.io/ecma262/#sec-topropertykey\n    function ToPropertyKey(argument) {\n      var key = ToPrimitive(argument, 3 /* String */);\n      if (IsSymbol(key)) return key;\n      return ToString(key);\n    }\n    // 7.2 Testing and Comparison Operations\n    // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n    // 7.2.2 IsArray(argument)\n    // https://tc39.github.io/ecma262/#sec-isarray\n    function IsArray(argument) {\n      return Array.isArray ? Array.isArray(argument) : argument instanceof Object ? argument instanceof Array : Object.prototype.toString.call(argument) === \"[object Array]\";\n    }\n    // 7.2.3 IsCallable(argument)\n    // https://tc39.github.io/ecma262/#sec-iscallable\n    function IsCallable(argument) {\n      // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n      return typeof argument === \"function\";\n    }\n    // 7.2.4 IsConstructor(argument)\n    // https://tc39.github.io/ecma262/#sec-isconstructor\n    function IsConstructor(argument) {\n      // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n      return typeof argument === \"function\";\n    }\n    // 7.2.7 IsPropertyKey(argument)\n    // https://tc39.github.io/ecma262/#sec-ispropertykey\n    function IsPropertyKey(argument) {\n      switch (Type(argument)) {\n        case 3 /* String */:\n          return true;\n        case 4 /* Symbol */:\n          return true;\n        default:\n          return false;\n      }\n    }\n    function SameValueZero(x, y) {\n      return x === y || x !== x && y !== y;\n    }\n    // 7.3 Operations on Objects\n    // https://tc39.github.io/ecma262/#sec-operations-on-objects\n    // 7.3.9 GetMethod(V, P)\n    // https://tc39.github.io/ecma262/#sec-getmethod\n    function GetMethod(V, P) {\n      var func = V[P];\n      if (func === undefined || func === null) return undefined;\n      if (!IsCallable(func)) throw new TypeError();\n      return func;\n    }\n    // 7.4 Operations on Iterator Objects\n    // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n    function GetIterator(obj) {\n      var method = GetMethod(obj, iteratorSymbol);\n      if (!IsCallable(method)) throw new TypeError(); // from Call\n      var iterator = method.call(obj);\n      if (!IsObject(iterator)) throw new TypeError();\n      return iterator;\n    }\n    // 7.4.4 IteratorValue(iterResult)\n    // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n    function IteratorValue(iterResult) {\n      return iterResult.value;\n    }\n    // 7.4.5 IteratorStep(iterator)\n    // https://tc39.github.io/ecma262/#sec-iteratorstep\n    function IteratorStep(iterator) {\n      var result = iterator.next();\n      return result.done ? false : result;\n    }\n    // 7.4.6 IteratorClose(iterator, completion)\n    // https://tc39.github.io/ecma262/#sec-iteratorclose\n    function IteratorClose(iterator) {\n      var f = iterator[\"return\"];\n      if (f) f.call(iterator);\n    }\n    // 9.1 Ordinary Object Internal Methods and Internal Slots\n    // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n    // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n    // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n    function OrdinaryGetPrototypeOf(O) {\n      var proto = Object.getPrototypeOf(O);\n      if (typeof O !== \"function\" || O === functionPrototype) return proto;\n      // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n      // Try to determine the superclass constructor. Compatible implementations\n      // must either set __proto__ on a subclass constructor to the superclass constructor,\n      // or ensure each class has a valid `constructor` property on its prototype that\n      // points back to the constructor.\n      // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n      // This is the case when in ES6 or when using __proto__ in a compatible browser.\n      if (proto !== functionPrototype) return proto;\n      // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n      var prototype = O.prototype;\n      var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n      if (prototypeProto == null || prototypeProto === Object.prototype) return proto;\n      // If the constructor was not a function, then we cannot determine the heritage.\n      var constructor = prototypeProto.constructor;\n      if (typeof constructor !== \"function\") return proto;\n      // If we have some kind of self-reference, then we cannot determine the heritage.\n      if (constructor === O) return proto;\n      // we have a pretty good guess at the heritage.\n      return constructor;\n    }\n    // Global metadata registry\n    // - Allows `import \"reflect-metadata\"` and `import \"reflect-metadata/no-conflict\"` to interoperate.\n    // - Uses isolated metadata if `Reflect` is frozen before the registry can be installed.\n    /**\n     * Creates a registry used to allow multiple `reflect-metadata` providers.\n     */\n    function CreateMetadataRegistry() {\n      var fallback;\n      if (!IsUndefined(registrySymbol) && typeof root.Reflect !== \"undefined\" && !(registrySymbol in root.Reflect) && typeof root.Reflect.defineMetadata === \"function\") {\n        // interoperate with older version of `reflect-metadata` that did not support a registry.\n        fallback = CreateFallbackProvider(root.Reflect);\n      }\n      var first;\n      var second;\n      var rest;\n      var targetProviderMap = new _WeakMap();\n      var registry = {\n        registerProvider: registerProvider,\n        getProvider: getProvider,\n        setProvider: setProvider\n      };\n      return registry;\n      function registerProvider(provider) {\n        if (!Object.isExtensible(registry)) {\n          throw new Error(\"Cannot add provider to a frozen registry.\");\n        }\n        switch (true) {\n          case fallback === provider:\n            break;\n          case IsUndefined(first):\n            first = provider;\n            break;\n          case first === provider:\n            break;\n          case IsUndefined(second):\n            second = provider;\n            break;\n          case second === provider:\n            break;\n          default:\n            if (rest === undefined) rest = new _Set();\n            rest.add(provider);\n            break;\n        }\n      }\n      function getProviderNoCache(O, P) {\n        if (!IsUndefined(first)) {\n          if (first.isProviderFor(O, P)) return first;\n          if (!IsUndefined(second)) {\n            if (second.isProviderFor(O, P)) return first;\n            if (!IsUndefined(rest)) {\n              var iterator = GetIterator(rest);\n              while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                  return undefined;\n                }\n                var provider = IteratorValue(next);\n                if (provider.isProviderFor(O, P)) {\n                  IteratorClose(iterator);\n                  return provider;\n                }\n              }\n            }\n          }\n        }\n        if (!IsUndefined(fallback) && fallback.isProviderFor(O, P)) {\n          return fallback;\n        }\n        return undefined;\n      }\n      function getProvider(O, P) {\n        var providerMap = targetProviderMap.get(O);\n        var provider;\n        if (!IsUndefined(providerMap)) {\n          provider = providerMap.get(P);\n        }\n        if (!IsUndefined(provider)) {\n          return provider;\n        }\n        provider = getProviderNoCache(O, P);\n        if (!IsUndefined(provider)) {\n          if (IsUndefined(providerMap)) {\n            providerMap = new _Map();\n            targetProviderMap.set(O, providerMap);\n          }\n          providerMap.set(P, provider);\n        }\n        return provider;\n      }\n      function hasProvider(provider) {\n        if (IsUndefined(provider)) throw new TypeError();\n        return first === provider || second === provider || !IsUndefined(rest) && rest.has(provider);\n      }\n      function setProvider(O, P, provider) {\n        if (!hasProvider(provider)) {\n          throw new Error(\"Metadata provider not registered.\");\n        }\n        var existingProvider = getProvider(O, P);\n        if (existingProvider !== provider) {\n          if (!IsUndefined(existingProvider)) {\n            return false;\n          }\n          var providerMap = targetProviderMap.get(O);\n          if (IsUndefined(providerMap)) {\n            providerMap = new _Map();\n            targetProviderMap.set(O, providerMap);\n          }\n          providerMap.set(P, provider);\n        }\n        return true;\n      }\n    }\n    /**\n     * Gets or creates the shared registry of metadata providers.\n     */\n    function GetOrCreateMetadataRegistry() {\n      var metadataRegistry;\n      if (!IsUndefined(registrySymbol) && IsObject(root.Reflect) && Object.isExtensible(root.Reflect)) {\n        metadataRegistry = root.Reflect[registrySymbol];\n      }\n      if (IsUndefined(metadataRegistry)) {\n        metadataRegistry = CreateMetadataRegistry();\n      }\n      if (!IsUndefined(registrySymbol) && IsObject(root.Reflect) && Object.isExtensible(root.Reflect)) {\n        Object.defineProperty(root.Reflect, registrySymbol, {\n          enumerable: false,\n          configurable: false,\n          writable: false,\n          value: metadataRegistry\n        });\n      }\n      return metadataRegistry;\n    }\n    function CreateMetadataProvider(registry) {\n      // [[Metadata]] internal slot\n      // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n      var metadata = new _WeakMap();\n      var provider = {\n        isProviderFor: function (O, P) {\n          var targetMetadata = metadata.get(O);\n          if (IsUndefined(targetMetadata)) return false;\n          return targetMetadata.has(P);\n        },\n        OrdinaryDefineOwnMetadata: OrdinaryDefineOwnMetadata,\n        OrdinaryHasOwnMetadata: OrdinaryHasOwnMetadata,\n        OrdinaryGetOwnMetadata: OrdinaryGetOwnMetadata,\n        OrdinaryOwnMetadataKeys: OrdinaryOwnMetadataKeys,\n        OrdinaryDeleteMetadata: OrdinaryDeleteMetadata\n      };\n      metadataRegistry.registerProvider(provider);\n      return provider;\n      function GetOrCreateMetadataMap(O, P, Create) {\n        var targetMetadata = metadata.get(O);\n        var createdTargetMetadata = false;\n        if (IsUndefined(targetMetadata)) {\n          if (!Create) return undefined;\n          targetMetadata = new _Map();\n          metadata.set(O, targetMetadata);\n          createdTargetMetadata = true;\n        }\n        var metadataMap = targetMetadata.get(P);\n        if (IsUndefined(metadataMap)) {\n          if (!Create) return undefined;\n          metadataMap = new _Map();\n          targetMetadata.set(P, metadataMap);\n          if (!registry.setProvider(O, P, provider)) {\n            targetMetadata.delete(P);\n            if (createdTargetMetadata) {\n              metadata.delete(O);\n            }\n            throw new Error(\"Wrong provider for target.\");\n          }\n        }\n        return metadataMap;\n      }\n      // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n      // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n      function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/false);\n        if (IsUndefined(metadataMap)) return false;\n        return ToBoolean(metadataMap.has(MetadataKey));\n      }\n      // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n      // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n      function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/false);\n        if (IsUndefined(metadataMap)) return undefined;\n        return metadataMap.get(MetadataKey);\n      }\n      // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n      // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n      function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/true);\n        metadataMap.set(MetadataKey, MetadataValue);\n      }\n      // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n      // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n      function OrdinaryOwnMetadataKeys(O, P) {\n        var keys = [];\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/false);\n        if (IsUndefined(metadataMap)) return keys;\n        var keysObj = metadataMap.keys();\n        var iterator = GetIterator(keysObj);\n        var k = 0;\n        while (true) {\n          var next = IteratorStep(iterator);\n          if (!next) {\n            keys.length = k;\n            return keys;\n          }\n          var nextValue = IteratorValue(next);\n          try {\n            keys[k] = nextValue;\n          } catch (e) {\n            try {\n              IteratorClose(iterator);\n            } finally {\n              throw e;\n            }\n          }\n          k++;\n        }\n      }\n      function OrdinaryDeleteMetadata(MetadataKey, O, P) {\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/false);\n        if (IsUndefined(metadataMap)) return false;\n        if (!metadataMap.delete(MetadataKey)) return false;\n        if (metadataMap.size === 0) {\n          var targetMetadata = metadata.get(O);\n          if (!IsUndefined(targetMetadata)) {\n            targetMetadata.delete(P);\n            if (targetMetadata.size === 0) {\n              metadata.delete(targetMetadata);\n            }\n          }\n        }\n        return true;\n      }\n    }\n    function CreateFallbackProvider(reflect) {\n      var defineMetadata = reflect.defineMetadata,\n        hasOwnMetadata = reflect.hasOwnMetadata,\n        getOwnMetadata = reflect.getOwnMetadata,\n        getOwnMetadataKeys = reflect.getOwnMetadataKeys,\n        deleteMetadata = reflect.deleteMetadata;\n      var metadataOwner = new _WeakMap();\n      var provider = {\n        isProviderFor: function (O, P) {\n          var metadataPropertySet = metadataOwner.get(O);\n          if (!IsUndefined(metadataPropertySet) && metadataPropertySet.has(P)) {\n            return true;\n          }\n          if (getOwnMetadataKeys(O, P).length) {\n            if (IsUndefined(metadataPropertySet)) {\n              metadataPropertySet = new _Set();\n              metadataOwner.set(O, metadataPropertySet);\n            }\n            metadataPropertySet.add(P);\n            return true;\n          }\n          return false;\n        },\n        OrdinaryDefineOwnMetadata: defineMetadata,\n        OrdinaryHasOwnMetadata: hasOwnMetadata,\n        OrdinaryGetOwnMetadata: getOwnMetadata,\n        OrdinaryOwnMetadataKeys: getOwnMetadataKeys,\n        OrdinaryDeleteMetadata: deleteMetadata\n      };\n      return provider;\n    }\n    /**\n     * Gets the metadata provider for an object. If the object has no metadata provider and this is for a create operation,\n     * then this module's metadata provider is assigned to the object.\n     */\n    function GetMetadataProvider(O, P, Create) {\n      var registeredProvider = metadataRegistry.getProvider(O, P);\n      if (!IsUndefined(registeredProvider)) {\n        return registeredProvider;\n      }\n      if (Create) {\n        if (metadataRegistry.setProvider(O, P, metadataProvider)) {\n          return metadataProvider;\n        }\n        throw new Error(\"Illegal state.\");\n      }\n      return undefined;\n    }\n    // naive Map shim\n    function CreateMapPolyfill() {\n      var cacheSentinel = {};\n      var arraySentinel = [];\n      var MapIterator = /** @class */function () {\n        function MapIterator(keys, values, selector) {\n          this._index = 0;\n          this._keys = keys;\n          this._values = values;\n          this._selector = selector;\n        }\n        MapIterator.prototype[\"@@iterator\"] = function () {\n          return this;\n        };\n        MapIterator.prototype[iteratorSymbol] = function () {\n          return this;\n        };\n        MapIterator.prototype.next = function () {\n          var index = this._index;\n          if (index >= 0 && index < this._keys.length) {\n            var result = this._selector(this._keys[index], this._values[index]);\n            if (index + 1 >= this._keys.length) {\n              this._index = -1;\n              this._keys = arraySentinel;\n              this._values = arraySentinel;\n            } else {\n              this._index++;\n            }\n            return {\n              value: result,\n              done: false\n            };\n          }\n          return {\n            value: undefined,\n            done: true\n          };\n        };\n        MapIterator.prototype.throw = function (error) {\n          if (this._index >= 0) {\n            this._index = -1;\n            this._keys = arraySentinel;\n            this._values = arraySentinel;\n          }\n          throw error;\n        };\n        MapIterator.prototype.return = function (value) {\n          if (this._index >= 0) {\n            this._index = -1;\n            this._keys = arraySentinel;\n            this._values = arraySentinel;\n          }\n          return {\n            value: value,\n            done: true\n          };\n        };\n        return MapIterator;\n      }();\n      var Map = /** @class */function () {\n        function Map() {\n          this._keys = [];\n          this._values = [];\n          this._cacheKey = cacheSentinel;\n          this._cacheIndex = -2;\n        }\n        Object.defineProperty(Map.prototype, \"size\", {\n          get: function () {\n            return this._keys.length;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Map.prototype.has = function (key) {\n          return this._find(key, /*insert*/false) >= 0;\n        };\n        Map.prototype.get = function (key) {\n          var index = this._find(key, /*insert*/false);\n          return index >= 0 ? this._values[index] : undefined;\n        };\n        Map.prototype.set = function (key, value) {\n          var index = this._find(key, /*insert*/true);\n          this._values[index] = value;\n          return this;\n        };\n        Map.prototype.delete = function (key) {\n          var index = this._find(key, /*insert*/false);\n          if (index >= 0) {\n            var size = this._keys.length;\n            for (var i = index + 1; i < size; i++) {\n              this._keys[i - 1] = this._keys[i];\n              this._values[i - 1] = this._values[i];\n            }\n            this._keys.length--;\n            this._values.length--;\n            if (SameValueZero(key, this._cacheKey)) {\n              this._cacheKey = cacheSentinel;\n              this._cacheIndex = -2;\n            }\n            return true;\n          }\n          return false;\n        };\n        Map.prototype.clear = function () {\n          this._keys.length = 0;\n          this._values.length = 0;\n          this._cacheKey = cacheSentinel;\n          this._cacheIndex = -2;\n        };\n        Map.prototype.keys = function () {\n          return new MapIterator(this._keys, this._values, getKey);\n        };\n        Map.prototype.values = function () {\n          return new MapIterator(this._keys, this._values, getValue);\n        };\n        Map.prototype.entries = function () {\n          return new MapIterator(this._keys, this._values, getEntry);\n        };\n        Map.prototype[\"@@iterator\"] = function () {\n          return this.entries();\n        };\n        Map.prototype[iteratorSymbol] = function () {\n          return this.entries();\n        };\n        Map.prototype._find = function (key, insert) {\n          if (!SameValueZero(this._cacheKey, key)) {\n            this._cacheIndex = -1;\n            for (var i = 0; i < this._keys.length; i++) {\n              if (SameValueZero(this._keys[i], key)) {\n                this._cacheIndex = i;\n                break;\n              }\n            }\n          }\n          if (this._cacheIndex < 0 && insert) {\n            this._cacheIndex = this._keys.length;\n            this._keys.push(key);\n            this._values.push(undefined);\n          }\n          return this._cacheIndex;\n        };\n        return Map;\n      }();\n      return Map;\n      function getKey(key, _) {\n        return key;\n      }\n      function getValue(_, value) {\n        return value;\n      }\n      function getEntry(key, value) {\n        return [key, value];\n      }\n    }\n    // naive Set shim\n    function CreateSetPolyfill() {\n      var Set = /** @class */function () {\n        function Set() {\n          this._map = new _Map();\n        }\n        Object.defineProperty(Set.prototype, \"size\", {\n          get: function () {\n            return this._map.size;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Set.prototype.has = function (value) {\n          return this._map.has(value);\n        };\n        Set.prototype.add = function (value) {\n          return this._map.set(value, value), this;\n        };\n        Set.prototype.delete = function (value) {\n          return this._map.delete(value);\n        };\n        Set.prototype.clear = function () {\n          this._map.clear();\n        };\n        Set.prototype.keys = function () {\n          return this._map.keys();\n        };\n        Set.prototype.values = function () {\n          return this._map.keys();\n        };\n        Set.prototype.entries = function () {\n          return this._map.entries();\n        };\n        Set.prototype[\"@@iterator\"] = function () {\n          return this.keys();\n        };\n        Set.prototype[iteratorSymbol] = function () {\n          return this.keys();\n        };\n        return Set;\n      }();\n      return Set;\n    }\n    // naive WeakMap shim\n    function CreateWeakMapPolyfill() {\n      var UUID_SIZE = 16;\n      var keys = HashMap.create();\n      var rootKey = CreateUniqueKey();\n      return /** @class */function () {\n        function WeakMap() {\n          this._key = CreateUniqueKey();\n        }\n        WeakMap.prototype.has = function (target) {\n          var table = GetOrCreateWeakMapTable(target, /*create*/false);\n          return table !== undefined ? HashMap.has(table, this._key) : false;\n        };\n        WeakMap.prototype.get = function (target) {\n          var table = GetOrCreateWeakMapTable(target, /*create*/false);\n          return table !== undefined ? HashMap.get(table, this._key) : undefined;\n        };\n        WeakMap.prototype.set = function (target, value) {\n          var table = GetOrCreateWeakMapTable(target, /*create*/true);\n          table[this._key] = value;\n          return this;\n        };\n        WeakMap.prototype.delete = function (target) {\n          var table = GetOrCreateWeakMapTable(target, /*create*/false);\n          return table !== undefined ? delete table[this._key] : false;\n        };\n        WeakMap.prototype.clear = function () {\n          // NOTE: not a real clear, just makes the previous data unreachable\n          this._key = CreateUniqueKey();\n        };\n        return WeakMap;\n      }();\n      function CreateUniqueKey() {\n        var key;\n        do key = \"@@WeakMap@@\" + CreateUUID(); while (HashMap.has(keys, key));\n        keys[key] = true;\n        return key;\n      }\n      function GetOrCreateWeakMapTable(target, create) {\n        if (!hasOwn.call(target, rootKey)) {\n          if (!create) return undefined;\n          Object.defineProperty(target, rootKey, {\n            value: HashMap.create()\n          });\n        }\n        return target[rootKey];\n      }\n      function FillRandomBytes(buffer, size) {\n        for (var i = 0; i < size; ++i) buffer[i] = Math.random() * 0xff | 0;\n        return buffer;\n      }\n      function GenRandomBytes(size) {\n        if (typeof Uint8Array === \"function\") {\n          var array = new Uint8Array(size);\n          if (typeof crypto !== \"undefined\") {\n            crypto.getRandomValues(array);\n          } else if (typeof msCrypto !== \"undefined\") {\n            msCrypto.getRandomValues(array);\n          } else {\n            FillRandomBytes(array, size);\n          }\n          return array;\n        }\n        return FillRandomBytes(new Array(size), size);\n      }\n      function CreateUUID() {\n        var data = GenRandomBytes(UUID_SIZE);\n        // mark as random - RFC 4122  4.4\n        data[6] = data[6] & 0x4f | 0x40;\n        data[8] = data[8] & 0xbf | 0x80;\n        var result = \"\";\n        for (var offset = 0; offset < UUID_SIZE; ++offset) {\n          var byte = data[offset];\n          if (offset === 4 || offset === 6 || offset === 8) result += \"-\";\n          if (byte < 16) result += \"0\";\n          result += byte.toString(16).toLowerCase();\n        }\n        return result;\n      }\n    }\n    // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n    function MakeDictionary(obj) {\n      obj.__ = undefined;\n      delete obj.__;\n      return obj;\n    }\n  });\n})(Reflect || (Reflect = {}));","!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (t = \"undefined\" != typeof globalThis ? globalThis : t || self).dayjs = e();\n}(this, function () {\n  \"use strict\";\n\n  var t = 1e3,\n    e = 6e4,\n    n = 36e5,\n    r = \"millisecond\",\n    i = \"second\",\n    s = \"minute\",\n    u = \"hour\",\n    a = \"day\",\n    o = \"week\",\n    c = \"month\",\n    f = \"quarter\",\n    h = \"year\",\n    d = \"date\",\n    l = \"Invalid Date\",\n    $ = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,\n    y = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,\n    M = {\n      name: \"en\",\n      weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n      months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n      ordinal: function (t) {\n        var e = [\"th\", \"st\", \"nd\", \"rd\"],\n          n = t % 100;\n        return \"[\" + t + (e[(n - 20) % 10] || e[n] || e[0]) + \"]\";\n      }\n    },\n    m = function (t, e, n) {\n      var r = String(t);\n      return !r || r.length >= e ? t : \"\" + Array(e + 1 - r.length).join(n) + t;\n    },\n    v = {\n      s: m,\n      z: function (t) {\n        var e = -t.utcOffset(),\n          n = Math.abs(e),\n          r = Math.floor(n / 60),\n          i = n % 60;\n        return (e <= 0 ? \"+\" : \"-\") + m(r, 2, \"0\") + \":\" + m(i, 2, \"0\");\n      },\n      m: function t(e, n) {\n        if (e.date() < n.date()) return -t(n, e);\n        var r = 12 * (n.year() - e.year()) + (n.month() - e.month()),\n          i = e.clone().add(r, c),\n          s = n - i < 0,\n          u = e.clone().add(r + (s ? -1 : 1), c);\n        return +(-(r + (n - i) / (s ? i - u : u - i)) || 0);\n      },\n      a: function (t) {\n        return t < 0 ? Math.ceil(t) || 0 : Math.floor(t);\n      },\n      p: function (t) {\n        return {\n          M: c,\n          y: h,\n          w: o,\n          d: a,\n          D: d,\n          h: u,\n          m: s,\n          s: i,\n          ms: r,\n          Q: f\n        }[t] || String(t || \"\").toLowerCase().replace(/s$/, \"\");\n      },\n      u: function (t) {\n        return void 0 === t;\n      }\n    },\n    g = \"en\",\n    D = {};\n  D[g] = M;\n  var p = \"$isDayjsObject\",\n    S = function (t) {\n      return t instanceof _ || !(!t || !t[p]);\n    },\n    w = function t(e, n, r) {\n      var i;\n      if (!e) return g;\n      if (\"string\" == typeof e) {\n        var s = e.toLowerCase();\n        D[s] && (i = s), n && (D[s] = n, i = s);\n        var u = e.split(\"-\");\n        if (!i && u.length > 1) return t(u[0]);\n      } else {\n        var a = e.name;\n        D[a] = e, i = a;\n      }\n      return !r && i && (g = i), i || !r && g;\n    },\n    O = function (t, e) {\n      if (S(t)) return t.clone();\n      var n = \"object\" == typeof e ? e : {};\n      return n.date = t, n.args = arguments, new _(n);\n    },\n    b = v;\n  b.l = w, b.i = S, b.w = function (t, e) {\n    return O(t, {\n      locale: e.$L,\n      utc: e.$u,\n      x: e.$x,\n      $offset: e.$offset\n    });\n  };\n  var _ = function () {\n      function M(t) {\n        this.$L = w(t.locale, null, !0), this.parse(t), this.$x = this.$x || t.x || {}, this[p] = !0;\n      }\n      var m = M.prototype;\n      return m.parse = function (t) {\n        this.$d = function (t) {\n          var e = t.date,\n            n = t.utc;\n          if (null === e) return new Date(NaN);\n          if (b.u(e)) return new Date();\n          if (e instanceof Date) return new Date(e);\n          if (\"string\" == typeof e && !/Z$/i.test(e)) {\n            var r = e.match($);\n            if (r) {\n              var i = r[2] - 1 || 0,\n                s = (r[7] || \"0\").substring(0, 3);\n              return n ? new Date(Date.UTC(r[1], i, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, s)) : new Date(r[1], i, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, s);\n            }\n          }\n          return new Date(e);\n        }(t), this.init();\n      }, m.init = function () {\n        var t = this.$d;\n        this.$y = t.getFullYear(), this.$M = t.getMonth(), this.$D = t.getDate(), this.$W = t.getDay(), this.$H = t.getHours(), this.$m = t.getMinutes(), this.$s = t.getSeconds(), this.$ms = t.getMilliseconds();\n      }, m.$utils = function () {\n        return b;\n      }, m.isValid = function () {\n        return !(this.$d.toString() === l);\n      }, m.isSame = function (t, e) {\n        var n = O(t);\n        return this.startOf(e) <= n && n <= this.endOf(e);\n      }, m.isAfter = function (t, e) {\n        return O(t) < this.startOf(e);\n      }, m.isBefore = function (t, e) {\n        return this.endOf(e) < O(t);\n      }, m.$g = function (t, e, n) {\n        return b.u(t) ? this[e] : this.set(n, t);\n      }, m.unix = function () {\n        return Math.floor(this.valueOf() / 1e3);\n      }, m.valueOf = function () {\n        return this.$d.getTime();\n      }, m.startOf = function (t, e) {\n        var n = this,\n          r = !!b.u(e) || e,\n          f = b.p(t),\n          l = function (t, e) {\n            var i = b.w(n.$u ? Date.UTC(n.$y, e, t) : new Date(n.$y, e, t), n);\n            return r ? i : i.endOf(a);\n          },\n          $ = function (t, e) {\n            return b.w(n.toDate()[t].apply(n.toDate(\"s\"), (r ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(e)), n);\n          },\n          y = this.$W,\n          M = this.$M,\n          m = this.$D,\n          v = \"set\" + (this.$u ? \"UTC\" : \"\");\n        switch (f) {\n          case h:\n            return r ? l(1, 0) : l(31, 11);\n          case c:\n            return r ? l(1, M) : l(0, M + 1);\n          case o:\n            var g = this.$locale().weekStart || 0,\n              D = (y < g ? y + 7 : y) - g;\n            return l(r ? m - D : m + (6 - D), M);\n          case a:\n          case d:\n            return $(v + \"Hours\", 0);\n          case u:\n            return $(v + \"Minutes\", 1);\n          case s:\n            return $(v + \"Seconds\", 2);\n          case i:\n            return $(v + \"Milliseconds\", 3);\n          default:\n            return this.clone();\n        }\n      }, m.endOf = function (t) {\n        return this.startOf(t, !1);\n      }, m.$set = function (t, e) {\n        var n,\n          o = b.p(t),\n          f = \"set\" + (this.$u ? \"UTC\" : \"\"),\n          l = (n = {}, n[a] = f + \"Date\", n[d] = f + \"Date\", n[c] = f + \"Month\", n[h] = f + \"FullYear\", n[u] = f + \"Hours\", n[s] = f + \"Minutes\", n[i] = f + \"Seconds\", n[r] = f + \"Milliseconds\", n)[o],\n          $ = o === a ? this.$D + (e - this.$W) : e;\n        if (o === c || o === h) {\n          var y = this.clone().set(d, 1);\n          y.$d[l]($), y.init(), this.$d = y.set(d, Math.min(this.$D, y.daysInMonth())).$d;\n        } else l && this.$d[l]($);\n        return this.init(), this;\n      }, m.set = function (t, e) {\n        return this.clone().$set(t, e);\n      }, m.get = function (t) {\n        return this[b.p(t)]();\n      }, m.add = function (r, f) {\n        var d,\n          l = this;\n        r = Number(r);\n        var $ = b.p(f),\n          y = function (t) {\n            var e = O(l);\n            return b.w(e.date(e.date() + Math.round(t * r)), l);\n          };\n        if ($ === c) return this.set(c, this.$M + r);\n        if ($ === h) return this.set(h, this.$y + r);\n        if ($ === a) return y(1);\n        if ($ === o) return y(7);\n        var M = (d = {}, d[s] = e, d[u] = n, d[i] = t, d)[$] || 1,\n          m = this.$d.getTime() + r * M;\n        return b.w(m, this);\n      }, m.subtract = function (t, e) {\n        return this.add(-1 * t, e);\n      }, m.format = function (t) {\n        var e = this,\n          n = this.$locale();\n        if (!this.isValid()) return n.invalidDate || l;\n        var r = t || \"YYYY-MM-DDTHH:mm:ssZ\",\n          i = b.z(this),\n          s = this.$H,\n          u = this.$m,\n          a = this.$M,\n          o = n.weekdays,\n          c = n.months,\n          f = n.meridiem,\n          h = function (t, n, i, s) {\n            return t && (t[n] || t(e, r)) || i[n].slice(0, s);\n          },\n          d = function (t) {\n            return b.s(s % 12 || 12, t, \"0\");\n          },\n          $ = f || function (t, e, n) {\n            var r = t < 12 ? \"AM\" : \"PM\";\n            return n ? r.toLowerCase() : r;\n          };\n        return r.replace(y, function (t, r) {\n          return r || function (t) {\n            switch (t) {\n              case \"YY\":\n                return String(e.$y).slice(-2);\n              case \"YYYY\":\n                return b.s(e.$y, 4, \"0\");\n              case \"M\":\n                return a + 1;\n              case \"MM\":\n                return b.s(a + 1, 2, \"0\");\n              case \"MMM\":\n                return h(n.monthsShort, a, c, 3);\n              case \"MMMM\":\n                return h(c, a);\n              case \"D\":\n                return e.$D;\n              case \"DD\":\n                return b.s(e.$D, 2, \"0\");\n              case \"d\":\n                return String(e.$W);\n              case \"dd\":\n                return h(n.weekdaysMin, e.$W, o, 2);\n              case \"ddd\":\n                return h(n.weekdaysShort, e.$W, o, 3);\n              case \"dddd\":\n                return o[e.$W];\n              case \"H\":\n                return String(s);\n              case \"HH\":\n                return b.s(s, 2, \"0\");\n              case \"h\":\n                return d(1);\n              case \"hh\":\n                return d(2);\n              case \"a\":\n                return $(s, u, !0);\n              case \"A\":\n                return $(s, u, !1);\n              case \"m\":\n                return String(u);\n              case \"mm\":\n                return b.s(u, 2, \"0\");\n              case \"s\":\n                return String(e.$s);\n              case \"ss\":\n                return b.s(e.$s, 2, \"0\");\n              case \"SSS\":\n                return b.s(e.$ms, 3, \"0\");\n              case \"Z\":\n                return i;\n            }\n            return null;\n          }(t) || i.replace(\":\", \"\");\n        });\n      }, m.utcOffset = function () {\n        return 15 * -Math.round(this.$d.getTimezoneOffset() / 15);\n      }, m.diff = function (r, d, l) {\n        var $,\n          y = this,\n          M = b.p(d),\n          m = O(r),\n          v = (m.utcOffset() - this.utcOffset()) * e,\n          g = this - m,\n          D = function () {\n            return b.m(y, m);\n          };\n        switch (M) {\n          case h:\n            $ = D() / 12;\n            break;\n          case c:\n            $ = D();\n            break;\n          case f:\n            $ = D() / 3;\n            break;\n          case o:\n            $ = (g - v) / 6048e5;\n            break;\n          case a:\n            $ = (g - v) / 864e5;\n            break;\n          case u:\n            $ = g / n;\n            break;\n          case s:\n            $ = g / e;\n            break;\n          case i:\n            $ = g / t;\n            break;\n          default:\n            $ = g;\n        }\n        return l ? $ : b.a($);\n      }, m.daysInMonth = function () {\n        return this.endOf(c).$D;\n      }, m.$locale = function () {\n        return D[this.$L];\n      }, m.locale = function (t, e) {\n        if (!t) return this.$L;\n        var n = this.clone(),\n          r = w(t, e, !0);\n        return r && (n.$L = r), n;\n      }, m.clone = function () {\n        return b.w(this.$d, this);\n      }, m.toDate = function () {\n        return new Date(this.valueOf());\n      }, m.toJSON = function () {\n        return this.isValid() ? this.toISOString() : null;\n      }, m.toISOString = function () {\n        return this.$d.toISOString();\n      }, m.toString = function () {\n        return this.$d.toUTCString();\n      }, M;\n    }(),\n    k = _.prototype;\n  return O.prototype = k, [[\"$ms\", r], [\"$s\", i], [\"$m\", s], [\"$H\", u], [\"$W\", a], [\"$M\", c], [\"$y\", h], [\"$D\", d]].forEach(function (t) {\n    k[t[1]] = function (e) {\n      return this.$g(e, t[0], t[1]);\n    };\n  }), O.extend = function (t, e) {\n    return t.$i || (t(e, _, O), t.$i = !0), O;\n  }, O.locale = w, O.isDayjs = S, O.unix = function (t) {\n    return O(1e3 * t);\n  }, O.en = D[g], O.Ls = D, O.p = {}, O;\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_ar = t(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function t(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var n = t(e),\n    r = \"___________\".split(\"_\"),\n    d = {\n      1: \"\",\n      2: \"\",\n      3: \"\",\n      4: \"\",\n      5: \"\",\n      6: \"\",\n      7: \"\",\n      8: \"\",\n      9: \"\",\n      0: \"\"\n    },\n    _ = {\n      \"\": \"1\",\n      \"\": \"2\",\n      \"\": \"3\",\n      \"\": \"4\",\n      \"\": \"5\",\n      \"\": \"6\",\n      \"\": \"7\",\n      \"\": \"8\",\n      \"\": \"9\",\n      \"\": \"0\"\n    },\n    o = {\n      name: \"ar\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      months: r,\n      monthsShort: r,\n      weekStart: 6,\n      meridiem: function (e) {\n        return e > 12 ? \"\" : \"\";\n      },\n      relativeTime: {\n        future: \" %s\",\n        past: \" %s\",\n        s: \" \",\n        m: \" \",\n        mm: \"%d \",\n        h: \" \",\n        hh: \"%d \",\n        d: \" \",\n        dd: \"%d \",\n        M: \" \",\n        MM: \"%d \",\n        y: \" \",\n        yy: \"%d \"\n      },\n      preparse: function (e) {\n        return e.replace(/[]/g, function (e) {\n          return _[e];\n        }).replace(//g, \",\");\n      },\n      postformat: function (e) {\n        return e.replace(/\\d/g, function (e) {\n          return d[e];\n        }).replace(/,/g, \"\");\n      },\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"D/M/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      }\n    };\n  return n.default.locale(o, null, !0), o;\n});","!function (e, _) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = _(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], _) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_bg = _(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function _(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = _(e),\n    d = {\n      name: \"bg\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      months: \"___________\".split(\"_\"),\n      monthsShort: \"___________\".split(\"_\"),\n      weekStart: 1,\n      ordinal: function (e) {\n        var _ = e % 100;\n        if (_ > 10 && _ < 20) return e + \"-\";\n        var t = e % 10;\n        return 1 === t ? e + \"-\" : 2 === t ? e + \"-\" : 7 === t || 8 === t ? e + \"-\" : e + \"-\";\n      },\n      formats: {\n        LT: \"H:mm\",\n        LTS: \"H:mm:ss\",\n        L: \"D.MM.YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY H:mm\",\n        LLLL: \"dddd, D MMMM YYYY H:mm\"\n      },\n      relativeTime: {\n        future: \" %s\",\n        past: \" %s\",\n        s: \" \",\n        m: \"\",\n        mm: \"%d \",\n        h: \"\",\n        hh: \"%d \",\n        d: \"\",\n        dd: \"%d \",\n        M: \"\",\n        MM: \"%d \",\n        y: \"\",\n        yy: \"%d \"\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_cs = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e);\n  function s(e) {\n    return e > 1 && e < 5 && 1 != ~~(e / 10);\n  }\n  function r(e, n, t, r) {\n    var d = e + \" \";\n    switch (t) {\n      case \"s\":\n        return n || r ? \"pr sekund\" : \"pr sekundami\";\n      case \"m\":\n        return n ? \"minuta\" : r ? \"minutu\" : \"minutou\";\n      case \"mm\":\n        return n || r ? d + (s(e) ? \"minuty\" : \"minut\") : d + \"minutami\";\n      case \"h\":\n        return n ? \"hodina\" : r ? \"hodinu\" : \"hodinou\";\n      case \"hh\":\n        return n || r ? d + (s(e) ? \"hodiny\" : \"hodin\") : d + \"hodinami\";\n      case \"d\":\n        return n || r ? \"den\" : \"dnem\";\n      case \"dd\":\n        return n || r ? d + (s(e) ? \"dny\" : \"dn\") : d + \"dny\";\n      case \"M\":\n        return n || r ? \"msc\" : \"mscem\";\n      case \"MM\":\n        return n || r ? d + (s(e) ? \"msce\" : \"msc\") : d + \"msci\";\n      case \"y\":\n        return n || r ? \"rok\" : \"rokem\";\n      case \"yy\":\n        return n || r ? d + (s(e) ? \"roky\" : \"let\") : d + \"lety\";\n    }\n  }\n  var d = {\n    name: \"cs\",\n    weekdays: \"nedle_pondl_ter_steda_tvrtek_ptek_sobota\".split(\"_\"),\n    weekdaysShort: \"ne_po_t_st_t_p_so\".split(\"_\"),\n    weekdaysMin: \"ne_po_t_st_t_p_so\".split(\"_\"),\n    months: \"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec\".split(\"_\"),\n    monthsShort: \"led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro\".split(\"_\"),\n    weekStart: 1,\n    yearStart: 4,\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    formats: {\n      LT: \"H:mm\",\n      LTS: \"H:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY H:mm\",\n      LLLL: \"dddd D. MMMM YYYY H:mm\",\n      l: \"D. M. YYYY\"\n    },\n    relativeTime: {\n      future: \"za %s\",\n      past: \"ped %s\",\n      s: r,\n      m: r,\n      mm: r,\n      h: r,\n      hh: r,\n      d: r,\n      dd: r,\n      M: r,\n      MM: r,\n      y: r,\n      yy: r\n    }\n  };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_da = t(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function t(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var d = t(e),\n    a = {\n      name: \"da\",\n      weekdays: \"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag\".split(\"_\"),\n      weekdaysShort: \"sn._man._tirs._ons._tors._fre._lr.\".split(\"_\"),\n      weekdaysMin: \"s._ma._ti._on._to._fr._l.\".split(\"_\"),\n      months: \"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december\".split(\"_\"),\n      monthsShort: \"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.\".split(\"_\"),\n      weekStart: 1,\n      yearStart: 4,\n      ordinal: function (e) {\n        return e + \".\";\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD.MM.YYYY\",\n        LL: \"D. MMMM YYYY\",\n        LLL: \"D. MMMM YYYY HH:mm\",\n        LLLL: \"dddd [d.] D. MMMM YYYY [kl.] HH:mm\"\n      },\n      relativeTime: {\n        future: \"om %s\",\n        past: \"%s siden\",\n        s: \"f sekunder\",\n        m: \"et minut\",\n        mm: \"%d minutter\",\n        h: \"en time\",\n        hh: \"%d timer\",\n        d: \"en dag\",\n        dd: \"%d dage\",\n        M: \"en mned\",\n        MM: \"%d mneder\",\n        y: \"et r\",\n        yy: \"%d r\"\n      }\n    };\n  return d.default.locale(a, null, !0), a;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_de = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e),\n    a = {\n      s: \"ein paar Sekunden\",\n      m: [\"eine Minute\", \"einer Minute\"],\n      mm: \"%d Minuten\",\n      h: [\"eine Stunde\", \"einer Stunde\"],\n      hh: \"%d Stunden\",\n      d: [\"ein Tag\", \"einem Tag\"],\n      dd: [\"%d Tage\", \"%d Tagen\"],\n      M: [\"ein Monat\", \"einem Monat\"],\n      MM: [\"%d Monate\", \"%d Monaten\"],\n      y: [\"ein Jahr\", \"einem Jahr\"],\n      yy: [\"%d Jahre\", \"%d Jahren\"]\n    };\n  function i(e, n, t) {\n    var i = a[t];\n    return Array.isArray(i) && (i = i[n ? 0 : 1]), i.replace(\"%d\", e);\n  }\n  var r = {\n    name: \"de\",\n    weekdays: \"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag\".split(\"_\"),\n    weekdaysShort: \"So._Mo._Di._Mi._Do._Fr._Sa.\".split(\"_\"),\n    weekdaysMin: \"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),\n    months: \"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),\n    monthsShort: \"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.\".split(\"_\"),\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    weekStart: 1,\n    yearStart: 4,\n    formats: {\n      LTS: \"HH:mm:ss\",\n      LT: \"HH:mm\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY HH:mm\",\n      LLLL: \"dddd, D. MMMM YYYY HH:mm\"\n    },\n    relativeTime: {\n      future: \"in %s\",\n      past: \"vor %s\",\n      s: i,\n      m: i,\n      mm: i,\n      h: i,\n      hh: i,\n      d: i,\n      dd: i,\n      M: i,\n      MM: i,\n      y: i,\n      yy: i\n    }\n  };\n  return t.default.locale(r, null, !0), r;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_de_at = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e),\n    i = {\n      s: \"ein paar Sekunden\",\n      m: [\"eine Minute\", \"einer Minute\"],\n      mm: \"%d Minuten\",\n      h: [\"eine Stunde\", \"einer Stunde\"],\n      hh: \"%d Stunden\",\n      d: [\"ein Tag\", \"einem Tag\"],\n      dd: [\"%d Tage\", \"%d Tagen\"],\n      M: [\"ein Monat\", \"einem Monat\"],\n      MM: [\"%d Monate\", \"%d Monaten\"],\n      y: [\"ein Jahr\", \"einem Jahr\"],\n      yy: [\"%d Jahre\", \"%d Jahren\"]\n    };\n  function a(e, n, t) {\n    var a = i[t];\n    return Array.isArray(a) && (a = a[n ? 0 : 1]), a.replace(\"%d\", e);\n  }\n  var r = {\n    name: \"de-at\",\n    weekdays: \"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag\".split(\"_\"),\n    weekdaysShort: \"So._Mo._Di._Mi._Do._Fr._Sa.\".split(\"_\"),\n    weekdaysMin: \"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),\n    months: \"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),\n    monthsShort: \"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.\".split(\"_\"),\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    weekStart: 1,\n    formats: {\n      LTS: \"HH:mm:ss\",\n      LT: \"HH:mm\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY HH:mm\",\n      LLLL: \"dddd, D. MMMM YYYY HH:mm\"\n    },\n    relativeTime: {\n      future: \"in %s\",\n      past: \"vor %s\",\n      s: a,\n      m: a,\n      mm: a,\n      h: a,\n      hh: a,\n      d: a,\n      dd: a,\n      M: a,\n      MM: a,\n      y: a,\n      yy: a\n    }\n  };\n  return t.default.locale(r, null, !0), r;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_de_ch = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e),\n    a = {\n      s: \"ein paar Sekunden\",\n      m: [\"eine Minute\", \"einer Minute\"],\n      mm: \"%d Minuten\",\n      h: [\"eine Stunde\", \"einer Stunde\"],\n      hh: \"%d Stunden\",\n      d: [\"ein Tag\", \"einem Tag\"],\n      dd: [\"%d Tage\", \"%d Tagen\"],\n      M: [\"ein Monat\", \"einem Monat\"],\n      MM: [\"%d Monate\", \"%d Monaten\"],\n      y: [\"ein Jahr\", \"einem Jahr\"],\n      yy: [\"%d Jahre\", \"%d Jahren\"]\n    };\n  function i(e, n, t) {\n    var i = a[t];\n    return Array.isArray(i) && (i = i[n ? 0 : 1]), i.replace(\"%d\", e);\n  }\n  var r = {\n    name: \"de-ch\",\n    weekdays: \"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag\".split(\"_\"),\n    weekdaysShort: \"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),\n    weekdaysMin: \"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),\n    months: \"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),\n    monthsShort: \"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.\".split(\"_\"),\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    weekStart: 1,\n    formats: {\n      LT: \"HH:mm\",\n      LTS: \"HH:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY HH:mm\",\n      LLLL: \"dddd, D. MMMM YYYY HH:mm\"\n    },\n    relativeTime: {\n      future: \"in %s\",\n      past: \"vor %s\",\n      s: i,\n      m: i,\n      mm: i,\n      h: i,\n      hh: i,\n      d: i,\n      dd: i,\n      M: i,\n      MM: i,\n      y: i,\n      yy: i\n    }\n  };\n  return t.default.locale(r, null, !0), r;\n});","!function (e, _) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = _(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], _) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_el = _(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function _(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = _(e),\n    d = {\n      name: \"el\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      months: \"___________\".split(\"_\"),\n      monthsShort: \"___________\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      weekStart: 1,\n      relativeTime: {\n        future: \" %s\",\n        past: \" %s\",\n        s: \" \",\n        m: \" \",\n        mm: \"%d \",\n        h: \" \",\n        hh: \"%d \",\n        d: \" \",\n        dd: \"%d \",\n        M: \" \",\n        MM: \"%d \",\n        y: \" \",\n        yy: \"%d \"\n      },\n      formats: {\n        LT: \"h:mm A\",\n        LTS: \"h:mm:ss A\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY h:mm A\",\n        LLLL: \"dddd, D MMMM YYYY h:mm A\"\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_en = n();\n}(this, function () {\n  \"use strict\";\n\n  return {\n    name: \"en\",\n    weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n    months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n    ordinal: function (e) {\n      var n = [\"th\", \"st\", \"nd\", \"rd\"],\n        t = e % 100;\n      return \"[\" + e + (n[(t - 20) % 10] || n[t] || n[0]) + \"]\";\n    }\n  };\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_en_au = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    _ = {\n      name: \"en-au\",\n      weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n      months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n      weekdaysMin: \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"h:mm A\",\n        LTS: \"h:mm:ss A\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY h:mm A\",\n        LLLL: \"dddd, D MMMM YYYY h:mm A\"\n      },\n      relativeTime: {\n        future: \"in %s\",\n        past: \"%s ago\",\n        s: \"a few seconds\",\n        m: \"a minute\",\n        mm: \"%d minutes\",\n        h: \"an hour\",\n        hh: \"%d hours\",\n        d: \"a day\",\n        dd: \"%d days\",\n        M: \"a month\",\n        MM: \"%d months\",\n        y: \"a year\",\n        yy: \"%d years\"\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_en_ca = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var _ = a(e),\n    t = {\n      name: \"en-ca\",\n      weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n      months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n      weekdaysShort: \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n      weekdaysMin: \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"h:mm A\",\n        LTS: \"h:mm:ss A\",\n        L: \"YYYY-MM-DD\",\n        LL: \"MMMM D, YYYY\",\n        LLL: \"MMMM D, YYYY h:mm A\",\n        LLLL: \"dddd, MMMM D, YYYY h:mm A\"\n      },\n      relativeTime: {\n        future: \"in %s\",\n        past: \"%s ago\",\n        s: \"a few seconds\",\n        m: \"a minute\",\n        mm: \"%d minutes\",\n        h: \"an hour\",\n        hh: \"%d hours\",\n        d: \"a day\",\n        dd: \"%d days\",\n        M: \"a month\",\n        MM: \"%d months\",\n        y: \"a year\",\n        yy: \"%d years\"\n      }\n    };\n  return _.default.locale(t, null, !0), t;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_en_gb = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    _ = {\n      name: \"en-gb\",\n      weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n      weekdaysShort: \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n      weekdaysMin: \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n      months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n      weekStart: 1,\n      yearStart: 4,\n      relativeTime: {\n        future: \"in %s\",\n        past: \"%s ago\",\n        s: \"a few seconds\",\n        m: \"a minute\",\n        mm: \"%d minutes\",\n        h: \"an hour\",\n        hh: \"%d hours\",\n        d: \"a day\",\n        dd: \"%d days\",\n        M: \"a month\",\n        MM: \"%d months\",\n        y: \"a year\",\n        yy: \"%d years\"\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd, D MMMM YYYY HH:mm\"\n      },\n      ordinal: function (e) {\n        var a = [\"th\", \"st\", \"nd\", \"rd\"],\n          t = e % 100;\n        return \"[\" + e + (a[(t - 20) % 10] || a[t] || a[0]) + \"]\";\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_en_ie = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    _ = {\n      name: \"en-ie\",\n      weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n      months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n      weekdaysMin: \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"in %s\",\n        past: \"%s ago\",\n        s: \"a few seconds\",\n        m: \"a minute\",\n        mm: \"%d minutes\",\n        h: \"an hour\",\n        hh: \"%d hours\",\n        d: \"a day\",\n        dd: \"%d days\",\n        M: \"a month\",\n        MM: \"%d months\",\n        y: \"a year\",\n        yy: \"%d years\"\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (e, o) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = o(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], o) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_es = o(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function o(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var s = o(e),\n    d = {\n      name: \"es\",\n      monthsShort: \"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),\n      weekdays: \"domingo_lunes_martes_mircoles_jueves_viernes_sbado\".split(\"_\"),\n      weekdaysShort: \"dom._lun._mar._mi._jue._vie._sb.\".split(\"_\"),\n      weekdaysMin: \"do_lu_ma_mi_ju_vi_s\".split(\"_\"),\n      months: \"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre\".split(\"_\"),\n      weekStart: 1,\n      formats: {\n        LT: \"H:mm\",\n        LTS: \"H:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D [de] MMMM [de] YYYY\",\n        LLL: \"D [de] MMMM [de] YYYY H:mm\",\n        LLLL: \"dddd, D [de] MMMM [de] YYYY H:mm\"\n      },\n      relativeTime: {\n        future: \"en %s\",\n        past: \"hace %s\",\n        s: \"unos segundos\",\n        m: \"un minuto\",\n        mm: \"%d minutos\",\n        h: \"una hora\",\n        hh: \"%d horas\",\n        d: \"un da\",\n        dd: \"%d das\",\n        M: \"un mes\",\n        MM: \"%d meses\",\n        y: \"un ao\",\n        yy: \"%d aos\"\n      },\n      ordinal: function (e) {\n        return e + \"\";\n      }\n    };\n  return s.default.locale(d, null, !0), d;\n});","!function (e, o) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = o(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], o) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_es_mx = o(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function o(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var s = o(e),\n    d = {\n      name: \"es-mx\",\n      weekdays: \"domingo_lunes_martes_mircoles_jueves_viernes_sbado\".split(\"_\"),\n      weekdaysShort: \"dom._lun._mar._mi._jue._vie._sb.\".split(\"_\"),\n      weekdaysMin: \"do_lu_ma_mi_ju_vi_s\".split(\"_\"),\n      months: \"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre\".split(\"_\"),\n      monthsShort: \"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),\n      relativeTime: {\n        future: \"en %s\",\n        past: \"hace %s\",\n        s: \"unos segundos\",\n        m: \"un minuto\",\n        mm: \"%d minutos\",\n        h: \"una hora\",\n        hh: \"%d horas\",\n        d: \"un da\",\n        dd: \"%d das\",\n        M: \"un mes\",\n        MM: \"%d meses\",\n        y: \"un ao\",\n        yy: \"%d aos\"\n      },\n      ordinal: function (e) {\n        return e + \"\";\n      },\n      formats: {\n        LT: \"H:mm\",\n        LTS: \"H:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D [de] MMMM [de] YYYY\",\n        LLL: \"D [de] MMMM [de] YYYY H:mm\",\n        LLLL: \"dddd, D [de] MMMM [de] YYYY H:mm\"\n      }\n    };\n  return s.default.locale(d, null, !0), d;\n});","!function (e, s) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = s(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], s) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_es_us = s(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function s(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var o = s(e),\n    d = {\n      name: \"es-us\",\n      weekdays: \"domingo_lunes_martes_mircoles_jueves_viernes_sbado\".split(\"_\"),\n      weekdaysShort: \"dom._lun._mar._mi._jue._vie._sb.\".split(\"_\"),\n      weekdaysMin: \"do_lu_ma_mi_ju_vi_s\".split(\"_\"),\n      months: \"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre\".split(\"_\"),\n      monthsShort: \"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),\n      relativeTime: {\n        future: \"en %s\",\n        past: \"hace %s\",\n        s: \"unos segundos\",\n        m: \"un minuto\",\n        mm: \"%d minutos\",\n        h: \"una hora\",\n        hh: \"%d horas\",\n        d: \"un da\",\n        dd: \"%d das\",\n        M: \"un mes\",\n        MM: \"%d meses\",\n        y: \"un ao\",\n        yy: \"%d aos\"\n      },\n      ordinal: function (e) {\n        return e + \"\";\n      },\n      formats: {\n        LT: \"h:mm A\",\n        LTS: \"h:mm:ss A\",\n        L: \"MM/DD/YYYY\",\n        LL: \"D [de] MMMM [de] YYYY\",\n        LLL: \"D [de] MMMM [de] YYYY h:mm A\",\n        LLLL: \"dddd, D [de] MMMM [de] YYYY h:mm A\"\n      }\n    };\n  return o.default.locale(d, null, !0), d;\n});","!function (_, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (_ = \"undefined\" != typeof globalThis ? globalThis : _ || self).dayjs_locale_fa = e(_.dayjs);\n}(this, function (_) {\n  \"use strict\";\n\n  function e(_) {\n    return _ && \"object\" == typeof _ && \"default\" in _ ? _ : {\n      default: _\n    };\n  }\n  var t = e(_),\n    d = {\n      name: \"fa\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      weekStart: 6,\n      months: \"___________\".split(\"_\"),\n      monthsShort: \"___________\".split(\"_\"),\n      ordinal: function (_) {\n        return _;\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd, D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \" %s\",\n        past: \"%s \",\n        s: \" \",\n        m: \" \",\n        mm: \"%d \",\n        h: \" \",\n        hh: \"%d \",\n        d: \" \",\n        dd: \"%d \",\n        M: \" \",\n        MM: \"%d \",\n        y: \" \",\n        yy: \"%d \"\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (u, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (u = \"undefined\" != typeof globalThis ? globalThis : u || self).dayjs_locale_fi = e(u.dayjs);\n}(this, function (u) {\n  \"use strict\";\n\n  function e(u) {\n    return u && \"object\" == typeof u && \"default\" in u ? u : {\n      default: u\n    };\n  }\n  var t = e(u);\n  function n(u, e, t, n) {\n    var i = {\n        s: \"muutama sekunti\",\n        m: \"minuutti\",\n        mm: \"%d minuuttia\",\n        h: \"tunti\",\n        hh: \"%d tuntia\",\n        d: \"piv\",\n        dd: \"%d piv\",\n        M: \"kuukausi\",\n        MM: \"%d kuukautta\",\n        y: \"vuosi\",\n        yy: \"%d vuotta\",\n        numbers: \"nolla_yksi_kaksi_kolme_nelj_viisi_kuusi_seitsemn_kahdeksan_yhdeksn\".split(\"_\")\n      },\n      a = {\n        s: \"muutaman sekunnin\",\n        m: \"minuutin\",\n        mm: \"%d minuutin\",\n        h: \"tunnin\",\n        hh: \"%d tunnin\",\n        d: \"pivn\",\n        dd: \"%d pivn\",\n        M: \"kuukauden\",\n        MM: \"%d kuukauden\",\n        y: \"vuoden\",\n        yy: \"%d vuoden\",\n        numbers: \"nollan_yhden_kahden_kolmen_neljn_viiden_kuuden_seitsemn_kahdeksan_yhdeksn\".split(\"_\")\n      },\n      s = n && !e ? a : i,\n      _ = s[t];\n    return u < 10 ? _.replace(\"%d\", s.numbers[u]) : _.replace(\"%d\", u);\n  }\n  var i = {\n    name: \"fi\",\n    weekdays: \"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai\".split(\"_\"),\n    weekdaysShort: \"su_ma_ti_ke_to_pe_la\".split(\"_\"),\n    weekdaysMin: \"su_ma_ti_ke_to_pe_la\".split(\"_\"),\n    months: \"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu\".split(\"_\"),\n    monthsShort: \"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu\".split(\"_\"),\n    ordinal: function (u) {\n      return u + \".\";\n    },\n    weekStart: 1,\n    yearStart: 4,\n    relativeTime: {\n      future: \"%s pst\",\n      past: \"%s sitten\",\n      s: n,\n      m: n,\n      mm: n,\n      h: n,\n      hh: n,\n      d: n,\n      dd: n,\n      M: n,\n      MM: n,\n      y: n,\n      yy: n\n    },\n    formats: {\n      LT: \"HH.mm\",\n      LTS: \"HH.mm.ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM[ta] YYYY\",\n      LLL: \"D. MMMM[ta] YYYY, [klo] HH.mm\",\n      LLLL: \"dddd, D. MMMM[ta] YYYY, [klo] HH.mm\",\n      l: \"D.M.YYYY\",\n      ll: \"D. MMM YYYY\",\n      lll: \"D. MMM YYYY, [klo] HH.mm\",\n      llll: \"ddd, D. MMM YYYY, [klo] HH.mm\"\n    }\n  };\n  return t.default.locale(i, null, !0), i;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_fr = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e),\n    i = {\n      name: \"fr\",\n      weekdays: \"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi\".split(\"_\"),\n      weekdaysShort: \"dim._lun._mar._mer._jeu._ven._sam.\".split(\"_\"),\n      weekdaysMin: \"di_lu_ma_me_je_ve_sa\".split(\"_\"),\n      months: \"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre\".split(\"_\"),\n      monthsShort: \"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.\".split(\"_\"),\n      weekStart: 1,\n      yearStart: 4,\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"dans %s\",\n        past: \"il y a %s\",\n        s: \"quelques secondes\",\n        m: \"une minute\",\n        mm: \"%d minutes\",\n        h: \"une heure\",\n        hh: \"%d heures\",\n        d: \"un jour\",\n        dd: \"%d jours\",\n        M: \"un mois\",\n        MM: \"%d mois\",\n        y: \"un an\",\n        yy: \"%d ans\"\n      },\n      ordinal: function (e) {\n        return \"\" + e + (1 === e ? \"er\" : \"\");\n      }\n    };\n  return t.default.locale(i, null, !0), i;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_fr_ch = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var i = n(e),\n    _ = {\n      name: \"fr-ch\",\n      weekdays: \"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi\".split(\"_\"),\n      months: \"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"dim._lun._mar._mer._jeu._ven._sam.\".split(\"_\"),\n      monthsShort: \"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.\".split(\"_\"),\n      weekdaysMin: \"di_lu_ma_me_je_ve_sa\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD.MM.YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"dans %s\",\n        past: \"il y a %s\",\n        s: \"quelques secondes\",\n        m: \"une minute\",\n        mm: \"%d minutes\",\n        h: \"une heure\",\n        hh: \"%d heures\",\n        d: \"un jour\",\n        dd: \"%d jours\",\n        M: \"un mois\",\n        MM: \"%d mois\",\n        y: \"un an\",\n        yy: \"%d ans\"\n      }\n    };\n  return i.default.locale(_, null, !0), _;\n});","!function (Y, M) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = M(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], M) : (Y = \"undefined\" != typeof globalThis ? globalThis : Y || self).dayjs_locale_he = M(Y.dayjs);\n}(this, function (Y) {\n  \"use strict\";\n\n  function M(Y) {\n    return Y && \"object\" == typeof Y && \"default\" in Y ? Y : {\n      default: Y\n    };\n  }\n  var d = M(Y),\n    e = {\n      s: \" \",\n      ss: \"%d \",\n      m: \"\",\n      mm: \"%d \",\n      h: \"\",\n      hh: \"%d \",\n      hh2: \"\",\n      d: \"\",\n      dd: \"%d \",\n      dd2: \"\",\n      M: \"\",\n      MM: \"%d \",\n      MM2: \"\",\n      y: \"\",\n      yy: \"%d \",\n      yy2: \"\"\n    };\n  function _(Y, M, d) {\n    return (e[d + (2 === Y ? \"2\" : \"\")] || e[d]).replace(\"%d\", Y);\n  }\n  var l = {\n    name: \"he\",\n    weekdays: \"______\".split(\"_\"),\n    weekdaysShort: \"______\".split(\"_\"),\n    weekdaysMin: \"______\".split(\"_\"),\n    months: \"___________\".split(\"_\"),\n    monthsShort: \"___________\".split(\"_\"),\n    relativeTime: {\n      future: \" %s\",\n      past: \" %s\",\n      s: _,\n      m: _,\n      mm: _,\n      h: _,\n      hh: _,\n      d: _,\n      dd: _,\n      M: _,\n      MM: _,\n      y: _,\n      yy: _\n    },\n    ordinal: function (Y) {\n      return Y;\n    },\n    format: {\n      LT: \"HH:mm\",\n      LTS: \"HH:mm:ss\",\n      L: \"DD/MM/YYYY\",\n      LL: \"D []MMMM YYYY\",\n      LLL: \"D []MMMM YYYY HH:mm\",\n      LLLL: \"dddd, D []MMMM YYYY HH:mm\",\n      l: \"D/M/YYYY\",\n      ll: \"D MMM YYYY\",\n      lll: \"D MMM YYYY HH:mm\",\n      llll: \"ddd, D MMM YYYY HH:mm\"\n    },\n    formats: {\n      LT: \"HH:mm\",\n      LTS: \"HH:mm:ss\",\n      L: \"DD/MM/YYYY\",\n      LL: \"D []MMMM YYYY\",\n      LLL: \"D []MMMM YYYY HH:mm\",\n      LLLL: \"dddd, D []MMMM YYYY HH:mm\",\n      l: \"D/M/YYYY\",\n      ll: \"D MMM YYYY\",\n      lll: \"D MMM YYYY HH:mm\",\n      llll: \"ddd, D MMM YYYY HH:mm\"\n    }\n  };\n  return d.default.locale(l, null, !0), l;\n});","!function (_, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (_ = \"undefined\" != typeof globalThis ? globalThis : _ || self).dayjs_locale_hi = e(_.dayjs);\n}(this, function (_) {\n  \"use strict\";\n\n  function e(_) {\n    return _ && \"object\" == typeof _ && \"default\" in _ ? _ : {\n      default: _\n    };\n  }\n  var t = e(_),\n    d = {\n      name: \"hi\",\n      weekdays: \"______\".split(\"_\"),\n      months: \"___________\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      monthsShort: \"._.__.___._._._._._.\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      ordinal: function (_) {\n        return _;\n      },\n      formats: {\n        LT: \"A h:mm \",\n        LTS: \"A h:mm:ss \",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY, A h:mm \",\n        LLLL: \"dddd, D MMMM YYYY, A h:mm \"\n      },\n      relativeTime: {\n        future: \"%s \",\n        past: \"%s \",\n        s: \"  \",\n        m: \" \",\n        mm: \"%d \",\n        h: \" \",\n        hh: \"%d \",\n        d: \" \",\n        dd: \"%d \",\n        M: \" \",\n        MM: \"%d \",\n        y: \" \",\n        yy: \"%d \"\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_hr = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    s = \"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca\".split(\"_\"),\n    n = \"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac\".split(\"_\"),\n    _ = /D[oD]?(\\[[^[\\]]*\\]|\\s)+MMMM?/,\n    o = function (e, a) {\n      return _.test(a) ? s[e.month()] : n[e.month()];\n    };\n  o.s = n, o.f = s;\n  var i = {\n    name: \"hr\",\n    weekdays: \"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota\".split(\"_\"),\n    weekdaysShort: \"ned._pon._uto._sri._et._pet._sub.\".split(\"_\"),\n    weekdaysMin: \"ne_po_ut_sr_e_pe_su\".split(\"_\"),\n    months: o,\n    monthsShort: \"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.\".split(\"_\"),\n    weekStart: 1,\n    formats: {\n      LT: \"H:mm\",\n      LTS: \"H:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY H:mm\",\n      LLLL: \"dddd, D. MMMM YYYY H:mm\"\n    },\n    relativeTime: {\n      future: \"za %s\",\n      past: \"prije %s\",\n      s: \"sekunda\",\n      m: \"minuta\",\n      mm: \"%d minuta\",\n      h: \"sat\",\n      hh: \"%d sati\",\n      d: \"dan\",\n      dd: \"%d dana\",\n      M: \"mjesec\",\n      MM: \"%d mjeseci\",\n      y: \"godina\",\n      yy: \"%d godine\"\n    },\n    ordinal: function (e) {\n      return e + \".\";\n    }\n  };\n  return t.default.locale(i, null, !0), i;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_hu = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e),\n    r = {\n      name: \"hu\",\n      weekdays: \"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat\".split(\"_\"),\n      weekdaysShort: \"vas_ht_kedd_sze_cst_pn_szo\".split(\"_\"),\n      weekdaysMin: \"v_h_k_sze_cs_p_szo\".split(\"_\"),\n      months: \"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december\".split(\"_\"),\n      monthsShort: \"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec\".split(\"_\"),\n      ordinal: function (e) {\n        return e + \".\";\n      },\n      weekStart: 1,\n      relativeTime: {\n        future: \"%s mlva\",\n        past: \"%s\",\n        s: function (e, n, t, r) {\n          return \"nhny msodperc\" + (r || n ? \"\" : \"e\");\n        },\n        m: function (e, n, t, r) {\n          return \"egy perc\" + (r || n ? \"\" : \"e\");\n        },\n        mm: function (e, n, t, r) {\n          return e + \" perc\" + (r || n ? \"\" : \"e\");\n        },\n        h: function (e, n, t, r) {\n          return \"egy \" + (r || n ? \"ra\" : \"rja\");\n        },\n        hh: function (e, n, t, r) {\n          return e + \" \" + (r || n ? \"ra\" : \"rja\");\n        },\n        d: function (e, n, t, r) {\n          return \"egy \" + (r || n ? \"nap\" : \"napja\");\n        },\n        dd: function (e, n, t, r) {\n          return e + \" \" + (r || n ? \"nap\" : \"napja\");\n        },\n        M: function (e, n, t, r) {\n          return \"egy \" + (r || n ? \"hnap\" : \"hnapja\");\n        },\n        MM: function (e, n, t, r) {\n          return e + \" \" + (r || n ? \"hnap\" : \"hnapja\");\n        },\n        y: function (e, n, t, r) {\n          return \"egy \" + (r || n ? \"v\" : \"ve\");\n        },\n        yy: function (e, n, t, r) {\n          return e + \" \" + (r || n ? \"v\" : \"ve\");\n        }\n      },\n      formats: {\n        LT: \"H:mm\",\n        LTS: \"H:mm:ss\",\n        L: \"YYYY.MM.DD.\",\n        LL: \"YYYY. MMMM D.\",\n        LLL: \"YYYY. MMMM D. H:mm\",\n        LLLL: \"YYYY. MMMM D., dddd H:mm\"\n      }\n    };\n  return t.default.locale(r, null, !0), r;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_id = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    _ = {\n      name: \"id\",\n      weekdays: \"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu\".split(\"_\"),\n      months: \"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember\".split(\"_\"),\n      weekdaysShort: \"Min_Sen_Sel_Rab_Kam_Jum_Sab\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des\".split(\"_\"),\n      weekdaysMin: \"Mg_Sn_Sl_Rb_Km_Jm_Sb\".split(\"_\"),\n      weekStart: 1,\n      formats: {\n        LT: \"HH.mm\",\n        LTS: \"HH.mm.ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY [pukul] HH.mm\",\n        LLLL: \"dddd, D MMMM YYYY [pukul] HH.mm\"\n      },\n      relativeTime: {\n        future: \"dalam %s\",\n        past: \"%s yang lalu\",\n        s: \"beberapa detik\",\n        m: \"semenit\",\n        mm: \"%d menit\",\n        h: \"sejam\",\n        hh: \"%d jam\",\n        d: \"sehari\",\n        dd: \"%d hari\",\n        M: \"sebulan\",\n        MM: \"%d bulan\",\n        y: \"setahun\",\n        yy: \"%d tahun\"\n      },\n      ordinal: function (e) {\n        return e + \".\";\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (e, o) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = o(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], o) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_it = o(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function o(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = o(e),\n    n = {\n      name: \"it\",\n      weekdays: \"domenica_luned_marted_mercoled_gioved_venerd_sabato\".split(\"_\"),\n      weekdaysShort: \"dom_lun_mar_mer_gio_ven_sab\".split(\"_\"),\n      weekdaysMin: \"do_lu_ma_me_gi_ve_sa\".split(\"_\"),\n      months: \"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre\".split(\"_\"),\n      weekStart: 1,\n      monthsShort: \"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic\".split(\"_\"),\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"tra %s\",\n        past: \"%s fa\",\n        s: \"qualche secondo\",\n        m: \"un minuto\",\n        mm: \"%d minuti\",\n        h: \"un' ora\",\n        hh: \"%d ore\",\n        d: \"un giorno\",\n        dd: \"%d giorni\",\n        M: \"un mese\",\n        MM: \"%d mesi\",\n        y: \"un anno\",\n        yy: \"%d anni\"\n      },\n      ordinal: function (e) {\n        return e + \"\";\n      }\n    };\n  return t.default.locale(n, null, !0), n;\n});","!function (e, o) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = o(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], o) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_it_ch = o(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function o(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var n = o(e),\n    t = {\n      name: \"it-ch\",\n      weekdays: \"domenica_luned_marted_mercoled_gioved_venerd_sabato\".split(\"_\"),\n      months: \"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"dom_lun_mar_mer_gio_ven_sab\".split(\"_\"),\n      monthsShort: \"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic\".split(\"_\"),\n      weekdaysMin: \"do_lu_ma_me_gi_ve_sa\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD.MM.YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"tra %s\",\n        past: \"%s fa\",\n        s: \"alcuni secondi\",\n        m: \"un minuto\",\n        mm: \"%d minuti\",\n        h: \"un'ora\",\n        hh: \"%d ore\",\n        d: \"un giorno\",\n        dd: \"%d giorni\",\n        M: \"un mese\",\n        MM: \"%d mesi\",\n        y: \"un anno\",\n        yy: \"%d anni\"\n      }\n    };\n  return n.default.locale(t, null, !0), t;\n});","!function (e, _) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = _(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], _) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_ja = _(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function _(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = _(e),\n    d = {\n      name: \"ja\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      months: \"1_2_3_4_5_6_7_8_9_10_11_12\".split(\"_\"),\n      monthsShort: \"1_2_3_4_5_6_7_8_9_10_11_12\".split(\"_\"),\n      ordinal: function (e) {\n        return e + \"\";\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"YYYY/MM/DD\",\n        LL: \"YYYYMD\",\n        LLL: \"YYYYMD HH:mm\",\n        LLLL: \"YYYYMD dddd HH:mm\",\n        l: \"YYYY/MM/DD\",\n        ll: \"YYYYMD\",\n        lll: \"YYYYMD HH:mm\",\n        llll: \"YYYYMD(ddd) HH:mm\"\n      },\n      meridiem: function (e) {\n        return e < 12 ? \"\" : \"\";\n      },\n      relativeTime: {\n        future: \"%s\",\n        past: \"%s\",\n        s: \"\",\n        m: \"1\",\n        mm: \"%d\",\n        h: \"1\",\n        hh: \"%d\",\n        d: \"1\",\n        dd: \"%d\",\n        M: \"1\",\n        MM: \"%d\",\n        y: \"1\",\n        yy: \"%d\"\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_jv = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e),\n    _ = {\n      name: \"jv\",\n      weekdays: \"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu\".split(\"_\"),\n      months: \"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"Min_Sen_Sel_Reb_Kem_Jem_Sep\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des\".split(\"_\"),\n      weekdaysMin: \"Mg_Sn_Sl_Rb_Km_Jm_Sp\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH.mm\",\n        LTS: \"HH.mm.ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY [pukul] HH.mm\",\n        LLLL: \"dddd, D MMMM YYYY [pukul] HH.mm\"\n      },\n      relativeTime: {\n        future: \"wonten ing %s\",\n        past: \"%s ingkang kepengker\",\n        s: \"sawetawis detik\",\n        m: \"setunggal menit\",\n        mm: \"%d menit\",\n        h: \"setunggal jam\",\n        hh: \"%d jam\",\n        d: \"sedinten\",\n        dd: \"%d dinten\",\n        M: \"sewulan\",\n        MM: \"%d wulan\",\n        y: \"setaun\",\n        yy: \"%d taun\"\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (e, _) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = _(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], _) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_ko = _(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function _(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var d = _(e),\n    t = {\n      name: \"ko\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      months: \"1_2_3_4_5_6_7_8_9_10_11_12\".split(\"_\"),\n      monthsShort: \"1_2_3_4_5_6_7_8_9_10_11_12\".split(\"_\"),\n      ordinal: function (e) {\n        return e + \"\";\n      },\n      formats: {\n        LT: \"A h:mm\",\n        LTS: \"A h:mm:ss\",\n        L: \"YYYY.MM.DD.\",\n        LL: \"YYYY MMMM D\",\n        LLL: \"YYYY MMMM D A h:mm\",\n        LLLL: \"YYYY MMMM D dddd A h:mm\",\n        l: \"YYYY.MM.DD.\",\n        ll: \"YYYY MMMM D\",\n        lll: \"YYYY MMMM D A h:mm\",\n        llll: \"YYYY MMMM D dddd A h:mm\"\n      },\n      meridiem: function (e) {\n        return e < 12 ? \"\" : \"\";\n      },\n      relativeTime: {\n        future: \"%s \",\n        past: \"%s \",\n        s: \" \",\n        m: \"1\",\n        mm: \"%d\",\n        h: \" \",\n        hh: \"%d\",\n        d: \"\",\n        dd: \"%d\",\n        M: \" \",\n        MM: \"%d\",\n        y: \" \",\n        yy: \"%d\"\n      }\n    };\n  return d.default.locale(t, null, !0), t;\n});","!function (e, _) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = _(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], _) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_lb = _(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function _(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = _(e),\n    n = {\n      name: \"lb\",\n      weekdays: \"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg\".split(\"_\"),\n      months: \"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"So._M._D._M._Do._Fr._Sa.\".split(\"_\"),\n      monthsShort: \"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.\".split(\"_\"),\n      weekdaysMin: \"So_M_D_M_Do_Fr_Sa\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"H:mm [Auer]\",\n        LTS: \"H:mm:ss [Auer]\",\n        L: \"DD.MM.YYYY\",\n        LL: \"D. MMMM YYYY\",\n        LLL: \"D. MMMM YYYY H:mm [Auer]\",\n        LLLL: \"dddd, D. MMMM YYYY H:mm [Auer]\"\n      }\n    };\n  return t.default.locale(n, null, !0), n;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_ms = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    s = {\n      name: \"ms\",\n      weekdays: \"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu\".split(\"_\"),\n      weekdaysShort: \"Ahd_Isn_Sel_Rab_Kha_Jum_Sab\".split(\"_\"),\n      weekdaysMin: \"Ah_Is_Sl_Rb_Km_Jm_Sb\".split(\"_\"),\n      months: \"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis\".split(\"_\"),\n      weekStart: 1,\n      formats: {\n        LT: \"HH.mm\",\n        LTS: \"HH.mm.ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH.mm\",\n        LLLL: \"dddd, D MMMM YYYY HH.mm\"\n      },\n      relativeTime: {\n        future: \"dalam %s\",\n        past: \"%s yang lepas\",\n        s: \"beberapa saat\",\n        m: \"seminit\",\n        mm: \"%d minit\",\n        h: \"sejam\",\n        hh: \"%d jam\",\n        d: \"sehari\",\n        dd: \"%d hari\",\n        M: \"sebulan\",\n        MM: \"%d bulan\",\n        y: \"setahun\",\n        yy: \"%d tahun\"\n      },\n      ordinal: function (e) {\n        return e + \".\";\n      }\n    };\n  return t.default.locale(s, null, !0), s;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_ms_my = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = a(e),\n    _ = {\n      name: \"ms-my\",\n      weekdays: \"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu\".split(\"_\"),\n      months: \"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"Ahd_Isn_Sel_Rab_Kha_Jum_Sab\".split(\"_\"),\n      monthsShort: \"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis\".split(\"_\"),\n      weekdaysMin: \"Ah_Is_Sl_Rb_Km_Jm_Sb\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH.mm\",\n        LTS: \"HH.mm.ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY [pukul] HH.mm\",\n        LLLL: \"dddd, D MMMM YYYY [pukul] HH.mm\"\n      },\n      relativeTime: {\n        future: \"dalam %s\",\n        past: \"%s yang lepas\",\n        s: \"beberapa saat\",\n        m: \"seminit\",\n        mm: \"%d minit\",\n        h: \"sejam\",\n        hh: \"%d jam\",\n        d: \"sehari\",\n        dd: \"%d hari\",\n        M: \"sebulan\",\n        MM: \"%d bulan\",\n        y: \"setahun\",\n        yy: \"%d tahun\"\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_nl = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var d = a(e),\n    n = {\n      name: \"nl\",\n      weekdays: \"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag\".split(\"_\"),\n      weekdaysShort: \"zo._ma._di._wo._do._vr._za.\".split(\"_\"),\n      weekdaysMin: \"zo_ma_di_wo_do_vr_za\".split(\"_\"),\n      months: \"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december\".split(\"_\"),\n      monthsShort: \"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec\".split(\"_\"),\n      ordinal: function (e) {\n        return \"[\" + e + (1 === e || 8 === e || e >= 20 ? \"ste\" : \"de\") + \"]\";\n      },\n      weekStart: 1,\n      yearStart: 4,\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD-MM-YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"over %s\",\n        past: \"%s geleden\",\n        s: \"een paar seconden\",\n        m: \"een minuut\",\n        mm: \"%d minuten\",\n        h: \"een uur\",\n        hh: \"%d uur\",\n        d: \"een dag\",\n        dd: \"%d dagen\",\n        M: \"een maand\",\n        MM: \"%d maanden\",\n        y: \"een jaar\",\n        yy: \"%d jaar\"\n      }\n    };\n  return d.default.locale(n, null, !0), n;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_nl_be = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var n = a(e),\n    d = {\n      name: \"nl-be\",\n      weekdays: \"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag\".split(\"_\"),\n      months: \"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december\".split(\"_\"),\n      monthsShort: \"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.\".split(\"_\"),\n      weekStart: 1,\n      weekdaysShort: \"zo._ma._di._wo._do._vr._za.\".split(\"_\"),\n      weekdaysMin: \"zo_ma_di_wo_do_vr_za\".split(\"_\"),\n      ordinal: function (e) {\n        return e;\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"over %s\",\n        past: \"%s geleden\",\n        s: \"een paar seconden\",\n        m: \"n minuut\",\n        mm: \"%d minuten\",\n        h: \"n uur\",\n        hh: \"%d uur\",\n        d: \"n dag\",\n        dd: \"%d dagen\",\n        M: \"n maand\",\n        MM: \"%d maanden\",\n        y: \"n jaar\",\n        yy: \"%d jaar\"\n      }\n    };\n  return n.default.locale(d, null, !0), d;\n});","!function (_, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (_ = \"undefined\" != typeof globalThis ? globalThis : _ || self).dayjs_locale_pa_in = e(_.dayjs);\n}(this, function (_) {\n  \"use strict\";\n\n  function e(_) {\n    return _ && \"object\" == typeof _ && \"default\" in _ ? _ : {\n      default: _\n    };\n  }\n  var t = e(_),\n    d = {\n      name: \"pa-in\",\n      weekdays: \"______\".split(\"_\"),\n      months: \"___________\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      monthsShort: \"___________\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      ordinal: function (_) {\n        return _;\n      },\n      formats: {\n        LT: \"A h:mm \",\n        LTS: \"A h:mm:ss \",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY, A h:mm \",\n        LLLL: \"dddd, D MMMM YYYY, A h:mm \"\n      },\n      relativeTime: {\n        future: \"%s \",\n        past: \"%s \",\n        s: \" \",\n        m: \" \",\n        mm: \"%d \",\n        h: \" \",\n        hh: \"%d \",\n        d: \" \",\n        dd: \"%d \",\n        M: \" \",\n        MM: \"%d \",\n        y: \" \",\n        yy: \"%d \"\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_pl = t(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function t(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var i = t(e);\n  function a(e) {\n    return e % 10 < 5 && e % 10 > 1 && ~~(e / 10) % 10 != 1;\n  }\n  function n(e, t, i) {\n    var n = e + \" \";\n    switch (i) {\n      case \"m\":\n        return t ? \"minuta\" : \"minut\";\n      case \"mm\":\n        return n + (a(e) ? \"minuty\" : \"minut\");\n      case \"h\":\n        return t ? \"godzina\" : \"godzin\";\n      case \"hh\":\n        return n + (a(e) ? \"godziny\" : \"godzin\");\n      case \"MM\":\n        return n + (a(e) ? \"miesice\" : \"miesicy\");\n      case \"yy\":\n        return n + (a(e) ? \"lata\" : \"lat\");\n    }\n  }\n  var r = \"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia\".split(\"_\"),\n    _ = \"stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie\".split(\"_\"),\n    s = /D MMMM/,\n    d = function (e, t) {\n      return s.test(t) ? r[e.month()] : _[e.month()];\n    };\n  d.s = _, d.f = r;\n  var o = {\n    name: \"pl\",\n    weekdays: \"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota\".split(\"_\"),\n    weekdaysShort: \"ndz_pon_wt_r_czw_pt_sob\".split(\"_\"),\n    weekdaysMin: \"Nd_Pn_Wt_r_Cz_Pt_So\".split(\"_\"),\n    months: d,\n    monthsShort: \"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru\".split(\"_\"),\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    weekStart: 1,\n    yearStart: 4,\n    relativeTime: {\n      future: \"za %s\",\n      past: \"%s temu\",\n      s: \"kilka sekund\",\n      m: n,\n      mm: n,\n      h: n,\n      hh: n,\n      d: \"1 dzie\",\n      dd: \"%d dni\",\n      M: \"miesic\",\n      MM: n,\n      y: \"rok\",\n      yy: n\n    },\n    formats: {\n      LT: \"HH:mm\",\n      LTS: \"HH:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D MMMM YYYY\",\n      LLL: \"D MMMM YYYY HH:mm\",\n      LLLL: \"dddd, D MMMM YYYY HH:mm\"\n    }\n  };\n  return i.default.locale(o, null, !0), o;\n});","!function (e, a) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = a(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], a) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_pt = a(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function a(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var o = a(e),\n    t = {\n      name: \"pt\",\n      weekdays: \"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado\".split(\"_\"),\n      weekdaysShort: \"dom_seg_ter_qua_qui_sex_sab\".split(\"_\"),\n      weekdaysMin: \"Do_2_3_4_5_6_Sa\".split(\"_\"),\n      months: \"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro\".split(\"_\"),\n      monthsShort: \"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez\".split(\"_\"),\n      ordinal: function (e) {\n        return e + \"\";\n      },\n      weekStart: 1,\n      yearStart: 4,\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D [de] MMMM [de] YYYY\",\n        LLL: \"D [de] MMMM [de] YYYY [s] HH:mm\",\n        LLLL: \"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"\n      },\n      relativeTime: {\n        future: \"em %s\",\n        past: \"h %s\",\n        s: \"alguns segundos\",\n        m: \"um minuto\",\n        mm: \"%d minutos\",\n        h: \"uma hora\",\n        hh: \"%d horas\",\n        d: \"um dia\",\n        dd: \"%d dias\",\n        M: \"um ms\",\n        MM: \"%d meses\",\n        y: \"um ano\",\n        yy: \"%d anos\"\n      }\n    };\n  return o.default.locale(t, null, !0), t;\n});","!function (e, o) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = o(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], o) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_pt_br = o(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function o(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var a = o(e),\n    s = {\n      name: \"pt-br\",\n      weekdays: \"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado\".split(\"_\"),\n      weekdaysShort: \"dom_seg_ter_qua_qui_sex_sb\".split(\"_\"),\n      weekdaysMin: \"Do_2_3_4_5_6_S\".split(\"_\"),\n      months: \"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro\".split(\"_\"),\n      monthsShort: \"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez\".split(\"_\"),\n      ordinal: function (e) {\n        return e + \"\";\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D [de] MMMM [de] YYYY\",\n        LLL: \"D [de] MMMM [de] YYYY [s] HH:mm\",\n        LLLL: \"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"\n      },\n      relativeTime: {\n        future: \"em %s\",\n        past: \"h %s\",\n        s: \"poucos segundos\",\n        m: \"um minuto\",\n        mm: \"%d minutos\",\n        h: \"uma hora\",\n        hh: \"%d horas\",\n        d: \"um dia\",\n        dd: \"%d dias\",\n        M: \"um ms\",\n        MM: \"%d meses\",\n        y: \"um ano\",\n        yy: \"%d anos\"\n      }\n    };\n  return a.default.locale(s, null, !0), s;\n});","!function (_, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], t) : (_ = \"undefined\" != typeof globalThis ? globalThis : _ || self).dayjs_locale_ru = t(_.dayjs);\n}(this, function (_) {\n  \"use strict\";\n\n  function t(_) {\n    return _ && \"object\" == typeof _ && \"default\" in _ ? _ : {\n      default: _\n    };\n  }\n  var e = t(_),\n    n = \"___________\".split(\"_\"),\n    s = \"___________\".split(\"_\"),\n    r = \"._._._.____._._._._.\".split(\"_\"),\n    o = \"._.__.____._._._._.\".split(\"_\"),\n    i = /D[oD]?(\\[[^[\\]]*\\]|\\s)+MMMM?/;\n  function d(_, t, e) {\n    var n, s;\n    return \"m\" === e ? t ? \"\" : \"\" : _ + \" \" + (n = +_, s = {\n      mm: t ? \"__\" : \"__\",\n      hh: \"__\",\n      dd: \"__\",\n      MM: \"__\",\n      yy: \"__\"\n    }[e].split(\"_\"), n % 10 == 1 && n % 100 != 11 ? s[0] : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? s[1] : s[2]);\n  }\n  var u = function (_, t) {\n    return i.test(t) ? n[_.month()] : s[_.month()];\n  };\n  u.s = s, u.f = n;\n  var a = function (_, t) {\n    return i.test(t) ? r[_.month()] : o[_.month()];\n  };\n  a.s = o, a.f = r;\n  var m = {\n    name: \"ru\",\n    weekdays: \"______\".split(\"_\"),\n    weekdaysShort: \"______\".split(\"_\"),\n    weekdaysMin: \"______\".split(\"_\"),\n    months: u,\n    monthsShort: a,\n    weekStart: 1,\n    yearStart: 4,\n    formats: {\n      LT: \"H:mm\",\n      LTS: \"H:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D MMMM YYYY .\",\n      LLL: \"D MMMM YYYY ., H:mm\",\n      LLLL: \"dddd, D MMMM YYYY ., H:mm\"\n    },\n    relativeTime: {\n      future: \" %s\",\n      past: \"%s \",\n      s: \" \",\n      m: d,\n      mm: d,\n      h: \"\",\n      hh: d,\n      d: \"\",\n      dd: d,\n      M: \"\",\n      MM: d,\n      y: \"\",\n      yy: d\n    },\n    ordinal: function (_) {\n      return _;\n    },\n    meridiem: function (_) {\n      return _ < 4 ? \"\" : _ < 12 ? \"\" : _ < 17 ? \"\" : \"\";\n    }\n  };\n  return e.default.locale(m, null, !0), m;\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_sk = t(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function t(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var n = t(e);\n  function r(e) {\n    return e > 1 && e < 5 && 1 != ~~(e / 10);\n  }\n  function o(e, t, n, o) {\n    var a = e + \" \";\n    switch (n) {\n      case \"s\":\n        return t || o ? \"pr seknd\" : \"pr sekundami\";\n      case \"m\":\n        return t ? \"minta\" : o ? \"mintu\" : \"mintou\";\n      case \"mm\":\n        return t || o ? a + (r(e) ? \"minty\" : \"mint\") : a + \"mintami\";\n      case \"h\":\n        return t ? \"hodina\" : o ? \"hodinu\" : \"hodinou\";\n      case \"hh\":\n        return t || o ? a + (r(e) ? \"hodiny\" : \"hodn\") : a + \"hodinami\";\n      case \"d\":\n        return t || o ? \"de\" : \"dom\";\n      case \"dd\":\n        return t || o ? a + (r(e) ? \"dni\" : \"dn\") : a + \"dami\";\n      case \"M\":\n        return t || o ? \"mesiac\" : \"mesiacom\";\n      case \"MM\":\n        return t || o ? a + (r(e) ? \"mesiace\" : \"mesiacov\") : a + \"mesiacmi\";\n      case \"y\":\n        return t || o ? \"rok\" : \"rokom\";\n      case \"yy\":\n        return t || o ? a + (r(e) ? \"roky\" : \"rokov\") : a + \"rokmi\";\n    }\n  }\n  var a = {\n    name: \"sk\",\n    weekdays: \"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota\".split(\"_\"),\n    weekdaysShort: \"ne_po_ut_st_t_pi_so\".split(\"_\"),\n    weekdaysMin: \"ne_po_ut_st_t_pi_so\".split(\"_\"),\n    months: \"janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december\".split(\"_\"),\n    monthsShort: \"jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec\".split(\"_\"),\n    weekStart: 1,\n    yearStart: 4,\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    formats: {\n      LT: \"H:mm\",\n      LTS: \"H:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY H:mm\",\n      LLLL: \"dddd D. MMMM YYYY H:mm\",\n      l: \"D. M. YYYY\"\n    },\n    relativeTime: {\n      future: \"za %s\",\n      past: \"pred %s\",\n      s: o,\n      m: o,\n      mm: o,\n      h: o,\n      hh: o,\n      d: o,\n      dd: o,\n      M: o,\n      MM: o,\n      y: o,\n      yy: o\n    }\n  };\n  return n.default.locale(a, null, !0), a;\n});","!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], n) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_sl = n(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function n(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = n(e);\n  function r(e) {\n    return e % 100 == 2;\n  }\n  function a(e) {\n    return e % 100 == 3 || e % 100 == 4;\n  }\n  function s(e, n, t, s) {\n    var m = e + \" \";\n    switch (t) {\n      case \"s\":\n        return n || s ? \"nekaj sekund\" : \"nekaj sekundami\";\n      case \"m\":\n        return n ? \"ena minuta\" : \"eno minuto\";\n      case \"mm\":\n        return r(e) ? m + (n || s ? \"minuti\" : \"minutama\") : a(e) ? m + (n || s ? \"minute\" : \"minutami\") : m + (n || s ? \"minut\" : \"minutami\");\n      case \"h\":\n        return n ? \"ena ura\" : \"eno uro\";\n      case \"hh\":\n        return r(e) ? m + (n || s ? \"uri\" : \"urama\") : a(e) ? m + (n || s ? \"ure\" : \"urami\") : m + (n || s ? \"ur\" : \"urami\");\n      case \"d\":\n        return n || s ? \"en dan\" : \"enim dnem\";\n      case \"dd\":\n        return r(e) ? m + (n || s ? \"dneva\" : \"dnevoma\") : m + (n || s ? \"dni\" : \"dnevi\");\n      case \"M\":\n        return n || s ? \"en mesec\" : \"enim mesecem\";\n      case \"MM\":\n        return r(e) ? m + (n || s ? \"meseca\" : \"mesecema\") : a(e) ? m + (n || s ? \"mesece\" : \"meseci\") : m + (n || s ? \"mesecev\" : \"meseci\");\n      case \"y\":\n        return n || s ? \"eno leto\" : \"enim letom\";\n      case \"yy\":\n        return r(e) ? m + (n || s ? \"leti\" : \"letoma\") : a(e) ? m + (n || s ? \"leta\" : \"leti\") : m + (n || s ? \"let\" : \"leti\");\n    }\n  }\n  var m = {\n    name: \"sl\",\n    weekdays: \"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota\".split(\"_\"),\n    months: \"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december\".split(\"_\"),\n    weekStart: 1,\n    weekdaysShort: \"ned._pon._tor._sre._et._pet._sob.\".split(\"_\"),\n    monthsShort: \"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.\".split(\"_\"),\n    weekdaysMin: \"ne_po_to_sr_e_pe_so\".split(\"_\"),\n    ordinal: function (e) {\n      return e + \".\";\n    },\n    formats: {\n      LT: \"H:mm\",\n      LTS: \"H:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D. MMMM YYYY\",\n      LLL: \"D. MMMM YYYY H:mm\",\n      LLLL: \"dddd, D. MMMM YYYY H:mm\",\n      l: \"D. M. YYYY\"\n    },\n    relativeTime: {\n      future: \"ez %s\",\n      past: \"pred %s\",\n      s: s,\n      m: s,\n      mm: s,\n      h: s,\n      hh: s,\n      d: s,\n      dd: s,\n      M: s,\n      MM: s,\n      y: s,\n      yy: s\n    }\n  };\n  return t.default.locale(m, null, !0), m;\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_sv = t(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function t(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var a = t(e),\n    d = {\n      name: \"sv\",\n      weekdays: \"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag\".split(\"_\"),\n      weekdaysShort: \"sn_mn_tis_ons_tor_fre_lr\".split(\"_\"),\n      weekdaysMin: \"s_m_ti_on_to_fr_l\".split(\"_\"),\n      months: \"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december\".split(\"_\"),\n      monthsShort: \"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec\".split(\"_\"),\n      weekStart: 1,\n      yearStart: 4,\n      ordinal: function (e) {\n        var t = e % 10;\n        return \"[\" + e + (1 === t || 2 === t ? \"a\" : \"e\") + \"]\";\n      },\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"YYYY-MM-DD\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY [kl.] HH:mm\",\n        LLLL: \"dddd D MMMM YYYY [kl.] HH:mm\",\n        lll: \"D MMM YYYY HH:mm\",\n        llll: \"ddd D MMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"om %s\",\n        past: \"fr %s sedan\",\n        s: \"ngra sekunder\",\n        m: \"en minut\",\n        mm: \"%d minuter\",\n        h: \"en timme\",\n        hh: \"%d timmar\",\n        d: \"en dag\",\n        dd: \"%d dagar\",\n        M: \"en mnad\",\n        MM: \"%d mnader\",\n        y: \"ett r\",\n        yy: \"%d r\"\n      }\n    };\n  return a.default.locale(d, null, !0), d;\n});","!function (_, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (_ = \"undefined\" != typeof globalThis ? globalThis : _ || self).dayjs_locale_th = e(_.dayjs);\n}(this, function (_) {\n  \"use strict\";\n\n  function e(_) {\n    return _ && \"object\" == typeof _ && \"default\" in _ ? _ : {\n      default: _\n    };\n  }\n  var t = e(_),\n    d = {\n      name: \"th\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"._._._._._._.\".split(\"_\"),\n      months: \"___________\".split(\"_\"),\n      monthsShort: \".._.._.._.._.._.._.._.._.._.._.._..\".split(\"_\"),\n      formats: {\n        LT: \"H:mm\",\n        LTS: \"H:mm:ss\",\n        L: \"DD/MM/YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY  H:mm\",\n        LLLL: \"dddd D MMMM YYYY  H:mm\"\n      },\n      relativeTime: {\n        future: \" %s\",\n        past: \"%s\",\n        s: \"\",\n        m: \"1 \",\n        mm: \"%d \",\n        h: \"1 \",\n        hh: \"%d \",\n        d: \"1 \",\n        dd: \"%d \",\n        M: \"1 \",\n        MM: \"%d \",\n        y: \"1 \",\n        yy: \"%d \"\n      },\n      ordinal: function (_) {\n        return _ + \".\";\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (a, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (a = \"undefined\" != typeof globalThis ? globalThis : a || self).dayjs_locale_tr = e(a.dayjs);\n}(this, function (a) {\n  \"use strict\";\n\n  function e(a) {\n    return a && \"object\" == typeof a && \"default\" in a ? a : {\n      default: a\n    };\n  }\n  var t = e(a),\n    _ = {\n      name: \"tr\",\n      weekdays: \"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi\".split(\"_\"),\n      weekdaysShort: \"Paz_Pts_Sal_ar_Per_Cum_Cts\".split(\"_\"),\n      weekdaysMin: \"Pz_Pt_Sa_a_Pe_Cu_Ct\".split(\"_\"),\n      months: \"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk\".split(\"_\"),\n      monthsShort: \"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara\".split(\"_\"),\n      weekStart: 1,\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"DD.MM.YYYY\",\n        LL: \"D MMMM YYYY\",\n        LLL: \"D MMMM YYYY HH:mm\",\n        LLLL: \"dddd, D MMMM YYYY HH:mm\"\n      },\n      relativeTime: {\n        future: \"%s sonra\",\n        past: \"%s nce\",\n        s: \"birka saniye\",\n        m: \"bir dakika\",\n        mm: \"%d dakika\",\n        h: \"bir saat\",\n        hh: \"%d saat\",\n        d: \"bir gn\",\n        dd: \"%d gn\",\n        M: \"bir ay\",\n        MM: \"%d ay\",\n        y: \"bir yl\",\n        yy: \"%d yl\"\n      },\n      ordinal: function (a) {\n        return a + \".\";\n      }\n    };\n  return t.default.locale(_, null, !0), _;\n});","!function (_, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], e) : (_ = \"undefined\" != typeof globalThis ? globalThis : _ || self).dayjs_locale_uk = e(_.dayjs);\n}(this, function (_) {\n  \"use strict\";\n\n  function e(_) {\n    return _ && \"object\" == typeof _ && \"default\" in _ ? _ : {\n      default: _\n    };\n  }\n  var t = e(_),\n    s = \"___________\".split(\"_\"),\n    n = \"___________\".split(\"_\"),\n    o = /D[oD]?(\\[[^[\\]]*\\]|\\s)+MMMM?/;\n  function d(_, e, t) {\n    var s, n;\n    return \"m\" === t ? e ? \"\" : \"\" : \"h\" === t ? e ? \"\" : \"\" : _ + \" \" + (s = +_, n = {\n      ss: e ? \"__\" : \"__\",\n      mm: e ? \"__\" : \"__\",\n      hh: e ? \"__\" : \"__\",\n      dd: \"__\",\n      MM: \"__\",\n      yy: \"__\"\n    }[t].split(\"_\"), s % 10 == 1 && s % 100 != 11 ? n[0] : s % 10 >= 2 && s % 10 <= 4 && (s % 100 < 10 || s % 100 >= 20) ? n[1] : n[2]);\n  }\n  var i = function (_, e) {\n    return o.test(e) ? s[_.month()] : n[_.month()];\n  };\n  i.s = n, i.f = s;\n  var r = {\n    name: \"uk\",\n    weekdays: \"______\".split(\"_\"),\n    weekdaysShort: \"______\".split(\"_\"),\n    weekdaysMin: \"______\".split(\"_\"),\n    months: i,\n    monthsShort: \"___________\".split(\"_\"),\n    weekStart: 1,\n    relativeTime: {\n      future: \" %s\",\n      past: \"%s \",\n      s: \" \",\n      m: d,\n      mm: d,\n      h: d,\n      hh: d,\n      d: \"\",\n      dd: d,\n      M: \"\",\n      MM: d,\n      y: \"\",\n      yy: d\n    },\n    ordinal: function (_) {\n      return _;\n    },\n    formats: {\n      LT: \"HH:mm\",\n      LTS: \"HH:mm:ss\",\n      L: \"DD.MM.YYYY\",\n      LL: \"D MMMM YYYY .\",\n      LLL: \"D MMMM YYYY ., HH:mm\",\n      LLLL: \"dddd, D MMMM YYYY ., HH:mm\"\n    }\n  };\n  return t.default.locale(r, null, !0), r;\n});","!function (e, _) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = _(require(\"dayjs\")) : \"function\" == typeof define && define.amd ? define([\"dayjs\"], _) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_locale_zh = _(e.dayjs);\n}(this, function (e) {\n  \"use strict\";\n\n  function _(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var t = _(e),\n    d = {\n      name: \"zh\",\n      weekdays: \"______\".split(\"_\"),\n      weekdaysShort: \"______\".split(\"_\"),\n      weekdaysMin: \"______\".split(\"_\"),\n      months: \"___________\".split(\"_\"),\n      monthsShort: \"1_2_3_4_5_6_7_8_9_10_11_12\".split(\"_\"),\n      ordinal: function (e, _) {\n        return \"W\" === _ ? e + \"\" : e + \"\";\n      },\n      weekStart: 1,\n      yearStart: 4,\n      formats: {\n        LT: \"HH:mm\",\n        LTS: \"HH:mm:ss\",\n        L: \"YYYY/MM/DD\",\n        LL: \"YYYYMD\",\n        LLL: \"YYYYMDAhmm\",\n        LLLL: \"YYYYMDddddAhmm\",\n        l: \"YYYY/M/D\",\n        ll: \"YYYYMD\",\n        lll: \"YYYYMD HH:mm\",\n        llll: \"YYYYMDdddd HH:mm\"\n      },\n      relativeTime: {\n        future: \"%s\",\n        past: \"%s\",\n        s: \"\",\n        m: \"1 \",\n        mm: \"%d \",\n        h: \"1 \",\n        hh: \"%d \",\n        d: \"1 \",\n        dd: \"%d \",\n        M: \"1 \",\n        MM: \"%d \",\n        y: \"1 \",\n        yy: \"%d \"\n      },\n      meridiem: function (e, _) {\n        var t = 100 * e + _;\n        return t < 600 ? \"\" : t < 900 ? \"\" : t < 1100 ? \"\" : t < 1300 ? \"\" : t < 1800 ? \"\" : \"\";\n      }\n    };\n  return t.default.locale(d, null, !0), d;\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_plugin_customParseFormat = t();\n}(this, function () {\n  \"use strict\";\n\n  var e = {\n      LTS: \"h:mm:ss A\",\n      LT: \"h:mm A\",\n      L: \"MM/DD/YYYY\",\n      LL: \"MMMM D, YYYY\",\n      LLL: \"MMMM D, YYYY h:mm A\",\n      LLLL: \"dddd, MMMM D, YYYY h:mm A\"\n    },\n    t = /(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,\n    n = /\\d/,\n    r = /\\d\\d/,\n    i = /\\d\\d?/,\n    o = /\\d*[^-_:/,()\\s\\d]+/,\n    s = {},\n    a = function (e) {\n      return (e = +e) + (e > 68 ? 1900 : 2e3);\n    };\n  var f = function (e) {\n      return function (t) {\n        this[e] = +t;\n      };\n    },\n    h = [/[+-]\\d\\d:?(\\d\\d)?|Z/, function (e) {\n      (this.zone || (this.zone = {})).offset = function (e) {\n        if (!e) return 0;\n        if (\"Z\" === e) return 0;\n        var t = e.match(/([+-]|\\d\\d)/g),\n          n = 60 * t[1] + (+t[2] || 0);\n        return 0 === n ? 0 : \"+\" === t[0] ? -n : n;\n      }(e);\n    }],\n    u = function (e) {\n      var t = s[e];\n      return t && (t.indexOf ? t : t.s.concat(t.f));\n    },\n    d = function (e, t) {\n      var n,\n        r = s.meridiem;\n      if (r) {\n        for (var i = 1; i <= 24; i += 1) if (e.indexOf(r(i, 0, t)) > -1) {\n          n = i > 12;\n          break;\n        }\n      } else n = e === (t ? \"pm\" : \"PM\");\n      return n;\n    },\n    c = {\n      A: [o, function (e) {\n        this.afternoon = d(e, !1);\n      }],\n      a: [o, function (e) {\n        this.afternoon = d(e, !0);\n      }],\n      Q: [n, function (e) {\n        this.month = 3 * (e - 1) + 1;\n      }],\n      S: [n, function (e) {\n        this.milliseconds = 100 * +e;\n      }],\n      SS: [r, function (e) {\n        this.milliseconds = 10 * +e;\n      }],\n      SSS: [/\\d{3}/, function (e) {\n        this.milliseconds = +e;\n      }],\n      s: [i, f(\"seconds\")],\n      ss: [i, f(\"seconds\")],\n      m: [i, f(\"minutes\")],\n      mm: [i, f(\"minutes\")],\n      H: [i, f(\"hours\")],\n      h: [i, f(\"hours\")],\n      HH: [i, f(\"hours\")],\n      hh: [i, f(\"hours\")],\n      D: [i, f(\"day\")],\n      DD: [r, f(\"day\")],\n      Do: [o, function (e) {\n        var t = s.ordinal,\n          n = e.match(/\\d+/);\n        if (this.day = n[0], t) for (var r = 1; r <= 31; r += 1) t(r).replace(/\\[|\\]/g, \"\") === e && (this.day = r);\n      }],\n      w: [i, f(\"week\")],\n      ww: [r, f(\"week\")],\n      M: [i, f(\"month\")],\n      MM: [r, f(\"month\")],\n      MMM: [o, function (e) {\n        var t = u(\"months\"),\n          n = (u(\"monthsShort\") || t.map(function (e) {\n            return e.slice(0, 3);\n          })).indexOf(e) + 1;\n        if (n < 1) throw new Error();\n        this.month = n % 12 || n;\n      }],\n      MMMM: [o, function (e) {\n        var t = u(\"months\").indexOf(e) + 1;\n        if (t < 1) throw new Error();\n        this.month = t % 12 || t;\n      }],\n      Y: [/[+-]?\\d+/, f(\"year\")],\n      YY: [r, function (e) {\n        this.year = a(e);\n      }],\n      YYYY: [/\\d{4}/, f(\"year\")],\n      Z: h,\n      ZZ: h\n    };\n  function l(n) {\n    var r, i;\n    r = n, i = s && s.formats;\n    for (var o = (n = r.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g, function (t, n, r) {\n        var o = r && r.toUpperCase();\n        return n || i[r] || e[r] || i[o].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g, function (e, t, n) {\n          return t || n.slice(1);\n        });\n      })).match(t), a = o.length, f = 0; f < a; f += 1) {\n      var h = o[f],\n        u = c[h],\n        d = u && u[0],\n        l = u && u[1];\n      o[f] = l ? {\n        regex: d,\n        parser: l\n      } : h.replace(/^\\[|\\]$/g, \"\");\n    }\n    return function (e) {\n      for (var t = {}, n = 0, r = 0; n < a; n += 1) {\n        var i = o[n];\n        if (\"string\" == typeof i) r += i.length;else {\n          var s = i.regex,\n            f = i.parser,\n            h = e.slice(r),\n            u = s.exec(h)[0];\n          f.call(t, u), e = e.replace(u, \"\");\n        }\n      }\n      return function (e) {\n        var t = e.afternoon;\n        if (void 0 !== t) {\n          var n = e.hours;\n          t ? n < 12 && (e.hours += 12) : 12 === n && (e.hours = 0), delete e.afternoon;\n        }\n      }(t), t;\n    };\n  }\n  return function (e, t, n) {\n    n.p.customParseFormat = !0, e && e.parseTwoDigitYear && (a = e.parseTwoDigitYear);\n    var r = t.prototype,\n      i = r.parse;\n    r.parse = function (e) {\n      var t = e.date,\n        r = e.utc,\n        o = e.args;\n      this.$u = r;\n      var a = o[1];\n      if (\"string\" == typeof a) {\n        var f = !0 === o[2],\n          h = !0 === o[3],\n          u = f || h,\n          d = o[2];\n        h && (d = o[2]), s = this.$locale(), !f && d && (s = n.Ls[d]), this.$d = function (e, t, n, r) {\n          try {\n            if ([\"x\", \"X\"].indexOf(t) > -1) return new Date((\"X\" === t ? 1e3 : 1) * e);\n            var i = l(t)(e),\n              o = i.year,\n              s = i.month,\n              a = i.day,\n              f = i.hours,\n              h = i.minutes,\n              u = i.seconds,\n              d = i.milliseconds,\n              c = i.zone,\n              m = i.week,\n              M = new Date(),\n              Y = a || (o || s ? 1 : M.getDate()),\n              p = o || M.getFullYear(),\n              v = 0;\n            o && !s || (v = s > 0 ? s - 1 : M.getMonth());\n            var D,\n              w = f || 0,\n              g = h || 0,\n              y = u || 0,\n              L = d || 0;\n            return c ? new Date(Date.UTC(p, v, Y, w, g, y, L + 60 * c.offset * 1e3)) : n ? new Date(Date.UTC(p, v, Y, w, g, y, L)) : (D = new Date(p, v, Y, w, g, y, L), m && (D = r(D).week(m).toDate()), D);\n          } catch (e) {\n            return new Date(\"\");\n          }\n        }(t, a, r, n), this.init(), d && !0 !== d && (this.$L = this.locale(d).$L), u && t != this.format(a) && (this.$d = new Date(\"\")), s = {};\n      } else if (a instanceof Array) for (var c = a.length, m = 1; m <= c; m += 1) {\n        o[1] = a[m - 1];\n        var M = n.apply(this, o);\n        if (M.isValid()) {\n          this.$d = M.$d, this.$L = M.$L, this.init();\n          break;\n        }\n        m === c && (this.$d = new Date(\"\"));\n      } else i.call(this, e);\n    };\n  };\n});","!function (n, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (n = \"undefined\" != typeof globalThis ? globalThis : n || self).dayjs_plugin_localeData = e();\n}(this, function () {\n  \"use strict\";\n\n  return function (n, e, t) {\n    var r = e.prototype,\n      o = function (n) {\n        return n && (n.indexOf ? n : n.s);\n      },\n      u = function (n, e, t, r, u) {\n        var i = n.name ? n : n.$locale(),\n          a = o(i[e]),\n          s = o(i[t]),\n          f = a || s.map(function (n) {\n            return n.slice(0, r);\n          });\n        if (!u) return f;\n        var d = i.weekStart;\n        return f.map(function (n, e) {\n          return f[(e + (d || 0)) % 7];\n        });\n      },\n      i = function () {\n        return t.Ls[t.locale()];\n      },\n      a = function (n, e) {\n        return n.formats[e] || function (n) {\n          return n.replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g, function (n, e, t) {\n            return e || t.slice(1);\n          });\n        }(n.formats[e.toUpperCase()]);\n      },\n      s = function () {\n        var n = this;\n        return {\n          months: function (e) {\n            return e ? e.format(\"MMMM\") : u(n, \"months\");\n          },\n          monthsShort: function (e) {\n            return e ? e.format(\"MMM\") : u(n, \"monthsShort\", \"months\", 3);\n          },\n          firstDayOfWeek: function () {\n            return n.$locale().weekStart || 0;\n          },\n          weekdays: function (e) {\n            return e ? e.format(\"dddd\") : u(n, \"weekdays\");\n          },\n          weekdaysMin: function (e) {\n            return e ? e.format(\"dd\") : u(n, \"weekdaysMin\", \"weekdays\", 2);\n          },\n          weekdaysShort: function (e) {\n            return e ? e.format(\"ddd\") : u(n, \"weekdaysShort\", \"weekdays\", 3);\n          },\n          longDateFormat: function (e) {\n            return a(n.$locale(), e);\n          },\n          meridiem: this.$locale().meridiem,\n          ordinal: this.$locale().ordinal\n        };\n      };\n    r.localeData = function () {\n      return s.bind(this)();\n    }, t.localeData = function () {\n      var n = i();\n      return {\n        firstDayOfWeek: function () {\n          return n.weekStart || 0;\n        },\n        weekdays: function () {\n          return t.weekdays();\n        },\n        weekdaysShort: function () {\n          return t.weekdaysShort();\n        },\n        weekdaysMin: function () {\n          return t.weekdaysMin();\n        },\n        months: function () {\n          return t.months();\n        },\n        monthsShort: function () {\n          return t.monthsShort();\n        },\n        longDateFormat: function (e) {\n          return a(n, e);\n        },\n        meridiem: n.meridiem,\n        ordinal: n.ordinal\n      };\n    }, t.months = function () {\n      return u(i(), \"months\");\n    }, t.monthsShort = function () {\n      return u(i(), \"monthsShort\", \"months\", 3);\n    }, t.weekdays = function (n) {\n      return u(i(), \"weekdays\", null, null, n);\n    }, t.weekdaysShort = function (n) {\n      return u(i(), \"weekdaysShort\", \"weekdays\", 3, n);\n    }, t.weekdaysMin = function (n) {\n      return u(i(), \"weekdaysMin\", \"weekdays\", 2, n);\n    };\n  };\n});","!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).dayjs_plugin_localizedFormat = t();\n}(this, function () {\n  \"use strict\";\n\n  var e = {\n    LTS: \"h:mm:ss A\",\n    LT: \"h:mm A\",\n    L: \"MM/DD/YYYY\",\n    LL: \"MMMM D, YYYY\",\n    LLL: \"MMMM D, YYYY h:mm A\",\n    LLLL: \"dddd, MMMM D, YYYY h:mm A\"\n  };\n  return function (t, o, n) {\n    var r = o.prototype,\n      i = r.format;\n    n.en.formats = e, r.format = function (t) {\n      void 0 === t && (t = \"YYYY-MM-DDTHH:mm:ssZ\");\n      var o = this.$locale().formats,\n        n = function (t, o) {\n          return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g, function (t, n, r) {\n            var i = r && r.toUpperCase();\n            return n || o[r] || e[r] || o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g, function (e, t, o) {\n              return t || o.slice(1);\n            });\n          });\n        }(t, void 0 === o ? {} : o);\n      return i.call(this, n);\n    };\n  };\n});","!function (t, i) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = i() : \"function\" == typeof define && define.amd ? define(i) : (t = \"undefined\" != typeof globalThis ? globalThis : t || self).dayjs_plugin_utc = i();\n}(this, function () {\n  \"use strict\";\n\n  var t = \"minute\",\n    i = /[+-]\\d\\d(?::?\\d\\d)?/g,\n    e = /([+-]|\\d\\d)/g;\n  return function (s, f, n) {\n    var u = f.prototype;\n    n.utc = function (t) {\n      var i = {\n        date: t,\n        utc: !0,\n        args: arguments\n      };\n      return new f(i);\n    }, u.utc = function (i) {\n      var e = n(this.toDate(), {\n        locale: this.$L,\n        utc: !0\n      });\n      return i ? e.add(this.utcOffset(), t) : e;\n    }, u.local = function () {\n      return n(this.toDate(), {\n        locale: this.$L,\n        utc: !1\n      });\n    };\n    var o = u.parse;\n    u.parse = function (t) {\n      t.utc && (this.$u = !0), this.$utils().u(t.$offset) || (this.$offset = t.$offset), o.call(this, t);\n    };\n    var r = u.init;\n    u.init = function () {\n      if (this.$u) {\n        var t = this.$d;\n        this.$y = t.getUTCFullYear(), this.$M = t.getUTCMonth(), this.$D = t.getUTCDate(), this.$W = t.getUTCDay(), this.$H = t.getUTCHours(), this.$m = t.getUTCMinutes(), this.$s = t.getUTCSeconds(), this.$ms = t.getUTCMilliseconds();\n      } else r.call(this);\n    };\n    var a = u.utcOffset;\n    u.utcOffset = function (s, f) {\n      var n = this.$utils().u;\n      if (n(s)) return this.$u ? 0 : n(this.$offset) ? a.call(this) : this.$offset;\n      if (\"string\" == typeof s && (s = function (t) {\n        void 0 === t && (t = \"\");\n        var s = t.match(i);\n        if (!s) return null;\n        var f = (\"\" + s[0]).match(e) || [\"-\", 0, 0],\n          n = f[0],\n          u = 60 * +f[1] + +f[2];\n        return 0 === u ? 0 : \"+\" === n ? u : -u;\n      }(s), null === s)) return this;\n      var u = Math.abs(s) <= 16 ? 60 * s : s,\n        o = this;\n      if (f) return o.$offset = u, o.$u = 0 === s, o;\n      if (0 !== s) {\n        var r = this.$u ? this.toDate().getTimezoneOffset() : -1 * this.utcOffset();\n        (o = this.local().add(u + r, t)).$offset = u, o.$x.$localOffset = r;\n      } else o = this.utc();\n      return o;\n    };\n    var h = u.format;\n    u.format = function (t) {\n      var i = t || (this.$u ? \"YYYY-MM-DDTHH:mm:ss[Z]\" : \"\");\n      return h.call(this, i);\n    }, u.valueOf = function () {\n      var t = this.$utils().u(this.$offset) ? 0 : this.$offset + (this.$x.$localOffset || this.$d.getTimezoneOffset());\n      return this.$d.valueOf() - 6e4 * t;\n    }, u.isUTC = function () {\n      return !!this.$u;\n    }, u.toISOString = function () {\n      return this.toDate().toISOString();\n    }, u.toString = function () {\n      return this.toDate().toUTCString();\n    };\n    var l = u.toDate;\n    u.toDate = function (t) {\n      return \"s\" === t && this.$offset ? n(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate() : l.call(this);\n    };\n    var c = u.diff;\n    u.diff = function (t, i, e) {\n      if (t && this.$u === t.$u) return c.call(this, t, i, e);\n      var s = this.local(),\n        f = n(t).local();\n      return c.call(s, f, i, e);\n    };\n  };\n});","/* @license\nPapa Parse\nv5.5.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n((e, t) => {\n  \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof module && \"undefined\" != typeof exports ? module.exports = t() : e.Papa = t();\n})(this, function r() {\n  var n = \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : void 0 !== n ? n : {};\n  var d,\n    s = !n.document && !!n.postMessage,\n    a = n.IS_PAPA_WORKER || !1,\n    o = {},\n    h = 0,\n    v = {};\n  function u(e) {\n    this._handle = null, this._finished = !1, this._completed = !1, this._halted = !1, this._input = null, this._baseIndex = 0, this._partialLine = \"\", this._rowCount = 0, this._start = 0, this._nextChunk = null, this.isFirstChunk = !0, this._completeResults = {\n      data: [],\n      errors: [],\n      meta: {}\n    }, function (e) {\n      var t = b(e);\n      t.chunkSize = parseInt(t.chunkSize), e.step || e.chunk || (t.chunkSize = null);\n      this._handle = new i(t), (this._handle.streamer = this)._config = t;\n    }.call(this, e), this.parseChunk = function (t, e) {\n      var i = parseInt(this._config.skipFirstNLines) || 0;\n      if (this.isFirstChunk && 0 < i) {\n        let e = this._config.newline;\n        e || (r = this._config.quoteChar || '\"', e = this._handle.guessLineEndings(t, r)), t = [...t.split(e).slice(i)].join(e);\n      }\n      this.isFirstChunk && U(this._config.beforeFirstChunk) && void 0 !== (r = this._config.beforeFirstChunk(t)) && (t = r), this.isFirstChunk = !1, this._halted = !1;\n      var i = this._partialLine + t,\n        r = (this._partialLine = \"\", this._handle.parse(i, this._baseIndex, !this._finished));\n      if (!this._handle.paused() && !this._handle.aborted()) {\n        t = r.meta.cursor, i = (this._finished || (this._partialLine = i.substring(t - this._baseIndex), this._baseIndex = t), r && r.data && (this._rowCount += r.data.length), this._finished || this._config.preview && this._rowCount >= this._config.preview);\n        if (a) n.postMessage({\n          results: r,\n          workerId: v.WORKER_ID,\n          finished: i\n        });else if (U(this._config.chunk) && !e) {\n          if (this._config.chunk(r, this._handle), this._handle.paused() || this._handle.aborted()) return void (this._halted = !0);\n          this._completeResults = r = void 0;\n        }\n        return this._config.step || this._config.chunk || (this._completeResults.data = this._completeResults.data.concat(r.data), this._completeResults.errors = this._completeResults.errors.concat(r.errors), this._completeResults.meta = r.meta), this._completed || !i || !U(this._config.complete) || r && r.meta.aborted || (this._config.complete(this._completeResults, this._input), this._completed = !0), i || r && r.meta.paused || this._nextChunk(), r;\n      }\n      this._halted = !0;\n    }, this._sendError = function (e) {\n      U(this._config.error) ? this._config.error(e) : a && this._config.error && n.postMessage({\n        workerId: v.WORKER_ID,\n        error: e,\n        finished: !1\n      });\n    };\n  }\n  function f(e) {\n    var r;\n    (e = e || {}).chunkSize || (e.chunkSize = v.RemoteChunkSize), u.call(this, e), this._nextChunk = s ? function () {\n      this._readChunk(), this._chunkLoaded();\n    } : function () {\n      this._readChunk();\n    }, this.stream = function (e) {\n      this._input = e, this._nextChunk();\n    }, this._readChunk = function () {\n      if (this._finished) this._chunkLoaded();else {\n        if (r = new XMLHttpRequest(), this._config.withCredentials && (r.withCredentials = this._config.withCredentials), s || (r.onload = y(this._chunkLoaded, this), r.onerror = y(this._chunkError, this)), r.open(this._config.downloadRequestBody ? \"POST\" : \"GET\", this._input, !s), this._config.downloadRequestHeaders) {\n          var e,\n            t = this._config.downloadRequestHeaders;\n          for (e in t) r.setRequestHeader(e, t[e]);\n        }\n        var i;\n        this._config.chunkSize && (i = this._start + this._config.chunkSize - 1, r.setRequestHeader(\"Range\", \"bytes=\" + this._start + \"-\" + i));\n        try {\n          r.send(this._config.downloadRequestBody);\n        } catch (e) {\n          this._chunkError(e.message);\n        }\n        s && 0 === r.status && this._chunkError();\n      }\n    }, this._chunkLoaded = function () {\n      4 === r.readyState && (r.status < 200 || 400 <= r.status ? this._chunkError() : (this._start += this._config.chunkSize || r.responseText.length, this._finished = !this._config.chunkSize || this._start >= (e => null !== (e = e.getResponseHeader(\"Content-Range\")) ? parseInt(e.substring(e.lastIndexOf(\"/\") + 1)) : -1)(r), this.parseChunk(r.responseText)));\n    }, this._chunkError = function (e) {\n      e = r.statusText || e;\n      this._sendError(new Error(e));\n    };\n  }\n  function l(e) {\n    (e = e || {}).chunkSize || (e.chunkSize = v.LocalChunkSize), u.call(this, e);\n    var i,\n      r,\n      n = \"undefined\" != typeof FileReader;\n    this.stream = function (e) {\n      this._input = e, r = e.slice || e.webkitSlice || e.mozSlice, n ? ((i = new FileReader()).onload = y(this._chunkLoaded, this), i.onerror = y(this._chunkError, this)) : i = new FileReaderSync(), this._nextChunk();\n    }, this._nextChunk = function () {\n      this._finished || this._config.preview && !(this._rowCount < this._config.preview) || this._readChunk();\n    }, this._readChunk = function () {\n      var e = this._input,\n        t = (this._config.chunkSize && (t = Math.min(this._start + this._config.chunkSize, this._input.size), e = r.call(e, this._start, t)), i.readAsText(e, this._config.encoding));\n      n || this._chunkLoaded({\n        target: {\n          result: t\n        }\n      });\n    }, this._chunkLoaded = function (e) {\n      this._start += this._config.chunkSize, this._finished = !this._config.chunkSize || this._start >= this._input.size, this.parseChunk(e.target.result);\n    }, this._chunkError = function () {\n      this._sendError(i.error);\n    };\n  }\n  function c(e) {\n    var i;\n    u.call(this, e = e || {}), this.stream = function (e) {\n      return i = e, this._nextChunk();\n    }, this._nextChunk = function () {\n      var e, t;\n      if (!this._finished) return e = this._config.chunkSize, i = e ? (t = i.substring(0, e), i.substring(e)) : (t = i, \"\"), this._finished = !i, this.parseChunk(t);\n    };\n  }\n  function p(e) {\n    u.call(this, e = e || {});\n    var t = [],\n      i = !0,\n      r = !1;\n    this.pause = function () {\n      u.prototype.pause.apply(this, arguments), this._input.pause();\n    }, this.resume = function () {\n      u.prototype.resume.apply(this, arguments), this._input.resume();\n    }, this.stream = function (e) {\n      this._input = e, this._input.on(\"data\", this._streamData), this._input.on(\"end\", this._streamEnd), this._input.on(\"error\", this._streamError);\n    }, this._checkIsFinished = function () {\n      r && 1 === t.length && (this._finished = !0);\n    }, this._nextChunk = function () {\n      this._checkIsFinished(), t.length ? this.parseChunk(t.shift()) : i = !0;\n    }, this._streamData = y(function (e) {\n      try {\n        t.push(\"string\" == typeof e ? e : e.toString(this._config.encoding)), i && (i = !1, this._checkIsFinished(), this.parseChunk(t.shift()));\n      } catch (e) {\n        this._streamError(e);\n      }\n    }, this), this._streamError = y(function (e) {\n      this._streamCleanUp(), this._sendError(e);\n    }, this), this._streamEnd = y(function () {\n      this._streamCleanUp(), r = !0, this._streamData(\"\");\n    }, this), this._streamCleanUp = y(function () {\n      this._input.removeListener(\"data\", this._streamData), this._input.removeListener(\"end\", this._streamEnd), this._input.removeListener(\"error\", this._streamError);\n    }, this);\n  }\n  function i(m) {\n    var n,\n      s,\n      a,\n      t,\n      o = Math.pow(2, 53),\n      h = -o,\n      u = /^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,\n      d = /^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,\n      i = this,\n      r = 0,\n      f = 0,\n      l = !1,\n      e = !1,\n      c = [],\n      p = {\n        data: [],\n        errors: [],\n        meta: {}\n      };\n    function y(e) {\n      return \"greedy\" === m.skipEmptyLines ? \"\" === e.join(\"\").trim() : 1 === e.length && 0 === e[0].length;\n    }\n    function g() {\n      if (p && a && (k(\"Delimiter\", \"UndetectableDelimiter\", \"Unable to auto-detect delimiting character; defaulted to '\" + v.DefaultDelimiter + \"'\"), a = !1), m.skipEmptyLines && (p.data = p.data.filter(function (e) {\n        return !y(e);\n      })), _()) {\n        if (p) if (Array.isArray(p.data[0])) {\n          for (var e = 0; _() && e < p.data.length; e++) p.data[e].forEach(t);\n          p.data.splice(0, 1);\n        } else p.data.forEach(t);\n        function t(e, t) {\n          U(m.transformHeader) && (e = m.transformHeader(e, t)), c.push(e);\n        }\n      }\n      function i(e, t) {\n        for (var i = m.header ? {} : [], r = 0; r < e.length; r++) {\n          var n = r,\n            s = e[r],\n            s = ((e, t) => (e => (m.dynamicTypingFunction && void 0 === m.dynamicTyping[e] && (m.dynamicTyping[e] = m.dynamicTypingFunction(e)), !0 === (m.dynamicTyping[e] || m.dynamicTyping)))(e) ? \"true\" === t || \"TRUE\" === t || \"false\" !== t && \"FALSE\" !== t && ((e => {\n              if (u.test(e)) {\n                e = parseFloat(e);\n                if (h < e && e < o) return 1;\n              }\n            })(t) ? parseFloat(t) : d.test(t) ? new Date(t) : \"\" === t ? null : t) : t)(n = m.header ? r >= c.length ? \"__parsed_extra\" : c[r] : n, s = m.transform ? m.transform(s, n) : s);\n          \"__parsed_extra\" === n ? (i[n] = i[n] || [], i[n].push(s)) : i[n] = s;\n        }\n        return m.header && (r > c.length ? k(\"FieldMismatch\", \"TooManyFields\", \"Too many fields: expected \" + c.length + \" fields but parsed \" + r, f + t) : r < c.length && k(\"FieldMismatch\", \"TooFewFields\", \"Too few fields: expected \" + c.length + \" fields but parsed \" + r, f + t)), i;\n      }\n      var r;\n      p && (m.header || m.dynamicTyping || m.transform) && (r = 1, !p.data.length || Array.isArray(p.data[0]) ? (p.data = p.data.map(i), r = p.data.length) : p.data = i(p.data, 0), m.header && p.meta && (p.meta.fields = c), f += r);\n    }\n    function _() {\n      return m.header && 0 === c.length;\n    }\n    function k(e, t, i, r) {\n      e = {\n        type: e,\n        code: t,\n        message: i\n      };\n      void 0 !== r && (e.row = r), p.errors.push(e);\n    }\n    U(m.step) && (t = m.step, m.step = function (e) {\n      p = e, _() ? g() : (g(), 0 !== p.data.length && (r += e.data.length, m.preview && r > m.preview ? s.abort() : (p.data = p.data[0], t(p, i))));\n    }), this.parse = function (e, t, i) {\n      var r = m.quoteChar || '\"',\n        r = (m.newline || (m.newline = this.guessLineEndings(e, r)), a = !1, m.delimiter ? U(m.delimiter) && (m.delimiter = m.delimiter(e), p.meta.delimiter = m.delimiter) : ((r = ((e, t, i, r, n) => {\n          var s, a, o, h;\n          n = n || [\",\", \"\\t\", \"|\", \";\", v.RECORD_SEP, v.UNIT_SEP];\n          for (var u = 0; u < n.length; u++) {\n            for (var d, f = n[u], l = 0, c = 0, p = 0, g = (o = void 0, new E({\n                comments: r,\n                delimiter: f,\n                newline: t,\n                preview: 10\n              }).parse(e)), _ = 0; _ < g.data.length; _++) i && y(g.data[_]) ? p++ : (d = g.data[_].length, c += d, void 0 === o ? o = d : 0 < d && (l += Math.abs(d - o), o = d));\n            0 < g.data.length && (c /= g.data.length - p), (void 0 === a || l <= a) && (void 0 === h || h < c) && 1.99 < c && (a = l, s = f, h = c);\n          }\n          return {\n            successful: !!(m.delimiter = s),\n            bestDelimiter: s\n          };\n        })(e, m.newline, m.skipEmptyLines, m.comments, m.delimitersToGuess)).successful ? m.delimiter = r.bestDelimiter : (a = !0, m.delimiter = v.DefaultDelimiter), p.meta.delimiter = m.delimiter), b(m));\n      return m.preview && m.header && r.preview++, n = e, s = new E(r), p = s.parse(n, t, i), g(), l ? {\n        meta: {\n          paused: !0\n        }\n      } : p || {\n        meta: {\n          paused: !1\n        }\n      };\n    }, this.paused = function () {\n      return l;\n    }, this.pause = function () {\n      l = !0, s.abort(), n = U(m.chunk) ? \"\" : n.substring(s.getCharIndex());\n    }, this.resume = function () {\n      i.streamer._halted ? (l = !1, i.streamer.parseChunk(n, !0)) : setTimeout(i.resume, 3);\n    }, this.aborted = function () {\n      return e;\n    }, this.abort = function () {\n      e = !0, s.abort(), p.meta.aborted = !0, U(m.complete) && m.complete(p), n = \"\";\n    }, this.guessLineEndings = function (e, t) {\n      e = e.substring(0, 1048576);\n      var t = new RegExp(P(t) + \"([^]*?)\" + P(t), \"gm\"),\n        i = (e = e.replace(t, \"\")).split(\"\\r\"),\n        t = e.split(\"\\n\"),\n        e = 1 < t.length && t[0].length < i[0].length;\n      if (1 === i.length || e) return \"\\n\";\n      for (var r = 0, n = 0; n < i.length; n++) \"\\n\" === i[n][0] && r++;\n      return r >= i.length / 2 ? \"\\r\\n\" : \"\\r\";\n    };\n  }\n  function P(e) {\n    return e.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  }\n  function E(C) {\n    var S = (C = C || {}).delimiter,\n      O = C.newline,\n      x = C.comments,\n      I = C.step,\n      A = C.preview,\n      T = C.fastMode,\n      D = null,\n      L = !1,\n      F = null == C.quoteChar ? '\"' : C.quoteChar,\n      j = F;\n    if (void 0 !== C.escapeChar && (j = C.escapeChar), (\"string\" != typeof S || -1 < v.BAD_DELIMITERS.indexOf(S)) && (S = \",\"), x === S) throw new Error(\"Comment character same as delimiter\");\n    !0 === x ? x = \"#\" : (\"string\" != typeof x || -1 < v.BAD_DELIMITERS.indexOf(x)) && (x = !1), \"\\n\" !== O && \"\\r\" !== O && \"\\r\\n\" !== O && (O = \"\\n\");\n    var z = 0,\n      M = !1;\n    this.parse = function (i, t, r) {\n      if (\"string\" != typeof i) throw new Error(\"Input must be a string\");\n      var n = i.length,\n        e = S.length,\n        s = O.length,\n        a = x.length,\n        o = U(I),\n        h = [],\n        u = [],\n        d = [],\n        f = z = 0;\n      if (!i) return w();\n      if (T || !1 !== T && -1 === i.indexOf(F)) {\n        for (var l = i.split(O), c = 0; c < l.length; c++) {\n          if (d = l[c], z += d.length, c !== l.length - 1) z += O.length;else if (r) return w();\n          if (!x || d.substring(0, a) !== x) {\n            if (o) {\n              if (h = [], k(d.split(S)), R(), M) return w();\n            } else k(d.split(S));\n            if (A && A <= c) return h = h.slice(0, A), w(!0);\n          }\n        }\n        return w();\n      }\n      for (var p = i.indexOf(S, z), g = i.indexOf(O, z), _ = new RegExp(P(j) + P(F), \"g\"), m = i.indexOf(F, z);;) if (i[z] === F) for (m = z, z++;;) {\n        if (-1 === (m = i.indexOf(F, m + 1))) return r || u.push({\n          type: \"Quotes\",\n          code: \"MissingQuotes\",\n          message: \"Quoted field unterminated\",\n          row: h.length,\n          index: z\n        }), E();\n        if (m === n - 1) return E(i.substring(z, m).replace(_, F));\n        if (F === j && i[m + 1] === j) m++;else if (F === j || 0 === m || i[m - 1] !== j) {\n          -1 !== p && p < m + 1 && (p = i.indexOf(S, m + 1));\n          var y = v(-1 === (g = -1 !== g && g < m + 1 ? i.indexOf(O, m + 1) : g) ? p : Math.min(p, g));\n          if (i.substr(m + 1 + y, e) === S) {\n            d.push(i.substring(z, m).replace(_, F)), i[z = m + 1 + y + e] !== F && (m = i.indexOf(F, z)), p = i.indexOf(S, z), g = i.indexOf(O, z);\n            break;\n          }\n          y = v(g);\n          if (i.substring(m + 1 + y, m + 1 + y + s) === O) {\n            if (d.push(i.substring(z, m).replace(_, F)), b(m + 1 + y + s), p = i.indexOf(S, z), m = i.indexOf(F, z), o && (R(), M)) return w();\n            if (A && h.length >= A) return w(!0);\n            break;\n          }\n          u.push({\n            type: \"Quotes\",\n            code: \"InvalidQuotes\",\n            message: \"Trailing quote on quoted field is malformed\",\n            row: h.length,\n            index: z\n          }), m++;\n        }\n      } else if (x && 0 === d.length && i.substring(z, z + a) === x) {\n        if (-1 === g) return w();\n        z = g + s, g = i.indexOf(O, z), p = i.indexOf(S, z);\n      } else if (-1 !== p && (p < g || -1 === g)) d.push(i.substring(z, p)), z = p + e, p = i.indexOf(S, z);else {\n        if (-1 === g) break;\n        if (d.push(i.substring(z, g)), b(g + s), o && (R(), M)) return w();\n        if (A && h.length >= A) return w(!0);\n      }\n      return E();\n      function k(e) {\n        h.push(e), f = z;\n      }\n      function v(e) {\n        var t = 0;\n        return t = -1 !== e && (e = i.substring(m + 1, e)) && \"\" === e.trim() ? e.length : t;\n      }\n      function E(e) {\n        return r || (void 0 === e && (e = i.substring(z)), d.push(e), z = n, k(d), o && R()), w();\n      }\n      function b(e) {\n        z = e, k(d), d = [], g = i.indexOf(O, z);\n      }\n      function w(e) {\n        if (C.header && !t && h.length && !L) {\n          var s = h[0],\n            a = Object.create(null),\n            o = new Set(s);\n          let n = !1;\n          for (let r = 0; r < s.length; r++) {\n            let i = s[r];\n            if (a[i = U(C.transformHeader) ? C.transformHeader(i, r) : i]) {\n              let e,\n                t = a[i];\n              for (; e = i + \"_\" + t, t++, o.has(e););\n              o.add(e), s[r] = e, a[i]++, n = !0, (D = null === D ? {} : D)[e] = i;\n            } else a[i] = 1, s[r] = i;\n            o.add(i);\n          }\n          n && console.warn(\"Duplicate headers found and renamed.\"), L = !0;\n        }\n        return {\n          data: h,\n          errors: u,\n          meta: {\n            delimiter: S,\n            linebreak: O,\n            aborted: M,\n            truncated: !!e,\n            cursor: f + (t || 0),\n            renamedHeaders: D\n          }\n        };\n      }\n      function R() {\n        I(w()), h = [], u = [];\n      }\n    }, this.abort = function () {\n      M = !0;\n    }, this.getCharIndex = function () {\n      return z;\n    };\n  }\n  function g(e) {\n    var t = e.data,\n      i = o[t.workerId],\n      r = !1;\n    if (t.error) i.userError(t.error, t.file);else if (t.results && t.results.data) {\n      var n = {\n        abort: function () {\n          r = !0, _(t.workerId, {\n            data: [],\n            errors: [],\n            meta: {\n              aborted: !0\n            }\n          });\n        },\n        pause: m,\n        resume: m\n      };\n      if (U(i.userStep)) {\n        for (var s = 0; s < t.results.data.length && (i.userStep({\n          data: t.results.data[s],\n          errors: t.results.errors,\n          meta: t.results.meta\n        }, n), !r); s++);\n        delete t.results;\n      } else U(i.userChunk) && (i.userChunk(t.results, n, t.file), delete t.results);\n    }\n    t.finished && !r && _(t.workerId, t.results);\n  }\n  function _(e, t) {\n    var i = o[e];\n    U(i.userComplete) && i.userComplete(t), i.terminate(), delete o[e];\n  }\n  function m() {\n    throw new Error(\"Not implemented.\");\n  }\n  function b(e) {\n    if (\"object\" != typeof e || null === e) return e;\n    var t,\n      i = Array.isArray(e) ? [] : {};\n    for (t in e) i[t] = b(e[t]);\n    return i;\n  }\n  function y(e, t) {\n    return function () {\n      e.apply(t, arguments);\n    };\n  }\n  function U(e) {\n    return \"function\" == typeof e;\n  }\n  return v.parse = function (e, t) {\n    var i = (t = t || {}).dynamicTyping || !1;\n    U(i) && (t.dynamicTypingFunction = i, i = {});\n    if (t.dynamicTyping = i, t.transform = !!U(t.transform) && t.transform, !t.worker || !v.WORKERS_SUPPORTED) return i = null, v.NODE_STREAM_INPUT, \"string\" == typeof e ? (e = (e => 65279 !== e.charCodeAt(0) ? e : e.slice(1))(e), i = new (t.download ? f : c)(t)) : !0 === e.readable && U(e.read) && U(e.on) ? i = new p(t) : (n.File && e instanceof File || e instanceof Object) && (i = new l(t)), i.stream(e);\n    (i = (() => {\n      var e;\n      return !!v.WORKERS_SUPPORTED && (e = (() => {\n        var e = n.URL || n.webkitURL || null,\n          t = r.toString();\n        return v.BLOB_URL || (v.BLOB_URL = e.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \", \"(\", t, \")();\"], {\n          type: \"text/javascript\"\n        })));\n      })(), (e = new n.Worker(e)).onmessage = g, e.id = h++, o[e.id] = e);\n    })()).userStep = t.step, i.userChunk = t.chunk, i.userComplete = t.complete, i.userError = t.error, t.step = U(t.step), t.chunk = U(t.chunk), t.complete = U(t.complete), t.error = U(t.error), delete t.worker, i.postMessage({\n      input: e,\n      config: t,\n      workerId: i.id\n    });\n  }, v.unparse = function (e, t) {\n    var n = !1,\n      _ = !0,\n      m = \",\",\n      y = \"\\r\\n\",\n      s = '\"',\n      a = s + s,\n      i = !1,\n      r = null,\n      o = !1,\n      h = ((() => {\n        if (\"object\" == typeof t) {\n          if (\"string\" != typeof t.delimiter || v.BAD_DELIMITERS.filter(function (e) {\n            return -1 !== t.delimiter.indexOf(e);\n          }).length || (m = t.delimiter), \"boolean\" != typeof t.quotes && \"function\" != typeof t.quotes && !Array.isArray(t.quotes) || (n = t.quotes), \"boolean\" != typeof t.skipEmptyLines && \"string\" != typeof t.skipEmptyLines || (i = t.skipEmptyLines), \"string\" == typeof t.newline && (y = t.newline), \"string\" == typeof t.quoteChar && (s = t.quoteChar), \"boolean\" == typeof t.header && (_ = t.header), Array.isArray(t.columns)) {\n            if (0 === t.columns.length) throw new Error(\"Option columns is empty\");\n            r = t.columns;\n          }\n          void 0 !== t.escapeChar && (a = t.escapeChar + s), t.escapeFormulae instanceof RegExp ? o = t.escapeFormulae : \"boolean\" == typeof t.escapeFormulae && t.escapeFormulae && (o = /^[=+\\-@\\t\\r].*$/);\n        }\n      })(), new RegExp(P(s), \"g\"));\n    \"string\" == typeof e && (e = JSON.parse(e));\n    if (Array.isArray(e)) {\n      if (!e.length || Array.isArray(e[0])) return u(null, e, i);\n      if (\"object\" == typeof e[0]) return u(r || Object.keys(e[0]), e, i);\n    } else if (\"object\" == typeof e) return \"string\" == typeof e.data && (e.data = JSON.parse(e.data)), Array.isArray(e.data) && (e.fields || (e.fields = e.meta && e.meta.fields || r), e.fields || (e.fields = Array.isArray(e.data[0]) ? e.fields : \"object\" == typeof e.data[0] ? Object.keys(e.data[0]) : []), Array.isArray(e.data[0]) || \"object\" == typeof e.data[0] || (e.data = [e.data])), u(e.fields || [], e.data || [], i);\n    throw new Error(\"Unable to serialize unrecognized input\");\n    function u(e, t, i) {\n      var r = \"\",\n        n = (\"string\" == typeof e && (e = JSON.parse(e)), \"string\" == typeof t && (t = JSON.parse(t)), Array.isArray(e) && 0 < e.length),\n        s = !Array.isArray(t[0]);\n      if (n && _) {\n        for (var a = 0; a < e.length; a++) 0 < a && (r += m), r += k(e[a], a);\n        0 < t.length && (r += y);\n      }\n      for (var o = 0; o < t.length; o++) {\n        var h = (n ? e : t[o]).length,\n          u = !1,\n          d = n ? 0 === Object.keys(t[o]).length : 0 === t[o].length;\n        if (i && !n && (u = \"greedy\" === i ? \"\" === t[o].join(\"\").trim() : 1 === t[o].length && 0 === t[o][0].length), \"greedy\" === i && n) {\n          for (var f = [], l = 0; l < h; l++) {\n            var c = s ? e[l] : l;\n            f.push(t[o][c]);\n          }\n          u = \"\" === f.join(\"\").trim();\n        }\n        if (!u) {\n          for (var p = 0; p < h; p++) {\n            0 < p && !d && (r += m);\n            var g = n && s ? e[p] : p;\n            r += k(t[o][g], p);\n          }\n          o < t.length - 1 && (!i || 0 < h && !d) && (r += y);\n        }\n      }\n      return r;\n    }\n    function k(e, t) {\n      var i, r;\n      return null == e ? \"\" : e.constructor === Date ? JSON.stringify(e).slice(1, 25) : (r = !1, o && \"string\" == typeof e && o.test(e) && (e = \"'\" + e, r = !0), i = e.toString().replace(h, a), (r = r || !0 === n || \"function\" == typeof n && n(e, t) || Array.isArray(n) && n[t] || ((e, t) => {\n        for (var i = 0; i < t.length; i++) if (-1 < e.indexOf(t[i])) return !0;\n        return !1;\n      })(i, v.BAD_DELIMITERS) || -1 < i.indexOf(m) || \" \" === i.charAt(0) || \" \" === i.charAt(i.length - 1)) ? s + i + s : i);\n    }\n  }, v.RECORD_SEP = String.fromCharCode(30), v.UNIT_SEP = String.fromCharCode(31), v.BYTE_ORDER_MARK = \"\\ufeff\", v.BAD_DELIMITERS = [\"\\r\", \"\\n\", '\"', v.BYTE_ORDER_MARK], v.WORKERS_SUPPORTED = !s && !!n.Worker, v.NODE_STREAM_INPUT = 1, v.LocalChunkSize = 10485760, v.RemoteChunkSize = 5242880, v.DefaultDelimiter = \",\", v.Parser = E, v.ParserHandle = i, v.NetworkStreamer = f, v.FileStreamer = l, v.StringStreamer = c, v.ReadableStreamStreamer = p, n.jQuery && ((d = n.jQuery).fn.parse = function (o) {\n    var i = o.config || {},\n      h = [];\n    return this.each(function (e) {\n      if (!(\"INPUT\" === d(this).prop(\"tagName\").toUpperCase() && \"file\" === d(this).attr(\"type\").toLowerCase() && n.FileReader) || !this.files || 0 === this.files.length) return !0;\n      for (var t = 0; t < this.files.length; t++) h.push({\n        file: this.files[t],\n        inputElem: this,\n        instanceConfig: d.extend({}, i)\n      });\n    }), e(), this;\n    function e() {\n      if (0 === h.length) U(o.complete) && o.complete();else {\n        var e,\n          t,\n          i,\n          r,\n          n = h[0];\n        if (U(o.before)) {\n          var s = o.before(n.file, n.inputElem);\n          if (\"object\" == typeof s) {\n            if (\"abort\" === s.action) return e = \"AbortError\", t = n.file, i = n.inputElem, r = s.reason, void (U(o.error) && o.error({\n              name: e\n            }, t, i, r));\n            if (\"skip\" === s.action) return void u();\n            \"object\" == typeof s.config && (n.instanceConfig = d.extend(n.instanceConfig, s.config));\n          } else if (\"skip\" === s) return void u();\n        }\n        var a = n.instanceConfig.complete;\n        n.instanceConfig.complete = function (e) {\n          U(a) && a(e, n.file, n.inputElem), u();\n        }, v.parse(n.file, n.instanceConfig);\n      }\n    }\n    function u() {\n      h.splice(0, 1), e();\n    }\n  }), a && (n.onmessage = function (e) {\n    e = e.data;\n    void 0 === v.WORKER_ID && e && (v.WORKER_ID = e.workerId);\n    \"string\" == typeof e.input ? n.postMessage({\n      workerId: v.WORKER_ID,\n      results: v.parse(e.input, e.config),\n      finished: !0\n    }) : (n.File && e.input instanceof File || e.input instanceof Object) && (e = v.parse(e.input, e.config)) && n.postMessage({\n      workerId: v.WORKER_ID,\n      results: e,\n      finished: !0\n    });\n  }), (f.prototype = Object.create(u.prototype)).constructor = f, (l.prototype = Object.create(u.prototype)).constructor = l, (c.prototype = Object.create(c.prototype)).constructor = c, (p.prototype = Object.create(u.prototype)).constructor = p, v;\n});","(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else {\n    var a = factory();\n    for (var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n  }\n})(self, function () {\n  return /******/function () {\n    // webpackBootstrap\n    /******/\n    var __webpack_modules__ = {\n      /***/3099: (/***/function (module) {\n        module.exports = function (it) {\n          if (typeof it != 'function') {\n            throw TypeError(String(it) + ' is not a function');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/6077: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var isObject = __webpack_require__(111);\n        module.exports = function (it) {\n          if (!isObject(it) && it !== null) {\n            throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/1223: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(5112);\n        var create = __webpack_require__(30);\n        var definePropertyModule = __webpack_require__(3070);\n        var UNSCOPABLES = wellKnownSymbol('unscopables');\n        var ArrayPrototype = Array.prototype;\n\n        // Array.prototype[@@unscopables]\n        // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n        if (ArrayPrototype[UNSCOPABLES] == undefined) {\n          definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n            configurable: true,\n            value: create(null)\n          });\n        }\n\n        // add a key to Array.prototype[@@unscopables]\n        module.exports = function (key) {\n          ArrayPrototype[UNSCOPABLES][key] = true;\n        };\n\n        /***/\n      }),\n      /***/1530: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var charAt = __webpack_require__(8710).charAt;\n\n        // `AdvanceStringIndex` abstract operation\n        // https://tc39.es/ecma262/#sec-advancestringindex\n        module.exports = function (S, index, unicode) {\n          return index + (unicode ? charAt(S, index).length : 1);\n        };\n\n        /***/\n      }),\n      /***/5787: (/***/function (module) {\n        module.exports = function (it, Constructor, name) {\n          if (!(it instanceof Constructor)) {\n            throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/9670: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var isObject = __webpack_require__(111);\n        module.exports = function (it) {\n          if (!isObject(it)) {\n            throw TypeError(String(it) + ' is not an object');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/4019: (/***/function (module) {\n        module.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n\n        /***/\n      }),\n      /***/260: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var NATIVE_ARRAY_BUFFER = __webpack_require__(4019);\n        var DESCRIPTORS = __webpack_require__(9781);\n        var global = __webpack_require__(7854);\n        var isObject = __webpack_require__(111);\n        var has = __webpack_require__(6656);\n        var classof = __webpack_require__(648);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var redefine = __webpack_require__(1320);\n        var defineProperty = __webpack_require__(3070).f;\n        var getPrototypeOf = __webpack_require__(9518);\n        var setPrototypeOf = __webpack_require__(7674);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var uid = __webpack_require__(9711);\n        var Int8Array = global.Int8Array;\n        var Int8ArrayPrototype = Int8Array && Int8Array.prototype;\n        var Uint8ClampedArray = global.Uint8ClampedArray;\n        var Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\n        var TypedArray = Int8Array && getPrototypeOf(Int8Array);\n        var TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\n        var ObjectPrototype = Object.prototype;\n        var isPrototypeOf = ObjectPrototype.isPrototypeOf;\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        var TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n        // Fixing native typed arrays in Opera Presto crashes the browser, see #595\n        var NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\n        var TYPED_ARRAY_TAG_REQIRED = false;\n        var NAME;\n        var TypedArrayConstructorsList = {\n          Int8Array: 1,\n          Uint8Array: 1,\n          Uint8ClampedArray: 1,\n          Int16Array: 2,\n          Uint16Array: 2,\n          Int32Array: 4,\n          Uint32Array: 4,\n          Float32Array: 4,\n          Float64Array: 8\n        };\n        var BigIntArrayConstructorsList = {\n          BigInt64Array: 8,\n          BigUint64Array: 8\n        };\n        var isView = function isView(it) {\n          if (!isObject(it)) return false;\n          var klass = classof(it);\n          return klass === 'DataView' || has(TypedArrayConstructorsList, klass) || has(BigIntArrayConstructorsList, klass);\n        };\n        var isTypedArray = function (it) {\n          if (!isObject(it)) return false;\n          var klass = classof(it);\n          return has(TypedArrayConstructorsList, klass) || has(BigIntArrayConstructorsList, klass);\n        };\n        var aTypedArray = function (it) {\n          if (isTypedArray(it)) return it;\n          throw TypeError('Target is not a typed array');\n        };\n        var aTypedArrayConstructor = function (C) {\n          if (setPrototypeOf) {\n            if (isPrototypeOf.call(TypedArray, C)) return C;\n          } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n            var TypedArrayConstructor = global[ARRAY];\n            if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n              return C;\n            }\n          }\n          throw TypeError('Target is not a typed array constructor');\n        };\n        var exportTypedArrayMethod = function (KEY, property, forced) {\n          if (!DESCRIPTORS) return;\n          if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n            var TypedArrayConstructor = global[ARRAY];\n            if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n              delete TypedArrayConstructor.prototype[KEY];\n            }\n          }\n          if (!TypedArrayPrototype[KEY] || forced) {\n            redefine(TypedArrayPrototype, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n          }\n        };\n        var exportTypedArrayStaticMethod = function (KEY, property, forced) {\n          var ARRAY, TypedArrayConstructor;\n          if (!DESCRIPTORS) return;\n          if (setPrototypeOf) {\n            if (forced) for (ARRAY in TypedArrayConstructorsList) {\n              TypedArrayConstructor = global[ARRAY];\n              if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n                delete TypedArrayConstructor[KEY];\n              }\n            }\n            if (!TypedArray[KEY] || forced) {\n              // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n              try {\n                return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n              } catch (error) {/* empty */}\n            } else return;\n          }\n          for (ARRAY in TypedArrayConstructorsList) {\n            TypedArrayConstructor = global[ARRAY];\n            if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n              redefine(TypedArrayConstructor, KEY, property);\n            }\n          }\n        };\n        for (NAME in TypedArrayConstructorsList) {\n          if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n        }\n\n        // WebKit bug - typed arrays constructors prototype is Object.prototype\n        if (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n          // eslint-disable-next-line no-shadow -- safe\n          TypedArray = function TypedArray() {\n            throw TypeError('Incorrect invocation');\n          };\n          if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n            if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n          }\n        }\n        if (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n          TypedArrayPrototype = TypedArray.prototype;\n          if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n            if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n          }\n        }\n\n        // WebKit bug - one more object in Uint8ClampedArray prototype chain\n        if (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n          setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n        }\n        if (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n          TYPED_ARRAY_TAG_REQIRED = true;\n          defineProperty(TypedArrayPrototype, TO_STRING_TAG, {\n            get: function () {\n              return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n            }\n          });\n          for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n            createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n          }\n        }\n        module.exports = {\n          NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n          TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n          aTypedArray: aTypedArray,\n          aTypedArrayConstructor: aTypedArrayConstructor,\n          exportTypedArrayMethod: exportTypedArrayMethod,\n          exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n          isView: isView,\n          isTypedArray: isTypedArray,\n          TypedArray: TypedArray,\n          TypedArrayPrototype: TypedArrayPrototype\n        };\n\n        /***/\n      }),\n      /***/3331: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var global = __webpack_require__(7854);\n        var DESCRIPTORS = __webpack_require__(9781);\n        var NATIVE_ARRAY_BUFFER = __webpack_require__(4019);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var redefineAll = __webpack_require__(2248);\n        var fails = __webpack_require__(7293);\n        var anInstance = __webpack_require__(5787);\n        var toInteger = __webpack_require__(9958);\n        var toLength = __webpack_require__(7466);\n        var toIndex = __webpack_require__(7067);\n        var IEEE754 = __webpack_require__(1179);\n        var getPrototypeOf = __webpack_require__(9518);\n        var setPrototypeOf = __webpack_require__(7674);\n        var getOwnPropertyNames = __webpack_require__(8006).f;\n        var defineProperty = __webpack_require__(3070).f;\n        var arrayFill = __webpack_require__(1285);\n        var setToStringTag = __webpack_require__(8003);\n        var InternalStateModule = __webpack_require__(9909);\n        var getInternalState = InternalStateModule.get;\n        var setInternalState = InternalStateModule.set;\n        var ARRAY_BUFFER = 'ArrayBuffer';\n        var DATA_VIEW = 'DataView';\n        var PROTOTYPE = 'prototype';\n        var WRONG_LENGTH = 'Wrong length';\n        var WRONG_INDEX = 'Wrong index';\n        var NativeArrayBuffer = global[ARRAY_BUFFER];\n        var $ArrayBuffer = NativeArrayBuffer;\n        var $DataView = global[DATA_VIEW];\n        var $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\n        var ObjectPrototype = Object.prototype;\n        var RangeError = global.RangeError;\n        var packIEEE754 = IEEE754.pack;\n        var unpackIEEE754 = IEEE754.unpack;\n        var packInt8 = function (number) {\n          return [number & 0xFF];\n        };\n        var packInt16 = function (number) {\n          return [number & 0xFF, number >> 8 & 0xFF];\n        };\n        var packInt32 = function (number) {\n          return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n        };\n        var unpackInt32 = function (buffer) {\n          return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n        };\n        var packFloat32 = function (number) {\n          return packIEEE754(number, 23, 4);\n        };\n        var packFloat64 = function (number) {\n          return packIEEE754(number, 52, 8);\n        };\n        var addGetter = function (Constructor, key) {\n          defineProperty(Constructor[PROTOTYPE], key, {\n            get: function () {\n              return getInternalState(this)[key];\n            }\n          });\n        };\n        var get = function (view, count, index, isLittleEndian) {\n          var intIndex = toIndex(index);\n          var store = getInternalState(view);\n          if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n          var bytes = getInternalState(store.buffer).bytes;\n          var start = intIndex + store.byteOffset;\n          var pack = bytes.slice(start, start + count);\n          return isLittleEndian ? pack : pack.reverse();\n        };\n        var set = function (view, count, index, conversion, value, isLittleEndian) {\n          var intIndex = toIndex(index);\n          var store = getInternalState(view);\n          if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n          var bytes = getInternalState(store.buffer).bytes;\n          var start = intIndex + store.byteOffset;\n          var pack = conversion(+value);\n          for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n        };\n        if (!NATIVE_ARRAY_BUFFER) {\n          $ArrayBuffer = function ArrayBuffer(length) {\n            anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n            var byteLength = toIndex(length);\n            setInternalState(this, {\n              bytes: arrayFill.call(new Array(byteLength), 0),\n              byteLength: byteLength\n            });\n            if (!DESCRIPTORS) this.byteLength = byteLength;\n          };\n          $DataView = function DataView(buffer, byteOffset, byteLength) {\n            anInstance(this, $DataView, DATA_VIEW);\n            anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n            var bufferLength = getInternalState(buffer).byteLength;\n            var offset = toInteger(byteOffset);\n            if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n            byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n            if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n            setInternalState(this, {\n              buffer: buffer,\n              byteLength: byteLength,\n              byteOffset: offset\n            });\n            if (!DESCRIPTORS) {\n              this.buffer = buffer;\n              this.byteLength = byteLength;\n              this.byteOffset = offset;\n            }\n          };\n          if (DESCRIPTORS) {\n            addGetter($ArrayBuffer, 'byteLength');\n            addGetter($DataView, 'buffer');\n            addGetter($DataView, 'byteLength');\n            addGetter($DataView, 'byteOffset');\n          }\n          redefineAll($DataView[PROTOTYPE], {\n            getInt8: function getInt8(byteOffset) {\n              return get(this, 1, byteOffset)[0] << 24 >> 24;\n            },\n            getUint8: function getUint8(byteOffset) {\n              return get(this, 1, byteOffset)[0];\n            },\n            getInt16: function getInt16(byteOffset /* , littleEndian */) {\n              var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n              return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n            },\n            getUint16: function getUint16(byteOffset /* , littleEndian */) {\n              var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n              return bytes[1] << 8 | bytes[0];\n            },\n            getInt32: function getInt32(byteOffset /* , littleEndian */) {\n              return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n            },\n            getUint32: function getUint32(byteOffset /* , littleEndian */) {\n              return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n            },\n            getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n              return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n            },\n            getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n              return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n            },\n            setInt8: function setInt8(byteOffset, value) {\n              set(this, 1, byteOffset, packInt8, value);\n            },\n            setUint8: function setUint8(byteOffset, value) {\n              set(this, 1, byteOffset, packInt8, value);\n            },\n            setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n              set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n            },\n            setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n              set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n            },\n            setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n              set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n            },\n            setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n              set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n            },\n            setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n              set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n            },\n            setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n              set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n            }\n          });\n        } else {\n          /* eslint-disable no-new -- required for testing */\n          if (!fails(function () {\n            NativeArrayBuffer(1);\n          }) || !fails(function () {\n            new NativeArrayBuffer(-1);\n          }) || fails(function () {\n            new NativeArrayBuffer();\n            new NativeArrayBuffer(1.5);\n            new NativeArrayBuffer(NaN);\n            return NativeArrayBuffer.name != ARRAY_BUFFER;\n          })) {\n            /* eslint-enable no-new -- required for testing */\n            $ArrayBuffer = function ArrayBuffer(length) {\n              anInstance(this, $ArrayBuffer);\n              return new NativeArrayBuffer(toIndex(length));\n            };\n            var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n            for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n              if (!((key = keys[j++]) in $ArrayBuffer)) {\n                createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n              }\n            }\n            ArrayBufferPrototype.constructor = $ArrayBuffer;\n          }\n\n          // WebKit bug - the same parent prototype for typed arrays and data view\n          if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n            setPrototypeOf($DataViewPrototype, ObjectPrototype);\n          }\n\n          // iOS Safari 7.x bug\n          var testView = new $DataView(new $ArrayBuffer(2));\n          var nativeSetInt8 = $DataViewPrototype.setInt8;\n          testView.setInt8(0, 2147483648);\n          testView.setInt8(1, 2147483649);\n          if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n            setInt8: function setInt8(byteOffset, value) {\n              nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n            },\n            setUint8: function setUint8(byteOffset, value) {\n              nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n            }\n          }, {\n            unsafe: true\n          });\n        }\n        setToStringTag($ArrayBuffer, ARRAY_BUFFER);\n        setToStringTag($DataView, DATA_VIEW);\n        module.exports = {\n          ArrayBuffer: $ArrayBuffer,\n          DataView: $DataView\n        };\n\n        /***/\n      }),\n      /***/1048: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var toObject = __webpack_require__(7908);\n        var toAbsoluteIndex = __webpack_require__(1400);\n        var toLength = __webpack_require__(7466);\n        var min = Math.min;\n\n        // `Array.prototype.copyWithin` method implementation\n        // https://tc39.es/ecma262/#sec-array.prototype.copywithin\n        module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n          var O = toObject(this);\n          var len = toLength(O.length);\n          var to = toAbsoluteIndex(target, len);\n          var from = toAbsoluteIndex(start, len);\n          var end = arguments.length > 2 ? arguments[2] : undefined;\n          var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n          var inc = 1;\n          if (from < to && to < from + count) {\n            inc = -1;\n            from += count - 1;\n            to += count - 1;\n          }\n          while (count-- > 0) {\n            if (from in O) O[to] = O[from];else delete O[to];\n            to += inc;\n            from += inc;\n          }\n          return O;\n        };\n\n        /***/\n      }),\n      /***/1285: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var toObject = __webpack_require__(7908);\n        var toAbsoluteIndex = __webpack_require__(1400);\n        var toLength = __webpack_require__(7466);\n\n        // `Array.prototype.fill` method implementation\n        // https://tc39.es/ecma262/#sec-array.prototype.fill\n        module.exports = function fill(value /* , start = 0, end = @length */) {\n          var O = toObject(this);\n          var length = toLength(O.length);\n          var argumentsLength = arguments.length;\n          var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n          var end = argumentsLength > 2 ? arguments[2] : undefined;\n          var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n          while (endPos > index) O[index++] = value;\n          return O;\n        };\n\n        /***/\n      }),\n      /***/8533: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $forEach = __webpack_require__(2092).forEach;\n        var arrayMethodIsStrict = __webpack_require__(9341);\n        var STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n        // `Array.prototype.forEach` method implementation\n        // https://tc39.es/ecma262/#sec-array.prototype.foreach\n        module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n          return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        } : [].forEach;\n\n        /***/\n      }),\n      /***/8457: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var bind = __webpack_require__(9974);\n        var toObject = __webpack_require__(7908);\n        var callWithSafeIterationClosing = __webpack_require__(3411);\n        var isArrayIteratorMethod = __webpack_require__(7659);\n        var toLength = __webpack_require__(7466);\n        var createProperty = __webpack_require__(6135);\n        var getIteratorMethod = __webpack_require__(1246);\n\n        // `Array.from` method implementation\n        // https://tc39.es/ecma262/#sec-array.from\n        module.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n          var O = toObject(arrayLike);\n          var C = typeof this == 'function' ? this : Array;\n          var argumentsLength = arguments.length;\n          var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n          var mapping = mapfn !== undefined;\n          var iteratorMethod = getIteratorMethod(O);\n          var index = 0;\n          var length, result, step, iterator, next, value;\n          if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n          // if the target is not iterable or it's an array with the default iterator - use a simple case\n          if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n            iterator = iteratorMethod.call(O);\n            next = iterator.next;\n            result = new C();\n            for (; !(step = next.call(iterator)).done; index++) {\n              value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n              createProperty(result, index, value);\n            }\n          } else {\n            length = toLength(O.length);\n            result = new C(length);\n            for (; length > index; index++) {\n              value = mapping ? mapfn(O[index], index) : O[index];\n              createProperty(result, index, value);\n            }\n          }\n          result.length = index;\n          return result;\n        };\n\n        /***/\n      }),\n      /***/1318: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toIndexedObject = __webpack_require__(5656);\n        var toLength = __webpack_require__(7466);\n        var toAbsoluteIndex = __webpack_require__(1400);\n\n        // `Array.prototype.{ indexOf, includes }` methods implementation\n        var createMethod = function (IS_INCLUDES) {\n          return function ($this, el, fromIndex) {\n            var O = toIndexedObject($this);\n            var length = toLength(O.length);\n            var index = toAbsoluteIndex(fromIndex, length);\n            var value;\n            // Array#includes uses SameValueZero equality algorithm\n            // eslint-disable-next-line no-self-compare -- NaN check\n            if (IS_INCLUDES && el != el) while (length > index) {\n              value = O[index++];\n              // eslint-disable-next-line no-self-compare -- NaN check\n              if (value != value) return true;\n              // Array#indexOf ignores holes, Array#includes - not\n            } else for (; length > index; index++) {\n              if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n            }\n            return !IS_INCLUDES && -1;\n          };\n        };\n        module.exports = {\n          // `Array.prototype.includes` method\n          // https://tc39.es/ecma262/#sec-array.prototype.includes\n          includes: createMethod(true),\n          // `Array.prototype.indexOf` method\n          // https://tc39.es/ecma262/#sec-array.prototype.indexof\n          indexOf: createMethod(false)\n        };\n\n        /***/\n      }),\n      /***/2092: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var bind = __webpack_require__(9974);\n        var IndexedObject = __webpack_require__(8361);\n        var toObject = __webpack_require__(7908);\n        var toLength = __webpack_require__(7466);\n        var arraySpeciesCreate = __webpack_require__(5417);\n        var push = [].push;\n\n        // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\n        var createMethod = function (TYPE) {\n          var IS_MAP = TYPE == 1;\n          var IS_FILTER = TYPE == 2;\n          var IS_SOME = TYPE == 3;\n          var IS_EVERY = TYPE == 4;\n          var IS_FIND_INDEX = TYPE == 6;\n          var IS_FILTER_OUT = TYPE == 7;\n          var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n          return function ($this, callbackfn, that, specificCreate) {\n            var O = toObject($this);\n            var self = IndexedObject(O);\n            var boundFunction = bind(callbackfn, that, 3);\n            var length = toLength(self.length);\n            var index = 0;\n            var create = specificCreate || arraySpeciesCreate;\n            var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n            var value, result;\n            for (; length > index; index++) if (NO_HOLES || index in self) {\n              value = self[index];\n              result = boundFunction(value, index, O);\n              if (TYPE) {\n                if (IS_MAP) target[index] = result; // map\n                else if (result) switch (TYPE) {\n                  case 3:\n                    return true;\n                  // some\n                  case 5:\n                    return value;\n                  // find\n                  case 6:\n                    return index;\n                  // findIndex\n                  case 2:\n                    push.call(target, value);\n                  // filter\n                } else switch (TYPE) {\n                  case 4:\n                    return false;\n                  // every\n                  case 7:\n                    push.call(target, value);\n                  // filterOut\n                }\n              }\n            }\n            return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n          };\n        };\n        module.exports = {\n          // `Array.prototype.forEach` method\n          // https://tc39.es/ecma262/#sec-array.prototype.foreach\n          forEach: createMethod(0),\n          // `Array.prototype.map` method\n          // https://tc39.es/ecma262/#sec-array.prototype.map\n          map: createMethod(1),\n          // `Array.prototype.filter` method\n          // https://tc39.es/ecma262/#sec-array.prototype.filter\n          filter: createMethod(2),\n          // `Array.prototype.some` method\n          // https://tc39.es/ecma262/#sec-array.prototype.some\n          some: createMethod(3),\n          // `Array.prototype.every` method\n          // https://tc39.es/ecma262/#sec-array.prototype.every\n          every: createMethod(4),\n          // `Array.prototype.find` method\n          // https://tc39.es/ecma262/#sec-array.prototype.find\n          find: createMethod(5),\n          // `Array.prototype.findIndex` method\n          // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n          findIndex: createMethod(6),\n          // `Array.prototype.filterOut` method\n          // https://github.com/tc39/proposal-array-filtering\n          filterOut: createMethod(7)\n        };\n\n        /***/\n      }),\n      /***/6583: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var toIndexedObject = __webpack_require__(5656);\n        var toInteger = __webpack_require__(9958);\n        var toLength = __webpack_require__(7466);\n        var arrayMethodIsStrict = __webpack_require__(9341);\n        var min = Math.min;\n        var nativeLastIndexOf = [].lastIndexOf;\n        var NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\n        var STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n        var FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n        // `Array.prototype.lastIndexOf` method implementation\n        // https://tc39.es/ecma262/#sec-array.prototype.lastindexof\n        module.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n          // convert -0 to +0\n          if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n          var O = toIndexedObject(this);\n          var length = toLength(O.length);\n          var index = length - 1;\n          if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n          if (index < 0) index = length + index;\n          for (; index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n          return -1;\n        } : nativeLastIndexOf;\n\n        /***/\n      }),\n      /***/1194: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var V8_VERSION = __webpack_require__(7392);\n        var SPECIES = wellKnownSymbol('species');\n        module.exports = function (METHOD_NAME) {\n          // We can't use this feature detection in V8 since it causes\n          // deoptimization and serious performance degradation\n          // https://github.com/zloirock/core-js/issues/677\n          return V8_VERSION >= 51 || !fails(function () {\n            var array = [];\n            var constructor = array.constructor = {};\n            constructor[SPECIES] = function () {\n              return {\n                foo: 1\n              };\n            };\n            return array[METHOD_NAME](Boolean).foo !== 1;\n          });\n        };\n\n        /***/\n      }),\n      /***/9341: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var fails = __webpack_require__(7293);\n        module.exports = function (METHOD_NAME, argument) {\n          var method = [][METHOD_NAME];\n          return !!method && fails(function () {\n            // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n            method.call(null, argument || function () {\n              throw 1;\n            }, 1);\n          });\n        };\n\n        /***/\n      }),\n      /***/3671: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var aFunction = __webpack_require__(3099);\n        var toObject = __webpack_require__(7908);\n        var IndexedObject = __webpack_require__(8361);\n        var toLength = __webpack_require__(7466);\n\n        // `Array.prototype.{ reduce, reduceRight }` methods implementation\n        var createMethod = function (IS_RIGHT) {\n          return function (that, callbackfn, argumentsLength, memo) {\n            aFunction(callbackfn);\n            var O = toObject(that);\n            var self = IndexedObject(O);\n            var length = toLength(O.length);\n            var index = IS_RIGHT ? length - 1 : 0;\n            var i = IS_RIGHT ? -1 : 1;\n            if (argumentsLength < 2) while (true) {\n              if (index in self) {\n                memo = self[index];\n                index += i;\n                break;\n              }\n              index += i;\n              if (IS_RIGHT ? index < 0 : length <= index) {\n                throw TypeError('Reduce of empty array with no initial value');\n              }\n            }\n            for (; IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n              memo = callbackfn(memo, self[index], index, O);\n            }\n            return memo;\n          };\n        };\n        module.exports = {\n          // `Array.prototype.reduce` method\n          // https://tc39.es/ecma262/#sec-array.prototype.reduce\n          left: createMethod(false),\n          // `Array.prototype.reduceRight` method\n          // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n          right: createMethod(true)\n        };\n\n        /***/\n      }),\n      /***/5417: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var isObject = __webpack_require__(111);\n        var isArray = __webpack_require__(3157);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var SPECIES = wellKnownSymbol('species');\n\n        // `ArraySpeciesCreate` abstract operation\n        // https://tc39.es/ecma262/#sec-arrayspeciescreate\n        module.exports = function (originalArray, length) {\n          var C;\n          if (isArray(originalArray)) {\n            C = originalArray.constructor;\n            // cross-realm fallback\n            if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;else if (isObject(C)) {\n              C = C[SPECIES];\n              if (C === null) C = undefined;\n            }\n          }\n          return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n        };\n\n        /***/\n      }),\n      /***/3411: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var anObject = __webpack_require__(9670);\n        var iteratorClose = __webpack_require__(9212);\n\n        // call something on iterator step with safe closing on error\n        module.exports = function (iterator, fn, value, ENTRIES) {\n          try {\n            return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n            // 7.4.6 IteratorClose(iterator, completion)\n          } catch (error) {\n            iteratorClose(iterator);\n            throw error;\n          }\n        };\n\n        /***/\n      }),\n      /***/7072: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(5112);\n        var ITERATOR = wellKnownSymbol('iterator');\n        var SAFE_CLOSING = false;\n        try {\n          var called = 0;\n          var iteratorWithReturn = {\n            next: function () {\n              return {\n                done: !!called++\n              };\n            },\n            'return': function () {\n              SAFE_CLOSING = true;\n            }\n          };\n          iteratorWithReturn[ITERATOR] = function () {\n            return this;\n          };\n          // eslint-disable-next-line no-throw-literal -- required for testing\n          Array.from(iteratorWithReturn, function () {\n            throw 2;\n          });\n        } catch (error) {/* empty */}\n        module.exports = function (exec, SKIP_CLOSING) {\n          if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n          var ITERATION_SUPPORT = false;\n          try {\n            var object = {};\n            object[ITERATOR] = function () {\n              return {\n                next: function () {\n                  return {\n                    done: ITERATION_SUPPORT = true\n                  };\n                }\n              };\n            };\n            exec(object);\n          } catch (error) {/* empty */}\n          return ITERATION_SUPPORT;\n        };\n\n        /***/\n      }),\n      /***/4326: (/***/function (module) {\n        var toString = {}.toString;\n        module.exports = function (it) {\n          return toString.call(it).slice(8, -1);\n        };\n\n        /***/\n      }),\n      /***/648: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var TO_STRING_TAG_SUPPORT = __webpack_require__(1694);\n        var classofRaw = __webpack_require__(4326);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        // ES3 wrong here\n        var CORRECT_ARGUMENTS = classofRaw(function () {\n          return arguments;\n        }()) == 'Arguments';\n\n        // fallback for IE11 Script Access Denied error\n        var tryGet = function (it, key) {\n          try {\n            return it[key];\n          } catch (error) {/* empty */}\n        };\n\n        // getting tag from ES6+ `Object.prototype.toString`\n        module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n          var O, tag, result;\n          return it === undefined ? 'Undefined' : it === null ? 'Null'\n          // @@toStringTag case\n          : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n          // builtinTag case\n          : CORRECT_ARGUMENTS ? classofRaw(O)\n          // ES3 arguments fallback\n          : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n        };\n\n        /***/\n      }),\n      /***/9920: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var has = __webpack_require__(6656);\n        var ownKeys = __webpack_require__(3887);\n        var getOwnPropertyDescriptorModule = __webpack_require__(1236);\n        var definePropertyModule = __webpack_require__(3070);\n        module.exports = function (target, source) {\n          var keys = ownKeys(source);\n          var defineProperty = definePropertyModule.f;\n          var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n          for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n          }\n        };\n\n        /***/\n      }),\n      /***/8544: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        module.exports = !fails(function () {\n          function F() {/* empty */}\n          F.prototype.constructor = null;\n          return Object.getPrototypeOf(new F()) !== F.prototype;\n        });\n\n        /***/\n      }),\n      /***/4994: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var IteratorPrototype = __webpack_require__(3383).IteratorPrototype;\n        var create = __webpack_require__(30);\n        var createPropertyDescriptor = __webpack_require__(9114);\n        var setToStringTag = __webpack_require__(8003);\n        var Iterators = __webpack_require__(7497);\n        var returnThis = function () {\n          return this;\n        };\n        module.exports = function (IteratorConstructor, NAME, next) {\n          var TO_STRING_TAG = NAME + ' Iterator';\n          IteratorConstructor.prototype = create(IteratorPrototype, {\n            next: createPropertyDescriptor(1, next)\n          });\n          setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n          Iterators[TO_STRING_TAG] = returnThis;\n          return IteratorConstructor;\n        };\n\n        /***/\n      }),\n      /***/8880: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(9781);\n        var definePropertyModule = __webpack_require__(3070);\n        var createPropertyDescriptor = __webpack_require__(9114);\n        module.exports = DESCRIPTORS ? function (object, key, value) {\n          return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n        } : function (object, key, value) {\n          object[key] = value;\n          return object;\n        };\n\n        /***/\n      }),\n      /***/9114: (/***/function (module) {\n        module.exports = function (bitmap, value) {\n          return {\n            enumerable: !(bitmap & 1),\n            configurable: !(bitmap & 2),\n            writable: !(bitmap & 4),\n            value: value\n          };\n        };\n\n        /***/\n      }),\n      /***/6135: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var toPrimitive = __webpack_require__(7593);\n        var definePropertyModule = __webpack_require__(3070);\n        var createPropertyDescriptor = __webpack_require__(9114);\n        module.exports = function (object, key, value) {\n          var propertyKey = toPrimitive(key);\n          if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));else object[propertyKey] = value;\n        };\n\n        /***/\n      }),\n      /***/654: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var createIteratorConstructor = __webpack_require__(4994);\n        var getPrototypeOf = __webpack_require__(9518);\n        var setPrototypeOf = __webpack_require__(7674);\n        var setToStringTag = __webpack_require__(8003);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var redefine = __webpack_require__(1320);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var IS_PURE = __webpack_require__(1913);\n        var Iterators = __webpack_require__(7497);\n        var IteratorsCore = __webpack_require__(3383);\n        var IteratorPrototype = IteratorsCore.IteratorPrototype;\n        var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\n        var ITERATOR = wellKnownSymbol('iterator');\n        var KEYS = 'keys';\n        var VALUES = 'values';\n        var ENTRIES = 'entries';\n        var returnThis = function () {\n          return this;\n        };\n        module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n          createIteratorConstructor(IteratorConstructor, NAME, next);\n          var getIterationMethod = function (KIND) {\n            if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n            if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n            switch (KIND) {\n              case KEYS:\n                return function keys() {\n                  return new IteratorConstructor(this, KIND);\n                };\n              case VALUES:\n                return function values() {\n                  return new IteratorConstructor(this, KIND);\n                };\n              case ENTRIES:\n                return function entries() {\n                  return new IteratorConstructor(this, KIND);\n                };\n            }\n            return function () {\n              return new IteratorConstructor(this);\n            };\n          };\n          var TO_STRING_TAG = NAME + ' Iterator';\n          var INCORRECT_VALUES_NAME = false;\n          var IterablePrototype = Iterable.prototype;\n          var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype['@@iterator'] || DEFAULT && IterablePrototype[DEFAULT];\n          var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n          var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n          var CurrentIteratorPrototype, methods, KEY;\n\n          // fix native\n          if (anyNativeIterator) {\n            CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n            if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n              if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n                if (setPrototypeOf) {\n                  setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n                } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n                  createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n                }\n              }\n              // Set @@toStringTag to native iterators\n              setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n              if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n            }\n          }\n\n          // fix Array#{values, @@iterator}.name in V8 / FF\n          if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n            INCORRECT_VALUES_NAME = true;\n            defaultIterator = function values() {\n              return nativeIterator.call(this);\n            };\n          }\n\n          // define iterator\n          if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n            createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n          }\n          Iterators[NAME] = defaultIterator;\n\n          // export additional methods\n          if (DEFAULT) {\n            methods = {\n              values: getIterationMethod(VALUES),\n              keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n              entries: getIterationMethod(ENTRIES)\n            };\n            if (FORCED) for (KEY in methods) {\n              if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n                redefine(IterablePrototype, KEY, methods[KEY]);\n              }\n            } else $({\n              target: NAME,\n              proto: true,\n              forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME\n            }, methods);\n          }\n          return methods;\n        };\n\n        /***/\n      }),\n      /***/9781: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n\n        // Detect IE8's incomplete defineProperty implementation\n        module.exports = !fails(function () {\n          return Object.defineProperty({}, 1, {\n            get: function () {\n              return 7;\n            }\n          })[1] != 7;\n        });\n\n        /***/\n      }),\n      /***/317: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var isObject = __webpack_require__(111);\n        var document = global.document;\n        // typeof document.createElement is 'object' in old IE\n        var EXISTS = isObject(document) && isObject(document.createElement);\n        module.exports = function (it) {\n          return EXISTS ? document.createElement(it) : {};\n        };\n\n        /***/\n      }),\n      /***/8324: (/***/function (module) {\n        // iterable DOM collections\n        // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n        module.exports = {\n          CSSRuleList: 0,\n          CSSStyleDeclaration: 0,\n          CSSValueList: 0,\n          ClientRectList: 0,\n          DOMRectList: 0,\n          DOMStringList: 0,\n          DOMTokenList: 1,\n          DataTransferItemList: 0,\n          FileList: 0,\n          HTMLAllCollection: 0,\n          HTMLCollection: 0,\n          HTMLFormElement: 0,\n          HTMLSelectElement: 0,\n          MediaList: 0,\n          MimeTypeArray: 0,\n          NamedNodeMap: 0,\n          NodeList: 1,\n          PaintRequestList: 0,\n          Plugin: 0,\n          PluginArray: 0,\n          SVGLengthList: 0,\n          SVGNumberList: 0,\n          SVGPathSegList: 0,\n          SVGPointList: 0,\n          SVGStringList: 0,\n          SVGTransformList: 0,\n          SourceBufferList: 0,\n          StyleSheetList: 0,\n          TextTrackCueList: 0,\n          TextTrackList: 0,\n          TouchList: 0\n        };\n\n        /***/\n      }),\n      /***/8113: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var getBuiltIn = __webpack_require__(5005);\n        module.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n        /***/\n      }),\n      /***/7392: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var userAgent = __webpack_require__(8113);\n        var process = global.process;\n        var versions = process && process.versions;\n        var v8 = versions && versions.v8;\n        var match, version;\n        if (v8) {\n          match = v8.split('.');\n          version = match[0] + match[1];\n        } else if (userAgent) {\n          match = userAgent.match(/Edge\\/(\\d+)/);\n          if (!match || match[1] >= 74) {\n            match = userAgent.match(/Chrome\\/(\\d+)/);\n            if (match) version = match[1];\n          }\n        }\n        module.exports = version && +version;\n\n        /***/\n      }),\n      /***/748: (/***/function (module) {\n        // IE8- don't enum bug keys\n        module.exports = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];\n\n        /***/\n      }),\n      /***/2109: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var getOwnPropertyDescriptor = __webpack_require__(1236).f;\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var redefine = __webpack_require__(1320);\n        var setGlobal = __webpack_require__(3505);\n        var copyConstructorProperties = __webpack_require__(9920);\n        var isForced = __webpack_require__(4705);\n\n        /*\n          options.target      - name of the target object\n          options.global      - target is the global object\n          options.stat        - export as static methods of target\n          options.proto       - export as prototype methods of target\n          options.real        - real prototype method for the `pure` version\n          options.forced      - export even if the native feature is available\n          options.bind        - bind methods to the target, required for the `pure` version\n          options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n          options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n          options.sham        - add a flag to not completely full polyfills\n          options.enumerable  - export as enumerable property\n          options.noTargetGet - prevent calling a getter on target\n        */\n        module.exports = function (options, source) {\n          var TARGET = options.target;\n          var GLOBAL = options.global;\n          var STATIC = options.stat;\n          var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n          if (GLOBAL) {\n            target = global;\n          } else if (STATIC) {\n            target = global[TARGET] || setGlobal(TARGET, {});\n          } else {\n            target = (global[TARGET] || {}).prototype;\n          }\n          if (target) for (key in source) {\n            sourceProperty = source[key];\n            if (options.noTargetGet) {\n              descriptor = getOwnPropertyDescriptor(target, key);\n              targetProperty = descriptor && descriptor.value;\n            } else targetProperty = target[key];\n            FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n            // contained in target\n            if (!FORCED && targetProperty !== undefined) {\n              if (typeof sourceProperty === typeof targetProperty) continue;\n              copyConstructorProperties(sourceProperty, targetProperty);\n            }\n            // add a flag to not completely full polyfills\n            if (options.sham || targetProperty && targetProperty.sham) {\n              createNonEnumerableProperty(sourceProperty, 'sham', true);\n            }\n            // extend global\n            redefine(target, key, sourceProperty, options);\n          }\n        };\n\n        /***/\n      }),\n      /***/7293: (/***/function (module) {\n        module.exports = function (exec) {\n          try {\n            return !!exec();\n          } catch (error) {\n            return true;\n          }\n        };\n\n        /***/\n      }),\n      /***/7007: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        // TODO: Remove from `core-js@4` since it's moved to entry points\n        __webpack_require__(4916);\n        var redefine = __webpack_require__(1320);\n        var fails = __webpack_require__(7293);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var regexpExec = __webpack_require__(2261);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var SPECIES = wellKnownSymbol('species');\n        var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n          // #replace needs built-in support for named groups.\n          // #match works fine because it just return the exec results, even if it has\n          // a \"grops\" property.\n          var re = /./;\n          re.exec = function () {\n            var result = [];\n            result.groups = {\n              a: '7'\n            };\n            return result;\n          };\n          return ''.replace(re, '$<a>') !== '7';\n        });\n\n        // IE <= 11 replaces $0 with the whole match, as if it was $&\n        // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n        var REPLACE_KEEPS_$0 = function () {\n          return 'a'.replace(/./, '$0') === '$0';\n        }();\n        var REPLACE = wellKnownSymbol('replace');\n        // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n        var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function () {\n          if (/./[REPLACE]) {\n            return /./[REPLACE]('a', '$0') === '';\n          }\n          return false;\n        }();\n\n        // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n        // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n        var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n          // eslint-disable-next-line regexp/no-empty-group -- required for testing\n          var re = /(?:)/;\n          var originalExec = re.exec;\n          re.exec = function () {\n            return originalExec.apply(this, arguments);\n          };\n          var result = 'ab'.split(re);\n          return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n        });\n        module.exports = function (KEY, length, exec, sham) {\n          var SYMBOL = wellKnownSymbol(KEY);\n          var DELEGATES_TO_SYMBOL = !fails(function () {\n            // String methods call symbol-named RegEp methods\n            var O = {};\n            O[SYMBOL] = function () {\n              return 7;\n            };\n            return ''[KEY](O) != 7;\n          });\n          var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n            // Symbol-named RegExp methods call .exec\n            var execCalled = false;\n            var re = /a/;\n            if (KEY === 'split') {\n              // We can't use real regex here since it causes deoptimization\n              // and serious performance degradation in V8\n              // https://github.com/zloirock/core-js/issues/306\n              re = {};\n              // RegExp[@@split] doesn't call the regex's exec method, but first creates\n              // a new one. We need to return the patched regex when creating the new one.\n              re.constructor = {};\n              re.constructor[SPECIES] = function () {\n                return re;\n              };\n              re.flags = '';\n              re[SYMBOL] = /./[SYMBOL];\n            }\n            re.exec = function () {\n              execCalled = true;\n              return null;\n            };\n            re[SYMBOL]('');\n            return !execCalled;\n          });\n          if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || KEY === 'replace' && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0 && !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE) || KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) {\n            var nativeRegExpMethod = /./[SYMBOL];\n            var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n              if (regexp.exec === regexpExec) {\n                if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n                  // The native String method already delegates to @@method (this\n                  // polyfilled function), leasing to infinite recursion.\n                  // We avoid it by directly calling the native @@method method.\n                  return {\n                    done: true,\n                    value: nativeRegExpMethod.call(regexp, str, arg2)\n                  };\n                }\n                return {\n                  done: true,\n                  value: nativeMethod.call(str, regexp, arg2)\n                };\n              }\n              return {\n                done: false\n              };\n            }, {\n              REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n              REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n            });\n            var stringMethod = methods[0];\n            var regexMethod = methods[1];\n            redefine(String.prototype, KEY, stringMethod);\n            redefine(RegExp.prototype, SYMBOL, length == 2\n            // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n            // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n            ? function (string, arg) {\n              return regexMethod.call(string, this, arg);\n            }\n            // 21.2.5.6 RegExp.prototype[@@match](string)\n            // 21.2.5.9 RegExp.prototype[@@search](string)\n            : function (string) {\n              return regexMethod.call(string, this);\n            });\n          }\n          if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n        };\n\n        /***/\n      }),\n      /***/9974: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var aFunction = __webpack_require__(3099);\n\n        // optional / simple context binding\n        module.exports = function (fn, that, length) {\n          aFunction(fn);\n          if (that === undefined) return fn;\n          switch (length) {\n            case 0:\n              return function () {\n                return fn.call(that);\n              };\n            case 1:\n              return function (a) {\n                return fn.call(that, a);\n              };\n            case 2:\n              return function (a, b) {\n                return fn.call(that, a, b);\n              };\n            case 3:\n              return function (a, b, c) {\n                return fn.call(that, a, b, c);\n              };\n          }\n          return function /* ...args */\n          () {\n            return fn.apply(that, arguments);\n          };\n        };\n\n        /***/\n      }),\n      /***/5005: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var path = __webpack_require__(857);\n        var global = __webpack_require__(7854);\n        var aFunction = function (variable) {\n          return typeof variable == 'function' ? variable : undefined;\n        };\n        module.exports = function (namespace, method) {\n          return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace]) : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n        };\n\n        /***/\n      }),\n      /***/1246: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var classof = __webpack_require__(648);\n        var Iterators = __webpack_require__(7497);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var ITERATOR = wellKnownSymbol('iterator');\n        module.exports = function (it) {\n          if (it != undefined) return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];\n        };\n\n        /***/\n      }),\n      /***/8554: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var anObject = __webpack_require__(9670);\n        var getIteratorMethod = __webpack_require__(1246);\n        module.exports = function (it) {\n          var iteratorMethod = getIteratorMethod(it);\n          if (typeof iteratorMethod != 'function') {\n            throw TypeError(String(it) + ' is not iterable');\n          }\n          return anObject(iteratorMethod.call(it));\n        };\n\n        /***/\n      }),\n      /***/647: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toObject = __webpack_require__(7908);\n        var floor = Math.floor;\n        var replace = ''.replace;\n        var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n        var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n        // https://tc39.es/ecma262/#sec-getsubstitution\n        module.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n          var tailPos = position + matched.length;\n          var m = captures.length;\n          var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n          if (namedCaptures !== undefined) {\n            namedCaptures = toObject(namedCaptures);\n            symbols = SUBSTITUTION_SYMBOLS;\n          }\n          return replace.call(replacement, symbols, function (match, ch) {\n            var capture;\n            switch (ch.charAt(0)) {\n              case '$':\n                return '$';\n              case '&':\n                return matched;\n              case '`':\n                return str.slice(0, position);\n              case \"'\":\n                return str.slice(tailPos);\n              case '<':\n                capture = namedCaptures[ch.slice(1, -1)];\n                break;\n              default:\n                // \\d\\d?\n                var n = +ch;\n                if (n === 0) return match;\n                if (n > m) {\n                  var f = floor(n / 10);\n                  if (f === 0) return match;\n                  if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n                  return match;\n                }\n                capture = captures[n - 1];\n            }\n            return capture === undefined ? '' : capture;\n          });\n        };\n\n        /***/\n      }),\n      /***/7854: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var check = function (it) {\n          return it && it.Math == Math && it;\n        };\n\n        // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n        module.exports = /* global globalThis -- safe */\n        check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) || check(typeof self == 'object' && self) || check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||\n        // eslint-disable-next-line no-new-func -- fallback\n        function () {\n          return this;\n        }() || Function('return this')();\n\n        /***/\n      }),\n      /***/6656: (/***/function (module) {\n        var hasOwnProperty = {}.hasOwnProperty;\n        module.exports = function (it, key) {\n          return hasOwnProperty.call(it, key);\n        };\n\n        /***/\n      }),\n      /***/3501: (/***/function (module) {\n        module.exports = {};\n\n        /***/\n      }),\n      /***/490: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var getBuiltIn = __webpack_require__(5005);\n        module.exports = getBuiltIn('document', 'documentElement');\n\n        /***/\n      }),\n      /***/4664: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(9781);\n        var fails = __webpack_require__(7293);\n        var createElement = __webpack_require__(317);\n\n        // Thank's IE8 for his funny defineProperty\n        module.exports = !DESCRIPTORS && !fails(function () {\n          return Object.defineProperty(createElement('div'), 'a', {\n            get: function () {\n              return 7;\n            }\n          }).a != 7;\n        });\n\n        /***/\n      }),\n      /***/1179: (/***/function (module) {\n        // IEEE754 conversions based on https://github.com/feross/ieee754\n        var abs = Math.abs;\n        var pow = Math.pow;\n        var floor = Math.floor;\n        var log = Math.log;\n        var LN2 = Math.LN2;\n        var pack = function (number, mantissaLength, bytes) {\n          var buffer = new Array(bytes);\n          var exponentLength = bytes * 8 - mantissaLength - 1;\n          var eMax = (1 << exponentLength) - 1;\n          var eBias = eMax >> 1;\n          var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n          var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n          var index = 0;\n          var exponent, mantissa, c;\n          number = abs(number);\n          // eslint-disable-next-line no-self-compare -- NaN check\n          if (number != number || number === Infinity) {\n            // eslint-disable-next-line no-self-compare -- NaN check\n            mantissa = number != number ? 1 : 0;\n            exponent = eMax;\n          } else {\n            exponent = floor(log(number) / LN2);\n            if (number * (c = pow(2, -exponent)) < 1) {\n              exponent--;\n              c *= 2;\n            }\n            if (exponent + eBias >= 1) {\n              number += rt / c;\n            } else {\n              number += rt * pow(2, 1 - eBias);\n            }\n            if (number * c >= 2) {\n              exponent++;\n              c /= 2;\n            }\n            if (exponent + eBias >= eMax) {\n              mantissa = 0;\n              exponent = eMax;\n            } else if (exponent + eBias >= 1) {\n              mantissa = (number * c - 1) * pow(2, mantissaLength);\n              exponent = exponent + eBias;\n            } else {\n              mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n              exponent = 0;\n            }\n          }\n          for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n          exponent = exponent << mantissaLength | mantissa;\n          exponentLength += mantissaLength;\n          for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n          buffer[--index] |= sign * 128;\n          return buffer;\n        };\n        var unpack = function (buffer, mantissaLength) {\n          var bytes = buffer.length;\n          var exponentLength = bytes * 8 - mantissaLength - 1;\n          var eMax = (1 << exponentLength) - 1;\n          var eBias = eMax >> 1;\n          var nBits = exponentLength - 7;\n          var index = bytes - 1;\n          var sign = buffer[index--];\n          var exponent = sign & 127;\n          var mantissa;\n          sign >>= 7;\n          for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n          mantissa = exponent & (1 << -nBits) - 1;\n          exponent >>= -nBits;\n          nBits += mantissaLength;\n          for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n          if (exponent === 0) {\n            exponent = 1 - eBias;\n          } else if (exponent === eMax) {\n            return mantissa ? NaN : sign ? -Infinity : Infinity;\n          } else {\n            mantissa = mantissa + pow(2, mantissaLength);\n            exponent = exponent - eBias;\n          }\n          return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n        };\n        module.exports = {\n          pack: pack,\n          unpack: unpack\n        };\n\n        /***/\n      }),\n      /***/8361: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        var classof = __webpack_require__(4326);\n        var split = ''.split;\n\n        // fallback for non-array-like ES3 and non-enumerable old V8 strings\n        module.exports = fails(function () {\n          // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n          // eslint-disable-next-line no-prototype-builtins -- safe\n          return !Object('z').propertyIsEnumerable(0);\n        }) ? function (it) {\n          return classof(it) == 'String' ? split.call(it, '') : Object(it);\n        } : Object;\n\n        /***/\n      }),\n      /***/9587: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var isObject = __webpack_require__(111);\n        var setPrototypeOf = __webpack_require__(7674);\n\n        // makes subclassing work correct for wrapped built-ins\n        module.exports = function ($this, dummy, Wrapper) {\n          var NewTarget, NewTargetPrototype;\n          if (\n          // it can work only with native `setPrototypeOf`\n          setPrototypeOf &&\n          // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n          typeof (NewTarget = dummy.constructor) == 'function' && NewTarget !== Wrapper && isObject(NewTargetPrototype = NewTarget.prototype) && NewTargetPrototype !== Wrapper.prototype) setPrototypeOf($this, NewTargetPrototype);\n          return $this;\n        };\n\n        /***/\n      }),\n      /***/2788: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var store = __webpack_require__(5465);\n        var functionToString = Function.toString;\n\n        // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n        if (typeof store.inspectSource != 'function') {\n          store.inspectSource = function (it) {\n            return functionToString.call(it);\n          };\n        }\n        module.exports = store.inspectSource;\n\n        /***/\n      }),\n      /***/9909: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var NATIVE_WEAK_MAP = __webpack_require__(8536);\n        var global = __webpack_require__(7854);\n        var isObject = __webpack_require__(111);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var objectHas = __webpack_require__(6656);\n        var shared = __webpack_require__(5465);\n        var sharedKey = __webpack_require__(6200);\n        var hiddenKeys = __webpack_require__(3501);\n        var WeakMap = global.WeakMap;\n        var set, get, has;\n        var enforce = function (it) {\n          return has(it) ? get(it) : set(it, {});\n        };\n        var getterFor = function (TYPE) {\n          return function (it) {\n            var state;\n            if (!isObject(it) || (state = get(it)).type !== TYPE) {\n              throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n            }\n            return state;\n          };\n        };\n        if (NATIVE_WEAK_MAP) {\n          var store = shared.state || (shared.state = new WeakMap());\n          var wmget = store.get;\n          var wmhas = store.has;\n          var wmset = store.set;\n          set = function (it, metadata) {\n            metadata.facade = it;\n            wmset.call(store, it, metadata);\n            return metadata;\n          };\n          get = function (it) {\n            return wmget.call(store, it) || {};\n          };\n          has = function (it) {\n            return wmhas.call(store, it);\n          };\n        } else {\n          var STATE = sharedKey('state');\n          hiddenKeys[STATE] = true;\n          set = function (it, metadata) {\n            metadata.facade = it;\n            createNonEnumerableProperty(it, STATE, metadata);\n            return metadata;\n          };\n          get = function (it) {\n            return objectHas(it, STATE) ? it[STATE] : {};\n          };\n          has = function (it) {\n            return objectHas(it, STATE);\n          };\n        }\n        module.exports = {\n          set: set,\n          get: get,\n          has: has,\n          enforce: enforce,\n          getterFor: getterFor\n        };\n\n        /***/\n      }),\n      /***/7659: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(5112);\n        var Iterators = __webpack_require__(7497);\n        var ITERATOR = wellKnownSymbol('iterator');\n        var ArrayPrototype = Array.prototype;\n\n        // check on default Array iterator\n        module.exports = function (it) {\n          return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n        };\n\n        /***/\n      }),\n      /***/3157: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var classof = __webpack_require__(4326);\n\n        // `IsArray` abstract operation\n        // https://tc39.es/ecma262/#sec-isarray\n        module.exports = Array.isArray || function isArray(arg) {\n          return classof(arg) == 'Array';\n        };\n\n        /***/\n      }),\n      /***/4705: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        var replacement = /#|\\.prototype\\./;\n        var isForced = function (feature, detection) {\n          var value = data[normalize(feature)];\n          return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == 'function' ? fails(detection) : !!detection;\n        };\n        var normalize = isForced.normalize = function (string) {\n          return String(string).replace(replacement, '.').toLowerCase();\n        };\n        var data = isForced.data = {};\n        var NATIVE = isForced.NATIVE = 'N';\n        var POLYFILL = isForced.POLYFILL = 'P';\n        module.exports = isForced;\n\n        /***/\n      }),\n      /***/111: (/***/function (module) {\n        module.exports = function (it) {\n          return typeof it === 'object' ? it !== null : typeof it === 'function';\n        };\n\n        /***/\n      }),\n      /***/1913: (/***/function (module) {\n        module.exports = false;\n\n        /***/\n      }),\n      /***/7850: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var isObject = __webpack_require__(111);\n        var classof = __webpack_require__(4326);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var MATCH = wellKnownSymbol('match');\n\n        // `IsRegExp` abstract operation\n        // https://tc39.es/ecma262/#sec-isregexp\n        module.exports = function (it) {\n          var isRegExp;\n          return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n        };\n\n        /***/\n      }),\n      /***/9212: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var anObject = __webpack_require__(9670);\n        module.exports = function (iterator) {\n          var returnMethod = iterator['return'];\n          if (returnMethod !== undefined) {\n            return anObject(returnMethod.call(iterator)).value;\n          }\n        };\n\n        /***/\n      }),\n      /***/3383: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var fails = __webpack_require__(7293);\n        var getPrototypeOf = __webpack_require__(9518);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var has = __webpack_require__(6656);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var IS_PURE = __webpack_require__(1913);\n        var ITERATOR = wellKnownSymbol('iterator');\n        var BUGGY_SAFARI_ITERATORS = false;\n        var returnThis = function () {\n          return this;\n        };\n\n        // `%IteratorPrototype%` object\n        // https://tc39.es/ecma262/#sec-%iteratorprototype%-object\n        var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n        if ([].keys) {\n          arrayIterator = [].keys();\n          // Safari 8 has buggy iterators w/o `next`\n          if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;else {\n            PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n            if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n          }\n        }\n        var NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n          var test = {};\n          // FF44- legacy iterators case\n          return IteratorPrototype[ITERATOR].call(test) !== test;\n        });\n        if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n        // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n        if ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n          createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n        }\n        module.exports = {\n          IteratorPrototype: IteratorPrototype,\n          BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n        };\n\n        /***/\n      }),\n      /***/7497: (/***/function (module) {\n        module.exports = {};\n\n        /***/\n      }),\n      /***/133: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        module.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n          // Chrome 38 Symbol has incorrect toString conversion\n          /* global Symbol -- required for testing */\n          return !String(Symbol());\n        });\n\n        /***/\n      }),\n      /***/590: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var IS_PURE = __webpack_require__(1913);\n        var ITERATOR = wellKnownSymbol('iterator');\n        module.exports = !fails(function () {\n          var url = new URL('b?a=1&b=2&c=3', 'http://a');\n          var searchParams = url.searchParams;\n          var result = '';\n          url.pathname = 'c%20d';\n          searchParams.forEach(function (value, key) {\n            searchParams['delete']('b');\n            result += key + value;\n          });\n          return IS_PURE && !url.toJSON || !searchParams.sort || url.href !== 'http://a/c%20d?a=1&c=3' || searchParams.get('c') !== '3' || String(new URLSearchParams('?a=1')) !== 'a=1' || !searchParams[ITERATOR]\n          // throws in Edge\n          || new URL('https://a@b').username !== 'a' || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n          // not punycoded in Edge\n          || new URL('http://').host !== 'xn--e1aybc'\n          // not escaped in Chrome 62-\n          || new URL('http://a#').hash !== '#%D0%B1'\n          // fails in Chrome 66-\n          || result !== 'a1c3'\n          // throws in Safari\n          || new URL('http://x', undefined).host !== 'x';\n        });\n\n        /***/\n      }),\n      /***/8536: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var inspectSource = __webpack_require__(2788);\n        var WeakMap = global.WeakMap;\n        module.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n        /***/\n      }),\n      /***/1574: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var DESCRIPTORS = __webpack_require__(9781);\n        var fails = __webpack_require__(7293);\n        var objectKeys = __webpack_require__(1956);\n        var getOwnPropertySymbolsModule = __webpack_require__(5181);\n        var propertyIsEnumerableModule = __webpack_require__(5296);\n        var toObject = __webpack_require__(7908);\n        var IndexedObject = __webpack_require__(8361);\n        var nativeAssign = Object.assign;\n        var defineProperty = Object.defineProperty;\n\n        // `Object.assign` method\n        // https://tc39.es/ecma262/#sec-object.assign\n        module.exports = !nativeAssign || fails(function () {\n          // should have correct order of operations (Edge bug)\n          if (DESCRIPTORS && nativeAssign({\n            b: 1\n          }, nativeAssign(defineProperty({}, 'a', {\n            enumerable: true,\n            get: function () {\n              defineProperty(this, 'b', {\n                value: 3,\n                enumerable: false\n              });\n            }\n          }), {\n            b: 2\n          })).b !== 1) return true;\n          // should work with symbols and should have deterministic property order (V8 bug)\n          var A = {};\n          var B = {};\n          /* global Symbol -- required for testing */\n          var symbol = Symbol();\n          var alphabet = 'abcdefghijklmnopqrst';\n          A[symbol] = 7;\n          alphabet.split('').forEach(function (chr) {\n            B[chr] = chr;\n          });\n          return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n        }) ? function assign(target, source) {\n          // eslint-disable-line no-unused-vars -- required for `.length`\n          var T = toObject(target);\n          var argumentsLength = arguments.length;\n          var index = 1;\n          var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n          var propertyIsEnumerable = propertyIsEnumerableModule.f;\n          while (argumentsLength > index) {\n            var S = IndexedObject(arguments[index++]);\n            var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n            var length = keys.length;\n            var j = 0;\n            var key;\n            while (length > j) {\n              key = keys[j++];\n              if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n            }\n          }\n          return T;\n        } : nativeAssign;\n\n        /***/\n      }),\n      /***/30: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var anObject = __webpack_require__(9670);\n        var defineProperties = __webpack_require__(6048);\n        var enumBugKeys = __webpack_require__(748);\n        var hiddenKeys = __webpack_require__(3501);\n        var html = __webpack_require__(490);\n        var documentCreateElement = __webpack_require__(317);\n        var sharedKey = __webpack_require__(6200);\n        var GT = '>';\n        var LT = '<';\n        var PROTOTYPE = 'prototype';\n        var SCRIPT = 'script';\n        var IE_PROTO = sharedKey('IE_PROTO');\n        var EmptyConstructor = function () {/* empty */};\n        var scriptTag = function (content) {\n          return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n        };\n\n        // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n        var NullProtoObjectViaActiveX = function (activeXDocument) {\n          activeXDocument.write(scriptTag(''));\n          activeXDocument.close();\n          var temp = activeXDocument.parentWindow.Object;\n          activeXDocument = null; // avoid memory leak\n          return temp;\n        };\n\n        // Create object with fake `null` prototype: use iframe Object with cleared prototype\n        var NullProtoObjectViaIFrame = function () {\n          // Thrash, waste and sodomy: IE GC bug\n          var iframe = documentCreateElement('iframe');\n          var JS = 'java' + SCRIPT + ':';\n          var iframeDocument;\n          iframe.style.display = 'none';\n          html.appendChild(iframe);\n          // https://github.com/zloirock/core-js/issues/475\n          iframe.src = String(JS);\n          iframeDocument = iframe.contentWindow.document;\n          iframeDocument.open();\n          iframeDocument.write(scriptTag('document.F=Object'));\n          iframeDocument.close();\n          return iframeDocument.F;\n        };\n\n        // Check for document.domain and active x support\n        // No need to use active x approach when document.domain is not set\n        // see https://github.com/es-shims/es5-shim/issues/150\n        // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n        // avoid IE GC bug\n        var activeXDocument;\n        var NullProtoObject = function () {\n          try {\n            /* global ActiveXObject -- old IE */\n            activeXDocument = document.domain && new ActiveXObject('htmlfile');\n          } catch (error) {/* ignore */}\n          NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n          var length = enumBugKeys.length;\n          while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n          return NullProtoObject();\n        };\n        hiddenKeys[IE_PROTO] = true;\n\n        // `Object.create` method\n        // https://tc39.es/ecma262/#sec-object.create\n        module.exports = Object.create || function create(O, Properties) {\n          var result;\n          if (O !== null) {\n            EmptyConstructor[PROTOTYPE] = anObject(O);\n            result = new EmptyConstructor();\n            EmptyConstructor[PROTOTYPE] = null;\n            // add \"__proto__\" for Object.getPrototypeOf polyfill\n            result[IE_PROTO] = O;\n          } else result = NullProtoObject();\n          return Properties === undefined ? result : defineProperties(result, Properties);\n        };\n\n        /***/\n      }),\n      /***/6048: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(9781);\n        var definePropertyModule = __webpack_require__(3070);\n        var anObject = __webpack_require__(9670);\n        var objectKeys = __webpack_require__(1956);\n\n        // `Object.defineProperties` method\n        // https://tc39.es/ecma262/#sec-object.defineproperties\n        module.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n          anObject(O);\n          var keys = objectKeys(Properties);\n          var length = keys.length;\n          var index = 0;\n          var key;\n          while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n          return O;\n        };\n\n        /***/\n      }),\n      /***/3070: (/***/function (__unused_webpack_module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(9781);\n        var IE8_DOM_DEFINE = __webpack_require__(4664);\n        var anObject = __webpack_require__(9670);\n        var toPrimitive = __webpack_require__(7593);\n        var nativeDefineProperty = Object.defineProperty;\n\n        // `Object.defineProperty` method\n        // https://tc39.es/ecma262/#sec-object.defineproperty\n        exports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n          anObject(O);\n          P = toPrimitive(P, true);\n          anObject(Attributes);\n          if (IE8_DOM_DEFINE) try {\n            return nativeDefineProperty(O, P, Attributes);\n          } catch (error) {/* empty */}\n          if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n          if ('value' in Attributes) O[P] = Attributes.value;\n          return O;\n        };\n\n        /***/\n      }),\n      /***/1236: (/***/function (__unused_webpack_module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(9781);\n        var propertyIsEnumerableModule = __webpack_require__(5296);\n        var createPropertyDescriptor = __webpack_require__(9114);\n        var toIndexedObject = __webpack_require__(5656);\n        var toPrimitive = __webpack_require__(7593);\n        var has = __webpack_require__(6656);\n        var IE8_DOM_DEFINE = __webpack_require__(4664);\n        var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n        // `Object.getOwnPropertyDescriptor` method\n        // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n        exports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n          O = toIndexedObject(O);\n          P = toPrimitive(P, true);\n          if (IE8_DOM_DEFINE) try {\n            return nativeGetOwnPropertyDescriptor(O, P);\n          } catch (error) {/* empty */}\n          if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n        };\n\n        /***/\n      }),\n      /***/8006: (/***/function (__unused_webpack_module, exports, __webpack_require__) {\n        var internalObjectKeys = __webpack_require__(6324);\n        var enumBugKeys = __webpack_require__(748);\n        var hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n        // `Object.getOwnPropertyNames` method\n        // https://tc39.es/ecma262/#sec-object.getownpropertynames\n        exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n          return internalObjectKeys(O, hiddenKeys);\n        };\n\n        /***/\n      }),\n      /***/5181: (/***/function (__unused_webpack_module, exports) {\n        exports.f = Object.getOwnPropertySymbols;\n\n        /***/\n      }),\n      /***/9518: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var has = __webpack_require__(6656);\n        var toObject = __webpack_require__(7908);\n        var sharedKey = __webpack_require__(6200);\n        var CORRECT_PROTOTYPE_GETTER = __webpack_require__(8544);\n        var IE_PROTO = sharedKey('IE_PROTO');\n        var ObjectPrototype = Object.prototype;\n\n        // `Object.getPrototypeOf` method\n        // https://tc39.es/ecma262/#sec-object.getprototypeof\n        module.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n          O = toObject(O);\n          if (has(O, IE_PROTO)) return O[IE_PROTO];\n          if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n            return O.constructor.prototype;\n          }\n          return O instanceof Object ? ObjectPrototype : null;\n        };\n\n        /***/\n      }),\n      /***/6324: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var has = __webpack_require__(6656);\n        var toIndexedObject = __webpack_require__(5656);\n        var indexOf = __webpack_require__(1318).indexOf;\n        var hiddenKeys = __webpack_require__(3501);\n        module.exports = function (object, names) {\n          var O = toIndexedObject(object);\n          var i = 0;\n          var result = [];\n          var key;\n          for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n          // Don't enum bug & hidden keys\n          while (names.length > i) if (has(O, key = names[i++])) {\n            ~indexOf(result, key) || result.push(key);\n          }\n          return result;\n        };\n\n        /***/\n      }),\n      /***/1956: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var internalObjectKeys = __webpack_require__(6324);\n        var enumBugKeys = __webpack_require__(748);\n\n        // `Object.keys` method\n        // https://tc39.es/ecma262/#sec-object.keys\n        module.exports = Object.keys || function keys(O) {\n          return internalObjectKeys(O, enumBugKeys);\n        };\n\n        /***/\n      }),\n      /***/5296: (/***/function (__unused_webpack_module, exports) {\n        \"use strict\";\n\n        var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n        var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n        // Nashorn ~ JDK8 bug\n        var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({\n          1: 2\n        }, 1);\n\n        // `Object.prototype.propertyIsEnumerable` method implementation\n        // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\n        exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n          var descriptor = getOwnPropertyDescriptor(this, V);\n          return !!descriptor && descriptor.enumerable;\n        } : nativePropertyIsEnumerable;\n\n        /***/\n      }),\n      /***/7674: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        /* eslint-disable no-proto -- safe */\n        var anObject = __webpack_require__(9670);\n        var aPossiblePrototype = __webpack_require__(6077);\n\n        // `Object.setPrototypeOf` method\n        // https://tc39.es/ecma262/#sec-object.setprototypeof\n        // Works with __proto__ only. Old v8 can't work with null proto objects.\n        module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n          var CORRECT_SETTER = false;\n          var test = {};\n          var setter;\n          try {\n            setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n            setter.call(test, []);\n            CORRECT_SETTER = test instanceof Array;\n          } catch (error) {/* empty */}\n          return function setPrototypeOf(O, proto) {\n            anObject(O);\n            aPossiblePrototype(proto);\n            if (CORRECT_SETTER) setter.call(O, proto);else O.__proto__ = proto;\n            return O;\n          };\n        }() : undefined);\n\n        /***/\n      }),\n      /***/288: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var TO_STRING_TAG_SUPPORT = __webpack_require__(1694);\n        var classof = __webpack_require__(648);\n\n        // `Object.prototype.toString` method implementation\n        // https://tc39.es/ecma262/#sec-object.prototype.tostring\n        module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n          return '[object ' + classof(this) + ']';\n        };\n\n        /***/\n      }),\n      /***/3887: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var getBuiltIn = __webpack_require__(5005);\n        var getOwnPropertyNamesModule = __webpack_require__(8006);\n        var getOwnPropertySymbolsModule = __webpack_require__(5181);\n        var anObject = __webpack_require__(9670);\n\n        // all object keys, includes non-enumerable and symbols\n        module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n          var keys = getOwnPropertyNamesModule.f(anObject(it));\n          var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n          return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n        };\n\n        /***/\n      }),\n      /***/857: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        module.exports = global;\n\n        /***/\n      }),\n      /***/2248: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var redefine = __webpack_require__(1320);\n        module.exports = function (target, src, options) {\n          for (var key in src) redefine(target, key, src[key], options);\n          return target;\n        };\n\n        /***/\n      }),\n      /***/1320: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var has = __webpack_require__(6656);\n        var setGlobal = __webpack_require__(3505);\n        var inspectSource = __webpack_require__(2788);\n        var InternalStateModule = __webpack_require__(9909);\n        var getInternalState = InternalStateModule.get;\n        var enforceInternalState = InternalStateModule.enforce;\n        var TEMPLATE = String(String).split('String');\n        (module.exports = function (O, key, value, options) {\n          var unsafe = options ? !!options.unsafe : false;\n          var simple = options ? !!options.enumerable : false;\n          var noTargetGet = options ? !!options.noTargetGet : false;\n          var state;\n          if (typeof value == 'function') {\n            if (typeof key == 'string' && !has(value, 'name')) {\n              createNonEnumerableProperty(value, 'name', key);\n            }\n            state = enforceInternalState(value);\n            if (!state.source) {\n              state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n            }\n          }\n          if (O === global) {\n            if (simple) O[key] = value;else setGlobal(key, value);\n            return;\n          } else if (!unsafe) {\n            delete O[key];\n          } else if (!noTargetGet && O[key]) {\n            simple = true;\n          }\n          if (simple) O[key] = value;else createNonEnumerableProperty(O, key, value);\n          // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n        })(Function.prototype, 'toString', function toString() {\n          return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n        });\n\n        /***/\n      }),\n      /***/7651: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var classof = __webpack_require__(4326);\n        var regexpExec = __webpack_require__(2261);\n\n        // `RegExpExec` abstract operation\n        // https://tc39.es/ecma262/#sec-regexpexec\n        module.exports = function (R, S) {\n          var exec = R.exec;\n          if (typeof exec === 'function') {\n            var result = exec.call(R, S);\n            if (typeof result !== 'object') {\n              throw TypeError('RegExp exec method returned something other than an Object or null');\n            }\n            return result;\n          }\n          if (classof(R) !== 'RegExp') {\n            throw TypeError('RegExp#exec called on incompatible receiver');\n          }\n          return regexpExec.call(R, S);\n        };\n\n        /***/\n      }),\n      /***/2261: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var regexpFlags = __webpack_require__(7066);\n        var stickyHelpers = __webpack_require__(2999);\n        var nativeExec = RegExp.prototype.exec;\n        // This always refers to the native implementation, because the\n        // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n        // which loads this file before patching the method.\n        var nativeReplace = String.prototype.replace;\n        var patchedExec = nativeExec;\n        var UPDATES_LAST_INDEX_WRONG = function () {\n          var re1 = /a/;\n          var re2 = /b*/g;\n          nativeExec.call(re1, 'a');\n          nativeExec.call(re2, 'a');\n          return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n        }();\n        var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n        // nonparticipating capturing group, copied from es5-shim's String#split patch.\n        // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n        var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n        var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n        if (PATCH) {\n          patchedExec = function exec(str) {\n            var re = this;\n            var lastIndex, reCopy, match, i;\n            var sticky = UNSUPPORTED_Y && re.sticky;\n            var flags = regexpFlags.call(re);\n            var source = re.source;\n            var charsAdded = 0;\n            var strCopy = str;\n            if (sticky) {\n              flags = flags.replace('y', '');\n              if (flags.indexOf('g') === -1) {\n                flags += 'g';\n              }\n              strCopy = String(str).slice(re.lastIndex);\n              // Support anchored sticky behavior.\n              if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n                source = '(?: ' + source + ')';\n                strCopy = ' ' + strCopy;\n                charsAdded++;\n              }\n              // ^(? + rx + ) is needed, in combination with some str slicing, to\n              // simulate the 'y' flag.\n              reCopy = new RegExp('^(?:' + source + ')', flags);\n            }\n            if (NPCG_INCLUDED) {\n              reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n            }\n            if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n            match = nativeExec.call(sticky ? reCopy : re, strCopy);\n            if (sticky) {\n              if (match) {\n                match.input = match.input.slice(charsAdded);\n                match[0] = match[0].slice(charsAdded);\n                match.index = re.lastIndex;\n                re.lastIndex += match[0].length;\n              } else re.lastIndex = 0;\n            } else if (UPDATES_LAST_INDEX_WRONG && match) {\n              re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n            }\n            if (NPCG_INCLUDED && match && match.length > 1) {\n              // Fix browsers whose `exec` methods don't consistently return `undefined`\n              // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n              nativeReplace.call(match[0], reCopy, function () {\n                for (i = 1; i < arguments.length - 2; i++) {\n                  if (arguments[i] === undefined) match[i] = undefined;\n                }\n              });\n            }\n            return match;\n          };\n        }\n        module.exports = patchedExec;\n\n        /***/\n      }),\n      /***/7066: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var anObject = __webpack_require__(9670);\n\n        // `RegExp.prototype.flags` getter implementation\n        // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\n        module.exports = function () {\n          var that = anObject(this);\n          var result = '';\n          if (that.global) result += 'g';\n          if (that.ignoreCase) result += 'i';\n          if (that.multiline) result += 'm';\n          if (that.dotAll) result += 's';\n          if (that.unicode) result += 'u';\n          if (that.sticky) result += 'y';\n          return result;\n        };\n\n        /***/\n      }),\n      /***/2999: (/***/function (__unused_webpack_module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var fails = __webpack_require__(7293);\n\n        // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n        // so we use an intermediate function.\n        function RE(s, f) {\n          return RegExp(s, f);\n        }\n        exports.UNSUPPORTED_Y = fails(function () {\n          // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n          var re = RE('a', 'y');\n          re.lastIndex = 2;\n          return re.exec('abcd') != null;\n        });\n        exports.BROKEN_CARET = fails(function () {\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n          var re = RE('^r', 'gy');\n          re.lastIndex = 2;\n          return re.exec('str') != null;\n        });\n\n        /***/\n      }),\n      /***/4488: (/***/function (module) {\n        // `RequireObjectCoercible` abstract operation\n        // https://tc39.es/ecma262/#sec-requireobjectcoercible\n        module.exports = function (it) {\n          if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n          return it;\n        };\n\n        /***/\n      }),\n      /***/3505: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        module.exports = function (key, value) {\n          try {\n            createNonEnumerableProperty(global, key, value);\n          } catch (error) {\n            global[key] = value;\n          }\n          return value;\n        };\n\n        /***/\n      }),\n      /***/6340: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var getBuiltIn = __webpack_require__(5005);\n        var definePropertyModule = __webpack_require__(3070);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var DESCRIPTORS = __webpack_require__(9781);\n        var SPECIES = wellKnownSymbol('species');\n        module.exports = function (CONSTRUCTOR_NAME) {\n          var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n          var defineProperty = definePropertyModule.f;\n          if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n            defineProperty(Constructor, SPECIES, {\n              configurable: true,\n              get: function () {\n                return this;\n              }\n            });\n          }\n        };\n\n        /***/\n      }),\n      /***/8003: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var defineProperty = __webpack_require__(3070).f;\n        var has = __webpack_require__(6656);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        module.exports = function (it, TAG, STATIC) {\n          if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n            defineProperty(it, TO_STRING_TAG, {\n              configurable: true,\n              value: TAG\n            });\n          }\n        };\n\n        /***/\n      }),\n      /***/6200: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var shared = __webpack_require__(2309);\n        var uid = __webpack_require__(9711);\n        var keys = shared('keys');\n        module.exports = function (key) {\n          return keys[key] || (keys[key] = uid(key));\n        };\n\n        /***/\n      }),\n      /***/5465: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var setGlobal = __webpack_require__(3505);\n        var SHARED = '__core-js_shared__';\n        var store = global[SHARED] || setGlobal(SHARED, {});\n        module.exports = store;\n\n        /***/\n      }),\n      /***/2309: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var IS_PURE = __webpack_require__(1913);\n        var store = __webpack_require__(5465);\n        (module.exports = function (key, value) {\n          return store[key] || (store[key] = value !== undefined ? value : {});\n        })('versions', []).push({\n          version: '3.9.0',\n          mode: IS_PURE ? 'pure' : 'global',\n          copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n        });\n\n        /***/\n      }),\n      /***/6707: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var anObject = __webpack_require__(9670);\n        var aFunction = __webpack_require__(3099);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var SPECIES = wellKnownSymbol('species');\n\n        // `SpeciesConstructor` abstract operation\n        // https://tc39.es/ecma262/#sec-speciesconstructor\n        module.exports = function (O, defaultConstructor) {\n          var C = anObject(O).constructor;\n          var S;\n          return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n        };\n\n        /***/\n      }),\n      /***/8710: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toInteger = __webpack_require__(9958);\n        var requireObjectCoercible = __webpack_require__(4488);\n\n        // `String.prototype.{ codePointAt, at }` methods implementation\n        var createMethod = function (CONVERT_TO_STRING) {\n          return function ($this, pos) {\n            var S = String(requireObjectCoercible($this));\n            var position = toInteger(pos);\n            var size = S.length;\n            var first, second;\n            if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n            first = S.charCodeAt(position);\n            return first < 0xD800 || first > 0xDBFF || position + 1 === size || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n          };\n        };\n        module.exports = {\n          // `String.prototype.codePointAt` method\n          // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n          codeAt: createMethod(false),\n          // `String.prototype.at` method\n          // https://github.com/mathiasbynens/String.prototype.at\n          charAt: createMethod(true)\n        };\n\n        /***/\n      }),\n      /***/3197: (/***/function (module) {\n        \"use strict\";\n\n        // based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\n        var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n        var base = 36;\n        var tMin = 1;\n        var tMax = 26;\n        var skew = 38;\n        var damp = 700;\n        var initialBias = 72;\n        var initialN = 128; // 0x80\n        var delimiter = '-'; // '\\x2D'\n        var regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\n        var regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n        var OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\n        var baseMinusTMin = base - tMin;\n        var floor = Math.floor;\n        var stringFromCharCode = String.fromCharCode;\n\n        /**\n         * Creates an array containing the numeric code points of each Unicode\n         * character in the string. While JavaScript uses UCS-2 internally,\n         * this function will convert a pair of surrogate halves (each of which\n         * UCS-2 exposes as separate characters) into a single code point,\n         * matching UTF-16.\n         */\n        var ucs2decode = function (string) {\n          var output = [];\n          var counter = 0;\n          var length = string.length;\n          while (counter < length) {\n            var value = string.charCodeAt(counter++);\n            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n              // It's a high surrogate, and there is a next character.\n              var extra = string.charCodeAt(counter++);\n              if ((extra & 0xFC00) == 0xDC00) {\n                // Low surrogate.\n                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n              } else {\n                // It's an unmatched surrogate; only append this code unit, in case the\n                // next code unit is the high surrogate of a surrogate pair.\n                output.push(value);\n                counter--;\n              }\n            } else {\n              output.push(value);\n            }\n          }\n          return output;\n        };\n\n        /**\n         * Converts a digit/integer into a basic code point.\n         */\n        var digitToBasic = function (digit) {\n          //  0..25 map to ASCII a..z or A..Z\n          // 26..35 map to ASCII 0..9\n          return digit + 22 + 75 * (digit < 26);\n        };\n\n        /**\n         * Bias adaptation function as per section 3.4 of RFC 3492.\n         * https://tools.ietf.org/html/rfc3492#section-3.4\n         */\n        var adapt = function (delta, numPoints, firstTime) {\n          var k = 0;\n          delta = firstTime ? floor(delta / damp) : delta >> 1;\n          delta += floor(delta / numPoints);\n          for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n            delta = floor(delta / baseMinusTMin);\n          }\n          return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n        };\n\n        /**\n         * Converts a string of Unicode symbols (e.g. a domain name label) to a\n         * Punycode string of ASCII-only symbols.\n         */\n        // eslint-disable-next-line max-statements -- TODO\n        var encode = function (input) {\n          var output = [];\n\n          // Convert the input in UCS-2 to an array of Unicode code points.\n          input = ucs2decode(input);\n\n          // Cache the length.\n          var inputLength = input.length;\n\n          // Initialize the state.\n          var n = initialN;\n          var delta = 0;\n          var bias = initialBias;\n          var i, currentValue;\n\n          // Handle the basic code points.\n          for (i = 0; i < input.length; i++) {\n            currentValue = input[i];\n            if (currentValue < 0x80) {\n              output.push(stringFromCharCode(currentValue));\n            }\n          }\n          var basicLength = output.length; // number of basic code points.\n          var handledCPCount = basicLength; // number of code points that have been handled;\n\n          // Finish the basic string with a delimiter unless it's empty.\n          if (basicLength) {\n            output.push(delimiter);\n          }\n\n          // Main encoding loop:\n          while (handledCPCount < inputLength) {\n            // All non-basic code points < n have been handled already. Find the next larger one:\n            var m = maxInt;\n            for (i = 0; i < input.length; i++) {\n              currentValue = input[i];\n              if (currentValue >= n && currentValue < m) {\n                m = currentValue;\n              }\n            }\n\n            // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n            var handledCPCountPlusOne = handledCPCount + 1;\n            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n              throw RangeError(OVERFLOW_ERROR);\n            }\n            delta += (m - n) * handledCPCountPlusOne;\n            n = m;\n            for (i = 0; i < input.length; i++) {\n              currentValue = input[i];\n              if (currentValue < n && ++delta > maxInt) {\n                throw RangeError(OVERFLOW_ERROR);\n              }\n              if (currentValue == n) {\n                // Represent delta as a generalized variable-length integer.\n                var q = delta;\n                for /* no condition */\n                (var k = base;; k += base) {\n                  var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n                  if (q < t) break;\n                  var qMinusT = q - t;\n                  var baseMinusT = base - t;\n                  output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n                  q = floor(qMinusT / baseMinusT);\n                }\n                output.push(stringFromCharCode(digitToBasic(q)));\n                bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n                delta = 0;\n                ++handledCPCount;\n              }\n            }\n            ++delta;\n            ++n;\n          }\n          return output.join('');\n        };\n        module.exports = function (input) {\n          var encoded = [];\n          var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n          var i, label;\n          for (i = 0; i < labels.length; i++) {\n            label = labels[i];\n            encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n          }\n          return encoded.join('.');\n        };\n\n        /***/\n      }),\n      /***/6091: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var fails = __webpack_require__(7293);\n        var whitespaces = __webpack_require__(1361);\n        var non = '\\u200B\\u0085\\u180E';\n\n        // check that a method works with the correct list\n        // of whitespaces and has a correct name\n        module.exports = function (METHOD_NAME) {\n          return fails(function () {\n            return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n          });\n        };\n\n        /***/\n      }),\n      /***/3111: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var requireObjectCoercible = __webpack_require__(4488);\n        var whitespaces = __webpack_require__(1361);\n        var whitespace = '[' + whitespaces + ']';\n        var ltrim = RegExp('^' + whitespace + whitespace + '*');\n        var rtrim = RegExp(whitespace + whitespace + '*$');\n\n        // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\n        var createMethod = function (TYPE) {\n          return function ($this) {\n            var string = String(requireObjectCoercible($this));\n            if (TYPE & 1) string = string.replace(ltrim, '');\n            if (TYPE & 2) string = string.replace(rtrim, '');\n            return string;\n          };\n        };\n        module.exports = {\n          // `String.prototype.{ trimLeft, trimStart }` methods\n          // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n          start: createMethod(1),\n          // `String.prototype.{ trimRight, trimEnd }` methods\n          // https://tc39.es/ecma262/#sec-string.prototype.trimend\n          end: createMethod(2),\n          // `String.prototype.trim` method\n          // https://tc39.es/ecma262/#sec-string.prototype.trim\n          trim: createMethod(3)\n        };\n\n        /***/\n      }),\n      /***/1400: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toInteger = __webpack_require__(9958);\n        var max = Math.max;\n        var min = Math.min;\n\n        // Helper for a popular repeating case of the spec:\n        // Let integer be ? ToInteger(index).\n        // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n        module.exports = function (index, length) {\n          var integer = toInteger(index);\n          return integer < 0 ? max(integer + length, 0) : min(integer, length);\n        };\n\n        /***/\n      }),\n      /***/7067: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toInteger = __webpack_require__(9958);\n        var toLength = __webpack_require__(7466);\n\n        // `ToIndex` abstract operation\n        // https://tc39.es/ecma262/#sec-toindex\n        module.exports = function (it) {\n          if (it === undefined) return 0;\n          var number = toInteger(it);\n          var length = toLength(number);\n          if (number !== length) throw RangeError('Wrong length or index');\n          return length;\n        };\n\n        /***/\n      }),\n      /***/5656: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        // toObject with fallback for non-array-like ES3 strings\n        var IndexedObject = __webpack_require__(8361);\n        var requireObjectCoercible = __webpack_require__(4488);\n        module.exports = function (it) {\n          return IndexedObject(requireObjectCoercible(it));\n        };\n\n        /***/\n      }),\n      /***/9958: (/***/function (module) {\n        var ceil = Math.ceil;\n        var floor = Math.floor;\n\n        // `ToInteger` abstract operation\n        // https://tc39.es/ecma262/#sec-tointeger\n        module.exports = function (argument) {\n          return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n        };\n\n        /***/\n      }),\n      /***/7466: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toInteger = __webpack_require__(9958);\n        var min = Math.min;\n\n        // `ToLength` abstract operation\n        // https://tc39.es/ecma262/#sec-tolength\n        module.exports = function (argument) {\n          return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n        };\n\n        /***/\n      }),\n      /***/7908: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var requireObjectCoercible = __webpack_require__(4488);\n\n        // `ToObject` abstract operation\n        // https://tc39.es/ecma262/#sec-toobject\n        module.exports = function (argument) {\n          return Object(requireObjectCoercible(argument));\n        };\n\n        /***/\n      }),\n      /***/4590: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toPositiveInteger = __webpack_require__(3002);\n        module.exports = function (it, BYTES) {\n          var offset = toPositiveInteger(it);\n          if (offset % BYTES) throw RangeError('Wrong offset');\n          return offset;\n        };\n\n        /***/\n      }),\n      /***/3002: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toInteger = __webpack_require__(9958);\n        module.exports = function (it) {\n          var result = toInteger(it);\n          if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n          return result;\n        };\n\n        /***/\n      }),\n      /***/7593: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var isObject = __webpack_require__(111);\n\n        // `ToPrimitive` abstract operation\n        // https://tc39.es/ecma262/#sec-toprimitive\n        // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n        // and the second argument - flag - preferred type is a string\n        module.exports = function (input, PREFERRED_STRING) {\n          if (!isObject(input)) return input;\n          var fn, val;\n          if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n          if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n          if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n          throw TypeError(\"Can't convert object to primitive value\");\n        };\n\n        /***/\n      }),\n      /***/1694: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(5112);\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        var test = {};\n        test[TO_STRING_TAG] = 'z';\n        module.exports = String(test) === '[object z]';\n\n        /***/\n      }),\n      /***/9843: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var global = __webpack_require__(7854);\n        var DESCRIPTORS = __webpack_require__(9781);\n        var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = __webpack_require__(3832);\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var ArrayBufferModule = __webpack_require__(3331);\n        var anInstance = __webpack_require__(5787);\n        var createPropertyDescriptor = __webpack_require__(9114);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var toLength = __webpack_require__(7466);\n        var toIndex = __webpack_require__(7067);\n        var toOffset = __webpack_require__(4590);\n        var toPrimitive = __webpack_require__(7593);\n        var has = __webpack_require__(6656);\n        var classof = __webpack_require__(648);\n        var isObject = __webpack_require__(111);\n        var create = __webpack_require__(30);\n        var setPrototypeOf = __webpack_require__(7674);\n        var getOwnPropertyNames = __webpack_require__(8006).f;\n        var typedArrayFrom = __webpack_require__(7321);\n        var forEach = __webpack_require__(2092).forEach;\n        var setSpecies = __webpack_require__(6340);\n        var definePropertyModule = __webpack_require__(3070);\n        var getOwnPropertyDescriptorModule = __webpack_require__(1236);\n        var InternalStateModule = __webpack_require__(9909);\n        var inheritIfRequired = __webpack_require__(9587);\n        var getInternalState = InternalStateModule.get;\n        var setInternalState = InternalStateModule.set;\n        var nativeDefineProperty = definePropertyModule.f;\n        var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n        var round = Math.round;\n        var RangeError = global.RangeError;\n        var ArrayBuffer = ArrayBufferModule.ArrayBuffer;\n        var DataView = ArrayBufferModule.DataView;\n        var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\n        var TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\n        var TypedArray = ArrayBufferViewCore.TypedArray;\n        var TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\n        var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\n        var isTypedArray = ArrayBufferViewCore.isTypedArray;\n        var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n        var WRONG_LENGTH = 'Wrong length';\n        var fromList = function (C, list) {\n          var index = 0;\n          var length = list.length;\n          var result = new (aTypedArrayConstructor(C))(length);\n          while (length > index) result[index] = list[index++];\n          return result;\n        };\n        var addGetter = function (it, key) {\n          nativeDefineProperty(it, key, {\n            get: function () {\n              return getInternalState(this)[key];\n            }\n          });\n        };\n        var isArrayBuffer = function (it) {\n          var klass;\n          return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n        };\n        var isTypedArrayIndex = function (target, key) {\n          return isTypedArray(target) && typeof key != 'symbol' && key in target && String(+key) == String(key);\n        };\n        var wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n          return isTypedArrayIndex(target, key = toPrimitive(key, true)) ? createPropertyDescriptor(2, target[key]) : nativeGetOwnPropertyDescriptor(target, key);\n        };\n        var wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n          if (isTypedArrayIndex(target, key = toPrimitive(key, true)) && isObject(descriptor) && has(descriptor, 'value') && !has(descriptor, 'get') && !has(descriptor, 'set')\n          // TODO: add validation descriptor w/o calling accessors\n          && !descriptor.configurable && (!has(descriptor, 'writable') || descriptor.writable) && (!has(descriptor, 'enumerable') || descriptor.enumerable)) {\n            target[key] = descriptor.value;\n            return target;\n          }\n          return nativeDefineProperty(target, key, descriptor);\n        };\n        if (DESCRIPTORS) {\n          if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n            getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n            definePropertyModule.f = wrappedDefineProperty;\n            addGetter(TypedArrayPrototype, 'buffer');\n            addGetter(TypedArrayPrototype, 'byteOffset');\n            addGetter(TypedArrayPrototype, 'byteLength');\n            addGetter(TypedArrayPrototype, 'length');\n          }\n          $({\n            target: 'Object',\n            stat: true,\n            forced: !NATIVE_ARRAY_BUFFER_VIEWS\n          }, {\n            getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n            defineProperty: wrappedDefineProperty\n          });\n          module.exports = function (TYPE, wrapper, CLAMPED) {\n            var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n            var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n            var GETTER = 'get' + TYPE;\n            var SETTER = 'set' + TYPE;\n            var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n            var TypedArrayConstructor = NativeTypedArrayConstructor;\n            var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n            var exported = {};\n            var getter = function (that, index) {\n              var data = getInternalState(that);\n              return data.view[GETTER](index * BYTES + data.byteOffset, true);\n            };\n            var setter = function (that, index, value) {\n              var data = getInternalState(that);\n              if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n              data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n            };\n            var addElement = function (that, index) {\n              nativeDefineProperty(that, index, {\n                get: function () {\n                  return getter(this, index);\n                },\n                set: function (value) {\n                  return setter(this, index, value);\n                },\n                enumerable: true\n              });\n            };\n            if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n              TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n                anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n                var index = 0;\n                var byteOffset = 0;\n                var buffer, byteLength, length;\n                if (!isObject(data)) {\n                  length = toIndex(data);\n                  byteLength = length * BYTES;\n                  buffer = new ArrayBuffer(byteLength);\n                } else if (isArrayBuffer(data)) {\n                  buffer = data;\n                  byteOffset = toOffset(offset, BYTES);\n                  var $len = data.byteLength;\n                  if ($length === undefined) {\n                    if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n                    byteLength = $len - byteOffset;\n                    if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n                  } else {\n                    byteLength = toLength($length) * BYTES;\n                    if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n                  }\n                  length = byteLength / BYTES;\n                } else if (isTypedArray(data)) {\n                  return fromList(TypedArrayConstructor, data);\n                } else {\n                  return typedArrayFrom.call(TypedArrayConstructor, data);\n                }\n                setInternalState(that, {\n                  buffer: buffer,\n                  byteOffset: byteOffset,\n                  byteLength: byteLength,\n                  length: length,\n                  view: new DataView(buffer)\n                });\n                while (index < length) addElement(that, index++);\n              });\n              if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n              TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n            } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n              TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n                anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n                return inheritIfRequired(function () {\n                  if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n                  if (isArrayBuffer(data)) return $length !== undefined ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length) : typedArrayOffset !== undefined ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES)) : new NativeTypedArrayConstructor(data);\n                  if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n                  return typedArrayFrom.call(TypedArrayConstructor, data);\n                }(), dummy, TypedArrayConstructor);\n              });\n              if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n              forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n                if (!(key in TypedArrayConstructor)) {\n                  createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n                }\n              });\n              TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n            }\n            if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n              createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n            }\n            if (TYPED_ARRAY_TAG) {\n              createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n            }\n            exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n            $({\n              global: true,\n              forced: TypedArrayConstructor != NativeTypedArrayConstructor,\n              sham: !NATIVE_ARRAY_BUFFER_VIEWS\n            }, exported);\n            if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n              createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n            }\n            if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n              createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n            }\n            setSpecies(CONSTRUCTOR_NAME);\n          };\n        } else module.exports = function () {/* empty */};\n\n        /***/\n      }),\n      /***/3832: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        /* eslint-disable no-new -- required for testing */\n        var global = __webpack_require__(7854);\n        var fails = __webpack_require__(7293);\n        var checkCorrectnessOfIteration = __webpack_require__(7072);\n        var NATIVE_ARRAY_BUFFER_VIEWS = __webpack_require__(260).NATIVE_ARRAY_BUFFER_VIEWS;\n        var ArrayBuffer = global.ArrayBuffer;\n        var Int8Array = global.Int8Array;\n        module.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n          Int8Array(1);\n        }) || !fails(function () {\n          new Int8Array(-1);\n        }) || !checkCorrectnessOfIteration(function (iterable) {\n          new Int8Array();\n          new Int8Array(null);\n          new Int8Array(1.5);\n          new Int8Array(iterable);\n        }, true) || fails(function () {\n          // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n          return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n        });\n\n        /***/\n      }),\n      /***/3074: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var aTypedArrayConstructor = __webpack_require__(260).aTypedArrayConstructor;\n        var speciesConstructor = __webpack_require__(6707);\n        module.exports = function (instance, list) {\n          var C = speciesConstructor(instance, instance.constructor);\n          var index = 0;\n          var length = list.length;\n          var result = new (aTypedArrayConstructor(C))(length);\n          while (length > index) result[index] = list[index++];\n          return result;\n        };\n\n        /***/\n      }),\n      /***/7321: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var toObject = __webpack_require__(7908);\n        var toLength = __webpack_require__(7466);\n        var getIteratorMethod = __webpack_require__(1246);\n        var isArrayIteratorMethod = __webpack_require__(7659);\n        var bind = __webpack_require__(9974);\n        var aTypedArrayConstructor = __webpack_require__(260).aTypedArrayConstructor;\n        module.exports = function from(source /* , mapfn, thisArg */) {\n          var O = toObject(source);\n          var argumentsLength = arguments.length;\n          var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n          var mapping = mapfn !== undefined;\n          var iteratorMethod = getIteratorMethod(O);\n          var i, length, result, step, iterator, next;\n          if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n            iterator = iteratorMethod.call(O);\n            next = iterator.next;\n            O = [];\n            while (!(step = next.call(iterator)).done) {\n              O.push(step.value);\n            }\n          }\n          if (mapping && argumentsLength > 2) {\n            mapfn = bind(mapfn, arguments[2], 2);\n          }\n          length = toLength(O.length);\n          result = new (aTypedArrayConstructor(this))(length);\n          for (i = 0; length > i; i++) {\n            result[i] = mapping ? mapfn(O[i], i) : O[i];\n          }\n          return result;\n        };\n\n        /***/\n      }),\n      /***/9711: (/***/function (module) {\n        var id = 0;\n        var postfix = Math.random();\n        module.exports = function (key) {\n          return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n        };\n\n        /***/\n      }),\n      /***/3307: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var NATIVE_SYMBOL = __webpack_require__(133);\n        module.exports = NATIVE_SYMBOL\n        /* global Symbol -- safe */ && !Symbol.sham && typeof Symbol.iterator == 'symbol';\n\n        /***/\n      }),\n      /***/5112: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var shared = __webpack_require__(2309);\n        var has = __webpack_require__(6656);\n        var uid = __webpack_require__(9711);\n        var NATIVE_SYMBOL = __webpack_require__(133);\n        var USE_SYMBOL_AS_UID = __webpack_require__(3307);\n        var WellKnownSymbolsStore = shared('wks');\n        var Symbol = global.Symbol;\n        var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n        module.exports = function (name) {\n          if (!has(WellKnownSymbolsStore, name)) {\n            if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n          }\n          return WellKnownSymbolsStore[name];\n        };\n\n        /***/\n      }),\n      /***/1361: (/***/function (module) {\n        // a string of all valid unicode whitespaces\n        module.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' + '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n        /***/\n      }),\n      /***/8264: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var global = __webpack_require__(7854);\n        var arrayBufferModule = __webpack_require__(3331);\n        var setSpecies = __webpack_require__(6340);\n        var ARRAY_BUFFER = 'ArrayBuffer';\n        var ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\n        var NativeArrayBuffer = global[ARRAY_BUFFER];\n\n        // `ArrayBuffer` constructor\n        // https://tc39.es/ecma262/#sec-arraybuffer-constructor\n        $({\n          global: true,\n          forced: NativeArrayBuffer !== ArrayBuffer\n        }, {\n          ArrayBuffer: ArrayBuffer\n        });\n        setSpecies(ARRAY_BUFFER);\n\n        /***/\n      }),\n      /***/2222: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var fails = __webpack_require__(7293);\n        var isArray = __webpack_require__(3157);\n        var isObject = __webpack_require__(111);\n        var toObject = __webpack_require__(7908);\n        var toLength = __webpack_require__(7466);\n        var createProperty = __webpack_require__(6135);\n        var arraySpeciesCreate = __webpack_require__(5417);\n        var arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var V8_VERSION = __webpack_require__(7392);\n        var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n        var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n        var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n        // We can't use this feature detection in V8 since it causes\n        // deoptimization and serious performance degradation\n        // https://github.com/zloirock/core-js/issues/679\n        var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n          var array = [];\n          array[IS_CONCAT_SPREADABLE] = false;\n          return array.concat()[0] !== array;\n        });\n        var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n        var isConcatSpreadable = function (O) {\n          if (!isObject(O)) return false;\n          var spreadable = O[IS_CONCAT_SPREADABLE];\n          return spreadable !== undefined ? !!spreadable : isArray(O);\n        };\n        var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n        // `Array.prototype.concat` method\n        // https://tc39.es/ecma262/#sec-array.prototype.concat\n        // with adding support of @@isConcatSpreadable and @@species\n        $({\n          target: 'Array',\n          proto: true,\n          forced: FORCED\n        }, {\n          // eslint-disable-next-line no-unused-vars -- required for `.length`\n          concat: function concat(arg) {\n            var O = toObject(this);\n            var A = arraySpeciesCreate(O, 0);\n            var n = 0;\n            var i, k, length, len, E;\n            for (i = -1, length = arguments.length; i < length; i++) {\n              E = i === -1 ? O : arguments[i];\n              if (isConcatSpreadable(E)) {\n                len = toLength(E.length);\n                if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n                for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n              } else {\n                if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n                createProperty(A, n++, E);\n              }\n            }\n            A.length = n;\n            return A;\n          }\n        });\n\n        /***/\n      }),\n      /***/7327: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var $filter = __webpack_require__(2092).filter;\n        var arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n        var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n        // `Array.prototype.filter` method\n        // https://tc39.es/ecma262/#sec-array.prototype.filter\n        // with adding support of @@species\n        $({\n          target: 'Array',\n          proto: true,\n          forced: !HAS_SPECIES_SUPPORT\n        }, {\n          filter: function filter(callbackfn /* , thisArg */) {\n            return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n          }\n        });\n\n        /***/\n      }),\n      /***/2772: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var $indexOf = __webpack_require__(1318).indexOf;\n        var arrayMethodIsStrict = __webpack_require__(9341);\n        var nativeIndexOf = [].indexOf;\n        var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n        var STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n        // `Array.prototype.indexOf` method\n        // https://tc39.es/ecma262/#sec-array.prototype.indexof\n        $({\n          target: 'Array',\n          proto: true,\n          forced: NEGATIVE_ZERO || !STRICT_METHOD\n        }, {\n          indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n            return NEGATIVE_ZERO\n            // convert -0 to +0\n            ? nativeIndexOf.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n          }\n        });\n\n        /***/\n      }),\n      /***/6992: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var toIndexedObject = __webpack_require__(5656);\n        var addToUnscopables = __webpack_require__(1223);\n        var Iterators = __webpack_require__(7497);\n        var InternalStateModule = __webpack_require__(9909);\n        var defineIterator = __webpack_require__(654);\n        var ARRAY_ITERATOR = 'Array Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n        // `Array.prototype.entries` method\n        // https://tc39.es/ecma262/#sec-array.prototype.entries\n        // `Array.prototype.keys` method\n        // https://tc39.es/ecma262/#sec-array.prototype.keys\n        // `Array.prototype.values` method\n        // https://tc39.es/ecma262/#sec-array.prototype.values\n        // `Array.prototype[@@iterator]` method\n        // https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n        // `CreateArrayIterator` internal method\n        // https://tc39.es/ecma262/#sec-createarrayiterator\n        module.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n          setInternalState(this, {\n            type: ARRAY_ITERATOR,\n            target: toIndexedObject(iterated),\n            // target\n            index: 0,\n            // next index\n            kind: kind // kind\n          });\n          // `%ArrayIteratorPrototype%.next` method\n          // https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n        }, function () {\n          var state = getInternalState(this);\n          var target = state.target;\n          var kind = state.kind;\n          var index = state.index++;\n          if (!target || index >= target.length) {\n            state.target = undefined;\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          if (kind == 'keys') return {\n            value: index,\n            done: false\n          };\n          if (kind == 'values') return {\n            value: target[index],\n            done: false\n          };\n          return {\n            value: [index, target[index]],\n            done: false\n          };\n        }, 'values');\n\n        // argumentsList[@@iterator] is %ArrayProto_values%\n        // https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n        // https://tc39.es/ecma262/#sec-createmappedargumentsobject\n        Iterators.Arguments = Iterators.Array;\n\n        // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n        addToUnscopables('keys');\n        addToUnscopables('values');\n        addToUnscopables('entries');\n\n        /***/\n      }),\n      /***/1249: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var $map = __webpack_require__(2092).map;\n        var arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n        var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n        // `Array.prototype.map` method\n        // https://tc39.es/ecma262/#sec-array.prototype.map\n        // with adding support of @@species\n        $({\n          target: 'Array',\n          proto: true,\n          forced: !HAS_SPECIES_SUPPORT\n        }, {\n          map: function map(callbackfn /* , thisArg */) {\n            return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n          }\n        });\n\n        /***/\n      }),\n      /***/7042: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var isObject = __webpack_require__(111);\n        var isArray = __webpack_require__(3157);\n        var toAbsoluteIndex = __webpack_require__(1400);\n        var toLength = __webpack_require__(7466);\n        var toIndexedObject = __webpack_require__(5656);\n        var createProperty = __webpack_require__(6135);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n        var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n        var SPECIES = wellKnownSymbol('species');\n        var nativeSlice = [].slice;\n        var max = Math.max;\n\n        // `Array.prototype.slice` method\n        // https://tc39.es/ecma262/#sec-array.prototype.slice\n        // fallback for not array-like ES3 strings and DOM objects\n        $({\n          target: 'Array',\n          proto: true,\n          forced: !HAS_SPECIES_SUPPORT\n        }, {\n          slice: function slice(start, end) {\n            var O = toIndexedObject(this);\n            var length = toLength(O.length);\n            var k = toAbsoluteIndex(start, length);\n            var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n            // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n            var Constructor, result, n;\n            if (isArray(O)) {\n              Constructor = O.constructor;\n              // cross-realm fallback\n              if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n                Constructor = undefined;\n              } else if (isObject(Constructor)) {\n                Constructor = Constructor[SPECIES];\n                if (Constructor === null) Constructor = undefined;\n              }\n              if (Constructor === Array || Constructor === undefined) {\n                return nativeSlice.call(O, k, fin);\n              }\n            }\n            result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n            for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n            result.length = n;\n            return result;\n          }\n        });\n\n        /***/\n      }),\n      /***/561: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var toAbsoluteIndex = __webpack_require__(1400);\n        var toInteger = __webpack_require__(9958);\n        var toLength = __webpack_require__(7466);\n        var toObject = __webpack_require__(7908);\n        var arraySpeciesCreate = __webpack_require__(5417);\n        var createProperty = __webpack_require__(6135);\n        var arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n        var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n        var max = Math.max;\n        var min = Math.min;\n        var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n        var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n        // `Array.prototype.splice` method\n        // https://tc39.es/ecma262/#sec-array.prototype.splice\n        // with adding support of @@species\n        $({\n          target: 'Array',\n          proto: true,\n          forced: !HAS_SPECIES_SUPPORT\n        }, {\n          splice: function splice(start, deleteCount /* , ...items */) {\n            var O = toObject(this);\n            var len = toLength(O.length);\n            var actualStart = toAbsoluteIndex(start, len);\n            var argumentsLength = arguments.length;\n            var insertCount, actualDeleteCount, A, k, from, to;\n            if (argumentsLength === 0) {\n              insertCount = actualDeleteCount = 0;\n            } else if (argumentsLength === 1) {\n              insertCount = 0;\n              actualDeleteCount = len - actualStart;\n            } else {\n              insertCount = argumentsLength - 2;\n              actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n            }\n            if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n              throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n            }\n            A = arraySpeciesCreate(O, actualDeleteCount);\n            for (k = 0; k < actualDeleteCount; k++) {\n              from = actualStart + k;\n              if (from in O) createProperty(A, k, O[from]);\n            }\n            A.length = actualDeleteCount;\n            if (insertCount < actualDeleteCount) {\n              for (k = actualStart; k < len - actualDeleteCount; k++) {\n                from = k + actualDeleteCount;\n                to = k + insertCount;\n                if (from in O) O[to] = O[from];else delete O[to];\n              }\n              for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n            } else if (insertCount > actualDeleteCount) {\n              for (k = len - actualDeleteCount; k > actualStart; k--) {\n                from = k + actualDeleteCount - 1;\n                to = k + insertCount - 1;\n                if (from in O) O[to] = O[from];else delete O[to];\n              }\n            }\n            for (k = 0; k < insertCount; k++) {\n              O[k + actualStart] = arguments[k + 2];\n            }\n            O.length = len - actualDeleteCount + insertCount;\n            return A;\n          }\n        });\n\n        /***/\n      }),\n      /***/8309: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(9781);\n        var defineProperty = __webpack_require__(3070).f;\n        var FunctionPrototype = Function.prototype;\n        var FunctionPrototypeToString = FunctionPrototype.toString;\n        var nameRE = /^\\s*function ([^ (]*)/;\n        var NAME = 'name';\n\n        // Function instances `.name` property\n        // https://tc39.es/ecma262/#sec-function-instances-name\n        if (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n          defineProperty(FunctionPrototype, NAME, {\n            configurable: true,\n            get: function () {\n              try {\n                return FunctionPrototypeToString.call(this).match(nameRE)[1];\n              } catch (error) {\n                return '';\n              }\n            }\n          });\n        }\n\n        /***/\n      }),\n      /***/489: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        var $ = __webpack_require__(2109);\n        var fails = __webpack_require__(7293);\n        var toObject = __webpack_require__(7908);\n        var nativeGetPrototypeOf = __webpack_require__(9518);\n        var CORRECT_PROTOTYPE_GETTER = __webpack_require__(8544);\n        var FAILS_ON_PRIMITIVES = fails(function () {\n          nativeGetPrototypeOf(1);\n        });\n\n        // `Object.getPrototypeOf` method\n        // https://tc39.es/ecma262/#sec-object.getprototypeof\n        $({\n          target: 'Object',\n          stat: true,\n          forced: FAILS_ON_PRIMITIVES,\n          sham: !CORRECT_PROTOTYPE_GETTER\n        }, {\n          getPrototypeOf: function getPrototypeOf(it) {\n            return nativeGetPrototypeOf(toObject(it));\n          }\n        });\n\n        /***/\n      }),\n      /***/1539: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        var TO_STRING_TAG_SUPPORT = __webpack_require__(1694);\n        var redefine = __webpack_require__(1320);\n        var toString = __webpack_require__(288);\n\n        // `Object.prototype.toString` method\n        // https://tc39.es/ecma262/#sec-object.prototype.tostring\n        if (!TO_STRING_TAG_SUPPORT) {\n          redefine(Object.prototype, 'toString', toString, {\n            unsafe: true\n          });\n        }\n\n        /***/\n      }),\n      /***/4916: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var exec = __webpack_require__(2261);\n\n        // `RegExp.prototype.exec` method\n        // https://tc39.es/ecma262/#sec-regexp.prototype.exec\n        $({\n          target: 'RegExp',\n          proto: true,\n          forced: /./.exec !== exec\n        }, {\n          exec: exec\n        });\n\n        /***/\n      }),\n      /***/9714: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var redefine = __webpack_require__(1320);\n        var anObject = __webpack_require__(9670);\n        var fails = __webpack_require__(7293);\n        var flags = __webpack_require__(7066);\n        var TO_STRING = 'toString';\n        var RegExpPrototype = RegExp.prototype;\n        var nativeToString = RegExpPrototype[TO_STRING];\n        var NOT_GENERIC = fails(function () {\n          return nativeToString.call({\n            source: 'a',\n            flags: 'b'\n          }) != '/a/b';\n        });\n        // FF44- RegExp#toString has a wrong name\n        var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n        // `RegExp.prototype.toString` method\n        // https://tc39.es/ecma262/#sec-regexp.prototype.tostring\n        if (NOT_GENERIC || INCORRECT_NAME) {\n          redefine(RegExp.prototype, TO_STRING, function toString() {\n            var R = anObject(this);\n            var p = String(R.source);\n            var rf = R.flags;\n            var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n            return '/' + p + '/' + f;\n          }, {\n            unsafe: true\n          });\n        }\n\n        /***/\n      }),\n      /***/8783: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var charAt = __webpack_require__(8710).charAt;\n        var InternalStateModule = __webpack_require__(9909);\n        var defineIterator = __webpack_require__(654);\n        var STRING_ITERATOR = 'String Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n        // `String.prototype[@@iterator]` method\n        // https://tc39.es/ecma262/#sec-string.prototype-@@iterator\n        defineIterator(String, 'String', function (iterated) {\n          setInternalState(this, {\n            type: STRING_ITERATOR,\n            string: String(iterated),\n            index: 0\n          });\n          // `%StringIteratorPrototype%.next` method\n          // https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n        }, function next() {\n          var state = getInternalState(this);\n          var string = state.string;\n          var index = state.index;\n          var point;\n          if (index >= string.length) return {\n            value: undefined,\n            done: true\n          };\n          point = charAt(string, index);\n          state.index += point.length;\n          return {\n            value: point,\n            done: false\n          };\n        });\n\n        /***/\n      }),\n      /***/4723: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var fixRegExpWellKnownSymbolLogic = __webpack_require__(7007);\n        var anObject = __webpack_require__(9670);\n        var toLength = __webpack_require__(7466);\n        var requireObjectCoercible = __webpack_require__(4488);\n        var advanceStringIndex = __webpack_require__(1530);\n        var regExpExec = __webpack_require__(7651);\n\n        // @@match logic\n        fixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n          return [\n          // `String.prototype.match` method\n          // https://tc39.es/ecma262/#sec-string.prototype.match\n          function match(regexp) {\n            var O = requireObjectCoercible(this);\n            var matcher = regexp == undefined ? undefined : regexp[MATCH];\n            return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n          },\n          // `RegExp.prototype[@@match]` method\n          // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n          function (regexp) {\n            var res = maybeCallNative(nativeMatch, regexp, this);\n            if (res.done) return res.value;\n            var rx = anObject(regexp);\n            var S = String(this);\n            if (!rx.global) return regExpExec(rx, S);\n            var fullUnicode = rx.unicode;\n            rx.lastIndex = 0;\n            var A = [];\n            var n = 0;\n            var result;\n            while ((result = regExpExec(rx, S)) !== null) {\n              var matchStr = String(result[0]);\n              A[n] = matchStr;\n              if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n              n++;\n            }\n            return n === 0 ? null : A;\n          }];\n        });\n\n        /***/\n      }),\n      /***/5306: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var fixRegExpWellKnownSymbolLogic = __webpack_require__(7007);\n        var anObject = __webpack_require__(9670);\n        var toLength = __webpack_require__(7466);\n        var toInteger = __webpack_require__(9958);\n        var requireObjectCoercible = __webpack_require__(4488);\n        var advanceStringIndex = __webpack_require__(1530);\n        var getSubstitution = __webpack_require__(647);\n        var regExpExec = __webpack_require__(7651);\n        var max = Math.max;\n        var min = Math.min;\n        var maybeToString = function (it) {\n          return it === undefined ? it : String(it);\n        };\n\n        // @@replace logic\n        fixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n          var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n          var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n          var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n          return [\n          // `String.prototype.replace` method\n          // https://tc39.es/ecma262/#sec-string.prototype.replace\n          function replace(searchValue, replaceValue) {\n            var O = requireObjectCoercible(this);\n            var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n            return replacer !== undefined ? replacer.call(searchValue, O, replaceValue) : nativeReplace.call(String(O), searchValue, replaceValue);\n          },\n          // `RegExp.prototype[@@replace]` method\n          // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n          function (regexp, replaceValue) {\n            if (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0 || typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1) {\n              var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n              if (res.done) return res.value;\n            }\n            var rx = anObject(regexp);\n            var S = String(this);\n            var functionalReplace = typeof replaceValue === 'function';\n            if (!functionalReplace) replaceValue = String(replaceValue);\n            var global = rx.global;\n            if (global) {\n              var fullUnicode = rx.unicode;\n              rx.lastIndex = 0;\n            }\n            var results = [];\n            while (true) {\n              var result = regExpExec(rx, S);\n              if (result === null) break;\n              results.push(result);\n              if (!global) break;\n              var matchStr = String(result[0]);\n              if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n            }\n            var accumulatedResult = '';\n            var nextSourcePosition = 0;\n            for (var i = 0; i < results.length; i++) {\n              result = results[i];\n              var matched = String(result[0]);\n              var position = max(min(toInteger(result.index), S.length), 0);\n              var captures = [];\n              // NOTE: This is equivalent to\n              //   captures = result.slice(1).map(maybeToString)\n              // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n              // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n              // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n              for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n              var namedCaptures = result.groups;\n              if (functionalReplace) {\n                var replacerArgs = [matched].concat(captures, position, S);\n                if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n                var replacement = String(replaceValue.apply(undefined, replacerArgs));\n              } else {\n                replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n              }\n              if (position >= nextSourcePosition) {\n                accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n                nextSourcePosition = position + matched.length;\n              }\n            }\n            return accumulatedResult + S.slice(nextSourcePosition);\n          }];\n        });\n\n        /***/\n      }),\n      /***/3123: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var fixRegExpWellKnownSymbolLogic = __webpack_require__(7007);\n        var isRegExp = __webpack_require__(7850);\n        var anObject = __webpack_require__(9670);\n        var requireObjectCoercible = __webpack_require__(4488);\n        var speciesConstructor = __webpack_require__(6707);\n        var advanceStringIndex = __webpack_require__(1530);\n        var toLength = __webpack_require__(7466);\n        var callRegExpExec = __webpack_require__(7651);\n        var regexpExec = __webpack_require__(2261);\n        var fails = __webpack_require__(7293);\n        var arrayPush = [].push;\n        var min = Math.min;\n        var MAX_UINT32 = 0xFFFFFFFF;\n\n        // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n        var SUPPORTS_Y = !fails(function () {\n          return !RegExp(MAX_UINT32, 'y');\n        });\n\n        // @@split logic\n        fixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n          var internalSplit;\n          if ('abbc'.split(/(b)*/)[1] == 'c' ||\n          // eslint-disable-next-line regexp/no-empty-group -- required for testing\n          'test'.split(/(?:)/, -1).length != 4 || 'ab'.split(/(?:ab)*/).length != 2 || '.'.split(/(.?)(.?)/).length != 4 ||\n          // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n          '.'.split(/()()/).length > 1 || ''.split(/.?/).length) {\n            // based on es5-shim implementation, need to rework it\n            internalSplit = function (separator, limit) {\n              var string = String(requireObjectCoercible(this));\n              var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n              if (lim === 0) return [];\n              if (separator === undefined) return [string];\n              // If `separator` is not a regex, use native split\n              if (!isRegExp(separator)) {\n                return nativeSplit.call(string, separator, lim);\n              }\n              var output = [];\n              var flags = (separator.ignoreCase ? 'i' : '') + (separator.multiline ? 'm' : '') + (separator.unicode ? 'u' : '') + (separator.sticky ? 'y' : '');\n              var lastLastIndex = 0;\n              // Make `global` and avoid `lastIndex` issues by working with a copy\n              var separatorCopy = new RegExp(separator.source, flags + 'g');\n              var match, lastIndex, lastLength;\n              while (match = regexpExec.call(separatorCopy, string)) {\n                lastIndex = separatorCopy.lastIndex;\n                if (lastIndex > lastLastIndex) {\n                  output.push(string.slice(lastLastIndex, match.index));\n                  if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n                  lastLength = match[0].length;\n                  lastLastIndex = lastIndex;\n                  if (output.length >= lim) break;\n                }\n                if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n              }\n              if (lastLastIndex === string.length) {\n                if (lastLength || !separatorCopy.test('')) output.push('');\n              } else output.push(string.slice(lastLastIndex));\n              return output.length > lim ? output.slice(0, lim) : output;\n            };\n            // Chakra, V8\n          } else if ('0'.split(undefined, 0).length) {\n            internalSplit = function (separator, limit) {\n              return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n            };\n          } else internalSplit = nativeSplit;\n          return [\n          // `String.prototype.split` method\n          // https://tc39.es/ecma262/#sec-string.prototype.split\n          function split(separator, limit) {\n            var O = requireObjectCoercible(this);\n            var splitter = separator == undefined ? undefined : separator[SPLIT];\n            return splitter !== undefined ? splitter.call(separator, O, limit) : internalSplit.call(String(O), separator, limit);\n          },\n          // `RegExp.prototype[@@split]` method\n          // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n          //\n          // NOTE: This cannot be properly polyfilled in engines that don't support\n          // the 'y' flag.\n          function (regexp, limit) {\n            var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n            if (res.done) return res.value;\n            var rx = anObject(regexp);\n            var S = String(this);\n            var C = speciesConstructor(rx, RegExp);\n            var unicodeMatching = rx.unicode;\n            var flags = (rx.ignoreCase ? 'i' : '') + (rx.multiline ? 'm' : '') + (rx.unicode ? 'u' : '') + (SUPPORTS_Y ? 'y' : 'g');\n\n            // ^(? + rx + ) is needed, in combination with some S slicing, to\n            // simulate the 'y' flag.\n            var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n            var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n            if (lim === 0) return [];\n            if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n            var p = 0;\n            var q = 0;\n            var A = [];\n            while (q < S.length) {\n              splitter.lastIndex = SUPPORTS_Y ? q : 0;\n              var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n              var e;\n              if (z === null || (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p) {\n                q = advanceStringIndex(S, q, unicodeMatching);\n              } else {\n                A.push(S.slice(p, q));\n                if (A.length === lim) return A;\n                for (var i = 1; i <= z.length - 1; i++) {\n                  A.push(z[i]);\n                  if (A.length === lim) return A;\n                }\n                q = p = e;\n              }\n            }\n            A.push(S.slice(p));\n            return A;\n          }];\n        }, !SUPPORTS_Y);\n\n        /***/\n      }),\n      /***/3210: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(2109);\n        var $trim = __webpack_require__(3111).trim;\n        var forcedStringTrimMethod = __webpack_require__(6091);\n\n        // `String.prototype.trim` method\n        // https://tc39.es/ecma262/#sec-string.prototype.trim\n        $({\n          target: 'String',\n          proto: true,\n          forced: forcedStringTrimMethod('trim')\n        }, {\n          trim: function trim() {\n            return $trim(this);\n          }\n        });\n\n        /***/\n      }),\n      /***/2990: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $copyWithin = __webpack_require__(1048);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.copyWithin` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin\n        exportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n          return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n        });\n\n        /***/\n      }),\n      /***/8927: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $every = __webpack_require__(2092).every;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.every` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.every\n        exportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n          return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/3105: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $fill = __webpack_require__(1285);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.fill` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill\n        // eslint-disable-next-line no-unused-vars -- required for `.length`\n        exportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n          return $fill.apply(aTypedArray(this), arguments);\n        });\n\n        /***/\n      }),\n      /***/5035: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $filter = __webpack_require__(2092).filter;\n        var fromSpeciesAndList = __webpack_require__(3074);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.filter` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter\n        exportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n          var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n          return fromSpeciesAndList(this, list);\n        });\n\n        /***/\n      }),\n      /***/7174: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $findIndex = __webpack_require__(2092).findIndex;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.findIndex` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex\n        exportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n          return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/4345: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $find = __webpack_require__(2092).find;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.find` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.find\n        exportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n          return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/2846: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $forEach = __webpack_require__(2092).forEach;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.forEach` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach\n        exportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n          $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/4731: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $includes = __webpack_require__(1318).includes;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.includes` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes\n        exportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n          return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/7209: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $indexOf = __webpack_require__(1318).indexOf;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.indexOf` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof\n        exportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n          return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/6319: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var global = __webpack_require__(7854);\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var ArrayIterators = __webpack_require__(6992);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var ITERATOR = wellKnownSymbol('iterator');\n        var Uint8Array = global.Uint8Array;\n        var arrayValues = ArrayIterators.values;\n        var arrayKeys = ArrayIterators.keys;\n        var arrayEntries = ArrayIterators.entries;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n        var CORRECT_ITER_NAME = !!nativeTypedArrayIterator && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n        var typedArrayValues = function values() {\n          return arrayValues.call(aTypedArray(this));\n        };\n\n        // `%TypedArray%.prototype.entries` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\n        exportTypedArrayMethod('entries', function entries() {\n          return arrayEntries.call(aTypedArray(this));\n        });\n        // `%TypedArray%.prototype.keys` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys\n        exportTypedArrayMethod('keys', function keys() {\n          return arrayKeys.call(aTypedArray(this));\n        });\n        // `%TypedArray%.prototype.values` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\n        exportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n        // `%TypedArray%.prototype[@@iterator]` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator\n        exportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n\n        /***/\n      }),\n      /***/8867: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var $join = [].join;\n\n        // `%TypedArray%.prototype.join` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.join\n        // eslint-disable-next-line no-unused-vars -- required for `.length`\n        exportTypedArrayMethod('join', function join(separator) {\n          return $join.apply(aTypedArray(this), arguments);\n        });\n\n        /***/\n      }),\n      /***/7789: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $lastIndexOf = __webpack_require__(6583);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.lastIndexOf` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof\n        // eslint-disable-next-line no-unused-vars -- required for `.length`\n        exportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n          return $lastIndexOf.apply(aTypedArray(this), arguments);\n        });\n\n        /***/\n      }),\n      /***/3739: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $map = __webpack_require__(2092).map;\n        var speciesConstructor = __webpack_require__(6707);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.map` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.map\n        exportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n          return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n            return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n          });\n        });\n\n        /***/\n      }),\n      /***/4483: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $reduceRight = __webpack_require__(3671).right;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.reduceRicht` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright\n        exportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n          return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/9368: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $reduce = __webpack_require__(3671).left;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.reduce` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce\n        exportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n          return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/2056: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var floor = Math.floor;\n\n        // `%TypedArray%.prototype.reverse` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse\n        exportTypedArrayMethod('reverse', function reverse() {\n          var that = this;\n          var length = aTypedArray(that).length;\n          var middle = floor(length / 2);\n          var index = 0;\n          var value;\n          while (index < middle) {\n            value = that[index];\n            that[index++] = that[--length];\n            that[length] = value;\n          }\n          return that;\n        });\n\n        /***/\n      }),\n      /***/3462: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var toLength = __webpack_require__(7466);\n        var toOffset = __webpack_require__(4590);\n        var toObject = __webpack_require__(7908);\n        var fails = __webpack_require__(7293);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var FORCED = fails(function () {\n          /* global Int8Array -- safe */\n          new Int8Array(1).set({});\n        });\n\n        // `%TypedArray%.prototype.set` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\n        exportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n          aTypedArray(this);\n          var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n          var length = this.length;\n          var src = toObject(arrayLike);\n          var len = toLength(src.length);\n          var index = 0;\n          if (len + offset > length) throw RangeError('Wrong length');\n          while (index < len) this[offset + index] = src[index++];\n        }, FORCED);\n\n        /***/\n      }),\n      /***/678: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var speciesConstructor = __webpack_require__(6707);\n        var fails = __webpack_require__(7293);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var $slice = [].slice;\n        var FORCED = fails(function () {\n          /* global Int8Array -- safe */\n          new Int8Array(1).slice();\n        });\n\n        // `%TypedArray%.prototype.slice` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice\n        exportTypedArrayMethod('slice', function slice(start, end) {\n          var list = $slice.call(aTypedArray(this), start, end);\n          var C = speciesConstructor(this, this.constructor);\n          var index = 0;\n          var length = list.length;\n          var result = new (aTypedArrayConstructor(C))(length);\n          while (length > index) result[index] = list[index++];\n          return result;\n        }, FORCED);\n\n        /***/\n      }),\n      /***/7462: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var $some = __webpack_require__(2092).some;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.some` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.some\n        exportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n          return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        });\n\n        /***/\n      }),\n      /***/3824: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var $sort = [].sort;\n\n        // `%TypedArray%.prototype.sort` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\n        exportTypedArrayMethod('sort', function sort(comparefn) {\n          return $sort.call(aTypedArray(this), comparefn);\n        });\n\n        /***/\n      }),\n      /***/5021: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var toLength = __webpack_require__(7466);\n        var toAbsoluteIndex = __webpack_require__(1400);\n        var speciesConstructor = __webpack_require__(6707);\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n        // `%TypedArray%.prototype.subarray` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray\n        exportTypedArrayMethod('subarray', function subarray(begin, end) {\n          var O = aTypedArray(this);\n          var length = O.length;\n          var beginIndex = toAbsoluteIndex(begin, length);\n          return new (speciesConstructor(O, O.constructor))(O.buffer, O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT, toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex));\n        });\n\n        /***/\n      }),\n      /***/2974: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var global = __webpack_require__(7854);\n        var ArrayBufferViewCore = __webpack_require__(260);\n        var fails = __webpack_require__(7293);\n        var Int8Array = global.Int8Array;\n        var aTypedArray = ArrayBufferViewCore.aTypedArray;\n        var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n        var $toLocaleString = [].toLocaleString;\n        var $slice = [].slice;\n\n        // iOS Safari 6.x fails here\n        var TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n          $toLocaleString.call(new Int8Array(1));\n        });\n        var FORCED = fails(function () {\n          return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n        }) || !fails(function () {\n          Int8Array.prototype.toLocaleString.call([1, 2]);\n        });\n\n        // `%TypedArray%.prototype.toLocaleString` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring\n        exportTypedArrayMethod('toLocaleString', function toLocaleString() {\n          return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n        }, FORCED);\n\n        /***/\n      }),\n      /***/5016: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        var exportTypedArrayMethod = __webpack_require__(260).exportTypedArrayMethod;\n        var fails = __webpack_require__(7293);\n        var global = __webpack_require__(7854);\n        var Uint8Array = global.Uint8Array;\n        var Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\n        var arrayToString = [].toString;\n        var arrayJoin = [].join;\n        if (fails(function () {\n          arrayToString.call({});\n        })) {\n          arrayToString = function toString() {\n            return arrayJoin.call(this);\n          };\n        }\n        var IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n        // `%TypedArray%.prototype.toString` method\n        // https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring\n        exportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n\n        /***/\n      }),\n      /***/2472: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        var createTypedArrayConstructor = __webpack_require__(9843);\n\n        // `Uint8Array` constructor\n        // https://tc39.es/ecma262/#sec-typedarray-objects\n        createTypedArrayConstructor('Uint8', function (init) {\n          return function Uint8Array(data, byteOffset, length) {\n            return init(this, data, byteOffset, length);\n          };\n        });\n\n        /***/\n      }),\n      /***/4747: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var DOMIterables = __webpack_require__(8324);\n        var forEach = __webpack_require__(8533);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        for (var COLLECTION_NAME in DOMIterables) {\n          var Collection = global[COLLECTION_NAME];\n          var CollectionPrototype = Collection && Collection.prototype;\n          // some Chrome versions have non-configurable methods on DOMTokenList\n          if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n            createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n          } catch (error) {\n            CollectionPrototype.forEach = forEach;\n          }\n        }\n\n        /***/\n      }),\n      /***/3948: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        var global = __webpack_require__(7854);\n        var DOMIterables = __webpack_require__(8324);\n        var ArrayIteratorMethods = __webpack_require__(6992);\n        var createNonEnumerableProperty = __webpack_require__(8880);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var ITERATOR = wellKnownSymbol('iterator');\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        var ArrayValues = ArrayIteratorMethods.values;\n        for (var COLLECTION_NAME in DOMIterables) {\n          var Collection = global[COLLECTION_NAME];\n          var CollectionPrototype = Collection && Collection.prototype;\n          if (CollectionPrototype) {\n            // some Chrome versions have non-configurable methods on DOMTokenList\n            if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n              createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n            } catch (error) {\n              CollectionPrototype[ITERATOR] = ArrayValues;\n            }\n            if (!CollectionPrototype[TO_STRING_TAG]) {\n              createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n            }\n            if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n              // some Chrome versions have non-configurable methods on DOMTokenList\n              if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n                createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n              } catch (error) {\n                CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n              }\n            }\n          }\n        }\n\n        /***/\n      }),\n      /***/1637: (/***/function (module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n        __webpack_require__(6992);\n        var $ = __webpack_require__(2109);\n        var getBuiltIn = __webpack_require__(5005);\n        var USE_NATIVE_URL = __webpack_require__(590);\n        var redefine = __webpack_require__(1320);\n        var redefineAll = __webpack_require__(2248);\n        var setToStringTag = __webpack_require__(8003);\n        var createIteratorConstructor = __webpack_require__(4994);\n        var InternalStateModule = __webpack_require__(9909);\n        var anInstance = __webpack_require__(5787);\n        var hasOwn = __webpack_require__(6656);\n        var bind = __webpack_require__(9974);\n        var classof = __webpack_require__(648);\n        var anObject = __webpack_require__(9670);\n        var isObject = __webpack_require__(111);\n        var create = __webpack_require__(30);\n        var createPropertyDescriptor = __webpack_require__(9114);\n        var getIterator = __webpack_require__(8554);\n        var getIteratorMethod = __webpack_require__(1246);\n        var wellKnownSymbol = __webpack_require__(5112);\n        var $fetch = getBuiltIn('fetch');\n        var Headers = getBuiltIn('Headers');\n        var ITERATOR = wellKnownSymbol('iterator');\n        var URL_SEARCH_PARAMS = 'URLSearchParams';\n        var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\n        var getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n        var plus = /\\+/g;\n        var sequences = Array(4);\n        var percentSequence = function (bytes) {\n          return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n        };\n        var percentDecode = function (sequence) {\n          try {\n            return decodeURIComponent(sequence);\n          } catch (error) {\n            return sequence;\n          }\n        };\n        var deserialize = function (it) {\n          var result = it.replace(plus, ' ');\n          var bytes = 4;\n          try {\n            return decodeURIComponent(result);\n          } catch (error) {\n            while (bytes) {\n              result = result.replace(percentSequence(bytes--), percentDecode);\n            }\n            return result;\n          }\n        };\n        var find = /[!'()~]|%20/g;\n        var replace = {\n          '!': '%21',\n          \"'\": '%27',\n          '(': '%28',\n          ')': '%29',\n          '~': '%7E',\n          '%20': '+'\n        };\n        var replacer = function (match) {\n          return replace[match];\n        };\n        var serialize = function (it) {\n          return encodeURIComponent(it).replace(find, replacer);\n        };\n        var parseSearchParams = function (result, query) {\n          if (query) {\n            var attributes = query.split('&');\n            var index = 0;\n            var attribute, entry;\n            while (index < attributes.length) {\n              attribute = attributes[index++];\n              if (attribute.length) {\n                entry = attribute.split('=');\n                result.push({\n                  key: deserialize(entry.shift()),\n                  value: deserialize(entry.join('='))\n                });\n              }\n            }\n          }\n        };\n        var updateSearchParams = function (query) {\n          this.entries.length = 0;\n          parseSearchParams(this.entries, query);\n        };\n        var validateArgumentsLength = function (passed, required) {\n          if (passed < required) throw TypeError('Not enough arguments');\n        };\n        var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n          setInternalState(this, {\n            type: URL_SEARCH_PARAMS_ITERATOR,\n            iterator: getIterator(getInternalParamsState(params).entries),\n            kind: kind\n          });\n        }, 'Iterator', function next() {\n          var state = getInternalIteratorState(this);\n          var kind = state.kind;\n          var step = state.iterator.next();\n          var entry = step.value;\n          if (!step.done) {\n            step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n          }\n          return step;\n        });\n\n        // `URLSearchParams` constructor\n        // https://url.spec.whatwg.org/#interface-urlsearchparams\n        var URLSearchParamsConstructor = function URLSearchParams(/* init */\n        ) {\n          anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n          var init = arguments.length > 0 ? arguments[0] : undefined;\n          var that = this;\n          var entries = [];\n          var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n          setInternalState(that, {\n            type: URL_SEARCH_PARAMS,\n            entries: entries,\n            updateURL: function () {/* empty */},\n            updateSearchParams: updateSearchParams\n          });\n          if (init !== undefined) {\n            if (isObject(init)) {\n              iteratorMethod = getIteratorMethod(init);\n              if (typeof iteratorMethod === 'function') {\n                iterator = iteratorMethod.call(init);\n                next = iterator.next;\n                while (!(step = next.call(iterator)).done) {\n                  entryIterator = getIterator(anObject(step.value));\n                  entryNext = entryIterator.next;\n                  if ((first = entryNext.call(entryIterator)).done || (second = entryNext.call(entryIterator)).done || !entryNext.call(entryIterator).done) throw TypeError('Expected sequence with length 2');\n                  entries.push({\n                    key: first.value + '',\n                    value: second.value + ''\n                  });\n                }\n              } else for (key in init) if (hasOwn(init, key)) entries.push({\n                key: key,\n                value: init[key] + ''\n              });\n            } else {\n              parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n            }\n          }\n        };\n        var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n        redefineAll(URLSearchParamsPrototype, {\n          // `URLSearchParams.prototype.append` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n          append: function append(name, value) {\n            validateArgumentsLength(arguments.length, 2);\n            var state = getInternalParamsState(this);\n            state.entries.push({\n              key: name + '',\n              value: value + ''\n            });\n            state.updateURL();\n          },\n          // `URLSearchParams.prototype.delete` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n          'delete': function (name) {\n            validateArgumentsLength(arguments.length, 1);\n            var state = getInternalParamsState(this);\n            var entries = state.entries;\n            var key = name + '';\n            var index = 0;\n            while (index < entries.length) {\n              if (entries[index].key === key) entries.splice(index, 1);else index++;\n            }\n            state.updateURL();\n          },\n          // `URLSearchParams.prototype.get` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n          get: function get(name) {\n            validateArgumentsLength(arguments.length, 1);\n            var entries = getInternalParamsState(this).entries;\n            var key = name + '';\n            var index = 0;\n            for (; index < entries.length; index++) {\n              if (entries[index].key === key) return entries[index].value;\n            }\n            return null;\n          },\n          // `URLSearchParams.prototype.getAll` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n          getAll: function getAll(name) {\n            validateArgumentsLength(arguments.length, 1);\n            var entries = getInternalParamsState(this).entries;\n            var key = name + '';\n            var result = [];\n            var index = 0;\n            for (; index < entries.length; index++) {\n              if (entries[index].key === key) result.push(entries[index].value);\n            }\n            return result;\n          },\n          // `URLSearchParams.prototype.has` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n          has: function has(name) {\n            validateArgumentsLength(arguments.length, 1);\n            var entries = getInternalParamsState(this).entries;\n            var key = name + '';\n            var index = 0;\n            while (index < entries.length) {\n              if (entries[index++].key === key) return true;\n            }\n            return false;\n          },\n          // `URLSearchParams.prototype.set` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n          set: function set(name, value) {\n            validateArgumentsLength(arguments.length, 1);\n            var state = getInternalParamsState(this);\n            var entries = state.entries;\n            var found = false;\n            var key = name + '';\n            var val = value + '';\n            var index = 0;\n            var entry;\n            for (; index < entries.length; index++) {\n              entry = entries[index];\n              if (entry.key === key) {\n                if (found) entries.splice(index--, 1);else {\n                  found = true;\n                  entry.value = val;\n                }\n              }\n            }\n            if (!found) entries.push({\n              key: key,\n              value: val\n            });\n            state.updateURL();\n          },\n          // `URLSearchParams.prototype.sort` method\n          // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n          sort: function sort() {\n            var state = getInternalParamsState(this);\n            var entries = state.entries;\n            // Array#sort is not stable in some engines\n            var slice = entries.slice();\n            var entry, entriesIndex, sliceIndex;\n            entries.length = 0;\n            for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n              entry = slice[sliceIndex];\n              for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n                if (entries[entriesIndex].key > entry.key) {\n                  entries.splice(entriesIndex, 0, entry);\n                  break;\n                }\n              }\n              if (entriesIndex === sliceIndex) entries.push(entry);\n            }\n            state.updateURL();\n          },\n          // `URLSearchParams.prototype.forEach` method\n          forEach: function forEach(callback /* , thisArg */) {\n            var entries = getInternalParamsState(this).entries;\n            var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n            var index = 0;\n            var entry;\n            while (index < entries.length) {\n              entry = entries[index++];\n              boundFunction(entry.value, entry.key, this);\n            }\n          },\n          // `URLSearchParams.prototype.keys` method\n          keys: function keys() {\n            return new URLSearchParamsIterator(this, 'keys');\n          },\n          // `URLSearchParams.prototype.values` method\n          values: function values() {\n            return new URLSearchParamsIterator(this, 'values');\n          },\n          // `URLSearchParams.prototype.entries` method\n          entries: function entries() {\n            return new URLSearchParamsIterator(this, 'entries');\n          }\n        }, {\n          enumerable: true\n        });\n\n        // `URLSearchParams.prototype[@@iterator]` method\n        redefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n        // `URLSearchParams.prototype.toString` method\n        // https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\n        redefine(URLSearchParamsPrototype, 'toString', function toString() {\n          var entries = getInternalParamsState(this).entries;\n          var result = [];\n          var index = 0;\n          var entry;\n          while (index < entries.length) {\n            entry = entries[index++];\n            result.push(serialize(entry.key) + '=' + serialize(entry.value));\n          }\n          return result.join('&');\n        }, {\n          enumerable: true\n        });\n        setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n        $({\n          global: true,\n          forced: !USE_NATIVE_URL\n        }, {\n          URLSearchParams: URLSearchParamsConstructor\n        });\n\n        // Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n        // https://github.com/zloirock/core-js/issues/674\n        if (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n          $({\n            global: true,\n            enumerable: true,\n            forced: true\n          }, {\n            fetch: function fetch(input /* , init */) {\n              var args = [input];\n              var init, body, headers;\n              if (arguments.length > 1) {\n                init = arguments[1];\n                if (isObject(init)) {\n                  body = init.body;\n                  if (classof(body) === URL_SEARCH_PARAMS) {\n                    headers = init.headers ? new Headers(init.headers) : new Headers();\n                    if (!headers.has('content-type')) {\n                      headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n                    }\n                    init = create(init, {\n                      body: createPropertyDescriptor(0, String(body)),\n                      headers: createPropertyDescriptor(0, headers)\n                    });\n                  }\n                }\n                args.push(init);\n              }\n              return $fetch.apply(this, args);\n            }\n          });\n        }\n        module.exports = {\n          URLSearchParams: URLSearchParamsConstructor,\n          getState: getInternalParamsState\n        };\n\n        /***/\n      }),\n      /***/285: (/***/function (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n        \"use strict\";\n\n        // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n        __webpack_require__(8783);\n        var $ = __webpack_require__(2109);\n        var DESCRIPTORS = __webpack_require__(9781);\n        var USE_NATIVE_URL = __webpack_require__(590);\n        var global = __webpack_require__(7854);\n        var defineProperties = __webpack_require__(6048);\n        var redefine = __webpack_require__(1320);\n        var anInstance = __webpack_require__(5787);\n        var has = __webpack_require__(6656);\n        var assign = __webpack_require__(1574);\n        var arrayFrom = __webpack_require__(8457);\n        var codeAt = __webpack_require__(8710).codeAt;\n        var toASCII = __webpack_require__(3197);\n        var setToStringTag = __webpack_require__(8003);\n        var URLSearchParamsModule = __webpack_require__(1637);\n        var InternalStateModule = __webpack_require__(9909);\n        var NativeURL = global.URL;\n        var URLSearchParams = URLSearchParamsModule.URLSearchParams;\n        var getInternalSearchParamsState = URLSearchParamsModule.getState;\n        var setInternalState = InternalStateModule.set;\n        var getInternalURLState = InternalStateModule.getterFor('URL');\n        var floor = Math.floor;\n        var pow = Math.pow;\n        var INVALID_AUTHORITY = 'Invalid authority';\n        var INVALID_SCHEME = 'Invalid scheme';\n        var INVALID_HOST = 'Invalid host';\n        var INVALID_PORT = 'Invalid port';\n        var ALPHA = /[A-Za-z]/;\n        var ALPHANUMERIC = /[\\d+-.A-Za-z]/;\n        var DIGIT = /\\d/;\n        var HEX_START = /^(0x|0X)/;\n        var OCT = /^[0-7]+$/;\n        var DEC = /^\\d+$/;\n        var HEX = /^[\\dA-Fa-f]+$/;\n        /* eslint-disable no-control-regex -- safe */\n        var FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\t\\u000A\\u000D #%/:?@[\\\\]]/;\n        var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\t\\u000A\\u000D #/:?@[\\\\]]/;\n        var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n        var TAB_AND_NEW_LINE = /[\\t\\u000A\\u000D]/g;\n        /* eslint-enable no-control-regex -- safe */\n        var EOF;\n        var parseHost = function (url, input) {\n          var result, codePoints, index;\n          if (input.charAt(0) == '[') {\n            if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n            result = parseIPv6(input.slice(1, -1));\n            if (!result) return INVALID_HOST;\n            url.host = result;\n            // opaque host\n          } else if (!isSpecial(url)) {\n            if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n            result = '';\n            codePoints = arrayFrom(input);\n            for (index = 0; index < codePoints.length; index++) {\n              result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n            }\n            url.host = result;\n          } else {\n            input = toASCII(input);\n            if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n            result = parseIPv4(input);\n            if (result === null) return INVALID_HOST;\n            url.host = result;\n          }\n        };\n        var parseIPv4 = function (input) {\n          var parts = input.split('.');\n          var partsLength, numbers, index, part, radix, number, ipv4;\n          if (parts.length && parts[parts.length - 1] == '') {\n            parts.pop();\n          }\n          partsLength = parts.length;\n          if (partsLength > 4) return input;\n          numbers = [];\n          for (index = 0; index < partsLength; index++) {\n            part = parts[index];\n            if (part == '') return input;\n            radix = 10;\n            if (part.length > 1 && part.charAt(0) == '0') {\n              radix = HEX_START.test(part) ? 16 : 8;\n              part = part.slice(radix == 8 ? 1 : 2);\n            }\n            if (part === '') {\n              number = 0;\n            } else {\n              if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n              number = parseInt(part, radix);\n            }\n            numbers.push(number);\n          }\n          for (index = 0; index < partsLength; index++) {\n            number = numbers[index];\n            if (index == partsLength - 1) {\n              if (number >= pow(256, 5 - partsLength)) return null;\n            } else if (number > 255) return null;\n          }\n          ipv4 = numbers.pop();\n          for (index = 0; index < numbers.length; index++) {\n            ipv4 += numbers[index] * pow(256, 3 - index);\n          }\n          return ipv4;\n        };\n\n        // eslint-disable-next-line max-statements -- TODO\n        var parseIPv6 = function (input) {\n          var address = [0, 0, 0, 0, 0, 0, 0, 0];\n          var pieceIndex = 0;\n          var compress = null;\n          var pointer = 0;\n          var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n          var char = function () {\n            return input.charAt(pointer);\n          };\n          if (char() == ':') {\n            if (input.charAt(1) != ':') return;\n            pointer += 2;\n            pieceIndex++;\n            compress = pieceIndex;\n          }\n          while (char()) {\n            if (pieceIndex == 8) return;\n            if (char() == ':') {\n              if (compress !== null) return;\n              pointer++;\n              pieceIndex++;\n              compress = pieceIndex;\n              continue;\n            }\n            value = length = 0;\n            while (length < 4 && HEX.test(char())) {\n              value = value * 16 + parseInt(char(), 16);\n              pointer++;\n              length++;\n            }\n            if (char() == '.') {\n              if (length == 0) return;\n              pointer -= length;\n              if (pieceIndex > 6) return;\n              numbersSeen = 0;\n              while (char()) {\n                ipv4Piece = null;\n                if (numbersSeen > 0) {\n                  if (char() == '.' && numbersSeen < 4) pointer++;else return;\n                }\n                if (!DIGIT.test(char())) return;\n                while (DIGIT.test(char())) {\n                  number = parseInt(char(), 10);\n                  if (ipv4Piece === null) ipv4Piece = number;else if (ipv4Piece == 0) return;else ipv4Piece = ipv4Piece * 10 + number;\n                  if (ipv4Piece > 255) return;\n                  pointer++;\n                }\n                address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n                numbersSeen++;\n                if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n              }\n              if (numbersSeen != 4) return;\n              break;\n            } else if (char() == ':') {\n              pointer++;\n              if (!char()) return;\n            } else if (char()) return;\n            address[pieceIndex++] = value;\n          }\n          if (compress !== null) {\n            swaps = pieceIndex - compress;\n            pieceIndex = 7;\n            while (pieceIndex != 0 && swaps > 0) {\n              swap = address[pieceIndex];\n              address[pieceIndex--] = address[compress + swaps - 1];\n              address[compress + --swaps] = swap;\n            }\n          } else if (pieceIndex != 8) return;\n          return address;\n        };\n        var findLongestZeroSequence = function (ipv6) {\n          var maxIndex = null;\n          var maxLength = 1;\n          var currStart = null;\n          var currLength = 0;\n          var index = 0;\n          for (; index < 8; index++) {\n            if (ipv6[index] !== 0) {\n              if (currLength > maxLength) {\n                maxIndex = currStart;\n                maxLength = currLength;\n              }\n              currStart = null;\n              currLength = 0;\n            } else {\n              if (currStart === null) currStart = index;\n              ++currLength;\n            }\n          }\n          if (currLength > maxLength) {\n            maxIndex = currStart;\n            maxLength = currLength;\n          }\n          return maxIndex;\n        };\n        var serializeHost = function (host) {\n          var result, index, compress, ignore0;\n          // ipv4\n          if (typeof host == 'number') {\n            result = [];\n            for (index = 0; index < 4; index++) {\n              result.unshift(host % 256);\n              host = floor(host / 256);\n            }\n            return result.join('.');\n            // ipv6\n          } else if (typeof host == 'object') {\n            result = '';\n            compress = findLongestZeroSequence(host);\n            for (index = 0; index < 8; index++) {\n              if (ignore0 && host[index] === 0) continue;\n              if (ignore0) ignore0 = false;\n              if (compress === index) {\n                result += index ? ':' : '::';\n                ignore0 = true;\n              } else {\n                result += host[index].toString(16);\n                if (index < 7) result += ':';\n              }\n            }\n            return '[' + result + ']';\n          }\n          return host;\n        };\n        var C0ControlPercentEncodeSet = {};\n        var fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n          ' ': 1,\n          '\"': 1,\n          '<': 1,\n          '>': 1,\n          '`': 1\n        });\n        var pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n          '#': 1,\n          '?': 1,\n          '{': 1,\n          '}': 1\n        });\n        var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n          '/': 1,\n          ':': 1,\n          ';': 1,\n          '=': 1,\n          '@': 1,\n          '[': 1,\n          '\\\\': 1,\n          ']': 1,\n          '^': 1,\n          '|': 1\n        });\n        var percentEncode = function (char, set) {\n          var code = codeAt(char, 0);\n          return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n        };\n        var specialSchemes = {\n          ftp: 21,\n          file: null,\n          http: 80,\n          https: 443,\n          ws: 80,\n          wss: 443\n        };\n        var isSpecial = function (url) {\n          return has(specialSchemes, url.scheme);\n        };\n        var includesCredentials = function (url) {\n          return url.username != '' || url.password != '';\n        };\n        var cannotHaveUsernamePasswordPort = function (url) {\n          return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n        };\n        var isWindowsDriveLetter = function (string, normalized) {\n          var second;\n          return string.length == 2 && ALPHA.test(string.charAt(0)) && ((second = string.charAt(1)) == ':' || !normalized && second == '|');\n        };\n        var startsWithWindowsDriveLetter = function (string) {\n          var third;\n          return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (string.length == 2 || (third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#');\n        };\n        var shortenURLsPath = function (url) {\n          var path = url.path;\n          var pathSize = path.length;\n          if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n            path.pop();\n          }\n        };\n        var isSingleDot = function (segment) {\n          return segment === '.' || segment.toLowerCase() === '%2e';\n        };\n        var isDoubleDot = function (segment) {\n          segment = segment.toLowerCase();\n          return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n        };\n\n        // States:\n        var SCHEME_START = {};\n        var SCHEME = {};\n        var NO_SCHEME = {};\n        var SPECIAL_RELATIVE_OR_AUTHORITY = {};\n        var PATH_OR_AUTHORITY = {};\n        var RELATIVE = {};\n        var RELATIVE_SLASH = {};\n        var SPECIAL_AUTHORITY_SLASHES = {};\n        var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\n        var AUTHORITY = {};\n        var HOST = {};\n        var HOSTNAME = {};\n        var PORT = {};\n        var FILE = {};\n        var FILE_SLASH = {};\n        var FILE_HOST = {};\n        var PATH_START = {};\n        var PATH = {};\n        var CANNOT_BE_A_BASE_URL_PATH = {};\n        var QUERY = {};\n        var FRAGMENT = {};\n\n        // eslint-disable-next-line max-statements -- TODO\n        var parseURL = function (url, input, stateOverride, base) {\n          var state = stateOverride || SCHEME_START;\n          var pointer = 0;\n          var buffer = '';\n          var seenAt = false;\n          var seenBracket = false;\n          var seenPasswordToken = false;\n          var codePoints, char, bufferCodePoints, failure;\n          if (!stateOverride) {\n            url.scheme = '';\n            url.username = '';\n            url.password = '';\n            url.host = null;\n            url.port = null;\n            url.path = [];\n            url.query = null;\n            url.fragment = null;\n            url.cannotBeABaseURL = false;\n            input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n          }\n          input = input.replace(TAB_AND_NEW_LINE, '');\n          codePoints = arrayFrom(input);\n          while (pointer <= codePoints.length) {\n            char = codePoints[pointer];\n            switch (state) {\n              case SCHEME_START:\n                if (char && ALPHA.test(char)) {\n                  buffer += char.toLowerCase();\n                  state = SCHEME;\n                } else if (!stateOverride) {\n                  state = NO_SCHEME;\n                  continue;\n                } else return INVALID_SCHEME;\n                break;\n              case SCHEME:\n                if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n                  buffer += char.toLowerCase();\n                } else if (char == ':') {\n                  if (stateOverride && (isSpecial(url) != has(specialSchemes, buffer) || buffer == 'file' && (includesCredentials(url) || url.port !== null) || url.scheme == 'file' && !url.host)) return;\n                  url.scheme = buffer;\n                  if (stateOverride) {\n                    if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n                    return;\n                  }\n                  buffer = '';\n                  if (url.scheme == 'file') {\n                    state = FILE;\n                  } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n                    state = SPECIAL_RELATIVE_OR_AUTHORITY;\n                  } else if (isSpecial(url)) {\n                    state = SPECIAL_AUTHORITY_SLASHES;\n                  } else if (codePoints[pointer + 1] == '/') {\n                    state = PATH_OR_AUTHORITY;\n                    pointer++;\n                  } else {\n                    url.cannotBeABaseURL = true;\n                    url.path.push('');\n                    state = CANNOT_BE_A_BASE_URL_PATH;\n                  }\n                } else if (!stateOverride) {\n                  buffer = '';\n                  state = NO_SCHEME;\n                  pointer = 0;\n                  continue;\n                } else return INVALID_SCHEME;\n                break;\n              case NO_SCHEME:\n                if (!base || base.cannotBeABaseURL && char != '#') return INVALID_SCHEME;\n                if (base.cannotBeABaseURL && char == '#') {\n                  url.scheme = base.scheme;\n                  url.path = base.path.slice();\n                  url.query = base.query;\n                  url.fragment = '';\n                  url.cannotBeABaseURL = true;\n                  state = FRAGMENT;\n                  break;\n                }\n                state = base.scheme == 'file' ? FILE : RELATIVE;\n                continue;\n              case SPECIAL_RELATIVE_OR_AUTHORITY:\n                if (char == '/' && codePoints[pointer + 1] == '/') {\n                  state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n                  pointer++;\n                } else {\n                  state = RELATIVE;\n                  continue;\n                }\n                break;\n              case PATH_OR_AUTHORITY:\n                if (char == '/') {\n                  state = AUTHORITY;\n                  break;\n                } else {\n                  state = PATH;\n                  continue;\n                }\n              case RELATIVE:\n                url.scheme = base.scheme;\n                if (char == EOF) {\n                  url.username = base.username;\n                  url.password = base.password;\n                  url.host = base.host;\n                  url.port = base.port;\n                  url.path = base.path.slice();\n                  url.query = base.query;\n                } else if (char == '/' || char == '\\\\' && isSpecial(url)) {\n                  state = RELATIVE_SLASH;\n                } else if (char == '?') {\n                  url.username = base.username;\n                  url.password = base.password;\n                  url.host = base.host;\n                  url.port = base.port;\n                  url.path = base.path.slice();\n                  url.query = '';\n                  state = QUERY;\n                } else if (char == '#') {\n                  url.username = base.username;\n                  url.password = base.password;\n                  url.host = base.host;\n                  url.port = base.port;\n                  url.path = base.path.slice();\n                  url.query = base.query;\n                  url.fragment = '';\n                  state = FRAGMENT;\n                } else {\n                  url.username = base.username;\n                  url.password = base.password;\n                  url.host = base.host;\n                  url.port = base.port;\n                  url.path = base.path.slice();\n                  url.path.pop();\n                  state = PATH;\n                  continue;\n                }\n                break;\n              case RELATIVE_SLASH:\n                if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n                  state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n                } else if (char == '/') {\n                  state = AUTHORITY;\n                } else {\n                  url.username = base.username;\n                  url.password = base.password;\n                  url.host = base.host;\n                  url.port = base.port;\n                  state = PATH;\n                  continue;\n                }\n                break;\n              case SPECIAL_AUTHORITY_SLASHES:\n                state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n                if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n                pointer++;\n                break;\n              case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n                if (char != '/' && char != '\\\\') {\n                  state = AUTHORITY;\n                  continue;\n                }\n                break;\n              case AUTHORITY:\n                if (char == '@') {\n                  if (seenAt) buffer = '%40' + buffer;\n                  seenAt = true;\n                  bufferCodePoints = arrayFrom(buffer);\n                  for (var i = 0; i < bufferCodePoints.length; i++) {\n                    var codePoint = bufferCodePoints[i];\n                    if (codePoint == ':' && !seenPasswordToken) {\n                      seenPasswordToken = true;\n                      continue;\n                    }\n                    var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n                    if (seenPasswordToken) url.password += encodedCodePoints;else url.username += encodedCodePoints;\n                  }\n                  buffer = '';\n                } else if (char == EOF || char == '/' || char == '?' || char == '#' || char == '\\\\' && isSpecial(url)) {\n                  if (seenAt && buffer == '') return INVALID_AUTHORITY;\n                  pointer -= arrayFrom(buffer).length + 1;\n                  buffer = '';\n                  state = HOST;\n                } else buffer += char;\n                break;\n              case HOST:\n              case HOSTNAME:\n                if (stateOverride && url.scheme == 'file') {\n                  state = FILE_HOST;\n                  continue;\n                } else if (char == ':' && !seenBracket) {\n                  if (buffer == '') return INVALID_HOST;\n                  failure = parseHost(url, buffer);\n                  if (failure) return failure;\n                  buffer = '';\n                  state = PORT;\n                  if (stateOverride == HOSTNAME) return;\n                } else if (char == EOF || char == '/' || char == '?' || char == '#' || char == '\\\\' && isSpecial(url)) {\n                  if (isSpecial(url) && buffer == '') return INVALID_HOST;\n                  if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n                  failure = parseHost(url, buffer);\n                  if (failure) return failure;\n                  buffer = '';\n                  state = PATH_START;\n                  if (stateOverride) return;\n                  continue;\n                } else {\n                  if (char == '[') seenBracket = true;else if (char == ']') seenBracket = false;\n                  buffer += char;\n                }\n                break;\n              case PORT:\n                if (DIGIT.test(char)) {\n                  buffer += char;\n                } else if (char == EOF || char == '/' || char == '?' || char == '#' || char == '\\\\' && isSpecial(url) || stateOverride) {\n                  if (buffer != '') {\n                    var port = parseInt(buffer, 10);\n                    if (port > 0xFFFF) return INVALID_PORT;\n                    url.port = isSpecial(url) && port === specialSchemes[url.scheme] ? null : port;\n                    buffer = '';\n                  }\n                  if (stateOverride) return;\n                  state = PATH_START;\n                  continue;\n                } else return INVALID_PORT;\n                break;\n              case FILE:\n                url.scheme = 'file';\n                if (char == '/' || char == '\\\\') state = FILE_SLASH;else if (base && base.scheme == 'file') {\n                  if (char == EOF) {\n                    url.host = base.host;\n                    url.path = base.path.slice();\n                    url.query = base.query;\n                  } else if (char == '?') {\n                    url.host = base.host;\n                    url.path = base.path.slice();\n                    url.query = '';\n                    state = QUERY;\n                  } else if (char == '#') {\n                    url.host = base.host;\n                    url.path = base.path.slice();\n                    url.query = base.query;\n                    url.fragment = '';\n                    state = FRAGMENT;\n                  } else {\n                    if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n                      url.host = base.host;\n                      url.path = base.path.slice();\n                      shortenURLsPath(url);\n                    }\n                    state = PATH;\n                    continue;\n                  }\n                } else {\n                  state = PATH;\n                  continue;\n                }\n                break;\n              case FILE_SLASH:\n                if (char == '/' || char == '\\\\') {\n                  state = FILE_HOST;\n                  break;\n                }\n                if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n                  if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);else url.host = base.host;\n                }\n                state = PATH;\n                continue;\n              case FILE_HOST:\n                if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n                  if (!stateOverride && isWindowsDriveLetter(buffer)) {\n                    state = PATH;\n                  } else if (buffer == '') {\n                    url.host = '';\n                    if (stateOverride) return;\n                    state = PATH_START;\n                  } else {\n                    failure = parseHost(url, buffer);\n                    if (failure) return failure;\n                    if (url.host == 'localhost') url.host = '';\n                    if (stateOverride) return;\n                    buffer = '';\n                    state = PATH_START;\n                  }\n                  continue;\n                } else buffer += char;\n                break;\n              case PATH_START:\n                if (isSpecial(url)) {\n                  state = PATH;\n                  if (char != '/' && char != '\\\\') continue;\n                } else if (!stateOverride && char == '?') {\n                  url.query = '';\n                  state = QUERY;\n                } else if (!stateOverride && char == '#') {\n                  url.fragment = '';\n                  state = FRAGMENT;\n                } else if (char != EOF) {\n                  state = PATH;\n                  if (char != '/') continue;\n                }\n                break;\n              case PATH:\n                if (char == EOF || char == '/' || char == '\\\\' && isSpecial(url) || !stateOverride && (char == '?' || char == '#')) {\n                  if (isDoubleDot(buffer)) {\n                    shortenURLsPath(url);\n                    if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n                      url.path.push('');\n                    }\n                  } else if (isSingleDot(buffer)) {\n                    if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n                      url.path.push('');\n                    }\n                  } else {\n                    if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n                      if (url.host) url.host = '';\n                      buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n                    }\n                    url.path.push(buffer);\n                  }\n                  buffer = '';\n                  if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n                    while (url.path.length > 1 && url.path[0] === '') {\n                      url.path.shift();\n                    }\n                  }\n                  if (char == '?') {\n                    url.query = '';\n                    state = QUERY;\n                  } else if (char == '#') {\n                    url.fragment = '';\n                    state = FRAGMENT;\n                  }\n                } else {\n                  buffer += percentEncode(char, pathPercentEncodeSet);\n                }\n                break;\n              case CANNOT_BE_A_BASE_URL_PATH:\n                if (char == '?') {\n                  url.query = '';\n                  state = QUERY;\n                } else if (char == '#') {\n                  url.fragment = '';\n                  state = FRAGMENT;\n                } else if (char != EOF) {\n                  url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n                }\n                break;\n              case QUERY:\n                if (!stateOverride && char == '#') {\n                  url.fragment = '';\n                  state = FRAGMENT;\n                } else if (char != EOF) {\n                  if (char == \"'\" && isSpecial(url)) url.query += '%27';else if (char == '#') url.query += '%23';else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n                }\n                break;\n              case FRAGMENT:\n                if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n                break;\n            }\n            pointer++;\n          }\n        };\n\n        // `URL` constructor\n        // https://url.spec.whatwg.org/#url-class\n        var URLConstructor = function URL(url /* , base */) {\n          var that = anInstance(this, URLConstructor, 'URL');\n          var base = arguments.length > 1 ? arguments[1] : undefined;\n          var urlString = String(url);\n          var state = setInternalState(that, {\n            type: 'URL'\n          });\n          var baseState, failure;\n          if (base !== undefined) {\n            if (base instanceof URLConstructor) baseState = getInternalURLState(base);else {\n              failure = parseURL(baseState = {}, String(base));\n              if (failure) throw TypeError(failure);\n            }\n          }\n          failure = parseURL(state, urlString, null, baseState);\n          if (failure) throw TypeError(failure);\n          var searchParams = state.searchParams = new URLSearchParams();\n          var searchParamsState = getInternalSearchParamsState(searchParams);\n          searchParamsState.updateSearchParams(state.query);\n          searchParamsState.updateURL = function () {\n            state.query = String(searchParams) || null;\n          };\n          if (!DESCRIPTORS) {\n            that.href = serializeURL.call(that);\n            that.origin = getOrigin.call(that);\n            that.protocol = getProtocol.call(that);\n            that.username = getUsername.call(that);\n            that.password = getPassword.call(that);\n            that.host = getHost.call(that);\n            that.hostname = getHostname.call(that);\n            that.port = getPort.call(that);\n            that.pathname = getPathname.call(that);\n            that.search = getSearch.call(that);\n            that.searchParams = getSearchParams.call(that);\n            that.hash = getHash.call(that);\n          }\n        };\n        var URLPrototype = URLConstructor.prototype;\n        var serializeURL = function () {\n          var url = getInternalURLState(this);\n          var scheme = url.scheme;\n          var username = url.username;\n          var password = url.password;\n          var host = url.host;\n          var port = url.port;\n          var path = url.path;\n          var query = url.query;\n          var fragment = url.fragment;\n          var output = scheme + ':';\n          if (host !== null) {\n            output += '//';\n            if (includesCredentials(url)) {\n              output += username + (password ? ':' + password : '') + '@';\n            }\n            output += serializeHost(host);\n            if (port !== null) output += ':' + port;\n          } else if (scheme == 'file') output += '//';\n          output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n          if (query !== null) output += '?' + query;\n          if (fragment !== null) output += '#' + fragment;\n          return output;\n        };\n        var getOrigin = function () {\n          var url = getInternalURLState(this);\n          var scheme = url.scheme;\n          var port = url.port;\n          if (scheme == 'blob') try {\n            return new URL(scheme.path[0]).origin;\n          } catch (error) {\n            return 'null';\n          }\n          if (scheme == 'file' || !isSpecial(url)) return 'null';\n          return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n        };\n        var getProtocol = function () {\n          return getInternalURLState(this).scheme + ':';\n        };\n        var getUsername = function () {\n          return getInternalURLState(this).username;\n        };\n        var getPassword = function () {\n          return getInternalURLState(this).password;\n        };\n        var getHost = function () {\n          var url = getInternalURLState(this);\n          var host = url.host;\n          var port = url.port;\n          return host === null ? '' : port === null ? serializeHost(host) : serializeHost(host) + ':' + port;\n        };\n        var getHostname = function () {\n          var host = getInternalURLState(this).host;\n          return host === null ? '' : serializeHost(host);\n        };\n        var getPort = function () {\n          var port = getInternalURLState(this).port;\n          return port === null ? '' : String(port);\n        };\n        var getPathname = function () {\n          var url = getInternalURLState(this);\n          var path = url.path;\n          return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n        };\n        var getSearch = function () {\n          var query = getInternalURLState(this).query;\n          return query ? '?' + query : '';\n        };\n        var getSearchParams = function () {\n          return getInternalURLState(this).searchParams;\n        };\n        var getHash = function () {\n          var fragment = getInternalURLState(this).fragment;\n          return fragment ? '#' + fragment : '';\n        };\n        var accessorDescriptor = function (getter, setter) {\n          return {\n            get: getter,\n            set: setter,\n            configurable: true,\n            enumerable: true\n          };\n        };\n        if (DESCRIPTORS) {\n          defineProperties(URLPrototype, {\n            // `URL.prototype.href` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-href\n            href: accessorDescriptor(serializeURL, function (href) {\n              var url = getInternalURLState(this);\n              var urlString = String(href);\n              var failure = parseURL(url, urlString);\n              if (failure) throw TypeError(failure);\n              getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n            }),\n            // `URL.prototype.origin` getter\n            // https://url.spec.whatwg.org/#dom-url-origin\n            origin: accessorDescriptor(getOrigin),\n            // `URL.prototype.protocol` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-protocol\n            protocol: accessorDescriptor(getProtocol, function (protocol) {\n              var url = getInternalURLState(this);\n              parseURL(url, String(protocol) + ':', SCHEME_START);\n            }),\n            // `URL.prototype.username` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-username\n            username: accessorDescriptor(getUsername, function (username) {\n              var url = getInternalURLState(this);\n              var codePoints = arrayFrom(String(username));\n              if (cannotHaveUsernamePasswordPort(url)) return;\n              url.username = '';\n              for (var i = 0; i < codePoints.length; i++) {\n                url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n              }\n            }),\n            // `URL.prototype.password` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-password\n            password: accessorDescriptor(getPassword, function (password) {\n              var url = getInternalURLState(this);\n              var codePoints = arrayFrom(String(password));\n              if (cannotHaveUsernamePasswordPort(url)) return;\n              url.password = '';\n              for (var i = 0; i < codePoints.length; i++) {\n                url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n              }\n            }),\n            // `URL.prototype.host` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-host\n            host: accessorDescriptor(getHost, function (host) {\n              var url = getInternalURLState(this);\n              if (url.cannotBeABaseURL) return;\n              parseURL(url, String(host), HOST);\n            }),\n            // `URL.prototype.hostname` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-hostname\n            hostname: accessorDescriptor(getHostname, function (hostname) {\n              var url = getInternalURLState(this);\n              if (url.cannotBeABaseURL) return;\n              parseURL(url, String(hostname), HOSTNAME);\n            }),\n            // `URL.prototype.port` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-port\n            port: accessorDescriptor(getPort, function (port) {\n              var url = getInternalURLState(this);\n              if (cannotHaveUsernamePasswordPort(url)) return;\n              port = String(port);\n              if (port == '') url.port = null;else parseURL(url, port, PORT);\n            }),\n            // `URL.prototype.pathname` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-pathname\n            pathname: accessorDescriptor(getPathname, function (pathname) {\n              var url = getInternalURLState(this);\n              if (url.cannotBeABaseURL) return;\n              url.path = [];\n              parseURL(url, pathname + '', PATH_START);\n            }),\n            // `URL.prototype.search` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-search\n            search: accessorDescriptor(getSearch, function (search) {\n              var url = getInternalURLState(this);\n              search = String(search);\n              if (search == '') {\n                url.query = null;\n              } else {\n                if ('?' == search.charAt(0)) search = search.slice(1);\n                url.query = '';\n                parseURL(url, search, QUERY);\n              }\n              getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n            }),\n            // `URL.prototype.searchParams` getter\n            // https://url.spec.whatwg.org/#dom-url-searchparams\n            searchParams: accessorDescriptor(getSearchParams),\n            // `URL.prototype.hash` accessors pair\n            // https://url.spec.whatwg.org/#dom-url-hash\n            hash: accessorDescriptor(getHash, function (hash) {\n              var url = getInternalURLState(this);\n              hash = String(hash);\n              if (hash == '') {\n                url.fragment = null;\n                return;\n              }\n              if ('#' == hash.charAt(0)) hash = hash.slice(1);\n              url.fragment = '';\n              parseURL(url, hash, FRAGMENT);\n            })\n          });\n        }\n\n        // `URL.prototype.toJSON` method\n        // https://url.spec.whatwg.org/#dom-url-tojson\n        redefine(URLPrototype, 'toJSON', function toJSON() {\n          return serializeURL.call(this);\n        }, {\n          enumerable: true\n        });\n\n        // `URL.prototype.toString` method\n        // https://url.spec.whatwg.org/#URL-stringification-behavior\n        redefine(URLPrototype, 'toString', function toString() {\n          return serializeURL.call(this);\n        }, {\n          enumerable: true\n        });\n        if (NativeURL) {\n          var nativeCreateObjectURL = NativeURL.createObjectURL;\n          var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n          // `URL.createObjectURL` method\n          // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n          // eslint-disable-next-line no-unused-vars -- required for `.length`\n          if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n            return nativeCreateObjectURL.apply(NativeURL, arguments);\n          });\n          // `URL.revokeObjectURL` method\n          // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n          // eslint-disable-next-line no-unused-vars -- required for `.length`\n          if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n            return nativeRevokeObjectURL.apply(NativeURL, arguments);\n          });\n        }\n        setToStringTag(URLConstructor, 'URL');\n        $({\n          global: true,\n          forced: !USE_NATIVE_URL,\n          sham: !DESCRIPTORS\n        }, {\n          URL: URLConstructor\n        });\n\n        /***/\n      })\n\n      /******/\n    };\n    /************************************************************************/\n    /******/ // The module cache\n    /******/\n    var __webpack_module_cache__ = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/ // Check if module is in cache\n      /******/if (__webpack_module_cache__[moduleId]) {\n        /******/return __webpack_module_cache__[moduleId].exports;\n        /******/\n      }\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = __webpack_module_cache__[moduleId] = {\n        /******/ // no module.id needed\n        /******/ // no module.loaded needed\n        /******/exports: {}\n        /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /************************************************************************/\n    /******/ /* webpack/runtime/define property getters */\n    /******/\n    !function () {\n      /******/ // define getter functions for harmony exports\n      /******/__webpack_require__.d = function (exports, definition) {\n        /******/for (var key in definition) {\n          /******/if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            /******/Object.defineProperty(exports, key, {\n              enumerable: true,\n              get: definition[key]\n            });\n            /******/\n          }\n          /******/\n        }\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/global */\n    /******/\n    !function () {\n      /******/__webpack_require__.g = function () {\n        /******/if (typeof globalThis === 'object') return globalThis;\n        /******/\n        try {\n          /******/return this || new Function('return this')();\n          /******/\n        } catch (e) {\n          /******/if (typeof window === 'object') return window;\n          /******/\n        }\n        /******/\n      }();\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/hasOwnProperty shorthand */\n    /******/\n    !function () {\n      /******/__webpack_require__.o = function (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/make namespace object */\n    /******/\n    !function () {\n      /******/ // define __esModule on exports\n      /******/__webpack_require__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /************************************************************************/\n    var __webpack_exports__ = {};\n    // This entry need to be wrapped in an IIFE because it need to be in strict mode.\n    !function () {\n      \"use strict\";\n\n      // ESM COMPAT FLAG\n      __webpack_require__.r(__webpack_exports__);\n\n      // EXPORTS\n      __webpack_require__.d(__webpack_exports__, {\n        \"Dropzone\": function () {\n          return /* reexport */Dropzone;\n        },\n        \"default\": function () {\n          return /* binding */dropzone_dist;\n        }\n      });\n\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\n      var es_array_concat = __webpack_require__(2222);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\n      var es_array_filter = __webpack_require__(7327);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\n      var es_array_index_of = __webpack_require__(2772);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\n      var es_array_iterator = __webpack_require__(6992);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\n      var es_array_map = __webpack_require__(1249);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\n      var es_array_slice = __webpack_require__(7042);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\n      var es_array_splice = __webpack_require__(561);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.constructor.js\n      var es_array_buffer_constructor = __webpack_require__(8264);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\n      var es_function_name = __webpack_require__(8309);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-prototype-of.js\n      var es_object_get_prototype_of = __webpack_require__(489);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\n      var es_object_to_string = __webpack_require__(1539);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\n      var es_regexp_exec = __webpack_require__(4916);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\n      var es_regexp_to_string = __webpack_require__(9714);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\n      var es_string_iterator = __webpack_require__(8783);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\n      var es_string_match = __webpack_require__(4723);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\n      var es_string_replace = __webpack_require__(5306);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\n      var es_string_split = __webpack_require__(3123);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js\n      var es_string_trim = __webpack_require__(3210);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js\n      var es_typed_array_uint8_array = __webpack_require__(2472);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js\n      var es_typed_array_copy_within = __webpack_require__(2990);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js\n      var es_typed_array_every = __webpack_require__(8927);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js\n      var es_typed_array_fill = __webpack_require__(3105);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js\n      var es_typed_array_filter = __webpack_require__(5035);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js\n      var es_typed_array_find = __webpack_require__(4345);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js\n      var es_typed_array_find_index = __webpack_require__(7174);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js\n      var es_typed_array_for_each = __webpack_require__(2846);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js\n      var es_typed_array_includes = __webpack_require__(4731);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js\n      var es_typed_array_index_of = __webpack_require__(7209);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js\n      var es_typed_array_iterator = __webpack_require__(6319);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js\n      var es_typed_array_join = __webpack_require__(8867);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js\n      var es_typed_array_last_index_of = __webpack_require__(7789);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js\n      var es_typed_array_map = __webpack_require__(3739);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js\n      var es_typed_array_reduce = __webpack_require__(9368);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js\n      var es_typed_array_reduce_right = __webpack_require__(4483);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js\n      var es_typed_array_reverse = __webpack_require__(2056);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js\n      var es_typed_array_set = __webpack_require__(3462);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js\n      var es_typed_array_slice = __webpack_require__(678);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js\n      var es_typed_array_some = __webpack_require__(7462);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js\n      var es_typed_array_sort = __webpack_require__(3824);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.subarray.js\n      var es_typed_array_subarray = __webpack_require__(5021);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js\n      var es_typed_array_to_locale_string = __webpack_require__(2974);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js\n      var es_typed_array_to_string = __webpack_require__(5016);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\n      var web_dom_collections_for_each = __webpack_require__(4747);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\n      var web_dom_collections_iterator = __webpack_require__(3948);\n      // EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\n      var web_url = __webpack_require__(285);\n      ; // CONCATENATED MODULE: ./src/emitter.js\n\n      function _createForOfIteratorHelper(o, allowArrayLike) {\n        var it;\n        if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n          if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n              s: F,\n              n: function n() {\n                if (i >= o.length) return {\n                  done: true\n                };\n                return {\n                  done: false,\n                  value: o[i++]\n                };\n              },\n              e: function e(_e) {\n                throw _e;\n              },\n              f: F\n            };\n          }\n          throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        var normalCompletion = true,\n          didErr = false,\n          err;\n        return {\n          s: function s() {\n            it = o[Symbol.iterator]();\n          },\n          n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n          },\n          e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n          },\n          f: function f() {\n            try {\n              if (!normalCompletion && it.return != null) it.return();\n            } finally {\n              if (didErr) throw err;\n            }\n          }\n        };\n      }\n      function _unsupportedIterableToArray(o, minLen) {\n        if (!o) return;\n        if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n        var n = Object.prototype.toString.call(o).slice(8, -1);\n        if (n === \"Object\" && o.constructor) n = o.constructor.name;\n        if (n === \"Map\" || n === \"Set\") return Array.from(o);\n        if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n      }\n      function _arrayLikeToArray(arr, len) {\n        if (len == null || len > arr.length) len = arr.length;\n        for (var i = 0, arr2 = new Array(len); i < len; i++) {\n          arr2[i] = arr[i];\n        }\n        return arr2;\n      }\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      // The Emitter class provides the ability to call `.on()` on Dropzone to listen\n      // to events.\n      // It is strongly based on component's emitter class, and I removed the\n      // functionality because of the dependency hell with different frameworks.\n      var Emitter = /*#__PURE__*/function () {\n        function Emitter() {\n          _classCallCheck(this, Emitter);\n        }\n        _createClass(Emitter, [{\n          key: \"on\",\n          value:\n          // Add an event listener for given event\n          function on(event, fn) {\n            this._callbacks = this._callbacks || {}; // Create namespace for this event\n\n            if (!this._callbacks[event]) {\n              this._callbacks[event] = [];\n            }\n            this._callbacks[event].push(fn);\n            return this;\n          }\n        }, {\n          key: \"emit\",\n          value: function emit(event) {\n            this._callbacks = this._callbacks || {};\n            var callbacks = this._callbacks[event];\n            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n              args[_key - 1] = arguments[_key];\n            }\n            if (callbacks) {\n              var _iterator = _createForOfIteratorHelper(callbacks, true),\n                _step;\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var callback = _step.value;\n                  callback.apply(this, args);\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            } // trigger a corresponding DOM event\n\n            if (this.element) {\n              this.element.dispatchEvent(this.makeEvent(\"dropzone:\" + event, {\n                args: args\n              }));\n            }\n            return this;\n          }\n        }, {\n          key: \"makeEvent\",\n          value: function makeEvent(eventName, detail) {\n            var params = {\n              bubbles: true,\n              cancelable: true,\n              detail: detail\n            };\n            if (typeof window.CustomEvent === \"function\") {\n              return new CustomEvent(eventName, params);\n            } else {\n              // IE 11 support\n              // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n              var evt = document.createEvent(\"CustomEvent\");\n              evt.initCustomEvent(eventName, params.bubbles, params.cancelable, params.detail);\n              return evt;\n            }\n          } // Remove event listener for given event. If fn is not provided, all event\n          // listeners for that event will be removed. If neither is provided, all\n          // event listeners will be removed.\n        }, {\n          key: \"off\",\n          value: function off(event, fn) {\n            if (!this._callbacks || arguments.length === 0) {\n              this._callbacks = {};\n              return this;\n            } // specific event\n\n            var callbacks = this._callbacks[event];\n            if (!callbacks) {\n              return this;\n            } // remove all handlers\n\n            if (arguments.length === 1) {\n              delete this._callbacks[event];\n              return this;\n            } // remove specific handler\n\n            for (var i = 0; i < callbacks.length; i++) {\n              var callback = callbacks[i];\n              if (callback === fn) {\n                callbacks.splice(i, 1);\n                break;\n              }\n            }\n            return this;\n          }\n        }]);\n        return Emitter;\n      }();\n      ; // CONCATENATED MODULE: ./src/preview-template.html\n      // Module\n      var code = \"<div class=\\\"dz-preview dz-file-preview\\\"> <div class=\\\"dz-image\\\"><img data-dz-thumbnail/></div> <div class=\\\"dz-details\\\"> <div class=\\\"dz-size\\\"><span data-dz-size></span></div> <div class=\\\"dz-filename\\\"><span data-dz-name></span></div> </div> <div class=\\\"dz-progress\\\"> <span class=\\\"dz-upload\\\" data-dz-uploadprogress></span> </div> <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div> <div class=\\\"dz-success-mark\\\"> <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <title>Check</title> <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\"></path> </g> </svg> </div> <div class=\\\"dz-error-mark\\\"> <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <title>Error</title> <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <g stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\"> <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\"></path> </g> </g> </svg> </div> </div> \";\n      // Exports\n      /* harmony default export */\n      var preview_template = code;\n      ; // CONCATENATED MODULE: ./src/options.js\n\n      function options_createForOfIteratorHelper(o, allowArrayLike) {\n        var it;\n        if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n          if (Array.isArray(o) || (it = options_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n              s: F,\n              n: function n() {\n                if (i >= o.length) return {\n                  done: true\n                };\n                return {\n                  done: false,\n                  value: o[i++]\n                };\n              },\n              e: function e(_e) {\n                throw _e;\n              },\n              f: F\n            };\n          }\n          throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        var normalCompletion = true,\n          didErr = false,\n          err;\n        return {\n          s: function s() {\n            it = o[Symbol.iterator]();\n          },\n          n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n          },\n          e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n          },\n          f: function f() {\n            try {\n              if (!normalCompletion && it.return != null) it.return();\n            } finally {\n              if (didErr) throw err;\n            }\n          }\n        };\n      }\n      function options_unsupportedIterableToArray(o, minLen) {\n        if (!o) return;\n        if (typeof o === \"string\") return options_arrayLikeToArray(o, minLen);\n        var n = Object.prototype.toString.call(o).slice(8, -1);\n        if (n === \"Object\" && o.constructor) n = o.constructor.name;\n        if (n === \"Map\" || n === \"Set\") return Array.from(o);\n        if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return options_arrayLikeToArray(o, minLen);\n      }\n      function options_arrayLikeToArray(arr, len) {\n        if (len == null || len > arr.length) len = arr.length;\n        for (var i = 0, arr2 = new Array(len); i < len; i++) {\n          arr2[i] = arr[i];\n        }\n        return arr2;\n      }\n      var defaultOptions = {\n        /**\n         * Has to be specified on elements other than form (or when the form\n         * doesn't have an `action` attribute). You can also\n         * provide a function that will be called with `files` and\n         * must return the url (since `v3.12.0`)\n         */\n        url: null,\n        /**\n         * Can be changed to `\"put\"` if necessary. You can also provide a function\n         * that will be called with `files` and must return the method (since `v3.12.0`).\n         */\n        method: \"post\",\n        /**\n         * Will be set on the XHRequest.\n         */\n        withCredentials: false,\n        /**\n         * The timeout for the XHR requests in milliseconds (since `v4.4.0`).\n         * If set to null or 0, no timeout is going to be set.\n         */\n        timeout: null,\n        /**\n         * How many file uploads to process in parallel (See the\n         * Enqueuing file uploads documentation section for more info)\n         */\n        parallelUploads: 2,\n        /**\n         * Whether to send multiple files in one request. If\n         * this it set to true, then the fallback file input element will\n         * have the `multiple` attribute as well. This option will\n         * also trigger additional events (like `processingmultiple`). See the events\n         * documentation section for more information.\n         */\n        uploadMultiple: false,\n        /**\n         * Whether you want files to be uploaded in chunks to your server. This can't be\n         * used in combination with `uploadMultiple`.\n         *\n         * See [chunksUploaded](#config-chunksUploaded) for the callback to finalise an upload.\n         */\n        chunking: false,\n        /**\n         * If `chunking` is enabled, this defines whether **every** file should be chunked,\n         * even if the file size is below chunkSize. This means, that the additional chunk\n         * form data will be submitted and the `chunksUploaded` callback will be invoked.\n         */\n        forceChunking: false,\n        /**\n         * If `chunking` is `true`, then this defines the chunk size in bytes.\n         */\n        chunkSize: 2000000,\n        /**\n         * If `true`, the individual chunks of a file are being uploaded simultaneously.\n         */\n        parallelChunkUploads: false,\n        /**\n         * Whether a chunk should be retried if it fails.\n         */\n        retryChunks: false,\n        /**\n         * If `retryChunks` is true, how many times should it be retried.\n         */\n        retryChunksLimit: 3,\n        /**\n         * The maximum filesize (in bytes) that is allowed to be uploaded.\n         */\n        maxFilesize: 256,\n        /**\n         * The name of the file param that gets transferred.\n         * **NOTE**: If you have the option  `uploadMultiple` set to `true`, then\n         * Dropzone will append `[]` to the name.\n         */\n        paramName: \"file\",\n        /**\n         * Whether thumbnails for images should be generated\n         */\n        createImageThumbnails: true,\n        /**\n         * In MB. When the filename exceeds this limit, the thumbnail will not be generated.\n         */\n        maxThumbnailFilesize: 10,\n        /**\n         * If `null`, the ratio of the image will be used to calculate it.\n         */\n        thumbnailWidth: 120,\n        /**\n         * The same as `thumbnailWidth`. If both are null, images will not be resized.\n         */\n        thumbnailHeight: 120,\n        /**\n         * How the images should be scaled down in case both, `thumbnailWidth` and `thumbnailHeight` are provided.\n         * Can be either `contain` or `crop`.\n         */\n        thumbnailMethod: \"crop\",\n        /**\n         * If set, images will be resized to these dimensions before being **uploaded**.\n         * If only one, `resizeWidth` **or** `resizeHeight` is provided, the original aspect\n         * ratio of the file will be preserved.\n         *\n         * The `options.transformFile` function uses these options, so if the `transformFile` function\n         * is overridden, these options don't do anything.\n         */\n        resizeWidth: null,\n        /**\n         * See `resizeWidth`.\n         */\n        resizeHeight: null,\n        /**\n         * The mime type of the resized image (before it gets uploaded to the server).\n         * If `null` the original mime type will be used. To force jpeg, for example, use `image/jpeg`.\n         * See `resizeWidth` for more information.\n         */\n        resizeMimeType: null,\n        /**\n         * The quality of the resized images. See `resizeWidth`.\n         */\n        resizeQuality: 0.8,\n        /**\n         * How the images should be scaled down in case both, `resizeWidth` and `resizeHeight` are provided.\n         * Can be either `contain` or `crop`.\n         */\n        resizeMethod: \"contain\",\n        /**\n         * The base that is used to calculate the **displayed** filesize. You can\n         * change this to 1024 if you would rather display kibibytes, mebibytes,\n         * etc... 1024 is technically incorrect, because `1024 bytes` are `1 kibibyte`\n         * not `1 kilobyte`. You can change this to `1024` if you don't care about\n         * validity.\n         */\n        filesizeBase: 1000,\n        /**\n         * If not `null` defines how many files this Dropzone handles. If it exceeds,\n         * the event `maxfilesexceeded` will be called. The dropzone element gets the\n         * class `dz-max-files-reached` accordingly so you can provide visual\n         * feedback.\n         */\n        maxFiles: null,\n        /**\n         * An optional object to send additional headers to the server. Eg:\n         * `{ \"My-Awesome-Header\": \"header value\" }`\n         */\n        headers: null,\n        /**\n         * If `true`, the dropzone element itself will be clickable, if `false`\n         * nothing will be clickable.\n         *\n         * You can also pass an HTML element, a CSS selector (for multiple elements)\n         * or an array of those. In that case, all of those elements will trigger an\n         * upload when clicked.\n         */\n        clickable: true,\n        /**\n         * Whether hidden files in directories should be ignored.\n         */\n        ignoreHiddenFiles: true,\n        /**\n         * The default implementation of `accept` checks the file's mime type or\n         * extension against this list. This is a comma separated list of mime\n         * types or file extensions.\n         *\n         * Eg.: `image/*,application/pdf,.psd`\n         *\n         * If the Dropzone is `clickable` this option will also be used as\n         * [`accept`](https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept)\n         * parameter on the hidden file input as well.\n         */\n        acceptedFiles: null,\n        /**\n         * **Deprecated!**\n         * Use acceptedFiles instead.\n         */\n        acceptedMimeTypes: null,\n        /**\n         * If false, files will be added to the queue but the queue will not be\n         * processed automatically.\n         * This can be useful if you need some additional user input before sending\n         * files (or if you want want all files sent at once).\n         * If you're ready to send the file simply call `myDropzone.processQueue()`.\n         *\n         * See the [enqueuing file uploads](#enqueuing-file-uploads) documentation\n         * section for more information.\n         */\n        autoProcessQueue: true,\n        /**\n         * If false, files added to the dropzone will not be queued by default.\n         * You'll have to call `enqueueFile(file)` manually.\n         */\n        autoQueue: true,\n        /**\n         * If `true`, this will add a link to every file preview to remove or cancel (if\n         * already uploading) the file. The `dictCancelUpload`, `dictCancelUploadConfirmation`\n         * and `dictRemoveFile` options are used for the wording.\n         */\n        addRemoveLinks: false,\n        /**\n         * Defines where to display the file previews  if `null` the\n         * Dropzone element itself is used. Can be a plain `HTMLElement` or a CSS\n         * selector. The element should have the `dropzone-previews` class so\n         * the previews are displayed properly.\n         */\n        previewsContainer: null,\n        /**\n         * Set this to `true` if you don't want previews to be shown.\n         */\n        disablePreviews: false,\n        /**\n         * This is the element the hidden input field (which is used when clicking on the\n         * dropzone to trigger file selection) will be appended to. This might\n         * be important in case you use frameworks to switch the content of your page.\n         *\n         * Can be a selector string, or an element directly.\n         */\n        hiddenInputContainer: \"body\",\n        /**\n         * If null, no capture type will be specified\n         * If camera, mobile devices will skip the file selection and choose camera\n         * If microphone, mobile devices will skip the file selection and choose the microphone\n         * If camcorder, mobile devices will skip the file selection and choose the camera in video mode\n         * On apple devices multiple must be set to false.  AcceptedFiles may need to\n         * be set to an appropriate mime type (e.g. \"image/*\", \"audio/*\", or \"video/*\").\n         */\n        capture: null,\n        /**\n         * **Deprecated**. Use `renameFile` instead.\n         */\n        renameFilename: null,\n        /**\n         * A function that is invoked before the file is uploaded to the server and renames the file.\n         * This function gets the `File` as argument and can use the `file.name`. The actual name of the\n         * file that gets used during the upload can be accessed through `file.upload.filename`.\n         */\n        renameFile: null,\n        /**\n         * If `true` the fallback will be forced. This is very useful to test your server\n         * implementations first and make sure that everything works as\n         * expected without dropzone if you experience problems, and to test\n         * how your fallbacks will look.\n         */\n        forceFallback: false,\n        /**\n         * The text used before any files are dropped.\n         */\n        dictDefaultMessage: \"Drop files here to upload\",\n        /**\n         * The text that replaces the default message text it the browser is not supported.\n         */\n        dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n        /**\n         * The text that will be added before the fallback form.\n         * If you provide a  fallback element yourself, or if this option is `null` this will\n         * be ignored.\n         */\n        dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n        /**\n         * If the filesize is too big.\n         * `{{filesize}}` and `{{maxFilesize}}` will be replaced with the respective configuration values.\n         */\n        dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n        /**\n         * If the file doesn't match the file type.\n         */\n        dictInvalidFileType: \"You can't upload files of this type.\",\n        /**\n         * If the server response was invalid.\n         * `{{statusCode}}` will be replaced with the servers status code.\n         */\n        dictResponseError: \"Server responded with {{statusCode}} code.\",\n        /**\n         * If `addRemoveLinks` is true, the text to be used for the cancel upload link.\n         */\n        dictCancelUpload: \"Cancel upload\",\n        /**\n         * The text that is displayed if an upload was manually canceled\n         */\n        dictUploadCanceled: \"Upload canceled.\",\n        /**\n         * If `addRemoveLinks` is true, the text to be used for confirmation when cancelling upload.\n         */\n        dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n        /**\n         * If `addRemoveLinks` is true, the text to be used to remove a file.\n         */\n        dictRemoveFile: \"Remove file\",\n        /**\n         * If this is not null, then the user will be prompted before removing a file.\n         */\n        dictRemoveFileConfirmation: null,\n        /**\n         * Displayed if `maxFiles` is st and exceeded.\n         * The string `{{maxFiles}}` will be replaced by the configuration value.\n         */\n        dictMaxFilesExceeded: \"You can not upload any more files.\",\n        /**\n         * Allows you to translate the different units. Starting with `tb` for terabytes and going down to\n         * `b` for bytes.\n         */\n        dictFileSizeUnits: {\n          tb: \"TB\",\n          gb: \"GB\",\n          mb: \"MB\",\n          kb: \"KB\",\n          b: \"b\"\n        },\n        /**\n         * Called when dropzone initialized\n         * You can add event listeners here\n         */\n        init: function init() {},\n        /**\n         * Can be an **object** of additional parameters to transfer to the server, **or** a `Function`\n         * that gets invoked with the `files`, `xhr` and, if it's a chunked upload, `chunk` arguments. In case\n         * of a function, this needs to return a map.\n         *\n         * The default implementation does nothing for normal uploads, but adds relevant information for\n         * chunked uploads.\n         *\n         * This is the same as adding hidden input fields in the form element.\n         */\n        params: function params(files, xhr, chunk) {\n          if (chunk) {\n            return {\n              dzuuid: chunk.file.upload.uuid,\n              dzchunkindex: chunk.index,\n              dztotalfilesize: chunk.file.size,\n              dzchunksize: this.options.chunkSize,\n              dztotalchunkcount: chunk.file.upload.totalChunkCount,\n              dzchunkbyteoffset: chunk.index * this.options.chunkSize\n            };\n          }\n        },\n        /**\n         * A function that gets a [file](https://developer.mozilla.org/en-US/docs/DOM/File)\n         * and a `done` function as parameters.\n         *\n         * If the done function is invoked without arguments, the file is \"accepted\" and will\n         * be processed. If you pass an error message, the file is rejected, and the error\n         * message will be displayed.\n         * This function will not be called if the file is too big or doesn't match the mime types.\n         */\n        accept: function accept(file, done) {\n          return done();\n        },\n        /**\n         * The callback that will be invoked when all chunks have been uploaded for a file.\n         * It gets the file for which the chunks have been uploaded as the first parameter,\n         * and the `done` function as second. `done()` needs to be invoked when everything\n         * needed to finish the upload process is done.\n         */\n        chunksUploaded: function chunksUploaded(file, done) {\n          done();\n        },\n        /**\n         * Gets called when the browser is not supported.\n         * The default implementation shows the fallback input field and adds\n         * a text.\n         */\n        fallback: function fallback() {\n          // This code should pass in IE7... :(\n          var messageElement;\n          this.element.className = \"\".concat(this.element.className, \" dz-browser-not-supported\");\n          var _iterator = options_createForOfIteratorHelper(this.element.getElementsByTagName(\"div\"), true),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var child = _step.value;\n              if (/(^| )dz-message($| )/.test(child.className)) {\n                messageElement = child;\n                child.className = \"dz-message\"; // Removes the 'dz-default' class\n\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          if (!messageElement) {\n            messageElement = Dropzone.createElement('<div class=\"dz-message\"><span></span></div>');\n            this.element.appendChild(messageElement);\n          }\n          var span = messageElement.getElementsByTagName(\"span\")[0];\n          if (span) {\n            if (span.textContent != null) {\n              span.textContent = this.options.dictFallbackMessage;\n            } else if (span.innerText != null) {\n              span.innerText = this.options.dictFallbackMessage;\n            }\n          }\n          return this.element.appendChild(this.getFallbackForm());\n        },\n        /**\n         * Gets called to calculate the thumbnail dimensions.\n         *\n         * It gets `file`, `width` and `height` (both may be `null`) as parameters and must return an object containing:\n         *\n         *  - `srcWidth` & `srcHeight` (required)\n         *  - `trgWidth` & `trgHeight` (required)\n         *  - `srcX` & `srcY` (optional, default `0`)\n         *  - `trgX` & `trgY` (optional, default `0`)\n         *\n         * Those values are going to be used by `ctx.drawImage()`.\n         */\n        resize: function resize(file, width, height, resizeMethod) {\n          var info = {\n            srcX: 0,\n            srcY: 0,\n            srcWidth: file.width,\n            srcHeight: file.height\n          };\n          var srcRatio = file.width / file.height; // Automatically calculate dimensions if not specified\n\n          if (width == null && height == null) {\n            width = info.srcWidth;\n            height = info.srcHeight;\n          } else if (width == null) {\n            width = height * srcRatio;\n          } else if (height == null) {\n            height = width / srcRatio;\n          } // Make sure images aren't upscaled\n\n          width = Math.min(width, info.srcWidth);\n          height = Math.min(height, info.srcHeight);\n          var trgRatio = width / height;\n          if (info.srcWidth > width || info.srcHeight > height) {\n            // Image is bigger and needs rescaling\n            if (resizeMethod === \"crop\") {\n              if (srcRatio > trgRatio) {\n                info.srcHeight = file.height;\n                info.srcWidth = info.srcHeight * trgRatio;\n              } else {\n                info.srcWidth = file.width;\n                info.srcHeight = info.srcWidth / trgRatio;\n              }\n            } else if (resizeMethod === \"contain\") {\n              // Method 'contain'\n              if (srcRatio > trgRatio) {\n                height = width / srcRatio;\n              } else {\n                width = height * srcRatio;\n              }\n            } else {\n              throw new Error(\"Unknown resizeMethod '\".concat(resizeMethod, \"'\"));\n            }\n          }\n          info.srcX = (file.width - info.srcWidth) / 2;\n          info.srcY = (file.height - info.srcHeight) / 2;\n          info.trgWidth = width;\n          info.trgHeight = height;\n          return info;\n        },\n        /**\n         * Can be used to transform the file (for example, resize an image if necessary).\n         *\n         * The default implementation uses `resizeWidth` and `resizeHeight` (if provided) and resizes\n         * images according to those dimensions.\n         *\n         * Gets the `file` as the first parameter, and a `done()` function as the second, that needs\n         * to be invoked with the file when the transformation is done.\n         */\n        transformFile: function transformFile(file, done) {\n          if ((this.options.resizeWidth || this.options.resizeHeight) && file.type.match(/image.*/)) {\n            return this.resizeImage(file, this.options.resizeWidth, this.options.resizeHeight, this.options.resizeMethod, done);\n          } else {\n            return done(file);\n          }\n        },\n        /**\n         * A string that contains the template used for each dropped\n         * file. Change it to fulfill your needs but make sure to properly\n         * provide all elements.\n         *\n         * If you want to use an actual HTML element instead of providing a String\n         * as a config option, you could create a div with the id `tpl`,\n         * put the template inside it and provide the element like this:\n         *\n         *     document\n         *       .querySelector('#tpl')\n         *       .innerHTML\n         *\n         */\n        previewTemplate: preview_template,\n        /*\n         Those functions register themselves to the events on init and handle all\n         the user interface specific stuff. Overwriting them won't break the upload\n         but can break the way it's displayed.\n         You can overwrite them if you don't like the default behavior. If you just\n         want to add an additional event handler, register it on the dropzone object\n         and don't overwrite those options.\n         */\n        // Those are self explanatory and simply concern the DragnDrop.\n        drop: function drop(e) {\n          return this.element.classList.remove(\"dz-drag-hover\");\n        },\n        dragstart: function dragstart(e) {},\n        dragend: function dragend(e) {\n          return this.element.classList.remove(\"dz-drag-hover\");\n        },\n        dragenter: function dragenter(e) {\n          return this.element.classList.add(\"dz-drag-hover\");\n        },\n        dragover: function dragover(e) {\n          return this.element.classList.add(\"dz-drag-hover\");\n        },\n        dragleave: function dragleave(e) {\n          return this.element.classList.remove(\"dz-drag-hover\");\n        },\n        paste: function paste(e) {},\n        // Called whenever there are no files left in the dropzone anymore, and the\n        // dropzone should be displayed as if in the initial state.\n        reset: function reset() {\n          return this.element.classList.remove(\"dz-started\");\n        },\n        // Called when a file is added to the queue\n        // Receives `file`\n        addedfile: function addedfile(file) {\n          var _this = this;\n          if (this.element === this.previewsContainer) {\n            this.element.classList.add(\"dz-started\");\n          }\n          if (this.previewsContainer && !this.options.disablePreviews) {\n            file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n            file.previewTemplate = file.previewElement; // Backwards compatibility\n\n            this.previewsContainer.appendChild(file.previewElement);\n            var _iterator2 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-name]\"), true),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var node = _step2.value;\n                node.textContent = file.name;\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n            var _iterator3 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-size]\"), true),\n              _step3;\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                node = _step3.value;\n                node.innerHTML = this.filesize(file.size);\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n            if (this.options.addRemoveLinks) {\n              file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\".concat(this.options.dictRemoveFile, \"</a>\"));\n              file.previewElement.appendChild(file._removeLink);\n            }\n            var removeFileEvent = function removeFileEvent(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              if (file.status === Dropzone.UPLOADING) {\n                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function () {\n                  return _this.removeFile(file);\n                });\n              } else {\n                if (_this.options.dictRemoveFileConfirmation) {\n                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function () {\n                    return _this.removeFile(file);\n                  });\n                } else {\n                  return _this.removeFile(file);\n                }\n              }\n            };\n            var _iterator4 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-remove]\"), true),\n              _step4;\n            try {\n              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                var removeLink = _step4.value;\n                removeLink.addEventListener(\"click\", removeFileEvent);\n              }\n            } catch (err) {\n              _iterator4.e(err);\n            } finally {\n              _iterator4.f();\n            }\n          }\n        },\n        // Called whenever a file is removed.\n        removedfile: function removedfile(file) {\n          if (file.previewElement != null && file.previewElement.parentNode != null) {\n            file.previewElement.parentNode.removeChild(file.previewElement);\n          }\n          return this._updateMaxFilesReachedClass();\n        },\n        // Called when a thumbnail has been generated\n        // Receives `file` and `dataUrl`\n        thumbnail: function thumbnail(file, dataUrl) {\n          if (file.previewElement) {\n            file.previewElement.classList.remove(\"dz-file-preview\");\n            var _iterator5 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\"), true),\n              _step5;\n            try {\n              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                var thumbnailElement = _step5.value;\n                thumbnailElement.alt = file.name;\n                thumbnailElement.src = dataUrl;\n              }\n            } catch (err) {\n              _iterator5.e(err);\n            } finally {\n              _iterator5.f();\n            }\n            return setTimeout(function () {\n              return file.previewElement.classList.add(\"dz-image-preview\");\n            }, 1);\n          }\n        },\n        // Called whenever an error occurs\n        // Receives `file` and `message`\n        error: function error(file, message) {\n          if (file.previewElement) {\n            file.previewElement.classList.add(\"dz-error\");\n            if (typeof message !== \"string\" && message.error) {\n              message = message.error;\n            }\n            var _iterator6 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-errormessage]\"), true),\n              _step6;\n            try {\n              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                var node = _step6.value;\n                node.textContent = message;\n              }\n            } catch (err) {\n              _iterator6.e(err);\n            } finally {\n              _iterator6.f();\n            }\n          }\n        },\n        errormultiple: function errormultiple() {},\n        // Called when a file gets processed. Since there is a cue, not all added\n        // files are processed immediately.\n        // Receives `file`\n        processing: function processing(file) {\n          if (file.previewElement) {\n            file.previewElement.classList.add(\"dz-processing\");\n            if (file._removeLink) {\n              return file._removeLink.innerHTML = this.options.dictCancelUpload;\n            }\n          }\n        },\n        processingmultiple: function processingmultiple() {},\n        // Called whenever the upload progress gets updated.\n        // Receives `file`, `progress` (percentage 0-100) and `bytesSent`.\n        // To get the total number of bytes of the file, use `file.size`\n        uploadprogress: function uploadprogress(file, progress, bytesSent) {\n          if (file.previewElement) {\n            var _iterator7 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\"), true),\n              _step7;\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var node = _step7.value;\n                node.nodeName === \"PROGRESS\" ? node.value = progress : node.style.width = \"\".concat(progress, \"%\");\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n          }\n        },\n        // Called whenever the total upload progress gets updated.\n        // Called with totalUploadProgress (0-100), totalBytes and totalBytesSent\n        totaluploadprogress: function totaluploadprogress() {},\n        // Called just before the file is sent. Gets the `xhr` object as second\n        // parameter, so you can modify it (for example to add a CSRF token) and a\n        // `formData` object to add additional information.\n        sending: function sending() {},\n        sendingmultiple: function sendingmultiple() {},\n        // When the complete upload is finished and successful\n        // Receives `file`\n        success: function success(file) {\n          if (file.previewElement) {\n            return file.previewElement.classList.add(\"dz-success\");\n          }\n        },\n        successmultiple: function successmultiple() {},\n        // When the upload is canceled.\n        canceled: function canceled(file) {\n          return this.emit(\"error\", file, this.options.dictUploadCanceled);\n        },\n        canceledmultiple: function canceledmultiple() {},\n        // When the upload is finished, either with success or an error.\n        // Receives `file`\n        complete: function complete(file) {\n          if (file._removeLink) {\n            file._removeLink.innerHTML = this.options.dictRemoveFile;\n          }\n          if (file.previewElement) {\n            return file.previewElement.classList.add(\"dz-complete\");\n          }\n        },\n        completemultiple: function completemultiple() {},\n        maxfilesexceeded: function maxfilesexceeded() {},\n        maxfilesreached: function maxfilesreached() {},\n        queuecomplete: function queuecomplete() {},\n        addedfiles: function addedfiles() {}\n      };\n      /* harmony default export */\n      var src_options = defaultOptions;\n      ; // CONCATENATED MODULE: ./src/dropzone.js\n      function _typeof(obj) {\n        \"@babel/helpers - typeof\";\n\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          _typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          _typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n        return _typeof(obj);\n      }\n      function dropzone_createForOfIteratorHelper(o, allowArrayLike) {\n        var it;\n        if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n          if (Array.isArray(o) || (it = dropzone_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n              s: F,\n              n: function n() {\n                if (i >= o.length) return {\n                  done: true\n                };\n                return {\n                  done: false,\n                  value: o[i++]\n                };\n              },\n              e: function e(_e) {\n                throw _e;\n              },\n              f: F\n            };\n          }\n          throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        var normalCompletion = true,\n          didErr = false,\n          err;\n        return {\n          s: function s() {\n            it = o[Symbol.iterator]();\n          },\n          n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n          },\n          e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n          },\n          f: function f() {\n            try {\n              if (!normalCompletion && it.return != null) it.return();\n            } finally {\n              if (didErr) throw err;\n            }\n          }\n        };\n      }\n      function dropzone_unsupportedIterableToArray(o, minLen) {\n        if (!o) return;\n        if (typeof o === \"string\") return dropzone_arrayLikeToArray(o, minLen);\n        var n = Object.prototype.toString.call(o).slice(8, -1);\n        if (n === \"Object\" && o.constructor) n = o.constructor.name;\n        if (n === \"Map\" || n === \"Set\") return Array.from(o);\n        if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return dropzone_arrayLikeToArray(o, minLen);\n      }\n      function dropzone_arrayLikeToArray(arr, len) {\n        if (len == null || len > arr.length) len = arr.length;\n        for (var i = 0, arr2 = new Array(len); i < len; i++) {\n          arr2[i] = arr[i];\n        }\n        return arr2;\n      }\n      function dropzone_classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function dropzone_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function dropzone_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) dropzone_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) dropzone_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function\");\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      function _createSuper(Derived) {\n        var hasNativeReflectConstruct = _isNativeReflectConstruct();\n        return function _createSuperInternal() {\n          var Super = _getPrototypeOf(Derived),\n            result;\n          if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n          } else {\n            result = Super.apply(this, arguments);\n          }\n          return _possibleConstructorReturn(this, result);\n        };\n      }\n      function _possibleConstructorReturn(self, call) {\n        if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n          return call;\n        }\n        return _assertThisInitialized(self);\n      }\n      function _assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return self;\n      }\n      function _isNativeReflectConstruct() {\n        if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === \"function\") return true;\n        try {\n          Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n      function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n        return _getPrototypeOf(o);\n      }\n      var Dropzone = /*#__PURE__*/function (_Emitter) {\n        _inherits(Dropzone, _Emitter);\n        var _super = _createSuper(Dropzone);\n        function Dropzone(el, options) {\n          var _this;\n          dropzone_classCallCheck(this, Dropzone);\n          _this = _super.call(this);\n          var fallback, left;\n          _this.element = el; // For backwards compatibility since the version was in the prototype previously\n\n          _this.version = Dropzone.version;\n          _this.clickableElements = [];\n          _this.listeners = [];\n          _this.files = []; // All files\n\n          if (typeof _this.element === \"string\") {\n            _this.element = document.querySelector(_this.element);\n          } // Not checking if instance of HTMLElement or Element since IE9 is extremely weird.\n\n          if (!_this.element || _this.element.nodeType == null) {\n            throw new Error(\"Invalid dropzone element.\");\n          }\n          if (_this.element.dropzone) {\n            throw new Error(\"Dropzone already attached.\");\n          } // Now add this dropzone to the instances.\n\n          Dropzone.instances.push(_assertThisInitialized(_this)); // Put the dropzone inside the element itself.\n\n          _this.element.dropzone = _assertThisInitialized(_this);\n          var elementOptions = (left = Dropzone.optionsForElement(_this.element)) != null ? left : {};\n          _this.options = Dropzone.extend({}, src_options, elementOptions, options != null ? options : {});\n          _this.options.previewTemplate = _this.options.previewTemplate.replace(/\\n*/g, \"\"); // If the browser failed, just call the fallback and leave\n\n          if (_this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n            return _possibleConstructorReturn(_this, _this.options.fallback.call(_assertThisInitialized(_this)));\n          } // @options.url = @element.getAttribute \"action\" unless @options.url?\n\n          if (_this.options.url == null) {\n            _this.options.url = _this.element.getAttribute(\"action\");\n          }\n          if (!_this.options.url) {\n            throw new Error(\"No URL provided.\");\n          }\n          if (_this.options.acceptedFiles && _this.options.acceptedMimeTypes) {\n            throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n          }\n          if (_this.options.uploadMultiple && _this.options.chunking) {\n            throw new Error(\"You cannot set both: uploadMultiple and chunking.\");\n          } // Backwards compatibility\n\n          if (_this.options.acceptedMimeTypes) {\n            _this.options.acceptedFiles = _this.options.acceptedMimeTypes;\n            delete _this.options.acceptedMimeTypes;\n          } // Backwards compatibility\n\n          if (_this.options.renameFilename != null) {\n            _this.options.renameFile = function (file) {\n              return _this.options.renameFilename.call(_assertThisInitialized(_this), file.name, file);\n            };\n          }\n          if (typeof _this.options.method === \"string\") {\n            _this.options.method = _this.options.method.toUpperCase();\n          }\n          if ((fallback = _this.getExistingFallback()) && fallback.parentNode) {\n            // Remove the fallback\n            fallback.parentNode.removeChild(fallback);\n          } // Display previews in the previewsContainer element or the Dropzone element unless explicitly set to false\n\n          if (_this.options.previewsContainer !== false) {\n            if (_this.options.previewsContainer) {\n              _this.previewsContainer = Dropzone.getElement(_this.options.previewsContainer, \"previewsContainer\");\n            } else {\n              _this.previewsContainer = _this.element;\n            }\n          }\n          if (_this.options.clickable) {\n            if (_this.options.clickable === true) {\n              _this.clickableElements = [_this.element];\n            } else {\n              _this.clickableElements = Dropzone.getElements(_this.options.clickable, \"clickable\");\n            }\n          }\n          _this.init();\n          return _this;\n        } // Returns all files that have been accepted\n\n        dropzone_createClass(Dropzone, [{\n          key: \"getAcceptedFiles\",\n          value: function getAcceptedFiles() {\n            return this.files.filter(function (file) {\n              return file.accepted;\n            }).map(function (file) {\n              return file;\n            });\n          } // Returns all files that have been rejected\n          // Not sure when that's going to be useful, but added for completeness.\n        }, {\n          key: \"getRejectedFiles\",\n          value: function getRejectedFiles() {\n            return this.files.filter(function (file) {\n              return !file.accepted;\n            }).map(function (file) {\n              return file;\n            });\n          }\n        }, {\n          key: \"getFilesWithStatus\",\n          value: function getFilesWithStatus(status) {\n            return this.files.filter(function (file) {\n              return file.status === status;\n            }).map(function (file) {\n              return file;\n            });\n          } // Returns all files that are in the queue\n        }, {\n          key: \"getQueuedFiles\",\n          value: function getQueuedFiles() {\n            return this.getFilesWithStatus(Dropzone.QUEUED);\n          }\n        }, {\n          key: \"getUploadingFiles\",\n          value: function getUploadingFiles() {\n            return this.getFilesWithStatus(Dropzone.UPLOADING);\n          }\n        }, {\n          key: \"getAddedFiles\",\n          value: function getAddedFiles() {\n            return this.getFilesWithStatus(Dropzone.ADDED);\n          } // Files that are either queued or uploading\n        }, {\n          key: \"getActiveFiles\",\n          value: function getActiveFiles() {\n            return this.files.filter(function (file) {\n              return file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED;\n            }).map(function (file) {\n              return file;\n            });\n          } // The function that gets called when Dropzone is initialized. You\n          // can (and should) setup event listeners inside this function.\n        }, {\n          key: \"init\",\n          value: function init() {\n            var _this2 = this;\n\n            // In case it isn't set already\n            if (this.element.tagName === \"form\") {\n              this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n            }\n            if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n              this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><button class=\\\"dz-button\\\" type=\\\"button\\\">\".concat(this.options.dictDefaultMessage, \"</button></div>\")));\n            }\n            if (this.clickableElements.length) {\n              var setupHiddenFileInput = function setupHiddenFileInput() {\n                if (_this2.hiddenFileInput) {\n                  _this2.hiddenFileInput.parentNode.removeChild(_this2.hiddenFileInput);\n                }\n                _this2.hiddenFileInput = document.createElement(\"input\");\n                _this2.hiddenFileInput.setAttribute(\"type\", \"file\");\n                if (_this2.options.maxFiles === null || _this2.options.maxFiles > 1) {\n                  _this2.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n                }\n                _this2.hiddenFileInput.className = \"dz-hidden-input\";\n                if (_this2.options.acceptedFiles !== null) {\n                  _this2.hiddenFileInput.setAttribute(\"accept\", _this2.options.acceptedFiles);\n                }\n                if (_this2.options.capture !== null) {\n                  _this2.hiddenFileInput.setAttribute(\"capture\", _this2.options.capture);\n                } // Making sure that no one can \"tab\" into this field.\n\n                _this2.hiddenFileInput.setAttribute(\"tabindex\", \"-1\"); // Not setting `display=\"none\"` because some browsers don't accept clicks\n                // on elements that aren't displayed.\n\n                _this2.hiddenFileInput.style.visibility = \"hidden\";\n                _this2.hiddenFileInput.style.position = \"absolute\";\n                _this2.hiddenFileInput.style.top = \"0\";\n                _this2.hiddenFileInput.style.left = \"0\";\n                _this2.hiddenFileInput.style.height = \"0\";\n                _this2.hiddenFileInput.style.width = \"0\";\n                Dropzone.getElement(_this2.options.hiddenInputContainer, \"hiddenInputContainer\").appendChild(_this2.hiddenFileInput);\n                _this2.hiddenFileInput.addEventListener(\"change\", function () {\n                  var files = _this2.hiddenFileInput.files;\n                  if (files.length) {\n                    var _iterator = dropzone_createForOfIteratorHelper(files, true),\n                      _step;\n                    try {\n                      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                        var file = _step.value;\n                        _this2.addFile(file);\n                      }\n                    } catch (err) {\n                      _iterator.e(err);\n                    } finally {\n                      _iterator.f();\n                    }\n                  }\n                  _this2.emit(\"addedfiles\", files);\n                  setupHiddenFileInput();\n                });\n              };\n              setupHiddenFileInput();\n            }\n            this.URL = window.URL !== null ? window.URL : window.webkitURL; // Setup all event listeners on the Dropzone object itself.\n            // They're not in @setupEventListeners() because they shouldn't be removed\n            // again when the dropzone gets disabled.\n\n            var _iterator2 = dropzone_createForOfIteratorHelper(this.events, true),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var eventName = _step2.value;\n                this.on(eventName, this.options[eventName]);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n            this.on(\"uploadprogress\", function () {\n              return _this2.updateTotalUploadProgress();\n            });\n            this.on(\"removedfile\", function () {\n              return _this2.updateTotalUploadProgress();\n            });\n            this.on(\"canceled\", function (file) {\n              return _this2.emit(\"complete\", file);\n            }); // Emit a `queuecomplete` event if all files finished uploading.\n\n            this.on(\"complete\", function (file) {\n              if (_this2.getAddedFiles().length === 0 && _this2.getUploadingFiles().length === 0 && _this2.getQueuedFiles().length === 0) {\n                // This needs to be deferred so that `queuecomplete` really triggers after `complete`\n                return setTimeout(function () {\n                  return _this2.emit(\"queuecomplete\");\n                }, 0);\n              }\n            });\n            var containsFiles = function containsFiles(e) {\n              if (e.dataTransfer.types) {\n                // Because e.dataTransfer.types is an Object in\n                // IE, we need to iterate like this instead of\n                // using e.dataTransfer.types.some()\n                for (var i = 0; i < e.dataTransfer.types.length; i++) {\n                  if (e.dataTransfer.types[i] === \"Files\") return true;\n                }\n              }\n              return false;\n            };\n            var noPropagation = function noPropagation(e) {\n              // If there are no files, we don't want to stop\n              // propagation so we don't interfere with other\n              // drag and drop behaviour.\n              if (!containsFiles(e)) return;\n              e.stopPropagation();\n              if (e.preventDefault) {\n                return e.preventDefault();\n              } else {\n                return e.returnValue = false;\n              }\n            }; // Create the listeners\n\n            this.listeners = [{\n              element: this.element,\n              events: {\n                dragstart: function dragstart(e) {\n                  return _this2.emit(\"dragstart\", e);\n                },\n                dragenter: function dragenter(e) {\n                  noPropagation(e);\n                  return _this2.emit(\"dragenter\", e);\n                },\n                dragover: function dragover(e) {\n                  // Makes it possible to drag files from chrome's download bar\n                  // http://stackoverflow.com/questions/19526430/drag-and-drop-file-uploads-from-chrome-downloads-bar\n                  // Try is required to prevent bug in Internet Explorer 11 (SCRIPT65535 exception)\n                  var efct;\n                  try {\n                    efct = e.dataTransfer.effectAllowed;\n                  } catch (error) {}\n                  e.dataTransfer.dropEffect = \"move\" === efct || \"linkMove\" === efct ? \"move\" : \"copy\";\n                  noPropagation(e);\n                  return _this2.emit(\"dragover\", e);\n                },\n                dragleave: function dragleave(e) {\n                  return _this2.emit(\"dragleave\", e);\n                },\n                drop: function drop(e) {\n                  noPropagation(e);\n                  return _this2.drop(e);\n                },\n                dragend: function dragend(e) {\n                  return _this2.emit(\"dragend\", e);\n                }\n              } // This is disabled right now, because the browsers don't implement it properly.\n              // \"paste\": (e) =>\n              //   noPropagation e\n              //   @paste e\n            }];\n            this.clickableElements.forEach(function (clickableElement) {\n              return _this2.listeners.push({\n                element: clickableElement,\n                events: {\n                  click: function click(evt) {\n                    // Only the actual dropzone or the message element should trigger file selection\n                    if (clickableElement !== _this2.element || evt.target === _this2.element || Dropzone.elementInside(evt.target, _this2.element.querySelector(\".dz-message\"))) {\n                      _this2.hiddenFileInput.click(); // Forward the click\n                    }\n                    return true;\n                  }\n                }\n              });\n            });\n            this.enable();\n            return this.options.init.call(this);\n          } // Not fully tested yet\n        }, {\n          key: \"destroy\",\n          value: function destroy() {\n            this.disable();\n            this.removeAllFiles(true);\n            if (this.hiddenFileInput != null ? this.hiddenFileInput.parentNode : undefined) {\n              this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n              this.hiddenFileInput = null;\n            }\n            delete this.element.dropzone;\n            return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n          }\n        }, {\n          key: \"updateTotalUploadProgress\",\n          value: function updateTotalUploadProgress() {\n            var totalUploadProgress;\n            var totalBytesSent = 0;\n            var totalBytes = 0;\n            var activeFiles = this.getActiveFiles();\n            if (activeFiles.length) {\n              var _iterator3 = dropzone_createForOfIteratorHelper(this.getActiveFiles(), true),\n                _step3;\n              try {\n                for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                  var file = _step3.value;\n                  totalBytesSent += file.upload.bytesSent;\n                  totalBytes += file.upload.total;\n                }\n              } catch (err) {\n                _iterator3.e(err);\n              } finally {\n                _iterator3.f();\n              }\n              totalUploadProgress = 100 * totalBytesSent / totalBytes;\n            } else {\n              totalUploadProgress = 100;\n            }\n            return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n          } // @options.paramName can be a function taking one parameter rather than a string.\n          // A parameter name for a file is obtained simply by calling this with an index number.\n        }, {\n          key: \"_getParamName\",\n          value: function _getParamName(n) {\n            if (typeof this.options.paramName === \"function\") {\n              return this.options.paramName(n);\n            } else {\n              return \"\".concat(this.options.paramName).concat(this.options.uploadMultiple ? \"[\".concat(n, \"]\") : \"\");\n            }\n          } // If @options.renameFile is a function,\n          // the function will be used to rename the file.name before appending it to the formData\n        }, {\n          key: \"_renameFile\",\n          value: function _renameFile(file) {\n            if (typeof this.options.renameFile !== \"function\") {\n              return file.name;\n            }\n            return this.options.renameFile(file);\n          } // Returns a form that can be used as fallback if the browser does not support DragnDrop\n          //\n          // If the dropzone is already a form, only the input field and button are returned. Otherwise a complete form element is provided.\n          // This code has to pass in IE7 :(\n        }, {\n          key: \"getFallbackForm\",\n          value: function getFallbackForm() {\n            var existingFallback, form;\n            if (existingFallback = this.getExistingFallback()) {\n              return existingFallback;\n            }\n            var fieldsString = '<div class=\"dz-fallback\">';\n            if (this.options.dictFallbackText) {\n              fieldsString += \"<p>\".concat(this.options.dictFallbackText, \"</p>\");\n            }\n            fieldsString += \"<input type=\\\"file\\\" name=\\\"\".concat(this._getParamName(0), \"\\\" \").concat(this.options.uploadMultiple ? 'multiple=\"multiple\"' : undefined, \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\");\n            var fields = Dropzone.createElement(fieldsString);\n            if (this.element.tagName !== \"FORM\") {\n              form = Dropzone.createElement(\"<form action=\\\"\".concat(this.options.url, \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\").concat(this.options.method, \"\\\"></form>\"));\n              form.appendChild(fields);\n            } else {\n              // Make sure that the enctype and method attributes are set properly\n              this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n              this.element.setAttribute(\"method\", this.options.method);\n            }\n            return form != null ? form : fields;\n          } // Returns the fallback elements if they exist already\n          //\n          // This code has to pass in IE7 :(\n        }, {\n          key: \"getExistingFallback\",\n          value: function getExistingFallback() {\n            var getFallback = function getFallback(elements) {\n              var _iterator4 = dropzone_createForOfIteratorHelper(elements, true),\n                _step4;\n              try {\n                for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                  var el = _step4.value;\n                  if (/(^| )fallback($| )/.test(el.className)) {\n                    return el;\n                  }\n                }\n              } catch (err) {\n                _iterator4.e(err);\n              } finally {\n                _iterator4.f();\n              }\n            };\n            for (var _i = 0, _arr = [\"div\", \"form\"]; _i < _arr.length; _i++) {\n              var tagName = _arr[_i];\n              var fallback;\n              if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n                return fallback;\n              }\n            }\n          } // Activates all listeners stored in @listeners\n        }, {\n          key: \"setupEventListeners\",\n          value: function setupEventListeners() {\n            return this.listeners.map(function (elementListeners) {\n              return function () {\n                var result = [];\n                for (var event in elementListeners.events) {\n                  var listener = elementListeners.events[event];\n                  result.push(elementListeners.element.addEventListener(event, listener, false));\n                }\n                return result;\n              }();\n            });\n          } // Deactivates all listeners stored in @listeners\n        }, {\n          key: \"removeEventListeners\",\n          value: function removeEventListeners() {\n            return this.listeners.map(function (elementListeners) {\n              return function () {\n                var result = [];\n                for (var event in elementListeners.events) {\n                  var listener = elementListeners.events[event];\n                  result.push(elementListeners.element.removeEventListener(event, listener, false));\n                }\n                return result;\n              }();\n            });\n          } // Removes all event listeners and cancels all files in the queue or being processed.\n        }, {\n          key: \"disable\",\n          value: function disable() {\n            var _this3 = this;\n            this.clickableElements.forEach(function (element) {\n              return element.classList.remove(\"dz-clickable\");\n            });\n            this.removeEventListeners();\n            this.disabled = true;\n            return this.files.map(function (file) {\n              return _this3.cancelUpload(file);\n            });\n          }\n        }, {\n          key: \"enable\",\n          value: function enable() {\n            delete this.disabled;\n            this.clickableElements.forEach(function (element) {\n              return element.classList.add(\"dz-clickable\");\n            });\n            return this.setupEventListeners();\n          } // Returns a nicely formatted filesize\n        }, {\n          key: \"filesize\",\n          value: function filesize(size) {\n            var selectedSize = 0;\n            var selectedUnit = \"b\";\n            if (size > 0) {\n              var units = [\"tb\", \"gb\", \"mb\", \"kb\", \"b\"];\n              for (var i = 0; i < units.length; i++) {\n                var unit = units[i];\n                var cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n                if (size >= cutoff) {\n                  selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n                  selectedUnit = unit;\n                  break;\n                }\n              }\n              selectedSize = Math.round(10 * selectedSize) / 10; // Cutting of digits\n            }\n            return \"<strong>\".concat(selectedSize, \"</strong> \").concat(this.options.dictFileSizeUnits[selectedUnit]);\n          } // Adds or removes the `dz-max-files-reached` class from the form.\n        }, {\n          key: \"_updateMaxFilesReachedClass\",\n          value: function _updateMaxFilesReachedClass() {\n            if (this.options.maxFiles != null && this.getAcceptedFiles().length >= this.options.maxFiles) {\n              if (this.getAcceptedFiles().length === this.options.maxFiles) {\n                this.emit(\"maxfilesreached\", this.files);\n              }\n              return this.element.classList.add(\"dz-max-files-reached\");\n            } else {\n              return this.element.classList.remove(\"dz-max-files-reached\");\n            }\n          }\n        }, {\n          key: \"drop\",\n          value: function drop(e) {\n            if (!e.dataTransfer) {\n              return;\n            }\n            this.emit(\"drop\", e); // Convert the FileList to an Array\n            // This is necessary for IE11\n\n            var files = [];\n            for (var i = 0; i < e.dataTransfer.files.length; i++) {\n              files[i] = e.dataTransfer.files[i];\n            } // Even if it's a folder, files.length will contain the folders.\n\n            if (files.length) {\n              var items = e.dataTransfer.items;\n              if (items && items.length && items[0].webkitGetAsEntry != null) {\n                // The browser supports dropping of folders, so handle items instead of files\n                this._addFilesFromItems(items);\n              } else {\n                this.handleFiles(files);\n              }\n            }\n            this.emit(\"addedfiles\", files);\n          }\n        }, {\n          key: \"paste\",\n          value: function paste(e) {\n            if (__guard__(e != null ? e.clipboardData : undefined, function (x) {\n              return x.items;\n            }) == null) {\n              return;\n            }\n            this.emit(\"paste\", e);\n            var items = e.clipboardData.items;\n            if (items.length) {\n              return this._addFilesFromItems(items);\n            }\n          }\n        }, {\n          key: \"handleFiles\",\n          value: function handleFiles(files) {\n            var _iterator5 = dropzone_createForOfIteratorHelper(files, true),\n              _step5;\n            try {\n              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                var file = _step5.value;\n                this.addFile(file);\n              }\n            } catch (err) {\n              _iterator5.e(err);\n            } finally {\n              _iterator5.f();\n            }\n          } // When a folder is dropped (or files are pasted), items must be handled\n          // instead of files.\n        }, {\n          key: \"_addFilesFromItems\",\n          value: function _addFilesFromItems(items) {\n            var _this4 = this;\n            return function () {\n              var result = [];\n              var _iterator6 = dropzone_createForOfIteratorHelper(items, true),\n                _step6;\n              try {\n                for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                  var item = _step6.value;\n                  var entry;\n                  if (item.webkitGetAsEntry != null && (entry = item.webkitGetAsEntry())) {\n                    if (entry.isFile) {\n                      result.push(_this4.addFile(item.getAsFile()));\n                    } else if (entry.isDirectory) {\n                      // Append all files from that directory to files\n                      result.push(_this4._addFilesFromDirectory(entry, entry.name));\n                    } else {\n                      result.push(undefined);\n                    }\n                  } else if (item.getAsFile != null) {\n                    if (item.kind == null || item.kind === \"file\") {\n                      result.push(_this4.addFile(item.getAsFile()));\n                    } else {\n                      result.push(undefined);\n                    }\n                  } else {\n                    result.push(undefined);\n                  }\n                }\n              } catch (err) {\n                _iterator6.e(err);\n              } finally {\n                _iterator6.f();\n              }\n              return result;\n            }();\n          } // Goes through the directory, and adds each file it finds recursively\n        }, {\n          key: \"_addFilesFromDirectory\",\n          value: function _addFilesFromDirectory(directory, path) {\n            var _this5 = this;\n            var dirReader = directory.createReader();\n            var errorHandler = function errorHandler(error) {\n              return __guardMethod__(console, \"log\", function (o) {\n                return o.log(error);\n              });\n            };\n            var readEntries = function readEntries() {\n              return dirReader.readEntries(function (entries) {\n                if (entries.length > 0) {\n                  var _iterator7 = dropzone_createForOfIteratorHelper(entries, true),\n                    _step7;\n                  try {\n                    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                      var entry = _step7.value;\n                      if (entry.isFile) {\n                        entry.file(function (file) {\n                          if (_this5.options.ignoreHiddenFiles && file.name.substring(0, 1) === \".\") {\n                            return;\n                          }\n                          file.fullPath = \"\".concat(path, \"/\").concat(file.name);\n                          return _this5.addFile(file);\n                        });\n                      } else if (entry.isDirectory) {\n                        _this5._addFilesFromDirectory(entry, \"\".concat(path, \"/\").concat(entry.name));\n                      }\n                    } // Recursively call readEntries() again, since browser only handle\n                    // the first 100 entries.\n                    // See: https://developer.mozilla.org/en-US/docs/Web/API/DirectoryReader#readEntries\n                  } catch (err) {\n                    _iterator7.e(err);\n                  } finally {\n                    _iterator7.f();\n                  }\n                  readEntries();\n                }\n                return null;\n              }, errorHandler);\n            };\n            return readEntries();\n          } // If `done()` is called without argument the file is accepted\n          // If you call it with an error message, the file is rejected\n          // (This allows for asynchronous validation)\n          //\n          // This function checks the filesize, and if the file.type passes the\n          // `acceptedFiles` check.\n        }, {\n          key: \"accept\",\n          value: function accept(file, done) {\n            if (this.options.maxFilesize && file.size > this.options.maxFilesize * 1024 * 1024) {\n              done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n            } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n              done(this.options.dictInvalidFileType);\n            } else if (this.options.maxFiles != null && this.getAcceptedFiles().length >= this.options.maxFiles) {\n              done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n              this.emit(\"maxfilesexceeded\", file);\n            } else {\n              this.options.accept.call(this, file, done);\n            }\n          }\n        }, {\n          key: \"addFile\",\n          value: function addFile(file) {\n            var _this6 = this;\n            file.upload = {\n              uuid: Dropzone.uuidv4(),\n              progress: 0,\n              // Setting the total upload size to file.size for the beginning\n              // It's actual different than the size to be transmitted.\n              total: file.size,\n              bytesSent: 0,\n              filename: this._renameFile(file) // Not setting chunking information here, because the acutal data  and\n              // thus the chunks  might change if `options.transformFile` is set\n              // and does something to the data.\n            };\n            this.files.push(file);\n            file.status = Dropzone.ADDED;\n            this.emit(\"addedfile\", file);\n            this._enqueueThumbnail(file);\n            this.accept(file, function (error) {\n              if (error) {\n                file.accepted = false;\n                _this6._errorProcessing([file], error); // Will set the file.status\n              } else {\n                file.accepted = true;\n                if (_this6.options.autoQueue) {\n                  _this6.enqueueFile(file);\n                } // Will set .accepted = true\n              }\n              _this6._updateMaxFilesReachedClass();\n            });\n          } // Wrapper for enqueueFile\n        }, {\n          key: \"enqueueFiles\",\n          value: function enqueueFiles(files) {\n            var _iterator8 = dropzone_createForOfIteratorHelper(files, true),\n              _step8;\n            try {\n              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                var file = _step8.value;\n                this.enqueueFile(file);\n              }\n            } catch (err) {\n              _iterator8.e(err);\n            } finally {\n              _iterator8.f();\n            }\n            return null;\n          }\n        }, {\n          key: \"enqueueFile\",\n          value: function enqueueFile(file) {\n            var _this7 = this;\n            if (file.status === Dropzone.ADDED && file.accepted === true) {\n              file.status = Dropzone.QUEUED;\n              if (this.options.autoProcessQueue) {\n                return setTimeout(function () {\n                  return _this7.processQueue();\n                }, 0); // Deferring the call\n              }\n            } else {\n              throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n            }\n          }\n        }, {\n          key: \"_enqueueThumbnail\",\n          value: function _enqueueThumbnail(file) {\n            var _this8 = this;\n            if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n              this._thumbnailQueue.push(file);\n              return setTimeout(function () {\n                return _this8._processThumbnailQueue();\n              }, 0); // Deferring the call\n            }\n          }\n        }, {\n          key: \"_processThumbnailQueue\",\n          value: function _processThumbnailQueue() {\n            var _this9 = this;\n            if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n              return;\n            }\n            this._processingThumbnail = true;\n            var file = this._thumbnailQueue.shift();\n            return this.createThumbnail(file, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.thumbnailMethod, true, function (dataUrl) {\n              _this9.emit(\"thumbnail\", file, dataUrl);\n              _this9._processingThumbnail = false;\n              return _this9._processThumbnailQueue();\n            });\n          } // Can be called by the user to remove a file\n        }, {\n          key: \"removeFile\",\n          value: function removeFile(file) {\n            if (file.status === Dropzone.UPLOADING) {\n              this.cancelUpload(file);\n            }\n            this.files = without(this.files, file);\n            this.emit(\"removedfile\", file);\n            if (this.files.length === 0) {\n              return this.emit(\"reset\");\n            }\n          } // Removes all files that aren't currently processed from the list\n        }, {\n          key: \"removeAllFiles\",\n          value: function removeAllFiles(cancelIfNecessary) {\n            // Create a copy of files since removeFile() changes the @files array.\n            if (cancelIfNecessary == null) {\n              cancelIfNecessary = false;\n            }\n            var _iterator9 = dropzone_createForOfIteratorHelper(this.files.slice(), true),\n              _step9;\n            try {\n              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                var file = _step9.value;\n                if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n                  this.removeFile(file);\n                }\n              }\n            } catch (err) {\n              _iterator9.e(err);\n            } finally {\n              _iterator9.f();\n            }\n            return null;\n          } // Resizes an image before it gets sent to the server. This function is the default behavior of\n          // `options.transformFile` if `resizeWidth` or `resizeHeight` are set. The callback is invoked with\n          // the resized blob.\n        }, {\n          key: \"resizeImage\",\n          value: function resizeImage(file, width, height, resizeMethod, callback) {\n            var _this10 = this;\n            return this.createThumbnail(file, width, height, resizeMethod, true, function (dataUrl, canvas) {\n              if (canvas == null) {\n                // The image has not been resized\n                return callback(file);\n              } else {\n                var resizeMimeType = _this10.options.resizeMimeType;\n                if (resizeMimeType == null) {\n                  resizeMimeType = file.type;\n                }\n                var resizedDataURL = canvas.toDataURL(resizeMimeType, _this10.options.resizeQuality);\n                if (resizeMimeType === \"image/jpeg\" || resizeMimeType === \"image/jpg\") {\n                  // Now add the original EXIF information\n                  resizedDataURL = ExifRestore.restore(file.dataURL, resizedDataURL);\n                }\n                return callback(Dropzone.dataURItoBlob(resizedDataURL));\n              }\n            });\n          }\n        }, {\n          key: \"createThumbnail\",\n          value: function createThumbnail(file, width, height, resizeMethod, fixOrientation, callback) {\n            var _this11 = this;\n            var fileReader = new FileReader();\n            fileReader.onload = function () {\n              file.dataURL = fileReader.result; // Don't bother creating a thumbnail for SVG images since they're vector\n\n              if (file.type === \"image/svg+xml\") {\n                if (callback != null) {\n                  callback(fileReader.result);\n                }\n                return;\n              }\n              _this11.createThumbnailFromUrl(file, width, height, resizeMethod, fixOrientation, callback);\n            };\n            fileReader.readAsDataURL(file);\n          } // `mockFile` needs to have these attributes:\n          //\n          //     { name: 'name', size: 12345, imageUrl: '' }\n          //\n          // `callback` will be invoked when the image has been downloaded and displayed.\n          // `crossOrigin` will be added to the `img` tag when accessing the file.\n        }, {\n          key: \"displayExistingFile\",\n          value: function displayExistingFile(mockFile, imageUrl, callback, crossOrigin) {\n            var _this12 = this;\n            var resizeThumbnail = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n            this.emit(\"addedfile\", mockFile);\n            this.emit(\"complete\", mockFile);\n            if (!resizeThumbnail) {\n              this.emit(\"thumbnail\", mockFile, imageUrl);\n              if (callback) callback();\n            } else {\n              var onDone = function onDone(thumbnail) {\n                _this12.emit(\"thumbnail\", mockFile, thumbnail);\n                if (callback) callback();\n              };\n              mockFile.dataURL = imageUrl;\n              this.createThumbnailFromUrl(mockFile, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.thumbnailMethod, this.options.fixOrientation, onDone, crossOrigin);\n            }\n          }\n        }, {\n          key: \"createThumbnailFromUrl\",\n          value: function createThumbnailFromUrl(file, width, height, resizeMethod, fixOrientation, callback, crossOrigin) {\n            var _this13 = this;\n\n            // Not using `new Image` here because of a bug in latest Chrome versions.\n            // See https://github.com/enyo/dropzone/pull/226\n            var img = document.createElement(\"img\");\n            if (crossOrigin) {\n              img.crossOrigin = crossOrigin;\n            } // fixOrientation is not needed anymore with browsers handling imageOrientation\n\n            fixOrientation = getComputedStyle(document.body)[\"imageOrientation\"] == \"from-image\" ? false : fixOrientation;\n            img.onload = function () {\n              var loadExif = function loadExif(callback) {\n                return callback(1);\n              };\n              if (typeof EXIF !== \"undefined\" && EXIF !== null && fixOrientation) {\n                loadExif = function loadExif(callback) {\n                  return EXIF.getData(img, function () {\n                    return callback(EXIF.getTag(this, \"Orientation\"));\n                  });\n                };\n              }\n              return loadExif(function (orientation) {\n                file.width = img.width;\n                file.height = img.height;\n                var resizeInfo = _this13.options.resize.call(_this13, file, width, height, resizeMethod);\n                var canvas = document.createElement(\"canvas\");\n                var ctx = canvas.getContext(\"2d\");\n                canvas.width = resizeInfo.trgWidth;\n                canvas.height = resizeInfo.trgHeight;\n                if (orientation > 4) {\n                  canvas.width = resizeInfo.trgHeight;\n                  canvas.height = resizeInfo.trgWidth;\n                }\n                switch (orientation) {\n                  case 2:\n                    // horizontal flip\n                    ctx.translate(canvas.width, 0);\n                    ctx.scale(-1, 1);\n                    break;\n                  case 3:\n                    // 180 rotate left\n                    ctx.translate(canvas.width, canvas.height);\n                    ctx.rotate(Math.PI);\n                    break;\n                  case 4:\n                    // vertical flip\n                    ctx.translate(0, canvas.height);\n                    ctx.scale(1, -1);\n                    break;\n                  case 5:\n                    // vertical flip + 90 rotate right\n                    ctx.rotate(0.5 * Math.PI);\n                    ctx.scale(1, -1);\n                    break;\n                  case 6:\n                    // 90 rotate right\n                    ctx.rotate(0.5 * Math.PI);\n                    ctx.translate(0, -canvas.width);\n                    break;\n                  case 7:\n                    // horizontal flip + 90 rotate right\n                    ctx.rotate(0.5 * Math.PI);\n                    ctx.translate(canvas.height, -canvas.width);\n                    ctx.scale(-1, 1);\n                    break;\n                  case 8:\n                    // 90 rotate left\n                    ctx.rotate(-0.5 * Math.PI);\n                    ctx.translate(-canvas.height, 0);\n                    break;\n                } // This is a bugfix for iOS' scaling bug.\n\n                drawImageIOSFix(ctx, img, resizeInfo.srcX != null ? resizeInfo.srcX : 0, resizeInfo.srcY != null ? resizeInfo.srcY : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, resizeInfo.trgX != null ? resizeInfo.trgX : 0, resizeInfo.trgY != null ? resizeInfo.trgY : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n                var thumbnail = canvas.toDataURL(\"image/png\");\n                if (callback != null) {\n                  return callback(thumbnail, canvas);\n                }\n              });\n            };\n            if (callback != null) {\n              img.onerror = callback;\n            }\n            return img.src = file.dataURL;\n          } // Goes through the queue and processes files if there aren't too many already.\n        }, {\n          key: \"processQueue\",\n          value: function processQueue() {\n            var parallelUploads = this.options.parallelUploads;\n            var processingLength = this.getUploadingFiles().length;\n            var i = processingLength; // There are already at least as many files uploading than should be\n\n            if (processingLength >= parallelUploads) {\n              return;\n            }\n            var queuedFiles = this.getQueuedFiles();\n            if (!(queuedFiles.length > 0)) {\n              return;\n            }\n            if (this.options.uploadMultiple) {\n              // The files should be uploaded in one request\n              return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n            } else {\n              while (i < parallelUploads) {\n                if (!queuedFiles.length) {\n                  return;\n                } // Nothing left to process\n\n                this.processFile(queuedFiles.shift());\n                i++;\n              }\n            }\n          } // Wrapper for `processFiles`\n        }, {\n          key: \"processFile\",\n          value: function processFile(file) {\n            return this.processFiles([file]);\n          } // Loads the file, then calls finishedLoading()\n        }, {\n          key: \"processFiles\",\n          value: function processFiles(files) {\n            var _iterator10 = dropzone_createForOfIteratorHelper(files, true),\n              _step10;\n            try {\n              for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                var file = _step10.value;\n                file.processing = true; // Backwards compatibility\n\n                file.status = Dropzone.UPLOADING;\n                this.emit(\"processing\", file);\n              }\n            } catch (err) {\n              _iterator10.e(err);\n            } finally {\n              _iterator10.f();\n            }\n            if (this.options.uploadMultiple) {\n              this.emit(\"processingmultiple\", files);\n            }\n            return this.uploadFiles(files);\n          }\n        }, {\n          key: \"_getFilesWithXhr\",\n          value: function _getFilesWithXhr(xhr) {\n            var files;\n            return files = this.files.filter(function (file) {\n              return file.xhr === xhr;\n            }).map(function (file) {\n              return file;\n            });\n          } // Cancels the file upload and sets the status to CANCELED\n          // **if** the file is actually being uploaded.\n          // If it's still in the queue, the file is being removed from it and the status\n          // set to CANCELED.\n        }, {\n          key: \"cancelUpload\",\n          value: function cancelUpload(file) {\n            if (file.status === Dropzone.UPLOADING) {\n              var groupedFiles = this._getFilesWithXhr(file.xhr);\n              var _iterator11 = dropzone_createForOfIteratorHelper(groupedFiles, true),\n                _step11;\n              try {\n                for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n                  var groupedFile = _step11.value;\n                  groupedFile.status = Dropzone.CANCELED;\n                }\n              } catch (err) {\n                _iterator11.e(err);\n              } finally {\n                _iterator11.f();\n              }\n              if (typeof file.xhr !== \"undefined\") {\n                file.xhr.abort();\n              }\n              var _iterator12 = dropzone_createForOfIteratorHelper(groupedFiles, true),\n                _step12;\n              try {\n                for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                  var _groupedFile = _step12.value;\n                  this.emit(\"canceled\", _groupedFile);\n                }\n              } catch (err) {\n                _iterator12.e(err);\n              } finally {\n                _iterator12.f();\n              }\n              if (this.options.uploadMultiple) {\n                this.emit(\"canceledmultiple\", groupedFiles);\n              }\n            } else if (file.status === Dropzone.ADDED || file.status === Dropzone.QUEUED) {\n              file.status = Dropzone.CANCELED;\n              this.emit(\"canceled\", file);\n              if (this.options.uploadMultiple) {\n                this.emit(\"canceledmultiple\", [file]);\n              }\n            }\n            if (this.options.autoProcessQueue) {\n              return this.processQueue();\n            }\n          }\n        }, {\n          key: \"resolveOption\",\n          value: function resolveOption(option) {\n            if (typeof option === \"function\") {\n              for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n              }\n              return option.apply(this, args);\n            }\n            return option;\n          }\n        }, {\n          key: \"uploadFile\",\n          value: function uploadFile(file) {\n            return this.uploadFiles([file]);\n          }\n        }, {\n          key: \"uploadFiles\",\n          value: function uploadFiles(files) {\n            var _this14 = this;\n            this._transformFiles(files, function (transformedFiles) {\n              if (_this14.options.chunking) {\n                // Chunking is not allowed to be used with `uploadMultiple` so we know\n                // that there is only __one__file.\n                var transformedFile = transformedFiles[0];\n                files[0].upload.chunked = _this14.options.chunking && (_this14.options.forceChunking || transformedFile.size > _this14.options.chunkSize);\n                files[0].upload.totalChunkCount = Math.ceil(transformedFile.size / _this14.options.chunkSize);\n              }\n              if (files[0].upload.chunked) {\n                // This file should be sent in chunks!\n                // If the chunking option is set, we **know** that there can only be **one** file, since\n                // uploadMultiple is not allowed with this option.\n                var file = files[0];\n                var _transformedFile = transformedFiles[0];\n                var startedChunkCount = 0;\n                file.upload.chunks = [];\n                var handleNextChunk = function handleNextChunk() {\n                  var chunkIndex = 0; // Find the next item in file.upload.chunks that is not defined yet.\n\n                  while (file.upload.chunks[chunkIndex] !== undefined) {\n                    chunkIndex++;\n                  } // This means, that all chunks have already been started.\n\n                  if (chunkIndex >= file.upload.totalChunkCount) return;\n                  startedChunkCount++;\n                  var start = chunkIndex * _this14.options.chunkSize;\n                  var end = Math.min(start + _this14.options.chunkSize, _transformedFile.size);\n                  var dataBlock = {\n                    name: _this14._getParamName(0),\n                    data: _transformedFile.webkitSlice ? _transformedFile.webkitSlice(start, end) : _transformedFile.slice(start, end),\n                    filename: file.upload.filename,\n                    chunkIndex: chunkIndex\n                  };\n                  file.upload.chunks[chunkIndex] = {\n                    file: file,\n                    index: chunkIndex,\n                    dataBlock: dataBlock,\n                    // In case we want to retry.\n                    status: Dropzone.UPLOADING,\n                    progress: 0,\n                    retries: 0 // The number of times this block has been retried.\n                  };\n                  _this14._uploadData(files, [dataBlock]);\n                };\n                file.upload.finishedChunkUpload = function (chunk, response) {\n                  var allFinished = true;\n                  chunk.status = Dropzone.SUCCESS; // Clear the data from the chunk\n\n                  chunk.dataBlock = null; // Leaving this reference to xhr intact here will cause memory leaks in some browsers\n\n                  chunk.xhr = null;\n                  for (var i = 0; i < file.upload.totalChunkCount; i++) {\n                    if (file.upload.chunks[i] === undefined) {\n                      return handleNextChunk();\n                    }\n                    if (file.upload.chunks[i].status !== Dropzone.SUCCESS) {\n                      allFinished = false;\n                    }\n                  }\n                  if (allFinished) {\n                    _this14.options.chunksUploaded(file, function () {\n                      _this14._finished(files, response, null);\n                    });\n                  }\n                };\n                if (_this14.options.parallelChunkUploads) {\n                  for (var i = 0; i < file.upload.totalChunkCount; i++) {\n                    handleNextChunk();\n                  }\n                } else {\n                  handleNextChunk();\n                }\n              } else {\n                var dataBlocks = [];\n                for (var _i2 = 0; _i2 < files.length; _i2++) {\n                  dataBlocks[_i2] = {\n                    name: _this14._getParamName(_i2),\n                    data: transformedFiles[_i2],\n                    filename: files[_i2].upload.filename\n                  };\n                }\n                _this14._uploadData(files, dataBlocks);\n              }\n            });\n          } /// Returns the right chunk for given file and xhr\n        }, {\n          key: \"_getChunk\",\n          value: function _getChunk(file, xhr) {\n            for (var i = 0; i < file.upload.totalChunkCount; i++) {\n              if (file.upload.chunks[i] !== undefined && file.upload.chunks[i].xhr === xhr) {\n                return file.upload.chunks[i];\n              }\n            }\n          } // This function actually uploads the file(s) to the server.\n          // If dataBlocks contains the actual data to upload (meaning, that this could either be transformed\n          // files, or individual chunks for chunked upload).\n        }, {\n          key: \"_uploadData\",\n          value: function _uploadData(files, dataBlocks) {\n            var _this15 = this;\n            var xhr = new XMLHttpRequest(); // Put the xhr object in the file objects to be able to reference it later.\n\n            var _iterator13 = dropzone_createForOfIteratorHelper(files, true),\n              _step13;\n            try {\n              for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n                var file = _step13.value;\n                file.xhr = xhr;\n              }\n            } catch (err) {\n              _iterator13.e(err);\n            } finally {\n              _iterator13.f();\n            }\n            if (files[0].upload.chunked) {\n              // Put the xhr object in the right chunk object, so it can be associated later, and found with _getChunk\n              files[0].upload.chunks[dataBlocks[0].chunkIndex].xhr = xhr;\n            }\n            var method = this.resolveOption(this.options.method, files);\n            var url = this.resolveOption(this.options.url, files);\n            xhr.open(method, url, true); // Setting the timeout after open because of IE11 issue: https://gitlab.com/meno/dropzone/issues/8\n\n            var timeout = this.resolveOption(this.options.timeout, files);\n            if (timeout) xhr.timeout = this.resolveOption(this.options.timeout, files); // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n\n            xhr.withCredentials = !!this.options.withCredentials;\n            xhr.onload = function (e) {\n              _this15._finishedUploading(files, xhr, e);\n            };\n            xhr.ontimeout = function () {\n              _this15._handleUploadError(files, xhr, \"Request timedout after \".concat(_this15.options.timeout / 1000, \" seconds\"));\n            };\n            xhr.onerror = function () {\n              _this15._handleUploadError(files, xhr);\n            }; // Some browsers do not have the .upload property\n\n            var progressObj = xhr.upload != null ? xhr.upload : xhr;\n            progressObj.onprogress = function (e) {\n              return _this15._updateFilesUploadProgress(files, xhr, e);\n            };\n            var headers = {\n              Accept: \"application/json\",\n              \"Cache-Control\": \"no-cache\",\n              \"X-Requested-With\": \"XMLHttpRequest\"\n            };\n            if (this.options.headers) {\n              Dropzone.extend(headers, this.options.headers);\n            }\n            for (var headerName in headers) {\n              var headerValue = headers[headerName];\n              if (headerValue) {\n                xhr.setRequestHeader(headerName, headerValue);\n              }\n            }\n            var formData = new FormData(); // Adding all @options parameters\n\n            if (this.options.params) {\n              var additionalParams = this.options.params;\n              if (typeof additionalParams === \"function\") {\n                additionalParams = additionalParams.call(this, files, xhr, files[0].upload.chunked ? this._getChunk(files[0], xhr) : null);\n              }\n              for (var key in additionalParams) {\n                var value = additionalParams[key];\n                if (Array.isArray(value)) {\n                  // The additional parameter contains an array,\n                  // so lets iterate over it to attach each value\n                  // individually.\n                  for (var i = 0; i < value.length; i++) {\n                    formData.append(key, value[i]);\n                  }\n                } else {\n                  formData.append(key, value);\n                }\n              }\n            } // Let the user add additional data if necessary\n\n            var _iterator14 = dropzone_createForOfIteratorHelper(files, true),\n              _step14;\n            try {\n              for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n                var _file = _step14.value;\n                this.emit(\"sending\", _file, xhr, formData);\n              }\n            } catch (err) {\n              _iterator14.e(err);\n            } finally {\n              _iterator14.f();\n            }\n            if (this.options.uploadMultiple) {\n              this.emit(\"sendingmultiple\", files, xhr, formData);\n            }\n            this._addFormElementData(formData); // Finally add the files\n            // Has to be last because some servers (eg: S3) expect the file to be the last parameter\n\n            for (var _i3 = 0; _i3 < dataBlocks.length; _i3++) {\n              var dataBlock = dataBlocks[_i3];\n              formData.append(dataBlock.name, dataBlock.data, dataBlock.filename);\n            }\n            this.submitRequest(xhr, formData, files);\n          } // Transforms all files with this.options.transformFile and invokes done with the transformed files when done.\n        }, {\n          key: \"_transformFiles\",\n          value: function _transformFiles(files, done) {\n            var _this16 = this;\n            var transformedFiles = []; // Clumsy way of handling asynchronous calls, until I get to add a proper Future library.\n\n            var doneCounter = 0;\n            var _loop = function _loop(i) {\n              _this16.options.transformFile.call(_this16, files[i], function (transformedFile) {\n                transformedFiles[i] = transformedFile;\n                if (++doneCounter === files.length) {\n                  done(transformedFiles);\n                }\n              });\n            };\n            for (var i = 0; i < files.length; i++) {\n              _loop(i);\n            }\n          } // Takes care of adding other input elements of the form to the AJAX request\n        }, {\n          key: \"_addFormElementData\",\n          value: function _addFormElementData(formData) {\n            // Take care of other input elements\n            if (this.element.tagName === \"FORM\") {\n              var _iterator15 = dropzone_createForOfIteratorHelper(this.element.querySelectorAll(\"input, textarea, select, button\"), true),\n                _step15;\n              try {\n                for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n                  var input = _step15.value;\n                  var inputName = input.getAttribute(\"name\");\n                  var inputType = input.getAttribute(\"type\");\n                  if (inputType) inputType = inputType.toLowerCase(); // If the input doesn't have a name, we can't use it.\n\n                  if (typeof inputName === \"undefined\" || inputName === null) continue;\n                  if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n                    // Possibly multiple values\n                    var _iterator16 = dropzone_createForOfIteratorHelper(input.options, true),\n                      _step16;\n                    try {\n                      for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n                        var option = _step16.value;\n                        if (option.selected) {\n                          formData.append(inputName, option.value);\n                        }\n                      }\n                    } catch (err) {\n                      _iterator16.e(err);\n                    } finally {\n                      _iterator16.f();\n                    }\n                  } else if (!inputType || inputType !== \"checkbox\" && inputType !== \"radio\" || input.checked) {\n                    formData.append(inputName, input.value);\n                  }\n                }\n              } catch (err) {\n                _iterator15.e(err);\n              } finally {\n                _iterator15.f();\n              }\n            }\n          } // Invoked when there is new progress information about given files.\n          // If e is not provided, it is assumed that the upload is finished.\n        }, {\n          key: \"_updateFilesUploadProgress\",\n          value: function _updateFilesUploadProgress(files, xhr, e) {\n            if (!files[0].upload.chunked) {\n              // Handle file uploads without chunking\n              var _iterator17 = dropzone_createForOfIteratorHelper(files, true),\n                _step17;\n              try {\n                for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n                  var file = _step17.value;\n                  if (file.upload.total && file.upload.bytesSent && file.upload.bytesSent == file.upload.total) {\n                    // If both, the `total` and `bytesSent` have already been set, and\n                    // they are equal (meaning progress is at 100%), we can skip this\n                    // file, since an upload progress shouldn't go down.\n                    continue;\n                  }\n                  if (e) {\n                    file.upload.progress = 100 * e.loaded / e.total;\n                    file.upload.total = e.total;\n                    file.upload.bytesSent = e.loaded;\n                  } else {\n                    // No event, so we're at 100%\n                    file.upload.progress = 100;\n                    file.upload.bytesSent = file.upload.total;\n                  }\n                  this.emit(\"uploadprogress\", file, file.upload.progress, file.upload.bytesSent);\n                }\n              } catch (err) {\n                _iterator17.e(err);\n              } finally {\n                _iterator17.f();\n              }\n            } else {\n              // Handle chunked file uploads\n              // Chunked upload is not compatible with uploading multiple files in one\n              // request, so we know there's only one file.\n              var _file2 = files[0]; // Since this is a chunked upload, we need to update the appropriate chunk\n              // progress.\n\n              var chunk = this._getChunk(_file2, xhr);\n              if (e) {\n                chunk.progress = 100 * e.loaded / e.total;\n                chunk.total = e.total;\n                chunk.bytesSent = e.loaded;\n              } else {\n                // No event, so we're at 100%\n                chunk.progress = 100;\n                chunk.bytesSent = chunk.total;\n              } // Now tally the *file* upload progress from its individual chunks\n\n              _file2.upload.progress = 0;\n              _file2.upload.total = 0;\n              _file2.upload.bytesSent = 0;\n              for (var i = 0; i < _file2.upload.totalChunkCount; i++) {\n                if (_file2.upload.chunks[i] && typeof _file2.upload.chunks[i].progress !== \"undefined\") {\n                  _file2.upload.progress += _file2.upload.chunks[i].progress;\n                  _file2.upload.total += _file2.upload.chunks[i].total;\n                  _file2.upload.bytesSent += _file2.upload.chunks[i].bytesSent;\n                }\n              } // Since the process is a percentage, we need to divide by the amount of\n              // chunks we've used.\n\n              _file2.upload.progress = _file2.upload.progress / _file2.upload.totalChunkCount;\n              this.emit(\"uploadprogress\", _file2, _file2.upload.progress, _file2.upload.bytesSent);\n            }\n          }\n        }, {\n          key: \"_finishedUploading\",\n          value: function _finishedUploading(files, xhr, e) {\n            var response;\n            if (files[0].status === Dropzone.CANCELED) {\n              return;\n            }\n            if (xhr.readyState !== 4) {\n              return;\n            }\n            if (xhr.responseType !== \"arraybuffer\" && xhr.responseType !== \"blob\") {\n              response = xhr.responseText;\n              if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n                try {\n                  response = JSON.parse(response);\n                } catch (error) {\n                  e = error;\n                  response = \"Invalid JSON response from server.\";\n                }\n              }\n            }\n            this._updateFilesUploadProgress(files, xhr);\n            if (!(200 <= xhr.status && xhr.status < 300)) {\n              this._handleUploadError(files, xhr, response);\n            } else {\n              if (files[0].upload.chunked) {\n                files[0].upload.finishedChunkUpload(this._getChunk(files[0], xhr), response);\n              } else {\n                this._finished(files, response, e);\n              }\n            }\n          }\n        }, {\n          key: \"_handleUploadError\",\n          value: function _handleUploadError(files, xhr, response) {\n            if (files[0].status === Dropzone.CANCELED) {\n              return;\n            }\n            if (files[0].upload.chunked && this.options.retryChunks) {\n              var chunk = this._getChunk(files[0], xhr);\n              if (chunk.retries++ < this.options.retryChunksLimit) {\n                this._uploadData(files, [chunk.dataBlock]);\n                return;\n              } else {\n                console.warn(\"Retried this chunk too often. Giving up.\");\n              }\n            }\n            this._errorProcessing(files, response || this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr);\n          }\n        }, {\n          key: \"submitRequest\",\n          value: function submitRequest(xhr, formData, files) {\n            if (xhr.readyState != 1) {\n              console.warn(\"Cannot send this request because the XMLHttpRequest.readyState is not OPENED.\");\n              return;\n            }\n            xhr.send(formData);\n          } // Called internally when processing is finished.\n          // Individual callbacks have to be called in the appropriate sections.\n        }, {\n          key: \"_finished\",\n          value: function _finished(files, responseText, e) {\n            var _iterator18 = dropzone_createForOfIteratorHelper(files, true),\n              _step18;\n            try {\n              for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n                var file = _step18.value;\n                file.status = Dropzone.SUCCESS;\n                this.emit(\"success\", file, responseText, e);\n                this.emit(\"complete\", file);\n              }\n            } catch (err) {\n              _iterator18.e(err);\n            } finally {\n              _iterator18.f();\n            }\n            if (this.options.uploadMultiple) {\n              this.emit(\"successmultiple\", files, responseText, e);\n              this.emit(\"completemultiple\", files);\n            }\n            if (this.options.autoProcessQueue) {\n              return this.processQueue();\n            }\n          } // Called internally when processing is finished.\n          // Individual callbacks have to be called in the appropriate sections.\n        }, {\n          key: \"_errorProcessing\",\n          value: function _errorProcessing(files, message, xhr) {\n            var _iterator19 = dropzone_createForOfIteratorHelper(files, true),\n              _step19;\n            try {\n              for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n                var file = _step19.value;\n                file.status = Dropzone.ERROR;\n                this.emit(\"error\", file, message, xhr);\n                this.emit(\"complete\", file);\n              }\n            } catch (err) {\n              _iterator19.e(err);\n            } finally {\n              _iterator19.f();\n            }\n            if (this.options.uploadMultiple) {\n              this.emit(\"errormultiple\", files, message, xhr);\n              this.emit(\"completemultiple\", files);\n            }\n            if (this.options.autoProcessQueue) {\n              return this.processQueue();\n            }\n          }\n        }], [{\n          key: \"initClass\",\n          value: function initClass() {\n            // Exposing the emitter class, mainly for tests\n            this.prototype.Emitter = Emitter;\n            /*\n             This is a list of all available events you can register on a dropzone object.\n              You can register an event handler like this:\n              dropzone.on(\"dragEnter\", function() { });\n              */\n\n            this.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n            this.prototype._thumbnailQueue = [];\n            this.prototype._processingThumbnail = false;\n          } // global utility\n        }, {\n          key: \"extend\",\n          value: function extend(target) {\n            for (var _len2 = arguments.length, objects = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              objects[_key2 - 1] = arguments[_key2];\n            }\n            for (var _i4 = 0, _objects = objects; _i4 < _objects.length; _i4++) {\n              var object = _objects[_i4];\n              for (var key in object) {\n                var val = object[key];\n                target[key] = val;\n              }\n            }\n            return target;\n          }\n        }, {\n          key: \"uuidv4\",\n          value: function uuidv4() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n              var r = Math.random() * 16 | 0,\n                v = c === \"x\" ? r : r & 0x3 | 0x8;\n              return v.toString(16);\n            });\n          }\n        }]);\n        return Dropzone;\n      }(Emitter);\n      Dropzone.initClass();\n      Dropzone.version = \"5.9.3\"; // This is a map of options for your different dropzones. Add configurations\n      // to this object for your different dropzone elemens.\n      //\n      // Example:\n      //\n      //     Dropzone.options.myDropzoneElementId = { maxFilesize: 1 };\n      //\n      // To disable autoDiscover for a specific element, you can set `false` as an option:\n      //\n      //     Dropzone.options.myDisabledElementId = false;\n      //\n      // And in html:\n      //\n      //     <form action=\"/upload\" id=\"my-dropzone-element-id\" class=\"dropzone\"></form>\n\n      Dropzone.options = {}; // Returns the options for an element or undefined if none available.\n\n      Dropzone.optionsForElement = function (element) {\n        // Get the `Dropzone.options.elementId` for this element if it exists\n        if (element.getAttribute(\"id\")) {\n          return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n        } else {\n          return undefined;\n        }\n      }; // Holds a list of all dropzone instances\n\n      Dropzone.instances = []; // Returns the dropzone for given element if any\n\n      Dropzone.forElement = function (element) {\n        if (typeof element === \"string\") {\n          element = document.querySelector(element);\n        }\n        if ((element != null ? element.dropzone : undefined) == null) {\n          throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n        }\n        return element.dropzone;\n      }; // Set to false if you don't want Dropzone to automatically find and attach to .dropzone elements.\n\n      Dropzone.autoDiscover = true; // Looks for all .dropzone elements and creates a dropzone for them\n\n      Dropzone.discover = function () {\n        var dropzones;\n        if (document.querySelectorAll) {\n          dropzones = document.querySelectorAll(\".dropzone\");\n        } else {\n          dropzones = []; // IE :(\n\n          var checkElements = function checkElements(elements) {\n            return function () {\n              var result = [];\n              var _iterator20 = dropzone_createForOfIteratorHelper(elements, true),\n                _step20;\n              try {\n                for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n                  var el = _step20.value;\n                  if (/(^| )dropzone($| )/.test(el.className)) {\n                    result.push(dropzones.push(el));\n                  } else {\n                    result.push(undefined);\n                  }\n                }\n              } catch (err) {\n                _iterator20.e(err);\n              } finally {\n                _iterator20.f();\n              }\n              return result;\n            }();\n          };\n          checkElements(document.getElementsByTagName(\"div\"));\n          checkElements(document.getElementsByTagName(\"form\"));\n        }\n        return function () {\n          var result = [];\n          var _iterator21 = dropzone_createForOfIteratorHelper(dropzones, true),\n            _step21;\n          try {\n            for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n              var dropzone = _step21.value;\n\n              // Create a dropzone unless auto discover has been disabled for specific element\n              if (Dropzone.optionsForElement(dropzone) !== false) {\n                result.push(new Dropzone(dropzone));\n              } else {\n                result.push(undefined);\n              }\n            }\n          } catch (err) {\n            _iterator21.e(err);\n          } finally {\n            _iterator21.f();\n          }\n          return result;\n        }();\n      }; // Some browsers support drag and drog functionality, but not correctly.\n      //\n      // So I created a blocklist of userAgents. Yes, yes. Browser sniffing, I know.\n      // But what to do when browsers *theoretically* support an API, but crash\n      // when using it.\n      //\n      // This is a list of regular expressions tested against navigator.userAgent\n      //\n      // ** It should only be used on browser that *do* support the API, but\n      // incorrectly **\n\n      Dropzone.blockedBrowsers = [\n      // The mac os and windows phone version of opera 12 seems to have a problem with the File drag'n'drop API.\n      /opera.*(Macintosh|Windows Phone).*version\\/12/i]; // Checks if the browser is supported\n\n      Dropzone.isBrowserSupported = function () {\n        var capableBrowser = true;\n        if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n          if (!(\"classList\" in document.createElement(\"a\"))) {\n            capableBrowser = false;\n          } else {\n            if (Dropzone.blacklistedBrowsers !== undefined) {\n              // Since this has been renamed, this makes sure we don't break older\n              // configuration.\n              Dropzone.blockedBrowsers = Dropzone.blacklistedBrowsers;\n            } // The browser supports the API, but may be blocked.\n\n            var _iterator22 = dropzone_createForOfIteratorHelper(Dropzone.blockedBrowsers, true),\n              _step22;\n            try {\n              for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n                var regex = _step22.value;\n                if (regex.test(navigator.userAgent)) {\n                  capableBrowser = false;\n                  continue;\n                }\n              }\n            } catch (err) {\n              _iterator22.e(err);\n            } finally {\n              _iterator22.f();\n            }\n          }\n        } else {\n          capableBrowser = false;\n        }\n        return capableBrowser;\n      };\n      Dropzone.dataURItoBlob = function (dataURI) {\n        // convert base64 to raw binary data held in a string\n        // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n        var byteString = atob(dataURI.split(\",\")[1]); // separate out the mime component\n\n        var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0]; // write the bytes of the string to an ArrayBuffer\n\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n        for (var i = 0, end = byteString.length, asc = 0 <= end; asc ? i <= end : i >= end; asc ? i++ : i--) {\n          ia[i] = byteString.charCodeAt(i);\n        } // write the ArrayBuffer to a blob\n\n        return new Blob([ab], {\n          type: mimeString\n        });\n      }; // Returns an array without the rejected item\n\n      var without = function without(list, rejectedItem) {\n        return list.filter(function (item) {\n          return item !== rejectedItem;\n        }).map(function (item) {\n          return item;\n        });\n      }; // abc-def_ghi -> abcDefGhi\n\n      var camelize = function camelize(str) {\n        return str.replace(/[\\-_](\\w)/g, function (match) {\n          return match.charAt(1).toUpperCase();\n        });\n      }; // Creates an element from string\n\n      Dropzone.createElement = function (string) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = string;\n        return div.childNodes[0];\n      }; // Tests if given element is inside (or simply is) the container\n\n      Dropzone.elementInside = function (element, container) {\n        if (element === container) {\n          return true;\n        } // Coffeescript doesn't support do/while loops\n\n        while (element = element.parentNode) {\n          if (element === container) {\n            return true;\n          }\n        }\n        return false;\n      };\n      Dropzone.getElement = function (el, name) {\n        var element;\n        if (typeof el === \"string\") {\n          element = document.querySelector(el);\n        } else if (el.nodeType != null) {\n          element = el;\n        }\n        if (element == null) {\n          throw new Error(\"Invalid `\".concat(name, \"` option provided. Please provide a CSS selector or a plain HTML element.\"));\n        }\n        return element;\n      };\n      Dropzone.getElements = function (els, name) {\n        var el, elements;\n        if (els instanceof Array) {\n          elements = [];\n          try {\n            var _iterator23 = dropzone_createForOfIteratorHelper(els, true),\n              _step23;\n            try {\n              for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n                el = _step23.value;\n                elements.push(this.getElement(el, name));\n              }\n            } catch (err) {\n              _iterator23.e(err);\n            } finally {\n              _iterator23.f();\n            }\n          } catch (e) {\n            elements = null;\n          }\n        } else if (typeof els === \"string\") {\n          elements = [];\n          var _iterator24 = dropzone_createForOfIteratorHelper(document.querySelectorAll(els), true),\n            _step24;\n          try {\n            for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {\n              el = _step24.value;\n              elements.push(el);\n            }\n          } catch (err) {\n            _iterator24.e(err);\n          } finally {\n            _iterator24.f();\n          }\n        } else if (els.nodeType != null) {\n          elements = [els];\n        }\n        if (elements == null || !elements.length) {\n          throw new Error(\"Invalid `\".concat(name, \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\"));\n        }\n        return elements;\n      }; // Asks the user the question and calls accepted or rejected accordingly\n      //\n      // The default implementation just uses `window.confirm` and then calls the\n      // appropriate callback.\n\n      Dropzone.confirm = function (question, accepted, rejected) {\n        if (window.confirm(question)) {\n          return accepted();\n        } else if (rejected != null) {\n          return rejected();\n        }\n      }; // Validates the mime type like this:\n      //\n      // https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept\n\n      Dropzone.isValidFile = function (file, acceptedFiles) {\n        if (!acceptedFiles) {\n          return true;\n        } // If there are no accepted mime types, it's OK\n\n        acceptedFiles = acceptedFiles.split(\",\");\n        var mimeType = file.type;\n        var baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n        var _iterator25 = dropzone_createForOfIteratorHelper(acceptedFiles, true),\n          _step25;\n        try {\n          for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n            var validType = _step25.value;\n            validType = validType.trim();\n            if (validType.charAt(0) === \".\") {\n              if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n                return true;\n              }\n            } else if (/\\/\\*$/.test(validType)) {\n              // This is something like a image/* mime type\n              if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n                return true;\n              }\n            } else {\n              if (mimeType === validType) {\n                return true;\n              }\n            }\n          }\n        } catch (err) {\n          _iterator25.e(err);\n        } finally {\n          _iterator25.f();\n        }\n        return false;\n      }; // Augment jQuery\n\n      if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n        jQuery.fn.dropzone = function (options) {\n          return this.each(function () {\n            return new Dropzone(this, options);\n          });\n        };\n      } // Dropzone file status codes\n\n      Dropzone.ADDED = \"added\";\n      Dropzone.QUEUED = \"queued\"; // For backwards compatibility. Now, if a file is accepted, it's either queued\n      // or uploading.\n\n      Dropzone.ACCEPTED = Dropzone.QUEUED;\n      Dropzone.UPLOADING = \"uploading\";\n      Dropzone.PROCESSING = Dropzone.UPLOADING; // alias\n\n      Dropzone.CANCELED = \"canceled\";\n      Dropzone.ERROR = \"error\";\n      Dropzone.SUCCESS = \"success\";\n      /*\n      \n       Bugfix for iOS 6 and 7\n       Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n       based on the work of https://github.com/stomita/ios-imagefile-megapixel\n      \n       */\n      // Detecting vertical squash in loaded image.\n      // Fixes a bug which squash image vertically while drawing into canvas for some images.\n      // This is a bug in iOS6 devices. This function from https://github.com/stomita/ios-imagefile-megapixel\n\n      var detectVerticalSquash = function detectVerticalSquash(img) {\n        var iw = img.naturalWidth;\n        var ih = img.naturalHeight;\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = 1;\n        canvas.height = ih;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        var _ctx$getImageData = ctx.getImageData(1, 0, 1, ih),\n          data = _ctx$getImageData.data; // search image edge pixel position in case it is squashed vertically.\n\n        var sy = 0;\n        var ey = ih;\n        var py = ih;\n        while (py > sy) {\n          var alpha = data[(py - 1) * 4 + 3];\n          if (alpha === 0) {\n            ey = py;\n          } else {\n            sy = py;\n          }\n          py = ey + sy >> 1;\n        }\n        var ratio = py / ih;\n        if (ratio === 0) {\n          return 1;\n        } else {\n          return ratio;\n        }\n      }; // A replacement for context.drawImage\n      // (args are for source and destination).\n\n      var drawImageIOSFix = function drawImageIOSFix(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n        var vertSquashRatio = detectVerticalSquash(img);\n        return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n      }; // Based on MinifyJpeg\n      // Source: http://www.perry.cz/files/ExifRestorer.js\n      // http://elicon.blog57.fc2.com/blog-entry-206.html\n\n      var ExifRestore = /*#__PURE__*/function () {\n        function ExifRestore() {\n          dropzone_classCallCheck(this, ExifRestore);\n        }\n        dropzone_createClass(ExifRestore, null, [{\n          key: \"initClass\",\n          value: function initClass() {\n            this.KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n          }\n        }, {\n          key: \"encode64\",\n          value: function encode64(input) {\n            var output = \"\";\n            var chr1 = undefined;\n            var chr2 = undefined;\n            var chr3 = \"\";\n            var enc1 = undefined;\n            var enc2 = undefined;\n            var enc3 = undefined;\n            var enc4 = \"\";\n            var i = 0;\n            while (true) {\n              chr1 = input[i++];\n              chr2 = input[i++];\n              chr3 = input[i++];\n              enc1 = chr1 >> 2;\n              enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n              enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n              enc4 = chr3 & 63;\n              if (isNaN(chr2)) {\n                enc3 = enc4 = 64;\n              } else if (isNaN(chr3)) {\n                enc4 = 64;\n              }\n              output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n              chr1 = chr2 = chr3 = \"\";\n              enc1 = enc2 = enc3 = enc4 = \"\";\n              if (!(i < input.length)) {\n                break;\n              }\n            }\n            return output;\n          }\n        }, {\n          key: \"restore\",\n          value: function restore(origFileBase64, resizedFileBase64) {\n            if (!origFileBase64.match(\"data:image/jpeg;base64,\")) {\n              return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(\"data:image/jpeg;base64,\", \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return \"data:image/jpeg;base64,\".concat(this.encode64(image));\n          }\n        }, {\n          key: \"exifManipulation\",\n          value: function exifManipulation(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments);\n            var newImageArray = this.insertExif(resizedFileBase64, exifArray);\n            var aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n          }\n        }, {\n          key: \"getExifArray\",\n          value: function getExifArray(segments) {\n            var seg = undefined;\n            var x = 0;\n            while (x < segments.length) {\n              seg = segments[x];\n              if (seg[0] === 255 & seg[1] === 225) {\n                return seg;\n              }\n              x++;\n            }\n            return [];\n          }\n        }, {\n          key: \"insertExif\",\n          value: function insertExif(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\");\n            var buf = this.decode64(imageData);\n            var separatePoint = buf.indexOf(255, 3);\n            var mae = buf.slice(0, separatePoint);\n            var ato = buf.slice(separatePoint);\n            var array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n          }\n        }, {\n          key: \"slice2Segments\",\n          value: function slice2Segments(rawImageArray) {\n            var head = 0;\n            var segments = [];\n            while (true) {\n              var length;\n              if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 218) {\n                break;\n              }\n              if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 216) {\n                head += 2;\n              } else {\n                length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3];\n                var endPoint = head + length + 2;\n                var seg = rawImageArray.slice(head, endPoint);\n                segments.push(seg);\n                head = endPoint;\n              }\n              if (head > rawImageArray.length) {\n                break;\n              }\n            }\n            return segments;\n          }\n        }, {\n          key: \"decode64\",\n          value: function decode64(input) {\n            var output = \"\";\n            var chr1 = undefined;\n            var chr2 = undefined;\n            var chr3 = \"\";\n            var enc1 = undefined;\n            var enc2 = undefined;\n            var enc3 = undefined;\n            var enc4 = \"\";\n            var i = 0;\n            var buf = []; // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n              console.warn(\"There were invalid base64 characters in the input text.\\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\nExpect errors in decoding.\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            while (true) {\n              enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n              enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n              enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n              enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n              chr1 = enc1 << 2 | enc2 >> 4;\n              chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n              chr3 = (enc3 & 3) << 6 | enc4;\n              buf.push(chr1);\n              if (enc3 !== 64) {\n                buf.push(chr2);\n              }\n              if (enc4 !== 64) {\n                buf.push(chr3);\n              }\n              chr1 = chr2 = chr3 = \"\";\n              enc1 = enc2 = enc3 = enc4 = \"\";\n              if (!(i < input.length)) {\n                break;\n              }\n            }\n            return buf;\n          }\n        }]);\n        return ExifRestore;\n      }();\n      ExifRestore.initClass();\n      /*\n       * contentloaded.js\n       *\n       * Author: Diego Perini (diego.perini at gmail.com)\n       * Summary: cross-browser wrapper for DOMContentLoaded\n       * Updated: 20101020\n       * License: MIT\n       * Version: 1.2\n       *\n       * URL:\n       * http://javascript.nwbox.com/ContentLoaded/\n       * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n       */\n      // @win window reference\n      // @fn function reference\n\n      var contentLoaded = function contentLoaded(win, fn) {\n        var done = false;\n        var top = true;\n        var doc = win.document;\n        var root = doc.documentElement;\n        var add = doc.addEventListener ? \"addEventListener\" : \"attachEvent\";\n        var rem = doc.addEventListener ? \"removeEventListener\" : \"detachEvent\";\n        var pre = doc.addEventListener ? \"\" : \"on\";\n        var init = function init(e) {\n          if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n            return;\n          }\n          (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n          if (!done && (done = true)) {\n            return fn.call(win, e.type || e);\n          }\n        };\n        var poll = function poll() {\n          try {\n            root.doScroll(\"left\");\n          } catch (e) {\n            setTimeout(poll, 50);\n            return;\n          }\n          return init(\"poll\");\n        };\n        if (doc.readyState !== \"complete\") {\n          if (doc.createEventObject && root.doScroll) {\n            try {\n              top = !win.frameElement;\n            } catch (error) {}\n            if (top) {\n              poll();\n            }\n          }\n          doc[add](pre + \"DOMContentLoaded\", init, false);\n          doc[add](pre + \"readystatechange\", init, false);\n          return win[add](pre + \"load\", init, false);\n        }\n      }; // As a single function to be able to write tests.\n\n      Dropzone._autoDiscoverFunction = function () {\n        if (Dropzone.autoDiscover) {\n          return Dropzone.discover();\n        }\n      };\n      contentLoaded(window, Dropzone._autoDiscoverFunction);\n      function __guard__(value, transform) {\n        return typeof value !== \"undefined\" && value !== null ? transform(value) : undefined;\n      }\n      function __guardMethod__(obj, methodName, transform) {\n        if (typeof obj !== \"undefined\" && obj !== null && typeof obj[methodName] === \"function\") {\n          return transform(obj, methodName);\n        } else {\n          return undefined;\n        }\n      }\n      ; // CONCATENATED MODULE: ./tool/dropzone.dist.js\n      /// Make Dropzone a global variable.\n\n      window.Dropzone = Dropzone;\n      /* harmony default export */\n      var dropzone_dist = Dropzone;\n    }();\n    /******/\n    return __webpack_exports__;\n    /******/\n  }();\n});","import { ActivatedRoute } from '@angular/router';\r\nimport { Language } from '../../form/form-languages.model';\r\n\r\nexport function calculateIsParentDialog(route: ActivatedRoute) {\r\n  let editDialogCount = 0;\r\n  for (const path of route.snapshot.pathFromRoot) {\r\n    if (path.url.length <= 0) continue;\r\n    for (const urlSegment of path.url) {\r\n      if (urlSegment.path !== 'edit') continue;\r\n      editDialogCount++;\r\n    }\r\n  }\r\n  return editDialogCount === 1;\r\n}\r\n\r\nexport function sortLanguages(primaryLangKey: string, languages: Language[]) {\r\n  if (languages.length === 0) { return languages; }\r\n\r\n  let primaryLang: Language;\r\n  const sameLangs: Language[] = [];\r\n  const otherLangs: Language[] = [];\r\n  for (const language of languages) {\r\n    if (language.NameId === primaryLangKey) {\r\n      primaryLang = language;\r\n    } else if (language.NameId.startsWith(primaryLangKey.split('-')[0])) {\r\n      sameLangs.push(language);\r\n    } else {\r\n      otherLangs.push(language);\r\n    }\r\n  }\r\n  sameLangs.sort((a, b) => a.NameId.localeCompare(b.NameId));\r\n  otherLangs.sort((a, b) => a.NameId.localeCompare(b.NameId));\r\n\r\n  const allLangsSorted: Language[] = !primaryLang ? [...sameLangs, ...otherLangs] : [primaryLang, ...sameLangs, ...otherLangs];\r\n  return allLangsSorted;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AdamItem } from '../../../../../../edit-types/src/AdamItem';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { PrefetchAdams } from '../../dialog/main/edit-dialog-main.models';\r\nimport { SignalStoreBase } from '../store/signal-store-base';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AdamCacheService extends SignalStoreBase<string, AdamSnapshot> {\r\n\r\n  constructor() {\r\n    super(classLog({AdamCacheService}));\r\n  }\r\n\r\n  override getId = (item: AdamSnapshot) => item.Guid;\r\n\r\n  loadPrefetch(prefetchAdams: PrefetchAdams): void {\r\n    if (prefetchAdams == null)\r\n      return; \r\n\r\n    const snapshots = Object.entries(prefetchAdams)\r\n      .map(([entityGuid, attributes]) => ({\r\n        Guid: entityGuid,\r\n        Attributes: attributes,\r\n      } satisfies AdamSnapshot));\r\n    this.addMany(snapshots);\r\n  }\r\n\r\n  getAdamSnapshot(entityGuid: string, fieldName: string): AdamItem[] {\r\n    return this.cache()[entityGuid]?.Attributes[fieldName];\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\ninterface AdamSnapshot {\r\n  Guid: string;\r\n  Attributes: AdamSnapshotAttributes;\r\n}\r\n\r\ninterface AdamSnapshotAttributes {\r\n  [name: string]: AdamItem[];\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AdamItem } from '../../../../../../edit-types/src/AdamItem';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { LinkInfo, PrefetchAdams, PrefetchLinks } from '../../dialog/main/edit-dialog-main.models';\r\nimport { SignalStoreBase } from '../store/signal-store-base';\r\n\r\n/**\r\n * The link Cache will store info to all links incl. file references (ADAM)\r\n * to provide previews and link-resolution (eg. file:72 = /assets/icon.jpg)\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class LinkCacheService extends SignalStoreBase<string, LinkCache> {\r\n\r\n  constructor() {\r\n    super(classLog({LinkCacheService}));\r\n  }\r\n\r\n  override getId = (item: LinkCache) => item.key.trim().toLocaleLowerCase();\r\n\r\n  addPrefetch(prefetchLinks: PrefetchLinks, prefetchAdam: PrefetchAdams): void {\r\n\r\n    // Convert PrefetchLinks to LinkCache\r\n    const links: LinkCache[] = prefetchLinks\r\n      ? Object.entries(prefetchLinks)\r\n          .map(([key, linkInfo]) => ({ key, ...linkInfo }))\r\n      : [];\r\n\r\n    // Convert PrefetchAdam to LinkCache\r\n    // This is more complex, as the raw data is nested\r\n    const adamLinkList: LinkCache[] = prefetchAdam != null\r\n      ? Object.entries(prefetchAdam)\r\n          .flatMap(([_, prefetchFields]) => Object.entries(prefetchFields)\r\n            .flatMap(([__, items]) => this.adamToLinks(items))\r\n          )\r\n      : [];\r\n\r\n    this.addMany([ ...links, ...adamLinkList ]);\r\n  }\r\n\r\n  /** Add a new ADAM which was just uploaded */\r\n  addAdam(items: AdamItem[]): void {\r\n    this.addMany(this.adamToLinks(items));\r\n  }\r\n\r\n  /** Add a link which was just added (typed/selected) in the UI */\r\n  addLink(key: string, linkInfo: LinkInfo): void {\r\n    key = key.trim().toLocaleLowerCase();\r\n    const link: LinkCache = {\r\n      key,\r\n      ...linkInfo,\r\n      Adam: {\r\n        ...linkInfo.Adam,\r\n      },\r\n    } satisfies LinkCache;\r\n\r\n    this.add(link);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  private adamToLinks(items: AdamItem[]): LinkCache[] {\r\n    return items\r\n      .filter(item => !item.IsFolder)\r\n      .map(item => ({\r\n        key: item.ReferenceId,\r\n        Adam: { ...item },\r\n        Value: item.Url,\r\n      } satisfies LinkCache));\r\n  }\r\n}\r\n\r\n\r\ninterface LinkCache extends LinkInfo{\r\n  key: string;\r\n}\r\n","import { EavEntityBundleDto } from \"../shared/models/json-format-v1\";\r\n\r\n/**\r\n * Replaces the Adam portal URL in all <img> tags within the content fields with the given orgAdamPortalUrl (if it differs).\r\n * @param data Array of EavEntityBundleDto objects containing HTML content.\r\n * @param orgAdamPortalUrl The desired Adam portal URL to be used.\r\n * @returns The modified array with the correct Adam portal URLs.\r\n */\r\nexport function correctAdamFolderBasePath(\r\n    data: EavEntityBundleDto[],\r\n    orgAdamPortalUrl: string\r\n): EavEntityBundleDto[] {\r\n    const imgTagRegex = /<img\\b[^>]*?\\bdata-cmsid=[\"'][^\"']+[\"'][^>]*?>/gi;\r\n\r\n    data.forEach(entityBundle => {\r\n        const content = entityBundle.Entity?.Attributes?.String?.Content;\r\n        if (typeof content !== 'object') return;\r\n\r\n        Object.entries(content).forEach(([lang, htmlValue]) => {\r\n            let html = decodeHtml(htmlValue as string); // Unescape HTML if needed\r\n\r\n            // Replace all <img> tags that have a different Adam portal URL\r\n            html = html.replace(imgTagRegex, imgTag => {\r\n                const srcMatch = imgTag.match(/\\bsrc=[\"']([^\"']+)[\"']/);\r\n                if (!srcMatch) return imgTag;\r\n\r\n                const imgSrc = srcMatch[1];\r\n                const currentAdamUrl = extractAdamPortalUrl(imgSrc);\r\n\r\n                // Only replace if the Adam portal URL actually differs\r\n                if (currentAdamUrl && currentAdamUrl !== orgAdamPortalUrl) {\r\n                    const updatedSrc = imgSrc.replace(currentAdamUrl, orgAdamPortalUrl);\r\n                    return imgTag.replace(imgSrc, updatedSrc);\r\n                }\r\n                return imgTag;\r\n            });\r\n\r\n            // Write the potentially modified HTML code back to the object\r\n            (entityBundle.Entity.Attributes.String.Content as Record<string, string>)[lang] = html;\r\n        });\r\n    });\r\n\r\n    return data;\r\n}\r\n\r\n/**\r\n * Decodes HTML entities to normal characters.\r\n * @param html A string that may contain HTML entities.\r\n * @returns The decoded string.\r\n */\r\nexport function decodeHtml(html: string): string {\r\n    const textarea = document.createElement('textarea');\r\n    textarea.innerHTML = html;\r\n    return textarea.value;\r\n}\r\n\r\n/**\r\n * Extracts the Adam portal URL prefix up to and including \"/adam/\" from an image source URL.\r\n * @param src The full image source (e.g. https://example.org/adam/xyz/abc.jpg)\r\n * @returns The Adam portal URL prefix or null if not found.\r\n */\r\nexport function extractAdamPortalUrl(src: string): string | null {\r\n    const adamSegment = '/adam/';\r\n    const idx = src.indexOf(adamSegment);\r\n    return idx !== -1\r\n        ? src.substring(0, idx + adamSegment.length)\r\n        : null;\r\n}","import { Injectable } from '@angular/core';\r\nimport { map, tap } from 'rxjs';\r\nimport { classLog } from '../../shared/logging';\r\nimport { GlobalConfigService } from '../../shared/services/global-config.service';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\nimport { EavEditLoadDto, SaveEavFormData } from '../dialog/main/edit-dialog-main.models';\r\nimport { SaveResult } from '../state/save-result.model';\r\n\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  fetchFormData: false,\r\n  saveFormData: false,\r\n};\r\n\r\nconst webApiLoad = 'cms/edit/load';\r\nconst webApiSave = 'cms/edit/save';\r\n\r\n@Injectable()\r\nexport class FormDataService extends HttpServiceBaseSignal {\r\n\r\n  log = classLog({FormDataService}, logSpecs);\r\n\r\n  constructor(\r\n    private globalConfigService: GlobalConfigService,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  fetchFormData(items: string) {\r\n    this.log.fnIf('fetchFormData', { items, context: this.context });\r\n    return this.http.post<EavEditLoadDto>(this.apiUrl(webApiLoad), items, {\r\n      params: { appId: this.appId }\r\n    }).pipe(\r\n      map(formData => {\r\n        formData.Context.Language.List = formData.Context.Language.List.filter(language => language.IsEnabled);\r\n        return formData;\r\n      }),\r\n      tap(formData => {\r\n        this.globalConfigService.allowDebug(formData.Context.Enable.DebugMode);\r\n      }),\r\n    );\r\n  }\r\n\r\n  saveFormData(result: SaveEavFormData, partOfPage: string) {\r\n    this.log.fnIf('saveFormData', { result, partOfPage });\r\n    return this.http.post<SaveResult>(this.apiUrl(webApiSave), result, {\r\n      params: { appId: this.appId, partOfPage }\r\n    });\r\n  }\r\n}\r\n","import { Of } from '../../../../../../core';\r\nimport { AdamItem } from '../../../../../../edit-types/src/AdamItem';\r\nimport { DialogContext } from '../../../app-administration/models';\r\nimport { FeatureNames } from '../../../features/feature-names';\r\nimport { InputTypeMetadata } from '../../../shared/fields/input-type-metadata.model';\r\nimport { EavContentType, EavEntity } from '../../shared/models/eav';\r\nimport { EavContentTypeDto, EavEntityBundleDto, EavEntityDto } from '../../shared/models/json-format-v1';\r\n\r\nexport interface EavPublishStatus {\r\n  DraftShouldBranch: boolean;\r\n  IsPublished: boolean;\r\n}\r\n\r\nexport interface PublishStatus extends EavPublishStatus {\r\n  formId: number;\r\n}\r\n\r\n/** PublishMode is short version of PublishStatus */\r\nexport const PublishModes = {\r\n  Show: 'show',\r\n  Hide: 'hide',\r\n  Branch: 'branch',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n\r\n\r\nexport type RequiredFeatures = Record<Of<typeof FeatureNames>, string[]>;\r\n\r\nexport interface EavEditLoadDto extends EavPublishStatus {\r\n  ContentTypeItems: EavEntityDto[];\r\n  ContentTypes: EavContentTypeDto[];\r\n  Context: DialogContext;\r\n  InputTypes: InputTypeMetadata[];\r\n  Items: EavEntityBundleDto[];\r\n  Prefetch?: Prefetch;\r\n  Settings: EditSettingsDto;\r\n  RequiredFeatures?: RequiredFeatures;\r\n}\r\n\r\nexport interface EditSettings {\r\n  Values: Record<string, unknown>;\r\n  /** SettingsEntities are important for more advanced settings such as WYSIWYG */\r\n  Entities: EavEntity[];\r\n  /**\r\n   * ContentTypes which are additional settings.\r\n   * New v17 to help Pickers figure out the best title for new-entities.\r\n   * TODO: @SDV\r\n   */\r\n  ContentTypes: EavContentType[];\r\n}\r\n\r\n/** Same interface, but with Dto property types on Entities and ContentTypes */\r\nexport interface EditSettingsDto {\r\n  Values: Record<string, unknown>;\r\n  Entities: EavEntityDto[];\r\n  /**\r\n   * ContentTypes which are additional settings.\r\n   * New v17 to help Pickers figure out the best title for new-entities.\r\n   * TODO: @SDV\r\n   */\r\n  ContentTypes: EavContentTypeDto[];\r\n}\r\n\r\nexport interface SaveEavFormData extends EavPublishStatus {\r\n  Items: EavEntityBundleDto[];\r\n}\r\n\r\nexport interface Prefetch {\r\n  Adam: PrefetchAdams;\r\n\r\n  // #RemovePickerDataCacheService\r\n  // /**\r\n  //  * Entities for dropdowns which were already selected\r\n  //  * TODO: AS OF 2024-08-27 it is not in use any more, so we should either\r\n  //  * - remove from the backend\r\n  //  * - rethink what we do/improve\r\n  //  */\r\n  // Entities: PrefetchEntity[];\r\n  Links: PrefetchLinks;\r\n\r\n  /** NgRx store helper */\r\n  _guid?: string;\r\n}\r\n\r\nexport interface PrefetchAdams {\r\n  [entityGuid: string]: {\r\n    [fieldName: string]: AdamItem[];\r\n  };\r\n}\r\n\r\nexport interface PrefetchLinks {\r\n  [key: string]: LinkInfo;\r\n}\r\n\r\nexport interface LinkInfo {\r\n  /** Null if URL doesn't resolve to ADAM file (is page, external url or blocked by permissions) */\r\n  Adam?: AdamItem;\r\n  /** Resolved or original URL */\r\n  Value: string;\r\n}\r\n","import { Injectable, Signal } from '@angular/core';\r\nimport { Of } from '../../../../../core';\r\nimport { classLog } from '../../shared/logging';\r\nimport { ComputedCacheHelper } from '../../shared/signals/computed-cache';\r\nimport { EavPublishStatus, PublishModes, PublishStatus } from '../dialog/main/edit-dialog-main.models';\r\nimport { SignalStoreBase } from '../shared/store/signal-store-base';\r\nimport { FormConfigService } from './form-config.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FormPublishingService extends SignalStoreBase<number, PublishStatus> {\r\n  \r\n  constructor() {\r\n    super(classLog({FormPublishingService}));\r\n  }\r\n\r\n  override getId = (item: PublishStatus) => item.formId;\r\n\r\n  setPublishMode(publishMode: Of<typeof PublishModes>, formId: number, eavService: FormConfigService): void {\r\n    // if publish mode is prohibited, set default\r\n    if (eavService.config.versioningOptions[publishMode] == null) {\r\n      publishMode = Object.keys(eavService.config.versioningOptions)[0] as Of<typeof PublishModes>;\r\n    }\r\n    const publishStatus: PublishStatus = {\r\n      formId,\r\n      DraftShouldBranch: publishMode === PublishModes.Branch,\r\n      IsPublished: publishMode === PublishModes.Show,\r\n    };\r\n    this.add(publishStatus);\r\n  }\r\n\r\n  getPublishMode(formId: number): Signal<Of<typeof PublishModes>> {\r\n    return this.#signalsPublishModeCache.getOrCreate(formId, () => this.toPublishMode(this.get(formId)));\r\n  }\r\n  #signalsPublishModeCache = new ComputedCacheHelper<number, Of<typeof PublishModes>>('publishMode');\r\n\r\n  \r\n  /** Convert the booleans to the appropriate \"verb\" */\r\n  public toPublishMode(publishStatus: EavPublishStatus): Of<typeof PublishModes> {\r\n    const publishMode: Of<typeof PublishModes> = publishStatus.DraftShouldBranch\r\n      ? PublishModes.Branch\r\n      : publishStatus.IsPublished\r\n        ? PublishModes.Show\r\n        : PublishModes.Hide;\r\n    return publishMode;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { classLog } from '../../shared/logging';\r\nimport { LanguageService } from '../localization/language.service';\r\nimport { EntityReader } from '../shared/helpers/entity-reader';\r\nimport { ItemValuesOfLanguage } from '../state/item-values-of-language.model';\r\nimport { ItemService } from '../state/item.service';\r\nimport { FormConfigService } from './form-config.service';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n  preserve: true,\r\n  get: true,\r\n};\r\n\r\n@Injectable()\r\nexport class InitialValuesService {\r\n  log = classLog({ InitialValuesService }, logSpecs);\r\n\r\n  #cache: Record<string, ItemValuesOfLanguage> = {};\r\n\r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    private itemService: ItemService,\r\n    private languageService: LanguageService,\r\n  ) {\r\n    this.log.aIf('constructor', null, \"constructor\");\r\n  }\r\n\r\n  /**\r\n   * Preserve initial values for future use in formulas which may need to know the initial value\r\n   */\r\n  preserve(): void {\r\n    const l = this.log.fnIf('preserve');\r\n    const items = this.itemService.getMany(this.formConfig.config.itemGuids);\r\n\r\n    const allLangs = this.languageService.getAll().map(language => language.NameId);\r\n    const language = this.formConfig.language();\r\n    if (!allLangs.includes(language.current))\r\n      allLangs.push(language.current);\r\n    if (!allLangs.includes(language.primary))\r\n      allLangs.push(language.primary);\r\n\r\n    for (const item of items)\r\n      for (const currentLang of allLangs) {\r\n        const formValues = new EntityReader(currentLang, language.primary).currentValues(item.Entity.Attributes);\r\n        const cacheKey = this.#cacheKey(item.Entity.Guid, currentLang);\r\n        this.#cache[cacheKey] = formValues;\r\n      }\r\n\r\n  }\r\n\r\n  #cacheKey(entityGuid: string, language: string): string {\r\n    return `entityGuid:${entityGuid}:language:${language}`;\r\n  }\r\n\r\n  get(entityGuid: string, language: string): ItemValuesOfLanguage {\r\n    const l = this.log.fnIf('get', { entityGuid, language });\r\n    const result = this.#cache[this.#cacheKey(entityGuid, language)];\r\n    return l.r(result);\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { InputTypeHelpers } from '../../shared/fields/input-type-helpers';\r\nimport { classLog } from '../../shared/logging';\r\nimport { FieldLogicManager } from '../fields/logic/field-logic-manager';\r\nimport { FieldReader } from '../localization/field-reader';\r\nimport { LanguageService } from '../localization/language.service';\r\nimport { ContentTypeService } from '../shared/content-types/content-type.service';\r\nimport { EntityReader } from '../shared/helpers';\r\nimport { InputTypeService } from '../shared/input-types/input-type.service';\r\nimport { FieldsSettingsHelpers } from '../state/field-settings.helper';\r\nimport { ItemService } from '../state/item.service';\r\nimport { FormConfigService } from './form-config.service';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n  initMissingValues: false,\r\n};\r\n\r\n/**\r\n * Special service to initialize missing values in the edit form.\r\n * This is used to set default values for fields which are empty or null.\r\n * It also handles complex initialization logic based on the available languages and input types.\r\n * \r\n * Note that it does use the ItemService to update the items, so it has a side-effect.\r\n */\r\n@Injectable()\r\nexport class InitializeMissingValuesServices {\r\n  log = classLog({InitializeMissingValuesServices}, logSpecs);\r\n  \r\n  // This is a helper class to initialize the missing values services\r\n  // It is used in the EditInitializerService to initialize the missing values services\r\n  // It is not used anywhere else, but it is a good practice to keep it in a separate file\r\n  // for better readability and maintainability.\r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    private itemService: ItemService,\r\n    private inputTypeService: InputTypeService,\r\n    private contentTypeService: ContentTypeService,\r\n    private languageService: LanguageService,\r\n  ) { }\r\n\r\n  initMissingValues(): boolean {\r\n    const l = this.log.fnIf('initMissingValues');\r\n\r\n    const updater = this.itemService.updater;\r\n    const eavConfig = this.formConfig.config;\r\n    const items = this.itemService.getMany(eavConfig.itemGuids);\r\n    const inputTypes = this.inputTypeService.getAll();\r\n    const languages = this.languageService.getAll();\r\n    const language = this.formConfig.language();\r\n    const logicManager = FieldLogicManager.singleton();\r\n\r\n    /** force UI to switch to default language, because some values are missing in the default language */\r\n    let switchToDefault = false;\r\n    const isCreateMode = eavConfig.createMode;\r\n\r\n    const fss = new FieldsSettingsHelpers(\"EditInitializerService\");\r\n\r\n    for (const item of items) {\r\n      const contentType = this.contentTypeService.getContentTypeOfItem(item);\r\n\r\n      for (const ctAttribute of contentType.Attributes) {\r\n        const currentName = ctAttribute.Name;\r\n        const inputType = inputTypes.find(i => i.Type === ctAttribute.InputType);\r\n        const isEmptyType = InputTypeHelpers.isEmpty(inputType?.Type);\r\n        l.a(`Attribute: '${currentName}' InputType: '${inputType?.Type}' isEmptyType: '${isEmptyType}'`);\r\n\r\n        if (isEmptyType)\r\n          continue;\r\n\r\n        const logic = logicManager.getOrUnknown(inputType?.Type);\r\n\r\n        const attributeValues = item.Entity.Attributes[ctAttribute.Name];\r\n        const fieldSettings = fss.getDefaultSettings(\r\n          new EntityReader(language.primary, language.primary).flatten(ctAttribute.Metadata)\r\n        );\r\n\r\n        if (languages.length === 0) {\r\n          l.a(`${currentName} languages none, simple init`);\r\n          const firstValue = new FieldReader(attributeValues, '*').currentOrDefaultOrAny?.value;\r\n          if (logic.isValueEmpty(firstValue, isCreateMode))\r\n            updater.setDefaultValue(item, ctAttribute, inputType, fieldSettings, languages, language.primary);\r\n        } else {\r\n          l.a(`${currentName} languages many, complex init`);\r\n\r\n          // check if there is a value for the generic / all language\r\n          const disableI18n = inputType?.DisableI18n;\r\n          const noLanguageValue = new FieldReader(attributeValues, '*').currentOrDefault?.value;\r\n          l.a(currentName, { disableI18n, noLanguageValue });\r\n          if (!disableI18n && noLanguageValue !== undefined) {\r\n            // move * value to defaultLanguage\r\n            const transactionItem = updater.removeItemAttributeDimension(item.Entity.Guid, ctAttribute.Name, '*', true);\r\n            updater.addItemAttributeValue(\r\n              item.Entity.Guid,\r\n              ctAttribute.Name,\r\n              noLanguageValue,\r\n              language.primary,\r\n              false,\r\n              ctAttribute.Type,\r\n              false,\r\n              transactionItem,\r\n            );\r\n            l.a(`${currentName} exit`);\r\n            continue;\r\n          }\r\n\r\n          const defaultLanguageValue = new FieldReader(attributeValues, language.primary).currentOrDefault?.value;\r\n\r\n          const valueIsEmpty = logic.isValueEmpty(defaultLanguageValue, isCreateMode);\r\n          l.a(currentName, { currentName, valueIsEmpty, defaultLanguageValue, isCreateMode });\r\n\r\n          if (valueIsEmpty) {\r\n            const valUsed = updater.setDefaultValue(item, ctAttribute, inputType, fieldSettings, languages, language.primary);\r\n\r\n            // 2022-08-15 2dm added this\r\n            // If we run into more problems (like required date-fields which result in null)\r\n            // we may have to update the logic to use FieldLogicBase and add rules for each type what would be valid\r\n            // or test for IsRequired as well\r\n\r\n            // If the primary language isn't ready, enforce switch-to-default\r\n            // Skip this for ephemeral fields as they never load with content\r\n            // Also switch for fields which use null as default (like boolean-tristate) as this kind of \"empty\" is valid\r\n            if (valUsed != null && !fieldSettings.IsEphemeral)\r\n              switchToDefault = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return l.r(switchToDefault);\r\n  }\r\n\r\n}","import { classLog } from '../../shared/logging';\r\nimport { ItemIdentifier } from '../../shared/models/edit-form.model';\r\nimport { EavEntityBundleDto } from '../shared/models/json-format-v1';\r\n\r\n/**\r\n * This helps to make items data smaller (for retrieving data),\r\n * and then rejoin the returned data with the parts which were not sent.\r\n */\r\nexport class ItemsRequestRestoreHelper {\r\n\r\n  log = classLog({ ItemsRequestRestoreHelper }, { all: false, mergeResponse: true });\r\n\r\n  constructor(items: ItemIdentifier[], private contentsOverride?: Record<string, unknown>[]) {\r\n    // Add ClientId index number to request,\r\n    // so it can be matched again when the response comes back\r\n    this.itemsWithIndex = items.map((item, index) => ({\r\n      ...item,\r\n      clientId: index,\r\n    }));\r\n  }\r\n\r\n  private itemsWithIndex: (ItemIdentifier & { clientId: number })[];\r\n\r\n  itemsForRequest() {\r\n    const cleaned = this.itemsWithIndex.map((item) => {\r\n      // Drop properties which are not needed for the request\r\n      const { Prefill, ClientData, ...cleaned } = item;\r\n      return cleaned;\r\n    });\r\n    return cleaned;\r\n  }\r\n\r\n  mergeResponse(result: EavEntityBundleDto[]): EavEntityBundleDto[] {\r\n    const l = this.log.fnIf('mergeResponse', { result, itemsWithIndex: this.itemsWithIndex });\r\n    // Merge the response with the original items\r\n    const merged = result.map(item => {\r\n      // try to find original item\r\n      const original = this.itemsWithIndex.find(i => i.clientId === item.Header.clientId);\r\n      l.a('fetchFormData - remix', { item, original });\r\n\r\n\r\n      let contents: Record<string, unknown> = null;\r\n      if (this.contentsOverride)\r\n        contents = this.contentsOverride[item.Header.clientId];\r\n      else\r\n        contents = null\r\n\r\n      \r\n\r\n      return {\r\n        ...item,\r\n        Header: {\r\n          ...item.Header,\r\n          Prefill: original?.Prefill,\r\n          ClientData: {\r\n            ...original?.ClientData,\r\n            overrideContents: contents,\r\n          },\r\n        },\r\n      } satisfies EavEntityBundleDto;\r\n    });\r\n    return l.r(merged);\r\n  }\r\n}","import { Inject, Injectable, signal } from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { transient } from '../../../../../core';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { Update$2sxcEnvFromContext } from '../../shared/helpers/update-env-vars-from-dialog-settings.helper';\r\nimport { convertUrlToForm } from '../../shared/helpers/url-prep.helper';\r\nimport { classLog } from '../../shared/logging';\r\nimport { ItemAddIdentifier } from '../../shared/models/edit-form.model';\r\nimport { UserLanguageService } from '../../shared/services/user-language.service';\r\nimport { DialogRoutingState } from '../dialog/dialogRouteState.model';\r\nimport { calculateIsParentDialog, sortLanguages } from '../dialog/main/edit-dialog-main.helpers';\r\nimport { EavEditLoadDto, EditSettings } from '../dialog/main/edit-dialog-main.models';\r\nimport { LanguageService } from '../localization/language.service';\r\nimport { EditUrlParams } from '../routing/edit-url-params.model';\r\nimport { AdamCacheService } from '../shared/adam/adam-cache.service';\r\nimport { LinkCacheService } from '../shared/adam/link-cache.service';\r\nimport { ContentTypeItemService } from '../shared/content-types/content-type-item.service';\r\nimport { ContentTypeService } from '../shared/content-types/content-type.service';\r\nimport { InputTypeService } from '../shared/input-types/input-type.service';\r\nimport { EavContentType } from '../shared/models/eav/eav-content-type';\r\nimport { EavEntity } from '../shared/models/eav/eav-entity';\r\nimport { ItemService } from '../state/item.service';\r\nimport { correctAdamFolderBasePath, extractAdamPortalUrl } from './correctAdamUrl';\r\nimport { FormConfigService } from './form-config.service';\r\nimport { FormDataService } from './form-data.service';\r\nimport { FormLanguageService } from './form-language.service';\r\nimport { FormPublishingService } from './form-publishing.service';\r\nimport { InitialValuesService } from './initial-values-service';\r\nimport { InitializeMissingValuesServices } from './initialize-missing-values-services';\r\nimport { ItemsRequestRestoreHelper } from './items-request-restore-helper';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n  fetchFormData: false,\r\n  dataFromDialog: false,\r\n  importLoadedData: false,\r\n  initMissingValues: false,\r\n};\r\n\r\n/**\r\n * Service to initialize an edit form. Will:\r\n * - Load form data\r\n * - store it in various services, stores etc.\r\n * - Load initial values for formulas\r\n */\r\n@Injectable()\r\nexport class EditInitializerService {\r\n\r\n  log = classLog({ EditInitializerService }, logSpecs);\r\n\r\n  public loaded = signal(false);\r\n\r\n  #formDataService = transient(FormDataService);\r\n\r\n  #userLanguageSvc = transient(UserLanguageService);\r\n  #initMissingValuesSvc = transient(InitializeMissingValuesServices);\r\n\r\n  adamPortalUrl = signal<string | null>(null);\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private formConfig: FormConfigService,\r\n    private itemService: ItemService,\r\n    private inputTypeService: InputTypeService,\r\n    private contentTypeItemService: ContentTypeItemService,\r\n    private contentTypeService: ContentTypeService,\r\n    private publishStatusService: FormPublishingService,\r\n    private translate: TranslateService,\r\n    private languageService: LanguageService,\r\n    private languageStore: FormLanguageService,\r\n    private snackBar: MatSnackBar,\r\n    private adamCacheService: AdamCacheService,\r\n    private linkCacheService: LinkCacheService,\r\n    private featuresService: FeaturesService,\r\n    private initialValuesService: InitialValuesService,\r\n    @Inject(MAT_DIALOG_DATA) private dialogData: DialogRoutingState,\r\n  ) {\r\n    this.log.aIf('constructor', null, \"constructor\");\r\n\r\n  }\r\n\r\n  /**\r\n   * Fetch the form data from the backend and load it into the various services.\r\n   * This will also set the form config and language.\r\n   */\r\n  fetchFormData(): void {\r\n    const l = this.log.fnIf('fetchFormData');\r\n    const d = this.log.fnIf('dataFromDialog');\r\n\r\n    const itemsRaw = (this.route.snapshot.params as EditUrlParams).items;\r\n\r\n    d.a('state Data from Dialog', { stateData: this.dialogData });\r\n\r\n    const items = convertUrlToForm(itemsRaw).items;\r\n\r\n    // Reduce amount of data sent to backend by removing unneeded properties\r\n    const dataHelper = new ItemsRequestRestoreHelper(items, this.dialogData?.overrideContents);\r\n\r\n    const requestItems = dataHelper.itemsForRequest();\r\n\r\n    l.a('fetchFormData', { requestItems });\r\n\r\n    this.#formDataService\r\n      .fetchFormData(JSON.stringify(requestItems))\r\n      .subscribe((responseRaw: EavEditLoadDto) => {\r\n\r\n        // Set Adam Portal URL to check with the WYSIWYG editor \r\n        const links = responseRaw?.Prefetch?.Links;\r\n        const linkValues = links && typeof links === 'object' ? Object.values(links) : [];\r\n        const fullUrl = linkValues.length > 0 && linkValues[0]?.Value ? linkValues[0].Value : undefined;\r\n        if (fullUrl)\r\n          this.adamPortalUrl.set(extractAdamPortalUrl(fullUrl));\r\n\r\n        // Restore prefill and client-data from original\r\n        const response: EavEditLoadDto = {\r\n          ...responseRaw,\r\n          Items: dataHelper.mergeResponse(responseRaw.Items),\r\n        };\r\n\r\n        l.a('fetchFormData - after remix', { response });\r\n\r\n        // Load all the feature infos and also mark the ones which the response says are required\r\n        this.featuresService.load(response.Context, response);\r\n\r\n        // Transfer any relevant context data to the $2sxc env for future backend calls\r\n        Update$2sxcEnvFromContext(response.Context.App);\r\n\r\n\r\n        // Import the loaded data into the various services\r\n        this.#importLoadedData(response);\r\n\r\n        // Remember initial values as the formulas sometimes need them\r\n        this.initialValuesService.preserve();\r\n\r\n        // After preserving original values, initialize missing values in the form\r\n        this.#initMissingValues();\r\n\r\n        // Set the form as loaded to trigger the UI to be built\r\n        this.loaded.set(true);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Import the loaded data into the various services and stores.\r\n   * This will also set the form config and language.\r\n   * @param loadDto The loaded data from the backend\r\n   */\r\n  #importLoadedData(loadDto: EavEditLoadDto): void {\r\n    const l = this.log.fnIf('importLoadedData');\r\n\r\n    const formId = Math.floor(Math.random() * 99999);\r\n    const isParentDialog = calculateIsParentDialog(this.route);\r\n\r\n    // Check the Adam Portal URL and adjust the items if necessary (Export App / Import App)\r\n    if (this.adamPortalUrl()) {\r\n      loadDto.Items = correctAdamFolderBasePath(loadDto.Items, this.adamPortalUrl());\r\n      l.a('importLoadedData - checkAdamFolder', { items: loadDto.Items });\r\n    }\r\n\r\n    // Load data into the ItemsService; will convert the data to the correct type\r\n    this.itemService.loadItems(loadDto.Items);\r\n\r\n    // Load InputTypes, ContentTypes and any items which the ContentTypes depend on\r\n    // Note: we assume that input type and content type data won't change between loading parent and child forms\r\n    this.inputTypeService.addMany(loadDto.InputTypes);\r\n    this.contentTypeItemService.addContentTypeItems(loadDto.ContentTypeItems);\r\n    this.contentTypeService.addContentTypes(loadDto.ContentTypes);\r\n\r\n    // Load prefetched data for Adam and Links\r\n    this.adamCacheService.loadPrefetch(loadDto.Prefetch?.Adam);\r\n    this.linkCacheService.addPrefetch(loadDto.Prefetch?.Links, loadDto.Prefetch?.Adam);\r\n\r\n    // Get the (converted) items and set the form config\r\n    const itemGuids = loadDto.Items.map(item => item.Entity.Guid);\r\n    const items = this.itemService.getMany(itemGuids);\r\n\r\n    // Determine what edit-mode we are in, if we are copying an item, if we should enable history etc.\r\n    const createMode = items[0].Entity.Id === 0;\r\n    const isCopy = (items[0].Header as ItemAddIdentifier).DuplicateEntity != null;\r\n    const enableHistory = !createMode && this.route.snapshot.data.history !== false;\r\n\r\n    // Load the form config with the loaded settings\r\n    const settingsAsEav: EditSettings = {\r\n      ...loadDto.Settings,\r\n      // Include / pre-convert settings entities for certain features which need detailed settings\r\n      Entities: EavEntity.dtoToEavMany(loadDto.Settings.Entities),\r\n      // Include / pre-convert content types for certain features which need detailed settings\r\n      ContentTypes: EavContentType.dtoToEavMany(loadDto.Settings.ContentTypes),\r\n    };\r\n    this.formConfig.initFormConfig(loadDto.Context, formId, isParentDialog, itemGuids, createMode, isCopy, enableHistory, settingsAsEav);\r\n\r\n    // Determine languages we should use and inform the language service about them\r\n    // also switch the UI / translate service to the current language\r\n    // Note: the TranslateService is a new instance for every form and language must be set for every one of them\r\n    var langs = loadDto.Context.Language;\r\n    const userLangCode = this.#userLanguageSvc.uiCode(langs.Current);\r\n    this.translate.use(userLangCode);\r\n\r\n    // load language data only for parent dialog to not overwrite languages when opening child dialogs\r\n    if (isParentDialog) {\r\n      const sortedLanguages = sortLanguages(langs.Primary, langs.List);\r\n      this.languageService.addMany(sortedLanguages);\r\n    }\r\n    this.languageStore.addForm(formId, langs.Primary, langs.Current, false);\r\n\r\n    // Get proper publishMode and then run checks if this mode is allowed\r\n    const publishMode = this.publishStatusService.toPublishMode(loadDto);\r\n    this.publishStatusService.setPublishMode(publishMode, formId, this.formConfig);\r\n  }\r\n\r\n  /**\r\n   * Initialize missing values in the form.\r\n   * If necessary, also switch the UI to the default language.\r\n   */\r\n  #initMissingValues(): void {\r\n    const l = this.log.fnIf('initMissingValues');\r\n\r\n    const switchToDefault = this.#initMissingValuesSvc.initMissingValues();\r\n    const language = this.formConfig.language();\r\n\r\n    if (switchToDefault && language.current !== language.primary) {\r\n      const formId = this.formConfig.config.formId;\r\n      this.languageStore.setCurrent(formId, language.primary);\r\n      const message = this.translate.instant('Message.SwitchedLanguageToDefault', { language: language.primary });\r\n      this.snackBar.open(message, null, { duration: 5000 });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { EavWindow } from '../../../shared/models/eav-window.model';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { FormConfiguration } from '../../form/form-configuration.model';\r\nimport { UrlHelpers } from '../helpers';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  load: true,\r\n  sortByType: false,\r\n  insertToDom: false,\r\n};\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport const FileTypeConstants = {\r\n  CSS: '.css',\r\n  JS: '.js',\r\n} as const;\r\n\r\ninterface LoadFile {\r\n  path: string;\r\n  type: string;\r\n  loaded: boolean;\r\n  domEl: HTMLLinkElement | HTMLScriptElement;\r\n}\r\n\r\n/**\r\n * Service for loading scripts and stylesheets dynamically for an edit form.\r\n * It must be different for each form, since it uses the form's configuration\r\n * to resolve paths pointing to the correct app, zone, etc.\r\n */\r\n@Injectable()\r\nexport class ScriptsLoaderService {\r\n\r\n  log = classLog({ScriptsLoaderService}, logSpecs);\r\n\r\n  #loadedFiles: LoadFile[] = [];\r\n\r\n  constructor(private formConfig: FormConfigService) { }\r\n\r\n  /** Loads CSS and JS files in order (CSS first) and calls callback function when finished */\r\n  load(scripts: string[], callback: () => void) {\r\n    this.log.fnIf('load', {scripts})\r\n    const sortedFiles = this.#sortByType(scripts);\r\n    this.#insertToDom(sortedFiles, callback, 0); // async, called again and again after each script is loaded\r\n  }\r\n\r\n  #sortByType(scripts: string[]): LoadFile[] {\r\n    this.log.fnIf('sortByType', {scripts})\r\n    const cssFiles: LoadFile[] = [];\r\n    const jsFiles: LoadFile[] = [];\r\n    scripts.forEach(script => {\r\n      const file: LoadFile = {\r\n        path: ScriptsLoaderService.resolveUrlTokens(script, this.formConfig.config),\r\n        type: null,\r\n        loaded: false,\r\n        domEl: null\r\n      };\r\n      if (file.path.endsWith(FileTypeConstants.CSS)) {\r\n        file.type = FileTypeConstants.CSS;\r\n        cssFiles.push(file);\r\n      } else if (file.path.endsWith(FileTypeConstants.JS)) {\r\n        file.type = FileTypeConstants.JS;\r\n        jsFiles.push(file);\r\n      }\r\n    });\r\n    return cssFiles.concat(jsFiles);\r\n  }\r\n\r\n  #insertToDom(files: LoadFile[], callback: () => void, increment: number) {\r\n    this.log.fnIf('insertToDom', {files, increment})\r\n    const file = files[increment];\r\n    increment++;\r\n    if (!file) {\r\n      callback();\r\n      return;\r\n    }\r\n    file.path = file.path + '?sxcver=' + window.sxcVersion; // break cache\r\n\r\n    const existing = this.#loadedFiles.find(loadedFile => loadedFile.path === file.path);\r\n    if (existing) {\r\n      if (existing.loaded) {\r\n        this.#insertToDom(files, callback, increment);\r\n      } else {\r\n        const _listener = () => {\r\n          file.loaded = true;\r\n          this.#insertToDom(files, callback, increment);\r\n          existing.domEl.removeEventListener('load', _listener);\r\n          existing.domEl.removeEventListener('error', _listener);\r\n        };\r\n        existing.domEl.addEventListener('load', _listener);\r\n        existing.domEl.addEventListener('error', _listener);\r\n      }\r\n    } else {\r\n      if (file.type === FileTypeConstants.CSS) {\r\n        file.domEl = document.createElement('link');\r\n        file.domEl.rel = 'stylesheet';\r\n        file.domEl.href = file.path;\r\n      } else if (file.type === FileTypeConstants.JS) {\r\n        file.domEl = document.createElement('script');\r\n        file.domEl.type = 'module';\r\n        file.domEl.src = file.path;\r\n      }\r\n\r\n      const _listener = () => {\r\n        file.loaded = true;\r\n        this.#insertToDom(files, callback, increment);\r\n        file.domEl.removeEventListener('load', _listener);\r\n        file.domEl.removeEventListener('error', _listener);\r\n      };\r\n      file.domEl.addEventListener('load', _listener);\r\n      file.domEl.addEventListener('error', _listener);\r\n\r\n      document.querySelector('head').appendChild(file.domEl);\r\n      this.#loadedFiles.push(file);\r\n    }\r\n  }\r\n\r\n  public static resolveUrlTokens(url: string, formConfig: FormConfiguration) {\r\n    return url.replace(/\\[System:Path\\]/i, UrlHelpers.getUrlPrefix('system', formConfig))\r\n      .replace(/\\[Zone:Path\\]/i, UrlHelpers.getUrlPrefix('zone', formConfig))\r\n      .replace(/\\[App:Path\\]/i, UrlHelpers.getUrlPrefix('app', formConfig))\r\n      .replace(/\\[App:PathShared\\]/i, UrlHelpers.getUrlPrefix('appShared', formConfig));\r\n  }\r\n}\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\r\n<style type=\"text/css\">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id=\"Layer_1\">\r\n\t<path d=\"M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z\"/>\r\n</g>\r\n<g id=\"Layer_3\" class=\"st0\">\r\n</g>\r\n<g id=\"Icon\">\r\n\t<path d=\"M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44c2,0,4-1.85,6-1.85S28,44,30,44\r\n\t\tc6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z\"/>\r\n</g>\r\n</svg>\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\r\n<style type=\"text/css\">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id=\"Layer_1\">\r\n\t<path d=\"M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z\"/>\r\n</g>\r\n<g id=\"Layer_3\" class=\"st0\">\r\n</g>\r\n<g id=\"Icon\">\r\n\t<path d=\"M32,20c3.7,0,6,2.1,6,5.47C38,33.21,33.01,40,30.06,40c-0.25-0.04-0.93-0.35-1.38-0.56c-1.25-0.58-2.8-1.3-4.68-1.3\r\n\t\ts-3.43,0.72-4.68,1.3C18.87,39.65,18.19,39.97,18,40c-3.01,0-8-6.79-8-14.53C10,22.1,12.3,20,16,20c2.44,0,5.29,1.17,6.17,1.62\r\n\t\tL24,22.56l1.83-0.94C26.64,21.2,29.53,20,32,20 M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44\r\n\t\tc2,0,4-1.85,6-1.85S28,44,30,44c6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z\"/>\r\n</g>\r\n</svg>\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M128 96v32h32V96zm65.9 169.6c-1.1-5.6-6-9.6-11.8-9.6H160v-32h-32v32l-19.4 97.2c-6.5 32.5 18.3 62.8 51.4 62.8s57.9-30.3 51.4-62.8zm-33.6 124.5c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zM128 160v32h32v-32zm64-96h-32v32h32zm177.9 33.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.4 2.1 7.4 4.2l83.9 83.9c2 2 3.5 4.6 4.2 7.4H256zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h79.7v32h32V32H224v104c0 13.3 10.7 24 24 24h104zM192 192h-32v32h32zm0-64h-32v32h32z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-77.6-66.6c38.5-26 61.6-69.3 61.6-115.7 0-24.7-6.5-48.9-18.9-70.1-12-20.6-29.1-37.8-49.6-50-7.1-4.2-16.3-1.9-20.6 5.2-4.2 7.1-1.9 16.3 5.2 20.6 33.1 19.7 53.7 55.8 53.7 94.3 0 36.5-18.1 70.4-48.3 90.9-6.9 4.6-8.7 14-4 20.8 2.9 4.3 7.6 6.6 12.4 6.6 3.1 0 6-.8 8.5-2.6zm-26.6-38.3c26-17.3 41.5-46.2 41.5-77.4 0-32.9-17.7-63.7-46.2-80.3-7.2-4.2-16.3-1.7-20.5 5.4-4.2 7.2-1.7 16.3 5.4 20.5 19.3 11.2 31.3 32 31.3 54.3 0 21.1-10.5 40.7-28.1 52.4-6.9 4.6-8.8 13.9-4.2 20.8 2.9 4.4 7.7 6.7 12.5 6.7 2.8.1 5.7-.7 8.3-2.4zm-27-38.2c13.7-8.5 21.8-23.1 21.8-39.2 0-17-9.3-32.5-24.2-40.6-7.3-3.9-16.4-1.2-20.3 6.1-3.9 7.3-1.2 16.4 6.1 20.3 5.2 2.8 8.5 8.3 8.5 14.2 0 5.6-2.9 10.8-7.6 13.7-7 4.4-9.2 13.6-4.8 20.7 2.8 4.6 7.7 7.1 12.8 7.1 2.5 0 5.2-.7 7.7-2.3zM138 266.7v74.7L112 322H94v-36h18l26-19.3m17.9-50.7c-2.9 0-6 1.1-8.4 3.5L104 256H76c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h28l43.5 36.5c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V228c0-7.2-5.9-12-12.1-12z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM211.7 308l50.5-81.8c4.8-8-.9-18.2-10.3-18.2h-4.1c-4.1 0-7.9 2.1-10.1 5.5-31 48.5-36.4 53.5-45.7 74.5-17.2-32.2-8.4-16-45.8-74.5-2.2-3.4-6-5.5-10.1-5.5H132c-9.4 0-15.1 10.3-10.2 18.2L173 308l-59.1 89.5c-5.1 8 .6 18.5 10.1 18.5h3.5c4.1 0 7.9-2.1 10.1-5.5 37.2-58 45.3-62.5 54.4-82.5 31.5 56.7 44.3 67.2 54.4 82.6 2.2 3.4 6 5.4 10 5.4h3.6c9.5 0 15.2-10.4 10.1-18.4L211.7 308z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M159 336l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0l-39 39L63 448h256V304l-55.5-55.5c-4.7-4.7-12.3-4.7-17 0L159 336zm96-50.7l32 32V416H95.1l.3-67.2 15.6-15.6 48 48c20.3-20.3 77.7-77.6 96-95.9zM127 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm0-96c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm242.9-62.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM204.3 208H140c-6.6 0-12 5.4-12 12v184c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-60.4h44.3c38.7 0 67.7-27.3 67.7-69 0-38.6-23.8-66.6-67.7-66.6zm26 97.7c-7.5 7.6-17.8 11.4-31 11.4H160V233h39.7c12.9 0 23.1 3.7 30.6 11.1 15.3 15.1 15 46.5 0 61.6z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-48-244v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M224 280.593C224 267.01 212.989 256 199.407 256H88.593C75.011 256 64 267.01 64 280.593v110.815C64 404.99 75.011 416 88.593 416h110.814C212.989 416 224 404.99 224 391.407V381l27.971 27.971a23.998 23.998 0 0 0 16.97 7.029H296c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-27.059a24.003 24.003 0 0 0-16.97 7.029L224 291v-10.407zM192 384H96v-96h96v96zm80.255-96H288v96h-15.745L224 342.826v-13.652L272.255 288zm97.686-190.059l-83.883-83.882A47.996 47.996 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM256 32.491a15.888 15.888 0 0 1 7.432 4.195l83.882 83.882a15.882 15.882 0 0 1 4.195 7.431H256V32.491zM352 464c0 8.837-7.164 16-16 16H48c-8.836 0-16-7.163-16-16V48c0-8.837 7.164-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M344 272h-72v-72c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v72h-72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h72v72c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-72h72c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path d=\"M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z\"/></svg>","import { Injectable } from '@angular/core';\r\nimport { MatIconRegistry } from '@angular/material/icon';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport appleFilled from './2sxc/Material-Icon-Adam-48-filled.svg';\r\nimport appleOutlined from './2sxc/Material-Icon-Adam-48-outlined.svg';\r\nimport draftBranch from './font-awesome/draft-branch.svg';\r\nimport fileArchive from './font-awesome/file-archive.svg';\r\nimport fileAudio from './font-awesome/file-audio.svg';\r\nimport fileCode from './font-awesome/file-code.svg';\r\nimport fileExcel from './font-awesome/file-excel.svg';\r\nimport fileImage from './font-awesome/file-image.svg';\r\nimport filePdf from './font-awesome/file-pdf.svg';\r\nimport filePowerpoint from './font-awesome/file-powerpoint.svg';\r\nimport fileText from './font-awesome/file-text.svg';\r\nimport fileVideo from './font-awesome/file-video.svg';\r\nimport fileWord from './font-awesome/file-word.svg';\r\nimport file from './font-awesome/file.svg';\r\nimport folderPlus from './font-awesome/folder-plus.svg';\r\nimport folder from './font-awesome/folder.svg';\r\nimport sitemap from './font-awesome/sitemap.svg';\r\n\r\n@Injectable()\r\nexport class LoadIconsService {\r\n  private icons: Record<string, string> = {\r\n    'apple-filled': appleFilled,\r\n    'apple-outlined': appleOutlined,\r\n    'draft-branch': draftBranch,\r\n    file,\r\n    'file-archive': fileArchive,\r\n    'file-audio': fileAudio,\r\n    'file-code': fileCode,\r\n    'file-excel': fileExcel,\r\n    'file-image': fileImage,\r\n    'file-pdf': filePdf,\r\n    'file-powerpoint': filePowerpoint,\r\n    'file-text': fileText,\r\n    'file-video': fileVideo,\r\n    'file-word': fileWord,\r\n    folder,\r\n    'folder-plus': folderPlus,\r\n    sitemap,\r\n  };\r\n\r\n  constructor(private matIconRegistry: MatIconRegistry, private domSanitizer: DomSanitizer) { }\r\n\r\n  load() {\r\n    Object.entries(this.icons).forEach(([name, svg]) => {\r\n      this.matIconRegistry.addSvgIconLiteral(name, this.domSanitizer.bypassSecurityTrustHtml(svg));\r\n    });\r\n  }\r\n}\r\n","import { Injectable, signal } from '@angular/core';\r\nimport { UntypedFormGroup } from '@angular/forms';\r\nimport { classLog } from '../../shared/logging';\r\n\r\n/**\r\n * A Service to hold the form group and anything specific to a form.\r\n *\r\n * Important: This is specific to a single entity.\r\n */\r\n@Injectable()\r\nexport class EntityFormStateService {\r\n\r\n  log = classLog({EntityFormStateService});\r\n\r\n  constructor() {\r\n  }\r\n\r\n  /** Signal to determine that the form group has been initialized */\r\n  controlsCreated = signal(false);\r\n\r\n  isSaving = signal(false);\r\n\r\n  /** The Form Group */\r\n  public readonly formGroup = new UntypedFormGroup({});\r\n\r\n}\r\n","import { Injectable, Injector, OnDestroy, Signal } from '@angular/core';\r\nimport { toSignal } from '@angular/core/rxjs-interop';\r\nimport { filter, map, Subject } from 'rxjs';\r\nimport { transient } from '../../../../../core';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { classLog } from '../../shared/logging';\r\nimport { EditForm } from '../../shared/models/edit-form.model';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { mapUntilChanged } from '../../shared/rxJs/mapUntilChanged';\r\nimport { ServiceBase } from '../../shared/services/service-base';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { FormLanguageService } from '../form/form-language.service';\r\nimport { UrlHelpers } from '../shared/helpers';\r\nimport { EditUrlParams } from './edit-url-params.model';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  childFormResult: true,\r\n  expand: false,\r\n  open: false,\r\n  watchToRefreshOnVersionsClosed: true,\r\n}\r\n\r\n/**\r\n * Special helper to handle opening / closing field-specific popups.\r\n * E.g. the larger dialog on hyperlinks/files or entity-pickers.\r\n *\r\n * Note: also seems to be involved in the version-dialog closing as well.\r\n * \r\n * Note that it seems to be \"Scoped\" to the EditDialogMain Component\r\n */\r\n@Injectable()\r\nexport class EditRoutingService extends ServiceBase implements OnDestroy {\r\n\r\n  log = classLog({EditRoutingService}, logSpecs);\r\n\r\n  #dialogRouter = transient(DialogRoutingService);\r\n  #route = this.#dialogRouter.route;\r\n  #router = this.#dialogRouter.router;\r\n\r\n  constructor(\r\n    private langInstanceSvc: FormLanguageService,\r\n    private formConfig: FormConfigService\r\n  ) {\r\n    super();\r\n    this.log.a('constructor');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.#childFormResult$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  init() {\r\n    this.#initHideHeader();\r\n    this.#watchChildFormResult();\r\n  }\r\n\r\n  #childFormResult$ = new Subject<ChildFormResult>();\r\n\r\n  #getParams() { return this.#route.snapshot.params as EditUrlParams; }\r\n\r\n  #getParamsAndPayload() {\r\n    const p = this.#getParams();\r\n    const hasDetails = p.detailsEntityGuid != null && p.detailsFieldId != null;\r\n    return {\r\n      params: p,\r\n      hasDetails,\r\n      hasUpdate: p.updateEntityGuid != null && p.updateFieldId != null,\r\n      guid: hasDetails ? p.detailsEntityGuid : p.updateEntityGuid,\r\n      fieldId: hasDetails ? p.detailsFieldId : p.updateFieldId,\r\n    };\r\n  }\r\n\r\n  /** Tells if field with this index should be expanded */\r\n  isExpanded(fieldId: number, entityGuid: string) {\r\n    const fieldIndex = fieldId.toString();\r\n    const params = this.#getParams();\r\n    const isExpanded = params.detailsEntityGuid === entityGuid && params.detailsFieldId === fieldIndex;\r\n    return isExpanded;\r\n  }\r\n\r\n  /** Tells if field with this index should be expanded */\r\n  isExpanded$(fieldId: number, entityGuid: string) {\r\n    const fieldIndex = fieldId.toString();\r\n    return this.#route.params.pipe(\r\n      mapUntilChanged((p: EditUrlParams) => p.detailsEntityGuid === entityGuid && p.detailsFieldId === fieldIndex),\r\n    );\r\n  }\r\n\r\n  public isExpandedSignal(fieldId: number, entityGuid: string, injector: Injector): Signal<boolean> {\r\n    // Create a unique key by combining fieldId and entityGuid, then check cache\r\n    const key = `${fieldId}-${entityGuid}`;\r\n    const cached = this.#signalsExpandedCache[key];\r\n    if (cached) return cached;\r\n\r\n    // Get the observable and convert it to a signal\r\n    const obs = this.isExpanded$(fieldId, entityGuid);\r\n    return this.#signalsExpandedCache[key] = toSignal(obs, { injector });\r\n  }\r\n  #signalsExpandedCache: Record<string, Signal<boolean>> = {};\r\n\r\n  /** Fires when child form is closed and has a result, new entity was added */\r\n  childFormResult(fieldId: number, entityGuid: string) {\r\n    const l = this.log.fnIf('childFormResult', { fieldId, entityGuid });\r\n    const obs = this.#childFormResult$.pipe(\r\n      filter(cr => cr.updateEntityGuid === entityGuid && cr.updateFieldId === fieldId && cr.result != null),\r\n      map(cr => cr.result),\r\n    );\r\n    return l.rSilent(obs);\r\n  }\r\n\r\n  /** Fires when child form is closed */\r\n  childFormClosed() {\r\n    return this.#childFormResult$.pipe(map(_ => null as string));\r\n  }\r\n\r\n  expand(expand: boolean, fieldId: number, entityGuid: string, componentTag?: string) {\r\n    const l = this.log.fnIf('expand', { expand, fieldId, entityGuid, componentTag });\r\n    const pInfo = this.#getParamsAndPayload();\r\n    const p = pInfo.params;\r\n    const oldEditUrl = `edit/${p.items}` + (pInfo.hasDetails ? `/details/${pInfo.guid}/${pInfo.fieldId}` : '');\r\n    const newEditUrl = `edit/${p.items}` + (expand ? `/details/${entityGuid}/${fieldId}` : '');\r\n    const url = UrlHelpers.newUrlIfCurrentContainsOldUrl(this.#route, oldEditUrl, newEditUrl);\r\n    if (url == null) return l.end('no change');\r\n    this.#router.navigate([url], { state: componentTag && { componentTag } });\r\n    l.end('routed away to ', { url});\r\n  }\r\n\r\n  /** Opens child dialog and stores update entityGuid and fieldId in the url, if field is not expanded already */\r\n  open(fieldId: number, entityGuid: string, form: EditForm) {\r\n    const l = this.log.fnIf('open', { fieldId, entityGuid, form });\r\n    const formUrl = convertFormToUrl(form);\r\n    const pInfo = this.#getParamsAndPayload();\r\n    // if field is expanded, just open child because that info will be used for field update\r\n    if (pInfo.hasDetails) {\r\n      this.#router.navigate([`edit/${formUrl}`], { relativeTo: this.#route });\r\n      return l.end('expanded, just open child');\r\n    }\r\n\r\n    // otherwise add /update/:entityGuid/:fieldId to the url\r\n    const oldEditUrl = `edit/${pInfo.params.items}`;\r\n    const newEditUrl = `edit/${pInfo.params.items}/update/${entityGuid}/${fieldId}/edit/${formUrl}`;\r\n    const url = UrlHelpers.newUrlIfCurrentContainsOldUrl(this.#route,oldEditUrl, newEditUrl);\r\n    if (url == null) return l.end('no change');\r\n    this.#router.navigate([url]);\r\n    l.end('routed away to ', { url });\r\n  }\r\n\r\n  /** Update hideHeader for the form. Fix for safari and mobile browsers */\r\n  #initHideHeader() {\r\n    this.subscriptions.add(\r\n      this.#route.params\r\n        .pipe(\r\n          mapUntilChanged((p: EditUrlParams) => p.detailsEntityGuid != null && p.detailsFieldId != null)\r\n        )\r\n        .subscribe(hasDetails => this.langInstanceSvc.updateHideHeader(this.formConfig.config.formId, hasDetails))\r\n    );\r\n  }\r\n\r\n  #watchChildFormResult() {\r\n    this.subscriptions.add(\r\n      this.#dialogRouter.childDialogClosed$().pipe(\r\n        map(() => {\r\n          const pInfo = this.#getParamsAndPayload();\r\n          return {\r\n            pInfo,\r\n            result: {\r\n              updateEntityGuid: pInfo.guid,\r\n              updateFieldId: parseInt(pInfo.fieldId, 10),\r\n              result: this.#router.getCurrentNavigation().extras?.state,\r\n            } satisfies ChildFormResult\r\n          };\r\n        }),\r\n      ).subscribe(({ pInfo, result }) => {\r\n        // alert subscribers that child form closed\r\n        this.#childFormResult$.next(result);\r\n\r\n        // clear update ids from url (leave expanded/details)\r\n        if (!pInfo.hasUpdate) return;\r\n        \r\n        const p = pInfo.params;\r\n        const url = UrlHelpers.newUrlIfCurrentContainsOldUrl(this.#route, `edit/${p.items}/update/${p.updateEntityGuid}/${p.updateFieldId}`, `edit/${p.items}`);\r\n        if (url == null) return;\r\n        this.#router.navigate([url]);\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport interface NavigateFormResult {\r\n  navigateUrl: string;\r\n}\r\n\r\ninterface ChildFormResult {\r\n  updateEntityGuid: string;\r\n  updateFieldId: number;\r\n  /** On add, contains GUID and Id of newly added item */\r\n  result: {\r\n    [guid: string]: number;\r\n  };\r\n}\r\n","import { TranslateService } from '@ngx-translate/core';\r\nimport { EntityLight } from '../../../../../../../edit-types/src/EntityLight';\r\n\r\nexport interface PickerItem {\r\n  /** The title to show in the dropdown */\r\n  label: string;\r\n\r\n  /** The value to store */\r\n  value: string;\r\n\r\n  /** The previewValue to Show (Icon, etc.) */\r\n  previewValue?: string;\r\n\r\n  /** The HTML to show in the preview */\r\n  previewHtml?: string;\r\n\r\n  /**\r\n   * The entity Id, only used to enable edit etc. if the item is an entity.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Prevent edit of this item for whatever reason, v15\r\n   * This property does not come from the server, but must be added by code.\r\n   */\r\n  noEdit?: boolean;\r\n\r\n  noRemove?: boolean;\r\n\r\n  /**\r\n   * Prevent delete of this item for whatever reason, v15\r\n   * This property does not come from the server, but must be added by code.\r\n   */\r\n  noDelete?: boolean;\r\n\r\n  /**\r\n   * Prevent select of this item for whatever reason, v16\r\n   * It was originally added so \"no query\" message will be shown in the dropdown.\r\n   * This property does not come from the server, but must be added by code.\r\n   *\r\n   * TODO: this is not quite correct, the UI seems to use and then look if re-select is allowed,\r\n   * but it's usually true for error messages...\r\n   */\r\n  noSelect?: boolean;\r\n\r\n\r\n  /**\r\n   * The tooltip that is seen on hover over item in the dropdown.\r\n   * This property does not come from the server, but must be added by code from the settings.\r\n   */\r\n  tooltip?: string;\r\n\r\n  /**\r\n   * The data that is seen on click on information icon on item in the dropdown.\r\n   * This property does not come from the server, but must be added by code from the settings.\r\n   */\r\n  info?: string;\r\n\r\n  /**\r\n   * The data that is seen on click on help icon on item in the dropdown.\r\n   * This property does not come from the server, but must be added by code from the settings.\r\n   */\r\n  link?: string;\r\n\r\n  /**\r\n   * The streamName is used for tree config when we have data from multiple streams and they have same Ids.\r\n   * This property does not come from the server, but must be added by code from the settings.\r\n   */\r\n  sourceStreamName?: string;\r\n\r\n  /**\r\n   * Indicate that this item is an error or message, which means it should not be selectable and it should\r\n   * also not be filtered out.\r\n   */\r\n  isMessage?: boolean;\r\n\r\n  /**\r\n   * The data of the underlying original entity.\r\n   * Used in formulas and field masks for all properties.\r\n   * Named `data` and not `entity` because in theory the data could come from elsewhere and never be an entity. \r\n   */\r\n  data?: EntityLight;\r\n\r\n  /**\r\n   * WIP to list features required for this item.\r\n   * \r\n   * Goal is to probably have a CSV always consisting of prefix like \r\n   * \r\n   * * `feature:` and then a feature ID such as `feature:PickerUiRadio` + a possible action such as `hint=feature:PickerUiRadio`\r\n   * * later `package:` and then a package\r\n   * * later `permission:` and then a permission\r\n   * \r\n   * Important: This is beta and not for public use; ATM used in the radio/checkboxes of pickers and only there.\r\n   * It can still change at any time, both format and implementation.\r\n   */\r\n  rules?: string;\r\n\r\n}\r\n\r\nexport class PickerItemFactory {\r\n\r\n  /** Generate a placeholder item to show in the list to show during loading or in case of error */\r\n  static placeholder(translate: TranslateService, i18nLabel: string, suffix?: string): PickerItem {\r\n    return {\r\n      label: translate.instant(i18nLabel) + (suffix ?? ''),\r\n      value: null,\r\n      noSelect: true,\r\n      isMessage: true,\r\n      noDelete: true,\r\n      noEdit: true,\r\n    } satisfies PickerItem;\r\n  }\r\n\r\n  /** Generate a placeholder item to show in the list to show during loading or in case of error */\r\n  static message(translate: TranslateService, i18nLabel: string, params?: object): PickerItem {\r\n    return {\r\n      label: translate.instant(i18nLabel, params),\r\n      value: null,\r\n      noSelect: true,\r\n      isMessage: true,\r\n      noDelete: true,\r\n      noEdit: true,\r\n    } satisfies PickerItem;\r\n  }\r\n}\r\n","import { Signal } from '@angular/core';\r\nimport { ClassLogger } from '../../../../shared/logging';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../../../edit-debug';\r\nimport { DataSourceBase } from '../data-sources/data-source-base';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { DeleteEntityProps } from '../models/picker.models';\r\nimport { PickerFeatures } from '../picker-features.model';\r\nimport { StateAdapter } from './state-adapter';\r\n\r\nexport abstract class DataAdapterBase {\r\n\r\n  /** Log Specs to be used as a basis for all inheriting classes */\r\n  static logSpecs = {\r\n    all: false,\r\n    setupEmpty: false,\r\n    connectState: false,\r\n    initPrefetch: true,\r\n    fetchItems: false,\r\n    constructor: false,\r\n    fields: [...DebugFields, 'Categories'],\r\n  };\r\n\r\n  log: ClassLogger<typeof DataAdapterBase.logSpecs>;\r\n\r\n  constructor() { }\r\n\r\n  /** Picker Features of this DataAdapter - must be implemented by every data source to communicate it's features */\r\n  public abstract myFeatures: Signal<Partial<PickerFeatures>>;\r\n\r\n  /** a signal for data-sources - may not need a signal, if it's unchanging... */\r\n  public dataSource = signalObj<DataSourceBase>('dataSource', null satisfies DataSourceBase);\r\n\r\n  /**\r\n   * The options to show.\r\n   * Can be different from the underlying data, since it may have error or loading-entries.\r\n   * This is a signal, so it can be used in the template. it will _never_ be null.\r\n   */\r\n  public optionsOrHints: Signal<PickerItem[]> = computedObj('optionsOrHints', () => this.dataSource().data() ?? []);\r\n\r\n  public deleteCallback: (props: DeleteEntityProps) => void;\r\n\r\n  //#region Setup & Init\r\n\r\n  protected abstract dataSourceRaw: DataSourceBase;\r\n\r\n  public connectState(state: StateAdapter): this {\r\n    const l = this.log.fnIf('connectState');\r\n\r\n    this.dataSource.set(this.dataSourceRaw.setup());\r\n\r\n    this.deleteCallback = p => state.doAfterDelete(p);\r\n    return l.rSilent(this);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  abstract deleteItem(props: DeleteEntityProps): void;\r\n\r\n  abstract editItem(editParams: { entityGuid: string, entityId: number }, entityType: string): void;\r\n\r\n  abstract fetchItems(): void;\r\n}\r\n","import { HttpErrorResponse } from \"@angular/common/http\";\r\nimport { inject } from '@angular/core';\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { take } from 'rxjs';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { FieldSettingsPickerMerged } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../../edit-types/src/PickerSources';\r\nimport { EditForm, EditPrep } from \"../../../../../app/shared/models/edit-form.model\";\r\nimport { EntityService } from \"../../../../../app/shared/services/entity.service\";\r\nimport { ClassLogger } from '../../../../shared/logging/class/class-logger';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { EntityFormStateService } from '../../../entity-form/entity-form-state.service';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { EditRoutingService } from '../../../routing/edit-routing.service';\r\nimport { FieldMask } from '../../../shared/helpers';\r\nimport { FieldState } from '../../field-state';\r\nimport { DataSourceEntityBase } from '../data-sources/data-source-entity-base';\r\nimport { PickerItem, PickerItemFactory } from '../models/picker-item.model';\r\nimport { DeleteEntityProps } from \"../models/picker.models\";\r\nimport { PickerFeatures } from '../picker-features.model';\r\nimport { DataAdapterBase } from \"./data-adapter-base\";\r\nimport { DataAdapterCanRefresh } from './data-adapter-can-refresh';\r\n\r\nexport const logSpecsDataAdapterEntityBase = {\r\n  ...DataAdapterBase.logSpecs,\r\n  editItem: true,\r\n  getPrefill: true, // for create Entity & query\r\n};\r\n\r\nexport abstract class DataAdapterEntityBase extends DataAdapterBase implements DataAdapterCanRefresh {\r\n\r\n  //#region Services, constructor, log\r\n\r\n  log: ClassLogger<typeof DataAdapterBase.logSpecs> & ClassLogger<typeof logSpecsDataAdapterEntityBase>;\r\n\r\n  protected formConfig = inject(FormConfigService);\r\n  #editRoutingService = inject(EditRoutingService);\r\n  protected translate = inject(TranslateService);\r\n  #snackBar = inject(MatSnackBar);\r\n  protected fieldState = inject(FieldState) as FieldState<string[], FieldSettingsWithPickerSource & FieldSettingsPickerMerged>;\r\n  protected group = inject(EntityFormStateService).formGroup;\r\n  #entityService = transient(EntityService);\r\n\r\n  constructor() { super(); }\r\n\r\n  protected name = this.fieldState.name;\r\n\r\n  //#endregion\r\n\r\n  /**\r\n   * Content Type Mask\r\n   * This is a text or mask containing all query parameters.\r\n   * Since it's a mask, it can also contain values from the current item\r\n   */\r\n  #paramsMaskLazy = transient(FieldMask).initSignal('PickerSource-EntityType', this.fieldState.settingExt('EntityType'));\r\n\r\n  protected contentType = computedObj('contentType', () => this.#paramsMaskLazy?.result() ?? '');\r\n\r\n  #createEntityTypes = computedObj('createEntityTypes', () => this.fieldState.settings().CreateTypes);\r\n\r\n  /** \r\n   * Sync params: patch the data-source with the current settings\r\n   * Should be implemented in Entity & Query, probably not in AppAssets\r\n   */\r\n  syncParams(): void { }\r\n\r\n  onAfterViewInit(): void {\r\n    this.syncParams();\r\n  }\r\n\r\n  /** The features depend on contentType names being available to support create */\r\n  public myFeatures = computedObj<Partial<PickerFeatures>>('features', () => {\r\n    // if we don't know the content-type, we can't create new entities\r\n    const disableCreate = !this.contentType() && !this.#createEntityTypes();\r\n    return { create: !disableCreate } satisfies Partial<PickerFeatures>;\r\n  });\r\n\r\n  // WIP\r\n  #deletedItemsGuids = signalObj<string[]>('deletedItemsGuids', []);\r\n\r\n  /* Error handling to use in the final options - ATM never really used, since we can't really trigger the problem it was meant for */\r\n  protected errorOptions = signalObj<PickerItem[]>('errorOptions', null);\r\n\r\n  /** The options/hints to show in the UI */\r\n  override optionsOrHints = computedObj('optionsOrHints', () => {\r\n    const errors = this.errorOptions();\r\n    if (errors) return errors;\r\n    const ds = this.dataSource();\r\n    const deleted = this.#deletedItemsGuids();\r\n    const items = ds.data().filter(item => !deleted.some(guid => guid === item.value));\r\n    return ds.loading()\r\n      ? [PickerItemFactory.message(this.translate, 'Fields.Picker.Loading'), ...items]\r\n      : items;\r\n  });\r\n\r\n  initPrefetch(prefetchGuids: string[]): void {\r\n    this.syncParams();\r\n    this.log.fnIfInList('initPrefetch', 'fields', this.name, { prefetchGuids });\r\n    (this.dataSource() as DataSourceEntityBase).initPrefetch?.(prefetchGuids);\r\n  }\r\n\r\n  forceReloadData(missingData: string[]): void {\r\n    const l = this.log.fn('forceReloadData', { missingData });\r\n    this.dataSource().addToRefresh(missingData);\r\n    l.end();\r\n  }\r\n\r\n  // Note: 2dm 2023-01-24 added entityId as parameter #maybeRemoveGuidOnEditEntity\r\n  // not even sure if the guid would still be needed, as I assume the entityId\r\n  // should always be available.\r\n  // Must test all use cases and then probably simplify again.\r\n  editItem(editParams: { entityGuid: string, entityId: number }, entityType: string): void {\r\n    const l = this.log.fnIf('editItem', { editParams });\r\n    const editGuid = editParams?.entityGuid;\r\n    const formParams = this.#urlToObject(editGuid == null ? this.#createParams.result() : this.#editParams.result());\r\n    const form: EditForm = {\r\n      items: [\r\n        {\r\n          ...(editGuid == null)\r\n            ? EditPrep.newFromType(entityType ?? this.contentType(), this.#urlToObject(this.#prefill.result()))\r\n            : EditPrep.editId(this.optionsOrHints().find(item => item.value === editGuid)?.id ?? editParams.entityId),\r\n          ...( formParams ? { ClientData: { parameters: formParams } } : {} ),\r\n        },\r\n      ],\r\n    };\r\n    l.a('form', { form });\r\n    const config = this.fieldState.config;\r\n\r\n    // Open the form\r\n    this.#editRoutingService.open(config.index, config.entityGuid, form);\r\n\r\n    // Monitor for close to reload data\r\n    this.#editRoutingService.childFormClosed()\r\n      .pipe(take(1))\r\n      .subscribe(data => {\r\n        const l2 = this.log.fn('childFormClosed', { editGuid, data });\r\n        if (editGuid) {\r\n          this.forceReloadData([editGuid]);\r\n          return l2.end('forceReloadData', { editGuid });\r\n        }\r\n        l2.end(\"no guid, won't reload data\");\r\n      })\r\n    l.end();\r\n  }\r\n\r\n  deleteItem(props: DeleteEntityProps): void {\r\n    this.log.a('deleteItem', { props });\r\n    const entity = this.optionsOrHints().find(item => item.value === props.entityGuid);\r\n    const id = entity.id;\r\n    const title = entity.label;\r\n    const contentType = this.contentType();\r\n    const config = this.fieldState.config;\r\n    const parentId = config.entityId;\r\n    const parentField = config.fieldName;\r\n\r\n    const confirmed = confirm(this.translate.instant('Data.Delete.Question', { title, id }));\r\n    if (!confirmed) return;\r\n\r\n    this.#snackBar.open(this.translate.instant('Message.Deleting'));\r\n    this.#entityService.delete(this.formConfig.config.appId, contentType, id, false, parentId, parentField).subscribe({\r\n      next: () => {\r\n        this.#snackBar.open(this.translate.instant('Message.Deleted'), null, { duration: 2000 });\r\n        this.deleteCallback(props); // removes value from selected values\r\n        this.#deletedItemsGuids.update(p => [...p, props.entityGuid]);\r\n      },\r\n      error: (_: HttpErrorResponse) => {\r\n        this.#snackBar.dismiss();\r\n        if (!confirm(this.translate.instant('Data.Delete.Question', { title, id }))) return;\r\n        this.#snackBar.open(this.translate.instant('Message.Deleting'));\r\n        this.#entityService.delete(this.formConfig.config.appId, contentType, id, true, parentId, parentField).subscribe({\r\n          next: () => {\r\n            this.#snackBar.open(this.translate.instant('Message.Deleted'), null, { duration: 2000 });\r\n            this.deleteCallback(props); // removes value from selected values\r\n            this.#deletedItemsGuids.update(p => [...p, props.entityGuid]);\r\n          },\r\n          error: (_: HttpErrorResponse) => {\r\n            this.#snackBar.open(this.translate.instant('Message.DeleteError'), null, { duration: 2000 });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Will create a prefill object (if configured) which is based on a field-mask.\r\n   * This allows create-entity to use add prefills.\r\n   * ATM just normal values (text/number) or placeholders like [Title] work.\r\n   * In future we may add more features like dates etc.\r\n   * new 11.11.03\r\n   */\r\n  // #prefill = transient(FieldMask).initSignal('Prefill', this.fieldState.settingExt<FieldSettingsWithPickerSource, 'CreatePrefill'>('CreatePrefill'));\r\n  #prefill = transient(FieldMask).initSignal('Prefill', this.fieldState.settingExt('CreatePrefill'));\r\n  #createParams = transient(FieldMask).initSignal('CreateParams', this.fieldState.settingExt('CreateParameters'));\r\n  #editParams = transient(FieldMask).initSignal('CreateParams', this.fieldState.settingExt('EditParameters'));\r\n\r\n  // #getPrefillSetting() {\r\n  //   const maybe = this.fieldState.settingExt('CreatePrefill');\r\n  //   if (maybe()) return maybe;\r\n  //   return this.fieldState.settingExt('Prefill');\r\n  // }\r\n\r\n\r\n  #urlToObject(prefill: string) {\r\n    const l = this.log.fnIf('getPrefill', { prefill});\r\n    if (!prefill || !prefill.trim())\r\n      return l.r(null, 'empty');\r\n\r\n    // note: 2024-10-03 old code split for '\\n' but I had to add '&'\r\n    // not sure if the \\n is even relevant, so for now I'll remove it\r\n    const result = Object.fromEntries(\r\n      prefill.split('&')\r\n        .map(line => line.split('='))\r\n        .filter(parts => parts.length === 2 && parts[0] && parts[1])\r\n      ) as Record<string, string>;\r\n    \r\n    return l.r(result);\r\n    \r\n  }\r\n}\r\n\r\nexport interface LogSpecsDataAdapterEntityBase {\r\n  all: boolean;\r\n  connectState: boolean;\r\n}\r\n","/**\r\n * Picker features of a single item.\r\n */\r\nexport interface PickerFeaturesItem {\r\n  /** Item level: provide the edit button */\r\n  edit: boolean;\r\n  /** Item level: provide the remove button */\r\n  remove: boolean;\r\n  /** Item level: provide the delete button */\r\n  delete: boolean;\r\n}\r\n\r\n/**\r\n * Picker Features allow a source, state or control to determine what features are available for a picker.\r\n *\r\n * The idea is that by default, these things should be truish, and then the source, state or control can\r\n * declare that it's not allowed.\r\n *\r\n * In the end the features should be merged into one object, and the picker should be able to determine\r\n * what buttons etc. to show.\r\n */\r\nexport interface PickerFeatures extends PickerFeaturesItem {\r\n  /** Control level: provide the create button */\r\n  create: boolean;\r\n  /** Control level: provide the text entry */\r\n  textEntry: boolean;\r\n  /** Control level: provide the multi-value picker */\r\n  multiValue: boolean;\r\n}\r\n\r\nexport interface PickerFeaturesForControl extends PickerFeatures {\r\n  /**\r\n   * Determines if the control should also show the \"Go to List\" button.\r\n   * This depends on multi-select and in future also on the sortability of the list.\r\n   */\r\n  showGoToListDialogButton: boolean;\r\n\r\n  /**\r\n   * Determines if the control should also show the \"Add New\" button.\r\n   * This depends on the setting to create new items + the availability of the create-names.\r\n   */\r\n  showAddNewButton: boolean;\r\n}\r\n\r\nfunction fill(data: Partial<PickerFeatures>, fallback: boolean): PickerFeatures {\r\n  return {\r\n    create: data.create ?? fallback,\r\n    textEntry: data.textEntry ?? fallback,\r\n    multiValue: data.multiValue ?? fallback,\r\n\r\n    edit: data.edit ?? fallback,\r\n    remove: data.remove ?? fallback,\r\n    delete: data.delete ?? fallback,\r\n  };\r\n}\r\n\r\nconst logMergePickerFeatures = false;\r\n\r\nexport function mergePickerFeatures(first: Partial<PickerFeatures>, second: Partial<PickerFeatures>): PickerFeatures {\r\n  const firstTrue = fill(first, true);\r\n  const secondTrue = fill(second, true);\r\n  const result = {\r\n    create: firstTrue.create && secondTrue.create,\r\n    textEntry: firstTrue.textEntry && secondTrue.textEntry,\r\n    multiValue: firstTrue.multiValue && secondTrue.multiValue,\r\n\r\n    edit: firstTrue.edit && secondTrue.edit,\r\n    remove: firstTrue.remove && secondTrue.remove,\r\n    delete: firstTrue.delete && secondTrue.delete,\r\n  };\r\n  if (logMergePickerFeatures)\r\n    console.log('mergePickerFeatures result', { result, first, second, firstTrue, secondTrue });\r\n  return result;\r\n}","import groupBy from 'lodash-es/groupBy';\r\nimport { guidRegex } from '../../../shared/constants/guid.constants';\r\nimport { PickerItem } from './models/picker-item.model';\r\n\r\nexport function pickerItemsAllowsEmpty(dropdownOptions?: PickerItem[]): boolean {\r\n  return dropdownOptions?.some(o => o.value == '');\r\n}\r\n\r\n/** Convert string value in string array if a value is type string */\r\nexport function convertValueToArray(value: string | string[], separator: string, emptyIsValid: boolean): string[] {\r\n  // Special case: String-picker old with \"empty\" being selected\r\n  // In most dropdowns, empty would mean not-selected, but in string-dropdowns, it _can_ be a valid value\r\n  // So we must check if there is an empty value in the dropdown options\r\n  // And if this is true, return an array with an empty string being \"selected\"\r\n  if (value == '' && emptyIsValid)\r\n    return [''];\r\n\r\n  if (value == '' || !value)\r\n    return [];\r\n\r\n  return (Array.isArray(value))\r\n    ? value\r\n    : value.split(separator);\r\n}\r\n\r\n/** Convert string array value in string value if a value is type array */\r\nexport function convertArrayToString(value: string | string[], separator: string): string {\r\n  if (!value)\r\n    return '';\r\n  if (Array.isArray(value))\r\n    return value.join(separator);\r\n  return value;\r\n}\r\n\r\nexport function filterGuids(entityName: string, fieldName: string, guids: string[]): string[] {\r\n  if (guids == null) return;\r\n\r\n  const grouped = groupBy(guids, guid => guidRegex().test(guid) ? 'valid' : 'invalid');\r\n\r\n  // const validGuids: string[] = [];\r\n  // const invalidGuids: string[] = [];\r\n  // for (const guid of guids) {\r\n  //   if (guidRegex().test(guid)) {\r\n  //     validGuids.push(guid);\r\n  //   } else {\r\n  //     invalidGuids.push(guid);\r\n  //   }\r\n  // }\r\n\r\n  if (grouped.invalid) // invalidGuids.length > 0)\r\n    console.error(`Found invalid guids in Entity: \"${entityName}\", Field: \"${fieldName}\"`, grouped.invalid); // invalidGuids);\r\n\r\n  return grouped.valid ?? []; // validGuids;\r\n}\r\n","import { effect, inject, Injectable, Signal } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { getWith } from '../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsPickerMerged } from '../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { computedObj, signalObj } from '../../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../../edit-debug';\r\nimport { DataAdapterBase } from './adapters/data-adapter-base';\r\nimport { DataAdapterCanRefresh } from './adapters/data-adapter-can-refresh';\r\nimport { DataAdapterEntityBase } from './adapters/data-adapter-entity-base';\r\nimport { StateAdapter } from \"./adapters/state-adapter\";\r\nimport { PickerItem } from './models/picker-item.model';\r\nimport { mergePickerFeatures, PickerFeatures, PickerFeaturesForControl } from './picker-features.model';\r\nimport { pickerItemsAllowsEmpty } from './picker.helpers';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  setup: false,\r\n  addInfosFromSourceForUi: false,\r\n  optionsWithMissing: false,\r\n  selectedRaw: false,\r\n  selectedOverride: false,\r\n  selectedState: false,\r\n  features: true,\r\n  allOptions: false,\r\n  fields: [...DebugFields, '*'],\r\n}\r\n\r\n/**\r\n * Manages the data for the picker component.\r\n * This is quite complex, because there are many combinations of where the configuration and data can come from,\r\n * as well as how the resulting values should be processed.\r\n */\r\n@Injectable()\r\nexport class PickerData {\r\n\r\n  //#region Constructor, Log, Services, Setup\r\n  \r\n  log = classLog({PickerData}, logSpecs);\r\n\r\n  #translate = inject(TranslateService);\r\n\r\n  name: string;\r\n\r\n  constructor() {\r\n    // Log the options when they change (if enabled)\r\n    if (this.log.enabled && this.log.specs.allOptions) {\r\n      effect(() => {\r\n        const ready = this.ready();\r\n        const raw = this.optionsRaw();\r\n        const override = this.optionsOverride();\r\n        const final = this.optionsAll();\r\n        this.log.a('options', { ready, raw, override, final });\r\n      });\r\n    }\r\n  }\r\n\r\n  /** Setup to load initial values and initialize the state */\r\n  public setup(name: string, settings: Signal<FieldSettings>, state: StateAdapter, source: DataAdapterBase) {\r\n    const l = this.log.fnIfInList('setup', 'fields', name, { name, state, source });\r\n\r\n    // Setup this object\r\n    this.name = name;\r\n    this.#settingsLazy.set(settings as Signal<FieldSettings & FieldSettingsPickerMerged>);\r\n    this.state = state;\r\n    this.source = source;\r\n\r\n    // Setup the State so it is able to do it's work based on data it wouldn't have otherwise\r\n    state.features = this.features;\r\n    state.allowsEmptyLazy.set(this.optionsAllowsEmpty);\r\n\r\n    // 1. Init Prefetch - for Entity Picker\r\n    // This will place the prefetch items into the available-items list\r\n    // Otherwise related entities would only show as GUIDs.\r\n    const values = state.values();\r\n    l.a('setup', { initiallySelected: values });\r\n    (source as DataAdapterBase & DataAdapterCanRefresh)?.initPrefetch?.(values);\r\n\r\n    // When everything is done, mark as ready\r\n    this.ready.set(true);\r\n\r\n    l.end('done');\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Adapters\r\n\r\n  /**\r\n   * The data for the list / options to show.\r\n   * Populated at Setup.\r\n   */\r\n  public source: DataAdapterBase;\r\n\r\n  /**\r\n   * The state containing the currently selected data in the correct object structure\r\n   * Populated at Setup.\r\n  */\r\n  public state: StateAdapter;\r\n\r\n  //#endregion\r\n\r\n  public closeWatcherAttachedWIP = false;\r\n\r\n  //#region Possible Options to provide\r\n\r\n  /**\r\n   * Inform the system that the sources are ready.\r\n   * WIP experimenting with making it public, so that formulas can delay running dependant function.\r\n   */\r\n  public ready = signalObj('sourceIsReady', false);\r\n\r\n  /** Options to show in the picker. Can also show hints if something is wrong. Must be initialized at setup */\r\n  public optionsRaw = computedObj('optionsSource', () => (this.ready() ? this.source.optionsOrHints() : null) ?? []);\r\n  \r\n  /** Overrides / replacements from formulas */\r\n  public optionsOverride = signalObj<PickerItem[]>('overrideOptions', null);\r\n\r\n  /** Final Options to show in the picker and to use to calculate labels of selected etc. */\r\n  public optionsAll = computedObj('optionsFinal', () => getWith(this.optionsOverride(), o => o ? o : this.optionsRaw()));\r\n\r\n  /** Special information for string pickers which allow empty to be valid selection - also used in validator */\r\n  public optionsAllowsEmpty = computedObj('optionsAllowsEmpty', () => pickerItemsAllowsEmpty(this.optionsAll()));\r\n\r\n  //#endregion\r\n\r\n  //#region Selected Data\r\n\r\n  /** Currently selected items. Must watch for ready. */\r\n  public selectedRaw = computedObj<PickerItem[]>('selectedState', () => {\r\n    const l = this.log.fnIfInList('selectedRaw', 'fields', this.name);\r\n    return !this.ready()\r\n      ? l.r([], 'not ready')\r\n      : l.r(this.#toSelectedWithUiInfo(this.state.selectedItems(), this.optionsAll()), 'ready');\r\n  });\r\n\r\n  /** Overrides / replacements from formulas */\r\n  public selectedOverride = signalObj<PickerItem[]>('selectedOverride', null);\r\n\r\n  /** Currently selected items from override or raw */\r\n  public selectedAll = computedObj('selectedAll', () => getWith(this.selectedOverride(), o => o ? o : this.selectedRaw()));\r\n\r\n  /** First selected item or null */\r\n  public selectedOne = computedObj('selectedOne', () => this.selectedAll()[0] ?? null);\r\n\r\n  /** Create a copy of the selected items, so that any changes (in formulas) won't affect the real selected data */\r\n  public selectedCopy(original: PickerItem[]): PickerItem[] {\r\n    return original.map(item => ({ ...item }));\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Options containing missing selected\r\n\r\n  public optionsWithMissing = computedObj('optionsWithMissing', () => {\r\n    const l = this.log.fnIf('optionsWithMissing');\r\n    const selected = this.selectedAll();\r\n    const options = this.optionsAll();\r\n    const missing = selected.filter(s => !options.find(o => o.value === s.value));\r\n    if (missing.length === 0) return options;\r\n\r\n    const result = options.concat(missing);\r\n    return l.r(result);\r\n  });\r\n\r\n  //#endregion\r\n\r\n  #settingsLazy = signalObj<Signal<FieldSettings & FieldSettingsPickerMerged>>('settingsLazy', null);\r\n\r\n  #featuresFromSettings = computedObj<PickerFeatures>('featuresFromSettings', () => {\r\n    const s = this.#settingsLazy()();\r\n    return {\r\n      textEntry: s.EnableTextEntry,\r\n      multiValue: s.AllowMultiValue,\r\n      create: s.EnableCreate && !!s.CreateTypes,\r\n      remove: s.EnableRemove,\r\n      delete: s.EnableDelete,\r\n      edit: s.EnableEdit,       // note: added in 19.03.02, seems to have been forgotten before?\r\n    } satisfies PickerFeatures;\r\n  });\r\n\r\n  /** Signal containing the features of the picker, basically to accumulate features such as \"canEdit\" */\r\n  public features = computedObj<PickerFeaturesForControl>('features', () => {\r\n    const sourceFeatures = this.source.myFeatures();\r\n    const stateFeatures = this.state.myFeatures();\r\n    const settingsFeatures = this.#featuresFromSettings();\r\n    \r\n    const mergeSourceAndState = mergePickerFeatures(sourceFeatures, stateFeatures);\r\n    const mergeSettings = mergePickerFeatures(mergeSourceAndState, settingsFeatures);\r\n    const forControl = {\r\n      ...mergeSettings,\r\n      showGoToListDialogButton: mergeSettings.multiValue,\r\n      showAddNewButton: mergeSettings.create,\r\n    } satisfies PickerFeaturesForControl;\r\n\r\n    this.log.aIf('features', { sourceFeatures, stateFeatures, settingsFeatures, mergeSourceAndState, mergeSettings, forControl });\r\n    return forControl;\r\n  });\r\n\r\n  public addNewlyCreatedItem(result: Record<string, number>) {\r\n    const newItemGuid = Object.keys(result)[0];\r\n    const l = this.log.fn('addNewlyCreatedItem', { result, newItemGuid });\r\n    if (!this.state.values().includes(newItemGuid)) {\r\n      this.state.add(newItemGuid);\r\n      (this.source as DataAdapterBase & DataAdapterCanRefresh)?.forceReloadData?.([newItemGuid]);\r\n    }\r\n    l.end();\r\n  }\r\n\r\n  #toSelectedWithUiInfo(selected: string[], opts: PickerItem[]): PickerItem[] {\r\n    const l = this.log.fnIfInList('addInfosFromSourceForUi', 'fields', this.name, { selected, opts });\r\n\r\n    const result = selected.map(item => {\r\n      // If the selected item is not in the data, show the raw / original item\r\n      const original = opts.find(e => e.value === item);\r\n\r\n      return original\r\n        // Since we seem to have more information from the source, use that\r\n        ? createPickerItemFromItem(original, original.label ?? this.#translate.instant('Fields.Picker.EntityNotFound'))\r\n        // If it's not in the data, just show the value\r\n        : this.#createPickerItemFromValue(item);\r\n    });\r\n    return l.r(result);\r\n  }\r\n\r\n  //#region Text Mode\r\n\r\n  public isInFreeTextMode = signalObj('isInFreeTextMode', false);\r\n\r\n  toggleFreeTextMode(): void {\r\n    this.isInFreeTextMode.update(p => !p);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  #createPickerItemFromValue(value: string): PickerItem {\r\n    value = value?.toString() ?? '';  // safe to-string, so it's never 'undefined'\r\n\r\n    const validDataExpected = this.source instanceof DataAdapterEntityBase;\r\n\r\n    return {\r\n      // Special: if e.g. string with free text value which is not found, disable edit and delete.\r\n      // Otherwise we may see an edit-pencil for a value that is not in the dropdown (eg. a system query)\r\n      noEdit: true,\r\n      noDelete: true,\r\n      // either the real value or null if text-field or not found\r\n      id: null,\r\n      label: value + (validDataExpected ? ' ': ''),\r\n      tooltip: value + (validDataExpected ? `  ${this.#translate.instant('Fields.Picker.EntityNotFound')} - could result in error` : ' (manual entry)'),\r\n      value,\r\n    } satisfies PickerItem;\r\n  }\r\n}\r\n\r\n//#region Helper Functions for PickerItem\r\n\r\n\r\n\r\nfunction createPickerItemFromItem(original: PickerItem, label: string) {\r\n  return {\r\n    id: original.id,\r\n    value: original.value,\r\n    label,\r\n    tooltip: original.tooltip || `${label} (${original.value})`,\r\n    info: original.info || null,\r\n    link: original.link || null,\r\n    noEdit: original.noEdit === true,\r\n    noDelete: original.noDelete === true,\r\n    noSelect: false,\r\n  } satisfies PickerItem;\r\n}\r\n\r\n//#endregion","import { Injectable, Injector } from '@angular/core';\r\nimport { transient } from '../../../../../../core';\r\nimport { InputTypeHelpers } from '../../../shared/fields/input-type-helpers';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { InputTypeSpecs } from '../../shared/input-types/input-type-specs.model';\r\nimport { InputTypeService } from '../../shared/input-types/input-type.service';\r\nimport { EavContentTypeAttribute } from '../../shared/models/eav';\r\nimport { PickerData } from './picker-data';\r\n\r\n/**\r\n * Factory for **creating** PickerData instances.\r\n * It will not set them up yet, because for that it needs the FieldState\r\n * which is not available at this time.\r\n */\r\n@Injectable()\r\nexport class PickerDataFactory {\r\n\r\n  log = classLog({PickerDataFactory});\r\n\r\n  constructor(private injector: Injector, private inputTypeSvc: InputTypeService) { }\r\n\r\n  createPickersForAttributes(attributes: EavContentTypeAttribute[]): Record<string, PickerData> {\r\n    const fields = attributes.map(a => ({ name: a.Name, inputType: this.inputTypeSvc.getSpecs(a)}));\r\n    return this.#createPickersData(fields);\r\n  }\r\n\r\n\r\n  #createPickersData(fields: { name: string, inputType: InputTypeSpecs}[]): Record<string, PickerData> {\r\n    const array = fields\r\n      .map(it => ({ name: it.name, picker: this.#createOne(it.inputType)}))\r\n      .filter(it => it.picker !== null);\r\n\r\n    return array.reduce((acc, it) => {\r\n      acc[it.name] = it.picker;\r\n      return acc;\r\n    }, {} as Record<string, PickerData>);\r\n  }\r\n\r\n  #createOne(inputType: InputTypeSpecs): PickerData {\r\n    return (InputTypeHelpers.isAnyPicker(inputType.inputType))\r\n      ? transient(PickerData, this.injector)\r\n      : null;\r\n  }\r\n};\r\n","import { CreateComputedOptions } from '@angular/core';\r\nimport { RxHelpers } from '../rxJs/rx.helpers';\r\nimport isEqual from 'lodash-es/isEqual';\r\n\r\nexport class SignalEquals {\r\n  /** Options for number signal to ensure equality only on value difference */\r\n  static bool: CreateComputedOptions<boolean> = {\r\n    equal: RxHelpers.valueEquals<boolean>\r\n  };\r\n\r\n  /** Options for string signal to ensure equality only on value difference */\r\n  static number: CreateComputedOptions<number> = {\r\n    equal: RxHelpers.valueEquals<number>\r\n  };\r\n\r\n  /** Options for string signal to ensure equality only on value difference */\r\n  static string: CreateComputedOptions<string> = {\r\n    equal: RxHelpers.valueEquals<string>\r\n  };\r\n\r\n  // note: this doesn't work as expected; leaving in so nobody tries to repeat this\r\n  // /** Options for string signal to ensure equality only on value difference */\r\n  // static valueEquals: CreateComputedOptions<boolean | string | number> = {\r\n  //   equal: RxHelpers.valueEquals<boolean | string | number>\r\n  // };\r\n\r\n  /**\r\n   * Helper to _not_ set the equal and use the standard equal.\r\n   * This is just to ensure that the code can explicitly show that RefEquals was expected,\r\n   * and not an oversight.\r\n   */\r\n  static ref = {  };\r\n}\r\n","import { Injectable, Signal, signal } from '@angular/core';\r\nimport { classLog } from '../../shared/logging';\r\nimport { SignalEquals } from '../../shared/signals/signal-equals';\r\nimport { computedObj } from '../../shared/signals/signal.utilities';\r\nimport { LanguageService } from '../localization/language.service';\r\nimport { ItemService } from '../state/item.service';\r\nimport { FormConfigService } from './form-config.service';\r\n\r\n/**\r\n * Service to manage the state of forms.\r\n * Mainly to determine if valid, read-only etc.\r\n */\r\n@Injectable()\r\nexport class FormsStateService {\r\n\r\n  log = classLog({FormsStateService});\r\n\r\n  /** Signal which is filled by sub-dialogs to trigger save (other saves like ctrl+s don't go through this) */\r\n  public triggerTrySaveAndMaybeClose = signal({ tryToSave: false, close: false }, SignalEquals.ref);\r\n  public formsAreValid = signal(false);\r\n  public formsAreDirty = signal(false);\r\n\r\n  #formsValid: Record<string, boolean> = {};\r\n  #formsDirty: Record<string, boolean> = {};\r\n\r\n  readOnly: Signal<FormReadOnly> = (() => {\r\n    const itemHeaders = signal(this.formConfig.config.itemGuids\r\n      .map(guid => this.itemService.getItemHeaderSignal(guid))\r\n    );\r\n    const language = this.languageService.getAllSignal();\r\n\r\n    const readOnly = computedObj('readOnly', () => {\r\n      const itemsReadOnly = itemHeaders().some(itemHeader => itemHeader().EditInfo?.ReadOnly ?? false);\r\n      const languageAllowed = language().find(l => l.NameId === this.formConfig.language().current)?.IsAllowed ?? true;\r\n      const isReadOnly = itemsReadOnly || !languageAllowed;\r\n      const reason = itemsReadOnly ? 'Form' : !languageAllowed ? 'Language' : undefined;\r\n\r\n      return {\r\n        isReadOnly,\r\n        reason,\r\n      } satisfies FormReadOnly;\r\n    });\r\n    return readOnly;\r\n  })();\r\n\r\n  // readOnly: Signal<FormReadOnly>;\r\n  formsValidTemp = signal<boolean>(false);\r\n  saveButtonDisabled = computedObj('saveButtonDisabled', () => this.readOnly().isReadOnly || !this.formsValidTemp());\r\n\r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    private itemService: ItemService,\r\n    private languageService: LanguageService,\r\n  ) {\r\n    // Reset initial dirty/valid states\r\n    for (const entityGuid of this.formConfig.config.itemGuids) {\r\n      this.#formsValid[entityGuid] = false;\r\n      this.#formsDirty[entityGuid] = false;\r\n    }\r\n  }\r\n\r\n  getFormValid(entityGuid: string) {\r\n    return this.#formsValid[entityGuid];\r\n  }\r\n\r\n  setFormValid(entityGuid: string, isValid: boolean) {\r\n    this.#formsValid[entityGuid] = isValid;\r\n\r\n    const allValid = !Object.values(this.#formsValid).some(valid => valid === false);\r\n    if (allValid !== this.formsValidTemp()) {\r\n      this.formsValidTemp.set(allValid);\r\n      this.formsAreValid.set(allValid);\r\n    }\r\n  }\r\n\r\n  setFormDirty(entityGuid: string, isDirty: boolean) {\r\n    this.#formsDirty[entityGuid] = isDirty;\r\n\r\n    const anyDirty = Object.values(this.#formsDirty).some(dirty => dirty === true);\r\n    if (anyDirty !== this.formsAreDirty())\r\n      this.formsAreDirty.set(anyDirty);\r\n  }\r\n\r\n  triggerSave(close: boolean) {\r\n    this.triggerTrySaveAndMaybeClose.set({ tryToSave: true, close });\r\n  }\r\n\r\n}\r\n\r\n\r\ninterface FormReadOnly {\r\n  isReadOnly: boolean;\r\n  reason: undefined | 'Form' | 'Language';\r\n}\r\n","import { inject, Injectable } from '@angular/core';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { ItemIdentifierShared } from '../../shared/models/edit-form.model';\r\nimport { GlobalConfigService } from '../../shared/services/global-config.service';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { InitialValuesService } from '../form/initial-values-service';\r\nimport { LanguageService } from '../localization/language.service';\r\nimport { FieldsSettingsService } from '../state/fields-settings.service';\r\nimport { ItemService } from '../state/item.service';\r\nimport { FormulaPropsParameters } from './formula-run-one-helpers.factory';\r\nimport { FormulaExecutionSpecs } from './run/formula-objects-internal-data';\r\n\r\n/**\r\n * Factory for creating FormulaExecutionSpecs objects.\r\n * These are parameters needed to run formulas, which are reused quite a few times.\r\n */\r\n@Injectable()\r\nexport class FormulaExecutionSpecsFactory {\r\n\r\n  #features = inject(FeaturesService).getAll();\r\n  \r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    private itemService: ItemService,\r\n    private languageSvc: LanguageService,\r\n    private globalConfigSvc: GlobalConfigService,\r\n    private initialValuesService: InitialValuesService,\r\n  ) { }\r\n\r\n  init(settingsSvc: FieldsSettingsService, entityGuid: string, clientData: Pick<ItemIdentifierShared, \"ClientData\">) {\r\n    this.#entityGuid = entityGuid;\r\n    this.#settingsSvc = settingsSvc;\r\n    this.#clientData = clientData;\r\n  }\r\n\r\n  // properties to set on init\r\n  #entityGuid: string;\r\n  #settingsSvc: FieldsSettingsService;\r\n  #clientData: Pick<ItemIdentifierShared, \"ClientData\">;\r\n  \r\n  #warningsObsolete: Record<string, boolean> = {};\r\n\r\n  /**\r\n   * Get all objects which are needed for the data and context and are reused quite a few times.\r\n   * Can be reused for a short time, as the data doesn't change in a normal cycle,\r\n   * but it will need to be regenerated after things such as language or feature change.\r\n   */\r\n  getSharedSpecs(): FormulaExecutionSpecs {\r\n    const language = this.formConfig.language();\r\n    const languages = this.languageSvc.getAll();\r\n    const debugEnabled = this.globalConfigSvc.isDebug();\r\n    const initialFormValues = this.initialValuesService.get(this.#entityGuid, language.current);\r\n\r\n    return {\r\n      initialFormValues,\r\n      language,\r\n      languages,\r\n      debugEnabled,\r\n      itemService: this.itemService,\r\n      formConfig: this.formConfig,\r\n      fieldsSettingsSvc: this.#settingsSvc,\r\n      features: this.#features,\r\n      parameters: new FormulaPropsParameters(this.#clientData.ClientData?.parameters ?? {}),\r\n      warningsObsolete: this.#warningsObsolete,\r\n    } satisfies FormulaExecutionSpecs;\r\n  }\r\n}","import { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../edit-types/src/FieldValue';\r\nimport { InputTypeMetadata } from '../../shared/fields/input-type-metadata.model';\r\nimport { FieldLogicBase } from '../fields/logic/field-logic-base';\r\nimport { PickerItem } from '../fields/picker/models/picker-item.model';\r\nimport { PickerData } from '../fields/picker/picker-data';\r\nimport { FormulaFieldValidation } from '../formulas/targets/formula-targets';\r\nimport { TranslationState } from '../localization/translate-state.model';\r\nimport { InputTypeSpecs } from '../shared/input-types/input-type-specs.model';\r\n\r\n/**\r\n * Field properties of a picker.\r\n * Implemented as a class, so we can use new FieldPropsPicker();\r\n * and reliably get undefined values (not null) to spread objects.\r\n */\r\nexport class FieldPropsPicker {\r\n  list: PickerItem[];\r\n  ver: number | undefined;\r\n}\r\n\r\nexport interface FieldProps {\r\n  /** The language which applied to these field props as added to cache */\r\n  language: string;\r\n  constants: FieldConstants;\r\n  settings: FieldSettings;\r\n  translationState: TranslationState;\r\n\r\n  /** INITIAL Value of this field - eg. at form-load or language change. */\r\n  value: FieldValue;\r\n  buildWrappers: string[];\r\n  formulaValidation: FormulaFieldValidation;\r\n\r\n  opts: FieldPropsPicker;\r\n  sel: FieldPropsPicker;\r\n}\r\n\r\n/** Field Config information which never changes through the entire lifetime in the UI */\r\nexport interface FieldConstants {\r\n  /** The GUID it belongs to - must always be provided */\r\n  entityGuid: string;\r\n\r\n  /** The EntityId is used in field masks (for placeholders and for certain delete operations) */\r\n  entityId: number;\r\n  contentTypeNameId: string;\r\n\r\n  /** The field name - always required */\r\n  fieldName: string;\r\n  index: number;\r\n\r\n  dropzonePreviewsClass?: string;\r\n  initialDisabled?: boolean;\r\n  inputTypeSpecs: InputTypeSpecs;\r\n  isLastInGroup?: boolean;\r\n  type: string;\r\n  logic?: FieldLogicBase,\r\n\r\n  pickerData: () => PickerData | null;\r\n}\r\n\r\n/** Extended field config information which is constant as long as the language doesn't change. */\r\nexport interface FieldConstantsOfLanguage extends FieldConstants {\r\n  /** The language used for the current \"constants\" */\r\n  language: string,\r\n\r\n  /** The initial field settings in this language */\r\n  settingsInitial: FieldSettings,\r\n\r\n  /** The input type configuration of this language */\r\n  inputTypeConfiguration: InputTypeMetadata,\r\n}\r\n\r\n\r\n\r\n","import { classLog, FnLogger } from '../../shared/logging';\r\nimport { getVersion } from '../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../edit-debug';\r\nimport { FieldConstantsOfLanguage, FieldProps } from '../state/fields-configs.model';\r\nimport { FormulaCacheItem } from './cache/formula-cache.model';\r\nimport { FieldFormulasResultPartialSettings, FieldFormulasResultRaw } from './results/formula-results.models';\r\nimport { FormulaRunPicker, FormulaRunPickers } from './run/formula-objects-internal-data';\r\nimport { FormulaSpecialPickerAutoSleep, FormulaSpecialPickerTargets } from './targets/formula-targets';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  getPickerInfos: false,\r\n  filterFormulasIfPickerNotReady: true,\r\n  fields: [...DebugFields],\r\n}\r\n\r\nexport class FormulaFieldPickerHelper {\r\n  \r\n  log = classLog({FormulaFieldPickerHelper}, logSpecs);\r\n\r\n  constructor(private fieldName: string, private fieldConstants: FieldConstantsOfLanguage, private propsBefore: FieldProps) {\r\n    this.isSpecialPicker = fieldConstants.inputTypeSpecs.isNewPicker\r\n  }\r\n\r\n  isSpecialPicker: boolean;\r\n\r\n  get infos() { return this.#infos ??= this.#getInfos(this.fieldName, this.fieldConstants, this.propsBefore); }\r\n  #infos: FormulaRunPickers;\r\n\r\n  //#endregion Prepare / Get Picker Infos / Select live formulas\r\n\r\n  /**\r\n   * Filter out formulas which should not run yet, for these reasons:\r\n   * 1. picker is not ready\r\n   * 2. picker is ready but nothing has changed, and \"sleep\" determines that in this case it shouldn't run.\r\n   */\r\n  public filterFormulasIfPickerNotReady(before: FormulaCacheItem[]) {\r\n    const l = this.log.fnIfInList('filterFormulasIfPickerNotReady', 'fields', this.fieldName, { before });\r\n    const picks = this.infos;\r\n\r\n    const ready = this.isSpecialPicker && !picks.ready\r\n      ? before.filter(f => !f.fieldIsSpecialPicker)\r\n      : before; \r\n      \r\n    // Figure out which picker-formulas must sleep\r\n    const formulas = ready.filter(f => !f.fieldIsSpecialPicker || (this.isSpecialPicker && !f.sleep || picks.changed));\r\n\r\n    const msg = ` before: ${before.length}; ready: ${ready.length}; formulas:${formulas.length}; pickerChanged: ${picks.changed}; opts: ${picks.options.changed}/${picks.options.ver}; sel: ${picks.selected.changed}/${picks.selected.ver}`;\r\n    return l.rSilent(formulas, msg);\r\n  }\r\n\r\n  #getInfos(fieldName: string, fieldConstants: FieldConstantsOfLanguage, propsBefore: FieldProps): FormulaRunPickers {\r\n    const l = this.log.fnIfInList('getPickerInfos', 'fields', fieldName);\r\n    // Get the latest picker data and check if it has changed - as it affects which formulas to run\r\n    const picker = fieldConstants.pickerData();\r\n    if (picker?.ready() != true) {\r\n      const dummy = { list: [], listRaw: [], ver: null, verBefore: null, changed: false, } as FormulaRunPicker;\r\n      return { ready: false, mapper: null, picker, options: dummy, selected: dummy, changed: false, };\r\n    }\r\n\r\n    function getSpecs(cache: typeof picker.optionsRaw, final: typeof picker.optionsRaw, verBefore: number): FormulaRunPicker {\r\n      const listRaw = cache(); // must access before version check\r\n      const ver = getVersion(cache);\r\n      return { list: final(), listRaw, ver, verBefore, changed: ver !== verBefore, } satisfies FormulaRunPicker;\r\n    }\r\n    const options = getSpecs(picker.optionsRaw, picker.optionsAll, propsBefore.opts?.ver);\r\n    const selected = getSpecs(picker.selectedRaw, picker.selectedAll, propsBefore.sel?.ver);\r\n\r\n    const result: FormulaRunPickers = {\r\n      ready: true,\r\n      mapper: picker.state.mapper,\r\n      picker,\r\n      options,\r\n      selected,\r\n      changed: selected.changed || options.changed,\r\n    };\r\n    return l.r(result);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Update Field Props\r\n\r\n  /**\r\n   * Pause depends on explicit result\r\n   */\r\n  public updateFormulaSleep(formula: FormulaCacheItem, raw: FieldFormulasResultRaw, l: FnLogger): void {\r\n    formula.sleep = raw.sleep ?? (FormulaSpecialPickerAutoSleep.includes(formula.target) ? true : formula.sleep);\r\n    l.a(`formula.sleep: ${formula.target}; formula.sleep: ${formula.sleep}; raw.sleep: ${raw.sleep}`);\r\n  }\r\n\r\n  /**\r\n   * Transfer options with version if result contains anything like that.\r\n   */\r\n  public preserveResultsAfterRun(formula: FormulaCacheItem, wip: FieldFormulasResultPartialSettings, raw: FieldFormulasResultRaw, l: FnLogger): FieldFormulasResultPartialSettings {\r\n\r\n    // picker data results - experimental v18\r\n    if (raw.options) {\r\n      wip.options = { list: raw.options, ver: this.infos.options.ver };\r\n      l.a(` options returned, will add`, wip.options as unknown as Record<string, unknown>);\r\n    }\r\n\r\n    if (raw.selected) {\r\n      wip.selected = { list: raw.selected, ver: this.infos.selected.ver };\r\n      l.a(` selected returned, will add`, wip.selected as unknown as Record<string, unknown>);\r\n    }\r\n\r\n    return wip;\r\n  }\r\n\r\n  //#endregion\r\n\r\n}","import { SettingsFormulaPrefix } from '../targets/formula-targets';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport isEqual from 'lodash-es/isEqual';\r\n\r\n/**\r\n * Contains methods for updating settings from formulas.\r\n */\r\nexport class FormulaSettingsHelper {\r\n\r\n  /**\r\n   * Possibly updates setting with formula result if target and type matches.\r\n   * @param target Formula target\r\n   * @param settings Last/Current settings\r\n   * @param valueNew Formula result needed for type checking\r\n   * @param settingsNew Settings that are possibly updated\r\n   * @returns True if setting is updated, false if it is not\r\n   */\r\n  static keepSettingIfTypeOk(\r\n    target: string,\r\n    settings: FieldSettings,\r\n    valueNew: any,\r\n    settingsNew: Partial<FieldSettings>,\r\n  ): Partial<FieldSettings> {\r\n    return FormulaSettingsHelper.keepSettingIfTypeOkAndStatus(target, settings, valueNew, settingsNew).settingsNew;\r\n  }\r\n\r\n  static keepSettingIfTypeOkAndStatus(\r\n    target: string,\r\n    settings: FieldSettings,\r\n    valueNew: any,\r\n    settingsNew: Partial<FieldSettings>,\r\n  ): { settingsNew: Partial<FieldSettings>, wasChanged: boolean } {\r\n    // Retrieve the previous setting\r\n    const settingName = target.substring(SettingsFormulaPrefix.length) as keyof FieldSettings;\r\n    const prevSetting = settings[settingName];\r\n\r\n    if (isEqual(prevSetting, valueNew))\r\n      return { settingsNew, wasChanged: false };\r\n\r\n    const keepNewSetting = (Array.isArray(prevSetting) && Array.isArray(valueNew)) // can't check types of items in array, hope for the best\r\n      || (typeof prevSetting === typeof valueNew); // maybe typesafe\r\n\r\n    if (!keepNewSetting)\r\n      return { settingsNew, wasChanged: false };\r\n\r\n    (settingsNew as Record<keyof FieldSettings, any>)[settingName] = valueNew;\r\n    return { settingsNew, wasChanged: true };\r\n  }\r\n}\r\n","import { untracked } from '@angular/core';\r\nimport groupBy from 'lodash-es/groupBy';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../edit-types/src/FieldValue';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { classLog } from '../../shared/logging';\r\nimport { ItemIdentifierShared } from '../../shared/models/edit-form.model';\r\nimport { DebugFields } from '../edit-debug';\r\nimport { FieldDefaults } from '../shared/helpers';\r\nimport { FieldConstantsOfLanguage, FieldProps, FieldPropsPicker } from '../state/fields-configs.model';\r\nimport { FieldSettingsUpdateHelper } from '../state/fields-settings-update.helpers';\r\nimport { ItemValuesOfLanguage } from '../state/item-values-of-language.model';\r\nimport { FormulaCacheItem } from './cache/formula-cache.model';\r\nimport { FormulaDesignerService } from './designer/formula-designer.service';\r\nimport { FormulaFunctionV1, FormulaVersions } from './formula-definitions';\r\nimport { FormulaFieldPickerHelper } from './formula-field-picker.helper';\r\nimport { FormulaRunOneHelpersFactory } from './formula-run-one-helpers.factory';\r\nimport { FormulaPromiseHandler } from './promise/formula-promise-handler';\r\nimport { FieldFormulasResult, FieldFormulasResultPartialSettings, FieldFormulasResultRaw } from './results/formula-results.models';\r\nimport { FormulaSettingsHelper } from './results/formula-settings.helper';\r\nimport { FormulaExecutionSpecs, FormulaExecutionSpecsWithRunParams, FormulaRunParameters } from './run/formula-objects-internal-data';\r\nimport { FormulaFieldValidation } from './targets/formula-targets';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  runFormula: false,\r\n  runAllOfField: true,\r\n  runOrInitSettings: true,\r\n  getPickerInfos: false,\r\n  fields: [...DebugFields], // will be replaced by shared list below\r\n};\r\n\r\n/**\r\n * Run all formulas of a single field.\r\n * Will also ensure that any settings are initialized properly if not yet created.\r\n */\r\nexport class FormulaRunField {\r\n\r\n  log = classLog({FormulaRunField}, logSpecs);\r\n\r\n  constructor(\r\n    private promiseHandler: FormulaPromiseHandler,\r\n    private designerSvc: FormulaDesignerService,\r\n    private entityGuid: string,\r\n    private runOneHelper: FormulaRunOneHelpersFactory,\r\n  ) { }\r\n\r\n  /**\r\n   * Used for running all formulas for a given attribute/field.\r\n   * @returns Object with all changes that formulas should make\r\n   */\r\n  runOrInitSettings(\r\n    currentValues: ItemValuesOfLanguage,\r\n    fieldName: string,\r\n    fieldConstants: FieldConstantsOfLanguage,\r\n    settingsCurrent: FieldSettings,\r\n    itemHeader: Pick<ItemIdentifierShared, \"Prefill\">,\r\n    valueBefore: FieldValue,\r\n    propsBefore: FieldProps,\r\n    reuseExecSpecs: FormulaExecutionSpecs,\r\n    setUpdHelper: FieldSettingsUpdateHelper,\r\n  ): FieldFormulasResult {\r\n    const l = this.log.fnIfInList('runOrInitSettings', 'fields', fieldName, { fieldName });\r\n\r\n    // Get the latest picker data and check if it has changed - as it affects which formulas to run\r\n    const pickHelp = new FormulaFieldPickerHelper(fieldName, fieldConstants, propsBefore);\r\n\r\n    // Get the latest formulas. Use untracked() to avoid tracking the reading of the formula-cache\r\n    // TODO: should probably use untracked around all the calls in this class...WIP 2dm\r\n    const fAll = untracked(() => this.designerSvc.cache.getActive(this.entityGuid, fieldName, pickHelp.isSpecialPicker));\r\n    const fGrouped = groupBy(fAll, f => f.disabled ? 'disabled' : 'enabled');\r\n    if (fGrouped.disabled)\r\n      this.#showDisabledFormulasWarnings(fGrouped.disabled);\r\n\r\n    const enabled = fGrouped.enabled ?? [];\r\n\r\n    const noPromiseSleep = this.promiseHandler.filterFormulas(fieldName, enabled)\r\n\r\n    // If we're working on the picker, but it's not ready yet, we must skip these formulas\r\n    const formulas = pickHelp.filterFormulasIfPickerNotReady(noPromiseSleep);\r\n\r\n    l.a(` enabled: ${enabled.length}; noPromisesSleep: ${noPromiseSleep.length}; formulas: ${formulas.length}`);\r\n\r\n    // If we have no formulas, exit early.\r\n    if (formulas.length == 0)\r\n      return finalize({}, valueBefore, {\r\n        value: valueBefore, validation: null, fields: [], settings: {},\r\n        options: new FieldPropsPicker(), selected: new FieldPropsPicker(),\r\n      } satisfies FieldFormulasResultPartialSettings);\r\n\r\n    // Run all formulas IF we have any and work with the objects containing specific changes\r\n    const runParamsStatic: Omit<FormulaRunParameters, 'formula'> = {\r\n      currentValues,\r\n      settingsInitial: fieldConstants.settingsInitial,\r\n      settingsCurrent,\r\n      pickerHelper: pickHelp,\r\n      defaultValueHelper: () => new FieldDefaults(fieldName, fieldConstants.inputTypeSpecs.inputType, fieldConstants.settingsInitial, itemHeader),\r\n    };\r\n    const raw = this.#runAllOfField(runParamsStatic, formulas, reuseExecSpecs);\r\n\r\n    return finalize(raw.settings, raw.value, raw);\r\n\r\n    // Helper to finalize the result, needed to quit early and also when it really runs\r\n    function finalize(settingsUpdate: Partial<FieldSettings>, value: FieldValue, raw: FieldFormulasResultPartialSettings): FieldFormulasResult {\r\n      // Correct any settings necessary after\r\n      // possibly making invalid changes in formulas or if settings need to adjust\r\n      // eg. custom bool labels which react to the value, etc.\r\n      const settings = setUpdHelper.correctSettingsAfterChanges({ ...settingsCurrent, ...settingsUpdate }, value || valueBefore);\r\n\r\n      // If it's a new picker, make sure that requirement is set.\r\n      if (fAll.length > 0 && pickHelp.isSpecialPicker)\r\n        settings.requiredFeatures = [ ...settings.requiredFeatures ?? [], FeatureNames.PickerFormulas ];\r\n      return l.r({ ...raw, settings, } satisfies FieldFormulasResult);\r\n    }\r\n  }\r\n\r\n  #showDisabledFormulasWarnings(disabled: FormulaCacheItem[]): void {\r\n    for (const formula of disabled)\r\n      console.warn(`Formula on field '${formula.fieldName}' with target '${formula.target}' is disabled. Reason: ${formula.disabledReason}`);\r\n  }\r\n\r\n  #runAllOfField(\r\n    runParams: Omit<FormulaRunParameters, 'formula'>,\r\n    formulas: FormulaCacheItem[],\r\n    reuseObjectsForFormulaDataAndContext: FormulaExecutionSpecs,\r\n  ): FieldFormulasResultPartialSettings {\r\n    const l = this.log.fnIfInList('runAllOfField', 'fields', formulas[0].fieldName, { runParams, formulas });\r\n\r\n    // Target variables to fill using formula result\r\n    let wip: FieldFormulasResultPartialSettings = {\r\n      value: undefined,                 // The new value\r\n      validation: undefined,            // The new validation\r\n      fields: [],                       // Any additional fields\r\n      options: new FieldPropsPicker(),  // Picker options\r\n      selected: new FieldPropsPicker(), // Picker selected\r\n      settings: {},                     // New settings - which can be updated multiple times by formulas\r\n    };\r\n\r\n    const start = performance.now();\r\n    for (const formula of formulas) {\r\n\r\n      const allRunParams: FormulaExecutionSpecsWithRunParams = {\r\n        runParameters: { formula, ...runParams, },\r\n        ...reuseObjectsForFormulaDataAndContext\r\n      };\r\n\r\n      const raw = this.#runFormula(allRunParams);\r\n      l.a(`formula result`, { formula, raw });\r\n\r\n      // Picker: First check sleep (before promise) since the promise will also need that\r\n      runParams.pickerHelper.updateFormulaSleep(formula, raw, l);\r\n\r\n      // Update Stop-State of formula in cache\r\n      this.promiseHandler.updateStop(formula, raw);\r\n\r\n      // Promise: Pick up in PromiseHandler if necessary and auto-stop if not explicitly set\r\n      this.promiseHandler.handleStopAndPromise(formula, raw);\r\n\r\n      // Picker: picker data results - experimental v18\r\n      wip = runParams.pickerHelper.preserveResultsAfterRun(formula, wip, raw, l);\r\n        \r\n      // If we have field changes, add to the list\r\n      if (raw.fields)\r\n        wip.fields.push(...raw.fields);\r\n\r\n      // If the value is not set, skip further result processing\r\n      if (raw.value === undefined)\r\n        continue;\r\n\r\n      // If we do have a value, we need to place it in the correct target\r\n      switch (true) {\r\n        // Target is the value. Remember it for later\r\n        case formula.isValue:\r\n          wip.value = raw.value;\r\n          break;\r\n\r\n        // Target is the validation. Remember it for later\r\n        case formula.isValidation:\r\n          wip.validation = raw.value as unknown as FormulaFieldValidation;\r\n          break;\r\n\r\n        // Target is a setting. Check validity and merge with other settings\r\n        case formula.isSetting:\r\n          wip.settings = FormulaSettingsHelper.keepSettingIfTypeOk(formula.target, runParams.settingsCurrent, raw.value, wip.settings);\r\n          break;\r\n      }\r\n    }\r\n    const afterRun = performance.now();\r\n\r\n    return l.r(wip, `runAllFormulas Time: ${afterRun - start}ms`);\r\n  }\r\n\r\n  /**\r\n   * Used for running a single formula and returning the result.\r\n   * @param formula\r\n   * @param entityId\r\n   * @param formValues\r\n   * @param inputType\r\n   * @param settingsInitial\r\n   * @param settingsCurrent\r\n   * @param itemIdWithPrefill\r\n   * @returns Result of a single formula.\r\n   */\r\n  #runFormula(execSpecs: FormulaExecutionSpecsWithRunParams): FieldFormulasResultRaw {\r\n\r\n    const { formula, fieldName, params, title, devHelper, valHelper } = this.runOneHelper.getPartsFor(execSpecs);\r\n\r\n    const l = this.log.fnIfInList('runFormula', 'fields', fieldName, { fieldName });\r\n\r\n    l.a(`formula version: ${formula.version}, entity: ${title}, field: ${fieldName}, target: ${formula.target}`, {formula});\r\n    try {\r\n      devHelper.showStart();\r\n\r\n      switch (formula.version) {\r\n        // Formula V1\r\n        case FormulaVersions.V1:\r\n          // 2025-04-22 #DropFormulaParamExperimental - remove this comment and warnings ca. 2026-Q2\r\n          const v1Raw = (formula.fn as FormulaFunctionV1)(params.data, params.context /*, params.experimental */);\r\n          const { ok, v1Result: valueV1 } = valHelper.v1(v1Raw);\r\n          if (ok) {\r\n            l.a('V1 formula result is pure', { v1Raw, valueV1 });\r\n            devHelper.showResult(valueV1.value, false, false);\r\n            return valueV1;\r\n          }\r\n          l.a('V1 formula result is not pure', { v1Raw });\r\n          console.error('V1 formulas accept only simple values in return statements. If you need to return an complex object, use V2 formulas.');\r\n          return valHelper.toFormulaResult(undefined);\r\n\r\n        // Formula V2\r\n        case FormulaVersions.V2:\r\n          //TODO: @2dm -> Added item as last argument so if ew use experimental anywhere nothing breaks\r\n          // 2025-04-22 #DropFormulaParamExperimental - remove this comment and warnings ca. 2026-Q2\r\n          const v2Raw = (formula.fn as FormulaFunctionV1)(params.data, params.context /*, params.experimental */);\r\n          const v2Value = valHelper.v2(v2Raw);\r\n          devHelper.showResult(v2Value.options as any ?? v2Value.value, false, !!v2Value.promise);\r\n          return v2Value;\r\n\r\n        default:\r\n          // default should never happen, so don't return any data to use; will probably error if this happens\r\n          throw new Error(`Formula version unknown not supported`);\r\n      }\r\n    } catch (error) {\r\n      devHelper.showError(error);\r\n      return valHelper.toFormulaResult(undefined);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { transient } from '../../../../../core';\r\nimport { classLog } from '../../shared/logging';\r\nimport { ItemIdentifierShared } from '../../shared/models/edit-form.model';\r\nimport { DebugFields } from '../edit-debug';\r\nimport { EavContentType, EavContentTypeAttribute } from '../shared/models/eav';\r\nimport { LoggingService } from '../shared/services/logging.service';\r\nimport { FieldsSettingsHelpers } from '../state/field-settings.helper';\r\nimport { FieldProps } from '../state/fields-configs.model';\r\nimport { FieldsPropsEngine } from '../state/fields-properties-engine';\r\nimport { FieldsPropsEngineCycle } from '../state/fields-properties-engine-cycle';\r\nimport { FieldsSettingsService } from '../state/fields-settings.service';\r\nimport { ItemValuesOfLanguage } from '../state/item-values-of-language.model';\r\nimport { FormulaDesignerService } from './designer/formula-designer.service';\r\nimport { FormulaExecutionSpecsFactory } from './formula-exec-specs.factory';\r\nimport { FormulaRunField } from './formula-run-field';\r\nimport { FormulaRunOneHelpersFactory } from './formula-run-one-helpers.factory';\r\nimport { FormulaPromiseHandler } from './promise/formula-promise-handler';\r\nimport { NameValuePair } from './results/formula-results.models';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  getFormulas: false,\r\n  runAllFields: true,\r\n  runFormula: false,\r\n  runOneFieldOrInitSettings: false,\r\n  fields: [...DebugFields], // or '*' for all\r\n};\r\n\r\n/**\r\n * Formula engine is responsible for running formulas and returning the result.\r\n *\r\n * Each instance of the engine is responsible for a _single_ entity.\r\n */\r\n@Injectable()\r\nexport class FormulaEngine {\r\n\r\n  log = classLog({FormulaEngine}, logSpecs);\r\n\r\n  #formulaExecSpecsFactory = transient(FormulaExecutionSpecsFactory);\r\n\r\n  constructor(\r\n    private designerSvc: FormulaDesignerService,\r\n    private logSvc: LoggingService,\r\n    private translate: TranslateService,\r\n  ) { }\r\n\r\n  init(\r\n    entityGuid: string,\r\n    clientData: Pick<ItemIdentifierShared, \"ClientData\">,\r\n    settingsSvc: FieldsSettingsService,\r\n    promiseHandler: FormulaPromiseHandler,\r\n    contentType: EavContentType,\r\n    ctTitle: string\r\n  ) {\r\n    this.#entityGuid = entityGuid;\r\n    this.#promiseHandler = promiseHandler;\r\n    this.#contentType = contentType;\r\n    this.#attributes = contentType.Attributes;\r\n    this.#contentTypeTitle = ctTitle;\r\n    this.#formulaExecSpecsFactory.init(settingsSvc, entityGuid, clientData);\r\n  }\r\n\r\n  // properties to set on init\r\n  #entityGuid: string;\r\n  #contentTypeTitle: string;\r\n  #promiseHandler: FormulaPromiseHandler;\r\n  #contentType: EavContentType;\r\n  #attributes: EavContentTypeAttribute[];\r\n\r\n  runAllFields(propsEngine: FieldsPropsEngine, cycle: FieldsPropsEngineCycle) {\r\n    const fieldsProps: Record<string, FieldProps> = {};\r\n    const valueUpdates: ItemValuesOfLanguage = {};\r\n    const fieldUpdates: NameValuePair[] = [];\r\n\r\n    // Many aspects of a field are re-usable across formulas, so we prepare them here\r\n    // These are things explicit to the entity and either never change, or only rarely\r\n    // so never between cycles\r\n    const reuseExecSpecs = this.#formulaExecSpecsFactory.getSharedSpecs();\r\n\r\n    const fss = new FieldsSettingsHelpers(this.log.name);\r\n\r\n    for (const attr of this.#attributes) {\r\n      const lAttr = this.log.fnIfInList('runAllFields', 'fields', attr.Name, { fieldName: attr.Name });\r\n      const values = cycle.allAttributes[attr.Name];\r\n      const valueBefore = cycle.values[attr.Name];\r\n\r\n      const fieldConstants = cycle.getFieldConstants(attr.Name);\r\n      const latestSettings = cycle.getFieldSettingsInCycle(fieldConstants);\r\n      const settingsUpdateHelper = cycle.updateHelper.create(attr.Name, attr, fieldConstants, values);\r\n\r\n      const propsBefore = cycle.fieldProps[attr.Name] ?? {} as FieldProps;\r\n\r\n      // run formulas\r\n      const runOneHelper = new FormulaRunOneHelpersFactory(this.designerSvc, this.translate, this.logSvc, this.#contentType, this.#entityGuid, this.#contentTypeTitle);\r\n      const runOne = new FormulaRunField(this.#promiseHandler, this.designerSvc, this.#entityGuid, runOneHelper);\r\n      const allResults = runOne.runOrInitSettings(\r\n        cycle.values,\r\n        attr.Name,\r\n        fieldConstants,\r\n        latestSettings,\r\n        propsEngine.item.Header,\r\n        valueBefore,\r\n        propsBefore,\r\n        reuseExecSpecs,\r\n        settingsUpdateHelper,\r\n      );\r\n\r\n      const fixed = allResults.settings;\r\n\r\n      // Add any value changes to the queue for finalizing\r\n      valueUpdates[attr.Name] = allResults.value;\r\n\r\n      // If _other_ fields were updated, add it to the queue for later processing\r\n      if (allResults.fields)\r\n        fieldUpdates.push(...allResults.fields);\r\n\r\n      const debugDetails = lAttr.enabled;\r\n      const translationState = fss.getTranslationState(values, fixed.DisableTranslation, propsEngine.languages, debugDetails);\r\n\r\n      if (allResults.options.list)\r\n        lAttr.a('picker options', { options: allResults.options.list, version: allResults.options.ver });\r\n      if (allResults.selected.list)\r\n        lAttr.a('picker selected', { selected: allResults.selected.list, version: allResults.options.ver });\r\n\r\n      fieldsProps[attr.Name] = {\r\n        ...propsBefore,\r\n        language: fieldConstants.language,\r\n        constants: fieldConstants,\r\n        settings: fixed,\r\n        translationState,\r\n        value: valueBefore,\r\n        buildWrappers: null, // required, but set elsewhere\r\n        formulaValidation: allResults.validation,\r\n        // Options and Selected. Use spread, as values must be undefined if not updated\r\n        opts: { ...propsBefore.opts, ...allResults.options, },\r\n        sel: { ...propsBefore.sel, ...allResults.selected, },\r\n      };\r\n    }\r\n    return { fieldsProps, valueUpdates, fieldUpdates };\r\n  }\r\n}\r\n","import { FieldValueOrResultRaw, NameValuePair } from \"../results/formula-results.models\";\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\n\r\n/**\r\n * The result of a formula promise.\r\n * Contains queues of things to broadcast on the next processing cycle.\r\n */\r\nexport class FormulaPromiseResult {\r\n  constructor(public entityGuid: string) { }\r\n\r\n  public data: Record<string, FormulaPromiseResultField> = {};\r\n}\r\n\r\ninterface FormulaPromiseResultField {\r\n  name: string;\r\n  value?: FieldValue;\r\n  fields: NameValuePair[];\r\n  settings: Record<string, unknown>;\r\n}\r\n\r\nexport interface FieldSettingPair {\r\n  name: string;\r\n  settings: NameValuePair[];\r\n}\r\n\r\n\r\nexport interface FormulaPromise {\r\n  promise: Promise<FieldValueOrResultRaw>;\r\n  sleep: boolean;\r\n  completed: boolean;\r\n}","import { Injectable, Signal } from \"@angular/core\";\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { DebugFields } from '../../edit-debug';\r\nimport { EavContentType } from \"../../shared/models/eav\";\r\nimport { FieldProps } from '../../state/fields-configs.model';\r\nimport { FieldsPropsEngineCycle } from '../../state/fields-properties-engine-cycle';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { FieldsValuesModifiedHelper } from '../../state/fields-values-modified.helper';\r\nimport { ItemValuesOfLanguage } from '../../state/item-values-of-language.model';\r\nimport { ItemService } from '../../state/item.service';\r\nimport { FormulaCacheItem } from '../cache/formula-cache.model';\r\nimport { FieldFormulasResultRaw, FieldValueOrResultRaw } from \"../results/formula-results.models\";\r\nimport { FormulaSettingsHelper } from \"../results/formula-settings.helper\";\r\nimport { FormulaValueCorrections } from \"../results/formula-value-corrections.helper\";\r\nimport { SettingsFormulaPrefix } from '../targets/formula-targets';\r\nimport { FormulaPromiseResult } from \"./formula-promise-result.model\";\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  addFormulaPromise: true,\r\n  updateStop: false,\r\n  defineCallbackHandlerIfMissing: false,\r\n  changesFromQueue: false,\r\n  promiseComplete: true,\r\n  filterFormulas: true,\r\n  fields: [...DebugFields], // or '*' for all\r\n};\r\n\r\n/**\r\n * FormulaPromiseHandler is responsible for handling the promise parts of formula results.\r\n * \r\n * It is responsible for a single entity.\r\n */\r\n@Injectable()\r\nexport class FormulaPromiseHandler {\r\n\r\n  log = classLog({FormulaPromiseHandler}, logSpecs);\r\n\r\n  // #contentTypeSvc = inject(ContentTypeService);\r\n\r\n  constructor(private itemSvc: ItemService) { }\r\n\r\n  #updateValueQueue: Record<string, FormulaPromiseResult> = {};\r\n  \r\n  init(entityGuid: string,\r\n    contentType: Signal<EavContentType>,\r\n    fieldsSettingsService: FieldsSettingsService,\r\n    modifiedChecker: FieldsValuesModifiedHelper,\r\n  ) {\r\n    this.#entityGuid = entityGuid;\r\n    this.#fieldsSettingsService = fieldsSettingsService;\r\n    this.#contentType = contentType;\r\n    this.#modifiedChecker = modifiedChecker;\r\n  }\r\n\r\n  #fieldsSettingsService: FieldsSettingsService = null;\r\n  #entityGuid: string;\r\n  #contentType: Signal<EavContentType>;\r\n  #modifiedChecker: FieldsValuesModifiedHelper;\r\n\r\n  public updateStop(formula: FormulaCacheItem, raw: FieldFormulasResultRaw): void {\r\n    const l = this.log.fnIfInList('updateStop', 'fields', formula.fieldName, { promiseResult: raw, formula }, formula.target);\r\n\r\n    const hasPromise = raw.promise instanceof Promise;\r\n\r\n    // Stop depends on explicit result and the default is different if it has a promise\r\n    // TODO: CONTINUE HERE - probably stop being set aggressively even if sleeping...\r\n    // Sleep state not fully resolved...\r\n    const newStop = raw.stop ?? (hasPromise ? true : formula.stop); \r\n    const msg = ` formula.stop: ${formula.stop}; raw.stop: ${raw.stop}; hasPromise: ${hasPromise}; newStop: ${newStop}`;\r\n    formula.stop = newStop;\r\n    return l.end(msg);\r\n  }\r\n\r\n  /**\r\n   * Used for filling queue and triggering next run.\r\n   * @param raw\r\n   * @param formula\r\n   * @param inputTypeName\r\n   */\r\n  public handleStopAndPromise(formula: FormulaCacheItem, raw: FieldFormulasResultRaw): void {\r\n    const l = this.log.fnIfInList('addFormulaPromise', 'fields', formula.fieldName, { promiseResult: raw, formula }, formula.target);\r\n\r\n    // If no promise, exit early\r\n    if (!(raw.promise instanceof Promise))\r\n      return l.end('no promise');\r\n    \r\n    // If the user is currently editing this formula,\r\n    // give him additional info about stopping.\r\n    if (raw.openInDesigner && raw.stop === null)\r\n      console.log(`FYI: formula returned a promise. This automatically stops this formula from running again. If you want it to continue running, return stop: false`);\r\n    \r\n    // Check sleep state (new feat in v18 for Pickers (state/data))\r\n    // Unclear if this should be here in the promise handling...\r\n    const sleep = raw.sleep ?? false;\r\n    \r\n    // If result _contains_ a promise, add it to the queue\r\n    // Add promise to the queue / ensure callback handling ???\r\n    formula.promises$.next({ promise: raw.promise, sleep, completed: false });\r\n    this.#defineCallbackHandlerIfMissing(formula);\r\n\r\n    return l.end(`promise added, sleep: ${sleep}`);\r\n  }\r\n\r\n  /**\r\n   * Filter out formulas which shouldn't run because of promises. Rules are:\r\n   * - not stopped (this is not handled here, as it applies to non-promise formulas too)\r\n   * - has promise, but is sleeping so we don't want to run it until it has completed\r\n   * @param fieldName \r\n   * @param before \r\n   * @returns \r\n   */\r\n  public filterFormulas(fieldName: string, before: FormulaCacheItem[]) {\r\n    const l = this.log.fnIfInList('filterFormulas', 'fields', fieldName, { enabled: before });\r\n    const formulas = before.filter(f => {\r\n      const promise = f.promises$.value;\r\n      l.a(`hasPromise: ${!!promise}; completed: ${promise?.completed}; sleep: ${promise?.sleep}`);\r\n      return !promise || (promise.completed || !promise.sleep);\r\n    });\r\n    const msg = ` beforeFilter: ${before.length}; formulas: ${formulas.length}; `;\r\n    return l.rSilent(formulas, msg);\r\n  }\r\n\r\n\r\n  /**\r\n   * Used for defining the callback handler for the promise if it doesn't already exist and filling queue for the next run.\r\n   * @param formula\r\n   * @param inputType\r\n   * @param entityGuid\r\n   */\r\n  #defineCallbackHandlerIfMissing(formula: FormulaCacheItem): void {\r\n    const entityGuid = this.#entityGuid;\r\n    const lcb = this.log.fnIfInList('defineCallbackHandlerIfMissing', 'fields', formula.fieldName, { formula, entityGuid }, formula.target);\r\n    if (formula.updateCallback$.value)\r\n      return lcb.end('callback already defined');\r\n\r\n    formula.updateCallback$.next((result: FieldValueOrResultRaw) => this.#promiseComplete(formula, result));\r\n  }\r\n\r\n  #promiseComplete(formula: FormulaCacheItem, result: FieldValueOrResultRaw): void {\r\n    const entityGuid = this.#entityGuid;\r\n    const l = this.log.fnIfInList('promiseComplete', 'fields', formula.fieldName, { result, formula, entityGuid }, formula.target);\r\n    const fieldName = formula.fieldName;\r\n    const raw = new FormulaValueCorrections(this.#contentType(), entityGuid, fieldName, formula.isValue, formula.inputType, false).v2(result);\r\n\r\n    // Make sure the cache contains this entry\r\n    const queue = this.#updateValueQueue;\r\n    const queueItem = queue[entityGuid] ??= new FormulaPromiseResult(entityGuid);      \r\n    const fieldQueue = queueItem.data[fieldName] ??= {\r\n      name: fieldName,\r\n      value: formula.isValue ? raw.value : undefined,\r\n      fields: [],\r\n      settings: {}\r\n    };\r\n\r\n    if (formula.isSetting) {\r\n      // New v18 settings are added to the field settings\r\n      l.a(\"formula promise settings\");\r\n      fieldQueue.settings ??= {};\r\n      fieldQueue.settings[formula.settingName] = raw.value;\r\n    }\r\n\r\n    if (raw.fields) {\r\n      l.a(\"formula promise fields\");\r\n      fieldQueue.fields.push(...raw.fields);\r\n    }\r\n\r\n    // new WIP\r\n    formula.stop = raw.stop ?? formula.stop;\r\n    formula.promiseCompleted = true;\r\n    l.end('promise complete, will retriggerFormulas', fieldQueue as unknown as Record<string, unknown>);\r\n    this.#fieldsSettingsService.retriggerFormulas('promise');\r\n  }\r\n\r\n  /**\r\n   * Used for updating values and cleaning settings from queue.\r\n   * @returns true if values were updated, false otherwise and new field props\r\n   */\r\n  public changesFromQueue(cycle: FieldsPropsEngineCycle): QueuedChanges {\r\n    // Get data from change queue and then flush, as we'll process it next and in case of errors we don't want to reprocess it\r\n    const toProcess = this.#updateValueQueue[this.#entityGuid];\r\n    this.#updateValueQueue[this.#entityGuid] = null;\r\n\r\n    // If nothing in the queue for this entity, exit early\r\n    if (toProcess == null || toProcess.data == null || Object.keys(toProcess.data).length === 0)\r\n      return { valueChanges: {}, newFieldProps: null };\r\n\r\n    // Updates to process/import\r\n    const dataEntries = Object.entries(toProcess.data);\r\n    const valuesArray = dataEntries.map(([name, field]) => ({ name, value: field.value }));\r\n    const values = valuesArray.reduce((acc, { name, value }) => {\r\n      acc[name] = value;\r\n      return acc;\r\n    }, {} as ItemValuesOfLanguage);\r\n\r\n    const fields = dataEntries\r\n      .filter(([_, field]) => field.fields.length > 0)\r\n      .map(([_, field]) => field.fields)\r\n      .flat();\r\n\r\n    const settings = dataEntries\r\n      .filter(([_, field]) => Object.keys(field.settings).length > 0)\r\n      .map(([name, field]) => ({ fieldName: name, settings: field.settings }));\r\n\r\n    // Handle values (of this field) and fields (values of other fields)\r\n    const modifiedValues = (Object.keys(values).length !== 0 || fields.length !== 0)\r\n      ? this.#modifiedChecker.getValueUpdates(cycle, fields, values)\r\n      : {};\r\n\r\n    // Handle settings\r\n    const contentType = this.#contentType();\r\n    let newFieldProps: Record<string, FieldProps> = null;\r\n    if (settings.length) {\r\n      newFieldProps = { ...cycle.fieldProps };\r\n      const itemAttributes = this.itemSvc.getItemAttributes(this.#entityGuid);\r\n      Object.values(settings).forEach(setting => {\r\n        const fieldName = setting.fieldName;\r\n        const settingsCurrent = cycle.fieldProps[fieldName]?.settings;\r\n        \r\n        let settingsNew: Partial<FieldSettings> = {};\r\n        Object.entries(setting.settings).forEach(([name, value]) => {\r\n          const target = SettingsFormulaPrefix + name;\r\n          settingsNew = FormulaSettingsHelper.keepSettingIfTypeOk(target, settingsCurrent, value, settingsNew);\r\n\r\n          const constantFieldPart = cycle.getFieldConstants(fieldName);\r\n          const attribute = contentType.Attributes.find(a => a.Name === fieldName);\r\n\r\n          // Prepare helper which the formula will need to verify if the field is visible\r\n          const setUpdHelper = cycle.updateHelper.create(fieldName, attribute, constantFieldPart, itemAttributes[fieldName]);\r\n\r\n          const mergedSettings = { ...settingsCurrent, ...settingsNew };\r\n          const updatedSettings = setUpdHelper.correctSettingsAfterChanges(mergedSettings, cycle.values[fieldName]);\r\n\r\n          newFieldProps[fieldName] = { ...newFieldProps[fieldName], settings: updatedSettings };\r\n        });\r\n\r\n      });\r\n    }\r\n\r\n    return { valueChanges: modifiedValues, newFieldProps };\r\n  }\r\n}\r\n\r\ninterface QueuedChanges {\r\n  /** value changes, may not be null */\r\n  valueChanges: ItemValuesOfLanguage,\r\n  newFieldProps: Record<string, FieldProps>\r\n}","import { FieldMetadataModel } from '../field-metadata.decorator';\r\n\r\n// Note: When creating new wrappers, do this\r\n// 1. Create the component\r\n// 2. Add it to the catalog above\r\n// 3. Make sure the class name is unique...\r\n// 4. ...and that i uses the name from the WrappersCatalog above\r\n// 5. Then also register it in the `InputComponents` list with the name and control\r\n// 6. If it should be applied to many controls, register in the `WrapperHelper` at the right place\r\n// ...otherwise add it as a `@FieldMetadata` to the field (remember that this only works on the entry component)\r\n\r\nexport const WrappersCatalog = {\r\n  AdamWrapper: 'app-adam-wrapper', // default\r\n  CollapsibleWrapper: 'app-collapsible-wrapper', // empty specific\r\n  DropzoneWrapper: 'app-dropzone-wrapper', // default\r\n  PickerExpandableWrapper: 'app-picker-expandable-wrapper', // entity specific\r\n  PickerPreviewWrapper: 'app-picker-preview-wrapper', // entity specific\r\n  ExpandableWrapper: 'app-expandable-wrapper', // default\r\n  HiddenWrapper: 'app-hidden-wrapper', // default\r\n  FeatureWarningWrapper: 'app-feat-warnings-wrapper', // default\r\n  HyperlinkDefaultExpandableWrapper: 'app-hyperlink-default-expandable-wrapper', // hyperlink specific\r\n  HyperlinkLibraryExpandableWrapper: 'app-hyperlink-library-expandable-wrapper', // hyperlink specific\r\n  DialogPopup: 'app-dialog-popup', // hyperlink specific\r\n  LocalizationWrapper: 'app-localization-wrapper', // default\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n\r\nexport const WrappersLocalizationOnly: FieldMetadataModel = {\r\n  wrappers: [WrappersCatalog.LocalizationWrapper],\r\n};\r\n\r\n\r\n","import { Of } from '../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsPickerMerged } from '../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../shared/fields/input-type-catalog';\r\nimport { InputTypeHelpers } from '../../../shared/fields/input-type-helpers';\r\nimport { InputTypeSpecs } from '../../shared/input-types/input-type-specs.model';\r\nimport { WrappersCatalog } from './wrappers.constants';\r\n\r\nconst logThis = false;\r\n\r\nexport class WrapperHelper {\r\n\r\n  static getWrappers(settings: FieldSettings, inputTypeSpecs: InputTypeSpecs): Of<typeof WrappersCatalog>[] {\r\n    const inputType = inputTypeSpecs.inputType;\r\n\r\n    if (InputTypeHelpers.isMessage(inputType))\r\n      return [];\r\n\r\n    // Empty input type wrappers - in this case, exit early\r\n    if (InputTypeHelpers.isGroupStart(inputType))\r\n      return [WrappersCatalog.CollapsibleWrapper];\r\n\r\n    // Start with default wrappers for all controls\r\n    const wrappers: Of<typeof WrappersCatalog>[] = [\r\n      WrappersCatalog.HiddenWrapper\r\n    ];\r\n\r\n    // entity-default/string-dropdown wrappers\r\n    const inputsEntityOrStringDropdown: string[] = [\r\n      InputTypeCatalog.EntityDefault,\r\n      InputTypeCatalog.StringDropdownQuery,\r\n      InputTypeCatalog.EntityQuery,\r\n      InputTypeCatalog.EntityContentBlocks,\r\n      InputTypeCatalog.StringDropdown,\r\n      InputTypeCatalog.EntityPicker,\r\n      InputTypeCatalog.StringPicker,\r\n      InputTypeCatalog.NumberPicker,\r\n      // InputTypeCatalog.StringFontIconPicker,\r\n      // || (inputType === InputTypeConstants.WIPNumberPicker);\r\n    ];\r\n    const isEntityOrStringDropdownType = inputsEntityOrStringDropdown.includes(inputType);\r\n\r\n    if (isEntityOrStringDropdownType) {\r\n      // New ...\r\n      wrappers.push(WrappersCatalog.FeatureWarningWrapper);\r\n      // i18n\r\n      wrappers.push(WrappersCatalog.LocalizationWrapper);\r\n      const allowMultiValue = (settings as FieldSettings & FieldSettingsPickerMerged).AllowMultiValue ?? false;\r\n      if (allowMultiValue || inputType === InputTypeCatalog.EntityContentBlocks)\r\n        wrappers.push(WrappersCatalog.PickerExpandableWrapper);\r\n    }\r\n\r\n    // External components should always get these wrappers\r\n    if (inputTypeSpecs.isExternal)\r\n      wrappers.push(\r\n        WrappersCatalog.DropzoneWrapper,\r\n        WrappersCatalog.LocalizationWrapper,\r\n        WrappersCatalog.ExpandableWrapper,\r\n        WrappersCatalog.AdamWrapper,\r\n      );\r\n\r\n    return wrappers;\r\n  }\r\n\r\n}\r\n","import { FieldConstantsOfLanguage, FieldProps } from './fields-configs.model';\r\nimport { ItemValuesOfLanguage } from './item-values-of-language.model';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { WrapperHelper } from '../fields/wrappers/wrapper.helper';\r\nimport isEqual from 'lodash-es/isEqual';\r\nimport { FieldsPropsEngine } from './fields-properties-engine';\r\nimport { EavEntityAttributes } from '../shared/models/eav';\r\nimport { FieldSettingsUpdateHelperFactory } from './fields-settings-update.helpers';\r\nimport { classLog } from '../../shared/logging';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  getCycleSettingsAndValues: false,\r\n  getLatestSettingsAndValues: false,\r\n}\r\n\r\nconst maxChangeCycles = 5;\r\n\r\n/**\r\n * Assistant helper to process / recalculate the value of fields and their settings.\r\n * \r\n * It should function as follows:\r\n * 1. The system initialized or something changed - the language, a value, a setting, etc.\r\n * 2. This triggers a recalculation of the fields and their settings.\r\n * 3. That kind of change can again re-trigger certain value updates, fields, settings - so it loops...\r\n * 4. ...until nothing changes - or a max-value has been achieved and it should stop to prevent infinite loops.\r\n * 5. This is then handed back to the ui / value services for propagation\r\n * 6. ...after this it should not run again until something changes anew...\r\n * \r\n * Note that as of now, this engine should be created and discarded on every cycle.\r\n */\r\nexport class FieldsPropsEngineCycle {\r\n  private log = classLog({FieldsPropsEngineCycle}, logSpecs);\r\n\r\n  constructor(\r\n    private engine: FieldsPropsEngine,\r\n    /** The values of the form - initialized here and to be updated until complete */\r\n    private readonly initialValues: ItemValuesOfLanguage,\r\n    /** The field props at start and during the calculation cycles (may be updated until complete) */\r\n    public fieldProps: Record<string, FieldProps>,\r\n    public allAttributes: EavEntityAttributes,\r\n    public updateHelper: FieldSettingsUpdateHelperFactory,\r\n    private fieldConstants: FieldConstantsOfLanguage[],\r\n  ) {\r\n    this.values = { ...initialValues };\r\n  }\r\n\r\n  public getFieldConstants(name: string) {\r\n    return this.fieldConstants.find(f => f.fieldName === name);\r\n  }\r\n\r\n  /**\r\n   * Get the current values of the fields, as they may update during the cycle\r\n   */\r\n  values: ItemValuesOfLanguage;\r\n\r\n  public getCycleSettingsAndValues(): PropsUpdate {\r\n    const l = this.log.fnIf('getCycleSettingsAndValues');\r\n\r\n    for (let i = 0; i < maxChangeCycles; i++) {\r\n      const cycle = this.#getLatestSettingsAndValues(i);\r\n      const mergedValues = { ...this.values, ...cycle.valueChanges };\r\n\r\n      // Quit if we have no more changes\r\n      if (isEqual(this.fieldProps, cycle.props) && isEqual(this.values, mergedValues)) {\r\n        l.a('No more changes, stable, exit');\r\n        break;\r\n      }\r\n\r\n      // Update state for next cycles\r\n      this.fieldProps = cycle.props;\r\n      this.values = mergedValues;\r\n    }\r\n\r\n    // figure out the final changes to propagate\r\n    const finalChanges = this.engine.modifiedChecker.getValueUpdates(this, [], this.values, this.initialValues);\r\n\r\n    return { valueChanges: finalChanges, props: this.fieldProps };\r\n  }\r\n\r\n  #getLatestSettingsAndValues(loopIndex: number): PropsUpdate {\r\n    const l = this.log.fnIf('getLatestSettingsAndValues', { loopIndex });\r\n\r\n    // 1. Detect first round as it has slightly different behavior\r\n    const isFirstRound = Object.keys(this.fieldProps).length === 0;\r\n\r\n    // 2. Process the queue of changes from promises if necessary\r\n    // If things change, we will exit because then the observable will be retriggered\r\n    if (!isFirstRound) {\r\n      const { valueChanges, newFieldProps } = this.engine.formulaPromises.changesFromQueue(this);\r\n\r\n      // If we only updated values from promise (queue), don't trigger property regular updates\r\n      if (newFieldProps) {\r\n        l.a('New field props from queue', { newFieldProps });\r\n        this.fieldProps = newFieldProps;\r\n      }\r\n      \r\n      // If any value changes then the entire cycle will automatically retrigger.\r\n      // So we exit now as the whole cycle will re-init and repeat.\r\n      if (Object.keys(valueChanges).length > 0) {\r\n        l.a('Value changes from queue', { valueChanges });\r\n        this.values = { ...this.values, ...valueChanges };\r\n      }\r\n    } else\r\n      l.a('First round, no queue to process');\r\n\r\n    // 3. Run formulas for all fields - as a side effect (not nice) will also get / init all field settings\r\n    // Note that in the case of promises being executed, the whole process will need to run again\r\n    // when the promises finish\r\n    const { fieldsProps: props, valueUpdates, fieldUpdates } = this.engine.formulaEngine.runAllFields(this.engine, this);\r\n\r\n    // 4. On first cycle, also make sure we have the wrappers specified as it's needed by the field creator; otherwise preserve previous\r\n    for (const [key, value] of Object.entries(props))\r\n      value.buildWrappers = isFirstRound\r\n        ? WrapperHelper.getWrappers(value.settings, value.constants.inputTypeSpecs)\r\n        : this.fieldProps[key]?.buildWrappers;\r\n\r\n    // 6.1 If we have value changes were applied\r\n    const modifiedValues = this.engine.modifiedChecker.getValueUpdates(this, fieldUpdates, valueUpdates);\r\n\r\n    return { valueChanges: modifiedValues, props: props };\r\n  }\r\n\r\n\r\n  /**\r\n   * Get latest/current valid field settings - if possible from cache\r\n   * if the currentLanguage changed then we need to flush the settings with initial ones that have updated language\r\n   */\r\n  getFieldSettingsInCycle(constFieldPart: FieldConstantsOfLanguage): FieldSettings {\r\n    const cached = this.fieldProps[constFieldPart.fieldName];\r\n    // if the currentLanguage changed then we need to flush the settings with initial ones that have updated language\r\n    const cachedStillValid = constFieldPart.language == cached?.language;\r\n    const result: FieldSettings = cachedStillValid\r\n      ? cached?.settings ?? { ...constFieldPart.settingsInitial }\r\n      : { ...constFieldPart.settingsInitial };\r\n    return result;\r\n  }\r\n}\r\n\r\ninterface PropsUpdate {\r\n  valueChanges: ItemValuesOfLanguage;\r\n  props: Record<string, FieldProps>;\r\n}","import { ItemIdentifierShared } from '../../shared/models/edit-form.model';\r\nimport { InputTypeHelpers } from '../../shared/fields/input-type-helpers';\r\nimport { FieldConstantsOfLanguage } from './fields-configs.model';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { classLog } from '../../shared/logging';\r\n\r\n/**\r\n * Small helper to parse Item-Field-Visibility requirements from the URL.\r\n * This is to allow callers to specify which fields should be hidden.\r\n * For example, to make the edit-UI only open a specific WYSIWYG field and hide all other fields.\r\n */\r\nexport class ItemFieldVisibility {\r\n  private defaultIsShow = true;\r\n  private fields: Record<string, boolean> = null;\r\n\r\n  private log = classLog({ItemFieldVisibility});\r\n\r\n  constructor(identifier: ItemIdentifierShared) {\r\n    const l = this.log.fn('ctor', { identifier });\r\n    var fields = identifier.ClientData?.fields as string;\r\n    if (fields == null || fields == '') {\r\n      l.end('no fields specified');\r\n      return;\r\n    }\r\n    \r\n    // If the first character is a minus, then default is show all and just hide mentions\r\n    this.defaultIsShow = (fields[0] == '-');\r\n    if (this.defaultIsShow)\r\n      fields = fields.substring(1);\r\n    const ruleIsShow = !this.defaultIsShow;\r\n\r\n    this.fields = fields.toLowerCase().split(',')\r\n      .reduce((prev, f) => {\r\n        prev[f] = ruleIsShow;\r\n        return prev;\r\n      }, {} as Record<string, boolean>);\r\n    l.end('', { fields: this.fields, defaultIsShow: this.defaultIsShow });\r\n  }\r\n\r\n  hasRules(): boolean {\r\n    return this.fields != null;\r\n  }\r\n\r\n  isVisibleDisabled(fieldName: string): boolean {\r\n    const l = this.log.fn('isVisibleDisabled', { fieldName });\r\n\r\n    // check if we have no rules at all - in which case never override\r\n    if (!this.hasRules())\r\n      return l.r(false, 'no rules');\r\n\r\n    const override = this.fields[fieldName.toLowerCase()];\r\n    \r\n    return l.r(!(override ?? this.defaultIsShow));\r\n  }\r\n\r\n  static mergedVisible(settings: FieldSettings): boolean {\r\n    return settings.Visible && !settings.VisibleDisabled;\r\n  }\r\n\r\n  /**  Make sure that groups, which have a forced-visible-field are also visible */\r\n  makeParentGroupsVisible(allConstFieldParts: FieldConstantsOfLanguage[]) {\r\n    const l = this.log.fn('makeParentGroupsVisible', { allConstFieldParts });\r\n\r\n    if (!this.hasRules())\r\n      return l.r(allConstFieldParts, 'no rules, no changes');\r\n\r\n    // ATM in try-catch, to ensure we don't break anything\r\n    try {\r\n      allConstFieldParts.forEach((groupField, index) => {\r\n        // Only work on group-starts\r\n        if (!InputTypeHelpers.isGroupStart(groupField.inputTypeSpecs.inputType))\r\n          return;\r\n\r\n        // Ignore if visible-disabled is already ok\r\n        if (groupField.settingsInitial.VisibleDisabled == false)\r\n          return;\r\n\r\n        // Check if any of the following fields is forced visible - before another group-start/end\r\n        for (let i = index + 1; i < allConstFieldParts.length; i++) {\r\n          const innerField = allConstFieldParts[i];\r\n\r\n          // Stop checking the current group if we found another group start/end\r\n          if (InputTypeHelpers.endsPreviousGroup(innerField.inputTypeSpecs.inputType))\r\n            return;\r\n\r\n          if (innerField.settingsInitial.VisibleDisabled == false) {\r\n            l.a('Forced visible', { fieldName: groupField.fieldName, reason: innerField.fieldName });\r\n            groupField.settingsInitial.VisibleDisabled = false;\r\n            return;\r\n          }\r\n        }\r\n      });\r\n    } catch (e) {\r\n      console.error('Error trying to set item field visibility', e);\r\n    }\r\n\r\n    return allConstFieldParts;\r\n  }\r\n}","import { Injectable, Signal } from '@angular/core';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { classLog } from '../../shared/logging';\r\nimport { computedObj } from '../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../edit-debug';\r\nimport { FieldLogicManager } from '../fields/logic/field-logic-manager';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { EntityReader } from '../shared/helpers';\r\nimport { InputTypeService } from '../shared/input-types/input-type.service';\r\nimport { EavContentType, EavItem } from '../shared/models/eav';\r\nimport { FieldsSettingsHelpers } from './field-settings.helper';\r\nimport { FieldConstants, FieldConstantsOfLanguage } from './fields-configs.model';\r\nimport { FieldsSettingsService } from './fields-settings.service';\r\nimport { ItemFieldVisibility } from './item-field-visibility';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  stablePartsOfLanguage: false,\r\n  stablePartOfField: true,\r\n  constantPartsOfField: false,\r\n  constantFieldParts: false,\r\n  staticPartsOfField: false,\r\n  fields: [...DebugFields],\r\n}\r\n\r\n/**\r\n * Each instance is responsible for a single entity.\r\n */\r\n@Injectable()\r\nexport class FieldsSettingsConstantsService {\r\n\r\n  log = classLog({FieldsSettingsConstantsService}, logSpecs);\r\n\r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    private inputTypeSvc: InputTypeService,\r\n  ) { }\r\n\r\n  #fieldSettingsHelper = new FieldsSettingsHelpers(this.log.name);\r\n\r\n  init(\r\n    itemForIds: EavItem,\r\n    contentType: EavContentType,\r\n    entityReaderCurrent: Signal<EntityReader>,\r\n    labelReaderCurrent: Signal<EntityReader>,\r\n    fieldsSettingsSvc: FieldsSettingsService,\r\n  ): this {\r\n    this.#item = itemForIds;\r\n    this.#contentType = contentType;\r\n    this.#itemFieldVisibility = new ItemFieldVisibility(itemForIds.Header);\r\n    this.#entityReaderCurrent = entityReaderCurrent;\r\n    this.#labelReaderCurrent = labelReaderCurrent;\r\n    this.#fieldSettingsSvc = fieldsSettingsSvc;\r\n    return this;\r\n  }\r\n\r\n  #item: EavItem;\r\n  #itemFieldVisibility: ItemFieldVisibility;\r\n  #entityReaderCurrent: Signal<EntityReader>;\r\n  #labelReaderCurrent: Signal<EntityReader>;\r\n  #contentType: EavContentType;\r\n  #fieldSettingsSvc: FieldsSettingsService;\r\n\r\n  public stableDataOfLanguage() {\r\n    const guid = this.#item.Entity.Guid;\r\n    const id = this.#item.Entity.Id;\r\n    const typeNameId = this.#contentType.Id;\r\n    const constParts = this.#constantPartsOfField(guid, id, typeNameId);\r\n\r\n    return computedObj('stableDataOfLanguage',\r\n      () => this.#stablePartsOfLanguage(this.#entityReaderCurrent(), this.#labelReaderCurrent(), constParts)\r\n    );\r\n  }\r\n\r\n  #stablePartsOfLanguage(reader: EntityReader, labelReader: EntityReader, fieldConstants: FieldConstants[]) {\r\n    const contentType = this.#contentType;\r\n    const l = this.log.fnIf('stablePartsOfLanguage', { contentType, entityReader: reader });\r\n\r\n    const constPartOfLanguage = contentType.Attributes.map(attr => {\r\n      const fieldName = attr.Name;\r\n      const lInner = this.log.fnIfInList('stablePartOfField', 'fields', fieldName, { fieldName });\r\n\r\n      // Input Type config in the current language\r\n      const inputType = this.inputTypeSvc.get(attr.InputType);\r\n\r\n      // Construct the constants with settings and everything\r\n      // using the EntityReader with the current language\r\n      const merged = reader.flatten<FieldSettings>(attr.Metadata);\r\n\r\n      // If the user specified a preferred language for labels, use that\r\n      if (labelReader.current !== reader.current) {\r\n        const labelMerged = labelReader.flatten<FieldSettings>(attr.Metadata);\r\n        merged.Name = labelMerged.Name ?? merged.Name;\r\n        merged.Placeholder = labelMerged.Placeholder ?? merged.Placeholder;\r\n        merged.Notes = labelMerged.Notes ?? merged.Notes;\r\n      }\r\n\r\n      // Also integrate the generic (custom JSON injected field-settings)\r\n      const withGeneric = this.#fieldSettingsHelper.mergeGenericSettings(fieldName, merged);\r\n\r\n      // Sometimes the metadata doesn't have the input type (empty string), so we'll add the attribute.InputType just in case...\r\n      withGeneric.InputType = attr.InputType;\r\n      withGeneric.VisibleDisabled = this.#itemFieldVisibility.isVisibleDisabled(attr.Name);\r\n      const settingsInitial = this.#fieldSettingsHelper.getDefaultSettings(withGeneric);\r\n      const constantFieldParts: FieldConstantsOfLanguage = {\r\n        ...fieldConstants.find(c => c.fieldName === attr.Name),\r\n        settingsInitial,\r\n        inputTypeConfiguration: inputType,\r\n        language: reader.current,\r\n      };\r\n\r\n      return lInner.r(constantFieldParts);\r\n    });\r\n\r\n    const constPartsWithGroupVisibility = this.#itemFieldVisibility.makeParentGroupsVisible(constPartOfLanguage);\r\n\r\n    return l.r(constPartsWithGroupVisibility);\r\n  }\r\n\r\n  #constantPartsOfField(entityGuid: string, entityId: number, contentTypeNameId: string): FieldConstants[] {\r\n    const contentType = this.#contentType;\r\n    const l = this.log.fnIf('constantPartsOfField', { entityGuid, entityId, contentTypeNameId });\r\n    // Get the form languages - but we only need default & initial, so we don't have to observe\r\n    const language = this.formConfig.language();\r\n    \r\n    // When merging the \"constant\" metadata, the primary language must be the initial language, not the current\r\n    // as that contains all the relevant settings which should not be translated\r\n    const mdMerger = new EntityReader(language.initial, language.primary);\r\n\r\n    const allPickers = this.#fieldSettingsSvc.pickerData;\r\n    const eavConfig = this.formConfig.config;\r\n\r\n    l.a('shared across fields', { entityGuid, entityId, contentTypeNameId, language, allPickers });\r\n\r\n    const constFieldParts = contentType.Attributes.map((attr, index) => {\r\n      const fieldName = attr.Name;\r\n      const lInner = this.log.fnIfInList('constantFieldParts', 'fields', fieldName, { fieldName, index });\r\n      // metadata in the initial language with all the core settings - just for initialDisabled!\r\n      const metadata = mdMerger.flatten<FieldSettings>(attr.Metadata);\r\n      const initialSettings = this.#fieldSettingsHelper.getDefaultSettings(metadata);\r\n      const initialDisabled = initialSettings.Disabled ?? false;\r\n\r\n      const inputTypeSpecs = this.inputTypeSvc.getSpecs(attr);\r\n\r\n      lInner.a('details', { fieldName, contentType, language, attr, initialSettings, inputTypeSpecs });\r\n\r\n      const logic = FieldLogicManager.singleton().get(attr.InputType);\r\n\r\n      // Construct the constants / unchanging aspects of the field, no matter what language\r\n      const constants: FieldConstants = {\r\n        entityGuid,\r\n        entityId,\r\n        contentTypeNameId,\r\n        fieldName,\r\n        index,\r\n        dropzonePreviewsClass: `dropzone-previews-${eavConfig.formId}-${index}`,\r\n        initialDisabled,\r\n        inputTypeSpecs,\r\n        isLastInGroup: this.#fieldSettingsHelper.isLastInGroup(contentType, attr),\r\n        type: attr.Type,\r\n        logic,\r\n        pickerData: () => allPickers[fieldName] ?? null,\r\n      };\r\n\r\n      return lInner.r(constants);\r\n    });\r\n    return l.r(constFieldParts);\r\n  }\r\n\r\n}\r\n","import { Signal } from '@angular/core';\r\nimport { AbstractControl, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { CustomJsonEditor } from 'projects/edit-types/src/FieldSettings-CustomJsonEditor';\r\nimport { FieldSettingsNumber } from 'projects/edit-types/src/FieldSettings-Number';\r\nimport { FieldSettingsPicker } from 'projects/edit-types/src/FieldSettings-Pickers';\r\nimport { Of } from '../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsOptionsWip, FieldSettingsSharedSeparator } from '../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../shared/fields/input-type-catalog';\r\nimport { AdamControl } from '../../fields/basic/hyperlink-library/hyperlink-library.models';\r\nimport { PickerData } from '../../fields/picker/picker-data';\r\nimport { convertValueToArray } from '../../fields/picker/picker.helpers';\r\nimport { FieldProps } from '../../state/fields-configs.model';\r\nimport { ItemFieldVisibility } from '../../state/item-field-visibility';\r\n\r\n\r\n/** Slightly enhanced standard Abstract Control with additional warnings */\r\nexport interface AbstractControlPro extends AbstractControl {\r\n  /**\r\n   * Object containing various warnings (or the object can also be null)\r\n   */\r\n  _warning?: ValidationErrors;\r\n}\r\n\r\n/** Validators here are copied from https://github.com/angular/angular/blob/master/packages/forms/src/validators.ts */\r\nexport class ValidationHelpers {\r\n\r\n  static isRequired(settings: FieldSettings): boolean {\r\n    // hidden field can't be required\r\n    return this.#shouldIgnoreValidators(settings) ? false : settings.Required;\r\n  }\r\n\r\n  public static getValidators(specs: ValidationHelperSpecs, inputType: Of<typeof InputTypeCatalog>): ValidatorFn[] {\r\n    // TODO: merge all validators in a single function? Should be faster\r\n    const validators: ValidatorFn[] = [\r\n      inputType !== InputTypeCatalog.HyperlinkLibrary\r\n        ? this.#required(specs)\r\n        : this.#requiredAdam(specs),\r\n      this.#regEx(specs),\r\n      this.#decimals(specs),\r\n      this.#numberMin(specs),\r\n      this.#numberMax(specs),\r\n      this.#listMin(specs),\r\n      this.#listMax(specs),\r\n      this.#formulaValidate(specs),\r\n    ];\r\n    if (inputType === InputTypeCatalog.CustomJsonEditor)\r\n      validators.push(this.#jsonValidator(specs));\r\n    return validators;\r\n  }\r\n\r\n  static #ensureWarningsAndGetSettingsIfNoIgnore(control: AbstractControl, specs: ValidationHelperSpecs) {\r\n    const settings = specs.settings();\r\n    if (this.#shouldIgnoreValidators(settings)) return null;\r\n    return settings;\r\n  }\r\n\r\n  static #required(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      // if (Array.isArray(control.value))\r\n      //   console.log('2dm #required', control.value)\r\n      if (s == null || !s.valueRequired) return null;\r\n      return Validators.required(control);\r\n    };\r\n  }\r\n\r\n  static #requiredAdam(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s == null || !s.valueRequired) return null;\r\n\r\n      return (control as AdamControl).adamItems === 0 ? { required: true } : null;\r\n    };\r\n  }\r\n\r\n  static #regEx(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s == null || !s.ValidationRegExJavaScript) return null;\r\n\r\n      return Validators.pattern(s.ValidationRegExJavaScript)(control);\r\n    };\r\n  }\r\n\r\n  static #decimals(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s?.Decimals == null || s.Decimals < 0) return null;\r\n      if (control.value == null) return null;\r\n\r\n      const matchString = s.Decimals === 0 ? `^-?[0-9]+$` : `^-?[0-9]+(\\.[0-9]{1,${s.Decimals}})?$`;\r\n      const matches = (control.value as number).toString().match(matchString);\r\n      return !matches ? { decimals: true } : null;\r\n    };\r\n  }\r\n\r\n  static #numberMin(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s?.Min == null) return null;\r\n\r\n      return Validators.min(s.Min)(control);\r\n    };\r\n  }\r\n\r\n  static #numberMax(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s?.Max == null) return null;\r\n\r\n      return Validators.max(s.Max)(control);\r\n    };\r\n  }\r\n\r\n  static #listMin(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s == null || s.AllowMultiMin == 0 || s.AllowMultiMin == undefined) return null;\r\n      return countValues(control, specs, s) < s.AllowMultiMin ? { minNoItems: s.AllowMultiMin } : null;\r\n    };\r\n  }\r\n\r\n  static #listMax(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const s = this.#ensureWarningsAndGetSettingsIfNoIgnore(control, specs);\r\n      if (s == null || s.AllowMultiMax == 0 || s.AllowMultiMax == undefined) return null;\r\n      return countValues(control, specs, s) > s.AllowMultiMax ? { maxNoItems: s.AllowMultiMax } : null;\r\n    };\r\n  }\r\n\r\n  static #jsonValidator(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControlPro): ValidationErrors | null => {\r\n      const settings = specs.settings();\r\n      let error: boolean;\r\n      let warning: boolean;\r\n      const jsonMode = (settings as FieldSettings & CustomJsonEditor).JsonValidation;\r\n\r\n      if (this.#shouldIgnoreValidators(settings) || jsonMode === 'none' || !control.value) {\r\n        error = false;\r\n        warning = false;\r\n      } else {\r\n        try {\r\n          JSON.parse(control.value);\r\n          error = false;\r\n          warning = false;\r\n        } catch {\r\n          if (jsonMode === 'strict') {\r\n            error = true;\r\n            warning = false;\r\n          } else if (jsonMode === 'light') {\r\n            error = false;\r\n            warning = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      control._warning = warning ? { jsonWarning: true } : null;\r\n      return error ? { jsonError: true } : null;\r\n    };\r\n  }\r\n\r\n  static #formulaValidate(specs: ValidationHelperSpecs): ValidatorFn {\r\n    return (control: AbstractControlPro): ValidationErrors | null => {\r\n      const formulaValidation = specs.props().formulaValidation;\r\n\r\n      const { error, warning } = (() => {\r\n        if (this.#shouldIgnoreValidators(specs.settings()) || formulaValidation == null)\r\n          return { error: false, warning: false };\r\n        if (formulaValidation.severity === 'error')\r\n          return { error: true, warning: false };\r\n        if (formulaValidation.severity === 'warning')\r\n          return { error: false, warning: true };\r\n        return { error: false, warning: false };\r\n      })();\r\n\r\n      control._warning = warning ? { formulaWarning: true, formulaMessage: formulaValidation.message } : null;\r\n      return error ? { formulaError: true, formulaMessage: formulaValidation.message } : null;\r\n    };\r\n  }\r\n\r\n  /** Hidden fields can't have validators */\r\n  static #shouldIgnoreValidators(settings: FieldSettings): boolean {\r\n    return !ItemFieldVisibility.mergedVisible(settings);\r\n  }\r\n}\r\n\r\nfunction countValues(control: AbstractControl, specs: ValidationHelperSpecs, s: FieldSettings & FieldSettingsOptionsWip & FieldSettingsSharedSeparator): number {\r\n  // If it is an array, return the length right away, since we don't need additional processing\r\n  if (Array.isArray(control.value))\r\n    return control.value.length;\r\n\r\n  // Picker Data - can be null in the first few cycles since it may not yet be initialized\r\n  const pd = specs.pickerData;\r\n  if (pd == null)\r\n    return convertValueToArray(control.value, s.Separator, false).length;\r\n\r\n  // PickerData SelectedAll will also contain an empty selected item if the field allows empty values\r\n  return pd.selectedAll().length;\r\n}\r\n\r\n\r\nexport class ValidationHelperSpecs {\r\n  constructor(\r\n    /** The Field Name */\r\n    public fieldName: string,\r\n    /** The Input Type */\r\n    public inputType: Of<typeof InputTypeCatalog>,\r\n    /** The settings, but must be re-cast so the system knows it has more properties */\r\n    settings: Signal<FieldSettings>,\r\n    /** The field properties an updated on every formula cycle */\r\n    public props: Signal<FieldProps>,\r\n    /** Delayed get pickers data */\r\n    private pickersGet: () => Record<string, PickerData>,\r\n  ) {\r\n    this.settings = settings as Signal<FieldSettings & FieldSettingsSharedSeparator & CustomJsonEditor & FieldSettingsNumber & FieldSettingsPicker & FieldSettingsOptionsWip>;\r\n  }\r\n\r\n  /** The settings cast in a way that it should have all relevant properties */\r\n  settings: Signal<FieldSettings & FieldSettingsSharedSeparator & CustomJsonEditor & FieldSettingsNumber & FieldSettingsPicker & FieldSettingsOptionsWip>;\r\n\r\n  /** Get the pickers for this field */\r\n  get pickerData(): PickerData {\r\n    return this.pickersGet()?.[this.fieldName] ?? null;\r\n  }\r\n}","export const MetadataDecorators = {\r\n  LanguagesDecorator: 'LanguagesDecorator',\r\n  SaveEmptyDecorator: 'SaveEmptyDecorator',\r\n} as const;\r\n","import { Signal } from '@angular/core';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../edit-types/src/FieldValue';\r\nimport { classLog } from '../../shared/logging';\r\nimport { DebugFields } from '../edit-debug';\r\nimport { FieldLogicTools } from '../fields/logic/field-logic-tools';\r\nimport { FormLanguage } from '../form/form-languages.model';\r\nimport { FieldReader } from '../localization/field-reader';\r\nimport { EavContentTypeAttribute, EavEntity, EavField } from '../shared/models/eav';\r\nimport { ValidationHelpers } from '../shared/validation/validation.helpers';\r\nimport { FieldConstantsOfLanguage } from './fields-configs.model';\r\nimport { MetadataDecorators } from './metadata-decorators.constants';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  correctSettingsAfterChanges: true,\r\n  schemaDisablesTranslation: false,\r\n  getDisabledBecauseTranslations: false,\r\n  fields: [...DebugFields], // or '*' for all\r\n};\r\n\r\nexport class FieldSettingsUpdateHelperFactory {\r\n  log = classLog({FieldSettingsUpdateHelperFactory});\r\n  constructor(\r\n    // General & Content Type Info\r\n    private contentTypeMetadata: EavEntity[],\r\n    private language: FormLanguage,\r\n    /** set of configuration for running field logic - shared */\r\n    private fieldLogicTools: FieldLogicTools,\r\n    /** Info that the form is read-only */\r\n    private formReadOnly: boolean,\r\n    private slotIsEmpty: Signal<boolean>,\r\n  ) { }\r\n\r\n  create(\r\n    fieldName: string,\r\n    attribute: EavContentTypeAttribute,\r\n    constantFieldPart: FieldConstantsOfLanguage,\r\n    attributeValues: EavField<any>,\r\n  ): FieldSettingsUpdateHelper {\r\n    return new FieldSettingsUpdateHelper(\r\n      fieldName,\r\n      this.contentTypeMetadata,\r\n      this.language,\r\n      this.fieldLogicTools,\r\n      this.formReadOnly,\r\n      this.slotIsEmpty,\r\n      attribute,\r\n      constantFieldPart,\r\n      attributeValues,\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Special helper to check if a field should remain disabled because of various language settings.\r\n * \r\n * Only used in formulas, after running formulas which modify settings.\r\n * \r\n * Each one is specific to a certain field, so you must create another object for every field you check.\r\n */\r\nexport class FieldSettingsUpdateHelper {\r\n\r\n  log = classLog({FieldSettingsUpdateHelper}, logSpecs);\r\n\r\n  constructor(\r\n    private fieldName: string,\r\n    // General & Content Type Info\r\n    private contentTypeMetadata: EavEntity[],\r\n    private language: FormLanguage,\r\n    /** set of configuration for running field logic - shared */\r\n    private fieldLogicTools: FieldLogicTools,\r\n    /** Info that the form is read-only */\r\n    private formReadOnly: boolean,\r\n    private formSlotIsEmpty: Signal<boolean>,\r\n\r\n    // Field specific info\r\n    private attribute: EavContentTypeAttribute,\r\n    private constantFieldPart: FieldConstantsOfLanguage,\r\n    private attributeValues: EavField<any>,\r\n  ) { }\r\n\r\n  /**\r\n   * Used for verifying and updating new settings.\r\n   * @param settings Latest/newest settings\r\n   * @param fieldValue\r\n   * @returns Corrected settings\r\n   */\r\n  correctSettingsAfterChanges(settings: FieldSettings, fieldValue: FieldValue): FieldSettings {\r\n    const l = this.log.fnIfInList('correctSettingsAfterChanges', 'fields', this.fieldName, () => ({ settings, fieldValue }));\r\n\r\n    const constantFieldPart = this.constantFieldPart;\r\n    const slotIsEmpty = this.formSlotIsEmpty();\r\n\r\n    // Why are we doing this?\r\n    settings.Name = settings.Name || this.attribute.Name;\r\n\r\n    settings.valueRequired = ValidationHelpers.isRequired(settings);\r\n    const disableTranslation = this.#schemaDisablesTranslation();\r\n\r\n    settings.DisableTranslation = slotIsEmpty || disableTranslation;\r\n    settings.uiDisabledInThisLanguage = this.#getDisabledBecauseTranslations(settings.DisableTranslation);\r\n\r\n    settings.uiDisabledForced = slotIsEmpty || settings.uiDisabledInThisLanguage || this.formReadOnly;\r\n\r\n    settings.uiDisabled = settings.uiDisabledForced || settings.Disabled;\r\n\r\n    settings.DisableAutoTranslation = constantFieldPart.settingsInitial.DisableAutoTranslation\r\n      || settings.DisableTranslation;\r\n\r\n    // Correct these fresh settings with FieldLogics of this field\r\n    const fixed = constantFieldPart.logic?.update({ fieldName: this.fieldName, settings: settings, value: fieldValue, tools: this.fieldLogicTools }) ?? settings;\r\n\r\n    return l.r(fixed);\r\n  }\r\n\r\n\r\n  /** Find if DisableTranslation is true in any setting and in any language */\r\n  #schemaDisablesTranslation(): boolean {\r\n    const l = this.log.fnIfInList('schemaDisablesTranslation', 'fields', this.fieldName);\r\n    const contentTypeMetadata = this.contentTypeMetadata;\r\n    const inputType = this.constantFieldPart.inputTypeConfiguration;\r\n    const attributeValues = this.attributeValues;\r\n    const attributeMetadata = this.attribute.Metadata;\r\n\r\n    // Disable translation if not allowed by the ContentType.\r\n    // This is configured using a LanguagesDecorator in ContentType.\r\n    const languagesDecorator = contentTypeMetadata.find(m => m.Type.Name === MetadataDecorators.LanguagesDecorator);\r\n    if (languagesDecorator?.Attributes.Enabled?.Values.some(v => v.value === false))\r\n      return true;\r\n\r\n    // Disable translation if the input type says it can't be translated (e.g. Entity).\r\n    if (inputType?.DisableI18n)\r\n      return true;\r\n\r\n    // TODO: CHECK if this should be here - it's repeated below\r\n    if (!new FieldReader(attributeValues, this.language).hasPrimary)\r\n      return true;\r\n\r\n    // Disable translation if the Attribute Configuration says so.\r\n    // DisableTranslation is true in any language in @All, @String, @string-default, etc...\r\n    for (const attrMd of attributeMetadata ?? [])\r\n      if (attrMd.Attributes.DisableTranslation?.Values.some(v => v.value === true))\r\n        return true;\r\n\r\n    return false;\r\n  }\r\n\r\n  #getDisabledBecauseTranslations(disableTranslation: boolean): boolean {\r\n    const l = this.log.fnIfInList('getDisabledBecauseTranslations', 'fields', this.fieldName);\r\n    const attributeValues = this.attributeValues;\r\n    const language = this.language;\r\n    // On primary edit is never disabled by translations\r\n    // This is the only one we check \r\n    if (language.current === language.primary)\r\n      return l.r(false, 'enabled, primary language');\r\n\r\n    const fieldReader = new FieldReader(attributeValues, language);\r\n    // If translations are disabled, then it's disabled\r\n    // Only check this _after_ checking if we're in the primary language\r\n    if (disableTranslation)\r\n      return l.r(true, 'disabled, disableTranslation');\r\n    // If no value on primary, then it's disabled\r\n    if (!fieldReader.hasPrimary)\r\n      return l.r(true, 'disabled, no value on primary');\r\n    if (fieldReader.hasEditableValues)\r\n      return l.r(false, 'disabled, has editable value');\r\n    if (fieldReader.hasCurrentReadonly)\r\n      return l.r(true, 'enabled, has readonly value');\r\n    return l.r(true, 'enabled, no rule applies');\r\n  }\r\n}\r\n","import { FieldValue } from '../../../../../edit-types/src/FieldValue';\r\nimport { NameValuePair } from '../formulas/results/formula-results.models';\r\nimport { ItemValuesOfLanguage } from './item-values-of-language.model';\r\nimport { Signal } from '@angular/core';\r\nimport { EavContentType } from '../shared/models/eav/eav-content-type';\r\nimport { FieldValueHelpers } from '../shared/helpers/field-value.helpers';\r\nimport { FieldsPropsEngineCycle } from './fields-properties-engine-cycle';\r\nimport { classLog } from '../../shared/logging';\r\n\r\nexport class FieldsValuesModifiedHelper {\r\n  private log = classLog({FieldsValuesModifiedHelper});\r\n\r\n  constructor(\r\n    private contentType: Signal<EavContentType>,\r\n    private slotIsEmpty: Signal<boolean>,\r\n  ) { }\r\n\r\n\r\n  // NEW WIP\r\n  getValueUpdates(\r\n    cycle: FieldsPropsEngineCycle,\r\n    valueUpdatesFromSideEffects: NameValuePair[],\r\n    valueUpdates: ItemValuesOfLanguage,\r\n    originalValues?: ItemValuesOfLanguage\r\n  ): ItemValuesOfLanguage {\r\n    const contentType = this.contentType();\r\n    const slotIsEmpty = this.slotIsEmpty();\r\n\r\n    originalValues ??= cycle.values;\r\n    const fieldsProps = cycle.fieldProps;\r\n    const l = this.log.fn('getValueUpdates', { contentType, originalValues, fieldsProps, valueUpdates, valueUpdatesFromSideEffects, slotIsEmpty });\r\n\r\n    if (slotIsEmpty)\r\n      return l.r({}, 'Slot is empty, exit early');\r\n\r\n    const prep = contentType.Attributes\r\n      .map(attr => ({\r\n        name: attr.Name,\r\n        original: originalValues[attr.Name],\r\n      }))\r\n      // Only skip force disabled, not all disabled. If it's only disabled because the user shouldn't interact with it, we still want to update it.\r\n      .filter(p => p.original !== undefined && !fieldsProps[p.name]?.settings.uiDisabledForced)\r\n      .map(p => ({\r\n        ...p,\r\n        value: this.#findBestValue(p.name, valueUpdatesFromSideEffects, valueUpdates)\r\n      }))\r\n      .filter(p => p.value !== undefined && !FieldValueHelpers.fieldValuesAreEqual(p.original, p.value))\r\n\r\n\r\n    // Convert to object\r\n    const changes = prep.reduce((acc, p) => { acc[p.name] = p.value; return acc; }, {} as ItemValuesOfLanguage);\r\n    return l.rSilent(changes);\r\n  }\r\n\r\n  #findBestValue(fieldName: string, fieldsUpdates: NameValuePair[], valueUpdates: ItemValuesOfLanguage): FieldValue {\r\n    // First check if a formula had given a value as a side-effect of it's own calculation\r\n    // This is prioritized in case we have both,\r\n    // because it's very rare and it's usually something which resets another field\r\n    // In case we get many, we'll just keep the last one.\r\n    const sideEffects = fieldsUpdates.filter(f => f.name === fieldName);\r\n    const valSideEffect = sideEffects[sideEffects.length - 1]?.value; // findLast\r\n    if (valSideEffect != null)\r\n      return valSideEffect;\r\n\r\n    // If no value from formula, check if the field has a new value from a formula\r\n    return valueUpdates[fieldName];\r\n  }\r\n\r\n}","import { inject, Injectable, Signal } from '@angular/core';\r\nimport { transient } from '../../../../../core/transient';\r\nimport { classLog } from '../../shared/logging';\r\nimport { GlobalConfigService } from '../../shared/services/global-config.service';\r\nimport { computedObj } from '../../shared/signals/signal.utilities';\r\nimport { FieldLogicTools } from '../fields/logic/field-logic-tools';\r\nimport { PickerData } from '../fields/picker/picker-data';\r\nimport { PickerDataFactory } from '../fields/picker/picker-data.factory';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { FormLanguage } from '../form/form-languages.model';\r\nimport { FormsStateService } from '../form/forms-state.service';\r\nimport { FormulaEngine } from '../formulas/formula-engine';\r\nimport { FormulaPromiseHandler } from '../formulas/promise/formula-promise-handler';\r\nimport { ContentTypeItemService } from '../shared/content-types/content-type-item.service';\r\nimport { EntityReader } from '../shared/helpers';\r\nimport { EavContentType, EavEntityAttributes, EavItem } from '../shared/models/eav';\r\nimport { FieldConstantsOfLanguage, FieldProps } from './fields-configs.model';\r\nimport { FieldsPropsEngineCycle } from './fields-properties-engine-cycle';\r\nimport { FieldsSettingsConstantsService } from './fields-settings-constants.service';\r\nimport { FieldSettingsUpdateHelperFactory } from './fields-settings-update.helpers';\r\nimport { FieldsSettingsService } from './fields-settings.service';\r\nimport { FieldsSignalsHelper } from './fields-signals.helper';\r\nimport { FieldsValuesModifiedHelper } from './fields-values-modified.helper';\r\nimport { ItemValuesOfLanguage } from './item-values-of-language.model';\r\nimport { ItemService } from './item.service';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  init: true,\r\n  getPickers: true,\r\n}\r\n/**\r\n * Assistant helper to process / recalculate the value of fields and their settings.\r\n * \r\n */\r\n@Injectable()\r\nexport class FieldsPropsEngine {\r\n  private log = classLog({FieldsPropsEngine}, logSpecs);\r\n\r\n  // Shared / inherited services\r\n  #formConfig = inject(FormConfigService);\r\n  #globalConfigService = inject(GlobalConfigService);\r\n  #formsStateService = inject(FormsStateService);\r\n  #contentTypeItemService = inject(ContentTypeItemService);\r\n  #itemService = inject(ItemService);\r\n\r\n  // Transient services for this instance only\r\n  #constantsService = transient(FieldsSettingsConstantsService);\r\n  #pickerFac = transient(PickerDataFactory);\r\n  public formulaEngine = transient(FormulaEngine);\r\n  public formulaPromises = transient(FormulaPromiseHandler);\r\n  \r\n  /** The item we're working on - needed by the formula engine */\r\n  public item: EavItem;\r\n\r\n  public modifiedChecker: FieldsValuesModifiedHelper;\r\n  #fieldsValues: FieldsSignalsHelper;\r\n\r\n  constructor() { }\r\n\r\n  /** Setup everything which won't change throughout cycles */\r\n  init(\r\n    fss: FieldsSettingsService,\r\n    entityGuid: string,\r\n    item: EavItem,\r\n    contentType: Signal<EavContentType>,\r\n    reader: Signal<EntityReader>,\r\n    labelReader: Signal<EntityReader>,\r\n    fieldsValues: FieldsSignalsHelper,\r\n    forceDebug: boolean | null = null\r\n  ): this {\r\n    this.log.extendName(`[${entityGuid.substring(0, 8)}]`);\r\n    const l = this.log.fnIf('init', { entityGuid, item, contentType, reader, forceDebug });\r\n    if (forceDebug != null) this.log.forceEnable(forceDebug);\r\n\r\n    this.item = item;\r\n    this.languages = reader();\r\n    this.#fieldsValues = fieldsValues;\r\n\r\n    const slotIsEmpty = this.#itemService.slotIsEmpty(entityGuid);\r\n    const ct = contentType();\r\n\r\n    this.pickerData = this.#pickerFac.createPickersForAttributes(ct.Attributes);\r\n    l.a('Pickers created', this.pickerData);\r\n\r\n    // Constant field parts which don't ever change.\r\n    // They can only be created once the inputTypes and contentTypes are available\r\n    this.#fieldLangConstants = this.#constantsService\r\n      .init(item, ct, reader, labelReader, fss)\r\n      .stableDataOfLanguage();\r\n\r\n    this.#updateHelper = this.#getPreparedParts(reader, ct, slotIsEmpty);\r\n\r\n    this.modifiedChecker = new FieldsValuesModifiedHelper(contentType, slotIsEmpty);\r\n    this.formulaPromises.init(entityGuid, contentType, fss, this.modifiedChecker);\r\n    this.formulaEngine.init(entityGuid, item.Header, fss, this.formulaPromises, ct, fss.contentTypeSettings()._itemTitle);\r\n\r\n    this.#itemAttributes = this.#itemService.itemAttributesSignal(entityGuid);\r\n    return this;\r\n  }\r\n\r\n  #updateHelper: Signal<FieldSettingsUpdateHelperFactory>;\r\n\r\n  /**\r\n   * Constant field parts which don't ever change.\r\n   * They can only be created once the inputTypes and contentTypes are available\r\n   */\r\n  #fieldLangConstants: Signal<FieldConstantsOfLanguage[]>;\r\n\r\n  #itemAttributes: Signal<EavEntityAttributes>;\r\n\r\n  pickerData: Record<string, PickerData>;\r\n\r\n  /**\r\n   * The languages used in the form, for retrieving various things during the calculation.\r\n   */\r\n  languages: FormLanguage;\r\n\r\n  /**\r\n   * The current cycle of updating the properties.\r\n   * Will be reset every time a new round starts.\r\n   */\r\n  cycle: FieldsPropsEngineCycle;\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {ItemValuesOfLanguage} initialValues The values of the form - initialized here and to be updated until complete\r\n   * @param {Record<string, FieldProps>} fieldProps The field props at start and during the calculation cycles (may be updated until complete)\r\n   * @return {*}  {PropsUpdate}\r\n   * @memberof FieldsPropsEngine\r\n   */\r\n  public getLatestSettingsAndValues(fieldProps: Record<string, FieldProps>): Record<string, FieldProps> {  \r\n    const l = this.log.fn('getLatestSettingsAndValues');\r\n\r\n    const initialValues = this.#fieldsValues.values();\r\n\r\n    this.languages = this.#formConfig.language();\r\n\r\n    // These should only be accessed here, so the signal is only depended on once!\r\n    // All this should never change during the cycle\r\n    const attributes = this.#itemAttributes();\r\n    const updateHelper = this.#updateHelper();\r\n    const fieldLangConstants = this.#fieldLangConstants();\r\n\r\n    this.cycle = new FieldsPropsEngineCycle(this, initialValues, fieldProps, attributes, updateHelper, fieldLangConstants);\r\n    const cycleResult = this.cycle.getCycleSettingsAndValues();\r\n\r\n    // figure out the final changes to propagate\r\n    // const finalChanges = this.modifiedChecker.getValueUpdates(this.cycle, [], cycleResult.valueChanges, initialValues);\r\n\r\n    return cycleResult.props;\r\n  }\r\n\r\n  /**\r\n   * Prepare / build FieldLogicTools for use in all the formulas / field settings updates\r\n   */\r\n  #getPreparedParts(readerSig: Signal<EntityReader>, contentType: EavContentType, slotIsEmpty: Signal<boolean>): Signal<FieldSettingsUpdateHelperFactory> {\r\n    // Prepare / build FieldLogicTools for use in all the formulas / field settings updates\r\n    const prepared = computedObj('prepared-parts', () => {\r\n      const reader = readerSig(); // must be as a signal, so a language change triggers an update\r\n      const languages = reader;\r\n      const isDebug = this.#globalConfigService.isDebug();\r\n      const isReadOnly = this.#formsStateService.readOnly();\r\n\r\n        // Logic Tools are needed when checking for settings defaults etc.\r\n        const logicTools: FieldLogicTools = {\r\n          eavConfig: this.#formConfig.config,\r\n          reader: reader,\r\n          debug: isDebug,\r\n          contentTypeItemSvc: this.#contentTypeItemService,\r\n        };\r\n        // This factory will generate helpers to validate settings updates\r\n        const updHelperFactory = new FieldSettingsUpdateHelperFactory(\r\n          contentType.Metadata,\r\n          languages, // for languages current, default, initial\r\n          logicTools,\r\n          isReadOnly.isReadOnly,\r\n          slotIsEmpty,\r\n        );\r\n        return updHelperFactory;\r\n    });\r\n    return prepared;\r\n  }\r\n\r\n}\r\n","import { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport isEqual from 'lodash-es/isEqual';\r\nimport { Signal } from '@angular/core';\r\nimport { FieldProps } from './fields-configs.model';\r\nimport { classLog } from '../../shared/logging';\r\n\r\n/**\r\n * Manage \"manual\" / forced updates of fields properties\r\n */\r\nexport class FieldsPropertiesUpdates {\r\n  \r\n  log = classLog({FieldsPropertiesUpdates});\r\n\r\n  constructor(private entityGuid: string) {\r\n    this.log.extendName(`[${entityGuid.substring(0, 8)}]`);\r\n  }\r\n\r\n  fieldPropsMixins: Record<string, Partial<FieldSettings>> = {};\r\n\r\n  hasChanges(): boolean {\r\n    return Object.keys(this.fieldPropsMixins).length > 0;\r\n  }\r\n\r\n  /**\r\n   * Modify a setting, ATM just to set collapsed / dialog-open states.\r\n   * Note that this change won't fire the formulas - which may not be correct.\r\n   */\r\n  updateSetting(fieldName: string, update: Partial<FieldSettings>, source: string, fieldsProps: Signal<Record<string, FieldProps>>): void {\r\n    const queueWasEmpty = Object.keys(this.fieldPropsMixins).length === 0;\r\n    const l = this.log.fn('updateSetting', { source, fieldName, update, queueWasEmpty });\r\n    // Test if the update is a change, or if it's the same as the current value\r\n    const before = fieldsProps()[fieldName].settings;\r\n    const after = { ...before, ...update };\r\n    if (isEqual(before, after))\r\n      return l.end(`no change; entityGuid: ${this.entityGuid}; fieldName: ${fieldName}`);\r\n    // Add change to queue, but mix with previous changes in queue.\r\n    const prev = this.fieldPropsMixins[fieldName] ?? {};\r\n    this.fieldPropsMixins[fieldName] = { ...prev, ...update };\r\n    \r\n    l.end('added to queue', { before, after, update });\r\n  }\r\n\r\n  mergeMixins(before: Record<string, FieldProps>): Record<string, FieldProps> {\r\n    const l = this.log.fn('mergeMixins', { before, mixins: this.fieldPropsMixins });\r\n    const mixins = this.fieldPropsMixins;\r\n    if (Object.keys(mixins).length === 0)\r\n      return before;\r\n\r\n    const final = Object.keys(mixins).reduce((acc, key) => {\r\n      const ofField = acc[key];\r\n      const update = mixins[key];\r\n      return {\r\n        ...acc,\r\n        [key]: {\r\n          ...ofField,\r\n          settings: { ...ofField.settings, ...update }\r\n        }\r\n      };\r\n    }, before);\r\n\r\n    this.fieldPropsMixins = {};\r\n    return l.r(final, `merged`);\r\n  }\r\n}","import { effect, Signal } from '@angular/core';\r\nimport { classLog } from '../../shared/logging';\r\nimport { computedObj } from '../../shared/signals/signal.utilities';\r\nimport { PickerItem } from '../fields/picker/models/picker-item.model';\r\nimport { PickerData } from '../fields/picker/picker-data';\r\nimport { FieldProps } from './fields-configs.model';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  startSync: true,\r\n  filterRelevant: true,\r\n  transferPickerData: true,\r\n};\r\n\r\n/**\r\n * Simple helper in charge of updating the picker data in the updated/calculated field settings.\r\n */\r\nexport class FieldSettingsPickerUpdater {\r\n\r\n  log = classLog({FieldSettingsPickerUpdater}, logSpecs);\r\n\r\n  constructor() {} \r\n  \r\n  startSync(source: Signal<Record<string, FieldProps> | null>) {\r\n    const l = this.log.fnIf('startSync', { source });\r\n\r\n    // Only Options to transfer, with change detection on the signal to not fire the effect unnecessarily\r\n    const optsOnly = computedObj('optsOnly', () =>  this.#filterRelevant(source(), 'opts'));\r\n\r\n    // Only Selected to transfer, with change detection on the signal to not fire the effect unnecessarily\r\n    const selOnly = computedObj('selOnly', () => this.#filterRelevant(source(), 'sel'));\r\n\r\n    // Options-Transfer\r\n    effect(() => this.#transferPickerData(optsOnly(), 'opts'));\r\n\r\n    // Selected-Transfer\r\n    effect(() => this.#transferPickerData(selOnly(), 'sel'));\r\n\r\n    l.end();\r\n  }\r\n\r\n  #filterRelevant(update: Record<string, FieldProps>, part: 'opts' | 'sel'): DataToTransfer[] {\r\n    // Make sure we already have data.\r\n    if (!update) return [];\r\n\r\n    // Transfer picker data\r\n    // 1. find all fieldProps with picker data and transfer to pickerData\r\n    const toTransfer = Object.entries(update)\r\n      .filter(([_, v]) => v[part]?.list)\r\n      .map(([field, v]) => ({\r\n        field,\r\n        list: v[part].list,\r\n        pickerData: v.constants.pickerData\r\n      } as const));\r\n\r\n    const l = this.log.fnIf('filterRelevant', { count: toTransfer.length, toTransfer }, part);\r\n    return l.rSilent(toTransfer);\r\n  }\r\n\r\n  /** Transfer picker data */\r\n  #transferPickerData(update: DataToTransfer[], part: 'opts' | 'sel'): void {\r\n    if (!update.length) return;\r\n    const l = this.log.fnIf('transferPickerData', { count: update.length, toTransfer: update }, `${part}`);\r\n\r\n    for (const { field, list, pickerData } of update) {\r\n      l.a('Transfer', { field, list });\r\n      const pd = pickerData();\r\n      const target = part == 'opts' ? pd.optionsOverride : pd.selectedOverride;\r\n      target.set(list);\r\n    }\r\n  }\r\n\r\n}\r\n\r\ninterface DataToTransfer {\r\n  field: string,\r\n  list: PickerItem[],\r\n  pickerData: () => PickerData | null\r\n}","import arrayEach from './_arrayEach.js';\nimport baseCreate from './_baseCreate.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\nimport getPrototype from './_getPrototype.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isTypedArray from './isTypedArray.js';\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n    isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor() : [];\n    } else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    } else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function (value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\nexport default transform;","import isEqual from 'lodash-es/isEqual';\r\nimport isObject from 'lodash-es/isObject';\r\nimport transform from 'lodash-es/transform';\r\n// https://gist.github.com/Yimiprod/7ee176597fef230d1451?permalink_comment_id=2569085\r\n\r\n/**\r\n * This code is licensed under the terms of the MIT license\r\n *\r\n * Deep diff between two object, using lodash\r\n * @param  {Object} object Object compared\r\n * @param  {Object} base   Object to compare with\r\n * @return {Object}        Return a new object who represent the diff\r\n */\r\nexport function difference(object: any, base: any) {\r\n  function changes(object: any, base: any) {\r\n    return transform(object, function (result: Record<string, any>, value, key: string) {\r\n      if (!isEqual(value, base[key])) {\r\n        result[key] = (isObject(value) && isObject(base[key])) ? changes(value, base[key]) : value;\r\n      }\r\n    });\r\n  }\r\n  return changes(object, base);\r\n}\r\n","import { effect, Injectable, Signal } from '@angular/core';\r\nimport { FieldValue } from '../../../../../edit-types/src/FieldValue';\r\nimport { difference } from '../../shared/helpers/difference';\r\nimport { classLog } from '../../shared/logging';\r\nimport { ComputedCacheHelper } from '../../shared/signals/computed-cache';\r\nimport { computedObj, signalObj } from '../../shared/signals/signal.utilities';\r\nimport { EntityReader } from '../shared/helpers';\r\nimport { EavEntityAttributes } from '../shared/models/eav';\r\nimport { ItemService } from './item.service';\r\n\r\nconst logSpecs = {\r\n  logChanges: false,\r\n};\r\n\r\n@Injectable()\r\nexport class FieldsSignalsHelper {\r\n\r\n  log = classLog({FieldsSignalsHelper}, logSpecs);\r\n\r\n  constructor(private itemSvc: ItemService) {\r\n    if (this.log.specs.logChanges) {\r\n      const lChange = classLog('FieldValues');\r\n      lChange.a('will log value changes');\r\n      let before: Record<string, FieldValue> = {};\r\n      effect(() => {\r\n        const guid = this.#itemGuid();\r\n        if (!guid) return lChange.a('no guid');\r\n        const all = this.values();\r\n        const changes = difference(all, before);\r\n        before = all;\r\n        lChange.a(`changed on guid: ${guid}`, changes);\r\n      });\r\n    }\r\n  }\r\n\r\n  #reader: Signal<EntityReader>;\r\n  #itemGuid = signalObj<string>('itemGuid', null);\r\n\r\n  init(itemGuid: string, reader: Signal<EntityReader>): this {\r\n    this.#itemGuid.set(itemGuid);\r\n    this.#fieldValueSigCache = new ComputedCacheHelper(itemGuid);\r\n    this.#reader = reader;\r\n    const attributes = this.itemSvc.itemAttributesSignal(itemGuid);\r\n    if (attributes == null)\r\n      console.error('item-entity-attributes is null');\r\n\r\n    this.#attributesLazy.set(attributes);\r\n    return this;\r\n  }\r\n\r\n  #attributesLazy = signalObj<Signal<EavEntityAttributes>>('attributesLazy', null);\r\n\r\n  get values(): Signal<Record<string, FieldValue>> {\r\n    const lGet = this.log.fn('get-values', { itemGuid: this.#itemGuid });\r\n    if (this.#values != null)\r\n      return lGet.rSilent(this.#values, 'cached');\r\n\r\n    const sig = this.#createValuesSignal();\r\n    this.#values = sig;\r\n    return lGet.rSilent(this.#values, 'generated');\r\n  }\r\n  #values: Signal<Record<string, FieldValue>>;\r\n\r\n  #createValuesSignal() {\r\n    const sig = computedObj(`${this.#itemGuid().substring(0, 8)}-ALL`, () => {\r\n      const l = this.log.fn('values');\r\n\r\n      // Track dependencies early\r\n      const reader = this.#reader();\r\n      const attrSig = this.#attributesLazy();\r\n\r\n      if (attrSig == null)\r\n        return l.r({}, 'attributes is null');\r\n\r\n      const attributes = attrSig();\r\n      if (!attributes || Object.keys(attributes).length == 0)\r\n        return l.r({}, 'attributes is empty');\r\n\r\n      const values = reader.currentValues(attributes);\r\n      return values\r\n    });\r\n    return sig;\r\n  }\r\n\r\n\r\n  get(field: string): Signal<FieldValue> {\r\n    const l = this.log.fn('get', { field });\r\n    const sig = this.#fieldValueOrNullSignal(field);\r\n    return l.rSilent(sig);\r\n  }\r\n\r\n  #fieldValueSigCache: ComputedCacheHelper<string, FieldValue>;\r\n\r\n  #fieldValueOrNullSignal(fieldName: string): Signal<FieldValue> {\r\n    // TODO: REFACTOR - TO USE THE new value signal\r\n\r\n    const l = this.log.fn('#fieldValueOrNullSignal', { fieldName });\r\n    const sig = this.#fieldValueSigCache.getOrCreateWithInfo(fieldName, () => {\r\n      // Do we already have attributes?\r\n      const attrSig = this.#attributesLazy();\r\n      if (attrSig == null)\r\n        return null;\r\n\r\n      const attributes = attrSig();\r\n      if (!attributes || Object.keys(attributes).length == 0)\r\n        return null;\r\n\r\n      const attribute = attributes[fieldName];\r\n      const values = attribute?.Values;\r\n      if (values == null || values.length == 0)\r\n        return null;\r\n\r\n      const value = this.#reader().getBestValue(attribute);\r\n      return value as FieldValue;\r\n    });\r\n    return l.rSilent(sig.signal, `isNew: ${sig.isNew}`);\r\n  }\r\n\r\n}","import { computed, effect, inject, Injectable, signal, Signal, WritableSignal } from '@angular/core';\r\nimport { transient } from '../../../../../core';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { classLog } from '../../shared/logging';\r\nimport { UserLanguageService } from '../../shared/services/user-language.service';\r\nimport { ComputedCacheHelper } from '../../shared/signals/computed-cache';\r\nimport { computedObj, signalObj } from '../../shared/signals/signal.utilities';\r\nimport { LanguagePart } from '../dialog/header/language-settings-dialog/LanguageDropdown/language-part.enum';\r\nimport { PickerData } from '../fields/picker/picker-data';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { FormLanguageService } from '../form/form-language.service';\r\nimport { TranslationState } from '../localization/translate-state.model';\r\nimport { ContentTypeService } from '../shared/content-types/content-type.service';\r\nimport { ContentTypeSettingsHelpers, EntityReader } from '../shared/helpers';\r\nimport { EavItem } from '../shared/models/eav';\r\nimport { FieldProps } from './fields-configs.model';\r\nimport { FieldsPropsEngine } from './fields-properties-engine';\r\nimport { FieldsPropertiesUpdates } from './fields-properties-updates';\r\nimport { FieldSettingsPickerUpdater } from './fields-settings-picker-updater';\r\nimport { FieldsSignalsHelper } from './fields-signals.helper';\r\nimport { ItemService } from './item.service';\r\n\r\nconst logSpecs = {\r\n  effectTransferPickerData: true,\r\n  regenerateProps: true,\r\n  // Debug only on the following content type\r\n  type: '', //'@String';\r\n  activateAnalyzer: false,\r\n}\r\n\r\nconst maxCyclesMs = 250;\r\nconst maxCycleRestartDelay = 500;\r\nconst maxCyclesPerTime = 10;\r\nconst maxCyclesWarning = \"Max cycles reached, stopping for this second\";\r\n\r\n/**\r\n * FieldsSettingsService is responsible for handling the settings, values and validations of fields.\r\n * Each instance is responsible for a single entity.\r\n */\r\n@Injectable()\r\nexport class FieldsSettingsService {\r\n\r\n  log = classLog({FieldsSettingsService}, logSpecs);\r\n\r\n  // Shared / inherited services\r\n  #languageSvc = inject(FormLanguageService);\r\n  #formConfig = inject(FormConfigService);\r\n  #contentTypeSvc = inject(ContentTypeService);\r\n  #itemSvc = inject(ItemService);\r\n  #usrLangSvc = transient(UserLanguageService);\r\n\r\n  // Transient services for this instance only\r\n  #propsEngine = transient(FieldsPropsEngine);\r\n\r\n  #pickerSync = new FieldSettingsPickerUpdater();\r\n\r\n  constructor() {\r\n\r\n    // Signal to combine startSync and computed allProps\r\n    const allPropsOrNull = computedObj<Record<string, FieldProps> | null>('allPropsOrNull', () => this.#startSync() && this.#allProps());\r\n\r\n    // Transfer changes to the props state to the public property\r\n    effect(() => {\r\n      const update = allPropsOrNull();\r\n      if (!update) return;\r\n      this.allProps.set(update);\r\n    });\r\n\r\n    // Start the picker sync\r\n    this.#pickerSync.startSync(allPropsOrNull);\r\n  }\r\n\r\n  //#region injected services, constructor, clean-up\r\n\r\n  disableForCleanUp(): void {\r\n    this.log.fn('cleanUp');\r\n    this.#disabled.set(true);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  /**\r\n   * Field properties of all fields.\r\n   * It is updated when every round of change-cycles are complete and stable.\r\n   */\r\n  public allProps = signalObj<Record<string, FieldProps>>('allProps', {});\r\n  #startSync = signal(false);\r\n  #allProps: Signal<Record<string, FieldProps>>;\r\n\r\n  /** Signal to force a refresh. */\r\n  #forceRefresh = signalObj('forceRefresh', 0);\r\n\r\n  /** Signal to disable everything. Mainly on clean-up, as the computed will still run when data is removed from cache */\r\n  #disabled = signalObj('disabled', false);\r\n\r\n  #fieldsPropsUpdate: FieldsPropertiesUpdates;\r\n\r\n  #reader = this.#languageSvc.getEntityReader(this.#formConfig.config.formId);\r\n  #labelReader = computedObj('labelReader', () => {\r\n    // Watch the reader, so it will update when the reader changes\r\n    const reader = this.#reader();\r\n\r\n    // Now first check if the user has a language set, and if so, use that.\r\n    const lblLang = this.#usrLangSvc.value(LanguagePart.Form);\r\n    if (!lblLang)\r\n      return reader;\r\n    \r\n    const customLng = { current: lblLang, primary: reader.primary };\r\n    const userReader = new EntityReader(customLng);\r\n    return userReader;\r\n  });\r\n\r\n  //#region Item and content-type\r\n\r\n  /** The item - set on init, used for many other computations */\r\n  #item = signal<EavItem>(null);\r\n\r\n  #contentType = computed(() => (!this.#item()) ? null : this.#contentTypeSvc.getContentTypeOfItem(this.#item()));\r\n\r\n  /** The settings of the content-type of this item */\r\n  public contentTypeSettings = computed(() => !this.#item()\r\n    ? null\r\n    : ContentTypeSettingsHelpers.getDefaultSettings(this.#labelReader(), this.#contentType(), this.#item().Header)\r\n  );\r\n\r\n  //#endregion\r\n\r\n  /** Signals for each field value */\r\n  #fieldValues = transient(FieldsSignalsHelper);\r\n\r\n  /** Start the observables etc. to monitor changes */\r\n  init(entityGuid: string): void {\r\n\r\n    const item = this.#itemSvc.get(entityGuid);\r\n    this.#item.set(item);\r\n    this.#fieldsPropsUpdate = new FieldsPropertiesUpdates(entityGuid);\r\n\r\n    // Remember content-type, as it won't change and we don't need to listen to a signal\r\n    const ct = this.#contentType();\r\n    const debugOnlyCt = this.log.specs.type;\r\n    const forceDebug = debugOnlyCt === null ? null : ct.Id === debugOnlyCt;\r\n    if (forceDebug !== null) {\r\n      this.log.a(`Set debug for content type '${ct.Id}' to ${forceDebug}, only debugging ${debugOnlyCt}`);\r\n      this.log.forceEnable(forceDebug);\r\n    }\r\n\r\n    const slotIsEmpty = this.#itemSvc.slotIsEmpty(entityGuid);\r\n    this.#fieldValues.init(entityGuid, this.#reader);\r\n    this.#propsEngine.init(this, entityGuid, item, this.#contentType, this.#reader, this.#labelReader, this.#fieldValues, forceDebug);\r\n\r\n    // properties for the computation - set on an object, so we can do the call in a function\r\n    // and change what we'll do with it.\r\n    const deps: Deps = {\r\n      idMsg: `entityGuid: ${entityGuid}; contentTypeId: ${ct.Id};`,\r\n      cycle: 0,\r\n      // analyzer: null, // @2pp: 2025-12-19 - unavailable\r\n      disabled: this.#disabled,\r\n      slotIsEmpty,\r\n      slotWasEmpty: false, // must start false, so it will certainly run once.\r\n      forceRefresh: this.#forceRefresh,\r\n      watchRestart: signal(0),\r\n      prevFieldProps: {} as Record<string, FieldProps>,\r\n      hasRunOnce: false,\r\n    } satisfies Deps;\r\n    \r\n    // Protect against infinite loops\r\n    setInterval(() => {\r\n      // If we ran into a max-count, we should reset and trigger the watchRestart\r\n      if (deps.cycle > maxCyclesPerTime)\r\n        setTimeout(() => {\r\n          this.log.a(`restarting max cycles from ${deps.cycle}; ${deps.idMsg}`);\r\n          return deps.watchRestart.update(v => v + 1);\r\n        }, maxCycleRestartDelay);\r\n      // Every interval, reset the cycle count\r\n      deps.cycle = 0;\r\n    }, maxCyclesMs);\r\n\r\n    // This computed will contain all the updated field properties\r\n    this.#allProps = computedObj('allFieldProps', () => this.#regenerateProps(deps));\r\n\r\n    // Start Analyzer if necessary\r\n    // @2pp: 2025-12-19 - unavailable\r\n    // if (this.log.specs.activateAnalyzer)\r\n      // deps.analyzer = new ComputedAnalyzer(this.#allProps);\r\n\r\n    this.#startSync.set(true);\r\n  }\r\n\r\n  #regenerateProps(deps: Deps): Record<string, FieldProps> {\r\n    // @2pp: 2025-12-19 - unavailable\r\n    // if (deps.analyzer)\r\n      // console.log('analyzer', { fieldProps: this.allProps }, deps.analyzer.snapShotProducers(true));\r\n\r\n    const l = this.log.fnIf('regenerateProps', { cycle: deps.cycle, props: this.allProps }, deps.idMsg);\r\n    // If disabled for any reason, return the previous value (but do make sure there is a previous value)\r\n    // The #disabled is a safeguard as data will be missing when this is being cleaned up.\r\n    // The #slotIsEmpty means that the current entity is not being edited and will not be saved; can change from cycle to cycle.\r\n    const slotIsEmpty = deps.slotIsEmpty();\r\n    const justReuse = this.#disabled() || (slotIsEmpty && slotIsEmpty == deps.slotWasEmpty);\r\n    if (justReuse && deps.hasRunOnce)\r\n      return l.r(deps.prevFieldProps, 'disabled or slotIsEmpty');\r\n    else {\r\n      deps.hasRunOnce = true;\r\n      deps.slotWasEmpty = slotIsEmpty;\r\n    }\r\n\r\n    // Listen to ForceRefresh. This is triggered by a) promise-completed messages and b) v1 formulas\r\n    this.#forceRefresh();\r\n\r\n    // If we have reached the max cycles, we should stop\r\n    if (deps.cycle++ > maxCyclesPerTime) {\r\n      const msg = `${maxCyclesWarning}; cycle: ${deps.cycle}; ${deps.idMsg};`;\r\n      console.warn(msg);\r\n      deps.watchRestart(); // to ensure it can start again in a second, access this before we exit.\r\n      return l.r(deps.prevFieldProps, msg);\r\n    }\r\n\r\n    const latestFieldProps = this.#fieldsPropsUpdate.hasChanges()\r\n      ? this.#fieldsPropsUpdate.mergeMixins(deps.prevFieldProps)\r\n      : deps.prevFieldProps;\r\n    \r\n    // Note that this will access a lot of source signals\r\n    // whose dependencies will be incorporated into this calculation\r\n    const props = this.#propsEngine.getLatestSettingsAndValues(latestFieldProps);\r\n    deps.prevFieldProps = props;\r\n        \r\n    return l.rSilent(props, 'normal update');\r\n    // const propsDiff = difference(props, prevFieldProps);\r\n    // if (Object.keys(propsDiff).length > 0) {\r\n    //   l.a('Fields Props Diff', propsDiff);\r\n    //   return l.r(props, `props: normal update`);\r\n    // } else {\r\n    //   return l.rSilent(prevFieldProps, 'props: no changes');\r\n    // }\r\n  }\r\n\r\n\r\n  #fieldPropsCache = new ComputedCacheHelper<string, FieldProps>('field-props');\r\n  public fieldProps = this.#fieldPropsCache.buildProxy(f => () => this.allProps()[f]);\r\n  \r\n  #fieldSignalsCache = new ComputedCacheHelper<string, FieldSettings>('fields');\r\n  /**\r\n   * Used for getting field settings for a specific field.\r\n   * @param fieldName\r\n   * @returns Field settings\r\n   */\r\n  public settings = this.#fieldSignalsCache.buildProxy(f => () => this.allProps()[f].settings);\r\n\r\n  /**\r\n   * Used for translation state stream for a specific field.\r\n   * @param fieldName\r\n   * @returns Translation state signal\r\n   */\r\n  translationState = ComputedCacheHelper.proxy<string, TranslationState>('transl-state', f => () => this.allProps()[f].translationState);\r\n\r\n  /**\r\n   * Triggers a reevaluation of all formulas.\r\n   */\r\n  retriggerFormulas(source: string): void {\r\n    this.log.fn('retriggerFormulas', { source});\r\n    this.#forceRefresh.update(v => v + 1);\r\n  }\r\n\r\n  //#region Update Settings of a field\r\n\r\n  /**\r\n   * Modify a setting, ATM just to set collapsed / dialog-open states.\r\n   * Note that this change won't fire the formulas - which may not be correct.\r\n   */\r\n  updateSetting<T extends FieldSettings>(fieldName: string, update: Partial<T>, source: string): void {\r\n    this.#fieldsPropsUpdate.updateSetting(fieldName, update, source, this.allProps);\r\n    \r\n    // Retrigger formulas if the queue was empty (otherwise it was already retriggered and will run soon)\r\n    // Put a very small delay into processing the queue, since startup can send single updates for many fields one at a time.\r\n    setTimeout(() => this.retriggerFormulas('updateSetting'), 10);\r\n  }\r\n\r\n\r\n  //#endregion\r\n\r\n  /**\r\n   * WIP\r\n   * Field States for every field.\r\n   * ATM just used for formulas which have data-sources + in Validators for picker fields.\r\n   */\r\n  public get pickerData(): Record<string, PickerData> { return this.#propsEngine.pickerData; };\r\n}\r\n\r\ninterface Deps {\r\n  idMsg: string,\r\n  cycle: number,\r\n  // analyzer: any, // @2pp: 2025-12-19 - unavailable\r\n  disabled: Signal<boolean>,\r\n  slotIsEmpty: Signal<boolean>,\r\n  forceRefresh: Signal<number>,\r\n  watchRestart: WritableSignal<number>,\r\n  prevFieldProps: Record<string, FieldProps>,\r\n\r\n  /**\r\n   * Informs that on a previous run, the slot was empty.\r\n   * This is important, since we don't want to run the same cycle again if the slot is empty.\r\n   * But if it started empty, or was set back to empty, the formulas must run once\r\n   * to correct disabled state of all fields.\r\n   */\r\n  slotWasEmpty: boolean,\r\n\r\n  hasRunOnce: boolean,\r\n}","import { FieldLogicManager } from '../fields/logic/field-logic-manager';\r\nimport { FieldProps } from './fields-configs.model';\r\nimport { FieldSettings } from '../../../../../edit-types/src/FieldSettings';\r\nimport { classLog } from '../../shared/logging';\r\n\r\nexport class FieldTranslationInfo implements Pick<FieldSettings, 'DisableTranslation' | 'DisableAutoTranslation'> {\r\n\r\n  log = classLog({FieldTranslationInfo});\r\n\r\n  constructor(private getFieldsProps: () => FieldProps) { }\r\n\r\n  get #settings(): FieldSettings { return this.#_settings ??= this.getFieldsProps().settings; }\r\n  #_settings: FieldSettings;\r\n\r\n  get isAutoTranslatable(): boolean { return !this.DisableTranslation && !this.DisableAutoTranslation; }\r\n\r\n  get notForAutoTranslateBecauseOfType(): boolean { return !this.DisableTranslation && this.autoTranslateIsDisabledByTypeButNotByConfig(); }\r\n\r\n  get DisableTranslation(): boolean { return this.#settings.DisableTranslation; }\r\n\r\n  get DisableAutoTranslation(): boolean { return this.#settings.DisableAutoTranslation; }\r\n\r\n  /**\r\n   * Returns true if auto translation is enabled for the field, but was disabled by default because of the field type.\r\n   * This is meant to spot \"additional\" disabled fields which should be added to a list of fields that should not be translated.\r\n   * ...this is a bit ugly...\r\n   */\r\n  autoTranslateIsDisabledByTypeButNotByConfig() {\r\n    // first check if it's already disabled - in which case we say \"false\"\r\n    // so it's not added (again) to lists of Fields that should not be translated\r\n    if (this.DisableAutoTranslation) return false;\r\n    const logic = FieldLogicManager.singleton().get(this.getFieldsProps().constants.inputTypeSpecs.inputType);\r\n    return !logic.canAutoTranslate;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, Signal } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { EditApiKeyPaths } from '../../shared/constants/eav.constants';\r\nimport { classLog } from '../../shared/logging';\r\nimport { ApiKeySpecs } from '../../shared/models/dialog-context.models';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { FormLanguage } from '../form/form-languages.model';\r\nimport { FieldReader } from '../localization/field-reader';\r\nimport { ContentTypeService } from '../shared/content-types/content-type.service';\r\nimport { ItemHelper } from '../shared/helpers/item.helper';\r\nimport { EavEntityAttributes, EavItem } from '../shared/models/eav';\r\nimport { FieldTranslationInfo } from './field-translation-info';\r\nimport { FieldsSettingsService } from './fields-settings.service';\r\nimport { ItemService } from './item.service';\r\n\r\nconst apiKeyInDemoModeAlert = `This translation is a demo. Please provide your own Google Translate API key in the EAV configuration.`;\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  constructor: false,\r\n  init: true,\r\n  unlock: true,\r\n  lock: true,\r\n  getInfo: true,\r\n  autoTranslate: true,\r\n  findAutoTranslatableFields: true,\r\n  addItemAttributeValueHelper: true,\r\n};\r\n\r\n/**\r\n * Fields-Translation service.\r\n * TODO: should probably split into two, to move Auto-Translate SoC\r\n */\r\n@Injectable()\r\nexport class FieldsTranslateService {\r\n  log = classLog({FieldsTranslateService}, logSpecs);\r\n\r\n  #itemAttributes: Signal<EavEntityAttributes>;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private itemService: ItemService,\r\n    private formConfig: FormConfigService,\r\n    private contentTypeService: ContentTypeService,\r\n    private fieldsSettingsService: FieldsSettingsService,\r\n    private snackBar: MatSnackBar,\r\n    private translate: TranslateService,\r\n  ) {\r\n    this.log.fnIf('constructor');\r\n  }\r\n\r\n  updater = this.itemService.updater;\r\n\r\n  init(entityGuid: string): void {\r\n    const l = this.log.fnIf('init');\r\n    this.#entityGuid = entityGuid;\r\n    const item = this.itemService.get(entityGuid);\r\n    this.#contentTypeId = ItemHelper.getContentTypeNameId(item);\r\n    this.#itemAttributes = this.itemService.itemAttributesSignal(entityGuid);\r\n    l.end('', { entityGuid, contentTypeId: this.#contentTypeId });\r\n  }\r\n\r\n  #entityGuid: string;\r\n  #contentTypeId: string;\r\n\r\n\r\n  //#region Lock / Unlock\r\n\r\n  unlock(fieldName: string, isTransaction = false, transactionItem?: EavItem): EavItem {\r\n    const l = this.log.fnIf('unlock', { fieldName, isTransaction, transactionItem });\r\n    \r\n    if (this.#getInfo(fieldName).DisableTranslation)\r\n      return l.rNull('Translation is disabled for this field.');\r\n\r\n    const language = this.formConfig.language();\r\n    transactionItem = this.updater.removeItemAttributeDimension(this.#entityGuid, fieldName, language.current, isTransaction, transactionItem);\r\n\r\n    const values = this.#itemAttributes()[fieldName];\r\n    const doesFieldHaveExistingDimension = new FieldReader(values, language).currentEditable != null;\r\n    const fieldReaderPrimaryLang = new FieldReader(values, FormLanguage.bothPrimary(language));\r\n    const defaultValue = fieldReaderPrimaryLang.current;\r\n    if (!doesFieldHaveExistingDimension) \r\n      return l.r(this.#addItemAttributeValueHelper(fieldName, defaultValue.value, language.current, false));\r\n    else\r\n      return l.rNull();\r\n  }\r\n\r\n  lock(fieldName: string, isTransaction = false, transactionItem?: EavItem): EavItem {\r\n    const l = this.log.fnIf('lock', { fieldName, isTransaction, transactionItem });\r\n    if (this.#getInfo(fieldName).DisableTranslation)\r\n      return l.rNull('Translation is disabled for this field.');\r\n\r\n    const language = this.formConfig.language();\r\n    transactionItem = this.updater.removeItemAttributeDimension(this.#entityGuid, fieldName, language.current, isTransaction, transactionItem);\r\n    return transactionItem;\r\n  }\r\n\r\n  /** For all fields, to unlock or lock */\r\n  toggleUnlockOnAll(isUnlock: boolean): void {\r\n    const translatable = this.findTranslatableFields();\r\n    if (translatable.length === 0)\r\n      return this.showMessageNoTranslatableFields(false);\r\n\r\n    let transactionItem: EavItem;\r\n    for (const fieldName of translatable) {\r\n      // will finish the transaction when last field is being translated\r\n      const isTransaction = fieldName !== translatable[translatable.length - 1];\r\n      transactionItem = isUnlock\r\n        ? this.unlock(fieldName, isTransaction, transactionItem)\r\n        : this.lock(fieldName, isTransaction, transactionItem);\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n\r\n  showMessageNoTranslatableFields(forAutoTranslate: boolean): void {\r\n    const msg = this.translate.instant(\"LangMenu.NoAutoTranslatableFieldsFound\".replace(\"Auto\", forAutoTranslate ? \"Auto\" : \"\"));\r\n    this.snackBar.open(msg, null, { duration: 2000 });\r\n  }\r\n\r\n  /**\r\n   * Auto-translate the field value to the current language.\r\n   * @param areAllChecksKnown If true, the function will not check if the field value is empty, or if the field auto-translate was disabled by default.\r\n   */\r\n  autoTranslate(fieldNames: string[], sourceLanguageKey: string, isMany: boolean = false, areAllChecksKnown: boolean = false): void {\r\n    const l = this.log.fnIf('autoTranslate', { fieldNames, autoTranslateLanguageKey: sourceLanguageKey, isMany, areAllChecksKnown });\r\n    // Get API key and optionally show warning\r\n    const apiKeyInfo = this.formConfig.settings.Values[EditApiKeyPaths.GoogleTranslate] as ApiKeySpecs;\r\n    if (apiKeyInfo.IsDemo)\r\n      alert(apiKeyInDemoModeAlert);\r\n\r\n    const language = this.formConfig.language();\r\n    const attributes = this.#itemAttributes();\r\n\r\n    // Filter out fields that have translation disabled\r\n    fieldNames = fieldNames.filter(f => !this.#getInfo(f).DisableTranslation);\r\n    const textsForTranslation = fieldNames.map(f => new FieldReader(attributes[f], sourceLanguageKey).currentEditable.value);\r\n\r\n    if (!areAllChecksKnown)\r\n      fieldNames.forEach((field, i) => {\r\n        const currentText = textsForTranslation[i];\r\n        const isAutoTranslationEnabledButWasDisabledByDefault = this.#getInfo(field).autoTranslateIsDisabledByTypeButNotByConfig();\r\n        if (currentText == null || currentText === '' || isAutoTranslationEnabledButWasDisabledByDefault)\r\n          this.unlock(field);\r\n      });\r\n\r\n    const translationData = {\r\n      q: textsForTranslation,\r\n      target: language.current,\r\n      source: sourceLanguageKey\r\n    };\r\n    this.http.post(`https://translation.googleapis.com/language/translate/v2?key=${apiKeyInfo.ApiKey}`, translationData)\r\n      .subscribe((response: any) => {\r\n        const fieldsWithExistingDims = fieldNames.map(f => new FieldReader(attributes[f], language).currentEditable != null);\r\n        response.data.translations.forEach((translation: any, i: number) => {\r\n          const elem = document.createElement('textarea');\r\n          elem.innerHTML = translation.translatedText;\r\n          const fieldHasExistingDimension = fieldsWithExistingDims[i];\r\n          if (!isMany && fieldHasExistingDimension) {\r\n            this.updater.updateItemAttributeValue(this.#entityGuid, fieldNames[i], elem.value, language, false);\r\n          } else if (!fieldHasExistingDimension) {\r\n            this.#addItemAttributeValueHelper(fieldNames[i], elem.value, language.current, false);\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  copyFrom(fieldName: string, copyFromLanguageKey: string): void {\r\n    if (this.#getInfo(fieldName).DisableTranslation) return;\r\n\r\n    const attributes = this.#itemAttributes();\r\n    const values = attributes[fieldName];\r\n    const language = this.formConfig.language();\r\n    const fieldReader = new FieldReader(values, language);\r\n    const valueTranslation = fieldReader.ofLanguage(FormLanguage.diffCurrent(language, copyFromLanguageKey));\r\n    if (valueTranslation) {\r\n      const valueAlreadyExists = values\r\n        ? fieldReader.isEditableOrReadonlyTranslationExist()\r\n        : false;\r\n\r\n      if (valueAlreadyExists)\r\n        // Copy attribute value where language is languageKey to value where language is current language\r\n        this.updater.updateItemAttributeValue(\r\n          this.#entityGuid, fieldName, valueTranslation.value, language, false,\r\n        );\r\n      else\r\n        // Copy attribute value where language is languageKey to new attribute with current language\r\n        this.#addItemAttributeValueHelper(fieldName, valueTranslation.value, language.current, false);\r\n    } else\r\n      this.log.a(`${language.current}: Cant copy value from ${copyFromLanguageKey} because that value does not exist.`);\r\n  }\r\n\r\n  linkReadOnly(fieldName: string, linkWithLanguageKey: string): void {\r\n    this.linkToOtherField(fieldName, linkWithLanguageKey, true);\r\n  }\r\n\r\n  linkReadWrite(fieldName: string, linkWithLanguageKey: string): void {\r\n    return this.linkToOtherField(fieldName, linkWithLanguageKey, false);\r\n  }\r\n\r\n  private linkToOtherField(fieldName: string, linkWithLanguageKey: string, isReadOnly: boolean): void {\r\n    if (this.#getInfo(fieldName).DisableTranslation) return;\r\n\r\n    const language = this.formConfig.language();\r\n    const transactionItem = this.updater.removeItemAttributeDimension(this.#entityGuid, fieldName, language.current, true);\r\n    this.updater.addItemAttributeDimension(\r\n      this.#entityGuid, fieldName, language.current, linkWithLanguageKey, language.primary, isReadOnly, transactionItem,\r\n    );\r\n  }\r\n\r\n\r\n  /**\r\n   * Auto-translates all field that have auto-translate enabled and are not empty, empty ones are unlocked.\r\n   */\r\n  autoTranslateMany(sourceLanguageKey: string): void {\r\n    const attributes = this.#itemAttributes();\r\n    // fields that have auto-translate enabled and are not empty\r\n    const canTranslate: string[] = [];\r\n    // fields that have auto-translate enabled but didn't have it by default or are empty\r\n    const cantTranslateAndEmpty: string[] = this.findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault();\r\n    // fields that have auto-translate enabled and can be empty\r\n    const canTranslateWithEmpty = this.findAutoTranslatableFields().filter(x => !cantTranslateAndEmpty.includes(x));\r\n    // separate fields that have auto-translate enabled and are empty\r\n    canTranslateWithEmpty.forEach(fieldName => {\r\n      const value = new FieldReader(attributes[fieldName], sourceLanguageKey).currentEditable?.value;\r\n      if (value !== '' && value != null && value !== undefined)\r\n        canTranslate.push(fieldName);\r\n      // this is commented out because future edits on fields should automatically be passed to the other languages\r\n      // else\r\n      //   cantTranslateAndEmpty.push(fieldName);\r\n    });\r\n    // translate fields that have auto-translate enabled and are not empty\r\n    this.autoTranslate(canTranslate, sourceLanguageKey, true, true);\r\n    let transactionItem: EavItem;\r\n    // unlock fields that have auto-translate enabled but didn't have it by default or are empty\r\n    cantTranslateAndEmpty.forEach(fieldName => {\r\n      this.unlock(fieldName, false, transactionItem);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Returns all fields that can be translated.\r\n   */\r\n  findTranslatableFields(): string[] {\r\n    const attributes = this.#itemAttributes();\r\n    return Object.keys(attributes).filter(fieldName => !this.#getInfo(fieldName).DisableTranslation);\r\n  }\r\n\r\n  /**\r\n   * Returns all fields that can be translated and autoTranslated.\r\n   */\r\n  findAutoTranslatableFields(): string[] {\r\n    const attributes = this.#itemAttributes();\r\n    const result = Object.keys(attributes).filter(fieldName => this.#getInfo(fieldName).isAutoTranslatable);\r\n    this.log.fnIf('findAutoTranslatableFields', { attributes, result });\r\n    return result;\r\n  }\r\n\r\n  #getInfo(fieldName: string): FieldTranslationInfo {\r\n    const ti = new FieldTranslationInfo(() => this.fieldsSettingsService.fieldProps[fieldName]());\r\n    this.log.fnIf('getInfo', { fieldName, ti });\r\n    return ti;\r\n  }\r\n\r\n  /**\r\n   * Returns all fields that can be translated and autoTranslated, but were not autoTranslatable by default.\r\n   */\r\n  findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault(): string[] {\r\n    const attributes = this.#itemAttributes();\r\n    return Object.keys(attributes).filter(fieldName => this.#getInfo(fieldName).notForAutoTranslateBecauseOfType);\r\n  }\r\n\r\n  #addItemAttributeValueHelper(fieldName: string, value: any, currentLanguage: string, isReadOnly: boolean): EavItem {\r\n    const l = this.log.fnIf('addItemAttributeValueHelper', { fieldName, value, currentLanguage, isReadOnly });\r\n    const ctAttribute = this.contentTypeService.getAttribute(this.#contentTypeId, fieldName);\r\n    const result = this.updater.addItemAttributeValue(\r\n      this.#entityGuid, fieldName, value, currentLanguage, isReadOnly, ctAttribute.Type\r\n    );\r\n    return l.r(result);\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { combineLatest, distinctUntilChanged, map, startWith } from 'rxjs';\r\nimport { classLog } from '../../shared/logging';\r\nimport { mapUntilChanged } from '../../shared/rxJs/mapUntilChanged';\r\nimport { ServiceBase } from '../../shared/services/service-base';\r\nimport { FormConfigService } from '../form/form-config.service';\r\nimport { FormsStateService } from '../form/forms-state.service';\r\nimport { FieldValueHelpers } from '../shared/helpers/field-value.helpers';\r\nimport { ItemValuesOfLanguage } from '../state/item-values-of-language.model';\r\nimport { ItemService } from '../state/item.service';\r\nimport { EntityFormStateService } from './entity-form-state.service';\r\n\r\n/**\r\n * A Service to ....\r\n * \r\n * Important: This is specific to a single entity.\r\n */\r\n@Injectable()\r\nexport class EntityFormSyncService extends ServiceBase {\r\n\r\n  log = classLog({EntityFormSyncService});\r\n\r\n  constructor(\r\n    private entityFormSvc: EntityFormStateService,\r\n    private formsStateSvc: FormsStateService,\r\n    private formConfig: FormConfigService,\r\n    private itemSvc: ItemService,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  public setupSync(entityGuid: string) {\r\n    const form = this.entityFormSvc.formGroup;\r\n\r\n    // 1. Sync dirty state upwards\r\n    this.subscriptions.add(\r\n      form.valueChanges.pipe(\r\n        map(() => form.dirty),\r\n        startWith(form.dirty),\r\n        // We can't have distinctUntilChanged because dirty state is not reset on form save.\r\n        // leave this comment and the code below for future reference, so people don't add it back.\r\n        // distinctUntilChanged(),\r\n      ).subscribe(isDirty => {\r\n        this.formsStateSvc.setFormDirty(entityGuid, isDirty);\r\n      })\r\n    );\r\n\r\n    // 2. Sync form-valid state to the global states\r\n    // 2.1. Get the form-valid state\r\n    const formValid$ = form.valueChanges.pipe(\r\n      map(() => !form.invalid),\r\n      startWith(!form.invalid),\r\n      mapUntilChanged(m => m),\r\n    );\r\n\r\n    // 2.2. Get the item header. Note that it will be null during destruction\r\n    const itemHeader$ = this.itemSvc.getItemHeader$(entityGuid);\r\n\r\n    // 2.3. Setup sync\r\n    this.subscriptions.add(\r\n      combineLatest([formValid$, itemHeader$]).pipe(\r\n        mapUntilChanged(([formValid, itemHeader]) => itemHeader?.IsEmpty || formValid),\r\n      ).subscribe(isValid => {\r\n        this.formsStateSvc.setFormValid(entityGuid, isValid);\r\n      })\r\n    );\r\n\r\n    // 3. Sync raw values as they change from the form...\r\n    // TODO: THIS LOOKS a bit fishy, since I think we have another service syncing form values to the controls\r\n    this.subscriptions.add(\r\n      form.valueChanges.pipe(\r\n        map(() => form.getRawValue() as ItemValuesOfLanguage),\r\n        distinctUntilChanged((previous, current) => FieldValueHelpers.getItemValuesChanges(previous, current) == null),\r\n      ).subscribe(formValues => {\r\n        const language = this.formConfig.language();\r\n        this.itemSvc.updater.updateItemAttributesValues(entityGuid, formValues, language);\r\n      })\r\n    );\r\n\r\n  }\r\n}","import { Type } from '@angular/core';\r\nimport 'reflect-metadata';\r\n\r\nexport const FieldMetadataKey = 'FieldMetadata' as const;\r\n\r\n/**\r\n * Angular decorator to add metadata to a field component.\r\n * @param metadata \r\n * @returns \r\n */\r\nexport function FieldMetadata(metadata: FieldMetadataModel) {\r\n  return (component: Type<any>) => {\r\n    Reflect.defineMetadata(FieldMetadataKey, metadata, component);\r\n  };\r\n}\r\n\r\nexport interface FieldMetadataModel {\r\n  wrappers?: string[];\r\n  requiredFeatures?: string[];\r\n}\r\n","import { Directive, ElementRef, NgZone, OnDestroy, OnInit } from '@angular/core';\r\n\r\n/**\r\n * This directive will fix all html inside it so that links open in a new tab.\r\n */\r\n@Directive({\r\n  selector: '[appChangeAnchorTarget]',\r\n})\r\nexport class ChangeAnchorTargetDirective implements OnInit, OnDestroy {\r\n  #target = '_blank';\r\n  #element: HTMLElement;\r\n  #observer: MutationObserver;\r\n\r\n  constructor(elementRef: ElementRef, private zone: NgZone) {\r\n    this.#element = elementRef.nativeElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.zone.runOutsideAngular(() => {\r\n      this.#setAnchorTargets();\r\n      this.#observer = new MutationObserver((_: unknown) => {\r\n        this.#setAnchorTargets();\r\n      });\r\n      this.#observer.observe(this.#element, { attributes: true, childList: true, subtree: true });\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.zone.runOutsideAngular(() => this.#observer.disconnect());\r\n  }\r\n\r\n  #setAnchorTargets() {\r\n    if (this.#element.nodeName.toLocaleLowerCase() === 'a') {\r\n      const anchor = this.#element as HTMLAnchorElement;\r\n      if (anchor.target !== this.#target)\r\n        anchor.target = this.#target;\r\n    }\r\n    const childAnchors = this.#element.getElementsByTagName('a');\r\n    for (const anchor of Array.from(childAnchors))\r\n      if (anchor.target !== this.#target)\r\n        anchor.target = this.#target;\r\n  }\r\n}\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, inject, input } from '@angular/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SafeHtmlPipe } from '../../../shared/pipes/safe-html.pipe';\r\nimport { computedObj } from '../../../shared/signals/signal.utilities';\r\nimport { ChangeAnchorTargetDirective } from '../directives/change-anchor-target.directive';\r\nimport { FieldState } from '../field-state';\r\n\r\n@Component({\r\n    selector: 'app-field-helper-text',\r\n    templateUrl: './field-help-text.html',\r\n    styleUrls: ['./field-help-text.scss'],\r\n    imports: [\r\n        NgClass,\r\n        MatFormFieldModule,\r\n        ChangeAnchorTargetDirective,\r\n        TranslateModule,\r\n        SafeHtmlPipe,\r\n    ]\r\n})\r\nexport class FieldHelperTextComponent {\r\n  disableError = input<boolean>(false);\r\n  hyperlinkDefaultWrapperFix = input<boolean>(false);\r\n\r\n  /** Make the control \"flat\" to not take space if there is nothing to show. */\r\n  flatIfEmpty = input<boolean>(false);\r\n\r\n  smallGap = input<boolean>(false);\r\n\r\n  protected fieldState = inject(FieldState);\r\n\r\n  constructor() {\r\n    // Get the component ID from the compiler, so we can use it in the template\r\n    // This is to get style encapsulation to work with inner html\r\n    this.componentId = (this.constructor as unknown as { ['cmp']: { id: string } })['cmp'].id;\r\n  }\r\n\r\n  componentId: string;\r\n\r\n  protected settings = this.fieldState.settings;\r\n\r\n  #invalid = computedObj('invalid', () => this.fieldState.ui().invalid);\r\n  disabled = computedObj('disabled', () => this.fieldState.ui().disabled);\r\n\r\n  showErrors = computedObj('showErrors', () => this.#invalid() && !this.disableError());\r\n\r\n  /**\r\n   * Notes with all p-tags updated to have the current components identifying class.\r\n   * This ensures that styles which are on this component will also affect the notes.\r\n   */\r\n  notes = computedObj('notes', () => {\r\n    const n = this.settings().Notes ?? '';\r\n    return n.replace(/<p>/g, `<p _ngcontent-ng-${this.componentId}>`);\r\n  });\r\n\r\n  isEmpty = computedObj('isEmpty', () => !this.notes() && !this.showErrors());\r\n\r\n  errorMessage = computedObj('errorMessage', () => {\r\n    // Make dependency on value change - otherwise errors are not updated reliably\r\n    const _ = this.fieldState.uiValue();\r\n    // Get the current errors\r\n    return this.fieldState.ui().getErrors();\r\n  });\r\n\r\n  warningMessage = computedObj('warningMessage', () => this.fieldState.ui().getWarnings());\r\n\r\n  /**\r\n   * Show the control if:\r\n   * - it's not empty (which already checks if it has errors) \r\n   * - and if it doesn't have warnings\r\n   * - and flat wasn't preferred\r\n   */\r\n  show = computedObj('show', () => !this.isEmpty() || this.warningMessage() || !this.flatIfEmpty());\r\n\r\n  showExpand = true;\r\n\r\n  /** Don't toggle if clicked on an anchor tag or it's children */\r\n  toggleHint(event: MouseEvent) {\r\n    let target = event.target as HTMLElement;\r\n\r\n    if (target.nodeName.toLocaleLowerCase() === 'a') return;\r\n    while (target && target.classList && !target.classList.contains('id-notes-container')) {\r\n      target = target.parentNode as HTMLElement;\r\n      if (!target) return;\r\n      if (target.nodeName.toLocaleLowerCase() === 'a') return;\r\n    }\r\n\r\n    this.showExpand = !this.showExpand;\r\n  }\r\n}\r\n","@if (show()) {\r\n  <div class=\"my-main\" [ngClass]=\"{\r\n      'my-last-field': fieldState.config.isLastInGroup,\r\n      'my-hyperlink-wrapper-fix': hyperlinkDefaultWrapperFix() && !fieldState.config.isLastInGroup,\r\n      'small-gap': smallGap(),\r\n    }\"\r\n  >\r\n    @if (notes()) {\r\n      <mat-hint class=\"my-notes\" (click)=\"toggleHint($event)\" [ngClass]=\"{ 'disabled': disabled() }\">\r\n        <div class=\"id-notes-container\" [ngClass]=\"showExpand ? 'expandable': ''\" appChangeAnchorTarget\r\n          [innerHtml]=\"notes() | safeHtml\">\r\n        </div>\r\n      </mat-hint>\r\n    }\r\n    @if (showErrors() && errorMessage(); as error) {\r\n      <mat-error class=\"\">{{ error | translate: settings() }}</mat-error>\r\n    }\r\n    @if (!disableError() && warningMessage(); as warning) {\r\n      <mat-error class=\"warning\">{{ warning | translate }}</mat-error>\r\n    }\r\n  </div>\r\n}","import { Component, inject } from '@angular/core';\r\nimport { FieldSettingsBoolean } from 'projects/edit-types/src/FieldSettings-Boolean';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldState } from '../../field-state';\r\n\r\n@Component({\r\n  selector: 'app-boolean-base',\r\n  template: '',\r\n})\r\n// @FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport abstract class BooleanBaseComponent {\r\n\r\n  fieldState = inject(FieldState) as FieldState<boolean, FieldSettings & FieldSettingsBoolean>;\r\n\r\n  group = this.fieldState.group;\r\n  ui = this.fieldState.ui;\r\n  uiValue = this.fieldState.uiValue;\r\n\r\n  settings = this.fieldState.settings;\r\n  basics = this.fieldState.basics;\r\n\r\n  // TODO: CONTINUE HERE\r\n  changedLabel = this.fieldState.settingExt('_label');\r\n}\r\n","import { FieldSettingsBoolean } from 'projects/edit-types/src/FieldSettings-Boolean';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldSettings } from './../../../../../../../edit-types/src/FieldSettings';\r\n\r\nexport class BooleanDefaultLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.BooleanDefault;\r\n\r\n  constructor() { super({ BooleanDefaultLogic }); }\r\n\r\n  update({ settings, value }: FieldLogicUpdate<boolean>): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & FieldSettingsBoolean;\r\n    fixedSettings.ReverseToggle ??= false;\r\n    fixedSettings._label = this.#calculateLabel(value, fixedSettings);\r\n    // fixedSettings.DisableAutoTranslation = true;\r\n    return fixedSettings;\r\n  }\r\n\r\n  #calculateLabel(value: boolean, settings: FieldSettings & FieldSettingsBoolean): string {\r\n    if (value === true && settings.TitleTrue)\r\n      return settings.TitleTrue;\r\n    if (value === false && settings.TitleFalse)\r\n      return settings.TitleFalse;\r\n    return settings.Name;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(BooleanDefaultLogic);\r\n","import { NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { BooleanBaseComponent } from './boolean-base';\r\nimport { BooleanDefaultLogic } from './boolean-default-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.BooleanDefault,\r\n    templateUrl: './boolean-default.html',\r\n    styleUrls: ['./boolean-default.scss'],\r\n    imports: [\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatSlideToggleModule,\r\n        NgClass,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class BooleanDefaultComponent extends BooleanBaseComponent {\r\n\r\n  constructor() {\r\n    super();\r\n    BooleanDefaultLogic.importMe();\r\n  }\r\n\r\n  checkedState = computedObj('checkedState', () => {\r\n    const value = this.uiValue();\r\n    const reverseToggle = this.settings().ReverseToggle;\r\n    return reverseToggle ? !value : value;\r\n  });\r\n\r\n  updateValue() {\r\n    if (this.ui().disabled) return;\r\n    this.fieldState.ui().setIfChanged(!this.uiValue());\r\n  }\r\n}\r\n","<div [formGroup]=\"group\">\r\n  <div class=\"eav-toggle-hitbox\" (click)=\"updateValue()\">\r\n    <mat-slide-toggle\r\n      [checked]=\"checkedState()\"\r\n      [disabled]=\"ui().disabled\"\r\n      [ngClass]=\"!uiValue() ? 'changeable-label-mat-slide-toggle' : ''\" />\r\n    <span [ngClass]=\"!uiValue() ? 'eav-toggle-label' : ''\" class=\"eav-slide-toggle-label\">\r\n      {{ changedLabel() ?? basics().label }}\r\n    </span>\r\n  </div>\r\n  <app-field-helper-text [disableError]=\"true\"></app-field-helper-text>\r\n</div>\r\n","import { FieldSettingsBoolean } from 'projects/edit-types/src/FieldSettings-Boolean';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldSettings } from './../../../../../../../edit-types/src/FieldSettings';\r\n\r\nexport class BooleanTristateLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.BooleanTristate;\r\n\r\n  constructor() { super({ BooleanTristateLogic }); }\r\n\r\n  update({ settings, value }: FieldLogicUpdate<boolean | ''>): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & FieldSettingsBoolean;\r\n    fixedSettings.ReverseToggle ??= false;\r\n    fixedSettings._label = this.#calculateLabel(value, fixedSettings);\r\n    // fixedSettings.DisableAutoTranslation = true;\r\n    return fixedSettings;\r\n  }\r\n\r\n  #calculateLabel(value: boolean | '', settings: FieldSettings & FieldSettingsBoolean): string {\r\n    if (value === true && settings.TitleTrue)\r\n      return settings.TitleTrue;\r\n    if (value === false && settings.TitleFalse)\r\n      return settings.TitleFalse;\r\n    if (!value /* null | '' */ && settings.TitleIndeterminate)\r\n      return settings.TitleIndeterminate;\r\n    return settings.Name;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(BooleanTristateLogic);\r\n","import { NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { BooleanBaseComponent } from '../boolean-default/boolean-base';\r\nimport { BooleanTristateLogic } from './boolean-tristate-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.BooleanTristate,\r\n    templateUrl: './boolean-tristate.html',\r\n    styleUrls: ['./boolean-tristate.scss'],\r\n    imports: [\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatSlideToggleModule,\r\n        NgClass,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class BooleanTristateComponent extends BooleanBaseComponent {\r\n\r\n  fs = this.fieldState as FieldState<boolean | ''>;\r\n\r\n  constructor() {\r\n    super();\r\n    BooleanTristateLogic.importMe();\r\n  }\r\n\r\n  checkedState = computedObj('checkedState', () => {\r\n    const value = this.fs.uiValue();\r\n    const reverseToggle = this.settings().ReverseToggle;\r\n    return reverseToggle\r\n      ? (value === true ? false : value === false ? true : value)\r\n      : (value === '' ? null : value);\r\n  });\r\n\r\n  bestLabel = computedObj('bestLabel', () => {\r\n    const value = this.checkedState();\r\n    const settings = this.settings();\r\n    if (value === true && settings.TitleTrue)           return settings.TitleTrue;\r\n    if (value === false && settings.TitleFalse)         return settings.TitleFalse;\r\n    if (value === null && settings.TitleIndeterminate)  return settings.TitleIndeterminate;\r\n    return settings.Name;\r\n  });\r\n\r\n  updateValue(disabled: boolean) {\r\n    if (disabled) return;\r\n    this.fieldState.ui().setIfChanged(this.#nextValue());\r\n  }\r\n\r\n  #nextValue() {\r\n    const current = this.fs.uiValue();\r\n    const reversed = this.settings().ReverseToggle;\r\n\r\n    switch (current) {\r\n      case false: return reversed ? true : null;\r\n      case true: return reversed ? null : false;\r\n      case '':\r\n      case null: return reversed ? false : true;\r\n    }\r\n  }\r\n}\r\n","<!-- New -->\r\n<div [formGroup]=\"group\">\r\n  <div class=\"eav-toggle-hitbox\" (click)=\"updateValue(ui().disabled)\">\r\n    <mat-slide-toggle\r\n    [checked]=\"checkedState()\"\r\n    [disabled]=\"ui().disabled\"\r\n    [ngClass]=\"{\r\n          'toggle-false': checkedState() === false,\r\n          'toggle-true': checkedState() === true,\r\n          'toggle-null': checkedState() === null,\r\n          'changeable-label-tristate-mat-slide-toggle': changedLabel() !== basics().label\r\n            }\" />\r\n    <span [ngClass]=\"!checkedState() ? 'eav-toggle-label' : ''\" class=\"eav-slide-toggle-label\">\r\n      {{ changedLabel() ?? basics().label }}\r\n    </span>\r\n  </div>\r\n  <app-field-helper-text [disableError]=\"true\"></app-field-helper-text>\r\n</div>\r\n","import { Component, inject } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.CustomDefault,\r\n  templateUrl: './custom-default.html',\r\n  styleUrls: ['./custom-default.scss'],\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class CustomDefaultComponent {\r\n\r\n  protected fieldState = inject(FieldState);\r\n  protected config = this.fieldState.config;\r\n\r\n  constructor() {\r\n    console.log('2dm: CustomDefaultComponent initialized with config:', this.config);\r\n  }\r\n}\r\n","<div class=\"message\">\r\n  {{ config.fieldName }}: Field configuration is incomplete and should be fixed.\r\n  If this is a custom field, the JS is probably not loading and/or not creating the correct custom tag such as <code>string-custom-name</code>\r\n</div>\r\n","import { CustomJsonEditor } from 'projects/edit-types/src/FieldSettings-CustomJsonEditor';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\n\r\nexport class CustomJsonEditorLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.CustomJsonEditor as string;\r\n\r\n  constructor() { super({ CustomJsonEditorLogic }); }\r\n\r\n  update({ settings }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & CustomJsonEditor;\r\n    fixedSettings.Rows ||= 5;\r\n    fixedSettings.JsonValidation ||= 'strict';\r\n    fixedSettings.JsonSchemaMode ||= 'none';\r\n    fixedSettings.JsonSchemaSource ||= 'link';\r\n    fixedSettings.JsonSchemaUrl ??= '';\r\n    fixedSettings.JsonSchemaRaw ??= '';\r\n    fixedSettings.JsonCommentsAllowed ??= false;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(CustomJsonEditorLogic);\r\n\r\nexport class StringJsonLogic extends CustomJsonEditorLogic {\r\n  name = InputTypeCatalog.StringJson;\r\n}\r\n\r\nFieldLogicBase.add(StringJsonLogic);\r\n","import { NgClass, NgStyle } from '@angular/common';\r\nimport { Component, computed, inject } from '@angular/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport type * as Monaco from 'monaco-editor';\r\nimport { CustomJsonEditor } from 'projects/edit-types/src/FieldSettings-CustomJsonEditor';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { MonacoEditorComponent } from '../../../../monaco-editor/monaco-editor';\r\nimport { JsonSchema } from '../../../../monaco-editor/monaco-editor.models';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { CustomJsonEditorLogic, StringJsonLogic } from './custom-json-editor-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.CustomJsonEditor,\r\n    templateUrl: './custom-json-editor.html',\r\n    styleUrls: ['./custom-json-editor.scss'],\r\n    imports: [\r\n        NgClass,\r\n        MatFormFieldModule,\r\n        MonacoEditorComponent,\r\n        NgStyle,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class CustomJsonEditorComponent {\r\n  #fieldState = inject(FieldState) as FieldState<string, FieldSettings & CustomJsonEditor>;\r\n  #config = this.#fieldState.config;\r\n\r\n  protected ui = this.#fieldState.ui;\r\n  protected uiValue = this.#fieldState.uiValue;\r\n  protected basics = this.#fieldState.basics;\r\n  #settings = this.#fieldState.settings;\r\n\r\n  #rows = this.#fieldState.settingExt('Rows');\r\n  protected focused = computed(() => this.#config.focused$);\r\n\r\n  protected editorHeight = computed(() => {\r\n    return this.#rows() * this.monacoOptions.lineHeight + 'px';\r\n  });\r\n\r\n  protected jsonSchema = computed(() => {\r\n    const settings = this.#settings();\r\n    if (settings.JsonSchemaMode === 'none') return;\r\n    const jsonSchema: JsonSchema = {\r\n      type: settings.JsonSchemaSource,\r\n      value: settings.JsonSchemaSource === 'link' ? settings.JsonSchemaUrl : settings.JsonSchemaRaw,\r\n    };\r\n    return jsonSchema;\r\n  });\r\n\r\n  protected jsonComments = computed(() => {\r\n    const settings = this.#settings();\r\n    const jsonComments: Monaco.languages.json.SeverityLevel = settings.JsonCommentsAllowed ? 'ignore' : 'error';\r\n    return jsonComments;\r\n  });\r\n\r\n  protected filename: string;\r\n  protected monacoOptions: Monaco.editor.IStandaloneEditorConstructionOptions = {\r\n    minimap: {\r\n      enabled: false,\r\n    },\r\n    lineHeight: 19,\r\n    lineNumbers: 'off',\r\n    lineDecorationsWidth: 0,\r\n    folding: false,\r\n    scrollBeyondLastLine: false,\r\n    tabSize: 2,\r\n    fixedOverflowWidgets: true,\r\n  };\r\n\r\n  constructor(private formConfig: FormConfigService) {\r\n    CustomJsonEditorLogic.importMe();\r\n    StringJsonLogic.importMe();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.filename = `${this.#config.fieldName} ${this.#config.entityGuid} ${this.formConfig.config.formId}.json`;\r\n  }\r\n\r\n  codeChanged(code: string): void {\r\n    this.ui().setIfChanged(code);\r\n  }\r\n\r\n  onFocused(): void {\r\n    this.#config.focused$.next(true);\r\n  }\r\n\r\n  onBlurred(): void {\r\n    this.ui().markTouched();\r\n    this.#config.focused$.next(false);\r\n  }\r\n}\r\n","<div class=\"json-field\" [ngClass]=\"{\r\n  'disabled': ui().disabled,\r\n  'focused': focused().value,\r\n  'error': ui().touchedAndInvalid\r\n  }\">\r\n  <mat-label class=\"label\">{{ basics().label }} {{ basics().required ? '*' : '' }}</mat-label>\r\n  <app-monaco-editor class=\"editor\"\r\n    [filename]=\"filename\"\r\n    [ngStyle]=\"{ 'height': editorHeight() }\"\r\n    [value]=\"uiValue()\"\r\n    [options]=\"monacoOptions\"\r\n    [jsonSchema]=\"jsonSchema()\"\r\n    [jsonComments]=\"jsonComments()\"\r\n    (valueChanged)=\"codeChanged($event)\"\r\n    (focused)=\"onFocused()\"\r\n    (blurred)=\"onBlurred()\">\r\n  </app-monaco-editor>\r\n  @if (!uiValue() && basics().placeholder) {\r\n    <input class=\"placeholder eav-translate-on-dblclick\" [placeholder]=\"basics().placeholder\">\r\n  }\r\n</div>\r\n<app-field-helper-text></app-field-helper-text>\r\n","import * as i0 from '@angular/core';\nimport { Injectable, inject, ElementRef, NgZone, EventEmitter, Injector, Renderer2, afterNextRender, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, Output, InjectionToken, ChangeDetectorRef, signal, ViewChild, ViewContainerRef, DOCUMENT, booleanAttribute, Directive, forwardRef, HostAttributeToken, ContentChild, TemplateRef, NgModule } from '@angular/core';\nimport { Subject, Subscription, merge, of } from 'rxjs';\nimport { DateAdapter, MAT_DATE_FORMATS } from './_date-formats-chunk.mjs';\nimport { _IdGenerator, CdkMonitorFocus, CdkTrapFocus, A11yModule } from '@angular/cdk/a11y';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { coerceStringArray } from '@angular/cdk/coercion';\nimport { ESCAPE, hasModifierKey, SPACE, ENTER, PAGE_DOWN, PAGE_UP, END, HOME, DOWN_ARROW, UP_ARROW, RIGHT_ARROW, LEFT_ARROW, BACKSPACE } from '@angular/cdk/keycodes';\nimport { createRepositionScrollStrategy, FlexibleConnectedPositionStrategy, createOverlayRef, OverlayConfig, createBlockScrollStrategy, createGlobalPositionStrategy, createFlexibleConnectedPositionStrategy, OverlayModule } from '@angular/cdk/overlay';\nimport { Platform, _getFocusedElementPierceShadowDom } from '@angular/cdk/platform';\nimport { ComponentPortal, CdkPortalOutlet, TemplatePortal, PortalModule } from '@angular/cdk/portal';\nimport { startWith, take, filter } from 'rxjs/operators';\nimport { NgClass } from '@angular/common';\nimport { _CdkPrivateStyleLoader, _VisuallyHiddenLoader } from '@angular/cdk/private';\nimport { _StructuralStylesLoader } from './_structural-styles-chunk.mjs';\nimport { MatButton, MatButtonModule } from './button.mjs';\nimport { MatIconButton } from './_icon-button-chunk.mjs';\nimport { MatTooltip } from './_tooltip-chunk.mjs';\nimport { _animationsDisabled } from './_animation-chunk.mjs';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, Validators, ControlContainer, NgForm, FormGroupDirective, NgControl } from '@angular/forms';\nimport { MAT_INPUT_VALUE_ACCESSOR } from './_input-value-accessor-chunk.mjs';\nimport { MAT_FORM_FIELD, MatFormFieldControl } from './_form-field-chunk.mjs';\nimport { ErrorStateMatcher } from './_error-options-chunk.mjs';\nimport { _ErrorStateTracker } from './_error-state-chunk.mjs';\nimport { CdkScrollableModule } from '@angular/cdk/scrolling';\nimport './_ripple-module-chunk.mjs';\nimport './_ripple-chunk.mjs';\nimport './_ripple-loader-chunk.mjs';\nimport '@angular/cdk/layout';\nimport '@angular/cdk/observers/private';\nconst _c0 = [\"mat-calendar-body\", \"\"];\nfunction _forTrack0($index, $item) {\n  return this._trackRow($item);\n}\nconst _forTrack1 = ($index, $item) => $item.id;\nfunction MatCalendarBody_Conditional_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"tr\", 0)(1, \"td\", 3);\n    i0.text(2);\n    i0.elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.nextContext();\n    i0.advance();\n    i0.styleProp(\"padding-top\", ctx_r0._cellPadding)(\"padding-bottom\", ctx_r0._cellPadding);\n    i0.attribute(\"colspan\", ctx_r0.numCols);\n    i0.advance();\n    i0.textInterpolate1(\" \", ctx_r0.label, \" \");\n  }\n}\nfunction MatCalendarBody_For_2_Conditional_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"td\", 3);\n    i0.text(1);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.nextContext(2);\n    i0.styleProp(\"padding-top\", ctx_r0._cellPadding)(\"padding-bottom\", ctx_r0._cellPadding);\n    i0.attribute(\"colspan\", ctx_r0._firstRowOffset);\n    i0.advance();\n    i0.textInterpolate1(\" \", ctx_r0._firstRowOffset >= ctx_r0.labelMinRequiredCells ? ctx_r0.label : \"\", \" \");\n  }\n}\nfunction MatCalendarBody_For_2_For_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.getCurrentView();\n    i0.elementStart(0, \"td\", 6)(1, \"button\", 7);\n    i0.listener(\"click\", function MatCalendarBody_For_2_For_3_Template_button_click_1_listener($event) {\n      const item_r3 = i0.restoreView(_r2).$implicit;\n      const ctx_r0 = i0.nextContext(2);\n      return i0.resetView(ctx_r0._cellClicked(item_r3, $event));\n    })(\"focus\", function MatCalendarBody_For_2_For_3_Template_button_focus_1_listener($event) {\n      const item_r3 = i0.restoreView(_r2).$implicit;\n      const ctx_r0 = i0.nextContext(2);\n      return i0.resetView(ctx_r0._emitActiveDateChange(item_r3, $event));\n    });\n    i0.elementStart(2, \"span\", 8);\n    i0.text(3);\n    i0.elementEnd();\n    i0.element(4, \"span\", 9);\n    i0.elementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const $index_14_r4 = ctx.$index;\n    const $index_7_r5 = i0.nextContext().$index;\n    const ctx_r0 = i0.nextContext();\n    i0.styleProp(\"width\", ctx_r0._cellWidth)(\"padding-top\", ctx_r0._cellPadding)(\"padding-bottom\", ctx_r0._cellPadding);\n    i0.attribute(\"data-mat-row\", $index_7_r5)(\"data-mat-col\", $index_14_r4);\n    i0.advance();\n    i0.classProp(\"mat-calendar-body-disabled\", !item_r3.enabled)(\"mat-calendar-body-active\", ctx_r0._isActiveCell($index_7_r5, $index_14_r4))(\"mat-calendar-body-range-start\", ctx_r0._isRangeStart(item_r3.compareValue))(\"mat-calendar-body-range-end\", ctx_r0._isRangeEnd(item_r3.compareValue))(\"mat-calendar-body-in-range\", ctx_r0._isInRange(item_r3.compareValue))(\"mat-calendar-body-comparison-bridge-start\", ctx_r0._isComparisonBridgeStart(item_r3.compareValue, $index_7_r5, $index_14_r4))(\"mat-calendar-body-comparison-bridge-end\", ctx_r0._isComparisonBridgeEnd(item_r3.compareValue, $index_7_r5, $index_14_r4))(\"mat-calendar-body-comparison-start\", ctx_r0._isComparisonStart(item_r3.compareValue))(\"mat-calendar-body-comparison-end\", ctx_r0._isComparisonEnd(item_r3.compareValue))(\"mat-calendar-body-in-comparison-range\", ctx_r0._isInComparisonRange(item_r3.compareValue))(\"mat-calendar-body-preview-start\", ctx_r0._isPreviewStart(item_r3.compareValue))(\"mat-calendar-body-preview-end\", ctx_r0._isPreviewEnd(item_r3.compareValue))(\"mat-calendar-body-in-preview\", ctx_r0._isInPreview(item_r3.compareValue));\n    i0.property(\"ngClass\", item_r3.cssClasses)(\"tabindex\", ctx_r0._isActiveCell($index_7_r5, $index_14_r4) ? 0 : -1);\n    i0.attribute(\"aria-label\", item_r3.ariaLabel)(\"aria-disabled\", !item_r3.enabled || null)(\"aria-pressed\", ctx_r0._isSelected(item_r3.compareValue))(\"aria-current\", ctx_r0.todayValue === item_r3.compareValue ? \"date\" : null)(\"aria-describedby\", ctx_r0._getDescribedby(item_r3.compareValue));\n    i0.advance();\n    i0.classProp(\"mat-calendar-body-selected\", ctx_r0._isSelected(item_r3.compareValue))(\"mat-calendar-body-comparison-identical\", ctx_r0._isComparisonIdentical(item_r3.compareValue))(\"mat-calendar-body-today\", ctx_r0.todayValue === item_r3.compareValue);\n    i0.advance();\n    i0.textInterpolate1(\" \", item_r3.displayValue, \" \");\n  }\n}\nfunction MatCalendarBody_For_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"tr\", 1);\n    i0.conditionalCreate(1, MatCalendarBody_For_2_Conditional_1_Template, 2, 6, \"td\", 4);\n    i0.repeaterCreate(2, MatCalendarBody_For_2_For_3_Template, 5, 48, \"td\", 5, _forTrack1);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const row_r6 = ctx.$implicit;\n    const $index_7_r5 = ctx.$index;\n    const ctx_r0 = i0.nextContext();\n    i0.advance();\n    i0.conditional($index_7_r5 === 0 && ctx_r0._firstRowOffset ? 1 : -1);\n    i0.advance();\n    i0.repeater(row_r6);\n  }\n}\nfunction MatMonthView_For_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"th\", 2)(1, \"span\", 6);\n    i0.text(2);\n    i0.elementEnd();\n    i0.elementStart(3, \"span\", 3);\n    i0.text(4);\n    i0.elementEnd()();\n  }\n  if (rf & 2) {\n    const day_r1 = ctx.$implicit;\n    i0.advance(2);\n    i0.textInterpolate(day_r1.long);\n    i0.advance(2);\n    i0.textInterpolate(day_r1.narrow);\n  }\n}\nconst _c1 = [\"*\"];\nfunction MatCalendar_ng_template_0_Template(rf, ctx) {}\nfunction MatCalendar_Case_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.getCurrentView();\n    i0.elementStart(0, \"mat-month-view\", 4);\n    i0.twoWayListener(\"activeDateChange\", function MatCalendar_Case_2_Template_mat_month_view_activeDateChange_0_listener($event) {\n      i0.restoreView(_r1);\n      const ctx_r1 = i0.nextContext();\n      i0.twoWayBindingSet(ctx_r1.activeDate, $event) || (ctx_r1.activeDate = $event);\n      return i0.resetView($event);\n    });\n    i0.listener(\"_userSelection\", function MatCalendar_Case_2_Template_mat_month_view__userSelection_0_listener($event) {\n      i0.restoreView(_r1);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._dateSelected($event));\n    })(\"dragStarted\", function MatCalendar_Case_2_Template_mat_month_view_dragStarted_0_listener($event) {\n      i0.restoreView(_r1);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._dragStarted($event));\n    })(\"dragEnded\", function MatCalendar_Case_2_Template_mat_month_view_dragEnded_0_listener($event) {\n      i0.restoreView(_r1);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._dragEnded($event));\n    });\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.nextContext();\n    i0.twoWayProperty(\"activeDate\", ctx_r1.activeDate);\n    i0.property(\"selected\", ctx_r1.selected)(\"dateFilter\", ctx_r1.dateFilter)(\"maxDate\", ctx_r1.maxDate)(\"minDate\", ctx_r1.minDate)(\"dateClass\", ctx_r1.dateClass)(\"comparisonStart\", ctx_r1.comparisonStart)(\"comparisonEnd\", ctx_r1.comparisonEnd)(\"startDateAccessibleName\", ctx_r1.startDateAccessibleName)(\"endDateAccessibleName\", ctx_r1.endDateAccessibleName)(\"activeDrag\", ctx_r1._activeDrag);\n  }\n}\nfunction MatCalendar_Case_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.getCurrentView();\n    i0.elementStart(0, \"mat-year-view\", 5);\n    i0.twoWayListener(\"activeDateChange\", function MatCalendar_Case_3_Template_mat_year_view_activeDateChange_0_listener($event) {\n      i0.restoreView(_r3);\n      const ctx_r1 = i0.nextContext();\n      i0.twoWayBindingSet(ctx_r1.activeDate, $event) || (ctx_r1.activeDate = $event);\n      return i0.resetView($event);\n    });\n    i0.listener(\"monthSelected\", function MatCalendar_Case_3_Template_mat_year_view_monthSelected_0_listener($event) {\n      i0.restoreView(_r3);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._monthSelectedInYearView($event));\n    })(\"selectedChange\", function MatCalendar_Case_3_Template_mat_year_view_selectedChange_0_listener($event) {\n      i0.restoreView(_r3);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._goToDateInView($event, \"month\"));\n    });\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.nextContext();\n    i0.twoWayProperty(\"activeDate\", ctx_r1.activeDate);\n    i0.property(\"selected\", ctx_r1.selected)(\"dateFilter\", ctx_r1.dateFilter)(\"maxDate\", ctx_r1.maxDate)(\"minDate\", ctx_r1.minDate)(\"dateClass\", ctx_r1.dateClass);\n  }\n}\nfunction MatCalendar_Case_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.getCurrentView();\n    i0.elementStart(0, \"mat-multi-year-view\", 6);\n    i0.twoWayListener(\"activeDateChange\", function MatCalendar_Case_4_Template_mat_multi_year_view_activeDateChange_0_listener($event) {\n      i0.restoreView(_r4);\n      const ctx_r1 = i0.nextContext();\n      i0.twoWayBindingSet(ctx_r1.activeDate, $event) || (ctx_r1.activeDate = $event);\n      return i0.resetView($event);\n    });\n    i0.listener(\"yearSelected\", function MatCalendar_Case_4_Template_mat_multi_year_view_yearSelected_0_listener($event) {\n      i0.restoreView(_r4);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._yearSelectedInMultiYearView($event));\n    })(\"selectedChange\", function MatCalendar_Case_4_Template_mat_multi_year_view_selectedChange_0_listener($event) {\n      i0.restoreView(_r4);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._goToDateInView($event, \"year\"));\n    });\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.nextContext();\n    i0.twoWayProperty(\"activeDate\", ctx_r1.activeDate);\n    i0.property(\"selected\", ctx_r1.selected)(\"dateFilter\", ctx_r1.dateFilter)(\"maxDate\", ctx_r1.maxDate)(\"minDate\", ctx_r1.minDate)(\"dateClass\", ctx_r1.dateClass);\n  }\n}\nfunction MatDatepickerContent_ng_template_2_Template(rf, ctx) {}\nconst _c2 = [\"button\"];\nconst _c3 = [[[\"\", \"matDatepickerToggleIcon\", \"\"]]];\nconst _c4 = [\"[matDatepickerToggleIcon]\"];\nfunction MatDatepickerToggle_Conditional_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.namespaceSVG();\n    i0.elementStart(0, \"svg\", 2);\n    i0.element(1, \"path\", 3);\n    i0.elementEnd();\n  }\n}\nconst _c5 = [[[\"input\", \"matStartDate\", \"\"]], [[\"input\", \"matEndDate\", \"\"]]];\nconst _c6 = [\"input[matStartDate]\", \"input[matEndDate]\"];\nfunction MatDatepickerActions_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.domElementStart(0, \"div\", 0);\n    i0.projection(1);\n    i0.domElementEnd();\n  }\n}\nfunction createMissingDateImplError(provider) {\n  return Error(`MatDatepicker: No provider found for ${provider}. You must add one of the following ` + `to your app config: provideNativeDateAdapter, provideDateFnsAdapter, ` + `provideLuxonDateAdapter, provideMomentDateAdapter, or provide a custom implementation.`);\n}\nlet MatDatepickerIntl = /*#__PURE__*/(() => {\n  class MatDatepickerIntl {\n    changes = new Subject();\n    calendarLabel = 'Calendar';\n    openCalendarLabel = 'Open calendar';\n    closeCalendarLabel = 'Close calendar';\n    prevMonthLabel = 'Previous month';\n    nextMonthLabel = 'Next month';\n    prevYearLabel = 'Previous year';\n    nextYearLabel = 'Next year';\n    prevMultiYearLabel = 'Previous 24 years';\n    nextMultiYearLabel = 'Next 24 years';\n    switchToMonthViewLabel = 'Choose date';\n    switchToMultiYearViewLabel = 'Choose month and year';\n    startDateLabel = 'Start date';\n    endDateLabel = 'End date';\n    comparisonDateLabel = 'Comparison range';\n    formatYearRange(start, end) {\n      return `${start} \\u2013 ${end}`;\n    }\n    formatYearRangeLabel(start, end) {\n      return `${start} to ${end}`;\n    }\n    static fac = function MatDatepickerIntl_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerIntl)();\n    };\n    static prov = /* @__PURE__ */i0.defineInjectable({\n      token: MatDatepickerIntl,\n      factory: MatDatepickerIntl.fac,\n      providedIn: 'root'\n    });\n  }\n  return MatDatepickerIntl;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet uniqueIdCounter$1 = 0;\nclass MatCalendarCell {\n  value;\n  displayValue;\n  ariaLabel;\n  enabled;\n  cssClasses;\n  compareValue;\n  rawValue;\n  id = uniqueIdCounter$1++;\n  constructor(value, displayValue, ariaLabel, enabled, cssClasses = {}, compareValue = value, rawValue) {\n    this.value = value;\n    this.displayValue = displayValue;\n    this.ariaLabel = ariaLabel;\n    this.enabled = enabled;\n    this.cssClasses = cssClasses;\n    this.compareValue = compareValue;\n    this.rawValue = rawValue;\n  }\n}\nconst activeCapturingEventOptions = {\n  passive: false,\n  capture: true\n};\nconst passiveCapturingEventOptions = {\n  passive: true,\n  capture: true\n};\nconst passiveEventOptions = {\n  passive: true\n};\nlet MatCalendarBody = /*#__PURE__*/(() => {\n  class MatCalendarBody {\n    _elementRef = inject(ElementRef);\n    _ngZone = inject(NgZone);\n    _platform = inject(Platform);\n    _intl = inject(MatDatepickerIntl);\n    _eventCleanups;\n    _skipNextFocus;\n    _focusActiveCellAfterViewChecked = false;\n    label;\n    rows;\n    todayValue;\n    startValue;\n    endValue;\n    labelMinRequiredCells;\n    numCols = 7;\n    activeCell = 0;\n    ngAfterViewChecked() {\n      if (this._focusActiveCellAfterViewChecked) {\n        this._focusActiveCell();\n        this._focusActiveCellAfterViewChecked = false;\n      }\n    }\n    isRange = false;\n    cellAspectRatio = 1;\n    comparisonStart;\n    comparisonEnd;\n    previewStart = null;\n    previewEnd = null;\n    startDateAccessibleName;\n    endDateAccessibleName;\n    selectedValueChange = new EventEmitter();\n    previewChange = new EventEmitter();\n    activeDateChange = new EventEmitter();\n    dragStarted = new EventEmitter();\n    dragEnded = new EventEmitter();\n    _firstRowOffset;\n    _cellPadding;\n    _cellWidth;\n    _startDateLabelId;\n    _endDateLabelId;\n    _comparisonStartDateLabelId;\n    _comparisonEndDateLabelId;\n    _didDragSinceMouseDown = false;\n    _injector = inject(Injector);\n    comparisonDateAccessibleName = this._intl.comparisonDateLabel;\n    _trackRow = row => row;\n    constructor() {\n      const renderer = inject(Renderer2);\n      const idGenerator = inject(_IdGenerator);\n      this._startDateLabelId = idGenerator.getId('mat-calendar-body-start-');\n      this._endDateLabelId = idGenerator.getId('mat-calendar-body-end-');\n      this._comparisonStartDateLabelId = idGenerator.getId('mat-calendar-body-comparison-start-');\n      this._comparisonEndDateLabelId = idGenerator.getId('mat-calendar-body-comparison-end-');\n      inject(_CdkPrivateStyleLoader).load(_StructuralStylesLoader);\n      this._ngZone.runOutsideAngular(() => {\n        const element = this._elementRef.nativeElement;\n        const cleanups = [renderer.listen(element, 'touchmove', this._touchmoveHandler, activeCapturingEventOptions), renderer.listen(element, 'mouseenter', this._enterHandler, passiveCapturingEventOptions), renderer.listen(element, 'focus', this._enterHandler, passiveCapturingEventOptions), renderer.listen(element, 'mouseleave', this._leaveHandler, passiveCapturingEventOptions), renderer.listen(element, 'blur', this._leaveHandler, passiveCapturingEventOptions), renderer.listen(element, 'mousedown', this._mousedownHandler, passiveEventOptions), renderer.listen(element, 'touchstart', this._mousedownHandler, passiveEventOptions)];\n        if (this._platform.isBrowser) {\n          cleanups.push(renderer.listen('window', 'mouseup', this._mouseupHandler), renderer.listen('window', 'touchend', this._touchendHandler));\n        }\n        this._eventCleanups = cleanups;\n      });\n    }\n    _cellClicked(cell, event) {\n      if (this._didDragSinceMouseDown) {\n        return;\n      }\n      if (cell.enabled) {\n        this.selectedValueChange.emit({\n          value: cell.value,\n          event\n        });\n      }\n    }\n    _emitActiveDateChange(cell, event) {\n      if (cell.enabled) {\n        this.activeDateChange.emit({\n          value: cell.value,\n          event\n        });\n      }\n    }\n    _isSelected(value) {\n      return this.startValue === value || this.endValue === value;\n    }\n    ngOnChanges(changes) {\n      const columnChanges = changes['numCols'];\n      const {\n        rows,\n        numCols\n      } = this;\n      if (changes['rows'] || columnChanges) {\n        this._firstRowOffset = rows && rows.length && rows[0].length ? numCols - rows[0].length : 0;\n      }\n      if (changes['cellAspectRatio'] || columnChanges || !this._cellPadding) {\n        this._cellPadding = `${50 * this.cellAspectRatio / numCols}%`;\n      }\n      if (columnChanges || !this._cellWidth) {\n        this._cellWidth = `${100 / numCols}%`;\n      }\n    }\n    ngOnDestroy() {\n      this._eventCleanups.forEach(cleanup => cleanup());\n    }\n    _isActiveCell(rowIndex, colIndex) {\n      let cellNumber = rowIndex * this.numCols + colIndex;\n      if (rowIndex) {\n        cellNumber -= this._firstRowOffset;\n      }\n      return cellNumber == this.activeCell;\n    }\n    _focusActiveCell(movePreview = true) {\n      afterNextRender(() => {\n        setTimeout(() => {\n          const activeCell = this._elementRef.nativeElement.querySelector('.mat-calendar-body-active');\n          if (activeCell) {\n            if (!movePreview) {\n              this._skipNextFocus = true;\n            }\n            activeCell.focus();\n          }\n        });\n      }, {\n        injector: this._injector\n      });\n    }\n    _scheduleFocusActiveCellAfterViewChecked() {\n      this._focusActiveCellAfterViewChecked = true;\n    }\n    _isRangeStart(value) {\n      return isStart(value, this.startValue, this.endValue);\n    }\n    _isRangeEnd(value) {\n      return isEnd(value, this.startValue, this.endValue);\n    }\n    _isInRange(value) {\n      return isInRange(value, this.startValue, this.endValue, this.isRange);\n    }\n    _isComparisonStart(value) {\n      return isStart(value, this.comparisonStart, this.comparisonEnd);\n    }\n    _isComparisonBridgeStart(value, rowIndex, colIndex) {\n      if (!this._isComparisonStart(value) || this._isRangeStart(value) || !this._isInRange(value)) {\n        return false;\n      }\n      let previousCell = this.rows[rowIndex][colIndex - 1];\n      if (!previousCell) {\n        const previousRow = this.rows[rowIndex - 1];\n        previousCell = previousRow && previousRow[previousRow.length - 1];\n      }\n      return previousCell && !this._isRangeEnd(previousCell.compareValue);\n    }\n    _isComparisonBridgeEnd(value, rowIndex, colIndex) {\n      if (!this._isComparisonEnd(value) || this._isRangeEnd(value) || !this._isInRange(value)) {\n        return false;\n      }\n      let nextCell = this.rows[rowIndex][colIndex + 1];\n      if (!nextCell) {\n        const nextRow = this.rows[rowIndex + 1];\n        nextCell = nextRow && nextRow[0];\n      }\n      return nextCell && !this._isRangeStart(nextCell.compareValue);\n    }\n    _isComparisonEnd(value) {\n      return isEnd(value, this.comparisonStart, this.comparisonEnd);\n    }\n    _isInComparisonRange(value) {\n      return isInRange(value, this.comparisonStart, this.comparisonEnd, this.isRange);\n    }\n    _isComparisonIdentical(value) {\n      return this.comparisonStart === this.comparisonEnd && value === this.comparisonStart;\n    }\n    _isPreviewStart(value) {\n      return isStart(value, this.previewStart, this.previewEnd);\n    }\n    _isPreviewEnd(value) {\n      return isEnd(value, this.previewStart, this.previewEnd);\n    }\n    _isInPreview(value) {\n      return isInRange(value, this.previewStart, this.previewEnd, this.isRange);\n    }\n    _getDescribedby(value) {\n      if (!this.isRange) {\n        return null;\n      }\n      if (this.startValue === value && this.endValue === value) {\n        return `${this._startDateLabelId} ${this._endDateLabelId}`;\n      } else if (this.startValue === value) {\n        return this._startDateLabelId;\n      } else if (this.endValue === value) {\n        return this._endDateLabelId;\n      }\n      if (this.comparisonStart !== null && this.comparisonEnd !== null) {\n        if (value === this.comparisonStart && value === this.comparisonEnd) {\n          return `${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;\n        } else if (value === this.comparisonStart) {\n          return this._comparisonStartDateLabelId;\n        } else if (value === this.comparisonEnd) {\n          return this._comparisonEndDateLabelId;\n        }\n      }\n      return null;\n    }\n    _enterHandler = event => {\n      if (this._skipNextFocus && event.type === 'focus') {\n        this._skipNextFocus = false;\n        return;\n      }\n      if (event.target && this.isRange) {\n        const cell = this._getCellFromElement(event.target);\n        if (cell) {\n          this._ngZone.run(() => this.previewChange.emit({\n            value: cell.enabled ? cell : null,\n            event\n          }));\n        }\n      }\n    };\n    _touchmoveHandler = event => {\n      if (!this.isRange) return;\n      const target = getActualTouchTarget(event);\n      const cell = target ? this._getCellFromElement(target) : null;\n      if (target !== event.target) {\n        this._didDragSinceMouseDown = true;\n      }\n      if (getCellElement(event.target)) {\n        event.preventDefault();\n      }\n      this._ngZone.run(() => this.previewChange.emit({\n        value: cell?.enabled ? cell : null,\n        event\n      }));\n    };\n    _leaveHandler = event => {\n      if (this.previewEnd !== null && this.isRange) {\n        if (event.type !== 'blur') {\n          this._didDragSinceMouseDown = true;\n        }\n        if (event.target && this._getCellFromElement(event.target) && !(event.relatedTarget && this._getCellFromElement(event.relatedTarget))) {\n          this._ngZone.run(() => this.previewChange.emit({\n            value: null,\n            event\n          }));\n        }\n      }\n    };\n    _mousedownHandler = event => {\n      if (!this.isRange) return;\n      this._didDragSinceMouseDown = false;\n      const cell = event.target && this._getCellFromElement(event.target);\n      if (!cell || !this._isInRange(cell.compareValue)) {\n        return;\n      }\n      this._ngZone.run(() => {\n        this.dragStarted.emit({\n          value: cell.rawValue,\n          event\n        });\n      });\n    };\n    _mouseupHandler = event => {\n      if (!this.isRange) return;\n      const cellElement = getCellElement(event.target);\n      if (!cellElement) {\n        this._ngZone.run(() => {\n          this.dragEnded.emit({\n            value: null,\n            event\n          });\n        });\n        return;\n      }\n      if (cellElement.closest('.mat-calendar-body') !== this._elementRef.nativeElement) {\n        return;\n      }\n      this._ngZone.run(() => {\n        const cell = this._getCellFromElement(cellElement);\n        this.dragEnded.emit({\n          value: cell?.rawValue ?? null,\n          event\n        });\n      });\n    };\n    _touchendHandler = event => {\n      const target = getActualTouchTarget(event);\n      if (target) {\n        this._mouseupHandler({\n          target\n        });\n      }\n    };\n    _getCellFromElement(element) {\n      const cell = getCellElement(element);\n      if (cell) {\n        const row = cell.getAttribute('data-mat-row');\n        const col = cell.getAttribute('data-mat-col');\n        if (row && col) {\n          return this.rows[parseInt(row)]?.[parseInt(col)] || null;\n        }\n      }\n      return null;\n    }\n    static fac = function MatCalendarBody_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatCalendarBody)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatCalendarBody,\n      selectors: [[\"\", \"mat-calendar-body\", \"\"]],\n      hostAttrs: [1, \"mat-calendar-body\"],\n      inputs: {\n        label: \"label\",\n        rows: \"rows\",\n        todayValue: \"todayValue\",\n        startValue: \"startValue\",\n        endValue: \"endValue\",\n        labelMinRequiredCells: \"labelMinRequiredCells\",\n        numCols: \"numCols\",\n        activeCell: \"activeCell\",\n        isRange: \"isRange\",\n        cellAspectRatio: \"cellAspectRatio\",\n        comparisonStart: \"comparisonStart\",\n        comparisonEnd: \"comparisonEnd\",\n        previewStart: \"previewStart\",\n        previewEnd: \"previewEnd\",\n        startDateAccessibleName: \"startDateAccessibleName\",\n        endDateAccessibleName: \"endDateAccessibleName\"\n      },\n      outputs: {\n        selectedValueChange: \"selectedValueChange\",\n        previewChange: \"previewChange\",\n        activeDateChange: \"activeDateChange\",\n        dragStarted: \"dragStarted\",\n        dragEnded: \"dragEnded\"\n      },\n      exportAs: [\"matCalendarBody\"],\n      features: [i0.NgOnChangesFeature],\n      attrs: _c0,\n      decls: 11,\n      vars: 11,\n      consts: [[\"aria-hidden\", \"true\"], [\"role\", \"row\"], [1, \"mat-calendar-body-hidden-label\", 3, \"id\"], [1, \"mat-calendar-body-label\"], [1, \"mat-calendar-body-label\", 3, \"paddingTop\", \"paddingBottom\"], [\"role\", \"gridcell\", 1, \"mat-calendar-body-cell-container\", 3, \"width\", \"paddingTop\", \"paddingBottom\"], [\"role\", \"gridcell\", 1, \"mat-calendar-body-cell-container\"], [\"type\", \"button\", 1, \"mat-calendar-body-cell\", 3, \"click\", \"focus\", \"ngClass\", \"tabindex\"], [1, \"mat-calendar-body-cell-content\", \"mat-focus-indicator\"], [\"aria-hidden\", \"true\", 1, \"mat-calendar-body-cell-preview\"]],\n      template: function MatCalendarBody_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.conditionalCreate(0, MatCalendarBody_Conditional_0_Template, 3, 6, \"tr\", 0);\n          i0.repeaterCreate(1, MatCalendarBody_For_2_Template, 4, 1, \"tr\", 1, _forTrack0, true);\n          i0.elementStart(3, \"span\", 2);\n          i0.text(4);\n          i0.elementEnd();\n          i0.elementStart(5, \"span\", 2);\n          i0.text(6);\n          i0.elementEnd();\n          i0.elementStart(7, \"span\", 2);\n          i0.text(8);\n          i0.elementEnd();\n          i0.elementStart(9, \"span\", 2);\n          i0.text(10);\n          i0.elementEnd();\n        }\n        if (rf & 2) {\n          i0.conditional(ctx._firstRowOffset < ctx.labelMinRequiredCells ? 0 : -1);\n          i0.advance();\n          i0.repeater(ctx.rows);\n          i0.advance(2);\n          i0.property(\"id\", ctx._startDateLabelId);\n          i0.advance();\n          i0.textInterpolate1(\" \", ctx.startDateAccessibleName, \"\\n\");\n          i0.advance();\n          i0.property(\"id\", ctx._endDateLabelId);\n          i0.advance();\n          i0.textInterpolate1(\" \", ctx.endDateAccessibleName, \"\\n\");\n          i0.advance();\n          i0.property(\"id\", ctx._comparisonStartDateLabelId);\n          i0.advance();\n          i0.textInterpolate2(\" \", ctx.comparisonDateAccessibleName, \" \", ctx.startDateAccessibleName, \"\\n\");\n          i0.advance();\n          i0.property(\"id\", ctx._comparisonEndDateLabelId);\n          i0.advance();\n          i0.textInterpolate2(\" \", ctx.comparisonDateAccessibleName, \" \", ctx.endDateAccessibleName, \"\\n\");\n        }\n      },\n      dependencies: [NgClass],\n      styles: [\".mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:\\\"\\\";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatCalendarBody;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isTableCell(node) {\n  return node?.nodeName === 'TD';\n}\nfunction getCellElement(element) {\n  let cell;\n  if (isTableCell(element)) {\n    cell = element;\n  } else if (isTableCell(element.parentNode)) {\n    cell = element.parentNode;\n  } else if (isTableCell(element.parentNode?.parentNode)) {\n    cell = element.parentNode.parentNode;\n  }\n  return cell?.getAttribute('data-mat-row') != null ? cell : null;\n}\nfunction isStart(value, start, end) {\n  return end !== null && start !== end && value < end && value === start;\n}\nfunction isEnd(value, start, end) {\n  return start !== null && start !== end && value >= start && value === end;\n}\nfunction isInRange(value, start, end, rangeEnabled) {\n  return rangeEnabled && start !== null && end !== null && start !== end && value >= start && value <= end;\n}\nfunction getActualTouchTarget(event) {\n  const touchLocation = event.changedTouches[0];\n  return document.elementFromPoint(touchLocation.clientX, touchLocation.clientY);\n}\nclass DateRange {\n  start;\n  end;\n  _disableStructuralEquivalency;\n  constructor(start, end) {\n    this.start = start;\n    this.end = end;\n  }\n}\nlet MatDateSelectionModel = /*#__PURE__*/(() => {\n  class MatDateSelectionModel {\n    selection;\n    _adapter;\n    _selectionChanged = new Subject();\n    selectionChanged = this._selectionChanged;\n    constructor(selection, _adapter) {\n      this.selection = selection;\n      this._adapter = _adapter;\n      this.selection = selection;\n    }\n    updateSelection(value, source) {\n      const oldValue = this.selection;\n      this.selection = value;\n      this._selectionChanged.next({\n        selection: value,\n        source,\n        oldValue\n      });\n    }\n    ngOnDestroy() {\n      this._selectionChanged.complete();\n    }\n    _isValidDateInstance(date) {\n      return this._adapter.isDateInstance(date) && this._adapter.isValid(date);\n    }\n    static fac = function MatDateSelectionModel_Factory(__ngFactoryType__) {\n      i0.invalidFactory();\n    };\n    static prov = /* @__PURE__ */i0.defineInjectable({\n      token: MatDateSelectionModel,\n      factory: MatDateSelectionModel.fac\n    });\n  }\n  return MatDateSelectionModel;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatSingleDateSelectionModel = /*#__PURE__*/(() => {\n  class MatSingleDateSelectionModel extends MatDateSelectionModel {\n    constructor(adapter) {\n      super(null, adapter);\n    }\n    add(date) {\n      super.updateSelection(date, this);\n    }\n    isValid() {\n      return this.selection != null && this._isValidDateInstance(this.selection);\n    }\n    isComplete() {\n      return this.selection != null;\n    }\n    clone() {\n      const clone = new MatSingleDateSelectionModel(this._adapter);\n      clone.updateSelection(this.selection, this);\n      return clone;\n    }\n    static fac = function MatSingleDateSelectionModel_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatSingleDateSelectionModel)(i0.inject(DateAdapter));\n    };\n    static prov = /* @__PURE__ */i0.defineInjectable({\n      token: MatSingleDateSelectionModel,\n      factory: MatSingleDateSelectionModel.fac\n    });\n  }\n  return MatSingleDateSelectionModel;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatRangeDateSelectionModel = /*#__PURE__*/(() => {\n  class MatRangeDateSelectionModel extends MatDateSelectionModel {\n    constructor(adapter) {\n      super(new DateRange(null, null), adapter);\n    }\n    add(date) {\n      let {\n        start,\n        end\n      } = this.selection;\n      if (start == null) {\n        start = date;\n      } else if (end == null) {\n        end = date;\n      } else {\n        start = date;\n        end = null;\n      }\n      super.updateSelection(new DateRange(start, end), this);\n    }\n    isValid() {\n      const {\n        start,\n        end\n      } = this.selection;\n      if (start == null && end == null) {\n        return true;\n      }\n      if (start != null && end != null) {\n        return this._isValidDateInstance(start) && this._isValidDateInstance(end) && this._adapter.compareDate(start, end) <= 0;\n      }\n      return (start == null || this._isValidDateInstance(start)) && (end == null || this._isValidDateInstance(end));\n    }\n    isComplete() {\n      return this.selection.start != null && this.selection.end != null;\n    }\n    clone() {\n      const clone = new MatRangeDateSelectionModel(this._adapter);\n      clone.updateSelection(this.selection, this);\n      return clone;\n    }\n    static fac = function MatRangeDateSelectionModel_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatRangeDateSelectionModel)(i0.inject(DateAdapter));\n    };\n    static prov = /* @__PURE__ */i0.defineInjectable({\n      token: MatRangeDateSelectionModel,\n      factory: MatRangeDateSelectionModel.fac\n    });\n  }\n  return MatRangeDateSelectionModel;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_SINGLE_DATE_SELECTION_MODEL_PROVIDER = {\n  provide: MatDateSelectionModel,\n  useFactory: () => {\n    const parent = inject(MatDateSelectionModel, {\n      optional: true,\n      skipSelf: true\n    });\n    return parent || new MatSingleDateSelectionModel(inject(DateAdapter));\n  }\n};\nconst MAT_RANGE_DATE_SELECTION_MODEL_PROVIDER = {\n  provide: MatDateSelectionModel,\n  useFactory: () => {\n    const parent = inject(MatDateSelectionModel, {\n      optional: true,\n      skipSelf: true\n    });\n    return parent || new MatRangeDateSelectionModel(inject(DateAdapter));\n  }\n};\nconst MAT_DATE_RANGE_SELECTION_STRATEGY = /*#__PURE__*/new InjectionToken('MAT_DATE_RANGE_SELECTION_STRATEGY');\nlet DefaultMatCalendarRangeStrategy = /*#__PURE__*/(() => {\n  class DefaultMatCalendarRangeStrategy {\n    _dateAdapter;\n    constructor(_dateAdapter) {\n      this._dateAdapter = _dateAdapter;\n    }\n    selectionFinished(date, currentRange) {\n      let {\n        start,\n        end\n      } = currentRange;\n      if (start == null) {\n        start = date;\n      } else if (end == null && date && this._dateAdapter.compareDate(date, start) >= 0) {\n        end = date;\n      } else {\n        start = date;\n        end = null;\n      }\n      return new DateRange(start, end);\n    }\n    createPreview(activeDate, currentRange) {\n      let start = null;\n      let end = null;\n      if (currentRange.start && !currentRange.end && activeDate) {\n        start = currentRange.start;\n        end = activeDate;\n      }\n      return new DateRange(start, end);\n    }\n    createDrag(dragOrigin, originalRange, newDate) {\n      let start = originalRange.start;\n      let end = originalRange.end;\n      if (!start || !end) {\n        return null;\n      }\n      const adapter = this._dateAdapter;\n      const isRange = adapter.compareDate(start, end) !== 0;\n      const diffYears = adapter.getYear(newDate) - adapter.getYear(dragOrigin);\n      const diffMonths = adapter.getMonth(newDate) - adapter.getMonth(dragOrigin);\n      const diffDays = adapter.getDate(newDate) - adapter.getDate(dragOrigin);\n      if (isRange && adapter.sameDate(dragOrigin, originalRange.start)) {\n        start = newDate;\n        if (adapter.compareDate(newDate, end) > 0) {\n          end = adapter.addCalendarYears(end, diffYears);\n          end = adapter.addCalendarMonths(end, diffMonths);\n          end = adapter.addCalendarDays(end, diffDays);\n        }\n      } else if (isRange && adapter.sameDate(dragOrigin, originalRange.end)) {\n        end = newDate;\n        if (adapter.compareDate(newDate, start) < 0) {\n          start = adapter.addCalendarYears(start, diffYears);\n          start = adapter.addCalendarMonths(start, diffMonths);\n          start = adapter.addCalendarDays(start, diffDays);\n        }\n      } else {\n        start = adapter.addCalendarYears(start, diffYears);\n        start = adapter.addCalendarMonths(start, diffMonths);\n        start = adapter.addCalendarDays(start, diffDays);\n        end = adapter.addCalendarYears(end, diffYears);\n        end = adapter.addCalendarMonths(end, diffMonths);\n        end = adapter.addCalendarDays(end, diffDays);\n      }\n      return new DateRange(start, end);\n    }\n    static fac = function DefaultMatCalendarRangeStrategy_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DefaultMatCalendarRangeStrategy)(i0.inject(DateAdapter));\n    };\n    static prov = /* @__PURE__ */i0.defineInjectable({\n      token: DefaultMatCalendarRangeStrategy,\n      factory: DefaultMatCalendarRangeStrategy.fac\n    });\n  }\n  return DefaultMatCalendarRangeStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst DAYS_PER_WEEK = 7;\nlet uniqueIdCounter = 0;\nlet MatMonthView = /*#__PURE__*/(() => {\n  class MatMonthView {\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _rangeStrategy = inject(MAT_DATE_RANGE_SELECTION_STRATEGY, {\n      optional: true\n    });\n    _rerenderSubscription = Subscription.EMPTY;\n    _selectionKeyPressed;\n    get activeDate() {\n      return this._activeDate;\n    }\n    set activeDate(value) {\n      const oldActiveDate = this._activeDate;\n      const validDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n      this._activeDate = this._dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n      if (!this._hasSameMonthAndYear(oldActiveDate, this._activeDate)) {\n        this._init();\n      }\n    }\n    _activeDate;\n    get selected() {\n      return this._selected;\n    }\n    set selected(value) {\n      if (value instanceof DateRange) {\n        this._selected = value;\n      } else {\n        this._selected = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      }\n      this._setRanges(this._selected);\n    }\n    _selected;\n    get minDate() {\n      return this._minDate;\n    }\n    set minDate(value) {\n      this._minDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _minDate;\n    get maxDate() {\n      return this._maxDate;\n    }\n    set maxDate(value) {\n      this._maxDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _maxDate;\n    dateFilter;\n    dateClass;\n    comparisonStart;\n    comparisonEnd;\n    startDateAccessibleName;\n    endDateAccessibleName;\n    activeDrag = null;\n    selectedChange = new EventEmitter();\n    _userSelection = new EventEmitter();\n    dragStarted = new EventEmitter();\n    dragEnded = new EventEmitter();\n    activeDateChange = new EventEmitter();\n    _matCalendarBody;\n    _monthLabel = signal('', ...(ngDevMode ? [{\n      debugName: \"_monthLabel\"\n    }] : []));\n    _weeks = signal([], ...(ngDevMode ? [{\n      debugName: \"_weeks\"\n    }] : []));\n    _firstWeekOffset = signal(0, ...(ngDevMode ? [{\n      debugName: \"_firstWeekOffset\"\n    }] : []));\n    _rangeStart = signal(null, ...(ngDevMode ? [{\n      debugName: \"_rangeStart\"\n    }] : []));\n    _rangeEnd = signal(null, ...(ngDevMode ? [{\n      debugName: \"_rangeEnd\"\n    }] : []));\n    _comparisonRangeStart = signal(null, ...(ngDevMode ? [{\n      debugName: \"_comparisonRangeStart\"\n    }] : []));\n    _comparisonRangeEnd = signal(null, ...(ngDevMode ? [{\n      debugName: \"_comparisonRangeEnd\"\n    }] : []));\n    _previewStart = signal(null, ...(ngDevMode ? [{\n      debugName: \"_previewStart\"\n    }] : []));\n    _previewEnd = signal(null, ...(ngDevMode ? [{\n      debugName: \"_previewEnd\"\n    }] : []));\n    _isRange = signal(false, ...(ngDevMode ? [{\n      debugName: \"_isRange\"\n    }] : []));\n    _todayDate = signal(null, ...(ngDevMode ? [{\n      debugName: \"_todayDate\"\n    }] : []));\n    _weekdays = signal([], ...(ngDevMode ? [{\n      debugName: \"_weekdays\"\n    }] : []));\n    constructor() {\n      inject(_CdkPrivateStyleLoader).load(_VisuallyHiddenLoader);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        if (!this._dateAdapter) {\n          throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n          throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n      }\n      this._activeDate = this._dateAdapter.today();\n    }\n    ngAfterContentInit() {\n      this._rerenderSubscription = this._dateAdapter.localeChanges.pipe(startWith(null)).subscribe(() => this._init());\n    }\n    ngOnChanges(changes) {\n      const comparisonChange = changes['comparisonStart'] || changes['comparisonEnd'];\n      if (comparisonChange && !comparisonChange.firstChange) {\n        this._setRanges(this.selected);\n      }\n      if (changes['activeDrag'] && !this.activeDrag) {\n        this._clearPreview();\n      }\n    }\n    ngOnDestroy() {\n      this._rerenderSubscription.unsubscribe();\n    }\n    _dateSelected(event) {\n      const date = event.value;\n      const selectedDate = this._getDateFromDayOfMonth(date);\n      let rangeStartDate;\n      let rangeEndDate;\n      if (this._selected instanceof DateRange) {\n        rangeStartDate = this._getDateInCurrentMonth(this._selected.start);\n        rangeEndDate = this._getDateInCurrentMonth(this._selected.end);\n      } else {\n        rangeStartDate = rangeEndDate = this._getDateInCurrentMonth(this._selected);\n      }\n      if (rangeStartDate !== date || rangeEndDate !== date) {\n        this.selectedChange.emit(selectedDate);\n      }\n      this._userSelection.emit({\n        value: selectedDate,\n        event: event.event\n      });\n      this._clearPreview();\n      this._changeDetectorRef.markForCheck();\n    }\n    _updateActiveDate(event) {\n      const month = event.value;\n      const oldActiveDate = this._activeDate;\n      this.activeDate = this._getDateFromDayOfMonth(month);\n      if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n        this.activeDateChange.emit(this._activeDate);\n      }\n    }\n    _handleCalendarBodyKeydown(event) {\n      const oldActiveDate = this._activeDate;\n      const isRtl = this._isRtl();\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, isRtl ? 1 : -1);\n          break;\n        case RIGHT_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, isRtl ? -1 : 1);\n          break;\n        case UP_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, -7);\n          break;\n        case DOWN_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, 7);\n          break;\n        case HOME:\n          this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, 1 - this._dateAdapter.getDate(this._activeDate));\n          break;\n        case END:\n          this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, this._dateAdapter.getNumDaysInMonth(this._activeDate) - this._dateAdapter.getDate(this._activeDate));\n          break;\n        case PAGE_UP:\n          this.activeDate = event.altKey ? this._dateAdapter.addCalendarYears(this._activeDate, -1) : this._dateAdapter.addCalendarMonths(this._activeDate, -1);\n          break;\n        case PAGE_DOWN:\n          this.activeDate = event.altKey ? this._dateAdapter.addCalendarYears(this._activeDate, 1) : this._dateAdapter.addCalendarMonths(this._activeDate, 1);\n          break;\n        case ENTER:\n        case SPACE:\n          this._selectionKeyPressed = true;\n          if (this._canSelect(this._activeDate)) {\n            event.preventDefault();\n          }\n          return;\n        case ESCAPE:\n          if (this._previewEnd() != null && !hasModifierKey(event)) {\n            this._clearPreview();\n            if (this.activeDrag) {\n              this.dragEnded.emit({\n                value: null,\n                event\n              });\n            } else {\n              this.selectedChange.emit(null);\n              this._userSelection.emit({\n                value: null,\n                event\n              });\n            }\n            event.preventDefault();\n            event.stopPropagation();\n          }\n          return;\n        default:\n          return;\n      }\n      if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n        this.activeDateChange.emit(this.activeDate);\n        this._focusActiveCellAfterViewChecked();\n      }\n      event.preventDefault();\n    }\n    _handleCalendarBodyKeyup(event) {\n      if (event.keyCode === SPACE || event.keyCode === ENTER) {\n        if (this._selectionKeyPressed && this._canSelect(this._activeDate)) {\n          this._dateSelected({\n            value: this._dateAdapter.getDate(this._activeDate),\n            event\n          });\n        }\n        this._selectionKeyPressed = false;\n      }\n    }\n    _init() {\n      this._setRanges(this.selected);\n      this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today()));\n      this._monthLabel.set(this._dateFormats.display.monthLabel ? this._dateAdapter.format(this.activeDate, this._dateFormats.display.monthLabel) : this._dateAdapter.getMonthNames('short')[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());\n      let firstOfMonth = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), this._dateAdapter.getMonth(this.activeDate), 1);\n      this._firstWeekOffset.set((DAYS_PER_WEEK + this._dateAdapter.getDayOfWeek(firstOfMonth) - this._dateAdapter.getFirstDayOfWeek()) % DAYS_PER_WEEK);\n      this._initWeekdays();\n      this._createWeekCells();\n      this._changeDetectorRef.markForCheck();\n    }\n    _focusActiveCell(movePreview) {\n      this._matCalendarBody._focusActiveCell(movePreview);\n    }\n    _focusActiveCellAfterViewChecked() {\n      this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked();\n    }\n    _previewChanged({\n      event,\n      value: cell\n    }) {\n      if (this._rangeStrategy) {\n        const value = cell ? cell.rawValue : null;\n        const previewRange = this._rangeStrategy.createPreview(value, this.selected, event);\n        this._previewStart.set(this._getCellCompareValue(previewRange.start));\n        this._previewEnd.set(this._getCellCompareValue(previewRange.end));\n        if (this.activeDrag && value) {\n          const dragRange = this._rangeStrategy.createDrag?.(this.activeDrag.value, this.selected, value, event);\n          if (dragRange) {\n            this._previewStart.set(this._getCellCompareValue(dragRange.start));\n            this._previewEnd.set(this._getCellCompareValue(dragRange.end));\n          }\n        }\n      }\n    }\n    _dragEnded(event) {\n      if (!this.activeDrag) return;\n      if (event.value) {\n        const dragDropResult = this._rangeStrategy?.createDrag?.(this.activeDrag.value, this.selected, event.value, event.event);\n        this.dragEnded.emit({\n          value: dragDropResult ?? null,\n          event: event.event\n        });\n      } else {\n        this.dragEnded.emit({\n          value: null,\n          event: event.event\n        });\n      }\n    }\n    _getDateFromDayOfMonth(dayOfMonth) {\n      return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), this._dateAdapter.getMonth(this.activeDate), dayOfMonth);\n    }\n    _initWeekdays() {\n      const firstDayOfWeek = this._dateAdapter.getFirstDayOfWeek();\n      const narrowWeekdays = this._dateAdapter.getDayOfWeekNames('narrow');\n      const longWeekdays = this._dateAdapter.getDayOfWeekNames('long');\n      const weekdays = longWeekdays.map((long, i) => {\n        return {\n          long,\n          narrow: narrowWeekdays[i],\n          id: uniqueIdCounter++\n        };\n      });\n      this._weekdays.set(weekdays.slice(firstDayOfWeek).concat(weekdays.slice(0, firstDayOfWeek)));\n    }\n    _createWeekCells() {\n      const daysInMonth = this._dateAdapter.getNumDaysInMonth(this.activeDate);\n      const dateNames = this._dateAdapter.getDateNames();\n      const weeks = [[]];\n      for (let i = 0, cell = this._firstWeekOffset(); i < daysInMonth; i++, cell++) {\n        if (cell == DAYS_PER_WEEK) {\n          weeks.push([]);\n          cell = 0;\n        }\n        const date = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), this._dateAdapter.getMonth(this.activeDate), i + 1);\n        const enabled = this._shouldEnableDate(date);\n        const ariaLabel = this._dateAdapter.format(date, this._dateFormats.display.dateA11yLabel);\n        const cellClasses = this.dateClass ? this.dateClass(date, 'month') : undefined;\n        weeks[weeks.length - 1].push(new MatCalendarCell(i + 1, dateNames[i], ariaLabel, enabled, cellClasses, this._getCellCompareValue(date), date));\n      }\n      this._weeks.set(weeks);\n    }\n    _shouldEnableDate(date) {\n      return !!date && (!this.minDate || this._dateAdapter.compareDate(date, this.minDate) >= 0) && (!this.maxDate || this._dateAdapter.compareDate(date, this.maxDate) <= 0) && (!this.dateFilter || this.dateFilter(date));\n    }\n    _getDateInCurrentMonth(date) {\n      return date && this._hasSameMonthAndYear(date, this.activeDate) ? this._dateAdapter.getDate(date) : null;\n    }\n    _hasSameMonthAndYear(d1, d2) {\n      return !!(d1 && d2 && this._dateAdapter.getMonth(d1) == this._dateAdapter.getMonth(d2) && this._dateAdapter.getYear(d1) == this._dateAdapter.getYear(d2));\n    }\n    _getCellCompareValue(date) {\n      if (date) {\n        const year = this._dateAdapter.getYear(date);\n        const month = this._dateAdapter.getMonth(date);\n        const day = this._dateAdapter.getDate(date);\n        return new Date(year, month, day).getTime();\n      }\n      return null;\n    }\n    _isRtl() {\n      return this._dir && this._dir.value === 'rtl';\n    }\n    _setRanges(selectedValue) {\n      if (selectedValue instanceof DateRange) {\n        this._rangeStart.set(this._getCellCompareValue(selectedValue.start));\n        this._rangeEnd.set(this._getCellCompareValue(selectedValue.end));\n        this._isRange.set(true);\n      } else {\n        this._rangeStart.set(this._getCellCompareValue(selectedValue));\n        this._rangeEnd.set(this._rangeStart());\n        this._isRange.set(false);\n      }\n      this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart));\n      this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd));\n    }\n    _canSelect(date) {\n      return !this.dateFilter || this.dateFilter(date);\n    }\n    _clearPreview() {\n      this._previewStart.set(null);\n      this._previewEnd.set(null);\n    }\n    static fac = function MatMonthView_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatMonthView)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatMonthView,\n      selectors: [[\"mat-month-view\"]],\n      viewQuery: function MatMonthView_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(MatCalendarBody, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._matCalendarBody = _t.first);\n        }\n      },\n      inputs: {\n        activeDate: \"activeDate\",\n        selected: \"selected\",\n        minDate: \"minDate\",\n        maxDate: \"maxDate\",\n        dateFilter: \"dateFilter\",\n        dateClass: \"dateClass\",\n        comparisonStart: \"comparisonStart\",\n        comparisonEnd: \"comparisonEnd\",\n        startDateAccessibleName: \"startDateAccessibleName\",\n        endDateAccessibleName: \"endDateAccessibleName\",\n        activeDrag: \"activeDrag\"\n      },\n      outputs: {\n        selectedChange: \"selectedChange\",\n        _userSelection: \"_userSelection\",\n        dragStarted: \"dragStarted\",\n        dragEnded: \"dragEnded\",\n        activeDateChange: \"activeDateChange\"\n      },\n      exportAs: [\"matMonthView\"],\n      features: [i0.NgOnChangesFeature],\n      decls: 8,\n      vars: 14,\n      consts: [[\"role\", \"grid\", 1, \"mat-calendar-table\"], [1, \"mat-calendar-table-header\"], [\"scope\", \"col\"], [\"aria-hidden\", \"true\"], [\"colspan\", \"7\", 1, \"mat-calendar-table-header-divider\"], [\"mat-calendar-body\", \"\", 3, \"selectedValueChange\", \"activeDateChange\", \"previewChange\", \"dragStarted\", \"dragEnded\", \"keyup\", \"keydown\", \"label\", \"rows\", \"todayValue\", \"startValue\", \"endValue\", \"comparisonStart\", \"comparisonEnd\", \"previewStart\", \"previewEnd\", \"isRange\", \"labelMinRequiredCells\", \"activeCell\", \"startDateAccessibleName\", \"endDateAccessibleName\"], [1, \"cdk-visually-hidden\"]],\n      template: function MatMonthView_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.elementStart(0, \"table\", 0)(1, \"thead\", 1)(2, \"tr\");\n          i0.repeaterCreate(3, MatMonthView_For_4_Template, 5, 2, \"th\", 2, _forTrack1);\n          i0.elementEnd();\n          i0.elementStart(5, \"tr\", 3);\n          i0.element(6, \"th\", 4);\n          i0.elementEnd()();\n          i0.elementStart(7, \"tbody\", 5);\n          i0.listener(\"selectedValueChange\", function MatMonthView_Template_tbody_selectedValueChange_7_listener($event) {\n            return ctx._dateSelected($event);\n          })(\"activeDateChange\", function MatMonthView_Template_tbody_activeDateChange_7_listener($event) {\n            return ctx._updateActiveDate($event);\n          })(\"previewChange\", function MatMonthView_Template_tbody_previewChange_7_listener($event) {\n            return ctx._previewChanged($event);\n          })(\"dragStarted\", function MatMonthView_Template_tbody_dragStarted_7_listener($event) {\n            return ctx.dragStarted.emit($event);\n          })(\"dragEnded\", function MatMonthView_Template_tbody_dragEnded_7_listener($event) {\n            return ctx._dragEnded($event);\n          })(\"keyup\", function MatMonthView_Template_tbody_keyup_7_listener($event) {\n            return ctx._handleCalendarBodyKeyup($event);\n          })(\"keydown\", function MatMonthView_Template_tbody_keydown_7_listener($event) {\n            return ctx._handleCalendarBodyKeydown($event);\n          });\n          i0.elementEnd()();\n        }\n        if (rf & 2) {\n          i0.advance(3);\n          i0.repeater(ctx._weekdays());\n          i0.advance(4);\n          i0.property(\"label\", ctx._monthLabel())(\"rows\", ctx._weeks())(\"todayValue\", ctx._todayDate())(\"startValue\", ctx._rangeStart())(\"endValue\", ctx._rangeEnd())(\"comparisonStart\", ctx._comparisonRangeStart())(\"comparisonEnd\", ctx._comparisonRangeEnd())(\"previewStart\", ctx._previewStart())(\"previewEnd\", ctx._previewEnd())(\"isRange\", ctx._isRange())(\"labelMinRequiredCells\", 3)(\"activeCell\", ctx._dateAdapter.getDate(ctx.activeDate) - 1)(\"startDateAccessibleName\", ctx.startDateAccessibleName)(\"endDateAccessibleName\", ctx.endDateAccessibleName);\n        }\n      },\n      dependencies: [MatCalendarBody],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatMonthView;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst yearsPerPage = 24;\nconst yearsPerRow = 4;\nlet MatMultiYearView = /*#__PURE__*/(() => {\n  class MatMultiYearView {\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _rerenderSubscription = Subscription.EMPTY;\n    _selectionKeyPressed;\n    get activeDate() {\n      return this._activeDate;\n    }\n    set activeDate(value) {\n      let oldActiveDate = this._activeDate;\n      const validDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n      this._activeDate = this._dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n      if (!isSameMultiYearView(this._dateAdapter, oldActiveDate, this._activeDate, this.minDate, this.maxDate)) {\n        this._init();\n      }\n    }\n    _activeDate;\n    get selected() {\n      return this._selected;\n    }\n    set selected(value) {\n      if (value instanceof DateRange) {\n        this._selected = value;\n      } else {\n        this._selected = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      }\n      this._setSelectedYear(value);\n    }\n    _selected;\n    get minDate() {\n      return this._minDate;\n    }\n    set minDate(value) {\n      this._minDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _minDate;\n    get maxDate() {\n      return this._maxDate;\n    }\n    set maxDate(value) {\n      this._maxDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _maxDate;\n    dateFilter;\n    dateClass;\n    selectedChange = new EventEmitter();\n    yearSelected = new EventEmitter();\n    activeDateChange = new EventEmitter();\n    _matCalendarBody;\n    _years = signal([], ...(ngDevMode ? [{\n      debugName: \"_years\"\n    }] : []));\n    _todayYear = signal(0, ...(ngDevMode ? [{\n      debugName: \"_todayYear\"\n    }] : []));\n    _selectedYear = signal(null, ...(ngDevMode ? [{\n      debugName: \"_selectedYear\"\n    }] : []));\n    constructor() {\n      if (!this._dateAdapter && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw createMissingDateImplError('DateAdapter');\n      }\n      this._activeDate = this._dateAdapter.today();\n    }\n    ngAfterContentInit() {\n      this._rerenderSubscription = this._dateAdapter.localeChanges.pipe(startWith(null)).subscribe(() => this._init());\n    }\n    ngOnDestroy() {\n      this._rerenderSubscription.unsubscribe();\n    }\n    _init() {\n      this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));\n      const activeYear = this._dateAdapter.getYear(this._activeDate);\n      const minYearOfPage = activeYear - getActiveOffset(this._dateAdapter, this.activeDate, this.minDate, this.maxDate);\n      const years = [];\n      for (let i = 0, row = []; i < yearsPerPage; i++) {\n        row.push(minYearOfPage + i);\n        if (row.length == yearsPerRow) {\n          years.push(row.map(year => this._createCellForYear(year)));\n          row = [];\n        }\n      }\n      this._years.set(years);\n      this._changeDetectorRef.markForCheck();\n    }\n    _yearSelected(event) {\n      const year = event.value;\n      const selectedYear = this._dateAdapter.createDate(year, 0, 1);\n      const selectedDate = this._getDateFromYear(year);\n      this.yearSelected.emit(selectedYear);\n      this.selectedChange.emit(selectedDate);\n    }\n    _updateActiveDate(event) {\n      const year = event.value;\n      const oldActiveDate = this._activeDate;\n      this.activeDate = this._getDateFromYear(year);\n      if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n        this.activeDateChange.emit(this.activeDate);\n      }\n    }\n    _handleCalendarBodyKeydown(event) {\n      const oldActiveDate = this._activeDate;\n      const isRtl = this._isRtl();\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, isRtl ? 1 : -1);\n          break;\n        case RIGHT_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, isRtl ? -1 : 1);\n          break;\n        case UP_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, -yearsPerRow);\n          break;\n        case DOWN_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, yearsPerRow);\n          break;\n        case HOME:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, -getActiveOffset(this._dateAdapter, this.activeDate, this.minDate, this.maxDate));\n          break;\n        case END:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, yearsPerPage - getActiveOffset(this._dateAdapter, this.activeDate, this.minDate, this.maxDate) - 1);\n          break;\n        case PAGE_UP:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -yearsPerPage * 10 : -yearsPerPage);\n          break;\n        case PAGE_DOWN:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? yearsPerPage * 10 : yearsPerPage);\n          break;\n        case ENTER:\n        case SPACE:\n          this._selectionKeyPressed = true;\n          break;\n        default:\n          return;\n      }\n      if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n        this.activeDateChange.emit(this.activeDate);\n      }\n      this._focusActiveCellAfterViewChecked();\n      event.preventDefault();\n    }\n    _handleCalendarBodyKeyup(event) {\n      if (event.keyCode === SPACE || event.keyCode === ENTER) {\n        if (this._selectionKeyPressed) {\n          this._yearSelected({\n            value: this._dateAdapter.getYear(this._activeDate),\n            event\n          });\n        }\n        this._selectionKeyPressed = false;\n      }\n    }\n    _getActiveCell() {\n      return getActiveOffset(this._dateAdapter, this.activeDate, this.minDate, this.maxDate);\n    }\n    _focusActiveCell() {\n      this._matCalendarBody._focusActiveCell();\n    }\n    _focusActiveCellAfterViewChecked() {\n      this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked();\n    }\n    _getDateFromYear(year) {\n      const activeMonth = this._dateAdapter.getMonth(this.activeDate);\n      const daysInMonth = this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(year, activeMonth, 1));\n      const normalizedDate = this._dateAdapter.createDate(year, activeMonth, Math.min(this._dateAdapter.getDate(this.activeDate), daysInMonth));\n      return normalizedDate;\n    }\n    _createCellForYear(year) {\n      const date = this._dateAdapter.createDate(year, 0, 1);\n      const yearName = this._dateAdapter.getYearName(date);\n      const cellClasses = this.dateClass ? this.dateClass(date, 'multi-year') : undefined;\n      return new MatCalendarCell(year, yearName, yearName, this._shouldEnableYear(year), cellClasses);\n    }\n    _shouldEnableYear(year) {\n      if (year === undefined || year === null || this.maxDate && year > this._dateAdapter.getYear(this.maxDate) || this.minDate && year < this._dateAdapter.getYear(this.minDate)) {\n        return false;\n      }\n      if (!this.dateFilter) {\n        return true;\n      }\n      const firstOfYear = this._dateAdapter.createDate(year, 0, 1);\n      for (let date = firstOfYear; this._dateAdapter.getYear(date) == year; date = this._dateAdapter.addCalendarDays(date, 1)) {\n        if (this.dateFilter(date)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    _isRtl() {\n      return this._dir && this._dir.value === 'rtl';\n    }\n    _setSelectedYear(value) {\n      this._selectedYear.set(null);\n      if (value instanceof DateRange) {\n        const displayValue = value.start || value.end;\n        if (displayValue) {\n          this._selectedYear.set(this._dateAdapter.getYear(displayValue));\n        }\n      } else if (value) {\n        this._selectedYear.set(this._dateAdapter.getYear(value));\n      }\n    }\n    static fac = function MatMultiYearView_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatMultiYearView)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatMultiYearView,\n      selectors: [[\"mat-multi-year-view\"]],\n      viewQuery: function MatMultiYearView_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(MatCalendarBody, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._matCalendarBody = _t.first);\n        }\n      },\n      inputs: {\n        activeDate: \"activeDate\",\n        selected: \"selected\",\n        minDate: \"minDate\",\n        maxDate: \"maxDate\",\n        dateFilter: \"dateFilter\",\n        dateClass: \"dateClass\"\n      },\n      outputs: {\n        selectedChange: \"selectedChange\",\n        yearSelected: \"yearSelected\",\n        activeDateChange: \"activeDateChange\"\n      },\n      exportAs: [\"matMultiYearView\"],\n      decls: 5,\n      vars: 7,\n      consts: [[\"role\", \"grid\", 1, \"mat-calendar-table\"], [\"aria-hidden\", \"true\", 1, \"mat-calendar-table-header\"], [\"colspan\", \"4\", 1, \"mat-calendar-table-header-divider\"], [\"mat-calendar-body\", \"\", 3, \"selectedValueChange\", \"activeDateChange\", \"keyup\", \"keydown\", \"rows\", \"todayValue\", \"startValue\", \"endValue\", \"numCols\", \"cellAspectRatio\", \"activeCell\"]],\n      template: function MatMultiYearView_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.elementStart(0, \"table\", 0)(1, \"thead\", 1)(2, \"tr\");\n          i0.element(3, \"th\", 2);\n          i0.elementEnd()();\n          i0.elementStart(4, \"tbody\", 3);\n          i0.listener(\"selectedValueChange\", function MatMultiYearView_Template_tbody_selectedValueChange_4_listener($event) {\n            return ctx._yearSelected($event);\n          })(\"activeDateChange\", function MatMultiYearView_Template_tbody_activeDateChange_4_listener($event) {\n            return ctx._updateActiveDate($event);\n          })(\"keyup\", function MatMultiYearView_Template_tbody_keyup_4_listener($event) {\n            return ctx._handleCalendarBodyKeyup($event);\n          })(\"keydown\", function MatMultiYearView_Template_tbody_keydown_4_listener($event) {\n            return ctx._handleCalendarBodyKeydown($event);\n          });\n          i0.elementEnd()();\n        }\n        if (rf & 2) {\n          i0.advance(4);\n          i0.property(\"rows\", ctx._years())(\"todayValue\", ctx._todayYear())(\"startValue\", ctx._selectedYear())(\"endValue\", ctx._selectedYear())(\"numCols\", 4)(\"cellAspectRatio\", 4 / 7)(\"activeCell\", ctx._getActiveCell());\n        }\n      },\n      dependencies: [MatCalendarBody],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatMultiYearView;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isSameMultiYearView(dateAdapter, date1, date2, minDate, maxDate) {\n  const year1 = dateAdapter.getYear(date1);\n  const year2 = dateAdapter.getYear(date2);\n  const startingYear = getStartingYear(dateAdapter, minDate, maxDate);\n  return Math.floor((year1 - startingYear) / yearsPerPage) === Math.floor((year2 - startingYear) / yearsPerPage);\n}\nfunction getActiveOffset(dateAdapter, activeDate, minDate, maxDate) {\n  const activeYear = dateAdapter.getYear(activeDate);\n  return euclideanModulo(activeYear - getStartingYear(dateAdapter, minDate, maxDate), yearsPerPage);\n}\nfunction getStartingYear(dateAdapter, minDate, maxDate) {\n  let startingYear = 0;\n  if (maxDate) {\n    const maxYear = dateAdapter.getYear(maxDate);\n    startingYear = maxYear - yearsPerPage + 1;\n  } else if (minDate) {\n    startingYear = dateAdapter.getYear(minDate);\n  }\n  return startingYear;\n}\nfunction euclideanModulo(a, b) {\n  return (a % b + b) % b;\n}\nlet MatYearView = /*#__PURE__*/(() => {\n  class MatYearView {\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _rerenderSubscription = Subscription.EMPTY;\n    _selectionKeyPressed;\n    get activeDate() {\n      return this._activeDate;\n    }\n    set activeDate(value) {\n      let oldActiveDate = this._activeDate;\n      const validDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n      this._activeDate = this._dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n      if (this._dateAdapter.getYear(oldActiveDate) !== this._dateAdapter.getYear(this._activeDate)) {\n        this._init();\n      }\n    }\n    _activeDate;\n    get selected() {\n      return this._selected;\n    }\n    set selected(value) {\n      if (value instanceof DateRange) {\n        this._selected = value;\n      } else {\n        this._selected = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      }\n      this._setSelectedMonth(value);\n    }\n    _selected;\n    get minDate() {\n      return this._minDate;\n    }\n    set minDate(value) {\n      this._minDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _minDate;\n    get maxDate() {\n      return this._maxDate;\n    }\n    set maxDate(value) {\n      this._maxDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _maxDate;\n    dateFilter;\n    dateClass;\n    selectedChange = new EventEmitter();\n    monthSelected = new EventEmitter();\n    activeDateChange = new EventEmitter();\n    _matCalendarBody;\n    _months = signal([], ...(ngDevMode ? [{\n      debugName: \"_months\"\n    }] : []));\n    _yearLabel = signal('', ...(ngDevMode ? [{\n      debugName: \"_yearLabel\"\n    }] : []));\n    _todayMonth = signal(null, ...(ngDevMode ? [{\n      debugName: \"_todayMonth\"\n    }] : []));\n    _selectedMonth = signal(null, ...(ngDevMode ? [{\n      debugName: \"_selectedMonth\"\n    }] : []));\n    constructor() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        if (!this._dateAdapter) {\n          throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n          throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n      }\n      this._activeDate = this._dateAdapter.today();\n    }\n    ngAfterContentInit() {\n      this._rerenderSubscription = this._dateAdapter.localeChanges.pipe(startWith(null)).subscribe(() => this._init());\n    }\n    ngOnDestroy() {\n      this._rerenderSubscription.unsubscribe();\n    }\n    _monthSelected(event) {\n      const month = event.value;\n      const selectedMonth = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1);\n      this.monthSelected.emit(selectedMonth);\n      const selectedDate = this._getDateFromMonth(month);\n      this.selectedChange.emit(selectedDate);\n    }\n    _updateActiveDate(event) {\n      const month = event.value;\n      const oldActiveDate = this._activeDate;\n      this.activeDate = this._getDateFromMonth(month);\n      if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n        this.activeDateChange.emit(this.activeDate);\n      }\n    }\n    _handleCalendarBodyKeydown(event) {\n      const oldActiveDate = this._activeDate;\n      const isRtl = this._isRtl();\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, isRtl ? 1 : -1);\n          break;\n        case RIGHT_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, isRtl ? -1 : 1);\n          break;\n        case UP_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, -4);\n          break;\n        case DOWN_ARROW:\n          this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, 4);\n          break;\n        case HOME:\n          this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, -this._dateAdapter.getMonth(this._activeDate));\n          break;\n        case END:\n          this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, 11 - this._dateAdapter.getMonth(this._activeDate));\n          break;\n        case PAGE_UP:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -10 : -1);\n          break;\n        case PAGE_DOWN:\n          this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? 10 : 1);\n          break;\n        case ENTER:\n        case SPACE:\n          this._selectionKeyPressed = true;\n          break;\n        default:\n          return;\n      }\n      if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n        this.activeDateChange.emit(this.activeDate);\n        this._focusActiveCellAfterViewChecked();\n      }\n      event.preventDefault();\n    }\n    _handleCalendarBodyKeyup(event) {\n      if (event.keyCode === SPACE || event.keyCode === ENTER) {\n        if (this._selectionKeyPressed) {\n          this._monthSelected({\n            value: this._dateAdapter.getMonth(this._activeDate),\n            event\n          });\n        }\n        this._selectionKeyPressed = false;\n      }\n    }\n    _init() {\n      this._setSelectedMonth(this.selected);\n      this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today()));\n      this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));\n      let monthNames = this._dateAdapter.getMonthNames('short');\n      this._months.set([[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]].map(row => row.map(month => this._createCellForMonth(month, monthNames[month]))));\n      this._changeDetectorRef.markForCheck();\n    }\n    _focusActiveCell() {\n      this._matCalendarBody._focusActiveCell();\n    }\n    _focusActiveCellAfterViewChecked() {\n      this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked();\n    }\n    _getMonthInCurrentYear(date) {\n      return date && this._dateAdapter.getYear(date) == this._dateAdapter.getYear(this.activeDate) ? this._dateAdapter.getMonth(date) : null;\n    }\n    _getDateFromMonth(month) {\n      const normalizedDate = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1);\n      const daysInMonth = this._dateAdapter.getNumDaysInMonth(normalizedDate);\n      return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, Math.min(this._dateAdapter.getDate(this.activeDate), daysInMonth));\n    }\n    _createCellForMonth(month, monthName) {\n      const date = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1);\n      const ariaLabel = this._dateAdapter.format(date, this._dateFormats.display.monthYearA11yLabel);\n      const cellClasses = this.dateClass ? this.dateClass(date, 'year') : undefined;\n      return new MatCalendarCell(month, monthName.toLocaleUpperCase(), ariaLabel, this._shouldEnableMonth(month), cellClasses);\n    }\n    _shouldEnableMonth(month) {\n      const activeYear = this._dateAdapter.getYear(this.activeDate);\n      if (month === undefined || month === null || this._isYearAndMonthAfterMaxDate(activeYear, month) || this._isYearAndMonthBeforeMinDate(activeYear, month)) {\n        return false;\n      }\n      if (!this.dateFilter) {\n        return true;\n      }\n      const firstOfMonth = this._dateAdapter.createDate(activeYear, month, 1);\n      for (let date = firstOfMonth; this._dateAdapter.getMonth(date) == month; date = this._dateAdapter.addCalendarDays(date, 1)) {\n        if (this.dateFilter(date)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    _isYearAndMonthAfterMaxDate(year, month) {\n      if (this.maxDate) {\n        const maxYear = this._dateAdapter.getYear(this.maxDate);\n        const maxMonth = this._dateAdapter.getMonth(this.maxDate);\n        return year > maxYear || year === maxYear && month > maxMonth;\n      }\n      return false;\n    }\n    _isYearAndMonthBeforeMinDate(year, month) {\n      if (this.minDate) {\n        const minYear = this._dateAdapter.getYear(this.minDate);\n        const minMonth = this._dateAdapter.getMonth(this.minDate);\n        return year < minYear || year === minYear && month < minMonth;\n      }\n      return false;\n    }\n    _isRtl() {\n      return this._dir && this._dir.value === 'rtl';\n    }\n    _setSelectedMonth(value) {\n      if (value instanceof DateRange) {\n        this._selectedMonth.set(this._getMonthInCurrentYear(value.start) || this._getMonthInCurrentYear(value.end));\n      } else {\n        this._selectedMonth.set(this._getMonthInCurrentYear(value));\n      }\n    }\n    static fac = function MatYearView_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatYearView)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatYearView,\n      selectors: [[\"mat-year-view\"]],\n      viewQuery: function MatYearView_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(MatCalendarBody, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._matCalendarBody = _t.first);\n        }\n      },\n      inputs: {\n        activeDate: \"activeDate\",\n        selected: \"selected\",\n        minDate: \"minDate\",\n        maxDate: \"maxDate\",\n        dateFilter: \"dateFilter\",\n        dateClass: \"dateClass\"\n      },\n      outputs: {\n        selectedChange: \"selectedChange\",\n        monthSelected: \"monthSelected\",\n        activeDateChange: \"activeDateChange\"\n      },\n      exportAs: [\"matYearView\"],\n      decls: 5,\n      vars: 9,\n      consts: [[\"role\", \"grid\", 1, \"mat-calendar-table\"], [\"aria-hidden\", \"true\", 1, \"mat-calendar-table-header\"], [\"colspan\", \"4\", 1, \"mat-calendar-table-header-divider\"], [\"mat-calendar-body\", \"\", 3, \"selectedValueChange\", \"activeDateChange\", \"keyup\", \"keydown\", \"label\", \"rows\", \"todayValue\", \"startValue\", \"endValue\", \"labelMinRequiredCells\", \"numCols\", \"cellAspectRatio\", \"activeCell\"]],\n      template: function MatYearView_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.elementStart(0, \"table\", 0)(1, \"thead\", 1)(2, \"tr\");\n          i0.element(3, \"th\", 2);\n          i0.elementEnd()();\n          i0.elementStart(4, \"tbody\", 3);\n          i0.listener(\"selectedValueChange\", function MatYearView_Template_tbody_selectedValueChange_4_listener($event) {\n            return ctx._monthSelected($event);\n          })(\"activeDateChange\", function MatYearView_Template_tbody_activeDateChange_4_listener($event) {\n            return ctx._updateActiveDate($event);\n          })(\"keyup\", function MatYearView_Template_tbody_keyup_4_listener($event) {\n            return ctx._handleCalendarBodyKeyup($event);\n          })(\"keydown\", function MatYearView_Template_tbody_keydown_4_listener($event) {\n            return ctx._handleCalendarBodyKeydown($event);\n          });\n          i0.elementEnd()();\n        }\n        if (rf & 2) {\n          i0.advance(4);\n          i0.property(\"label\", ctx._yearLabel())(\"rows\", ctx._months())(\"todayValue\", ctx._todayMonth())(\"startValue\", ctx._selectedMonth())(\"endValue\", ctx._selectedMonth())(\"labelMinRequiredCells\", 2)(\"numCols\", 4)(\"cellAspectRatio\", 4 / 7)(\"activeCell\", ctx._dateAdapter.getMonth(ctx.activeDate));\n        }\n      },\n      dependencies: [MatCalendarBody],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatYearView;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatCalendarHeader = /*#__PURE__*/(() => {\n  class MatCalendarHeader {\n    _intl = inject(MatDatepickerIntl);\n    calendar = inject(MatCalendar);\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _periodButtonText;\n    _periodButtonDescription;\n    _periodButtonLabel;\n    _prevButtonLabel;\n    _nextButtonLabel;\n    constructor() {\n      inject(_CdkPrivateStyleLoader).load(_VisuallyHiddenLoader);\n      const changeDetectorRef = inject(ChangeDetectorRef);\n      this._updateLabels();\n      this.calendar.stateChanges.subscribe(() => {\n        this._updateLabels();\n        changeDetectorRef.markForCheck();\n      });\n    }\n    get periodButtonText() {\n      return this._periodButtonText;\n    }\n    get periodButtonDescription() {\n      return this._periodButtonDescription;\n    }\n    get periodButtonLabel() {\n      return this._periodButtonLabel;\n    }\n    get prevButtonLabel() {\n      return this._prevButtonLabel;\n    }\n    get nextButtonLabel() {\n      return this._nextButtonLabel;\n    }\n    currentPeriodClicked() {\n      this.calendar.currentView = this.calendar.currentView == 'month' ? 'multi-year' : 'month';\n    }\n    previousClicked() {\n      if (this.previousEnabled()) {\n        this.calendar.activeDate = this.calendar.currentView == 'month' ? this._dateAdapter.addCalendarMonths(this.calendar.activeDate, -1) : this._dateAdapter.addCalendarYears(this.calendar.activeDate, this.calendar.currentView == 'year' ? -1 : -yearsPerPage);\n      }\n    }\n    nextClicked() {\n      if (this.nextEnabled()) {\n        this.calendar.activeDate = this.calendar.currentView == 'month' ? this._dateAdapter.addCalendarMonths(this.calendar.activeDate, 1) : this._dateAdapter.addCalendarYears(this.calendar.activeDate, this.calendar.currentView == 'year' ? 1 : yearsPerPage);\n      }\n    }\n    previousEnabled() {\n      if (!this.calendar.minDate) {\n        return true;\n      }\n      return !this.calendar.minDate || !this._isSameView(this.calendar.activeDate, this.calendar.minDate);\n    }\n    nextEnabled() {\n      return !this.calendar.maxDate || !this._isSameView(this.calendar.activeDate, this.calendar.maxDate);\n    }\n    _updateLabels() {\n      const calendar = this.calendar;\n      const intl = this._intl;\n      const adapter = this._dateAdapter;\n      if (calendar.currentView === 'month') {\n        this._periodButtonText = adapter.format(calendar.activeDate, this._dateFormats.display.monthYearLabel).toLocaleUpperCase();\n        this._periodButtonDescription = adapter.format(calendar.activeDate, this._dateFormats.display.monthYearLabel).toLocaleUpperCase();\n        this._periodButtonLabel = intl.switchToMultiYearViewLabel;\n        this._prevButtonLabel = intl.prevMonthLabel;\n        this._nextButtonLabel = intl.nextMonthLabel;\n      } else if (calendar.currentView === 'year') {\n        this._periodButtonText = adapter.getYearName(calendar.activeDate);\n        this._periodButtonDescription = adapter.getYearName(calendar.activeDate);\n        this._periodButtonLabel = intl.switchToMonthViewLabel;\n        this._prevButtonLabel = intl.prevYearLabel;\n        this._nextButtonLabel = intl.nextYearLabel;\n      } else {\n        this._periodButtonText = intl.formatYearRange(...this._formatMinAndMaxYearLabels());\n        this._periodButtonDescription = intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels());\n        this._periodButtonLabel = intl.switchToMonthViewLabel;\n        this._prevButtonLabel = intl.prevMultiYearLabel;\n        this._nextButtonLabel = intl.nextMultiYearLabel;\n      }\n    }\n    _isSameView(date1, date2) {\n      if (this.calendar.currentView == 'month') {\n        return this._dateAdapter.getYear(date1) == this._dateAdapter.getYear(date2) && this._dateAdapter.getMonth(date1) == this._dateAdapter.getMonth(date2);\n      }\n      if (this.calendar.currentView == 'year') {\n        return this._dateAdapter.getYear(date1) == this._dateAdapter.getYear(date2);\n      }\n      return isSameMultiYearView(this._dateAdapter, date1, date2, this.calendar.minDate, this.calendar.maxDate);\n    }\n    _formatMinAndMaxYearLabels() {\n      const activeYear = this._dateAdapter.getYear(this.calendar.activeDate);\n      const minYearOfPage = activeYear - getActiveOffset(this._dateAdapter, this.calendar.activeDate, this.calendar.minDate, this.calendar.maxDate);\n      const maxYearOfPage = minYearOfPage + yearsPerPage - 1;\n      const minYearLabel = this._dateAdapter.getYearName(this._dateAdapter.createDate(minYearOfPage, 0, 1));\n      const maxYearLabel = this._dateAdapter.getYearName(this._dateAdapter.createDate(maxYearOfPage, 0, 1));\n      return [minYearLabel, maxYearLabel];\n    }\n    _periodButtonLabelId = inject(_IdGenerator).getId('mat-calendar-period-label-');\n    static fac = function MatCalendarHeader_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatCalendarHeader)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatCalendarHeader,\n      selectors: [[\"mat-calendar-header\"]],\n      exportAs: [\"matCalendarHeader\"],\n      ngContentSelectors: _c1,\n      decls: 17,\n      vars: 13,\n      consts: [[1, \"mat-calendar-header\"], [1, \"mat-calendar-controls\"], [\"aria-live\", \"polite\", 1, \"cdk-visually-hidden\", 3, \"id\"], [\"matButton\", \"\", \"type\", \"button\", 1, \"mat-calendar-period-button\", 3, \"click\"], [\"aria-hidden\", \"true\"], [\"viewBox\", \"0 0 10 5\", \"focusable\", \"false\", \"aria-hidden\", \"true\", 1, \"mat-calendar-arrow\"], [\"points\", \"0,0 5,5 10,0\"], [1, \"mat-calendar-spacer\"], [\"matIconButton\", \"\", \"type\", \"button\", \"disabledInteractive\", \"\", 1, \"mat-calendar-previous-button\", 3, \"click\", \"disabled\", \"matTooltip\"], [\"viewBox\", \"0 0 24 24\", \"focusable\", \"false\", \"aria-hidden\", \"true\"], [\"d\", \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"], [\"matIconButton\", \"\", \"type\", \"button\", \"disabledInteractive\", \"\", 1, \"mat-calendar-next-button\", 3, \"click\", \"disabled\", \"matTooltip\"], [\"d\", \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"]],\n      template: function MatCalendarHeader_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.elementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2);\n          i0.text(3);\n          i0.elementEnd();\n          i0.elementStart(4, \"button\", 3);\n          i0.listener(\"click\", function MatCalendarHeader_Template_button_click_4_listener() {\n            return ctx.currentPeriodClicked();\n          });\n          i0.elementStart(5, \"span\", 4);\n          i0.text(6);\n          i0.elementEnd();\n          i0.namespaceSVG();\n          i0.elementStart(7, \"svg\", 5);\n          i0.element(8, \"polygon\", 6);\n          i0.elementEnd()();\n          i0.namespaceHTML();\n          i0.element(9, \"div\", 7);\n          i0.projection(10);\n          i0.elementStart(11, \"button\", 8);\n          i0.listener(\"click\", function MatCalendarHeader_Template_button_click_11_listener() {\n            return ctx.previousClicked();\n          });\n          i0.namespaceSVG();\n          i0.elementStart(12, \"svg\", 9);\n          i0.element(13, \"path\", 10);\n          i0.elementEnd()();\n          i0.namespaceHTML();\n          i0.elementStart(14, \"button\", 11);\n          i0.listener(\"click\", function MatCalendarHeader_Template_button_click_14_listener() {\n            return ctx.nextClicked();\n          });\n          i0.namespaceSVG();\n          i0.elementStart(15, \"svg\", 9);\n          i0.element(16, \"path\", 12);\n          i0.elementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.advance(2);\n          i0.property(\"id\", ctx._periodButtonLabelId);\n          i0.advance();\n          i0.textInterpolate(ctx.periodButtonDescription);\n          i0.advance();\n          i0.attribute(\"aria-label\", ctx.periodButtonLabel)(\"aria-describedby\", ctx._periodButtonLabelId);\n          i0.advance(2);\n          i0.textInterpolate(ctx.periodButtonText);\n          i0.advance();\n          i0.classProp(\"mat-calendar-invert\", ctx.calendar.currentView !== \"month\");\n          i0.advance(4);\n          i0.property(\"disabled\", !ctx.previousEnabled())(\"matTooltip\", ctx.prevButtonLabel);\n          i0.attribute(\"aria-label\", ctx.prevButtonLabel);\n          i0.advance(3);\n          i0.property(\"disabled\", !ctx.nextEnabled())(\"matTooltip\", ctx.nextButtonLabel);\n          i0.attribute(\"aria-label\", ctx.nextButtonLabel);\n        }\n      },\n      dependencies: [MatButton, MatIconButton, MatTooltip],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatCalendarHeader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatCalendar = /*#__PURE__*/(() => {\n  class MatCalendar {\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _elementRef = inject(ElementRef);\n    headerComponent;\n    _calendarHeaderPortal;\n    _intlChanges;\n    _moveFocusOnNextTick = false;\n    get startAt() {\n      return this._startAt;\n    }\n    set startAt(value) {\n      this._startAt = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _startAt;\n    startView = 'month';\n    get selected() {\n      return this._selected;\n    }\n    set selected(value) {\n      if (value instanceof DateRange) {\n        this._selected = value;\n      } else {\n        this._selected = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      }\n    }\n    _selected;\n    get minDate() {\n      return this._minDate;\n    }\n    set minDate(value) {\n      this._minDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _minDate;\n    get maxDate() {\n      return this._maxDate;\n    }\n    set maxDate(value) {\n      this._maxDate = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _maxDate;\n    dateFilter;\n    dateClass;\n    comparisonStart;\n    comparisonEnd;\n    startDateAccessibleName;\n    endDateAccessibleName;\n    selectedChange = new EventEmitter();\n    yearSelected = new EventEmitter();\n    monthSelected = new EventEmitter();\n    viewChanged = new EventEmitter(true);\n    _userSelection = new EventEmitter();\n    _userDragDrop = new EventEmitter();\n    monthView;\n    yearView;\n    multiYearView;\n    get activeDate() {\n      return this._clampedActiveDate;\n    }\n    set activeDate(value) {\n      this._clampedActiveDate = this._dateAdapter.clampDate(value, this.minDate, this.maxDate);\n      this.stateChanges.next();\n      this._changeDetectorRef.markForCheck();\n    }\n    _clampedActiveDate;\n    get currentView() {\n      return this._currentView;\n    }\n    set currentView(value) {\n      const viewChangedResult = this._currentView !== value ? value : null;\n      this._currentView = value;\n      this._moveFocusOnNextTick = true;\n      this._changeDetectorRef.markForCheck();\n      if (viewChangedResult) {\n        this.stateChanges.next();\n        this.viewChanged.emit(viewChangedResult);\n      }\n    }\n    _currentView;\n    _activeDrag = null;\n    stateChanges = new Subject();\n    constructor() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        if (!this._dateAdapter) {\n          throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n          throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n      }\n      this._intlChanges = inject(MatDatepickerIntl).changes.subscribe(() => {\n        this._changeDetectorRef.markForCheck();\n        this.stateChanges.next();\n      });\n    }\n    ngAfterContentInit() {\n      this._calendarHeaderPortal = new ComponentPortal(this.headerComponent || MatCalendarHeader);\n      this.activeDate = this.startAt || this._dateAdapter.today();\n      this._currentView = this.startView;\n    }\n    ngAfterViewChecked() {\n      if (this._moveFocusOnNextTick) {\n        this._moveFocusOnNextTick = false;\n        this.focusActiveCell();\n      }\n    }\n    ngOnDestroy() {\n      this._intlChanges.unsubscribe();\n      this.stateChanges.complete();\n    }\n    ngOnChanges(changes) {\n      const minDateChange = changes['minDate'] && !this._dateAdapter.sameDate(changes['minDate'].previousValue, changes['minDate'].currentValue) ? changes['minDate'] : undefined;\n      const maxDateChange = changes['maxDate'] && !this._dateAdapter.sameDate(changes['maxDate'].previousValue, changes['maxDate'].currentValue) ? changes['maxDate'] : undefined;\n      const changeRequiringRerender = minDateChange || maxDateChange || changes['dateFilter'];\n      if (changeRequiringRerender && !changeRequiringRerender.firstChange) {\n        const view = this._getCurrentViewComponent();\n        if (view) {\n          if (this._elementRef.nativeElement.contains(_getFocusedElementPierceShadowDom())) {\n            this._moveFocusOnNextTick = true;\n          }\n          this._changeDetectorRef.detectChanges();\n          view._init();\n        }\n      }\n      this.stateChanges.next();\n    }\n    focusActiveCell() {\n      this._getCurrentViewComponent()._focusActiveCell(false);\n    }\n    updateTodaysDate() {\n      this._getCurrentViewComponent()._init();\n    }\n    _dateSelected(event) {\n      const date = event.value;\n      if (this.selected instanceof DateRange || date && !this._dateAdapter.sameDate(date, this.selected)) {\n        this.selectedChange.emit(date);\n      }\n      this._userSelection.emit(event);\n    }\n    _yearSelectedInMultiYearView(normalizedYear) {\n      this.yearSelected.emit(normalizedYear);\n    }\n    _monthSelectedInYearView(normalizedMonth) {\n      this.monthSelected.emit(normalizedMonth);\n    }\n    _goToDateInView(date, view) {\n      this.activeDate = date;\n      this.currentView = view;\n    }\n    _dragStarted(event) {\n      this._activeDrag = event;\n    }\n    _dragEnded(event) {\n      if (!this._activeDrag) return;\n      if (event.value) {\n        this._userDragDrop.emit(event);\n      }\n      this._activeDrag = null;\n    }\n    _getCurrentViewComponent() {\n      return this.monthView || this.yearView || this.multiYearView;\n    }\n    static fac = function MatCalendar_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatCalendar)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatCalendar,\n      selectors: [[\"mat-calendar\"]],\n      viewQuery: function MatCalendar_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(MatMonthView, 5)(MatYearView, 5)(MatMultiYearView, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx.monthView = _t.first);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx.yearView = _t.first);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx.multiYearView = _t.first);\n        }\n      },\n      hostAttrs: [1, \"mat-calendar\"],\n      inputs: {\n        headerComponent: \"headerComponent\",\n        startAt: \"startAt\",\n        startView: \"startView\",\n        selected: \"selected\",\n        minDate: \"minDate\",\n        maxDate: \"maxDate\",\n        dateFilter: \"dateFilter\",\n        dateClass: \"dateClass\",\n        comparisonStart: \"comparisonStart\",\n        comparisonEnd: \"comparisonEnd\",\n        startDateAccessibleName: \"startDateAccessibleName\",\n        endDateAccessibleName: \"endDateAccessibleName\"\n      },\n      outputs: {\n        selectedChange: \"selectedChange\",\n        yearSelected: \"yearSelected\",\n        monthSelected: \"monthSelected\",\n        viewChanged: \"viewChanged\",\n        _userSelection: \"_userSelection\",\n        _userDragDrop: \"_userDragDrop\"\n      },\n      exportAs: [\"matCalendar\"],\n      features: [i0.ProvidersFeature([MAT_SINGLE_DATE_SELECTION_MODEL_PROVIDER]), i0.NgOnChangesFeature],\n      decls: 5,\n      vars: 2,\n      consts: [[3, \"cdkPortalOutlet\"], [\"cdkMonitorSubtreeFocus\", \"\", \"tabindex\", \"-1\", 1, \"mat-calendar-content\"], [3, \"activeDate\", \"selected\", \"dateFilter\", \"maxDate\", \"minDate\", \"dateClass\", \"comparisonStart\", \"comparisonEnd\", \"startDateAccessibleName\", \"endDateAccessibleName\", \"activeDrag\"], [3, \"activeDate\", \"selected\", \"dateFilter\", \"maxDate\", \"minDate\", \"dateClass\"], [3, \"activeDateChange\", \"_userSelection\", \"dragStarted\", \"dragEnded\", \"activeDate\", \"selected\", \"dateFilter\", \"maxDate\", \"minDate\", \"dateClass\", \"comparisonStart\", \"comparisonEnd\", \"startDateAccessibleName\", \"endDateAccessibleName\", \"activeDrag\"], [3, \"activeDateChange\", \"monthSelected\", \"selectedChange\", \"activeDate\", \"selected\", \"dateFilter\", \"maxDate\", \"minDate\", \"dateClass\"], [3, \"activeDateChange\", \"yearSelected\", \"selectedChange\", \"activeDate\", \"selected\", \"dateFilter\", \"maxDate\", \"minDate\", \"dateClass\"]],\n      template: function MatCalendar_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.template(0, MatCalendar_ng_template_0_Template, 0, 0, \"ng-template\", 0);\n          i0.elementStart(1, \"div\", 1);\n          i0.conditionalCreate(2, MatCalendar_Case_2_Template, 1, 11, \"mat-month-view\", 2)(3, MatCalendar_Case_3_Template, 1, 6, \"mat-year-view\", 3)(4, MatCalendar_Case_4_Template, 1, 6, \"mat-multi-year-view\", 3);\n          i0.elementEnd();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          i0.property(\"cdkPortalOutlet\", ctx._calendarHeaderPortal);\n          i0.advance(2);\n          i0.conditional((tmp_1_0 = ctx.currentView) === \"month\" ? 2 : tmp_1_0 === \"year\" ? 3 : tmp_1_0 === \"multi-year\" ? 4 : -1);\n        }\n      },\n      dependencies: [CdkPortalOutlet, CdkMonitorFocus, MatMonthView, MatYearView, MatMultiYearView],\n      styles: [\".mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:\\\"\\\";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:\\\"\\\"}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatCalendar;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_DATEPICKER_SCROLL_STRATEGY = /*#__PURE__*/new InjectionToken('mat-datepicker-scroll-strategy', {\n  providedIn: 'root',\n  factory: () => {\n    const injector = inject(Injector);\n    return () => createRepositionScrollStrategy(injector);\n  }\n});\nlet MatDatepickerContent = /*#__PURE__*/(() => {\n  class MatDatepickerContent {\n    _elementRef = inject(ElementRef);\n    _animationsDisabled = _animationsDisabled();\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _globalModel = inject(MatDateSelectionModel);\n    _dateAdapter = inject(DateAdapter);\n    _ngZone = inject(NgZone);\n    _rangeSelectionStrategy = inject(MAT_DATE_RANGE_SELECTION_STRATEGY, {\n      optional: true\n    });\n    _stateChanges;\n    _model;\n    _eventCleanups;\n    _animationFallback;\n    _calendar;\n    color;\n    datepicker;\n    comparisonStart;\n    comparisonEnd;\n    startDateAccessibleName;\n    endDateAccessibleName;\n    _isAbove;\n    _animationDone = new Subject();\n    _isAnimating = false;\n    _closeButtonText;\n    _closeButtonFocused;\n    _actionsPortal = null;\n    _dialogLabelId;\n    constructor() {\n      inject(_CdkPrivateStyleLoader).load(_VisuallyHiddenLoader);\n      this._closeButtonText = inject(MatDatepickerIntl).closeCalendarLabel;\n      if (!this._animationsDisabled) {\n        const element = this._elementRef.nativeElement;\n        const renderer = inject(Renderer2);\n        this._eventCleanups = this._ngZone.runOutsideAngular(() => [renderer.listen(element, 'animationstart', this._handleAnimationEvent), renderer.listen(element, 'animationend', this._handleAnimationEvent), renderer.listen(element, 'animationcancel', this._handleAnimationEvent)]);\n      }\n    }\n    ngAfterViewInit() {\n      this._stateChanges = this.datepicker.stateChanges.subscribe(() => {\n        this._changeDetectorRef.markForCheck();\n      });\n      this._calendar.focusActiveCell();\n    }\n    ngOnDestroy() {\n      clearTimeout(this._animationFallback);\n      this._eventCleanups?.forEach(cleanup => cleanup());\n      this._stateChanges?.unsubscribe();\n      this._animationDone.complete();\n    }\n    _handleUserSelection(event) {\n      const selection = this._model.selection;\n      const value = event.value;\n      const isRange = selection instanceof DateRange;\n      if (isRange && this._rangeSelectionStrategy) {\n        const newSelection = this._rangeSelectionStrategy.selectionFinished(value, selection, event.event);\n        this._model.updateSelection(newSelection, this);\n      } else if (value && (isRange || !this._dateAdapter.sameDate(value, selection))) {\n        this._model.add(value);\n      }\n      if ((!this._model || this._model.isComplete()) && !this._actionsPortal) {\n        this.datepicker.close();\n      }\n    }\n    _handleUserDragDrop(event) {\n      this._model.updateSelection(event.value, this);\n    }\n    _startExitAnimation() {\n      this._elementRef.nativeElement.classList.add('mat-datepicker-content-exit');\n      if (this._animationsDisabled) {\n        this._animationDone.next();\n      } else {\n        clearTimeout(this._animationFallback);\n        this._animationFallback = setTimeout(() => {\n          if (!this._isAnimating) {\n            this._animationDone.next();\n          }\n        }, 200);\n      }\n    }\n    _handleAnimationEvent = event => {\n      const element = this._elementRef.nativeElement;\n      if (event.target !== element || !event.animationName.startsWith('_mat-datepicker-content')) {\n        return;\n      }\n      clearTimeout(this._animationFallback);\n      this._isAnimating = event.type === 'animationstart';\n      element.classList.toggle('mat-datepicker-content-animating', this._isAnimating);\n      if (!this._isAnimating) {\n        this._animationDone.next();\n      }\n    };\n    _getSelected() {\n      return this._model.selection;\n    }\n    _applyPendingSelection() {\n      if (this._model !== this._globalModel) {\n        this._globalModel.updateSelection(this._model.selection, this);\n      }\n    }\n    _assignActions(portal, forceRerender) {\n      this._model = portal ? this._globalModel.clone() : this._globalModel;\n      this._actionsPortal = portal;\n      if (forceRerender) {\n        this._changeDetectorRef.detectChanges();\n      }\n    }\n    static fac = function MatDatepickerContent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerContent)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDatepickerContent,\n      selectors: [[\"mat-datepicker-content\"]],\n      viewQuery: function MatDatepickerContent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(MatCalendar, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._calendar = _t.first);\n        }\n      },\n      hostAttrs: [1, \"mat-datepicker-content\"],\n      hostVars: 6,\n      hostBindings: function MatDatepickerContent_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.classMap(ctx.color ? \"mat-\" + ctx.color : \"\");\n          i0.classProp(\"mat-datepicker-content-touch\", ctx.datepicker.touchUi)(\"mat-datepicker-content-animations-enabled\", !ctx._animationsDisabled);\n        }\n      },\n      inputs: {\n        color: \"color\"\n      },\n      exportAs: [\"matDatepickerContent\"],\n      decls: 5,\n      vars: 26,\n      consts: [[\"cdkTrapFocus\", \"\", \"role\", \"dialog\", 1, \"mat-datepicker-content-container\"], [3, \"yearSelected\", \"monthSelected\", \"viewChanged\", \"_userSelection\", \"_userDragDrop\", \"id\", \"startAt\", \"startView\", \"minDate\", \"maxDate\", \"dateFilter\", \"headerComponent\", \"selected\", \"dateClass\", \"comparisonStart\", \"comparisonEnd\", \"startDateAccessibleName\", \"endDateAccessibleName\"], [3, \"cdkPortalOutlet\"], [\"type\", \"button\", \"matButton\", \"elevated\", 1, \"mat-datepicker-close-button\", 3, \"focus\", \"blur\", \"click\", \"color\"]],\n      template: function MatDatepickerContent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.elementStart(0, \"div\", 0)(1, \"mat-calendar\", 1);\n          i0.listener(\"yearSelected\", function MatDatepickerContent_Template_mat_calendar_yearSelected_1_listener($event) {\n            return ctx.datepicker._selectYear($event);\n          })(\"monthSelected\", function MatDatepickerContent_Template_mat_calendar_monthSelected_1_listener($event) {\n            return ctx.datepicker._selectMonth($event);\n          })(\"viewChanged\", function MatDatepickerContent_Template_mat_calendar_viewChanged_1_listener($event) {\n            return ctx.datepicker._viewChanged($event);\n          })(\"_userSelection\", function MatDatepickerContent_Template_mat_calendar__userSelection_1_listener($event) {\n            return ctx._handleUserSelection($event);\n          })(\"_userDragDrop\", function MatDatepickerContent_Template_mat_calendar__userDragDrop_1_listener($event) {\n            return ctx._handleUserDragDrop($event);\n          });\n          i0.elementEnd();\n          i0.template(2, MatDatepickerContent_ng_template_2_Template, 0, 0, \"ng-template\", 2);\n          i0.elementStart(3, \"button\", 3);\n          i0.listener(\"focus\", function MatDatepickerContent_Template_button_focus_3_listener() {\n            return ctx._closeButtonFocused = true;\n          })(\"blur\", function MatDatepickerContent_Template_button_blur_3_listener() {\n            return ctx._closeButtonFocused = false;\n          })(\"click\", function MatDatepickerContent_Template_button_click_3_listener() {\n            return ctx.datepicker.close();\n          });\n          i0.text(4);\n          i0.elementEnd()();\n        }\n        if (rf & 2) {\n          i0.classProp(\"mat-datepicker-content-container-with-custom-header\", ctx.datepicker.calendarHeaderComponent)(\"mat-datepicker-content-container-with-actions\", ctx._actionsPortal);\n          i0.attribute(\"aria-modal\", true)(\"aria-labelledby\", ctx._dialogLabelId ?? undefined);\n          i0.advance();\n          i0.classMap(ctx.datepicker.panelClass);\n          i0.property(\"id\", ctx.datepicker.id)(\"startAt\", ctx.datepicker.startAt)(\"startView\", ctx.datepicker.startView)(\"minDate\", ctx.datepicker._getMinDate())(\"maxDate\", ctx.datepicker._getMaxDate())(\"dateFilter\", ctx.datepicker._getDateFilter())(\"headerComponent\", ctx.datepicker.calendarHeaderComponent)(\"selected\", ctx._getSelected())(\"dateClass\", ctx.datepicker.dateClass)(\"comparisonStart\", ctx.comparisonStart)(\"comparisonEnd\", ctx.comparisonEnd)(\"startDateAccessibleName\", ctx.startDateAccessibleName)(\"endDateAccessibleName\", ctx.endDateAccessibleName);\n          i0.advance();\n          i0.property(\"cdkPortalOutlet\", ctx._actionsPortal);\n          i0.advance();\n          i0.classProp(\"cdk-visually-hidden\", !ctx._closeButtonFocused);\n          i0.property(\"color\", ctx.color || \"primary\");\n          i0.advance();\n          i0.textInterpolate(ctx._closeButtonText);\n        }\n      },\n      dependencies: [CdkTrapFocus, MatCalendar, CdkPortalOutlet, MatButton],\n      styles: [\"@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDatepickerContent;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerBase = /*#__PURE__*/(() => {\n  class MatDatepickerBase {\n    _injector = inject(Injector);\n    _viewContainerRef = inject(ViewContainerRef);\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _model = inject(MatDateSelectionModel);\n    _animationsDisabled = _animationsDisabled();\n    _scrollStrategy = inject(MAT_DATEPICKER_SCROLL_STRATEGY);\n    _inputStateChanges = Subscription.EMPTY;\n    _document = inject(DOCUMENT);\n    calendarHeaderComponent;\n    get startAt() {\n      return this._startAt || (this.datepickerInput ? this.datepickerInput.getStartValue() : null);\n    }\n    set startAt(value) {\n      this._startAt = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    _startAt;\n    startView = 'month';\n    get color() {\n      return this._color || (this.datepickerInput ? this.datepickerInput.getThemePalette() : undefined);\n    }\n    set color(value) {\n      this._color = value;\n    }\n    _color;\n    touchUi = false;\n    get disabled() {\n      return this._disabled === undefined && this.datepickerInput ? this.datepickerInput.disabled : !!this._disabled;\n    }\n    set disabled(value) {\n      if (value !== this._disabled) {\n        this._disabled = value;\n        this.stateChanges.next(undefined);\n      }\n    }\n    _disabled;\n    xPosition = 'start';\n    yPosition = 'below';\n    restoreFocus = true;\n    yearSelected = new EventEmitter();\n    monthSelected = new EventEmitter();\n    viewChanged = new EventEmitter(true);\n    dateClass;\n    openedStream = new EventEmitter();\n    closedStream = new EventEmitter();\n    get panelClass() {\n      return this._panelClass;\n    }\n    set panelClass(value) {\n      this._panelClass = coerceStringArray(value);\n    }\n    _panelClass;\n    get opened() {\n      return this._opened;\n    }\n    set opened(value) {\n      if (value) {\n        this.open();\n      } else {\n        this.close();\n      }\n    }\n    _opened = false;\n    id = inject(_IdGenerator).getId('mat-datepicker-');\n    _getMinDate() {\n      return this.datepickerInput && this.datepickerInput.min;\n    }\n    _getMaxDate() {\n      return this.datepickerInput && this.datepickerInput.max;\n    }\n    _getDateFilter() {\n      return this.datepickerInput && this.datepickerInput.dateFilter;\n    }\n    _overlayRef;\n    _componentRef;\n    _focusedElementBeforeOpen = null;\n    _backdropHarnessClass = `${this.id}-backdrop`;\n    _actionsPortal;\n    datepickerInput;\n    stateChanges = new Subject();\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    constructor() {\n      if (!this._dateAdapter && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw createMissingDateImplError('DateAdapter');\n      }\n      this._model.selectionChanged.subscribe(() => {\n        this._changeDetectorRef.markForCheck();\n      });\n    }\n    ngOnChanges(changes) {\n      const positionChange = changes['xPosition'] || changes['yPosition'];\n      if (positionChange && !positionChange.firstChange && this._overlayRef) {\n        const positionStrategy = this._overlayRef.getConfig().positionStrategy;\n        if (positionStrategy instanceof FlexibleConnectedPositionStrategy) {\n          this._setConnectedPositions(positionStrategy);\n          if (this.opened) {\n            this._overlayRef.updatePosition();\n          }\n        }\n      }\n      this.stateChanges.next(undefined);\n    }\n    ngOnDestroy() {\n      this._destroyOverlay();\n      this.close();\n      this._inputStateChanges.unsubscribe();\n      this.stateChanges.complete();\n    }\n    select(date) {\n      this._model.add(date);\n    }\n    _selectYear(normalizedYear) {\n      this.yearSelected.emit(normalizedYear);\n    }\n    _selectMonth(normalizedMonth) {\n      this.monthSelected.emit(normalizedMonth);\n    }\n    _viewChanged(view) {\n      this.viewChanged.emit(view);\n    }\n    registerInput(input) {\n      if (this.datepickerInput && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw Error('A MatDatepicker can only be associated with a single input.');\n      }\n      this._inputStateChanges.unsubscribe();\n      this.datepickerInput = input;\n      this._inputStateChanges = input.stateChanges.subscribe(() => this.stateChanges.next(undefined));\n      return this._model;\n    }\n    registerActions(portal) {\n      if (this._actionsPortal && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw Error('A MatDatepicker can only be associated with a single actions row.');\n      }\n      this._actionsPortal = portal;\n      this._componentRef?.instance._assignActions(portal, true);\n    }\n    removeActions(portal) {\n      if (portal === this._actionsPortal) {\n        this._actionsPortal = null;\n        this._componentRef?.instance._assignActions(null, true);\n      }\n    }\n    open() {\n      if (this._opened || this.disabled || this._componentRef?.instance._isAnimating) {\n        return;\n      }\n      if (!this.datepickerInput && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw Error('Attempted to open an MatDatepicker with no associated input.');\n      }\n      this._focusedElementBeforeOpen = _getFocusedElementPierceShadowDom();\n      this._openOverlay();\n      this._opened = true;\n      this.openedStream.emit();\n    }\n    close() {\n      if (!this._opened || this._componentRef?.instance._isAnimating) {\n        return;\n      }\n      const canRestoreFocus = this.restoreFocus && this._focusedElementBeforeOpen && typeof this._focusedElementBeforeOpen.focus === 'function';\n      const completeClose = () => {\n        if (this._opened) {\n          this._opened = false;\n          this.closedStream.emit();\n        }\n      };\n      if (this._componentRef) {\n        const {\n          instance,\n          location\n        } = this._componentRef;\n        instance._animationDone.pipe(take(1)).subscribe(() => {\n          const activeElement = this._document.activeElement;\n          if (canRestoreFocus && (!activeElement || activeElement === this._document.activeElement || location.nativeElement.contains(activeElement))) {\n            this._focusedElementBeforeOpen.focus();\n          }\n          this._focusedElementBeforeOpen = null;\n          this._destroyOverlay();\n        });\n        instance._startExitAnimation();\n      }\n      if (canRestoreFocus) {\n        setTimeout(completeClose);\n      } else {\n        completeClose();\n      }\n    }\n    _applyPendingSelection() {\n      this._componentRef?.instance?._applyPendingSelection();\n    }\n    _forwardContentValues(instance) {\n      instance.datepicker = this;\n      instance.color = this.color;\n      instance._dialogLabelId = this.datepickerInput.getOverlayLabelId();\n      instance._assignActions(this._actionsPortal, false);\n    }\n    _openOverlay() {\n      this._destroyOverlay();\n      const isDialog = this.touchUi;\n      const portal = new ComponentPortal(MatDatepickerContent, this._viewContainerRef);\n      const overlayRef = this._overlayRef = createOverlayRef(this._injector, new OverlayConfig({\n        positionStrategy: isDialog ? this._getDialogStrategy() : this._getDropdownStrategy(),\n        hasBackdrop: true,\n        backdropClass: [isDialog ? 'cdk-overlay-dark-backdrop' : 'mat-overlay-transparent-backdrop', this._backdropHarnessClass],\n        direction: this._dir || 'ltr',\n        scrollStrategy: isDialog ? createBlockScrollStrategy(this._injector) : this._scrollStrategy(),\n        panelClass: `mat-datepicker-${isDialog ? 'dialog' : 'popup'}`,\n        disableAnimations: this._animationsDisabled\n      }));\n      this._getCloseStream(overlayRef).subscribe(event => {\n        if (event) {\n          event.preventDefault();\n        }\n        this.close();\n      });\n      overlayRef.keydownEvents().subscribe(event => {\n        const keyCode = event.keyCode;\n        if (keyCode === UP_ARROW || keyCode === DOWN_ARROW || keyCode === LEFT_ARROW || keyCode === RIGHT_ARROW || keyCode === PAGE_UP || keyCode === PAGE_DOWN) {\n          event.preventDefault();\n        }\n      });\n      this._componentRef = overlayRef.attach(portal);\n      this._forwardContentValues(this._componentRef.instance);\n      if (!isDialog) {\n        afterNextRender(() => {\n          overlayRef.updatePosition();\n        }, {\n          injector: this._injector\n        });\n      }\n    }\n    _destroyOverlay() {\n      if (this._overlayRef) {\n        this._overlayRef.dispose();\n        this._overlayRef = this._componentRef = null;\n      }\n    }\n    _getDialogStrategy() {\n      return createGlobalPositionStrategy(this._injector).centerHorizontally().centerVertically();\n    }\n    _getDropdownStrategy() {\n      const strategy = createFlexibleConnectedPositionStrategy(this._injector, this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn('.mat-datepicker-content').withFlexibleDimensions(false).withViewportMargin(8).withLockedPosition();\n      return this._setConnectedPositions(strategy);\n    }\n    _setConnectedPositions(strategy) {\n      const primaryX = this.xPosition === 'end' ? 'end' : 'start';\n      const secondaryX = primaryX === 'start' ? 'end' : 'start';\n      const primaryY = this.yPosition === 'above' ? 'bottom' : 'top';\n      const secondaryY = primaryY === 'top' ? 'bottom' : 'top';\n      return strategy.withPositions([{\n        originX: primaryX,\n        originY: secondaryY,\n        overlayX: primaryX,\n        overlayY: primaryY\n      }, {\n        originX: primaryX,\n        originY: primaryY,\n        overlayX: primaryX,\n        overlayY: secondaryY\n      }, {\n        originX: secondaryX,\n        originY: secondaryY,\n        overlayX: secondaryX,\n        overlayY: primaryY\n      }, {\n        originX: secondaryX,\n        originY: primaryY,\n        overlayX: secondaryX,\n        overlayY: secondaryY\n      }]);\n    }\n    _getCloseStream(overlayRef) {\n      const ctrlShiftMetaModifiers = ['ctrlKey', 'shiftKey', 'metaKey'];\n      return merge(overlayRef.backdropClick(), overlayRef.detachments(), overlayRef.keydownEvents().pipe(filter(event => {\n        return event.keyCode === ESCAPE && !hasModifierKey(event) || this.datepickerInput && hasModifierKey(event, 'altKey') && event.keyCode === UP_ARROW && ctrlShiftMetaModifiers.every(modifier => !hasModifierKey(event, modifier));\n      })));\n    }\n    static fac = function MatDatepickerBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerBase)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDatepickerBase,\n      inputs: {\n        calendarHeaderComponent: \"calendarHeaderComponent\",\n        startAt: \"startAt\",\n        startView: \"startView\",\n        color: \"color\",\n        touchUi: [2, \"touchUi\", \"touchUi\", booleanAttribute],\n        disabled: [2, \"disabled\", \"disabled\", booleanAttribute],\n        xPosition: \"xPosition\",\n        yPosition: \"yPosition\",\n        restoreFocus: [2, \"restoreFocus\", \"restoreFocus\", booleanAttribute],\n        dateClass: \"dateClass\",\n        panelClass: \"panelClass\",\n        opened: [2, \"opened\", \"opened\", booleanAttribute]\n      },\n      outputs: {\n        yearSelected: \"yearSelected\",\n        monthSelected: \"monthSelected\",\n        viewChanged: \"viewChanged\",\n        openedStream: \"opened\",\n        closedStream: \"closed\"\n      },\n      features: [i0.NgOnChangesFeature]\n    });\n  }\n  return MatDatepickerBase;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepicker = /*#__PURE__*/(() => {\n  class MatDatepicker extends MatDatepickerBase {\n    static fac = /* @__PURE__ */(() => {\n      let MatDatepicker_BaseFactory;\n      return function MatDatepicker_Factory(__ngFactoryType__) {\n        return (MatDatepicker_BaseFactory || (MatDatepicker_BaseFactory = i0.getInheritedFactory(MatDatepicker)))(__ngFactoryType__ || MatDatepicker);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDatepicker,\n      selectors: [[\"mat-datepicker\"]],\n      exportAs: [\"matDatepicker\"],\n      features: [i0.ProvidersFeature([MAT_SINGLE_DATE_SELECTION_MODEL_PROVIDER, {\n        provide: MatDatepickerBase,\n        useExisting: MatDatepicker\n      }]), i0.InheritDefinitionFeature],\n      decls: 0,\n      vars: 0,\n      template: function MatDatepicker_Template(rf, ctx) {},\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDatepicker;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass MatDatepickerInputEvent {\n  target;\n  targetElement;\n  value;\n  constructor(target, targetElement) {\n    this.target = target;\n    this.targetElement = targetElement;\n    this.value = this.target.value;\n  }\n}\nlet MatDatepickerInputBase = /*#__PURE__*/(() => {\n  class MatDatepickerInputBase {\n    _elementRef = inject(ElementRef);\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _isInitialized;\n    get value() {\n      return this._model ? this._getValueFromModel(this._model.selection) : this._pendingValue;\n    }\n    set value(value) {\n      this._assignValueProgrammatically(value, true);\n    }\n    _model;\n    get disabled() {\n      return !!this._disabled || this._parentDisabled();\n    }\n    set disabled(value) {\n      const newValue = value;\n      const element = this._elementRef.nativeElement;\n      if (this._disabled !== newValue) {\n        this._disabled = newValue;\n        this.stateChanges.next(undefined);\n      }\n      if (newValue && this._isInitialized && element.blur) {\n        element.blur();\n      }\n    }\n    _disabled;\n    dateChange = new EventEmitter();\n    dateInput = new EventEmitter();\n    stateChanges = new Subject();\n    _onTouched = () => {};\n    _validatorOnChange = () => {};\n    _cvaOnChange = () => {};\n    _valueChangesSubscription = Subscription.EMPTY;\n    _localeSubscription = Subscription.EMPTY;\n    _pendingValue;\n    _parseValidator = () => {\n      return this._lastValueValid ? null : {\n        'matDatepickerParse': {\n          'text': this._elementRef.nativeElement.value\n        }\n      };\n    };\n    _filterValidator = control => {\n      const controlValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n      return !controlValue || this._matchesFilter(controlValue) ? null : {\n        'matDatepickerFilter': true\n      };\n    };\n    _minValidator = control => {\n      const controlValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n      const min = this._getMinDate();\n      return !min || !controlValue || this._dateAdapter.compareDate(min, controlValue) <= 0 ? null : {\n        'matDatepickerMin': {\n          'min': min,\n          'actual': controlValue\n        }\n      };\n    };\n    _maxValidator = control => {\n      const controlValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n      const max = this._getMaxDate();\n      return !max || !controlValue || this._dateAdapter.compareDate(max, controlValue) >= 0 ? null : {\n        'matDatepickerMax': {\n          'max': max,\n          'actual': controlValue\n        }\n      };\n    };\n    _getValidators() {\n      return [this._parseValidator, this._minValidator, this._maxValidator, this._filterValidator];\n    }\n    _registerModel(model) {\n      this._model = model;\n      this._valueChangesSubscription.unsubscribe();\n      if (this._pendingValue) {\n        this._assignValue(this._pendingValue);\n      }\n      this._valueChangesSubscription = this._model.selectionChanged.subscribe(event => {\n        if (this._shouldHandleChangeEvent(event)) {\n          const value = this._getValueFromModel(event.selection);\n          this._lastValueValid = this._isValidValue(value);\n          this._cvaOnChange(value);\n          this._onTouched();\n          this._formatValue(value);\n          this.dateInput.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n          this.dateChange.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n        }\n      });\n    }\n    _lastValueValid = false;\n    constructor() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        if (!this._dateAdapter) {\n          throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n          throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n      }\n      this._localeSubscription = this._dateAdapter.localeChanges.subscribe(() => {\n        this._assignValueProgrammatically(this.value, true);\n      });\n    }\n    ngAfterViewInit() {\n      this._isInitialized = true;\n    }\n    ngOnChanges(changes) {\n      if (dateInputsHaveChanged(changes, this._dateAdapter)) {\n        this.stateChanges.next(undefined);\n      }\n    }\n    ngOnDestroy() {\n      this._valueChangesSubscription.unsubscribe();\n      this._localeSubscription.unsubscribe();\n      this.stateChanges.complete();\n    }\n    registerOnValidatorChange(fn) {\n      this._validatorOnChange = fn;\n    }\n    validate(c) {\n      return this._validator ? this._validator(c) : null;\n    }\n    writeValue(value) {\n      this._assignValueProgrammatically(value, value !== this.value);\n    }\n    registerOnChange(fn) {\n      this._cvaOnChange = fn;\n    }\n    registerOnTouched(fn) {\n      this._onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n      this.disabled = isDisabled;\n    }\n    _onKeydown(event) {\n      const ctrlShiftMetaModifiers = ['ctrlKey', 'shiftKey', 'metaKey'];\n      const isAltDownArrow = hasModifierKey(event, 'altKey') && event.keyCode === DOWN_ARROW && ctrlShiftMetaModifiers.every(modifier => !hasModifierKey(event, modifier));\n      if (isAltDownArrow && !this._elementRef.nativeElement.readOnly) {\n        this._openPopup();\n        event.preventDefault();\n      }\n    }\n    _onInput(event) {\n      const value = event.target.value;\n      const lastValueWasValid = this._lastValueValid;\n      let date = this._dateAdapter.parse(value, this._dateFormats.parse.dateInput);\n      this._lastValueValid = this._isValidValue(date);\n      date = this._dateAdapter.getValidDateOrNull(date);\n      const hasChanged = !this._dateAdapter.sameDate(date, this.value);\n      if (!date || hasChanged) {\n        this._cvaOnChange(date);\n      } else {\n        if (value && !this.value) {\n          this._cvaOnChange(date);\n        }\n        if (lastValueWasValid !== this._lastValueValid) {\n          this._validatorOnChange();\n        }\n      }\n      if (hasChanged) {\n        this._assignValue(date);\n        this.dateInput.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n      }\n    }\n    _onChange() {\n      this.dateChange.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n    }\n    _onBlur() {\n      if (this.value) {\n        this._formatValue(this.value);\n      }\n      this._onTouched();\n    }\n    _formatValue(value) {\n      this._elementRef.nativeElement.value = value != null ? this._dateAdapter.format(value, this._dateFormats.display.dateInput) : '';\n    }\n    _assignValue(value) {\n      if (this._model) {\n        this._assignValueToModel(value);\n        this._pendingValue = null;\n      } else {\n        this._pendingValue = value;\n      }\n    }\n    _isValidValue(value) {\n      return !value || this._dateAdapter.isValid(value);\n    }\n    _parentDisabled() {\n      return false;\n    }\n    _assignValueProgrammatically(value, reformat) {\n      value = this._dateAdapter.deserialize(value);\n      this._lastValueValid = this._isValidValue(value);\n      value = this._dateAdapter.getValidDateOrNull(value);\n      this._assignValue(value);\n      if (reformat) {\n        this._formatValue(value);\n      }\n    }\n    _matchesFilter(value) {\n      const filter = this._getDateFilter();\n      return !filter || filter(value);\n    }\n    static fac = function MatDatepickerInputBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerInputBase)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDatepickerInputBase,\n      inputs: {\n        value: \"value\",\n        disabled: [2, \"disabled\", \"disabled\", booleanAttribute]\n      },\n      outputs: {\n        dateChange: \"dateChange\",\n        dateInput: \"dateInput\"\n      },\n      features: [i0.NgOnChangesFeature]\n    });\n  }\n  return MatDatepickerInputBase;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction dateInputsHaveChanged(changes, adapter) {\n  const keys = Object.keys(changes);\n  for (let key of keys) {\n    const {\n      previousValue,\n      currentValue\n    } = changes[key];\n    if (adapter.isDateInstance(previousValue) && adapter.isDateInstance(currentValue)) {\n      if (!adapter.sameDate(previousValue, currentValue)) {\n        return true;\n      }\n    } else {\n      return true;\n    }\n  }\n  return false;\n}\nconst MAT_DATEPICKER_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: /*#__PURE__*/forwardRef(() => MatDatepickerInput),\n  multi: true\n};\nconst MAT_DATEPICKER_VALIDATORS = {\n  provide: NG_VALIDATORS,\n  useExisting: /*#__PURE__*/forwardRef(() => MatDatepickerInput),\n  multi: true\n};\nlet MatDatepickerInput = /*#__PURE__*/(() => {\n  class MatDatepickerInput extends MatDatepickerInputBase {\n    _formField = inject(MAT_FORM_FIELD, {\n      optional: true\n    });\n    _closedSubscription = Subscription.EMPTY;\n    _openedSubscription = Subscription.EMPTY;\n    set matDatepicker(datepicker) {\n      if (datepicker) {\n        this._datepicker = datepicker;\n        this._ariaOwns.set(datepicker.opened ? datepicker.id : null);\n        this._closedSubscription = datepicker.closedStream.subscribe(() => {\n          this._onTouched();\n          this._ariaOwns.set(null);\n        });\n        this._openedSubscription = datepicker.openedStream.subscribe(() => {\n          this._ariaOwns.set(datepicker.id);\n        });\n        this._registerModel(datepicker.registerInput(this));\n      }\n    }\n    _datepicker;\n    _ariaOwns = signal(null, ...(ngDevMode ? [{\n      debugName: \"_ariaOwns\"\n    }] : []));\n    get min() {\n      return this._min;\n    }\n    set min(value) {\n      const validValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      if (!this._dateAdapter.sameDate(validValue, this._min)) {\n        this._min = validValue;\n        this._validatorOnChange();\n      }\n    }\n    _min;\n    get max() {\n      return this._max;\n    }\n    set max(value) {\n      const validValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      if (!this._dateAdapter.sameDate(validValue, this._max)) {\n        this._max = validValue;\n        this._validatorOnChange();\n      }\n    }\n    _max;\n    get dateFilter() {\n      return this._dateFilter;\n    }\n    set dateFilter(value) {\n      const wasMatchingValue = this._matchesFilter(this.value);\n      this._dateFilter = value;\n      if (this._matchesFilter(this.value) !== wasMatchingValue) {\n        this._validatorOnChange();\n      }\n    }\n    _dateFilter;\n    _validator;\n    constructor() {\n      super();\n      this._validator = Validators.compose(super._getValidators());\n    }\n    getConnectedOverlayOrigin() {\n      return this._formField ? this._formField.getConnectedOverlayOrigin() : this._elementRef;\n    }\n    getOverlayLabelId() {\n      if (this._formField) {\n        return this._formField.getLabelId();\n      }\n      return this._elementRef.nativeElement.getAttribute('aria-labelledby');\n    }\n    getThemePalette() {\n      return this._formField ? this._formField.color : undefined;\n    }\n    getStartValue() {\n      return this.value;\n    }\n    ngOnDestroy() {\n      super.ngOnDestroy();\n      this._closedSubscription.unsubscribe();\n      this._openedSubscription.unsubscribe();\n    }\n    _openPopup() {\n      if (this._datepicker) {\n        this._datepicker.open();\n      }\n    }\n    _getValueFromModel(modelValue) {\n      return modelValue;\n    }\n    _assignValueToModel(value) {\n      if (this._model) {\n        this._model.updateSelection(value, this);\n      }\n    }\n    _getMinDate() {\n      return this._min;\n    }\n    _getMaxDate() {\n      return this._max;\n    }\n    _getDateFilter() {\n      return this._dateFilter;\n    }\n    _shouldHandleChangeEvent(event) {\n      return event.source !== this;\n    }\n    static fac = function MatDatepickerInput_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerInput)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDatepickerInput,\n      selectors: [[\"input\", \"matDatepicker\", \"\"]],\n      hostAttrs: [1, \"mat-datepicker-input\"],\n      hostVars: 6,\n      hostBindings: function MatDatepickerInput_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"input\", function MatDatepickerInput_input_HostBindingHandler($event) {\n            return ctx._onInput($event);\n          })(\"change\", function MatDatepickerInput_change_HostBindingHandler() {\n            return ctx._onChange();\n          })(\"blur\", function MatDatepickerInput_blur_HostBindingHandler() {\n            return ctx._onBlur();\n          })(\"keydown\", function MatDatepickerInput_keydown_HostBindingHandler($event) {\n            return ctx._onKeydown($event);\n          });\n        }\n        if (rf & 2) {\n          i0.domProperty(\"disabled\", ctx.disabled);\n          i0.attribute(\"aria-haspopup\", ctx._datepicker ? \"dialog\" : null)(\"aria-owns\", ctx._ariaOwns())(\"min\", ctx.min ? ctx._dateAdapter.toIso8601(ctx.min) : null)(\"max\", ctx.max ? ctx._dateAdapter.toIso8601(ctx.max) : null)(\"data-mat-calendar\", ctx._datepicker ? ctx._datepicker.id : null);\n        }\n      },\n      inputs: {\n        matDatepicker: \"matDatepicker\",\n        min: \"min\",\n        max: \"max\",\n        dateFilter: [0, \"matDatepickerFilter\", \"dateFilter\"]\n      },\n      exportAs: [\"matDatepickerInput\"],\n      features: [i0.ProvidersFeature([MAT_DATEPICKER_VALUE_ACCESSOR, MAT_DATEPICKER_VALIDATORS, {\n        provide: MAT_INPUT_VALUE_ACCESSOR,\n        useExisting: MatDatepickerInput\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatDatepickerInput;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerToggleIcon = /*#__PURE__*/(() => {\n  class MatDatepickerToggleIcon {\n    static fac = function MatDatepickerToggleIcon_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerToggleIcon)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDatepickerToggleIcon,\n      selectors: [[\"\", \"matDatepickerToggleIcon\", \"\"]]\n    });\n  }\n  return MatDatepickerToggleIcon;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerToggle = /*#__PURE__*/(() => {\n  class MatDatepickerToggle {\n    _intl = inject(MatDatepickerIntl);\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _stateChanges = Subscription.EMPTY;\n    datepicker;\n    tabIndex;\n    ariaLabel;\n    get disabled() {\n      if (this._disabled === undefined && this.datepicker) {\n        return this.datepicker.disabled;\n      }\n      return !!this._disabled;\n    }\n    set disabled(value) {\n      this._disabled = value;\n    }\n    _disabled;\n    disableRipple;\n    _customIcon;\n    _button;\n    constructor() {\n      const defaultTabIndex = inject(new HostAttributeToken('tabindex'), {\n        optional: true\n      });\n      const parsedTabIndex = Number(defaultTabIndex);\n      this.tabIndex = parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\n    }\n    ngOnChanges(changes) {\n      if (changes['datepicker']) {\n        this._watchStateChanges();\n      }\n    }\n    ngOnDestroy() {\n      this._stateChanges.unsubscribe();\n    }\n    ngAfterContentInit() {\n      this._watchStateChanges();\n    }\n    _open(event) {\n      if (this.datepicker && !this.disabled) {\n        this.datepicker.open();\n        event.stopPropagation();\n      }\n    }\n    _watchStateChanges() {\n      const datepickerStateChanged = this.datepicker ? this.datepicker.stateChanges : of();\n      const inputStateChanged = this.datepicker && this.datepicker.datepickerInput ? this.datepicker.datepickerInput.stateChanges : of();\n      const datepickerToggled = this.datepicker ? merge(this.datepicker.openedStream, this.datepicker.closedStream) : of();\n      this._stateChanges.unsubscribe();\n      this._stateChanges = merge(this._intl.changes, datepickerStateChanged, inputStateChanged, datepickerToggled).subscribe(() => this._changeDetectorRef.markForCheck());\n    }\n    static fac = function MatDatepickerToggle_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerToggle)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDatepickerToggle,\n      selectors: [[\"mat-datepicker-toggle\"]],\n      contentQueries: function MatDatepickerToggle_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, MatDatepickerToggleIcon, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._customIcon = _t.first);\n        }\n      },\n      viewQuery: function MatDatepickerToggle_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(_c2, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._button = _t.first);\n        }\n      },\n      hostAttrs: [1, \"mat-datepicker-toggle\"],\n      hostVars: 8,\n      hostBindings: function MatDatepickerToggle_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function MatDatepickerToggle_click_HostBindingHandler($event) {\n            return ctx._open($event);\n          });\n        }\n        if (rf & 2) {\n          i0.attribute(\"tabindex\", null)(\"data-mat-calendar\", ctx.datepicker ? ctx.datepicker.id : null);\n          i0.classProp(\"mat-datepicker-toggle-active\", ctx.datepicker && ctx.datepicker.opened)(\"mat-accent\", ctx.datepicker && ctx.datepicker.color === \"accent\")(\"mat-warn\", ctx.datepicker && ctx.datepicker.color === \"warn\");\n        }\n      },\n      inputs: {\n        datepicker: [0, \"for\", \"datepicker\"],\n        tabIndex: \"tabIndex\",\n        ariaLabel: [0, \"aria-label\", \"ariaLabel\"],\n        disabled: [2, \"disabled\", \"disabled\", booleanAttribute],\n        disableRipple: \"disableRipple\"\n      },\n      exportAs: [\"matDatepickerToggle\"],\n      features: [i0.NgOnChangesFeature],\n      ngContentSelectors: _c4,\n      decls: 4,\n      vars: 7,\n      consts: [[\"button\", \"\"], [\"matIconButton\", \"\", \"type\", \"button\", 3, \"tabIndex\", \"disabled\", \"disableRipple\"], [\"viewBox\", \"0 0 24 24\", \"width\", \"24px\", \"height\", \"24px\", \"fill\", \"currentColor\", \"focusable\", \"false\", \"aria-hidden\", \"true\", 1, \"mat-datepicker-toggle-default-icon\"], [\"d\", \"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"]],\n      template: function MatDatepickerToggle_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef(_c3);\n          i0.elementStart(0, \"button\", 1, 0);\n          i0.conditionalCreate(2, MatDatepickerToggle_Conditional_2_Template, 2, 0, \":svg:svg\", 2);\n          i0.projection(3);\n          i0.elementEnd();\n        }\n        if (rf & 2) {\n          i0.property(\"tabIndex\", ctx.disabled ? -1 : ctx.tabIndex)(\"disabled\", ctx.disabled)(\"disableRipple\", ctx.disableRipple);\n          i0.attribute(\"aria-haspopup\", ctx.datepicker ? \"dialog\" : null)(\"aria-label\", ctx.ariaLabel || ctx._intl.openCalendarLabel)(\"aria-expanded\", ctx.datepicker ? ctx.datepicker.opened : null);\n          i0.advance(2);\n          i0.conditional(!ctx._customIcon ? 2 : -1);\n        }\n      },\n      dependencies: [MatIconButton],\n      styles: [\".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDatepickerToggle;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDateRangeInput = /*#__PURE__*/(() => {\n  class MatDateRangeInput {\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _elementRef = inject(ElementRef);\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _formField = inject(MAT_FORM_FIELD, {\n      optional: true\n    });\n    _closedSubscription = Subscription.EMPTY;\n    _openedSubscription = Subscription.EMPTY;\n    _startInput;\n    _endInput;\n    get value() {\n      return this._model ? this._model.selection : null;\n    }\n    id = inject(_IdGenerator).getId('mat-date-range-input-');\n    focused = false;\n    get shouldLabelFloat() {\n      return this.focused || !this.empty;\n    }\n    controlType = 'mat-date-range-input';\n    get placeholder() {\n      const start = this._startInput?._getPlaceholder() || '';\n      const end = this._endInput?._getPlaceholder() || '';\n      return start || end ? `${start} ${this.separator} ${end}` : '';\n    }\n    get rangePicker() {\n      return this._rangePicker;\n    }\n    set rangePicker(rangePicker) {\n      if (rangePicker) {\n        this._model = rangePicker.registerInput(this);\n        this._rangePicker = rangePicker;\n        this._closedSubscription.unsubscribe();\n        this._openedSubscription.unsubscribe();\n        this._ariaOwns.set(this.rangePicker.opened ? rangePicker.id : null);\n        this._closedSubscription = rangePicker.closedStream.subscribe(() => {\n          this._startInput?._onTouched();\n          this._endInput?._onTouched();\n          this._ariaOwns.set(null);\n        });\n        this._openedSubscription = rangePicker.openedStream.subscribe(() => {\n          this._ariaOwns.set(rangePicker.id);\n        });\n        this._registerModel(this._model);\n      }\n    }\n    _rangePicker;\n    _ariaOwns = signal(null, ...(ngDevMode ? [{\n      debugName: \"_ariaOwns\"\n    }] : []));\n    get required() {\n      return this._required ?? (this._isTargetRequired(this) || this._isTargetRequired(this._startInput) || this._isTargetRequired(this._endInput)) ?? false;\n    }\n    set required(value) {\n      this._required = value;\n    }\n    _required;\n    get dateFilter() {\n      return this._dateFilter;\n    }\n    set dateFilter(value) {\n      const start = this._startInput;\n      const end = this._endInput;\n      const wasMatchingStart = start && start._matchesFilter(start.value);\n      const wasMatchingEnd = end && end._matchesFilter(start.value);\n      this._dateFilter = value;\n      if (start && start._matchesFilter(start.value) !== wasMatchingStart) {\n        start._validatorOnChange();\n      }\n      if (end && end._matchesFilter(end.value) !== wasMatchingEnd) {\n        end._validatorOnChange();\n      }\n    }\n    _dateFilter;\n    get min() {\n      return this._min;\n    }\n    set min(value) {\n      const validValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      if (!this._dateAdapter.sameDate(validValue, this._min)) {\n        this._min = validValue;\n        this._revalidate();\n      }\n    }\n    _min;\n    get max() {\n      return this._max;\n    }\n    set max(value) {\n      const validValue = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(value));\n      if (!this._dateAdapter.sameDate(validValue, this._max)) {\n        this._max = validValue;\n        this._revalidate();\n      }\n    }\n    _max;\n    get disabled() {\n      return this._startInput && this._endInput ? this._startInput.disabled && this._endInput.disabled : this._groupDisabled;\n    }\n    set disabled(value) {\n      if (value !== this._groupDisabled) {\n        this._groupDisabled = value;\n        this.stateChanges.next(undefined);\n      }\n    }\n    _groupDisabled = false;\n    get errorState() {\n      if (this._startInput && this._endInput) {\n        return this._startInput.errorState || this._endInput.errorState;\n      }\n      return false;\n    }\n    get empty() {\n      const startEmpty = this._startInput ? this._startInput.isEmpty() : false;\n      const endEmpty = this._endInput ? this._endInput.isEmpty() : false;\n      return startEmpty && endEmpty;\n    }\n    _ariaDescribedBy = null;\n    _model;\n    separator = '';\n    comparisonStart = null;\n    comparisonEnd = null;\n    ngControl;\n    stateChanges = new Subject();\n    disableAutomaticLabeling = true;\n    constructor() {\n      if (!this._dateAdapter && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw createMissingDateImplError('DateAdapter');\n      }\n      if (this._formField?._elementRef.nativeElement.classList.contains('mat-mdc-form-field')) {\n        this._elementRef.nativeElement.classList.add('mat-mdc-input-element', 'mat-mdc-form-field-input-control', 'mdc-text-field__input');\n      }\n      this.ngControl = inject(ControlContainer, {\n        optional: true,\n        self: true\n      });\n    }\n    get describedByIds() {\n      const element = this._elementRef.nativeElement;\n      const existingDescribedBy = element.getAttribute('aria-describedby');\n      return existingDescribedBy?.split(' ') || [];\n    }\n    setDescribedByIds(ids) {\n      this._ariaDescribedBy = ids.length ? ids.join(' ') : null;\n    }\n    onContainerClick() {\n      if (!this.focused && !this.disabled) {\n        if (!this._model || !this._model.selection.start) {\n          this._startInput.focus();\n        } else {\n          this._endInput.focus();\n        }\n      }\n    }\n    ngAfterContentInit() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        if (!this._startInput) {\n          throw Error('mat-date-range-input must contain a matStartDate input');\n        }\n        if (!this._endInput) {\n          throw Error('mat-date-range-input must contain a matEndDate input');\n        }\n      }\n      if (this._model) {\n        this._registerModel(this._model);\n      }\n      merge(this._startInput.stateChanges, this._endInput.stateChanges).subscribe(() => {\n        this.stateChanges.next(undefined);\n      });\n    }\n    ngOnChanges(changes) {\n      if (dateInputsHaveChanged(changes, this._dateAdapter)) {\n        this.stateChanges.next(undefined);\n      }\n    }\n    ngOnDestroy() {\n      this._closedSubscription.unsubscribe();\n      this._openedSubscription.unsubscribe();\n      this.stateChanges.complete();\n    }\n    getStartValue() {\n      return this.value ? this.value.start : null;\n    }\n    getThemePalette() {\n      return this._formField ? this._formField.color : undefined;\n    }\n    getConnectedOverlayOrigin() {\n      return this._formField ? this._formField.getConnectedOverlayOrigin() : this._elementRef;\n    }\n    getOverlayLabelId() {\n      return this._formField ? this._formField.getLabelId() : null;\n    }\n    _getInputMirrorValue(part) {\n      const input = part === 'start' ? this._startInput : this._endInput;\n      return input ? input.getMirrorValue() : '';\n    }\n    _shouldHidePlaceholders() {\n      return this._startInput ? !this._startInput.isEmpty() : false;\n    }\n    _handleChildValueChange() {\n      this.stateChanges.next(undefined);\n      this._changeDetectorRef.markForCheck();\n    }\n    _openDatepicker() {\n      if (this._rangePicker) {\n        this._rangePicker.open();\n      }\n    }\n    _shouldHideSeparator() {\n      return (!this._formField || this._formField.getLabelId() && !this._formField._shouldLabelFloat()) && this.empty;\n    }\n    _getAriaLabelledby() {\n      const formField = this._formField;\n      return formField && formField._hasFloatingLabel() ? formField._labelId : null;\n    }\n    _getStartDateAccessibleName() {\n      return this._startInput._getAccessibleName();\n    }\n    _getEndDateAccessibleName() {\n      return this._endInput._getAccessibleName();\n    }\n    _updateFocus(origin) {\n      this.focused = origin !== null;\n      this.stateChanges.next();\n    }\n    _revalidate() {\n      if (this._startInput) {\n        this._startInput._validatorOnChange();\n      }\n      if (this._endInput) {\n        this._endInput._validatorOnChange();\n      }\n    }\n    _registerModel(model) {\n      if (this._startInput) {\n        this._startInput._registerModel(model);\n      }\n      if (this._endInput) {\n        this._endInput._registerModel(model);\n      }\n    }\n    _isTargetRequired(target) {\n      return target?.ngControl?.control?.hasValidator(Validators.required);\n    }\n    static fac = function MatDateRangeInput_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDateRangeInput)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDateRangeInput,\n      selectors: [[\"mat-date-range-input\"]],\n      hostAttrs: [\"role\", \"group\", 1, \"mat-date-range-input\"],\n      hostVars: 8,\n      hostBindings: function MatDateRangeInput_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.attribute(\"id\", ctx.id)(\"aria-labelledby\", ctx._getAriaLabelledby())(\"aria-describedby\", ctx._ariaDescribedBy)(\"data-mat-calendar\", ctx.rangePicker ? ctx.rangePicker.id : null);\n          i0.classProp(\"mat-date-range-input-hide-placeholders\", ctx._shouldHidePlaceholders())(\"mat-date-range-input-required\", ctx.required);\n        }\n      },\n      inputs: {\n        rangePicker: \"rangePicker\",\n        required: [2, \"required\", \"required\", booleanAttribute],\n        dateFilter: \"dateFilter\",\n        min: \"min\",\n        max: \"max\",\n        disabled: [2, \"disabled\", \"disabled\", booleanAttribute],\n        separator: \"separator\",\n        comparisonStart: \"comparisonStart\",\n        comparisonEnd: \"comparisonEnd\"\n      },\n      exportAs: [\"matDateRangeInput\"],\n      features: [i0.ProvidersFeature([{\n        provide: MatFormFieldControl,\n        useExisting: MatDateRangeInput\n      }]), i0.NgOnChangesFeature],\n      ngContentSelectors: _c6,\n      decls: 11,\n      vars: 5,\n      consts: [[\"cdkMonitorSubtreeFocus\", \"\", 1, \"mat-date-range-input-container\", 3, \"cdkFocusChange\"], [1, \"mat-date-range-input-wrapper\"], [\"aria-hidden\", \"true\", 1, \"mat-date-range-input-mirror\"], [1, \"mat-date-range-input-separator\"], [1, \"mat-date-range-input-wrapper\", \"mat-date-range-input-end-wrapper\"]],\n      template: function MatDateRangeInput_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef(_c5);\n          i0.elementStart(0, \"div\", 0);\n          i0.listener(\"cdkFocusChange\", function MatDateRangeInput_Template_div_cdkFocusChange_0_listener($event) {\n            return ctx._updateFocus($event);\n          });\n          i0.elementStart(1, \"div\", 1);\n          i0.projection(2);\n          i0.elementStart(3, \"span\", 2);\n          i0.text(4);\n          i0.elementEnd()();\n          i0.elementStart(5, \"span\", 3);\n          i0.text(6);\n          i0.elementEnd();\n          i0.elementStart(7, \"div\", 4);\n          i0.projection(8, 1);\n          i0.elementStart(9, \"span\", 2);\n          i0.text(10);\n          i0.elementEnd()()();\n        }\n        if (rf & 2) {\n          i0.advance(4);\n          i0.textInterpolate(ctx._getInputMirrorValue(\"start\"));\n          i0.advance();\n          i0.classProp(\"mat-date-range-input-separator-hidden\", ctx._shouldHideSeparator());\n          i0.advance();\n          i0.textInterpolate(ctx.separator);\n          i0.advance(4);\n          i0.textInterpolate(ctx._getInputMirrorValue(\"end\"));\n        }\n      },\n      dependencies: [CdkMonitorFocus],\n      styles: [\".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color, var(--mat-sys-on-surface))}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDateRangeInput;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction _computeAriaAccessibleName(element) {\n  return _computeAriaAccessibleNameInternal(element, true);\n}\nfunction ssrSafeIsElement(node) {\n  return node.nodeType === Node.ELEMENT_NODE;\n}\nfunction ssrSafeIsHTMLInputElement(node) {\n  return node.nodeName === 'INPUT';\n}\nfunction ssrSafeIsHTMLTextAreaElement(node) {\n  return node.nodeName === 'TEXTAREA';\n}\nfunction _computeAriaAccessibleNameInternal(currentNode, isDirectlyReferenced) {\n  if (ssrSafeIsElement(currentNode) && isDirectlyReferenced) {\n    const labelledbyIds = currentNode.getAttribute?.('aria-labelledby')?.split(/\\s+/g) || [];\n    const validIdRefs = labelledbyIds.reduce((validIds, id) => {\n      const elem = document.getElementById(id);\n      if (elem) {\n        validIds.push(elem);\n      }\n      return validIds;\n    }, []);\n    if (validIdRefs.length) {\n      return validIdRefs.map(idRef => {\n        return _computeAriaAccessibleNameInternal(idRef, false);\n      }).join(' ');\n    }\n  }\n  if (ssrSafeIsElement(currentNode)) {\n    const ariaLabel = currentNode.getAttribute('aria-label')?.trim();\n    if (ariaLabel) {\n      return ariaLabel;\n    }\n  }\n  if (ssrSafeIsHTMLInputElement(currentNode) || ssrSafeIsHTMLTextAreaElement(currentNode)) {\n    if (currentNode.labels?.length) {\n      return Array.from(currentNode.labels).map(x => _computeAriaAccessibleNameInternal(x, false)).join(' ');\n    }\n    const placeholder = currentNode.getAttribute('placeholder')?.trim();\n    if (placeholder) {\n      return placeholder;\n    }\n    const title = currentNode.getAttribute('title')?.trim();\n    if (title) {\n      return title;\n    }\n  }\n  return (currentNode.textContent || '').replace(/\\s+/g, ' ').trim();\n}\nlet MatDateRangeInputPartBase = /*#__PURE__*/(() => {\n  class MatDateRangeInputPartBase extends MatDatepickerInputBase {\n    _rangeInput = inject(MatDateRangeInput);\n    _elementRef = inject(ElementRef);\n    _defaultErrorStateMatcher = inject(ErrorStateMatcher);\n    _injector = inject(Injector);\n    _rawValue = signal('', ...(ngDevMode ? [{\n      debugName: \"_rawValue\"\n    }] : []));\n    _parentForm = inject(NgForm, {\n      optional: true\n    });\n    _parentFormGroup = inject(FormGroupDirective, {\n      optional: true\n    });\n    ngControl;\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _errorStateTracker;\n    get errorStateMatcher() {\n      return this._errorStateTracker.matcher;\n    }\n    set errorStateMatcher(value) {\n      this._errorStateTracker.matcher = value;\n    }\n    get errorState() {\n      return this._errorStateTracker.errorState;\n    }\n    set errorState(value) {\n      this._errorStateTracker.errorState = value;\n    }\n    constructor() {\n      super();\n      this._errorStateTracker = new _ErrorStateTracker(this._defaultErrorStateMatcher, null, this._parentFormGroup, this._parentForm, this.stateChanges);\n    }\n    ngOnInit() {\n      const ngControl = this._injector.get(NgControl, null, {\n        optional: true,\n        self: true\n      });\n      if (ngControl) {\n        this.ngControl = ngControl;\n        this._errorStateTracker.ngControl = ngControl;\n      }\n    }\n    ngAfterContentInit() {\n      this._register();\n    }\n    ngDoCheck() {\n      if (this.ngControl) {\n        this.updateErrorState();\n      }\n      this._rawValue.set(this._elementRef.nativeElement.value);\n    }\n    isEmpty() {\n      return this._rawValue().length === 0;\n    }\n    _getPlaceholder() {\n      return this._elementRef.nativeElement.placeholder;\n    }\n    focus() {\n      this._elementRef.nativeElement.focus();\n    }\n    getMirrorValue() {\n      const value = this._rawValue();\n      return value.length > 0 ? value : this._getPlaceholder();\n    }\n    updateErrorState() {\n      this._errorStateTracker.updateErrorState();\n    }\n    _onInput(event) {\n      super._onInput(event);\n      this._rangeInput._handleChildValueChange();\n    }\n    _openPopup() {\n      this._rangeInput._openDatepicker();\n    }\n    _getMinDate() {\n      return this._rangeInput.min;\n    }\n    _getMaxDate() {\n      return this._rangeInput.max;\n    }\n    _getDateFilter() {\n      return this._rangeInput.dateFilter;\n    }\n    _parentDisabled() {\n      return this._rangeInput._groupDisabled;\n    }\n    _shouldHandleChangeEvent({\n      source\n    }) {\n      return source !== this._rangeInput._startInput && source !== this._rangeInput._endInput;\n    }\n    _assignValueProgrammatically(value, reformat) {\n      super._assignValueProgrammatically(value, reformat);\n      const opposite = this === this._rangeInput._startInput ? this._rangeInput._endInput : this._rangeInput._startInput;\n      opposite?._validatorOnChange();\n      this._rawValue.set(this._elementRef.nativeElement.value);\n    }\n    _formatValue(value) {\n      super._formatValue(value);\n      this._rangeInput._handleChildValueChange();\n    }\n    _getAccessibleName() {\n      return _computeAriaAccessibleName(this._elementRef.nativeElement);\n    }\n    static fac = function MatDateRangeInputPartBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDateRangeInputPartBase)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDateRangeInputPartBase,\n      inputs: {\n        errorStateMatcher: \"errorStateMatcher\"\n      },\n      features: [i0.InheritDefinitionFeature]\n    });\n  }\n  return MatDateRangeInputPartBase;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatStartDate = /*#__PURE__*/(() => {\n  class MatStartDate extends MatDateRangeInputPartBase {\n    _startValidator = control => {\n      const start = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n      const end = this._model ? this._model.selection.end : null;\n      return !start || !end || this._dateAdapter.compareDate(start, end) <= 0 ? null : {\n        'matStartDateInvalid': {\n          'end': end,\n          'actual': start\n        }\n      };\n    };\n    _validator = Validators.compose([...super._getValidators(), this._startValidator]);\n    _register() {\n      this._rangeInput._startInput = this;\n    }\n    _getValueFromModel(modelValue) {\n      return modelValue.start;\n    }\n    _shouldHandleChangeEvent(change) {\n      if (!super._shouldHandleChangeEvent(change)) {\n        return false;\n      } else {\n        return !change.oldValue?.start ? !!change.selection.start : !change.selection.start || !!this._dateAdapter.compareDate(change.oldValue.start, change.selection.start);\n      }\n    }\n    _assignValueToModel(value) {\n      if (this._model) {\n        const range = new DateRange(value, this._model.selection.end);\n        this._model.updateSelection(range, this);\n        this._rangeInput._handleChildValueChange();\n      }\n    }\n    _onKeydown(event) {\n      const endInput = this._rangeInput._endInput;\n      const element = this._elementRef.nativeElement;\n      const isLtr = this._dir?.value !== 'rtl';\n      if ((event.keyCode === RIGHT_ARROW && isLtr || event.keyCode === LEFT_ARROW && !isLtr) && element.selectionStart === element.value.length && element.selectionEnd === element.value.length) {\n        event.preventDefault();\n        endInput._elementRef.nativeElement.setSelectionRange(0, 0);\n        endInput.focus();\n      } else {\n        super._onKeydown(event);\n      }\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatStartDate_BaseFactory;\n      return function MatStartDate_Factory(__ngFactoryType__) {\n        return (MatStartDate_BaseFactory || (MatStartDate_BaseFactory = i0.getInheritedFactory(MatStartDate)))(__ngFactoryType__ || MatStartDate);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatStartDate,\n      selectors: [[\"input\", \"matStartDate\", \"\"]],\n      hostAttrs: [\"type\", \"text\", 1, \"mat-start-date\", \"mat-date-range-input-inner\"],\n      hostVars: 5,\n      hostBindings: function MatStartDate_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"input\", function MatStartDate_input_HostBindingHandler($event) {\n            return ctx._onInput($event);\n          })(\"change\", function MatStartDate_change_HostBindingHandler() {\n            return ctx._onChange();\n          })(\"keydown\", function MatStartDate_keydown_HostBindingHandler($event) {\n            return ctx._onKeydown($event);\n          })(\"blur\", function MatStartDate_blur_HostBindingHandler() {\n            return ctx._onBlur();\n          });\n        }\n        if (rf & 2) {\n          i0.domProperty(\"disabled\", ctx.disabled);\n          i0.attribute(\"aria-haspopup\", ctx._rangeInput.rangePicker ? \"dialog\" : null)(\"aria-owns\", ctx._rangeInput._ariaOwns() || null)(\"min\", ctx._getMinDate() ? ctx._dateAdapter.toIso8601(ctx._getMinDate()) : null)(\"max\", ctx._getMaxDate() ? ctx._dateAdapter.toIso8601(ctx._getMaxDate()) : null);\n        }\n      },\n      outputs: {\n        dateChange: \"dateChange\",\n        dateInput: \"dateInput\"\n      },\n      features: [i0.ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: MatStartDate,\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: MatStartDate,\n        multi: true\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatStartDate;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatEndDate = /*#__PURE__*/(() => {\n  class MatEndDate extends MatDateRangeInputPartBase {\n    _endValidator = control => {\n      const end = this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n      const start = this._model ? this._model.selection.start : null;\n      return !end || !start || this._dateAdapter.compareDate(end, start) >= 0 ? null : {\n        'matEndDateInvalid': {\n          'start': start,\n          'actual': end\n        }\n      };\n    };\n    _register() {\n      this._rangeInput._endInput = this;\n    }\n    _validator = Validators.compose([...super._getValidators(), this._endValidator]);\n    _getValueFromModel(modelValue) {\n      return modelValue.end;\n    }\n    _shouldHandleChangeEvent(change) {\n      if (!super._shouldHandleChangeEvent(change)) {\n        return false;\n      } else {\n        return !change.oldValue?.end ? !!change.selection.end : !change.selection.end || !!this._dateAdapter.compareDate(change.oldValue.end, change.selection.end);\n      }\n    }\n    _assignValueToModel(value) {\n      if (this._model) {\n        const range = new DateRange(this._model.selection.start, value);\n        this._model.updateSelection(range, this);\n      }\n    }\n    _moveCaretToEndOfStartInput() {\n      const startInput = this._rangeInput._startInput._elementRef.nativeElement;\n      const value = startInput.value;\n      if (value.length > 0) {\n        startInput.setSelectionRange(value.length, value.length);\n      }\n      startInput.focus();\n    }\n    _onKeydown(event) {\n      const element = this._elementRef.nativeElement;\n      const isLtr = this._dir?.value !== 'rtl';\n      if (event.keyCode === BACKSPACE && !element.value) {\n        this._moveCaretToEndOfStartInput();\n      } else if ((event.keyCode === LEFT_ARROW && isLtr || event.keyCode === RIGHT_ARROW && !isLtr) && element.selectionStart === 0 && element.selectionEnd === 0) {\n        event.preventDefault();\n        this._moveCaretToEndOfStartInput();\n      } else {\n        super._onKeydown(event);\n      }\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatEndDate_BaseFactory;\n      return function MatEndDate_Factory(__ngFactoryType__) {\n        return (MatEndDate_BaseFactory || (MatEndDate_BaseFactory = i0.getInheritedFactory(MatEndDate)))(__ngFactoryType__ || MatEndDate);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatEndDate,\n      selectors: [[\"input\", \"matEndDate\", \"\"]],\n      hostAttrs: [\"type\", \"text\", 1, \"mat-end-date\", \"mat-date-range-input-inner\"],\n      hostVars: 5,\n      hostBindings: function MatEndDate_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"input\", function MatEndDate_input_HostBindingHandler($event) {\n            return ctx._onInput($event);\n          })(\"change\", function MatEndDate_change_HostBindingHandler() {\n            return ctx._onChange();\n          })(\"keydown\", function MatEndDate_keydown_HostBindingHandler($event) {\n            return ctx._onKeydown($event);\n          })(\"blur\", function MatEndDate_blur_HostBindingHandler() {\n            return ctx._onBlur();\n          });\n        }\n        if (rf & 2) {\n          i0.domProperty(\"disabled\", ctx.disabled);\n          i0.attribute(\"aria-haspopup\", ctx._rangeInput.rangePicker ? \"dialog\" : null)(\"aria-owns\", ctx._rangeInput._ariaOwns() || null)(\"min\", ctx._getMinDate() ? ctx._dateAdapter.toIso8601(ctx._getMinDate()) : null)(\"max\", ctx._getMaxDate() ? ctx._dateAdapter.toIso8601(ctx._getMaxDate()) : null);\n        }\n      },\n      outputs: {\n        dateChange: \"dateChange\",\n        dateInput: \"dateInput\"\n      },\n      features: [i0.ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: MatEndDate,\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: MatEndDate,\n        multi: true\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatEndDate;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDateRangePicker = /*#__PURE__*/(() => {\n  class MatDateRangePicker extends MatDatepickerBase {\n    _forwardContentValues(instance) {\n      super._forwardContentValues(instance);\n      const input = this.datepickerInput;\n      if (input) {\n        instance.comparisonStart = input.comparisonStart;\n        instance.comparisonEnd = input.comparisonEnd;\n        instance.startDateAccessibleName = input._getStartDateAccessibleName();\n        instance.endDateAccessibleName = input._getEndDateAccessibleName();\n      }\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatDateRangePicker_BaseFactory;\n      return function MatDateRangePicker_Factory(__ngFactoryType__) {\n        return (MatDateRangePicker_BaseFactory || (MatDateRangePicker_BaseFactory = i0.getInheritedFactory(MatDateRangePicker)))(__ngFactoryType__ || MatDateRangePicker);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDateRangePicker,\n      selectors: [[\"mat-date-range-picker\"]],\n      exportAs: [\"matDateRangePicker\"],\n      features: [i0.ProvidersFeature([MAT_RANGE_DATE_SELECTION_MODEL_PROVIDER, {\n        provide: MAT_DATE_RANGE_SELECTION_STRATEGY,\n        useFactory: () => {\n          const parent = inject(MAT_DATE_RANGE_SELECTION_STRATEGY, {\n            optional: true,\n            skipSelf: true\n          });\n          return parent || new DefaultMatCalendarRangeStrategy(inject(DateAdapter));\n        }\n      }, {\n        provide: MatDatepickerBase,\n        useExisting: MatDateRangePicker\n      }]), i0.InheritDefinitionFeature],\n      decls: 0,\n      vars: 0,\n      template: function MatDateRangePicker_Template(rf, ctx) {},\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDateRangePicker;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerApply = /*#__PURE__*/(() => {\n  class MatDatepickerApply {\n    _datepicker = inject(MatDatepickerBase);\n    constructor() {}\n    _applySelection() {\n      this._datepicker._applyPendingSelection();\n      this._datepicker.close();\n    }\n    static fac = function MatDatepickerApply_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerApply)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDatepickerApply,\n      selectors: [[\"\", \"matDatepickerApply\", \"\"], [\"\", \"matDateRangePickerApply\", \"\"]],\n      hostBindings: function MatDatepickerApply_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function MatDatepickerApply_click_HostBindingHandler() {\n            return ctx._applySelection();\n          });\n        }\n      }\n    });\n  }\n  return MatDatepickerApply;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerCancel = /*#__PURE__*/(() => {\n  class MatDatepickerCancel {\n    _datepicker = inject(MatDatepickerBase);\n    constructor() {}\n    static fac = function MatDatepickerCancel_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerCancel)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatDatepickerCancel,\n      selectors: [[\"\", \"matDatepickerCancel\", \"\"], [\"\", \"matDateRangePickerCancel\", \"\"]],\n      hostBindings: function MatDatepickerCancel_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function MatDatepickerCancel_click_HostBindingHandler() {\n            return ctx._datepicker.close();\n          });\n        }\n      }\n    });\n  }\n  return MatDatepickerCancel;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerActions = /*#__PURE__*/(() => {\n  class MatDatepickerActions {\n    _datepicker = inject(MatDatepickerBase);\n    _viewContainerRef = inject(ViewContainerRef);\n    _template;\n    _portal;\n    constructor() {}\n    ngAfterViewInit() {\n      this._portal = new TemplatePortal(this._template, this._viewContainerRef);\n      this._datepicker.registerActions(this._portal);\n    }\n    ngOnDestroy() {\n      this._datepicker.removeActions(this._portal);\n      if (this._portal && this._portal.isAttached) {\n        this._portal?.detach();\n      }\n    }\n    static fac = function MatDatepickerActions_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerActions)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDatepickerActions,\n      selectors: [[\"mat-datepicker-actions\"], [\"mat-date-range-picker-actions\"]],\n      viewQuery: function MatDatepickerActions_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(TemplateRef, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._template = _t.first);\n        }\n      },\n      ngContentSelectors: _c1,\n      decls: 1,\n      vars: 0,\n      consts: [[1, \"mat-datepicker-actions\"]],\n      template: function MatDatepickerActions_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.domTemplate(0, MatDatepickerActions_ng_template_0_Template, 2, 0, \"ng-template\");\n        }\n      },\n      styles: [\".mat-datepicker-actions{display:flex;justify-content:flex-end;align-items:center;padding:0 8px 8px 8px}.mat-datepicker-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDatepickerActions;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDatepickerModule = /*#__PURE__*/(() => {\n  class MatDatepickerModule {\n    static fac = function MatDatepickerModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDatepickerModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: MatDatepickerModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({\n      providers: [MatDatepickerIntl],\n      imports: [MatButtonModule, OverlayModule, A11yModule, PortalModule, MatDatepickerContent, MatDatepickerToggle, MatCalendarHeader, BidiModule, CdkScrollableModule]\n    });\n  }\n  return MatDatepickerModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { DateRange, DefaultMatCalendarRangeStrategy, MAT_DATEPICKER_SCROLL_STRATEGY, MAT_DATEPICKER_VALIDATORS, MAT_DATEPICKER_VALUE_ACCESSOR, MAT_DATE_RANGE_SELECTION_STRATEGY, MatCalendar, MatCalendarBody, MatCalendarCell, MatCalendarHeader, MatDateRangeInput, MatDateRangePicker, MatDateSelectionModel, MatDatepicker, MatDatepickerActions, MatDatepickerApply, MatDatepickerCancel, MatDatepickerContent, MatDatepickerInput, MatDatepickerInputEvent, MatDatepickerIntl, MatDatepickerModule, MatDatepickerToggle, MatDatepickerToggleIcon, MatEndDate, MatMonthView, MatMultiYearView, MatRangeDateSelectionModel, MatSingleDateSelectionModel, MatStartDate, MatYearView, yearsPerPage, yearsPerRow };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, inject, Injector, ViewContainerRef, signal, viewChild, viewChildren, input, output, booleanAttribute, computed, effect, ElementRef, afterNextRender, untracked, Component, ChangeDetectionStrategy, ViewEncapsulation, model, Renderer2, Directive, HostAttributeToken, NgModule } from '@angular/core';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { createRepositionScrollStrategy, createFlexibleConnectedPositionStrategy, createOverlayRef } from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { _getEventTarget, _getFocusedElementPierceShadowDom } from '@angular/cdk/platform';\nimport { TAB, ESCAPE, hasModifierKey, ENTER, DOWN_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\nimport { ActiveDescendantKeyManager, _IdGenerator } from '@angular/cdk/a11y';\nimport { DateAdapter, MAT_DATE_FORMATS } from './_date-formats-chunk.mjs';\nimport { _animationsDisabled } from './_animation-chunk.mjs';\nimport { MatOption, MAT_OPTION_PARENT_COMPONENT } from './_option-chunk.mjs';\nimport { Validators, NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\nimport { MAT_FORM_FIELD } from './_form-field-chunk.mjs';\nimport { MAT_INPUT_VALUE_ACCESSOR } from './_input-value-accessor-chunk.mjs';\nimport { MatIconButton } from './_icon-button-chunk.mjs';\nimport { CdkScrollableModule } from '@angular/cdk/scrolling';\nimport 'rxjs';\nimport '@angular/cdk/layout';\nimport './_ripple-chunk.mjs';\nimport '@angular/cdk/coercion';\nimport '@angular/cdk/private';\nimport './_pseudo-checkbox-chunk.mjs';\nimport './_structural-styles-chunk.mjs';\nimport '@angular/common';\nimport 'rxjs/operators';\nimport '@angular/cdk/observers/private';\nimport './_ripple-loader-chunk.mjs';\nconst _c0 = [\"panelTemplate\"];\nconst _forTrack0 = ($index, $item) => $item.value;\nfunction MatTimepicker_ng_template_0_For_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.getCurrentView();\n    i0.elementStart(0, \"mat-option\", 3);\n    i0.listener(\"onSelectionChange\", function MatTimepicker_ng_template_0_For_2_Template_mat_option_onSelectionChange_0_listener($event) {\n      i0.restoreView(_r3);\n      const ctx_r1 = i0.nextContext(2);\n      return i0.resetView(ctx_r1._selectValue($event.source));\n    });\n    i0.text(1);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    i0.property(\"value\", option_r4.value);\n    i0.advance();\n    i0.textInterpolate(option_r4.label);\n  }\n}\nfunction MatTimepicker_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.getCurrentView();\n    i0.elementStart(0, \"div\", 1);\n    i0.listener(\"animationend\", function MatTimepicker_ng_template_0_Template_div_animationend_0_listener($event) {\n      i0.restoreView(_r1);\n      const ctx_r1 = i0.nextContext();\n      return i0.resetView(ctx_r1._handleAnimationEnd($event));\n    });\n    i0.repeaterCreate(1, MatTimepicker_ng_template_0_For_2_Template, 2, 2, \"mat-option\", 2, _forTrack0);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.nextContext();\n    i0.classProp(\"mat-timepicker-panel-animations-enabled\", !ctx_r1._animationsDisabled)(\"mat-timepicker-panel-exit\", !ctx_r1.isOpen());\n    i0.property(\"id\", ctx_r1.panelId);\n    i0.attribute(\"aria-label\", ctx_r1.ariaLabel() || null)(\"aria-labelledby\", ctx_r1._getAriaLabelledby());\n    i0.advance();\n    i0.repeater(ctx_r1._timeOptions);\n  }\n}\nconst _c1 = [[[\"\", \"matTimepickerToggleIcon\", \"\"]]];\nconst _c2 = [\"[matTimepickerToggleIcon]\"];\nfunction MatTimepickerToggle_ProjectionFallback_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.namespaceSVG();\n    i0.elementStart(0, \"svg\", 1);\n    i0.element(1, \"path\", 2);\n    i0.elementEnd();\n  }\n}\nconst INTERVAL_PATTERN = /^(\\d*\\.?\\d+)\\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i;\nconst MAT_TIMEPICKER_CONFIG = /*#__PURE__*/new InjectionToken('MAT_TIMEPICKER_CONFIG');\nfunction parseInterval(value) {\n  let result;\n  if (value === null) {\n    return null;\n  } else if (typeof value === 'number') {\n    result = value;\n  } else {\n    if (value.trim().length === 0) {\n      return null;\n    }\n    const parsed = value.match(INTERVAL_PATTERN);\n    const amount = parsed ? parseFloat(parsed[1]) : null;\n    const unit = parsed?.[2]?.toLowerCase() || null;\n    if (!parsed || amount === null || isNaN(amount)) {\n      return null;\n    }\n    if (unit === 'h' || unit === 'hour' || unit === 'hours') {\n      result = amount * 3600;\n    } else if (unit === 'm' || unit === 'min' || unit === 'minute' || unit === 'minutes') {\n      result = amount * 60;\n    } else {\n      result = amount;\n    }\n  }\n  return result;\n}\nfunction generateOptions(adapter, formats, min, max, interval) {\n  const options = [];\n  let current = adapter.compareTime(min, max) < 1 ? min : max;\n  while (adapter.sameDate(current, min) && adapter.compareTime(current, max) < 1 && adapter.isValid(current)) {\n    options.push({\n      value: current,\n      label: adapter.format(current, formats.display.timeOptionLabel)\n    });\n    current = adapter.addSeconds(current, interval);\n  }\n  return options;\n}\nfunction validateAdapter(adapter, formats) {\n  function missingAdapterError(provider) {\n    return Error(`MatTimepicker: No provider found for ${provider}. You must add one of the following ` + `to your app config: provideNativeDateAdapter, provideDateFnsAdapter, ` + `provideLuxonDateAdapter, provideMomentDateAdapter, or provide a custom implementation.`);\n  }\n  if (!adapter) {\n    throw missingAdapterError('DateAdapter');\n  }\n  if (!formats) {\n    throw missingAdapterError('MAT_DATE_FORMATS');\n  }\n  if (formats.display.timeInput === undefined || formats.display.timeOptionLabel === undefined || formats.parse.timeInput === undefined) {\n    throw new Error('MatTimepicker: Incomplete `MAT_DATE_FORMATS` has been provided. ' + '`MAT_DATE_FORMATS` must provide `display.timeInput`, `display.timeOptionLabel` ' + 'and `parse.timeInput` formats in order to be compatible with MatTimepicker.');\n  }\n}\nconst MAT_TIMEPICKER_SCROLL_STRATEGY = /*#__PURE__*/new InjectionToken('MAT_TIMEPICKER_SCROLL_STRATEGY', {\n  providedIn: 'root',\n  factory: () => {\n    const injector = inject(Injector);\n    return () => createRepositionScrollStrategy(injector);\n  }\n});\nlet MatTimepicker = /*#__PURE__*/(() => {\n  class MatTimepicker {\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _viewContainerRef = inject(ViewContainerRef);\n    _injector = inject(Injector);\n    _defaultConfig = inject(MAT_TIMEPICKER_CONFIG, {\n      optional: true\n    });\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _scrollStrategyFactory = inject(MAT_TIMEPICKER_SCROLL_STRATEGY);\n    _animationsDisabled = _animationsDisabled();\n    _isOpen = signal(false, ...(ngDevMode ? [{\n      debugName: \"_isOpen\"\n    }] : []));\n    _activeDescendant = signal(null, ...(ngDevMode ? [{\n      debugName: \"_activeDescendant\"\n    }] : []));\n    _input = signal(null, ...(ngDevMode ? [{\n      debugName: \"_input\"\n    }] : []));\n    _overlayRef = null;\n    _portal = null;\n    _optionsCacheKey = null;\n    _localeChanges;\n    _onOpenRender = null;\n    _panelTemplate = viewChild.required('panelTemplate');\n    _timeOptions = [];\n    _options = viewChildren(MatOption, ...(ngDevMode ? [{\n      debugName: \"_options\"\n    }] : []));\n    _keyManager = new ActiveDescendantKeyManager(this._options, this._injector).withHomeAndEnd(true).withPageUpDown(true).withVerticalOrientation(true);\n    interval = input(parseInterval(this._defaultConfig?.interval || null), {\n      ...(ngDevMode ? {\n        debugName: \"interval\"\n      } : {}),\n      transform: parseInterval\n    });\n    options = input(null, ...(ngDevMode ? [{\n      debugName: \"options\"\n    }] : []));\n    isOpen = this._isOpen.asReadonly();\n    selected = output();\n    opened = output();\n    closed = output();\n    activeDescendant = this._activeDescendant.asReadonly();\n    panelId = inject(_IdGenerator).getId('mat-timepicker-panel-');\n    disableRipple = input(this._defaultConfig?.disableRipple ?? false, {\n      ...(ngDevMode ? {\n        debugName: \"disableRipple\"\n      } : {}),\n      transform: booleanAttribute\n    });\n    ariaLabel = input(null, {\n      ...(ngDevMode ? {\n        debugName: \"ariaLabel\"\n      } : {}),\n      alias: 'aria-label'\n    });\n    ariaLabelledby = input(null, {\n      ...(ngDevMode ? {\n        debugName: \"ariaLabelledby\"\n      } : {}),\n      alias: 'aria-labelledby'\n    });\n    disabled = computed(() => !!this._input()?.disabled(), ...(ngDevMode ? [{\n      debugName: \"disabled\"\n    }] : []));\n    constructor() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        validateAdapter(this._dateAdapter, this._dateFormats);\n        effect(() => {\n          const options = this.options();\n          const interval = this.interval();\n          if (options !== null && interval !== null) {\n            throw new Error('Cannot specify both the `options` and `interval` inputs at the same time');\n          } else if (options?.length === 0) {\n            throw new Error('Value of `options` input cannot be an empty array');\n          }\n        });\n      }\n      const element = inject(ElementRef);\n      element.nativeElement.setAttribute('mat-timepicker-panel-id', this.panelId);\n      this._handleLocaleChanges();\n      this._handleInputStateChanges();\n      this._keyManager.change.subscribe(() => this._activeDescendant.set(this._keyManager.activeItem?.id || null));\n    }\n    open() {\n      const input = this._input();\n      if (!input) {\n        return;\n      }\n      input.focus();\n      if (this._isOpen()) {\n        return;\n      }\n      this._isOpen.set(true);\n      this._generateOptions();\n      const overlayRef = this._getOverlayRef();\n      overlayRef.updateSize({\n        width: input.getOverlayOrigin().nativeElement.offsetWidth\n      });\n      this._portal ??= new TemplatePortal(this._panelTemplate(), this._viewContainerRef);\n      if (!overlayRef.hasAttached()) {\n        overlayRef.attach(this._portal);\n      }\n      this._onOpenRender?.destroy();\n      this._onOpenRender = afterNextRender(() => {\n        const options = this._options();\n        this._syncSelectedState(input.value(), options, options[0]);\n        this._onOpenRender = null;\n      }, {\n        injector: this._injector\n      });\n      this.opened.emit();\n    }\n    close() {\n      if (this._isOpen()) {\n        this._isOpen.set(false);\n        this.closed.emit();\n        if (this._animationsDisabled) {\n          this._overlayRef?.detach();\n        }\n      }\n    }\n    registerInput(input) {\n      const currentInput = this._input();\n      if (currentInput && input !== currentInput && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw new Error('MatTimepicker can only be registered with one input at a time');\n      }\n      this._input.set(input);\n    }\n    ngOnDestroy() {\n      this._keyManager.destroy();\n      this._localeChanges.unsubscribe();\n      this._onOpenRender?.destroy();\n      this._overlayRef?.dispose();\n    }\n    _getOverlayHost() {\n      return this._overlayRef?.hostElement;\n    }\n    _selectValue(option) {\n      this.close();\n      this._keyManager.setActiveItem(option);\n      this._options().forEach(current => {\n        if (current !== option) {\n          current.deselect(false);\n        }\n      });\n      this._input()?.timepickerValueAssigned(option.value);\n      this.selected.emit({\n        value: option.value,\n        source: this\n      });\n      this._input()?.focus();\n    }\n    _getAriaLabelledby() {\n      if (this.ariaLabel()) {\n        return null;\n      }\n      return this.ariaLabelledby() || this._input()?.getLabelId() || null;\n    }\n    _handleAnimationEnd(event) {\n      if (event.animationName === '_mat-timepicker-exit') {\n        this._overlayRef?.detach();\n      }\n    }\n    _getOverlayRef() {\n      if (this._overlayRef) {\n        return this._overlayRef;\n      }\n      const positionStrategy = createFlexibleConnectedPositionStrategy(this._injector, this._input().getOverlayOrigin()).withFlexibleDimensions(false).withPush(false).withTransformOriginOn('.mat-timepicker-panel').withPopoverLocation('inline').withPositions([{\n        originX: 'start',\n        originY: 'bottom',\n        overlayX: 'start',\n        overlayY: 'top'\n      }, {\n        originX: 'start',\n        originY: 'top',\n        overlayX: 'start',\n        overlayY: 'bottom',\n        panelClass: 'mat-timepicker-above'\n      }]);\n      this._overlayRef = createOverlayRef(this._injector, {\n        positionStrategy,\n        scrollStrategy: this._scrollStrategyFactory(),\n        direction: this._dir || 'ltr',\n        hasBackdrop: false,\n        disableAnimations: this._animationsDisabled\n      });\n      this._overlayRef.detachments().subscribe(() => this.close());\n      this._overlayRef.keydownEvents().subscribe(event => this._handleKeydown(event));\n      this._overlayRef.outsidePointerEvents().subscribe(event => {\n        const target = _getEventTarget(event);\n        const origin = this._input()?.getOverlayOrigin().nativeElement;\n        if (target && origin && target !== origin && !origin.contains(target)) {\n          this.close();\n        }\n      });\n      return this._overlayRef;\n    }\n    _generateOptions() {\n      const interval = this.interval() ?? 30 * 60;\n      const options = this.options();\n      if (options !== null) {\n        this._timeOptions = options;\n      } else {\n        const input = this._input();\n        const adapter = this._dateAdapter;\n        const timeFormat = this._dateFormats.display.timeInput;\n        const min = input?.min() || adapter.setTime(adapter.today(), 0, 0, 0);\n        const max = input?.max() || adapter.setTime(adapter.today(), 23, 59, 0);\n        const cacheKey = interval + '/' + adapter.format(min, timeFormat) + '/' + adapter.format(max, timeFormat);\n        if (cacheKey !== this._optionsCacheKey) {\n          this._optionsCacheKey = cacheKey;\n          this._timeOptions = generateOptions(adapter, this._dateFormats, min, max, interval);\n        }\n      }\n    }\n    _syncSelectedState(value, options, fallback) {\n      let hasSelected = false;\n      for (const option of options) {\n        if (value && this._dateAdapter.sameTime(option.value, value)) {\n          option.select(false);\n          scrollOptionIntoView(option, 'center');\n          untracked(() => this._keyManager.setActiveItem(option));\n          hasSelected = true;\n        } else {\n          option.deselect(false);\n        }\n      }\n      if (!hasSelected) {\n        if (fallback) {\n          untracked(() => this._keyManager.setActiveItem(fallback));\n          scrollOptionIntoView(fallback, 'center');\n        } else {\n          untracked(() => this._keyManager.setActiveItem(-1));\n        }\n      }\n    }\n    _handleKeydown(event) {\n      const keyCode = event.keyCode;\n      if (keyCode === TAB) {\n        this.close();\n      } else if (keyCode === ESCAPE && !hasModifierKey(event)) {\n        event.preventDefault();\n        this.close();\n      } else if (keyCode === ENTER) {\n        event.preventDefault();\n        if (this._keyManager.activeItem) {\n          this._selectValue(this._keyManager.activeItem);\n        } else {\n          this.close();\n        }\n      } else {\n        const previousActive = this._keyManager.activeItem;\n        this._keyManager.onKeydown(event);\n        const currentActive = this._keyManager.activeItem;\n        if (currentActive && currentActive !== previousActive) {\n          scrollOptionIntoView(currentActive, 'nearest');\n        }\n      }\n    }\n    _handleLocaleChanges() {\n      this._localeChanges = this._dateAdapter.localeChanges.subscribe(() => {\n        this._optionsCacheKey = null;\n        if (this.isOpen()) {\n          this._generateOptions();\n        }\n      });\n    }\n    _handleInputStateChanges() {\n      effect(() => {\n        const input = this._input();\n        const options = this._options();\n        if (this._isOpen() && input) {\n          this._syncSelectedState(input.value(), options, null);\n        }\n      });\n    }\n    static fac = function MatTimepicker_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTimepicker)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatTimepicker,\n      selectors: [[\"mat-timepicker\"]],\n      viewQuery: function MatTimepicker_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuerySignal(ctx._panelTemplate, _c0, 5)(ctx._options, MatOption, 5);\n        }\n        if (rf & 2) {\n          i0.queryAdvance(2);\n        }\n      },\n      inputs: {\n        interval: [1, \"interval\"],\n        options: [1, \"options\"],\n        disableRipple: [1, \"disableRipple\"],\n        ariaLabel: [1, \"aria-label\", \"ariaLabel\"],\n        ariaLabelledby: [1, \"aria-labelledby\", \"ariaLabelledby\"]\n      },\n      outputs: {\n        selected: \"selected\",\n        opened: \"opened\",\n        closed: \"closed\"\n      },\n      exportAs: [\"matTimepicker\"],\n      features: [i0.ProvidersFeature([{\n        provide: MAT_OPTION_PARENT_COMPONENT,\n        useExisting: MatTimepicker\n      }])],\n      decls: 2,\n      vars: 0,\n      consts: [[\"panelTemplate\", \"\"], [\"role\", \"listbox\", 1, \"mat-timepicker-panel\", 3, \"animationend\", \"id\"], [3, \"value\"], [3, \"onSelectionChange\", \"value\"]],\n      template: function MatTimepicker_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.template(0, MatTimepicker_ng_template_0_Template, 3, 7, \"ng-template\", null, 0, i0.templateRefExtractor);\n        }\n      },\n      dependencies: [MatOption],\n      styles: [\"@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatTimepicker;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction scrollOptionIntoView(option, position) {\n  option._getHostElement().scrollIntoView({\n    block: position,\n    inline: position\n  });\n}\nlet MatTimepickerInput = /*#__PURE__*/(() => {\n  class MatTimepickerInput {\n    _elementRef = inject(ElementRef);\n    _dateAdapter = inject(DateAdapter, {\n      optional: true\n    });\n    _dateFormats = inject(MAT_DATE_FORMATS, {\n      optional: true\n    });\n    _formField = inject(MAT_FORM_FIELD, {\n      optional: true\n    });\n    _onChange;\n    _onTouched;\n    _validatorOnChange;\n    _cleanupClick;\n    _accessorDisabled = signal(false, ...(ngDevMode ? [{\n      debugName: \"_accessorDisabled\"\n    }] : []));\n    _localeSubscription;\n    _timepickerSubscription;\n    _validator;\n    _lastValueValid = true;\n    _minValid = true;\n    _maxValid = true;\n    _lastValidDate = null;\n    _ariaActiveDescendant = computed(() => {\n      const timepicker = this.timepicker();\n      const isOpen = timepicker.isOpen();\n      const activeDescendant = timepicker.activeDescendant();\n      return isOpen && activeDescendant ? activeDescendant : null;\n    }, ...(ngDevMode ? [{\n      debugName: \"_ariaActiveDescendant\"\n    }] : []));\n    _ariaExpanded = computed(() => this.timepicker().isOpen() + '', ...(ngDevMode ? [{\n      debugName: \"_ariaExpanded\"\n    }] : []));\n    _ariaControls = computed(() => {\n      const timepicker = this.timepicker();\n      return timepicker.isOpen() ? timepicker.panelId : null;\n    }, ...(ngDevMode ? [{\n      debugName: \"_ariaControls\"\n    }] : []));\n    value = model(null, ...(ngDevMode ? [{\n      debugName: \"value\"\n    }] : []));\n    timepicker = input.required({\n      ...(ngDevMode ? {\n        debugName: \"timepicker\"\n      } : {}),\n      alias: 'matTimepicker'\n    });\n    min = input(null, {\n      ...(ngDevMode ? {\n        debugName: \"min\"\n      } : {}),\n      alias: 'matTimepickerMin',\n      transform: value => this._transformDateInput(value)\n    });\n    max = input(null, {\n      ...(ngDevMode ? {\n        debugName: \"max\"\n      } : {}),\n      alias: 'matTimepickerMax',\n      transform: value => this._transformDateInput(value)\n    });\n    openOnClick = input(true, {\n      ...(ngDevMode ? {\n        debugName: \"openOnClick\"\n      } : {}),\n      alias: 'matTimepickerOpenOnClick',\n      transform: booleanAttribute\n    });\n    disabled = computed(() => this.disabledInput() || this._accessorDisabled(), ...(ngDevMode ? [{\n      debugName: \"disabled\"\n    }] : []));\n    disabledInput = input(false, {\n      ...(ngDevMode ? {\n        debugName: \"disabledInput\"\n      } : {}),\n      transform: booleanAttribute,\n      alias: 'disabled'\n    });\n    constructor() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        validateAdapter(this._dateAdapter, this._dateFormats);\n      }\n      const renderer = inject(Renderer2);\n      this._validator = this._getValidator();\n      this._updateFormsState();\n      this._registerTimepicker();\n      this._localeSubscription = this._dateAdapter.localeChanges.subscribe(() => {\n        if (!this._hasFocus()) {\n          this._formatValue(this.value());\n        }\n      });\n      this._cleanupClick = renderer.listen(this.getOverlayOrigin().nativeElement, 'click', this._handleClick);\n    }\n    writeValue(value) {\n      const deserialized = this._dateAdapter.deserialize(value);\n      this.value.set(this._dateAdapter.getValidDateOrNull(deserialized));\n    }\n    registerOnChange(fn) {\n      this._onChange = fn;\n    }\n    registerOnTouched(fn) {\n      this._onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n      this._accessorDisabled.set(isDisabled);\n    }\n    validate(control) {\n      return this._validator(control);\n    }\n    registerOnValidatorChange(fn) {\n      this._validatorOnChange = fn;\n    }\n    getOverlayOrigin() {\n      return this._formField?.getConnectedOverlayOrigin() || this._elementRef;\n    }\n    focus() {\n      this._elementRef.nativeElement.focus();\n    }\n    ngOnDestroy() {\n      this._cleanupClick();\n      this._timepickerSubscription?.unsubscribe();\n      this._localeSubscription.unsubscribe();\n    }\n    getLabelId() {\n      return this._formField?.getLabelId() || null;\n    }\n    _handleClick = event => {\n      if (this.disabled() || !this.openOnClick()) {\n        return;\n      }\n      const target = _getEventTarget(event);\n      const overlayHost = this.timepicker()._getOverlayHost();\n      if (!target || !overlayHost || !overlayHost.contains(target)) {\n        this.timepicker().open();\n      }\n    };\n    _handleInput(event) {\n      const value = event.target.value;\n      const currentValue = this.value();\n      const date = this._dateAdapter.parseTime(value, this._dateFormats.parse.timeInput);\n      const hasChanged = !this._dateAdapter.sameTime(date, currentValue);\n      if (!date || hasChanged || !!(value && !currentValue)) {\n        this._assignUserSelection(date, true);\n      } else {\n        this._validatorOnChange?.();\n      }\n    }\n    _handleBlur() {\n      const value = this.value();\n      if (value && this._isValid(value)) {\n        this._formatValue(value);\n      }\n      if (!this.timepicker().isOpen()) {\n        this._onTouched?.();\n      }\n    }\n    _handleKeydown(event) {\n      if (this.timepicker().isOpen() || this.disabled()) {\n        return;\n      }\n      if (event.keyCode === ESCAPE && !hasModifierKey(event) && this.value() !== null) {\n        event.preventDefault();\n        this.value.set(null);\n        this._formatValue(null);\n      } else if (event.keyCode === DOWN_ARROW || event.keyCode === UP_ARROW) {\n        event.preventDefault();\n        this.timepicker().open();\n      }\n    }\n    timepickerValueAssigned(value) {\n      if (!this._dateAdapter.sameTime(value, this.value())) {\n        this._assignUserSelection(value, true);\n        this._formatValue(value);\n      }\n    }\n    _updateFormsState() {\n      effect(() => {\n        const {\n          _dateAdapter: adapter,\n          _lastValueValid: prevValueValid,\n          _minValid: prevMinValid,\n          _maxValid: prevMaxValid\n        } = this;\n        const value = adapter.deserialize(this.value());\n        const min = this.min();\n        const max = this.max();\n        const valueValid = this._lastValueValid = this._isValid(value);\n        this._minValid = !min || !value || !valueValid || adapter.compareTime(min, value) <= 0;\n        this._maxValid = !max || !value || !valueValid || adapter.compareTime(max, value) >= 0;\n        const stateChanged = prevValueValid !== valueValid || prevMinValid !== this._minValid || prevMaxValid !== this._maxValid;\n        if (!this._hasFocus()) {\n          this._formatValue(value);\n        }\n        if (value && valueValid) {\n          this._lastValidDate = value;\n        }\n        if (stateChanged) {\n          this._validatorOnChange?.();\n        }\n      });\n    }\n    _registerTimepicker() {\n      effect(() => {\n        const timepicker = this.timepicker();\n        timepicker.registerInput(this);\n        timepicker.closed.subscribe(() => this._onTouched?.());\n      });\n    }\n    _assignUserSelection(selection, propagateToAccessor) {\n      let toAssign;\n      if (selection == null || !this._isValid(selection)) {\n        toAssign = selection;\n      } else {\n        const adapter = this._dateAdapter;\n        const target = adapter.getValidDateOrNull(this._lastValidDate || this.value());\n        const hours = adapter.getHours(selection);\n        const minutes = adapter.getMinutes(selection);\n        const seconds = adapter.getSeconds(selection);\n        toAssign = target ? adapter.setTime(target, hours, minutes, seconds) : selection;\n      }\n      if (propagateToAccessor) {\n        this._onChange?.(toAssign);\n      }\n      this.value.set(toAssign);\n    }\n    _formatValue(value) {\n      value = this._dateAdapter.getValidDateOrNull(value);\n      this._elementRef.nativeElement.value = value == null ? '' : this._dateAdapter.format(value, this._dateFormats.display.timeInput);\n    }\n    _isValid(value) {\n      return !value || this._dateAdapter.isValid(value);\n    }\n    _transformDateInput(value) {\n      const date = typeof value === 'string' ? this._dateAdapter.parseTime(value, this._dateFormats.parse.timeInput) : this._dateAdapter.deserialize(value);\n      return date && this._dateAdapter.isValid(date) ? date : null;\n    }\n    _hasFocus() {\n      return _getFocusedElementPierceShadowDom() === this._elementRef.nativeElement;\n    }\n    _getValidator() {\n      return Validators.compose([() => this._lastValueValid ? null : {\n        'matTimepickerParse': {\n          'text': this._elementRef.nativeElement.value\n        }\n      }, control => this._minValid ? null : {\n        'matTimepickerMin': {\n          'min': this.min(),\n          'actual': this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value))\n        }\n      }, control => this._maxValid ? null : {\n        'matTimepickerMax': {\n          'max': this.max(),\n          'actual': this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(control.value))\n        }\n      }]);\n    }\n    static fac = function MatTimepickerInput_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTimepickerInput)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatTimepickerInput,\n      selectors: [[\"input\", \"matTimepicker\", \"\"]],\n      hostAttrs: [\"role\", \"combobox\", \"type\", \"text\", \"aria-haspopup\", \"listbox\", 1, \"mat-timepicker-input\"],\n      hostVars: 5,\n      hostBindings: function MatTimepickerInput_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"blur\", function MatTimepickerInput_blur_HostBindingHandler() {\n            return ctx._handleBlur();\n          })(\"input\", function MatTimepickerInput_input_HostBindingHandler($event) {\n            return ctx._handleInput($event);\n          })(\"keydown\", function MatTimepickerInput_keydown_HostBindingHandler($event) {\n            return ctx._handleKeydown($event);\n          });\n        }\n        if (rf & 2) {\n          let tmp_4_0;\n          i0.domProperty(\"disabled\", ctx.disabled());\n          i0.attribute(\"aria-activedescendant\", ctx._ariaActiveDescendant())(\"aria-expanded\", ctx._ariaExpanded())(\"aria-controls\", ctx._ariaControls())(\"mat-timepicker-id\", (tmp_4_0 = ctx.timepicker()) == null ? null : tmp_4_0.panelId);\n        }\n      },\n      inputs: {\n        value: [1, \"value\"],\n        timepicker: [1, \"matTimepicker\", \"timepicker\"],\n        min: [1, \"matTimepickerMin\", \"min\"],\n        max: [1, \"matTimepickerMax\", \"max\"],\n        openOnClick: [1, \"matTimepickerOpenOnClick\", \"openOnClick\"],\n        disabledInput: [1, \"disabled\", \"disabledInput\"]\n      },\n      outputs: {\n        value: \"valueChange\"\n      },\n      exportAs: [\"matTimepickerInput\"],\n      features: [i0.ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: MatTimepickerInput,\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: MatTimepickerInput,\n        multi: true\n      }, {\n        provide: MAT_INPUT_VALUE_ACCESSOR,\n        useExisting: MatTimepickerInput\n      }])]\n    });\n  }\n  return MatTimepickerInput;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTimepickerToggle = /*#__PURE__*/(() => {\n  class MatTimepickerToggle {\n    _defaultConfig = inject(MAT_TIMEPICKER_CONFIG, {\n      optional: true\n    });\n    _defaultTabIndex = (() => {\n      const value = inject(new HostAttributeToken('tabindex'), {\n        optional: true\n      });\n      const parsed = Number(value);\n      return isNaN(parsed) ? null : parsed;\n    })();\n    _isDisabled = computed(() => {\n      const timepicker = this.timepicker();\n      return this.disabled() || timepicker.disabled();\n    }, ...(ngDevMode ? [{\n      debugName: \"_isDisabled\"\n    }] : []));\n    timepicker = input.required({\n      ...(ngDevMode ? {\n        debugName: \"timepicker\"\n      } : {}),\n      alias: 'for'\n    });\n    ariaLabel = input(undefined, {\n      ...(ngDevMode ? {\n        debugName: \"ariaLabel\"\n      } : {}),\n      alias: 'aria-label'\n    });\n    ariaLabelledby = input(undefined, {\n      ...(ngDevMode ? {\n        debugName: \"ariaLabelledby\"\n      } : {}),\n      alias: 'aria-labelledby'\n    });\n    _defaultAriaLabel = 'Open timepicker options';\n    disabled = input(false, {\n      ...(ngDevMode ? {\n        debugName: \"disabled\"\n      } : {}),\n      transform: booleanAttribute,\n      alias: 'disabled'\n    });\n    tabIndex = input(this._defaultTabIndex, ...(ngDevMode ? [{\n      debugName: \"tabIndex\"\n    }] : []));\n    disableRipple = input(this._defaultConfig?.disableRipple ?? false, {\n      ...(ngDevMode ? {\n        debugName: \"disableRipple\"\n      } : {}),\n      transform: booleanAttribute\n    });\n    _open(event) {\n      if (this.timepicker() && !this._isDisabled()) {\n        this.timepicker().open();\n        event.stopPropagation();\n      }\n    }\n    getAriaLabel() {\n      return this.ariaLabelledby() ? null : this.ariaLabel() || this._defaultAriaLabel;\n    }\n    static fac = function MatTimepickerToggle_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTimepickerToggle)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatTimepickerToggle,\n      selectors: [[\"mat-timepicker-toggle\"]],\n      hostAttrs: [1, \"mat-timepicker-toggle\"],\n      hostVars: 1,\n      hostBindings: function MatTimepickerToggle_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function MatTimepickerToggle_click_HostBindingHandler($event) {\n            return ctx._open($event);\n          });\n        }\n        if (rf & 2) {\n          i0.attribute(\"tabindex\", null);\n        }\n      },\n      inputs: {\n        timepicker: [1, \"for\", \"timepicker\"],\n        ariaLabel: [1, \"aria-label\", \"ariaLabel\"],\n        ariaLabelledby: [1, \"aria-labelledby\", \"ariaLabelledby\"],\n        disabled: [1, \"disabled\"],\n        tabIndex: [1, \"tabIndex\"],\n        disableRipple: [1, \"disableRipple\"]\n      },\n      exportAs: [\"matTimepickerToggle\"],\n      ngContentSelectors: _c2,\n      decls: 3,\n      vars: 6,\n      consts: [[\"matIconButton\", \"\", \"type\", \"button\", \"aria-haspopup\", \"listbox\", 3, \"tabIndex\", \"disabled\", \"disableRipple\"], [\"height\", \"24px\", \"width\", \"24px\", \"viewBox\", \"0 -960 960 960\", \"fill\", \"currentColor\", \"focusable\", \"false\", \"aria-hidden\", \"true\", 1, \"mat-timepicker-toggle-default-icon\"], [\"d\", \"m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z\"]],\n      template: function MatTimepickerToggle_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef(_c1);\n          i0.elementStart(0, \"button\", 0);\n          i0.projection(1, 0, null, MatTimepickerToggle_ProjectionFallback_1_Template, 2, 0);\n          i0.elementEnd();\n        }\n        if (rf & 2) {\n          i0.property(\"tabIndex\", ctx._isDisabled() ? -1 : ctx.tabIndex())(\"disabled\", ctx._isDisabled())(\"disableRipple\", ctx.disableRipple());\n          i0.attribute(\"aria-label\", ctx.getAriaLabel())(\"aria-labelledby\", ctx.ariaLabelledby())(\"aria-expanded\", ctx.timepicker().isOpen());\n        }\n      },\n      dependencies: [MatIconButton],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatTimepickerToggle;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTimepickerModule = /*#__PURE__*/(() => {\n  class MatTimepickerModule {\n    static fac = function MatTimepickerModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTimepickerModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: MatTimepickerModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({\n      imports: [MatTimepicker, MatTimepickerToggle, CdkScrollableModule]\n    });\n  }\n  return MatTimepickerModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { MAT_TIMEPICKER_CONFIG, MAT_TIMEPICKER_SCROLL_STRATEGY, MatTimepicker, MatTimepickerInput, MatTimepickerModule, MatTimepickerToggle };\n","// import 'dayjs/locale/af';\r\n// import 'dayjs/locale/am';\r\nimport 'dayjs/locale/ar';\r\n// import 'dayjs/locale/ar-dz';\r\n// import 'dayjs/locale/ar-iq';\r\n// import 'dayjs/locale/ar-kw';\r\n// import 'dayjs/locale/ar-ly';\r\n// import 'dayjs/locale/ar-ma';\r\n// import 'dayjs/locale/ar-sa';\r\n// import 'dayjs/locale/ar-tn';\r\n// import 'dayjs/locale/az';\r\n// import 'dayjs/locale/be';\r\nimport 'dayjs/locale/bg';\r\n// import 'dayjs/locale/bi';\r\n// import 'dayjs/locale/bm';\r\n// import 'dayjs/locale/bn';\r\n// import 'dayjs/locale/bn-bd';\r\n// import 'dayjs/locale/bo';\r\n// import 'dayjs/locale/br';\r\n// import 'dayjs/locale/bs';\r\n// import 'dayjs/locale/ca';\r\nimport 'dayjs/locale/cs';\r\n// import 'dayjs/locale/cv';\r\n// import 'dayjs/locale/cy';\r\nimport 'dayjs/locale/da';\r\nimport 'dayjs/locale/de';\r\nimport 'dayjs/locale/de-at';\r\nimport 'dayjs/locale/de-ch';\r\n// import 'dayjs/locale/dv';\r\nimport 'dayjs/locale/el';\r\nimport 'dayjs/locale/en';\r\nimport 'dayjs/locale/en-au';\r\nimport 'dayjs/locale/en-ca';\r\nimport 'dayjs/locale/en-gb';\r\nimport 'dayjs/locale/en-ie';\r\n// import 'dayjs/locale/en-il';\r\n// import 'dayjs/locale/en-in';\r\n// import 'dayjs/locale/en-nz';\r\n// import 'dayjs/locale/en-sg';\r\n// import 'dayjs/locale/en-tt';\r\n// import 'dayjs/locale/eo';\r\nimport 'dayjs/locale/es';\r\n// import 'dayjs/locale/es-do';\r\nimport 'dayjs/locale/es-mx';\r\n// import 'dayjs/locale/es-pr';\r\nimport 'dayjs/locale/es-us';\r\n// import 'dayjs/locale/et';\r\n// import 'dayjs/locale/eu';\r\nimport 'dayjs/locale/fa';\r\nimport 'dayjs/locale/fi';\r\n// import 'dayjs/locale/fo';\r\nimport 'dayjs/locale/fr';\r\n// import 'dayjs/locale/fr-ca';\r\nimport 'dayjs/locale/fr-ch';\r\n// import 'dayjs/locale/fy';\r\n// import 'dayjs/locale/ga';\r\n// import 'dayjs/locale/gd';\r\n// import 'dayjs/locale/gl';\r\n// import 'dayjs/locale/gom-latn';\r\n// import 'dayjs/locale/gu';\r\nimport 'dayjs/locale/he';\r\nimport 'dayjs/locale/hi';\r\nimport 'dayjs/locale/hr';\r\n// import 'dayjs/locale/ht';\r\nimport 'dayjs/locale/hu';\r\n// import 'dayjs/locale/hy-am';\r\nimport 'dayjs/locale/id';\r\n// import 'dayjs/locale/is';\r\nimport 'dayjs/locale/it';\r\nimport 'dayjs/locale/it-ch';\r\nimport 'dayjs/locale/ja';\r\nimport 'dayjs/locale/jv';\r\n// import 'dayjs/locale/ka';\r\n// import 'dayjs/locale/kk';\r\n// import 'dayjs/locale/km';\r\n// import 'dayjs/locale/kn';\r\nimport 'dayjs/locale/ko';\r\n// import 'dayjs/locale/ku';\r\n// import 'dayjs/locale/ky';\r\nimport 'dayjs/locale/lb';\r\n// import 'dayjs/locale/lo';\r\n// import 'dayjs/locale/lt';\r\n// import 'dayjs/locale/lv';\r\n// import 'dayjs/locale/me';\r\n// import 'dayjs/locale/mi';\r\n// import 'dayjs/locale/mk';\r\n// import 'dayjs/locale/ml';\r\n// import 'dayjs/locale/mn';\r\n// import 'dayjs/locale/mr';\r\nimport 'dayjs/locale/ms';\r\nimport 'dayjs/locale/ms-my';\r\n// import 'dayjs/locale/mt';\r\n// import 'dayjs/locale/my';\r\n// import 'dayjs/locale/nb';\r\n// import 'dayjs/locale/ne';\r\nimport 'dayjs/locale/nl';\r\nimport 'dayjs/locale/nl-be';\r\n// import 'dayjs/locale/nn';\r\n// import 'dayjs/locale/oc-lnc';\r\nimport 'dayjs/locale/pa-in';\r\nimport 'dayjs/locale/pl';\r\nimport 'dayjs/locale/pt';\r\nimport 'dayjs/locale/pt-br';\r\n// import 'dayjs/locale/ro';\r\nimport 'dayjs/locale/ru';\r\n// import 'dayjs/locale/rw';\r\n// import 'dayjs/locale/sd';\r\n// import 'dayjs/locale/se';\r\n// import 'dayjs/locale/si';\r\nimport 'dayjs/locale/sk';\r\nimport 'dayjs/locale/sl';\r\n// import 'dayjs/locale/sq';\r\n// import 'dayjs/locale/sr';\r\n// import 'dayjs/locale/sr-cyrl';\r\n// import 'dayjs/locale/ss';\r\nimport 'dayjs/locale/sv';\r\n// import 'dayjs/locale/sv-fi';\r\n// import 'dayjs/locale/sw';\r\n// import 'dayjs/locale/ta';\r\n// import 'dayjs/locale/te';\r\n// import 'dayjs/locale/tet';\r\n// import 'dayjs/locale/tg';\r\nimport 'dayjs/locale/th';\r\n// import 'dayjs/locale/tk';\r\n// import 'dayjs/locale/tl-ph';\r\n// import 'dayjs/locale/tlh';\r\nimport 'dayjs/locale/tr';\r\n// import 'dayjs/locale/tzl';\r\n// import 'dayjs/locale/tzm';\r\n// import 'dayjs/locale/tzm-latn';\r\n// import 'dayjs/locale/ug-cn';\r\nimport 'dayjs/locale/uk';\r\n// import 'dayjs/locale/ur';\r\n// import 'dayjs/locale/uz';\r\n// import 'dayjs/locale/uz-latn';\r\n// import 'dayjs/locale/vi';\r\n// import 'dayjs/locale/x-pseudo';\r\n// import 'dayjs/locale/yo';\r\nimport 'dayjs/locale/zh';\r\n// import 'dayjs/locale/zh-cn';\r\n// import 'dayjs/locale/zh-hk';\r\n// import 'dayjs/locale/zh-tw';\r\n\r\nexport * from './mat-dayjs-date-adapter/mat-dayjs-date-adapter.module';\r\n\r\nexport { MAT_DAYJS_DATE_ADAPTER_OPTIONS, MatDayjsDateAdapter, MatDayjsDateAdapterOptions } from './mat-dayjs-date-adapter/mat-dayjs-date-adapter';\r\nexport { MAT_DAYJS_DATE_FORMATS } from './mat-dayjs-date-adapter/mat-dayjs-date-formats';\r\n\r\n","import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\r\nimport { DateAdapter, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport dayjs, { Dayjs } from 'dayjs';\r\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\r\nimport localeData from 'dayjs/plugin/localeData';\r\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport { classLog } from '../../../../shared/logging';\r\n\r\nexport interface MatDayjsDateAdapterOptions {\r\n  /**\r\n   * Turns the use of utc dates on or off.\r\n   * Changing this will change how Angular Material components like DatePicker output dates.\r\n   * @default false\r\n   */\r\n  useUtc?: boolean;\r\n}\r\n\r\n/** InjectionToken for Dayjs date adapter to configure options. */\r\nexport const MAT_DAYJS_DATE_ADAPTER_OPTIONS =\r\n  new InjectionToken<MatDayjsDateAdapterOptions>(\r\n    'MAT_DAYJS_DATE_ADAPTER_OPTIONS',\r\n    {\r\n      providedIn: 'root',\r\n      factory: () => ({\r\n        useUtc: true,\r\n      } satisfies MatDayjsDateAdapterOptions),\r\n    }\r\n  );\r\n\r\n// function MAT_DAYJS_DATE_ADAPTER_OPTIONS_FACTORY(): MatDayjsDateAdapterOptions {\r\n//   return {\r\n//     useUtc: false,\r\n//   } satisfies MatDayjsDateAdapterOptions;\r\n// }\r\n\r\n/**\r\n * This Date Adapter was inspired by @vanrossumict/material-dayjs-adapter\r\n * https://github.com/vanrossumict/material-dayjs-adapter/tree/localization/projects/material-dayjs-adapter\r\n * This adapter wasn't made as a fork because @vanrossumict/material-dayjs-adapter is a fork of @tabuckner/material-dayjs-adapter\r\n * witch since continued to be updated and forked so we didn't want to add to the complexity\r\n */\r\n@Injectable()\r\nexport class MatDayjsDateAdapter extends DateAdapter<Dayjs> {\r\n  \r\n  log = classLog({MatDayjsDateAdapter});\r\n\r\n  private localeData: {\r\n    firstDayOfWeek: number;\r\n    longMonths: string[];\r\n    shortMonths: string[];\r\n    dates: string[];\r\n    longDaysOfWeek: string[];\r\n    shortDaysOfWeek: string[];\r\n    narrowDaysOfWeek: string[];\r\n  };\r\n\r\n  constructor(\r\n    @Optional() @Inject(MAT_DATE_LOCALE) public dateLocale: string,\r\n    @Optional() @Inject(MAT_DAYJS_DATE_ADAPTER_OPTIONS) private _options?: MatDayjsDateAdapterOptions\r\n  ) {\r\n    super();\r\n\r\n    this.log.a('constructor', { this: this, shouldUseUtc: this.shouldUseUtc, dateLocale, _options });\r\n    if (this.shouldUseUtc)\r\n      dayjs.extend(utc);\r\n\r\n    dayjs.extend(localizedFormat);\r\n    dayjs.extend(customParseFormat);\r\n    dayjs.extend(localeData);\r\n\r\n    this.setLocale(dayjs().locale());\r\n  }\r\n\r\n  /**\r\n   * @vanrossumict/material-dayjs-adapter didn't set dayjs locale in adapter but in the component in witch it was used\r\n   */\r\n  override setLocale(locale: string) {\r\n    super.setLocale(locale);\r\n    const l = this.log.fn('setLocale', { locale });\r\n\r\n    dayjs.locale(locale);\r\n    const localeData = dayjs().locale(locale).localeData();\r\n\r\n    this.localeData = {\r\n      firstDayOfWeek: localeData.firstDayOfWeek(),\r\n      longMonths: dayjs.months(),\r\n      shortMonths: dayjs.monthsShort(),\r\n      dates: this.range(31, (i) => this.createDate(2017, 0, i + 1).format('D')),\r\n      longDaysOfWeek: this.range(7, (i) => this.dayJs().set('day', i).format('dddd')),\r\n      shortDaysOfWeek: dayjs.weekdaysShort(),\r\n      narrowDaysOfWeek: dayjs.weekdaysMin(),\r\n    };\r\n    l.r(this.localeData);\r\n  }\r\n\r\n  override getYear(date: Dayjs): number {\r\n    return this.clone(date).year();\r\n  }\r\n\r\n  override getMonth(date: Dayjs): number {\r\n    return this.clone(date).month();\r\n  }\r\n\r\n  override getDate(date: Dayjs): number {\r\n    return this.clone(date).date();\r\n  }\r\n\r\n  override getDayOfWeek(date: Dayjs): number {\r\n    return this.clone(date).day();\r\n  }\r\n\r\n  override getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\r\n    return style === 'long'\r\n      ? this.localeData.longMonths\r\n      : this.localeData.shortMonths;\r\n  }\r\n\r\n  override getDateNames(): string[] {\r\n    return this.localeData.dates;\r\n  }\r\n\r\n  override getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\r\n    if (style === 'long') {\r\n      return this.localeData.longDaysOfWeek;\r\n    }\r\n    if (style === 'short') {\r\n      return this.localeData.shortDaysOfWeek;\r\n    }\r\n    return this.localeData.narrowDaysOfWeek;\r\n  }\r\n\r\n  override getYearName(date: Dayjs): string {\r\n    return this.clone(date).format('YYYY');\r\n  }\r\n\r\n  override getFirstDayOfWeek(): number {\r\n    return this.localeData.firstDayOfWeek;\r\n  }\r\n\r\n  override getNumDaysInMonth(date: Dayjs): number {\r\n    return this.clone(date).daysInMonth();\r\n  }\r\n\r\n  override clone(date: Dayjs): Dayjs {\r\n    return this.dayJs(date).clone(); //.locale(this.locale);\r\n  }\r\n\r\n  /**\r\n   * @vanrossumict/material-dayjs-adapter didn't set hours, minutes, seconds and milliseconds to zero but we expect\r\n   * dates to have time set as midnight\r\n   */\r\n  override createDate(year: number, month: number, date: number): Dayjs {\r\n    const returnDayjs = this.dayJs()\r\n      .set('year', year)\r\n      .set('month', month)\r\n      .set('date', date)\r\n      .set('hour', 0)\r\n      .set('minute', 0)\r\n      .set('second', 0)\r\n      .set('millisecond', 0);\r\n    return returnDayjs;\r\n  }\r\n\r\n  override today(): Dayjs {\r\n    return this.dayJs();\r\n  }\r\n\r\n  override parse(value: any, parseFormat: string): Dayjs | null {\r\n    const valueIsString = typeof value === 'string';\r\n    const l = this.log.fn('parse', { value, parseFormat, valueIsString });\r\n    if (value && valueIsString) {\r\n      const longDateFormat = dayjs().localeData().longDateFormat(parseFormat) as string; // MM/DD/YYY or DD-MM-YYYY, etc.\r\n\r\n      let parsed = this.dayJs(value, longDateFormat, this.locale, true);\r\n\r\n      if (parsed.isValid()) {\r\n        // string value is exactly like long date format\r\n        return parsed;\r\n      }\r\n\r\n      if (value.length === 9) {\r\n        // user might have typed 1-12-2020 or 12/1/2020\r\n        // try to parse with D-MM-YYYY or MM/D/YYYY (based on long date format)\r\n        const formatWithSmallDay = longDateFormat.replace('DD', 'D');\r\n        parsed = this.dayJs(value, formatWithSmallDay, this.locale, true);\r\n        if (parsed.isValid()) {\r\n          return parsed;\r\n        }\r\n\r\n        // user might have typed 25-1-2020 or 1/25/2020\r\n        // try to parse with DD-M-YYYY or M/DD/YYYY (based on long date format)\r\n        const formatWithSmallMonth = longDateFormat.replace('MM', 'M');\r\n        parsed = this.dayJs(value, formatWithSmallMonth, this.locale, true);\r\n        if (parsed.isValid()) {\r\n          return parsed;\r\n        }\r\n      }\r\n\r\n      if (value.length === 8) {\r\n        // user might have typed 24012020 or 01242020\r\n        // strip long date format of non-alphabetic characters so we get MMDDYYYY or DDMMYYYY\r\n        const formatWithoutSeparators = longDateFormat.replace(/[\\W_]+/g, '');\r\n        parsed = this.dayJs(value, formatWithoutSeparators, this.locale, true);\r\n        if (parsed.isValid()) {\r\n          return parsed;\r\n        }\r\n\r\n        // user might have typed 1-2-2020 or 2/1/2020\r\n        // try to parse with D-M-YYYY or M/D/YYYY (based on long date format)\r\n        const formatWithSmallDayAndMonth = longDateFormat.replace('DD', 'D').replace('MM', 'M');\r\n        parsed = this.dayJs(value, formatWithSmallDayAndMonth, this.locale, true);\r\n        if (parsed.isValid()) {\r\n          return parsed;\r\n        }\r\n      }\r\n\r\n      if (value.length < 6 && value.length > 2) {\r\n        // user might have typed 01/24, 24-01, 1/24, 24/1 or 24-1\r\n        // try to extract month and day part and parse them with custom format\r\n        let parts = new Array();\r\n        if (value.indexOf('/') !== -1) {\r\n          parts = value.split('/');\r\n        }\r\n        if (value.indexOf('-') !== -1) {\r\n          parts = value.split('-');\r\n        }\r\n        if (value.indexOf('.') !== -1) {\r\n          parts = value.split('.');\r\n        }\r\n        if (parts.length === 2) {\r\n          let dayPart: string;\r\n          let monthPart: string;\r\n          if (longDateFormat.startsWith('D')) {\r\n            dayPart = parts[0];\r\n            monthPart = parts[1];\r\n          } else if (parts.length > 1) {\r\n            monthPart = parts[0];\r\n            dayPart = parts[1];\r\n          }\r\n          if (monthPart.length === 1) {\r\n            monthPart = 0 + monthPart;\r\n          }\r\n          if (dayPart.length === 1) {\r\n            dayPart = 0 + dayPart;\r\n          }\r\n          parsed = this.dayJs(dayPart + monthPart, 'DDMM', this.locale, true);\r\n          if (parsed.isValid()) {\r\n            return parsed;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (value.length === 2) {\r\n        // user might have typed 01, parse DD only\r\n        const format = 'DD';\r\n        parsed = this.dayJs(value, format, this.locale, true);\r\n        if (parsed.isValid()) {\r\n          return parsed;\r\n        }\r\n      }\r\n\r\n      if (value.length === 1) {\r\n        // user might have typed 1, parse D only\r\n        const format = 'D';\r\n        parsed = this.dayJs(value, format, this.locale, true);\r\n\r\n        if (parsed.isValid()) {\r\n          return parsed;\r\n        }\r\n      }\r\n\r\n      // not able to parse anything sensible, return something invalid so input can be corrected\r\n      return this.dayJs(null);\r\n    }\r\n\r\n    return l.r(value ? this.dayJs(value).locale(this.locale) : null);\r\n  }\r\n\r\n  override parseTime(time: string, format: string): Dayjs {\r\n    return dayjs(time, format, this.locale, true);\r\n  }\r\n\r\n  override getSeconds(date: Dayjs): number {\r\n    return date.second();\r\n  }\r\n\r\n  override addSeconds(date: Dayjs, seconds: number): Dayjs {\r\n    return date.add(seconds, 'second');\r\n  }\r\n    \r\n  override getMinutes(date: Dayjs): number {\r\n    return date.minute();\r\n  }\r\n  \r\n  override getHours(date: Dayjs): number {\r\n    return date.hour();\r\n  }\r\n\r\n  override setTime(date: Dayjs, hours: number, minutes: number, seconds: number): Dayjs {\r\n    return date.set('hour', hours).set('minute', minutes).set('second', seconds);\r\n  }\r\n\r\n  override format(date: Dayjs, displayFormat: string): string {\r\n    const l = this.log.fn('format', { date, displayFormat });\r\n    if (!this.isValid(date))\r\n      throw Error('DayjsDateAdapter: Cannot format invalid date.');\r\n    return l.r(date.locale(this.locale).format(displayFormat));\r\n  }\r\n\r\n  override addCalendarYears(date: Dayjs, years: number): Dayjs {\r\n    return date.add(years, 'year');\r\n  }\r\n\r\n  override addCalendarMonths(date: Dayjs, months: number): Dayjs {\r\n    return date.add(months, 'month');\r\n  }\r\n\r\n  override addCalendarDays(date: Dayjs, days: number): Dayjs {\r\n    return date.add(days, 'day');\r\n  }\r\n\r\n  override toIso8601(date: Dayjs): string {\r\n    return date.toISOString();\r\n  }\r\n\r\n  /**\r\n   * Attempts to deserialize a value to a valid date object. This is different from parsing in that\r\n   * deserialize should only accept non-ambiguous, locale-independent formats (e.g. a ISO 8601\r\n   * string). The default implementation does not allow any deserialization, it simply checks that\r\n   * the given value is already a valid date object or null. The `<mat-datepicker>` will call this\r\n   * method on all of it's `@Input()` properties that accept dates. It is therefore possible to\r\n   * support passing values from your backend directly to these properties by overriding this method\r\n   * to also deserialize the format used by your backend.\r\n   * @param value The value to be deserialized into a date object.\r\n   * @returns The deserialized date object, either a valid date, null if the value can be\r\n   *     deserialized into a null date (e.g. the empty string), or an invalid date.\r\n   */\r\n  override deserialize(value: any): Dayjs | null {\r\n    let date;\r\n    if (value instanceof Date) {\r\n      date = this.dayJs(value);\r\n    } else if (this.isDateInstance(value)) {\r\n      // NOTE: assumes that cloning also sets the correct locale.\r\n      return this.clone(value);\r\n    }\r\n    if (typeof value === 'string') {\r\n      if (!value) {\r\n        return null;\r\n      }\r\n      date = (this.dayJs(value) as unknown as string);\r\n    }\r\n    if (date && this.isValid(date as Dayjs)) {\r\n      return this.dayJs(date);\r\n    }\r\n    return super.deserialize(value);\r\n  }\r\n\r\n  override isDateInstance(obj: any): boolean {\r\n    return dayjs.isDayjs(obj);\r\n  }\r\n\r\n  override isValid(date: Dayjs): boolean {\r\n    return this.clone(date).isValid();\r\n  }\r\n\r\n  override invalid(): Dayjs {\r\n    return this.dayJs(null);\r\n  }\r\n\r\n  /**\r\n   * @vanrossumict/material-dayjs-adapter didn't actually used this.shouldUseUtc function and no matter the chosen option\r\n   * no date used UTC\r\n   */\r\n  private dayJs(input?: string | number | Date | Dayjs | null | undefined, format?: string, locale?: string, isTyped?: boolean): Dayjs {\r\n    isTyped = isTyped || false;\r\n    if (!this.shouldUseUtc) {\r\n      return dayjs(input, format);\r\n    }\r\n    // when user writes date\r\n    if (typeof (input) === 'string') {\r\n      const date = new Date(dayjs(input, format).toDate());\r\n      // this is necessary because for typed dates time is set to midnight, not to the appropriate UTC time\r\n      if (isTyped) {\r\n        date.setUTCHours(date.getUTCHours() - date.getTimezoneOffset() / 60);\r\n      }\r\n      // this is necessary because for -(minus) timezones getDate returns date for previous day\r\n      if (date.getTimezoneOffset() > 0)\r\n        return dayjs(new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()))).add(1, 'day').utc();\r\n      return dayjs(new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()))).utc();\r\n    }\r\n    // when user picks date in date picker\r\n    return dayjs(input, format).utc();\r\n  }\r\n\r\n  private range<T>(length: number, valueFunction: (index: number) => T): T[] {\r\n    const valuesArray = Array(length);\r\n    for (let i = 0; i < length; i++) {\r\n      valuesArray[i] = valueFunction(i);\r\n    }\r\n    return valuesArray;\r\n  }\r\n\r\n  private get shouldUseUtc(): boolean {\r\n    const { useUtc }: MatDayjsDateAdapterOptions = this._options || {};\r\n    return !!useUtc;\r\n  }\r\n}\r\n","import { MatDateFormats } from '@angular/material/core';\r\n\r\nconst DEFAULT_DATE_INPUT = 'L';   // Locale-specific date format, e.g., 'MM/DD/YYYY' or 'DD/MM/YYYY'\r\nconst DEFAULT_TIME_INPUT = 'LT';  // Locale-specific time format, e.g., 'h:mm A' or 'HH:mm'\r\nconst TIME_OPTION_LABEL = 'LT';   // Format for time options in the dropdown\r\n\r\nconst COMMON_LABELS = {\r\n  monthYearLabel: 'MMM YYYY',\r\n  dateA11yLabel: 'LL',\r\n  monthYearA11yLabel: 'MMMM YYYY',\r\n};\r\n\r\nexport const MAT_DAYJS_DATE_FORMATS: MatDateFormats = {\r\n  parse: {\r\n    dateInput: DEFAULT_DATE_INPUT,\r\n    timeInput: DEFAULT_TIME_INPUT,\r\n  },\r\n  display: {\r\n    dateInput: DEFAULT_DATE_INPUT,\r\n    timeInput: DEFAULT_TIME_INPUT,\r\n    timeOptionLabel: TIME_OPTION_LABEL,\r\n    ...COMMON_LABELS,\r\n  },\r\n};\r\n\r\nexport const OWL_DAYJS_FORMATS = {\r\n  parseInput: 'l LT',\r\n  fullPickerInput: 'l LT',\r\n  datePickerInput: 'l',\r\n  timePickerInput: DEFAULT_TIME_INPUT,\r\n  ...COMMON_LABELS,\r\n};","import { NgModule } from '@angular/core';\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { MAT_DAYJS_DATE_ADAPTER_OPTIONS, MatDayjsDateAdapter } from './mat-dayjs-date-adapter';\r\nimport { MAT_DAYJS_DATE_FORMATS } from './mat-dayjs-date-formats';\r\n\r\n@NgModule({\r\n  providers: [\r\n    { provide: MAT_DATE_FORMATS, useValue: MAT_DAYJS_DATE_FORMATS },\r\n    { provide: MAT_DAYJS_DATE_ADAPTER_OPTIONS, useValue: { useUtc: true } },\r\n    {\r\n      provide: DateAdapter,\r\n      useClass: MatDayjsDateAdapter,\r\n      deps: [MAT_DATE_LOCALE, MAT_DAYJS_DATE_ADAPTER_OPTIONS]\r\n    }\r\n  ],\r\n})\r\nexport class MatDayjsModule { }","import dayjs, { Dayjs } from 'dayjs';\r\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\r\nimport utc from 'dayjs/plugin/utc';\r\n\r\n/**\r\n * Initializes and configures dayjs with UTC and localization\r\n * Should be called once at application startup\r\n * \r\n * @param locale - The locale string (e.g., 'en', 'de', 'fr') to configure dayjs\r\n */\r\nexport function initializeDayjsFn(locale: string): void {\r\n  dayjs.extend(utc);\r\n  dayjs.extend(customParseFormat);\r\n  dayjs.locale(locale);\r\n}\r\n\r\n/**\r\n * Creates a Dayjs object from a UI value string\r\n * \r\n * @param uiValue - ISO string representation of date/time\r\n * @returns A Dayjs object in UTC timezone\r\n */\r\nexport function getDateTimeValueFn(uiValue: string): Dayjs {\r\n  return dayjs.utc(uiValue);\r\n}\r\n\r\n/**\r\n * Generates options for the time picker dropdown\r\n * Includes predefined times plus the user's current selection if not already in the list\r\n * \r\n * @param dateTimeValue - The current date/time value\r\n * @returns Array of time options with labels and values, sorted chronologically\r\n */\r\nexport function generateTimePickerOptionsFn(dateTimeValue: Dayjs | null): { label: string; value: Dayjs }[] {\r\n  const template = dayjs().utc().hour(0).minute(0).second(0);\r\n\r\n  // Create predefined time options (common times throughout the day)\r\n  const predefinedOptions = [\r\n    { label: '00:00 AM', value: template.hour(0) },\r\n    { label: '06:00 AM', value: template.hour(6) },\r\n    { label: '08:00 AM', value: template.hour(8) },\r\n    { label: '10:00 AM', value: template.hour(10) },\r\n    { label: '12:00 PM', value: template.hour(12) },\r\n    { label: '06:00 PM', value: template.hour(18) },\r\n  ];\r\n\r\n  // If dateTimeValue is null or invalid, return only predefined options\r\n  if (!dateTimeValue || !dateTimeValue.isValid()) {\r\n    return predefinedOptions;\r\n  }\r\n\r\n  let userOption = {\r\n    label: dateTimeValue.format('HH:mm A'),\r\n    value: dayjs()\r\n      .utc()\r\n      .hour(dateTimeValue.hour())\r\n      .minute(dateTimeValue.minute())\r\n      .second(0),\r\n  };\r\n\r\n  // If the user's current time is already in predefined options, just return those\r\n  if (predefinedOptions.some(\r\n    (option) =>\r\n      option.value.hour() === userOption.value.hour() &&\r\n      option.value.minute() === userOption.value.minute()\r\n  )) return predefinedOptions;\r\n\r\n  // Otherwise, add user's time to the options and sort chronologically\r\n  const allOptions = [...predefinedOptions, userOption];\r\n  allOptions.sort((a, b) => a.value.valueOf() - b.value.valueOf());\r\n\r\n  return allOptions;\r\n}\r\n\r\n// Additional help function for standard options\r\nexport function generateDefaultTimePickerOptions(): { label: string; value: Dayjs }[] {\r\n  const template = dayjs().utc().hour(0).minute(0).second(0);\r\n\r\n  return [\r\n    { label: '00:00 AM', value: template.hour(0) },\r\n    { label: '06:00 AM', value: template.hour(6) },\r\n    { label: '08:00 AM', value: template.hour(8) },\r\n    { label: '10:00 AM', value: template.hour(10) },\r\n    { label: '12:00 PM', value: template.hour(12) },\r\n    { label: '06:00 PM', value: template.hour(18) },\r\n  ];\r\n}\r\n\r\n/**\r\n * Formats a date and time for display in the UI\r\n * Uses localized date (L) and time (LT) formats\r\n * \r\n * @param date - The date to format\r\n * @returns Formatted date string or empty string if date is null\r\n */\r\nexport function formatDateTimeFn(date: dayjs.Dayjs | Date | null): string {\r\n  if (!date) return '';\r\n  return dayjs(date).format('L LT');\r\n}\r\n\r\n/**\r\n * Get the current locale's date format\r\n * \r\n * @returns The localized date format string (e.g., 'DD.MM.YYYY', 'MM/DD/YYYY')\r\n */\r\nexport function getLocaleDateFormatFn(): string {\r\n  try {\r\n    const localized = dayjs().localeData().longDateFormat('L');\r\n    if (localized && typeof localized === 'string') {\r\n      return localized;\r\n    }\r\n  } catch (e) {\r\n    // keep fallback\r\n  }\r\n  return 'YYYY-MM-DD';\r\n}\r\n\r\n/**\r\n * Handles user input in the date-time field\r\n * Attempts to parse the input with multiple localized formats\r\n * \r\n * @param value - The string value entered by the user\r\n * @param currentUiValue - The current UI value\r\n * @param setUiValue - Callback function to update the UI value\r\n * @param useTimePicker - Whether time picker is enabled\r\n * @returns Boolean indicating if the input was valid and processed\r\n */\r\nexport function handleDateTimeInputFn(\r\n  value: string,\r\n  currentUiValue: string,\r\n  setUiValue: (value: string | null) => void,\r\n  useTimePicker: boolean = true\r\n): boolean {\r\n  if (!value) {\r\n    setUiValue(null);\r\n    return true;\r\n  }\r\n\r\n  const dateFormat = getLocaleDateFormatFn();\r\n  let parsedDate: Dayjs | null = null;\r\n\r\n  // Try multiple parsing formats in order of specificity\r\n  const formats = [\r\n    'YYYY-MM-DD',     // ISO date - PRIORITIZED\r\n    'YYYY-MM-DD HH:mm: ss', // ISO datetime with seconds - PRIORITIZED\r\n    'YYYY-MM-DD HH:mm',    // ISO datetime without seconds - PRIORITIZED\r\n    'YYYY/MM/DD',     // Alternative slash format\r\n    'YYYY/MM/DD HH: mm:ss',\r\n    'YYYY/MM/DD HH: mm',\r\n    'L LT',           // Localized date + time (e.g., \"31. 12.2025 14:30\")\r\n    'L LTS',          // Localized date + time with seconds (e.g., \"31.12.2025 14:30:45\")\r\n    'L',              // Localized date only (e.g., \"31.12.2025\")\r\n    dateFormat,       // Raw locale format (e.g., \"DD.MM.YYYY\")\r\n    `${dateFormat} HH:mm:ss`, // Raw locale format + time with seconds\r\n    `${dateFormat} HH:mm`,    // Raw locale format + time without seconds\r\n  ];\r\n\r\n  for (const format of formats) {\r\n    parsedDate = dayjs(value, format, true); // strict parsing\r\n    if (parsedDate.isValid()) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  // If all strict parsing fails, try lenient parsing\r\n  if (!parsedDate || !parsedDate.isValid()) {\r\n    parsedDate = dayjs(value);\r\n  }\r\n\r\n  if (parsedDate && parsedDate.isValid()) {\r\n    updateFormattedValueFn(parsedDate, parsedDate, currentUiValue, setUiValue, useTimePicker);\r\n    return true;\r\n  }\r\n\r\n  return false; // Invalid format\r\n}\r\n\r\n/**\r\n * Updates the time component based on time picker input\r\n * \r\n * @param timeValue - The time string in HH:mm format\r\n * @param currentUiValue - The current UI value\r\n * @param setUiValue - Callback function to update the UI value\r\n */\r\nexport function updateTimeFn(\r\n  timeValue: string,\r\n  currentUiValue: string,\r\n  setUiValue: (value: string | null) => void\r\n): void {\r\n  const time = dayjs(timeValue, 'HH:mm');\r\n\r\n  if (time == null) {\r\n    setUiValue(null);\r\n    return;\r\n  }\r\n\r\n  if (time.isValid()) {\r\n    updateFormattedValueFn(null, time, currentUiValue, setUiValue);\r\n  }\r\n}\r\n\r\n/**\r\n * Material Date Picker Event Handler\r\n * Updates the date component while preserving the existing time\r\n * \r\n * @param date - The selected date from the date picker\r\n * @param currentUiValue - The current UI value\r\n * @param setUiValue - Callback function to update the UI value\r\n */\r\nexport function updateDateFn(\r\n  date: Dayjs | null,\r\n  currentUiValue: string,\r\n  setUiValue: (value: string | null) => void\r\n): void {\r\n  if (date == null) {\r\n    setUiValue(null);\r\n    return;\r\n  }\r\n\r\n  if (date.isValid()) {\r\n    updateFormattedValueFn(date, null, currentUiValue, setUiValue);\r\n  }\r\n}\r\n\r\n/**\r\n * Combines date and time values and updates the UI\r\n * Core function that merges date and time components while preserving \r\n * other components from the current value\r\n * \r\n * @param date - The date component to update (or null to keep current)\r\n * @param time - The time component to update (or null to keep current)\r\n * @param currentUiValue - The current UI value\r\n * @param setUiValue - Callback function to update the UI value\r\n * @param useTimePicker - Whether time picking is enabled (if false, time is set to 00:00:00)\r\n * @returns The updated ISO string or null if no updates were made\r\n */\r\nexport function updateFormattedValueFn(\r\n  date: Dayjs | null,\r\n  time: Dayjs | null,\r\n  currentUiValue: string,\r\n  setUiValue: (value: string | null) => void,\r\n  useTimePicker: boolean = true\r\n): string | null {\r\n  if (!date && !time)\r\n    return null;\r\n\r\n  // Initialize with current date/time from UI or with default values\r\n  let currentDateTime = dayjs(currentUiValue).isValid()\r\n    ? dayjs(currentUiValue).utc()\r\n    : dayjs().utc().hour(0).minute(0).second(0);\r\n\r\n  // Update date components if a date is provided\r\n  if (date) {\r\n    currentDateTime = currentDateTime\r\n      .year(date.year())\r\n      .month(date.month())\r\n      .date(date.date());\r\n  }\r\n\r\n  // Update time components if a time is provided\r\n  if (time) {\r\n    currentDateTime = currentDateTime\r\n      .hour(time.hour())\r\n      .minute(time.minute())\r\n      .second(0); // Explicitly set seconds to 0\r\n  }\r\n\r\n  // Set time to 00:00:00 if time picker is disabled\r\n  const resultDateTime = !useTimePicker\r\n    ? currentDateTime.utc().hour(0).minute(0).second(0).toISOString()\r\n    : currentDateTime.toISOString();\r\n\r\n  setUiValue(resultDateTime);\r\n  return resultDateTime;\r\n}\r\n\r\nexport class DateTimeUtils {\r\n  static initializeDayjs = initializeDayjsFn;\r\n  static updateFormattedValue = updateFormattedValueFn;\r\n  static updateDate = updateDateFn;\r\n  static updateTime = updateTimeFn;\r\n  static handleDateTimeInput = handleDateTimeInputFn;\r\n  static formatDateTime = formatDateTimeFn;\r\n  static generateTimePickerOptions = generateTimePickerOptionsFn;\r\n  static getDateTimeValue = getDateTimeValueFn;\r\n  static getLocaleDateFormat = getLocaleDateFormatFn;\r\n}","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.dev/license\r\n */\r\n\r\nimport {\r\n  Directive,\r\n  input,\r\n  InputSignal,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport {\r\n  NG_VALIDATORS,\r\n  NG_VALUE_ACCESSOR\r\n} from '@angular/forms';\r\nimport { MAT_INPUT_VALUE_ACCESSOR } from '@angular/material/input';\r\nimport { MatTimepicker, MatTimepickerInput } from '@angular/material/timepicker';\r\n\r\n/**\r\n * Custom directive to override the behavior of `MatTimepickerInput`.\r\n * This prevents the timepicker from opening automatically (e.g. on click).\r\n */\r\n@Directive({\r\n  selector: 'input[myMatTimepicker]',\r\n  exportAs: 'myMatTimepickerInput',\r\n  host: {\r\n    // Set accessibility and style attributes\r\n    'class': 'mat-timepicker-input',\r\n    'role': 'combobox',\r\n    'type': 'text',\r\n    'aria-haspopup': 'listbox',\r\n    '[attr.aria-activedescendant]': '_ariaActiveDescendant()',\r\n    '[attr.aria-expanded]': '_ariaExpanded()',\r\n    '[attr.aria-controls]': '_ariaControls()',\r\n    '[attr.mat-timepicker-id]': 'timepicker()?.panelId',\r\n    '[disabled]': 'disabled()',\r\n\r\n    // Event handlers as in the original implementation\r\n    '(blur)': '_handleBlur()',\r\n    '(input)': '_handleInput($event)',\r\n    '(keydown)': '_handleKeydown($event)',\r\n  },\r\n  providers: [\r\n    // Provide form and Material value accessors as in the original\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: MyMatTimepickerInput,\r\n      multi: true,\r\n    },\r\n    {\r\n      provide: NG_VALIDATORS,\r\n      useExisting: MyMatTimepickerInput,\r\n      multi: true,\r\n    },\r\n    {\r\n      provide: MAT_INPUT_VALUE_ACCESSOR,\r\n      useExisting: MyMatTimepickerInput,\r\n    },\r\n  ],\r\n})\r\nexport class MyMatTimepickerInput<D> extends MatTimepickerInput<D> implements OnDestroy {\r\n\r\n  /** The timepicker instance this input is connected to. */\r\n  readonly timepicker: InputSignal<MatTimepicker<D>> = input.required<MatTimepicker<D>>({\r\n    alias: 'myMatTimepicker',\r\n  });\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    // Call the private method _cleanupClick().\r\n    // This removes the default click listener that would otherwise open the picker.\r\n    // The call uses a TypeScript hack (as any) to bypass the private restriction.\r\n    // Background: The original implementation registers a click handler to open the picker automatically.\r\n    // By calling this, you remove the handler and prevent the picker from opening on click.\r\n    // See: https://github.com/angular/components/blob/main/src/material/timepicker/timepicker-input.ts\r\n    // @ts-ignore\r\n    (this as any)['_cleanupClick']();\r\n  }\r\n}","import { AfterViewInit, ChangeDetectionStrategy, Component, computed, inject, ViewChild } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDatepickerInputEvent, MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatTimepicker, MatTimepickerModule } from '@angular/material/timepicker';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport dayjs, { Dayjs } from 'dayjs';\r\nimport { FieldSettingsDateTime } from 'projects/edit-types/src/FieldSettings-DateTime';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { MatDayjsModule } from '../../../shared/date-adapters/date-adapter-api';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport {\r\n  DateTimeUtils\r\n} from './datetime-fn';\r\nimport { MyMatTimepickerInput } from './mat-time-picker';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  updateDate: false,\r\n  updateTime: false,\r\n  handleDateTimeInput: false,\r\n  disabledEffect: false,\r\n  ngAfterViewInit: false,\r\n  dateTimeValue: false,\r\n  formatDateTime: false,\r\n  InvalidDate: false,\r\n}\r\n\r\n/**\r\n * Component for date and time input field with calendar and time picker\r\n * Uses extracted logic functions for better testability\r\n */\r\n@Component({\r\n  selector: InputTypeCatalog.DateTimeDefault,\r\n  templateUrl: './datetime-default.html',\r\n  styleUrls: ['./datetime-default.scss'],\r\n  imports: [\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    FieldHelperTextComponent,\r\n    MatDayjsModule,\r\n    TippyDirective,\r\n    MatDatepickerModule,\r\n    MatTimepickerModule,\r\n    MyMatTimepickerInput\r\n  ],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class DatetimeDefaultComponent implements AfterViewInit {\r\n\r\n  log = classLog({ DatetimeDefaultComponent }, logSpecs);\r\n\r\n  @ViewChild(MatTimepicker) timePickerRef: MatTimepicker<Dayjs>;\r\n\r\n  protected fieldState = inject(FieldState) as FieldState<string, FieldSettings & FieldSettingsDateTime>;\r\n  protected group = this.fieldState.group;\r\n  protected ui = this.fieldState.ui;\r\n  uiValue = this.fieldState.uiValue;\r\n  protected basics = this.fieldState.basics;\r\n  protected useTimePicker = this.fieldState.settingExt('UseTimePicker');\r\n\r\n  // Computed value for the current date-time from UI value\r\n  dateTimeValue = computed(() => {\r\n    const l = this.log.fnIf('dateTimeValue', { uiValue: this.uiValue() });\r\n    if (!this.uiValue()) return null;\r\n    return DateTimeUtils.getDateTimeValue(this.uiValue())\r\n  });\r\n\r\n  // Generates time picker options including the current time and common presets\r\n  timePickerOptions = computed(() => {\r\n    return DateTimeUtils.generateTimePickerOptions(this.dateTimeValue());\r\n  });\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n  ) {\r\n    const locale = navigator.language.substring(0, 2); // e.g. 'de-De' to 'de'\r\n    DateTimeUtils.initializeDayjs(locale);\r\n    this.translate.currentLang = locale;\r\n  }\r\n\r\n  /**\r\n   * Localized placeholder depending on locale and whether time picker is active.\r\n   * Uses dayjs.localeData().longDateFormat('L') for the date part and 'HH:mm:ss' for time.\r\n   * If dayjs doesn't provide a format, fall back to 'YYYY-MM-DD' (date-only) and 'YYYY-MM-DD HH:mm:ss' (date+time).\r\n   */\r\n  get placeholder(): string {\r\n    const dateFmt = DateTimeUtils.getLocaleDateFormat();\r\n    const timeFmt = 'HH:mm:ss';\r\n    return this.useTimePicker() ? `${dateFmt} ${timeFmt}` : dateFmt;\r\n  }\r\n\r\n  /**\r\n   * Set up time picker event subscription after view initialization\r\n   */\r\n  ngAfterViewInit(): void {\r\n    const l = this.log.fnIf('ngAfterViewInit');\r\n    if (this.timePickerRef) {\r\n      this.timePickerRef.selected.subscribe(timeData => {\r\n        if (timeData)\r\n          this.updateFormattedValue(null, timeData.value);\r\n      });\r\n    }\r\n    l.end();\r\n  }\r\n\r\n  /**\r\n   * Format date for display in UI using localized format\r\n   */\r\n  formatDateTime(date: dayjs.Dayjs | Date | null): string {\r\n    const l = this.log.fnIf('formatDateTime', { date: date });\r\n    return DateTimeUtils.formatDateTime(date);\r\n  }\r\n\r\n  /**\r\n   * Handle manual user input in the date-time field\r\n   * Validates the input and updates the UI value if valid\r\n   */\r\n  handleDateTimeInput(event: Event): void {\r\n    const input = event.target as HTMLInputElement;\r\n    const value = input.value.trim();\r\n\r\n    this.log.aIf('handleDateTimeInput', { value });\r\n\r\n    const isValid = DateTimeUtils.handleDateTimeInput(\r\n      value,\r\n      this.uiValue(),\r\n      (value) => this.ui().setIfChanged(value),\r\n      this.useTimePicker()\r\n    );\r\n\r\n    // Restore previous value if input is invalid\r\n    if (!isValid) {\r\n      input.value = DateTimeUtils.formatDateTime(this.dateTimeValue());\r\n      console.error(`Invalid date format: ${value}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle time picker changes\r\n   */\r\n  updateTime(event: any): void {\r\n    this.log.aIf('updateTime', { event });\r\n    DateTimeUtils.updateTime(\r\n      event.target.value,\r\n      this.uiValue(),\r\n      (value) => this.ui().setIfChanged(value)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Handle date picker changes\r\n   */\r\n  updateDate(event: MatDatepickerInputEvent<Dayjs>) {\r\n    this.log.aIf('updateDate', { event });\r\n\r\n    DateTimeUtils.updateDate(\r\n      event.value,\r\n      this.uiValue(),\r\n      (value) => this.ui().setIfChanged(value)\r\n    );\r\n\r\n    // Log invalid dates for debugging\r\n    if (event.value && !event.value.isValid()) {\r\n      const l = this.log.fnIf('InvalidDate', { date: event.value });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the formatted value by combining date and time\r\n   * Preserves unmodified components from the current value\r\n   */\r\n  updateFormattedValue(date?: Dayjs, time?: Dayjs) {\r\n    const updated = DateTimeUtils.updateFormattedValue(\r\n      date || null,\r\n      time || null,\r\n      this.uiValue(),\r\n      (value) => { }, //this.ui().setIfChanged(value),\r\n      this.useTimePicker()\r\n    );\r\n    this.ui().setIfChanged(updated);\r\n    return updated;\r\n  }\r\n}","<mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n  <mat-label>{{ basics().label }}</mat-label>\r\n  <!-- Visible Input-Field when both Date & Time Picker (no Picker) -->\r\n  <!-- Also Responsible for formatting the dateTimeValue() -->\r\n  @if (useTimePicker()) {\r\n    <input\r\n      matInput\r\n      [disabled]=\"ui().disabled\"\r\n      [required]=\"basics().required\"\r\n      [value]=\"formatDateTime(dateTimeValue())\"\r\n      (change)=\"handleDateTimeInput($event)\"\r\n      [placeholder]=\"basics().placeholder || placeholder\"\r\n    />\r\n  }\r\n\r\n  <!-- Material DatePicker -->\r\n  <!-- Toggle for Dropdown -->\r\n  <!-- Input visible when TimePicker isn't used -->\r\n  <input\r\n    matInput\r\n    [disabled]=\"ui().disabled\"\r\n    [class.hidden-picker-input]=\"useTimePicker()\"\r\n    [required]=\"basics().required\"\r\n    [matDatepicker]=\"datepicker\"\r\n    [value]=\"dateTimeValue()\"\r\n    [placeholder]=\"basics().placeholder || placeholder\"\r\n    (dateChange)=\"updateDate($event)\"\r\n    (change)=\"handleDateTimeInput($event)\"\r\n  />\r\n  <mat-datepicker #datepicker xPosition=\"end\" />\r\n  <mat-datepicker-toggle [for]=\"datepicker\" matSuffix tippyTranslate=\"Fields.DateTime.OpenCalender\" />\r\n\r\n  <!-- Material TimePicker -->\r\n  <!-- Toggle for Dropdown -->\r\n  <!-- Input not visible at all times -->\r\n  @if (useTimePicker()) {\r\n    <ng-container matSuffix>\r\n      <!-- Hidden input for Angular Material Time Picker -->\r\n      <input\r\n        matInput\r\n        [disabled]=\"ui().disabled\"\r\n        [required]=\"basics().required\"\r\n        [myMatTimepicker]=\"timepicker\"\r\n        class=\"hidden-picker-input\"\r\n        [value]=\"dateTimeValue()\"\r\n        [placeholder]=\"basics().placeholder || placeholder\"\r\n        (input)=\"updateTime($event)\"\r\n      />\r\n      <mat-timepicker #timepicker [options]=\"timePickerOptions()\" />\r\n      <mat-timepicker-toggle [disabled]=\"ui().disabled\" [for]=\"timepicker\" tippyTranslate=\"Fields.DateTime.OpenTime\" />\r\n    </ng-container>\r\n  }\r\n</mat-form-field>\r\n\r\n<app-field-helper-text></app-field-helper-text>\r\n","import { Component } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.EmptyDefault,\r\n  template: '',\r\n  styleUrls: [],\r\n})\r\nexport class EmptyDefaultComponent {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { Component, inject } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { SafeHtmlPipe } from '../../../../shared/pipes/safe-html.pipe';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.EmptyMessage,\r\n    templateUrl: './empty-message.html',\r\n    styleUrls: ['./empty-message.scss'],\r\n    imports: [SafeHtmlPipe,]\r\n})\r\n// TODO: @2dm - remove empty FieldMetadata as not needed any more\r\n@FieldMetadata({ /* This is needed for the field to work */ })\r\nexport class EmptyMessageComponent {\r\n\r\n  protected fieldState = inject(FieldState);\r\n  protected basics = this.fieldState.basics;\r\n\r\n}\r\n","@if (basics().visible) {\r\n  <div class=\"message-box\" [innerHtml]=\"basics().notes | safeHtml\"></div>\r\n}\r\n","import { Component, inject } from '@angular/core';\r\nimport { FieldSettingsPickerMerged } from '../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../edit-types/src/PickerSources';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { computedObj } from '../../../shared/signals/signal.utilities';\r\nimport { EditRoutingService } from '../../routing/edit-routing.service';\r\nimport { FieldState } from '../field-state';\r\n\r\n/**\r\n * Base class for Picker Part Components.\r\n */\r\n@Component({\r\n  selector: 'app-picker-part-base',\r\n  template: '',\r\n})\r\nexport class PickerPartBaseComponent {\r\n\r\n  //#region Setup: Logging, inject, constructor\r\n\r\n  log = classLog({PickerPartBaseComponent});\r\n\r\n  /** Entire Field State */\r\n  protected fieldState = inject(FieldState) as FieldState<FieldValue, FieldSettingsWithPickerSource & FieldSettingsPickerMerged>;\r\n\r\n  /** Routing service to open edit-dialogs for entities where necessary */\r\n  editRoutingService = inject(EditRoutingService);\r\n\r\n  constructor() { }\r\n\r\n  //#endregion\r\n\r\n  //#region Settings - simple values\r\n\r\n  protected enableTextEntry = this.fieldState.settingExt('EnableTextEntry');\r\n\r\n  //#endregion\r\n\r\n  /** Picker Data Bundle with Source and state etc. */\r\n  protected pickerData = this.fieldState.pickerData;\r\n\r\n  protected isInFreeTextMode = this.pickerData.isInFreeTextMode;\r\n\r\n  protected ui = this.fieldState.ui;\r\n\r\n  /** All Selected Items */\r\n  protected selectedItems = this.pickerData.selectedAll;\r\n  protected selectedItem = this.pickerData.selectedOne;\r\n  itemCount = computedObj('itemCount', () => this.selectedItems().length);\r\n\r\n  /** Field Configuration - from field state */\r\n  protected config = this.fieldState.config;\r\n\r\n  /** Label and other basics to show from the picker data. Is not auto-attached, since it's not the initial/top-level component. */\r\n  protected basics = this.fieldState.basics;\r\n\r\n  /** Features */\r\n  protected features = this.pickerData.features;\r\n\r\n  //#region CRUD style operations\r\n\r\n  expandDialog() {\r\n    const config = this.fieldState.config;\r\n    if (config.initialDisabled) return;\r\n    this.editRoutingService.expand(true, config.index, config.entityGuid);\r\n  }\r\n\r\n  openNewEntityDialog(entityType: string): void {\r\n    this.log.a(`openNewEntityDialog: '${entityType}'`);\r\n    this.pickerData.source.editItem(null, entityType);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  toggleFreeText(disabled: boolean): void {\r\n    this.log.a(`toggleFreeText ${disabled}`);\r\n    if (disabled) return;\r\n    this.pickerData.toggleFreeTextMode();\r\n  }\r\n}\r\n","import { Component, input } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { classLog } from 'projects/eav-ui/src/app/shared/logging';\r\nimport { ClickStopPropagationDirective } from '../../../../shared/directives/click-stop-propagation.directive';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { PickerFeaturesItem } from '../picker-features.model';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\n\r\nconst logSpecs = {\r\n  buttons: true,\r\n};\r\n\r\n@Component({\r\n  selector: 'app-picker-item-buttons',\r\n  templateUrl: './picker-item-buttons.html',\r\n  styleUrl: './picker-item-buttons.scss',\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    TippyDirective,\r\n    ClickStopPropagationDirective,\r\n  ]\r\n})\r\nexport class PickerItemButtonsComponent extends PickerPartBaseComponent {\r\n\r\n  log = classLog({PickerItemButtonsComponent}, logSpecs);\r\n\r\n  /** The item to show the label/buttons for */\r\n  item = input.required<PickerItem>();\r\n  \r\n  /** The item index, important for certain button actions */\r\n  index = input.required<number>();\r\n\r\n  /** If the buttons should show or not - I believe ATM it's always true */\r\n  show = input.required<boolean>();\r\n\r\n  /** UI Features can let the control determine that certain buttons shouldn't be available, eg. \"remove\" on radio-button */\r\n  uiFeatures = input<Partial<PickerFeaturesItem>>(null);\r\n\r\n  constructor() { super(); }\r\n\r\n  /** Current applicable settings like \"enableEdit\" etc. */\r\n  buttons = computedObj('buttons', () => {\r\n    // note that selected can be null, since a item in the list can be null\r\n    const item = this.item();\r\n    const show = this.show() && !!item;\r\n    const f = this.features();          // features from config, source-type etc.\r\n    const uif = this.uiFeatures();      // features requested by the parent-control\r\n    const merged = {\r\n      edit: f.edit && uif?.edit != false && show && !item?.noEdit,\r\n      remove: f.remove && uif?.remove != false && show && !item?.noRemove,\r\n      delete: f.delete && uif?.delete != false && show && !item?.noDelete,\r\n    };\r\n    this.log.aIf('buttons', { merged, item, show, f, uif });\r\n    return merged;\r\n  });\r\n  \r\n\r\n  edit(entityGuid: string, entityId: number): void {\r\n    this.log.a(`edit guid: '${entityGuid}'; id: '${entityId}'`);\r\n    this.pickerData.source.editItem({ entityGuid, entityId }, null);\r\n  }\r\n\r\n  removeItem(index: number): void {\r\n    this.log.a(`removeItem index: '${index}'`);\r\n    this.pickerData.state.remove(index);\r\n  }\r\n\r\n  deleteItem(index: number, entityGuid: string): void {\r\n    this.log.a(`deleteItem index: '${index}'; entityGuid: '${entityGuid}'`);\r\n    this.pickerData.source.deleteItem({ index, entityGuid });\r\n  }\r\n\r\n}\r\n","\r\n@if (buttons().edit)\r\n{\r\n  <!-- Disable edit only if it was disabled in the settings, not if disabled by language change -->\r\n  <!-- note: not sure if the above comment is applied in this code, as it still uses ui().disabled -->\r\n  <button\r\n    mat-icon-button\r\n    matSuffix\r\n    class=\"picker-inline-button\"\r\n    tippyTranslate=\"Fields.Picker.Edit\"\r\n    [disabled]=\"ui().disabled || config.initialDisabled\"\r\n    appClickStopPropagation\r\n    (click)=\"edit(item().value, item().id)\"\r\n  >\r\n    <mat-icon>edit</mat-icon>\r\n  </button>\r\n}\r\n\r\n@if (buttons().remove)\r\n{\r\n  <button\r\n    mat-icon-button\r\n    matSuffix\r\n    class=\"picker-inline-button\"\r\n    tippyTranslate=\"Fields.Picker.Remove\"\r\n    [disabled]=\"ui().disabled\"\r\n    appClickStopPropagation\r\n    (click)=\"removeItem(index())\"\r\n  >\r\n    <mat-icon>do_not_disturb_on</mat-icon>\r\n  </button>\r\n}\r\n\r\n\r\n@if (buttons().delete)\r\n{\r\n  <button\r\n    mat-icon-button\r\n    matSuffix\r\n    class=\"picker-inline-button\"\r\n    tippyTranslate=\"Fields.Picker.Delete\"\r\n    [disabled]=\"ui().disabled\"\r\n    appClickStopPropagation\r\n    (click)=\"deleteItem(index(), item().value)\"\r\n  >\r\n    <mat-icon>delete</mat-icon>\r\n  </button>\r\n}\r\n","import { CdkDrag, CdkDragDrop, CdkDropList } from '@angular/cdk/drag-drop';\r\nimport { NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { PickerItemButtonsComponent } from '../picker-item-buttons/picker-item-buttons';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\nimport { ReorderIndexes } from './reorder-index.models';\r\n\r\n@Component({\r\n    selector: 'app-picker-list',\r\n    templateUrl: './picker-list.html',\r\n    styleUrls: ['./picker-list.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        MatButtonModule,\r\n        NgClass,\r\n        CdkDropList,\r\n        CdkDrag,\r\n        PickerItemButtonsComponent,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class PickerListComponent extends PickerPartBaseComponent {\r\n  \r\n  log = classLog({PickerListComponent});\r\n\r\n  constructor() { super(); }\r\n\r\n  drop(event: CdkDragDrop<PickerItem[]>): void {\r\n    this.pickerData.state.reorder({\r\n      previousIndex: event.previousIndex,\r\n      currentIndex: event.currentIndex,\r\n    } satisfies ReorderIndexes);\r\n  }\r\n\r\n}\r\n","\r\n@if (!features().multiValue) {\r\n  <mat-label class=\"field-label\"\r\n    [ngClass]=\"{ 'disabled': ui().disabled }\">\r\n    {{ basics().labelWithRequired }}\r\n  </mat-label>\r\n}\r\n@if (selectedItems().length > 0) {\r\n  <div\r\n    cdkDropList\r\n    [cdkDropListDisabled]=\"!features().multiValue || ui().disabled\"\r\n    (cdkDropListDropped)=\"drop($event)\"\r\n    class=\"my-list\"\r\n    [ngClass]=\"'my-list-' + (features().multiValue ? 'draggable' : 'static')\"\r\n  >\r\n    <!-- Normal list usually shows only one item, but can show \"empty slot\" / \"null-item\" in debug mode -->\r\n    @for (item of selectedItems(); track (item.value + $index); let index = $index) {\r\n      <div cdkDrag class=\"my-item\" [ngClass]=\"('my-item-' + (features().multiValue ? 'draggable' : 'static')) + ' ' + (ui().disabled ? 'disabled' : '')\">\r\n        <div class=\"item-title\" [ngClass]=\"{ 'disabled': ui().disabled }\">\r\n          <!-- visual Drag-Handle if sortable -->\r\n          @if (features().multiValue) {\r\n            <mat-icon class=\"item-title__icon\"\r\n              tippyTranslate=\"Fields.Picker.DragMove\"\r\n              [tippyDisabled]=\"ui().disabled\">\r\n              drag_handle\r\n            </mat-icon>\r\n          }\r\n          <span class=\"item-title__text\" [tippy]=\"item.tooltip\">\r\n            {{ item.label }}\r\n          </span>\r\n        </div>\r\n        <app-picker-item-buttons matSuffix class=\"my-item-actions\" [show]=\"true\" [item]=\"item\" [index]=\"index\"></app-picker-item-buttons>\r\n      </div>\r\n    }\r\n  </div>\r\n}\r\n","import { SelectionModel } from './_selection-model-chunk.mjs';\nimport { isObservable, Subject, BehaviorSubject, of, combineLatest, EMPTY, concat } from 'rxjs';\nimport { take, filter, takeUntil, startWith, tap, switchMap, map, reduce, concatMap, distinctUntilChanged } from 'rxjs/operators';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, inject, ViewContainerRef, Directive, TemplateRef, IterableDiffers, ChangeDetectorRef, ElementRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, ViewChild, ContentChildren, EventEmitter, booleanAttribute, Output, numberAttribute, NgModule } from '@angular/core';\nimport { TREE_KEY_MANAGER } from './_tree-key-manager-chunk.mjs';\nimport { Directionality } from './_directionality-chunk.mjs';\nimport { isDataSource } from './_data-source-chunk.mjs';\nimport { coerceObservable } from './coercion-private.mjs';\nimport './_typeahead-chunk.mjs';\nimport './_keycodes-chunk.mjs';\nclass BaseTreeControl {\n  dataNodes;\n  expansionModel = /*#__PURE__*/new SelectionModel(true);\n  trackBy;\n  getLevel;\n  isExpandable;\n  getChildren;\n  toggle(dataNode) {\n    this.expansionModel.toggle(this._trackByValue(dataNode));\n  }\n  expand(dataNode) {\n    this.expansionModel.select(this._trackByValue(dataNode));\n  }\n  collapse(dataNode) {\n    this.expansionModel.deselect(this._trackByValue(dataNode));\n  }\n  isExpanded(dataNode) {\n    return this.expansionModel.isSelected(this._trackByValue(dataNode));\n  }\n  toggleDescendants(dataNode) {\n    this.expansionModel.isSelected(this._trackByValue(dataNode)) ? this.collapseDescendants(dataNode) : this.expandDescendants(dataNode);\n  }\n  collapseAll() {\n    this.expansionModel.clear();\n  }\n  expandDescendants(dataNode) {\n    let toBeProcessed = [dataNode];\n    toBeProcessed.push(...this.getDescendants(dataNode));\n    this.expansionModel.select(...toBeProcessed.map(value => this._trackByValue(value)));\n  }\n  collapseDescendants(dataNode) {\n    let toBeProcessed = [dataNode];\n    toBeProcessed.push(...this.getDescendants(dataNode));\n    this.expansionModel.deselect(...toBeProcessed.map(value => this._trackByValue(value)));\n  }\n  _trackByValue(value) {\n    return this.trackBy ? this.trackBy(value) : value;\n  }\n}\nclass FlatTreeControl extends BaseTreeControl {\n  getLevel;\n  isExpandable;\n  options;\n  constructor(getLevel, isExpandable, options) {\n    super();\n    this.getLevel = getLevel;\n    this.isExpandable = isExpandable;\n    this.options = options;\n    if (this.options) {\n      this.trackBy = this.options.trackBy;\n    }\n  }\n  getDescendants(dataNode) {\n    const startIndex = this.dataNodes.indexOf(dataNode);\n    const results = [];\n    for (let i = startIndex + 1; i < this.dataNodes.length && this.getLevel(dataNode) < this.getLevel(this.dataNodes[i]); i++) {\n      results.push(this.dataNodes[i]);\n    }\n    return results;\n  }\n  expandAll() {\n    this.expansionModel.select(...this.dataNodes.map(node => this._trackByValue(node)));\n  }\n}\nclass NestedTreeControl extends BaseTreeControl {\n  getChildren;\n  options;\n  constructor(getChildren, options) {\n    super();\n    this.getChildren = getChildren;\n    this.options = options;\n    if (this.options) {\n      this.trackBy = this.options.trackBy;\n    }\n    if (this.options?.isExpandable) {\n      this.isExpandable = this.options.isExpandable;\n    }\n  }\n  expandAll() {\n    this.expansionModel.clear();\n    const allNodes = this.dataNodes.reduce((accumulator, dataNode) => [...accumulator, ...this.getDescendants(dataNode), dataNode], []);\n    this.expansionModel.select(...allNodes.map(node => this._trackByValue(node)));\n  }\n  getDescendants(dataNode) {\n    const descendants = [];\n    this._getDescendants(descendants, dataNode);\n    return descendants.splice(1);\n  }\n  _getDescendants(descendants, dataNode) {\n    descendants.push(dataNode);\n    const childrenNodes = this.getChildren(dataNode);\n    if (Array.isArray(childrenNodes)) {\n      childrenNodes.forEach(child => this._getDescendants(descendants, child));\n    } else if (isObservable(childrenNodes)) {\n      childrenNodes.pipe(take(1), filter(Boolean)).subscribe(children => {\n        for (const child of children) {\n          this._getDescendants(descendants, child);\n        }\n      });\n    }\n  }\n}\nconst CDK_TREE_NODE_OUTLET_NODE = /*#__PURE__*/new InjectionToken('CDK_TREE_NODE_OUTLET_NODE');\nlet CdkTreeNodeOutlet = /*#__PURE__*/(() => {\n  class CdkTreeNodeOutlet {\n    viewContainer = inject(ViewContainerRef);\n    _node = inject(CDK_TREE_NODE_OUTLET_NODE, {\n      optional: true\n    });\n    constructor() {}\n    static fac = function CdkTreeNodeOutlet_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTreeNodeOutlet)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: CdkTreeNodeOutlet,\n      selectors: [[\"\", \"cdkTreeNodeOutlet\", \"\"]]\n    });\n  }\n  return CdkTreeNodeOutlet;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass CdkTreeNodeOutletContext {\n  $implicit;\n  level;\n  index;\n  count;\n  constructor(data) {\n    this.$implicit = data;\n  }\n}\nlet CdkTreeNodeDef = /*#__PURE__*/(() => {\n  class CdkTreeNodeDef {\n    template = inject(TemplateRef);\n    when;\n    constructor() {}\n    static fac = function CdkTreeNodeDef_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTreeNodeDef)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: CdkTreeNodeDef,\n      selectors: [[\"\", \"cdkTreeNodeDef\", \"\"]],\n      inputs: {\n        when: [0, \"cdkTreeNodeDefWhen\", \"when\"]\n      }\n    });\n  }\n  return CdkTreeNodeDef;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction getTreeNoValidDataSourceError() {\n  return Error(`A valid data source must be provided.`);\n}\nfunction getTreeMultipleDefaultNodeDefsError() {\n  return Error(`There can only be one default row without a when predicate function.`);\n}\nfunction getTreeMissingMatchingNodeDefError() {\n  return Error(`Could not find a matching node definition for the provided node data.`);\n}\nfunction getTreeControlMissingError() {\n  return Error(`Could not find a tree control, levelAccessor, or childrenAccessor for the tree.`);\n}\nfunction getMultipleTreeControlsError() {\n  return Error(`More than one of tree control, levelAccessor, or childrenAccessor were provided.`);\n}\nlet CdkTree = /*#__PURE__*/(() => {\n  class CdkTree {\n    _differs = inject(IterableDiffers);\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _elementRef = inject(ElementRef);\n    _dir = inject(Directionality);\n    _onDestroy = new Subject();\n    _dataDiffer;\n    _defaultNodeDef;\n    _dataSubscription;\n    _levels = new Map();\n    _parents = new Map();\n    _ariaSets = new Map();\n    get dataSource() {\n      return this._dataSource;\n    }\n    set dataSource(dataSource) {\n      if (this._dataSource !== dataSource) {\n        this._switchDataSource(dataSource);\n      }\n    }\n    _dataSource;\n    treeControl;\n    levelAccessor;\n    childrenAccessor;\n    trackBy;\n    expansionKey;\n    _nodeOutlet;\n    _nodeDefs;\n    viewChange = new BehaviorSubject({\n      start: 0,\n      end: Number.MAX_VALUE\n    });\n    _expansionModel;\n    _flattenedNodes = new BehaviorSubject([]);\n    _nodeType = new BehaviorSubject(null);\n    _nodes = new BehaviorSubject(new Map());\n    _keyManagerNodes = new BehaviorSubject([]);\n    _keyManagerFactory = inject(TREE_KEY_MANAGER);\n    _keyManager;\n    _viewInit = false;\n    constructor() {}\n    ngAfterContentInit() {\n      this._initializeKeyManager();\n    }\n    ngAfterContentChecked() {\n      this._updateDefaultNodeDefinition();\n      this._subscribeToDataChanges();\n    }\n    ngOnDestroy() {\n      this._nodeOutlet.viewContainer.clear();\n      this._nodes.complete();\n      this._keyManagerNodes.complete();\n      this._nodeType.complete();\n      this._flattenedNodes.complete();\n      this.viewChange.complete();\n      this._onDestroy.next();\n      this._onDestroy.complete();\n      if (this._dataSource && typeof this._dataSource.disconnect === 'function') {\n        this.dataSource.disconnect(this);\n      }\n      if (this._dataSubscription) {\n        this._dataSubscription.unsubscribe();\n        this._dataSubscription = null;\n      }\n      this._keyManager?.destroy();\n    }\n    ngOnInit() {\n      this._checkTreeControlUsage();\n      this._initializeDataDiffer();\n    }\n    ngAfterViewInit() {\n      this._viewInit = true;\n    }\n    _updateDefaultNodeDefinition() {\n      const defaultNodeDefs = this._nodeDefs.filter(def => !def.when);\n      if (defaultNodeDefs.length > 1 && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw getTreeMultipleDefaultNodeDefsError();\n      }\n      this._defaultNodeDef = defaultNodeDefs[0];\n    }\n    _setNodeTypeIfUnset(newType) {\n      const currentType = this._nodeType.value;\n      if (currentType === null) {\n        this._nodeType.next(newType);\n      } else if ((typeof ngDevMode === 'undefined' || ngDevMode) && currentType !== newType) {\n        console.warn(`Tree is using conflicting node types which can cause unexpected behavior. ` + `Please use tree nodes of the same type (e.g. only flat or only nested). ` + `Current node type: \"${currentType}\", new node type \"${newType}\".`);\n      }\n    }\n    _switchDataSource(dataSource) {\n      if (this._dataSource && typeof this._dataSource.disconnect === 'function') {\n        this.dataSource.disconnect(this);\n      }\n      if (this._dataSubscription) {\n        this._dataSubscription.unsubscribe();\n        this._dataSubscription = null;\n      }\n      if (!dataSource) {\n        this._nodeOutlet.viewContainer.clear();\n      }\n      this._dataSource = dataSource;\n      if (this._nodeDefs) {\n        this._subscribeToDataChanges();\n      }\n    }\n    _getExpansionModel() {\n      if (!this.treeControl) {\n        this._expansionModel ??= new SelectionModel(true);\n        return this._expansionModel;\n      }\n      return this.treeControl.expansionModel;\n    }\n    _subscribeToDataChanges() {\n      if (this._dataSubscription) {\n        return;\n      }\n      let dataStream;\n      if (isDataSource(this._dataSource)) {\n        dataStream = this._dataSource.connect(this);\n      } else if (isObservable(this._dataSource)) {\n        dataStream = this._dataSource;\n      } else if (Array.isArray(this._dataSource)) {\n        dataStream = of(this._dataSource);\n      }\n      if (!dataStream) {\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n          throw getTreeNoValidDataSourceError();\n        }\n        return;\n      }\n      this._dataSubscription = this._getRenderData(dataStream).pipe(takeUntil(this._onDestroy)).subscribe(renderingData => {\n        this._renderDataChanges(renderingData);\n      });\n    }\n    _getRenderData(dataStream) {\n      const expansionModel = this._getExpansionModel();\n      return combineLatest([dataStream, this._nodeType, expansionModel.changed.pipe(startWith(null), tap(expansionChanges => {\n        this._emitExpansionChanges(expansionChanges);\n      }))]).pipe(switchMap(([data, nodeType]) => {\n        if (nodeType === null) {\n          return of({\n            renderNodes: data,\n            flattenedNodes: null,\n            nodeType\n          });\n        }\n        return this._computeRenderingData(data, nodeType).pipe(map(convertedData => ({\n          ...convertedData,\n          nodeType\n        })));\n      }));\n    }\n    _renderDataChanges(data) {\n      if (data.nodeType === null) {\n        this.renderNodeChanges(data.renderNodes);\n        return;\n      }\n      this._updateCachedData(data.flattenedNodes);\n      this.renderNodeChanges(data.renderNodes);\n      this._updateKeyManagerItems(data.flattenedNodes);\n    }\n    _emitExpansionChanges(expansionChanges) {\n      if (!expansionChanges) {\n        return;\n      }\n      const nodes = this._nodes.value;\n      for (const added of expansionChanges.added) {\n        const node = nodes.get(added);\n        node?._emitExpansionState(true);\n      }\n      for (const removed of expansionChanges.removed) {\n        const node = nodes.get(removed);\n        node?._emitExpansionState(false);\n      }\n    }\n    _initializeKeyManager() {\n      const items = combineLatest([this._keyManagerNodes, this._nodes]).pipe(map(([keyManagerNodes, renderNodes]) => keyManagerNodes.reduce((items, data) => {\n        const node = renderNodes.get(this._getExpansionKey(data));\n        if (node) {\n          items.push(node);\n        }\n        return items;\n      }, [])));\n      const keyManagerOptions = {\n        trackBy: node => this._getExpansionKey(node.data),\n        skipPredicate: node => !!node.isDisabled,\n        typeAheadDebounceInterval: true,\n        horizontalOrientation: this._dir.value\n      };\n      this._keyManager = this._keyManagerFactory(items, keyManagerOptions);\n    }\n    _initializeDataDiffer() {\n      const trackBy = this.trackBy ?? ((_index, item) => this._getExpansionKey(item));\n      this._dataDiffer = this._differs.find([]).create(trackBy);\n    }\n    _checkTreeControlUsage() {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        let numTreeControls = 0;\n        if (this.treeControl) {\n          numTreeControls++;\n        }\n        if (this.levelAccessor) {\n          numTreeControls++;\n        }\n        if (this.childrenAccessor) {\n          numTreeControls++;\n        }\n        if (!numTreeControls) {\n          throw getTreeControlMissingError();\n        } else if (numTreeControls > 1) {\n          throw getMultipleTreeControlsError();\n        }\n      }\n    }\n    renderNodeChanges(data, dataDiffer = this._dataDiffer, viewContainer = this._nodeOutlet.viewContainer, parentData) {\n      const changes = dataDiffer.diff(data);\n      if (!changes && !this._viewInit) {\n        return;\n      }\n      changes?.forEachOperation((item, adjustedPreviousIndex, currentIndex) => {\n        if (item.previousIndex == null) {\n          this.insertNode(data[currentIndex], currentIndex, viewContainer, parentData);\n        } else if (currentIndex == null) {\n          viewContainer.remove(adjustedPreviousIndex);\n        } else {\n          const view = viewContainer.get(adjustedPreviousIndex);\n          viewContainer.move(view, currentIndex);\n        }\n      });\n      changes?.forEachIdentityChange(record => {\n        const newData = record.item;\n        if (record.currentIndex != undefined) {\n          const view = viewContainer.get(record.currentIndex);\n          view.context.$implicit = newData;\n        }\n      });\n      if (parentData) {\n        this._changeDetectorRef.markForCheck();\n      } else {\n        this._changeDetectorRef.detectChanges();\n      }\n    }\n    _getNodeDef(data, i) {\n      if (this._nodeDefs.length === 1) {\n        return this._nodeDefs.first;\n      }\n      const nodeDef = this._nodeDefs.find(def => def.when && def.when(i, data)) || this._defaultNodeDef;\n      if (!nodeDef && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw getTreeMissingMatchingNodeDefError();\n      }\n      return nodeDef;\n    }\n    insertNode(nodeData, index, viewContainer, parentData) {\n      const levelAccessor = this._getLevelAccessor();\n      const node = this._getNodeDef(nodeData, index);\n      const key = this._getExpansionKey(nodeData);\n      const context = new CdkTreeNodeOutletContext(nodeData);\n      context.index = index;\n      parentData ??= this._parents.get(key) ?? undefined;\n      if (levelAccessor) {\n        context.level = levelAccessor(nodeData);\n      } else if (parentData !== undefined && this._levels.has(this._getExpansionKey(parentData))) {\n        context.level = this._levels.get(this._getExpansionKey(parentData)) + 1;\n      } else {\n        context.level = 0;\n      }\n      this._levels.set(key, context.level);\n      const container = viewContainer ? viewContainer : this._nodeOutlet.viewContainer;\n      container.createEmbeddedView(node.template, context, index);\n      if (CdkTreeNode.mostRecentTreeNode) {\n        CdkTreeNode.mostRecentTreeNode.data = nodeData;\n      }\n    }\n    isExpanded(dataNode) {\n      return !!(this.treeControl?.isExpanded(dataNode) || this._expansionModel?.isSelected(this._getExpansionKey(dataNode)));\n    }\n    toggle(dataNode) {\n      if (this.treeControl) {\n        this.treeControl.toggle(dataNode);\n      } else if (this._expansionModel) {\n        this._expansionModel.toggle(this._getExpansionKey(dataNode));\n      }\n    }\n    expand(dataNode) {\n      if (this.treeControl) {\n        this.treeControl.expand(dataNode);\n      } else if (this._expansionModel) {\n        this._expansionModel.select(this._getExpansionKey(dataNode));\n      }\n    }\n    collapse(dataNode) {\n      if (this.treeControl) {\n        this.treeControl.collapse(dataNode);\n      } else if (this._expansionModel) {\n        this._expansionModel.deselect(this._getExpansionKey(dataNode));\n      }\n    }\n    toggleDescendants(dataNode) {\n      if (this.treeControl) {\n        this.treeControl.toggleDescendants(dataNode);\n      } else if (this._expansionModel) {\n        if (this.isExpanded(dataNode)) {\n          this.collapseDescendants(dataNode);\n        } else {\n          this.expandDescendants(dataNode);\n        }\n      }\n    }\n    expandDescendants(dataNode) {\n      if (this.treeControl) {\n        this.treeControl.expandDescendants(dataNode);\n      } else if (this._expansionModel) {\n        const expansionModel = this._expansionModel;\n        expansionModel.select(this._getExpansionKey(dataNode));\n        this._getDescendants(dataNode).pipe(take(1), takeUntil(this._onDestroy)).subscribe(children => {\n          expansionModel.select(...children.map(child => this._getExpansionKey(child)));\n        });\n      }\n    }\n    collapseDescendants(dataNode) {\n      if (this.treeControl) {\n        this.treeControl.collapseDescendants(dataNode);\n      } else if (this._expansionModel) {\n        const expansionModel = this._expansionModel;\n        expansionModel.deselect(this._getExpansionKey(dataNode));\n        this._getDescendants(dataNode).pipe(take(1), takeUntil(this._onDestroy)).subscribe(children => {\n          expansionModel.deselect(...children.map(child => this._getExpansionKey(child)));\n        });\n      }\n    }\n    expandAll() {\n      if (this.treeControl) {\n        this.treeControl.expandAll();\n      } else if (this._expansionModel) {\n        this._forEachExpansionKey(keys => this._expansionModel?.select(...keys));\n      }\n    }\n    collapseAll() {\n      if (this.treeControl) {\n        this.treeControl.collapseAll();\n      } else if (this._expansionModel) {\n        this._forEachExpansionKey(keys => this._expansionModel?.deselect(...keys));\n      }\n    }\n    _getLevelAccessor() {\n      return this.treeControl?.getLevel?.bind(this.treeControl) ?? this.levelAccessor;\n    }\n    _getChildrenAccessor() {\n      return this.treeControl?.getChildren?.bind(this.treeControl) ?? this.childrenAccessor;\n    }\n    _getDirectChildren(dataNode) {\n      const levelAccessor = this._getLevelAccessor();\n      const expansionModel = this._expansionModel ?? this.treeControl?.expansionModel;\n      if (!expansionModel) {\n        return of([]);\n      }\n      const key = this._getExpansionKey(dataNode);\n      const isExpanded = expansionModel.changed.pipe(switchMap(changes => {\n        if (changes.added.includes(key)) {\n          return of(true);\n        } else if (changes.removed.includes(key)) {\n          return of(false);\n        }\n        return EMPTY;\n      }), startWith(this.isExpanded(dataNode)));\n      if (levelAccessor) {\n        return combineLatest([isExpanded, this._flattenedNodes]).pipe(map(([expanded, flattenedNodes]) => {\n          if (!expanded) {\n            return [];\n          }\n          return this._findChildrenByLevel(levelAccessor, flattenedNodes, dataNode, 1);\n        }));\n      }\n      const childrenAccessor = this._getChildrenAccessor();\n      if (childrenAccessor) {\n        return coerceObservable(childrenAccessor(dataNode) ?? []);\n      }\n      throw getTreeControlMissingError();\n    }\n    _findChildrenByLevel(levelAccessor, flattenedNodes, dataNode, levelDelta) {\n      const key = this._getExpansionKey(dataNode);\n      const startIndex = flattenedNodes.findIndex(node => this._getExpansionKey(node) === key);\n      const dataNodeLevel = levelAccessor(dataNode);\n      const expectedLevel = dataNodeLevel + levelDelta;\n      const results = [];\n      for (let i = startIndex + 1; i < flattenedNodes.length; i++) {\n        const currentLevel = levelAccessor(flattenedNodes[i]);\n        if (currentLevel <= dataNodeLevel) {\n          break;\n        }\n        if (currentLevel <= expectedLevel) {\n          results.push(flattenedNodes[i]);\n        }\n      }\n      return results;\n    }\n    _registerNode(node) {\n      this._nodes.value.set(this._getExpansionKey(node.data), node);\n      this._nodes.next(this._nodes.value);\n    }\n    _unregisterNode(node) {\n      this._nodes.value.delete(this._getExpansionKey(node.data));\n      this._nodes.next(this._nodes.value);\n    }\n    _getLevel(node) {\n      return this._levels.get(this._getExpansionKey(node));\n    }\n    _getSetSize(dataNode) {\n      const set = this._getAriaSet(dataNode);\n      return set.length;\n    }\n    _getPositionInSet(dataNode) {\n      const set = this._getAriaSet(dataNode);\n      const key = this._getExpansionKey(dataNode);\n      return set.findIndex(node => this._getExpansionKey(node) === key) + 1;\n    }\n    _getNodeParent(node) {\n      const parent = this._parents.get(this._getExpansionKey(node.data));\n      return parent && this._nodes.value.get(this._getExpansionKey(parent));\n    }\n    _getNodeChildren(node) {\n      return this._getDirectChildren(node.data).pipe(map(children => children.reduce((nodes, child) => {\n        const value = this._nodes.value.get(this._getExpansionKey(child));\n        if (value) {\n          nodes.push(value);\n        }\n        return nodes;\n      }, [])));\n    }\n    _sendKeydownToKeyManager(event) {\n      if (event.target === this._elementRef.nativeElement) {\n        this._keyManager.onKeydown(event);\n      } else {\n        const nodes = this._nodes.getValue();\n        for (const [, node] of nodes) {\n          if (event.target === node._elementRef.nativeElement) {\n            this._keyManager.onKeydown(event);\n            break;\n          }\n        }\n      }\n    }\n    _getDescendants(dataNode) {\n      if (this.treeControl) {\n        return of(this.treeControl.getDescendants(dataNode));\n      }\n      if (this.levelAccessor) {\n        const results = this._findChildrenByLevel(this.levelAccessor, this._flattenedNodes.value, dataNode, Infinity);\n        return of(results);\n      }\n      if (this.childrenAccessor) {\n        return this._getAllChildrenRecursively(dataNode).pipe(reduce((allChildren, nextChildren) => {\n          allChildren.push(...nextChildren);\n          return allChildren;\n        }, []));\n      }\n      throw getTreeControlMissingError();\n    }\n    _getAllChildrenRecursively(dataNode) {\n      if (!this.childrenAccessor) {\n        return of([]);\n      }\n      return coerceObservable(this.childrenAccessor(dataNode)).pipe(take(1), switchMap(children => {\n        for (const child of children) {\n          this._parents.set(this._getExpansionKey(child), dataNode);\n        }\n        return of(...children).pipe(concatMap(child => concat(of([child]), this._getAllChildrenRecursively(child))));\n      }));\n    }\n    _getExpansionKey(dataNode) {\n      return this.expansionKey?.(dataNode) ?? dataNode;\n    }\n    _getAriaSet(node) {\n      const key = this._getExpansionKey(node);\n      const parent = this._parents.get(key);\n      const parentKey = parent ? this._getExpansionKey(parent) : null;\n      const set = this._ariaSets.get(parentKey);\n      return set ?? [node];\n    }\n    _findParentForNode(node, index, cachedNodes) {\n      if (!cachedNodes.length) {\n        return null;\n      }\n      const currentLevel = this._levels.get(this._getExpansionKey(node)) ?? 0;\n      for (let parentIndex = index - 1; parentIndex >= 0; parentIndex--) {\n        const parentNode = cachedNodes[parentIndex];\n        const parentLevel = this._levels.get(this._getExpansionKey(parentNode)) ?? 0;\n        if (parentLevel < currentLevel) {\n          return parentNode;\n        }\n      }\n      return null;\n    }\n    _flattenNestedNodesWithExpansion(nodes, level = 0) {\n      const childrenAccessor = this._getChildrenAccessor();\n      if (!childrenAccessor) {\n        return of([...nodes]);\n      }\n      return of(...nodes).pipe(concatMap(node => {\n        const parentKey = this._getExpansionKey(node);\n        if (!this._parents.has(parentKey)) {\n          this._parents.set(parentKey, null);\n        }\n        this._levels.set(parentKey, level);\n        const children = coerceObservable(childrenAccessor(node));\n        return concat(of([node]), children.pipe(take(1), tap(childNodes => {\n          this._ariaSets.set(parentKey, [...(childNodes ?? [])]);\n          for (const child of childNodes ?? []) {\n            const childKey = this._getExpansionKey(child);\n            this._parents.set(childKey, node);\n            this._levels.set(childKey, level + 1);\n          }\n        }), switchMap(childNodes => {\n          if (!childNodes) {\n            return of([]);\n          }\n          return this._flattenNestedNodesWithExpansion(childNodes, level + 1).pipe(map(nestedNodes => this.isExpanded(node) ? nestedNodes : []));\n        })));\n      }), reduce((results, children) => {\n        results.push(...children);\n        return results;\n      }, []));\n    }\n    _computeRenderingData(nodes, nodeType) {\n      if (this.childrenAccessor && nodeType === 'flat') {\n        this._clearPreviousCache();\n        this._ariaSets.set(null, [...nodes]);\n        return this._flattenNestedNodesWithExpansion(nodes).pipe(map(flattenedNodes => ({\n          renderNodes: flattenedNodes,\n          flattenedNodes\n        })));\n      } else if (this.levelAccessor && nodeType === 'nested') {\n        const levelAccessor = this.levelAccessor;\n        return of(nodes.filter(node => levelAccessor(node) === 0)).pipe(map(rootNodes => ({\n          renderNodes: rootNodes,\n          flattenedNodes: nodes\n        })), tap(({\n          flattenedNodes\n        }) => {\n          this._calculateParents(flattenedNodes);\n        }));\n      } else if (nodeType === 'flat') {\n        return of({\n          renderNodes: nodes,\n          flattenedNodes: nodes\n        }).pipe(tap(({\n          flattenedNodes\n        }) => {\n          this._calculateParents(flattenedNodes);\n        }));\n      } else {\n        this._clearPreviousCache();\n        this._ariaSets.set(null, [...nodes]);\n        return this._flattenNestedNodesWithExpansion(nodes).pipe(map(flattenedNodes => ({\n          renderNodes: nodes,\n          flattenedNodes\n        })));\n      }\n    }\n    _updateCachedData(flattenedNodes) {\n      this._flattenedNodes.next(flattenedNodes);\n    }\n    _updateKeyManagerItems(flattenedNodes) {\n      this._keyManagerNodes.next(flattenedNodes);\n    }\n    _calculateParents(flattenedNodes) {\n      const levelAccessor = this._getLevelAccessor();\n      if (!levelAccessor) {\n        return;\n      }\n      this._clearPreviousCache();\n      for (let index = 0; index < flattenedNodes.length; index++) {\n        const dataNode = flattenedNodes[index];\n        const key = this._getExpansionKey(dataNode);\n        this._levels.set(key, levelAccessor(dataNode));\n        const parent = this._findParentForNode(dataNode, index, flattenedNodes);\n        this._parents.set(key, parent);\n        const parentKey = parent ? this._getExpansionKey(parent) : null;\n        const group = this._ariaSets.get(parentKey) ?? [];\n        group.splice(index, 0, dataNode);\n        this._ariaSets.set(parentKey, group);\n      }\n    }\n    _forEachExpansionKey(callback) {\n      const toToggle = [];\n      const observables = [];\n      this._nodes.value.forEach(node => {\n        toToggle.push(this._getExpansionKey(node.data));\n        observables.push(this._getDescendants(node.data));\n      });\n      if (observables.length > 0) {\n        combineLatest(observables).pipe(take(1), takeUntil(this._onDestroy)).subscribe(results => {\n          results.forEach(inner => inner.forEach(r => toToggle.push(this._getExpansionKey(r))));\n          callback(toToggle);\n        });\n      } else {\n        callback(toToggle);\n      }\n    }\n    _clearPreviousCache() {\n      this._parents.clear();\n      this._levels.clear();\n      this._ariaSets.clear();\n    }\n    static fac = function CdkTree_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTree)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: CdkTree,\n      selectors: [[\"cdk-tree\"]],\n      contentQueries: function CdkTree_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, CdkTreeNodeDef, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._nodeDefs = _t);\n        }\n      },\n      viewQuery: function CdkTree_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(CdkTreeNodeOutlet, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._nodeOutlet = _t.first);\n        }\n      },\n      hostAttrs: [\"role\", \"tree\", 1, \"cdk-tree\"],\n      hostBindings: function CdkTree_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"keydown\", function CdkTree_keydown_HostBindingHandler($event) {\n            return ctx._sendKeydownToKeyManager($event);\n          });\n        }\n      },\n      inputs: {\n        dataSource: \"dataSource\",\n        treeControl: \"treeControl\",\n        levelAccessor: \"levelAccessor\",\n        childrenAccessor: \"childrenAccessor\",\n        trackBy: \"trackBy\",\n        expansionKey: \"expansionKey\"\n      },\n      exportAs: [\"cdkTree\"],\n      decls: 1,\n      vars: 0,\n      consts: [[\"cdkTreeNodeOutlet\", \"\"]],\n      template: function CdkTree_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.elementContainer(0, 0);\n        }\n      },\n      dependencies: [CdkTreeNodeOutlet],\n      encapsulation: 2\n    });\n  }\n  return CdkTree;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CdkTreeNode = /*#__PURE__*/(() => {\n  class CdkTreeNode {\n    _elementRef = inject(ElementRef);\n    _tree = inject(CdkTree);\n    _tabindex = -1;\n    _type = 'flat';\n    get role() {\n      return 'treeitem';\n    }\n    set role(_role) {}\n    get isExpandable() {\n      return this._isExpandable();\n    }\n    set isExpandable(isExpandable) {\n      this._inputIsExpandable = isExpandable;\n      if (this.data && !this._isExpandable || !this._inputIsExpandable) {\n        return;\n      }\n      if (this._inputIsExpanded) {\n        this.expand();\n      } else if (this._inputIsExpanded === false) {\n        this.collapse();\n      }\n    }\n    get isExpanded() {\n      return this._tree.isExpanded(this._data);\n    }\n    set isExpanded(isExpanded) {\n      this._inputIsExpanded = isExpanded;\n      if (isExpanded) {\n        this.expand();\n      } else {\n        this.collapse();\n      }\n    }\n    isDisabled;\n    typeaheadLabel;\n    getLabel() {\n      return this.typeaheadLabel || this._elementRef.nativeElement.textContent?.trim() || '';\n    }\n    activation = new EventEmitter();\n    expandedChange = new EventEmitter();\n    static mostRecentTreeNode = null;\n    _destroyed = new Subject();\n    _dataChanges = new Subject();\n    _inputIsExpandable = false;\n    _inputIsExpanded = undefined;\n    _shouldFocus = true;\n    _parentNodeAriaLevel;\n    get data() {\n      return this._data;\n    }\n    set data(value) {\n      if (value !== this._data) {\n        this._data = value;\n        this._dataChanges.next();\n      }\n    }\n    _data;\n    get isLeafNode() {\n      if (this._tree.treeControl?.isExpandable !== undefined && !this._tree.treeControl.isExpandable(this._data)) {\n        return true;\n      } else if (this._tree.treeControl?.isExpandable === undefined && this._tree.treeControl?.getDescendants(this._data).length === 0) {\n        return true;\n      }\n      return false;\n    }\n    get level() {\n      return this._tree._getLevel(this._data) ?? this._parentNodeAriaLevel;\n    }\n    _isExpandable() {\n      if (this._tree.treeControl) {\n        if (this.isLeafNode) {\n          return false;\n        }\n        return true;\n      }\n      return this._inputIsExpandable;\n    }\n    _getAriaExpanded() {\n      if (!this._isExpandable()) {\n        return null;\n      }\n      return String(this.isExpanded);\n    }\n    _getSetSize() {\n      return this._tree._getSetSize(this._data);\n    }\n    _getPositionInSet() {\n      return this._tree._getPositionInSet(this._data);\n    }\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    constructor() {\n      CdkTreeNode.mostRecentTreeNode = this;\n    }\n    ngOnInit() {\n      this._parentNodeAriaLevel = getParentNodeAriaLevel(this._elementRef.nativeElement);\n      this._tree._getExpansionModel().changed.pipe(map(() => this.isExpanded), distinctUntilChanged(), takeUntil(this._destroyed)).pipe(takeUntil(this._destroyed)).subscribe(() => this._changeDetectorRef.markForCheck());\n      this._tree._setNodeTypeIfUnset(this._type);\n      this._tree._registerNode(this);\n    }\n    ngOnDestroy() {\n      if (CdkTreeNode.mostRecentTreeNode === this) {\n        CdkTreeNode.mostRecentTreeNode = null;\n      }\n      this._dataChanges.complete();\n      this._destroyed.next();\n      this._destroyed.complete();\n    }\n    getParent() {\n      return this._tree._getNodeParent(this) ?? null;\n    }\n    getChildren() {\n      return this._tree._getNodeChildren(this);\n    }\n    focus() {\n      this._tabindex = 0;\n      if (this._shouldFocus) {\n        this._elementRef.nativeElement.focus();\n      }\n      this._changeDetectorRef.markForCheck();\n    }\n    unfocus() {\n      this._tabindex = -1;\n      this._changeDetectorRef.markForCheck();\n    }\n    activate() {\n      if (this.isDisabled) {\n        return;\n      }\n      this.activation.next(this._data);\n    }\n    collapse() {\n      if (this.isExpandable) {\n        this._tree.collapse(this._data);\n      }\n    }\n    expand() {\n      if (this.isExpandable) {\n        this._tree.expand(this._data);\n      }\n    }\n    makeFocusable() {\n      this._tabindex = 0;\n      this._changeDetectorRef.markForCheck();\n    }\n    _focusItem() {\n      if (this.isDisabled) {\n        return;\n      }\n      this._tree._keyManager.focusItem(this);\n    }\n    _setActiveItem() {\n      if (this.isDisabled) {\n        return;\n      }\n      this._shouldFocus = false;\n      this._tree._keyManager.focusItem(this);\n      this._shouldFocus = true;\n    }\n    _emitExpansionState(expanded) {\n      this.expandedChange.emit(expanded);\n    }\n    static fac = function CdkTreeNode_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTreeNode)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: CdkTreeNode,\n      selectors: [[\"cdk-tree-node\"]],\n      hostAttrs: [\"role\", \"treeitem\", 1, \"cdk-tree-node\"],\n      hostVars: 5,\n      hostBindings: function CdkTreeNode_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function CdkTreeNode_click_HostBindingHandler() {\n            return ctx._setActiveItem();\n          })(\"focus\", function CdkTreeNode_focus_HostBindingHandler() {\n            return ctx._focusItem();\n          });\n        }\n        if (rf & 2) {\n          i0.domProperty(\"tabIndex\", ctx._tabindex);\n          i0.attribute(\"aria-expanded\", ctx._getAriaExpanded())(\"aria-level\", ctx.level + 1)(\"aria-posinset\", ctx._getPositionInSet())(\"aria-setsize\", ctx._getSetSize());\n        }\n      },\n      inputs: {\n        role: \"role\",\n        isExpandable: [2, \"isExpandable\", \"isExpandable\", booleanAttribute],\n        isExpanded: \"isExpanded\",\n        isDisabled: [2, \"isDisabled\", \"isDisabled\", booleanAttribute],\n        typeaheadLabel: [0, \"cdkTreeNodeTypeaheadLabel\", \"typeaheadLabel\"]\n      },\n      outputs: {\n        activation: \"activation\",\n        expandedChange: \"expandedChange\"\n      },\n      exportAs: [\"cdkTreeNode\"]\n    });\n  }\n  return CdkTreeNode;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction getParentNodeAriaLevel(nodeElement) {\n  let parent = nodeElement.parentElement;\n  while (parent && !isNodeElement(parent)) {\n    parent = parent.parentElement;\n  }\n  if (!parent) {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      throw Error('Incorrect tree structure containing detached node.');\n    } else {\n      return -1;\n    }\n  } else if (parent.classList.contains('cdk-nested-tree-node')) {\n    return numberAttribute(parent.getAttribute('aria-level'));\n  } else {\n    return 0;\n  }\n}\nfunction isNodeElement(element) {\n  const classList = element.classList;\n  return !!(classList?.contains('cdk-nested-tree-node') || classList?.contains('cdk-tree'));\n}\nlet CdkNestedTreeNode = /*#__PURE__*/(() => {\n  class CdkNestedTreeNode extends CdkTreeNode {\n    _type = 'nested';\n    _differs = inject(IterableDiffers);\n    _dataDiffer;\n    _children;\n    nodeOutlet;\n    constructor() {\n      super();\n    }\n    ngAfterContentInit() {\n      this._dataDiffer = this._differs.find([]).create(this._tree.trackBy);\n      this._tree._getDirectChildren(this.data).pipe(takeUntil(this._destroyed)).subscribe(result => this.updateChildrenNodes(result));\n      this.nodeOutlet.changes.pipe(takeUntil(this._destroyed)).subscribe(() => this.updateChildrenNodes());\n    }\n    ngOnDestroy() {\n      this._clear();\n      super.ngOnDestroy();\n    }\n    updateChildrenNodes(children) {\n      const outlet = this._getNodeOutlet();\n      if (children) {\n        this._children = children;\n      }\n      if (outlet && this._children) {\n        const viewContainer = outlet.viewContainer;\n        this._tree.renderNodeChanges(this._children, this._dataDiffer, viewContainer, this._data);\n      } else {\n        this._dataDiffer.diff([]);\n      }\n    }\n    _clear() {\n      const outlet = this._getNodeOutlet();\n      if (outlet) {\n        outlet.viewContainer.clear();\n        this._dataDiffer.diff([]);\n      }\n    }\n    _getNodeOutlet() {\n      const outlets = this.nodeOutlet;\n      return outlets && outlets.find(outlet => !outlet._node || outlet._node === this);\n    }\n    static fac = function CdkNestedTreeNode_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkNestedTreeNode)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: CdkNestedTreeNode,\n      selectors: [[\"cdk-nested-tree-node\"]],\n      contentQueries: function CdkNestedTreeNode_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, CdkTreeNodeOutlet, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx.nodeOutlet = _t);\n        }\n      },\n      hostAttrs: [1, \"cdk-nested-tree-node\"],\n      exportAs: [\"cdkNestedTreeNode\"],\n      features: [i0.ProvidersFeature([{\n        provide: CdkTreeNode,\n        useExisting: CdkNestedTreeNode\n      }, {\n        provide: CDK_TREE_NODE_OUTLET_NODE,\n        useExisting: CdkNestedTreeNode\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return CdkNestedTreeNode;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst cssUnitPattern = /([A-Za-z%]+)$/;\nlet CdkTreeNodePadding = /*#__PURE__*/(() => {\n  class CdkTreeNodePadding {\n    _treeNode = inject(CdkTreeNode);\n    _tree = inject(CdkTree);\n    _element = inject(ElementRef);\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _currentPadding;\n    _destroyed = new Subject();\n    indentUnits = 'px';\n    get level() {\n      return this._level;\n    }\n    set level(value) {\n      this._setLevelInput(value);\n    }\n    _level;\n    get indent() {\n      return this._indent;\n    }\n    set indent(indent) {\n      this._setIndentInput(indent);\n    }\n    _indent = 40;\n    constructor() {\n      this._setPadding();\n      this._dir?.change.pipe(takeUntil(this._destroyed)).subscribe(() => this._setPadding(true));\n      this._treeNode._dataChanges.subscribe(() => this._setPadding());\n    }\n    ngOnDestroy() {\n      this._destroyed.next();\n      this._destroyed.complete();\n    }\n    _paddingIndent() {\n      const nodeLevel = (this._treeNode.data && this._tree._getLevel(this._treeNode.data)) ?? null;\n      const level = this._level == null ? nodeLevel : this._level;\n      return typeof level === 'number' ? `${level * this._indent}${this.indentUnits}` : null;\n    }\n    _setPadding(forceChange = false) {\n      const padding = this._paddingIndent();\n      if (padding !== this._currentPadding || forceChange) {\n        const element = this._element.nativeElement;\n        const paddingProp = this._dir && this._dir.value === 'rtl' ? 'paddingRight' : 'paddingLeft';\n        const resetProp = paddingProp === 'paddingLeft' ? 'paddingRight' : 'paddingLeft';\n        element.style[paddingProp] = padding || '';\n        element.style[resetProp] = '';\n        this._currentPadding = padding;\n      }\n    }\n    _setLevelInput(value) {\n      this._level = isNaN(value) ? null : value;\n      this._setPadding();\n    }\n    _setIndentInput(indent) {\n      let value = indent;\n      let units = 'px';\n      if (typeof indent === 'string') {\n        const parts = indent.split(cssUnitPattern);\n        value = parts[0];\n        units = parts[1] || units;\n      }\n      this.indentUnits = units;\n      this._indent = numberAttribute(value);\n      this._setPadding();\n    }\n    static fac = function CdkTreeNodePadding_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTreeNodePadding)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: CdkTreeNodePadding,\n      selectors: [[\"\", \"cdkTreeNodePadding\", \"\"]],\n      inputs: {\n        level: [2, \"cdkTreeNodePadding\", \"level\", numberAttribute],\n        indent: [0, \"cdkTreeNodePaddingIndent\", \"indent\"]\n      }\n    });\n  }\n  return CdkTreeNodePadding;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CdkTreeNodeToggle = /*#__PURE__*/(() => {\n  class CdkTreeNodeToggle {\n    _tree = inject(CdkTree);\n    _treeNode = inject(CdkTreeNode);\n    recursive = false;\n    constructor() {}\n    _toggle() {\n      this.recursive ? this._tree.toggleDescendants(this._treeNode.data) : this._tree.toggle(this._treeNode.data);\n      this._tree._keyManager.focusItem(this._treeNode);\n    }\n    static fac = function CdkTreeNodeToggle_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTreeNodeToggle)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: CdkTreeNodeToggle,\n      selectors: [[\"\", \"cdkTreeNodeToggle\", \"\"]],\n      hostAttrs: [\"tabindex\", \"-1\"],\n      hostBindings: function CdkTreeNodeToggle_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function CdkTreeNodeToggle_click_HostBindingHandler($event) {\n            ctx._toggle();\n            return $event.stopPropagation();\n          })(\"keydown.Enter\", function CdkTreeNodeToggle_keydown_Enter_HostBindingHandler($event) {\n            ctx._toggle();\n            return $event.preventDefault();\n          })(\"keydown.Space\", function CdkTreeNodeToggle_keydown_Space_HostBindingHandler($event) {\n            ctx._toggle();\n            return $event.preventDefault();\n          });\n        }\n      },\n      inputs: {\n        recursive: [2, \"cdkTreeNodeToggleRecursive\", \"recursive\", booleanAttribute]\n      }\n    });\n  }\n  return CdkTreeNodeToggle;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst EXPORTED_DECLARATIONS = [CdkNestedTreeNode, CdkTreeNodeDef, CdkTreeNodePadding, CdkTreeNodeToggle, CdkTree, CdkTreeNode, CdkTreeNodeOutlet];\nlet CdkTreeModule = /*#__PURE__*/(() => {\n  class CdkTreeModule {\n    static fac = function CdkTreeModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkTreeModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: CdkTreeModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({});\n  }\n  return CdkTreeModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { BaseTreeControl, CDK_TREE_NODE_OUTLET_NODE, CdkNestedTreeNode, CdkTree, CdkTreeModule, CdkTreeNode, CdkTreeNodeDef, CdkTreeNodeOutlet, CdkTreeNodeOutletContext, CdkTreeNodePadding, CdkTreeNodeToggle, FlatTreeControl, NestedTreeControl, getMultipleTreeControlsError, getTreeControlMissingError, getTreeMissingMatchingNodeDefError, getTreeMultipleDefaultNodeDefsError, getTreeNoValidDataSourceError };\n","import { CdkTreeNode, CdkTreeNodeDef, CdkNestedTreeNode, CDK_TREE_NODE_OUTLET_NODE, CdkTreeNodePadding, CdkTreeNodeOutlet, CdkTree, CdkTreeNodeToggle, CdkTreeModule } from '@angular/cdk/tree';\nimport * as i0 from '@angular/core';\nimport { inject, HostAttributeToken, numberAttribute, booleanAttribute, Directive, Input, ViewContainerRef, Component, ViewEncapsulation, ChangeDetectionStrategy, ViewChild, NgModule } from '@angular/core';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { DataSource } from '@angular/cdk/collections';\nimport { BehaviorSubject, merge } from 'rxjs';\nimport { take, map } from 'rxjs/operators';\nfunction isNoopTreeKeyManager(keyManager) {\n  return !!keyManager._isNoopTreeKeyManager;\n}\nlet MatTreeNode = /*#__PURE__*/(() => {\n  class MatTreeNode extends CdkTreeNode {\n    get tabIndexInputBinding() {\n      return this._tabIndexInputBinding;\n    }\n    set tabIndexInputBinding(value) {\n      this._tabIndexInputBinding = value;\n    }\n    _tabIndexInputBinding;\n    defaultTabIndex = 0;\n    _getTabindexAttribute() {\n      if (isNoopTreeKeyManager(this._tree._keyManager)) {\n        return this.tabIndexInputBinding;\n      }\n      return this._tabindex;\n    }\n    get disabled() {\n      return this.isDisabled;\n    }\n    set disabled(value) {\n      this.isDisabled = value;\n    }\n    constructor() {\n      super();\n      const tabIndex = inject(new HostAttributeToken('tabindex'), {\n        optional: true\n      });\n      this.tabIndexInputBinding = Number(tabIndex) || this.defaultTabIndex;\n    }\n    ngOnInit() {\n      super.ngOnInit();\n    }\n    ngOnDestroy() {\n      super.ngOnDestroy();\n    }\n    static fac = function MatTreeNode_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTreeNode)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatTreeNode,\n      selectors: [[\"mat-tree-node\"]],\n      hostAttrs: [1, \"mat-tree-node\"],\n      hostVars: 5,\n      hostBindings: function MatTreeNode_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"click\", function MatTreeNode_click_HostBindingHandler() {\n            return ctx._focusItem();\n          });\n        }\n        if (rf & 2) {\n          i0.domProperty(\"tabIndex\", ctx._getTabindexAttribute());\n          i0.attribute(\"aria-expanded\", ctx._getAriaExpanded())(\"aria-level\", ctx.level + 1)(\"aria-posinset\", ctx._getPositionInSet())(\"aria-setsize\", ctx._getSetSize());\n        }\n      },\n      inputs: {\n        tabIndexInputBinding: [2, \"tabIndex\", \"tabIndexInputBinding\", value => value == null ? 0 : numberAttribute(value)],\n        disabled: [2, \"disabled\", \"disabled\", booleanAttribute]\n      },\n      outputs: {\n        activation: \"activation\",\n        expandedChange: \"expandedChange\"\n      },\n      exportAs: [\"matTreeNode\"],\n      features: [i0.ProvidersFeature([{\n        provide: CdkTreeNode,\n        useExisting: MatTreeNode\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatTreeNode;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTreeNodeDef = /*#__PURE__*/(() => {\n  class MatTreeNodeDef extends CdkTreeNodeDef {\n    data;\n    static fac = /* @__PURE__ */(() => {\n      let MatTreeNodeDef_BaseFactory;\n      return function MatTreeNodeDef_Factory(__ngFactoryType__) {\n        return (MatTreeNodeDef_BaseFactory || (MatTreeNodeDef_BaseFactory = i0.getInheritedFactory(MatTreeNodeDef)))(__ngFactoryType__ || MatTreeNodeDef);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatTreeNodeDef,\n      selectors: [[\"\", \"matTreeNodeDef\", \"\"]],\n      inputs: {\n        when: [0, \"matTreeNodeDefWhen\", \"when\"],\n        data: [0, \"matTreeNode\", \"data\"]\n      },\n      features: [i0.ProvidersFeature([{\n        provide: CdkTreeNodeDef,\n        useExisting: MatTreeNodeDef\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatTreeNodeDef;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatNestedTreeNode = /*#__PURE__*/(() => {\n  class MatNestedTreeNode extends CdkNestedTreeNode {\n    node;\n    get disabled() {\n      return this.isDisabled;\n    }\n    set disabled(value) {\n      this.isDisabled = value;\n    }\n    get tabIndex() {\n      return this.isDisabled ? -1 : this._tabIndex;\n    }\n    set tabIndex(value) {\n      this._tabIndex = value;\n    }\n    _tabIndex;\n    ngOnInit() {\n      super.ngOnInit();\n    }\n    ngAfterContentInit() {\n      super.ngAfterContentInit();\n    }\n    ngOnDestroy() {\n      super.ngOnDestroy();\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatNestedTreeNode_BaseFactory;\n      return function MatNestedTreeNode_Factory(__ngFactoryType__) {\n        return (MatNestedTreeNode_BaseFactory || (MatNestedTreeNode_BaseFactory = i0.getInheritedFactory(MatNestedTreeNode)))(__ngFactoryType__ || MatNestedTreeNode);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatNestedTreeNode,\n      selectors: [[\"mat-nested-tree-node\"]],\n      hostAttrs: [1, \"mat-nested-tree-node\"],\n      inputs: {\n        node: [0, \"matNestedTreeNode\", \"node\"],\n        disabled: [2, \"disabled\", \"disabled\", booleanAttribute],\n        tabIndex: [2, \"tabIndex\", \"tabIndex\", value => value == null ? 0 : numberAttribute(value)]\n      },\n      outputs: {\n        activation: \"activation\",\n        expandedChange: \"expandedChange\"\n      },\n      exportAs: [\"matNestedTreeNode\"],\n      features: [i0.ProvidersFeature([{\n        provide: CdkNestedTreeNode,\n        useExisting: MatNestedTreeNode\n      }, {\n        provide: CdkTreeNode,\n        useExisting: MatNestedTreeNode\n      }, {\n        provide: CDK_TREE_NODE_OUTLET_NODE,\n        useExisting: MatNestedTreeNode\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatNestedTreeNode;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTreeNodePadding = /*#__PURE__*/(() => {\n  class MatTreeNodePadding extends CdkTreeNodePadding {\n    get level() {\n      return this._level;\n    }\n    set level(value) {\n      this._setLevelInput(value);\n    }\n    get indent() {\n      return this._indent;\n    }\n    set indent(indent) {\n      this._setIndentInput(indent);\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatTreeNodePadding_BaseFactory;\n      return function MatTreeNodePadding_Factory(__ngFactoryType__) {\n        return (MatTreeNodePadding_BaseFactory || (MatTreeNodePadding_BaseFactory = i0.getInheritedFactory(MatTreeNodePadding)))(__ngFactoryType__ || MatTreeNodePadding);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatTreeNodePadding,\n      selectors: [[\"\", \"matTreeNodePadding\", \"\"]],\n      inputs: {\n        level: [2, \"matTreeNodePadding\", \"level\", numberAttribute],\n        indent: [0, \"matTreeNodePaddingIndent\", \"indent\"]\n      },\n      features: [i0.ProvidersFeature([{\n        provide: CdkTreeNodePadding,\n        useExisting: MatTreeNodePadding\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatTreeNodePadding;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTreeNodeOutlet = /*#__PURE__*/(() => {\n  class MatTreeNodeOutlet {\n    viewContainer = inject(ViewContainerRef);\n    _node = inject(CDK_TREE_NODE_OUTLET_NODE, {\n      optional: true\n    });\n    static fac = function MatTreeNodeOutlet_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTreeNodeOutlet)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatTreeNodeOutlet,\n      selectors: [[\"\", \"matTreeNodeOutlet\", \"\"]],\n      features: [i0.ProvidersFeature([{\n        provide: CdkTreeNodeOutlet,\n        useExisting: MatTreeNodeOutlet\n      }])]\n    });\n  }\n  return MatTreeNodeOutlet;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTree = /*#__PURE__*/(() => {\n  class MatTree extends CdkTree {\n    _nodeOutlet = undefined;\n    static fac = /* @__PURE__ */(() => {\n      let MatTree_BaseFactory;\n      return function MatTree_Factory(__ngFactoryType__) {\n        return (MatTree_BaseFactory || (MatTree_BaseFactory = i0.getInheritedFactory(MatTree)))(__ngFactoryType__ || MatTree);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatTree,\n      selectors: [[\"mat-tree\"]],\n      viewQuery: function MatTree_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(MatTreeNodeOutlet, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._nodeOutlet = _t.first);\n        }\n      },\n      hostAttrs: [1, \"mat-tree\"],\n      exportAs: [\"matTree\"],\n      features: [i0.ProvidersFeature([{\n        provide: CdkTree,\n        useExisting: MatTree\n      }]), i0.InheritDefinitionFeature],\n      decls: 1,\n      vars: 0,\n      consts: [[\"matTreeNodeOutlet\", \"\"]],\n      template: function MatTree_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.elementContainer(0, 0);\n        }\n      },\n      dependencies: [MatTreeNodeOutlet],\n      styles: [\".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}\\n\"],\n      encapsulation: 2\n    });\n  }\n  return MatTree;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatTreeNodeToggle = /*#__PURE__*/(() => {\n  class MatTreeNodeToggle extends CdkTreeNodeToggle {\n    static fac = /* @__PURE__ */(() => {\n      let MatTreeNodeToggle_BaseFactory;\n      return function MatTreeNodeToggle_Factory(__ngFactoryType__) {\n        return (MatTreeNodeToggle_BaseFactory || (MatTreeNodeToggle_BaseFactory = i0.getInheritedFactory(MatTreeNodeToggle)))(__ngFactoryType__ || MatTreeNodeToggle);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatTreeNodeToggle,\n      selectors: [[\"\", \"matTreeNodeToggle\", \"\"]],\n      inputs: {\n        recursive: [0, \"matTreeNodeToggleRecursive\", \"recursive\"]\n      },\n      features: [i0.ProvidersFeature([{\n        provide: CdkTreeNodeToggle,\n        useExisting: MatTreeNodeToggle\n      }]), i0.InheritDefinitionFeature]\n    });\n  }\n  return MatTreeNodeToggle;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_TREE_DIRECTIVES = [MatNestedTreeNode, MatTreeNodeDef, MatTreeNodePadding, MatTreeNodeToggle, MatTree, MatTreeNode, MatTreeNodeOutlet];\nlet MatTreeModule = /*#__PURE__*/(() => {\n  class MatTreeModule {\n    static fac = function MatTreeModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatTreeModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: MatTreeModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({\n      imports: [CdkTreeModule, BidiModule]\n    });\n  }\n  return MatTreeModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass MatTreeFlattener {\n  transformFunction;\n  getLevel;\n  isExpandable;\n  getChildren;\n  constructor(transformFunction, getLevel, isExpandable, getChildren) {\n    this.transformFunction = transformFunction;\n    this.getLevel = getLevel;\n    this.isExpandable = isExpandable;\n    this.getChildren = getChildren;\n  }\n  _flattenNode(node, level, resultNodes, parentMap) {\n    const flatNode = this.transformFunction(node, level);\n    resultNodes.push(flatNode);\n    if (this.isExpandable(flatNode)) {\n      const childrenNodes = this.getChildren(node);\n      if (childrenNodes) {\n        if (Array.isArray(childrenNodes)) {\n          this._flattenChildren(childrenNodes, level, resultNodes, parentMap);\n        } else {\n          childrenNodes.pipe(take(1)).subscribe(children => {\n            this._flattenChildren(children, level, resultNodes, parentMap);\n          });\n        }\n      }\n    }\n    return resultNodes;\n  }\n  _flattenChildren(children, level, resultNodes, parentMap) {\n    children.forEach((child, index) => {\n      let childParentMap = parentMap.slice();\n      childParentMap.push(index != children.length - 1);\n      this._flattenNode(child, level + 1, resultNodes, childParentMap);\n    });\n  }\n  flattenNodes(structuredData) {\n    let resultNodes = [];\n    structuredData.forEach(node => this._flattenNode(node, 0, resultNodes, []));\n    return resultNodes;\n  }\n  expandFlattenedNodes(nodes, treeControl) {\n    let results = [];\n    let currentExpand = [];\n    currentExpand[0] = true;\n    nodes.forEach(node => {\n      let expand = true;\n      for (let i = 0; i <= this.getLevel(node); i++) {\n        expand = expand && currentExpand[i];\n      }\n      if (expand) {\n        results.push(node);\n      }\n      if (this.isExpandable(node)) {\n        currentExpand[this.getLevel(node) + 1] = treeControl.isExpanded(node);\n      }\n    });\n    return results;\n  }\n}\nclass MatTreeFlatDataSource extends DataSource {\n  _treeControl;\n  _treeFlattener;\n  _flattenedData = /*#__PURE__*/new BehaviorSubject([]);\n  _expandedData = /*#__PURE__*/new BehaviorSubject([]);\n  get data() {\n    return this._data.value;\n  }\n  set data(value) {\n    this._data.next(value);\n    this._flattenedData.next(this._treeFlattener.flattenNodes(this.data));\n    this._treeControl.dataNodes = this._flattenedData.value;\n  }\n  _data = /*#__PURE__*/new BehaviorSubject([]);\n  constructor(_treeControl, _treeFlattener, initialData) {\n    super();\n    this._treeControl = _treeControl;\n    this._treeFlattener = _treeFlattener;\n    if (initialData) {\n      this.data = initialData;\n    }\n  }\n  connect(collectionViewer) {\n    return merge(collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._flattenedData).pipe(map(() => {\n      this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value, this._treeControl));\n      return this._expandedData.value;\n    }));\n  }\n  disconnect() {}\n}\nclass MatTreeNestedDataSource extends DataSource {\n  get data() {\n    return this._data.value;\n  }\n  set data(value) {\n    this._data.next(value);\n  }\n  _data = /*#__PURE__*/new BehaviorSubject([]);\n  connect(collectionViewer) {\n    return merge(...[collectionViewer.viewChange, this._data]).pipe(map(() => this.data));\n  }\n  disconnect() {}\n}\nexport { MatNestedTreeNode, MatTree, MatTreeFlatDataSource, MatTreeFlattener, MatTreeModule, MatTreeNestedDataSource, MatTreeNode, MatTreeNodeDef, MatTreeNodeOutlet, MatTreeNodePadding, MatTreeNodeToggle };\n","import { Component, input } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ClickStopPropagationDirective } from '../../../../shared/directives/click-stop-propagation.directive';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n    selector: 'app-picker-help',\r\n    imports: [\r\n        MatIconModule,\r\n        TippyDirective,\r\n        ClickStopPropagationDirective,\r\n    ],\r\n    templateUrl: './picker-icon-help.html'\r\n})\r\nexport class PickerIconHelpComponent {\r\n  helpLink = input<string>();\r\n\r\n  goToLink(): void {\r\n    window.open(this.helpLink(), '_blank');\r\n  }\r\n}\r\n","@if (helpLink()) {\r\n  <mat-icon (click)=\"goToLink()\" [tippy]=\"helpLink()\" appClickStopPropagation>open_in_new</mat-icon>\r\n}","import { Component, input } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ClickStopPropagationDirective } from '../../../../shared/directives/click-stop-propagation.directive';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n    selector: 'app-picker-icon-info',\r\n    imports: [\r\n        MatIconModule,\r\n        TippyDirective,\r\n        ClickStopPropagationDirective,\r\n    ],\r\n    templateUrl: './picker-icon-info.html'\r\n})\r\nexport class PickerIconInfoComponent {\r\n  infoBox = input<string>();\r\n}\r\n","@if (infoBox()) {\r\n  <mat-icon [tippy]=\"infoBox()\" [tippyAllowHtml]=\"true\" [tippyArrow]=\"true\" tippyFontSize=\"larger\" appClickStopPropagation>\r\n    info\r\n  </mat-icon>\r\n}\r\n","import { isPlatformServer, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, PLATFORM_ID, ElementRef, Component, Inject, Input, ViewChild, isDevMode, Injectable, TemplateRef, Directive, NgModule } from '@angular/core';\nimport tippy, { hideAll, createSingleton } from 'tippy.js';\nimport { Subject } from 'rxjs';\nconst _c0 = [\"contentWrapper\"];\nconst _c1 = [\"*\"];\nconst messagesDict = {\n  instanceAlreadyExist: `Instance with name #tippyName already exist, please pick unique [tippyName]`,\n  instanceNotExist: `Instance with name #tippyName does not exist`,\n  childrenInstancesNotFoundGrouped: `No children tippy instances found within 'ngx-tippy-group' component`,\n  childrenInstancesNotFoundSingleton: `No children tippy instances found within 'ngx-tippy-singleton' component`,\n  singletonInstanceAlreadyExist: `Singleton instance with name #singletonName already exist, please pick unique [singletonName]`\n};\nconst tippyFakeInstance = {\n  clearDelayTimeouts: () => {},\n  destroy: () => {},\n  disable: () => {},\n  enable: () => {},\n  hide: () => {},\n  hideWithInteractivity: () => {},\n  id: 0,\n  plugins: [{\n    name: 'followCursor',\n    defaultValue: false\n  }],\n  popper: {\n    state: {}\n  },\n  popperInstance: {},\n  props: {},\n  reference: {},\n  setContent: () => {},\n  setProps: () => {},\n  show: () => {},\n  state: {\n    isEnabled: true,\n    isVisible: true,\n    isDestroyed: false,\n    isMounted: true,\n    isShown: false\n  },\n  unmount: () => {}\n};\nconst NGX_TIPPY_MESSAGES = /*#__PURE__*/new InjectionToken('NGX_TIPPY_MESSAGES', {\n  providedIn: 'root',\n  factory: () => messagesDict\n});\nconst TIPPY_FAKE_INSTANCE = /*#__PURE__*/new InjectionToken('TIPPY_FAKE_INSTANCE', {\n  providedIn: 'root',\n  factory: () => tippyFakeInstance\n});\nconst NGX_TIPPY_CONFIG = /*#__PURE__*/new InjectionToken('NGX_TIPPY_CONFIG', {\n  providedIn: 'root',\n  factory: () => ({})\n});\n\n/**\n * Different tooltip content to many different elements, but only one tippy instance\n */\nlet NgxTippyGroupComponent = /*#__PURE__*/(() => {\n  class NgxTippyGroupComponent {\n    constructor(platform, messagesDict, ngxTippyConfig) {\n      this.platform = platform;\n      this.messagesDict = messagesDict;\n      this.ngxTippyConfig = ngxTippyConfig;\n    }\n    ngAfterViewInit() {\n      if (isPlatformServer(this.platform)) return;\n      this.setTooltips();\n    }\n    setTooltips() {\n      const contentWrapperNativeEl = this.contentWrapper.nativeElement;\n      const tooltips = Array.from(contentWrapperNativeEl.querySelectorAll('[data-tippy-grouped]'));\n      if (tooltips.length) {\n        this.initTippy(tooltips);\n      } else {\n        throw new Error(this.messagesDict.childrenInstancesNotFoundGrouped);\n      }\n    }\n    initTippy(tooltips) {\n      tippy(tooltips, {\n        ...this.ngxTippyConfig,\n        ...this.groupedProps\n      });\n    }\n  }\n  NgxTippyGroupComponent.fac = function NgxTippyGroupComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxTippyGroupComponent)(i0.directiveInject(PLATFORM_ID), i0.directiveInject(NGX_TIPPY_MESSAGES), i0.directiveInject(NGX_TIPPY_CONFIG));\n  };\n  NgxTippyGroupComponent.cmp = /* @__PURE__ */i0.defineComponent({\n    type: NgxTippyGroupComponent,\n    selectors: [[\"ngx-tippy-group\"]],\n    viewQuery: function NgxTippyGroupComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.viewQuery(_c0, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.queryRefresh(_t = i0.loadQuery()) && (ctx.contentWrapper = _t.first);\n      }\n    },\n    inputs: {\n      groupedProps: \"groupedProps\"\n    },\n    standalone: false,\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 0,\n    consts: [[\"contentWrapper\", \"\"]],\n    template: function NgxTippyGroupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.projectionDef();\n        i0.elementStart(0, \"div\", null, 0);\n        i0.projection(2);\n        i0.elementEnd();\n      }\n    },\n    encapsulation: 2\n  });\n  return NgxTippyGroupComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DevModeService = /*#__PURE__*/(() => {\n  class DevModeService {\n    isDevMode() {\n      return isDevMode();\n    }\n  }\n  DevModeService.fac = function DevModeService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DevModeService)();\n  };\n  DevModeService.prov = /* @__PURE__ */i0.defineInjectable({\n    token: DevModeService,\n    factory: DevModeService.fac,\n    providedIn: 'root'\n  });\n  return DevModeService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar InstanceChangeReasonEnum = /*#__PURE__*/function (InstanceChangeReasonEnum) {\n  InstanceChangeReasonEnum[\"SetInstance\"] = \"setInstance\";\n  InstanceChangeReasonEnum[\"Show\"] = \"show\";\n  InstanceChangeReasonEnum[\"Hide\"] = \"hide\";\n  InstanceChangeReasonEnum[\"HideWithInteractivity\"] = \"hideWithInteractivity\";\n  InstanceChangeReasonEnum[\"Disable\"] = \"disable\";\n  InstanceChangeReasonEnum[\"Enable\"] = \"enable\";\n  InstanceChangeReasonEnum[\"SetProps\"] = \"setProps\";\n  InstanceChangeReasonEnum[\"SetContent\"] = \"setContent\";\n  InstanceChangeReasonEnum[\"Unmount\"] = \"unmount\";\n  InstanceChangeReasonEnum[\"ClearDelayTimeouts\"] = \"clearDelayTimeouts\";\n  InstanceChangeReasonEnum[\"Destroy\"] = \"destroy\";\n  return InstanceChangeReasonEnum;\n}(InstanceChangeReasonEnum || {});\nvar NgxTippyNamesEnum = /*#__PURE__*/function (NgxTippyNamesEnum) {\n  NgxTippyNamesEnum[\"TippyName\"] = \"tippyName\";\n  NgxTippyNamesEnum[\"SingletonName\"] = \"singletonName\";\n  return NgxTippyNamesEnum;\n}(NgxTippyNamesEnum || {});\nclass CompRef {\n  constructor(args) {\n    this.args = args;\n    this.compRef = this.args.viewContainerRef.createComponent(this.args.component);\n  }\n  detectChanges() {\n    this.compRef?.changeDetectorRef.detectChanges();\n    return this;\n  }\n  getElement() {\n    return this.compRef?.location.nativeElement;\n  }\n  destroy() {\n    this.compRef?.destroy();\n    this.compRef = null;\n  }\n}\nconst isComponent = value => typeof value === 'function';\nconst isHTMLTemplate = value => value instanceof HTMLTemplateElement;\nconst isTemplateRef = value => value instanceof TemplateRef;\n\n/**\n * Set display: \"block\" for content wrapper element\n *\n * @param tippyContent  { NgxTippyContent }\n * @param renderer { Renderer2 }\n */\nconst setTemplateVisible = (tippyContent, renderer) => {\n  tippyContent && tippyContent instanceof Element && renderer.setStyle(tippyContent, 'display', 'block');\n};\nclass TplRef {\n  constructor(args) {\n    this.args = args;\n    this.viewRef = this.args.tpl.createEmbeddedView(this.args.context || {});\n    this.viewRef.detectChanges();\n    this.args.appRef.attachView(this.viewRef);\n  }\n  detectChanges() {\n    this.viewRef?.detectChanges();\n    return this;\n  }\n  getElement() {\n    if (!this.viewRef) return null;\n    const rootNodes = this.viewRef.rootNodes;\n    if (rootNodes.length === 1 && rootNodes[0].nodeType === Node.ELEMENT_NODE) {\n      this.element = rootNodes[0];\n    } else {\n      this.element = document.createElement('div');\n      this.element.append(...rootNodes);\n    }\n    return this.element;\n  }\n  destroy() {\n    if (!this.viewRef) return;\n    if (this.viewRef.rootNodes[0] !== 1) {\n      this.element?.parentNode?.removeChild(this.element);\n      this.element = null;\n    }\n    this.viewRef.destroy();\n    this.viewRef = null;\n  }\n}\nlet NgxViewService = /*#__PURE__*/(() => {\n  class NgxViewService {\n    constructor(appRef) {\n      this.appRef = appRef;\n    }\n    getViewRefInstance(content, tippyName, tippyContext = {}) {\n      let viewRef;\n      if (isTemplateRef(content)) {\n        tippyContext.$implicit = tippyName;\n        viewRef = this.createTemplate(content, tippyContext);\n      } else if (isComponent(content)) {\n        viewRef = this.createComponent(content);\n      } else if (isHTMLTemplate(content)) {\n        viewRef = {\n          getElement: () => content.content\n        };\n      } else {\n        viewRef = {\n          getElement: () => content\n        };\n      }\n      return viewRef;\n    }\n    createTemplate(tpl, context) {\n      return new TplRef({\n        tpl,\n        context,\n        appRef: this.appRef\n      });\n    }\n    createComponent(component) {\n      return new CompRef({\n        component,\n        viewContainerRef: this.viewContainerRef\n      });\n    }\n  }\n  NgxViewService.fac = function NgxViewService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxViewService)(i0.inject(i0.ApplicationRef));\n  };\n  NgxViewService.prov = /* @__PURE__ */i0.defineInjectable({\n    token: NgxViewService,\n    factory: NgxViewService.fac,\n    providedIn: 'root'\n  });\n  return NgxViewService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NgxTippyService = /*#__PURE__*/(() => {\n  class NgxTippyService {\n    constructor(rendererFactory, devModeService, ngxViewService, messagesDict) {\n      this.devModeService = devModeService;\n      this.ngxViewService = ngxViewService;\n      this.messagesDict = messagesDict;\n      this.tippyInstances = new Map();\n      this.tippySingletonEntryInstances = new Map();\n      this.tippyInstances$ = new Subject();\n      this.createRenderer(rendererFactory);\n    }\n    /**\n     * Working with storage\n     */\n    /**\n     * Write tippy instances to storage\n     *\n     * @param name { string } name of tippy instance\n     * @param state { NgxTippyInstance } tippy instance\n     */\n    setInstance(name, state) {\n      const instance = this.tippyInstances.get(name);\n      if (instance) {\n        const errMessage = this.getMessage({\n          reason: 'instanceAlreadyExist',\n          messageFor: NgxTippyNamesEnum.TippyName,\n          name\n        });\n        this.throwError(errMessage);\n      } else {\n        this.tippyInstances.set(name, state);\n        this.emitInstancesChange({\n          name,\n          reason: InstanceChangeReasonEnum.SetInstance,\n          instance: state\n        });\n      }\n    }\n    /**\n     * Get specific tippy instance\n     *\n     * @param name { string } name of tippy instance\n     * @returns { NgxTippyInstance | null } specific tippy instance or null\n     */\n    getInstance(name) {\n      return this.tippyInstances.has(name) ? this.tippyInstances.get(name) : null;\n    }\n    /**\n     * Get all tippy instances from storage\n     *\n     * @returns { Map<string, NgxTippyInstance> | null } all tippy instances or null\n     */\n    getInstances() {\n      return this.tippyInstances.size ? this.tippyInstances : null;\n    }\n    /**\n     * Write singleton instances to storage\n     *\n     * @param name { string } name of tippy instance\n     * @param state { NgxTippyInstance } tippy instance\n     */\n    setSingletonInstance(name, state) {\n      if (this.tippySingletonEntryInstances.has(name)) {\n        const errMessage = this.getMessage({\n          reason: 'singletonInstanceAlreadyExist',\n          messageFor: NgxTippyNamesEnum.SingletonName,\n          name\n        });\n        this.throwError(errMessage);\n      } else {\n        this.tippySingletonEntryInstances.set(name, state);\n      }\n    }\n    /**\n     * Get specific singleton tippy instance\n     *\n     * @param name { string } name of singleton tippy instance\n     * @returns { NgxTippySingletonInstance | null } specific singleton tippy instance or null\n     */\n    getSingletonInstance(name) {\n      return this.tippySingletonEntryInstances.has(name) ? this.tippySingletonEntryInstances.get(name) : null;\n    }\n    /**\n     * Get all singleton tippy instances\n     *\n     * @returns { Map<string, NgxTippyInstance> | null } all singleton tippy instances or null\n     */\n    getSingletonInstances() {\n      return this.tippySingletonEntryInstances.size ? this.tippySingletonEntryInstances : null;\n    }\n    /**\n     * Working with tippy instance methods\n     */\n    /**\n     * Programmatically show the tippy\n     *\n     * @param name { string } name of tippy instance\n     */\n    show(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.Show);\n    }\n    /**\n     * Programmatically hide the tippy\n     *\n     * @param name { string } name of tippy instance\n     */\n    hide(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.Hide);\n    }\n    /**\n     * Will hide the tippy only if the cursor is outside of the tippy's interactive region\n     * This allows you to programmatically hook into interactive behavior upon a mouseleave event if implementing custom event listeners\n     *\n     * @param name { string } name of tippy instance\n     * @param name { mouseEvent } pass the mouse event object in from your event listener\n     */\n    hideWithInteractivity(name, mouseEvent) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.HideWithInteractivity, mouseEvent);\n    }\n    /**\n     * Prevent a tippy from showing or hiding\n     *\n     * @param name { string } name of tippy instance\n     */\n    disable(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.Disable);\n    }\n    /**\n     * Re-enable a tippy\n     *\n     * @param name { string } name of tippy instance\n     */\n    enable(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.Enable);\n    }\n    /**\n     * Update any tippy props\n     *\n     * @param name { string } name of tippy instance\n     * @param tippyProps { NgxTippyProps } new props\n     */\n    setProps(name, tippyProps) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.SetProps, tippyProps);\n    }\n    /**\n     * Update the content for tippy\n     *\n     * @param name { string } name of tippy instance\n     * @param tippyContent { NgxTippyContent } new content\n     */\n    setContent(name, tippyContent, tippyContext) {\n      const instance = this.getInstance(name);\n      if (!instance) {\n        this.throwErrorInstanceNotExist(name);\n        return;\n      }\n      if (tippyContent) {\n        const viewRef = this.ngxViewService.getViewRefInstance(tippyContent, instance.tippyName, tippyContext);\n        const content = viewRef.getElement();\n        if (content) {\n          setTemplateVisible(content, this.renderer);\n          instance.setContent(content);\n          instance.viewRef = viewRef;\n          this.emitInstancesChange({\n            name,\n            reason: 'setContent',\n            instance\n          });\n        } else {\n          this.throwError('message');\n        }\n      }\n    }\n    /**\n     * Unmount the tippy from the DOM\n     *\n     * @param name { string } name of tippy instance\n     */\n    unmount(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.Unmount);\n    }\n    /**\n     * Clears the instances delay timeouts\n     *\n     * @param name { string } name of tippy instance\n     */\n    clearDelayTimeouts(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.ClearDelayTimeouts);\n    }\n    /**\n     * Permanently destroy and clean up the tippy instance\n     *\n     * @param name { string } name of tippy instance\n     */\n    destroy(name) {\n      this.callNativeTippyMethod(name, InstanceChangeReasonEnum.Destroy);\n      this.tippyInstances.delete(name);\n    }\n    /** Working with tippy static methods */\n    /**\n     * Set the default props for each new tippy instance\n     *\n     * @param tippyProps { NgxTippyDefaultProps } default props\n     */\n    setDefaultProps(tippyProps) {\n      tippy.setDefaultProps(tippyProps);\n    }\n    /**\n     * Show all tippies\n     */\n    showAll() {\n      this.tippyInstances.forEach((instance, name) => {\n        instance.show();\n        this.emitInstancesChange({\n          name,\n          reason: 'show',\n          instance\n        });\n      });\n    }\n    /**\n     * Hide all tippies or hide all except a particular one\n     * Additional hide them with duration\n     *\n     * @param { NgxTippyHideAllOptions } [options] - additional hiding options\n     */\n    hideAll(options) {\n      const exclude = this.getInstance(options?.excludeName || '');\n      const duration = options?.duration;\n      hideAll({\n        duration,\n        ...exclude\n      });\n    }\n    /**\n     * Subscription to change of tippy instances\n     *\n     * @returns { Observable<InstancesChanges> } observable of tippy instances change\n     */\n    get instancesChanges() {\n      return this.tippyInstances$.asObservable();\n    }\n    /**\n     * Service methods\n     */\n    callNativeTippyMethod(name, method, arg) {\n      const instance = this.getInstance(name);\n      if (instance) {\n        instance[method](arg);\n        this.emitInstancesChange({\n          name,\n          reason: method,\n          instance\n        });\n      } else {\n        this.throwErrorInstanceNotExist(name);\n      }\n    }\n    emitInstancesChange({\n      name,\n      reason,\n      instance\n    }) {\n      this.tippyInstances$.next({\n        name,\n        reason,\n        instance\n      });\n    }\n    createRenderer(rendererFactory) {\n      this.renderer = rendererFactory.createRenderer(null, null);\n    }\n    throwErrorInstanceNotExist(name) {\n      const errMessage = this.getMessage({\n        reason: 'instanceNotExist',\n        messageFor: NgxTippyNamesEnum.TippyName,\n        name\n      });\n      this.throwError(errMessage);\n    }\n    throwError(message, errorConstructor = Error) {\n      if (this.devModeService.isDevMode()) throw new errorConstructor(message);\n    }\n    getMessage({\n      reason,\n      messageFor,\n      name\n    }) {\n      return this.messagesDict[reason].replace(`#${messageFor}`, `'${name}'`);\n    }\n  }\n  NgxTippyService.fac = function NgxTippyService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxTippyService)(i0.inject(i0.RendererFactory2), i0.inject(DevModeService), i0.inject(NgxViewService), i0.inject(NGX_TIPPY_MESSAGES));\n  };\n  NgxTippyService.prov = /* @__PURE__ */i0.defineInjectable({\n    token: NgxTippyService,\n    factory: NgxTippyService.fac,\n    providedIn: 'root'\n  });\n  return NgxTippyService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Tippy singleton - single tippy element that takes the place of an array of regular tippy instances\n */\nlet NgxTippySingletonComponent = /*#__PURE__*/(() => {\n  class NgxTippySingletonComponent {\n    constructor(platform, ngxTippyService, messagesDict, ngxTippyConfig) {\n      this.platform = platform;\n      this.ngxTippyService = ngxTippyService;\n      this.messagesDict = messagesDict;\n      this.ngxTippyConfig = ngxTippyConfig;\n    }\n    ngAfterViewInit() {\n      if (isPlatformServer(this.platform)) return;\n      this.setSingleton();\n    }\n    ngOnDestroy() {\n      this.clearSingletonInstance();\n    }\n    /**\n     * Take projected in component tooltips element\n     * Take initiated tippy instances\n     * Initiate `singleton addon` only for projected tooltips for current component instance\n     */\n    setSingleton() {\n      const contentWrapperNativeEl = this.contentWrapper.nativeElement;\n      const singletonTooltipIDs = Array.from(contentWrapperNativeEl.querySelectorAll('[data-tippy-singleton]')).map(el => el._tippy.id);\n      const tippyInstances = this.ngxTippyService.getInstances();\n      const tippyInstancesSerialized = tippyInstances && [...tippyInstances.values()];\n      this.currentSingletonChildrenTippyInstances = tippyInstancesSerialized && tippyInstancesSerialized.filter(tippyInstance => singletonTooltipIDs.includes(tippyInstance.id));\n      if (this.currentSingletonChildrenTippyInstances?.length) {\n        this.initTippySingletonEntry(this.currentSingletonChildrenTippyInstances);\n      } else {\n        throw new Error(this.messagesDict.childrenInstancesNotFoundSingleton);\n      }\n    }\n    initTippySingletonEntry(childrenSingletonInstances) {\n      this.singletonInstance = createSingleton(childrenSingletonInstances, {\n        ...this.ngxTippyConfig,\n        ...this.singletonProps\n      });\n      this.writeSingletonInstanceToStorage(this.singletonInstance);\n    }\n    /**\n     * To manipulate singleton groups, write all instances to storage\n     * `singletonName` used as unique key\n     * If `singletonName` does not provided - it will be generated using id of singletonInstance\n     *\n     * @param tippyInstance { NgxTippySingletonInstance }\n     */\n    writeSingletonInstanceToStorage(singletonInstance) {\n      const extendedSingletonInstance = this.extendShowFn(singletonInstance);\n      this.ngxTippyService.setSingletonInstance(this.singletonName || `singleton-${singletonInstance.id}`, extendedSingletonInstance);\n    }\n    /**\n     * Extend original `show` method\n     * Purpose: manipulate tooltip state by [tippyName]\n     *\n     * @param singletonInstance { NgxTippySingletonInstance }\n     * @returns { NgxTippySingletonInstance }\n     */\n    extendShowFn(singletonInstance) {\n      const originalShowFn = singletonInstance.show;\n      singletonInstance.show = singletonInstanceIdentifier => {\n        if (typeof singletonInstanceIdentifier === 'string') {\n          const instance = this.ngxTippyService.getInstance(singletonInstanceIdentifier);\n          instance && originalShowFn(instance);\n        } else {\n          originalShowFn(singletonInstanceIdentifier);\n        }\n      };\n      return singletonInstance;\n    }\n    clearSingletonInstance() {\n      const singletonInstances = this.ngxTippyService.getSingletonInstances();\n      if (singletonInstances && this.singletonInstance) {\n        this.destroySingletonInstance();\n        this.deleteEntryInStorage(singletonInstances);\n      }\n    }\n    destroySingletonInstance() {\n      this.singletonInstance.destroy();\n    }\n    deleteEntryInStorage(singletonInstances) {\n      singletonInstances.delete(this.singletonName || `singleton-${this.singletonInstance.id}`);\n    }\n  }\n  NgxTippySingletonComponent.fac = function NgxTippySingletonComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxTippySingletonComponent)(i0.directiveInject(PLATFORM_ID), i0.directiveInject(NgxTippyService), i0.directiveInject(NGX_TIPPY_MESSAGES), i0.directiveInject(NGX_TIPPY_CONFIG));\n  };\n  NgxTippySingletonComponent.cmp = /* @__PURE__ */i0.defineComponent({\n    type: NgxTippySingletonComponent,\n    selectors: [[\"ngx-tippy-singleton\"]],\n    viewQuery: function NgxTippySingletonComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.viewQuery(_c0, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.queryRefresh(_t = i0.loadQuery()) && (ctx.contentWrapper = _t.first);\n      }\n    },\n    inputs: {\n      singletonProps: \"singletonProps\",\n      singletonName: \"singletonName\"\n    },\n    standalone: false,\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 0,\n    consts: [[\"contentWrapper\", \"\"]],\n    template: function NgxTippySingletonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.projectionDef();\n        i0.elementStart(0, \"div\", null, 0);\n        i0.projection(2);\n        i0.elementEnd();\n      }\n    },\n    encapsulation: 2\n  });\n  return NgxTippySingletonComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NgxTippyDirective = /*#__PURE__*/(() => {\n  class NgxTippyDirective {\n    constructor(tippyEl, renderer, ngxTippyService, ngxViewService, viewContainerRef, platform, ngxTippyConfig) {\n      this.tippyEl = tippyEl;\n      this.renderer = renderer;\n      this.ngxTippyService = ngxTippyService;\n      this.ngxViewService = ngxViewService;\n      this.viewContainerRef = viewContainerRef;\n      this.platform = platform;\n      this.ngxTippyConfig = ngxTippyConfig;\n      this.cachedInstances = new Map();\n    }\n    ngOnInit() {\n      if (isPlatformServer(this.platform)) return;\n      this.ngxViewService.viewContainerRef = this.viewContainerRef;\n      this.initTippy();\n    }\n    ngOnChanges(changes) {\n      this.handleChanges(changes);\n    }\n    ngOnDestroy() {\n      this.destroyTippy();\n    }\n    /**\n     * Tooltip initialize\n     * Content can be directly passed through `ngxTippy` selector\n     */\n    initTippy() {\n      const tippyTarget = this.tippyEl.nativeElement;\n      if (this.ngxTippy === null || this.ngxTippy === undefined) return;\n      const viewRef = this.ngxViewService.getViewRefInstance(this.ngxTippy, this.tippyName, this.tippyContext);\n      const tippyElement = viewRef.getElement();\n      const tInstance = tippy(tippyTarget, {\n        ...this.ngxTippyConfig,\n        ...(this.tippyProps || {}),\n        ...(tippyElement && {\n          content: tippyElement\n        })\n      });\n      this.tippyName = this.tippyName || `tippy-${tInstance.id}`;\n      setTemplateVisible(tippyElement, this.renderer);\n      this.setTippyInstance({\n        tippyTarget,\n        tippyName: this.tippyName,\n        viewRef\n      });\n      this.setClassName(this.tippyInstance, this.tippyClassName);\n      this.writeInstancesToStorage(this.tippyInstance, this.tippyName);\n    }\n    setTippyInstance({\n      tippyTarget,\n      tippyName,\n      viewRef\n    }) {\n      this.tippyInstance = {\n        ...tippyTarget._tippy,\n        tippyName,\n        viewRef\n      };\n    }\n    setClassName(tippyInstance, className) {\n      if (!className || !tippyInstance) return;\n      const classNames = className.split(' ');\n      classNames.length && classNames.forEach(className => {\n        this.renderer.addClass(tippyInstance.popper.firstElementChild, className);\n      });\n    }\n    removeClassName(tippyInstance, className) {\n      if (!className || !tippyInstance) return;\n      const classNames = className.split(' ');\n      classNames.length && classNames.forEach(className => {\n        this.renderer.removeClass(tippyInstance.popper.firstElementChild, className);\n      });\n    }\n    /**\n     * To manipulate tooltips, write all instances to storage\n     * `tippyName` used as unique key\n     * If `tippyName` does not provided - it will be generated using `tippyInstance.id`\n     *\n     * @param tippyInstance { NgxTippyInstance }\n     */\n    writeInstancesToStorage(tippyInstance, tippyName) {\n      tippyInstance && this.ngxTippyService.setInstance(tippyName, tippyInstance);\n    }\n    handleChanges({\n      tippyName,\n      ngxTippy,\n      tippyProps,\n      tippyClassName,\n      tippyContext\n    }) {\n      tippyName && !tippyName.firstChange && this.handleNameChanges(tippyName);\n      ngxTippy && !ngxTippy.firstChange && this.handleContentChanges(ngxTippy);\n      tippyProps && !tippyProps.firstChange && this.handlePropsChanges(tippyProps);\n      tippyClassName && !tippyClassName.firstChange && this.handleClassChanges(tippyClassName);\n      tippyContext && !tippyContext.firstChange && this.handleContextChanges(tippyContext);\n    }\n    handleNameChanges({\n      previousValue,\n      currentValue\n    }) {\n      const tippyInstances = this.cachedTippyInstances();\n      if (!tippyInstances || !this.tippyInstance) return;\n      this.deleteEntryInStorage(tippyInstances, previousValue);\n      this.tippyInstance = {\n        ...this.tippyInstance,\n        tippyName: currentValue\n      };\n      tippyInstances.set(currentValue, this.tippyInstance);\n    }\n    handleContentChanges({\n      currentValue\n    }) {\n      if (this.tippyInstance && this.tippyName) {\n        this.ngxTippyService.setContent(this.tippyName, currentValue);\n        if (currentValue === null || currentValue === undefined) {\n          this.ngxTippyService.disable(this.tippyName);\n        } else {\n          this.ngxTippyService.enable(this.tippyName);\n        }\n      } else {\n        this.initTippy();\n      }\n    }\n    handlePropsChanges({\n      currentValue\n    }) {\n      this.tippyName && this.ngxTippyService.setProps(this.tippyName, currentValue);\n    }\n    handleClassChanges({\n      previousValue,\n      currentValue\n    }) {\n      this.removeClassName(this.tippyInstance, previousValue);\n      this.setClassName(this.tippyInstance, currentValue);\n    }\n    handleContextChanges({\n      currentValue\n    }) {\n      if (this.tippyInstance && this.tippyName && this.ngxTippy) {\n        this.ngxTippyService.setContent(this.tippyName, this.ngxTippy, currentValue);\n      } else {\n        this.initTippy();\n      }\n    }\n    cachedTippyInstances() {\n      const tippyInstances = this.ngxTippyService.getInstances();\n      if (this.cachedInstances.has(tippyInstances)) {\n        return this.cachedInstances.get(tippyInstances);\n      } else {\n        this.cachedInstances.set(tippyInstances, tippyInstances);\n        return tippyInstances;\n      }\n    }\n    destroyTippy() {\n      const tippyInstances = this.cachedTippyInstances();\n      const tippyInstance = this.tippyInstance;\n      if (!tippyInstance || !tippyInstances) return;\n      this.clearInstance({\n        tippyInstance,\n        tippyInstances\n      });\n      this.resetLocalInstance();\n      this.clearCachedInstances();\n    }\n    clearInstance({\n      tippyInstance,\n      tippyInstances\n    }) {\n      const {\n        tippyName\n      } = tippyInstance;\n      this.clearViewRef(tippyInstance);\n      this.destroyTippyInstance(tippyInstance);\n      this.deleteEntryInStorage(tippyInstances, tippyName);\n    }\n    clearViewRef(tippyInstance) {\n      tippyInstance.viewRef?.destroy && tippyInstance.viewRef.destroy();\n    }\n    destroyTippyInstance(tippyInstance) {\n      tippyInstance.destroy();\n    }\n    deleteEntryInStorage(tippyInstances, tippyName) {\n      tippyInstances.delete(tippyName);\n    }\n    resetLocalInstance() {\n      this.tippyInstance = undefined;\n    }\n    clearCachedInstances() {\n      this.cachedInstances.clear();\n    }\n  }\n  NgxTippyDirective.fac = function NgxTippyDirective_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxTippyDirective)(i0.directiveInject(i0.ElementRef), i0.directiveInject(i0.Renderer2), i0.directiveInject(NgxTippyService), i0.directiveInject(NgxViewService), i0.directiveInject(i0.ViewContainerRef), i0.directiveInject(PLATFORM_ID), i0.directiveInject(NGX_TIPPY_CONFIG));\n  };\n  NgxTippyDirective.dir = /* @__PURE__ */i0.defineDirective({\n    type: NgxTippyDirective,\n    selectors: [[\"\", \"ngxTippy\", \"\"]],\n    inputs: {\n      ngxTippy: \"ngxTippy\",\n      tippyProps: \"tippyProps\",\n      tippyName: \"tippyName\",\n      tippyClassName: \"tippyClassName\",\n      tippyContext: \"tippyContext\"\n    },\n    standalone: false,\n    features: [i0.NgOnChangesFeature]\n  });\n  return NgxTippyDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NgxTippyModule = /*#__PURE__*/(() => {\n  class NgxTippyModule {}\n  NgxTippyModule.fac = function NgxTippyModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxTippyModule)();\n  };\n  NgxTippyModule.mod = /* @__PURE__ */i0.defineNgModule({\n    type: NgxTippyModule\n  });\n  NgxTippyModule.inj = /* @__PURE__ */i0.defineInjector({\n    imports: [CommonModule]\n  });\n  return NgxTippyModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of ngx-tippy-wrapper\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NGX_TIPPY_CONFIG, NgxTippyDirective, NgxTippyGroupComponent, NgxTippyModule, NgxTippyService, NgxTippySingletonComponent };\n","import { Component, computed, input } from '@angular/core';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { NgxTippyModule } from 'ngx-tippy-wrapper';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../../edit-types/src/PickerSources';\r\nimport { PickerItem } from '../models/picker-item.model';\r\n\r\nconst debug = false;\r\n\r\n/**\r\n * Preview as an image/icon of an item.\r\n */\r\n@Component({\r\n  selector: 'app-picker-item-preview',\r\n  templateUrl: './picker-item-preview.html',\r\n  styleUrl: './picker-item-preview.scss',\r\n  imports: [\r\n    MatIcon,\r\n    NgxTippyModule,\r\n  ]\r\n})\r\nexport class PickerItemPreviewComponent {\r\n\r\n  item = input.required<PickerItem>();\r\n\r\n  settings = input.required<FieldSettingsWithPickerSource>();\r\n\r\n  debugMessage = computed(() => {\r\n    if (!debug) return '';\r\n\r\n    const settings = this.settings();\r\n    const previewType = settings.PreviewType;\r\n\r\n    const item = this.item();\r\n\r\n    const msg = `Debug:: Preview type: ${previewType}; PreviewValue: '${item?.previewValue}'; Item: ${JSON.stringify(item)}`;\r\n    console.log('debug message', msg, item);\r\n    return '';\r\n  });\r\n\r\n  /** Remove the dot from the class name, as it would be wrong in the class-attribute. */\r\n  classWithoutDot(value: string): string {\r\n    return value?.replace(/\\./g, '');\r\n  }\r\n\r\n  imageResize(originalImage: string, width: number, height: number): string {\r\n\r\n    if (!originalImage) return originalImage;\r\n\r\n    // Remove w and h parameters completely\r\n    let optimizedImage = originalImage\r\n      .replace(/[\\?&]w=\\d+/g, '')  // Remove w parameter\r\n      .replace(/[\\?&]h=\\d+/g, ''); // Remove h parameter\r\n\r\n    // Replace width and height if they exist\r\n    optimizedImage = optimizedImage\r\n      .replace(/width=\\d+/g, `width=${width}`)\r\n      .replace(/height=\\d+/g, `height=${height}`);\r\n\r\n    // If width is not present, add it\r\n    if (!optimizedImage.includes('width='))\r\n      optimizedImage += (optimizedImage.includes('?') ? '&' : '?') + `width=${width}`;\r\n\r\n    // If height is not present, add it\r\n    if (!optimizedImage.includes('height='))\r\n      optimizedImage += (optimizedImage.includes('?') ? '&' : '?') + `height=${height}`;\r\n\r\n    return optimizedImage;\r\n  }\r\n\r\n\r\n}\r\n","<!-- Type Text for String are Default -->\r\n\r\n{{ debugMessage() }}\r\n\r\n<!-- Only try to show something if we have a valid item and a valid preview-value -->\r\n@if (item()?.previewValue) {\r\n  @switch (settings().PreviewType) {\r\n    <!-- Type Font Icon -->\r\n    @case (\"icon-css\") {\r\n      <i class=\"icon-preview {{ classWithoutDot(item().previewValue) }}\"></i>\r\n    }\r\n    <!-- Type Material Icon -->\r\n    @case (\"icon-material\") {\r\n      <!-- TODO: ATM it can only take material icons, but in future it should be able to also take other icons, in which case the tag would have to be reworked... -->\r\n      <mat-icon>{{ item().previewValue }}</mat-icon> &nbsp;\r\n    }\r\n    <!--  Type SVG Icon -->\r\n    @case (\"svg\") {\r\n      <img [ngxTippy]=\"tippyTemplate\" class=\"image-preview\" [src]=\"item().previewValue\" [alt]=\"item().value\" />\r\n      <!-- Tippy to Show Big Image -->\r\n      <div #tippyTemplate class=\"tippy-custom\">\r\n        <img class=\"image-tippy\" [src]=\"item().previewValue\" [alt]=\"item().value\" />\r\n      </div>\r\n    }\r\n    <!-- Type Image -->\r\n    @case (\"image\") {\r\n      <!-- Small Image Preview -->\r\n      <img [ngxTippy]=\"tippyTemplate\" class=\"image-preview\" [src]=\"imageResize(item().previewValue, 24, 24)\" [alt]=\"item().value\" />\r\n      <!-- Tippy to Show Big Image -->\r\n      <div #tippyTemplate class=\"tippy-custom\">\r\n        <img class=\"image-tippy\" [src]=\"imageResize(item().previewValue, 140, 140)\" [alt]=\"item().value\" />\r\n      </div>\r\n    }\r\n  }\r\n}","import { Component, computed, input } from '@angular/core';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../../edit-types/src/PickerSources';\r\nimport { FeatureIconComponent } from '../../../../features/feature-icon/feature-icon';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { PickerFeaturesItem } from '../picker-features.model';\r\nimport { PickerIconHelpComponent } from '../picker-icon-help/picker-icon-help';\r\nimport { PickerIconInfoComponent } from '../picker-icon-info/picker-icon-info';\r\nimport { PickerItemButtonsComponent } from '../picker-item-buttons/picker-item-buttons';\r\nimport { PickerItemPreviewComponent } from '../picker-item-preview/picker-item-preview';\r\n\r\n@Component({\r\n  selector: 'app-picker-item-label',\r\n  imports: [\r\n    PickerItemPreviewComponent,\r\n    PickerIconHelpComponent,\r\n    PickerIconInfoComponent,\r\n    PickerItemButtonsComponent,\r\n    FeatureIconComponent,\r\n  ],\r\n  templateUrl: './picker-item-label.html',\r\n  styleUrl: './picker-item-label.scss'\r\n})\r\nexport class PickerPreviewLabelComponent {\r\n  /** The item to show the label/buttons for */\r\n  item = input.required<PickerItem>();\r\n\r\n  /** The item index, important for certain button actions */\r\n  index = input<number>(0);\r\n\r\n  /** Settings, mainly for the preview feature such as icon etc. */\r\n  settings = input.required<FieldSettingsWithPickerSource>();\r\n\r\n  /** UI Features can let the control determine that certain buttons shouldn't be available, eg. \"remove\" on radio-button */\r\n  uiFeatures = input<Partial<PickerFeaturesItem>>(null);\r\n\r\n  /** If the buttons should show or not - I believe ATM it's always true */\r\n  show = input<boolean>(false);\r\n\r\n  /** Show the action-buttons before the (i) buttons */\r\n  actionsFirst = input<boolean>(false);\r\n\r\n  featureWarnings = computed(() => {\r\n    const conditions = this.item().rules;\r\n    if (!conditions) return [];\r\n    const list = conditions\r\n      .split(';')\r\n      .map(c => c.trim())\r\n      .filter(c => c.startsWith('warn-req=feature:'))\r\n      .map(c => c.split(':')[1]);\r\n    console.log('list', list);\r\n    return list;\r\n  }, { debugName: 'featureWarnings' });\r\n}\r\n","<div class=\"picker-option-contents\">\r\n  <!-- Preview Type -->\r\n  <div class=\"picker-option\">\r\n    <!-- Show Icon or Image -->\r\n    <app-picker-item-preview [item]=\"item()\" [settings]=\"settings()\"></app-picker-item-preview>\r\n    <span class=\"picker-option-label\"> {{ item().label || item().value }}</span>\r\n  </div>\r\n\r\n  <div class=\"picker-option-info\">\r\n    <!-- Show feature warnings if available. Do this first, to avoid the icons from fluttering back and forth -->\r\n    @for (feature of featureWarnings(); track feature)\r\n    {\r\n      <app-feature-icon [featureNameId]=\"feature\"></app-feature-icon>\r\n    }\r\n    <!-- Action items such as edit, remove, delete - in scenarios where they should be in front of the (i) etc. to avoid fluttering -->\r\n    @if (actionsFirst()) {\r\n      <app-picker-item-buttons class=\"my-item-actions\" [show]=\"show()\" [item]=\"item()\" [index]=\"index()\" [uiFeatures]=\"uiFeatures()\"></app-picker-item-buttons>\r\n    }\r\n    <app-picker-help [helpLink]=\"item().link\"></app-picker-help>\r\n    <app-picker-icon-info [infoBox]=\"item().info\"></app-picker-icon-info>\r\n    <!-- Action items such as edit, remove, delete -->\r\n    @if (!actionsFirst()) {\r\n      <app-picker-item-buttons class=\"my-item-actions\" [show]=\"show()\" [item]=\"item()\" [index]=\"index()\" [uiFeatures]=\"uiFeatures()\"></app-picker-item-buttons>\r\n    }\r\n  </div>\r\n</div>\r\n","\r\ninterface PickerSourceBase {\r\n  Title: string;\r\n\r\n  ConfigModel: 'UiPickerModeTree';\r\n}\r\n\r\nexport interface UiPickerModeTree extends PickerSourceBase {\r\n  TreeRelationship: typeof RelationshipParentChild | typeof RelationshipChildParent; //child-parent or parent-child\r\n  TreeBranchesStream: string;\r\n  TreeLeavesStream: string;\r\n  TreeParentIdField: string;\r\n  TreeChildIdField: string;\r\n  TreeParentChildRefField: string;\r\n  TreeChildParentRefField: string;\r\n\r\n  TreeShowRoot: boolean;\r\n  TreeDepthMax: number;\r\n\r\n  TreeAllowSelectRoot: boolean;\r\n  TreeAllowSelectBranch: boolean;\r\n  TreeAllowSelectLeaf: boolean;\r\n}\r\n\r\nexport const RelationshipParentChild = 'parent-child';\r\nexport const RelationshipChildParent = 'child-parent';\r\n","import { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { Injectable } from '@angular/core';\r\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree';\r\nimport { RelationshipChildParent, RelationshipParentChild, UiPickerModeTree } from '../../../../../../../edit-types/src/PickerModeTree';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { PickerTreeItem } from '../models/picker-tree.models';\r\n\r\n@Injectable()\r\nexport class PickerTreeDataHelper {\r\n  \r\n  log = classLog({PickerTreeDataHelper});\r\n\r\n  #pickerTreeConfiguration: UiPickerModeTree;\r\n  #treeItems: PickerTreeItem[];\r\n\r\n  dataSource: MatTreeFlatDataSource<PickerItem, PickerTreeItem, PickerTreeItem>\r\n\r\n  constructor() {\r\n    this.build();\r\n  }\r\n\r\n  public updateConfig(pickerConfig: UiPickerModeTree) {\r\n    this.log.a('updateConfigAndSelectedData');\r\n    // set config, which will be accessed on 'this.' whenever it's needed\r\n    this.#pickerTreeConfiguration = pickerConfig;\r\n  }\r\n\r\n  public addTreeItems(treeItems: PickerTreeItem[]) {\r\n    this.log.a('addTreeItems');\r\n    this.#treeItems = treeItems;\r\n  }\r\n\r\n  public updateSelectedData(selectedData: PickerItem[]) {\r\n    this.log.a('updateSelectedData');\r\n    this.dataSource.data = selectedData;\r\n  }\r\n\r\n  public preConvertAllItems(treeConfig: UiPickerModeTree, items: PickerItem[]) {\r\n    this.log.a('preConvertAllItemsToTreeItems', { treeConfig, items });\r\n    const convertedItems = items.map(x => this.#preConvertItemToTreeItem(treeConfig, x, items));\r\n\r\n    // todo: establish relationships\r\n    const withChildren = convertedItems.map(x => {\r\n      if (!x.expandable) return x;\r\n      const children = this.#getChildren(treeConfig, x, convertedItems);\r\n      // important: don't use spread, we really want to modify the object\r\n      // so that all object correctly reference each other\r\n      x.children = children;\r\n      return x;\r\n      // return { ...x, children };\r\n    });\r\n    // todo: open collapse first level...\r\n\r\n    return withChildren;\r\n  }\r\n\r\n  #preConvertItemToTreeItem(treeConfig: UiPickerModeTree, item: PickerItem, allItems: PickerItem[]) {\r\n    // Log and do some initial checks\r\n    this.log.a(`preConvertItemToTreeItem for item ${item?.id}`, { treeConfig, item, allItems });\r\n    if (!treeConfig) throw new Error('No tree configuration found');\r\n    if (!item) throw new Error(\"Can't transform null-item\");\r\n\r\n    // Get the tree configuration\r\n    const isParentChild = treeConfig.TreeRelationship == RelationshipParentChild;\r\n    const cpRef = treeConfig.TreeChildParentRefField;\r\n    const pcRef = treeConfig.TreeParentChildRefField;\r\n    const cId = treeConfig.TreeChildIdField;\r\n    const pId = treeConfig.TreeParentIdField;\r\n    const cStreamName = treeConfig.TreeLeavesStream;\r\n    const pStreamName = treeConfig.TreeBranchesStream;\r\n    const itemInCorrectStream = allItems\r\n      .filter(x => !x.sourceStreamName || x.sourceStreamName == pStreamName)\r\n      .find(x => x == item);\r\n\r\n    // figure out if this node can be expanded\r\n    // todo: first variant isParentChild probably doesn't work yet\r\n    const currentId = item?.data?.[pId];\r\n    const expandable = isParentChild\r\n      ? itemInCorrectStream && (item.data[pcRef]?.length > 0 || false)\r\n      : itemInCorrectStream && !!allItems.find(x => {\r\n        return (x.data[cpRef]?.[0]?.[pId] == currentId)\r\n      }\r\n      );\r\n\r\n    const result: PickerTreeItem = {\r\n      ...item,\r\n      level: -1,\r\n      expandable: expandable,\r\n      parent: item.data[cpRef],\r\n      children: item.data[pcRef],\r\n    };\r\n    this.log.a('result', { result });\r\n    return result;\r\n  }\r\n\r\n  public build() {\r\n    this.log.a('build');\r\n\r\n    const treeFlattener = new MatTreeFlattener(\r\n      // transformFunction converts an item to a tree-item\r\n      (item: PickerTreeItem, level: number): PickerTreeItem => ({\r\n        ...item,\r\n        level,\r\n      }),\r\n\r\n      // getLevel\r\n      (item): number => { return item.level; },\r\n\r\n      // isExpandable\r\n      (item): boolean => { return item.expandable; },\r\n\r\n      // getChildren\r\n      (item): PickerTreeItem[] => {\r\n        // TODO: @2dm - must determine which method is better\r\n        // getting them here is a bit more functional, but the other model doesn't need the catalog to be stored separately\r\n\r\n        // return item.children; //\r\n        // const getChildren = this.getChildren(this.pickerTreeConfiguration, item, this.treeItems);\r\n        // console.warn('2dm item', item, 'getChildren', getChildren, 'item.children', item.children)\r\n        // return getChildren;\r\n        return item.children;\r\n      },\r\n    );\r\n\r\n    this.dataSource = new MatTreeFlatDataSource(this.treeControl, treeFlattener);\r\n  }\r\n\r\n  #getChildren(treeConfig: UiPickerModeTree, item: PickerTreeItem, allItems: PickerTreeItem[]) {\r\n    const isParentChild = treeConfig.TreeRelationship == RelationshipParentChild;\r\n    const cpRef = treeConfig.TreeChildParentRefField;\r\n    const pcRef = treeConfig.TreeParentChildRefField;\r\n    const cId = treeConfig.TreeChildIdField;\r\n    const pId = treeConfig.TreeParentIdField;\r\n    if (isParentChild)\r\n      return item.data[pcRef].map((x: any) => {\r\n        const child = allItems.find(y => (y as any)[cId] == (x as any)[cId]);\r\n        return child;\r\n      });\r\n    else if (treeConfig.TreeRelationship == RelationshipChildParent) {\r\n      const itemParentValue = item.data?.[pId];\r\n      // console.log(`RelationshipChildParent - 2dm for parentIdField: '${pId}' on item: '${itemParentValue}' with parent having id field '${cId}' `);\r\n      return allItems.filter(x => {\r\n        const childParentId = x.data[cpRef]?.[0]?.[pId];\r\n        return childParentId == itemParentValue;\r\n      });\r\n    }\r\n    else\r\n      throw new Error(`Unknown tree relationship: \"${treeConfig?.TreeRelationship}\"`);\r\n  }\r\n\r\n  /** Needed by material tree to somehow determine the properties */\r\n  treeControl = new FlatTreeControl<PickerTreeItem>(\r\n    item => item.level,\r\n    item => item.expandable,\r\n  );\r\n\r\n\r\n  disableOption(item: PickerTreeItem, selected: PickerItem[], enableReselect: boolean): boolean {\r\n    const treeConfig = this.#pickerTreeConfiguration;\r\n    const selectedButNoReselect = enableReselect\r\n      ? false\r\n      : selected.some(entity => entity.value === item.value);\r\n\r\n    // test code to verify functionality\r\n    // if (item.label?.indexOf('Kawasaki') > -1) {\r\n    //   this.log.enabled = true;\r\n    //   this.log.add('disableOption', item, selected, enableReselect, selectedButNoReselect);\r\n    //   this.log.enabled = false;\r\n    // }\r\n\r\n    const isRootButRootNotAllowed = treeConfig?.TreeAllowSelectRoot\r\n      ? false\r\n      : item.children?.length > 0 && item.parent?.length === 0;\r\n    const isBranchButBranchNotAllowed = treeConfig?.TreeAllowSelectBranch\r\n      ? false\r\n      : item.children?.length > 0 && item.parent?.length > 0;\r\n    const isLeafButLeafNotAllowed = treeConfig?.TreeAllowSelectLeaf\r\n      ? false\r\n      : item.children?.length === 0;\r\n    return selectedButNoReselect || isRootButRootNotAllowed || isBranchButBranchNotAllowed || isLeafButLeafNotAllowed;\r\n  }\r\n\r\n  hasChild = (_: number, item: PickerTreeItem) => item.expandable;\r\n}\r\n","import { Injectable, Injector, Signal, effect, runInInjectionContext } from '@angular/core';\r\nimport { FieldSettingsPicker } from 'projects/edit-types/src/FieldSettings-Pickers';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { RelationshipParentChild } from '../../../../../../../edit-types/src/PickerModeTree';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { PickerTreeItem } from '../models/picker-tree.models';\r\nimport { PickerTreeDataHelper } from './picker-tree-data-helper';\r\n\r\n@Injectable()\r\nexport class PickerTreeDataService {\r\n\r\n  log = classLog({PickerTreeDataService});\r\n\r\n  constructor(public treeHelper: PickerTreeDataHelper, private inject: Injector) { }\r\n\r\n  public init(fieldSettings: Signal<FieldSettings>, allItems: Signal<PickerItem[]>) {\r\n    this.log.a('init');\r\n\r\n    const settings = fieldSettings() as FieldSettings & FieldSettingsPicker;\r\n    const isTree = settings.PickerDisplayMode === 'tree';\r\n\r\n    // if not tree, quit early, nothing has to work then\r\n    if (!isTree) return;\r\n\r\n    // as of now, the tree config can not change at runtime, so pick up early\r\n    const treeConfig = settings.PickerTreeConfiguration;\r\n    const relationshipIsParentChild = treeConfig?.TreeRelationship == RelationshipParentChild;\r\n\r\n    runInInjectionContext(this.inject, () => {\r\n      effect(() => {\r\n        const all = allItems();\r\n        // if the objects don't have a data property, we can't convert them to tree items\r\n        // todo: not sure why this happens, possibly early cycles don't have it yet?\r\n        const treeItems = all?.[0]?.data == null\r\n          ? [] as PickerTreeItem[]\r\n          : this.treeHelper.preConvertAllItems(treeConfig, all);\r\n\r\n        if (treeItems?.[0]?.data != undefined) {\r\n          this.treeHelper.updateConfig(treeConfig);\r\n          this.treeHelper.addTreeItems(treeItems);\r\n\r\n          const filteredData = treeItems.filter(x => relationshipIsParentChild //check for two streams type also\r\n            ? !treeItems.some(y => y.data[treeConfig?.TreeParentChildRefField]?.some((z: { Id: number; }) => z.Id === x.id))\r\n            : x.data[treeConfig?.TreeChildParentRefField]?.length == 0);\r\n          this.treeHelper.updateSelectedData(filteredData);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, ElementRef, OnInit, input, viewChild } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatAutocompleteModule, MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { GlobalConfigService } from '../../../../shared/services/global-config.service';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../../../edit-debug';\r\nimport { PickerItem, PickerItemFactory } from '../models/picker-item.model';\r\nimport { PickerTreeItem } from '../models/picker-tree.models';\r\nimport { PickerItemButtonsComponent } from '../picker-item-buttons/picker-item-buttons';\r\nimport { PickerPreviewLabelComponent } from '../picker-item-label/picker-item-label';\r\nimport { PickerItemPreviewComponent } from '../picker-item-preview/picker-item-preview';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\nimport { PickerTreeDataHelper } from '../picker-tree/picker-tree-data-helper';\r\nimport { PickerTreeDataService } from '../picker-tree/picker-tree-data-service';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  optionSelected: true,\r\n  focusOnSearchComponent: false,\r\n  onClosed: true,\r\n  onOpened: true,\r\n  tooltip: false,\r\n  fields: [...DebugFields, 'Author'],\r\n}\r\n\r\n@Component({\r\n  selector: 'app-picker-search',\r\n  templateUrl: './picker-search.html',\r\n  styleUrls: ['./picker-search.scss'],\r\n  imports: [\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgClass,\r\n    MatInputModule,\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatOptionModule,\r\n    MatTreeModule,\r\n    TranslateModule,\r\n    PickerItemButtonsComponent,\r\n    TippyDirective,\r\n    PickerPreviewLabelComponent,\r\n    PickerItemPreviewComponent,\r\n  ]\r\n})\r\nexport class PickerSearchComponent extends PickerPartBaseComponent implements OnInit {\r\n\r\n  /** Main log */\r\n  log = classLog({ PickerSearchComponent }, logSpecs);\r\n\r\n  /** Special log which would fire a lot for each item doing disabled checks etc. */\r\n  #logItemChecks = classLog(`PickerSearchComponent-ItemChecks`);\r\n\r\n  //#region Inputs\r\n\r\n  /** The input field for the search */\r\n  autocomplete = viewChild.required<ElementRef<HTMLInputElement>>('autocomplete');\r\n\r\n  /** Determine if the input field shows the selected items. eg. not when in dialog where it's just a search-box */\r\n  showSelectedItem = input.required<boolean>();\r\n\r\n  /** Determine if edit buttons are possible, eg. not in preview */\r\n  showItemEditButtons = input.required<boolean>();\r\n\r\n  //#endregion\r\n\r\n  /**\r\n   * The tree helper which is used by the tree display.\r\n   * Will only be initialized if we're really showing a tree.\r\n   */\r\n  #treeDataService = transient(PickerTreeDataService);\r\n  public treeHelper = transient(PickerTreeDataHelper);\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private globalConfigService: GlobalConfigService,\r\n  ) { super(); }\r\n\r\n  /** Currently selected 1 item, as this input will only ever show 1 and it needs to know if certain edit buttons should be shown. */\r\n  public selectedItem = computedObj('selectedItems', () => this.pickerData.selectedOne());\r\n\r\n  /** special trigger to recalculate filtered items; not ideal, should happen automatically */\r\n  #reFilter = signalObj('reFilter', false);\r\n\r\n  public filteredItems = computedObj('filteredItems', () => {\r\n    const _ = this.#reFilter(); // just make a dependency\r\n    const all = this.pickerData.optionsAll();\r\n    const filterInDom = this.autocomplete()?.nativeElement.value;\r\n    const filter = filterInDom?.toLocaleLowerCase();\r\n\r\n    const result = !filter\r\n      ? all\r\n      : all.filter(oItem => ((oItem.label ? oItem.label : oItem.value) ?? '').toLocaleLowerCase().includes(filter));\r\n\r\n    // If the list is empty, show a message about this.\r\n    return result.length > 0\r\n      ? result\r\n      : [PickerItemFactory.message(this.translate, 'Fields.Picker.FilterNoResults', { search: filterInDom })];\r\n  });\r\n\r\n  /** Debug status for UI, mainly to show \"add-null\" button */\r\n  debugEnabled = this.globalConfigService.isDebug;\r\n\r\n  /** Current applicable settings like \"enableEdit\" etc. */\r\n  settings = computedObj('settings', () => {\r\n    const s = this.fieldState.settings();\r\n    return {\r\n      enableAddExisting: s.EnableAddExisting,\r\n      enableReselect: s.EnableReselect,\r\n      showAsTree: s.PickerDisplayMode === 'tree',\r\n    };\r\n  });\r\n\r\n\r\n  ngOnInit(): void {\r\n    const fieldSettings = this.fieldState.settings;\r\n    if (fieldSettings().PickerDisplayMode === 'tree') {\r\n      // Setup Tree Helper - but should only happen, if we're really doing trees\r\n      // Only doing this the first time, as these settings are not expected to change\r\n      this.#treeDataService.init(fieldSettings, this.pickerData.optionsAll);\r\n      this.treeHelper = this.#treeDataService.treeHelper;\r\n\r\n    }\r\n    this.pickerData.state.attachCallback(() => this.focusOnSearchComponent());\r\n  }\r\n\r\n  focusOnSearchComponent(): void {\r\n    this.log.fnIf('focusOnSearchComponent');\r\n    this.autocomplete()?.nativeElement.focus();\r\n  }\r\n\r\n\r\n  displaySelected(item: PickerItem): string {\r\n    return this.showSelectedItem() ? (item?.label ?? '') : '';\r\n  }\r\n\r\n  tooltip(): string {\r\n    const l = this.log.fnIfInList('tooltip', 'fields', this.fieldState.name, null, this.fieldState.name);\r\n    // no tooltip if zero or multiple items selected\r\n    const count = this.pickerData.selectedAll().length;\r\n    if (count != 1)\r\n      return l.r(null, `0 or more than 1 selected: ${count}`);\r\n    return l.r(this.selectedItem().tooltip, 'ok');\r\n  }\r\n\r\n  \r\n  displayFn(value: string): string {\r\n    const selectedItem = this.selectedItem();\r\n    this.#logItemChecks.a(`displayFn: value: '${value}'`, { selectedItem });\r\n    // and probably clean up if it's stable for a few days\r\n    if (value == null) return '';\r\n    const returnValue = this.pickerData.optionsAll().find(ae => ae.value == value)?.label;\r\n\r\n    // If nothing yet, try to return label of selected or fallback to return the value\r\n    // note: not quite sure, but I believe this is for scenarios where a manual entry was done\r\n    // ...so it would return it, even though it's not in the list of available items\r\n    if (!returnValue)\r\n      return selectedItem?.value == value\r\n        ? selectedItem?.label\r\n        : value + \" *\";\r\n    this.log.a('displayFn result', { value, returnValue });\r\n    return returnValue;\r\n  }\r\n\r\n  markAsTouched(): void {\r\n    this.fieldState.ui().markTouched();\r\n  }\r\n\r\n  filterSelectionList(): void {\r\n    this.#reFilter.update(x => !x);\r\n  }\r\n\r\n  /**\r\n   * Event triggered when opening the auto-complete / search\r\n   */\r\n  onOpened(isTreeDisplayMode: boolean): void {\r\n    const l = this.log.fnIf('onOpened', { isTreeDisplayMode });\r\n    const searchElement = this.autocomplete().nativeElement;\r\n    l.a(`onOpened: isTreeDisplayMode ${isTreeDisplayMode}; domValue: '${searchElement.value}'`);\r\n    // flush the input so the user can use it to search, otherwise the list is filtered\r\n    searchElement.value = '';\r\n    this.#reFilter.update(x => !x);\r\n    // If tree, we need to blur so tree reacts to the first click, otherwise the user must click 2x\r\n    if (isTreeDisplayMode)\r\n      searchElement.blur();\r\n  }\r\n\r\n  onClosed(): void {\r\n    const selectedItems = this.selectedItems();\r\n    const selectedItem = this.selectedItem();\r\n    const searchElement = this.autocomplete().nativeElement;\r\n    const l = this.log.fnIf('onClosed', { selectedItems, selectedItem });\r\n\r\n    // If we should not show the selected item in search,\r\n    // like in the popup, where selections are added to the list above\r\n    // exit early\r\n    if (!this.showSelectedItem()) {\r\n      searchElement.value = '';\r\n      return l.end('!showSelectedItem')\r\n    }\r\n\r\n    // If we should show the selected item, try to do it\r\n    // Note that this is false in search-add-only scenarios, like the popup dialog\r\n    // where the selections are added to the list above.\r\n    l.a('showSelectedItem');\r\n\r\n    // If nothing is selected, make sure the text is empty afterwards, otherwise the user thinks he selected something\r\n    if (!selectedItem) {\r\n      searchElement.value = '';\r\n      return l.end('!selectedItem')\r\n    }\r\n    \r\n    // Something is selected. If it's less than 2, we don't show the pills, so we want to show the label\r\n    if (selectedItems.length < 2) {\r\n      searchElement.value = selectedItem.label;\r\n      return l.end(`selectedItem & < 2; label updated to ${selectedItem.label}`, { selectedItem });\r\n    }\r\n  }\r\n\r\n  /** Callback from autocomplete when selected */\r\n  optionSelected(event: MatAutocompleteSelectedEvent): void {\r\n    const multiValue = this.features().multiValue;\r\n    const l = this.log.fnIf('optionSelected', { value: event.option.value, multiValue });\r\n    const selected = event.option.value;\r\n\r\n    // 2025-02-15 2dm Expected behavior is\r\n    // 1. When single value, just set the value\r\n    // 2. When multi value in simple dropdown mode, just set the value (replace previous selection)\r\n    // 3. In multi-value when in the list-dialog, keep adding to the selection\r\n    const setToJustThisValue = this.showSelectedItem() || !multiValue;\r\n\r\n    if (setToJustThisValue) {\r\n      l.a('no multiValue, will set to new');\r\n      this.pickerData.state.set([selected]);\r\n    } else {\r\n      l.a('multiValue, will add to selection');\r\n      this.pickerData.state.add(selected);\r\n    }\r\n    // This is needed so after choosing option, this element is not focused.\r\n    // It gets focused by default so if blur is outside of setTimeout it will happen before refocus.\r\n    setTimeout(() => this.autocomplete().nativeElement.blur());\r\n  }\r\n\r\n  getPlaceholder(): string {\r\n    const allOptions = this.pickerData.optionsAll();\r\n    var placeholder = allOptions.length > 0\r\n      ? this.translate.instant('Fields.Picker.Search')\r\n      : this.translate.instant('Fields.Picker.QueryNoItems');\r\n    this.#logItemChecks.a(`getPlaceholder: '${placeholder}'`, { allOptions });\r\n    return placeholder;\r\n  }\r\n\r\n  insertNull(): void {\r\n    this.log.a('insertNull');\r\n    this.pickerData.state.add(null);\r\n  }\r\n\r\n  isOptionDisabled(value: string): boolean {\r\n    const selected = this.selectedItems();\r\n    const isSelected = selected.some(entity => entity.value === value);\r\n    this.#logItemChecks.a(`sOptionDisabled value: '${value}'; result: ${isSelected}`, { selected });\r\n    return isSelected;\r\n  }\r\n\r\n\r\n  goToLink(helpLink: string): void {\r\n    this.log.a(`goToLink helpLink: '${helpLink}'`);\r\n    window.open(helpLink, '_blank');\r\n  }\r\n\r\n  hasChild = (_: number, item: PickerTreeItem) => this.treeHelper.hasChild(_, item);\r\n\r\n  getSelectedItem(value: string): PickerItem {\r\n    return this.pickerData.optionsAll().find(ae => ae.value === value);\r\n  }\r\n\r\n}\r\n","<mat-form-field\r\n  [formGroup]=\"fieldState.group\"\r\n  class=\"eav-mat-form-field my-search\"\r\n  color=\"accent\"\r\n  [ngClass]=\"{ 'mat-form-field-invalid': ui().touchedAndInvalid }\"\r\n  (click)=\"filterSelectionList()\"\r\n>\r\n  <!-- Show Icon or Image -->\r\n  <div class=\"show-input-container\">\r\n    <!-- Note: very patching quick style-fix to get alignment look ok. Should be researched and fixed properly -->\r\n    <app-picker-item-preview class=\"picker-container\" [item]=\"getSelectedItem(selectedItem()?.value)\" [settings]=\"fieldState.settings()\"></app-picker-item-preview>\r\n\r\n    <!-- The initial input showing the selected value - one only. As soon as there are more, this control won't show any more -->\r\n    <input\r\n      matInput\r\n      class=\"eav-translate-on-dblclick\"\r\n      #autocomplete\r\n      [matAutocomplete]=\"auto\"\r\n      [value]=\"displaySelected(selectedItem())\"\r\n      [placeholder]=\"getPlaceholder()\"\r\n      [disabled]=\"ui().disabled || !settings().enableAddExisting\"\r\n      [tippy]=\"tooltip()\"\r\n      [tippyArrow]=\"true\"\r\n      (focus)=\"pickerData.source.fetchItems()\"\r\n      (blur)=\"markAsTouched()\"\r\n      (input)=\"filterSelectionList()\"\r\n    />\r\n  </div>\r\n\r\n  <!-- Action items such as edit, remove, delete -->\r\n  <app-picker-item-buttons\r\n    matSuffix\r\n    class=\"my-item-actions\"\r\n    [show]=\"showItemEditButtons()\"\r\n    [item]=\"selectedItem()\"\r\n    [index]=\"0\"\r\n  ></app-picker-item-buttons>\r\n\r\n  <!-- \"v\" button to open the drop-down -->\r\n  <button\r\n    mat-icon-button\r\n    matSuffix\r\n    class=\"entity-dropdown-button picker-inline-button\"\r\n    disableRipple=\"true\"\r\n    [disabled]=\"ui().disabled || !settings().enableAddExisting\"\r\n  >\r\n    <mat-icon>arrow_drop_down</mat-icon>\r\n  </button>\r\n\r\n  <!-- Toggle Text Mode -->\r\n  @if (features().textEntry) {\r\n    <span matSuffix>\r\n      <ng-content select=\"[freeTextButtons]\"></ng-content>\r\n    </span>\r\n  }\r\n\r\n  <!-- Help text / error messages -->\r\n  <mat-label [ngClass]=\"{ 'mat-error': ui().touchedAndInvalid }\">\r\n    {{ basics().labelWithRequired }}\r\n  </mat-label>\r\n</mat-form-field>\r\n\r\n<mat-autocomplete\r\n  #auto=\"matAutocomplete\"\r\n  [displayWith]=\"displayFn.bind(this)\"\r\n  [hideSingleSelectionIndicator]=\"true\"\r\n  (optionSelected)=\"optionSelected($event)\"\r\n  (closed)=\"onClosed()\"\r\n  (opened)=\"onOpened(settings().showAsTree)\"\r\n>\r\n  @if (!settings().showAsTree) {\r\n    <!-- Standard List-Search Mode -->\r\n    @for (item of filteredItems(); track item.value) {\r\n      <mat-option\r\n        [value]=\"item.value\"\r\n        class=\"picker-option-wrapper\"\r\n        [disabled]=\"item.noSelect ? true : settings().enableReselect ? false : isOptionDisabled(item.value)\"\r\n        [tippy]=\"item.tooltip\"\r\n        tippyShowDelay=\"500\"\r\n        [tippyAllowHtml]=\"true\"\r\n        [tippyArrow]=\"true\"\r\n      >\r\n        <!-- Show Preview Label -->\r\n        <app-picker-item-label [item]=\"item\" [settings]=\"fieldState.settings()\"></app-picker-item-label>\r\n      </mat-option>\r\n    }\r\n  } @else {\r\n    <!-- Tree Search Mode (BETA not really working) -->\r\n    <mat-tree [dataSource]=\"treeHelper.dataSource\" [treeControl]=\"treeHelper.treeControl\">\r\n      <mat-tree-node *matTreeNodeDef=\"let item\" matTreeNodePadding class=\"eav-tree-node\">\r\n        <button mat-icon-button disabled></button>\r\n        <mat-option\r\n          [value]=\"item.value\"\r\n          class=\"picker-option-wrapper\"\r\n          [disabled]=\"treeHelper.disableOption(item, selectedItems(), settings().enableReselect)\"\r\n          [tippy]=\"item.tooltip\"\r\n          tippyShowDelay=\"500\"\r\n          [tippyAllowHtml]=\"true\"\r\n          [tippyArrow]=\"true\"\r\n        >\r\n          <!-- Show Preview Label -->\r\n          <app-picker-item-label [item]=\"item\" [settings]=\"fieldState.settings()\"></app-picker-item-label>\r\n        </mat-option>\r\n      </mat-tree-node>\r\n      <mat-tree-node *matTreeNodeDef=\"let item; when: hasChild\" matTreeNodePadding class=\"eav-tree-node\">\r\n        <button mat-icon-button matTreeNodeToggle [attr.aria-label]=\"'Toggle ' + item.name\">\r\n          <mat-icon class=\"mat-icon-rtl-mirror\">\r\n            {{ treeHelper.treeControl.isExpanded(item) ? \"expand_more\" : \"chevron_right\" }}\r\n          </mat-icon>\r\n        </button>\r\n        <mat-option\r\n          [value]=\"item.value\"\r\n          class=\"picker-option-wrapper\"\r\n          [disabled]=\"treeHelper.disableOption(item, selectedItems(), settings().enableReselect)\"\r\n          [tippy]=\"item.tooltip\"\r\n          tippyShowDelay=\"500\"\r\n          [tippyAllowHtml]=\"true\"\r\n          [tippyArrow]=\"true\"\r\n        >\r\n          <!-- Show Preview Label -->\r\n          <app-picker-item-label [item]=\"item\" [settings]=\"fieldState.settings()\"></app-picker-item-label>\r\n        </mat-option>\r\n      </mat-tree-node>\r\n    </mat-tree>\r\n  }\r\n</mat-autocomplete>\r\n\r\n<!-- Button to add null-item, in debug-mode only -->\r\n@if (debugEnabled()) {\r\n  <div class=\"null-box\">debug: <span class=\"null-button\" tippy=\"Add null-item\" (click)=\"insertNull()\">add null-item</span></div>\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\n\r\n@Component({\r\n    selector: 'app-picker-text',\r\n    templateUrl: './picker-text.html',\r\n    imports: [\r\n        MatFormFieldModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n    ]\r\n})\r\nexport class PickerTextComponent extends PickerPartBaseComponent {\r\n  \r\n  log = classLog({PickerTextComponent});\r\n\r\n  constructor() { super(); }\r\n\r\n  /**\r\n   * Tell the text-input to be multi-line, if the separator is a newline.\r\n   * Otherwise, it will be single-line.\r\n   */\r\n  protected useMultiLine = computedObj('useMultiLine', () => {\r\n    const settings = this.fieldState.settings();\r\n    const separator = settings.Separator;\r\n    const isSeparatorNewLine = separator == '\\\\n' /* buggy temp double-slash-n */ || separator == '\\n' /* correct */;\r\n    return isSeparatorNewLine;\r\n  });\r\n}\r\n","<div>\r\n  <mat-form-field [formGroup]=\"fieldState.group\" class=\"eav-mat-form-field\" color=\"accent\">\r\n    @if (useMultiLine()) {\r\n      <textarea matInput [required]=\"basics().required\" [formControlName]=\"fieldState.name\"\r\n        [placeholder]=\"basics().placeholder\"></textarea>\r\n    } @else {\r\n      <input matInput [required]=\"basics().required\" [formControlName]=\"fieldState.name\" [placeholder]=\"basics().placeholder\">\r\n    }\r\n    <div matSuffix>\r\n      <ng-content select=\"[freeTextButtons]\"></ng-content>\r\n    </div>\r\n    <mat-label>{{ basics().label }}</mat-label>\r\n  </mat-form-field>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { PickerListComponent } from '../picker-list/picker-list';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\nimport { PickerSearchComponent } from '../picker-search/picker-search';\r\nimport { PickerTextComponent } from '../picker-text/picker-text';\r\n\r\n@Component({\r\n    selector: 'app-picker-dialog',\r\n    templateUrl: './picker-dialog.html',\r\n    imports: [\r\n        PickerListComponent,\r\n        PickerSearchComponent,\r\n        PickerTextComponent,\r\n        FieldHelperTextComponent,\r\n        MatButtonModule,\r\n        MatMenuModule,\r\n        MatIconModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class PickerDialogComponent extends PickerPartBaseComponent {\r\n\r\n  protected showAddNewEntityButtonInDialog = computedObj('showAddNewEntityButtonInDialog', () => {\r\n    const features = this.features();\r\n    const settings = this.fieldState.settings();\r\n    const showAddNew = !this.isInFreeTextMode()\r\n      && settings.EnableCreate\r\n      && settings.CreateTypes\r\n      && features.multiValue;\r\n    return showAddNew;\r\n  });\r\n\r\n}\r\n","<app-picker-list></app-picker-list>\r\n\r\n@if (!isInFreeTextMode()) {\r\n  <app-picker-search\r\n    [showSelectedItem]=\"false\"\r\n    [showItemEditButtons]=\"false\">\r\n  </app-picker-search>\r\n}\r\n@else {\r\n  <app-picker-text></app-picker-text>\r\n}\r\n<app-field-helper-text></app-field-helper-text>\r\n\r\n<!-- Note: this is almost the same as in picker-preview, but the styling (FAB) and icons are a bit different -->\r\n<!-- add new entity -->\r\n@if (showAddNewEntityButtonInDialog()) {\r\n  <div style=\"display: flex; justify-content: end\">\r\n    @if (pickerData.state.typesForNew().length > 1) {\r\n      <button\r\n        mat-mini-fab\r\n        color=\"accent\"\r\n        tippyTranslate=\"Fields.Picker.New\"\r\n        [disabled]=\"ui().disabled || !features().create\"\r\n        [matMenuTriggerFor]=\"entityTypesMenu\"\r\n      >\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n      <mat-menu #entityTypesMenu=\"matMenu\">\r\n        @for (ct of pickerData.state.typesForNew(); track ct) {\r\n          <button mat-menu-item (click)=\"openNewEntityDialog(ct.guid)\">\r\n            <span>{{ ct.label }}</span>\r\n          </button>\r\n        }\r\n      </mat-menu>\r\n    } @else {\r\n      <button\r\n        mat-mini-fab\r\n        color=\"accent\"\r\n        tippyTranslate=\"Fields.Picker.New\"\r\n        [disabled]=\"ui().disabled || !features().create\"\r\n        (click)=\"openNewEntityDialog(null)\"\r\n      >\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n    }\r\n  </div>\r\n}\r\n","import { classLog } from '../../../../shared/logging';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  options: true,\r\n  select: true,\r\n};\r\n\r\nexport abstract class PickerInlineBaseComponent extends PickerPartBaseComponent {\r\n\r\n  log = classLog({PickerInlineBaseComponent}, logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    // Make sure the data is loaded - especially for entity/query sources\r\n    this.pickerData.source.fetchItems();\r\n  }\r\n\r\n  options = computedObj('options', () => {\r\n    const options = this.pickerData.optionsWithMissing();\r\n    const selected = this.selectedItems();\r\n\r\n    // Off all the possible options, mark the ones that are selected\r\n    const final = options.map(o => {\r\n      const isSelected = selected.find((s) => s.value === o.value);\r\n      return { ...o, selected: !!isSelected };\r\n    });\r\n    this.log.aIf('options', { options, selected, final });\r\n\r\n    // TODO: trap if too many hits... since we can almost break the UI if it has too many items\r\n\r\n    return final as (PickerItem & { selected?: boolean})[];\r\n  });\r\n  \r\n  select(item: PickerItem) {\r\n    const l = this.log.fn('select', { item });\r\n    if (item.noSelect) return l.end('noSelect, exit early');\r\n    const allowMulti = this.features().multiValue;\r\n    if (!allowMulti) {\r\n      this.pickerData.state.set([item.value]);\r\n      return l.end('no-multi', { item, allowMulti });\r\n    }\r\n\r\n    const before = this.options();\r\n    const toggled = before.map(o => o.value === item.value ? { ...o, selected: !o.selected } : o);\r\n    const selected = toggled.filter(o => o.selected);\r\n    const values = selected.map(o => o.value);\r\n    this.pickerData.state.set(values);\r\n    l.end('multi', { item, allowMulti, before, toggled, selected, values });\r\n  }\r\n\r\n}\r\n","import { NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\n\r\n@Component({\r\n    selector: 'app-picker-inline-header',\r\n    templateUrl: './picker-inline-header.html',\r\n    styleUrl: './picker-inline-header.scss',\r\n    imports: [\r\n        NgClass,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\nexport class PickerInlineHeaderComponent extends PickerPartBaseComponent {\r\n\r\n}\r\n","<div class=\"my-title-bar\">\r\n  <div>\r\n    <mat-label class=\"c-ew__preview-label\" [ngClass]=\"{\r\n      'mat-caption' : itemCount(),\r\n      'mat-empty' : !itemCount(),\r\n      'mat-error' : ui().touchedAndInvalid && !config.initialDisabled,\r\n      'color__primary' : !ui().touchedAndInvalid && !config.initialDisabled,\r\n      'my-label-disabled' : config.initialDisabled\r\n      }\"\r\n    >\r\n      {{ basics().labelWithRequired }}\r\n    </mat-label>\r\n    <app-field-helper-text [flatIfEmpty]=\"true\" [smallGap]=\"true\"></app-field-helper-text>\r\n  </div>\r\n  <div>\r\n    <ng-content select=\"[addNew]\"></ng-content>\r\n    <ng-content select=\"[freeTextButtons]\"></ng-content>\r\n  </div>\r\n\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { MatCheckbox } from '@angular/material/checkbox';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { FeatureNames } from '../../../../features/feature-names';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { PickerInlineBaseComponent } from '../picker-inline/picker-inline-base';\r\nimport { PickerInlineHeaderComponent } from '../picker-inline/picker-inline-header';\r\nimport { PickerPreviewLabelComponent } from '../picker-item-label/picker-item-label';\r\n\r\n@Component({\r\n    selector: 'app-picker-checkboxes',\r\n    templateUrl: './picker-checkboxes.html',\r\n    styleUrls: ['./picker-checkboxes.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        MatRippleModule,\r\n        MatCheckbox,\r\n        TippyDirective,\r\n        PickerInlineHeaderComponent,\r\n        PickerPreviewLabelComponent,\r\n    ]\r\n})\r\nexport class PickerCheckboxesComponent extends PickerInlineBaseComponent {\r\n\r\n  constructor() {\r\n    super();\r\n    this.fieldState.requireFeature(FeatureNames.PickerUiCheckbox);\r\n  }\r\n\r\n}\r\n","<div class=\"c-ew__preview-holder\">\r\n  <app-picker-inline-header>\r\n    <ng-content addNew select=\"[addNew]\"></ng-content>\r\n    <ng-content freeTextButtons select=\"[freeTextButtons]\"></ng-content>\r\n  </app-picker-inline-header>\r\n\r\n  <!-- <div (click)=\"expandDialog()\"\r\n    [ngClass]=\"{\r\n    'c-ew__preview--invalid' : ui().touchedAndInvalid,\r\n    'c-ew__preview--disabled': config.initialDisabled\r\n    }\"> -->\r\n\r\n  @for (item of options(); track item.value) {\r\n    <mat-checkbox\r\n      class=\"picker-option-wrapper\"\r\n      (click)=\"select(item)\"\r\n      [checked]=\"item.selected\"\r\n      [disabled]=\"ui().disabled || item.noSelect\"\r\n      [tippy]=\"item.tooltip\"\r\n      tippyShowDelay=\"500\"\r\n      [tippyAllowHtml]=\"true\"\r\n      [tippyArrow]=\"true\"\r\n    >\r\n      <!-- Show Label, Tooltips, Links-Buttons and Feature-Warnings -->\r\n      <app-picker-item-label [item]=\"item\" [show]=\"true\" [index]=\"$index\" [settings]=\"fieldState.settings()\" [uiFeatures]=\"{ remove: false }\" [actionsFirst]=\"true\"></app-picker-item-label>\r\n    </mat-checkbox>\r\n  }\r\n  <!-- </div> -->\r\n</div>\r\n","import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, Input, NgModule } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { BidiModule } from '@angular/cdk/bidi';\nlet MatDivider = /*#__PURE__*/(() => {\n  class MatDivider {\n    get vertical() {\n      return this._vertical;\n    }\n    set vertical(value) {\n      this._vertical = coerceBooleanProperty(value);\n    }\n    _vertical = false;\n    get inset() {\n      return this._inset;\n    }\n    set inset(value) {\n      this._inset = coerceBooleanProperty(value);\n    }\n    _inset = false;\n    static fac = function MatDivider_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDivider)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatDivider,\n      selectors: [[\"mat-divider\"]],\n      hostAttrs: [\"role\", \"separator\", 1, \"mat-divider\"],\n      hostVars: 7,\n      hostBindings: function MatDivider_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.attribute(\"aria-orientation\", ctx.vertical ? \"vertical\" : \"horizontal\");\n          i0.classProp(\"mat-divider-vertical\", ctx.vertical)(\"mat-divider-horizontal\", !ctx.vertical)(\"mat-divider-inset\", ctx.inset);\n        }\n      },\n      inputs: {\n        vertical: \"vertical\",\n        inset: \"inset\"\n      },\n      decls: 0,\n      vars: 0,\n      template: function MatDivider_Template(rf, ctx) {},\n      styles: [\".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatDivider;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatDividerModule = /*#__PURE__*/(() => {\n  class MatDividerModule {\n    static fac = function MatDividerModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatDividerModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: MatDividerModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({\n      imports: [BidiModule]\n    });\n  }\n  return MatDividerModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { MatDivider, MatDividerModule };\n","import { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, inject, ElementRef, Directive, signal, Input, NgZone, Injector, ContentChildren, Component, ViewEncapsulation, ChangeDetectionStrategy, ViewChild, ChangeDetectorRef, EventEmitter, Output, forwardRef, Renderer2, NgModule } from '@angular/core';\nimport { Platform, _getFocusedElementPierceShadowDom } from '@angular/cdk/platform';\nimport { _CdkPrivateStyleLoader } from '@angular/cdk/private';\nimport { Subscription, merge, Subject } from 'rxjs';\nimport { MAT_RIPPLE_GLOBAL_OPTIONS, RippleRenderer } from './_ripple-chunk.mjs';\nimport { _animationsDisabled } from './_animation-chunk.mjs';\nimport { _StructuralStylesLoader } from './_structural-styles-chunk.mjs';\nimport { NgTemplateOutlet } from '@angular/common';\nimport { CdkObserveContent, ObserversModule } from '@angular/cdk/observers';\nimport { MatDividerModule } from './divider.mjs';\nconst _c0 = [\"*\"];\nconst _c1 = \".mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:\\\"\\\";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:\\\"\\\";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus-visible>.mat-focus-indicator::before{content:\\\"\\\"}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}\\n\";\nconst _c2 = [\"unscopedContent\"];\nconst _c3 = [\"text\"];\nconst _c4 = [[[\"\", \"matListItemAvatar\", \"\"], [\"\", \"matListItemIcon\", \"\"]], [[\"\", \"matListItemTitle\", \"\"]], [[\"\", \"matListItemLine\", \"\"]], \"*\", [[\"\", \"matListItemMeta\", \"\"]], [[\"mat-divider\"]]];\nconst _c5 = [\"[matListItemAvatar],[matListItemIcon]\", \"[matListItemTitle]\", \"[matListItemLine]\", \"*\", \"[matListItemMeta]\", \"mat-divider\"];\nconst _c6 = [[[\"\", \"matListItemTitle\", \"\"]], [[\"\", \"matListItemLine\", \"\"]], \"*\", [[\"mat-divider\"]], [[\"\", \"matListItemAvatar\", \"\"], [\"\", \"matListItemIcon\", \"\"]]];\nconst _c7 = [\"[matListItemTitle]\", \"[matListItemLine]\", \"*\", \"mat-divider\", \"[matListItemAvatar],[matListItemIcon]\"];\nfunction MatListOption_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.projection(0, 4);\n  }\n}\nfunction MatListOption_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"div\", 11);\n    i0.element(1, \"input\", 12);\n    i0.elementStart(2, \"div\", 13);\n    i0.namespaceSVG();\n    i0.elementStart(3, \"svg\", 14);\n    i0.element(4, \"path\", 15);\n    i0.elementEnd();\n    i0.namespaceHTML();\n    i0.element(5, \"div\", 16);\n    i0.elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.nextContext();\n    i0.classProp(\"mdc-checkbox--disabled\", ctx_r1.disabled);\n    i0.advance();\n    i0.property(\"checked\", ctx_r1.selected)(\"disabled\", ctx_r1.disabled);\n  }\n}\nfunction MatListOption_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"div\", 17);\n    i0.element(1, \"input\", 18);\n    i0.elementStart(2, \"div\", 19);\n    i0.element(3, \"div\", 20)(4, \"div\", 21);\n    i0.elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.nextContext();\n    i0.classProp(\"mdc-radio--disabled\", ctx_r1.disabled);\n    i0.advance();\n    i0.property(\"checked\", ctx_r1.selected)(\"disabled\", ctx_r1.disabled);\n  }\n}\nfunction MatListOption_Conditional_6_ng_template_1_Template(rf, ctx) {}\nfunction MatListOption_Conditional_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"span\", 4);\n    i0.template(1, MatListOption_Conditional_6_ng_template_1_Template, 0, 0, \"ng-template\", 6);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    i0.nextContext();\n    const checkbox_r3 = i0.reference(3);\n    i0.advance();\n    i0.property(\"ngTemplateOutlet\", checkbox_r3);\n  }\n}\nfunction MatListOption_Conditional_7_ng_template_1_Template(rf, ctx) {}\nfunction MatListOption_Conditional_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"span\", 5);\n    i0.template(1, MatListOption_Conditional_7_ng_template_1_Template, 0, 0, \"ng-template\", 6);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    i0.nextContext();\n    const radio_r4 = i0.reference(5);\n    i0.advance();\n    i0.property(\"ngTemplateOutlet\", radio_r4);\n  }\n}\nfunction MatListOption_Conditional_8_ng_template_0_Template(rf, ctx) {}\nfunction MatListOption_Conditional_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.template(0, MatListOption_Conditional_8_ng_template_0_Template, 0, 0, \"ng-template\", 6);\n  }\n  if (rf & 2) {\n    i0.nextContext();\n    const icons_r5 = i0.reference(1);\n    i0.property(\"ngTemplateOutlet\", icons_r5);\n  }\n}\nfunction MatListOption_Conditional_15_ng_template_1_Template(rf, ctx) {}\nfunction MatListOption_Conditional_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"span\", 9);\n    i0.template(1, MatListOption_Conditional_15_ng_template_1_Template, 0, 0, \"ng-template\", 6);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    i0.nextContext();\n    const checkbox_r3 = i0.reference(3);\n    i0.advance();\n    i0.property(\"ngTemplateOutlet\", checkbox_r3);\n  }\n}\nfunction MatListOption_Conditional_16_ng_template_1_Template(rf, ctx) {}\nfunction MatListOption_Conditional_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.elementStart(0, \"span\", 9);\n    i0.template(1, MatListOption_Conditional_16_ng_template_1_Template, 0, 0, \"ng-template\", 6);\n    i0.elementEnd();\n  }\n  if (rf & 2) {\n    i0.nextContext();\n    const radio_r4 = i0.reference(5);\n    i0.advance();\n    i0.property(\"ngTemplateOutlet\", radio_r4);\n  }\n}\nfunction MatListOption_Conditional_17_ng_template_0_Template(rf, ctx) {}\nfunction MatListOption_Conditional_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.template(0, MatListOption_Conditional_17_ng_template_0_Template, 0, 0, \"ng-template\", 6);\n  }\n  if (rf & 2) {\n    i0.nextContext();\n    const icons_r5 = i0.reference(1);\n    i0.property(\"ngTemplateOutlet\", icons_r5);\n  }\n}\nexport { MatDivider } from './divider.mjs';\nimport { FocusKeyManager } from '@angular/cdk/a11y';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { ENTER, SPACE, A, hasModifierKey } from '@angular/cdk/keycodes';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { takeUntil } from 'rxjs/operators';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { MatPseudoCheckboxModule } from './_pseudo-checkbox-module-chunk.mjs';\nimport { MatRippleModule } from './_ripple-module-chunk.mjs';\nimport '@angular/cdk/layout';\nimport './_pseudo-checkbox-chunk.mjs';\nconst LIST_OPTION = /*#__PURE__*/new InjectionToken('ListOption');\nlet MatListItemTitle = /*#__PURE__*/(() => {\n  class MatListItemTitle {\n    _elementRef = inject(ElementRef);\n    constructor() {}\n    static fac = function MatListItemTitle_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListItemTitle)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListItemTitle,\n      selectors: [[\"\", \"matListItemTitle\", \"\"]],\n      hostAttrs: [1, \"mat-mdc-list-item-title\", \"mdc-list-item__primary-text\"]\n    });\n  }\n  return MatListItemTitle;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListItemLine = /*#__PURE__*/(() => {\n  class MatListItemLine {\n    _elementRef = inject(ElementRef);\n    constructor() {}\n    static fac = function MatListItemLine_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListItemLine)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListItemLine,\n      selectors: [[\"\", \"matListItemLine\", \"\"]],\n      hostAttrs: [1, \"mat-mdc-list-item-line\", \"mdc-list-item__secondary-text\"]\n    });\n  }\n  return MatListItemLine;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListItemMeta = /*#__PURE__*/(() => {\n  class MatListItemMeta {\n    static fac = function MatListItemMeta_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListItemMeta)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListItemMeta,\n      selectors: [[\"\", \"matListItemMeta\", \"\"]],\n      hostAttrs: [1, \"mat-mdc-list-item-meta\", \"mdc-list-item__end\"]\n    });\n  }\n  return MatListItemMeta;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet _MatListItemGraphicBase = /*#__PURE__*/(() => {\n  class _MatListItemGraphicBase {\n    _listOption = inject(LIST_OPTION, {\n      optional: true\n    });\n    constructor() {}\n    _isAlignedAtStart() {\n      return !this._listOption || this._listOption?._getTogglePosition() === 'after';\n    }\n    static fac = function _MatListItemGraphicBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || _MatListItemGraphicBase)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: _MatListItemGraphicBase,\n      hostVars: 4,\n      hostBindings: function _MatListItemGraphicBase_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.classProp(\"mdc-list-item__start\", ctx._isAlignedAtStart())(\"mdc-list-item__end\", !ctx._isAlignedAtStart());\n        }\n      }\n    });\n  }\n  return _MatListItemGraphicBase;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListItemAvatar = /*#__PURE__*/(() => {\n  class MatListItemAvatar extends _MatListItemGraphicBase {\n    static fac = /* @__PURE__ */(() => {\n      let MatListItemAvatar_BaseFactory;\n      return function MatListItemAvatar_Factory(__ngFactoryType__) {\n        return (MatListItemAvatar_BaseFactory || (MatListItemAvatar_BaseFactory = i0.getInheritedFactory(MatListItemAvatar)))(__ngFactoryType__ || MatListItemAvatar);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListItemAvatar,\n      selectors: [[\"\", \"matListItemAvatar\", \"\"]],\n      hostAttrs: [1, \"mat-mdc-list-item-avatar\"],\n      features: [i0.InheritDefinitionFeature]\n    });\n  }\n  return MatListItemAvatar;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListItemIcon = /*#__PURE__*/(() => {\n  class MatListItemIcon extends _MatListItemGraphicBase {\n    static fac = /* @__PURE__ */(() => {\n      let MatListItemIcon_BaseFactory;\n      return function MatListItemIcon_Factory(__ngFactoryType__) {\n        return (MatListItemIcon_BaseFactory || (MatListItemIcon_BaseFactory = i0.getInheritedFactory(MatListItemIcon)))(__ngFactoryType__ || MatListItemIcon);\n      };\n    })();\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListItemIcon,\n      selectors: [[\"\", \"matListItemIcon\", \"\"]],\n      hostAttrs: [1, \"mat-mdc-list-item-icon\"],\n      features: [i0.InheritDefinitionFeature]\n    });\n  }\n  return MatListItemIcon;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_LIST_CONFIG = /*#__PURE__*/new InjectionToken('MAT_LIST_CONFIG');\nlet MatListBase = /*#__PURE__*/(() => {\n  class MatListBase {\n    _isNonInteractive = true;\n    get disableRipple() {\n      return this._disableRipple;\n    }\n    set disableRipple(value) {\n      this._disableRipple = coerceBooleanProperty(value);\n    }\n    _disableRipple = false;\n    get disabled() {\n      return this._disabled();\n    }\n    set disabled(value) {\n      this._disabled.set(coerceBooleanProperty(value));\n    }\n    _disabled = signal(false, ...(ngDevMode ? [{\n      debugName: \"_disabled\"\n    }] : []));\n    _defaultOptions = inject(MAT_LIST_CONFIG, {\n      optional: true\n    });\n    static fac = function MatListBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListBase)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListBase,\n      hostVars: 1,\n      hostBindings: function MatListBase_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.attribute(\"aria-disabled\", ctx.disabled);\n        }\n      },\n      inputs: {\n        disableRipple: \"disableRipple\",\n        disabled: \"disabled\"\n      }\n    });\n  }\n  return MatListBase;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListItemBase = /*#__PURE__*/(() => {\n  class MatListItemBase {\n    _elementRef = inject(ElementRef);\n    _ngZone = inject(NgZone);\n    _listBase = inject(MatListBase, {\n      optional: true\n    });\n    _platform = inject(Platform);\n    _hostElement;\n    _isButtonElement;\n    _noopAnimations = _animationsDisabled();\n    _avatars;\n    _icons;\n    set lines(lines) {\n      this._explicitLines = coerceNumberProperty(lines, null);\n      this._updateItemLines(false);\n    }\n    _explicitLines = null;\n    get disableRipple() {\n      return this.disabled || this._disableRipple || this._noopAnimations || !!this._listBase?.disableRipple;\n    }\n    set disableRipple(value) {\n      this._disableRipple = coerceBooleanProperty(value);\n    }\n    _disableRipple = false;\n    get disabled() {\n      return this._disabled() || !!this._listBase?.disabled;\n    }\n    set disabled(value) {\n      this._disabled.set(coerceBooleanProperty(value));\n    }\n    _disabled = signal(false, ...(ngDevMode ? [{\n      debugName: \"_disabled\"\n    }] : []));\n    _subscriptions = new Subscription();\n    _rippleRenderer = null;\n    _hasUnscopedTextContent = false;\n    rippleConfig;\n    get rippleDisabled() {\n      return this.disableRipple || !!this.rippleConfig.disabled;\n    }\n    constructor() {\n      inject(_CdkPrivateStyleLoader).load(_StructuralStylesLoader);\n      const globalRippleOptions = inject(MAT_RIPPLE_GLOBAL_OPTIONS, {\n        optional: true\n      });\n      this.rippleConfig = globalRippleOptions || {};\n      this._hostElement = this._elementRef.nativeElement;\n      this._isButtonElement = this._hostElement.nodeName.toLowerCase() === 'button';\n      if (this._listBase && !this._listBase._isNonInteractive) {\n        this._initInteractiveListItem();\n      }\n      if (this._isButtonElement && !this._hostElement.hasAttribute('type')) {\n        this._hostElement.setAttribute('type', 'button');\n      }\n    }\n    ngAfterViewInit() {\n      this._monitorProjectedLinesAndTitle();\n      this._updateItemLines(true);\n    }\n    ngOnDestroy() {\n      this._subscriptions.unsubscribe();\n      if (this._rippleRenderer !== null) {\n        this._rippleRenderer._removeTriggerEvents();\n      }\n    }\n    _hasIconOrAvatar() {\n      return !!(this._avatars.length || this._icons.length);\n    }\n    _initInteractiveListItem() {\n      this._hostElement.classList.add('mat-mdc-list-item-interactive');\n      this._rippleRenderer = new RippleRenderer(this, this._ngZone, this._hostElement, this._platform, inject(Injector));\n      this._rippleRenderer.setupTriggerEvents(this._hostElement);\n    }\n    _monitorProjectedLinesAndTitle() {\n      this._ngZone.runOutsideAngular(() => {\n        this._subscriptions.add(merge(this._lines.changes, this._titles.changes).subscribe(() => this._updateItemLines(false)));\n      });\n    }\n    _updateItemLines(recheckUnscopedContent) {\n      if (!this._lines || !this._titles || !this._unscopedContent) {\n        return;\n      }\n      if (recheckUnscopedContent) {\n        this._checkDomForUnscopedTextContent();\n      }\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        sanityCheckListItemContent(this);\n      }\n      const numberOfLines = this._explicitLines ?? this._inferLinesFromContent();\n      const unscopedContentEl = this._unscopedContent.nativeElement;\n      this._hostElement.classList.toggle('mat-mdc-list-item-single-line', numberOfLines <= 1);\n      this._hostElement.classList.toggle('mdc-list-item--with-one-line', numberOfLines <= 1);\n      this._hostElement.classList.toggle('mdc-list-item--with-two-lines', numberOfLines === 2);\n      this._hostElement.classList.toggle('mdc-list-item--with-three-lines', numberOfLines === 3);\n      if (this._hasUnscopedTextContent) {\n        const treatAsTitle = this._titles.length === 0 && numberOfLines === 1;\n        unscopedContentEl.classList.toggle('mdc-list-item__primary-text', treatAsTitle);\n        unscopedContentEl.classList.toggle('mdc-list-item__secondary-text', !treatAsTitle);\n      } else {\n        unscopedContentEl.classList.remove('mdc-list-item__primary-text');\n        unscopedContentEl.classList.remove('mdc-list-item__secondary-text');\n      }\n    }\n    _inferLinesFromContent() {\n      let numOfLines = this._titles.length + this._lines.length;\n      if (this._hasUnscopedTextContent) {\n        numOfLines += 1;\n      }\n      return numOfLines;\n    }\n    _checkDomForUnscopedTextContent() {\n      this._hasUnscopedTextContent = Array.from(this._unscopedContent.nativeElement.childNodes).filter(node => node.nodeType !== node.COMMENT_NODE).some(node => !!(node.textContent && node.textContent.trim()));\n    }\n    static fac = function MatListItemBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListItemBase)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListItemBase,\n      contentQueries: function MatListItemBase_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, MatListItemAvatar, 4)(dirIndex, MatListItemIcon, 4);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._avatars = _t);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._icons = _t);\n        }\n      },\n      hostVars: 4,\n      hostBindings: function MatListItemBase_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.attribute(\"aria-disabled\", ctx.disabled)(\"disabled\", ctx._isButtonElement && ctx.disabled || null);\n          i0.classProp(\"mdc-list-item--disabled\", ctx.disabled);\n        }\n      },\n      inputs: {\n        lines: \"lines\",\n        disableRipple: \"disableRipple\",\n        disabled: \"disabled\"\n      }\n    });\n  }\n  return MatListItemBase;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction sanityCheckListItemContent(item) {\n  const numTitles = item._titles.length;\n  const numLines = item._lines.length;\n  if (numTitles > 1) {\n    console.warn('A list item cannot have multiple titles.');\n  }\n  if (numTitles === 0 && numLines > 0) {\n    console.warn('A list item line can only be used if there is a list item title.');\n  }\n  if (numTitles === 0 && item._hasUnscopedTextContent && item._explicitLines !== null && item._explicitLines > 1) {\n    console.warn('A list item cannot have wrapping content without a title.');\n  }\n  if (numLines > 2 || numLines === 2 && item._hasUnscopedTextContent) {\n    console.warn('A list item can have at maximum three lines.');\n  }\n}\nlet MatActionList = /*#__PURE__*/(() => {\n  class MatActionList extends MatListBase {\n    _isNonInteractive = false;\n    static fac = /* @__PURE__ */(() => {\n      let MatActionList_BaseFactory;\n      return function MatActionList_Factory(__ngFactoryType__) {\n        return (MatActionList_BaseFactory || (MatActionList_BaseFactory = i0.getInheritedFactory(MatActionList)))(__ngFactoryType__ || MatActionList);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatActionList,\n      selectors: [[\"mat-action-list\"]],\n      hostAttrs: [\"role\", \"group\", 1, \"mat-mdc-action-list\", \"mat-mdc-list-base\", \"mdc-list\"],\n      exportAs: [\"matActionList\"],\n      features: [i0.ProvidersFeature([{\n        provide: MatListBase,\n        useExisting: MatActionList\n      }]), i0.InheritDefinitionFeature],\n      ngContentSelectors: _c0,\n      decls: 1,\n      vars: 0,\n      template: function MatActionList_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.projection(0);\n        }\n      },\n      styles: [\".mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:\\\"\\\";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:\\\"\\\";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:\\\"\\\";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus-visible>.mat-focus-indicator::before{content:\\\"\\\"}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatActionList;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_LIST = /*#__PURE__*/new InjectionToken('MatList');\nlet MatList = /*#__PURE__*/(() => {\n  class MatList extends MatListBase {\n    static fac = /* @__PURE__ */(() => {\n      let MatList_BaseFactory;\n      return function MatList_Factory(__ngFactoryType__) {\n        return (MatList_BaseFactory || (MatList_BaseFactory = i0.getInheritedFactory(MatList)))(__ngFactoryType__ || MatList);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatList,\n      selectors: [[\"mat-list\"]],\n      hostAttrs: [1, \"mat-mdc-list\", \"mat-mdc-list-base\", \"mdc-list\"],\n      exportAs: [\"matList\"],\n      features: [i0.ProvidersFeature([{\n        provide: MatListBase,\n        useExisting: MatList\n      }]), i0.InheritDefinitionFeature],\n      ngContentSelectors: _c0,\n      decls: 1,\n      vars: 0,\n      template: function MatList_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.projection(0);\n        }\n      },\n      styles: [_c1],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatList;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListItem = /*#__PURE__*/(() => {\n  class MatListItem extends MatListItemBase {\n    _lines;\n    _titles;\n    _meta;\n    _unscopedContent;\n    _itemText;\n    get activated() {\n      return this._activated;\n    }\n    set activated(activated) {\n      this._activated = coerceBooleanProperty(activated);\n    }\n    _activated = false;\n    _getAriaCurrent() {\n      return this._hostElement.nodeName === 'A' && this._activated ? 'page' : null;\n    }\n    _hasBothLeadingAndTrailing() {\n      return this._meta.length !== 0 && (this._avatars.length !== 0 || this._icons.length !== 0);\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatListItem_BaseFactory;\n      return function MatListItem_Factory(__ngFactoryType__) {\n        return (MatListItem_BaseFactory || (MatListItem_BaseFactory = i0.getInheritedFactory(MatListItem)))(__ngFactoryType__ || MatListItem);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatListItem,\n      selectors: [[\"mat-list-item\"], [\"a\", \"mat-list-item\", \"\"], [\"button\", \"mat-list-item\", \"\"]],\n      contentQueries: function MatListItem_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, MatListItemLine, 5)(dirIndex, MatListItemTitle, 5)(dirIndex, MatListItemMeta, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._lines = _t);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._titles = _t);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._meta = _t);\n        }\n      },\n      viewQuery: function MatListItem_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(_c2, 5)(_c3, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._unscopedContent = _t.first);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._itemText = _t.first);\n        }\n      },\n      hostAttrs: [1, \"mat-mdc-list-item\", \"mdc-list-item\"],\n      hostVars: 13,\n      hostBindings: function MatListItem_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.attribute(\"aria-current\", ctx._getAriaCurrent());\n          i0.classProp(\"mdc-list-item--activated\", ctx.activated)(\"mdc-list-item--with-leading-avatar\", ctx._avatars.length !== 0)(\"mdc-list-item--with-leading-icon\", ctx._icons.length !== 0)(\"mdc-list-item--with-trailing-meta\", ctx._meta.length !== 0)(\"mat-mdc-list-item-both-leading-and-trailing\", ctx._hasBothLeadingAndTrailing())(\"_mat-animation-noopable\", ctx._noopAnimations);\n        }\n      },\n      inputs: {\n        activated: \"activated\"\n      },\n      exportAs: [\"matListItem\"],\n      features: [i0.InheritDefinitionFeature],\n      ngContentSelectors: _c5,\n      decls: 10,\n      vars: 0,\n      consts: [[\"unscopedContent\", \"\"], [1, \"mdc-list-item__content\"], [1, \"mat-mdc-list-item-unscoped-content\", 3, \"cdkObserveContent\"], [1, \"mat-focus-indicator\"]],\n      template: function MatListItem_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.getCurrentView();\n          i0.projectionDef(_c4);\n          i0.projection(0);\n          i0.elementStart(1, \"span\", 1);\n          i0.projection(2, 1);\n          i0.projection(3, 2);\n          i0.elementStart(4, \"span\", 2, 0);\n          i0.listener(\"cdkObserveContent\", function MatListItem_Template_span_cdkObserveContent_4_listener() {\n            i0.restoreView(_r1);\n            return i0.resetView(ctx._updateItemLines(true));\n          });\n          i0.projection(6, 3);\n          i0.elementEnd()();\n          i0.projection(7, 4);\n          i0.projection(8, 5);\n          i0.element(9, \"div\", 3);\n        }\n      },\n      dependencies: [CdkObserveContent],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatListItem;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst SELECTION_LIST = /*#__PURE__*/new InjectionToken('SelectionList');\nlet MatListOption = /*#__PURE__*/(() => {\n  class MatListOption extends MatListItemBase {\n    _selectionList = inject(SELECTION_LIST);\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _lines;\n    _titles;\n    _unscopedContent;\n    selectedChange = new EventEmitter();\n    togglePosition = 'after';\n    get checkboxPosition() {\n      return this.togglePosition;\n    }\n    set checkboxPosition(value) {\n      this.togglePosition = value;\n    }\n    get color() {\n      return this._color || this._selectionList.color;\n    }\n    set color(newValue) {\n      this._color = newValue;\n    }\n    _color;\n    get value() {\n      return this._value;\n    }\n    set value(newValue) {\n      if (this.selected && newValue !== this.value && this._inputsInitialized) {\n        this.selected = false;\n      }\n      this._value = newValue;\n    }\n    _value;\n    get selected() {\n      return this._selectionList.selectedOptions.isSelected(this);\n    }\n    set selected(value) {\n      const isSelected = coerceBooleanProperty(value);\n      if (isSelected !== this._selected) {\n        this._setSelected(isSelected);\n        if (isSelected || this._selectionList.multiple) {\n          this._selectionList._reportValueChange();\n        }\n      }\n    }\n    _selected = false;\n    _inputsInitialized = false;\n    ngOnInit() {\n      const list = this._selectionList;\n      if (list._value && list._value.some(value => list.compareWith(this._value, value))) {\n        this._setSelected(true);\n      }\n      const wasSelected = this._selected;\n      Promise.resolve().then(() => {\n        if (this._selected || wasSelected) {\n          this.selected = true;\n          this._changeDetectorRef.markForCheck();\n        }\n      });\n      this._inputsInitialized = true;\n    }\n    ngOnDestroy() {\n      super.ngOnDestroy();\n      if (this.selected) {\n        Promise.resolve().then(() => {\n          this.selected = false;\n        });\n      }\n    }\n    toggle() {\n      this.selected = !this.selected;\n    }\n    focus() {\n      this._hostElement.focus();\n    }\n    getLabel() {\n      const titleElement = this._titles?.get(0)?._elementRef.nativeElement;\n      const labelEl = titleElement || this._unscopedContent?.nativeElement;\n      return labelEl?.textContent || '';\n    }\n    _hasCheckboxAt(position) {\n      return this._selectionList.multiple && this._getTogglePosition() === position;\n    }\n    _hasRadioAt(position) {\n      return !this._selectionList.multiple && this._getTogglePosition() === position && !this._selectionList.hideSingleSelectionIndicator;\n    }\n    _hasIconsOrAvatarsAt(position) {\n      return this._hasProjected('icons', position) || this._hasProjected('avatars', position);\n    }\n    _hasProjected(type, position) {\n      return this._getTogglePosition() !== position && (type === 'avatars' ? this._avatars.length !== 0 : this._icons.length !== 0);\n    }\n    _handleBlur() {\n      this._selectionList._onTouched();\n    }\n    _getTogglePosition() {\n      return this.togglePosition || 'after';\n    }\n    _setSelected(selected) {\n      if (selected === this._selected) {\n        return false;\n      }\n      this._selected = selected;\n      if (selected) {\n        this._selectionList.selectedOptions.select(this);\n      } else {\n        this._selectionList.selectedOptions.deselect(this);\n      }\n      this.selectedChange.emit(selected);\n      this._changeDetectorRef.markForCheck();\n      return true;\n    }\n    _markForCheck() {\n      this._changeDetectorRef.markForCheck();\n    }\n    _toggleOnInteraction() {\n      if (!this.disabled) {\n        if (this._selectionList.multiple) {\n          this.selected = !this.selected;\n          this._selectionList._emitChangeEvent([this]);\n        } else if (!this.selected) {\n          this.selected = true;\n          this._selectionList._emitChangeEvent([this]);\n        }\n      }\n    }\n    _setTabindex(value) {\n      this._hostElement.setAttribute('tabindex', value + '');\n    }\n    _hasBothLeadingAndTrailing() {\n      const hasLeading = this._hasProjected('avatars', 'before') || this._hasProjected('icons', 'before') || this._hasCheckboxAt('before') || this._hasRadioAt('before');\n      const hasTrailing = this._hasProjected('icons', 'after') || this._hasProjected('avatars', 'after') || this._hasCheckboxAt('after') || this._hasRadioAt('after');\n      return hasLeading && hasTrailing;\n    }\n    static fac = /* @__PURE__ */(() => {\n      let MatListOption_BaseFactory;\n      return function MatListOption_Factory(__ngFactoryType__) {\n        return (MatListOption_BaseFactory || (MatListOption_BaseFactory = i0.getInheritedFactory(MatListOption)))(__ngFactoryType__ || MatListOption);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatListOption,\n      selectors: [[\"mat-list-option\"]],\n      contentQueries: function MatListOption_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, MatListItemLine, 5)(dirIndex, MatListItemTitle, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._lines = _t);\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._titles = _t);\n        }\n      },\n      viewQuery: function MatListOption_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(_c2, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._unscopedContent = _t.first);\n        }\n      },\n      hostAttrs: [\"role\", \"option\", 1, \"mat-mdc-list-item\", \"mat-mdc-list-option\", \"mdc-list-item\"],\n      hostVars: 27,\n      hostBindings: function MatListOption_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"blur\", function MatListOption_blur_HostBindingHandler() {\n            return ctx._handleBlur();\n          })(\"click\", function MatListOption_click_HostBindingHandler() {\n            return ctx._toggleOnInteraction();\n          });\n        }\n        if (rf & 2) {\n          i0.attribute(\"aria-selected\", ctx.selected);\n          i0.classProp(\"mdc-list-item--selected\", ctx.selected && !ctx._selectionList.multiple && ctx._selectionList.hideSingleSelectionIndicator)(\"mdc-list-item--with-leading-avatar\", ctx._hasProjected(\"avatars\", \"before\"))(\"mdc-list-item--with-leading-icon\", ctx._hasProjected(\"icons\", \"before\"))(\"mdc-list-item--with-trailing-icon\", ctx._hasProjected(\"icons\", \"after\"))(\"mat-mdc-list-option-with-trailing-avatar\", ctx._hasProjected(\"avatars\", \"after\"))(\"mdc-list-item--with-leading-checkbox\", ctx._hasCheckboxAt(\"before\"))(\"mdc-list-item--with-trailing-checkbox\", ctx._hasCheckboxAt(\"after\"))(\"mdc-list-item--with-leading-radio\", ctx._hasRadioAt(\"before\"))(\"mdc-list-item--with-trailing-radio\", ctx._hasRadioAt(\"after\"))(\"mat-mdc-list-item-both-leading-and-trailing\", ctx._hasBothLeadingAndTrailing())(\"mat-accent\", ctx.color !== \"primary\" && ctx.color !== \"warn\")(\"mat-warn\", ctx.color === \"warn\")(\"_mat-animation-noopable\", ctx._noopAnimations);\n        }\n      },\n      inputs: {\n        togglePosition: \"togglePosition\",\n        checkboxPosition: \"checkboxPosition\",\n        color: \"color\",\n        value: \"value\",\n        selected: \"selected\"\n      },\n      outputs: {\n        selectedChange: \"selectedChange\"\n      },\n      exportAs: [\"matListOption\"],\n      features: [i0.ProvidersFeature([{\n        provide: MatListItemBase,\n        useExisting: MatListOption\n      }, {\n        provide: LIST_OPTION,\n        useExisting: MatListOption\n      }]), i0.InheritDefinitionFeature],\n      ngContentSelectors: _c7,\n      decls: 20,\n      vars: 4,\n      consts: [[\"icons\", \"\"], [\"checkbox\", \"\"], [\"radio\", \"\"], [\"unscopedContent\", \"\"], [1, \"mdc-list-item__start\", \"mat-mdc-list-option-checkbox-before\"], [1, \"mdc-list-item__start\", \"mat-mdc-list-option-radio-before\"], [3, \"ngTemplateOutlet\"], [1, \"mdc-list-item__content\"], [1, \"mat-mdc-list-item-unscoped-content\", 3, \"cdkObserveContent\"], [1, \"mdc-list-item__end\"], [1, \"mat-focus-indicator\"], [1, \"mdc-checkbox\"], [\"type\", \"checkbox\", 1, \"mdc-checkbox__native-control\", 3, \"checked\", \"disabled\"], [1, \"mdc-checkbox__background\"], [\"viewBox\", \"0 0 24 24\", \"aria-hidden\", \"true\", 1, \"mdc-checkbox__checkmark\"], [\"fill\", \"none\", \"d\", \"M1.73,12.91 8.1,19.28 22.79,4.59\", 1, \"mdc-checkbox__checkmark-path\"], [1, \"mdc-checkbox__mixedmark\"], [1, \"mdc-radio\"], [\"type\", \"radio\", 1, \"mdc-radio__native-control\", 3, \"checked\", \"disabled\"], [1, \"mdc-radio__background\"], [1, \"mdc-radio__outer-circle\"], [1, \"mdc-radio__inner-circle\"]],\n      template: function MatListOption_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.getCurrentView();\n          i0.projectionDef(_c6);\n          i0.template(0, MatListOption_ng_template_0_Template, 1, 0, \"ng-template\", null, 0, i0.templateRefExtractor)(2, MatListOption_ng_template_2_Template, 6, 4, \"ng-template\", null, 1, i0.templateRefExtractor)(4, MatListOption_ng_template_4_Template, 5, 4, \"ng-template\", null, 2, i0.templateRefExtractor);\n          i0.conditionalCreate(6, MatListOption_Conditional_6_Template, 2, 1, \"span\", 4)(7, MatListOption_Conditional_7_Template, 2, 1, \"span\", 5);\n          i0.conditionalCreate(8, MatListOption_Conditional_8_Template, 1, 1, null, 6);\n          i0.elementStart(9, \"span\", 7);\n          i0.projection(10);\n          i0.projection(11, 1);\n          i0.elementStart(12, \"span\", 8, 3);\n          i0.listener(\"cdkObserveContent\", function MatListOption_Template_span_cdkObserveContent_12_listener() {\n            i0.restoreView(_r1);\n            return i0.resetView(ctx._updateItemLines(true));\n          });\n          i0.projection(14, 2);\n          i0.elementEnd()();\n          i0.conditionalCreate(15, MatListOption_Conditional_15_Template, 2, 1, \"span\", 9)(16, MatListOption_Conditional_16_Template, 2, 1, \"span\", 9);\n          i0.conditionalCreate(17, MatListOption_Conditional_17_Template, 1, 1, null, 6);\n          i0.projection(18, 3);\n          i0.element(19, \"div\", 10);\n        }\n        if (rf & 2) {\n          i0.advance(6);\n          i0.conditional(ctx._hasCheckboxAt(\"before\") ? 6 : ctx._hasRadioAt(\"before\") ? 7 : -1);\n          i0.advance(2);\n          i0.conditional(ctx._hasIconsOrAvatarsAt(\"before\") ? 8 : -1);\n          i0.advance(7);\n          i0.conditional(ctx._hasCheckboxAt(\"after\") ? 15 : ctx._hasRadioAt(\"after\") ? 16 : -1);\n          i0.advance(2);\n          i0.conditional(ctx._hasIconsOrAvatarsAt(\"after\") ? 17 : -1);\n        }\n      },\n      dependencies: [NgTemplateOutlet, CdkObserveContent],\n      styles: [\".mat-mdc-list-option-with-trailing-avatar.mdc-list-item,[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:0;padding-right:0}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px;width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:\\\"\\\";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\\\"\\\";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mat-mdc-list-option .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:GrayText}}.mat-mdc-list-option .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:\\\"\\\";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-list-option .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}@media(forced-colors: active){.mat-mdc-list-option.mdc-list-item--selected::after{content:\\\"\\\";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatListOption;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListSubheaderCssMatStyler = /*#__PURE__*/(() => {\n  class MatListSubheaderCssMatStyler {\n    static fac = function MatListSubheaderCssMatStyler_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListSubheaderCssMatStyler)();\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: MatListSubheaderCssMatStyler,\n      selectors: [[\"\", \"mat-subheader\", \"\"], [\"\", \"matSubheader\", \"\"]],\n      hostAttrs: [1, \"mat-mdc-subheader\", \"mdc-list-group__subheader\"]\n    });\n  }\n  return MatListSubheaderCssMatStyler;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_NAV_LIST = /*#__PURE__*/new InjectionToken('MatNavList');\nlet MatNavList = /*#__PURE__*/(() => {\n  class MatNavList extends MatListBase {\n    _isNonInteractive = false;\n    static fac = /* @__PURE__ */(() => {\n      let MatNavList_BaseFactory;\n      return function MatNavList_Factory(__ngFactoryType__) {\n        return (MatNavList_BaseFactory || (MatNavList_BaseFactory = i0.getInheritedFactory(MatNavList)))(__ngFactoryType__ || MatNavList);\n      };\n    })();\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatNavList,\n      selectors: [[\"mat-nav-list\"]],\n      hostAttrs: [\"role\", \"navigation\", 1, \"mat-mdc-nav-list\", \"mat-mdc-list-base\", \"mdc-list\"],\n      exportAs: [\"matNavList\"],\n      features: [i0.ProvidersFeature([{\n        provide: MatListBase,\n        useExisting: MatNavList\n      }]), i0.InheritDefinitionFeature],\n      ngContentSelectors: _c0,\n      decls: 1,\n      vars: 0,\n      template: function MatNavList_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.projection(0);\n        }\n      },\n      styles: [_c1],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatNavList;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_SELECTION_LIST_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: /*#__PURE__*/forwardRef(() => MatSelectionList),\n  multi: true\n};\nclass MatSelectionListChange {\n  source;\n  options;\n  constructor(source, options) {\n    this.source = source;\n    this.options = options;\n  }\n}\nlet MatSelectionList = /*#__PURE__*/(() => {\n  class MatSelectionList extends MatListBase {\n    _element = inject(ElementRef);\n    _ngZone = inject(NgZone);\n    _renderer = inject(Renderer2);\n    _initialized = false;\n    _keyManager;\n    _listenerCleanups;\n    _destroyed = new Subject();\n    _isDestroyed;\n    _onChange = _ => {};\n    _items;\n    selectionChange = new EventEmitter();\n    color = 'accent';\n    compareWith = (a1, a2) => a1 === a2;\n    get multiple() {\n      return this._multiple;\n    }\n    set multiple(value) {\n      const newValue = coerceBooleanProperty(value);\n      if (newValue !== this._multiple) {\n        if ((typeof ngDevMode === 'undefined' || ngDevMode) && this._initialized) {\n          throw new Error('Cannot change `multiple` mode of mat-selection-list after initialization.');\n        }\n        this._multiple = newValue;\n        this.selectedOptions = new SelectionModel(this._multiple, this.selectedOptions.selected);\n      }\n    }\n    _multiple = true;\n    get hideSingleSelectionIndicator() {\n      return this._hideSingleSelectionIndicator;\n    }\n    set hideSingleSelectionIndicator(value) {\n      this._hideSingleSelectionIndicator = coerceBooleanProperty(value);\n    }\n    _hideSingleSelectionIndicator = this._defaultOptions?.hideSingleSelectionIndicator ?? false;\n    selectedOptions = new SelectionModel(this._multiple);\n    _value;\n    _onTouched = () => {};\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    constructor() {\n      super();\n      this._isNonInteractive = false;\n    }\n    ngAfterViewInit() {\n      this._initialized = true;\n      this._setupRovingTabindex();\n      this._ngZone.runOutsideAngular(() => {\n        this._listenerCleanups = [this._renderer.listen(this._element.nativeElement, 'focusin', this._handleFocusin), this._renderer.listen(this._element.nativeElement, 'focusout', this._handleFocusout)];\n      });\n      if (this._value) {\n        this._setOptionsFromValues(this._value);\n      }\n      this._watchForSelectionChange();\n    }\n    ngOnChanges(changes) {\n      const disabledChanges = changes['disabled'];\n      const disableRippleChanges = changes['disableRipple'];\n      const hideSingleSelectionIndicatorChanges = changes['hideSingleSelectionIndicator'];\n      if (disableRippleChanges && !disableRippleChanges.firstChange || disabledChanges && !disabledChanges.firstChange || hideSingleSelectionIndicatorChanges && !hideSingleSelectionIndicatorChanges.firstChange) {\n        this._markOptionsForCheck();\n      }\n    }\n    ngOnDestroy() {\n      this._keyManager?.destroy();\n      this._listenerCleanups?.forEach(current => current());\n      this._destroyed.next();\n      this._destroyed.complete();\n      this._isDestroyed = true;\n    }\n    focus(options) {\n      this._element.nativeElement.focus(options);\n    }\n    selectAll() {\n      return this._setAllOptionsSelected(true);\n    }\n    deselectAll() {\n      return this._setAllOptionsSelected(false);\n    }\n    _reportValueChange() {\n      if (this.options && !this._isDestroyed) {\n        const value = this._getSelectedOptionValues();\n        this._onChange(value);\n        this._value = value;\n      }\n    }\n    _emitChangeEvent(options) {\n      this.selectionChange.emit(new MatSelectionListChange(this, options));\n    }\n    writeValue(values) {\n      this._value = values;\n      if (this.options) {\n        this._setOptionsFromValues(values || []);\n      }\n    }\n    setDisabledState(isDisabled) {\n      this.disabled = isDisabled;\n      this._changeDetectorRef.markForCheck();\n      this._markOptionsForCheck();\n    }\n    get disabled() {\n      return this._selectionListDisabled();\n    }\n    set disabled(value) {\n      this._selectionListDisabled.set(coerceBooleanProperty(value));\n      if (this._selectionListDisabled()) {\n        this._keyManager?.setActiveItem(-1);\n      }\n    }\n    _selectionListDisabled = signal(false, ...(ngDevMode ? [{\n      debugName: \"_selectionListDisabled\"\n    }] : []));\n    registerOnChange(fn) {\n      this._onChange = fn;\n    }\n    registerOnTouched(fn) {\n      this._onTouched = fn;\n    }\n    _watchForSelectionChange() {\n      this.selectedOptions.changed.pipe(takeUntil(this._destroyed)).subscribe(event => {\n        for (let item of event.added) {\n          item.selected = true;\n        }\n        for (let item of event.removed) {\n          item.selected = false;\n        }\n        if (!this._containsFocus()) {\n          this._resetActiveOption();\n        }\n      });\n    }\n    _setOptionsFromValues(values) {\n      this.options.forEach(option => option._setSelected(false));\n      values.forEach(value => {\n        const correspondingOption = this.options.find(option => {\n          return option.selected ? false : this.compareWith(option.value, value);\n        });\n        if (correspondingOption) {\n          correspondingOption._setSelected(true);\n        }\n      });\n    }\n    _getSelectedOptionValues() {\n      return this.options.filter(option => option.selected).map(option => option.value);\n    }\n    _markOptionsForCheck() {\n      if (this.options) {\n        this.options.forEach(option => option._markForCheck());\n      }\n    }\n    _setAllOptionsSelected(isSelected, skipDisabled) {\n      const changedOptions = [];\n      this.options.forEach(option => {\n        if ((!skipDisabled || !option.disabled) && option._setSelected(isSelected)) {\n          changedOptions.push(option);\n        }\n      });\n      if (changedOptions.length) {\n        this._reportValueChange();\n      }\n      return changedOptions;\n    }\n    get options() {\n      return this._items;\n    }\n    _handleKeydown(event) {\n      const activeItem = this._keyManager.activeItem;\n      if ((event.keyCode === ENTER || event.keyCode === SPACE) && !this._keyManager.isTyping() && activeItem && !activeItem.disabled) {\n        event.preventDefault();\n        activeItem._toggleOnInteraction();\n      } else if (event.keyCode === A && this.multiple && !this._keyManager.isTyping() && hasModifierKey(event, 'ctrlKey', 'metaKey')) {\n        const shouldSelect = this.options.some(option => !option.disabled && !option.selected);\n        event.preventDefault();\n        this._emitChangeEvent(this._setAllOptionsSelected(shouldSelect, true));\n      } else {\n        this._keyManager.onKeydown(event);\n      }\n    }\n    _handleFocusout = () => {\n      setTimeout(() => {\n        if (!this._containsFocus()) {\n          this._resetActiveOption();\n        }\n      });\n    };\n    _handleFocusin = event => {\n      if (this.disabled) {\n        return;\n      }\n      const activeIndex = this._items.toArray().findIndex(item => item._elementRef.nativeElement.contains(event.target));\n      if (activeIndex > -1) {\n        this._setActiveOption(activeIndex);\n      } else {\n        this._resetActiveOption();\n      }\n    };\n    _setupRovingTabindex() {\n      this._keyManager = new FocusKeyManager(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(() => this.disabled);\n      this._resetActiveOption();\n      this._keyManager.change.subscribe(activeItemIndex => this._setActiveOption(activeItemIndex));\n      this._items.changes.pipe(takeUntil(this._destroyed)).subscribe(() => {\n        const activeItem = this._keyManager.activeItem;\n        if (!activeItem || this._items.toArray().indexOf(activeItem) === -1) {\n          this._resetActiveOption();\n        }\n      });\n    }\n    _setActiveOption(index) {\n      this._items.forEach((item, itemIndex) => item._setTabindex(itemIndex === index ? 0 : -1));\n      this._keyManager.updateActiveItem(index);\n    }\n    _resetActiveOption() {\n      if (this.disabled) {\n        this._setActiveOption(-1);\n        return;\n      }\n      const activeItem = this._items.find(item => item.selected && !item.disabled) || this._items.first;\n      this._setActiveOption(activeItem ? this._items.toArray().indexOf(activeItem) : -1);\n    }\n    _containsFocus() {\n      const activeElement = _getFocusedElementPierceShadowDom();\n      return activeElement && this._element.nativeElement.contains(activeElement);\n    }\n    static fac = function MatSelectionList_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatSelectionList)();\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: MatSelectionList,\n      selectors: [[\"mat-selection-list\"]],\n      contentQueries: function MatSelectionList_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.contentQuery(dirIndex, MatListOption, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx._items = _t);\n        }\n      },\n      hostAttrs: [\"role\", \"listbox\", 1, \"mat-mdc-selection-list\", \"mat-mdc-list-base\", \"mdc-list\"],\n      hostVars: 1,\n      hostBindings: function MatSelectionList_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.listener(\"keydown\", function MatSelectionList_keydown_HostBindingHandler($event) {\n            return ctx._handleKeydown($event);\n          });\n        }\n        if (rf & 2) {\n          i0.attribute(\"aria-multiselectable\", ctx.multiple);\n        }\n      },\n      inputs: {\n        color: \"color\",\n        compareWith: \"compareWith\",\n        multiple: \"multiple\",\n        hideSingleSelectionIndicator: \"hideSingleSelectionIndicator\",\n        disabled: \"disabled\"\n      },\n      outputs: {\n        selectionChange: \"selectionChange\"\n      },\n      exportAs: [\"matSelectionList\"],\n      features: [i0.ProvidersFeature([MAT_SELECTION_LIST_VALUE_ACCESSOR, {\n        provide: MatListBase,\n        useExisting: MatSelectionList\n      }, {\n        provide: SELECTION_LIST,\n        useExisting: MatSelectionList\n      }]), i0.InheritDefinitionFeature, i0.NgOnChangesFeature],\n      ngContentSelectors: _c0,\n      decls: 1,\n      vars: 0,\n      template: function MatSelectionList_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.projection(0);\n        }\n      },\n      styles: [_c1],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return MatSelectionList;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatListModule = /*#__PURE__*/(() => {\n  class MatListModule {\n    static fac = function MatListModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatListModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: MatListModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({\n      imports: [ObserversModule, MatRippleModule, MatPseudoCheckboxModule, BidiModule, MatDividerModule]\n    });\n  }\n  return MatListModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { MAT_LIST, MAT_LIST_CONFIG, MAT_NAV_LIST, MAT_SELECTION_LIST_VALUE_ACCESSOR, MatActionList, MatList, MatListItem, MatListItemAvatar, MatListItemIcon, MatListItemLine, MatListItemMeta, MatListItemTitle, MatListModule, MatListOption, MatListSubheaderCssMatStyler, MatNavList, MatSelectionList, MatSelectionListChange, SELECTION_LIST, _MatListItemGraphicBase };\n","import { NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\n\r\n@Component({\r\n    selector: 'app-picker-pills',\r\n    templateUrl: './picker-pills.html',\r\n    styleUrls: ['./picker-pills.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        NgClass,\r\n        MatRippleModule,\r\n        MatListModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class PickerPillsComponent extends PickerPartBaseComponent { }\r\n","<div class=\"c-ew__preview-holder\">\r\n  <mat-label class=\"c-ew__preview-label\" [ngClass]=\"{\r\n    'mat-caption' : itemCount(),\r\n    'mat-empty' : !itemCount(),\r\n    'mat-error' : ui().touchedAndInvalid && !config.initialDisabled,\r\n    'color__primary' : !ui().touchedAndInvalid && !config.initialDisabled,\r\n    'my-label-disabled' : config.initialDisabled\r\n    }\">\r\n    {{ basics().labelWithRequired }}\r\n  </mat-label>\r\n  <div matRipple [matRippleAnimation]=\"{ enterDuration: 360 }\" class=\"c-ew__preview mat-ripple\" (click)=\"expandDialog()\"\r\n    [ngClass]=\"{\r\n    'c-ew__preview--invalid' : ui().touchedAndInvalid,\r\n    'c-ew__preview--disabled': config.initialDisabled\r\n    }\">\r\n    <div [ngClass]=\"itemCount() ? 'c-ew__preview-container' : 'c-ew__preview-container--empty'\">\r\n      <div class=\"my-flex\">\r\n        @if (itemCount()) {\r\n          <mat-list class=\"eav-list my-pills\">\r\n            @for (item of selectedItems(); track (item.value + $index)) {\r\n              <mat-list-item role=\"listitem\" class=\"eav-list-item\" [tippy]=\"item.tooltip\">\r\n                <span mat-line>{{ item.label }}</span>\r\n              </mat-list-item>\r\n            }\r\n          </mat-list>\r\n        }\r\n        @if (itemCount() > 3) {\r\n          <span class=\"eav-more-entities\" [ngClass]=\"{'eav-more-entities-margin-right': enableTextEntry() }\">\r\n            {{ itemCount() }}\r\n          </span>\r\n        }\r\n        @if (enableTextEntry()) {\r\n          <span matSuffix>\r\n            <ng-content select=\"[freeTextButtons]\"></ng-content>\r\n          </span>\r\n        }\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatRadioButton } from '@angular/material/radio';\r\nimport { FeatureNames } from '../../../../features/feature-names';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { PickerInlineBaseComponent } from '../picker-inline/picker-inline-base';\r\nimport { PickerInlineHeaderComponent } from '../picker-inline/picker-inline-header';\r\nimport { PickerPreviewLabelComponent } from '../picker-item-label/picker-item-label';\r\n\r\n@Component({\r\n    selector: 'app-picker-radio',\r\n    templateUrl: './picker-radio.html',\r\n    styleUrls: ['./picker-radio.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        MatRippleModule,\r\n        MatRadioButton,\r\n        TippyDirective,\r\n        PickerInlineHeaderComponent,\r\n        PickerPreviewLabelComponent,\r\n    ]\r\n})\r\nexport class PickerRadioComponent extends PickerInlineBaseComponent {\r\n\r\n  constructor() {\r\n    super();\r\n    this.fieldState.requireFeature(FeatureNames.PickerUiRadio);\r\n  }\r\n\r\n  /** Name is used to group the radio buttons together in the form */\r\n  name = this.fieldState.name;\r\n\r\n}\r\n","<div class=\"c-ew__preview-holder\">\r\n  <app-picker-inline-header>\r\n    <ng-content addNew select=\"[addNew]\"></ng-content>\r\n    <ng-content freeTextButtons select=\"[freeTextButtons]\"></ng-content>\r\n  </app-picker-inline-header>\r\n\r\n  <!-- <div (click)=\"expandDialog()\"\r\n    [ngClass]=\"{\r\n    'c-ew__preview--invalid' : ui().touchedAndInvalid,\r\n    'c-ew__preview--disabled': config.initialDisabled\r\n    }\"> -->\r\n\r\n    @for (item of options(); track item.value) {\r\n      <div>\r\n        <mat-radio-button\r\n          class=\"picker-option-wrapper\"\r\n          (click)=\"select(item)\"\r\n          [name]=\"name\"\r\n          [checked]=\"item.selected\"\r\n          [disabled]=\"ui().disabled || item.noSelect\"\r\n          [tippy]=\"item.tooltip\"\r\n          tippyShowDelay=\"500\"\r\n          [tippyAllowHtml]=\"true\"\r\n          [tippyArrow]=\"true\"\r\n        >\r\n          <!-- Show Preview Label -->\r\n          <app-picker-item-label [item]=\"item\" [show]=\"true\" [index]=\"$index\" [settings]=\"fieldState.settings()\" [uiFeatures]=\"{ remove: false }\" [actionsFirst]=\"true\"></app-picker-item-label>\r\n        </mat-radio-button>\r\n      </div>\r\n    }\r\n  <!-- </div> -->\r\n</div>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, inject, input } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ClickStopPropagationDirective } from '../../../../shared/directives/click-stop-propagation.directive';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { FieldState } from '../../field-state';\r\n\r\n@Component({\r\n    selector: 'app-picker-toggle-text',\r\n    templateUrl: './picker-text-toggle.html',\r\n    styleUrls: ['./picker-text-toggle.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        MatButtonModule,\r\n        NgClass,\r\n        MatIconModule,\r\n        ClickStopPropagationDirective,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class PickerTextToggleComponent {\r\n  csDisabled = input<boolean>();\r\n  allowText = input<boolean>();\r\n  isTextMode = input<boolean>(false);\r\n\r\n  showBoth = input<boolean>(true);\r\n\r\n  pickerData = inject(FieldState).pickerData;\r\n\r\n  constructor() { }\r\n\r\n  toggleFreeText(disabled: boolean): void {\r\n    if (disabled) return;\r\n    this.pickerData.toggleFreeTextMode();\r\n  }\r\n}\r\n","@if (allowText()) {\r\n  <span matSuffix class=\"toggle-buttons\">\r\n    @if (showBoth() || isTextMode()) {\r\n      <button\r\n        mat-icon-button\r\n        class=\"eav-suffix-button\"\r\n        [ngClass]=\"isTextMode() ? '' : 'active'\"\r\n        tippyTranslate=\"Fields.String.Dropdown\"\r\n        [disabled]=\"csDisabled()\"\r\n        appClickStopPropagation\r\n        (click)=\"isTextMode() ? toggleFreeText(csDisabled()) : null\"\r\n      >\r\n        <mat-icon>search</mat-icon>\r\n      </button>\r\n    }\r\n    @if (showBoth() || !isTextMode()) {\r\n      <button\r\n        mat-icon-button\r\n        class=\"eav-suffix-button\"\r\n        [ngClass]=\"isTextMode() ? 'active' : ''\"\r\n        tippyTranslate=\"Fields.String.Freetext\"\r\n        [disabled]=\"csDisabled()\"\r\n        appClickStopPropagation\r\n        (click)=\"isTextMode() ? null : toggleFreeText(csDisabled())\"\r\n      >\r\n        <mat-icon>text_fields</mat-icon>\r\n      </button>\r\n    }\r\n  </span>\r\n}\r\n","import { NgClass, NgTemplateOutlet } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { PickerCheckboxesComponent } from '../picker-checkboxes/picker-checkboxes';\r\nimport { PickerPartBaseComponent } from '../picker-part-base';\r\nimport { PickerPillsComponent } from '../picker-pills/picker-pills';\r\nimport { PickerRadioComponent } from '../picker-radio/picker-radio';\r\nimport { PickerSearchComponent } from '../picker-search/picker-search';\r\nimport { PickerTextToggleComponent } from '../picker-text-toggle/picker-text-toggle';\r\nimport { PickerTextComponent } from '../picker-text/picker-text';\r\n\r\n@Component({\r\n    selector: 'app-picker-preview',\r\n    templateUrl: './picker-preview.html',\r\n    styleUrls: ['./picker-preview.scss'],\r\n    imports: [\r\n        NgTemplateOutlet,\r\n        NgClass,\r\n        MatButtonModule,\r\n        MatMenuModule,\r\n        MatIconModule,\r\n        TippyDirective,\r\n        PickerPillsComponent,\r\n        PickerTextToggleComponent,\r\n        PickerSearchComponent,\r\n        PickerTextComponent,\r\n        PickerCheckboxesComponent,\r\n        PickerRadioComponent,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\nexport class PickerPreviewComponent extends PickerPartBaseComponent {\r\n\r\n  log = classLog({PickerPreviewComponent});\r\n\r\n  constructor() { super(); }\r\n\r\n  #pickerMode = this.fieldState.settingExt('PickerDisplayMode');\r\n\r\n  mode = computedObj('mode', () => {\r\n    if (this.isInFreeTextMode()) return 'text';\r\n    const pdm = this.#pickerMode();\r\n    switch (pdm) {\r\n      case 'radio': return 'radio';\r\n      case 'checkbox': return 'checkbox';\r\n      case 'auto-inline':\r\n        // TODO: Check if the selected exist in the options, if not, default to text\r\n        const pd = this.fieldState.pickerData;\r\n\r\n\r\n        // Multi-value should automatically use checkboxes\r\n        if (this.features().multiValue) return 'checkbox';\r\n        return 'radio';\r\n      case 'list':\r\n      default:\r\n        if (this.selectedItems().length > 1) return 'pills';\r\n        return 'search';\r\n    }\r\n  });\r\n\r\n  skipHelpText = computedObj('helpTextOnTop', () => {\r\n    const mode = this.mode();\r\n    return mode === 'radio' || mode === 'checkbox';\r\n  });\r\n\r\n}\r\n","<div class=\"my-flex\">\r\n  <!-- The Input field / checkboxes etc. -->\r\n  <div class=\"eav-mat-form-field\">\r\n    @switch (mode()) {\r\n      @case (\"text\") {\r\n        <app-picker-text>\r\n          <ng-container freeTextButtons *ngTemplateOutlet=\"textToggle\"></ng-container>\r\n        </app-picker-text>\r\n      }\r\n      @case (\"checkbox\") {\r\n        <app-picker-checkboxes>\r\n          <ng-container addNew *ngTemplateOutlet=\"addNew\"></ng-container>\r\n          <ng-container freeTextButtons *ngTemplateOutlet=\"textToggle; context: { $implicit: false }\"></ng-container>\r\n        </app-picker-checkboxes>\r\n      }\r\n      @case (\"radio\") {\r\n        <app-picker-radio>\r\n          <ng-container addNew *ngTemplateOutlet=\"addNew\"></ng-container>\r\n          <ng-container freeTextButtons *ngTemplateOutlet=\"textToggle; context: { $implicit: false }\"></ng-container>\r\n        </app-picker-radio>\r\n      }\r\n      @case (\"pills\") {\r\n        <app-picker-pills>\r\n          <ng-container freeTextButtons *ngTemplateOutlet=\"textToggle\"></ng-container>\r\n        </app-picker-pills>\r\n      }\r\n      @case (\"search\") {\r\n        <app-picker-search [showSelectedItem]=\"true\" [showItemEditButtons]=\"true\">\r\n          <ng-container freeTextButtons *ngTemplateOutlet=\"textToggle\"></ng-container>\r\n        </app-picker-search>\r\n      }\r\n    }\r\n  </div>\r\n\r\n  <!-- The edit / add buttons -->\r\n  @if (mode() !== \"radio\" && mode() !== \"checkbox\") {\r\n\r\n    <div class=\"my-flex\">\r\n      <!-- create new entity to add to this list -->\r\n      <ng-container *ngTemplateOutlet=\"addNew\"></ng-container>\r\n      <!-- Open dialog button -->\r\n      @if (features().showGoToListDialogButton) {\r\n        <button\r\n          mat-icon-button\r\n          class=\"picker-inline-button\"\r\n          [disabled]=\"ui().disabled\"\r\n          tippyTranslate=\"Fields.Picker.OpenMultiselect\"\r\n          (click)=\"expandDialog()\"\r\n        >\r\n          <mat-icon>post_add</mat-icon>\r\n        </button>\r\n      }\r\n    </div>\r\n  }\r\n</div>\r\n\r\n<!-- Help text for most controls (not radio/checkbox) -->\r\n@if (!skipHelpText()) {\r\n  <app-field-helper-text></app-field-helper-text>\r\n} @else {\r\n  <!-- Cheap spacer if no help text, should probably be done better some day -->\r\n  <br />\r\n}\r\n\r\n<!-- Part to add the text-toggle to the control -->\r\n<ng-template #textToggle let-showBoth>\r\n  <span [ngClass]=\"{ 'picker-suffix-text': showBoth }\">\r\n    <app-picker-toggle-text\r\n      [csDisabled]=\"ui().disabled\"\r\n      [allowText]=\"features().textEntry\"\r\n      [isTextMode]=\"isInFreeTextMode()\"\r\n      [showBoth]=\"showBoth ?? true\"\r\n    >\r\n    </app-picker-toggle-text>\r\n  </span>\r\n</ng-template>\r\n\r\n<!-- Part for the AddNew button, which will either open the edit, or first show a menu with all the options -->\r\n<ng-template #addNew>\r\n  @if (features().showAddNewButton) {\r\n    @if (pickerData.state.typesForNew().length > 1) {\r\n      <button\r\n        mat-icon-button\r\n        class=\"picker-inline-button\"\r\n        tippyTranslate=\"Fields.Picker.New\"\r\n        [disabled]=\"ui().disabled || !features().create\"\r\n        [matMenuTriggerFor]=\"entityTypesMenu\"\r\n      >\r\n        <mat-icon>add_circle_outline</mat-icon>\r\n      </button>\r\n      <mat-menu #entityTypesMenu=\"matMenu\">\r\n        @for (ct of pickerData.state.typesForNew(); track ct) {\r\n          <button mat-menu-item (click)=\"openNewEntityDialog(ct.guid)\">\r\n            <span>{{ ct.label }}</span>\r\n          </button>\r\n        }\r\n      </mat-menu>\r\n    } @else {\r\n      <button\r\n        mat-icon-button\r\n        class=\"picker-inline-button\"\r\n        tippyTranslate=\"Fields.Picker.New\"\r\n        [disabled]=\"ui().disabled || !features().create\"\r\n        (click)=\"openNewEntityDialog(null)\"\r\n      >\r\n        <mat-icon>add_circle_outline</mat-icon>\r\n      </button>\r\n    }\r\n  }\r\n</ng-template>\r\n","\r\nexport class DataSourceHelpers {\r\n  /**\r\n   * remove HTML tags from a string, which possibly was created in a WYSIWYG\r\n   */\r\n  public stripHtml(stringWithHtml: string): string {\r\n    if (!stringWithHtml) return '';\r\n    if (!stringWithHtml.includes('<')) return stringWithHtml;\r\n    const div = document.createElement(\"div\");\r\n    div.innerHTML = stringWithHtml ?? '';\r\n    return div.innerText || '';\r\n  }\r\n}\r\n","import { EntityLight } from '../../../../../../../edit-types/src/EntityLight';\r\nimport { FeatureNames } from '../../../../features/feature-names';\r\nimport { FeaturesService } from '../../../../features/features.service';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { DataSourceHelpers } from './data-source-helpers';\r\nimport { DataSourceMasks } from './data-source-masks.model';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  data2PickerItem: false,\r\n  getMasks: false,\r\n  patchMasks: false,\r\n  parseMasks: false,\r\n  buildMasks: false,\r\n}\r\n\r\ntype MaskedPickerParts = Pick<PickerItem, 'label' | 'tooltip' | 'info' | 'link' | 'previewValue'>;\r\n\r\n/**\r\n * Helper class to process masks for a DataSource.\r\n * Masks are strings with placeholders, vs. just the name of the field to show.\r\n */\r\nexport class DataSourceMasksHelper {\r\n\r\n  log = classLog({ DataSourceMasksHelper }, logSpecs);\r\n\r\n  constructor(\r\n    private name: string,\r\n    private settings: DataSourceMaskSettings,\r\n    features: FeaturesService,\r\n    private formConfig: FormConfigService,\r\n    parentLog: { enableChildren: boolean }, enableLog?: boolean\r\n  ) {\r\n    this.log.forceEnable(enableLog ?? parentLog.enableChildren ?? false);\r\n    this.#featInfoEnabled = features.allowUse[FeatureNames.PickerUiMoreInfo]();\r\n    this.#isDeveloper = formConfig.config.dialogContext.User?.IsSystemAdmin;\r\n    this.log.a('constructor - settings', { settings, infoEnabled: this.#featInfoEnabled });\r\n  }\r\n\r\n  #featInfoEnabled = false;\r\n  #featInfoWarned = false;\r\n  #isDeveloper = false;\r\n\r\n  #helpers = new DataSourceHelpers();\r\n\r\n  #masks: DataSourceMasks;\r\n\r\n  /** Convert an Entity data to Picker-Item, processing any masks */\r\n  data2PickerItem({ entity, streamName, valueMustUseGuid, valueDefaultsToGuid = false }\r\n    : { entity: EntityLight; streamName: string | undefined; valueMustUseGuid: boolean; valueDefaultsToGuid?: boolean; }\r\n  ): PickerItem {\r\n\r\n    const l = this.log.fnIf('data2PickerItem', { entity, streamName, valueMustUseGuid });\r\n    // Check if we have masks, if yes\r\n    const masks = this.#getMasks();\r\n\r\n    // Figure out Value to use if we don't use masks - fallback is to use the Guid\r\n    const value = (() => {\r\n      if (valueMustUseGuid || (valueDefaultsToGuid && !masks.value))\r\n        return entity.Guid;\r\n      if (entity[masks.value] === undefined)\r\n        return entity.Value;\r\n      const maybe = entity[masks.value];\r\n      // the value could be an empty string (pickers); not sure if it can be null though\r\n      return maybe !== undefined ? `${maybe}` : entity.Guid;\r\n    })();\r\n\r\n    // Figure out Title Value if we don't use masks - fallback is to use the title, or the value with asterisk\r\n    const label = (() => {\r\n      const maybeTitle = entity[masks.label];\r\n      return maybeTitle ? `${maybeTitle}` : entity.Title ? `${entity.Title}` : `${value}`; // If there is no title, use value with '*'\r\n    })();\r\n\r\n    const previewValue = (() => {\r\n      const maybePreview = entity[masks.previewValue];\r\n      if (maybePreview) return maybePreview;\r\n      return value;\r\n    })();\r\n\r\n    l.a('debug values', { masks, value, label, previewValue, hasPlaceholders: masks.hasPlaceholders });\r\n\r\n    // If we don't have masks, we are done\r\n    if (!masks.hasPlaceholders) {\r\n      const result: PickerItem = {\r\n        id: entity.Id,\r\n        data: entity,\r\n        value,\r\n        previewValue,\r\n        label,\r\n        tooltip: masks.tooltip,\r\n        info: masks.info,\r\n        link: masks.link,\r\n        sourceStreamName: streamName ?? null,\r\n        rules: entity[\"Rules\"],\r\n      };\r\n      return l.r(result, 'no masks');\r\n    }\r\n\r\n    // Prepare the masks\r\n    const fromMasks = this.#parseMasks(masks, entity);\r\n\r\n    // If the original was not a mask, look up the field\r\n    const finalLabel = masks.label.includes('[') ? fromMasks.label : label;\r\n\r\n    return l.r({\r\n      id: entity.Id,\r\n      data: entity,\r\n      ...fromMasks,\r\n      value,\r\n      label: finalLabel,\r\n      sourceStreamName: streamName ?? null,\r\n      rules: entity[\"Rules\"],\r\n    } satisfies PickerItem, 'with masks');\r\n  }\r\n\r\n  /** Process all placeholders in all masks to get tooltip, info, link and title */\r\n  #parseMasks(masks: DataSourceMasks, data: Record<string, any>): MaskedPickerParts {\r\n    const l = this.log.fnIf('parseMasks', { masks, data });\r\n    let label = masks.label;\r\n\r\n    // If we have placeholders, but the feature is not enabled, warn about it\r\n    if (!this.#featInfoWarned && !this.#featInfoEnabled && `${masks.tooltip}${masks.info}${masks.link}`.length > 0) {\r\n      const msgAddOn = this.#isDeveloper\r\n        ? `It is enabled for developers, but will be disabled for normal users until it's licensed.`\r\n        : '';\r\n      this.#featInfoWarned = true;\r\n    }\r\n    const useInfos = this.#featInfoEnabled || this.#isDeveloper;\r\n    let tooltip = useInfos ? masks.tooltip : '';\r\n    let info = useInfos ? masks.info : '';\r\n    let link = useInfos ? masks.link : '';\r\n    let previewValue = masks.previewValue;\r\n\r\n    Object.keys(data).forEach(key => {\r\n      // must check for null and use '' instead\r\n      const valueItem = data[key] ?? '';\r\n\r\n      // replace all occurrences of [Item:Key] with value - should be case insensitive\r\n      const search = new RegExp(`\\\\[Item:${key}\\\\]`, 'gi');\r\n\r\n      if (previewValue.includes(\"App:Path\")) {\r\n        // var x = ScriptsLoaderService.resolveUrlTokens(previewValue, this.formConfig.config)\r\n        const portalRoot = (this.formConfig.config.portalRoot).replace(/\\/$/, '');\r\n        const appUrl = portalRoot + this.formConfig.config.appRoot;\r\n        previewValue = previewValue.replace(\"[App:Path]\", appUrl);\r\n      }\r\n\r\n      tooltip = tooltip.replace(search, valueItem);\r\n      info = info.replace(search, valueItem);\r\n      link = link.replace(search, valueItem);\r\n      label = label.replace(search, valueItem);\r\n      previewValue = previewValue.replace(search, valueItem);\r\n    });\r\n\r\n    return l.r({ label, tooltip, info, link, previewValue } satisfies MaskedPickerParts, 'result');\r\n  }\r\n\r\n  /** Get the mask - if possibly from current objects cache */\r\n  #getMasks() {\r\n    if (!!this.#masks) return this.#masks;\r\n    this.#masks = this.#buildMasks();\r\n    this.log.aIf('getMasks', { masks: this.#masks });\r\n    return this.#masks;\r\n  }\r\n\r\n  #buildMasks(): DataSourceMasks {\r\n    const settings = this.settings;\r\n    const l = this.log.fnIf('buildMasks', { settings });\r\n    // Figure out the masks\r\n    const tooltip = !!settings.ItemTooltip ? this.#helpers.stripHtml(settings.ItemTooltip) : '';\r\n    const info = !!settings.ItemInformation ? this.#helpers.stripHtml(settings.ItemInformation) : '';\r\n    const link = settings.ItemLink ?? '';\r\n    const label = settings.Label ?? '';\r\n    const value = settings.Value ?? '';\r\n    const previewValue = settings.PreviewValue ?? '';\r\n    const hasPlaceholders = (tooltip + info + link + label + previewValue).includes('[');\r\n    const result: DataSourceMasks = {\r\n      hasPlaceholders,\r\n      tooltip,\r\n      info,\r\n      link,\r\n      label,\r\n      value,\r\n      previewValue,\r\n    };\r\n\r\n    return l.r(result, 'result');\r\n  }\r\n\r\n}\r\n\r\ninterface DataSourceMaskSettings {\r\n  ItemTooltip: string;\r\n  ItemInformation: string;\r\n  ItemLink: string;\r\n  Label: string;\r\n  Value: string;\r\n  PreviewValue: string;\r\n}\r\n","import { FieldSettingsPicker, FieldSettingsPickerMasks } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../../edit-types/src/PickerSources';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { RxHelpers } from '../../../../shared/rxJs/rx.helpers';\r\n\r\n/**\r\n * Helper class for data source, to figure out all the fields we need to retrieve from the server.\r\n */\r\nexport class DataSourceMoreFieldsHelper {\r\n  log = classLog({DataSourceMoreFieldsHelper});\r\n\r\n  fieldListToRetrieveFromServer(settings: FieldSettingsWithPickerSource): string {\r\n    this.log.a('fieldListToRetrieveFromServer', { settings });\r\n\r\n    const treeConfig = (settings as FieldSettingsWithPickerSource & FieldSettingsPicker).PickerTreeConfiguration;\r\n    const maskSettings = settings as FieldSettingsWithPickerSource & FieldSettingsPickerMasks;\r\n    const moreFields = maskSettings.MoreFields?.split(',') ?? [];\r\n    const queryFields = [maskSettings.Value, maskSettings.Label];\r\n    const treeFields = [\r\n      treeConfig?.TreeChildIdField,\r\n      treeConfig?.TreeParentIdField,\r\n      treeConfig?.TreeChildParentRefField,\r\n      treeConfig?.TreeParentChildRefField,\r\n    ];\r\n    const combinedFields = [...['Title', 'Id', 'Guid'], ...moreFields, ...queryFields, ...treeFields]\r\n      // extraction should happen in every field\r\n      .map(field => this.extractFieldNamesFromTokens(field, true)).flat();\r\n\r\n    const stringFields = [settings.ItemTooltip, settings.ItemInformation, settings.ItemLink]\r\n      .map(field => this.extractFieldNamesFromTokens(field, false)).flat();\r\n\r\n    // in the end, we should deduplicate the fields\r\n    const allFields = [...combinedFields, ...stringFields]\r\n      .filter(RxHelpers.distinct);\r\n\r\n    // merging into one long string\r\n    return allFields.join(',');\r\n  }\r\n\r\n\r\n  /**\r\n   * Parse a string to find out the field names in [Item:FieldName] format\r\n   *\r\n   * @param input input string\r\n   * @param enableSimpleFields enable simple fields\r\n   * @returns parsed fields\r\n   */\r\n  extractFieldNamesFromTokens(input: string, enableSimpleFields: boolean = true): string[] {\r\n    this.log.a('extractFieldNamesFromTokens', { input, enableSimpleFields });\r\n    const fields: string[] = [];\r\n\r\n    // 1.) skip processing on null or empty\r\n    if (!(input?.trim().length > 0)) return fields;\r\n\r\n    // 2.) some input parts could have a string such as \"[Item:Color] - [Item:Title]\"\r\n    // these should be extracted, so then we have \"Color\" and \"Title\"\r\n    const regex = /\\[Item:(\\S.*?)\\]/gi;\r\n    let match: RegExpExecArray | null;\r\n    while ((match = regex.exec(input)) !== null) {\r\n      const trimmedMatch = match[1].trim();\r\n      if (trimmedMatch) fields.push(trimmedMatch);\r\n    }\r\n\r\n    // 3.) optionaly, when input parts is simple field name, like \"Color\" - these should be used 1:1\r\n    // so nothing to do, just return input\r\n    if (enableSimpleFields && fields.length === 0) fields.push(input);\r\n\r\n    return fields;\r\n  }\r\n\r\n}\r\n","import { inject, Injectable, Signal } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsPickerMasks, FieldSettingsPickerMerged } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { FieldValue } from '../../../../../../../edit-types/src/FieldValue';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../../edit-types/src/PickerSources';\r\nimport { FeaturesService } from '../../../../features/features.service';\r\nimport { classLog, ClassLogger } from '../../../../shared/logging';\r\nimport { RxHelpers } from '../../../../shared/rxJs/rx.helpers';\r\nimport { ServiceBase } from '../../../../shared/services/service-base';\r\nimport { signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../../../edit-debug';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FieldState } from '../../field-state';\r\nimport { PickerItem } from '../../picker/models/picker-item.model';\r\nimport { DataWithLoading } from '../models/data-with-loading';\r\nimport { DataSourceHelpers } from './data-source-helpers';\r\nimport { DataSourceMasksHelper } from './data-source-masks-helper';\r\nimport { DataSourceMoreFieldsHelper } from './data-source-more-fields-helper';\r\n\r\nexport const logSpecsDataSourceBase = {\r\n  all: false,\r\n  constructor: false,\r\n  data: false,\r\n  triggerGetAll: false,\r\n  addToRefresh: false,\r\n  fields: [...DebugFields, 'Categories'],\r\n  newIconOptions: false,\r\n  fileLoadSettings: false,\r\n}\r\n\r\n@Injectable()\r\nexport abstract class DataSourceBase extends ServiceBase {\r\n\r\n  abstract log: ClassLogger<typeof logSpecsDataSourceBase>;\r\n\r\n  /** Field State with settings etc. */\r\n  protected fieldState = inject(FieldState) as FieldState<FieldValue, FieldSettingsWithPickerSource & FieldSettingsPickerMerged>;\r\n\r\n  /** For feature checks in the info/tooltip etc. of picker data */\r\n  protected features = inject(FeaturesService);\r\n\r\n  /** To get info if the current user is a developer */\r\n  protected formConfig = inject(FormConfigService);\r\n\r\n  protected fieldName = this.fieldState.name;\r\n\r\n  constructor() { super(); }\r\n\r\n  constructorEnd() {\r\n    this.log ??= classLog({DataSourceBase});\r\n    this.log.aIf('constructor', { forField: this.fieldState.name });\r\n  }\r\n\r\n  /** Signal containing the data */\r\n  public data: Signal<PickerItem[]>;\r\n\r\n  /** Signal with loading-status */\r\n  public loading = signalObj('loading', true);\r\n\r\n  /** Toggle to trigger a full refresh. */\r\n  protected getAll$ = new BehaviorSubject<boolean>(false);\r\n  protected getAll = signalObj('getAll', false);\r\n\r\n  /**\r\n   * Force refresh of the entities with these guids.\r\n   * Typically for entities which are added or updated.\r\n   * Once an entity has run through any modification, it's safer to refresh it.\r\n   * Since it's difficult to know which ones have been cached or not,\r\n   * for now we'll just keep on retrieving all on each backend access.\r\n   * In future we may enhance this, but we must be sure that previous retrievals are preserved.\r\n   */\r\n  protected guidsToRefresh = signalObj<string[]>('guidsToRefresh', []);\r\n\r\n  protected settings = this.fieldState.settings;\r\n\r\n  protected noItemsLoadingFalse: DataWithLoading<PickerItem[]> = { data: [], loading: false };\r\n  protected noItemsLoadingTrue: DataWithLoading<PickerItem[]> = { data: [], loading: true };\r\n\r\n  public setup(): this { return this; }\r\n\r\n  ngOnDestroy(): void {\r\n    this.getAll$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  protected fieldsHelper = new DataSourceMoreFieldsHelper();\r\n\r\n  protected helpers = new DataSourceHelpers();\r\n\r\n  triggerGetAll(): void {\r\n    const l = this.log.fnIf('triggerGetAll');\r\n    this.getAll$.next(true);\r\n    this.getAll.set(true);\r\n    l.end();\r\n  }\r\n\r\n  addToRefresh(additionalGuids: string[]): void {\r\n    const l = this.log.fnIf('addToRefresh', { additionalGuids });\r\n    const before = this.guidsToRefresh();\r\n    const merged = [...before, ...additionalGuids].filter(RxHelpers.distinct);\r\n    l.values({ before, additionalGuids, merged });\r\n    this.guidsToRefresh.set(merged);\r\n    l.end();\r\n  }\r\n\r\n  protected createMaskHelper(moreSettings?: Partial<FieldSettings & FieldSettingsPickerMasks>, enableLog?: boolean): DataSourceMasksHelper {\r\n    return new DataSourceMasksHelper(this.fieldName, {...this.settings(), ...moreSettings }, this.features, this.formConfig, this.log, enableLog);\r\n  }\r\n\r\n  protected fieldsToRetrieve(settings: FieldSettingsWithPickerSource): string {\r\n    return this.fieldsHelper.fieldListToRetrieveFromServer(settings);\r\n  }\r\n\r\n}\r\n","import { Injectable, WritableSignal } from '@angular/core';\r\nimport { toObservable, toSignal } from '@angular/core/rxjs-interop';\r\nimport { Observable, combineLatest, distinctUntilChanged, filter, map, switchMap } from \"rxjs\";\r\nimport { transient } from '../../../../../../../core';\r\nimport { ClassLogger } from '../../../../shared/logging';\r\nimport { RxHelpers } from '../../../../shared/rxJs/rx.helpers';\r\nimport { QueryService } from '../../../../shared/services/query.service';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DataWithLoading } from '../models/data-with-loading';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { DataSourceBase, logSpecsDataSourceBase } from './data-source-base';\r\n\r\nexport const logSpecsDataSourceEntityQueryBase: typeof logSpecsDataSourceBase & any = {\r\n  ...logSpecsDataSourceBase,\r\n  all: true,\r\n  initPrefetch: false,\r\n  getFromBackend: false,\r\n  addToRefresh: false,\r\n  loadMoreIntoSignal: true,\r\n  ['loadMoreIntoSignal-data']: true,\r\n}\r\n\r\n/**\r\n * This is the base class for data-sources providing data from\r\n * - entities\r\n * - queries\r\n */\r\n@Injectable()\r\nexport abstract class DataSourceEntityBase extends DataSourceBase {\r\n\r\n  //#region Inject and blank constructor\r\n\r\n  abstract log: ClassLogger<typeof logSpecsDataSourceEntityQueryBase>;\r\n\r\n  protected querySvc = transient(QueryService);\r\n\r\n  constructor() { super(); }\r\n\r\n  ngOnDestroy(): void {\r\n    this.getAll$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n\r\n  //#endregion\r\n\r\n  /**\r\n   * The params are either query-url params or the type-name.\r\n   * Implemented as observable, since all requests depend on observables.\r\n   * If there is ever an httpSignal service or something, then this should be migrated.\r\n   */\r\n  #typeOrParams = signalObj<string>('typeOrParams', null);\r\n  #typeOrParams$ = toObservable(this.#typeOrParams);\r\n  #paramsDebounced$ = this.#typeOrParams$.pipe(distinctUntilChanged());\r\n\r\n  /** Get the data from a query - all or only the ones listed in the guids */\r\n  protected abstract getFromBackend(params: string, guids: string[], purposeForLog: string) : Observable<DataWithLoading<PickerItem[]>>;\r\n\r\n  /**\r\n   * Signal containing \"all\" the data from the backend when not filtered.\r\n   * It's triggered for retrieval when\r\n   * - the params change (in many cases just at start, but sometimes ongoing eg. view-data picker)\r\n   * @memberof DataSourceEntityQueryBase\r\n   */\r\n  #fullList = toSignal(combineLatest([\r\n    this.#paramsDebounced$,\r\n    this.getAll$.pipe(\r\n      distinctUntilChanged(),\r\n      filter(getAll => !!getAll),\r\n      map(() => [] as unknown[])),\r\n  ]).pipe(\r\n    // SwitchMap ensures that only the latest request is processed\r\n    // This is important if parameters change, so that the old request is not used\r\n    // Otherwise it can lead to scenarios where the old result is used, if the first request takes longer.\r\n    switchMap(([typeName]) => this.getFromBackend(typeName, [], 'getAll')),\r\n  ), { initialValue: this.noItemsLoadingFalse });\r\n\r\n  #prefetchNew = signalObj<DataWithLoading<PickerItem[]>>('prefetchNow', this.noItemsLoadingFalse);\r\n\r\n  /** Additional items which were updated after sub-edits */\r\n  #modified = signalObj<DataWithLoading<PickerItem[]>>('modified', this.noItemsLoadingFalse);\r\n\r\n  public override data = computedObj('data', () => {\r\n    const prefetch = this.#prefetchNew().data;\r\n    const all = this.#fullList().data;\r\n    const modified = this.#modified().data;\r\n    const data = [...new Map([...prefetch, ...all, ...modified].map(item => [item.value, item])).values()];\r\n    this.log.a('data', { prefetch, all, overrides: modified, data });\r\n    return data;\r\n  });\r\n\r\n  /** Signal with loading-status */\r\n  public override loading = computedObj('loading', () => this.#fullList().loading || this.#modified().loading) as WritableSignal<boolean>;\r\n\r\n  initPrefetch(entityGuids: string[]): void {\r\n    const l = this.log.fnIfInList('initPrefetch', 'fields', this.fieldName, { entityGuids });\r\n    // in rare cases - such as json-based entities (which are never stored as real entities)\r\n    // the entityGuids can be null, in which case a prefetch would be pointless and cause errors\r\n    if (entityGuids == null)\r\n      return l.end('no entity guids to prefetch');\r\n    const guids = entityGuids.filter(RxHelpers.distinct);\r\n    this.#loadMoreIntoCache(this.#prefetchNew, guids, 'initPrefetch');\r\n    l.end();\r\n  }\r\n\r\n  /** Set parameters for retrieval - either contentTypeName or query url parameters */\r\n  setParams(params: string): void {\r\n    this.log.fnIfInList('setParams', 'fields', this.fieldName, { params });\r\n    this.#typeOrParams.set(params);\r\n  }\r\n\r\n\r\n  public override addToRefresh(additionalGuids: string[]): void {\r\n    const l = this.log.fnIf('addToRefresh', { additionalGuids });\r\n    this.#loadMoreIntoCache(this.#modified, additionalGuids, 'addToRefresh');\r\n    l.end();\r\n  }\r\n\r\n  /**\r\n   * Load some data and place it inside a target signal cache, adding to existing data.\r\n   */\r\n  #loadMoreIntoCache(target: WritableSignal<DataWithLoading<PickerItem[]>>, additionalGuids: string[], msgForLog: string): void {\r\n    const params = this.#typeOrParams();\r\n    const l = this.log.fnIfInList('loadMoreIntoSignal', 'fields', this.fieldName, { additionalGuids, params, msgForLog });\r\n    if (additionalGuids == null || additionalGuids.length === 0)\r\n      return l.end('no additional guids to load/refresh');\r\n\r\n    // get existing value and set loading to true\r\n    target.update(before => ({ data: before.data, loading: true }));\r\n\r\n    this.getFromBackend(params, additionalGuids, msgForLog)\r\n      .subscribe(additions => {\r\n        const l = this.log.fn('loadMoreIntoSignal-data', { additionalGuids, additions });\r\n        const before = target();\r\n        target.update(before => ({\r\n          data: [...new Map([...before.data, ...additions.data].map(item => [item.value, item])).values()],\r\n          loading: false\r\n        }));\r\n        l.values({ before, additions: additions, merged: target().data });\r\n      });\r\n    l.end();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { map, Observable } from \"rxjs\";\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { DataWithLoading } from '../models/data-with-loading';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { DataSourceEntityBase, logSpecsDataSourceEntityQueryBase } from './data-source-entity-base';\r\n\r\n@Injectable()\r\nexport class DataSourceAppAssets extends DataSourceEntityBase {\r\n\r\n  log = classLog({ DataSourceAppAssets }, logSpecsDataSourceEntityQueryBase);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n  }\r\n\r\n  /**\r\n  * Get the data from the Query System.AppAssets/Default\r\n  */\r\n  protected override getFromBackend(_typeName: string, _guids: string[], purposeForLog: string): Observable<DataWithLoading<PickerItem[]>> {\r\n    const settings = this.settings();\r\n    const { AssetsRootFolder: rootFolder, AssetsFileFilter: fileFilter, AssetsType: type } = settings;\r\n\r\n    const l = this.log.fnIf('getFromBackend', { settings }, purposeForLog);\r\n\r\n    const typeLower = (type ?? '').toLocaleLowerCase();\r\n    const stream = typeLower === 'all'\r\n      ? 'Default'\r\n        : typeLower === 'folders'\r\n          ? 'Folders'\r\n          : 'Files';\r\n\r\n    \r\n    const fieldMask = this.createMaskHelper({ Value: settings.Value || 'FullName'});\r\n\r\n    const data = this.querySvc.getFromQuery(`System.AppAssets/${stream}`, `rootFolder=${rootFolder}&filter=${fileFilter}`, '').pipe(\r\n      map(list => {\r\n        // const fieldMask = this.createMaskHelper({ Value: 'Name' });\r\n        const data = list[stream].map(entity => fieldMask.data2PickerItem({ entity, streamName: stream, valueMustUseGuid: false }));\r\n        return { data, loading: false } as DataWithLoading<PickerItem[]>;\r\n      })\r\n    );\r\n    return l.r(data);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { classLog, ClassLogger } from '../../../../shared/logging';\r\nimport { DataSourceAppAssets } from '../data-sources/data-source-app-assets';\r\nimport { DataAdapterBase } from './data-adapter-base';\r\nimport { DataAdapterEntityBase, logSpecsDataAdapterEntityBase } from \"./data-adapter-entity-base\";\r\n\r\n/**\r\n * App Assets behave a lot like an entity-source,\r\n * since the internals are loaded from a query.\r\n */\r\n@Injectable()\r\nexport class DataAdapterAppAssets extends DataAdapterEntityBase {\r\n\r\n  log = classLog({DataAdapterAppAssets}, logSpecsDataAdapterEntityBase) as ClassLogger<typeof DataAdapterBase.logSpecs> & ClassLogger<typeof logSpecsDataAdapterEntityBase>;\r\n\r\n  protected dataSourceRaw = transient(DataSourceAppAssets);\r\n\r\n  constructor() { super(); }\r\n\r\n  fetchItems(): void {\r\n    this.dataSource().triggerGetAll();\r\n  }\r\n}\r\n","import toString from './toString.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n  reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, '\\\\$&') : string;\n}\nexport default escapeRegExp;","import escapeRegExp from 'lodash-es/escapeRegExp';\r\nimport { EntityLight } from '../../../../../../../../edit-types/src/EntityLight';\r\nimport { classLog } from '../../../../../shared/logging/logging';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  findAllIconsInCss: false,\r\n};\r\n\r\n/** Calculates available css classes with className prefix. WARNING: Expensive operation */\r\nexport function findAllIconsInCss(cssSelector: string, showPrefix?: boolean): EntityLight[] {\r\n\r\n  const log = classLog({ findAllIconsInCss }, logSpecs);\r\n\r\n  const l = log.fnIf('findAllIconsInCss', { cssSelector, showPrefix });\r\n\r\n  if (!cssSelector)\r\n    return [];\r\n\r\n  const regEx = buildRegEx(cssSelector);\r\n  console.warn(regEx)\r\n\r\n  const allRules = getAllCssRules();\r\n  const foundList: IconOption[] = [];\r\n  const duplicateDetector: Record<string, boolean> = {};\r\n  for (const rules of allRules) {\r\n    const allRulesWithSelector = (Array.from(rules) as CSSStyleRule[])\r\n      .filter(rule => rule.selectorText);\r\n\r\n    for (const rule of allRulesWithSelector) {\r\n      // The full selector text, such as \".fa-x-ray:before\"\r\n      // Note that ATM we're still looking for icons, which is probably not the final solution\r\n      const selector = rule.selectorText;\r\n\r\n      // Reset the regex, otherwise it will only work every second time\r\n      // https://medium.com/codesnips/js-careful-when-reusing-regex-636b92c6bf07\r\n      regEx.lastIndex = 0;\r\n      const groups = regEx.exec(selector)?.groups;\r\n\r\n      // Skip if not found\r\n      if (!groups)\r\n        continue;\r\n      \r\n      console.log('regExed', groups.Value, groups.ValueRaw, groups.Title);\r\n\r\n      const iconClass = groups.ValueRaw;\r\n\r\n      if (duplicateDetector[iconClass]) continue;\r\n\r\n      foundList.push({\r\n        Id: null,\r\n        Guid: null,\r\n        Rule: rule,\r\n        ...groups as { Value: string, ValueRaw: string, Title: string },\r\n        Selector: selector,\r\n      });\r\n      duplicateDetector[iconClass] = true;\r\n    }\r\n  }\r\n\r\n  l.a('findAllIconsInCss', { classPrefix: cssSelector, showPrefix, foundList });\r\n\r\n  return l.r(foundList);\r\n}\r\n\r\nconst fallbackRegex = `(?<ValueRaw>\\\\.(?<Value>(?<Title>[\\\\-a-zA-Z0-9]+)))[:,\\{}]`;\r\nconst fontAwesomeRegex = `(?<ValueRaw>\\\\.(?<Value>fa-(?<Title>[\\\\-a-zA-Z0-9]+))):`;\r\n\r\nfunction buildRegEx(cssSelector: string): RegExp {\r\n  if (!cssSelector)\r\n    return new RegExp(fallbackRegex);\r\n\r\n  // If it contains a <, it's a regex with the names, so use that, but be sure to double-escape the backslashes\r\n  if (cssSelector.includes('<'))\r\n    return new RegExp(cssSelector, 'g');\r\n\r\n  // It's just a starts with, so create the default regex\r\n  const regEx = buildRegExFromPrefixAndSuffix(cssSelector, '[:\\{,]');\r\n\r\n  return new RegExp(regEx, 'g');\r\n}\r\n\r\nexport function buildRegExFromPrefixAndSuffix(prefix: string, suffix: string): string {\r\n  if (!prefix) return '';\r\n  const valueRaw = buildRegExFromPrefix(prefix);\r\n  const withEnding = `${valueRaw}${suffix}`;\r\n  return withEnding;\r\n}\r\n\r\nfunction buildRegExFromPrefix(prefix: string): string {\r\n  if (!prefix)\r\n    return '';\r\n\r\n  // Capturing group called \"Title\" containing the main part of the capture\r\n  const titlePart = '(?<Title>[\\\\-a-zA-Z0-9]+)';\r\n  // Check if it has a dot, which we don't want in the Value, but we want in the ValueRaw\r\n  const startedWithDot = prefix.startsWith('.');\r\n  const cssSelectorPart = startedWithDot ? prefix.substring(1) : prefix;\r\n\r\n  // Capturing group with name Value\r\n  const valuePart = `(?<Value>${escapeRegExp(cssSelectorPart)}${titlePart})`;\r\n\r\n  // If it started with a dot, we want to capture the dot as well\r\n  const valueWithPrefix = startedWithDot ? `${escapeRegExp('.')}${valuePart}` : valuePart;\r\n  // Capturing group with name ValueRaw\r\n  const valueRaw = `(?<ValueRaw>${valueWithPrefix})`;\r\n  return valueRaw;\r\n}\r\n\r\n\r\nfunction getAllCssRules(): CSSRuleList[] {\r\n  const allRules: CSSRuleList[] = Array.from(document.styleSheets)\r\n    .map(getCssRules)\r\n    .filter(Boolean);\r\n  return allRules;\r\n}\r\n\r\nfunction getCssRules(sheet: CSSStyleSheet): CSSRuleList {\r\n  if (!sheet) return null;\r\n  \r\n  // Try old browser API (officially deprecated)\r\n  try {\r\n    return sheet.rules;\r\n  } catch (error) { /* errors happens if browser denies access to css rules */ }\r\n\r\n  // Try newer browser API\r\n  try {\r\n    return sheet.cssRules;\r\n  } catch (error) { /* errors happens if browser denies access to css rules */ }\r\n\r\n  return null;\r\n}\r\n\r\n\r\nexport interface IconOption extends EntityLight {\r\n  Rule: CSSRule;\r\n  /** The Class - which is the main value we're picking */\r\n  Value: string;\r\n  /** Label for showing in the dropdown */\r\n  Title: string;\r\n\r\n  /** Optional: Icon class for new Picker */\r\n  ValueRaw?: string;\r\n  Selector?: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { EntityLight } from 'projects/edit-types/src/EntityLight';\r\nimport { getWith } from '../../../../../../../core/object-utilities';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { ScriptsLoaderService } from '../../../shared/services/scripts-loader.service';\r\nimport { findAllIconsInCss } from './css/string-font-icon-picker.helpers';\r\nimport { DataSourceBase, logSpecsDataSourceBase } from './data-source-base';\r\nimport { DataSourceMasksHelper } from './data-source-masks-helper';\r\n\r\nconst logSpecs = {\r\n  ...logSpecsDataSourceBase,\r\n  data: false,\r\n  newIconOptions: true,\r\n  fileLoadSettings: false,\r\n  fields: [...logSpecsDataSourceBase.fields, '*'],\r\n};\r\n\r\n@Injectable()\r\nexport class DataSourceCss extends DataSourceBase {\r\n\r\n  log = classLog({ DataSourceCss }, logSpecs);\r\n\r\n  constructor(private scriptsLoaderService: ScriptsLoaderService) {\r\n    super();\r\n    this.constructorEnd();\r\n    this.log.fnIf('fileLoadSettings', this.fileLoadSettings());\r\n\r\n    const settings = this.fileLoadSettings();\r\n    this.scriptsLoaderService.load(settings.CssSourceFile.split('\\n'), () => {\r\n      const newIconOptions = findAllIconsInCss(settings.CssSelectorFilter, false);\r\n      this.log.fnIf('newIconOptions', { settings, newIconOptions });\r\n      this.#iconEntities.set(newIconOptions);\r\n    });\r\n\r\n  }\r\n\r\n  loading = signalObj('loading', false);\r\n\r\n  #settings = this.fieldState.settings;\r\n  #iconEntities = signalObj<EntityLight[]>('iconOptions', []);\r\n\r\n  fileLoadSettings = computedObj('fileLoadSettings', () => getWith(this.#settings(), s => ({\r\n    CssSourceFile: s.CssSourceFile,\r\n    CssSelectorFilter: s.CssSelectorFilter,\r\n    PreviewValue: s.PreviewValue,\r\n    Value: s.Value,\r\n  })));\r\n\r\n\r\n\r\n  #dataMaskHelper = (() => {\r\n    // Make sure the converter/builder uses the \"Value\" field for the final 'value'\r\n    const s = this.settings();\r\n    const maskHelper = new DataSourceMasksHelper(this.fieldName, { ...s, Label: s.Label || 'Value' }, this.features, this.formConfig, this.log);\r\n    return maskHelper;\r\n  })();\r\n\r\n  data = computedObj('data', () => {\r\n\r\n    const options = this.#iconEntities();\r\n    const maskHelper = this.#dataMaskHelper;\r\n\r\n    const l = this.log.fnIfInList('data', 'fields', this.fieldName, { options, maskHelper });\r\n\r\n    const result = options.map(entity => {\r\n      const pickerItem = maskHelper.data2PickerItem({ entity, streamName: null, valueMustUseGuid: false });\r\n      l.a('one item', { entity, pickerItem });\r\n      return pickerItem;\r\n    });\r\n    return l.r(result);\r\n  })\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DataSourceCss } from \"../data-sources/data-source-css\";\r\nimport { DeleteEntityProps } from \"../models/picker.models\";\r\nimport { PickerFeatures } from '../picker-features.model';\r\nimport { DataAdapterBase } from \"./data-adapter-base\";\r\n\r\n@Injectable()\r\nexport class DataAdapterCss extends DataAdapterBase {\r\n\r\n  log = classLog({ DataAdapterCss }, DataAdapterBase.logSpecs);\r\n\r\n  protected dataSourceRaw = transient(DataSourceCss);\r\n\r\n  constructor() {\r\n    super();\r\n    this.log.fnIf('constructor');\r\n  }\r\n\r\n  public myFeatures = signalObj('features', { edit: false, create: false, delete: false, } satisfies Partial<PickerFeatures>);\r\n\r\n  fetchItems(): void {\r\n    this.log.fnIf('fetchItems');\r\n    this.dataSource().triggerGetAll();\r\n  }\r\n\r\n  deleteItem(props: DeleteEntityProps): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  editItem(editParams: { entityGuid: string; entityId: number; }, entityType: string): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n}\r\n","import { DataSourceBase } from './data-source-base';\r\nimport { Injectable } from '@angular/core';\r\nimport { signalObj, computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { classLog } from '../../../../shared/logging';\r\n\r\n/**\r\n * This is the data-source we plan to attach when a picker is not configured.\r\n * It should only show the information that it's not configured.\r\n */\r\n@Injectable()\r\nexport class DataSourceEmpty extends DataSourceBase {\r\n\r\n  log = classLog({DataSourceEmpty});\r\n\r\n  constructor() { super(); this.constructorEnd() }\r\n  \r\n  loading = signalObj('loading', false);\r\n\r\n  #label = signalObj('label', `something is wrong - using DataSourceEmpty`);\r\n\r\n  public preSetup(label: string): this {\r\n    this.#label.set(label);\r\n    return this;\r\n  }\r\n\r\n  public override data = computedObj('data', () => [{\r\n    value: '',\r\n    label: this.#label() ?? 'No options available',\r\n    notSelectable: true,\r\n    isMessage: true,\r\n  }]);\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DataSourceEmpty } from '../data-sources/data-source-empty';\r\nimport { DeleteEntityProps } from \"../models/picker.models\";\r\nimport { PickerFeatures } from '../picker-features.model';\r\nimport { DataAdapterBase } from \"./data-adapter-base\";\r\nimport { StateAdapter } from './state-adapter';\r\n\r\n@Injectable()\r\nexport class DataAdapterEmpty extends DataAdapterBase {\r\n\r\n  log = classLog({DataAdapterEmpty}, DataAdapterBase.logSpecs);\r\n\r\n  protected dataSourceRaw = transient(DataSourceEmpty);\r\n\r\n  constructor() { super();}\r\n\r\n  public myFeatures = signalObj('features', { edit: false, create: false, delete: false, } satisfies Partial<PickerFeatures>);\r\n\r\n  public override connectState(state: StateAdapter): this {\r\n    this.dataSourceRaw.preSetup(\"Error: configuration missing\");\r\n    return super.connectState(state);\r\n  }\r\n\r\n  public setupEmpty(): this {\r\n    const l = this.log.fnIf('setupEmpty');\r\n    this.dataSource.set(this.dataSourceRaw.preSetup(\"Error: configuration missing\"));\r\n    return l.rSilent(this);\r\n  }\r\n\r\n  fetchItems(): void {\r\n    this.log.a('fetchItems');\r\n    this.dataSource().triggerGetAll();\r\n  }\r\n\r\n  deleteItem(props: DeleteEntityProps): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  editItem(editParams: { entityGuid: string; entityId: number; }, entityType: string): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { map, Observable } from \"rxjs\";\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { DataWithLoading } from '../models/data-with-loading';\r\nimport { PickerItem } from '../models/picker-item.model';\r\nimport { DataSourceEntityBase, logSpecsDataSourceEntityQueryBase } from './data-source-entity-base';\r\n\r\n@Injectable()\r\nexport class DataSourceEntity extends DataSourceEntityBase {\r\n\r\n  log = classLog({ DataSourceEntity }, logSpecsDataSourceEntityQueryBase);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n  }\r\n\r\n  /**\r\n   * Get the data from the backend using the built-in get-Entities query\r\n   */\r\n  protected override getFromBackend(typeName: string, guids: string[], purposeForLog: string): Observable<DataWithLoading<PickerItem[]>> {\r\n    const fields = this.fieldsToRetrieve(this.settings());\r\n\r\n    // Behavior changes a bit if the query is meant to supply data for string-inputs\r\n    // ...mainly because the value is allowed to be any field, not just the Guid.\r\n    const inputSpecs = this.fieldState.config.inputTypeSpecs;\r\n    const valueMustUseGuid = inputSpecs.mustUseGuid;\r\n\r\n    var l = this.log.fnIf('getFromBackend', { typeName, guids, fields, inputType: inputSpecs.inputType, valueMustUseGuid }, purposeForLog);\r\n    const fieldMask = this.createMaskHelper();\r\n    const entities = this.querySvc.getEntities({ contentTypes: [typeName], itemIds: guids, fields, log: this.log.name })\r\n      .pipe(\r\n        // tap(list => l.a('getEntities', { typeName, list })),\r\n        map(list => {\r\n          const data = list.Default.map(entity => fieldMask.data2PickerItem({ entity, streamName: null, valueMustUseGuid, valueDefaultsToGuid: true }));\r\n          return { data, loading: false } as DataWithLoading<PickerItem[]>;\r\n        }),\r\n      )\r\n    return l.r(entities);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { classLog, ClassLogger } from '../../../../shared/logging';\r\nimport { DataSourceEntity } from \"../data-sources/data-source-entity\";\r\nimport { DataAdapterBase } from './data-adapter-base';\r\nimport { DataAdapterEntityBase, logSpecsDataAdapterEntityBase } from \"./data-adapter-entity-base\";\r\n\r\n@Injectable()\r\nexport class DataAdapterEntity extends DataAdapterEntityBase {\r\n\r\n  log = classLog({DataAdapterEntity}, logSpecsDataAdapterEntityBase) as ClassLogger<typeof DataAdapterBase.logSpecs> & ClassLogger<typeof logSpecsDataAdapterEntityBase>;\r\n\r\n  protected dataSourceRaw = transient(DataSourceEntity);\r\n\r\n  constructor() { super(); }\r\n\r\n  override syncParams(): void {\r\n    this.dataSourceRaw.setParams(this.contentType());\r\n  }\r\n\r\n  fetchItems(): void {\r\n    this.syncParams();\r\n    this.dataSource().triggerGetAll();\r\n  }\r\n}\r\n","import { Injectable, inject } from '@angular/core';\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { Observable, catchError, map, of } from \"rxjs\";\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { QueryStreams } from '../../../../shared/models/query-stream.model';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { DataWithLoading } from '../models/data-with-loading';\r\nimport { PickerItem, PickerItemFactory } from '../models/picker-item.model';\r\nimport { DataSourceEntityBase, logSpecsDataSourceEntityQueryBase } from './data-source-entity-base';\r\n\r\n// TODO: NEXT STEPS\r\n// 5. afterwards check all edge cases.\r\n// - EG. not aggressively loading\r\n// - eg changes to data (edits)\r\n// - deletes - NOT QUITE WORKING ATM\r\n// - I believe some kind of clean-up is still necessary...?\r\n\r\n@Injectable()\r\nexport class DataSourceQuery extends DataSourceEntityBase {\r\n\r\n  log = classLog({DataSourceQuery}, logSpecsDataSourceEntityQueryBase);\r\n\r\n  #translate = inject(TranslateService);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n  }\r\n\r\n  protected formState = inject(FormConfigService);\r\n  #appId = Number(this.formState.config.appId);\r\n  #streamName = computedObj('streamName', () => this.settings().StreamName);\r\n\r\n  /**\r\n   * Get the data from a query - all or only the ones listed in the guids\r\n   */\r\n  protected override getFromBackend(params: string, guids: string[], purposeForLog: string): Observable<DataWithLoading<PickerItem[]>> {\r\n    var l = this.log.fnIfInList('getFromBackend', 'fields', this.fieldName, { params, guids }, purposeForLog);\r\n    // If the configuration isn't complete, the query can be empty\r\n    const sets = this.settings();\r\n    const streamName = this.#streamName();\r\n    const queryName = sets.Query;\r\n    const queryUrl = !!queryName\r\n      ? queryName.includes('/') ? sets.Query : `${sets.Query}/${streamName}`\r\n      : null;\r\n\r\n    l.a('queryUrl', { queryName, streamName, queryUrl })\r\n\r\n    // If no query, return a dummy item with a message\r\n    const source: Observable<DataWithLoading<QueryStreams>> = (() => {\r\n      // If we don't have a query, return a dummy item\r\n      if (!queryUrl) {\r\n        l.a('noQueryUrl - will create dummy item');\r\n        return of<DataWithLoading<QueryStreams>>({\r\n          data: {\r\n            'Default': [\r\n              {\r\n                Id: -1,\r\n                Guid: null,\r\n                Title: this.#translate.instant('Fields.Picker.QueryNotConfigured'),\r\n              },\r\n            ],\r\n          },\r\n          loading: false,\r\n        });\r\n      }\r\n\r\n      // We have query (default case), get the data\r\n      l.a('queryUrl for request', { queryUrl });\r\n      return this.querySvc\r\n        .getFromQuery(queryUrl, params, this.fieldsToRetrieve(this.settings()), guids)\r\n        .pipe(\r\n          // 2025-03-27 2dm\r\n          // Temp: show error; not sure if this is the best method\r\n          // since it may prevent a better error indicator in the UI\r\n          // but otherwise we end up throwing the exception again and again,\r\n          // because somehow it keeps on triggering changes which causes all fields to be recalculated - throwing the error again.\r\n          catchError(() => [] as unknown[]),\r\n          map(data => ({ data, loading: false } as DataWithLoading<QueryStreams>)),\r\n          \r\n        );\r\n    })();\r\n\r\n    const result = source.pipe(\r\n      map(set => ({\r\n        data: this.#transformData(set.data, streamName),\r\n        loading: set.loading,\r\n      } as DataWithLoading<PickerItem[]>)),\r\n    );\r\n    return l.r(result);\r\n  }\r\n\r\n\r\n  #transformData(data: QueryStreams, streamName: string | null): PickerItem[] {\r\n    \r\n    const l = this.log.fn('transformData', { data, streamName });\r\n    if (!data)\r\n      return l.r([PickerItemFactory.message(this.#translate, 'Fields.Picker.QueryErrorNoData')], 'data is null');\r\n    \r\n    // Behavior changes a bit if the query is meant to supply data for string-inputs\r\n    // ...mainly because the value is allowed to be any field, not just the Guid.\r\n    const inputSpecs = this.fieldState.config.inputTypeSpecs;\r\n    const valueMustUseGuid = inputSpecs.mustUseGuid;\r\n    const streamNames = streamName.split(',');\r\n    l.values({ inputType: inputSpecs.inputType, valueMustUseGuid, streamNames });\r\n\r\n    // If expected streams are missing, create placeholders\r\n    const errors = streamNames\r\n      .filter(streamName => !data[streamName])\r\n      .map(streamName => PickerItemFactory.placeholder(this.#translate, 'Fields.Picker.QueryStreamNotFound', ' ' + streamName));\r\n\r\n    // Create the items\r\n    const maskHelper = this.createMaskHelper();\r\n    const items = streamNames\r\n      .filter(streamName => data[streamName])\r\n      .reduce((acc, streamName) => {\r\n        const converted = data[streamName]\r\n          .map(entity => maskHelper.data2PickerItem({ entity, streamName, valueMustUseGuid, valueDefaultsToGuid: true }));\r\n        return acc.concat(converted);\r\n      }, []);\r\n\r\n    // Set read-only flags on items from other apps\r\n    const itemsMaybeReadOnly = this.#setDisableEdit(items);\r\n\r\n    // Merge errors and items\r\n    return l.r([...errors, ...itemsMaybeReadOnly]);\r\n  }\r\n\r\n  #setDisableEdit<T extends PickerItem>(queryEntities: T[]): T[] {\r\n    if (queryEntities)\r\n      queryEntities.forEach(e => {\r\n        const appId = e.data?.AppId;\r\n        e.noEdit = appId != null && appId !== this.#appId;\r\n        e.noDelete = e.noEdit;\r\n      });\r\n    return queryEntities;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { classLog, ClassLogger } from '../../../../shared/logging';\r\nimport { FieldMask } from '../../../shared/helpers/field-mask.helper';\r\nimport { DataSourceQuery } from \"../data-sources/data-source-query\";\r\nimport { PickerItemFactory } from '../models/picker-item.model';\r\nimport { DataAdapterBase } from './data-adapter-base';\r\nimport { DataAdapterEntityBase, logSpecsDataAdapterEntityBase } from \"./data-adapter-entity-base\";\r\n\r\n@Injectable()\r\nexport class DataAdapterQuery extends DataAdapterEntityBase {\r\n\r\n  log = classLog({DataAdapterQuery}, logSpecsDataAdapterEntityBase) as ClassLogger<typeof DataAdapterBase.logSpecs> & ClassLogger<typeof logSpecsDataAdapterEntityBase>;\r\n\r\n  protected dataSourceRaw = transient(DataSourceQuery);\r\n\r\n  constructor() { super(); }\r\n\r\n  /**\r\n   * Url Parameters - often mask - from settings\r\n   * This is a text or mask containing all query parameters.\r\n   * Since it's a mask, it can also contain values from the current item\r\n   */\r\n  #paramsMaskLazy = transient(FieldMask).initSignal(this.log.name, this.fieldState.settingExt('UrlParameters'));\r\n\r\n  override syncParams(): void {\r\n    this.dataSourceRaw.setParams(this.#paramsMaskLazy?.result());\r\n  }\r\n\r\n  fetchItems(): void {\r\n    const l = this.log.fnIfInList('fetchItems', 'fields', this.name);\r\n    this.syncParams();\r\n    // note: it's kind of hard to produce this error, because the config won't save without a query\r\n    if (!this.fieldState.settings().Query) {\r\n      const errors = [PickerItemFactory.placeholder(this.translate, 'Fields.Picker.QueryNotDefined')];\r\n      this.errorOptions.set(errors);\r\n      return;\r\n    }\r\n    this.dataSourceRaw.triggerGetAll();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { EntityLight } from '../../../../../../../edit-types/src/EntityLight';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DataSourceBase, logSpecsDataSourceBase } from './data-source-base';\r\n\r\nconst logSpecs = {\r\n  ...logSpecsDataSourceBase,\r\n  data: true,\r\n};\r\n\r\n@Injectable()\r\nexport class DataSourceString extends DataSourceBase {\r\n\r\n  log = classLog({DataSourceString}, logSpecs);\r\n  \r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n  }\r\n\r\n  loading = signalObj('loading', false);\r\n\r\n  /**\r\n   * The Data Mask Helper to create Picker Items from the source data\r\n   * Make sure the converter/builder uses the \"Value\" field\r\n   * as all the dropdown sources (CSV, etc.) use that field.\r\n   */\r\n  #dataMaskHelper = (() => this.createMaskHelper({ Value: 'Value' }))();\r\n\r\n  data = computedObj('data', () => {\r\n    const options = this.settings()._options;\r\n    const maskHelper = this.#dataMaskHelper;\r\n    const l = this.log.fnIfInList('data', 'fields', this.fieldName, { options, maskHelper });\r\n    const result = options.map(option => {\r\n      const entity: EntityLight = {\r\n        Id: null,\r\n        Guid: null,\r\n        ...option,  // Must contain at least Title / Value\r\n      };\r\n      const pickerItem = maskHelper.data2PickerItem({ entity, streamName: null, valueMustUseGuid: false });\r\n      l.a('one item', { entity, pickerItem });\r\n      return pickerItem;\r\n    });\r\n    return l.r(result);\r\n  })\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DataSourceString } from \"../data-sources/data-source-string\";\r\nimport { DeleteEntityProps } from \"../models/picker.models\";\r\nimport { PickerFeatures } from '../picker-features.model';\r\nimport { DataAdapterBase } from \"./data-adapter-base\";\r\n\r\n@Injectable()\r\nexport class DataAdapterString extends DataAdapterBase {\r\n\r\n  log = classLog({DataAdapterString}, DataAdapterBase.logSpecs);\r\n\r\n  protected dataSourceRaw = transient(DataSourceString);\r\n\r\n  constructor() { super();}\r\n\r\n  public myFeatures = signalObj('features', { edit: false, create: false, delete: false, } satisfies Partial<PickerFeatures>);\r\n\r\n  fetchItems(): void {\r\n    this.log.fnIf('fetchItems');\r\n    this.dataSource().triggerGetAll();\r\n  }\r\n\r\n  deleteItem(props: DeleteEntityProps): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  editItem(editParams: { entityGuid: string; entityId: number; }, entityType: string): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n}\r\n","import { moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Injectable, Signal, inject } from '@angular/core';\r\nimport { getWith } from '../../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsOptionsWip, FieldSettingsPickerMerged } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { computedObj, signalObj } from '../../../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../../../edit-debug';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FieldState } from '../../field-state';\r\nimport { DeleteEntityProps } from '../models/picker.models';\r\nimport { PickerFeatures } from '../picker-features.model';\r\nimport { ReorderIndexes } from '../picker-list/reorder-index.models';\r\nimport { StateUiMapperBase } from './state-ui-mapper-base';\r\n\r\nexport const logSpecsStateAdapter = {\r\n  all: false,\r\n  updateValue: false,\r\n  add: false,\r\n  set: false,\r\n  remove: false,\r\n  reorder: false,\r\n  doAfterDelete: false,\r\n  selectedItems: false,\r\n  sepAndOpts: false,\r\n  createEntityTypes: false,\r\n  attachCallback: false,\r\n  typesForNew: false,\r\n  correctStringEmptyValue: true,\r\n  fields: [...DebugFields, 'Query'],\r\n};\r\n\r\n@Injectable()\r\nexport class StateAdapter {\r\n\r\n  //#region Setup / Inject / Logs\r\n\r\n  log = classLog({StateAdapter}, logSpecsStateAdapter);\r\n\r\n  #formConfigSvc = inject(FormConfigService);\r\n  #fieldState = inject(FieldState) as FieldState<number | string | string[], FieldSettings & FieldSettingsOptionsWip & FieldSettingsPickerMerged>;\r\n\r\n  constructor() { }\r\n\r\n  public setup(fieldName: string, uiMapper: StateUiMapperBase): this {\r\n    this.#fieldName = fieldName;\r\n    this.mapper = uiMapper as StateUiMapperBase<number | string | string[], string[]>;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Mapper to convert between the state and the UI - must be configured in setup.\r\n   * On the UI side, must always be an array of strings.\r\n   */\r\n  public mapper: StateUiMapperBase<number | string | string[], string[]>;\r\n\r\n  /** Field Name - just for selective debugging */\r\n  #fieldName: string;\r\n\r\n  //#endregion\r\n\r\n  protected readonly settings = this.#fieldState.settings;\r\n\r\n  /** The features this source will broadcast, to be merged with other features */\r\n  public myFeatures = signalObj('features', {} as Partial<PickerFeatures>);\r\n\r\n  /** The final valid features, must be provided by the picker-data */\r\n  public features: Signal<PickerFeatures>;\r\n\r\n\r\n  #createTypesRaw = computedObj('createTypesRaw',\r\n    () => getWith(this.settings().CreateTypes,\r\n      ts => ts.split(ts.indexOf('\\n') > -1 ? '\\n' : ',')).filter(Boolean));\r\n\r\n  /**  List of entity types to create for the (+) button; ATM exclusively used in the new pickers for selecting the source. */\r\n  public typesForNew = computedObj('typesForNew', () => {\r\n    const raw = this.#createTypesRaw().map((guid: string) => ({ label: null as string, guid }));\r\n    \r\n    const l = this.log.fnIfInList('typesForNew', 'fields', this.#fieldName, { raw });\r\n\r\n    // return [];\r\n    // Augment with additional label and guid if we have this\r\n    const updated = raw.map(orig => {\r\n      const guid = orig.guid;\r\n      const ct = this.#formConfigSvc.settings.ContentTypes\r\n        .find(ct => ct.Id === guid || ct.Name == guid);\r\n      return {\r\n        ...orig,\r\n        // replace is a bit temporary, as the names are a bit long...\r\n        label: (ct?.Title ?? ct?.Name ?? `${guid} (not found)`).replace('UI Picker Source - ', ''),\r\n        guid: ct?.Id ?? guid,\r\n      }\r\n    });\r\n    return l.r(updated);\r\n  });\r\n\r\n  /**\r\n   * Lazy Signal telling us if empty values are allowed\r\n   * Should ONLY be used in 'selectedItems' - and never in Values, as we would create a loop\r\n   * since the this will also access the possible options, which in turn is initialized using the selectedItems\r\n   */\r\n  public allowsEmptyLazy = signalObj<Signal<boolean>>('allowsEmptyLazy', signalObj('initial', false));\r\n\r\n  /**\r\n   * Signal with all the currently selected items.\r\n   * The PickerItems are fairly basic, as any additional data is added later on.\r\n   * The only case the additional data matters,\r\n   * is when we have a string-picker with a free-text value that is not in the dropdown.\r\n   * In that case, additional data from here is used to disable edit and delete.\r\n   */\r\n  public selectedItems: Signal<string[]> = computedObj('selectedItems', () => {\r\n    const uiValue = this.#fieldState.uiValue();\r\n    this.log.fnIf('selectedItems', { uiValue });\r\n    const asUi = this.mapper.toUi(uiValue);\r\n    const pickerAllowsEmpty = this.allowsEmptyLazy()();\r\n    const uiFixed = asUi.length == 0 && pickerAllowsEmpty\r\n      ? ['']\r\n      : asUi;\r\n    return uiFixed;\r\n  });\r\n\r\n  //#region Callbacks for setting the focus, like after removing the last selection\r\n\r\n  #focusOnSearchComponent: () => void;\r\n\r\n  public attachCallback(focusCallback: () => void): this {\r\n    const l = this.log.fnIf('attachCallback');\r\n    this.#focusOnSearchComponent = focusCallback;\r\n    return l.rSilent(this);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Conversion back and forth between formats\r\n\r\n  /** Signal with the current values in the picker, as an array */\r\n  public values = computedObj('values', () => {\r\n    const asUi = this.mapper.toUi(this.#fieldState.uiValue());\r\n    return asUi;\r\n  });\r\n\r\n  //#endregion\r\n\r\n  //#region CRUD operations\r\n\r\n  #updateValue(operation: (original: string[]) => string[]): void {\r\n    const l = this.log.fnIfInList('updateValue', 'fields', this.#fieldName);\r\n    // Get original data, and make sure we have a copy, so that ongoing changes won't affect the original\r\n    // If we don't do this, then later change detection can fail!\r\n    const valueArray = [...this.values()];\r\n    const modified = operation(valueArray);\r\n    const newValue = this.mapper.toState(modified);\r\n    this.#fieldState.ui().setIfChanged(newValue);\r\n    l.end('', { newValue });\r\n  }\r\n\r\n  public add(value: string): void {\r\n    this.log.fnIfInList('add', 'fields', this.#fieldName, { value });\r\n    this.#updateValue(list => (this.features().multiValue) ? [...list, value] : [value]);\r\n  }\r\n\r\n  public set(values: string[]): void {\r\n    this.log.fnIf('set', { values });\r\n    this.#updateValue(() => values);\r\n  }\r\n\r\n  public flush(): void {\r\n    this.set([]);\r\n  }\r\n\r\n  public reorder(reorderIndexes: ReorderIndexes) {\r\n    this.log.fnIf('reorder', { reorderIndexes });\r\n    this.#updateValue(list => {\r\n      moveItemInArray(list, reorderIndexes.previousIndex, reorderIndexes.currentIndex);\r\n      return [...list];\r\n    });\r\n  }\r\n\r\n  public remove(index: number) {\r\n    this.log.fnIf('remove', { index });\r\n    this.#updateValue(list => {\r\n      list.splice(index, 1);\r\n      return [...list];\r\n    });\r\n\r\n    // If we have no items left, set focus back to the search component, since this is usually wanted\r\n    if (!this.values().length)\r\n      setTimeout(() => this.#focusOnSearchComponent());\r\n  }\r\n\r\n  public doAfterDelete(props: DeleteEntityProps) {\r\n    this.log.fnIf('doAfterDelete', { props });\r\n    this.remove(props.index);\r\n  }\r\n\r\n  //#endregion\r\n\r\n}\r\n","import { Signal } from '@angular/core';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsSharedSeparator } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { FieldValue } from '../../../../../../../edit-types/src/FieldValue';\r\n\r\n/**\r\n * Small helper class to do mapping between the state and the UI.\r\n *\r\n * Basically the reason is that the UI sometimes needs a slightly different representation of the state.\r\n *\r\n * This class should help map both ways.\r\n */\r\nexport abstract class StateUiMapperBase<TState extends FieldValue = FieldValue, TUi extends FieldValue = FieldValue> {\r\n\r\n  constructor(protected fieldName: string, protected settings: Signal<FieldSettings & FieldSettingsSharedSeparator>) { }\r\n\r\n  abstract toUi(state: TState): TUi;\r\n\r\n  abstract toState(uiValue: TUi): TState;\r\n}\r\n\r\n\r\n// export abstract class StateUiMapperWithSettingsBase<TState extends FieldValue = FieldValue, TUi extends FieldValue = FieldValue>\r\n//   extends StateUiMapperBase<TState, TUi> {\r\n//   constructor(fieldName: string, settings: Signal<FieldSettings & FieldSettingsSharedSeparator>) {\r\n//     super(fieldName, settings);\r\n//   }\r\n// }\r\n","import { StateUiMapperBase } from './state-ui-mapper-base';\r\n\r\n/**\r\n * A noop mapper that does nothing, as the data-type for state is the same as the UI.\r\n * \r\n * Typically used in Entity-Picker fields.\r\n */\r\nexport class StateUiMapperNoop extends StateUiMapperBase<any, any> {\r\n  toUi(state: any): any {\r\n    return state;\r\n  }\r\n\r\n  toState(uiValue: any): any {\r\n    return uiValue;\r\n  }\r\n}","import { convertArrayToString } from '../picker.helpers';\r\nimport { StateUiMapperBase } from './state-ui-mapper-base';\r\n\r\n/**\r\n * A mapper that converts a string to a number .\r\n *\r\n * Typically used for string-pickers, where the data is a string but the UI is an array of strings.\r\n */\r\nexport class StateUiMapperNumberArray extends StateUiMapperBase<number, string[]> {\r\n  /**\r\n    * Convert a number to an array of strings for use in the UI.\r\n    */\r\n  toUi(state: number): string[] {\r\n    return state == null\r\n      ? []\r\n      : [state.toString()];\r\n  }\r\n\r\n  /**\r\n  * Convert an array of strings to a number for state.\r\n  */\r\n  toState(uiValue: string[]): number {\r\n    const stringValue = (uiValue == null || uiValue.length === 0)\r\n      ? ''\r\n      : convertArrayToString(uiValue, this.settings().Separator);\r\n\r\n    const parsedNumber = Number(stringValue);\r\n    return isNaN(parsedNumber) ? null : parsedNumber;\r\n  }\r\n}\r\n","import { convertArrayToString } from '../picker.helpers';\r\nimport { StateUiMapperBase } from './state-ui-mapper-base';\r\n\r\n/**\r\n * A mapper that converts a string to an array of strings, and vice versa.\r\n *\r\n * Typically used for string-pickers, where the data is a string but the UI is an array of strings.\r\n */\r\nexport class StateUiMapperStringArray extends StateUiMapperBase<string, string[]> {\r\n  /**\r\n   * Convert a string to an array of strings for use in the UI.\r\n   */\r\n  toUi(state: string): string[] {\r\n    return (state == null || state === '')\r\n      ? []\r\n      : state.split(this.settings().Separator) ?? [];\r\n  }\r\n\r\n  /**\r\n   * The state needs a string, using the specified separator.\r\n   */\r\n  toState(uiValue: string[]): string {\r\n    return (uiValue == null || uiValue.length === 0) \r\n      ? ''\r\n      : convertArrayToString(uiValue, this.settings().Separator);\r\n  }\r\n}","export const PickerSourcesCustom = {\r\n  UiPickerSourceCustomList: 'UiPickerSourceCustomList',\r\n  UiPickerSourceCustomCsv: 'UiPickerSourceCustomCsv',\r\n} as const;\r\n\r\nexport const PickerConfigs = {\r\n  ...PickerSourcesCustom,\r\n  UiPickerSourceQuery: 'UiPickerSourceQuery',\r\n  UiPickerSourceEntity: 'UiPickerSourceEntity',\r\n  UiPickerSourceAppAssets: 'UiPickerSourceAppAssets',\r\n  UiPickerSourceCss: 'UiPickerSourceCss',\r\n} as const;\r\n\r\nexport const UiPickerModeIsTree = 'UiPickerModeTree';\r\n\r\n","import { Injector, ProviderToken } from '@angular/core';\r\nimport { FieldSettingsPicker } from 'projects/edit-types/src/FieldSettings-Pickers';\r\nimport { Of, transient } from '../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { InputTypeCatalog } from '../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { FieldState } from '../field-state';\r\nimport { DataAdapterAppAssets } from './adapters/data-adapter-app-assets';\r\nimport { DataAdapterBase } from './adapters/data-adapter-base';\r\nimport { DataAdapterCss } from './adapters/data-adapter-css';\r\nimport { DataAdapterEmpty } from './adapters/data-adapter-empty';\r\nimport { DataAdapterEntity } from './adapters/data-adapter-entity';\r\nimport { DataAdapterEntityBase } from './adapters/data-adapter-entity-base';\r\nimport { DataAdapterQuery } from './adapters/data-adapter-query';\r\nimport { DataAdapterString } from './adapters/data-adapter-string';\r\nimport { StateAdapter } from './adapters/state-adapter';\r\nimport { StateUiMapperBase } from './adapters/state-ui-mapper-base';\r\nimport { StateUiMapperNoop } from './adapters/state-ui-mapper-noop';\r\nimport { StateUiMapperNumberArray } from './adapters/state-ui-mapper-number-array';\r\nimport { StateUiMapperStringArray } from './adapters/state-ui-mapper-string-array';\r\nimport { PickerConfigs } from './constants/picker-config-model.constants';\r\nimport { PickerData } from './picker-data';\r\n\r\n/**\r\n * Factory for creating PickerData instances.\r\n * Goal is to move all the logic for which combination of input types\r\n * result in what states etc. to here.\r\n */\r\nexport class PickerDataSetup {\r\n\r\n  log = classLog({ PickerDataSetup }, null);\r\n\r\n  constructor(private injector: Injector) { }\r\n\r\n  // Notes: previous flow of initialization\r\n  // 1. Final control (eg. StringPickerComponent) gets services which it will use using transient(...)\r\n  // ... and also importMe on the logic\r\n  // 2. PickerComponent.ngOnInit() will\r\n  // ...\r\n  // 3. The control will override initAdaptersAndModel()\r\n  // 3.1 init state with\r\n  // ... it will also attach a CALLBACK! for focused?\r\n\r\n  /**\r\n   * Setup / initialize a Picker Data.\r\n   * Note that it can't be called when fields are being created, but must be called from inside each field.\r\n   * Reason is that objects created later on through DI will need the FieldState and other context objects to be injected.\r\n   */\r\n  setupPickerData(pickerData: PickerData, fieldState: FieldState<FieldValue>): PickerData {\r\n    const pdWithSetupState = pickerData as PickerData & { setupAlreadyStarted: boolean };\r\n    const alreadyStarted = pdWithSetupState.setupAlreadyStarted;\r\n    const inputType = fieldState.config.inputTypeSpecs.inputType;\r\n    const l = this.log.fn('createPickerAdapters', { pickerData, fieldState, inputType, alreadyStarted });\r\n    if (alreadyStarted)\r\n      return l.rSilent(pickerData, 'exist, already started');\r\n    \r\n    pdWithSetupState.setupAlreadyStarted = true;\r\n\r\n    // First get the state, since the sources will depend on it.\r\n    const state = this.#getStateAdapter(fieldState.name, inputType, fieldState.settings as ConstructorParameters<typeof StateUiMapperBase>[1]);\r\n\r\n    const dataSourceType = (fieldState.settings() as FieldSettings & FieldSettingsPicker).dataSourceType;\r\n    const source = this.#getSourceAdapter(inputType, dataSourceType, state);\r\n\r\n    pickerData.setup(fieldState.name, fieldState.settings, state, source);\r\n\r\n    // l.end('ok', { state, source });\r\n\r\n    // Perform any post-init actions for the source - ATM only on Entity/Query\r\n    (pickerData.source as DataAdapterEntityBase)?.onAfterViewInit?.();\r\n    \r\n    return l.rSilent(pickerData);\r\n  }\r\n\r\n  #getStateAdapter(fieldName: string, inputType: Of<typeof InputTypeCatalog>, settings: ConstructorParameters<typeof StateUiMapperBase>[1]): StateAdapter {\r\n    const uiMapperType = partsMap[inputType]?.uiMapper as typeof StateUiMapperNoop;\r\n    if (!uiMapperType)\r\n      throw new Error(`No State Adapter found for inputTypeSpecs: ${inputType}`);\r\n\r\n    const stateAdapter = transient(StateAdapter, this.injector);\r\n    const uiMapper = new uiMapperType(fieldName, settings);\r\n    stateAdapter.setup(fieldName, uiMapper);\r\n    return stateAdapter;\r\n  }\r\n\r\n  #getSourceAdapter(inputType: Of<typeof InputTypeCatalog>, dataSourceType: string, state: StateAdapter): DataAdapterBase {\r\n    const l = this.log.fn('getSourceAdapter', { inputType, dataSourceType });\r\n    // Get config for allowed sources / adapters for the current inputType\r\n    const parts = partsMap[inputType];\r\n\r\n    // The config type is either the forced type (from defaults for old pickers) or the specified type\r\n    const dsType = parts.forcePickerConfig ?? dataSourceType;\r\n    l.a(`use config type`, { dataSourceType, forcePickerConfig: parts.forcePickerConfig, dsType });\r\n\r\n    const dataAdapterType = mapNameToDataAdapter[dsType] ?? DataAdapterEmpty;\r\n    this.#throwIfSourceAdapterNotAllowed(inputType, dataAdapterType);\r\n    const result = transient(dataAdapterType, this.injector).connectState(state);\r\n    return l.r(result);\r\n  }\r\n\r\n  #throwIfSourceAdapterNotAllowed(inputType: Of<typeof InputTypeCatalog>, dataSourceType: ProviderToken<unknown>): boolean {\r\n    // Empty is always allowed, as it's usually for errors / missing configs\r\n    if (dataSourceType === DataAdapterEmpty) return false;\r\n    if (partsMap[inputType]?.sources?.includes(dataSourceType)) return false;\r\n    throw new Error(`Specified SourceAdapter not allowed for inputTypeSpecs: ${inputType}: ${DataAdapterString}`);\r\n  }\r\n\r\n}\r\n\r\nconst mapNameToDataAdapter: Record<string, ProviderToken<DataAdapterBase>> = {\r\n  [PickerConfigs.UiPickerSourceCustomList]: DataAdapterString,\r\n  [PickerConfigs.UiPickerSourceCustomCsv]: DataAdapterString,\r\n  [PickerConfigs.UiPickerSourceCss]: DataAdapterCss,\r\n  [PickerConfigs.UiPickerSourceQuery]: DataAdapterQuery,\r\n  [PickerConfigs.UiPickerSourceEntity]: DataAdapterEntity,\r\n  [PickerConfigs.UiPickerSourceAppAssets]: DataAdapterAppAssets,\r\n};\r\n\r\n/**\r\n * Catalog of the parts to be used for each picker type.\r\n * This includes what data-sources and state-adapters to use.\r\n * For older pickers, a predefined source is used.\r\n */\r\nconst partsMap: Record<string, PartMap> = {\r\n  [InputTypeCatalog.StringPicker]: {\r\n    sources: [DataAdapterString, DataAdapterQuery, DataAdapterEntity, DataAdapterCss, DataAdapterAppAssets],\r\n    uiMapper: StateUiMapperStringArray,\r\n  },\r\n  [InputTypeCatalog.StringDropdown]: {\r\n    sources: [DataAdapterString],\r\n    uiMapper: StateUiMapperStringArray,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceCustomList,\r\n  },\r\n\r\n  [InputTypeCatalog.StringFontIconPicker]: {\r\n    sources: [DataAdapterCss],\r\n    uiMapper: StateUiMapperStringArray,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceCss,\r\n  },\r\n\r\n  [InputTypeCatalog.NumberDropdown]: {\r\n    sources: [DataAdapterString],\r\n    uiMapper: StateUiMapperNumberArray,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceCustomList,\r\n  },\r\n\r\n  [InputTypeCatalog.NumberPicker]: {\r\n    sources: [DataAdapterString, DataAdapterQuery, DataAdapterEntity],\r\n    uiMapper: StateUiMapperNumberArray,\r\n  },\r\n  [InputTypeCatalog.StringDropdownQuery]: {\r\n    sources: [DataAdapterQuery],\r\n    uiMapper: StateUiMapperStringArray,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceQuery,\r\n  },\r\n  [InputTypeCatalog.EntityDefault]: {\r\n    sources: [DataAdapterEntity],\r\n    uiMapper: StateUiMapperNoop,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceEntity,\r\n  },\r\n  [InputTypeCatalog.EntityQuery]: {\r\n    sources: [DataAdapterQuery],\r\n    uiMapper: StateUiMapperNoop,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceQuery,\r\n  },\r\n  [InputTypeCatalog.EntityContentBlocks]: {\r\n    sources: [DataAdapterEntity],\r\n    uiMapper: StateUiMapperNoop,\r\n    forcePickerConfig: PickerConfigs.UiPickerSourceEntity,\r\n  },\r\n  [InputTypeCatalog.EntityPicker]: {\r\n    sources: [DataAdapterEntity, DataAdapterQuery, DataAdapterString],\r\n    uiMapper: StateUiMapperNoop,\r\n  },\r\n};\r\n\r\ninterface PartMap {\r\n  sources: ProviderToken<unknown>[],\r\n  uiMapper: typeof StateUiMapperBase | typeof StateUiMapperStringArray | typeof StateUiMapperNumberArray, // ProviderToken<StateUiMapperBase>,\r\n  /** Force some string-sources to assume no-configuration, since the config is in the classic metadata, not in a DataSource config */\r\n  forcePickerConfig?: Of<typeof PickerConfigs>,\r\n}\r\n","import { Component, inject, Injector, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { FieldSettingsWithPickerSource } from '../../../../../../edit-types/src/PickerSources';\r\nimport { BaseComponent } from '../../../shared/components/base';\r\nimport { classLog, ClassLogger } from '../../../shared/logging';\r\nimport { computedObj } from '../../../shared/signals/signal.utilities';\r\nimport { EditRoutingService } from '../../routing/edit-routing.service';\r\nimport { FieldState } from '../field-state';\r\nimport { PickerDataSetup } from './picker-data-setup';\r\nimport { PickerImports } from './picker-providers.constant';\r\nimport { PickerSearchComponent } from './picker-search/picker-search';\r\n\r\n@Component({\r\n    // selector: none since it's a base class\r\n    templateUrl: './picker.html',\r\n    imports: PickerImports\r\n})\r\nexport abstract class PickerComponent extends BaseComponent implements OnInit, OnDestroy {\r\n\r\n  /** Typed Log Specs for inheriting classes to reuse */\r\n  static logSpecs = {\r\n    all: false,\r\n    focusOnSearchComponent: true,\r\n    refreshOnChildClosed: false,\r\n    childFormResult: true,\r\n  };\r\n\r\n  log: ClassLogger<typeof PickerComponent.logSpecs>;\r\n  \r\n  constructor() { super(); }\r\n  \r\n  constructorEnd() {\r\n    this.log ??= classLog({PickerComponent}, PickerComponent.logSpecs);\r\n    this.log.a('constructor');\r\n    const pickerDataFactory = new PickerDataSetup(this.#injector);\r\n    pickerDataFactory.setupPickerData(this.#pickerData, this.#fieldState);\r\n  }\r\n\r\n  @ViewChild(PickerSearchComponent) protected entitySearchComponent: PickerSearchComponent;\r\n\r\n  /** The injector is used by most children to get transient one-time objects */\r\n  #injector = inject(Injector);\r\n  #editRoutingService = inject(EditRoutingService);\r\n  #fieldState = inject(FieldState) as FieldState<FieldValue, FieldSettingsWithPickerSource>;\r\n\r\n  #pickerData = this.#fieldState.pickerData;\r\n\r\n  /**\r\n   * Whether to show the preview or not,\r\n   * since this control is used both for preview and dialog.\r\n   */\r\n  showPreview = computedObj('showPreview', () => {\r\n    const s = this.#pickerData.features();\r\n    return !s.multiValue || (s.multiValue && !this.#fieldState.isOpen());\r\n  });\r\n\r\n  ngOnInit(): void {\r\n    if (this.#pickerData.closeWatcherAttachedWIP)\r\n      return;\r\n    this.#refreshOnChildClosed();\r\n    this.#pickerData.closeWatcherAttachedWIP = true;\r\n  }\r\n\r\n  #refreshOnChildClosed(): void {\r\n    const l = this.log.fnIf('refreshOnChildClosed');\r\n\r\n    // this is used when new entity is created in child form it automatically adds it to the picker as selected item\r\n    const config = this.#fieldState.config;\r\n    this.subscriptions.add(\r\n      // TODO: 2dm 2024-09-05 I believe this doesn't work as expected\r\n      this.#editRoutingService.childFormResult(config.index, config.entityGuid)\r\n        .subscribe(result => {\r\n          const l2 = this.log.fnIf('childFormResult', { result });\r\n          return l2.r(this.#pickerData.addNewlyCreatedItem(result));\r\n        })\r\n    );\r\n    l.end();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { PickerOptionCustom } from '../../../../../../../edit-types/src/DropdownOption';\r\nimport { classLog } from '../../../../shared/logging/logging';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  calculateDropdownOptions: true,\r\n  addSelectedIfMissing: true,\r\n}\r\n\r\nexport class DataSourceDropDownOptions {\r\n  log = classLog({DataSourceDropDownOptions}, logSpecs);\r\n\r\n  constructor() { }\r\n\r\n  parseOptions(\r\n    currentValue: string | number | null,\r\n    type: 'string' | 'number',\r\n    dropdownValuesFormat: '' | 'value-label', // first one is empty as a compatibility with old 2sxc versions\r\n    dropdownValues: string\r\n  ): PickerOptionCustom[] {\r\n    const l = this.log.fn('calculateDropdownOptions', { currentValue, type, dropdownValuesFormat, dropdownValues });\r\n\r\n    if (!dropdownValues)\r\n      return l.r(this.addSelectedIfMissing([], currentValue), 'No dropdownValues');\r\n  \r\n    const lines = dropdownValues\r\n      .replace(/\\r/g, '')\r\n      .split('\\n');\r\n  \r\n    switch (dropdownValuesFormat) {\r\n      case '':\r\n        const classicOptions = lines.map(line => {\r\n          const s = line.split(':');\r\n          const maybeWantedEmptyVal = s[1];\r\n          const key = s.shift();    // first element is the key; remove it\r\n          const val = s.join(':');  // in case there are more than one colon, we'll join them back\r\n          return {\r\n            Title: key,\r\n            Value: (val || maybeWantedEmptyVal === '') ? val : key\r\n          } satisfies PickerOptionCustom;\r\n        });\r\n        return l.r(this.addSelectedIfMissing(classicOptions, currentValue));\r\n  \r\n      // Newer format, where the value is the first part, and the label is the rest\r\n      // Numbers can only be in this format, as we added the number-dropdowns later\r\n      case 'value-label':\r\n        const options = lines.map(line => {\r\n          // remove backslash escapes\r\n          const chars: { char: string, escaped: boolean }[] = [];\r\n          for (let i = 0; i < line.length; i++) {\r\n            const current = line[i];\r\n            const next = line[i + 1];\r\n  \r\n            if (current === '\\\\' && next != null) {\r\n              chars.push({ char: next, escaped: true });\r\n              i++;\r\n              continue;\r\n            }\r\n  \r\n            chars.push({ char: current, escaped: false });\r\n          }\r\n  \r\n          // dropdownValues split with \":\", but ignore if escaped\r\n          const separatorIndex = chars.findIndex(c => c.char === ':' && c.escaped === false);\r\n          const option: PickerOptionCustom = {\r\n            Title: separatorIndex >= 0\r\n              ? chars.slice(separatorIndex + 1, chars.length).map(c => c.char).join('')\r\n              : chars.map(c => c.char).join(''),\r\n            Value: separatorIndex >= 0\r\n              ? chars.slice(0, separatorIndex).map(c => c.char).join('')\r\n              : chars.map(c => c.char).join(''),\r\n          };\r\n          if (type === 'number') {\r\n            option.Value = option.Value != null && option.Value !== ''\r\n              ? !isNaN(Number(option.Value)) ? Number(option.Value) : null\r\n              : null;\r\n          }\r\n          return option;\r\n        });\r\n        return l.r(this.addSelectedIfMissing(options, currentValue));\r\n    }\r\n  }\r\n\r\n  addSelectedIfMissing(options: PickerOptionCustom[], currentValue: string | number | null): PickerOptionCustom[] {\r\n    const l = this.log.fn('addSelectedIfMissing', { options, currentValue });\r\n\r\n    if (currentValue == null || currentValue === '')\r\n      return l.r(options, 'currentValue is null');\r\n    \r\n    // Perform string-compare because we don't know if the currentValue is a number or a string\r\n    const currentString = currentValue.toString();\r\n    const currentValueFound = options.some(o => o.Value?.toString() === currentString);\r\n    if (currentValueFound)\r\n      return l.r(options, 'found');\r\n\r\n    // 2024-12-17 2dm - this condition doesn't seem to make sense, so turn it off until we\r\n    // understand when we would need it\r\n    // if (!currentValueFound && !currentValue && currentValue !== '') {\r\n      return l.r([\r\n        ...options,\r\n        {\r\n          Title: currentString,\r\n          Value: currentValue,\r\n        } \r\n      ]);\r\n    // }\r\n    // return l.r(options);\r\n  }\r\n}\r\n","import Papa from 'papaparse';\r\nimport { PickerOptionCustomExtended } from '../../../../../../../edit-types/src/DropdownOption';\r\nimport { classLog } from '../../../../shared/logging';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  parse: true,\r\n};\r\n\r\nexport class DataSourceParserCsv {\r\n  \r\n  log = classLog({DataSourceParserCsv}, logSpecs);\r\n\r\n  constructor() { }\r\n\r\n  parse(csv: string): PickerOptionCustomExtended[] {\r\n\r\n    const l = this.log.fnIf('parse', { csv });\r\n\r\n    const x = Papa.parse<PickerOptionCustomExtended>(csv, {\r\n      header: true,\r\n      skipEmptyLines: true,\r\n      transformHeader: (header: string) => header.trim(),\r\n      transform: (value: string, header: string) => header == 'Value' ? value : value.trim(),\r\n      dynamicTyping: true,  // auto-detect booleans, numbers, etc\r\n    });\r\n\r\n    // If no data, return empty array\r\n    const data = x?.data;\r\n    if (!data || !Array.isArray(data) || data.length == 0) return [];\r\n\r\n    // Filter out all without a value property (but empty strings are ok)\r\n    const filtered = data.filter(d => d.Value !== undefined);\r\n\r\n    if (filtered.length != data.length)\r\n      console.warn('CSV contains rows without a value', { data, filtered });\r\n\r\n    // Use header to create empty object with all fields\r\n    const header = x?.meta.fields ?? [];\r\n    const preEmpty = header.reduce((acc, h) => ({\r\n      ...acc,\r\n      [h]: null }) as { [key: string]: any },\r\n      {}\r\n    ) as { [key: string]: any };\r\n    const { Value, ...empty } = preEmpty;\r\n    \r\n    l.a('Parsed CSV', { header, empty, data, filtered });\r\n\r\n    // Make sure all the rows have all the fields\r\n    const complete = filtered.map(f => ({\r\n      ...empty,\r\n      ...f,\r\n      Value: f.Value ?? '' // this is necessary, because the 'dynamicTyping' option will make it a null if it's empty\r\n    }));\r\n\r\n    return l.r(complete);\r\n  }\r\n}","import { Of } from '../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsEntity, FieldSettingsPicker, FieldSettingsPickerMerged } from '../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { RelationshipParentChild, UiPickerModeTree } from '../../../../../../edit-types/src/PickerModeTree';\r\nimport { FieldSettingsWithPickerSource, PickerSourceCustomCsv, PickerSourceCustomList, PickerSourceEntity, PickerSourceQuery, UiPickerSourcesAll } from '../../../../../../edit-types/src/PickerSources';\r\nimport { FeatureNames } from '../../../features/feature-names';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { EavEntity } from '../../shared/models/eav';\r\nimport { DataSourceDropDownOptions } from '../basic/string-picker/string-picker.helpers';\r\nimport { FieldLogicUpdate } from '../logic/field-logic-base';\r\nimport { FieldLogicTools } from '../logic/field-logic-tools';\r\nimport { PickerConfigs, PickerSourcesCustom, UiPickerModeIsTree } from './constants/picker-config-model.constants';\r\nimport { DataSourceParserCsv } from './data-sources/data-source-parser-csv';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  getDataSourceAndSetupFieldSettings: true,\r\n  data: true,\r\n};\r\n\r\nexport class PickerLogicShared {\r\n\r\n  log = classLog({ PickerLogicShared }, logSpecs);\r\n\r\n  constructor() { }\r\n\r\n  static setDefaultSettings(settings: FieldSettings): FieldSettings {\r\n    const s = settings as FieldSettings & FieldSettingsPickerMerged;\r\n    s.AllowMultiValue ??= false;\r\n    s.EnableEdit ??= true;\r\n    s.EnableCreate ??= true;\r\n    s.EnableAddExisting ??= true;\r\n    // if multi-value is ever allowed, then we must also enable remove...\r\n    s.EnableRemove ??= true;\r\n    s.EnableDelete ??= false;\r\n    s.Label ??= '';\r\n    s.EnableTextEntry ??= false;\r\n\r\n    s.noAutoFocus = true;\r\n\r\n    return s;\r\n  }\r\n\r\n  static maybeOverrideEditRestrictions(fsUntyped: FieldSettings, tools: FieldLogicTools): { fs: FieldSettings, removeEditRestrictions: boolean } {\r\n    const fs = fsUntyped as FieldSettings & FieldSettingsPickerMerged;\r\n    if (!(tools.eavConfig.removeEditRestrictions && tools.debug))\r\n      return { fs, removeEditRestrictions: false };\r\n\r\n    console.log(`SystemAdmin + Debug: Overriding edit restrictions for field \\'${fs.Name}\\' (EntityType: \\'${fs.EntityType}\\').`);\r\n    fs.EnableEdit = true;\r\n    fs.EnableCreate = true;\r\n    fs.EnableAddExisting = true;\r\n    fs.EnableRemove = true;\r\n    fs.EnableDelete = true;\r\n    return { fs, removeEditRestrictions: true };\r\n  }\r\n\r\n  preUpdate({ settings, tools, value }: FieldLogicUpdate) {\r\n\r\n    const fsDefaults = PickerLogicShared.setDefaultSettings({ ...settings });\r\n\r\n    const { fs: fsRaw, removeEditRestrictions } = PickerLogicShared.maybeOverrideEditRestrictions(fsDefaults, tools);\r\n\r\n    const { fs, typeConfig } = new PickerLogicShared().#getDataSourceAndSetupFieldSettings(value, fsRaw, tools);\r\n\r\n    return { fs, removeEditRestrictions, typeConfig };\r\n  }\r\n\r\n\r\n  #getDataSourceAndSetupFieldSettings(value: FieldValue, fsBasic: FieldSettings, tools: FieldLogicTools) {\r\n    // Define field settings to be a merged FieldSettings and PickerSources\r\n    const fs = fsBasic as FieldSettingsWithPickerSource & FieldSettingsPickerMerged;\r\n\r\n    const dataSources: EavEntity[] = (fs.DataSources?.length > 0)\r\n      ? tools.contentTypeItemSvc.getMany(fs.DataSources)\r\n      : [];\r\n\r\n    // Transfer configuration\r\n    const dataSource = dataSources[0];\r\n    const typeName = dataSource?.Type.Name as Of<typeof PickerConfigs>;\r\n    fs.dataSourceType = typeName ?? '' as Of<typeof PickerConfigs>;\r\n\r\n    // DataSource may not be configured yet, in which case the object is just {}\r\n    const typeConfig = tools.reader.flatten<UiPickerSourcesAll>(dataSource);\r\n\r\n    const isKnownType = Object.values(PickerConfigs).includes(typeName);\r\n\r\n    const l = this.log.fn('dataSources', { dataSources });\r\n\r\n    l.values({ typeName, isKnownType, dataSources, typeConfig });\r\n\r\n    if (!isKnownType) {\r\n      console.error(`Unknown picker source type: '${typeName}' on field ${fs.Name}`);\r\n      return { fs, typeConfig };\r\n    }\r\n\r\n    // Properties to transfer from just about all sources\r\n    fs.CreateTypes = typeConfig.CreateTypes ?? '';// possible multiple types\r\n    fs.MoreFields = typeConfig.MoreFields ?? '';\r\n    fs.Label = typeConfig.Label ?? '';\r\n    fs.ItemInformation = typeConfig.ItemInformation ?? '';\r\n    fs.ItemTooltip = typeConfig.ItemTooltip ?? '';\r\n    fs.ItemLink = typeConfig.ItemLink ?? '';\r\n    fs.PreviewType = typeConfig.PreviewType ?? '';\r\n\r\n    // May specify another value to be used as the value - eg. for strings/numbers\r\n    fs.Value = typeConfig.Value ?? '';\r\n\r\n    // Do this for all, as it's a common property - e.g. Css, AppAssets, etc.\r\n    fs.PreviewValue = typeConfig.PreviewValue ?? '';\r\n\r\n    const sourceIsQuery = typeName === PickerConfigs.UiPickerSourceQuery;\r\n    const sourceIsEntity = typeName === PickerConfigs.UiPickerSourceEntity;\r\n    const sourceIsCss = typeName === PickerConfigs.UiPickerSourceCss;\r\n    const sourceIsAppAssets = typeName === PickerConfigs.UiPickerSourceAppAssets;\r\n\r\n    l.values({ sourceIsQuery, sourceIsEntity, sourceIsCss, sourceIsAppAssets });\r\n\r\n    const isCustomSource = Object.values(PickerSourcesCustom).includes(typeName as Of<typeof PickerSourcesCustom>);\r\n\r\n    /** Query Data Source */\r\n    if (sourceIsQuery) {\r\n      const specsQuery = typeConfig as PickerSourceQuery;\r\n      fs.Query = specsQuery.Query ?? '';\r\n      fs.StreamName = specsQuery.StreamName ?? 'Default';// stream name could be multiple stream names\r\n      fs.UrlParameters = specsQuery.QueryParameters ?? '';\r\n    }\r\n\r\n    /** Entity Data Source */\r\n    if (sourceIsEntity) {\r\n      const specsEntity = typeConfig as PickerSourceEntity;\r\n      (fs as FieldSettingsEntity).EntityType = specsEntity.ContentTypeNames ?? '';// possible multiple types\r\n    }\r\n\r\n    /** Css File Data Source */\r\n    if (sourceIsCss) {\r\n      fs.CssSourceFile = typeConfig.CssSourceFile ?? '';\r\n      fs.CssSelectorFilter = typeConfig.CssSelectorFilter ?? '';\r\n    }\r\n\r\n    /** App Assets Source */\r\n    if (sourceIsAppAssets) {\r\n      fs.AssetsRootFolder = typeConfig.AssetsRootFolder ?? '/';\r\n      fs.AssetsFileFilter = typeConfig.AssetsFileFilter ?? '*.*';\r\n      fs.AssetsType = typeConfig.AssetsType ?? 'files';\r\n      fs.requiredFeatures = [FeatureNames.PickerSourceAppAssets];\r\n    }\r\n\r\n    if (isCustomSource) {\r\n      if (typeName === PickerConfigs.UiPickerSourceCustomList) {\r\n        const valuesRaw = (typeConfig as UiPickerSourcesAll & PickerSourceCustomList).Values ?? '';\r\n        // note that 'value-label' is the only format supported by the new picker config\r\n        fs._options ??= new DataSourceDropDownOptions().parseOptions(value as string, 'string', 'value-label', valuesRaw) ?? [];\r\n      } else if (typeName === PickerConfigs.UiPickerSourceCustomCsv) {\r\n        const csv = (typeConfig as UiPickerSourcesAll & PickerSourceCustomCsv).Csv;\r\n        fs._options ??= new DataSourceParserCsv().parse(csv);\r\n        fs.requiredFeatures = [FeatureNames.PickerSourceCsv];\r\n      }\r\n    }\r\n\r\n    // If AllowMultiValue is false then EnableReselect must be false\r\n    fs.AllowMultiValue ? fs.EnableReselect ??= false : fs.EnableReselect = false;\r\n    // If AllowMultiValue is false then AllowMultiMin and AllowMultiMax must be 0 so we don't trigger the validation\r\n    if (fs.AllowMultiValue) {\r\n      fs.AllowMultiMin ??= 0;\r\n      fs.AllowMultiMax ??= 0;\r\n    } else {\r\n      fs.AllowMultiMin = 0;\r\n      fs.AllowMultiMax = 0;\r\n    }\r\n\r\n    // Display Mode and configuration of that\r\n    fs.PickerDisplayMode ??= 'list';\r\n    fs.PickerDisplayConfiguration ??= [];\r\n\r\n    // Tree configuration WIP\r\n    fs.PickerTreeConfiguration = this.#getTreeConfigOnce(fs, tools);\r\n\r\n    return { fs, typeConfig };\r\n  }\r\n\r\n  /** Get the tree config, unless it was already created, in which case we reuse it. */\r\n  #getTreeConfigOnce(fs: FieldSettings & FieldSettingsPicker, tools: FieldLogicTools): UiPickerModeTree {\r\n    if (fs.PickerTreeConfiguration)\r\n      return fs.PickerTreeConfiguration;\r\n\r\n    if (fs.PickerDisplayMode !== 'tree')\r\n      return null;\r\n\r\n    // Tree configuration WIP\r\n    const pickerDisplayConfigurations: EavEntity[] = (fs.PickerDisplayConfiguration?.length > 0)\r\n      ? tools.contentTypeItemSvc.getMany(fs.PickerDisplayConfiguration)\r\n      : [];\r\n\r\n    const pickerDisplayConfigName = pickerDisplayConfigurations[0]?.Type.Name;\r\n\r\n    if (pickerDisplayConfigName !== UiPickerModeIsTree)\r\n      return null;\r\n\r\n    const specs = tools.reader.flatten<UiPickerModeTree>(pickerDisplayConfigurations[0]);\r\n    const final: UiPickerModeTree = {\r\n      Title: specs.Title ?? '',\r\n      ConfigModel: UiPickerModeIsTree,\r\n      TreeRelationship: specs.TreeRelationship ?? RelationshipParentChild,\r\n      TreeBranchesStream: specs.TreeBranchesStream ?? 'Default',\r\n      TreeLeavesStream: specs.TreeLeavesStream ?? 'Default',\r\n      TreeParentIdField: specs.TreeParentIdField ?? 'Id',\r\n      TreeChildIdField: specs.TreeChildIdField ?? 'Id',\r\n      TreeParentChildRefField: specs.TreeParentChildRefField ?? 'Children',\r\n      TreeChildParentRefField: specs.TreeChildParentRefField ?? 'Parent',\r\n      TreeShowRoot: specs.TreeShowRoot ?? true,\r\n      TreeDepthMax: specs.TreeDepthMax ?? 10,\r\n      TreeAllowSelectRoot: specs.TreeAllowSelectRoot ?? true,\r\n      TreeAllowSelectBranch: specs.TreeAllowSelectBranch ?? true,\r\n      TreeAllowSelectLeaf: specs.TreeAllowSelectLeaf ?? true,\r\n    } satisfies UiPickerModeTree;\r\n    return final;\r\n  }\r\n\r\n}\r\n","import { PickerSourceEntity } from 'projects/edit-types/src/PickerSources';\r\nimport { FieldSettingsEntity, FieldSettingsSharedCreate } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { PickerLogicShared } from '../../picker/picker-logic-shared';\r\nimport { FieldSettings } from './../../../../../../../edit-types/src/FieldSettings';\r\n\r\nexport class EntityDefaultLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.EntityDefault;\r\n  \r\n  constructor() { super({ EntityDefaultLogic }); }\r\n\r\n  update({ settings, tools }: FieldLogicUpdate): FieldSettings {\r\n    \r\n    const fsRaw = PickerLogicShared.setDefaultSettings({ ...settings }) as FieldSettings & FieldSettingsSharedCreate & FieldSettingsEntity;\r\n    \r\n    // Both the query type and create-type are the same\r\n    fsRaw.EntityType ??= '';\r\n    fsRaw.CreateTypes = fsRaw.EntityType ?? '';\r\n\r\n    // The old entity-type has a prefill, which is now the create-prefill\r\n    (fsRaw as unknown as PickerSourceEntity).CreatePrefill ??= fsRaw.Prefill;\r\n    delete fsRaw.Prefill;\r\n\r\n    const fs = PickerLogicShared.maybeOverrideEditRestrictions(fsRaw, tools).fs;\r\n    \r\n    return fs;\r\n  }\r\n\r\n}\r\n\r\nFieldLogicBase.add(EntityDefaultLogic);\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { EntityDefaultLogic } from './entity-default-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.EntityDefault,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class EntityDefaultComponent extends PickerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({EntityDefaultComponent}, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    EntityDefaultLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsPickerMerged } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldLogicManager } from '../../logic/field-logic-manager';\r\n\r\nexport class EntityContentBlocksLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.EntityContentBlocks;\r\n\r\n  constructor() { super({ EntityContentBlocksLogic }); }\r\n\r\n  update(specs: FieldLogicUpdate<string[]>): FieldSettings {\r\n    const entityDefaultLogic = FieldLogicManager.singleton().get(InputTypeCatalog.EntityDefault);\r\n    const fs = entityDefaultLogic.update(specs)  as FieldSettings & FieldSettingsPickerMerged;\r\n    fs.EnableRemove = true;\r\n    fs.AllowMultiValue = true;\r\n    fs.EnableAddExisting = false;\r\n    fs.EnableCreate = false;\r\n    fs.EnableEdit = false;\r\n    fs.Visible = false;\r\n\r\n    // Both the query type and create-type are the same\r\n    fs.EntityType = 'ContentGroupReference';\r\n    fs.CreateTypes = fs.EntityType;\r\n\r\n    return fs;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(EntityContentBlocksLogic);\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { EntityDefaultComponent } from '../entity-default/entity-default';\r\nimport { EntityContentBlocksLogic } from './entity-content-blocks-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.EntityContentBlocks,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class EntityContentBlockComponent extends EntityDefaultComponent implements OnInit, OnDestroy {\r\n\r\n  constructor() {\r\n    super();\r\n    EntityContentBlocksLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { PickerLogicShared } from '../../picker/picker-logic-shared';\r\n\r\nexport class EntityPickerLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.EntityPicker;\r\n\r\n  constructor() { super({ EntityPickerLogic }); }\r\n\r\n  update(specs: FieldLogicUpdate): FieldSettings {\r\n    return new PickerLogicShared().preUpdate(specs).fs;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(EntityPickerLogic);\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { EntityPickerLogic } from './entity-picker-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.EntityPicker,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class EntityPickerComponent extends PickerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({EntityPickerComponent}, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    EntityPickerLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { FieldSettingsEntityQuery } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldLogicManager } from '../../logic/field-logic-manager';\r\nimport { EntityDefaultLogic } from '../entity-default/entity-default-logic';\r\nimport { FieldSettings } from './../../../../../../../edit-types/src/FieldSettings';\r\n\r\nexport class EntityQueryLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.EntityQuery;\r\n\r\n  constructor() { super({ EntityQueryLogic }); }\r\n\r\n  update(updateSpecs: FieldLogicUpdate<string[]>): FieldSettings {\r\n    const entityDefaultLogic = FieldLogicManager.singleton().get(InputTypeCatalog.EntityDefault) as EntityDefaultLogic;\r\n    const s = entityDefaultLogic.update(updateSpecs) as FieldSettings & FieldSettingsEntityQuery;\r\n    s.Query ??= '';\r\n    s.StreamName ||= 'Default';\r\n    s.UrlParameters ??= '';\r\n    return s;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(EntityQueryLogic);\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { EntityQueryLogic } from './entity-query-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.EntityQuery,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class EntityQueryComponent extends PickerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({EntityQueryComponent}, PickerComponent.logSpecs);\r\n  \r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    EntityQueryLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { Injectable } from '@angular/core';\r\nimport { AdamConfig } from '../../../../../../edit-types/src/AdamConfig';\r\nimport { AdamItem } from '../../../../../../edit-types/src/AdamItem';\r\nimport { HttpServiceBaseSignal } from '../../../shared/services/http-service-base-signal';\r\nimport { LinkInfo } from '../../dialog/main/edit-dialog-main.models';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { SanitizeHelper } from '../helpers';\r\n\r\n/**\r\n * Form wide ADAM helper to get files, add folders etc.\r\n * Must be created once per edit-form, as it needs the exact app etc.\r\n */\r\n@Injectable()\r\nexport class AdamService extends HttpServiceBaseSignal {\r\n\r\n  constructor(private formConfig: FormConfigService) {\r\n    super();\r\n  }\r\n\r\n  getAllPromise(url: string, config: AdamConfig): Promise<AdamItem[]> {\r\n    return this.fetchPromise<AdamItem[]>(url + '/items', {\r\n      params: {\r\n        subfolder: config.subfolder,\r\n        usePortalRoot: config.usePortalRoot.toString(),\r\n        appId: this.formConfig.config.appId,\r\n      },\r\n    });\r\n  }\r\n\r\n  addFolder(newFolderName: string, url: string, config: AdamConfig) {\r\n    return this.http.post<AdamItem[]>(\r\n      url + '/folder',\r\n      {},\r\n      {\r\n        params: {\r\n          subfolder: config.subfolder,\r\n          newFolder: SanitizeHelper.sanitizeName(newFolderName),\r\n          usePortalRoot: config.usePortalRoot.toString(),\r\n          appId: this.formConfig.config.appId,\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  renamePromise(item: AdamItem, newName: string, url: string, config: AdamConfig): Promise<boolean> {\r\n    return this.fetchPromise<boolean>(url + '/rename', {\r\n      params: {\r\n        subfolder: config.subfolder,\r\n        isFolder: item.IsFolder.toString(),\r\n        id: item.Id.toString(),\r\n        usePortalRoot: config.usePortalRoot.toString(),\r\n        newName: SanitizeHelper.sanitizeName(newName),\r\n        appId: this.formConfig.config.appId,\r\n      },\r\n    });\r\n  }\r\n\r\n  deleteItemPromise(item: AdamItem, url: string, config: AdamConfig): Promise<boolean> {\r\n    return this.fetchPromise<boolean>(url + '/delete', {\r\n      params: {\r\n        subfolder: config.subfolder,\r\n        isFolder: item.IsFolder.toString(),\r\n        id: item.Id.toString(),\r\n        usePortalRoot: config.usePortalRoot.toString(),\r\n        appId: this.formConfig.config.appId,\r\n      },\r\n    });\r\n  }\r\n\r\n  getLinkInfoPromise(\r\n    link: string,\r\n    contentType: string,\r\n    guid: string,\r\n    field: string\r\n  ): Promise<LinkInfo> {\r\n    return this.fetchPromise<LinkInfo>('cms/edit/linkInfo', {\r\n      params: {\r\n        link,\r\n        ...(guid && { guid }),\r\n        ...(contentType && { contentType }),\r\n        ...(field && { field }),\r\n        appid: this.formConfig.config.appId,\r\n      },\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\nimport { Connector } from '../../../../../../edit-types/src/Connector';\r\nimport { ConnectorDialog } from '../../../../../../edit-types/src/ConnectorDialog';\r\nimport { ConnectorData } from '../../../../../../edit-types/src/ConnectorData';\r\nimport { FieldConfig } from '../../../../../../edit-types/src/FieldConfig';\r\nimport { ExperimentalProps } from '../../../../../../edit-types/src/ExperimentalProps';\r\nimport { loadScripts } from '../../../shared/helpers/load-scripts.helper';\r\nimport { FormConfiguration } from '../../form/form-configuration.model';\r\nimport { Signal } from '@angular/core';\r\nimport { ScriptsLoaderService } from '../../shared/services/scripts-loader.service';\r\nimport { toObservable } from '@angular/core/rxjs-interop';\r\nimport { classLog } from '../../../shared/logging';\r\n\r\nexport class ConnectorInstance<T = any> implements Connector<T> {\r\n  \r\n  log = classLog({ConnectorInstance});\r\n  \r\n  data: ConnectorData<T>;\r\n  dialog: ConnectorDialog;\r\n  loadScript: (...args: any[]) => void;\r\n\r\n  get field() { return this.fieldConfigSignal(); }\r\n\r\n  get field$() { return this.#field$ ??= toObservable(this.fieldConfigSignal, { injector: this._experimental.injector }) }\r\n  #field$: Observable<FieldConfig>;\r\n\r\n  constructor(\r\n    _connectorHost: ConnectorHost<T>,\r\n    value$: Observable<T>,\r\n    private fieldConfigSignal: Signal<FieldConfig>,\r\n    public _experimental: ExperimentalProps,\r\n    formConfig: FormConfiguration,\r\n  ) {\r\n    this.data = new ConnectorDataInstance<T>(_connectorHost, value$);\r\n    this.dialog = new ConnectorDialogInstance<T>(_connectorHost);\r\n\r\n    this.loadScript = (\r\n      testOrScripts: string | (() => boolean) | { test: string | (() => boolean); src: string }[],\r\n      srcOrCallback: string | (() => void),\r\n      callback?: () => void,\r\n    ) => {\r\n      // one script (3 parameters: global or test, script url and a callback)\r\n      const isMainSignature = (typeof testOrScripts === 'string' || typeof testOrScripts === 'function')\r\n        && typeof srcOrCallback === 'string'\r\n        && typeof callback === 'function';\r\n      if (isMainSignature) {\r\n        srcOrCallback = ScriptsLoaderService.resolveUrlTokens(srcOrCallback as string, formConfig);\r\n        loadScripts([{ test: testOrScripts, src: srcOrCallback }], callback);\r\n        return;\r\n      }\r\n      // multiple scripts (2 parameters: scripts array and a callback)\r\n      if (Array.isArray(testOrScripts) && typeof srcOrCallback === 'function') {\r\n        for (const script of testOrScripts)\r\n          script.src = ScriptsLoaderService.resolveUrlTokens(script.src, formConfig);\r\n        loadScripts(testOrScripts, srcOrCallback);\r\n        return;\r\n      }\r\n      throw new Error('Unrecognized parameters. Please double check your input');\r\n    };\r\n  }\r\n}\r\n\r\nclass ConnectorDataInstance<T> implements ConnectorData<T> {\r\n  value: T;\r\n  clientValueChangeListeners: ((newValue: T) => void)[] = [];\r\n\r\n  constructor(private _connectorHost: ConnectorHost<T>, public value$: Observable<T>) {\r\n    // Host will complete this observable. Therefore unsubscribe is not required\r\n    this.value$.subscribe(newValue => {\r\n      this.value = newValue;\r\n      this.clientValueChangeListeners.forEach(callback => callback(newValue));\r\n    });\r\n  }\r\n\r\n  update(newValue: T) {\r\n    this._connectorHost.update(newValue);\r\n  }\r\n\r\n  onValueChange(callback: (newValue: T) => void) {\r\n    this.clientValueChangeListeners.push(callback);\r\n  }\r\n}\r\n\r\nclass ConnectorDialogInstance<T> implements ConnectorDialog {\r\n  constructor(private _connectorHost: ConnectorHost<T>) { }\r\n\r\n  open(componentTag?: string) {\r\n    return this._connectorHost.expand(true, componentTag);\r\n  }\r\n\r\n  close() {\r\n    this._connectorHost.expand(false);\r\n  }\r\n}\r\n\r\n/** Props and methods available to the connector to communicate with the host */\r\nexport interface ConnectorHost<T = any> {\r\n  update: (value: T) => void;\r\n  expand: (expand: boolean, componentTag?: string) => void;\r\n}\r\n","import { ChangeDetectorRef, ElementRef, Injectable, Injector, NgZone, OnDestroy, ViewContainerRef, computed, effect, inject } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport isEqual from 'lodash-es/isEqual';\r\nimport { distinctUntilChanged, startWith } from 'rxjs';\r\nimport { transient } from '../../../../../../core';\r\nimport { EavCustomInputField } from '../../../../../../edit-types/src/EavCustomInputField';\r\nimport { FieldConfig } from '../../../../../../edit-types/src/FieldConfig';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FeatureNames } from '../../../features/feature-names';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { openFeatureDialog } from '../../../features/shared/base-feature';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { ServiceBase } from '../../../shared/services/service-base';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { EditRoutingService } from '../../routing/edit-routing.service';\r\nimport { AdamService } from '../../shared/adam/adam.service';\r\nimport { ContentTypeService } from '../../shared/content-types/content-type.service';\r\nimport { UiControl } from '../../shared/controls/ui-control';\r\nimport { FieldMask } from '../../shared/helpers';\r\nimport { InputTypeService } from '../../shared/input-types/input-type.service';\r\nimport { FieldConfigSet } from '../field-config-set.model';\r\nimport { FieldState } from '../field-state';\r\nimport { PagePicker } from '../page-picker/page-picker.helper';\r\nimport { ExperimentalProps } from './../../../../../../edit-types/src/ExperimentalProps';\r\nimport { FieldValue } from './../../../../../../edit-types/src/FieldValue';\r\nimport { ConnectorHost, ConnectorInstance } from './connector-instance.model';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n  init: true,\r\n  getUrlOfId: false,\r\n  updateControl: false,\r\n  openFeatureDisabledWarning: false,\r\n};\r\n\r\n@Injectable()\r\nexport class ConnectorHelper extends ServiceBase implements OnDestroy {\r\n\r\n  log = classLog({ ConnectorHelper }, logSpecs);\r\n\r\n  #injector = inject(Injector);\r\n  #fieldState = inject(FieldState);\r\n  #formConfig = inject(FormConfigService);\r\n  #translateService = inject(TranslateService);\r\n  #contentTypeService = inject(ContentTypeService);\r\n  #inputTypeService = inject(InputTypeService);\r\n  #featuresService = inject(FeaturesService);\r\n  #editRoutingService = inject(EditRoutingService);\r\n  #dialog = inject(MatDialog);\r\n  #snackBar = inject(MatSnackBar);\r\n  #zone = inject(NgZone);\r\n  #adamService = transient(AdamService);\r\n\r\n  constructor() {\r\n    super();\r\n    this.log.aIf('constructor')\r\n  }\r\n\r\n  #customEl: EavCustomInputField;\r\n  #value$ = this.#fieldState.ui().control.valueChanges.pipe(startWith(this.#fieldState.uiValue()), distinctUntilChanged(isEqual));\r\n\r\n  #config = this.#fieldState.config;\r\n  #group = this.#fieldState.group;\r\n\r\n  #viewContainerRef: ViewContainerRef;\r\n  #changeDetectorRef: ChangeDetectorRef;\r\n\r\n  public init(\r\n    customElName: string,\r\n    customElContainerRef: ElementRef,\r\n    viewContainerRef: ViewContainerRef,\r\n    changeDetectorRef: ChangeDetectorRef,\r\n  ): this {\r\n    this.log.a('init');\r\n    this.#viewContainerRef = viewContainerRef;\r\n    this.#changeDetectorRef = changeDetectorRef;\r\n    this.#customEl = document.createElement(customElName) as EavCustomInputField;\r\n    this.#customEl.connector = this.#buildConnector();\r\n    customElContainerRef.nativeElement.appendChild(this.#customEl);\r\n    return this;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.log.a('ngOnDestroy');\r\n    this.#customEl?.parentNode.removeChild(this.#customEl);\r\n    this.#customEl = null;\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  #buildConnector() {\r\n    const connectorHost = this.#getCallbacks();\r\n    const experimental = this.#buildExperimentalProps();\r\n    const fieldConfigSignal = computed(() => {\r\n      const settings = this.#fieldState.settings();\r\n      return toFieldConfig(this.#config, settings);\r\n    }, { equal: isEqual });\r\n    const connector = new ConnectorInstance(connectorHost, this.#value$, fieldConfigSignal, experimental, this.#formConfig.config);\r\n\r\n    effect(() => {\r\n      const s = this.#fieldState.settings();\r\n      const field = connector.field as FieldConfig;\r\n      field.settings = s;\r\n      field.label = s.Name;\r\n      field.placeholder = s.Placeholder;\r\n      field.required = s.valueRequired;\r\n    }, { injector: this.#injector });\r\n    return connector;\r\n  }\r\n\r\n  #getCallbacks() {\r\n    const connectorHost: ConnectorHost = {\r\n      update: (value) => {\r\n        this.#zone.run(() => this.#updateControl(value));\r\n      },\r\n      expand: (expand, componentTag) => {\r\n        this.#zone.run(() => this.#editRoutingService.expand(expand, this.#config.index, this.#config.entityGuid, componentTag));\r\n      },\r\n    };\r\n    return connectorHost;\r\n  }\r\n\r\n  #buildExperimentalProps() {\r\n    const contentType = this.#contentTypeService.get(this.#config.contentTypeNameId);\r\n    const allInputTypeNames = this.#inputTypeService.getAttributeInputTypes(contentType.Attributes);\r\n\r\n    const lEx = classLog(\"ConnectorHelperExperimental\");\r\n\r\n    const experimentalProps: ExperimentalProps = {\r\n      entityGuid: this.#config.entityGuid,\r\n      allInputTypeNames,\r\n      formGroup: this.#group,\r\n      translateService: this.#translateService,\r\n      isExpanded$: this.#editRoutingService.isExpanded$(this.#config.index, this.#config.entityGuid),\r\n      dropzone: this.#config.dropzone,\r\n      adam: this.#config.adam,\r\n      updateField: (name, value) => {\r\n        lEx.fn('updateField', { name, value });\r\n        this.#zone.run(() => { this.#updateControl(value, this.#group.controls[name]); });\r\n      },\r\n      isFeatureEnabled: this.#featuresService.isEnabled,\r\n      setFocused: (focused) => {\r\n        lEx.fn('setFocused', { focused });\r\n        this.#zone.run(() => { this.#config.focused$.next(focused); });\r\n      },\r\n      openPagePicker: (callback) => {\r\n        lEx.fn('openPagePicker');\r\n        this.#zone.run(() => {\r\n          PagePicker.open(this.#config, this.#group, this.#dialog, this.#viewContainerRef, this.#changeDetectorRef, callback);\r\n        });\r\n      },\r\n      featureDisabledWarning: (featureNameId) => {\r\n        lEx.fn('featureDisabledWarning', { featureNameId });\r\n        this.#zone.run(() => {\r\n          this.#openFeatureDisabledWarning(featureNameId);\r\n        });\r\n      },\r\n      getUrlOfId: (value, callback) => {\r\n        lEx.fn('getUrlOfId', { value });\r\n        this.#zone.run(() => { this.#getUrlOfId(value, callback); });\r\n      },\r\n      getSettings: (name) => this.#formConfig.config.settings?.Values[name],\r\n\r\n      getFieldMask: (mask: string, name?: string) => {\r\n        return transient(FieldMask, this.#injector).init(name, mask);\r\n      },\r\n\r\n      injector: this.#injector,\r\n\r\n      // expose a showSnackBar helper so editor can display messages directly\r\n      showSnackBar: (message: string) => {\r\n        try {\r\n          this.#zone.run(() => {\r\n            // Use translation if available\r\n            const translated = this.#translateService?.instant ? this.#translateService.instant(message) : message;\r\n            // If message is a translation key and translation exists, instant will return a translated string,\r\n            // otherwise it returns the key - we prefer raw message as-is in that case.\r\n            this.#snackBar.open(translated ?? message, undefined, { duration: 3000 });\r\n          });\r\n        } catch (err) {\r\n          // keep silent on errors here, fallback will be handled by caller\r\n          console.warn('[ConnectorHelper] showSnackBar failed', err);\r\n        }\r\n      },\r\n    };\r\n\r\n    return experimentalProps;\r\n  }\r\n\r\n  #getUrlOfId(value: string, callback: (value: string) => void) {\r\n    if (!value) return;\r\n\r\n    // handle short-ID links like file:17\r\n    const contentType = this.#config.contentTypeNameId;\r\n    const entityGuid = this.#config.entityGuid;\r\n    const field = this.#config.fieldName;\r\n    this.#adamService.getLinkInfoPromise(value, contentType, entityGuid, field).then(linkInfo => {\r\n      if (!linkInfo) return;\r\n      callback(linkInfo.Value);\r\n    });\r\n  }\r\n\r\n  #updateControl(value: FieldValue, control: AbstractControl = null) {\r\n    const ui = control ? new UiControl(control) : this.#fieldState.ui();\r\n    if (ui.disabled) return;\r\n    this.#fieldState.ui().setIfChanged(value);\r\n  }\r\n\r\n  #openFeatureDisabledWarning(featureNameId: string) {\r\n    if (featureNameId === FeatureNames.PasteImageFromClipboard) {\r\n      this.#snackBar.open(this.#translateService.instant('Message.PastingFilesIsNotEnabled'), this.#translateService.instant('Message.FindOutMore'), { duration: 3000 })\r\n        .onAction()\r\n        .subscribe(() => openFeatureDialog(this.#dialog, FeatureNames.PasteImageFromClipboard, this.#viewContainerRef, this.#changeDetectorRef));\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * This function must stay here and not be in the edit-types folder,\r\n * otherwise too many dependencies are added because the FieldConfigSet is used.\r\n * @param config \r\n * @param settings \r\n * @returns \r\n */\r\nfunction toFieldConfig(config: FieldConfigSet, settings: FieldSettings): FieldConfig {\r\n  return {\r\n    name: config.fieldName,\r\n    index: config.index,\r\n    label: settings.Name,\r\n    placeholder: settings.Placeholder,\r\n    inputType: config.inputTypeSpecs.inputType,\r\n    type: config.type,\r\n    required: settings.valueRequired,\r\n    disabled: config.initialDisabled,\r\n    settings,\r\n  } satisfies FieldConfig;\r\n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, inject, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { transient } from '../../../../../../core/transient';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { FieldState } from '../field-state';\r\nimport { ConnectorHelper } from './connector.helper';\r\n\r\n@Component({\r\n  selector: 'app-connector',\r\n  templateUrl: './connector.html',\r\n})\r\nexport class ConnectorComponent implements AfterViewInit {\r\n\r\n  log = classLog({ConnectorComponent});\r\n\r\n  /** Child tag which will contain the inner html */\r\n  @ViewChild('customElContainer') private customElContainerRef: ElementRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  private connectorCreator = transient(ConnectorHelper);\r\n  private viewContainerRef = inject(ViewContainerRef);\r\n  private changeDetectorRef = inject(ChangeDetectorRef);\r\n\r\n  constructor() { }\r\n\r\n  ngAfterViewInit() {\r\n    const l = this.log.fn('ngAfterViewInit');\r\n    const componentTag = history?.state?.componentTag || this.fieldState.config.inputTypeSpecs.componentTagDialogName;\r\n    l.a('Connector created for:', { componentTag });\r\n    this.connectorCreator.init(\r\n      componentTag,\r\n      this.customElContainerRef,\r\n      this.viewContainerRef,\r\n      this.changeDetectorRef,\r\n    );\r\n  }\r\n\r\n}\r\n","<div #customElContainer style=\"height:100%; position:relative;\"></div>\r\n","import { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\n\r\nexport class CustomGpsLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.CustomGps;\r\n\r\n  constructor() { super({ CustomGpsLogic }); }\r\n\r\n  update({ settings }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings: FieldSettings = { ...settings };\r\n    // fixedSettings.DisableAutoTranslation = true;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(CustomGpsLogic);\r\n","import { StringWysiwyg } from 'projects/edit-types/src/FieldSettings-String';\r\nimport { AdamItem } from '../../../../../../../edit-types/src/AdamItem';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../../../edit-types/src/FieldValue';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldLogicWithValueInit } from '../../logic/field-logic-with-init';\r\n\r\n\r\nexport class StringWysiwygLogic extends FieldLogicBase implements FieldLogicWithValueInit {\r\n  name = InputTypeCatalog.StringWysiwyg;\r\n\r\n  constructor() { super({ StringWysiwygLogic }); }\r\n\r\n  canAutoTranslate = true;\r\n\r\n  update({ settings, tools }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & StringWysiwyg;\r\n    // If the `Dialog` setting is blank, it means start inline (default) and allow switching to dialog.\r\n    fixedSettings._allowDialog ??= fixedSettings.Dialog == null || fixedSettings.Dialog === '';\r\n    fixedSettings.Dialog ||= 'inline';\r\n    fixedSettings.ButtonSource ||= '';\r\n    fixedSettings.ButtonAdvanced ||= '';\r\n    fixedSettings.ContentCss ||= '';\r\n    fixedSettings.InlineInitialHeight ||= '3';\r\n\r\n    // New - configuration bundles\r\n    fixedSettings._advanced = this.findAndMergeAdvanced(tools, fixedSettings.WysiwygConfiguration, {\r\n      Mode: 'default',\r\n      Json: '',\r\n    });\r\n\r\n    return fixedSettings;\r\n  }\r\n\r\n  /** Checks if dataCmsId is same as file name and if it is switches img src with adam item url */\r\n  processValueOnLoad(value: FieldValue, adamItems: AdamItem[]): FieldValue {\r\n    try {\r\n      const doc = new DOMParser().parseFromString(value as string, 'text/html');\r\n      doc.body.querySelectorAll('img').forEach((img) => {\r\n        const dataCmsid = img.getAttribute('data-cmsid')?.replace('file:', '');\r\n        const src = img.getAttribute('src');\r\n        if (dataCmsid && src) {\r\n          const fileName = src.split('/').pop();\r\n          if (dataCmsid === fileName) {\r\n            const adamItem = adamItems.find(x => x.Name === dataCmsid);\r\n            if (adamItem)\r\n              img.setAttribute('src', adamItem.Url);\r\n          }\r\n        }\r\n      });\r\n      return doc.body.innerHTML;\r\n    } catch (error) {\r\n      console.error('Error while cleaning wysiwyg content', error);\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringWysiwygLogic);\r\n\r\n","import { Component, inject, signal } from '@angular/core';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { ScriptsLoaderService } from '../../../shared/services/scripts-loader.service';\r\nimport { ConnectorComponent } from '../../connector/connector';\r\nimport { FieldState } from '../../field-state';\r\nimport { CustomGpsLogic } from './custom-gps-logic';\r\nimport { StringWysiwygLogic } from './string-wysiwyg-logic';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.ExternalWebComponent,\r\n  templateUrl: './external-web-component.html',\r\n  imports: [\r\n    MatProgressSpinnerModule,\r\n    ConnectorComponent,\r\n  ]\r\n})\r\nexport class ExternalWebComponentComponent {\r\n\r\n  log = classLog({ExternalWebComponentComponent});\r\n\r\n  protected fieldState = inject(FieldState);\r\n  protected config = this.fieldState.config;\r\n \r\n  protected loading = signal<boolean>(true)\r\n\r\n  constructor(\r\n    private scriptsLoaderService: ScriptsLoaderService,\r\n  ) {\r\n    StringWysiwygLogic.importMe();\r\n    CustomGpsLogic.importMe();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadAssets();\r\n  }\r\n\r\n  private loadAssets() {\r\n    const assets = this.config.inputTypeSpecs.metadata.UiAssets?.default?.split('\\n') ?? [];\r\n    if (assets.length === 0)\r\n      return;\r\n    this.scriptsLoaderService.load(assets, this.assetsLoaded.bind(this));\r\n  }\r\n\r\n  private assetsLoaded() {\r\n    this.log.fn('assetsLoaded ' + this.config.fieldName);\r\n    this.loading.set(false);\r\n  }\r\n}\r\n","@if (loading()) {\r\n  <mat-spinner color=\"accent\"></mat-spinner>\r\n}\r\n@else if (this.fieldState.isOpen()) {\r\n  <app-connector></app-connector>\r\n}\r\n","import { ChangeDetectorRef, Directive, ElementRef, input, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FeatureNames } from '../../../features/feature-names';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { openFeatureDialog } from '../../../features/shared/base-feature';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { ElementEventListener } from '../../shared/controls/element-event-listener.model';\r\nimport { FieldConfigSet } from '../field-config-set.model';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  constructor: false,\r\n  handleImage: false,\r\n};\r\n\r\n\r\n@Directive({\r\n  selector: '[appPasteClipboardImage]',\r\n})\r\nexport class PasteClipboardImageDirective implements OnInit, OnDestroy {\r\n\r\n  log = classLog({PasteClipboardImageDirective}, logSpecs);\r\n\r\n  config = input<FieldConfigSet>();\r\n  elementType = input<string>();\r\n  #eventListeners: ElementEventListener[] = [];\r\n\r\n  #pasteImageEnabled = this.features.isEnabled[FeatureNames.PasteImageFromClipboard]();\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private features: FeaturesService,\r\n    private snackBar: MatSnackBar,\r\n    private translate: TranslateService,\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) {\r\n    this.log.fn('constructor', { elementType: this.elementType(), pasteImageEnabled: this.#pasteImageEnabled });\r\n  }\r\n\r\n  ngOnInit() {\r\n    switch (this.elementType()) {\r\n      case 'input':\r\n        this.elementRef.nativeElement.pastableTextarea();\r\n        break;\r\n      case 'element':\r\n        this.elementRef.nativeElement.pastableNonInputable();\r\n        break;\r\n    }\r\n\r\n\r\n    const handleImage = (event: CustomEvent) => { this.#handleImage(event); };\r\n    this.elementRef.nativeElement.addEventListener('handleImage', handleImage);\r\n\r\n    this.#eventListeners.push(\r\n      { element: this.elementRef.nativeElement, type: 'handleImage', listener: handleImage },\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // spm 2019-10-24 paste.js which handles clipboard paste doesn't destroy listeners\r\n    this.#eventListeners.forEach(({ element, type, listener }) => {\r\n      element.removeEventListener(type, listener);\r\n    });\r\n  }\r\n\r\n  #handleImage(event: CustomEvent) {\r\n    const enabled = this.#pasteImageEnabled;\r\n    const l = this.log.fnIf('handleImage', { event }, 'handling paste image - ' + (enabled ? 'enabled' : 'disabled') );\r\n    if (enabled) {\r\n      const image = this.#getFile(event.detail as PasteClipboardImageEventDetail);\r\n      this.config().dropzone.uploadFile(image);\r\n      l.end('started upload');\r\n    } else {\r\n      this.snackBar.open(this.translate.instant('Message.PastingFilesIsNotEnabled'), this.translate.instant('Message.FindOutMore'), { duration: 3000 }).onAction().subscribe(() => {\r\n        openFeatureDialog(this.matDialog, FeatureNames.PasteImageFromClipboard, this.viewContainerRef, this.changeDetectorRef);\r\n      });\r\n      l.end('not enabled, showing snackbar');\r\n    }\r\n  }\r\n\r\n  #getFile(data: PasteClipboardImageEventDetail) {\r\n    let newFile = data.file; // for fallback\r\n\r\n    try {\r\n      // File.name is readonly so we do this\r\n      const formData = new FormData();\r\n      formData.append('file', data.file, data.imageFileName);\r\n      newFile = formData.get('file') as File;\r\n    } catch (e) {\r\n      console.error('paste image error', e);\r\n    }\r\n    return newFile;\r\n  }\r\n}\r\n\r\ninterface PasteClipboardImageEventDetail {\r\n  file: File;\r\n  imageFileName: string;\r\n  originalEvent: ClipboardEvent;\r\n}\r\n","import { ChangeDetectorRef, Component, Injector, OnInit, ViewContainerRef, effect, inject, signal } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Hyperlink, HyperlinkLibrary } from 'projects/edit-types/src/FieldSettings-Hyperlink';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { AdamItem } from '../../../../../../../edit-types/src/AdamItem';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { eavConstants } from '../../../../shared/constants/eav.constants';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { EditForm, EditPrep } from '../../../../shared/models/edit-form.model';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FormsStateService } from '../../../form/forms-state.service';\r\nimport { EditRoutingService } from '../../../routing/edit-routing.service';\r\nimport { AdamService } from '../../../shared/adam/adam.service';\r\nimport { LinkCacheService } from '../../../shared/adam/link-cache.service';\r\nimport { FileTypeHelpers, UrlHelpers } from '../../../shared/helpers';\r\nimport { FieldState } from '../../field-state';\r\nimport { PagePicker } from '../../page-picker/page-picker.helper';\r\nimport { Preview } from './hyperlink-default.models';\r\n\r\n@Component({\r\n  selector: 'app-base-field-hyperlink',\r\n  template: '',\r\n})\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class HyperlinkDefaultBaseComponent implements OnInit {\r\n\r\n  log = classLog({HyperlinkDefaultBaseComponent});\r\n\r\n  preview = signal<Preview>({\r\n    url: '',\r\n    thumbnailUrl: '',\r\n    previewUrl: '',\r\n    floatingText: '',\r\n    isImage: false,\r\n    isKnownType: false,\r\n    icon: '',\r\n  });\r\n\r\n  protected fieldState = inject(FieldState) as FieldState<string, FieldSettings & Hyperlink & HyperlinkLibrary>;\r\n\r\n  protected settings = this.fieldState.settings;\r\n  protected basics = this.fieldState.basics;\r\n  public config = this.fieldState.config;\r\n  public group = this.fieldState.group;\r\n  protected ui = this.fieldState.ui;\r\n  protected uiValue = this.fieldState.uiValue;\r\n\r\n  #injector = inject(Injector);\r\n  #editRoutingService = inject(EditRoutingService);\r\n\r\n  public adamService = transient(AdamService);\r\n\r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    public matDialog: MatDialog,\r\n    public viewContainerRef: ViewContainerRef,\r\n    public changeDetectorRef: ChangeDetectorRef,\r\n    public linkCacheService: LinkCacheService,\r\n    public formsStateService: FormsStateService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    effect(() => {\r\n      this.log.a('controlStatus effect');\r\n      const status = this.fieldState.uiValue();\r\n      this.fetchLink(status);\r\n    }, { injector: this.#injector });\r\n  }\r\n\r\n  adamItem = computedObj('adamItem', () => {\r\n    const value = this.uiValue();\r\n    const adamItems = this.config.adam.items() as AdamItem[];\r\n\r\n    if (!value || !adamItems.length) return;\r\n\r\n    const match = value.trim().match(/^file:([0-9]+)$/i);\r\n    if (!match) return;\r\n\r\n    const adamItemId = parseInt(match[1], 10);\r\n    const adamItem = adamItems.find(i => i.Id === adamItemId);\r\n    return adamItem;\r\n  });\r\n\r\n\r\n  openPagePicker() {\r\n    PagePicker.open(this.config, this.group, this.matDialog, this.viewContainerRef, this.changeDetectorRef, (page) => {\r\n      // convert to page:xyz format (if it wasn't cancelled)\r\n      if (!page) return;\r\n      this.fieldState.ui().setIfChanged(`page:${page.id}`);\r\n    });\r\n  }\r\n\r\n  openImageConfiguration(adamItem?: AdamItem) {\r\n    if (this.formsStateService.readOnly().isReadOnly || !adamItem?._imageConfigurationContentType)\r\n      return;\r\n\r\n    const form: EditForm = {\r\n      items: [\r\n        adamItem._imageConfigurationId > 0\r\n          ? EditPrep.editId(adamItem._imageConfigurationId)\r\n          : EditPrep.newMetadata(adamItem.ReferenceId, adamItem._imageConfigurationContentType, eavConstants.metadata.cmsObject),\r\n      ],\r\n    };\r\n    this.#editRoutingService.open(this.config.index, this.config.entityGuid, form);\r\n  }\r\n\r\n  private fetchLink(value: string) {\r\n    this.log.a('fetchLink', { value });\r\n    if (!value) {\r\n      this.setPreview(value, false);\r\n      return;\r\n    }\r\n\r\n    const isFileOrPage = this.isFileOrPage(value);\r\n    if (!isFileOrPage) {\r\n      this.setPreview(value, false);\r\n      return;\r\n    }\r\n\r\n    const cached = this.linkCacheService.get(value);\r\n    if (cached) {\r\n      const isResolved = !this.isFileOrPage(cached.Value);\r\n      this.setPreview(cached.Value, isResolved, cached.Adam);\r\n      return;\r\n    }\r\n\r\n    // handle short-ID links like file:17\r\n    const contentType = this.config.contentTypeNameId;\r\n    const entityGuid = this.config.entityGuid;\r\n    const field = this.config.fieldName;\r\n    this.adamService.getLinkInfoPromise(value, contentType, entityGuid, field)\r\n      .then(linkInfo => {\r\n        if (!linkInfo) {\r\n          this.setPreview(value, false);\r\n          return;\r\n        }\r\n        this.linkCacheService.addLink(value, linkInfo);\r\n        const isResolved = !this.isFileOrPage(linkInfo.Value);\r\n        this.setPreview(linkInfo.Value, isResolved, linkInfo.Adam);\r\n      });\r\n  }\r\n\r\n  private setPreview(value: string, isResolved: boolean, adam?: AdamItem) {\r\n    const preview = this.getPreview(value, isResolved, adam);\r\n    this.preview.set(preview);\r\n  }\r\n\r\n  private getPreview(value: string, isResolved: boolean, adam?: AdamItem): Preview {\r\n    // for preview resolve [App:Path]\r\n    value = value.replace(/\\[App:Path\\]/i, UrlHelpers.getUrlPrefix('app', this.formConfig.config));\r\n\r\n    return {\r\n      url: value,\r\n      floatingText: isResolved ? `.../${value.substring(value.lastIndexOf('/') + 1)}` : '',\r\n      thumbnailUrl: `url(\"${adam?.ThumbnailUrl ?? this.buildUrl(value, 1)}\")`,\r\n      previewUrl: adam?.PreviewUrl ?? this.buildUrl(value, 2),\r\n      isImage: FileTypeHelpers.isImage(value),\r\n      isKnownType: FileTypeHelpers.isKnownType(value),\r\n      icon: FileTypeHelpers.getIconClass(value),\r\n    } satisfies Preview;\r\n  }\r\n\r\n  private buildUrl(url: string, size?: 1 | 2): string {\r\n    let query = '';\r\n    if (size === 1)\r\n      query += 'w=80&h=80&mode=crop';\r\n    if (size === 2)\r\n      query += 'w=800&h=800&mode=max';\r\n    if (query && !url.includes('?'))\r\n      query = '?' + query;\r\n    return url + query;\r\n  }\r\n\r\n  private isFileOrPage(value: string) {\r\n    const cleanValue = value.trim().toLocaleLowerCase();\r\n    const isFileOrPage = cleanValue.startsWith('file:') || cleanValue.startsWith('page:');\r\n    return isFileOrPage;\r\n  }\r\n}\r\n","import { Hyperlink } from 'projects/edit-types/src/FieldSettings-Hyperlink';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\n\r\nexport class HyperlinkDefaultLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.HyperlinkDefault;\r\n\r\n  constructor() { super({ HyperlinkDefaultLogic }); }\r\n\r\n  update({ settings }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & Hyperlink;\r\n    fixedSettings.Buttons ||= 'adam,more';\r\n    fixedSettings.FileFilter ??= '';\r\n    fixedSettings.Paths ??= '';\r\n    fixedSettings.ServerResourceMapping ??= '';\r\n    fixedSettings.EnableImageConfiguration ??= true; // 2022-11-08 v14.12 changed default to true // false;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(HyperlinkDefaultLogic);\r\n","import { NgClass } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, computed, effect, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AdamItem } from '../../../../../../../edit-types/src/AdamItem';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { SignalEquals } from '../../../../shared/signals/signal-equals';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FormsStateService } from '../../../form/forms-state.service';\r\nimport { LinkCacheService } from '../../../shared/adam/link-cache.service';\r\nimport { PasteClipboardImageDirective } from '../../directives/paste-clipboard-image.directive';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { WrappersCatalog } from '../../wrappers/wrappers.constants';\r\nimport { HyperlinkDefaultBaseComponent } from './hyperlink-default-base';\r\nimport { HyperlinkDefaultLogic } from './hyperlink-default-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.HyperlinkDefault,\r\n    templateUrl: './hyperlink-default.html',\r\n    styleUrls: ['./hyperlink-default.scss'],\r\n    imports: [\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        NgClass,\r\n        MatMenuModule,\r\n        MatCardModule,\r\n        MatFormFieldModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        PasteClipboardImageDirective,\r\n        TranslateModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\n@FieldMetadata({\r\n  wrappers: [\r\n    WrappersCatalog.DropzoneWrapper,\r\n    WrappersCatalog.LocalizationWrapper,\r\n    WrappersCatalog.HyperlinkDefaultExpandableWrapper,\r\n    WrappersCatalog.AdamWrapper,\r\n  ],\r\n})\r\nexport class HyperlinkDefaultComponent extends HyperlinkDefaultBaseComponent implements OnInit {\r\n  protected buttonAdam = computed(() => this.settings().Buttons.includes('adam'), SignalEquals.bool);\r\n  protected buttonPage = computed(() => this.settings().Buttons.includes('page'), SignalEquals.bool);\r\n  protected buttonMore = computed(() => this.settings().Buttons.includes('more'), SignalEquals.bool);\r\n  protected showAdam = this.fieldState.settingExt('ShowAdam');\r\n  protected showPagePicker = this.fieldState.settingExt('ShowPagePicker');\r\n  protected showImageManager = this.fieldState.settingExt('ShowImageManager');\r\n  protected showFileManager = this.fieldState.settingExt('ShowFileManager');\r\n  protected enableImageConfiguration = this.fieldState.settingExt('EnableImageConfiguration');\r\n\r\n  constructor(\r\n    eavService: FormConfigService,\r\n    matDialog: MatDialog,\r\n    viewContainerRef: ViewContainerRef,\r\n    changeDetectorRef: ChangeDetectorRef,\r\n    linkCacheService: LinkCacheService,\r\n    formsStateService: FormsStateService,\r\n  ) {\r\n    super(\r\n      eavService,\r\n      matDialog,\r\n      viewContainerRef,\r\n      changeDetectorRef,\r\n      linkCacheService,\r\n      formsStateService,\r\n    );\r\n    HyperlinkDefaultLogic.importMe();\r\n\r\n    // ADAM Settings, in a way which ensures they only fire on relevant changes\r\n    // must be in constructor for effect() to work\r\n    const adamSettings = computedObj('adamSettings', () => {\r\n      const s = this.fieldState.settings();\r\n      return {\r\n        rootSubfolder: s.Paths,\r\n        fileFilter: s.FileFilter,\r\n        autoLoad: true,\r\n      };\r\n    });\r\n\r\n    effect(() => {\r\n      const config = adamSettings();\r\n      // console.warn('adamConfig in Hyperlink-Default', config);\r\n      this.config.adam.setConfig(config);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    // Should probably be in ngOnInit, because this.config.adam is created late\r\n    this.config.adam.onItemClick = (item: AdamItem) => { this.setValue(item); };\r\n    this.config.adam.onItemUpload = (item: AdamItem) => { this.setValue(item); };\r\n  }\r\n\r\n  toggleAdam(usePortalRoot: boolean, showImagesOnly: boolean) {\r\n    this.config.adam.toggle(usePortalRoot, showImagesOnly);\r\n  }\r\n\r\n  private setValue(item: AdamItem) {\r\n    const usePath = this.settings().ServerResourceMapping === 'url';\r\n    const newValue = !usePath ? item.ReferenceId : item.Url;\r\n    this.fieldState.ui().setIfChanged(newValue);\r\n  }\r\n}\r\n","@if (preview(); as preV) {\r\n  @if (this.fieldState.isOpen()) {\r\n    <div class=\"fabs-box\">\r\n      @if (buttonAdam()) {\r\n        <button\r\n          mat-mini-fab\r\n          color=\"accent\"\r\n          tippyTranslate=\"Fields.Hyperlink.Default.AdamTip\"\r\n          [disabled]=\"ui().disabled\"\r\n          (click)=\"toggleAdam(false, false)\"\r\n        >\r\n          <mat-icon svgIcon=\"apple-outlined\"></mat-icon>\r\n        </button>\r\n      }\r\n      <button\r\n        mat-mini-fab\r\n        color=\"primary\"\r\n        [disabled]=\"!adamItem()?._imageConfigurationContentType\"\r\n        [ngClass]=\"{ 'metadata-exists': adamItem()?._imageConfigurationId > 0 }\"\r\n        tippyTranslate=\"Fields.Hyperlink.AdamFileManager.ImageSettings\"\r\n        (click)=\"openImageConfiguration(adamItem())\"\r\n      >\r\n        <mat-icon\r\n          [tippyTranslate]=\"\r\n            enableImageConfiguration()\r\n              ? 'Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable'\r\n              : 'Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled'\r\n          \"\r\n          [tippyDisabled]=\"adamItem()?._imageConfigurationContentType\"\r\n          >filter_center_focus</mat-icon\r\n        >\r\n      </button>\r\n      @if (buttonPage()) {\r\n        <button\r\n          mat-mini-fab\r\n          color=\"primary\"\r\n          tippyTranslate=\"Fields.Hyperlink.Default.PageTip\"\r\n          [disabled]=\"ui().disabled\"\r\n          (click)=\"openPagePicker()\"\r\n        >\r\n          <mat-icon svgIcon=\"sitemap\"></mat-icon>\r\n        </button>\r\n      }\r\n      @if (buttonMore()) {\r\n        <button\r\n          mat-mini-fab\r\n          color=\"primary\"\r\n          tippyTranslate=\"Fields.Hyperlink.Default.MoreOptions\"\r\n          [disabled]=\"ui().disabled\"\r\n          [matMenuTriggerFor]=\"menu\"\r\n        >\r\n          <mat-icon>more_vert</mat-icon>\r\n        </button>\r\n      }\r\n    </div>\r\n    <mat-menu #menu=\"matMenu\" class=\"menu-box\">\r\n      <ng-template matMenuContent>\r\n        @if (showAdam()) {\r\n          <button mat-menu-item (click)=\"toggleAdam(false, false)\">\r\n            <mat-icon svgIcon=\"apple-outlined\"></mat-icon>\r\n            <span>{{ \"Fields.Hyperlink.Default.MenuAdam\" | translate }}</span>\r\n          </button>\r\n        }\r\n        @if (showPagePicker()) {\r\n          <button mat-menu-item (click)=\"openPagePicker()\">\r\n            <mat-icon svgIcon=\"sitemap\"></mat-icon>\r\n            <span>{{ \"Fields.Hyperlink.Default.MenuPage\" | translate }}</span>\r\n          </button>\r\n        }\r\n        @if (showImageManager()) {\r\n          <button mat-menu-item (click)=\"toggleAdam(true, true)\">\r\n            <mat-icon svgIcon=\"file-image\"></mat-icon>\r\n            <span>{{ \"Fields.Hyperlink.Default.MenuImage\" | translate }}</span>\r\n          </button>\r\n        }\r\n        @if (showFileManager()) {\r\n          <button mat-menu-item (click)=\"toggleAdam(true, false)\">\r\n            <mat-icon svgIcon=\"file\"></mat-icon>\r\n            <span>{{ \"Fields.Hyperlink.Default.MenuDocs\" | translate }}</span>\r\n          </button>\r\n        }\r\n      </ng-template>\r\n    </mat-menu>\r\n    <!-- content -->\r\n    <div class=\"eav-layout-grid\">\r\n      <div class=\"eav-layout-grid__inner\">\r\n        <mat-card class=\"eav-card eav-layout-grid__cell--span-12 hyperlink-card shadow-bottom-z-1\">\r\n          <div class=\"hyperlink-input-link-wrapper\">\r\n            <!-- input -->\r\n            <mat-form-field [formGroup]=\"group\" color=\"accent\" class=\"eav-mat-form-field\">\r\n              <input\r\n                matInput\r\n                [formControlName]=\"config.fieldName\"\r\n                tippyTranslate=\"Fields.Hyperlink.Default.Tooltip\"\r\n                tippyPlacement=\"top\"\r\n                [placeholder]=\"basics().placeholder\"\r\n                [required]=\"basics().required\"\r\n                appPasteClipboardImage\r\n                [config]=\"config\"\r\n                [elementType]=\"'input'\"\r\n              />\r\n              <mat-label>{{ basics().label }}</mat-label>\r\n            </mat-form-field>\r\n            <!-- link absolutely positioned above input -->\r\n            @if (preV?.floatingText) {\r\n              <div class=\"hyperlink-floating\">\r\n                <div class=\"hyperlink-floating__value\">{{ uiValue() }}</div>\r\n                <div class=\"hyperlink-floating__url-box\">\r\n                  <a [href]=\"preV.url\" target=\"_blank\" class=\"hyperlink-floating__url\" [tippy]=\"preV.url\">\r\n                    <span>{{ preV.floatingText }}</span>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            }\r\n          </div>\r\n          @if (uiValue()) {\r\n            <div class=\"preview-wrapper\">\r\n              @if (preV.isImage) {\r\n                <!-- image -->\r\n                <a [href]=\"preV.url\" target=\"_blank\">\r\n                  <div class=\"preview-image-box\">\r\n                    <img [src]=\"preV.previewUrl\" class=\"preview-image\" />\r\n                  </div>\r\n                </a>\r\n              } @else {\r\n                <!-- icon -->\r\n                <a [href]=\"preV.url\" target=\"_blank\" [tippy]=\"preV.url\" tippyPlacement=\"right\">\r\n                  <div class=\"preview-icon-box\">\r\n                    <mat-icon [svgIcon]=\"preV.icon\"></mat-icon>\r\n                  </div>\r\n                </a>\r\n              }\r\n            </div>\r\n          }\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import { HyperlinkLibrary } from 'projects/edit-types/src/FieldSettings-Hyperlink';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\n\r\nexport class HyperlinkLibraryLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.HyperlinkLibrary;\r\n\r\n  constructor() { super({ HyperlinkLibraryLogic }); }\r\n\r\n  update({ settings }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & HyperlinkLibrary;\r\n    fixedSettings.EnableImageConfiguration ??= true; // 2022-11-08 v14.12 changed default to true // false;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(HyperlinkLibraryLogic);\r\n","import { Component, effect, inject, Injector, OnInit } from '@angular/core';\r\nimport { AdamConfig } from '../../../../../../../edit-types/src/AdamConfig';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../../wrappers/wrappers.constants';\r\nimport { HyperlinkLibraryLogic } from './hyperlink-library-logic';\r\nimport { AdamControl } from './hyperlink-library.models';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.HyperlinkLibrary,\r\n  template: '', // note: no template - it will just show the adam component in the popup\r\n  styleUrls: [],\r\n})\r\n@FieldMetadata({\r\n  wrappers: [\r\n    WrappersCatalog.DropzoneWrapper,\r\n    WrappersCatalog.LocalizationWrapper,\r\n    WrappersCatalog.HyperlinkLibraryExpandableWrapper,\r\n    WrappersCatalog.AdamWrapper,\r\n  ],\r\n})\r\nexport class HyperlinkLibraryComponent implements OnInit {\r\n\r\n  protected fieldState = inject(FieldState);\r\n\r\n  private injector = inject(Injector);\r\n\r\n  constructor() {\r\n    HyperlinkLibraryLogic.importMe();\r\n\r\n    let first = true;\r\n    effect(() => {\r\n      const control = this.fieldState.ui().control as AdamControl;\r\n      // Patch length info to the control state, so the validator can pick it up\r\n      control.adamItems = this.fieldState.config.adam.items().length;\r\n      // Update the validity of the control - but not during initialization, only on later changes\r\n      // otherwise the field would glow red right from the start\r\n      if (!first)\r\n        control.updateValueAndValidity();\r\n      first = false;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.attachAdamConfig();\r\n    // this.attachAdamValidator();\r\n  }\r\n\r\n  private attachAdamConfig() {\r\n    const adamConfig = computedObj('adamConfig', () => {\r\n      const s = this.fieldState.settings();\r\n      return {\r\n        allowAssetsInRoot: s.AllowAssetsInRoot,\r\n        autoLoad: true,\r\n        enableSelect: false,\r\n        rootSubfolder: s.Paths,\r\n        fileFilter: s.FileFilter,\r\n        folderDepth: s.FolderDepth || 0,\r\n        metadataContentTypes: s.MetadataContentTypes,\r\n      } as AdamConfig;\r\n    });\r\n\r\n    effect(() => {\r\n      const config = adamConfig();\r\n      // console.warn('adamConfig in HyperlinkLibrary', config);\r\n      this.fieldState.config.adam.setConfig(config);\r\n    }, { injector: this.injector });\r\n  }\r\n}\r\n","import { Of } from '../../../../../../../core';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsPickerMerged, StringDropdown } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { PickerLogicShared } from '../../picker/picker-logic-shared';\r\nimport { DataSourceDropDownOptions } from '../string-picker/string-picker.helpers';\r\n\r\nexport class StringDropdownLogic extends FieldLogicBase {\r\n  name: Of<typeof InputTypeCatalog> = InputTypeCatalog.StringDropdown;\r\n  type: 'string' | 'number' = 'string';\r\n\r\n  constructor() { super({ StringDropdownLogic }); }\r\n\r\n  update({ settings, value }: FieldLogicUpdate<string>): FieldSettings {\r\n    const fs = PickerLogicShared.setDefaultSettings({ ...settings }) as FieldSettings & StringDropdown & FieldSettingsPickerMerged;\r\n    // fixedSettings.EnableTextEntry ??= false;\r\n    // fixedSettings.DropdownValues ??= '';\r\n    // fixedSettings.DropdownValuesFormat ??= '';// maybe we should change this to 'value-label' in the future\r\n    fs._options = new DataSourceDropDownOptions().parseOptions(value, this.type, fs.DropdownValuesFormat || '', fs.DropdownValues || '');\r\n    \r\n    // Both the query type and create-type are the same\r\n    fs.EntityType ??= '';\r\n    fs.CreateTypes = fs.EntityType;\r\n\r\n    fs.EnableEdit ??= false;\r\n    fs.EnableCreate ??= false;\r\n    // fixedSettings.EnableAddExisting ??= true;\r\n    // fixedSettings.EnableDelete ??= false;\r\n    // if multi-value is ever allowed, then we must also enable remove\r\n    // since we're migrating to pickers, we don't plan to implement multi-value dropdowns here\r\n    // fixedSettings.AllowMultiValue ??= false;\r\n    fs.EnableRemove ??= fs.AllowMultiValue;\r\n    return fs;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringDropdownLogic);\r\n","import { FieldLogicUpdate, FieldLogicBase } from '../../logic/field-logic-base';\r\nimport { StringDropdownLogic } from '../string-dropdown/string-dropdown-logic';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\n\r\n\r\nexport class NumberDefaultLogic extends StringDropdownLogic {\r\n  name = InputTypeCatalog.NumberDefault;\r\n\r\n  update(specs: FieldLogicUpdate<string>): FieldSettings {\r\n    const fixedSettings: FieldSettings = { ...super.update(specs) };\r\n    // fixedSettings.DisableAutoTranslation = true;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(NumberDefaultLogic);\r\n","import { Component, inject } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { NumberDefaultLogic } from './number-default-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.NumberDefault,\r\n    templateUrl: './number-default.html',\r\n    imports: [\r\n        MatFormFieldModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class NumberDefaultComponent {\r\n\r\n  protected fieldState = inject(FieldState);\r\n\r\n  protected group = this.fieldState.group;\r\n  protected config = this.fieldState.config;\r\n\r\n  protected basics = this.fieldState.basics;\r\n\r\n  protected min = this.fieldState.settingExt('Min');\r\n  protected max = this.fieldState.settingExt('Max');\r\n\r\n  constructor() {\r\n    NumberDefaultLogic.importMe();\r\n  }\r\n\r\n}\r\n","<mat-form-field [formGroup]=\"group\" color=\"accent\" class=\"eav-mat-form-field\">\r\n  <input matInput type=\"number\"\r\n    class=\"eav-translate-on-dblclick\"\r\n    [formControlName]=\"config.fieldName\"\r\n    [required]=\"basics().required\"\r\n    [placeholder]=\"basics().placeholder\"\r\n    [min]=\"min()\"\r\n    [max]=\"max()\">\r\n  <mat-label>{{ basics().label }}</mat-label>\r\n</mat-form-field>\r\n<app-field-helper-text></app-field-helper-text>\r\n","import { FieldLogicUpdate, FieldLogicBase } from '../../logic/field-logic-base';\r\nimport { StringDropdownLogic } from '../string-dropdown/string-dropdown-logic';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\n\r\n\r\nexport class NumberDropdownLogic extends StringDropdownLogic {\r\n  name = InputTypeCatalog.NumberDropdown;\r\n  type = 'number' as 'number';\r\n\r\n  update(specs: FieldLogicUpdate<string>): FieldSettings {\r\n    const fixedSettings: FieldSettings = { ...super.update(specs) };\r\n    // fixedSettings.DisableAutoTranslation = true;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(NumberDropdownLogic);\r\n","import { Component } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { NumberDropdownLogic } from './number-dropdown-logic';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.NumberDropdown,\r\n  templateUrl: '../../picker/picker.html',\r\n  imports: [\r\n    PickerImports\r\n  ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class NumberDropdownComponent extends PickerComponent {\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    NumberDropdownLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { Of } from '../../../../../../../core/type-utilities';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldLogicManager } from '../../logic/field-logic-manager';\r\nimport { StringPickerLogic } from '../string-picker/string-picker-logic';\r\n\r\nexport class NumberPickerLogic extends FieldLogicBase {\r\n  name: Of<typeof InputTypeCatalog> = InputTypeCatalog.NumberPicker;\r\n\r\n  constructor() { super({ NumberPickerLogic }); }\r\n\r\n  update(specs: FieldLogicUpdate<string>): FieldSettings {\r\n\r\n    const stringLogic = FieldLogicManager.singleton().get(InputTypeCatalog.StringPicker) as StringPickerLogic;\r\n    return stringLogic.update(specs);\r\n\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(NumberPickerLogic);\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { NumberPickerLogic } from './number-picker-logic';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.NumberPicker,\r\n  templateUrl: '../../picker/picker.html',\r\n  imports: PickerImports\r\n})\r\nexport class NumberPickerComponent extends PickerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({ NumberPickerComponent }, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    NumberPickerLogic.importMe();\r\n  }\r\n}\r\n\r\n\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { FieldSettingsStringDefault } from 'projects/edit-types/src/FieldSettings-String';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\n\r\nexport class StringDefaultLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.StringDefault;\r\n\r\n  constructor() { super({ StringDefaultLogic }); }\r\n\r\n  canAutoTranslate = true;\r\n\r\n  update(specs: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...specs.settings } as FieldSettings & FieldSettingsStringDefault;\r\n    fixedSettings.InputFontFamily ??= '';\r\n    fixedSettings.RowCount ||= 1;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringDefaultLogic);\r\n","import { NgClass, NgStyle } from '@angular/common';\r\nimport { Component, inject } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { FieldSettingsStringDefault } from 'projects/edit-types/src/FieldSettings-String';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { StringDefaultLogic } from './string-default-logic';\r\n\r\n@Component({\r\n  selector: InputTypeCatalog.StringDefault,\r\n  templateUrl: './string-default.html',\r\n  styleUrls: ['./string-default.scss'],\r\n  imports: [\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgClass,\r\n    MatInputModule,\r\n    NgStyle,\r\n    FieldHelperTextComponent,\r\n  ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class StringDefaultComponent {\r\n\r\n  #fieldState = inject(FieldState) as FieldState<string, FieldSettings & FieldSettingsStringDefault>;\r\n\r\n  protected group = this.#fieldState.group;\r\n  protected config = this.#fieldState.config;\r\n\r\n  // #settings = this.#fieldState.settings;\r\n  protected basics = this.#fieldState.basics;\r\n\r\n  /**\r\n   * Row Count as it is in the settings\r\n   * It has an undocumented feature - ATM only used in icon-picker,\r\n   * where the row count can be negative to create a multi-line picker.\r\n   * This is not an official feature, as we may add a toggle to this some day instead, and then fix the icon-picker.\r\n   */\r\n  protected rowCountRaw = this.#fieldState.settingExt('RowCount');\r\n\r\n  /**\r\n   * Row Count corrected and also neutralize negative numbers, as it's an undocumented feature to create multi-line with 1 line\r\n   */\r\n  protected rowCount = computedObj('rowCount', () => Math.abs(this.rowCountRaw() || 1));\r\n  \r\n  protected isMultiline = computedObj('isMultiline', () => {\r\n    const rc = this.rowCountRaw() || 1;\r\n    return rc < 0 || rc > 1;\r\n  });\r\n  \r\n  protected inputFontFamily = this.#fieldState.settingExt('InputFontFamily');\r\n  protected textWrap = this.#fieldState.settingExt('TextWrapping');\r\n\r\n  /**\r\n   * The string-default is also used when a custom string-* is not found.\r\n   * If this is being shown as a fallback for another field type, keep the name here\r\n   * to show in the UI.\r\n   */\r\n  protected typeIfNotWhatsExpected = this.#fieldState.isNotExpectedType([InputTypeCatalog.StringDefault]);\r\n\r\n  constructor() {\r\n    StringDefaultLogic.importMe();\r\n  }\r\n\r\n}\r\n","\r\n<mat-form-field [formGroup]=\"group\" color=\"accent\" class=\"eav-mat-form-field\" [ngClass]=\"{'textarea-field': rowCount() > 1}\">\r\n  @if (!isMultiline()) {\r\n    <!-- Single Line field -->\r\n    <input matInput class=\"eav-translate-on-dblclick\"\r\n      [formControlName]=\"config.fieldName\"\r\n      [placeholder]=\"basics().placeholder\"\r\n      [required]=\"basics().required\"\r\n      [ngStyle]=\"{ 'font-family': inputFontFamily() }\">\r\n  }\r\n  @else {\r\n    <!-- Multi Line field -->\r\n    <textarea matInput class=\"eav-translate-on-dblclick\"\r\n      [formControlName]=\"config.fieldName\"\r\n      [rows]=\"rowCount()\"\r\n      [placeholder]=\"basics().placeholder\"\r\n      [required]=\"basics().required\"\r\n      [ngStyle]=\"{ 'font-family': inputFontFamily(), 'white-space': textWrap() }\">\r\n    </textarea>\r\n  }\r\n  <mat-label>{{ basics().label }}</mat-label>\r\n</mat-form-field>\r\n<app-field-helper-text></app-field-helper-text>\r\n\r\n<!-- Show message if this input-field is only being shown as a fallback -->\r\n@if (typeIfNotWhatsExpected() != null) {\r\n  <div style=\"color: red;\">\r\n    Error: Input <code>{{ typeIfNotWhatsExpected() }}</code> for <code>{{ basics().label }}</code> not found.\r\n    It's probably be an extension input field, but it's not loaded.\r\n    Showing default, please fix extension or change field configuration.\r\n  </div>\r\n}","import { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsSharedSeparator } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { FieldLogicManager } from '../../logic/field-logic-manager';\r\nimport { EntityDefaultLogic } from '../entity-default/entity-default-logic';\r\n\r\nexport class StringDropdownQueryLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.StringDropdownQuery;\r\n\r\n  constructor() { super({ StringDropdownQueryLogic }); }\r\n\r\n  update(specs: FieldLogicUpdate<string[]>): FieldSettings {\r\n    const entityDefaultLogic = FieldLogicManager.singleton().get(InputTypeCatalog.EntityDefault) as EntityDefaultLogic;\r\n    const fs = entityDefaultLogic.update(specs) as FieldSettings & FieldSettingsSharedSeparator;\r\n    fs.Separator ||= ',';\r\n\r\n    // New features should not be supported in this old input, so commented out\r\n    // fixedSettings.Value ??= '';\r\n    // fixedSettings.Label ??= '';\r\n    // fixedSettings.MoreFields ??= '';\r\n    return fs;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringDropdownQueryLogic);\r\n","import { Component } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { StringDropdownQueryLogic } from './string-dropdown-query-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.StringDropdownQuery,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class StringDropdownQueryComponent extends PickerComponent {\r\n\r\n  log = classLog({StringDropdownQueryComponent}, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    StringDropdownQueryLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { EntityDefaultLogic } from '../entity-default/entity-default-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.StringDropdown,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class StringDropdownComponent extends PickerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({StringDropdownComponent}, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    EntityDefaultLogic.importMe();\r\n  }\r\n\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldSettingsPicker, FieldSettingsPickerMasks, FieldSettingsStringFontIconPicker } from '../../../../../../../edit-types/src/FieldSettings-Pickers';\r\nimport { PickerSourceCss } from '../../../../../../../edit-types/src/PickerSources';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { buildRegExFromPrefixAndSuffix } from '../../picker/data-sources/css/string-font-icon-picker.helpers';\r\n\r\n/**\r\n * Logic for the StringFontIconPicker field.\r\n * This is an older field, which was standalone till ca. v18.01.\r\n * \r\n * In v18.02 it was changed to use the standard picker,\r\n * so it now ports the configuration from the names in the old config entity\r\n * to how the new picker expects them.\r\n */\r\nexport class StringFontIconPickerLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.StringFontIconPicker;\r\n\r\n  constructor() { super({ StringFontIconPickerLogic }); }\r\n\r\n  update({ fieldName, settings }: FieldLogicUpdate): FieldSettings {\r\n    const l = this.log.fnIfInList('update', 'fields', fieldName, { fieldName, settings });\r\n\r\n    // Cast settings to type which knows about the properties\r\n    // and the raw settings which show what values can be read\r\n    const fs = { ...settings } as FieldSettings & FieldSettingsPickerMasks & PickerSourceCss & FieldSettingsPicker;\r\n    const raw = fs as unknown as FieldSettingsStringFontIconPicker;\r\n\r\n    ///// OLD Settings\r\n    // fixedSettings.Files ??= '';\r\n    // fixedSettings.CssPrefix ??= '';\r\n    // fixedSettings.ShowPrefix ??= false;\r\n\r\n    // Note: the original Files was multi-line. We assume it was never used, but we can't be sure.\r\n    fs.CssSourceFile = raw.Files ?? '';\r\n    fs.CssSelectorFilter = raw.CssPrefix ?? '';\r\n    fs.CssSelectorFilter = buildRegExFromPrefixAndSuffix(raw.CssPrefix ?? '', ':');\r\n    fs.PreviewValue = `${raw.PreviewCss} [Item:Value]`;\r\n\r\n    fs.PreviewType ='icon-css';\r\n    fs.EnableTextEntry = false;\r\n    fs.EnableAddExisting = true;\r\n    fs.AllowMultiValue = false;\r\n\r\n    fs.noAutoFocus = true;\r\n\r\n    // The label should either be the entire class, or just the part after the prefix\r\n    // These values will be in the `Value` or `Title` fields, respectively.\r\n    fs.Label = raw.ShowPrefix ? 'Value' : 'Title';\r\n    return l.r(fs);\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringFontIconPickerLogic);\r\n","import { Component } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { StringFontIconPickerLogic } from './string-font-icon-picker-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.StringFontIconPicker,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: [\r\n        PickerImports,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class StringFontIconPickerComponent extends PickerComponent {\r\n\r\n  log = classLog({StringFontIconPickerComponent}, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    StringFontIconPickerLogic.importMe();\r\n  }\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { Of } from '../../../../../../../core/type-utilities';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\nimport { PickerSourcesCustom } from '../../picker/constants/picker-config-model.constants';\r\nimport { PickerLogicShared } from '../../picker/picker-logic-shared';\r\n\r\nexport class StringPickerLogic extends FieldLogicBase {\r\n  name: Of<typeof InputTypeCatalog> = InputTypeCatalog.StringPicker;\r\n\r\n  constructor() { super({StringPickerLogic}); }\r\n\r\n  update(specs: FieldLogicUpdate<string>): FieldSettings {\r\n    \r\n    var log = classLog({StringPickerLogic}, null);\r\n\r\n    const l = log.fn('update', { specs });\r\n\r\n    const { fs, removeEditRestrictions, typeConfig } = new PickerLogicShared().preUpdate(specs);\r\n\r\n    fs.Separator ??= '\\n'; //'\\\\n';\r\n    if (fs.Separator == '\\\\n') fs.Separator = '\\n'; //buggy temp double-slash-n\r\n\r\n    /** Dropdown data source aka custom-list picker */\r\n    const typeName = fs.dataSourceType;\r\n    const isCustomSource = Object.values(PickerSourcesCustom).includes(typeName as Of<typeof PickerSourcesCustom>);\r\n    l.a(`type: ${typeName}`, { typeConfig, isCustomSource });\r\n\r\n    if (isCustomSource) {\r\n      if (!removeEditRestrictions) {\r\n        fs.EnableEdit = false;\r\n        fs.EnableCreate = false;\r\n        fs.EnableDelete = false;\r\n      }\r\n    } else\r\n      l.a('type: not UiPickerSourceCustom-List/Csv', { typeConfig });\r\n\r\n    return l.r(fs);\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringPickerLogic);\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { PickerComponent } from '../../picker/picker';\r\nimport { PickerImports } from '../../picker/picker-providers.constant';\r\nimport { StringPickerLogic } from './string-picker-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.StringPicker,\r\n    templateUrl: '../../picker/picker.html',\r\n    imports: PickerImports\r\n})\r\nexport class StringPickerComponent extends PickerComponent implements OnInit, OnDestroy {\r\n\r\n  log = classLog({ StringPickerComponent }, PickerComponent.logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n    this.constructorEnd();\r\n    StringPickerLogic.importMe();\r\n  }\r\n\r\n}\r\n","<!--\r\nThis template is used for all entity like fields,\r\ne.g. EntityDefault, EntityContentBlocks, EntityQuery, StringDropdownQuery\r\n-->\r\n<!-- <pre>Field.Picker Start - showPreview: {{ showPreview() }}</pre> -->\r\n@if (showPreview()) {\r\n  <!-- Had to disable defer 2024-06-14 2dm when Upgrading to Angular 17.3 from 17.0 before, seems to be module-related\r\n        can probably reactivate once modules are gone\r\n  -->\r\n  <!-- @defer { -->\r\n    <!-- <div>preview</div> -->\r\n    <app-picker-preview></app-picker-preview>\r\n  <!-- } -->\r\n}\r\n@else {\r\n  <!-- @defer { -->\r\n    <!-- <div>search, not preview</div> -->\r\n    <app-picker-dialog></app-picker-dialog>\r\n  <!-- } -->\r\n}\r\n<!-- <pre>Field.Picker End</pre> -->","import { TemplateTypes } from './string-template-picker.models';\r\n\r\nexport const templateTypes: TemplateTypes = {\r\n  Token: {\r\n    ext: '.html',\r\n    purpose: 'Template',\r\n    type: 'Token',\r\n  },\r\n  'C# Razor': {\r\n    ext: '.cshtml',\r\n    purpose: 'Template',\r\n    type: 'Razor',\r\n  },\r\n  // New in 12.02 - won't show up in the selection-dropdown but is used for Controller-Selectors\r\n  'C# Search': {\r\n    ext: '.cs',\r\n    purpose: 'Search',\r\n  },\r\n} as const;\r\n","import { Component, Injector, ViewContainerRef, effect, inject, signal } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { StringTemplatePicker } from 'projects/edit-types/src/FieldSettings-String';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { SourceService } from '../../../../code-editor/services/source.service';\r\nimport { CreateFileDialogComponent } from '../../../../create-file-dialog/create-file-dialog';\r\nimport { CreateFileDialogData, CreateFileDialogResult } from '../../../../create-file-dialog/create-file-dialog.models';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FieldMask } from '../../../shared/helpers';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { templateTypes } from './string-template-picker.constants';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.StringTemplatePicker,\r\n    templateUrl: './string-template-picker.html',\r\n    styleUrls: ['./string-template-picker.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatSelectModule,\r\n        MatOptionModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        FieldHelperTextComponent,\r\n        TranslateModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class StringTemplatePickerComponent {\r\n  \r\n  log = classLog({StringTemplatePickerComponent});\r\n\r\n  #fieldState = inject(FieldState) as FieldState<string, FieldSettings & StringTemplatePicker>;\r\n\r\n  // needed to create more FieldMasks as needed\r\n  #injector = inject(Injector);\r\n\r\n  // If we have a configured type, use that, otherwise use the field mask\r\n  // We'll still use the field-mask (even though it wouldn't be needed) to keep the logic simple\r\n  #typeMask = transient(FieldMask).init('typeMask', this.#fieldState.settings().FileType ?? '[Type]');\r\n\r\n  #locationMask = transient(FieldMask).init('String-LocationMask', '[Location]');\r\n\r\n  #sourceService = transient(SourceService);\r\n\r\n  protected group = this.#fieldState.group;\r\n  protected config = this.#fieldState.config;\r\n\r\n  protected basics = this.#fieldState.basics;\r\n  protected ui = this.#fieldState.ui;\r\n\r\n  protected files = signal<string[]>([]);\r\n\r\n  #activeSpec = templateTypes.Token;\r\n  #templates: string[] = [];\r\n  #global = false;\r\n\r\n  /** Reset only after templates have been fetched once */\r\n  #resetIfNotFound = false;\r\n\r\n  constructor(\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n  ) {\r\n    // Watch for location changes to update the files in the dropdown\r\n    effect(() => this.#onLocationChange(this.#locationMask.result()));\r\n\r\n    // Watch for changes to the Type mask\r\n    effect(() => this.#setFileConfig(this.#typeMask.result()));\r\n  }\r\n\r\n  #setFileConfig(type: string) {\r\n    this.#activeSpec = templateTypes[type];\r\n    this.#setTemplateOptions();\r\n  }\r\n\r\n  #prevLocation = '';\r\n  #onLocationChange(location: string) {\r\n    const l = this.log.fn('onLocationChange', { location });\r\n    this.#global = (\r\n      location === 'Host File System' // Original value used from 2sxc up until v12.01\r\n      || location === 'Global' // New key used in 2sxc 12.02 and later\r\n    );\r\n\r\n    if (this.#prevLocation === location)\r\n      return;\r\n    this.#prevLocation = location;\r\n\r\n    this.#sourceService.getAllPromise().then(files => {\r\n      this.#templates = files.filter(file => file.Shared === this.#global).map(file => file.Path);\r\n      this.#resetIfNotFound = true;\r\n      this.#setTemplateOptions();\r\n    });\r\n  }\r\n\r\n  #setTemplateOptions() {\r\n    const ext = this.#activeSpec.ext;\r\n    const filtered = this.#templates\r\n      // new feature in v11 - '.code.xxx' files shouldn't be shown, they are code-behind\r\n      .filter(template => !/\\.code\\.[a-zA-Z0-9]+$/.test(template))\r\n      .filter(template => template.endsWith(ext));\r\n    this.files.set(filtered);\r\n\r\n    const resetValue = this.#resetIfNotFound && !filtered.some(template => template === this.#fieldState.uiValue());\r\n    if (resetValue)\r\n      this.ui().setIfChanged('');\r\n  }\r\n\r\n  createTemplate() {\r\n    const nameMask = transient(FieldMask, this.#injector).init('String-NameMask', '[Name]');\r\n    const data: CreateFileDialogData = {\r\n      global: this.#global,\r\n      purpose: this.#activeSpec.purpose,\r\n      type: this.#activeSpec.type,\r\n      name: nameMask.result(),\r\n    };\r\n    nameMask.destroy();\r\n    const dialogRef = this.matDialog.open(CreateFileDialogComponent, {\r\n      autoFocus: false,\r\n      data,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '650px',\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result?: CreateFileDialogResult) => {\r\n      if (!result) return;\r\n\r\n      this.#sourceService.create(result.name, this.#global, result.templateKey).subscribe(res => {\r\n        if (res === false) {\r\n          alert('Server reported that create failed - the file probably already exists');\r\n        } else {\r\n          this.#templates.push(result.name);\r\n          this.#setTemplateOptions();\r\n          this.ui().setIfChanged(result.name);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","  <div class=\"picker-wrapper\">\r\n    <mat-form-field [formGroup]=\"group\" color=\"accent\" class=\"eav-mat-form-field\">\r\n      <mat-select [formControlName]=\"config.fieldName\" [required]=\"basics().required\" class=\"eav-translate-on-dblclick\">\r\n        <mat-option value=\"\">{{ 'Fields.TemplatePicker.NotSelected' | translate }}</mat-option>\r\n        @for (file of files(); track file) {\r\n          <mat-option [value]=\"file\">\r\n            {{ file }}\r\n          </mat-option>\r\n        }\r\n      </mat-select>\r\n      <mat-label>{{ basics().label }}</mat-label>\r\n    </mat-form-field>\r\n    <button mat-icon-button tippyTranslate=\"Fields.TemplatePicker.NewTemplate\" [disabled]=\"ui().disabled\" (click)=\"createTemplate()\">\r\n      <mat-icon>add</mat-icon>\r\n    </button>\r\n  </div>\r\n  <app-field-helper-text></app-field-helper-text>\r\n","import { StringUrlPath } from 'projects/edit-types/src/FieldSettings-String';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\n\r\nexport class StringUrlPathLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.StringUrlPath;\r\n\r\n  constructor() { super({ InputTypeCatalog }); }\r\n\r\n  update({ settings }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & StringUrlPath;\r\n    fixedSettings.AutoGenerateMask ??= null;\r\n    fixedSettings.AllowSlashes ??= false;\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(StringUrlPathLogic);\r\n","import { Component, computed, effect, inject, signal } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FieldMask, UrlHelpers } from '../../../shared/helpers';\r\nimport { FieldMetadata } from '../../field-metadata.decorator';\r\nimport { FieldState } from '../../field-state';\r\nimport { FieldHelperTextComponent } from '../../help-text/field-help-text';\r\nimport { WrappersLocalizationOnly } from '../../wrappers/wrappers.constants';\r\nimport { StringUrlPathLogic } from './string-url-path-logic';\r\n\r\n@Component({\r\n    selector: InputTypeCatalog.StringUrlPath,\r\n    templateUrl: './string-url-path.html',\r\n    imports: [\r\n        MatFormFieldModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        FieldHelperTextComponent,\r\n    ]\r\n})\r\n@FieldMetadata({ ...WrappersLocalizationOnly })\r\nexport class StringUrlPathComponent {\r\n\r\n  log = classLog({StringUrlPathComponent});\r\n\r\n  protected fieldState = inject(FieldState);\r\n\r\n  protected group = this.fieldState.group;\r\n\r\n  protected settings = this.fieldState.settings;\r\n  protected basics = this.fieldState.basics;\r\n\r\n  /** The mask to use comes from the field settings */\r\n  #maskFromSettings = this.fieldState.settingExt('AutoGenerateMask');\r\n\r\n  /**\r\n   * Blocks external update if field was changed manually and doesn't match external updates.\r\n   * WARNING: Doesn't work on language change\r\n   * TODO: MAKE work on language change\r\n   */\r\n  #lastAutoCopy = signal('');\r\n\r\n  /** The Field-Mask Helper which will continuously parse the result */\r\n  #fieldMask = transient(FieldMask)\r\n    // .logChanges()\r\n    .initPreClean((_, value) => typeof value === 'string' ? value.replace('/', '-').replace('\\\\', '-') : value)\r\n    .initSignal('UrlPath', this.#maskFromSettings);\r\n\r\n  /** The cleaned value, ready for broadcasting back to the field */\r\n  #maskedValueCleaned = computed(() => {\r\n    const newValue = this.#fieldMask.result();\r\n    return UrlHelpers.stripNonUrlCharacters(newValue, this.settings().AllowSlashes, true);\r\n  });\r\n\r\n  constructor() {\r\n    StringUrlPathLogic.importMe();\r\n\r\n    // Listen to value changes to correct spaces and other non-allowed characters\r\n    effect(() => {\r\n      const _ = this.fieldState.uiValue();\r\n      this.clean(false);\r\n    });\r\n\r\n    // Listen to the mask changes to update the field\r\n    effect(() => this.#publishFieldMaskResult(this.#maskedValueCleaned()));\r\n  }\r\n\r\n\r\n  #publishFieldMaskResult(cleanedNewValue: string) {\r\n    const l = this.log.fn('#onSourcesChanged', { newValue: cleanedNewValue });\r\n\r\n    const v = {\r\n      uiValue: this.fieldState.uiValue(),\r\n      lastAutoCopy: this.#lastAutoCopy(),\r\n      allowSlashes: this.settings().AllowSlashes,\r\n      cleaned: cleanedNewValue,\r\n    };\r\n\r\n    // Exit early if the UI is a) not empty and b) doesn't have the last copy of the stripped value\r\n    if (v.uiValue && (v.uiValue !== v.lastAutoCopy))\r\n      return l.end(`UI not empty but manually modified, so no auto-update`, v);\r\n\r\n    if (!v.cleaned)\r\n      return l.end('cleaned is empty', v);\r\n\r\n    if (v.uiValue === v.cleaned)\r\n      return l.end('no changes', v);\r\n\r\n    this.#lastAutoCopy.set(v.cleaned);\r\n    this.fieldState.ui().setIfChanged(v.cleaned);\r\n    l.end(`updated to \"${v.cleaned}\"`, v);\r\n  }\r\n\r\n  clean(trimEnd: boolean) {\r\n    const l = this.log.fn('clean', { trimEnd });\r\n    const value = this.fieldState.uiValue();\r\n    const cleaned = UrlHelpers.stripNonUrlCharacters(value, this.settings().AllowSlashes, trimEnd);\r\n    this.fieldState.ui().setIfChanged(cleaned);\r\n  }\r\n}\r\n","<mat-form-field [formGroup]=\"group\" color=\"accent\" class=\"eav-mat-form-field\">\r\n  <input matInput class=\"eav-translate-on-dblclick\"\r\n    [formControlName]=\"fieldState.name\"\r\n    (blur)=\"clean(true)\"\r\n    [placeholder]=\"basics().placeholder\"\r\n    [required]=\"basics().required\">\r\n  <mat-label>{{ basics().label }}</mat-label>\r\n</mat-form-field>\r\n<app-field-helper-text></app-field-helper-text>\r\n","import { AdamConfig } from '../../../../../../../../edit-types/src/AdamConfig';\r\nimport { FieldConfigSet } from '../../../field-config-set.model';\r\n\r\nexport class AdamConfigInstance implements AdamConfig {\r\n  //#region Field settings\r\n  rootSubfolder = '';\r\n  fileFilter = '';\r\n  allowAssetsInRoot = true;\r\n  folderDepth = 0;\r\n  metadataContentTypes = '';\r\n  //#endregion\r\n\r\n  //#region Toggle\r\n  usePortalRoot = false;\r\n  showImagesOnly = false;\r\n  //#endregion\r\n\r\n  //#region Calculated\r\n  autoLoad = false;\r\n  enableSelect = true;\r\n  subfolder = '';\r\n  allowEdit = true;\r\n  disabled = true;\r\n  maxDepthReached = false;\r\n  //#endregion\r\n\r\n  constructor(disabled: boolean) {\r\n    this.disabled = disabled;\r\n  }\r\n\r\n  static completeConfig(config: Partial<AdamConfig>, fieldConfig: FieldConfigSet, oldConfig?: AdamConfigInstance): AdamConfigInstance {\r\n    // set new values and use old ones where new value is not provided\r\n    const startDisabled = fieldConfig.inputTypeSpecs.isExternal;\r\n    oldConfig = oldConfig ?? new AdamConfigInstance(startDisabled);\r\n    const newConfig = new AdamConfigInstance(startDisabled);\r\n\r\n    for (const key of Object.keys(newConfig))\r\n      (newConfig as any)[key] = (config as any)[key] ?? (oldConfig as any)[key];\r\n\r\n    // fixes\r\n    const resetSubfolder = oldConfig.usePortalRoot !== newConfig.usePortalRoot;\r\n    if (resetSubfolder)\r\n      newConfig.subfolder = '';\r\n\r\n    if (newConfig.usePortalRoot) {\r\n      const fixBackSlashes = newConfig.rootSubfolder.includes('\\\\');\r\n      if (fixBackSlashes)\r\n        newConfig.rootSubfolder = newConfig.rootSubfolder.replace(/\\\\/g, '/');\r\n      const fixStartingSlash = newConfig.rootSubfolder.startsWith('/');\r\n      if (fixStartingSlash)\r\n        newConfig.rootSubfolder = newConfig.rootSubfolder.replace('/', '');\r\n      const fixRoot = !newConfig.subfolder.startsWith(newConfig.rootSubfolder);\r\n      if (fixRoot)\r\n        newConfig.subfolder = newConfig.rootSubfolder;\r\n      newConfig.maxDepthReached = false; // when using portal root depth is infinite\r\n    }\r\n\r\n    if (!newConfig.usePortalRoot) {\r\n      const currentDepth = newConfig.subfolder ? newConfig.subfolder.split('/').length : 0;\r\n      const fixDepth = currentDepth >= newConfig.folderDepth;\r\n      if (fixDepth) {\r\n        let folders = newConfig.subfolder.split('/');\r\n        folders = folders.slice(0, newConfig.folderDepth);\r\n        newConfig.subfolder = folders.join('/');\r\n        newConfig.maxDepthReached = true;\r\n      } else\r\n        newConfig.maxDepthReached = false;\r\n    }\r\n\r\n    return newConfig;\r\n  }\r\n\r\n}\r\n","import { DropzoneConfigExt } from '../../../../../../../../edit-types/src/DropzoneConfigExt';\r\nimport { UrlHelpers } from '../../../../shared/helpers';\r\nimport { FieldConfigSet } from '../../../field-config-set.model';\r\nimport { AdamConfigInstance } from './adam-browser.models';\r\n\r\nexport function fixDropzone(newConfig: AdamConfigInstance, fieldConfig: FieldConfigSet) {\r\n  const oldDzConfig = fieldConfig.dropzone.getConfig();\r\n  const newDzConfig: Partial<DropzoneConfigExt> = {};\r\n  const dzUrlParams = UrlHelpers.getUrlParams(oldDzConfig.url as string);\r\n  const dzSubfolder = dzUrlParams.subfolder || '';\r\n  const dzUsePortalRoot = dzUrlParams.usePortalRoot;\r\n  const fixUploadUrl = dzSubfolder !== newConfig.subfolder || dzUsePortalRoot !== newConfig.usePortalRoot.toString();\r\n\r\n  if (fixUploadUrl) {\r\n    let newUrl = oldDzConfig.url as string;\r\n    newUrl = UrlHelpers.replaceUrlParam(newUrl, 'subfolder', newConfig.subfolder);\r\n    newUrl = UrlHelpers.replaceUrlParam(newUrl, 'usePortalRoot', newConfig.usePortalRoot.toString());\r\n    newDzConfig.url = newUrl;\r\n  }\r\n\r\n  const uploadDisabled = !newConfig.allowEdit\r\n    || (\r\n      (newConfig.subfolder === '' || newConfig.usePortalRoot && newConfig.subfolder === newConfig.rootSubfolder)\r\n      && !newConfig.allowAssetsInRoot\r\n    );\r\n\r\n  const fixDisabled = oldDzConfig.disabled !== uploadDisabled;\r\n  if (fixDisabled)\r\n    newDzConfig.disabled = uploadDisabled;\r\n\r\n  if (Object.keys(newDzConfig).length > 0)\r\n    fieldConfig.dropzone.setConfig(newDzConfig);\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { NgClass } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, effect, inject, OnInit, output, ViewContainerRef } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport isEqual from 'lodash-es/isEqual';\r\nimport { transient } from '../../../../../../../../core/transient';\r\nimport { AdamConfig } from '../../../../../../../../edit-types/src/AdamConfig';\r\nimport { AdamItem } from '../../../../../../../../edit-types/src/AdamItem';\r\nimport { FeatureNames } from '../../../../../features/feature-names';\r\nimport { FeaturesService } from '../../../../../features/features.service';\r\nimport { openFeatureDialog } from '../../../../../features/shared/base-feature';\r\nimport { eavConstants } from '../../../../../shared/constants/eav.constants';\r\nimport { ClickStopPropagationDirective } from '../../../../../shared/directives/click-stop-propagation.directive';\r\nimport { TippyDirective } from '../../../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../../../shared/logging';\r\nimport { EditForm, EditPrep } from '../../../../../shared/models/edit-form.model';\r\nimport { DialogRoutingService } from '../../../../../shared/routing/dialog-routing.service';\r\nimport { computedObj, signalObj } from '../../../../../shared/signals/signal.utilities';\r\nimport { FormsStateService } from '../../../../form/forms-state.service';\r\nimport { EditRoutingService } from '../../../../routing/edit-routing.service';\r\nimport { AdamCacheService } from '../../../../shared/adam/adam-cache.service';\r\nimport { AdamService } from '../../../../shared/adam/adam.service';\r\nimport { LinkCacheService } from '../../../../shared/adam/link-cache.service';\r\nimport { FileTypeHelpers } from '../../../../shared/helpers';\r\nimport { PasteClipboardImageDirective } from '../../../directives/paste-clipboard-image.directive';\r\nimport { FieldState } from '../../../field-state';\r\nimport { AdamConfigInstance } from './adam-browser.models';\r\nimport { AdamConnector } from './adam-connector';\r\nimport { fixDropzone } from './dropzone-helper';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: false,\r\n  editItemMetadata: false,\r\n  setConfig: false,\r\n  fetchItems: true,\r\n  processFetchedItems: true,\r\n}\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'adam-browser',\r\n  templateUrl: './adam-browser.html',\r\n  styleUrls: ['./adam-browser.scss'],\r\n  animations: [\r\n    trigger('adamShowAnimate', [\r\n      state('closed', style({\r\n        height: '0',\r\n        overflow: 'hidden',\r\n      })),\r\n      state('open', style({\r\n        height: '*',\r\n        overflow: 'hidden',\r\n      })),\r\n      transition('closed => open', [\r\n        animate('300ms cubic-bezier(0.4, 0.0, 0.2, 1)'),\r\n      ]),\r\n    ]),\r\n  ],\r\n  imports: [\r\n    NgClass,\r\n    MatIconModule,\r\n    PasteClipboardImageDirective,\r\n    MatBadgeModule,\r\n    TranslateModule,\r\n    ClickStopPropagationDirective,\r\n    TippyDirective,\r\n  ]\r\n})\r\nexport class AdamBrowserComponent implements OnInit {\r\n\r\n  openUpload = output<void>();\r\n\r\n  log = classLog({ AdamBrowserComponent }, logSpecs);\r\n\r\n  protected fieldState = inject(FieldState);\r\n  #editRoutingService = inject(EditRoutingService);\r\n  #features = inject(FeaturesService);\r\n\r\n  #adamService = transient(AdamService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private dnnContext: DnnContext,\r\n    private adamCacheService: AdamCacheService,\r\n    private linkCacheService: LinkCacheService,\r\n    private formsStateService: FormsStateService,\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) {\r\n    const l = this.log.fnIf('constructor');\r\n    // Ensure that we fetch items when we have the configuration\r\n    effect(() => {\r\n      const adamConfig = this.adamConfig();\r\n      if (adamConfig == null) return;\r\n      this.fetchItems();\r\n    });\r\n\r\n    const cnf = this.config;\r\n    this.#url = this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${cnf.contentTypeNameId}/${cnf.entityGuid}/${cnf.fieldName}`);\r\n  }\r\n\r\n  protected config = this.fieldState.config;\r\n  protected group = this.fieldState.group;\r\n  #ui = this.fieldState.ui;\r\n\r\n  protected disabled = computedObj('disabled', () => this.#ui().disabled);\r\n\r\n  protected value = computedObj('value', () => this.fieldState.uiValue());\r\n\r\n  public adamConfig = signalObj<AdamConfig>('adamConfig', null); // here the change detection is critical\r\n  public items = signalObj<AdamItem[]>('items', []);\r\n\r\n  #url: string;\r\n  #firstFetch = true;\r\n\r\n  allowAddButtons = computedObj('allowAddButtons', () => {\r\n    const cnf = this.adamConfig();\r\n    return cnf.allowEdit && !((cnf.subfolder === '' || cnf.usePortalRoot && cnf.subfolder === cnf.rootSubfolder) && !cnf.allowAssetsInRoot)\r\n  });\r\n\r\n  protected isPasteImageFromClipboardEnabled = this.#features.isEnabled[FeatureNames.PasteImageFromClipboard];\r\n\r\n  ngOnInit() {\r\n    // Update data if a child-form closes\r\n    this.#dialogRouter.doOnDialogClosed(() => this.fetchItems());\r\n\r\n    // Attach this browser to the AdamConnector\r\n    (this.config.adam as AdamConnector).setBrowser(this);\r\n  }\r\n\r\n  addFolder() {\r\n    if (this.#ui().disabled) return;\r\n\r\n    const folderName = window.prompt('Please enter a folder name'); // todo i18n\r\n    if (!folderName) return;\r\n\r\n    this.#adamService.addFolder(folderName, this.#url, this.adamConfig())\r\n      .subscribe(() => this.fetchItems());\r\n  }\r\n\r\n  del(item: AdamItem) {\r\n    if (this.#ui().disabled) return;\r\n\r\n    const ok = window.confirm('Are you sure you want to delete this item?'); // todo i18n\r\n    if (!ok) return;\r\n\r\n    this.#adamService.deleteItemPromise(item, this.#url, this.adamConfig())\r\n      .then(() => this.fetchItems());\r\n  }\r\n\r\n  editItemMetadata(adamItem: AdamItem, contentTypeName: string, metadataId: number) {\r\n    const l = this.log.fnIf('editItemMetadata', { adamItem, contentTypeName, metadataId });\r\n    if (this.formsStateService.readOnly().isReadOnly || !contentTypeName)\r\n      return l.end('readonly or no content type');\r\n\r\n    const form: EditForm = {\r\n      items: [\r\n        metadataId > 0\r\n          ? EditPrep.editId(metadataId)\r\n          : EditPrep.newMetadata(adamItem.ReferenceId, contentTypeName, eavConstants.metadata.cmsObject),\r\n      ],\r\n    };\r\n    this.#editRoutingService.open(this.config.index, this.config.entityGuid, form);\r\n  }\r\n\r\n  goUp() {\r\n    let subfolder = this.adamConfig().subfolder;\r\n    subfolder = subfolder.includes('/') ? subfolder.slice(0, subfolder.lastIndexOf('/')) : '';\r\n    this.setConfig({ subfolder });\r\n  }\r\n\r\n  #getImageConfigurationContentType(item: AdamItem) {\r\n    // allow image configuration if file is type image and if image configuration is enabled in settings\r\n    const settings = this.fieldState.settings();\r\n    return settings.EnableImageConfiguration && item.Type === 'image'\r\n      ? eavConstants.contentTypes.imageDecorator\r\n      : null;\r\n  }\r\n\r\n  #getMetadataContentType(item: AdamItem) {\r\n    let found: string[];\r\n\r\n    // check if it's a folder and if this has a special registration\r\n    if (item.Type === 'folder') {\r\n      found = this.adamConfig().metadataContentTypes.match(/^(folder)(:)([^\\n]*)/im);\r\n      if (found) {\r\n        return found[3];\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    // check if the extension has a special registration\r\n    // -- not implemented yet\r\n\r\n    // check if the type \"image\" or \"document\" has a special registration\r\n    // -- not implemented yet\r\n\r\n    // nothing found so far, go for the default with nothing as the prefix\r\n    found = this.adamConfig().metadataContentTypes.match(/^([^:\\n]*)(\\n|$)/im);\r\n    if (found) { return found[1]; }\r\n\r\n    // this is if we don't find anything\r\n    return null;\r\n  }\r\n\r\n  goIntoFolder(item: AdamItem) {\r\n    let subfolder = this.adamConfig().subfolder;\r\n    subfolder = subfolder ? `${subfolder}/${item.Name}` : item.Name;\r\n    this.setConfig({ subfolder });\r\n  }\r\n\r\n  openUploadClick(event: MouseEvent) {\r\n    this.openUpload.emit();\r\n  }\r\n\r\n  rename(item: AdamItem) {\r\n    if (this.#ui().disabled) return;\r\n\r\n    const newName = window.prompt('Rename the file / folder to: ', item.Name); // todo i18n\r\n    if (!newName) return;\r\n\r\n    this.#adamService.renamePromise(item, newName, this.#url, this.adamConfig())\r\n      .then(() => this.fetchItems());\r\n  }\r\n\r\n  select(item: AdamItem) {\r\n    if (this.#ui().disabled || !this.adamConfig().enableSelect) return;\r\n    this.config.adam.onItemClick(item);\r\n  }\r\n\r\n  /**\r\n   * Note: since all fetch-items happen in a timeout or subscribe, it doesn't need to be in the NgZone\r\n   * @returns\r\n   */\r\n  public fetchItems() {\r\n    const adamConfig = this.adamConfig();\r\n    const l = this.log.fnIf('fetchItems', { adamConfig, firstFetch: this.#firstFetch, usePortalRoot: adamConfig?.usePortalRoot });\r\n    if (adamConfig == null) return;\r\n    if (!adamConfig.autoLoad) return;\r\n\r\n    if (this.#firstFetch) {\r\n      this.#firstFetch = false;\r\n      const adamItems = this.adamCacheService.getAdamSnapshot(this.config.entityGuid, this.config.fieldName);\r\n      if (adamItems) {\r\n        const clonedItems = adamItems.map(adamItem => ({ ...adamItem } satisfies AdamItem));\r\n        setTimeout(() => this.#processFetchedItems(clonedItems, adamConfig));\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.#adamService.getAllPromise(this.#url, adamConfig)\r\n      .then(items => this.#processFetchedItems(items, adamConfig));\r\n  }\r\n\r\n  openFeatureInfoDialog() {\r\n    if (!this.isPasteImageFromClipboardEnabled())\r\n      openFeatureDialog(this.matDialog, FeatureNames.PasteImageFromClipboard, this.viewContainerRef, this.changeDetectorRef);\r\n  }\r\n\r\n  #processFetchedItems(items: AdamItem[], adamConfig: AdamConfig): void {\r\n    const l = this.log.fnIf('processFetchedItems', { items, adamConfig, usePortalRoot: adamConfig.usePortalRoot });\r\n    this.linkCacheService.addAdam(items);\r\n\r\n    const filteredItems: AdamItem[] = [];\r\n    const extensionsFilter = getExtensionsFilter(adamConfig.fileFilter);\r\n\r\n    for (const item of items) {\r\n      if (item.Name === '.') { // is root\r\n        const allowEdit = item.AllowEdit;\r\n        if (allowEdit !== adamConfig.allowEdit)\r\n          this.setConfig({ allowEdit });\r\n        continue;\r\n      }\r\n      if (item.Name === '2sxc' || item.Name === 'adam')\r\n        continue;\r\n      if (!item.IsFolder && adamConfig.showImagesOnly && item.Type !== 'image')\r\n        continue;\r\n      if (item.IsFolder && adamConfig.maxDepthReached)\r\n        continue;\r\n      if (extensionsFilter.length > 0) {\r\n        const extension = item.Name.substring(item.Name.lastIndexOf('.') + 1).toLocaleLowerCase();\r\n        if (!extensionsFilter.includes(extension)) continue;\r\n      }\r\n\r\n      item._imageConfigurationContentType = this.#getImageConfigurationContentType(item);\r\n      item._imageConfigurationId = item.Metadata?.find(m => m.Type.Name === item._imageConfigurationContentType)?.Id ?? 0;\r\n      item._metadataContentType = this.#getMetadataContentType(item);\r\n      item._metadataId = item.Metadata?.find(m => m.Type.Name === item._metadataContentType)?.Id ?? 0;\r\n      item._icon = FileTypeHelpers.getIconClass(item.Name);\r\n      item._isMaterialIcon = FileTypeHelpers.isKnownType(item.Name);\r\n      item._displaySize = (item.Size / 1024).toFixed(0);\r\n      filteredItems.push(item);\r\n    }\r\n\r\n    filteredItems.sort((a, b) => a.Name.toLocaleLowerCase().localeCompare(b.Name.toLocaleLowerCase()));\r\n    filteredItems.sort((a, b) => b.IsFolder.toString().localeCompare(a.IsFolder.toString()));\r\n    this.items.set(filteredItems);\r\n  }\r\n\r\n  public setConfig(config: Partial<AdamConfig>) {\r\n    const l = this.log.fnIf('setConfig', config);\r\n    const newConfig = AdamConfigInstance.completeConfig(config, this.config, this.adamConfig());\r\n\r\n    // There is a high risk of infinite loops here, so we need to ensure that we don't do this too often\r\n    if (isEqual(newConfig, this.adamConfig())) {\r\n      l.end('no change');\r\n      return;\r\n    }\r\n\r\n    this.adamConfig.set(newConfig);\r\n    fixDropzone(newConfig, this.config);\r\n    l.end();\r\n  }\r\n\r\n\r\n  public toggle(usePortalRoot: boolean, showImagesOnly: boolean) {\r\n    const newConfig: AdamConfig = { ...this.adamConfig(), ...{ usePortalRoot, showImagesOnly } };\r\n\r\n    if (isEqual(newConfig, this.adamConfig()))\r\n      newConfig.autoLoad = !newConfig.autoLoad;\r\n    else if (!newConfig.autoLoad)\r\n      newConfig.autoLoad = true;\r\n\r\n    this.setConfig(newConfig);\r\n  }\r\n}\r\n\r\nfunction getExtensionsFilter(fileFilter: string) {\r\n  if (!fileFilter) return [];\r\n\r\n  const extensions = fileFilter.split(',').map(extension => {\r\n    extension = extension.trim();\r\n\r\n    if (extension.startsWith('*.'))\r\n      extension = extension.replace('*.', '');\r\n    else if (extension.startsWith('*'))\r\n      extension = extension.replace('*', '');\r\n\r\n    return extension.toLocaleLowerCase();\r\n  });\r\n\r\n  return extensions;\r\n}\r\n\r\n","<div class=\"dropzone\" [@adamShowAnimate]=\"adamConfig()?.autoLoad ? 'open' : 'closed'\">\r\n  @if (adamConfig()?.autoLoad && this.fieldState.isOpen()) {\r\n    <div\r\n      [ngClass]=\"{\r\n        'adam-scope-site': adamConfig().usePortalRoot,\r\n        'adam-scope-field': !adamConfig().usePortalRoot,\r\n      }\"\r\n    >\r\n      @if (!disabled() && allowAddButtons()) {\r\n        <!-- click to upload -->\r\n        <div class=\"dz-preview dropzone-adam\" (click)=\"openUploadClick($event)\" tippyTranslate=\"Fields.Hyperlink.AdamFileManager.UploadTip\">\r\n          <div class=\"dz-image adam-browse-background-icon adam-browse-background\">\r\n            <mat-icon>cloud_upload</mat-icon>\r\n            <div class=\"adam-upload-label\">\r\n              {{ 'Fields.Hyperlink.AdamFileManager.UploadLabel' | translate }}\r\n              &nbsp;\r\n              @if (adamConfig().usePortalRoot) {\r\n                <mat-icon>public</mat-icon>\r\n              } @else {\r\n                <mat-icon svgIcon=\"apple-outlined\"></mat-icon>\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- paste image from clipboard -->\r\n        <div\r\n          #pasteDiv\r\n          appPasteClipboardImage\r\n          [config]=\"config\"\r\n          [elementType]=\"'element'\"\r\n          class=\"dz-preview dropzone-adam paste-image\"\r\n          tippyTranslate=\"Fields.Hyperlink.AdamFileManager.UploadPasteTip\"\r\n          (click)=\"openFeatureInfoDialog()\"\r\n        >\r\n          <div class=\"dz-image adam-browse-background-icon adam-browse-background\">\r\n            <mat-icon\r\n              class=\"adam-filter-mat-icon-with-grey-mat-badge\"\r\n              [matBadgeHidden]=\"isPasteImageFromClipboardEnabled()\"\r\n              matBadgeSize=\"large\"\r\n              matBadge=\"\"\r\n              matBadgePosition=\"below after\"\r\n              matBadgeOverlap=\"true\"\r\n              aria-hidden=\"false\"\r\n            >\r\n              filter\r\n            </mat-icon>\r\n\r\n            <!-- TODO: @2dm -->\r\n            <div class=\"adam-upload-label\">\r\n              {{\r\n                !isPasteImageFromClipboardEnabled()\r\n                  ? 'Fields.Hyperlink.AdamFileManager.UploadPasteLabel'\r\n                  : pasteDiv.classList.contains('pastable-focus')\r\n                    ? 'Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel'\r\n                    : ('Fields.Hyperlink.AdamFileManager.UploadPasteLabel' | translate)\r\n              }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      <!-- add folder -->\r\n      @if (!adamConfig().maxDepthReached && !disabled() && allowAddButtons()) {\r\n        <div class=\"dz-preview\" (click)=\"addFolder()\" tippyTranslate=\"Fields.Hyperlink.AdamFileManager.NewFolderTip\">\r\n          <div class=\"dz-image adam-browse-background-icon adam-browse-background\">\r\n            <mat-icon svgIcon=\"folder-plus\"></mat-icon>\r\n            <div class=\"adam-short-label\">{{ 'Fields.Hyperlink.AdamFileManager.NewFolder' | translate }}</div>\r\n          </div>\r\n          <div class=\"dz-details\" style=\"opacity: 1\"></div>\r\n        </div>\r\n      }\r\n      <!-- browse up a folder -->\r\n      @if (adamConfig().subfolder !== '' || (adamConfig().usePortalRoot && adamConfig().subfolder !== adamConfig().rootSubfolder)) {\r\n        <div class=\"dz-preview\" (click)=\"goUp()\" tippyTranslate=\"Fields.Hyperlink.AdamFileManager.BackFolderTip\">\r\n          <div class=\"dz-image adam-browse-background-icon adam-browse-background\">\r\n            <mat-icon svgIcon=\"folder\"></mat-icon>\r\n            <div class=\"adam-short-label\">{{ 'Fields.Hyperlink.AdamFileManager.BackFolder' | translate }}</div>\r\n          </div>\r\n          <div class=\"adam-background adam-browse-background-icon\">\r\n            <mat-icon class=\"adam-back-folder-arrow\">arrow_back</mat-icon>\r\n          </div>\r\n        </div>\r\n      }\r\n      @for (item of items(); track item.Id) {\r\n        <!-- folders -->\r\n        @if (item.IsFolder) {\r\n          <div class=\"dz-preview\" (click)=\"goIntoFolder(item)\">\r\n            <div class=\"dz-image adam-blur adam-browse-background-icon adam-browse-background\">\r\n              <mat-icon svgIcon=\"folder\"></mat-icon>\r\n              <div class=\"short-label\">{{ item.Name }}</div>\r\n            </div>\r\n            <div class=\"dz-details file-type-{{ item.Type }}\">\r\n              @if (adamConfig().allowEdit) {\r\n                <mat-icon\r\n                  (click)=\"del(item)\"\r\n                  appClickStopPropagation\r\n                  class=\"adam-delete-button\"\r\n                  tippyTranslate=\"Fields.Hyperlink.AdamFileManager.Delete\"\r\n                  [ngClass]=\"{ 'adam-button-disabled': disabled() }\"\r\n                  >clear</mat-icon\r\n                >\r\n\r\n                <mat-icon\r\n                  (click)=\"rename(item)\"\r\n                  appClickStopPropagation\r\n                  class=\"adam-rename-button\"\r\n                  tippyTranslate=\"Fields.Hyperlink.AdamFileManager.Edit\"\r\n                  [ngClass]=\"{ 'adam-button-disabled': disabled() }\"\r\n                  >edit</mat-icon\r\n                >\r\n              }\r\n              <div class=\"adam-full-name-area\">\r\n                <div class=\"adam-full-name\" [title]=\"item.Name\">{{ item.Name }}</div>\r\n              </div>\r\n            </div>\r\n            @if (item._metadataContentType) {\r\n              <mat-icon\r\n                class=\"adam-tag\"\r\n                appClickStopPropagation\r\n                [ngClass]=\"{ 'metadata-exists': item._metadataId > 0 }\"\r\n                tippy=\"{{ item._metadataContentType }}: {{ item._metadataId }}\"\r\n                (click)=\"editItemMetadata(item, item._metadataContentType, item._metadataId)\"\r\n                >local_offer</mat-icon\r\n              >\r\n            }\r\n          </div>\r\n        }\r\n        <!-- files -->\r\n        @if (!item.IsFolder) {\r\n          <div\r\n            class=\"dz-preview\"\r\n            (click)=\"select(item)\"\r\n            [ngClass]=\"{\r\n              'dz-success': value() === 'file:' + item.Id,\r\n              'disable-select': !adamConfig().enableSelect,\r\n            }\"\r\n          >\r\n            @if (item.Type !== 'image') {\r\n              <div class=\"dz-image adam-blur adam-browse-background-icon adam-browse-background\">\r\n                <mat-icon>{{ item._icon }}</mat-icon>\r\n                <div class=\"adam-short-label\">{{ item.Name }}</div>\r\n              </div>\r\n            } @else {\r\n              <div class=\"dz-image adam-browse-background-image\">\r\n                <img vm-dz-thumbnail=\"\" [alt]=\"item.Id + ':' + item.Name\" [src]=\"item.ThumbnailUrl\" />\r\n              </div>\r\n            }\r\n            <div class=\"dz-details file-type-{{ item.Type }}\">\r\n              @if (adamConfig().allowEdit) {\r\n                <mat-icon\r\n                  (click)=\"del(item)\"\r\n                  appClickStopPropagation\r\n                  class=\"adam-delete-button\"\r\n                  tippyTranslate=\"Fields.Hyperlink.AdamFileManager.Delete\"\r\n                  [ngClass]=\"{ 'adam-button-disabled': disabled() }\"\r\n                  >clear</mat-icon\r\n                >\r\n\r\n                <mat-icon\r\n                  (click)=\"rename(item)\"\r\n                  appClickStopPropagation\r\n                  class=\"adam-rename-button\"\r\n                  tippyTranslate=\"Fields.Hyperlink.AdamFileManager.Edit\"\r\n                  [ngClass]=\"{ 'adam-button-disabled': disabled() }\"\r\n                  >edit</mat-icon\r\n                >\r\n              }\r\n              <div class=\"adam-full-name-area\">\r\n                <div class=\"adam-full-name\" [title]=\"item.Name\">{{ item.Name }}</div>\r\n              </div>\r\n              <div class=\"dz-filename adam-short-label\" appClickStopPropagation title=\"#{{ item.Id }} - {{ item._displaySize }} KB\">\r\n                <span>#{{ item.Id }} - {{ item._displaySize }} KB</span>\r\n              </div>\r\n              <a class=\"adam-link-button\" target=\"_blank\" [href]=\"item.Url\" appClickStopPropagation>\r\n                <mat-icon tippyTranslate=\"Fields.Hyperlink.AdamFileManager.Show\">open_in_new</mat-icon>\r\n              </a>\r\n              @if (item.Type === 'image') {\r\n                <mat-icon\r\n                  class=\"image-configuration-button\"\r\n                  appClickStopPropagation\r\n                  [ngClass]=\"{\r\n                    'adam-button-disabled': !item._imageConfigurationContentType,\r\n                    'metadata-exists': item._imageConfigurationId > 0,\r\n                  }\"\r\n                  [tippyTranslate]=\"\r\n                    item._imageConfigurationContentType\r\n                      ? 'Fields.Hyperlink.AdamFileManager.ImageSettings'\r\n                      : 'Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled'\r\n                  \"\r\n                  (click)=\"editItemMetadata(item, item._imageConfigurationContentType, item._imageConfigurationId)\"\r\n                >\r\n                  filter_center_focus</mat-icon\r\n                >\r\n              }\r\n            </div>\r\n            @if (item._metadataContentType) {\r\n              <mat-icon\r\n                class=\"adam-tag\"\r\n                appClickStopPropagation\r\n                [ngClass]=\"{ 'metadata-exists': item._metadataId > 0 }\"\r\n                tippy=\"{{ item._metadataContentType }}: {{ item._metadataId }}\"\r\n                (click)=\"editItemMetadata(item, item._metadataContentType, item._metadataId)\"\r\n                >local_offer</mat-icon\r\n              >\r\n            }\r\n            <div class=\"dz-success-mark\">\r\n              <svg\r\n                width=\"54px\"\r\n                height=\"54px\"\r\n                viewBox=\"0 0 54 54\"\r\n                version=\"1.1\"\r\n                xmlns=\"https://www.w3.org/2000/svg\"\r\n                xmlns:xlink=\"https://www.w3.org/1999/xlink\"\r\n                xmlns:sketch=\"https://www.bohemiancoding.com/sketch/ns\"\r\n              >\r\n                <title>Check</title>\r\n                <defs></defs>\r\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\r\n                  <path\r\n                    d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\"\r\n                    id=\"Oval-2\"\r\n                    stroke-opacity=\"0.198794158\"\r\n                    stroke=\"#747474\"\r\n                    fill-opacity=\"0.816519475\"\r\n                    fill=\"#FFFFFF\"\r\n                    sketch:type=\"MSShapeGroup\"\r\n                  ></path>\r\n                </g>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        }\r\n      }\r\n    </div>\r\n  }\r\n</div>\r\n","import { Component, inject } from '@angular/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FeaturesService } from '../../../../../features/features.service';\r\nimport { TippyDirective } from '../../../../../shared/directives/tippy.directive';\r\nimport { FeatureNames } from './../../../../../features/feature-names';\r\n\r\n@Component({\r\n    // tslint:disable-next-line:component-selector\r\n    selector: 'adam-hint',\r\n    templateUrl: './adam-hint.html',\r\n    styleUrls: ['./adam-hint.scss'],\r\n    imports: [\r\n        MatDividerModule,\r\n        MatIconModule,\r\n        TranslateModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class AdamHintComponent {\r\n  public features = inject(FeaturesService);\r\n  protected hideAdamSponsor = this.features.isEnabled[FeatureNames.NoSponsoredByToSic];\r\n}\r\n","<mat-divider></mat-divider>\r\n\r\n<div class=\"hint-box u-border-radius-bottom mat-caption u-shadow-top\">\r\n  <div class=\"hint-box__hint\">{{ \"Fields.Hyperlink.AdamFileManager.Hint\" | translate }}</div>\r\n  <div class=\"hint-box__sponsor\">\r\n    <a\r\n      href=\"https://2sxc.org/help?tag=adam\"\r\n      target=\"_blank\"\r\n      tabindex=\"-1\"\r\n      class=\"adam-link\"\r\n      tippyTranslate=\"Fields.Hyperlink.AdamFileManager.HelpTooltip\"\r\n    >\r\n      <mat-icon svgIcon=\"apple-outlined\"></mat-icon>\r\n      <span>{{ \"Fields.Hyperlink.AdamFileManager.Name\" | translate }}</span>\r\n    </a>\r\n    @if (!hideAdamSponsor()) {\r\n      &nbsp;\r\n      <span>{{ \"Fields.Hyperlink.AdamFileManager.SponsorLine\" | translate }}</span>\r\n      &nbsp;\r\n      <a href=\"https://www.2sic.com\" target=\"_blank\" tabindex=\"-1\">2sic.com</a>\r\n    }\r\n  </div>\r\n</div>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, ElementRef, inject, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\nimport { AdamBrowserComponent } from './adam-browser/adam-browser';\r\nimport { AdamHintComponent } from './adam-hint/adam-hint';\r\n\r\n@Component({\r\n    selector: WrappersCatalog.AdamWrapper,\r\n    templateUrl: './adam-wrapper.html',\r\n    styleUrls: ['./adam-wrapper.scss'],\r\n    imports: [\r\n        AdamBrowserComponent,\r\n        NgClass,\r\n        AdamHintComponent,\r\n    ]\r\n})\r\nexport class AdamWrapperComponent implements OnInit {\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n  @ViewChild('invisibleClickable') invisibleClickableRef: ElementRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  protected config = this.fieldState.config;\r\n\r\n  constructor() { }\r\n\r\n  fullscreenAdam: boolean;\r\n  adamDisabled = this.config.adam.isDisabled;\r\n\r\n\r\n  ngOnInit() {\r\n    this.fullscreenAdam = this.config.inputTypeSpecs.inputType === InputTypeCatalog.HyperlinkLibrary;\r\n  }\r\n\r\n  openUpload() {\r\n    this.invisibleClickableRef.nativeElement.click();\r\n  }\r\n}\r\n","<div [ngClass]=\"{ 'adam-in-popup': this.fieldState.isOpen(), 'c-ew__dialog-content--empty': fullscreenAdam }\">\r\n  <div class=\"adam-dialog-content\">\r\n    <ng-container #fieldComponent></ng-container>\r\n  </div>\r\n  <adam-browser\r\n    (openUpload)=\"openUpload()\"\r\n    class=\"u-shadow-top\"\r\n    [ngClass]=\"{\r\n      'adam-browser-container--short u-hide-scrollbar': !fullscreenAdam,\r\n      'u-display-none': adamDisabled(),\r\n    }\"\r\n  >\r\n  </adam-browser>\r\n  <div class=\"{{ config.dropzonePreviewsClass }}\" [ngClass]=\"{ 'u-display-none': adamDisabled() }\">\r\n    <div class=\"dropzone-previews\"></div>\r\n    <span #invisibleClickable class=\"invisible-clickable\" data-note=\"just a fake, invisible area for dropzone\"></span>\r\n  </div>\r\n  <adam-hint class=\"field-hints\" [ngClass]=\"{ 'u-display-none': adamDisabled() }\"></adam-hint>\r\n</div>\r\n","import * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, PLATFORM_ID, Directive, Inject, Optional, Input, Output, Component, ViewEncapsulation, ViewChild, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { isPlatformBrowser, CommonModule } from '@angular/common';\nimport { Dropzone } from 'dropzone';\nconst _c0 = [\"*\"];\nfunction DropzoneComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.element(0, \"div\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.nextContext();\n    i0.styleProp(\"background-image\", ctx_r0.getPlaceholder());\n  }\n}\nconst DROPZONE_CONFIG = /*#__PURE__*/new InjectionToken('DROPZONE_CONFIG');\nconst DropzoneEvents = ['error', 'success', 'sending', 'canceled', 'complete', 'processing', 'drop', 'dragStart', 'dragEnd', 'dragEnter', 'dragOver', 'dragLeave', 'thumbnail', 'addedFile', 'addedFiles', 'removedFile', 'uploadProgress', 'maxFilesReached', 'maxFilesExceeded', 'errorMultiple', 'successMultiple', 'sendingMultiple', 'canceledMultiple', 'completeMultiple', 'processingMultiple', 'reset', 'queueComplete', 'totalUploadProgress'];\nclass DropzoneConfig {\n  timeout;\n  autoReset;\n  errorReset;\n  cancelReset;\n  url;\n  method;\n  params;\n  headers;\n  init;\n  accept;\n  resize;\n  fallback;\n  renameFile;\n  transformFile;\n  chunksUploaded;\n  withCredentials;\n  previewsContainer;\n  hiddenInputContainer;\n  clickable;\n  paramName;\n  capture;\n  maxFiles;\n  maxFilesize;\n  filesizeBase;\n  acceptedFiles;\n  forceFallback;\n  addRemoveLinks;\n  uploadMultiple;\n  parallelUploads;\n  resizeWidth;\n  resizeHeight;\n  resizeMethod;\n  resizeQuality;\n  resizeMimeType;\n  thumbnailWidth;\n  thumbnailHeight;\n  thumbnailMethod;\n  previewTemplate;\n  autoQueue;\n  autoProcessQueue;\n  ignoreHiddenFiles;\n  maxThumbnailFilesize;\n  createImageThumbnails;\n  chunking;\n  chunkSize;\n  retryChunks;\n  forceChunking;\n  retryChunksLimit;\n  parallelChunkUploads;\n  dictFileSizeUnits;\n  dictDefaultMessage;\n  dictFallbackMessage;\n  dictFileTooBig;\n  dictResponseError;\n  dictInvalidFileType;\n  dictRemoveFile;\n  dictCancelUpload;\n  dictUploadCanceled;\n  dictFallbackText;\n  dictMaxFilesExceeded;\n  dictRemoveFileConfirmation;\n  dictCancelUploadConfirmation;\n  constructor(config = {}) {\n    this.assign(config);\n  }\n  assign(config = {}, target) {\n    target = target || this;\n    for (const key in config) {\n      if (config[key] != null && !Array.isArray(config[key]) && typeof config[key] === 'object' && !(config[key] instanceof HTMLElement)) {\n        target[key] = {};\n        this.assign(config[key], target[key]);\n      } else {\n        target[key] = config[key];\n      }\n    }\n  }\n}\nlet DropzoneDirective = /*#__PURE__*/(() => {\n  class DropzoneDirective {\n    zone;\n    renderer;\n    elementRef;\n    differs;\n    platformId;\n    defaults;\n    instance;\n    configDiff = null;\n    disabled = false;\n    config;\n    DZ_INIT = new EventEmitter();\n    DZ_ERROR = new EventEmitter();\n    DZ_SUCCESS = new EventEmitter();\n    DZ_SENDING = new EventEmitter();\n    DZ_CANCELED = new EventEmitter();\n    DZ_COMPLETE = new EventEmitter();\n    DZ_PROCESSING = new EventEmitter();\n    DZ_DROP = new EventEmitter();\n    DZ_DRAGSTART = new EventEmitter();\n    DZ_DRAGEND = new EventEmitter();\n    DZ_DRAGENTER = new EventEmitter();\n    DZ_DRAGOVER = new EventEmitter();\n    DZ_DRAGLEAVE = new EventEmitter();\n    DZ_THUMBNAIL = new EventEmitter();\n    DZ_ADDEDFILE = new EventEmitter();\n    DZ_ADDEDFILES = new EventEmitter();\n    DZ_REMOVEDFILE = new EventEmitter();\n    DZ_UPLOADPROGRESS = new EventEmitter();\n    DZ_MAXFILESREACHED = new EventEmitter();\n    DZ_MAXFILESEXCEEDED = new EventEmitter();\n    DZ_ERRORMULTIPLE = new EventEmitter();\n    DZ_SUCCESSMULTIPLE = new EventEmitter();\n    DZ_SENDINGMULTIPLE = new EventEmitter();\n    DZ_CANCELEDMULTIPLE = new EventEmitter();\n    DZ_COMPLETEMULTIPLE = new EventEmitter();\n    DZ_PROCESSINGMULTIPLE = new EventEmitter();\n    DZ_RESET = new EventEmitter();\n    DZ_QUEUECOMPLETE = new EventEmitter();\n    DZ_TOTALUPLOADPROGRESS = new EventEmitter();\n    constructor(zone, renderer, elementRef, differs, platformId, defaults) {\n      this.zone = zone;\n      this.renderer = renderer;\n      this.elementRef = elementRef;\n      this.differs = differs;\n      this.platformId = platformId;\n      this.defaults = defaults;\n      const dz = Dropzone;\n      dz.autoDiscover = false;\n    }\n    ngOnInit() {\n      if (!isPlatformBrowser(this.platformId)) {\n        return;\n      }\n      const params = new DropzoneConfig(this.defaults);\n      params.assign(this.config); // Custom configuration\n      this.renderer.addClass(this.elementRef.nativeElement, params.maxFiles === 1 ? \"dz-single\" : \"dz-multiple\");\n      this.renderer.removeClass(this.elementRef.nativeElement, params.maxFiles === 1 ? \"dz-multiple\" : \"dz-single\");\n      Object.keys(params).forEach(key => params[key] === undefined && delete params[key]);\n      this.zone.runOutsideAngular(() => {\n        this.instance = new Dropzone(this.elementRef.nativeElement, params);\n      });\n      if (this.disabled) {\n        this.instance.disable();\n      }\n      if (this.DZ_INIT.observers.length) {\n        this.zone.run(() => {\n          this.DZ_INIT.emit(this.instance);\n        });\n      }\n      // Add auto reset handling for events\n      this.instance.on(\"success\", () => {\n        if (params.autoReset != null) {\n          setTimeout(() => this.reset(), params.autoReset);\n        }\n      });\n      this.instance.on(\"error\", () => {\n        if (params.errorReset != null) {\n          setTimeout(() => this.reset(), params.errorReset);\n        }\n      });\n      this.instance.on(\"canceled\", () => {\n        if (params.cancelReset != null) {\n          setTimeout(() => this.reset(), params.cancelReset);\n        }\n      });\n      // Add native Dropzone event handling\n      DropzoneEvents.forEach(eventName => {\n        this.instance.on(eventName.toLowerCase(), (...args) => {\n          args = args.length === 1 ? args[0] : args;\n          const output = `DZ_${eventName.toUpperCase()}`;\n          const emitter = this[output];\n          if (emitter.observers.length > 0) {\n            this.zone.run(() => {\n              emitter.emit(args);\n            });\n          }\n        });\n      });\n      if (!this.configDiff) {\n        this.configDiff = this.differs.find(this.config || {}).create();\n        this.configDiff.diff(this.config || {});\n      }\n    }\n    ngOnDestroy() {\n      if (this.instance) {\n        this.zone.runOutsideAngular(() => {\n          this.instance.destroy();\n        });\n        this.instance = null;\n      }\n    }\n    ngDoCheck() {\n      if (!this.disabled && this.configDiff) {\n        const changes = this.configDiff.diff(this.config || {});\n        if (changes && this.instance) {\n          this.ngOnDestroy();\n          this.ngOnInit();\n        }\n      }\n    }\n    ngOnChanges(changes) {\n      if (this.instance && changes[\"disabled\"]) {\n        if (changes[\"disabled\"].currentValue !== changes[\"disabled\"].previousValue) {\n          if (changes[\"disabled\"].currentValue === false) {\n            this.zone.runOutsideAngular(() => {\n              this.instance.enable();\n            });\n          } else if (changes[\"disabled\"].currentValue === true) {\n            this.zone.runOutsideAngular(() => {\n              this.instance.disable();\n            });\n          }\n        }\n      }\n    }\n    dropzone() {\n      return this.instance;\n    }\n    reset(cancel) {\n      if (this.instance) {\n        this.zone.runOutsideAngular(() => {\n          this.instance.removeAllFiles(cancel);\n        });\n      }\n    }\n    static fac = function DropzoneDirective_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DropzoneDirective)(i0.directiveInject(i0.NgZone), i0.directiveInject(i0.Renderer2), i0.directiveInject(i0.ElementRef), i0.directiveInject(i0.KeyValueDiffers), i0.directiveInject(PLATFORM_ID), i0.directiveInject(DROPZONE_CONFIG, 8));\n    };\n    static dir = /* @__PURE__ */i0.defineDirective({\n      type: DropzoneDirective,\n      selectors: [[\"\", \"dropzone\", \"\"]],\n      inputs: {\n        disabled: \"disabled\",\n        config: [0, \"dropzone\", \"config\"]\n      },\n      outputs: {\n        DZ_INIT: \"init\",\n        DZ_ERROR: \"error\",\n        DZ_SUCCESS: \"success\",\n        DZ_SENDING: \"sending\",\n        DZ_CANCELED: \"canceled\",\n        DZ_COMPLETE: \"complete\",\n        DZ_PROCESSING: \"processing\",\n        DZ_DROP: \"drop\",\n        DZ_DRAGSTART: \"dragStart\",\n        DZ_DRAGEND: \"dragEnd\",\n        DZ_DRAGENTER: \"dragEnter\",\n        DZ_DRAGOVER: \"dragOver\",\n        DZ_DRAGLEAVE: \"dragLeave\",\n        DZ_THUMBNAIL: \"thumbnail\",\n        DZ_ADDEDFILE: \"addedFile\",\n        DZ_ADDEDFILES: \"addedFiles\",\n        DZ_REMOVEDFILE: \"removedFile\",\n        DZ_UPLOADPROGRESS: \"uploadProgress\",\n        DZ_MAXFILESREACHED: \"maxFilesReached\",\n        DZ_MAXFILESEXCEEDED: \"maxFilesExceeded\",\n        DZ_ERRORMULTIPLE: \"errorMultiple\",\n        DZ_SUCCESSMULTIPLE: \"successMultiple\",\n        DZ_SENDINGMULTIPLE: \"sendingMultiple\",\n        DZ_CANCELEDMULTIPLE: \"canceledMultiple\",\n        DZ_COMPLETEMULTIPLE: \"completeMultiple\",\n        DZ_PROCESSINGMULTIPLE: \"processingMultiple\",\n        DZ_RESET: \"reset\",\n        DZ_QUEUECOMPLETE: \"queueComplete\",\n        DZ_TOTALUPLOADPROGRESS: \"totalUploadProgress\"\n      },\n      exportAs: [\"ngxDropzone\"],\n      standalone: false,\n      features: [i0.NgOnChangesFeature]\n    });\n  }\n  return DropzoneDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DropzoneComponent = /*#__PURE__*/(() => {\n  class DropzoneComponent {\n    platformId;\n    disabled = false;\n    config;\n    message = 'Click or drag files to upload';\n    placeholder = '';\n    useDropzoneClass = true;\n    DZ_INIT = new EventEmitter();\n    DZ_ERROR = new EventEmitter();\n    DZ_SUCCESS = new EventEmitter();\n    DZ_SENDING = new EventEmitter();\n    DZ_CANCELED = new EventEmitter();\n    DZ_COMPLETE = new EventEmitter();\n    DZ_PROCESSING = new EventEmitter();\n    DZ_DROP = new EventEmitter();\n    DZ_DRAGSTART = new EventEmitter();\n    DZ_DRAGEND = new EventEmitter();\n    DZ_DRAGENTER = new EventEmitter();\n    DZ_DRAGOVER = new EventEmitter();\n    DZ_DRAGLEAVE = new EventEmitter();\n    DZ_THUMBNAIL = new EventEmitter();\n    DZ_ADDEDFILE = new EventEmitter();\n    DZ_ADDEDFILES = new EventEmitter();\n    DZ_REMOVEDFILE = new EventEmitter();\n    DZ_UPLOADPROGRESS = new EventEmitter();\n    DZ_MAXFILESREACHED = new EventEmitter();\n    DZ_MAXFILESEXCEEDED = new EventEmitter();\n    DZ_ERRORMULTIPLE = new EventEmitter();\n    DZ_SUCCESSMULTIPLE = new EventEmitter();\n    DZ_SENDINGMULTIPLE = new EventEmitter();\n    DZ_CANCELEDMULTIPLE = new EventEmitter();\n    DZ_COMPLETEMULTIPLE = new EventEmitter();\n    DZ_PROCESSINGMULTIPLE = new EventEmitter();\n    DZ_RESET = new EventEmitter();\n    DZ_QUEUECOMPLETE = new EventEmitter();\n    DZ_TOTALUPLOADPROGRESS = new EventEmitter();\n    directiveRef;\n    constructor(platformId) {\n      this.platformId = platformId;\n    }\n    ngOnInit() {\n      if (!isPlatformBrowser(this.platformId)) {\n        return;\n      }\n      window.setTimeout(() => {\n        DropzoneEvents.forEach(eventName => {\n          if (this.directiveRef) {\n            const output = `DZ_${eventName.toUpperCase()}`;\n            const directiveOutput = output;\n            const componentOutput = output;\n            this.directiveRef[directiveOutput] = this[componentOutput];\n          }\n        });\n      }, 0);\n    }\n    getPlaceholder() {\n      return 'url(' + encodeURI(this.placeholder) + ')';\n    }\n    static fac = function DropzoneComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DropzoneComponent)(i0.directiveInject(PLATFORM_ID));\n    };\n    static cmp = /* @__PURE__ */i0.defineComponent({\n      type: DropzoneComponent,\n      selectors: [[\"dropzone\"]],\n      viewQuery: function DropzoneComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.viewQuery(DropzoneDirective, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.queryRefresh(_t = i0.loadQuery()) && (ctx.directiveRef = _t.first);\n        }\n      },\n      inputs: {\n        disabled: \"disabled\",\n        config: \"config\",\n        message: \"message\",\n        placeholder: \"placeholder\",\n        useDropzoneClass: \"useDropzoneClass\"\n      },\n      outputs: {\n        DZ_INIT: \"init\",\n        DZ_ERROR: \"error\",\n        DZ_SUCCESS: \"success\",\n        DZ_SENDING: \"sending\",\n        DZ_CANCELED: \"canceled\",\n        DZ_COMPLETE: \"complete\",\n        DZ_PROCESSING: \"processing\",\n        DZ_DROP: \"drop\",\n        DZ_DRAGSTART: \"dragStart\",\n        DZ_DRAGEND: \"dragEnd\",\n        DZ_DRAGENTER: \"dragEnter\",\n        DZ_DRAGOVER: \"dragOver\",\n        DZ_DRAGLEAVE: \"dragLeave\",\n        DZ_THUMBNAIL: \"thumbnail\",\n        DZ_ADDEDFILE: \"addedFile\",\n        DZ_ADDEDFILES: \"addedFiles\",\n        DZ_REMOVEDFILE: \"removedFile\",\n        DZ_UPLOADPROGRESS: \"uploadProgress\",\n        DZ_MAXFILESREACHED: \"maxFilesReached\",\n        DZ_MAXFILESEXCEEDED: \"maxFilesExceeded\",\n        DZ_ERRORMULTIPLE: \"errorMultiple\",\n        DZ_SUCCESSMULTIPLE: \"successMultiple\",\n        DZ_SENDINGMULTIPLE: \"sendingMultiple\",\n        DZ_CANCELEDMULTIPLE: \"canceledMultiple\",\n        DZ_COMPLETEMULTIPLE: \"completeMultiple\",\n        DZ_PROCESSINGMULTIPLE: \"processingMultiple\",\n        DZ_RESET: \"reset\",\n        DZ_QUEUECOMPLETE: \"queueComplete\",\n        DZ_TOTALUPLOADPROGRESS: \"totalUploadProgress\"\n      },\n      exportAs: [\"ngxDropzone\"],\n      standalone: false,\n      ngContentSelectors: _c0,\n      decls: 5,\n      vars: 10,\n      consts: [[1, \"dz-wrapper\", 3, \"init\", \"dropzone\", \"disabled\"], [1, \"dz-message\"], [1, \"dz-text\", 3, \"innerHTML\"], [\"class\", \"dz-image\", 3, \"background-image\", 4, \"ngIf\"], [1, \"dz-image\"]],\n      template: function DropzoneComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.projectionDef();\n          i0.elementStart(0, \"div\", 0);\n          i0.listener(\"init\", function DropzoneComponent_Template_div_init_0_listener($event) {\n            return ctx.DZ_INIT.emit($event);\n          });\n          i0.elementStart(1, \"div\", 1);\n          i0.element(2, \"div\", 2);\n          i0.template(3, DropzoneComponent_div_3_Template, 1, 2, \"div\", 3);\n          i0.elementEnd();\n          i0.projection(4);\n          i0.elementEnd();\n        }\n        if (rf & 2) {\n          i0.classProp(\"dropzone\", ctx.useDropzoneClass);\n          i0.property(\"dropzone\", ctx.config)(\"disabled\", ctx.disabled);\n          i0.advance();\n          i0.classProp(\"disabled\", ctx.disabled)(\"dz-placeholder\", ctx.placeholder);\n          i0.advance();\n          i0.property(\"innerHTML\", (ctx.config == null ? null : ctx.config.dictDefaultMessage) || ctx.message, i0.sanitizeHtml);\n          i0.advance();\n          i0.property(\"ngIf\", ctx.placeholder);\n        }\n      },\n      dependencies: [i1.NgIf, DropzoneDirective],\n      styles: [\"dropzone{display:block;width:100%;height:auto}dropzone.flex{display:flex;flex-direction:inherit;min-width:0;min-height:0;-webkit-box-direction:inherit;-webkit-box-orient:inherit}dropzone.flex>.dropzone.dz-wrapper{flex:1 1 auto;min-width:0;min-height:0;-webkit-box-flex:1}dropzone.flex{align-items:inherit;align-content:inherit;justify-content:inherit;-webkit-box-align:inherit;-webkit-box-pack:inherit}dropzone.flex>.dropzone.dz-wrapper.dz-single{display:flex;flex-direction:column;align-items:center;align-content:center;justify-content:center;-webkit-box-align:center;-webkit-box-direction:column;-webkit-box-orient:column;-webkit-box-pack:center}dropzone.flex>.dropzone.dz-wrapper.dz-multiple{display:flex;flex-flow:row wrap;align-items:flex-start;align-content:flex-start;justify-content:space-between;-webkit-box-align:flex-start;-webkit-box-direction:row;-webkit-box-orient:row;-webkit-box-pack:flex-start}dropzone>.dropzone.dz-wrapper{position:relative;overflow:auto;width:100%;min-height:0;max-height:100%;padding:0;border:none;color:#666;background:transparent}dropzone>.dropzone.dz-wrapper .dz-message{position:relative;display:inline-block;overflow:auto;width:calc(100% - 16px);min-width:calc(100% - 16px);min-height:40px;max-width:calc(100% - 16px);max-height:100%;margin:8px;border:2px dashed #aaa;background-color:#eee}dropzone>.dropzone.dz-wrapper .dz-message .dz-text{position:absolute;top:50%;width:100%;padding:8px 16px;text-align:center;transform:translateY(-50%)}dropzone>.dropzone.dz-wrapper .dz-message .dz-image{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:50% 50%}dropzone>.dropzone.dz-wrapper .dz-message.disabled{cursor:not-allowed}dropzone>.dropzone.dz-wrapper .dz-message.disabled .dz-text{opacity:.5}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder{border-color:rgba(#aaa,0)}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder .dz-text{position:absolute;z-index:1;top:0;right:10%;left:10%;opacity:0;font-weight:700;background-color:rgba(#fff,.5);transform:translateY(-50%);transition:filter .25s ease-in-out,opacity .25s ease-in-out,border-color .25s ease-in-out}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder:hover:not(.disabled){border-color:#aaa}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder:hover:not(.disabled) .dz-text{opacity:1}dropzone>.dropzone.dz-wrapper .dz-message.dz-placeholder:hover:not(.disabled) .dz-image{-webkit-filter:blur(8px);filter:blur(8px)}dropzone>.dropzone.dz-wrapper .dz-preview{margin:8px}dropzone>.dropzone.dz-wrapper .dz-preview .dz-details{padding:24px}dropzone>.dropzone.dz-wrapper .dz-preview .dz-progress{width:80%;margin-left:-40%;border:1px solid #aaa;border-radius:4px}dropzone>.dropzone.dz-wrapper .dz-preview .dz-progress .dz-upload{background-color:#666}dropzone>.dropzone.dz-wrapper .dz-preview .dz-filename span{display:block;overflow:hidden;width:100%;max-width:100%;text-overflow:ellipsis}dropzone>.dropzone.dz-wrapper .dz-preview .dz-filename span:hover{overflow:visible;white-space:normal;word-wrap:break-word}dropzone>.dropzone.dz-wrapper.dz-single .dz-message{width:100%;height:100%}dropzone>.dropzone.dz-wrapper.dz-single.dz-started .dz-message{display:none}dropzone>.dropzone.dz-wrapper.dz-single .dz-preview{width:calc(100% - 16px);height:100%}dropzone>.dropzone.dz-wrapper.dz-single .dz-preview .dz-image{width:100%;height:100%;border-radius:0}dropzone>.dropzone.dz-wrapper.dz-single .dz-preview .dz-image img{display:block;width:100%;height:auto;margin:0}dropzone>.dropzone.dz-wrapper.dz-single .dz-error-message{top:50%;left:50%;transform:translate(-50%) translateY(100%)}dropzone>.dropzone.dz-wrapper.dz-multiple.dz-started .dz-message{display:inline-block}\\n\", \"@-webkit-keyframes passing-through{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%,70%{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);-o-transform:translateY(0px);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px)}}@-moz-keyframes passing-through{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%,70%{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);-o-transform:translateY(0px);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px)}}@keyframes passing-through{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%,70%{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);-o-transform:translateY(0px);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(-40px);-moz-transform:translateY(-40px);-ms-transform:translateY(-40px);-o-transform:translateY(-40px);transform:translateY(-40px)}}@-webkit-keyframes slide-in{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);-o-transform:translateY(0px);transform:translateY(0)}}@-moz-keyframes slide-in{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);-o-transform:translateY(0px);transform:translateY(0)}}@keyframes slide-in{0%{opacity:0;-webkit-transform:translateY(40px);-moz-transform:translateY(40px);-ms-transform:translateY(40px);-o-transform:translateY(40px);transform:translateY(40px)}30%{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);-o-transform:translateY(0px);transform:translateY(0)}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}20%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-moz-keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}20%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}20%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}.dropzone,.dropzone *{box-sizing:border-box}.dropzone{min-height:150px;border:2px solid rgba(0,0,0,.3);background:#fff;padding:20px}.dropzone.dz-clickable{cursor:pointer}.dropzone.dz-clickable *{cursor:default}.dropzone.dz-clickable .dz-message,.dropzone.dz-clickable .dz-message *{cursor:pointer}.dropzone.dz-started .dz-message{display:none}.dropzone.dz-drag-hover{border-style:solid}.dropzone.dz-drag-hover .dz-message{opacity:.5}.dropzone .dz-message{text-align:center;margin:2em 0}.dropzone .dz-message .dz-button{background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}.dropzone .dz-preview{position:relative;display:inline-block;vertical-align:top;margin:16px;min-height:100px}.dropzone .dz-preview:hover{z-index:1000}.dropzone .dz-preview.dz-file-preview .dz-image{border-radius:20px;background:#999;background:linear-gradient(to bottom,#eee,#ddd)}.dropzone .dz-preview.dz-file-preview .dz-details{opacity:1}.dropzone .dz-preview.dz-image-preview{background:#fff}.dropzone .dz-preview.dz-image-preview .dz-details{-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-ms-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.dropzone .dz-preview .dz-remove{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone .dz-preview .dz-remove:hover{text-decoration:underline}.dropzone .dz-preview:hover .dz-details{opacity:1}.dropzone .dz-preview .dz-details{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:#000000e6;line-height:150%}.dropzone .dz-preview .dz-details .dz-size{margin-bottom:1em;font-size:16px}.dropzone .dz-preview .dz-details .dz-filename{white-space:nowrap}.dropzone .dz-preview .dz-details .dz-filename:hover span{border:1px solid rgba(200,200,200,.8);background-color:#fffc}.dropzone .dz-preview .dz-details .dz-filename:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone .dz-preview .dz-details .dz-filename:not(:hover) span{border:1px solid transparent}.dropzone .dz-preview .dz-details .dz-filename span,.dropzone .dz-preview .dz-details .dz-size span{background-color:#fff6;padding:0 .4em;border-radius:3px}.dropzone .dz-preview:hover .dz-image img{-webkit-transform:scale(1.05,1.05);-moz-transform:scale(1.05,1.05);-ms-transform:scale(1.05,1.05);-o-transform:scale(1.05,1.05);transform:scale(1.05);-webkit-filter:blur(8px);filter:blur(8px)}.dropzone .dz-preview .dz-image{border-radius:20px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone .dz-preview .dz-image img{display:block}.dropzone .dz-preview.dz-success .dz-success-mark{-webkit-animation:passing-through 3s cubic-bezier(.77,0,.175,1);-moz-animation:passing-through 3s cubic-bezier(.77,0,.175,1);-ms-animation:passing-through 3s cubic-bezier(.77,0,.175,1);-o-animation:passing-through 3s cubic-bezier(.77,0,.175,1);animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone .dz-preview.dz-error .dz-error-mark{opacity:1;-webkit-animation:slide-in 3s cubic-bezier(.77,0,.175,1);-moz-animation:slide-in 3s cubic-bezier(.77,0,.175,1);-ms-animation:slide-in 3s cubic-bezier(.77,0,.175,1);-o-animation:slide-in 3s cubic-bezier(.77,0,.175,1);animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone .dz-preview .dz-success-mark,.dropzone .dz-preview .dz-error-mark{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone .dz-preview .dz-success-mark svg,.dropzone .dz-preview .dz-error-mark svg{display:block;width:54px;height:54px}.dropzone .dz-preview.dz-processing .dz-progress{opacity:1;-webkit-transition:all .2s linear;-moz-transition:all .2s linear;-ms-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.dropzone .dz-preview.dz-complete .dz-progress{opacity:0;-webkit-transition:opacity .4s ease-in;-moz-transition:opacity .4s ease-in;-ms-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.dropzone .dz-preview:not(.dz-processing) .dz-progress{-webkit-animation:pulse 6s ease infinite;-moz-animation:pulse 6s ease infinite;-ms-animation:pulse 6s ease infinite;-o-animation:pulse 6s ease infinite;animation:pulse 6s ease infinite}.dropzone .dz-preview .dz-progress{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:#ffffffe6;-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone .dz-preview .dz-progress .dz-upload{background:#333;background:linear-gradient(to bottom,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;-webkit-transition:width .3s ease-in-out;-moz-transition:width .3s ease-in-out;-ms-transition:width .3s ease-in-out;-o-transition:width .3s ease-in-out;transition:width .3s ease-in-out}.dropzone .dz-preview.dz-error .dz-error-message{display:block}.dropzone .dz-preview.dz-error:hover .dz-error-message{opacity:1;pointer-events:auto}.dropzone .dz-preview .dz-error-message{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;-webkit-transition:opacity .3s ease;-moz-transition:opacity .3s ease;-ms-transition:opacity .3s ease;-o-transition:opacity .3s ease;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(to bottom,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone .dz-preview .dz-error-message:after{content:\\\"\\\";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}\\n\"],\n      encapsulation: 2\n    });\n  }\n  return DropzoneComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DropzoneModule = /*#__PURE__*/(() => {\n  class DropzoneModule {\n    static fac = function DropzoneModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DropzoneModule)();\n    };\n    static mod = /* @__PURE__ */i0.defineNgModule({\n      type: DropzoneModule\n    });\n    static inj = /* @__PURE__ */i0.defineInjector({\n      imports: [CommonModule, CommonModule]\n    });\n  }\n  return DropzoneModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DROPZONE_CONFIG, DropzoneComponent, DropzoneConfig, DropzoneDirective, DropzoneModule };\n","import { DropzoneConfigExt } from '../../../../../../../edit-types/src/DropzoneConfigExt';\r\n\r\nexport type DropzoneType = any;\r\n\r\nexport class DropzoneConfigInstance implements DropzoneConfigExt {\r\n  /** Subfolder and UsePortalRoot are updated from AdamBrowser */\r\n  disabled: boolean;\r\n  url: string;\r\n  headers: Record<string, string>;\r\n  acceptedFiles: string = null;\r\n  maxFiles = 1000;\r\n  parallelUploads = 1000;\r\n  autoReset: number = null;\r\n  errorReset: number = null;\r\n  cancelReset: number = null;\r\n  /** In MB. Upload will also be stopped on the server if file is larger than allowed */\r\n  maxFilesize = 20000;\r\n  /** In milliseconds */\r\n  timeout = 1800000;\r\n  paramName = 'uploadfile';\r\n  maxThumbnailFilesize = 10;\r\n  dictDefaultMessage = '';\r\n  addRemoveLinks = false;\r\n  previewsContainer = '.dropzone-previews';\r\n  /**\r\n   * We need a clickable, because otherwise the entire area is clickable,\r\n   * so i'm just making the preview clickable, as it's not important\r\n   */\r\n  clickable = '.dropzone-previews';\r\n\r\n  constructor(disabled: boolean, url: string, headers: Record<string, string>) {\r\n    this.disabled = disabled;\r\n    this.url = url;\r\n    this.headers = headers;\r\n  }\r\n}\r\n","export class WysiwygConstants {\r\n\r\n  /** Constant to mark the WYSIWYG dom tag */\r\n  static readonly classToDetectWysiwyg = \"class-distinguish-from-adam-dropzone\";\r\n}","import { WysiwygConstants } from '../../../../../../../field-string-wysiwyg/shared/wysiwyg.constants';\r\n\r\n\r\n/**\r\n * Special helper / constants so Dropzone works together with the WYSIWYG editor\r\n */\r\nexport class DropzoneWysiwyg {\r\n\r\n  /** If the last drop was on a WYSIWYG field */\r\n  isStringWysiwyg = false;\r\n\r\n  /** Allowed image / mime types on WYSIWYG */\r\n  imageTypes: string[] = [\"image/jpeg\", \"image/png\"];\r\n\r\n  // on onDrop we check if drop is on wysiwyg or not\r\n  detectWysiwygOnDrop(event: any) {\r\n    this.isStringWysiwyg = DropzoneWysiwyg.isParentWysiwyg((event.toElement as HTMLElement));\r\n  }\r\n  \r\n  // here we check if file is image type so we can cancel upload if it is also uploaded on wysiwyg\r\n  removeFilesHandledByWysiwyg(dropzone: any, file: any) {\r\n    if (this.isStringWysiwyg && this.imageTypes.some(x => x === file.type))\r\n      dropzone.removeFile(file);\r\n  }\r\n\r\n\r\n  static isParentWysiwyg(element: HTMLElement): boolean {\r\n    // Traverse the DOM to see if we can find the wysiwyg editor\r\n    do {\r\n      if (element == null) return false;\r\n      if (element?.classList.contains(WysiwygConstants.classToDetectWysiwyg)) return true;\r\n      element = element.parentElement;\r\n    } while (!element?.classList.contains(WysiwygConstants.classToDetectWysiwyg) || element.parentElement != document.body);\r\n    return false;\r\n  }\r\n\r\n}","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { NgClass } from '@angular/common';\r\nimport { AfterViewInit, Component, computed, inject, signal, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { DropzoneDirective, DropzoneModule } from 'ngx-dropzone-wrapper';\r\nimport { AdamItem } from '../../../../../../../edit-types/src/AdamItem';\r\nimport { DropzoneConfigExt } from '../../../../../../../edit-types/src/DropzoneConfigExt';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\nimport { DropzoneConfigInstance, DropzoneType } from './dropzone-wrapper.models';\r\nimport { DropzoneWysiwyg } from './dropzone-wysiwyg';\r\n\r\n@Component({\r\n    selector: WrappersCatalog.DropzoneWrapper,\r\n    templateUrl: './dropzone-wrapper.html',\r\n    styleUrls: ['./dropzone-wrapper.scss'],\r\n    imports: [\r\n        NgClass,\r\n        DropzoneModule,\r\n    ]\r\n})\r\nexport class DropzoneWrapperComponent implements AfterViewInit {\r\n  \r\n  log = classLog({DropzoneWrapperComponent});\r\n\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n  @ViewChild(DropzoneDirective) dropzoneRef: DropzoneDirective;\r\n\r\n  #fieldState = inject(FieldState);\r\n  #config = this.#fieldState.config;\r\n\r\n  dropzoneConfig = signal<DropzoneConfigExt>(null);\r\n  dropzoneDisabled = computed(() => this.#fieldState.ui().disabled || (this.dropzoneConfig()?.disabled ?? true));\r\n  \r\n  #wysiwygHelper = new DropzoneWysiwyg();\r\n\r\n  constructor(\r\n    private formConfig: FormConfigService,\r\n    private dnnContext: DnnContext,\r\n  ) {\r\n    this.extendFieldConfigWithDropZone();\r\n    this.#setConfig({});\r\n  }\r\n\r\n  extendFieldConfigWithDropZone() {\r\n    this.#config.dropzone = {\r\n      setConfig: (config) => this.#setConfig(config),\r\n      getConfig: () => this.dropzoneConfig(),\r\n      uploadFile: (image) => this.#uploadFile(image),\r\n    };\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.#setConfig({\r\n      previewsContainer: `.${this.#config.dropzonePreviewsClass} .dropzone-previews`,\r\n      clickable: `.${this.#config.dropzonePreviewsClass} .invisible-clickable`,\r\n    });\r\n  }\r\n\r\n  // on onDrop we check if drop is on wysiwyg or not\r\n  onDrop(event: any) {\r\n    this.#wysiwygHelper.detectWysiwygOnDrop(event);\r\n  }\r\n\r\n  // here we check if file is image type so we can cancel upload if it is also uploaded on wysiwyg\r\n  onAddedFile(file: any) {\r\n    this.#wysiwygHelper.removeFilesHandledByWysiwyg(this.dropzoneRef.dropzone(), file);\r\n  }\r\n\r\n  onUploadError(event: DropzoneType) {\r\n    this.log.fn('onUploadError', { event });\r\n    alert(`Dropzone upload error. Event ${event}`);\r\n    this.dropzoneRef.reset();\r\n  }\r\n\r\n  onUploadSuccess(event: DropzoneType) {\r\n    const l = this.log.fn('onUploadSuccess', { event });\r\n    const response: AdamItem = event[1]; // gets the server response as second argument.\r\n    if (!response.Error) {\r\n      if (this.#config.adam) {\r\n        this.#config.adam.onItemUpload(response);\r\n        this.#config.adam.refresh();\r\n      } else {\r\n        l.a(`Upload failed because: ADAM reference doesn't exist`);\r\n      }\r\n    } else {\r\n      l.a(`Upload failed because: ${response.Error}`);\r\n      alert(`Upload failed because: ${response.Error}`);\r\n    }\r\n    this.dropzoneRef.reset();\r\n  }\r\n\r\n  #setConfig(config: Partial<DropzoneConfigExt>) {\r\n    const contentType = this.#config.contentTypeNameId;\r\n    const entityGuid = this.#config.entityGuid;\r\n    const field = this.#config.fieldName;\r\n    const appId = this.formConfig.config.appId;\r\n\r\n    const startDisabled = this.#config.inputTypeSpecs.isExternal;\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${contentType}/${entityGuid}/${field}?subfolder=&usePortalRoot=false&appId=${appId}`);\r\n    const headers = this.dnnContext.sxc.webApi.headers();\r\n\r\n    const newConfig = new DropzoneConfigInstance(startDisabled, url, headers);\r\n    const oldConfig = this.dropzoneConfig() ?? newConfig;\r\n\r\n    for (const key of Object.keys(newConfig))\r\n      (newConfig as any)[key] = (config as any)[key] ?? (oldConfig as any)[key];\r\n\r\n    // fixes\r\n    const syncUploadLimit = newConfig.maxFiles !== newConfig.parallelUploads;\r\n    if (syncUploadLimit) {\r\n      const uploadLimit = (newConfig.maxFiles >= newConfig.parallelUploads)\r\n        ? newConfig.maxFiles\r\n        : newConfig.parallelUploads;\r\n      newConfig.maxFiles = uploadLimit;\r\n      newConfig.parallelUploads = uploadLimit;\r\n    }\r\n\r\n    // Make sure dropzone accepts all files, since we'll process it afterwards\r\n    // only way to tell dropzone to accept all files is to remove acceptedFiles from config\r\n    // so if the config exists but is empty/null, we must completely remove it\r\n    const fixAcceptedFiles = newConfig.acceptedFiles == null || newConfig.acceptedFiles === '';\r\n    if (fixAcceptedFiles)\r\n      delete newConfig.acceptedFiles; \r\n\r\n    this.dropzoneConfig.set(newConfig);\r\n  }\r\n\r\n  #uploadFile(file: File & { upload?: { chunked: boolean; }; }) {\r\n    const dropzone = this.dropzoneRef.dropzone();\r\n    // 2025-03-29 previous used defaultOptions, but that doesn't seem to work any more\r\n    // switching to fallback to options - not sure if defaultOptions is still a thing...\r\n    file.upload = { chunked: dropzone.defaultOptions?.chunking ?? dropzone.options?.chunking };\r\n    dropzone.processFile(file);\r\n  }\r\n}\r\n","<div class=\"dropzone dropzone-container\" [ngClass]=\"{ 'dropzone-disabled': dropzoneDisabled() }\"\r\n  [dropzone]=\"dropzoneConfig()\" [disabled]=\"dropzoneDisabled()\" (error)=\"onUploadError($event)\"\r\n  (success)=\"onUploadSuccess($event)\" (addedFile)=\"onAddedFile($event)\" (drop)=\"onDrop($event)\">\r\n  <ng-container #fieldComponent></ng-container>\r\n</div>","export function vh(percentage: number) {\r\n  const viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n  return (percentage * viewportHeight) / 100;\r\n}\r\n\r\nexport function vw(percentage: number) {\r\n  const viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n  return (percentage * viewportWidth) / 100;\r\n}\r\n","import { NgZone } from '@angular/core';\r\nimport { EavWindow } from '../../../shared/models/eav-window.model';\r\nimport { ElementEventListener } from '../../shared/controls/element-event-listener.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport class DropzoneDraggingHelper {\r\n  private eventListeners: ElementEventListener[] = [];\r\n\r\n  constructor(private zone: NgZone) { }\r\n\r\n  /** Starts listening for dragover and drop events on a given element */\r\n  attach(htmlEl: HTMLElement) {\r\n    this.zone.runOutsideAngular(() => {\r\n      htmlEl.addEventListener('dragover', dragoverListener, { passive: true });\r\n      htmlEl.addEventListener('drop', dropListener, { passive: true });\r\n\r\n      this.eventListeners.push(\r\n        { element: htmlEl, type: 'dragover', listener: dragoverListener },\r\n        { element: htmlEl, type: 'drop', listener: dropListener },\r\n      );\r\n\r\n      function dragoverListener() {\r\n        clearTimeouts(window.windowBodyTimeouts); // clear timeouts from global array of timeouts which clear draggingClass from body\r\n        document.body.classList.add(window.draggingClass);\r\n      }\r\n      function dropListener() {\r\n        document.body.classList.remove(window.draggingClass);\r\n      }\r\n      function clearTimeouts(timeoutsArray: number[]) {\r\n        for (const timeout of timeoutsArray)\r\n          clearTimeout(timeout);\r\n        timeoutsArray.splice(0, timeoutsArray.length);\r\n      }\r\n    });\r\n  }\r\n\r\n  /** Removes event listeners from registered elements */\r\n  detach() {\r\n    this.zone.runOutsideAngular(() => {\r\n      this.eventListeners.forEach(({ element, type, listener }) => element.removeEventListener(type, listener));\r\n    });\r\n  }\r\n}\r\n","import { animate, keyframes, state, style, transition, trigger } from '@angular/animations';\r\n\r\nexport const ContentExpandAnimation = [\r\n  trigger('itemShrinkAnimation', [\r\n    state(\r\n      'open',\r\n      style({\r\n        height: '30vh',\r\n      }),\r\n    ),\r\n    state(\r\n      'closed',\r\n      style({\r\n        height: '0vh',\r\n      }),\r\n    ),\r\n    transition('open => closed', [animate('300ms cubic-bezier(0.4, 0.0, 0.2, 1)')]),\r\n  ]),\r\n  trigger('contentExpandAnimation', [\r\n    state(\r\n      'closed',\r\n      style({\r\n        height: '0',\r\n      }),\r\n    ),\r\n    state(\r\n      'expanded',\r\n      style({\r\n        height: 'calc(100vh - {{bottomPixels}})', // 100px on desktop, 50px on mobile\r\n        maxHeight: 'calc(100vh - {{bottomPixels}})',\r\n      }),\r\n      { params: { bottomPixels: window.innerWidth > 600 ? '100px' : '50px' } },\r\n    ),\r\n    transition(\r\n      'closed => expanded',\r\n      [\r\n        animate(\r\n          '300ms cubic-bezier(0.4, 0.0, 0.2, 1)',\r\n          keyframes([\r\n            style({ height: '0vh', overflow: 'hidden' }),\r\n            style({ height: 'calc(100vh - {{bottomPixels}})', overflow: 'hidden' }),\r\n          ]),\r\n        ),\r\n      ],\r\n      { params: { bottomPixels: window.innerWidth > 600 ? '100px' : '50px' } },\r\n    ),\r\n  ]),\r\n];\r\n","import { CommonModule, NgClass } from '@angular/common';\r\nimport { Component, computed, ElementRef, inject, input, NgZone, ViewChild } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { transient } from 'projects/core';\r\nimport { computedObj } from 'projects/eav-ui/src/app/shared/signals/signal.utilities';\r\nimport { FeatureNames } from '../../../../features/feature-names';\r\nimport { FeaturesService } from '../../../../features/features.service';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { ExtendedFabSpeedDialImports } from '../../../../shared/modules/extended-fab-speed-dial/extended-fab-speed-dial.imports';\r\nimport { EntityFormStateService } from '../../../entity-form/entity-form-state.service';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FormsStateService } from '../../../form/forms-state.service';\r\nimport { EditRoutingService } from '../../../routing/edit-routing.service';\r\nimport { FieldState } from '../../field-state';\r\nimport { DropzoneDraggingHelper } from '../dropzone-dragging.helper';\r\nimport { ContentExpandAnimation } from '../expand-dialog/content-expand.animation';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\n\r\n@Component({\r\n    selector: WrappersCatalog.DialogPopup,\r\n    templateUrl: './dialog-popup.html',\r\n    styleUrls: ['./dialog-popup.scss'],\r\n    animations: [ContentExpandAnimation],\r\n    imports: [\r\n        NgClass,\r\n        MatCardModule,\r\n        MatRippleModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        TranslateModule,\r\n        ...ExtendedFabSpeedDialImports,\r\n        TippyDirective,\r\n        CommonModule,\r\n    ]\r\n})\r\n// tslint:disable-next-line:max-line-length\r\nexport class DialogPopupComponent {\r\n  @ViewChild('backdrop') private backdropRef: ElementRef;\r\n  @ViewChild('dialog') private dialogRef: ElementRef;\r\n\r\n  applyEmptyClass = input<boolean>();\r\n\r\n  protected fieldState = inject(FieldState);\r\n  public config = this.fieldState.config;\r\n  public basics = this.fieldState.basics;\r\n\r\n  #editRoutingService = inject(EditRoutingService);\r\n  formsStateService = inject(FormsStateService);\r\n  private featuresService = inject(FeaturesService);\r\n\r\n  #formConfig = inject(FormConfigService);\r\n  enableSave = this.#formConfig.config.save.mode !== false; // if false, then no save button is shown\r\n  \r\n  #dropzoneDraggingHelper: DropzoneDraggingHelper;\r\n\r\n  #entityFormStateService = transient(EntityFormStateService);\r\n  \r\n  constructor(\r\n    private zone: NgZone,\r\n  ) { }\r\n  \r\n  saveDisabled = computedObj('saveDisabled', () => this.#entityFormStateService.isSaving() || this.formsStateService.saveButtonDisabled());\r\n\r\n  open = this.fieldState.isOpen\r\n\r\n  ngAfterViewInit() {\r\n    this.#dropzoneDraggingHelper = new DropzoneDraggingHelper(this.zone);\r\n    this.#dropzoneDraggingHelper.attach(this.backdropRef.nativeElement);\r\n    this.#dropzoneDraggingHelper.attach(this.dialogRef.nativeElement);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.#dropzoneDraggingHelper.detach();\r\n  }\r\n\r\n  #hideAdamSponsor = this.featuresService.isEnabled[FeatureNames.NoSponsoredByToSic];\r\n  adamSponsorI18nKey = computed(() => this.#hideAdamSponsor()\r\n    ? 'Fields.Hyperlink.AdamFileManager.Name'\r\n    : 'Fields.Hyperlink.Default.Sponsor'\r\n  );\r\n\r\n  calculateBottomPixels() {\r\n    return window.innerWidth > 600 ? '100px' : '50px';\r\n  }\r\n\r\n  closeDialog() {\r\n    this.#editRoutingService.expand(false, this.config.index, this.config.entityGuid);\r\n  }\r\n\r\n  saveAll(close: boolean) {\r\n    this.formsStateService.triggerSave(close);\r\n  }\r\n}\r\n","<div [ngClass]=\"open() ? 'c-ew__container' : 'u-display-none'\">\r\n  <div #backdrop class=\"c-ew__backdrop\" (click)=\"closeDialog()\"></div>\r\n  <div #dialog class=\"c-ew__dialog mat-elevation-z24 u-border-radius\">\r\n    <div [ngClass]=\"{ 'c-ew__dialog-header mat-elevation-z2': open() }\">\r\n      <mat-card appearance=\"raised\" class=\"mat-elevation-z0\">\r\n        <button mat-icon-button class=\"back-arrow\" tippyTranslate=\"Form.Buttons.Return.Tip\" (click)=\"closeDialog()\">\r\n          <mat-icon>arrow_back</mat-icon>\r\n        </button>\r\n        <span class=\"title mat-headline-4\">{{ basics().label }}</span>\r\n      </mat-card>\r\n    </div>\r\n    <div>\r\n      <div [@itemShrinkAnimation]=\"open() ? 'closed' : 'open'\"></div>\r\n      <div\r\n        [class]=\"\r\n          'c-ew__dialog-content u-border-radius-bottom u-add-scrollbar u-hide-scrollbar' +\r\n          (applyEmptyClass() ? ' c-ew__dialog-content--empty' : '')\r\n        \"\r\n        [@contentExpandAnimation]=\"{\r\n          value: open() ? 'expanded' : 'closed',\r\n          params: { bottomPixels: calculateBottomPixels() },\r\n        }\"\r\n      >\r\n        <!-- This is where the content comes from the parent / calling HTML -->\r\n        <ng-content></ng-content>\r\n\r\n        <extended-fab-speed-dial class=\"adam\">\r\n          <ng-template extendedFabSpeedDialTriggerContent>\r\n            <button extended-fab-speed-dial-trigger\r\n              matRipple\r\n              (click)=\"closeDialog()\"\r\n            >\r\n              <mat-icon>done</mat-icon>\r\n              <span>{{ 'Form.Buttons.Return.Tip' | translate }}</span>\r\n            </button>\r\n          </ng-template>\r\n          @if (enableSave) {\r\n            <ng-template extendedFabSpeedDialActionsContent>\r\n              <button\r\n                extended-fab-speed-dial-action\r\n                matRipple\r\n                [ngClass]=\"{ 'appear-disabled': saveDisabled() }\"\r\n                (click)=\"saveAll(false)\"\r\n              >\r\n                <span>{{ 'Form.Buttons.Save' | translate }}</span>\r\n                <mat-icon>save</mat-icon>\r\n              </button>\r\n              <button\r\n                extended-fab-speed-dial-action\r\n                matRipple\r\n                [ngClass]=\"{ 'appear-disabled': saveDisabled() }\"\r\n                (click)=\"saveAll(true)\"\r\n              >\r\n                <span>{{ 'Form.Buttons.SaveAndClose' | translate }}</span>\r\n                <mat-icon>done_all</mat-icon>\r\n              </button>\r\n            </ng-template>\r\n          }\r\n        </extended-fab-speed-dial>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from \"@angular/common\";\r\nimport { AfterViewInit, ChangeDetectorRef, Component, computed, ElementRef, inject, NgZone, OnDestroy, signal, ViewChild, ViewContainerRef } from \"@angular/core\";\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { vh } from '../../../../shared/helpers/viewport.helpers';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FormsStateService } from \"../../../form/forms-state.service\";\r\nimport { ConnectorHelper } from \"../../connector/connector.helper\";\r\nimport { FieldState } from \"../../field-state\";\r\nimport { FieldHelperTextComponent } from \"../../help-text/field-help-text\";\r\nimport { DialogPopupComponent } from \"../dialog-popup/dialog-popup\";\r\nimport { DropzoneDraggingHelper } from \"../dropzone-dragging.helper\";\r\nimport { WrappersCatalog } from \"../wrappers.constants\";\r\nimport { ContentExpandAnimation } from \"./content-expand.animation\";\r\nimport { PreviewHeight } from \"./expandable-wrapper.models\";\r\n\r\n@Component({\r\n    selector: WrappersCatalog.ExpandableWrapper,\r\n    templateUrl: './expandable-wrapper.html',\r\n    styleUrls: ['./expandable-wrapper.scss'],\r\n    animations: [ContentExpandAnimation],\r\n    imports: [\r\n        FieldHelperTextComponent,\r\n        DialogPopupComponent,\r\n        CommonModule,\r\n        DialogPopupComponent,\r\n        FieldHelperTextComponent\r\n    ]\r\n})\r\nexport class ExpandableWrapperComponent implements AfterViewInit, OnDestroy {\r\n  \r\n  log = classLog({ExpandableWrapperComponent});\r\n\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n\r\n  /** Child tag which will contain the inner html */\r\n  @ViewChild('previewContainer') private previewContainerRef: ElementRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  public config = this.fieldState.config;\r\n  protected basics = this.fieldState.basics;\r\n\r\n  protected settings = this.fieldState.settings;\r\n  protected ui = this.fieldState.ui;\r\n  protected uiValue = this.fieldState.uiValue;\r\n\r\n  focused = signal(false);\r\n\r\n  adamDisabled = this.config.adam.isDisabled;\r\n\r\n  previewHeight = computed(() => {\r\n    const settings = this.settings();\r\n    const previewHeight: PreviewHeight = {\r\n      minHeight: '36px',\r\n      maxHeight: '50vh',\r\n    };\r\n\r\n    if (this.config.inputTypeSpecs.inputType !== InputTypeCatalog.StringWysiwyg && settings.Dialog !== 'inline')\r\n      return previewHeight;\r\n\r\n    let rows = parseInt(settings.InlineInitialHeight, 10);\r\n    if (rows < 1)\r\n      rows = 1;\r\n\r\n    // header + rows\r\n    const maxHeightInPx = vh(50);\r\n    let minHeight = 40 + rows * 36;\r\n\r\n    if (minHeight > maxHeightInPx)\r\n      minHeight = maxHeightInPx;\r\n\r\n    previewHeight.minHeight = `${minHeight}px`;\r\n\r\n    return previewHeight;\r\n  })\r\n\r\n  private connectorCreator = transient(ConnectorHelper);\r\n  private dropzoneDraggingHelper: DropzoneDraggingHelper;\r\n\r\n  constructor(\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private zone: NgZone,\r\n    public formsStateService: FormsStateService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.config.focused$.subscribe(this.focused.set);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const l = this.log.fn('ngAfterViewInit');\r\n\r\n    const componentTagName = this.config.inputTypeSpecs.componentTagName;\r\n    l.a('ExpandableWrapper created for:', { componentTagName });\r\n    this.connectorCreator.init(\r\n      componentTagName,\r\n      this.previewContainerRef,\r\n      this.viewContainerRef,\r\n      this.changeDetectorRef,\r\n    );\r\n\r\n    this.dropzoneDraggingHelper = new DropzoneDraggingHelper(this.zone);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.log.fn('ngOnDestroy', null, 'destroying ExpandableWrapper');\r\n    this.dropzoneDraggingHelper.detach();\r\n  }\r\n}\r\n","<app-dialog-popup>\r\n  <ng-container #fieldComponent></ng-container>\r\n</app-dialog-popup>\r\n<div class=\"c-ew__preview-holder\">\r\n  <mat-label class=\"c-ew__preview-label\" [ngClass]=\"{\r\n      'mat-caption' : uiValue(),\r\n      'mat-empty' : !uiValue(),\r\n      'mat-error' : ui().invalid && (ui().touched || ui().dirty) && !ui().disabled,\r\n      'color__primary' : !(ui().touchedAndInvalid) && !ui().disabled,\r\n      'my-label-disabled' : ui().disabled,\r\n      'c-ew__preview-label--focused': focused()\r\n      }\">\r\n    {{basics().labelWithRequired}}\r\n  </mat-label>\r\n  <div class=\"c-ew__preview\" [ngClass]=\"{\r\n      'c-ew__preview--invalid' : ui().invalid && (ui().touched || ui().dirty),\r\n      'c-ew__preview--disabled': ui().disabled,\r\n      'c-ew__preview--focused': focused()\r\n      }\">\r\n    <div class=\"c-ew__preview-container\">\r\n      <div #previewContainer class=\"c-ew__preview-content u-hide-scrollbar\" [ngClass]=\"{\r\n          'c-ew__preview-content--disabled': ui().disabled\r\n          }\" [ngStyle]=\"{\r\n          'min-height': previewHeight().minHeight,\r\n          'max-height': previewHeight().maxHeight\r\n          }\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-field-helper-text></app-field-helper-text>\r\n</div>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, inject, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { FeatureIconComponent } from '../../../../features/feature-icon/feature-icon';\r\nimport { FeaturesService } from '../../../../features/features.service';\r\nimport { computedObj } from '../../../../shared/signals/signal.utilities';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\n\r\n@Component({\r\n    selector: WrappersCatalog.FeatureWarningWrapper,\r\n    templateUrl: './feature-warning-wrapper.html',\r\n    styleUrls: ['./feature-warning-wrapper.scss'],\r\n    imports: [\r\n        NgClass,\r\n        FeatureIconComponent,\r\n    ]\r\n})\r\nexport class FeatureWarningWrapperComponent {\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n\r\n  #fieldState = inject(FieldState);\r\n\r\n  #features = inject(FeaturesService);\r\n\r\n  constructor() { }\r\n\r\n  requiredFeatures = computedObj('requiredFeatures', () => {\r\n    const req = this.#fieldState.requiredFeatures();\r\n    if (req.length === 0) return req;\r\n    // Check if feature is allowed to be used - NOT if it's enabled\r\n    return req.filter(f => !this.#features.allowUse[f]());\r\n  });\r\n\r\n  protected basics = this.#fieldState.basics;\r\n}\r\n","<!-- <pre>Wrapper.FeatureWarning Start - rEQ1: '{{ requiredFeatures()[0] }}'</pre> -->\r\n<div [ngClass]=\"{ mark: requiredFeatures().length }\">\r\n  <ng-container #fieldComponent></ng-container>\r\n  <!-- 2dm: for now, don't show the required features on the field, as we have it in the entire form -->\r\n  @if (false && requiredFeatures().length > 0) {\r\n    <div class=\"feature-warning\">\r\n      This uses features which are not licensed:\r\n      @for (feature of requiredFeatures(); track feature) {\r\n        {{ feature }}\r\n        <app-feature-icon [featureNameId]=\"feature\"></app-feature-icon>\r\n      }\r\n    </div>\r\n  }\r\n</div>\r\n<!-- <pre>Wrapper.FeatureWarning End</pre> -->\r\n","import { EmptyDefault } from 'projects/edit-types/src/FieldSettings-EmptyDefault';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { InputTypeCatalog } from '../../../../shared/fields/input-type-catalog';\r\nimport { FieldLogicBase, FieldLogicUpdate } from '../../logic/field-logic-base';\r\n\r\nexport class EmptyDefaultLogic extends FieldLogicBase {\r\n  name = InputTypeCatalog.EmptyDefault;\r\n\r\n  constructor() { super({ EmptyDefaultLogic }); }\r\n\r\n  update({ settings }: FieldLogicUpdate): FieldSettings {\r\n    const fixedSettings = { ...settings } as FieldSettings & EmptyDefault;\r\n    fixedSettings.Visible ??= true;\r\n    fixedSettings.Collapsed ??= false;\r\n    fixedSettings.Notes ??= '';\r\n    return fixedSettings;\r\n  }\r\n}\r\n\r\nFieldLogicBase.add(EmptyDefaultLogic);\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, ViewChild, ViewContainerRef, inject } from '@angular/core';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { EmptyDefault } from 'projects/edit-types/src/FieldSettings-EmptyDefault';\r\nimport { FieldSettings } from '../../../../../../../edit-types/src/FieldSettings';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { SafeHtmlPipe } from '../../../../shared/pipes/safe-html.pipe';\r\nimport { FieldsSettingsService } from '../../../state/fields-settings.service';\r\nimport { ChangeAnchorTargetDirective } from '../../directives/change-anchor-target.directive';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\nimport { EmptyDefaultLogic } from './collapsible-wrapper-logic';\r\n\r\n\r\n@Component({\r\n    selector: WrappersCatalog.CollapsibleWrapper,\r\n    templateUrl: './collapsible-wrapper.html',\r\n    styleUrls: ['./collapsible-wrapper.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        NgClass,\r\n        MatIconModule,\r\n        ChangeAnchorTargetDirective,\r\n        SafeHtmlPipe,\r\n    ]\r\n})\r\nexport class CollapsibleWrapperComponent {\r\n\r\n  log = classLog({CollapsibleWrapperComponent});\r\n\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n\r\n  #fieldState = inject(FieldState);\r\n  protected config = this.#fieldState.config;\r\n  protected group = this.#fieldState.group;\r\n  protected basics = this.#fieldState.basics;\r\n\r\n  /** Collapsed state - will be updated in various scenarios */\r\n  collapsed= this.#fieldState.settingExt('Collapsed');\r\n\r\n  #fieldsSettingsSvc = inject(FieldsSettingsService);\r\n\r\n  constructor() {\r\n    EmptyDefaultLogic.importMe();\r\n  }\r\n\r\n  toggleCollapse(): void {\r\n    const before = this.collapsed();\r\n    this.log.a('toggleCollapse', { before })\r\n    this.#fieldsSettingsSvc.updateSetting<FieldSettings & EmptyDefault>(this.#fieldState.name, { Collapsed: !before }, \"CollapsibleWrapperComponent\");\r\n  }\r\n}\r\n","<mat-card appearance=\"raised\" class=\"eav-card-group-child shadow-bottom-z-1\" [ngClass]=\"{ 'force-hide': basics().visible === false }\">\r\n\r\n  <!-- The title bar with ^v buttons to toggle state -->\r\n  <div class=\"eav-card-header-group-child\" (click)=\"toggleCollapse()\">\r\n    <div class=\"my-title-bar eav-card-title-group mat-body-2\">\r\n      <mat-icon class=\"title-arrow\">{{ collapsed() ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}\r\n      </mat-icon>\r\n      <span class=\"title\">\r\n        {{ basics().label || config.fieldName }}\r\n      </span>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- The notes and all inner components -->\r\n  <mat-card-content class=\"eav-card-content-group-child\" [style.display]=\"collapsed() ? 'none' : 'block'\">\r\n    <div class=\"eav-layout-grid\">\r\n      <div class=\"eav-layout-grid__inner\">\r\n        <!-- Notes -->\r\n        @if (basics().notes; as note) {\r\n          <div class=\"eav-layout-grid__cell--span-12 mat-body-2\" align=\"start\">\r\n            <div class=\"description\" appChangeAnchorTarget [innerHtml]=\"note | safeHtml\"></div>\r\n          </div>\r\n        }\r\n        <!-- Components inside this -->\r\n        <div class=\"eav-layout-grid__cell--span-12\">\r\n          <ng-container #fieldComponent></ng-container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-card-content>\r\n</mat-card>","import { Component, inject, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\n\r\n@Component({\r\n    selector: WrappersCatalog.HiddenWrapper,\r\n    templateUrl: './hidden-wrapper.html',\r\n    imports: []\r\n})\r\nexport class HiddenWrapperComponent {\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  protected basics = this.fieldState.basics;\r\n\r\n  constructor() { }\r\n}\r\n","<!-- <pre>Wrapper.Hidden Start - VisibleAndEnabled: '{{ basics().visibleAndEnabled }}'</pre> -->\r\n<div [hidden]=\"!basics().visible\">\r\n  <ng-container #fieldComponent></ng-container>\r\n</div>\r\n<!-- <pre>Wrapper.Hidden End</pre> -->\r\n","import { CommonModule, NgClass, NgStyle } from \"@angular/common\";\r\nimport { AfterViewInit, ChangeDetectorRef, Component, computed, inject, NgZone, OnDestroy, ViewChild, ViewContainerRef } from \"@angular/core\";\r\nimport { MatButtonModule } from \"@angular/material/button\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\r\nimport { MatIconModule } from \"@angular/material/icon\";\r\nimport { MatInputModule } from \"@angular/material/input\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { FeatureIconTextComponent } from '../../../../features/feature-icon-text/feature-icon-text';\r\nimport { FeatureNames } from '../../../../features/feature-names';\r\nimport { FeaturesService } from '../../../../features/features.service';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { SignalEquals } from '../../../../shared/signals/signal-equals';\r\nimport { FormConfigService } from \"../../../form/form-config.service\";\r\nimport { FormsStateService } from \"../../../form/forms-state.service\";\r\nimport { EditRoutingService } from \"../../../routing/edit-routing.service\";\r\nimport { LinkCacheService } from \"../../../shared/adam/link-cache.service\";\r\nimport { HyperlinkDefaultBaseComponent } from \"../../basic/hyperlink-default/hyperlink-default-base\";\r\nimport { PasteClipboardImageDirective } from \"../../directives/paste-clipboard-image.directive\";\r\nimport { FieldState } from \"../../field-state\";\r\nimport { FieldHelperTextComponent } from \"../../help-text/field-help-text\";\r\nimport { DialogPopupComponent } from \"../dialog-popup/dialog-popup\";\r\nimport { DropzoneDraggingHelper } from \"../dropzone-dragging.helper\";\r\nimport { ContentExpandAnimation } from \"../expand-dialog/content-expand.animation\";\r\nimport { WrappersCatalog } from \"../wrappers.constants\";\r\n\r\n\r\n@Component({\r\n    selector: WrappersCatalog.HyperlinkDefaultExpandableWrapper,\r\n    templateUrl: './hyperlink-default-expandable-wrapper.html',\r\n    styleUrls: ['./hyperlink-default-expandable-wrapper.scss'],\r\n    animations: [ContentExpandAnimation],\r\n    imports: [\r\n        NgClass,\r\n        MatIconModule,\r\n        NgStyle,\r\n        TranslateModule,\r\n        TippyDirective,\r\n        DialogPopupComponent,\r\n        FieldHelperTextComponent,\r\n        FeatureIconTextComponent,\r\n        PasteClipboardImageDirective,\r\n        CommonModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n    ]\r\n})\r\n// tslint:disable-next-line:max-line-length\r\nexport class HyperlinkDefaultExpandableWrapperComponent extends HyperlinkDefaultBaseComponent implements AfterViewInit, OnDestroy {\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  public config = this.fieldState.config;\r\n  protected basics = this.fieldState.basics;\r\n\r\n  protected buttonAdam = computed(() => this.fieldState.settings().Buttons.includes('adam'), SignalEquals.bool);\r\n  protected buttonPage = computed(() => this.fieldState.settings().Buttons.includes('page'), SignalEquals.bool);\r\n  protected enableImageConfiguration= this.fieldState.settingExt('EnableImageConfiguration');\r\n\r\n  private dropzoneDraggingHelper: DropzoneDraggingHelper;\r\n  private editRoutingService: EditRoutingService;\r\n\r\n  constructor(\r\n    eavService: FormConfigService,\r\n    matDialog: MatDialog,\r\n    viewContainerRef: ViewContainerRef,\r\n    changeDetectorRef: ChangeDetectorRef,\r\n    linkCacheService: LinkCacheService,\r\n    editRoutingService: EditRoutingService,\r\n    private zone: NgZone,\r\n    public formsStateService: FormsStateService,\r\n    private featuresService: FeaturesService,\r\n  ) {\r\n    super(\r\n      eavService,\r\n      matDialog,\r\n      viewContainerRef,\r\n      changeDetectorRef,\r\n      linkCacheService,\r\n      formsStateService,\r\n    );\r\n    this.editRoutingService = editRoutingService;\r\n  }\r\n\r\n  #hideAdamSponsor = this.featuresService.isEnabled[FeatureNames.NoSponsoredByToSic];\r\n  adamSponsorI18nKey = computed(() => this.#hideAdamSponsor()\r\n    ? 'Fields.Hyperlink.AdamFileManager.Name'\r\n    : 'Fields.Hyperlink.Default.Sponsor'\r\n  );\r\n\r\n  ngAfterViewInit() {\r\n    this.dropzoneDraggingHelper = new DropzoneDraggingHelper(this.zone);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.dropzoneDraggingHelper.detach();\r\n  }\r\n\r\n  markAsTouched() {\r\n    this.fieldState.ui().markTouched();\r\n  }\r\n\r\n  setValue(event: Event) {\r\n    const newValue = (event.target as HTMLInputElement).value;\r\n    this.fieldState.ui().setIfChanged(newValue);\r\n  }\r\n\r\n  expandDialog() {\r\n    if (this.fieldState.ui().disabled) return;\r\n    this.editRoutingService.expand(true, this.config.index, this.config.entityGuid);\r\n  }\r\n}\r\n","<app-dialog-popup>\r\n  <ng-container #fieldComponent></ng-container>\r\n</app-dialog-popup>\r\n\r\n<!-- preview -->\r\n@if (preview(); as preV) {\r\n  <div class=\"c-hyperlink-default-field-preview\">\r\n    <div\r\n      class=\"c-ew__preview c-ew__preview--hyperlink\"\r\n      [ngClass]=\"{\r\n        'c-ew__preview--disabled': ui().disabled,\r\n        'c-ew__preview--last-in-group': config.isLastInGroup,\r\n      }\"\r\n    >\r\n      <!-- image / icon -->\r\n      <div\r\n        class=\"thumbnail-before-input\"\r\n        tippyTranslate=\"Fields.Hyperlink.Default.Fullscreen\"\r\n        [tippyDisabled]=\"ui().disabled\"\r\n        [ngClass]=\"{\r\n          'icon-before-input': uiValue() && !preV.isImage,\r\n          'thumbnail-before-input--disabled': ui().disabled,\r\n        }\"\r\n        [ngStyle]=\"{ 'background-image': uiValue() && preV.isImage ? preV.thumbnailUrl : '' }\"\r\n        (click)=\"expandDialog()\"\r\n      >\r\n        @if (uiValue() && !preV.isImage) {\r\n          <mat-icon [tippy]=\"preV.url\" tippyPlacement=\"right\" [svgIcon]=\"preV.icon\"></mat-icon>\r\n        }\r\n      </div>\r\n      <!-- field -->\r\n      <div class=\"c-ew__preview-field--short\">\r\n        <!-- input -->\r\n        <div class=\"hyperlink-input-link-wrapper\">\r\n          <mat-form-field\r\n            color=\"accent\"\r\n            class=\"eav-mat-form-field\"\r\n            [ngClass]=\"{\r\n              'mat-form-field-invalid': ui().touchedAndInvalid,\r\n            }\"\r\n          >\r\n            <input\r\n              matInput\r\n              class=\"eav-translate-on-dblclick\"\r\n              tippyTranslate=\"Fields.Hyperlink.Default.Tooltip\"\r\n              tippyPlacement=\"top\"\r\n              [placeholder]=\"basics().placeholder\"\r\n              (change)=\"setValue($event)\"\r\n              [disabled]=\"ui().disabled\"\r\n              (blur)=\"markAsTouched()\"\r\n              [value]=\"uiValue()\"\r\n              (keyup)=\"setValue($event)\"\r\n              appPasteClipboardImage\r\n              [config]=\"config\"\r\n              [elementType]=\"'input'\"\r\n            />\r\n            @if (buttonAdam() || buttonPage()) {\r\n              <div matTextSuffix class=\"c-ew__preview-suffix\">\r\n                <div\r\n                  class=\"c-ew__preview-suffix-text\"\r\n                  fxHide\r\n                  fxShow.gt-xs\r\n                  [ngClass]=\"{\r\n                    'c-ew__preview-suffix-text--disabled': ui().disabled,\r\n                  }\"\r\n                >\r\n                  {{ buttonAdam() ? ('Fields.Hyperlink.AdamFileManager.Hint' | translate) : '' }}\r\n                </div>\r\n                <!-- Open Dialog -->\r\n                @if (buttonAdam()) {\r\n                  <button\r\n                    mat-icon-button\r\n                    class=\"c-ew__preview-suffix-icon\"\r\n                    tippyTranslate=\"Fields.Hyperlink.Default.Fullscreen\"\r\n                    appClickStopPropagation\r\n                    [disabled]=\"ui().disabled\"\r\n                    (click)=\"expandDialog()\"\r\n                  >\r\n                    <mat-icon svgIcon=\"apple-outlined\"></mat-icon>\r\n                  </button>\r\n                }\r\n                <button\r\n                  mat-icon-button\r\n                  class=\"c-ew__preview-suffix-icon\"\r\n                  appClickStopPropagation\r\n                  [disabled]=\"!adamItem()?._imageConfigurationContentType\"\r\n                  [ngClass]=\"{ 'metadata-exists': adamItem()?._imageConfigurationId > 0 }\"\r\n                  tippyTranslate=\"Fields.Hyperlink.AdamFileManager.ImageSettings\"\r\n                  (click)=\"openImageConfiguration(adamItem())\"\r\n                >\r\n                  <mat-icon\r\n                    [tippyTranslate]=\"\r\n                      enableImageConfiguration()\r\n                        ? 'Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable'\r\n                        : 'Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled'\r\n                    \"\r\n                    [tippyDisabled]=\"adamItem()?._imageConfigurationContentType\"\r\n                    >filter_center_focus</mat-icon\r\n                  >\r\n                </button>\r\n                @if (buttonPage()) {\r\n                  <button\r\n                    mat-icon-button\r\n                    class=\"c-ew__preview-suffix-icon\"\r\n                    tippyTranslate=\"Fields.Hyperlink.Default.PageTip\"\r\n                    appClickStopPropagation\r\n                    [disabled]=\"ui().disabled\"\r\n                    (click)=\"openPagePicker()\"\r\n                  >\r\n                    <mat-icon svgIcon=\"sitemap\"></mat-icon>\r\n                  </button>\r\n                }\r\n              </div>\r\n            }\r\n            <mat-label [ngClass]=\"{ 'mat-error': ui().touchedAndInvalid }\">\r\n              {{ basics().labelWithRequired }}\r\n            </mat-label>\r\n          </mat-form-field>\r\n          <!-- link absolutely positioned above input -->\r\n          @if (preV.floatingText) {\r\n            <div class=\"hyperlink-floating\" fxHide fxShow.gt-xs>\r\n              <div class=\"hyperlink-floating__value\">{{ uiValue() }}</div>\r\n              <div class=\"hyperlink-floating__url-box\">\r\n                <a [href]=\"preV.url\" target=\"_blank\" tabindex=\"-1\" class=\"hyperlink-floating__url\" [tippy]=\"preV.url\">\r\n                  <span>{{ preV.floatingText }}</span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          }\r\n        </div>\r\n        <!-- helper text and adam text -->\r\n        <div class=\"c__helper-wrapper\">\r\n          <app-field-helper-text class=\"c__helper-wrapper--left\" [hyperlinkDefaultWrapperFix]=\"true\"> </app-field-helper-text>\r\n          @if (buttonAdam()) {\r\n            <div class=\"c-ew__preview-field-hint c__helper-wrapper--right\">\r\n              <span>{{ adamSponsorI18nKey() | translate }}</span>\r\n              <app-feature-icon-text [featureNameId]=\"'NoSponsoredByToSic'\"></app-feature-icon-text>\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n","import { CommonModule } from \"@angular/common\";\r\nimport { AfterViewInit, Component, computed, inject, NgZone, OnDestroy, ViewChild, ViewContainerRef } from \"@angular/core\";\r\nimport { MatRippleModule } from \"@angular/material/core\";\r\nimport { MatIconModule } from \"@angular/material/icon\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { AdamItem } from '../../../../../../../edit-types/src/AdamItem';\r\nimport { FeatureIconTextComponent } from \"../../../../features/feature-icon-text/feature-icon-text\";\r\nimport { FeatureNames } from '../../../../features/feature-names';\r\nimport { FeaturesService } from '../../../../features/features.service';\r\nimport { SignalEquals } from '../../../../shared/signals/signal-equals';\r\nimport { FormsStateService } from \"../../../form/forms-state.service\";\r\nimport { EditRoutingService } from \"../../../routing/edit-routing.service\";\r\nimport { FieldState } from \"../../field-state\";\r\nimport { FieldHelperTextComponent } from \"../../help-text/field-help-text\";\r\nimport { DialogPopupComponent } from \"../dialog-popup/dialog-popup\";\r\nimport { DropzoneDraggingHelper } from \"../dropzone-dragging.helper\";\r\nimport { ContentExpandAnimation } from \"../expand-dialog/content-expand.animation\";\r\nimport { WrappersCatalog } from \"../wrappers.constants\";\r\n\r\n@Component({\r\n    selector: WrappersCatalog.HyperlinkLibraryExpandableWrapper,\r\n    templateUrl: './hyperlink-library-expandable-wrapper.html',\r\n    styleUrls: ['./hyperlink-library-expandable-wrapper.scss'],\r\n    animations: [ContentExpandAnimation],\r\n    imports: [\r\n        DialogPopupComponent,\r\n        MatIconModule,\r\n        MatRippleModule,\r\n        FieldHelperTextComponent,\r\n        FeatureIconTextComponent,\r\n        TranslateModule,\r\n        CommonModule,\r\n    ]\r\n})\r\n// tslint:disable-next-line:max-line-length\r\nexport class HyperlinkLibraryExpandableWrapperComponent implements AfterViewInit, OnDestroy {\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  protected config = this.fieldState.config;\r\n  protected basics = this.fieldState.basics;\r\n\r\n  protected ui = this.fieldState.ui;\r\n  protected uiValue = this.fieldState.uiValue;\r\n\r\n  protected items = computed(() => this.config.adam.items().slice(0, 9));\r\n  protected itemsNumber = computed(() => this.config.adam.items().length, SignalEquals.number);\r\n\r\n  #hideAdamSponsor = this.featuresService.isEnabled[FeatureNames.NoSponsoredByToSic];\r\n  adamSponsorI18nKey = computed(() => this.#hideAdamSponsor()\r\n    ? 'Fields.Hyperlink.AdamFileManager.Name'\r\n    : 'Fields.Hyperlink.Default.Sponsor'\r\n  );\r\n\r\n  private dropzoneDraggingHelper: DropzoneDraggingHelper;\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n    private editRoutingService: EditRoutingService,\r\n    public formsStateService: FormsStateService,\r\n    private featuresService: FeaturesService,\r\n  ) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.dropzoneDraggingHelper = new DropzoneDraggingHelper(this.zone);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.dropzoneDraggingHelper.detach();\r\n  }\r\n\r\n  trackByFn(index: number, item: AdamItem) {\r\n    return item.Id;\r\n  }\r\n\r\n  expandDialog() {\r\n    if (this.config.initialDisabled) return;\r\n    this.editRoutingService.expand(true, this.config.index, this.config.entityGuid);\r\n  }\r\n}","<app-dialog-popup [applyEmptyClass]=\"true\">\r\n  <ng-container #fieldComponent></ng-container>\r\n</app-dialog-popup>\r\n\r\n<!-- preview -->\r\n<div class=\"c-ew__preview-holder\">\r\n  <mat-label\r\n    class=\"c-ew__preview-label c-ew__color--primary\"\r\n    [ngClass]=\"{\r\n      'mat-caption': itemsNumber() > 0,\r\n      'mat-empty': itemsNumber() === 0,\r\n      'mat-error': ui().invalid && !config.initialDisabled,\r\n      color__primary: !ui().invalid && !config.initialDisabled,\r\n      'my-label-disabled': config.initialDisabled,\r\n    }\"\r\n  >\r\n    {{ basics().labelWithRequired }}\r\n  </mat-label>\r\n  <div\r\n    matRipple\r\n    class=\"c-ew__preview mat-ripple\"\r\n    [matRippleAnimation]=\"{ enterDuration: 360 }\"\r\n    (click)=\"expandDialog()\"\r\n    [ngClass]=\"{\r\n      'c-ew__preview--invalid': ui().invalid,\r\n      'c-ew__preview--disabled': config.initialDisabled,\r\n    }\"\r\n  >\r\n    <div [ngClass]=\"uiValue() ? 'c-ew__preview-container' : 'c-ew__preview-container--empty'\">\r\n      <div class=\"c-ew__preview-content\">\r\n        @for (item of items(); track trackByFn($index, item)) {\r\n          <!-- folders -->\r\n          @if (item.IsFolder) {\r\n            <div>\r\n              <div class=\"adam-browse-background-icon\">\r\n                <mat-icon svgIcon=\"folder\"></mat-icon>\r\n                <div class=\"adam-short-label mat-caption\">{{ item.Name }}</div>\r\n              </div>\r\n            </div>\r\n          }\r\n          <!-- files -->\r\n          @if (!item.IsFolder) {\r\n            <div>\r\n              @if (item.Type !== \"image\") {\r\n                <div class=\"adam-browse-background-icon\">\r\n                  @if (item._isMaterialIcon) {\r\n                    <mat-icon>{{ item._icon }}</mat-icon>\r\n                  }\r\n                  @if (!item._isMaterialIcon) {\r\n                    <mat-icon>{{ item._icon }}</mat-icon>\r\n                  }\r\n                  <div class=\"adam-short-label mat-caption\">{{ item.Name }}</div>\r\n                </div>\r\n              }\r\n              @if (item.Type === \"image\") {\r\n                <div class=\"adam-browse-background-image\">\r\n                  <img vm-dz-thumbnail=\"\" alt=\"{{ item.Id }}:{{ item.Name }}\" [src]=\"item.ThumbnailUrl\" />\r\n                </div>\r\n              }\r\n            </div>\r\n          }\r\n        }\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- hints -->\r\n  <div class=\"mat-caption c-ew__preview-hint\">\r\n    <div class=\"c__helper-wrapper--left\">\r\n      <app-field-helper-text></app-field-helper-text>\r\n    </div>\r\n    <div class=\"c__helper-wrapper--right c-ew__preview-hint-text\" fxHide fxShow.gt-xs>\r\n      <span>{{ adamSponsorI18nKey() | translate }} </span>\r\n      <app-feature-icon-text [featureNameId]=\"'NoSponsoredByToSic'\"></app-feature-icon-text>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { FeatureComponentBase } from '../shared/base-feature';\r\n\r\n@Component({\r\n    selector: 'app-feature-icon-indicator',\r\n    templateUrl: './feature-icon-indicator.html',\r\n    imports: [\r\n        MatIconModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class FeatureIconIndicatorComponent extends FeatureComponentBase { }\r\n","@if (show()) {\r\n  <mat-icon tippyTranslate=\"Features.NotActivated\" [tippyData]=\"{ name: featureNameId() }\">diamond</mat-icon>\r\n}","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@Component({\r\n    selector: 'app-auto-translate-disabled-warning-dialog',\r\n    templateUrl: './auto-translate-disabled-warning-dialog.html',\r\n    imports: [\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        TranslateModule,\r\n    ]\r\n})\r\nexport class AutoTranslateDisabledWarningDialog implements OnInit {\r\n  constructor(\r\n    private dialog: MatDialogRef<AutoTranslateDisabledWarningDialog>,\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: any,\r\n  ) { }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n}","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>\r\n      {{ 'LangMenu.Dialog.CantAutoTranslate' | translate }}\r\n    </mat-card-title>\r\n    @if (dialogData.isAutoTranslateAll) {\r\n      <mat-card-subtitle>\r\n        {{'LangMenu.Dialog.NoAutoTranslatableFields' | translate }}\r\n      </mat-card-subtitle>\r\n    }\r\n    @if (!dialogData.isAutoTranslateAll) {\r\n      <mat-card-subtitle>\r\n        {{'LangMenu.Dialog.ThisFieldIsNotAutoTranslatable' | translate }}\r\n      </mat-card-subtitle>\r\n    }\r\n  </mat-card-header>\r\n  <mat-card-actions align=\"end\">\r\n    <button mat-button color=\"accent\" (click)=\"closeDialog()\">{{'Features.Close' | translate }}</button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","export const I18nKeys = {\r\n  NoTranslate: 'NoTranslate',\r\n  FromPrimary: 'FromPrimary',\r\n  FromOther: 'FromOther',\r\n  LinkReadOnly: 'LinkReadOnly',\r\n  LinkShared: 'LinkShared',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n","import { Of } from '../../../../../../../../core';\r\nimport { FormLanguage, Language } from '../../../../form/form-languages.model';\r\nimport { FieldReader } from '../../../../localization/field-reader';\r\nimport { TranslationLinks } from '../../../../localization/translation-link.constants';\r\nimport { EavEntityAttributes } from '../../../../shared/models/eav';\r\nimport { I18nKeys } from './translate-menu-dialog.constants';\r\nimport { TranslateMenuDialogTemplateLanguage } from './translate-menu-dialog.models';\r\n\r\nexport function getTemplateLanguages(\r\n  config: { fieldName: string }, // FieldConfigSet,\r\n  language: FormLanguage,\r\n  languages: Language[],\r\n  attributes: EavEntityAttributes,\r\n  linkType: Of<typeof TranslationLinks>,\r\n): TranslateMenuDialogTemplateLanguage[] {\r\n  const templateLanguages = languages\r\n    .filter(lang => lang.NameId !== language.current)\r\n    .map(lang => {\r\n      const values = attributes[config.fieldName];\r\n      const disabled = (linkType === TranslationLinks.LinkReadWrite && !lang.IsAllowed)\r\n        || !new FieldReader(values, FormLanguage.diffCurrent(language, lang.NameId)).hasEditableValues;\r\n      const templateLanguage: TranslateMenuDialogTemplateLanguage = {\r\n        key: lang.NameId,\r\n        disabled,\r\n      };\r\n      return templateLanguage;\r\n    });\r\n  return templateLanguages;\r\n}\r\n\r\nexport function getTemplateLanguagesWithContent(\r\n  language: FormLanguage,\r\n  languages: Language[],\r\n  attributes: EavEntityAttributes,\r\n  linkType: Of<typeof TranslationLinks>,\r\n  translatableFields?: string[],\r\n): TranslateMenuDialogTemplateLanguage[] {\r\n  const templateLanguages = languages\r\n    .filter(lang => lang.NameId !== language.current)\r\n    .map(lang => {\r\n      let countTranslatableFields: number = 0;\r\n      let countTranslatableFieldsWithContent: number = 0;\r\n      let isDisabled: boolean = false;\r\n      const langDefToUse = FormLanguage.diffCurrent(language, lang.NameId);\r\n      translatableFields.forEach(field => {\r\n        const values = attributes[field];\r\n        const fieldReader = new FieldReader(values, langDefToUse);\r\n        countTranslatableFields += fieldReader.countEditable(); // LocalizationHelpers.countEditableValues(values, langDefToUse);\r\n        countTranslatableFieldsWithContent += fieldReader.countEditableWithContents(); // LocalizationHelpers.countEditableValuesWithContent(values, langDefToUse);\r\n        isDisabled = (linkType === TranslationLinks.LinkReadWrite && !lang.IsAllowed)\r\n          || countTranslatableFields == 0;\r\n      });\r\n      const templateLanguage: TranslateMenuDialogTemplateLanguage = {\r\n        key: lang.NameId,\r\n        disabled: isDisabled,\r\n        noTranslatableFields: countTranslatableFields,\r\n        noTranslatableFieldsThatHaveContent: countTranslatableFieldsWithContent,\r\n      };\r\n      return templateLanguage;\r\n    });\r\n  return templateLanguages;\r\n}\r\n\r\nexport function findI18nKey(translationLink: Of<typeof TranslationLinks>): Of<typeof I18nKeys> {\r\n  switch (translationLink) {\r\n    case TranslationLinks.Translate:\r\n      return I18nKeys.FromPrimary;\r\n    case TranslationLinks.DontTranslate:\r\n      return I18nKeys.NoTranslate;\r\n    case TranslationLinks.LinkReadOnly:\r\n      return I18nKeys.LinkReadOnly;\r\n    case TranslationLinks.LinkReadWrite:\r\n      return I18nKeys.LinkShared;\r\n    case TranslationLinks.LinkCopyFrom:\r\n      return I18nKeys.FromOther;\r\n  }\r\n}\r\n","import { Component, inject, Inject, signal } from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Of } from '../../../../../core';\r\nimport { I18nKeys } from '../../edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.constants';\r\nimport { findI18nKey } from '../../edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.helpers';\r\nimport { TranslateMenuDialogData } from '../../edit/fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.models';\r\nimport { FormConfigService } from '../../edit/form/form-config.service';\r\nimport { LanguageService } from '../../edit/localization/language.service';\r\nimport { TranslationStateCore } from '../../edit/localization/translate-state.model';\r\nimport { TranslationLinks } from '../../edit/localization/translation-link.constants';\r\nimport { ItemService } from '../../edit/state/item.service';\r\nimport { computedObj } from '../signals/signal.utilities';\r\n\r\ninterface TranslationInfo {\r\n  showLanguageSelection: boolean;\r\n  i18nRoot: string;\r\n  submitDisabled: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-translate-helper-base',\r\n  template: '',\r\n})\r\nexport abstract class TranslateHelperComponent {\r\n\r\n  #languageService = inject(LanguageService);\r\n  #itemService = inject(ItemService);\r\n  public formConfig = inject(FormConfigService);\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public dialogData: TranslateMenuDialogData) {}\r\n\r\n  TranslationLinks = TranslationLinks;\r\n  I18nKeys = I18nKeys;\r\n\r\n  public noLanguageRequired: Of<typeof TranslationLinks>[];\r\n\r\n  protected language = this.formConfig.language;\r\n  public translationStateSignal = signal<TranslationStateCore>(this.dialogData.translationState);\r\n\r\n  protected translationInfo = computedObj<TranslationInfo>('translationInfo', () => {\r\n    const translationState = this.translationStateSignal();\r\n    this.noLanguageRequired = [TranslationLinks.Translate, TranslationLinks.DontTranslate];\r\n    return {\r\n      showLanguageSelection: !this.noLanguageRequired.includes(translationState.linkType),\r\n      i18nRoot: `LangMenu.Dialog.${findI18nKey(translationState.linkType)}`,\r\n      submitDisabled: translationState.language === '' && !this.noLanguageRequired.includes(translationState.linkType),\r\n    };\r\n  });\r\n\r\n  protected languages = this.#languageService.getAllSignal();\r\n  protected itemAttributes = this.#itemService.itemAttributesSignal(this.dialogData.config.entityGuid);\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SafeHtmlPipe } from '../../../shared/pipes/safe-html.pipe';\r\n\r\n@Component({\r\n    selector: 'app-snack-bar-warning-demo',\r\n    templateUrl: './snack-bar-warning-demo.html',\r\n    styleUrls: ['./snack-bar-warning-demo.scss'],\r\n    imports: [\r\n        TranslateModule,\r\n        SafeHtmlPipe,\r\n    ]\r\n})\r\nexport class SnackBarWarningDemoComponent {\r\n  constructor() { }\r\n}\r\n","<h3 [innerHTML]=\"'LangMenu.SnackBar.Title' | translate | safeHtml\"></h3>\r\n<p [innerHTML]=\"'LangMenu.SnackBar.Body' | translate | safeHtml\" class=\"snack-bar-warning-demo-white-hyperlink\"></p>","import { NgClass } from '@angular/common';\r\nimport { Component, Inject, OnInit, computed, inject } from '@angular/core';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FeatureNames } from '../../../features/feature-names';\r\nimport { FeatureTextInfoComponent } from '../../../features/feature-text-info/feature-text-info';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { TranslateHelperComponent } from '../../../shared/components/translate-helper';\r\nimport { EditApiKeyPaths } from '../../../shared/constants/eav.constants';\r\nimport { ApiKeySpecs } from '../../../shared/models/dialog-context.models';\r\nimport { SafeHtmlPipe } from '../../../shared/pipes/safe-html.pipe';\r\nimport { isCtrlS } from '../../dialog/main/keyboard-shortcuts';\r\nimport { getTemplateLanguages, getTemplateLanguagesWithContent } from '../../fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.helpers';\r\nimport { TranslateMenuDialogData } from '../../fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.models';\r\nimport { FieldsTranslateService } from '../../state/fields-translate.service';\r\nimport { SnackBarWarningDemoComponent } from '../snack-bar-warning-demo/snack-bar-warning-demo';\r\nimport { TranslationStateCore } from '../translate-state.model';\r\n\r\n@Component({\r\n  selector: 'app-auto-translate-menu-dialog',\r\n  templateUrl: './auto-translate-menu-dialog.html',\r\n  styleUrls: ['./auto-translate-menu-dialog.scss'],\r\n  imports: [\r\n    MatCardModule,\r\n    FeatureTextInfoComponent,\r\n    MatListModule,\r\n    NgClass,\r\n    MatIconModule,\r\n    TranslateModule,\r\n    SafeHtmlPipe,\r\n  ]\r\n})\r\nexport class AutoTranslateMenuDialogComponent extends TranslateHelperComponent implements OnInit {\r\n\r\n  public features = inject(FeaturesService);\r\n  public isTranslateWithGoogleFeatureEnabled = this.features.isEnabled[FeatureNames.EditUiTranslateWithGoogle];\r\n  EditUiTranslateWithGoogle = FeatureNames.EditUiTranslateWithGoogle;\r\n\r\n  protected languagesSig = computed(() => {\r\n    const languages = this.languages();\r\n    const language = this.language();\r\n    const attributes = this.itemAttributes();\r\n    const translationState = this.translationStateSignal();\r\n\r\n    return this.dialogData.isTranslateMany\r\n      ? getTemplateLanguagesWithContent(language, languages, attributes, translationState.linkType, this.dialogData.translatableFields)\r\n      : getTemplateLanguages({ fieldName: this.dialogData.config.fieldName ?? '' }, language, languages, attributes, translationState.linkType);\r\n  });\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<AutoTranslateMenuDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: TranslateMenuDialogData,\r\n    private fieldsTranslateService: FieldsTranslateService,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n    super(dialogData);\r\n    this.dialog.keydownEvents().subscribe(event => {\r\n      if (isCtrlS(event))\r\n        event.preventDefault();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // If not enabled, ensure that after closed ...??? @STV\r\n    if (this.isTranslateWithGoogleFeatureEnabled())\r\n      this.dialog.afterClosed().subscribe(() => this.snackBar.dismiss());\r\n\r\n    // If the demo API key is being used, show snackbar warning\r\n    const apiKeyInfo = this.formConfig.settings.Values[EditApiKeyPaths.GoogleTranslate] as ApiKeySpecs;\r\n    if (apiKeyInfo.IsDemo)\r\n      this.snackBar.openFromComponent(SnackBarWarningDemoComponent);\r\n  }\r\n\r\n  setLanguage(language: string): void {\r\n    const newTranslationState: TranslationStateCore = { ...this.translationStateSignal(), language };\r\n    this.translationStateSignal.set(newTranslationState);\r\n\r\n    const oldState = this.dialogData.translationState;\r\n    const isEqual = oldState.language === newTranslationState.language;\r\n    if (isEqual) {\r\n      this.closeDialog();\r\n      return;\r\n    }\r\n\r\n    this.dialogData.isTranslateMany\r\n      ? this.fieldsTranslateService.autoTranslateMany(newTranslationState.language)\r\n      : this.fieldsTranslateService.autoTranslate([this.dialogData.config.fieldName], newTranslationState.language);\r\n\r\n    this.closeDialog();\r\n  }\r\n\r\n  private closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n}\r\n","<mat-card class=\"auto-translate-menu-dialog-card u-hide-scrollbar\">\r\n  <app-feature-text-info class=\"feature-info\" [featureNameId]=\"EditUiTranslateWithGoogle\"></app-feature-text-info>\r\n  <mat-card-header>\r\n    <mat-card-title>\r\n      {{ 'LangMenu.Dialog.AutoTranslateAll.Title' | translate }}\r\n    </mat-card-title>\r\n    <mat-card-subtitle [innerHTML]=\"'LangMenu.Dialog.AutoTranslateAll.Body' | translate | safeHtml\">\r\n    </mat-card-subtitle>\r\n  </mat-card-header>\r\n  <mat-card-content class=\"eav-card-content__no-padding\">\r\n    <mat-action-list>\r\n      @for (language of languagesSig(); track language) {\r\n      <mat-list-item (click)=\"setLanguage(language.key)\"\r\n        [disabled]=\"language.disabled || !isTranslateWithGoogleFeatureEnabled()\" [ngClass]=\"{\r\n            'eav-list-item__focus': translationStateSignal().language === language.key,\r\n            'list-item__disabled': language.disabled || !isTranslateWithGoogleFeatureEnabled()\r\n            }\">\r\n        <mat-icon matListItemIcon [ngClass]=\"{ 'list-item-icon__disabled': language.disabled }\">language</mat-icon>\r\n        <span matListItemTitle>{{ language.key }}\r\n          @if (dialogData.isTranslateMany) {\r\n          <span>\r\n            @if (language.noTranslatableFields == 0) {\r\n            <span>({{\"LangMenu.Dialog.AutoTranslateAll.NoContent\" |\r\n              translate}})\r\n            </span>\r\n            }\r\n            @if (language.noTranslatableFields != 0) {\r\n            <span>\r\n              @if (language.noTranslatableFields == dialogData.translatableFields.length) {\r\n              <span>\r\n                @if (dialogData.translatableFields.length - language.noTranslatableFieldsThatHaveContent == 0) {\r\n                <span>({{\"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields\"\r\n                  | translate}})\r\n                </span>\r\n                }\r\n                @if (dialogData.translatableFields.length - language.noTranslatableFieldsThatHaveContent != 0) {\r\n                <span>({{\"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields\"\r\n                  | translate}},\r\n                  {{dialogData.translatableFields.length - language.noTranslatableFieldsThatHaveContent}}\r\n                  {{\"LangMenu.Dialog.AutoTranslateAll.Empty\" | translate}})\r\n                </span>\r\n                }\r\n              </span>\r\n              }\r\n              @if (language.noTranslatableFields != dialogData.translatableFields.length) {\r\n              <span>\r\n                @if (dialogData.translatableFields.length - language.noTranslatableFieldsThatHaveContent == 0) {\r\n                <span>({{language.noTranslatableFields}}\r\n                  {{\"LangMenu.Dialog.AutoTranslateAll.Of\" | translate}}\r\n                  {{dialogData.translatableFields.length}} {{\"LangMenu.Dialog.AutoTranslateAll.TranslatableFields\" |\r\n                  translate}})\r\n                </span>\r\n                }\r\n                @if (dialogData.translatableFields.length - language.noTranslatableFieldsThatHaveContent != 0) {\r\n                <span>({{language.noTranslatableFields}}\r\n                  {{\"LangMenu.Dialog.AutoTranslateAll.Of\" | translate}}\r\n                  {{dialogData.translatableFields.length}} {{\"LangMenu.Dialog.AutoTranslateAll.TranslatableFields\" |\r\n                  translate}}\r\n                  , {{dialogData.translatableFields.length - language.noTranslatableFieldsThatHaveContent}}\r\n                  {{\"LangMenu.Dialog.AutoTranslateAll.Empty\" | translate}})\r\n                </span>\r\n                }\r\n              </span>\r\n              }\r\n            </span>\r\n            }\r\n          </span>\r\n          }\r\n        </span>\r\n      </mat-list-item>\r\n      }\r\n    </mat-action-list>\r\n  </mat-card-content>\r\n</mat-card>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, computed, Inject } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { Of } from '../../../../../../../../core';\r\nimport { TranslateHelperComponent } from '../../../../../shared/components/translate-helper';\r\nimport { isCtrlS } from '../../../../dialog/main/keyboard-shortcuts';\r\nimport { TranslationStateCore } from '../../../../localization/translate-state.model';\r\nimport { TranslationLinks } from '../../../../localization/translation-link.constants';\r\nimport { FieldsTranslateService } from '../../../../state/fields-translate.service';\r\nimport { getTemplateLanguages } from './translate-menu-dialog.helpers';\r\nimport { TranslateMenuDialogData } from './translate-menu-dialog.models';\r\n\r\n@Component({\r\n  selector: 'app-translate-menu-dialog',\r\n  templateUrl: './translate-menu-dialog.html',\r\n  styleUrls: ['./translate-menu-dialog.scss'],\r\n  imports: [\r\n    MatCardModule,\r\n    MatListModule,\r\n    NgClass,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    TranslateModule,\r\n  ]\r\n})\r\nexport class TranslateMenuDialogComponent extends TranslateHelperComponent {\r\n\r\n  protected languagesSig = computed(() => {\r\n    const languages = this.languages();\r\n    const language = this.language();\r\n    const attributes = this.itemAttributes();\r\n    const translationState = this.translationStateSignal();\r\n\r\n    const fieldName = this.dialogData.isTranslateMany\r\n      ? this.dialogData.translatableFields?.[0] ?? ''\r\n      : this.dialogData.config.fieldName ?? '';\r\n\r\n    return getTemplateLanguages({ fieldName }, language, languages, attributes, translationState.linkType);\r\n  });\r\n  \r\n  public isPrimaryLang = computed(() => this.language().current === this.language().primary);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<TranslateMenuDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: TranslateMenuDialogData,\r\n    public fieldsTranslateService: FieldsTranslateService,\r\n  ) {\r\n    super(dialogData); //\r\n    this.dialog.keydownEvents().subscribe(event => {\r\n      if (isCtrlS(event))\r\n        event.preventDefault();\r\n    });\r\n  }\r\n\r\n  setLinkType(linkType: Of<typeof TranslationLinks>): void {\r\n    const newTranslationState: TranslationStateCore = {\r\n      linkType,\r\n      language: this.noLanguageRequired.includes(linkType) ? '' : this.translationStateSignal().language,\r\n    };\r\n    this.translationStateSignal.set(newTranslationState);\r\n  }\r\n\r\n  setLanguage(language: string): void {\r\n    const newTranslationState: TranslationStateCore = { ...this.translationStateSignal(), language };\r\n    this.translationStateSignal.set(newTranslationState);\r\n  }\r\n\r\n  run(): void {\r\n    const newState = this.translationStateSignal();\r\n    const oldState = this.dialogData.translationState;\r\n\r\n    const noChange = oldState.linkType === newState.linkType && oldState.language === newState.language;\r\n    if (noChange)\r\n      return this.closeDialog();\r\n\r\n    const applyToField = (fieldName: string) => {\r\n      switch (newState.linkType) {\r\n        case TranslationLinks.Translate:\r\n          this.fieldsTranslateService.unlock(fieldName);\r\n          break;\r\n        case TranslationLinks.DontTranslate:\r\n          this.fieldsTranslateService.lock(fieldName);\r\n          break;\r\n        case TranslationLinks.LinkReadOnly:\r\n          this.fieldsTranslateService.linkReadOnly(fieldName, newState.language);\r\n          break;\r\n        case TranslationLinks.LinkReadWrite:\r\n          this.fieldsTranslateService.linkReadWrite(fieldName, newState.language);\r\n          break;\r\n        case TranslationLinks.LinkCopyFrom:\r\n          this.fieldsTranslateService.copyFrom(fieldName, newState.language);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    if (this.dialogData.isTranslateMany && this.dialogData.translatableFields?.length) {\r\n      for (const fieldName of this.dialogData.translatableFields) {\r\n        applyToField(fieldName);\r\n      }\r\n    } else {\r\n      // single-field behavior (existing)\r\n      applyToField(this.dialogData.config.fieldName!);\r\n    }\r\n\r\n    this.closeDialog();\r\n  }\r\n\r\n  private closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n}","  <mat-card class=\"translate-menu-dialog-card u-hide-scrollbar\">\r\n    <mat-card-header>\r\n      <mat-card-title>\r\n        {{ 'LangMenu.Dialog.Title' | translate: { name: dialogData.config.fieldName || 'LangMenu.AllFields' | translate } }}\r\n      </mat-card-title>\r\n      <mat-card-subtitle>\r\n        {{ 'LangMenu.Dialog.Intro' | translate }}\r\n      </mat-card-subtitle>\r\n    </mat-card-header>\r\n    <mat-card-content class=\"eav-card-content__no-padding\">\r\n      <mat-nav-list toggle focus>\r\n        @if (!isPrimaryLang()) {\r\n          <mat-list-item\r\n            [ngClass]=\"{ 'eav-list-item__focus': translationStateSignal().linkType === TranslationLinks.DontTranslate }\"\r\n            (click)=\"setLinkType(TranslationLinks.DontTranslate)\">\r\n            <mat-icon matListItemIcon color=\"accent\">lock</mat-icon>\r\n            <span matListItemTitle>{{ ('LangMenu.Dialog.' + I18nKeys.NoTranslate + '.Title') | translate : { primary: language().primary } }}</span>\r\n            <span matListItemLine>{{ ('LangMenu.Dialog.' + I18nKeys.NoTranslate + '.Body') | translate : { primary: language().primary } }}</span>\r\n          </mat-list-item>\r\n          <mat-list-item lines=3\r\n            [ngClass]=\"{ 'eav-list-item__focus': translationStateSignal().linkType === TranslationLinks.Translate }\"\r\n            (click)=\"setLinkType(TranslationLinks.Translate)\">\r\n            <mat-icon matListItemIcon color=\"accent\">lock_open</mat-icon>\r\n            <span matListItemTitle>{{ ('LangMenu.Dialog.' + I18nKeys.FromPrimary + '.Title') | translate : { primary: language().primary } }}</span>\r\n            <span>{{ ('LangMenu.Dialog.' + I18nKeys.FromPrimary + '.Body') | translate : { primary: language().primary } }}</span>\r\n          </mat-list-item>\r\n        }\r\n        <mat-list-item lines=3\r\n          [ngClass]=\"{ 'eav-list-item__focus': translationStateSignal().linkType === TranslationLinks.LinkCopyFrom }\"\r\n          (click)=\"setLinkType(TranslationLinks.LinkCopyFrom)\">\r\n          <mat-icon matListItemIcon color=\"accent\">translate</mat-icon>\r\n          <span matListItemTitle>{{ ('LangMenu.Dialog.' + I18nKeys.FromOther + '.Title') | translate : { primary: language().primary } }}</span>\r\n          <span>{{ ('LangMenu.Dialog.' + I18nKeys.FromOther + '.Body') | translate : { primary: language().primary }\r\n          }}</span>\r\n        </mat-list-item>\r\n        <mat-list-item\r\n          [ngClass]=\"{ 'eav-list-item__focus': translationStateSignal().linkType === TranslationLinks.LinkReadOnly }\"\r\n          (click)=\"setLinkType(TranslationLinks.LinkReadOnly)\">\r\n          <mat-icon matListItemIcon color=\"accent\">link</mat-icon>\r\n          <span matListItemTitle>{{ ('LangMenu.Dialog.' + I18nKeys.LinkReadOnly + '.Title') | translate : { primary: language().primary } }}</span>\r\n          <span matListItemLine>{{ ('LangMenu.Dialog.' + I18nKeys.LinkReadOnly + '.Body') | translate : { primary: language().primary } }}</span>\r\n        </mat-list-item>\r\n        <mat-list-item lines=3\r\n          [ngClass]=\"{ 'eav-list-item__focus': translationStateSignal().linkType === TranslationLinks.LinkReadWrite }\"\r\n          (click)=\"setLinkType(TranslationLinks.LinkReadWrite)\">\r\n          <mat-icon matListItemIcon color=\"accent\">share</mat-icon>\r\n          <span matListItemTitle>{{ ('LangMenu.Dialog.' + I18nKeys.LinkShared + '.Title') | translate : { primary: language().primary } }}</span>\r\n          <span>{{ ('LangMenu.Dialog.' + I18nKeys.LinkShared + '.Body') | translate : { primary: language().primary }\r\n          }}</span>\r\n        </mat-list-item>\r\n      </mat-nav-list>\r\n      @if (translationInfo().showLanguageSelection) {\r\n        <div>\r\n          <mat-card-header>\r\n            <mat-card-title>\r\n              {{ (translationInfo().i18nRoot + '.Subtitle') | translate }}\r\n            </mat-card-title>\r\n            <mat-card-subtitle>\r\n              {{'LangMenu.Dialog.PickLanguageIntro' | translate }}\r\n            </mat-card-subtitle>\r\n          </mat-card-header>\r\n          <mat-action-list>\r\n            @for (language of languagesSig(); track language) {\r\n              <mat-list-item (click)=\"setLanguage(language.key)\"\r\n                [disabled]=\"language.disabled\" [ngClass]=\"{\r\n                'eav-list-item__focus': translationStateSignal().language === language.key,\r\n                'list-item__disabled': language.disabled\r\n                }\">\r\n                <mat-icon matListItemIcon [ngClass]=\"{ 'list-item-icon__disabled': language.disabled }\">language</mat-icon>\r\n                <span matListItemTitle>{{ language.key }}</span>\r\n              </mat-list-item>\r\n            }\r\n          </mat-action-list>\r\n        </div>\r\n      }\r\n    </mat-card-content>\r\n    <mat-card-actions align=\"end\">\r\n      <button mat-button color=\"accent\" [disabled]=\"translationInfo().submitDisabled\" (click)=\"run()\">OK</button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, inject, input, ViewContainerRef } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FeatureIconIndicatorComponent } from '../../../../../features/feature-icon-indicator/feature-icon-indicator';\r\nimport { TippyDirective } from '../../../../../shared/directives/tippy.directive';\r\nimport { computedObj } from '../../../../../shared/signals/signal.utilities';\r\nimport { FormConfigService } from '../../../../form/form-config.service';\r\nimport { FormsStateService } from '../../../../form/forms-state.service';\r\nimport { AutoTranslateDisabledWarningDialog } from '../../../../localization/auto-translate-disabled-warning-dialog/auto-translate-disabled-warning-dialog';\r\nimport { AutoTranslateMenuDialogComponent } from '../../../../localization/auto-translate-menu-dialog/auto-translate-menu-dialog';\r\nimport { TranslationState } from '../../../../localization/translate-state.model';\r\nimport { TranslationLinks } from '../../../../localization/translation-link.constants';\r\nimport { FieldsTranslateService } from '../../../../state/fields-translate.service';\r\nimport { FieldState } from '../../../field-state';\r\nimport { TranslateMenuDialogComponent } from '../translate-menu-dialog/translate-menu-dialog';\r\nimport { TranslateMenuDialogData } from '../translate-menu-dialog/translate-menu-dialog.models';\r\nimport { TranslateMenuHelpers } from './translate-menu.helpers';\r\n\r\n@Component({\r\n  selector: 'app-translate-menu',\r\n  templateUrl: './translate-menu.html',\r\n  styleUrls: ['./translate-menu.scss'],\r\n  imports: [\r\n    NgClass,\r\n    MatButtonModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    FeatureIconIndicatorComponent,\r\n    TranslateModule,\r\n    TippyDirective,\r\n  ]\r\n})\r\nexport class TranslateMenuComponent {\r\n  hideTranslateButton = input<boolean>();\r\n  canTranslate = input<boolean>();\r\n\r\n  #fieldState = inject(FieldState);\r\n  #formsStateService = inject(FormsStateService);\r\n\r\n  TranslationLinks = TranslationLinks;\r\n\r\n  protected translationState = this.#fieldState.translationState;\r\n  protected language = this.formConfig.language;\r\n\r\n  protected disabled = computedObj('disabled', () => this.#fieldState.ui().disabled);\r\n\r\n  translationStateClass = computedObj('translationStateClass', () => TranslateMenuHelpers.getTranslationStateClass(this.translationState().linkType));\r\n\r\n  disableTranslateButtonSignal = computedObj('disableTranslateButtonSignal',\r\n    () => this.#formsStateService.readOnly().isReadOnly || this.#fieldState.settings().DisableTranslation\r\n  );\r\n\r\n  constructor(\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private formConfig: FormConfigService,\r\n    private fieldsTranslate: FieldsTranslateService,\r\n  ) { }\r\n\r\n  translate(): void {\r\n    this.fieldsTranslate.unlock(this.#fieldState.name);\r\n  }\r\n\r\n  dontTranslate(): void {\r\n    this.fieldsTranslate.lock(this.#fieldState.name);\r\n  }\r\n\r\n  openTranslateMenuDialog(translationState: TranslationState): void {\r\n    this.#openDialog(translationState, TranslateMenuDialogComponent);\r\n  }\r\n\r\n  openAutoTranslateMenuDialog(translationState: TranslationState): void {\r\n    if (this.#fieldState.settings().DisableAutoTranslation) {\r\n      this.matDialog.open(AutoTranslateDisabledWarningDialog, {\r\n        autoFocus: false,\r\n        data: { isAutoTranslateAll: false },\r\n        viewContainerRef: this.viewContainerRef,\r\n        width: '350px',\r\n      });\r\n    } else {\r\n      this.#openDialog(translationState, AutoTranslateMenuDialogComponent);\r\n    }\r\n  }\r\n\r\n  #openDialog(translationState: TranslationState, component: any): void {\r\n    const dialogData: TranslateMenuDialogData = {\r\n      config: this.#fieldState.config,\r\n      translationState: {\r\n        language: translationState.language,\r\n        linkType: translationState.linkType,\r\n      },\r\n    };\r\n    this.matDialog.open(component, {\r\n      autoFocus: false,\r\n      data: dialogData,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '400px',\r\n    });\r\n  }\r\n}","@if (canTranslate()) {\r\n  <div class=\"my-flex-main\">\r\n    <div class=\"my-flex-inside eav-shared-languages-container\" [ngClass]=\"translationStateClass()\">\r\n      <div class=\"eav-shared-languages mat-caption\" [ngClass]=\"{ 'eav-shared-languages--disabled': disabled() }\">\r\n        {{translationState().infoLabel ? (translationState().infoLabel | translate:{ languages:\r\n        translationState().infoMessage }): '' }}\r\n      </div>\r\n      <div tippyTranslate=\"LangMenu.NotTranslatable\" [tippyDisabled]=\"!disableTranslateButtonSignal()\" tippyPlacement=\"top\">\r\n        <button mat-icon-button class=\"eav-translate-icon-button\" [matMenuTriggerFor]=\"menu\"\r\n          [disabled]=\"disableTranslateButtonSignal()\" [ngClass]=\"{ 'hidden': hideTranslateButton() }\">\r\n          <mat-icon class=\"eav-translate-icon\">translate</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <mat-menu #menu=\"matMenu\">\r\n      <ng-template matMenuContent>\r\n        <button mat-menu-item (click)=\"translate()\"\r\n          [ngClass]=\"{ 'eav-menu-item-selected':translationState().linkType === TranslationLinks.Translate }\">\r\n          {{ 'LangMenu.Translate' | translate }}\r\n        </button>\r\n        <button mat-menu-item (click)=\"openAutoTranslateMenuDialog(translationState())\"\r\n          [ngClass]=\"{ 'eav-menu-item-selected':translationState().linkType === TranslationLinks.Translate }\">\r\n          {{ 'LangMenu.AutoTranslate' | translate }}\r\n          <app-feature-icon-indicator [featureNameId]=\"'EditUiTranslateWithGoogle'\"></app-feature-icon-indicator>\r\n        </button>\r\n        @if(language().current !== language().primary) {\r\n          <button mat-menu-item (click)=\"dontTranslate()\"\r\n            [ngClass]=\"{ 'eav-menu-item-selected':translationState().linkType === TranslationLinks.DontTranslate }\">\r\n            {{ 'LangMenu.NoTranslate' | translate }}\r\n          </button>\r\n        }\r\n        <button mat-menu-item (click)=\"openTranslateMenuDialog(translationState())\"\r\n          [ngClass]=\"{ 'eav-menu-item-selected':translationState().language !== '' }\">\r\n          {{ 'LangMenu.Link' | translate }}\r\n        </button>\r\n      </ng-template>\r\n    </mat-menu>\r\n  </div>\r\n}","import { NgClass } from '@angular/common';\r\nimport { Component, computed, inject, signal, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { UserLanguageService } from 'projects/eav-ui/src/app/shared/services/user-language.service';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FormsStateService } from '../../../form/forms-state.service';\r\nimport { EditRoutingService } from '../../../routing/edit-routing.service';\r\nimport { FieldState } from '../../field-state';\r\nimport { WrappersCatalog } from '../wrappers.constants';\r\nimport { TranslateMenuComponent } from './translate-menu/translate-menu';\r\n\r\n@Component({\r\n  selector: WrappersCatalog.LocalizationWrapper,\r\n  templateUrl: './localization-wrapper.html',\r\n  styleUrls: ['./localization-wrapper.scss'],\r\n  imports: [\r\n    NgClass,\r\n    TranslateMenuComponent,\r\n  ]\r\n})\r\nexport class LocalizationWrapperComponent {\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n  @ViewChild(TranslateMenuComponent) private translateMenu: TranslateMenuComponent;\r\n\r\n  #formConfig = inject(FormConfigService);\r\n  #fieldState = inject(FieldState);\r\n\r\n  protected language = this.#formConfig.language;\r\n\r\n  private userLanguageSvc = inject(UserLanguageService);\r\n  translatePrimaryLanguage = signal<boolean>(false);\r\n\r\n  hasMultipleLanguages = computed(() => {\r\n    return this.#formConfig.languages.list.length > 1;\r\n  });\r\n\r\ncanTranslate = computed(() => {\r\n  return (\r\n    this.hasMultipleLanguages() &&\r\n    !this.#fieldState.settings().DisableTranslation &&\r\n    (this.language().current !== this.language().primary || this.translatePrimaryLanguage())\r\n  );\r\n});\r\n\r\n  hideTranslateButton: boolean = true;\r\n\r\n  constructor(\r\n    private editRoutingService: EditRoutingService,\r\n    private formsStateService: FormsStateService,\r\n  ) {\r\n    this.translatePrimaryLanguage.set(this.userLanguageSvc.primaryTranslatableEnabled());\r\n  }\r\n\r\n  translate() {\r\n    if (this.formsStateService.readOnly().isReadOnly) return;\r\n    const language = this.#formConfig.language();\r\n    if (language.current === language.primary) return;\r\n    if (!this.#fieldState.ui().disabled) return;\r\n    const config = this.#fieldState.config;\r\n    const isExpanded = this.editRoutingService.isExpanded(config.index, config.entityGuid);\r\n    if (isExpanded) return;\r\n\r\n    this.translateMenu.translate();\r\n  }\r\n\r\n  toggleTranslateButtonVisibility(hide: boolean) {\r\n    this.hideTranslateButton = hide;\r\n  }\r\n}\r\n","<!-- <pre>Wrapper.Localization Start</pre> -->\r\n<div\r\n  class=\"language-wrap\"\r\n  (mouseenter)=\"toggleTranslateButtonVisibility(false)\"\r\n  (mouseleave)=\"toggleTranslateButtonVisibility(true)\"\r\n>\r\n  <div\r\n    class=\"language-wrap__field\"\r\n    [ngClass]=\"{ 'language-wrap__field-short': canTranslate() }\"\r\n    (dblclick)=\"translate()\"\r\n  >\r\n    <!-- <pre>Wrapper.Localization - Field Start</pre> -->\r\n    <ng-container #fieldComponent></ng-container>\r\n    <!-- <pre>Wrapper.Localization - Field End</pre> -->\r\n  </div>\r\n\r\n  <app-translate-menu\r\n    class=\"language-wrap__translate\"\r\n    [hideTranslateButton]=\"hideTranslateButton\"\r\n    [canTranslate]=\"canTranslate()\"\r\n    [ngClass]=\"{ 'language-wrap__translate--hidden': !canTranslate() }\"\r\n  >\r\n  </app-translate-menu>\r\n</div>\r\n<!-- <pre>Wrapper.Localization End</pre> -->\r\n","\r\nimport { Component, inject, ViewChild, ViewContainerRef } from \"@angular/core\";\r\nimport { MatCardModule } from \"@angular/material/card\";\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FormsStateService } from \"../../../form/forms-state.service\";\r\nimport { FieldState } from \"../../field-state\";\r\nimport { DialogPopupComponent } from \"../dialog-popup/dialog-popup\";\r\nimport { ContentExpandAnimation } from \"../expand-dialog/content-expand.animation\";\r\nimport { WrappersCatalog } from \"../wrappers.constants\";\r\n\r\n\r\n@Component({\r\n    selector: WrappersCatalog.PickerExpandableWrapper,\r\n    templateUrl: './picker-expandable-wrapper.html',\r\n    styleUrls: ['./picker-expandable-wrapper.scss'],\r\n    animations: [ContentExpandAnimation],\r\n    imports: [\r\n    MatCardModule,\r\n    DialogPopupComponent,\r\n    DialogPopupComponent\r\n]\r\n})\r\nexport class PickerExpandableWrapperComponent {\r\n\r\n  log = classLog({ PickerExpandableWrapperComponent });\r\n\r\n  @ViewChild('fieldComponent', { static: true, read: ViewContainerRef }) fieldComponent: ViewContainerRef;\r\n  @ViewChild('previewComponent', { static: true, read: ViewContainerRef }) previewComponent: ViewContainerRef;\r\n\r\n  protected fieldState = inject(FieldState);\r\n  public config = this.fieldState.config;\r\n  protected basics = this.fieldState.basics;\r\n\r\n  constructor(\r\n    public formsStateService: FormsStateService,\r\n  ) { }\r\n}\r\n","<!--\r\n  Dialog part for large picker\r\n  Should only show when dialogIsOpen() is true.\r\n  It must be part of the DOM already (so no @if) as it is used in the code.\r\n-->\r\n<app-dialog-popup>\r\n  <div class=\"eav-layout-grid\">\r\n    <div class=\"eav-layout-grid__inner\">\r\n      <mat-card class=\"eav-card eav-layout-grid__cell--span-12 u-border-radius shadow-bottom-z-1\">\r\n        <ng-container #fieldComponent></ng-container>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n</app-dialog-popup>\r\n<!-- Preview = inline search or pills -->\r\n<ng-container #previewComponent></ng-container>","import { Type } from '@angular/core';\r\nimport { InputTypeCatalog } from '../../shared/fields/input-type-catalog';\r\nimport { BooleanDefaultComponent } from './basic/boolean-default/boolean-default';\r\nimport { BooleanTristateComponent } from './basic/boolean-tristate/boolean-tristate';\r\nimport { CustomDefaultComponent } from './basic/custom-default/custom-default';\r\nimport { CustomJsonEditorComponent } from './basic/custom-json-editor/custom-json-editor';\r\nimport { DatetimeDefaultComponent } from './basic/datetime-default/datetime-default';\r\nimport { EmptyDefaultComponent } from './basic/empty-default/empty-default';\r\nimport { EmptyMessageComponent } from './basic/empty-message/empty-message';\r\nimport { EntityContentBlockComponent } from './basic/entity-content-blocks/entity-content-blocks';\r\nimport { EntityDefaultComponent } from './basic/entity-default/entity-default';\r\nimport { EntityPickerComponent } from './basic/entity-picker/entity-picker';\r\nimport { EntityQueryComponent } from './basic/entity-query/entity-query';\r\nimport { ExternalWebComponentComponent } from './basic/external-web-component/external-web-component';\r\nimport { HyperlinkDefaultComponent } from './basic/hyperlink-default/hyperlink-default';\r\nimport { HyperlinkLibraryComponent } from './basic/hyperlink-library/hyperlink-library';\r\nimport { NumberDefaultComponent } from './basic/number-default/number-default';\r\nimport { NumberDropdownComponent } from './basic/number-dropdown/number-dropdown';\r\nimport { NumberPickerComponent } from './basic/number-picker/number-picker';\r\nimport { StringDefaultComponent } from './basic/string-default/string-default';\r\nimport { StringDropdownQueryComponent } from './basic/string-dropdown-query/string-dropdown-query';\r\nimport { StringDropdownComponent } from './basic/string-dropdown/string-dropdown';\r\nimport { StringFontIconPickerComponent } from './basic/string-font-icon-picker/string-font-icon-picker';\r\nimport { StringPickerComponent } from './basic/string-picker/string-picker';\r\nimport { StringTemplatePickerComponent } from './basic/string-template-picker/string-template-picker';\r\nimport { StringUrlPathComponent } from './basic/string-url-path/string-url-path';\r\nimport { AdamWrapperComponent } from './wrappers/adam/adam-wrapper';\r\nimport { DropzoneWrapperComponent } from './wrappers/dropzone/dropzone-wrapper';\r\nimport { ExpandableWrapperComponent } from './wrappers/expand-dialog/expandable-wrapper';\r\nimport { FeatureWarningWrapperComponent } from './wrappers/feature-warning/feature-warning-wrapper';\r\nimport { CollapsibleWrapperComponent } from './wrappers/group/collapsible-wrapper';\r\nimport { HiddenWrapperComponent } from './wrappers/hidden/hidden-wrapper';\r\nimport { HyperlinkDefaultExpandableWrapperComponent } from './wrappers/hyperlink-dialog/hyperlink-default-expandable-wrapper';\r\nimport { HyperlinkLibraryExpandableWrapperComponent } from './wrappers/hyperlink-library-dialog/hyperlink-library-expandable-wrapper';\r\nimport { LocalizationWrapperComponent } from './wrappers/localization/localization-wrapper';\r\nimport { PickerExpandableWrapperComponent } from './wrappers/picker-dialog/picker-expandable-wrapper';\r\nimport { WrappersCatalog } from './wrappers/wrappers.constants';\r\n\r\nexport const InputComponents: Record<string, Type<any>> = {\r\n  // Wrappers\r\n  [WrappersCatalog.AdamWrapper]: AdamWrapperComponent,\r\n  [WrappersCatalog.CollapsibleWrapper]: CollapsibleWrapperComponent,\r\n  [WrappersCatalog.DropzoneWrapper]: DropzoneWrapperComponent,\r\n  [WrappersCatalog.PickerExpandableWrapper]: PickerExpandableWrapperComponent,\r\n  [WrappersCatalog.ExpandableWrapper]: ExpandableWrapperComponent,\r\n  [WrappersCatalog.HiddenWrapper]: HiddenWrapperComponent,\r\n  [WrappersCatalog.FeatureWarningWrapper]: FeatureWarningWrapperComponent,\r\n  [WrappersCatalog.HyperlinkDefaultExpandableWrapper]: HyperlinkDefaultExpandableWrapperComponent,\r\n  [WrappersCatalog.HyperlinkLibraryExpandableWrapper]: HyperlinkLibraryExpandableWrapperComponent,\r\n  [WrappersCatalog.LocalizationWrapper]: LocalizationWrapperComponent,\r\n\r\n  // Input Types\r\n  [InputTypeCatalog.BooleanDefault]: BooleanDefaultComponent,\r\n  [InputTypeCatalog.BooleanTristate]: BooleanTristateComponent,\r\n  [InputTypeCatalog.CustomDefault]: CustomDefaultComponent,\r\n  [InputTypeCatalog.CustomJsonEditor]: CustomJsonEditorComponent,\r\n  [InputTypeCatalog.DateTimeDefault]: DatetimeDefaultComponent,\r\n  [InputTypeCatalog.EmptyDefault]: EmptyDefaultComponent,\r\n  [InputTypeCatalog.EmptyMessage]: EmptyMessageComponent,\r\n  [InputTypeCatalog.EntityContentBlocks]: EntityContentBlockComponent,\r\n  [InputTypeCatalog.EntityDefault]: EntityDefaultComponent,\r\n  [InputTypeCatalog.EntityQuery]: EntityQueryComponent,\r\n  [InputTypeCatalog.ExternalWebComponent]: ExternalWebComponentComponent,\r\n  [InputTypeCatalog.HyperlinkDefault]: HyperlinkDefaultComponent,\r\n  [InputTypeCatalog.HyperlinkLibrary]: HyperlinkLibraryComponent,\r\n  [InputTypeCatalog.NumberDefault]: NumberDefaultComponent,\r\n  [InputTypeCatalog.NumberDropdown]: NumberDropdownComponent,\r\n  [InputTypeCatalog.StringDefault]: StringDefaultComponent,\r\n  [InputTypeCatalog.StringDropdown]: StringDropdownComponent,\r\n  [InputTypeCatalog.StringDropdownQuery]: StringDropdownQueryComponent,\r\n  [InputTypeCatalog.StringFontIconPicker]: StringFontIconPickerComponent,\r\n  [InputTypeCatalog.StringJson]: CustomJsonEditorComponent,\r\n  [InputTypeCatalog.StringTemplatePicker]: StringTemplatePickerComponent,\r\n  [InputTypeCatalog.StringUrlPath]: StringUrlPathComponent,\r\n\r\n  // Pickers\r\n  [InputTypeCatalog.EntityPicker]: EntityPickerComponent,\r\n  [InputTypeCatalog.StringPicker]: StringPickerComponent,\r\n  [InputTypeCatalog.NumberPicker]: NumberPickerComponent,\r\n};\r\n","import { computed, signal } from '@angular/core';\r\nimport { computedObj } from 'projects/eav-ui/src/app/shared/signals/signal.utilities';\r\nimport { Adam } from '../../../../../../../../edit-types/src/Adam';\r\nimport { AdamConfig } from '../../../../../../../../edit-types/src/AdamConfig';\r\nimport { AdamItem } from '../../../../../../../../edit-types/src/AdamItem';\r\nimport { classLog } from '../../../../../shared/logging';\r\nimport { AdamBrowserComponent } from './adam-browser';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  setConfig: true,\r\n  refresh: true,\r\n}\r\n\r\n/**\r\n * Helper to connect ADAM.\r\n * It will be added to the field state early on, but won't work until the browser is initialized.\r\n */\r\nexport class AdamConnector implements Adam {\r\n  \r\n  log = classLog({AdamConnector}, logSpecs);\r\n\r\n  get browser() {\r\n    const b = this.#browser();\r\n    if (b) return b;\r\n    throw new Error('Browser not set');\r\n  }\r\n\r\n  public setBrowser(browser: AdamBrowserComponent) {\r\n    this.#browser.set(browser);\r\n  }\r\n  #browser = signal<AdamBrowserComponent>(null);\r\n\r\n  #items = computedObj('items', () => this.#browser()?.items() ?? [] satisfies AdamItem[]);\r\n  get items() { return this.#items };\r\n\r\n  public toggle(usePortalRoot: boolean, showImagesOnly: boolean) {\r\n    this.log.fn('toggle', { usePortalRoot, showImagesOnly });\r\n    this.browser.toggle(usePortalRoot, showImagesOnly)\r\n  };\r\n\r\n  #count = 0;\r\n\r\n  public setConfig(config: Partial<AdamConfig>) {\r\n    const l = this.log.fnIf('setConfig', { config, count: this.#count });\r\n    this.#count++;\r\n\r\n    if (this.#count > 10)\r\n      throw new Error('Infinite loop');\r\n\r\n    this.browser.setConfig(config);\r\n    l.end();\r\n  };\r\n  public getConfig() { return this.browser.adamConfig() };\r\n\r\n  public isDisabled = computed(() => this.#browser()?.adamConfig()?.disabled ?? true);\r\n\r\n  onItemClick() { return; }\r\n\r\n  onItemUpload() { return; }\r\n\r\n  refresh() {\r\n    this.log.fnIf('refresh');\r\n    this.browser.fetchItems()\r\n  }\r\n\r\n}","import { FieldSettings } from './FieldSettings';\r\nimport { EmptyDefault } from './FieldSettings-EmptyDefault';\r\n\r\n/**\r\n * Goal of this is to provide the basic settings for a control\r\n * in the BaseFieldComponent<T = FieldValue>\r\n * to replace all the many subscriptions etc.\r\n * with a simple signal containing the important settings.\r\n */\r\nexport class BasicControlSettings {\r\n  /** Label to show on an input field */\r\n  label: string;\r\n\r\n  /** Notes to show below an input field */\r\n  notes: string;\r\n\r\n  /** Label with a * if required */\r\n  labelWithRequired: string;\r\n\r\n  /** Placeholder to show on an input field */\r\n  placeholder: string;\r\n\r\n  /** If the field is required */\r\n  required: boolean;\r\n\r\n  /** Real final visibility. Also respects if it was disabled by the ItemFieldVisibility. */\r\n  visible: boolean;\r\n\r\n  // /** Original visibility, more as info. ATM not used any where. */\r\n  // visibilityRaw: boolean;\r\n\r\n  // /** Information if this field was forcibly disabled */\r\n  // visibilityDisabled: boolean;\r\n\r\n  /** If the field is collapsed */\r\n  collapsed: boolean;\r\n\r\n\r\n  static fromSettings(s: FieldSettings): BasicControlSettings {\r\n    const label = s?.Name ?? 'loading...';\r\n    const notes = s?.Notes ?? '';\r\n    const required = s?.valueRequired ?? true;\r\n    const visibilityRaw = s?.Visible ?? true;\r\n    const visibilityDisabled = s?.VisibleDisabled ?? false;\r\n    const visible = visibilityRaw && !visibilityDisabled;\r\n    const collapsed = (s as FieldSettings & EmptyDefault)?.Collapsed ?? false;\r\n    // if (label == 'loading...') {\r\n    //   console.log('s', s);\r\n    // }\r\n    return {\r\n      label,\r\n      notes,\r\n      placeholder: s?.Placeholder ?? 'loading...',\r\n      required,\r\n      labelWithRequired: label + (required ? ' *' : ''),\r\n      visible,\r\n      // visibilityRaw,\r\n      // visibilityDisabled,\r\n      collapsed,\r\n    };\r\n  }\r\n}\r\n","import { EnvironmentInjector, Injectable, Injector, Signal, createEnvironmentInjector, inject, runInInjectionContext } from '@angular/core';\r\nimport { toObservable, toSignal } from '@angular/core/rxjs-interop';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { combineLatest, tap } from 'rxjs';\r\nimport { FieldSettings } from '../../../../../../edit-types/src/FieldSettings';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { InputTypeHelpers } from '../../../shared/fields/input-type-helpers';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { mapUntilObjChanged } from '../../../shared/rxJs/mapUntilChanged';\r\nimport { computedObj, signalObj } from '../../../shared/signals/signal.utilities';\r\nimport { DebugFields } from '../../edit-debug';\r\nimport { EntityFormStateService } from '../../entity-form/entity-form-state.service';\r\nimport { FieldState } from '../../fields/field-state';\r\nimport { EditRoutingService } from '../../routing/edit-routing.service';\r\nimport { UiControl } from '../../shared/controls/ui-control';\r\nimport { InputTypeSpecs } from '../../shared/input-types/input-type-specs.model';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { FieldConfigSet } from '../field-config-set.model';\r\nimport { BasicControlSettings } from './../../../../../../edit-types/src/BasicControlSettings';\r\nimport { InjectorBundle } from './injector-bundle.model';\r\n\r\nconst logSpecs = {\r\n  getInjectors: true,\r\n  fields: [...DebugFields] as string[], // example: ['Boolean'],\r\n};\r\n\r\nconst detailedDebug = false;\r\n\r\n/**\r\n * This service creates custom injectors for each field.\r\n * It's used in the fields-builder to initialize dynamic controls.\r\n */\r\n@Injectable()\r\nexport class FieldStateInjectorFactory {\r\n\r\n  log = classLog({FieldStateInjectorFactory}, logSpecs);\r\n\r\n  #injector = inject(Injector);\r\n  #envInjector = inject(EnvironmentInjector);\r\n  #fieldsSettingsSvc = inject(FieldsSettingsService);\r\n  #entityFormStateSvc = inject(EntityFormStateService);\r\n  #featuresSvc = inject(FeaturesService);\r\n\r\n  #editRoutingService = inject(EditRoutingService);\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * Get the injectors for a specific form field.\r\n   * Requires that the angular form has already created the field.\r\n   * \r\n   * IMPORTANT: It also has a side-effect that it adds picker data to the FieldStateService.\r\n   * this is not elegant ATM.\r\n   * @param fieldConfig \r\n   * @param inputType \r\n   * @returns an injector bundle with control and environment injectors\r\n   */\r\n  public getInjectors(fieldConfig: FieldConfigSet, inputType: InputTypeSpecs): InjectorBundle {\r\n    const l = this.log.fnIf('getInjectors', { fieldConfig, inputType });\r\n\r\n    const name = fieldConfig.fieldName;\r\n\r\n    // Create settings() and basics() signal for further use\r\n    const settings = this.#fieldsSettingsSvc.settings[name];\r\n    const basics = computedObj('basics', () => BasicControlSettings.fromSettings(settings()));\r\n\r\n    // Control and Control Status\r\n    const formGroup = this.#entityFormStateSvc.formGroup;\r\n    const control = formGroup.controls[name];    \r\n    const controlStatusChangeSignal = this.#buildUiSignal(name, control, inputType, settings);\r\n\r\n    /** The UI Value changes. Since it can also contain arrays, so we're using the strong equal */\r\n    const uiValue: Signal<FieldValue> = (() => {\r\n      if (!control) return signalObj('value-change-empty', null);\r\n      const debouncedValue$ = control.valueChanges.pipe(\r\n        // tap(v => console.warn('2dm value change on UI - before equals', v)),\r\n        // distinctUntilChanged((p, c) => {\r\n        //   const eq = isEqual(p, c);\r\n        //   console.warn('2dm value change on UI - equals', p, c, eq);\r\n        //   return eq;\r\n        // }),\r\n        mapUntilObjChanged(v => v),\r\n        // tap(v => console.warn('2dm value change on UI - after equals', v)),\r\n      );\r\n      return toSignal(debouncedValue$, { injector: this.#injector, initialValue: control.value });\r\n    })();\r\n\r\n    const fieldState = new FieldState(\r\n      name,\r\n      fieldConfig,\r\n      formGroup,\r\n      settings,\r\n      basics,\r\n      controlStatusChangeSignal,\r\n      uiValue,\r\n      this.#fieldsSettingsSvc.translationState[name],\r\n      this.#editRoutingService.isExpandedSignal(fieldConfig.index, fieldConfig.entityGuid, this.#injector),\r\n      this.#fieldsSettingsSvc.pickerData[name] ?? null,\r\n      this.#featuresSvc,\r\n      this.#injector,\r\n    );\r\n\r\n    const injectors = this.#createInjectors(fieldState);\r\n    return l.r(injectors);\r\n  }\r\n\r\n  /**\r\n   * Create a signal for the control status - mainly disabled etc.\r\n   */\r\n  #buildUiSignal(fieldName: string, control: AbstractControl, inputType: InputTypeSpecs, settings: Signal<FieldSettings>): Signal<UiControl> {\r\n    // Conditional logger for detailed logging\r\n    const lDetailed = this.log.fnCond(this.log.specs.fields.includes(fieldName), 'buildControlChangeSignal', { fieldName, inputType });\r\n\r\n    // Create a signal to watch for control-state changes\r\n    if (control) {\r\n      const settings$ = toObservable(settings, { injector: this.#injector });\r\n\r\n      return runInInjectionContext(this.#injector, () => {\r\n        // Watch the control for state changes - this is triggered on the ValueChanges\r\n        // but we only want to continue triggering if a relevant state changed.\r\n        const uiStateChange$ = control.valueChanges.pipe(\r\n          mapUntilObjChanged(_ => ({ dirty: control.dirty, invalid: control.invalid, touched: control.touched, disabled: control.disabled })),\r\n          tap(state => detailedDebug && console.error('controlStateChange', state)),\r\n        );\r\n\r\n        // disabled can be caused by settings in addition to the control status\r\n        // since the control doesn't cause a `valueChanged` on disabled, we need to watch the settings\r\n        const uiStatus$ = combineLatest([\r\n          uiStateChange$,\r\n          settings$.pipe(mapUntilObjChanged(s => s.uiDisabled)),\r\n        ]).pipe(\r\n          tap(([_, disabled]) => lDetailed.a('controlStateChange on control', { control, disabled })),\r\n          mapUntilObjChanged(([_, disabled]) => new UiControl(control, fieldName, disabled)),\r\n          tap(result => lDetailed.a('controlStatusChangeSignal', { result })),\r\n        );\r\n\r\n        // Build controlStatus observable.\r\n        // Should be changed to a pure signal without the observables probably in Angular 18\r\n        // which probably has a signal for this as well...\r\n        return toSignal(uiStatus$, { initialValue: new UiControl(control, fieldName, settings().uiDisabled) });\r\n      });\r\n    }\r\n    \r\n    // No control found - could be a problem, could be expected\r\n    // If it's an empty message field, this is kind of expected, since it doesn't have a value control in the form\r\n    if (!InputTypeHelpers.isEmpty(inputType.inputType)) {\r\n      console.error(`Error: can't create signal for control of ${fieldName} (not found). Input type is not empty, it's ${inputType.inputType}.`);\r\n      // try to have a temporary result, so that in most cases it won't just fail\r\n      return signalObj('control-status-empty', UiControl.emptyControl());\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Create the injector definitions to use for this field.\r\n   */\r\n  #createInjectors(fieldState: FieldState<FieldValue>) {\r\n    const providers = [\r\n      { provide: FieldState, useValue: fieldState },\r\n    ];\r\n\r\n    // Component injector, not actually sure if it's used, because standalone only use environmentInjector AFAIK\r\n    const injector = Injector.create({\r\n      providers: providers,\r\n      parent: this.#injector,\r\n      name: 'FieldInjector',\r\n    });\r\n\r\n    // Environment injector\r\n    const environmentInjector = createEnvironmentInjector(\r\n      providers,\r\n      this.#envInjector,\r\n      'FieldEnvInjector'\r\n    );\r\n    return { injector, environmentInjector };\r\n  }\r\n}\r\n","import { ComponentRef, Directive, ElementRef, OnDestroy, OnInit, Renderer2, Type, ViewContainerRef, effect, inject, signal, untracked } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { transient } from '../../../../../../core';\r\nimport { InputTypeCatalog } from '../../../shared/fields/input-type-catalog';\r\nimport { InputTypeHelpers } from '../../../shared/fields/input-type-helpers';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { EntityFormStateService } from '../../entity-form/entity-form-state.service';\r\nimport { InputComponents } from '../../fields/input-components.constant';\r\nimport { FieldProps } from '../../state/fields-configs.model';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { CustomDefaultComponent } from '../basic/custom-default/custom-default';\r\nimport { FieldConfigSet } from '../field-config-set.model';\r\nimport { FieldMetadataKey, FieldMetadataModel } from '../field-metadata.decorator';\r\nimport { AdamConnector } from '../wrappers/adam/adam-browser/adam-connector';\r\nimport { PickerExpandableWrapperComponent } from '../wrappers/picker-dialog/picker-expandable-wrapper';\r\nimport { FieldStateInjectorFactory } from './field-injector.service';\r\nimport { InjectorBundle } from './injector-bundle.model';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  createWrapper: true,\r\n  readComponentType: false,\r\n};\r\n\r\n/**\r\n * This directive is responsible for creating the dynamic fields based on the field settings.\r\n * It will create the fields based on the settings and attach them to the view.\r\n */\r\n@Directive({\r\n  selector: '[appEditControlsBuilder]',\r\n})\r\nexport class EditControlsBuilderDirective implements OnInit, OnDestroy {\r\n\r\n  #index: number;\r\n\r\n  // In the class, inject Renderer2\r\n  #renderer = inject(Renderer2);\r\n  #firstInputFocused = false;\r\n\r\n  log = classLog({ EditControlsBuilderDirective }, logSpecs);\r\n\r\n  /** Service to create custom injectors for each field */\r\n  #fieldInjectorFac = transient(FieldStateInjectorFactory);\r\n\r\n  /** Ref to this HTML DOM, for adding controls */\r\n  #myContainerRef = inject(ViewContainerRef);\r\n\r\n  /** Service to get all settings for each field */\r\n  #fieldsSettingsSvc = inject(FieldsSettingsService);\r\n\r\n  constructor(private formConfigService: EntityFormStateService, private el: ElementRef) {\r\n    effect(() => {\r\n      const onInitReady = this.#onInitReady();\r\n      const controlsCreated = this.formConfigService.controlsCreated();\r\n      this.log.a('createControls - effect', { onInitReady, controlsCreated });\r\n      if (!(onInitReady && controlsCreated))\r\n        return;\r\n\r\n      this.log.a('createControls RUN');\r\n      // TODO: NOT YET CLEAR IF THIS IS THE RIGHT SOLUTION\r\n      untracked(() => this.#createControls());\r\n    });\r\n  }\r\n\r\n  /** Field Configs for clean-up after the control closes */\r\n  #fieldConfigSets: FieldConfigSet[] = [];\r\n\r\n  #onInitReady = signal(false);\r\n\r\n  ngOnInit() {\r\n    this.#onInitReady.set(true);\r\n    // Get the Index from the HTML element attribute\r\n    this.#index = parseInt(this.el.nativeElement.getAttribute('data-index'));\r\n  }\r\n\r\n  #createControls() {\r\n    // clear container\r\n    this.#myContainerRef.clear();\r\n\r\n    // Set the current container to be \"This\" = the main container (not a specific group)\r\n    // When groups open/close, this will be set to that group,\r\n    // so fields are then inside that container.\r\n    let currentContainer = this.#myContainerRef;\r\n    const fieldsProps = this.#fieldsSettingsSvc.allProps();\r\n\r\n    // Loop through each field and create the component\r\n    // If we encounter a group, we create a new container and set it as the main one\r\n    for (const [fieldName, fieldProps] of Object.entries(fieldsProps)) {\r\n      const fieldConfig: FieldConfigSet = {\r\n        ...fieldProps.constants,\r\n        fieldName: fieldName,\r\n        focused$: new BehaviorSubject(false),\r\n        adam: new AdamConnector(),\r\n      };\r\n      this.#fieldConfigSets.push(fieldConfig);\r\n      const inputType = fieldProps.constants.inputTypeSpecs.inputType;\r\n\r\n      if (InputTypeHelpers.isGroupStart(inputType)) {\r\n        // If we encounter a group-start, then create a new container based on the main container\r\n        currentContainer = this.#createGroup(this.#myContainerRef, fieldProps, fieldConfig);\r\n      } else if (InputTypeHelpers.isGroupEnd(inputType)) {\r\n        // If we encounter a group-end, set the main container to be the default one again\r\n        currentContainer = this.#myContainerRef;\r\n      } else {\r\n        // Just create the normal component within the current container\r\n        this.#createComponent(currentContainer, fieldProps, fieldConfig);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const fieldConfig of this.#fieldConfigSets)\r\n      fieldConfig.focused$.complete();\r\n  }\r\n\r\n  #createGroup(containerRef: ViewContainerRef, fieldProps: FieldProps, fieldConfig: FieldConfigSet): ViewContainerRef {\r\n    const injectors = this.#fieldInjectorFac.getInjectors(fieldConfig, fieldProps.constants.inputTypeSpecs);\r\n    let wrapperInfo = new DynamicControlInfo(null, containerRef, injectors);\r\n    if (fieldProps.buildWrappers)\r\n      wrapperInfo = this.#createWrappers(wrapperInfo, fieldProps.buildWrappers);\r\n    return wrapperInfo.contentsRef;\r\n  }\r\n\r\n  #createComponent(containerRef: ViewContainerRef, fieldProps: FieldProps, fieldConfig: FieldConfigSet) {\r\n    const inputSpecs = fieldProps.constants.inputTypeSpecs;\r\n    this.log.a('createComponent', { inputSpecs });\r\n\r\n    // Add injector to first wrapper, so that it will be attached to the top level, and then dropped\r\n    const injectors = this.#fieldInjectorFac.getInjectors(fieldConfig, inputSpecs);\r\n    let wrapperInfo = new DynamicControlInfo(null, containerRef, injectors);\r\n    if (fieldProps.buildWrappers)\r\n      wrapperInfo = this.#createWrappers(wrapperInfo, fieldProps.buildWrappers);\r\n\r\n    // if it's external, don't load it directly, but instead use the external-web-component wrapper\r\n    const componentName = inputSpecs.isExternal\r\n      ? InputTypeCatalog.ExternalWebComponent\r\n      : inputSpecs.inputType;\r\n    const componentType = this.#readComponentType(componentName);\r\n\r\n    // create component - ideally with metadata if provided (ATM can specify alternate wrapper)\r\n    const componentMd: FieldMetadataModel = Reflect.getMetadata(FieldMetadataKey, componentType);\r\n\r\n    // generate wrappers if they are defined\r\n    if (componentMd?.wrappers)\r\n      wrapperInfo = this.#createWrappers(wrapperInfo, componentMd.wrappers);\r\n\r\n    // generate the real input field component\r\n    // this.log.a('createComponent - add component', { componentType });\r\n    const componentRef = this.#generateAndAttachField(componentType, wrapperInfo.contentsRef, wrapperInfo.injectors);\r\n\r\n    // generate the picker preview component if it exists\r\n    const pickerPreviewContainerRef = (wrapperInfo.wrapperRef?.instance as PickerExpandableWrapperComponent)?.previewComponent;\r\n    if (pickerPreviewContainerRef != null) {\r\n      const previewType = this.#readComponentType(inputSpecs.inputType);\r\n      this.log.a('createComponent - add preview', { previewType });\r\n      this.#generateAndAttachField(previewType, pickerPreviewContainerRef, wrapperInfo.injectors);\r\n    }\r\n\r\n    // Set only the first input to be focused, if it is the first input\r\n    if (this.#firstInputFocused === false && this.#index === 0 && fieldProps.settings.noAutoFocus !== true) {\r\n      this.#setAutoFocus(componentRef);\r\n      this.#firstInputFocused = true;\r\n    }\r\n  }\r\n\r\n  #setAutoFocus(componentRef: ComponentRef<any>) {\r\n    setTimeout(() => {\r\n      // Get the input element from the component\r\n      const nativeElement = componentRef.location.nativeElement.querySelector('input');\r\n      if (nativeElement) {\r\n        this.#renderer.setAttribute(nativeElement, 'autofocus', 'true');\r\n        nativeElement?.focus(); // Focus the input element - with null check in case we're too early\r\n      }\r\n    }, 250); // Wait for the input to be created before focusing\r\n\r\n  }\r\n\r\n  #generateAndAttachField(componentType: Type<any>, container: ViewContainerRef, injectors: InjectorBundle): ComponentRef<any> {\r\n    const component = container.createComponent(componentType, injectors);\r\n\r\n    // Prevent 'e' | 'E' (science notation) in <input type=\"number\"> for \"number-default\"\r\n    if (componentType === InputComponents['number-default']) {\r\n      const inputEl = component.location.nativeElement.querySelector('input[type=\"number\"]');\r\n      inputEl?.addEventListener('keydown', (e: KeyboardEvent) => {\r\n        if (e.key?.toLowerCase() === 'e')\r\n          e.preventDefault();\r\n      });\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  /** Stack all wrappers inside each other */\r\n  #createWrappers(outerWrapper: DynamicControlInfo, wrapperNames: string[]): DynamicControlInfo {\r\n    return wrapperNames.reduce((acc, name) => this.#createWrapper(acc, name), outerWrapper);\r\n  }\r\n\r\n  /** Create a single wrapper */\r\n  #createWrapper(wrapperInfo: DynamicControlInfo, wrapperName: string): DynamicControlInfo {\r\n    const l = this.log.fnIf('createWrapper', { wrapperName });\r\n    const componentType = this.#readComponentType(wrapperName);\r\n    const ref = wrapperInfo.contentsRef.createComponent(componentType, wrapperInfo.injectors);\r\n    return new DynamicControlInfo(ref, ref.instance.fieldComponent, null /* no injectors for following wrappers */);\r\n  }\r\n\r\n  #readComponentType(selector: string): Type<any> {\r\n    const l = this.log.fnIf('readComponentType', { selector, InputComponents });\r\n    const componentType = InputComponents[selector];\r\n    if (componentType != null)\r\n      return l.r(componentType, 'found component type');\r\n\r\n    console.error(`Missing component class for: ${selector}. \r\nThis indicates that the field is not registered correctly, so the JS won't run. \r\nIt could also mean that the JS runs, but doesn't correctly create the custom tag. \r\nWill show an info-error instead.`\r\n    );\r\n\r\n    // Try to show the [type]-default component if it exists\r\n    const prefix = selector.split('-')[0];\r\n    const fallback = InputComponents[`${prefix}-default`] || CustomDefaultComponent;\r\n    return l.r(fallback, 'defaulting to fallback component');\r\n  }\r\n}\r\n\r\nclass DynamicControlInfo {\r\n  constructor(\r\n    public wrapperRef: ComponentRef<any>,\r\n    public contentsRef: ViewContainerRef,\r\n    // will only need to be set the first time\r\n    public injectors: InjectorBundle,\r\n  ) { }\r\n}\r\n","import { inject, Injectable, OnDestroy } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { filter, map, Subscription } from 'rxjs';\r\nimport { transient } from '../../../../../core';\r\nimport { ItemHistoryResult } from '../../item-history/models/item-history-result.model';\r\nimport { classLog } from '../../shared/logging';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { EditEntryComponent } from '../dialog/entry/edit-entry';\r\nimport { UrlHelpers } from '../shared/helpers';\r\nimport { NavigateFormResult } from './edit-routing.service';\r\nimport { EditUrlParams } from './edit-url-params.model';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  watchToRefreshOnVersionsClosed: true,\r\n}\r\n\r\n/**\r\n * Special helper to watch for history-dialog closing.\r\n */\r\n@Injectable()\r\nexport class EditForceReloadService implements OnDestroy {\r\n\r\n  log = classLog({EditForceReloadService}, logSpecs);\r\n\r\n  #dialogRef = inject(MatDialogRef<EditEntryComponent>);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  ngOnDestroy() {\r\n    this.#watcher?.unsubscribe();\r\n  }\r\n  #watcher: Subscription;\r\n\r\n  watchToRefreshOnVersionsClosed() {\r\n    const l = this.log.fnIf('watchToRefreshOnVersionsClosed');\r\n    this.#watcher = this.#dialogRouter.childDialogClosed$().pipe(\r\n      map(() => this.#dialogRouter.state<ItemHistoryResult>()),\r\n      filter(result => result?.refreshEdit === true),\r\n    ).subscribe(_ => {\r\n      const l2 = this.log.fnIf('watchToRefreshOnVersionsClosed', null, 'refreshEdit');\r\n      l.a('version closed, refreshing edit dialog');\r\n      const p = this.#dialogRouter.snapshot.params as EditUrlParams;\r\n      const newUrl = UrlHelpers.newUrlIfCurrentContainsOldUrl(this.#dialogRouter.route,`edit/${p.items}`, `edit/refresh/${p.items}`);\r\n      if (newUrl == null) return l2.end('no change');\r\n      this.#dialogRef.close({ navigateUrl: newUrl } satisfies NavigateFormResult);\r\n      l2.end(`routed away to :${newUrl}`);\r\n    })\r\n    l.end();\r\n  }\r\n}\r\n","import { TranslateService } from '@ngx-translate/core';\r\nimport { FormLanguage } from '../form/form-languages.model';\r\nimport { EntityReader } from '../shared/helpers';\r\nimport { EavEntity, EavFor } from '../shared/models/eav';\r\nimport { NoteProps } from './note-props.model';\r\n\r\nexport function getItemForTooltip(itemFor: EavFor, translate: TranslateService) {\r\n  if (!itemFor) return;\r\n  return translate.instant('Form.Buttons.Metadata.Tip')\r\n    + `\\nTarget: ${itemFor.Target}`\r\n    + `\\nTargetType: ${itemFor.TargetType}`\r\n    + (itemFor.Number ? `\\nNumber: ${itemFor.Number}` : '')\r\n    + (itemFor.String ? `\\nString: ${itemFor.String}` : '')\r\n    + (itemFor.Guid ? `\\nGuid: ${itemFor.Guid}` : '')\r\n    + (itemFor.Title ? `\\nTitle: ${itemFor.Title}` : '');\r\n}\r\n\r\nexport function getNoteProps(note: EavEntity, language: FormLanguage, itemNotSaved: boolean): NoteProps {\r\n  const noteProps: NoteProps = {\r\n    note,\r\n    tooltip: itemNotSaved ? 'Form.Buttons.Note.ItemNotSaved' : 'Form.Buttons.Note.Add',\r\n    triggerClass: `no-note ${itemNotSaved ? 'item-not-saved' : ''}`,\r\n    iconName: 'sticky_note_2',\r\n    noteClass: '',\r\n    noteHtml: undefined,\r\n    itemNotSaved,\r\n  };\r\n  if (!note) { return noteProps; }\r\n\r\n  noteProps.tooltip = undefined;\r\n  const reader = new EntityReader(language);\r\n  noteProps.noteHtml = reader.getBestValue(note.Attributes.Note);\r\n\r\n  const noteType = reader.getBestValue(note.Attributes.NoteType);\r\n  if (noteType === 'note') {\r\n    noteProps.triggerClass = 'has-note';\r\n  } else if (noteType === 'warning') {\r\n    noteProps.triggerClass = 'has-warning';\r\n    noteProps.iconName = 'warning';\r\n    noteProps.noteClass = 'warning';\r\n  }\r\n  return noteProps;\r\n}\r\n\r\nexport function buildContentTypeFeatures(contentTypeFeatures: string): Record<string, boolean> {\r\n  const features = contentTypeFeatures\r\n    .split('\\n')\r\n    .reduce((result, contentTypeFeature) => {\r\n      if (!contentTypeFeature)\r\n        return result;\r\n      const nameAndValue = contentTypeFeature.split('=');\r\n      const name = nameAndValue[0];\r\n      const value = nameAndValue[1] === 'true';\r\n      result[name] = value;\r\n      return result;\r\n    }, {} as Record<string, boolean>);\r\n  return features;\r\n}\r\n","import { UpperCasePipe } from '@angular/common';\r\nimport { Component, computed, inject, input, signal, ViewContainerRef } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FeatureIconIndicatorComponent } from '../../../features/feature-icon-indicator/feature-icon-indicator';\r\nimport { UserLanguageService } from '../../../shared/services/user-language.service';\r\nimport { SignalEquals } from '../../../shared/signals/signal-equals';\r\nimport { TranslateMenuDialogComponent } from '../../fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog';\r\nimport { TranslateMenuDialogConfig, TranslateMenuDialogData } from '../../fields/wrappers/localization/translate-menu-dialog/translate-menu-dialog.models';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { FormsStateService } from '../../form/forms-state.service';\r\nimport { AutoTranslateDisabledWarningDialog } from '../../localization/auto-translate-disabled-warning-dialog/auto-translate-disabled-warning-dialog';\r\nimport { AutoTranslateMenuDialogComponent } from '../../localization/auto-translate-menu-dialog/auto-translate-menu-dialog';\r\nimport { TranslationState } from '../../localization/translate-state.model';\r\nimport { TranslationLinks } from '../../localization/translation-link.constants';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { FieldsTranslateService } from '../../state/fields-translate.service';\r\nimport { ItemService } from '../../state/item.service';\r\n\r\n@Component({\r\n  selector: 'app-entity-translate-menu',\r\n  templateUrl: './entity-translate-menu.html',\r\n  styleUrls: ['./entity-translate-menu.scss'],\r\n  imports: [\r\n    MatButtonModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    FeatureIconIndicatorComponent,\r\n    UpperCasePipe,\r\n    TranslateModule,\r\n  ]\r\n})\r\nexport class EntityTranslateMenuComponent {\r\n  entityGuid = input<string>();\r\n\r\n  private formsStateService = inject(FormsStateService);\r\n  protected readOnly = this.formsStateService.readOnly;\r\n\r\n  private userLanguageSvc = inject(UserLanguageService);\r\n\r\n  // Initialize with a proper TranslationState so the signal satisfies the type\r\n  translationState = signal<TranslationState>({\r\n    infoLabel: '',\r\n    infoMessage: '',\r\n    linkType: TranslationLinks.Translate, // use an existing member from TranslationLinks\r\n    language: '',\r\n  });\r\n\r\n  language = this.eavService.language;\r\n  translatePrimaryLanguage = signal<boolean>(false);\r\n  public isPrimaryLang = computed(() => this.language().current === this.language().primary);\r\n\r\n  constructor(\r\n    private matDialog: MatDialog,\r\n    private itemService: ItemService,\r\n    private eavService: FormConfigService,\r\n    private fieldTranslateSvc: FieldsTranslateService,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private fieldSettingsSvc: FieldsSettingsService,\r\n  ) {\r\n    // initialize translatePrimaryLanguage from persisted value\r\n    this.translatePrimaryLanguage.set(this.userLanguageSvc.primaryTranslatableEnabled());\r\n  }\r\n\r\n  setTranslatePrimary(enabled: boolean) {\r\n    this.translatePrimaryLanguage.set(!!enabled);\r\n    this.userLanguageSvc.savePrimaryTranslatable(!!enabled);\r\n  }\r\n\r\n  #autoTranslatableFields = computed(() => {\r\n    return this.fieldTranslateSvc.findAutoTranslatableFields();\r\n  });\r\n\r\n  protected slotIsEmpty = computed(() => {\r\n    return this.itemService.slotIsEmpty(this.entityGuid())();\r\n  }, SignalEquals.bool);\r\n\r\n  unlockAll() {\r\n    this.fieldTranslateSvc.toggleUnlockOnAll(true);\r\n  }\r\n\r\n  lockAll() {\r\n    this.fieldTranslateSvc.toggleUnlockOnAll(false);\r\n  }\r\n\r\n  autoTranslateMany(): void {\r\n    const autoTransFields = this.#autoTranslatableFields();\r\n    if (autoTransFields.length === 0)\r\n      return this.fieldTranslateSvc.showMessageNoTranslatableFields(true);\r\n\r\n    // Translation state of any field, to detect the languages\r\n    const translationStateAny = this.fieldSettingsSvc.translationState[autoTransFields[0]]();\r\n    if (autoTransFields.length > 0) {\r\n      const config: TranslateMenuDialogConfig = {\r\n        entityGuid: this.entityGuid(),\r\n        // intentionally no fieldName for \"many\" mode\r\n      }\r\n      const dialogData: TranslateMenuDialogData = {\r\n        config,\r\n        translationState: {\r\n          language: translationStateAny.language,\r\n          linkType: translationStateAny.linkType,\r\n        },\r\n        isTranslateMany: true,\r\n        translatableFields: autoTransFields,\r\n      };\r\n      this.matDialog.open(AutoTranslateMenuDialogComponent, {\r\n        autoFocus: false,\r\n        data: dialogData,\r\n        viewContainerRef: this.viewContainerRef,\r\n        width: '400px',\r\n      });\r\n    } else {\r\n      this.matDialog.open(AutoTranslateDisabledWarningDialog, {\r\n        autoFocus: false,\r\n        data: { isAutoTranslateAll: true },\r\n        viewContainerRef: this.viewContainerRef,\r\n        width: '400px',\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open the translate dialog to \"Link\" many fields at once.\r\n   * Gathers translatable fields from FieldsSettingsService and passes them as translatableFields.\r\n   */\r\n  openTranslateMenuDialogMany(): void {\r\n    // gather fields we can operate on\r\n    const allFieldKeys = Object.keys(this.fieldSettingsSvc.translationState);\r\n    const translatableFields = allFieldKeys.filter(fn => {\r\n      // fieldSettingsSvc.translationState[fn] is a Signal<TranslationState>\r\n      const ts = this.fieldSettingsSvc.translationState[fn]?.();\r\n      return !!ts; // include only fields that have a translationState object\r\n    });\r\n\r\n    if (translatableFields.length === 0) {\r\n      return this.fieldTranslateSvc.showMessageNoTranslatableFields(true);\r\n    }\r\n\r\n    // pick a representative field state to provide default language/linkType for the dialog\r\n    const translationStateAny = this.fieldSettingsSvc.translationState[translatableFields[0]]();\r\n\r\n    // only pass the entity GUID in config for multi-field mode (no fieldName supplied)\r\n    const config: TranslateMenuDialogConfig = {\r\n      entityGuid: this.entityGuid(),\r\n    };\r\n\r\n    this.#openDialog(config, translationStateAny, translatableFields);\r\n  }\r\n\r\n  #openDialog(\r\n    config: TranslateMenuDialogConfig,\r\n    translationState: TranslationState,\r\n    translatableFields: string[]\r\n  ): void {\r\n    const dialogData: TranslateMenuDialogData = {\r\n      config,\r\n      translationState: {\r\n        language: translationState.language,\r\n        linkType: translationState.linkType,\r\n      },\r\n      isTranslateMany: true,\r\n      translatableFields,\r\n    };\r\n\r\n    this.matDialog.open(TranslateMenuDialogComponent, {\r\n      autoFocus: false,\r\n      data: dialogData,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '400px',\r\n    });\r\n  }\r\n}","@if (!isPrimaryLang() || translatePrimaryLanguage()) {\r\n  <div>\r\n    <button mat-button [disabled]=\"readOnly().isReadOnly || slotIsEmpty()\" [matMenuTriggerFor]=\"menu\">\r\n      <span class=\"my-flex-inside\">\r\n        {{ 'LangMenu.Translate' | translate | uppercase }}\r\n        &nbsp;&nbsp;\r\n        <mat-icon class=\"eav-translate-icon\">translate</mat-icon>\r\n      </span>\r\n    </button>\r\n    <mat-menu #menu=\"matMenu\">\r\n      <ng-template matMenuContent>\r\n        @if (!isPrimaryLang()) {\r\n          <button mat-menu-item (click)=\"unlockAll()\">{{ 'LangMenu.TranslateAll' | translate }}</button>\r\n        }\r\n        <button mat-menu-item (click)=\"autoTranslateMany()\">\r\n          {{ 'LangMenu.AutoTranslateAll' | translate }}\r\n          <app-feature-icon-indicator [featureNameId]=\"'EditUiTranslateWithGoogle'\"></app-feature-icon-indicator>\r\n        </button>\r\n        @if (!isPrimaryLang()) {\r\n          <button mat-menu-item (click)=\"lockAll()\">{{ 'LangMenu.NoTranslateAll' | translate }}</button>\r\n        }\r\n        <button mat-menu-item (click)=\"openTranslateMenuDialogMany()\">\r\n          {{ 'LangMenu.Link' | translate }}\r\n        </button>\r\n      </ng-template>\r\n    </mat-menu>\r\n  </div>\r\n}\r\n","import { CdkDrag, CdkDragHandle } from '@angular/cdk/drag-drop';\r\nimport { AfterViewChecked, Component, ElementRef, inject, input, OnDestroy, OnInit, TemplateRef, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialog, MatDialogRef, MatDialogState } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { transient } from '../../../../../../core';\r\nimport { FeatureNames } from '../../../features/feature-names';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { eavConstants } from '../../../shared/constants/eav.constants';\r\nimport { MousedownStopPropagationDirective } from '../../../shared/directives/mousedown-stop-propagation.directive';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { EditForm, EditPrep, ItemIdentifierHeader } from '../../../shared/models/edit-form.model';\r\nimport { SafeHtmlPipe } from '../../../shared/pipes/safe-html.pipe';\r\nimport { DialogRoutingService } from '../../../shared/routing/dialog-routing.service';\r\nimport { EntityService } from '../../../shared/services/entity.service';\r\nimport { computedObj, signalObj } from '../../../shared/signals/signal.utilities';\r\nimport { EditControlsBuilderDirective } from '../../fields/builder/fields-builder.directive';\r\nimport { ChangeAnchorTargetDirective } from '../../fields/directives/change-anchor-target.directive';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { FormDataService } from '../../form/form-data.service';\r\nimport { FormsStateService } from '../../form/forms-state.service';\r\nimport { EditForceReloadService } from '../../routing/edit-force-reload.service';\r\nimport { EditRoutingService } from '../../routing/edit-routing.service';\r\nimport { EntityReader } from '../../shared/helpers/entity-reader';\r\nimport { EavEntity, EavItem } from '../../shared/models/eav';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { ItemService } from '../../state/item.service';\r\nimport { buildContentTypeFeatures, getItemForTooltip, getNoteProps } from '../entity-form.helpers';\r\nimport { EntityTranslateMenuComponent } from '../entity-translate-menu/entity-translate-menu';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  fetchNote: true,\r\n  noteFormData: true,\r\n};\r\n\r\n/**\r\n * This wraps a single entity in the multi-entities-form.\r\n */\r\n@Component({\r\n  selector: 'app-edit-entity-form',\r\n  templateUrl: './entity-form.html',\r\n  styleUrls: ['./entity-form.scss'],\r\n  imports: [\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    CdkDrag,\r\n    CdkDragHandle,\r\n    MatSlideToggleModule,\r\n    EntityTranslateMenuComponent,\r\n    ChangeAnchorTargetDirective,\r\n    EditControlsBuilderDirective,\r\n    TranslateModule,\r\n    TippyDirective,\r\n    SafeHtmlPipe,\r\n    MousedownStopPropagationDirective,\r\n  ]\r\n})\r\nexport class EntityFormComponent implements OnInit, AfterViewChecked, OnDestroy {\r\n\r\n  log = classLog({ EntityFormComponent }, logSpecs);\r\n\r\n  @ViewChild('noteTrigger', { read: ElementRef }) private noteTriggerRef?: ElementRef<HTMLButtonElement>;\r\n  @ViewChild('noteTemplate') private noteTemplateRef?: TemplateRef<undefined>;\r\n\r\n  entityGuid = input<string>();\r\n  index = input<number>();\r\n\r\n  protected formConfig = inject(FormConfigService);\r\n  #fieldsSettingsSvc = inject(FieldsSettingsService);\r\n  #formsStateSvc = inject(FormsStateService);\r\n  #translate = inject(TranslateService);\r\n  #versioningReloader = transient(EditForceReloadService);\r\n\r\n  collapse = false;\r\n  noteTouched: boolean = false;\r\n\r\n  #features = inject(FeaturesService);\r\n  #editUiShowNotes = this.#features.isEnabled[FeatureNames.EditUiShowNotes];\r\n  #editUiShowMetadataFor = this.#features.isEnabled[FeatureNames.EditUiShowMetadataFor];\r\n\r\n  /** Languages */\r\n  languages = this.formConfig.language;\r\n\r\n  /** Content-Type Settings */\r\n  ctSettings = computedObj('ctSettings', () => {\r\n    const s = this.#fieldsSettingsSvc.contentTypeSettings();\r\n    const features = s.Features;\r\n    const ctFeatures = buildContentTypeFeatures(s.Features);\r\n\r\n    return {\r\n      itemTitle: s._itemTitle,\r\n      slotCanBeEmpty: s._slotCanBeEmpty,\r\n      slotIsEmpty: s._slotIsEmpty,\r\n      editInstructions: s.EditInstructions,\r\n      features,\r\n      showNotes: ctFeatures[FeatureNames.EditUiShowNotes] ?? this.#editUiShowNotes(),\r\n      showMdFor: ctFeatures[FeatureNames.EditUiShowMetadataFor] ?? this.#editUiShowMetadataFor(),\r\n    };\r\n  });\r\n\r\n  readOnly = computedObj('readOnly', () => this.#formsStateSvc.readOnly().isReadOnly);\r\n\r\n  /** Item-For (Target) Tooltip */\r\n  itemForTooltip = computedObj('itemForTooltip', () => {\r\n    const item = this.itemSvc.getItemFor(this.entityGuid());\r\n    return getItemForTooltip(item, this.#translate);\r\n  });\r\n\r\n  #retriggerNoteProps = signalObj<boolean>('retriggerNoteProps', false);\r\n  noteProps = computedObj('noteProps', () => {\r\n    this.#retriggerNoteProps(); // dependency to retrigger when #retriggerNoteProps changes\r\n    const entityGuid = this.entityGuid();\r\n    const languages = this.formConfig.language();\r\n    const note = this.itemSvc.getItemNote(entityGuid);\r\n    const notCreatedYet = this.itemSvc.get(entityGuid).Entity.Id === 0;\r\n    return getNoteProps(note, languages, notCreatedYet);\r\n  });\r\n\r\n  private noteRef?: MatDialogRef<undefined, any>;\r\n\r\n  #formDataSvc = transient(FormDataService);\r\n  #entitySvc = transient(EntityService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private itemSvc: ItemService,\r\n    private editRoutingSvc: EditRoutingService,\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n  ) { }\r\n\r\n  ngAfterViewChecked() {\r\n    // change detection inside note template seems to be independent of this component and without forcing checks\r\n    // throws ExpressionChangedAfterItHasBeenCheckedError\r\n    (this.noteRef?._containerInstance as any)?._changeDetectorRef?.detectChanges();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Update the notes whenever a child form is closed\r\n    this.#dialogRouter.doOnDialogClosed(() => this.#fetchNote());\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.noteRef?.close();\r\n  }\r\n\r\n  toggleCollapse() {\r\n    this.collapse = !this.collapse;\r\n  }\r\n\r\n  toggleSlotIsEmpty() {\r\n    const entityGuid = this.entityGuid();\r\n    const oldHeader = this.itemSvc.getItemHeader(entityGuid);\r\n    const newHeader: ItemIdentifierHeader = {\r\n      ...oldHeader,\r\n      IsEmpty: !oldHeader.IsEmpty,\r\n    };\r\n    const l = this.log.fn('toggleSlotIsEmpty', { oldHeader, newHeader });\r\n    this.itemSvc.updater.updateItemHeader(entityGuid, newHeader);\r\n    l.end();\r\n  }\r\n\r\n  openHistory() {\r\n    const item = this.itemSvc.get(this.entityGuid());\r\n    this.#versioningReloader.watchToRefreshOnVersionsClosed();\r\n    this.#dialogRouter.navRelative([`versions/${item.Entity.Id}`]);\r\n  }\r\n\r\n  toggleNote(event: Event) {\r\n    const isOpen = this.noteRef?.getState() === MatDialogState.OPEN;\r\n    if (event.type === 'pointerenter' && this.noteTouched == false) this.openNote();\r\n    else if (event.type === 'pointerleave' && this.noteTouched == false) this.noteRef?.close();\r\n    else if (event.type === 'click' && isOpen) {\r\n      if (this.noteTouched == false)\r\n        this.noteTouched = true;\r\n      else {\r\n        this.noteRef?.close();\r\n        this.noteTouched = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  openNote() {\r\n    const triggerPosition = this.noteTriggerRef.nativeElement.getBoundingClientRect();\r\n    this.noteRef = this.matDialog.open(this.noteTemplateRef, {\r\n      autoFocus: false,\r\n      hasBackdrop: false,\r\n      disableClose: true,\r\n      restoreFocus: false,\r\n      closeOnNavigation: false,\r\n      position: {\r\n        top: `${triggerPosition.bottom}px`,\r\n        left: `${triggerPosition.left - 200}px`,\r\n      },\r\n      viewContainerRef: this.viewContainerRef,\r\n      panelClass: 'note-dialog',\r\n    });\r\n  }\r\n\r\n  editNote(note?: EavEntity) {\r\n    const entityGuid = this.entityGuid();\r\n    const l = this.log.fn('editNote', { note });\r\n    const item = this.itemSvc.get(entityGuid);\r\n    if (item.Entity.Id === 0) {\r\n      l.end('Item not saved yet, ID = 0');\r\n      return;\r\n    }\r\n\r\n    const form: EditForm = {\r\n      items: [\r\n        note == null\r\n          ? EditPrep.newMetadata(entityGuid, eavConstants.contentTypes.notes, eavConstants.metadata.entity, true)\r\n          : EditPrep.editId(note.Id),\r\n      ],\r\n    };\r\n    this.editRoutingSvc.open(null, null, form);\r\n  }\r\n\r\n  deleteNote(note: EavEntity) {\r\n    const language = this.formConfig.language();\r\n    const title = new EntityReader(language).getBestValue(note.Attributes.Title); // LocalizationHelpers.translate(language, note.Attributes.Title, null);\r\n    const id = note.Id;\r\n    if (!confirm(this.#translate.instant('Data.Delete.Question', { title, id })))\r\n      return;\r\n    this.#entitySvc.delete(this.formConfig.config.appId, eavConstants.contentTypes.notes, note.Id, false).subscribe(() => {\r\n      this.noteRef?.close();\r\n      this.#fetchNote();\r\n    });\r\n  }\r\n\r\n  #fetchNote() {\r\n    const entityGuid = this.entityGuid();\r\n    const item = this.itemSvc.get(entityGuid);\r\n    const l = this.log.fnIf('fetchNote', { entityGuid, item, id: item.Entity.Id });\r\n    if (item.Entity.Id === 0)\r\n      return l.end('no change');\r\n\r\n    const editItems = [EditPrep.editId(item.Entity.Id)];\r\n    this.#formDataSvc.fetchFormData(JSON.stringify(editItems))\r\n      .subscribe(formData => {\r\n        const l2 = this.log.fn('noteFormData', { formData });\r\n        // Check if the item is still in the service being edited, as it could have been flushed when this triggers on version-restore\r\n        if (!this.itemSvc.get(entityGuid))\r\n          return l2.end(`Item ${entityGuid} not found in service, was probably flushed for reload`);\r\n\r\n        // Parse and update the note metadata\r\n        const items = formData.Items.map(i => EavItem.dtoToEav(i));\r\n        this.itemSvc.updater.updateItemMetadata(entityGuid, items[0].Entity.Metadata);\r\n        this.#retriggerNoteProps.set(true);\r\n        l2.end('updated note');\r\n      });\r\n    l.end('started note-loading');\r\n  }\r\n}\r\n","<!--\r\n Header containing title, notes, slot empty toggle, metadata-for information, history button and translate menu\r\n-->\r\n<mat-card appearance=\"raised\" class=\"eav-card-group-parent shadow-bottom-z-1\">\r\n  <div class=\"my-title-bar-outer eav-card-header-group-parent\">\r\n    <!-- ^v icon to indicate state + Title -->\r\n    <div class=\"my-title-bar eav-card-title-group mat-headline-4\" (click)=\"toggleCollapse()\">\r\n      <mat-icon class=\"title-arrow\">\r\n        {{ collapse ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}\r\n      </mat-icon>\r\n      <span class=\"title\">\r\n        {{ ctSettings().itemTitle || ('ItemCard.DefaultTitle' | translate) }}\r\n      </span>\r\n    </div>\r\n\r\n    <!-- Notes button -->\r\n    @if (ctSettings().showNotes) {\r\n      <button\r\n        type=\"button\"\r\n        #noteTrigger\r\n        mat-icon-button\r\n        class=\"eav-note {{ noteProps().triggerClass }}\"\r\n        [disabled]=\"readOnly()\"\r\n        [tippyTranslate]=\"noteProps().tooltip\"\r\n        [tippyDisabled]=\"readOnly()\"\r\n        [disableRipple]=\"noteProps().itemNotSaved\"\r\n        (pointerenter)=\"noteProps().note ? toggleNote($event) : null\"\r\n        (pointerleave)=\"noteProps().note ? toggleNote($event) : null\"\r\n        (click)=\"noteProps().note ? toggleNote($event) : editNote()\"\r\n      >\r\n        <mat-icon>{{ noteProps().iconName }}</mat-icon>\r\n      </button>\r\n    }\r\n\r\n    <!-- Note template to show on demand -->\r\n    <ng-template #noteTemplate>\r\n      <div\r\n        class=\"eav-note-wrapper {{ noteProps().noteClass }}\"\r\n        cdkDrag\r\n        cdkDragRootElement=\".cdk-overlay-pane\"\r\n        cdkDragBoundary=\"body\"\r\n        (pointerdown)=\"noteTouched = true\"\r\n      >\r\n        <div class=\"eav-note-actions\" cdkDragHandle>\r\n          <button mat-icon-button appMousedownStopPropagation (click)=\"editNote(noteProps().note)\">\r\n            <mat-icon>edit</mat-icon>\r\n          </button>\r\n          <button mat-icon-button appMousedownStopPropagation (click)=\"deleteNote(noteProps().note)\">\r\n            <mat-icon>delete</mat-icon>\r\n          </button>\r\n          <button mat-icon-button appMousedownStopPropagation (click)=\"toggleNote($event)\">\r\n            <mat-icon>close</mat-icon>\r\n          </button>\r\n        </div>\r\n        <div class=\"eav-note-content eav-hide-scrollbar\" [innerHtml]=\"noteProps().noteHtml | safeHtml\"></div>\r\n      </div>\r\n    </ng-template>\r\n\r\n    <!-- Slot Empty Toggle -->\r\n    @if (ctSettings().slotCanBeEmpty) {\r\n      <mat-slide-toggle\r\n        class=\"empty-slot-toggle\"\r\n        (change)=\"toggleSlotIsEmpty()\"\r\n        [checked]=\"!ctSettings().slotIsEmpty\"\r\n        [disabled]=\"readOnly() || languages().current !== languages().primary\"\r\n        [tippyTranslate]=\"!ctSettings().slotIsEmpty ? 'ItemCard.SlotUsedTrue' : 'ItemCard.SlotUsedFalse'\"\r\n        [tippyDisabled]=\"readOnly() || languages().current !== languages().primary\"\r\n      >\r\n      </mat-slide-toggle>\r\n    }\r\n\r\n    <!-- Metadata-For Information -->\r\n    @if (ctSettings().showMdFor && itemForTooltip()) {\r\n      <div class=\"icon-box\" [tippy]=\"itemForTooltip()\">\r\n        <mat-icon>local_offer</mat-icon>\r\n      </div>\r\n    }\r\n\r\n    <!-- History Button -->\r\n    @if (formConfig.config.enableHistory) {\r\n      <button type=\"button\" mat-icon-button tippyTranslate=\"Form.Buttons.History.Tip\" [disabled]=\"readOnly()\" (click)=\"openHistory()\">\r\n        <mat-icon>history</mat-icon>\r\n      </button>\r\n    }\r\n    <app-entity-translate-menu [entityGuid]=\"entityGuid()\"> </app-entity-translate-menu>\r\n  </div>\r\n  <mat-card-content class=\"eav-card-content-group-parent\" [style.display]=\"collapse ? 'none' : 'block'\">\r\n    <div class=\"eav-layout-grid\">\r\n      <div class=\"eav-layout-grid__inner\">\r\n        @if (ctSettings().editInstructions) {\r\n          <div class=\"eav-layout-grid__cell--span-12 mat-body-2\" align=\"start\">\r\n            <div class=\"description\" appChangeAnchorTarget [innerHtml]=\"ctSettings().editInstructions | safeHtml\"></div>\r\n          </div>\r\n        }\r\n        <div class=\"eav-layout-grid__cell--span-12\">\r\n          <!-- Pass input index -->\r\n          <div appEditControlsBuilder [attr.data-index]=\"index()\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-card-content>\r\n</mat-card>\r\n","import { Injectable } from '@angular/core';\r\nimport { UntypedFormBuilder, UntypedFormGroup } from '@angular/forms';\r\nimport { InputTypeCatalog } from '../../../shared/fields/input-type-catalog';\r\nimport { InputTypeHelpers } from '../../../shared/fields/input-type-helpers';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { FieldLogicManager } from '../../fields/logic/field-logic-manager';\r\nimport { FieldLogicWithValueInit } from '../../fields/logic/field-logic-with-init';\r\nimport { AdamCacheService } from '../../shared/adam/adam-cache.service';\r\nimport { ValidationHelpers, ValidationHelperSpecs } from '../../shared/validation/validation.helpers';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { EntityFormStateService } from '../entity-form-state.service';\r\nimport { FieldInitSpecs } from './field-init-specs.model';\r\n\r\n@Injectable()\r\nexport class FormFieldsBuilderService {\r\n\r\n  log = classLog({FormFieldsBuilderService}, null);\r\n\r\n  constructor(\r\n    private fieldsSettingsSvc: FieldsSettingsService,\r\n    private adamCacheSvc: AdamCacheService,\r\n    private formBuilder: UntypedFormBuilder,\r\n    private entityFormConfigSvc: EntityFormStateService,\r\n  ) { }\r\n\r\n  public createFields(entityGuid: string, form: UntypedFormGroup, allFields: FieldInitSpecs[]) {\r\n\r\n    const l = this.log.fn('createFields');\r\n\r\n    // 1. create missing controls - usually just on first cycle\r\n    const fieldsToCreate = allFields.filter(({ inputType, hasControl }) =>\r\n      !InputTypeHelpers.isEmpty(inputType)    // Empty type, skip\r\n      && !hasControl                          // If control already exists, skip\r\n    );\r\n\r\n    this.log.a(`create missing controls ${fieldsToCreate.length} of ${allFields.length}`, { fieldsForNgForm: fieldsToCreate });\r\n\r\n    // Generate any fields which don't exist yet (usually only on first cycle)\r\n    for (const fields of fieldsToCreate) {\r\n      const { name: fieldName, props: fieldProps, inputType, value } = fields;\r\n      // The initial value at the moment the control is first created in this language\r\n      let initialValue = value;\r\n\r\n      // Special treatment for wysiwyg fields\r\n      // Note by 2dm 2024-08-19 - not sure if this actually works, because the changed buildValue is maybe never reused\r\n      // ...except for directly below\r\n      if (inputType === InputTypeCatalog.StringWysiwyg && initialValue) {\r\n        const logic = FieldLogicManager.singleton().get(InputTypeCatalog.StringWysiwyg);\r\n        const adamItems = this.adamCacheSvc.getAdamSnapshot(entityGuid, fieldName);\r\n        fields.value = initialValue = (logic as unknown as FieldLogicWithValueInit).processValueOnLoad(initialValue, adamItems);\r\n      }\r\n\r\n      // Build control in the Angular form with validators\r\n      const disabled = fieldProps.settings.uiDisabled;\r\n      const fss = this.fieldsSettingsSvc;\r\n      const valSpecs = new ValidationHelperSpecs(fieldName, inputType, fss.settings[fieldName], fss.fieldProps[fieldName], () => fss.pickerData);\r\n      const validators = ValidationHelpers.getValidators(valSpecs, inputType);\r\n      const newControl = this.formBuilder.control({ disabled, value: initialValue }, validators);\r\n      // TODO: build all fields at once. That should be faster\r\n      form.addControl(fieldName, newControl);\r\n    }\r\n\r\n    this.entityFormConfigSvc.controlsCreated.set(true);\r\n    l.end();\r\n  }\r\n}\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { UntypedFormGroup } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { ServiceBase } from '../../../shared/services/service-base';\r\nimport { FieldValueHelpers } from '../../shared/helpers/field-value.helpers';\r\nimport { ItemValuesOfLanguage } from '../../state/item-values-of-language.model';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { FieldInitSpecs } from './field-init-specs.model';\r\nimport { UiControl } from '../../shared/controls/ui-control';\r\n\r\nconst logSpecs = {\r\n  keepFieldsAndStateInSync: true,\r\n};\r\n\r\n@Injectable()\r\nexport class FormFieldsSyncService extends ServiceBase {\r\n\r\n  log = classLog({FormFieldsSyncService}, logSpecs);\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  keepFieldsAndStateInSync(form: UntypedFormGroup, fieldsToProcess: Observable<FieldInitSpecs[]>) {\r\n    const l = this.log.fnIf('keepFieldsAndStateInSync');\r\n    // This has multiple features, possibly we should separate them\r\n    // 2. Sync values between form and fieldProps - eg. on value changes which are from formulas\r\n    // 3. Ensure disabled state is in sync eg. after settings recalculations\r\n    // 4. Ensure validators are run in such scenarios\r\n    this.subscriptions.add(\r\n      fieldsToProcess.subscribe(allFields => {\r\n        // Figure out which fields may require further processing\r\n        const fieldsOnForm = allFields.filter(set => set.hasControl);\r\n\r\n        // 2. sync values - create list comparing the old raw values and new fieldProps - eg. modified by formulas\r\n        l.a(`sync values for max ${fieldsOnForm.length} controls`);\r\n        const oldValues: ItemValuesOfLanguage = form.getRawValue();\r\n        const newValues: ItemValuesOfLanguage = {};\r\n        for (const { name: fieldName, value } of fieldsOnForm)\r\n          newValues[fieldName] = value;\r\n\r\n        const changes = FieldValueHelpers.getItemValuesChanges(oldValues, newValues);\r\n        if (changes != null) {\r\n          l.a(`patching form as it changed (${Object.keys(changes).length}`, { changes, oldValues, newValues })\r\n          // controls probably don't need to set touched and dirty for this kind of update.\r\n          // This update usually happens for language change, formula or updates on same entity in another Edit Ui.\r\n          // In case controls should be updated, update with control.markAsTouched and control.markAsDirty.\r\n          // Marking the form will not mark controls, but marking controls marks the form\r\n          form.patchValue(changes);\r\n        } else\r\n          l.a('no changes detected', { oldValues, newValues });\r\n\r\n        // 3. sync disabled if state not matching\r\n        // Important: Fires valueChange event for every single control\r\n        l.a('sync \"disabled\" state');\r\n        for (const { control, props } of fieldsOnForm)\r\n          UiControl.disable(control, props.settings.uiDisabled);\r\n\r\n        // 4. run validators - required because formulas can recalculate validators and if value doesn't change, new validator will not run\r\n        l.a('run validators');\r\n        for (const { control } of fieldsOnForm)\r\n          control.updateValueAndValidity();\r\n      })\r\n    );\r\n\r\n    l.end();\r\n  }\r\n}\r\n","import { Component, inject, Injector, input, OnDestroy, OnInit } from '@angular/core';\r\nimport { toObservable } from '@angular/core/rxjs-interop';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { filter, map, Observable, take } from 'rxjs';\r\nimport { transient } from '../../../../../../core';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { FormulaDesignerService } from '../../formulas/designer/formula-designer.service';\r\nimport { FieldsSettingsService } from '../../state/fields-settings.service';\r\nimport { FieldsTranslateService } from '../../state/fields-translate.service';\r\nimport { EntityFormStateService } from '../entity-form-state.service';\r\nimport { EntityFormSyncService } from '../entity-form-sync.service';\r\nimport { EntityFormComponent } from '../entity-form/entity-form';\r\nimport { FieldInitSpecs } from './field-init-specs.model';\r\nimport { FormFieldsBuilderService } from './form-fields-builder.service';\r\nimport { FormFieldsSyncService } from './form-fields-sync.service';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  getFieldsToProcess: false,\r\n  ngOnInit: false,\r\n  ['fieldsToProcess$']: true,\r\n}\r\n\r\n@Component({\r\n  selector: 'app-edit-entity-form-builder',\r\n  templateUrl: './form-builder.html',\r\n  styleUrls: ['./form-builder.scss'],\r\n  imports: [\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    EntityFormComponent,\r\n  ],\r\n  providers: [\r\n    FieldsSettingsService, // used for all field settings - must be shared from here\r\n    FieldsTranslateService, // used for field translations and uses FieldsSettingsService, so also shared here\r\n    EntityFormStateService, // used for sharing information about this entity form\r\n  ]\r\n})\r\nexport class EntityFormBuilderComponent implements OnInit, OnDestroy {\r\n  entityGuid = input<string>();\r\n  index = input<number>();\r\n\r\n  log = classLog({ EntityFormBuilderComponent }, logSpecs);\r\n\r\n  /** Inject the form state service to start it here */\r\n  #formStateSvc = inject(EntityFormStateService);\r\n\r\n  #formulaDesignerService = inject(FormulaDesignerService);\r\n  #fieldsTranslateSvc = inject(FieldsTranslateService);\r\n  #fieldsSettingsSvc = inject(FieldsSettingsService);\r\n  #injector = inject(Injector);\r\n\r\n  // Transient services\r\n  #formFieldsBuilderService = transient(FormFieldsBuilderService);\r\n  #fieldsSyncSvc = transient(FormFieldsSyncService);\r\n  #formSyncSvc = transient(EntityFormSyncService);\r\n\r\n  constructor() { }\r\n\r\n  public form = this.#formStateSvc.formGroup;\r\n\r\n  ngOnInit() {\r\n    const entityGuid = this.entityGuid();\r\n    const l = this.log.fnIf('ngOnInit', { entityGuid });\r\n    this.#fieldsSettingsSvc.init(entityGuid);\r\n    this.#formulaDesignerService.itemSettingsServices[entityGuid] = this.#fieldsSettingsSvc;\r\n    this.#fieldsTranslateSvc.init(entityGuid);\r\n\r\n    const fields$ = this.#getFieldsToProcess$(entityGuid);\r\n\r\n    // Create all the controls in the form right at the beginning\r\n    fields$.pipe(take(1)).subscribe(allFields => this.#formFieldsBuilderService.createFields(entityGuid, this.form, allFields));\r\n\r\n    this.#fieldsSyncSvc.keepFieldsAndStateInSync(this.form, fields$);\r\n\r\n    // Sync state to parent: dirty, isValid, value changes\r\n    this.#formSyncSvc.setupSync(entityGuid);\r\n\r\n    l.end();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.#fieldsSettingsSvc.disableForCleanUp();\r\n  }\r\n\r\n  #getFieldsToProcess$(entityGuid: string): Observable<FieldInitSpecs[]> {\r\n    const l = this.log.fnIf('getFieldsToProcess', null, entityGuid);\r\n    const form = this.form;\r\n\r\n    const allProps = this.#fieldsSettingsSvc.allProps;\r\n    const allProps$ = toObservable(allProps, { injector: this.#injector });\r\n\r\n    // 1. Prepare: Take field props and enrich initial values and input types\r\n    const fieldsToProcess: Observable<FieldInitSpecs[]> = allProps$\r\n      .pipe(\r\n        filter(fields => fields != null && Object.keys(fields).length > 0),\r\n        map(allFields => {\r\n          const fields: FieldInitSpecs[] = Object.entries(allFields)\r\n            .map(([name, props]) => {\r\n              const hasControl = form.controls.hasOwnProperty(name);\r\n              const control = hasControl ? form.controls[name] : null;\r\n              return {\r\n                name,\r\n                props,\r\n                inputType: props.constants.inputTypeSpecs.inputType,\r\n                value: props.value,\r\n                hasControl,\r\n                control,\r\n              } satisfies FieldInitSpecs;\r\n            });\r\n          this.log.aIf('fieldsToProcess$', { entityGuid, fields });\r\n          return fields;\r\n        }),\r\n      );\r\n    return l.rSilent(fieldsToProcess);\r\n  }\r\n}\r\n","<form class=\"dynamic-form\" [formGroup]=\"form\">\r\n  <app-edit-entity-form [entityGuid]=\"entityGuid()\" [index]=\"index()\"></app-edit-entity-form>\r\n</form>\r\n","import { EavAttributesOfTypeDto, EavValuesDto } from '.';\r\nimport { EavEntityAttributes } from '../eav';\r\n\r\n/**\r\n * A JSON representation of EavAttributes.\r\n * It's basically a list containing each type (string, number, etc.).\r\n * That then contains an array of all the attributes of that type.\r\n * This is a DTO (Data Transfer Object).\r\n */\r\nexport class EavAttributesDto {\r\n  [attributeType: string]: EavAttributesOfTypeDto<any>;\r\n\r\n  static eavToDto(attributes: EavEntityAttributes): EavAttributesDto {\r\n    const attributesDto: EavAttributesDto = {};\r\n\r\n    for (const [name, values] of Object.entries(attributes)) {\r\n      const type = values.Type;\r\n      if (attributesDto[type] == null)\r\n        attributesDto[type] = {};\r\n      attributesDto[type][name] = EavValuesDto.eavToDto(values);\r\n    }\r\n    return attributesDto;\r\n  }\r\n}\r\n","import { EavAttributesDto } from '.';\r\nimport { EavEntity, EavFor, EavType } from '../eav';\r\n\r\n/**\r\n * A JSON representation of an EavEntity.\r\n * This is a DTO (Data Transfer Object).\r\n */\r\nexport class EavEntityDto {\r\n  Attributes: EavAttributesDto;\r\n  Guid: string;\r\n  Id: number;\r\n  Owner: string;\r\n  Type: EavType;\r\n  Version: number;\r\n  For?: EavFor;\r\n  Metadata?: EavEntityDto[];\r\n\r\n  static eavToDto(entity: EavEntity): EavEntityDto {\r\n    const attributesDto = EavAttributesDto.eavToDto(entity.Attributes);\r\n    const metadataDto = this.eavToDtoMany(entity.Metadata);\r\n\r\n    const entityDto: EavEntityDto = {\r\n      Attributes: attributesDto,\r\n      Guid: entity.Guid,\r\n      Id: entity.Id,\r\n      Owner: entity.Owner,\r\n      Type: entity.Type,\r\n      Version: entity.Version,\r\n      For: entity.For,\r\n      Metadata: metadataDto,\r\n    };\r\n    return entityDto;\r\n  }\r\n\r\n  private static eavToDtoMany(entities: EavEntity[]): EavEntityDto[] {\r\n    if (entities == null)\r\n      return null;\r\n\r\n    const result = entities.map(e => EavEntityDto.eavToDto(e));\r\n    return result;\r\n  }\r\n}\r\n","import { EavEntityDto } from '.';\r\nimport { ItemIdentifierHeader } from '../../../../shared/models/edit-form.model';\r\nimport { EavItem } from '../eav';\r\n\r\n/**\r\n * A bundle/set for an Entity.\r\n * Contains the Entity and the Header.\r\n * This is a DTO (Data Transfer Object).\r\n */\r\nexport class EavEntityBundleDto {\r\n  Entity: EavEntityDto;\r\n  Header: ItemIdentifierHeader;\r\n\r\n  static bundleToDto(item: EavItem): EavEntityBundleDto {\r\n    const entity1 = EavEntityDto.eavToDto(item.Entity);\r\n\r\n    const bundleDto: EavEntityBundleDto = {\r\n      Entity: entity1,\r\n      Header: item.Header,\r\n    };\r\n    return bundleDto;\r\n  }\r\n}\r\n","import { EavField } from '../eav';\r\n\r\n/**\r\n * A JSON representation of EavValues.\r\n * The keys are a string containing a CSV list of assigned dimensions, the values are the values.\r\n * This is a DTO (Data Transfer Object).\r\n */\r\nexport class EavValuesDto<T> {\r\n  [languages: string]: T;\r\n\r\n  static eavToDto<T>(eavValues: EavField<T>): EavValuesDto<T> {\r\n    const dtoValue: EavValuesDto<T> = {};\r\n    for (const value of eavValues.Values) {\r\n      const dimensions = value.dimensions.map(dimension => dimension.dimCode).join();\r\n      dtoValue[dimensions] = value.value;\r\n    }\r\n    return dtoValue;\r\n  }\r\n}\r\n","import { Component, inject, ViewContainerRef } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { transient } from '../../../../../core';\r\nimport { FeatureDetailsDialogComponent } from '../../apps-management/licence-info/feature-details-dialog/feature-details-dialog';\r\nimport { classLog, commonSpecs } from '../../shared/logging';\r\nimport { FeaturesService } from '../features.service';\r\nimport { FeatureDetailService } from '../services/feature-detail.service';\r\n\r\nconst logSpecs = {\r\n  ...commonSpecs,\r\n  unlicensedFeatures: false,\r\n};\r\n\r\n@Component({\r\n    selector: 'app-features-used-but-unlicensed-dialog',\r\n    templateUrl: './features-used-but-unlicensed-dialog.html',\r\n    imports: [\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        TranslateModule,\r\n        FeatureDetailsDialogComponent,\r\n    ]\r\n})\r\nexport class FeaturesUsedButUnlicensedComponent {\r\n\r\n  log = classLog({ FeaturesUsedButUnlicensedComponent }, logSpecs);\r\n\r\n  #features = inject(FeaturesService);\r\n\r\n  #featureDetails = transient(FeatureDetailService);\r\n\r\n  constructor() {\r\n    const l = this.log.fnIf('constructor');\r\n  }\r\n\r\n  protected features = this.#featureDetails.getFeatureDetails(this.#features.unlicensedFeatures());\r\n  \r\n\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param dialog\r\n * @param viewContainerRef the container ref is important to get services (eg. features) from the parent component\r\n */\r\nexport function openFeaturesUsedButUnlicensedDialog(dialog: MatDialog, viewContainerRef: ViewContainerRef) {\r\n  dialog.open(FeaturesUsedButUnlicensedComponent, {\r\n    autoFocus: false,\r\n    viewContainerRef: viewContainerRef,\r\n    width: '600px',\r\n  });\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>Preview of Features which are not Licensed</mat-card-title>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <p>\r\n      99% of all features in 2sxc are free. But some very advanced features are only for patrons (supporters) and enterprise customers. You\r\n      are permitted to try these features, but to really use them you must get a license.\r\n    </p>\r\n    <p>\r\n      This message should remind you  of that.\r\n      <br />\r\n      Please contact your account manager to get them licensed, or visit the\r\n      <a href=\"https://patrons.2sxc.org/\" target=\"_blank\">patrons</a> to learn more.\r\n    </p>\r\n    <p>The following features are currently in preview:</p>\r\n    @for (feature of features(); track feature.nameId) {\r\n      <app-feature-details-dialog\r\n        [specs]=\"{ feature: feature, showGuid: false, showStatus: true, showClose: false }\"\r\n      ></app-feature-details-dialog>\r\n      <br />\r\n    }\r\n  </mat-card-content>\r\n</mat-card>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { Of } from '../../../../../../../core';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FormPublishingService } from '../../../form/form-publishing.service';\r\nimport { PublishModes } from '../../main/edit-dialog-main.models';\r\nimport { isCtrlS } from '../../main/keyboard-shortcuts';\r\n\r\n\r\n@Component({\r\n    selector: 'app-publish-status-dialog',\r\n    templateUrl: './publish-status-dialog.html',\r\n    styleUrls: ['./publish-status-dialog.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        MatListModule,\r\n        NgClass,\r\n        MatIconModule,\r\n        TranslateModule,\r\n    ]\r\n})\r\nexport class PublishStatusDialogComponent {\r\n  PublishModes = PublishModes;\r\n\r\n  protected publishMode = this.publishStatusService.getPublishMode(this.formConfig.config.formId)\r\n  protected options = this.formConfig.config.versioningOptions;\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<PublishStatusDialogComponent>,\r\n    private publishStatusService: FormPublishingService,\r\n    private formConfig: FormConfigService,\r\n  ) {\r\n    this.dialog.keydownEvents().subscribe(event => {\r\n      if (isCtrlS(event))\r\n        event.preventDefault();\r\n    });\r\n  }\r\n\r\n  setPublishMode(publishMode: Of<typeof PublishModes>) {\r\n    this.publishStatusService.setPublishMode(publishMode, this.formConfig.config.formId, this.formConfig);\r\n    this.closeDialog();\r\n  }\r\n\r\n  private closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>{{ 'PublishStatus.Dialog.Title' | translate }}</mat-card-title>\r\n    <mat-card-subtitle>{{ 'PublishStatus.Dialog.Intro' | translate }}</mat-card-subtitle>\r\n  </mat-card-header>\r\n  <mat-card-content class=\"eav-card-content__no-padding\">\r\n    <mat-nav-list toggle>\r\n      <mat-list-item lines=\"3\" (click)=\"setPublishMode(PublishModes.Show)\"\r\n        [disabled]=\"options[PublishModes.Show] !== true\"\r\n        [ngClass]=\"{ 'eav-list-item__focus': publishMode() === PublishModes.Show }\">\r\n        <mat-icon matListItemIcon>visibility</mat-icon>\r\n        <span matListItemTitle>{{ 'PublishStatus.Dialog.Show.Title' | translate }}</span>\r\n        <span>{{ 'PublishStatus.Dialog.Show.Body' | translate }}</span>\r\n      </mat-list-item>\r\n      <mat-list-item lines=\"3\" (click)=\"setPublishMode(PublishModes.Hide)\"\r\n        [disabled]=\"options[PublishModes.Hide] !== true\"\r\n        [ngClass]=\"{ 'eav-list-item__focus': publishMode() === PublishModes.Hide }\">\r\n        <mat-icon matListItemIcon>visibility_off</mat-icon>\r\n        <span matListItemTitle>{{ 'PublishStatus.Dialog.Hide.Title' | translate }}</span>\r\n        <span>{{ 'PublishStatus.Dialog.Hide.Body' | translate }}</span>\r\n      </mat-list-item>\r\n      <mat-list-item lines=\"3\" (click)=\"setPublishMode(PublishModes.Branch)\"\r\n        [disabled]=\"options[PublishModes.Branch] !== true\"\r\n        [ngClass]=\"{ 'eav-list-item__focus': publishMode() === PublishModes.Branch }\">\r\n        <mat-icon matListItemIcon svgIcon=\"draft-branch\"></mat-icon>\r\n        <span matListItemTitle>{{ 'PublishStatus.Dialog.Branch.Title' | translate }}</span>\r\n        <span>{{ 'PublishStatus.Dialog.Branch.Body' | translate }}</span>\r\n      </mat-list-item>\r\n    </mat-nav-list>\r\n  </mat-card-content>\r\n</mat-card>\r\n","import { UpperCasePipe } from '@angular/common';\r\nimport { Component, computed, inject, input, output, ViewContainerRef } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { openFeaturesUsedButUnlicensedDialog } from '../../../features/features-used-but-missing-dialog/features-used-but-unlicensed-dialog';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { FormPublishingService } from '../../form/form-publishing.service';\r\nimport { FormsStateService } from '../../form/forms-state.service';\r\nimport { LanguageService } from '../../localization/language.service';\r\nimport { LanguageSwitcherComponent } from './language-switcher/language-switcher';\r\nimport { PublishStatusDialogComponent } from './publish-status-dialog/publish-status-dialog';\r\n\r\n@Component({\r\n    selector: 'app-edit-dialog-header',\r\n    templateUrl: './edit-dialog-header.html',\r\n    styleUrls: ['./edit-dialog-header.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        LanguageSwitcherComponent,\r\n        UpperCasePipe,\r\n        TranslateModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class EditDialogHeaderComponent {\r\n  disabled = input<boolean>();\r\n  protected closeDialog = output<void>();\r\n\r\n  #formsStateSvc = inject(FormsStateService);\r\n  #features = inject(FeaturesService);\r\n\r\n  constructor(\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private languageService: LanguageService,\r\n    private publishStatusService: FormPublishingService,\r\n    public formConfig: FormConfigService,\r\n  ) { }\r\n\r\n  protected config = this.formConfig.config;\r\n  protected readOnly = this.#formsStateSvc.readOnly;\r\n  protected publishMode = this.publishStatusService.getPublishMode(this.formConfig.config.formId)\r\n\r\n  protected hasLanguages = computed(() => {\r\n    const languages = this.languageService.getAllSignal();\r\n    return languages().length > 0\r\n  });\r\n\r\n  protected showLicenseWarning = this.#features.hasUnlicensedFeatures;\r\n\r\n  close() {\r\n    this.closeDialog.emit();\r\n  }\r\n\r\n  openPublishStatusDialog() {\r\n    this.matDialog.open(PublishStatusDialogComponent, {\r\n      autoFocus: false,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '350px',\r\n    });\r\n  }\r\n\r\n  openUnlicensedDialog() {\r\n    openFeaturesUsedButUnlicensedDialog(this.matDialog, this.viewContainerRef);\r\n  }\r\n}\r\n","<mat-card class=\"eav-header\">\r\n  <!-- Close button to the left -->\r\n  <button\r\n    mat-icon-button\r\n    class=\"eav-exit-button\"\r\n    (click)=\"close()\"\r\n    [tippyTranslate]=\"'Form.Buttons.' + (config.isParentDialog ? 'Exit' : 'Return') + '.Tip'\"\r\n  >\r\n    <mat-icon class=\"eav-icon\">{{ config.isParentDialog ? 'clear' : 'arrow_back' }}</mat-icon>\r\n  </button>\r\n\r\n  <!-- Language Bar (if used). The empty div is always needed because ATM the alignment would otherwise be off (should fix) -->\r\n  <div class=\"eav-languages\">\r\n    @if (hasLanguages()) {\r\n      @defer {\r\n        <app-language-switcher [disabled]=\"disabled()\"></app-language-switcher>\r\n      }\r\n    }\r\n  </div>\r\n\r\n  <!-- END -->\r\n  @if (readOnly().isReadOnly) {\r\n    <mat-icon class=\"eav-hint-icon\" [tippyTranslate]=\"'General.ReadOnlyHint.' + readOnly().reason\"> lock </mat-icon>\r\n  }\r\n  @if (config.isCopy) {\r\n    <mat-icon class=\"eav-hint-icon\" tippyTranslate=\"General.CopyHint\"> file_copy </mat-icon>\r\n  }\r\n  <button\r\n    mat-button\r\n    class=\"eav-publish-button\"\r\n    [disabled]=\"readOnly().isReadOnly\"\r\n    (click)=\"openPublishStatusDialog()\"\r\n    [tippyTranslate]=\"'PublishStatus.' + publishMode() + '.Tip'\"\r\n  >\r\n    <span class=\"eav-publish-mode\">\r\n      {{ 'PublishStatus.Label' | translate }}\r\n      <b>{{ 'PublishStatus.' + publishMode() | translate | uppercase }}</b>\r\n    </span>\r\n  </button>\r\n  @if (showLicenseWarning()) {\r\n    <button mat-button tippyTranslate=\"License-EditUi-Warning-Tooltip\" (click)=\"openUnlicensedDialog()\">\r\n      {{ 'License-EditUi-Warning-Label' | translate }} \r\n    </button>\r\n  }\r\n</mat-card>\r\n","import { Directive, ElementRef, OnDestroy, OnInit } from '@angular/core';\r\nimport { delay, filter, fromEvent, map, merge, pairwise } from 'rxjs';\r\nimport { BaseDirective } from '../../../shared/directives/base.directive';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { mapUntilChanged } from '../../../shared/rxJs/mapUntilChanged';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { LanguageService } from '../../localization/language.service';\r\n\r\nconst classNext = 'next';\r\nconst classPrevious = 'previous';\r\nconst animationNames = ['move-next', 'move-previous'];\r\n\r\n@Directive({\r\n  selector: '[appFormSlide]',\r\n})\r\nexport class FormSlideDirective extends BaseDirective implements OnInit, OnDestroy {\r\n\r\n  log = classLog({FormSlideDirective});\r\n\r\n  constructor(\r\n    private elementRef: ElementRef<HTMLElement>,\r\n    private languageService: LanguageService,\r\n    private formConfig: FormConfigService,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    const l = this.log.fn('ngOnInit');\r\n    const languages = this.languageService.getAll();\r\n    const nativeElement = this.elementRef.nativeElement;\r\n    this.subscriptions.add(\r\n      merge(\r\n        // emit 'next' and 'previous' slide direction based on language change\r\n        this.formConfig.language$.pipe(\r\n          map(language => language.current),\r\n          mapUntilChanged(m => m),\r\n          // distinctUntilChanged(),\r\n          pairwise(),\r\n          map(([previousLang, currentLang]) => {\r\n            l.a('toggle', { previousLang, currentLang });\r\n            const prevIndex = languages.findIndex(lang => lang.NameId === previousLang);\r\n            const currentIndex = languages.findIndex(lang => lang.NameId === currentLang);\r\n            const slide = (prevIndex > currentIndex) ? classPrevious : classNext;\r\n            l.a('slide', { prevIndex, currentIndex, slide });\r\n            return slide;\r\n          }),\r\n        ),\r\n        // emit '' to stop the slide animation\r\n        fromEvent<AnimationEvent>(nativeElement, 'animationend').pipe(\r\n          filter(event => animationNames.find(an => event.animationName.endsWith(an)) !== undefined),\r\n          map(() => ''),\r\n          delay(0), // small delay because animationend fires a bit too early\r\n        ),\r\n      ).subscribe(slide => {\r\n        const classList = nativeElement.classList;\r\n        if (slide === '') {\r\n          l.a('stop-slide');\r\n          classList.remove(classNext);\r\n          classList.remove(classPrevious);\r\n        } else {\r\n          l.a(`start-slide to '${slide}'`);\r\n          classList.add(slide);\r\n        }\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MAT_SNACK_BAR_DATA } from '@angular/material/snack-bar';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SaveErrorsSnackBarData } from './snack-bar-save-errors.models';\r\n\r\n@Component({\r\n    selector: 'app-snack-bar-save-errors',\r\n    templateUrl: './snack-bar-save-errors.html',\r\n    styleUrls: ['./snack-bar-save-errors.scss'],\r\n    imports: [TranslateModule]\r\n})\r\nexport class SnackBarSaveErrorsComponent {\r\n  constructor(@Inject(MAT_SNACK_BAR_DATA) public snackBarData: SaveErrorsSnackBarData) { }\r\n}\r\n","<div class=\"save-errors-container\">\r\n  <div>{{ 'Errors.SaveErrors' | translate }}</div>\r\n  <br />\r\n  @for (error of snackBarData.fieldErrors; track error) {\r\n    <div>\r\n      <span>{{ error.field }}<span>: {{ error.message | translate }}</span></span>\r\n    </div>\r\n  }\r\n</div>\r\n","import { UpperCasePipe } from '@angular/common';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MAT_SNACK_BAR_DATA, MatSnackBarRef } from '@angular/material/snack-bar';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { UnsavedChangesSnackBarData } from './snack-bar-unsaved-changes.models';\r\n\r\n@Component({\r\n    selector: 'app-snack-bar-unsaved-changes',\r\n    templateUrl: './snack-bar-unsaved-changes.html',\r\n    styleUrls: ['./snack-bar-unsaved-changes.scss'],\r\n    imports: [\r\n        MatButtonModule,\r\n        UpperCasePipe,\r\n        TranslateModule,\r\n        UpperCasePipe\r\n    ]\r\n})\r\nexport class SnackBarUnsavedChangesComponent {\r\n  constructor(\r\n    private snackRef: MatSnackBarRef<SnackBarUnsavedChangesComponent>,\r\n    @Inject(MAT_SNACK_BAR_DATA) private snackBarData: UnsavedChangesSnackBarData,\r\n  ) { }\r\n\r\n  saveChanges(save: boolean) {\r\n    this.snackBarData.save = save;\r\n    this.snackRef.dismissWithAction();\r\n  }\r\n}\r\n","<!-- The message -->\r\n<span class=\"error-message\">\r\n  {{ 'Errors.UnsavedChanges' | translate }}\r\n</span>\r\n\r\n<!-- The save / exit buttons -->\r\n<div class=\"my-flex-right\">\r\n  <button mat-button color=\"primary\" (click)=\"saveChanges(false)\">\r\n    {{ 'General.Buttons.NotSave' | translate | uppercase }}\r\n  </button>\r\n  <button mat-button color=\"primary\" (click)=\"saveChanges(true)\">\r\n    {{ 'General.Buttons.Save' | translate | uppercase }}\r\n  </button>\r\n</div>\r\n","import { CdkScrollable } from '@angular/cdk/scrolling';\r\nimport { NgClass } from '@angular/common';\r\nimport { AfterViewInit, Component, computed, effect, Inject, inject, OnDestroy, OnInit, QueryList, signal, untracked, ViewChildren } from '@angular/core';\r\nimport { toSignal } from '@angular/core/rxjs-interop';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MAT_DIALOG_DATA, MatDialogActions, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { delay, fromEvent, of, startWith } from 'rxjs';\r\nimport { transient } from '../../../../../../core';\r\nimport { BaseComponent } from '../../../shared/components/base';\r\nimport { ToggleDebugDirective } from '../../../shared/directives/toggle-debug.directive';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { ExtendedFabSpeedDialImports } from '../../../shared/modules/extended-fab-speed-dial/extended-fab-speed-dial.imports';\r\nimport { SaveCloseButtonComponent } from '../../../shared/modules/save-close-button/save-close-button';\r\nimport { GlobalConfigService } from '../../../shared/services/global-config.service';\r\nimport { computedWithPrev } from '../../../shared/signals/signal.utilities';\r\nimport { UserPreferences } from '../../../shared/user/user-preferences.service';\r\nimport { LoadIconsService } from '../../assets/icons/load-icons.service';\r\nimport { EntityFormBuilderComponent } from '../../entity-form/entity-form-builder/form-builder';\r\nimport { EntityFormStateService } from '../../entity-form/entity-form-state.service';\r\nimport { PickerTreeDataHelper } from '../../fields/picker/picker-tree/picker-tree-data-helper';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { FormDataService } from '../../form/form-data.service';\r\nimport { FormLanguageService } from '../../form/form-language.service';\r\nimport { FormPublishingService } from '../../form/form-publishing.service';\r\nimport { FormsStateService } from '../../form/forms-state.service';\r\nimport { FormulaDesignerService } from '../../formulas/designer/formula-designer.service';\r\nimport { LanguageService } from '../../localization/language.service';\r\nimport { EditRoutingService } from '../../routing/edit-routing.service';\r\nimport { AdamCacheService } from '../../shared/adam/adam-cache.service';\r\nimport { LinkCacheService } from '../../shared/adam/link-cache.service';\r\nimport { ContentTypeItemService } from '../../shared/content-types/content-type-item.service';\r\nimport { ContentTypeService } from '../../shared/content-types/content-type.service';\r\nimport { InputTypeService } from '../../shared/input-types/input-type.service';\r\nimport { EavItem } from '../../shared/models/eav';\r\nimport { EavEntityBundleDto } from '../../shared/models/json-format-v1';\r\nimport { ValidationMsgHelper } from '../../shared/validation/validation-messages.helpers';\r\nimport { ItemService } from '../../state/item.service';\r\nimport { MetadataDecorators } from '../../state/metadata-decorators.constants';\r\nimport { SaveResult } from '../../state/save-result.model';\r\nimport { DialogRoutingState } from '../dialogRouteState.model';\r\nimport { EditEntryComponent } from '../entry/edit-entry';\r\nimport { EditDialogFooterComponent } from '../footer/edit-dialog-footer';\r\nimport { footerPreferences } from '../footer/footer-preferences';\r\nimport { EditDialogHeaderComponent } from '../header/edit-dialog-header';\r\nimport { SaveEavFormData } from './edit-dialog-main.models';\r\nimport { FormSlideDirective } from './form-slide.directive';\r\nimport { isCtrlEnter, isCtrlS, isEscape } from './keyboard-shortcuts';\r\nimport { SnackBarSaveErrorsComponent } from './snack-bar-save-errors/snack-bar-save-errors';\r\nimport { FieldErrorMessage, SaveErrorsSnackBarData } from './snack-bar-save-errors/snack-bar-save-errors.models';\r\nimport { SnackBarUnsavedChangesComponent } from './snack-bar-unsaved-changes/snack-bar-unsaved-changes';\r\nimport { UnsavedChangesSnackBarData } from './snack-bar-unsaved-changes/snack-bar-unsaved-changes.models';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  constructor: true,\r\n  saveAll: true,\r\n}\r\n\r\n/**\r\n * The edit-main component is the complete edit component containing:\r\n * - Header (which also contains the languages and publish state)\r\n * - Each entity form\r\n * - Footer\r\n */\r\n@Component({\r\n  selector: 'app-edit-dialog-main',\r\n  templateUrl: './edit-dialog-main.html',\r\n  styleUrls: ['./edit-dialog-main.scss'],\r\n  imports: [\r\n    MatDialogActions,\r\n    NgClass,\r\n    EditDialogHeaderComponent,\r\n    CdkScrollable,\r\n    FormSlideDirective,\r\n    EntityFormBuilderComponent,\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    EditDialogFooterComponent,\r\n    TranslateModule,\r\n    ...ExtendedFabSpeedDialImports,\r\n    ToggleDebugDirective,\r\n    SaveCloseButtonComponent,\r\n  ],\r\n  providers: [\r\n    EditRoutingService,\r\n    FormsStateService,\r\n    // This is shared across all entities on this form\r\n    FormulaDesignerService,\r\n    // TODO: probably move to each picker component (Errors)\r\n    PickerTreeDataHelper,\r\n  ]\r\n})\r\nexport class EditDialogMainComponent extends BaseComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  log = classLog({ EditDialogMainComponent }, logSpecs);\r\n\r\n  @ViewChildren(EntityFormBuilderComponent) formBuilderRefs: QueryList<EntityFormBuilderComponent>;\r\n\r\n  #globalConfigService = inject(GlobalConfigService);\r\n  #formConfig = inject(FormConfigService);\r\n\r\n  canSave = this.#formConfig.config.save.mode; // if false, then no save button is shown\r\n\r\n  /** Signal to tell the UI if the footer should show and/or the footer needs more space (changes CSS) */\r\n  #prefManager = inject(UserPreferences).part(footerPreferences)\r\n  footerSize = computed(() => this.#prefManager.data().size);\r\n\r\n  #loadIconsService = transient(LoadIconsService);\r\n  #formDataService = transient(FormDataService);\r\n  #entityFormStateService = transient(EntityFormStateService);\r\n\r\n  router = inject(Router);\r\n  route = inject(ActivatedRoute);\r\n\r\n  protected viewInitiated = signal(false);\r\n  isReturnValueMode = false;\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<EditEntryComponent>,\r\n    private contentTypeItemService: ContentTypeItemService,\r\n    private contentTypeService: ContentTypeService,\r\n    private inputTypeService: InputTypeService,\r\n    private itemService: ItemService,\r\n    private languageService: LanguageService,\r\n    private languageStore: FormLanguageService,\r\n    private snackBar: MatSnackBar,\r\n    private translate: TranslateService,\r\n    private editRoutingService: EditRoutingService,\r\n    private publishStatusService: FormPublishingService,\r\n    private formsStateService: FormsStateService,\r\n    private adamCacheService: AdamCacheService,\r\n    private linkCacheService: LinkCacheService,\r\n    private formulaDesignerService: FormulaDesignerService,\r\n    @Inject(MAT_DIALOG_DATA) dialogData: DialogRoutingState,\r\n  ) {\r\n    super();\r\n    const l = this.log.fnIf('constructor');\r\n    this.dialog.disableClose = true;\r\n\r\n    // Dialog Data \r\n    this.isReturnValueMode = dialogData?.returnValue;\r\n\r\n    // Initialize default user preferences for footer show/hide\r\n    const pref = this.#prefManager;\r\n    if (pref.data().pinned == null)\r\n      pref.set('pinned', this.#formConfig.config.dialogContext.User?.IsSystemAdmin ?? false);\r\n\r\n    // Watch for the \"try-save\" event from the forms\r\n    effect(() => {\r\n      const current = this.formsStateService.triggerTrySaveAndMaybeClose();\r\n      if (current.tryToSave)\r\n        untracked(() => this.saveAll(current.close));\r\n    });\r\n\r\n  }\r\n\r\n  #saveResult: SaveResult;\r\n\r\n  protected items = this.itemService.getManySignal(this.#formConfig.config.itemGuids);\r\n\r\n  protected formsValid = this.formsStateService.formsValidTemp;\r\n  saveDisabled = computed(() => this.#entityFormStateService.isSaving() || this.formsStateService.saveButtonDisabled());\r\n  protected hideHeader = this.languageStore.getHideHeaderSignal(this.#formConfig.config.formId);\r\n\r\n  //#region Footer - Show once or more, hide again, and expand footer (extra large footer)\r\n\r\n  /** Signal to determine if we should show the footer. Will affect style.display of the footer tag */\r\n  protected footerShow = computed(() => {\r\n    // if debug is true, then it was set once using the keyboard shortcut\r\n    if (this.#globalConfigService.isDebug()) {\r\n      this.#debugWasModified = true;\r\n      return true;\r\n    }\r\n\r\n    // If debug is false, and was never modified, show based on system admin status\r\n    return !this.#debugWasModified && this.#prefManager.data().pinned;\r\n  });\r\n\r\n  /** Show footer once or more - basically stays true if it was ever shown */\r\n  protected footerShowOnceOrMore = computedWithPrev(prev => prev || this.footerShow(), false);\r\n\r\n  /** Special variable to check if debug was ever triggered, to allow super-users to re-hide the footer */\r\n  #debugWasModified = false;\r\n\r\n\r\n  //#endregion\r\n\r\n  /** delay showing the form, but not quite sure why. maybe to prevent flickering? */\r\n  protected delayForm = toSignal(\r\n    of(false).pipe(\r\n      delay(0),\r\n      startWith(true)\r\n    ));\r\n\r\n  ngOnInit() {\r\n    this.#watchKeyboardShortcuts();\r\n\r\n    this.editRoutingService.init();\r\n    this.#loadIconsService.load();\r\n    this.formulaDesignerService.cache.init();\r\n\r\n    this.#startSubscriptions();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => this.viewInitiated.set(true));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.languageStore.remove(this.#formConfig.config.formId);\r\n    this.publishStatusService.remove(this.#formConfig.config.formId);\r\n\r\n    if (this.#formConfig.config.isParentDialog) {\r\n      // clear the rest of the store\r\n      this.languageStore.clearCache();\r\n      this.languageService.clearCache();\r\n      this.itemService.clearCache();\r\n      this.inputTypeService.clearCache();\r\n      this.contentTypeItemService.clearCache();\r\n      this.contentTypeService.clearCache();\r\n      this.publishStatusService.clearCache();\r\n      this.adamCacheService.clearCache();\r\n      this.linkCacheService.clearCache();\r\n    }\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  closeDialog(forceClose?: boolean): void {\r\n    if (forceClose)\r\n      return this.dialog.close(this.#formConfig.config.createMode ? this.#saveResult : undefined);\r\n\r\n    if (!this.formsStateService.readOnly().isReadOnly && this.formsStateService.formsAreDirty())\r\n      return this.#snackBarYouHaveUnsavedChanges();\r\n\r\n    this.dialog.close(this.#formConfig.config.createMode ? this.#saveResult : undefined);\r\n  }\r\n\r\n  /** Save all forms */\r\n  saveAll(close: boolean): boolean {\r\n\r\n    this.#entityFormStateService.isSaving.set(true);\r\n\r\n    const l = this.log.fnIf('saveAll', { close });\r\n    // Case 1. form is valid\r\n    if (this.formsStateService.formsAreValid()) {\r\n\r\n      // Case 1.1. New v20 - if no save mode, then just close the dialog\r\n      if (this.#formConfig.config.save.mode === false) {\r\n        l.a('No save mode, just closing dialog');\r\n        this.dialog.close();\r\n        return;\r\n      }\r\n\r\n      // Case 1.2. If the Dialog is Local return data mode, then return the data\r\n      if (this.isReturnValueMode) {\r\n        const itemsEavObj: Record<string, unknown>[] = this.#getValidEavItems(eavItem =>\r\n          EavItem.eavToObj(eavItem)\r\n        );\r\n\r\n        // Need to be clearly define for the route state (if objData in the state, data will be not refresh from the server) \r\n        const wrappedData = {\r\n          objData: itemsEavObj[0]\r\n        };\r\n        l.a('Returning wrapped data:', { wrappedData });\r\n        this.dialog.close(wrappedData)\r\n        return\r\n      }\r\n\r\n      // Case 1.3. If the Dialog is in standard Save Mode, then just save the data\r\n\r\n      // Convert data to save format, get publishing state and prepare save data\r\n      const items = this.#getValidEavItems(eavItem =>\r\n        EavEntityBundleDto.bundleToDto(eavItem)\r\n      );\r\n\r\n      const publishStatus = this.publishStatusService.get(this.#formConfig.config.formId);\r\n\r\n      const saveFormData: SaveEavFormData = {\r\n        Items: items,\r\n        IsPublished: publishStatus.IsPublished,\r\n        DraftShouldBranch: publishStatus.DraftShouldBranch,\r\n      };\r\n      l.a('SAVE FORM DATA:', { saveFormData });\r\n\r\n      // Show saving message and start saving process\r\n      this.snackBar.open(this.translate.instant('Message.Saving'), null, { duration: 2000 });\r\n\r\n      this.#formDataService.saveFormData(saveFormData, this.#formConfig.config.partOfPage).subscribe({\r\n        next: result => {\r\n          l.a('SAVED!, result:', { result, close });\r\n          this.itemService.updater.updateItemId(result);\r\n          this.snackBar.open(this.translate.instant('Message.Saved'), null, { duration: 2000 });\r\n          this.formsStateService.formsAreDirty.set(false);\r\n          this.#saveResult = result;\r\n          if (close)\r\n            this.closeDialog();\r\n\r\n          setTimeout(() => this.#entityFormStateService.isSaving.set(false), 500);\r\n        },\r\n        error: err => {\r\n          l.a('SAVE FAILED:', err);\r\n          this.snackBar.open('Error', null, { duration: 2000 });\r\n          this.#entityFormStateService.isSaving.set(false)\r\n        },\r\n      });\r\n    } else {\r\n      // Case 2. form is not valid\r\n      // Quickly set saving to false, otherwise further saves will be blocked\r\n      this.#entityFormStateService.isSaving.set(false);\r\n\r\n      // check if there is even a formBuilder to process, otherwise exit\r\n      if (this.formBuilderRefs == null)\r\n        return;\r\n\r\n      const formErrors: Record<string, string>[] = [];\r\n      this.formBuilderRefs.forEach(formBuilderRef => {\r\n        if (!formBuilderRef.form.invalid)\r\n          return;\r\n        formErrors.push(ValidationMsgHelper.validateForm(formBuilderRef.form));\r\n      });\r\n\r\n      const fieldErrors: FieldErrorMessage[] = [];\r\n      formErrors.forEach(formError => {\r\n        Object.keys(formError).forEach(key => {\r\n          fieldErrors.push({ field: key, message: formError[key] });\r\n        });\r\n      });\r\n\r\n      this.snackBar.openFromComponent(SnackBarSaveErrorsComponent, {\r\n        data: {\r\n          fieldErrors,\r\n        } satisfies SaveErrorsSnackBarData,\r\n        duration: 5000,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get valid EAV items by mapping them with the provided function.\r\n   * @param mapFn Function to map EavItem to a specific type T or null if invalid\r\n   * @returns Array of valid mapped items\r\n   */\r\n  #getValidEavItems<T>(\r\n    mapFn: (eavItem: EavItem) => T | null\r\n  ): T[] {\r\n    return this.formBuilderRefs\r\n      .map(ref => {\r\n        const eavItem = this.itemService.get(ref.entityGuid());\r\n\r\n        const isValid = this.formsStateService.getFormValid(eavItem.Entity.Guid);\r\n        if (!isValid)\r\n          return null;\r\n\r\n        const hasAttributes = Object.keys(eavItem.Entity.Attributes).length > 0;\r\n        const contentType = this.contentTypeService.getContentTypeOfItem(eavItem);\r\n        const saveIfEmpty = contentType.Metadata.some(\r\n          m => m.Type.Name === MetadataDecorators.SaveEmptyDecorator\r\n        );\r\n\r\n        if (!hasAttributes && !saveIfEmpty)\r\n          return null;\r\n\r\n        return mapFn(eavItem);\r\n      })\r\n      .filter((item): item is T => item != null);\r\n  }\r\n\r\n  #startSubscriptions() {\r\n    this.subscriptions.add(\r\n      fromEvent<BeforeUnloadEvent>(window, 'beforeunload').subscribe(event => {\r\n        if (this.formsStateService.readOnly().isReadOnly || !this.formsStateService.formsAreDirty())\r\n          return;\r\n        event.preventDefault();\r\n        event.returnValue = ''; // fix for Chrome\r\n        this.#snackBarYouHaveUnsavedChanges();\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      this.dialog.backdropClick().subscribe(_ => this.closeDialog())\r\n    );\r\n  }\r\n\r\n  #watchKeyboardShortcuts(): void {\r\n    this.dialog.keydownEvents().subscribe(event => {\r\n      if (isEscape(event))\r\n        return this.closeDialog();\r\n\r\n      const canSave = !this.formsStateService.readOnly().isReadOnly\r\n        && !this.#entityFormStateService.isSaving();\r\n\r\n      if (isCtrlS(event) && canSave) {\r\n        event.preventDefault();\r\n        this.saveAll(event.altKey);\r\n      }\r\n\r\n      if (isCtrlEnter(event) && canSave) {\r\n        event.preventDefault();\r\n        this.saveAll(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  #snackBarYouHaveUnsavedChanges(): void {\r\n    const snackBarRef = this.snackBar.openFromComponent(SnackBarUnsavedChangesComponent, {\r\n      data: {\r\n        save: false,\r\n      } satisfies UnsavedChangesSnackBarData,\r\n      duration: 5000,\r\n    });\r\n\r\n    snackBarRef.onAction().subscribe(() => {\r\n      if ((snackBarRef.containerInstance.snackBarConfig.data as UnsavedChangesSnackBarData).save)\r\n        return this.saveAll(true);\r\n\r\n      this.closeDialog(true);\r\n    });\r\n  }\r\n}\r\n","<div style=\"position: relative\" mat-dialog__container appToggleDebug>\r\n  <div\r\n    mat-dialog-actions\r\n    class=\"form-header-container\"\r\n    [ngClass]=\"{ 'u-display-none': hideHeader() }\"\r\n  >\r\n    <app-edit-dialog-header\r\n      class=\"multi-item-edit-form-header\"\r\n      [disabled]=\"!formsValid()\"\r\n      (closeDialog)=\"closeDialog()\"\r\n    >\r\n    </app-edit-dialog-header>\r\n  </div>\r\n  <div style=\"position: relative\">\r\n    <!-- cdkScrollable is required when using matAutocomplete with scrollable element that is not body. Fixes matAutocomplete not following input  -->\r\n    <!-- TODO_(mdc-migration) -->\r\n    <div\r\n      mat-mdc-dialog-content\r\n      cdkScrollable\r\n      class=\"eav-dialog-content u-hide-scrollbar\"\r\n      [ngClass]=\"{\r\n        'debug-enabled': footerShow(),\r\n        'debug-info-is-open': footerShow() && footerSize(),\r\n        'footer-xl': footerShow() && (footerSize() == 2),\r\n        'hide-header-height-fix': hideHeader(),\r\n      }\"\r\n    >\r\n      <div class=\"eav-layout-grid\">\r\n        <div class=\"eav-layout-grid__inner\">\r\n          @if (!delayForm()) {\r\n            <div class=\"eav-layout-grid__cell--span-12\" appFormSlide>\r\n              @for (item of items(); track item.Entity.Guid; let i = $index) {\r\n                <div>\r\n                  <app-edit-entity-form-builder\r\n                    [entityGuid]=\"item.Entity.Guid\"\r\n                    [index]=\"i\"\r\n                  ></app-edit-entity-form-builder>\r\n                </div>\r\n              }\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n    @if (viewInitiated()) {\r\n      <extended-fab-speed-dial>\r\n        <ng-template extendedFabSpeedDialTriggerContent>\r\n          <app-save-close-button\r\n            [label]=\"canSave ? 'Form.Buttons.SaveAndClose' : 'Form.Buttons.Done'\"\r\n            [ngClass]=\"saveDisabled() ? 'appear-disabled' : ''\"\r\n            (action)=\"saveAll(true)\"\r\n          ></app-save-close-button>\r\n        </ng-template>\r\n        @if (canSave) {\r\n          <ng-template extendedFabSpeedDialActionsContent>\r\n            <button\r\n              extended-fab-speed-dial-action\r\n              matRipple [ngClass]=\"saveDisabled()\r\n                ? 'appear-disabled'\r\n                : ''\"\r\n              (click)=\"saveAll(false)\"\r\n            >\r\n              <span>\r\n                {{ 'Form.Buttons.Save' | translate }}\r\n              </span>\r\n              <mat-icon>save</mat-icon>\r\n            </button>\r\n          </ng-template>\r\n        }\r\n      </extended-fab-speed-dial>\r\n    }\r\n  </div>\r\n  @if (footerShowOnceOrMore()) {\r\n    @defer {\r\n      <app-edit-dialog-footer\r\n        [style.display]=\"footerShow()\r\n          ? 'block'\r\n          : 'none'\"\r\n        mat-dialog-actions\r\n      ></app-edit-dialog-footer>\r\n    }\r\n  }\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { transient } from 'projects/core';\r\nimport { FeaturesService } from '../../../features/features.service';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { Context } from '../../../shared/services/context';\r\nimport { EditInitializerService } from '../../form/edit-initializer.service';\r\nimport { FormConfigService } from '../../form/form-config.service';\r\nimport { InitialValuesService } from '../../form/initial-values-service';\r\nimport { LoggingService } from '../../shared/services/logging.service';\r\nimport { ScriptsLoaderService } from '../../shared/services/scripts-loader.service';\r\nimport { EditDialogMainComponent } from '../main/edit-dialog-main';\r\n\r\n/**\r\n * This component is the entry point for every edit dialog.\r\n * It initializes the form data and the form itself.\r\n *\r\n * Each edit-entry can show multiple entities, as the form can contain multiple sections each having an entity.\r\n * But if a sub-dialog is opened, this will start anew, with it's own provided services etc.\r\n */\r\n@Component({\r\n  selector: 'app-edit-entry',\r\n  templateUrl: './edit-entry.html',\r\n  imports: [\r\n    RouterOutlet,\r\n    EditDialogMainComponent,\r\n  ],\r\n  providers: [\r\n    // must be by Providers\r\n    LoggingService,\r\n    // Shared Services across the edit form\r\n    FeaturesService, // for checking if features are enabled - this can change from dialog to dialog\r\n    Context, // Form context, such as what app etc. - the same for the entire form\r\n    FormConfigService, // form configuration valid for this entire form; will be initialized by the EditInitializerService\r\n    ScriptsLoaderService, // Loader for external scripts. Shared as it keeps track of what's been loaded. Maybe should be providedIn: 'root'?\r\n    InitialValuesService, // for preserving initial values for formulas.\r\n  ]\r\n})\r\nexport class EditEntryComponent implements OnInit {\r\n\r\n  log = classLog({ EditEntryComponent });\r\n\r\n  protected editInitializerService = transient(EditInitializerService);\r\n\r\n  constructor(temp: FeaturesService) {\r\n    this.log.aIf('constructor');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // Load the data - when it's loaded, the HTML will show the rest\r\n    this.editInitializerService.fetchFormData();\r\n  }\r\n}\r\n","<router-outlet></router-outlet>\r\n\r\n@if (editInitializerService.loaded()) {\r\n  <app-edit-dialog-main></app-edit-dialog-main>\r\n}\r\n"],"mappings":"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","names":["require_Reflect","__commonJSMin","Reflect","factory","root","sloppyModeThis","exporter","makeExporter","target","previous","key","value","functionThis","indirectEvalThis","hasOwn","supportsSymbol","toPrimitiveSymbol","iteratorSymbol","supportsCreate","supportsProto","downLevel","HashMap","MakeDictionary","map","functionPrototype","_Map","CreateMapPolyfill","_Set","CreateSetPolyfill","_WeakMap","CreateWeakMapPolyfill","registrySymbol","metadataRegistry","GetOrCreateMetadataRegistry","metadataProvider","CreateMetadataProvider","decorate","decorators","propertyKey","attributes","IsUndefined","IsArray","IsConstructor","DecorateConstructor","IsObject","IsNull","ToPropertyKey","DecorateProperty","metadata","metadataKey","metadataValue","decorator","IsPropertyKey","OrdinaryDefineOwnMetadata","defineMetadata","hasMetadata","OrdinaryHasMetadata","hasOwnMetadata","OrdinaryHasOwnMetadata","getMetadata","OrdinaryGetMetadata","getOwnMetadata","OrdinaryGetOwnMetadata","getMetadataKeys","OrdinaryMetadataKeys","getOwnMetadataKeys","OrdinaryOwnMetadataKeys","deleteMetadata","provider","GetMetadataProvider","i","decorated","descriptor","MetadataKey","O","P","parent","OrdinaryGetPrototypeOf","ToBoolean","MetadataValue","ownKeys","parentKeys","set","keys","_i","ownKeys_1","hasKey","_a","parentKeys_1","Type","x","IsSymbol","ToPrimitive","input","PreferredType","hint","exoticToPrim","GetMethod","result","OrdinaryToPrimitive","toString_1","IsCallable","valueOf","toString_2","argument","ToString","SameValueZero","y","V","func","GetIterator","obj","method","iterator","IteratorValue","iterResult","IteratorStep","IteratorClose","f","proto","prototype","prototypeProto","constructor","CreateMetadataRegistry","fallback","CreateFallbackProvider","first","second","rest","targetProviderMap","registry","registerProvider","getProvider","setProvider","getProviderNoCache","next","providerMap","hasProvider","existingProvider","targetMetadata","OrdinaryDeleteMetadata","GetOrCreateMetadataMap","Create","createdTargetMetadata","metadataMap","keysObj","k","nextValue","e","reflect","metadataOwner","metadataPropertySet","registeredProvider","cacheSentinel","arraySentinel","MapIterator","values","selector","index","error","Map","size","getKey","getValue","getEntry","insert","_","Set","UUID_SIZE","rootKey","CreateUniqueKey","WeakMap","table","GetOrCreateWeakMapTable","CreateUUID","create","FillRandomBytes","buffer","GenRandomBytes","array","data","offset","byte","require_dayjs_min","__commonJSMin","exports","module","t","e","n","r","i","s","u","a","o","f","h","d","l","$","y","M","m","v","g","D","p","S","_","w","O","b","c","k","require_ar","__commonJSMin","exports","module","e","t","n","r","d","_","o","require_bg","__commonJSMin","exports","module","e","_","t","d","require_cs","__commonJSMin","exports","module","e","n","t","s","r","d","require_da","__commonJSMin","exports","module","e","t","d","a","require_de","__commonJSMin","exports","module","e","n","t","a","i","r","require_de_at","__commonJSMin","exports","module","e","n","t","a","r","require_de_ch","__commonJSMin","exports","module","e","n","t","a","i","r","require_el","__commonJSMin","exports","module","e","_","t","d","require_en","__commonJSMin","exports","module","e","n","t","require_en_au","__commonJSMin","exports","module","e","a","t","_","require_en_ca","__commonJSMin","exports","module","e","a","_","t","require_en_gb","__commonJSMin","exports","module","e","a","t","_","require_en_ie","__commonJSMin","exports","module","e","a","t","_","require_es","__commonJSMin","exports","module","e","s","d","require_es_mx","__commonJSMin","exports","module","e","s","d","require_es_us","__commonJSMin","exports","module","e","s","o","d","require_fa","__commonJSMin","exports","module","_","e","t","d","require_fi","__commonJSMin","exports","module","u","e","t","n","i","a","s","_","require_fr","__commonJSMin","exports","module","e","n","t","require_fr_ch","__commonJSMin","exports","module","e","n","i","_","require_he","__commonJSMin","exports","module","Y","M","d","e","_","l","require_hi","__commonJSMin","exports","module","_","e","t","d","require_hr","__commonJSMin","exports","module","e","a","t","s","n","_","o","i","require_hu","__commonJSMin","exports","module","e","n","t","r","require_id","__commonJSMin","exports","module","e","a","t","_","require_it","__commonJSMin","exports","module","e","t","n","require_it_ch","__commonJSMin","exports","module","e","n","t","require_ja","__commonJSMin","exports","module","e","_","t","d","require_jv","__commonJSMin","exports","module","e","n","t","_","require_ko","__commonJSMin","exports","module","e","_","d","t","require_lb","__commonJSMin","exports","module","e","_","t","n","require_ms","__commonJSMin","exports","module","e","a","t","s","require_ms_my","__commonJSMin","exports","module","e","a","t","_","require_nl","__commonJSMin","exports","module","e","a","d","n","require_nl_be","__commonJSMin","exports","module","e","a","n","d","require_pa_in","__commonJSMin","exports","module","_","e","t","d","require_pl","__commonJSMin","exports","module","e","t","i","a","n","r","_","d","o","require_pt","__commonJSMin","exports","module","e","a","o","t","require_pt_br","__commonJSMin","exports","module","e","a","s","require_ru","__commonJSMin","exports","module","_","t","n","s","r","o","i","d","e","u","a","require_sk","__commonJSMin","exports","module","e","t","n","r","o","a","require_sl","__commonJSMin","exports","module","e","n","t","r","a","s","m","require_sv","__commonJSMin","exports","module","e","t","a","d","require_th","__commonJSMin","exports","module","_","e","t","d","require_tr","__commonJSMin","exports","module","a","e","t","_","require_uk","__commonJSMin","exports","module","_","e","t","s","n","o","d","i","r","require_zh","__commonJSMin","exports","module","e","_","t","d","require_customParseFormat","__commonJSMin","exports","module","e","t","n","r","i","o","s","a","f","h","u","d","c","l","m","M","Y","p","v","D","w","g","y","L","require_localeData","__commonJSMin","exports","module","e","t","r","o","n","u","i","a","s","f","d","require_localizedFormat","__commonJSMin","exports","module","e","t","o","n","r","i","require_utc","__commonJSMin","exports","module","t","i","s","f","n","u","e","o","r","a","h","l","c","require_papaparse_min","__commonJSMin","exports","module","e","t","r","n","d","s","a","o","h","v","u","b","i","U","f","y","l","c","m","p","g","k","_","E","P","C","S","O","x","I","A","T","D","L","F","j","z","M","w","R","require_dropzone","__commonJSMin","exports","module","root","factory","a","i","__webpack_modules__","it","__unused_webpack_exports","__webpack_require__","isObject","wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","key","charAt","S","index","unicode","Constructor","name","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","has","classof","createNonEnumerableProperty","redefine","defineProperty","getPrototypeOf","setPrototypeOf","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","isPrototypeOf","TO_STRING_TAG","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","TYPED_ARRAY_TAG_REQIRED","NAME","TypedArrayConstructorsList","BigIntArrayConstructorsList","isView","klass","isTypedArray","aTypedArray","aTypedArrayConstructor","C","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","KEY","property","forced","exportTypedArrayStaticMethod","redefineAll","fails","anInstance","toInteger","toLength","toIndex","IEEE754","getOwnPropertyNames","arrayFill","setToStringTag","InternalStateModule","getInternalState","setInternalState","ARRAY_BUFFER","DATA_VIEW","PROTOTYPE","WRONG_LENGTH","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","RangeError","packIEEE754","unpackIEEE754","packInt8","number","packInt16","packInt32","unpackInt32","buffer","packFloat32","packFloat64","addGetter","get","view","count","isLittleEndian","intIndex","store","bytes","start","pack","set","conversion","value","length","byteLength","byteOffset","bufferLength","offset","ArrayBufferPrototype","keys","j","testView","nativeSetInt8","toObject","toAbsoluteIndex","min","target","O","len","to","from","end","inc","argumentsLength","endPos","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","bind","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","mapfn","mapping","iteratorMethod","result","step","iterator","next","toIndexedObject","createMethod","IS_INCLUDES","$this","el","fromIndex","IndexedObject","arraySpeciesCreate","push","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","that","specificCreate","self","boundFunction","nativeLastIndexOf","NEGATIVE_ZERO","FORCED","searchElement","V8_VERSION","SPECIES","METHOD_NAME","array","constructor","argument","method","aFunction","IS_RIGHT","memo","isArray","originalArray","anObject","iteratorClose","fn","ENTRIES","error","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","toString","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tryGet","tag","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","F","IteratorPrototype","createPropertyDescriptor","Iterators","returnThis","IteratorConstructor","bitmap","toPrimitive","propertyKey","$","createIteratorConstructor","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","Iterable","DEFAULT","IS_SET","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","CurrentIteratorPrototype","methods","document","EXISTS","getBuiltIn","userAgent","process","versions","v8","match","version","setGlobal","copyConstructorProperties","isForced","options","TARGET","GLOBAL","STATIC","targetProperty","sourceProperty","descriptor","regexpExec","REPLACE_SUPPORTS_NAMED_GROUPS","re","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","stringMethod","regexMethod","string","arg","b","c","path","variable","namespace","floor","replace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","m","symbols","ch","capture","n","f","check","hasOwnProperty","createElement","abs","pow","log","LN2","mantissaLength","exponentLength","eMax","eBias","rt","sign","exponent","mantissa","unpack","nBits","split","dummy","Wrapper","NewTarget","NewTargetPrototype","functionToString","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","WeakMap","enforce","getterFor","state","wmget","wmhas","wmset","metadata","STATE","feature","detection","data","normalize","POLYFILL","NATIVE","MATCH","isRegExp","returnMethod","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","test","url","searchParams","inspectSource","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","nativeAssign","A","B","symbol","alphabet","chr","T","getOwnPropertySymbols","propertyIsEnumerable","defineProperties","enumBugKeys","html","documentCreateElement","GT","LT","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","activeXDocument","temp","NullProtoObjectViaIFrame","iframe","JS","iframeDocument","NullProtoObject","Properties","__unused_webpack_module","IE8_DOM_DEFINE","nativeDefineProperty","P","Attributes","nativeGetOwnPropertyDescriptor","internalObjectKeys","CORRECT_PROTOTYPE_GETTER","indexOf","names","nativePropertyIsEnumerable","NASHORN_BUG","V","aPossiblePrototype","CORRECT_SETTER","setter","proto","getOwnPropertyNamesModule","src","enforceInternalState","TEMPLATE","unsafe","simple","noTargetGet","R","regexpFlags","stickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","NPCG_INCLUDED","PATCH","lastIndex","reCopy","sticky","flags","charsAdded","strCopy","RE","s","CONSTRUCTOR_NAME","TAG","SHARED","defaultConstructor","requireObjectCoercible","CONVERT_TO_STRING","pos","size","first","second","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","stringFromCharCode","ucs2decode","output","counter","extra","digitToBasic","digit","adapt","delta","numPoints","firstTime","k","encode","input","inputLength","bias","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","q","t","qMinusT","baseMinusT","encoded","labels","label","whitespaces","non","whitespace","ltrim","rtrim","max","integer","ceil","toPositiveInteger","BYTES","PREFERRED_STRING","val","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","ArrayBufferViewCore","ArrayBufferModule","toOffset","typedArrayFrom","forEach","setSpecies","inheritIfRequired","round","ArrayBuffer","DataView","BYTES_PER_ELEMENT","fromList","list","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","wrapper","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","exported","getter","addElement","typedArrayOffset","$length","$len","checkCorrectnessOfIteration","iterable","speciesConstructor","instance","id","postfix","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","Symbol","createWellKnownSymbol","arrayBufferModule","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","$filter","HAS_SPECIES_SUPPORT","$indexOf","nativeIndexOf","addToUnscopables","defineIterator","ARRAY_ITERATOR","iterated","kind","$map","nativeSlice","fin","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","actualStart","insertCount","actualDeleteCount","FunctionPrototype","FunctionPrototypeToString","nameRE","nativeGetPrototypeOf","FAILS_ON_PRIMITIVES","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","p","rf","STRING_ITERATOR","point","fixRegExpWellKnownSymbolLogic","advanceStringIndex","regExpExec","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","matchStr","getSubstitution","maybeToString","reason","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","replacerArgs","callRegExpExec","arrayPush","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","separator","limit","lim","lastLastIndex","separatorCopy","lastLength","splitter","unicodeMatching","z","e","$trim","forcedStringTrimMethod","$copyWithin","$every","$fill","fromSpeciesAndList","$findIndex","predicate","$find","$includes","ArrayIterators","Uint8Array","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","$join","$lastIndexOf","$reduceRight","$reduce","middle","$slice","$some","$sort","comparefn","begin","beginIndex","$toLocaleString","TO_LOCALE_STRING_BUG","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","createTypedArrayConstructor","init","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","ArrayIteratorMethods","ArrayValues","USE_NATIVE_URL","hasOwn","getIterator","$fetch","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","getInternalIteratorState","plus","sequences","percentSequence","percentDecode","sequence","deserialize","find","serialize","parseSearchParams","query","attributes","attribute","entry","updateSearchParams","validateArgumentsLength","passed","required","URLSearchParamsIterator","params","URLSearchParamsConstructor","entries","entryIterator","entryNext","URLSearchParamsPrototype","found","slice","entriesIndex","sliceIndex","callback","args","body","headers","assign","arrayFrom","codeAt","toASCII","URLSearchParamsModule","NativeURL","URLSearchParams","getInternalSearchParamsState","getInternalURLState","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","EOF","parseHost","codePoints","parseIPv6","isSpecial","parseIPv4","percentEncode","C0ControlPercentEncodeSet","parts","partsLength","numbers","part","radix","ipv4","address","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","swap","char","findLongestZeroSequence","ipv6","maxIndex","maxLength","currStart","currLength","serializeHost","host","ignore0","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","code","specialSchemes","includesCredentials","cannotHaveUsernamePasswordPort","isWindowsDriveLetter","normalized","startsWithWindowsDriveLetter","third","shortenURLsPath","pathSize","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","seenAt","seenBracket","seenPasswordToken","bufferCodePoints","failure","codePoint","encodedCodePoints","port","URLConstructor","urlString","baseState","searchParamsState","serializeURL","getOrigin","getProtocol","getUsername","getPassword","getHost","getHostname","getPort","getPathname","getSearch","getSearchParams","getHash","URLPrototype","scheme","username","password","fragment","accessorDescriptor","href","protocol","hostname","pathname","search","hash","nativeCreateObjectURL","nativeRevokeObjectURL","blob","__webpack_module_cache__","moduleId","definition","obj","prop","__webpack_exports__","Dropzone","dropzone_dist","es_array_concat","es_array_filter","es_array_index_of","es_array_iterator","es_array_map","es_array_slice","es_array_splice","es_array_buffer_constructor","es_function_name","es_object_get_prototype_of","es_object_to_string","es_regexp_exec","es_regexp_to_string","es_string_iterator","es_string_match","es_string_replace","es_string_split","es_string_trim","es_typed_array_uint8_array","es_typed_array_copy_within","es_typed_array_every","es_typed_array_fill","es_typed_array_filter","es_typed_array_find","es_typed_array_find_index","es_typed_array_for_each","es_typed_array_includes","es_typed_array_index_of","es_typed_array_iterator","es_typed_array_join","es_typed_array_last_index_of","es_typed_array_map","es_typed_array_reduce","es_typed_array_reduce_right","es_typed_array_reverse","es_typed_array_set","es_typed_array_slice","es_typed_array_some","es_typed_array_sort","es_typed_array_subarray","es_typed_array_to_locale_string","es_typed_array_to_string","web_dom_collections_for_each","web_dom_collections_iterator","web_url","_createForOfIteratorHelper","o","allowArrayLike","_unsupportedIterableToArray","_e","normalCompletion","didErr","err","_e2","minLen","_arrayLikeToArray","arr","arr2","_classCallCheck","_defineProperties","props","_createClass","protoProps","staticProps","Emitter","event","callbacks","_len","_key","_iterator","_step","eventName","detail","evt","preview_template","options_createForOfIteratorHelper","options_unsupportedIterableToArray","options_arrayLikeToArray","defaultOptions","files","xhr","chunk","file","done","messageElement","child","span","width","height","resizeMethod","info","srcRatio","trgRatio","_this","_iterator2","_step2","node","_iterator3","_step3","removeFileEvent","_iterator4","_step4","removeLink","dataUrl","_iterator5","_step5","thumbnailElement","message","_iterator6","_step6","progress","bytesSent","_iterator7","_step7","src_options","_typeof","dropzone_createForOfIteratorHelper","dropzone_unsupportedIterableToArray","dropzone_arrayLikeToArray","dropzone_classCallCheck","dropzone_defineProperties","dropzone_createClass","_inherits","subClass","superClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","_possibleConstructorReturn","call","_assertThisInitialized","_Emitter","_super","fallback","left","elementOptions","status","_this2","setupHiddenFileInput","containsFiles","noPropagation","efct","clickableElement","totalUploadProgress","totalBytesSent","totalBytes","activeFiles","existingFallback","form","fieldsString","fields","getFallback","elements","_i","_arr","tagName","elementListeners","listener","_this3","element","selectedSize","selectedUnit","units","unit","cutoff","items","__guard__","x","_this4","item","directory","_this5","dirReader","errorHandler","__guardMethod__","readEntries","_this6","_iterator8","_step8","_this7","_this8","_this9","without","cancelIfNecessary","_iterator9","_step9","_this10","canvas","resizeMimeType","resizedDataURL","ExifRestore","fixOrientation","_this11","fileReader","mockFile","imageUrl","crossOrigin","_this12","resizeThumbnail","onDone","thumbnail","_this13","img","loadExif","orientation","resizeInfo","ctx","drawImageIOSFix","parallelUploads","processingLength","queuedFiles","_iterator10","_step10","groupedFiles","_iterator11","_step11","groupedFile","_iterator12","_step12","_groupedFile","option","_this14","transformedFiles","transformedFile","_transformedFile","startedChunkCount","handleNextChunk","chunkIndex","dataBlock","response","allFinished","dataBlocks","_i2","_this15","_iterator13","_step13","timeout","progressObj","headerName","headerValue","formData","additionalParams","_iterator14","_step14","_file","_i3","_this16","doneCounter","_loop","_iterator15","_step15","inputName","inputType","_iterator16","_step16","_file2","_iterator17","_step17","responseText","_iterator18","_step18","_iterator19","_step19","_len2","objects","_key2","_i4","_objects","r","v","camelize","dropzones","checkElements","_iterator20","_step20","_iterator21","_step21","dropzone","capableBrowser","_iterator22","_step22","regex","dataURI","byteString","mimeString","ab","ia","asc","rejectedItem","div","container","els","_iterator23","_step23","_iterator24","_step24","question","accepted","rejected","acceptedFiles","mimeType","baseMimeType","_iterator25","_step25","validType","detectVerticalSquash","iw","ih","_ctx$getImageData","sy","ey","py","alpha","ratio","sx","sw","sh","dx","dy","dw","dh","vertSquashRatio","chr1","chr2","chr3","enc1","enc2","enc3","enc4","origFileBase64","resizedFileBase64","rawImage","segments","image","exifArray","newImageArray","aBuffer","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","base64test","contentLoaded","win","top","doc","add","rem","pre","poll","transform","methodName","calculateIsParentDialog","route","editDialogCount","path","snapshot","pathFromRoot","url","length","urlSegment","sortLanguages","primaryLangKey","languages","primaryLang","sameLangs","otherLangs","language","NameId","startsWith","split","push","sort","a","b","localeCompare","AdamCacheService","SignalStoreBase","constructor","classLog","getId","item","Guid","loadPrefetch","prefetchAdams","snapshots","Object","entries","map","entityGuid","attributes","Attributes","addMany","getAdamSnapshot","fieldName","cache","factory","fac","providedIn","LinkCacheService","SignalStoreBase","constructor","classLog","getId","item","key","trim","toLocaleLowerCase","addPrefetch","prefetchLinks","prefetchAdam","links","Object","entries","map","linkInfo","__spreadValues","adamLinkList","flatMap","_","prefetchFields","__","items","adamToLinks","addMany","addAdam","addLink","link","__spreadProps","Adam","add","filter","IsFolder","ReferenceId","Value","Url","factory","fac","providedIn","correctAdamFolderBasePath","data","orgAdamPortalUrl","imgTagRegex","forEach","entityBundle","content","Entity","Attributes","String","Content","Object","entries","lang","htmlValue","html","decodeHtml","replace","imgTag","srcMatch","match","imgSrc","currentAdamUrl","extractAdamPortalUrl","updatedSrc","textarea","document","createElement","innerHTML","value","src","adamSegment","idx","indexOf","substring","length","logSpecs","all","fetchFormData","saveFormData","webApiLoad","webApiSave","FormDataService","HttpServiceBaseSignal","constructor","globalConfigService","log","classLog","items","fnIf","context","http","post","apiUrl","params","appId","pipe","map","formData","Context","Language","List","filter","language","IsEnabled","tap","allowDebug","Enable","DebugMode","result","partOfPage","inject","GlobalConfigService","factory","fac","PublishModes","Show","Hide","Branch","FormPublishingService","SignalStoreBase","constructor","classLog","getId","item","formId","#signalsPublishModeCache","ComputedCacheHelper","setPublishMode","publishMode","eavService","config","versioningOptions","Object","keys","publishStatus","DraftShouldBranch","PublishModes","Branch","IsPublished","Show","add","getPublishMode","getOrCreate","toPublishMode","get","Hide","factory","fac","providedIn","logSpecs","all","constructor","preserve","get","InitialValuesService","#cache","formConfig","itemService","languageService","log","classLog","aIf","l","fnIf","items","getMany","config","itemGuids","allLangs","getAll","map","language","NameId","includes","current","push","primary","item","currentLang","formValues","EntityReader","currentValues","Entity","Attributes","cacheKey","#cacheKey","Guid","entityGuid","result","r","inject","FormConfigService","ItemService","LanguageService","factory","fac","logSpecs","all","constructor","initMissingValues","InitializeMissingValuesServices","formConfig","itemService","inputTypeService","contentTypeService","languageService","log","classLog","l","fnIf","updater","eavConfig","config","items","getMany","itemGuids","inputTypes","getAll","languages","language","logicManager","FieldLogicManager","singleton","switchToDefault","isCreateMode","createMode","fss","FieldsSettingsHelpers","item","contentType","getContentTypeOfItem","ctAttribute","Attributes","currentName","Name","inputType","find","i","Type","InputType","isEmptyType","InputTypeHelpers","isEmpty","a","logic","getOrUnknown","attributeValues","Entity","fieldSettings","getDefaultSettings","EntityReader","primary","flatten","Metadata","length","firstValue","FieldReader","currentOrDefaultOrAny","value","isValueEmpty","setDefaultValue","disableI18n","DisableI18n","noLanguageValue","currentOrDefault","undefined","transactionItem","removeItemAttributeDimension","Guid","addItemAttributeValue","defaultLanguageValue","valueIsEmpty","IsEphemeral","r","inject","FormConfigService","ItemService","InputTypeService","ContentTypeService","LanguageService","factory","fac","ItemsRequestRestoreHelper","constructor","items","contentsOverride","log","classLog","all","mergeResponse","itemsWithIndex","map","item","index","__spreadProps","__spreadValues","clientId","itemsForRequest","Prefill","ClientData","cleaned","result","l","fnIf","merged","original","find","i","Header","a","contents","overrideContents","r","logSpecs","all","constructor","fetchFormData","dataFromDialog","importLoadedData","initMissingValues","EditInitializerService","#formDataService","#userLanguageSvc","#initMissingValuesSvc","route","formConfig","itemService","inputTypeService","contentTypeItemService","contentTypeService","publishStatusService","translate","languageService","languageStore","snackBar","adamCacheService","linkCacheService","featuresService","initialValuesService","dialogData","log","classLog","loaded","signal","transient","FormDataService","UserLanguageService","InitializeMissingValuesServices","adamPortalUrl","aIf","l","fnIf","d","itemsRaw","snapshot","params","items","a","stateData","convertUrlToForm","dataHelper","ItemsRequestRestoreHelper","overrideContents","requestItems","itemsForRequest","JSON","stringify","subscribe","responseRaw","links","Prefetch","Links","linkValues","Object","values","fullUrl","length","Value","undefined","set","extractAdamPortalUrl","response","__spreadProps","__spreadValues","Items","mergeResponse","load","Context","Update$2sxcEnvFromContext","App","#importLoadedData","preserve","#initMissingValues","loadDto","formId","Math","floor","random","isParentDialog","calculateIsParentDialog","correctAdamFolderBasePath","loadItems","addMany","InputTypes","addContentTypeItems","ContentTypeItems","addContentTypes","ContentTypes","loadPrefetch","Adam","addPrefetch","itemGuids","map","item","Entity","Guid","getMany","createMode","Id","isCopy","Header","DuplicateEntity","enableHistory","data","history","settingsAsEav","Settings","Entities","EavEntity","dtoToEavMany","EavContentType","initFormConfig","langs","Language","userLangCode","uiCode","Current","use","sortedLanguages","sortLanguages","Primary","List","addForm","publishMode","toPublishMode","setPublishMode","switchToDefault","language","current","primary","config","setCurrent","message","instant","open","duration","inject","ActivatedRoute","FormConfigService","ItemService","InputTypeService","ContentTypeItemService","ContentTypeService","FormPublishingService","TranslateService","LanguageService","FormLanguageService","MatSnackBar","AdamCacheService","LinkCacheService","FeaturesService","InitialValuesService","MAT_DIALOG_DATA","factory","fac","logSpecs","all","load","sortByType","insertToDom","FileTypeConstants","CSS","JS","ScriptsLoaderService","#loadedFiles","constructor","formConfig","log","classLog","scripts","callback","fnIf","sortedFiles","#sortByType","#insertToDom","cssFiles","jsFiles","forEach","script","file","path","_a","resolveUrlTokens","config","type","loaded","domEl","endsWith","push","concat","files","increment","window","sxcVersion","existing","find","loadedFile","_listener","removeEventListener","addEventListener","document","createElement","rel","href","src","querySelector","appendChild","url","replace","UrlHelpers","getUrlPrefix","inject","FormConfigService","factory","fac","Material_Icon_Adam_48_filled_default","Material_Icon_Adam_48_outlined_default","draft_branch_default","file_archive_default","file_audio_default","file_code_default","file_excel_default","file_image_default","file_pdf_default","file_powerpoint_default","file_text_default","file_video_default","file_word_default","file_default","folder_plus_default","folder_default","sitemap_default","LoadIconsService","constructor","matIconRegistry","domSanitizer","icons","appleFilled","appleOutlined","draftBranch","file","fileArchive","fileAudio","fileCode","fileExcel","fileImage","filePdf","filePowerpoint","fileText","fileVideo","fileWord","folder","folderPlus","sitemap","load","Object","entries","forEach","name","svg","addSvgIconLiteral","bypassSecurityTrustHtml","inject","MatIconRegistry","DomSanitizer","factory","fac","EntityFormStateService","constructor","log","classLog","controlsCreated","signal","isSaving","formGroup","UntypedFormGroup","factory","fac","logSpecs","all","childFormResult","expand","open","watchToRefreshOnVersionsClosed","EditRoutingService","ServiceBase","#dialogRouter","#route","#router","constructor","langInstanceSvc","formConfig","log","classLog","transient","DialogRoutingService","route","router","#childFormResult$","Subject","#signalsExpandedCache","a","ngOnDestroy","complete","init","#initHideHeader","#watchChildFormResult","#getParams","snapshot","params","#getParamsAndPayload","p","hasDetails","detailsEntityGuid","detailsFieldId","hasUpdate","updateEntityGuid","updateFieldId","guid","fieldId","isExpanded","entityGuid","fieldIndex","toString","isExpanded$","pipe","mapUntilChanged","isExpandedSignal","injector","key","cached","obs","toSignal","l","fnIf","filter","cr","result","map","rSilent","childFormClosed","_","componentTag","pInfo","oldEditUrl","items","newEditUrl","url","UrlHelpers","newUrlIfCurrentContainsOldUrl","end","navigate","state","form","formUrl","convertFormToUrl","relativeTo","subscriptions","add","subscribe","updateHideHeader","config","formId","childDialogClosed$","parseInt","getCurrentNavigation","extras","next","inject","FormLanguageService","FormConfigService","factory","fac","PickerItemFactory","placeholder","translate","i18nLabel","suffix","label","instant","value","noSelect","isMessage","noDelete","noEdit","message","params","DataAdapterBase","logSpecs","all","setupEmpty","connectState","initPrefetch","fetchItems","constructor","fields","DebugFields","dataSource","signalObj","optionsOrHints","computedObj","data","state","l","log","fnIf","set","dataSourceRaw","setup","deleteCallback","p","doAfterDelete","rSilent","logSpecsDataAdapterEntityBase","__spreadProps","__spreadValues","DataAdapterBase","logSpecs","editItem","getPrefill","DataAdapterEntityBase","#editRoutingService","#snackBar","#entityService","constructor","formConfig","inject","FormConfigService","EditRoutingService","translate","TranslateService","MatSnackBar","fieldState","FieldState","group","EntityFormStateService","formGroup","transient","EntityService","name","#paramsMaskLazy","FieldMask","initSignal","settingExt","contentType","computedObj","result","#createEntityTypes","settings","CreateTypes","myFeatures","create","#deletedItemsGuids","signalObj","errorOptions","optionsOrHints","errors","ds","dataSource","deleted","items","data","filter","item","some","guid","value","loading","PickerItemFactory","message","#prefill","#createParams","#editParams","syncParams","onAfterViewInit","initPrefetch","prefetchGuids","log","fnIfInList","forceReloadData","missingData","l","fn","addToRefresh","end","editParams","entityType","fnIf","editGuid","entityGuid","formParams","#urlToObject","form","EditPrep","newFromType","editId","find","id","entityId","ClientData","parameters","a","config","open","index","childFormClosed","pipe","take","subscribe","l2","deleteItem","props","entity","title","label","parentId","parentField","fieldName","confirm","instant","delete","appId","next","duration","deleteCallback","update","p","error","_","dismiss","prefill","trim","r","Object","fromEntries","split","map","line","parts","length","fill","data","fallback","create","textEntry","multiValue","edit","remove","delete","logMergePickerFeatures","mergePickerFeatures","first","second","firstTrue","secondTrue","result","console","log","pickerItemsAllowsEmpty","dropdownOptions","some","o","value","convertValueToArray","separator","emptyIsValid","Array","isArray","split","convertArrayToString","join","logSpecs","all","setup","addInfosFromSourceForUi","optionsWithMissing","selectedRaw","selectedOverride","selectedState","features","allOptions","fields","DebugFields","PickerData","#translate","constructor","log","classLog","inject","TranslateService","closeWatcherAttachedWIP","ready","signalObj","optionsRaw","computedObj","source","optionsOrHints","optionsOverride","optionsAll","getWith","o","optionsAllowsEmpty","pickerItemsAllowsEmpty","l","fnIfInList","name","r","#toSelectedWithUiInfo","state","selectedItems","selectedAll","selectedOne","fnIf","selected","options","missing","filter","s","find","value","length","result","concat","#settingsLazy","#featuresFromSettings","textEntry","EnableTextEntry","multiValue","AllowMultiValue","create","EnableCreate","CreateTypes","remove","EnableRemove","delete","EnableDelete","edit","EnableEdit","sourceFeatures","myFeatures","stateFeatures","settingsFeatures","mergeSourceAndState","mergePickerFeatures","mergeSettings","forControl","__spreadProps","__spreadValues","showGoToListDialogButton","showAddNewButton","aIf","isInFreeTextMode","enabled","specs","effect","raw","override","final","a","settings","set","allowsEmptyLazy","values","initiallySelected","initPrefetch","end","selectedCopy","original","map","item","addNewlyCreatedItem","newItemGuid","Object","keys","fn","includes","add","forceReloadData","opts","e","createPickerItemFromItem","label","instant","#createPickerItemFromValue","toggleFreeTextMode","update","p","toString","validDataExpected","DataAdapterEntityBase","noEdit","noDelete","id","tooltip","factory","fac","info","link","noSelect","PickerDataFactory","constructor","injector","inputTypeSvc","log","classLog","createPickersForAttributes","attributes","fields","map","a","name","Name","inputType","getSpecs","#createPickersData","it","picker","#createOne","filter","reduce","acc","InputTypeHelpers","isAnyPicker","transient","PickerData","inject","Injector","InputTypeService","factory","fac","SignalEquals","bool","equal","RxHelpers","valueEquals","number","string","ref","FormsStateService","#formsValid","#formsDirty","constructor","formConfig","itemService","languageService","log","classLog","triggerTrySaveAndMaybeClose","signal","tryToSave","close","SignalEquals","ref","formsAreValid","formsAreDirty","readOnly","itemHeaders","config","itemGuids","map","guid","getItemHeaderSignal","language","getAllSignal","computedObj","itemsReadOnly","some","itemHeader","EditInfo","ReadOnly","languageAllowed","find","l","NameId","current","IsAllowed","isReadOnly","reason","undefined","formsValidTemp","saveButtonDisabled","entityGuid","getFormValid","setFormValid","isValid","allValid","Object","values","valid","set","setFormDirty","isDirty","anyDirty","dirty","triggerSave","inject","FormConfigService","ItemService","LanguageService","factory","fac","FormulaExecutionSpecsFactory","#features","inject","FeaturesService","getAll","constructor","formConfig","itemService","languageSvc","globalConfigSvc","initialValuesService","init","settingsSvc","entityGuid","clientData","#entityGuid","#settingsSvc","#clientData","#warningsObsolete","getSharedSpecs","language","languages","debugEnabled","isDebug","initialFormValues","get","current","fieldsSettingsSvc","features","parameters","FormulaPropsParameters","ClientData","warningsObsolete","inject","FormConfigService","ItemService","LanguageService","GlobalConfigService","InitialValuesService","factory","fac","FieldPropsPicker","logSpecs","all","getPickerInfos","filterFormulasIfPickerNotReady","fields","DebugFields","FormulaFieldPickerHelper","constructor","fieldName","fieldConstants","propsBefore","log","classLog","isSpecialPicker","inputTypeSpecs","isNewPicker","infos","#infos","#getInfos","before","l","fnIfInList","picks","ready","filter","f","fieldIsSpecialPicker","formulas","sleep","changed","msg","length","options","ver","selected","rSilent","picker","pickerData","dummy","list","listRaw","verBefore","mapper","getSpecs","cache","final","getVersion","optionsRaw","optionsAll","opts","selectedRaw","selectedAll","sel","result","state","r","updateFormulaSleep","formula","raw","FormulaSpecialPickerAutoSleep","includes","target","a","preserveResultsAfterRun","wip","FormulaSettingsHelper","keepSettingIfTypeOk","target","settings","valueNew","settingsNew","keepSettingIfTypeOkAndStatus","settingName","substring","SettingsFormulaPrefix","length","prevSetting","isEqual","wasChanged","Array","isArray","logSpecs","all","runFormula","runAllOfField","runOrInitSettings","getPickerInfos","fields","DebugFields","FormulaRunField","constructor","promiseHandler","designerSvc","entityGuid","runOneHelper","log","classLog","currentValues","fieldName","fieldConstants","settingsCurrent","itemHeader","valueBefore","propsBefore","reuseExecSpecs","setUpdHelper","l","fnIfInList","pickHelp","FormulaFieldPickerHelper","fAll","untracked","cache","getActive","isSpecialPicker","fGrouped","groupBy","f","disabled","#showDisabledFormulasWarnings","enabled","noPromiseSleep","filterFormulas","formulas","filterFormulasIfPickerNotReady","a","length","finalize","value","validation","settings","options","FieldPropsPicker","selected","runParamsStatic","settingsInitial","pickerHelper","defaultValueHelper","FieldDefaults","inputTypeSpecs","inputType","raw","#runAllOfField","settingsUpdate","correctSettingsAfterChanges","__spreadValues","requiredFeatures","FeatureNames","PickerFormulas","r","__spreadProps","formula","console","warn","target","disabledReason","runParams","reuseObjectsForFormulaDataAndContext","wip","undefined","start","performance","now","allRunParams","runParameters","#runFormula","updateFormulaSleep","updateStop","handleStopAndPromise","preserveResultsAfterRun","push","isValue","isValidation","isSetting","FormulaSettingsHelper","keepSettingIfTypeOk","afterRun","execSpecs","params","title","devHelper","valHelper","getPartsFor","version","showStart","FormulaVersions","V1","v1Raw","fn","data","context","ok","v1Result","valueV1","v1","showResult","error","toFormulaResult","V2","v2Raw","v2Value","v2","promise","Error","showError","logSpecs","all","getFormulas","runAllFields","runFormula","runOneFieldOrInitSettings","fields","DebugFields","FormulaEngine","#formulaExecSpecsFactory","constructor","designerSvc","logSvc","translate","log","classLog","transient","FormulaExecutionSpecsFactory","init","entityGuid","clientData","settingsSvc","promiseHandler","contentType","ctTitle","#entityGuid","#promiseHandler","#contentType","#attributes","Attributes","#contentTypeTitle","propsEngine","cycle","fieldsProps","valueUpdates","fieldUpdates","reuseExecSpecs","getSharedSpecs","fss","FieldsSettingsHelpers","name","attr","lAttr","fnIfInList","Name","fieldName","values","allAttributes","valueBefore","fieldConstants","getFieldConstants","latestSettings","getFieldSettingsInCycle","settingsUpdateHelper","updateHelper","create","propsBefore","fieldProps","runOneHelper","FormulaRunOneHelpersFactory","allResults","FormulaRunField","runOrInitSettings","item","Header","fixed","settings","value","push","debugDetails","enabled","translationState","getTranslationState","DisableTranslation","languages","options","list","a","version","ver","selected","__spreadProps","__spreadValues","language","constants","buildWrappers","formulaValidation","validation","opts","sel","inject","FormulaDesignerService","LoggingService","TranslateService","factory","fac","FormulaPromiseResult","constructor","entityGuid","data","logSpecs","all","addFormulaPromise","updateStop","defineCallbackHandlerIfMissing","changesFromQueue","promiseComplete","filterFormulas","fields","DebugFields","FormulaPromiseHandler","constructor","itemSvc","log","classLog","#updateValueQueue","#fieldsSettingsService","init","entityGuid","contentType","fieldsSettingsService","modifiedChecker","#entityGuid","#contentType","#modifiedChecker","formula","raw","l","fnIfInList","fieldName","promiseResult","target","hasPromise","promise","Promise","newStop","stop","msg","end","handleStopAndPromise","openInDesigner","console","sleep","promises$","next","completed","#defineCallbackHandlerIfMissing","before","enabled","formulas","filter","f","value","a","length","rSilent","lcb","updateCallback$","result","#promiseComplete","FormulaValueCorrections","isValue","inputType","v2","queue","queueItem","FormulaPromiseResult","fieldQueue","data","name","undefined","settings","isSetting","settingName","push","promiseCompleted","retriggerFormulas","cycle","toProcess","Object","keys","valueChanges","newFieldProps","dataEntries","entries","values","map","field","reduce","acc","_","flat","modifiedValues","getValueUpdates","__spreadValues","fieldProps","itemAttributes","getItemAttributes","forEach","setting","settingsCurrent","settingsNew","SettingsFormulaPrefix","FormulaSettingsHelper","keepSettingIfTypeOk","constantFieldPart","getFieldConstants","attribute","Attributes","find","Name","setUpdHelper","updateHelper","create","mergedSettings","updatedSettings","correctSettingsAfterChanges","__spreadProps","inject","ItemService","factory","fac","WrappersCatalog","AdamWrapper","CollapsibleWrapper","DropzoneWrapper","PickerExpandableWrapper","PickerPreviewWrapper","ExpandableWrapper","HiddenWrapper","FeatureWarningWrapper","HyperlinkDefaultExpandableWrapper","HyperlinkLibraryExpandableWrapper","DialogPopup","LocalizationWrapper","WrappersLocalizationOnly","wrappers","WrapperHelper","getWrappers","settings","inputTypeSpecs","inputType","InputTypeHelpers","isMessage","isGroupStart","WrappersCatalog","CollapsibleWrapper","wrappers","HiddenWrapper","InputTypeCatalog","EntityDefault","StringDropdownQuery","EntityQuery","EntityContentBlocks","StringDropdown","EntityPicker","StringPicker","NumberPicker","includes","push","FeatureWarningWrapper","LocalizationWrapper","AllowMultiValue","PickerExpandableWrapper","isExternal","DropzoneWrapper","ExpandableWrapper","AdamWrapper","logSpecs","all","getCycleSettingsAndValues","getLatestSettingsAndValues","maxChangeCycles","FieldsPropsEngineCycle","constructor","engine","initialValues","fieldProps","allAttributes","updateHelper","fieldConstants","log","classLog","values","__spreadValues","getFieldConstants","name","find","f","fieldName","l","fnIf","i","cycle","#getLatestSettingsAndValues","mergedValues","valueChanges","isEqual","props","a","modifiedChecker","getValueUpdates","loopIndex","isFirstRound","Object","keys","length","newFieldProps","formulaPromises","changesFromQueue","fieldsProps","valueUpdates","fieldUpdates","formulaEngine","runAllFields","key","value","entries","buildWrappers","WrapperHelper","getWrappers","settings","constants","inputTypeSpecs","getFieldSettingsInCycle","constFieldPart","cached","language","settingsInitial","ItemFieldVisibility","constructor","identifier","defaultIsShow","fields","log","classLog","l","fn","ClientData","end","substring","ruleIsShow","toLowerCase","split","reduce","prev","f","hasRules","isVisibleDisabled","fieldName","r","override","mergedVisible","settings","Visible","VisibleDisabled","makeParentGroupsVisible","allConstFieldParts","forEach","groupField","index","InputTypeHelpers","isGroupStart","inputTypeSpecs","inputType","settingsInitial","i","length","innerField","endsPreviousGroup","a","reason","e","console","error","logSpecs","all","stablePartsOfLanguage","stablePartOfField","constantPartsOfField","constantFieldParts","staticPartsOfField","fields","DebugFields","FieldsSettingsConstantsService","constructor","formConfig","inputTypeSvc","log","classLog","#fieldSettingsHelper","FieldsSettingsHelpers","name","init","itemForIds","contentType","entityReaderCurrent","labelReaderCurrent","fieldsSettingsSvc","#item","#contentType","#itemFieldVisibility","ItemFieldVisibility","Header","#entityReaderCurrent","#labelReaderCurrent","#fieldSettingsSvc","stableDataOfLanguage","guid","Entity","Guid","id","Id","typeNameId","constParts","#constantPartsOfField","computedObj","#stablePartsOfLanguage","reader","labelReader","fieldConstants","l","fnIf","entityReader","constPartOfLanguage","Attributes","map","attr","fieldName","Name","lInner","fnIfInList","inputType","get","InputType","merged","flatten","Metadata","current","labelMerged","Placeholder","Notes","withGeneric","mergeGenericSettings","VisibleDisabled","isVisibleDisabled","settingsInitial","getDefaultSettings","__spreadProps","__spreadValues","find","c","inputTypeConfiguration","language","r","constPartsWithGroupVisibility","makeParentGroupsVisible","entityGuid","entityId","contentTypeNameId","mdMerger","EntityReader","initial","primary","allPickers","pickerData","eavConfig","config","a","constFieldParts","index","metadata","initialSettings","initialDisabled","Disabled","inputTypeSpecs","getSpecs","logic","FieldLogicManager","singleton","constants","dropzonePreviewsClass","formId","isLastInGroup","type","Type","inject","FormConfigService","InputTypeService","factory","fac","ValidationHelpers","isRequired","settings","#shouldIgnoreValidators","Required","getValidators","specs","inputType","validators","InputTypeCatalog","HyperlinkLibrary","#required","#requiredAdam","#regEx","#decimals","#numberMin","#numberMax","#listMin","#listMax","#formulaValidate","CustomJsonEditor","push","#jsonValidator","#ensureWarningsAndGetSettingsIfNoIgnore","control","s","valueRequired","Validators","required","adamItems","ValidationRegExJavaScript","pattern","Decimals","value","matchString","toString","match","decimals","Min","min","Max","max","AllowMultiMin","undefined","countValues","minNoItems","AllowMultiMax","maxNoItems","error","warning","jsonMode","JsonValidation","JSON","parse","_warning","jsonWarning","jsonError","formulaValidation","props","severity","formulaWarning","formulaMessage","message","formulaError","ItemFieldVisibility","mergedVisible","Array","isArray","length","pd","pickerData","convertValueToArray","Separator","selectedAll","ValidationHelperSpecs","constructor","fieldName","pickersGet","MetadataDecorators","LanguagesDecorator","SaveEmptyDecorator","logSpecs","all","correctSettingsAfterChanges","schemaDisablesTranslation","getDisabledBecauseTranslations","fields","DebugFields","FieldSettingsUpdateHelperFactory","constructor","contentTypeMetadata","language","fieldLogicTools","formReadOnly","slotIsEmpty","log","classLog","create","fieldName","attribute","constantFieldPart","attributeValues","FieldSettingsUpdateHelper","formSlotIsEmpty","settings","fieldValue","l","fnIfInList","Name","valueRequired","ValidationHelpers","isRequired","disableTranslation","#schemaDisablesTranslation","DisableTranslation","uiDisabledInThisLanguage","#getDisabledBecauseTranslations","uiDisabledForced","uiDisabled","Disabled","DisableAutoTranslation","settingsInitial","fixed","logic","update","value","tools","r","inputType","inputTypeConfiguration","attributeMetadata","Metadata","find","m","Type","MetadataDecorators","LanguagesDecorator","Attributes","Enabled","Values","some","v","DisableI18n","FieldReader","hasPrimary","attrMd","current","primary","fieldReader","hasEditableValues","hasCurrentReadonly","FieldsValuesModifiedHelper","constructor","contentType","slotIsEmpty","log","classLog","getValueUpdates","cycle","valueUpdatesFromSideEffects","valueUpdates","originalValues","values","fieldsProps","fieldProps","l","fn","r","changes","Attributes","map","attr","name","Name","original","filter","p","undefined","settings","uiDisabledForced","__spreadProps","__spreadValues","value","#findBestValue","FieldValueHelpers","fieldValuesAreEqual","reduce","acc","rSilent","fieldName","fieldsUpdates","sideEffects","f","valSideEffect","length","logSpecs","all","init","getPickers","FieldsPropsEngine","#formConfig","#globalConfigService","#formsStateService","#contentTypeItemService","#itemService","#constantsService","#pickerFac","#fieldsValues","constructor","log","classLog","inject","FormConfigService","GlobalConfigService","FormsStateService","ContentTypeItemService","ItemService","transient","FieldsSettingsConstantsService","PickerDataFactory","formulaEngine","FormulaEngine","formulaPromises","FormulaPromiseHandler","fss","entityGuid","item","contentType","reader","labelReader","fieldsValues","forceDebug","extendName","substring","l","fnIf","forceEnable","languages","slotIsEmpty","ct","pickerData","createPickersForAttributes","Attributes","a","#fieldLangConstants","stableDataOfLanguage","#updateHelper","#getPreparedParts","modifiedChecker","FieldsValuesModifiedHelper","Header","contentTypeSettings","_itemTitle","#itemAttributes","itemAttributesSignal","getLatestSettingsAndValues","fieldProps","fn","initialValues","values","language","attributes","updateHelper","fieldLangConstants","cycle","FieldsPropsEngineCycle","getCycleSettingsAndValues","props","readerSig","computedObj","isDebug","isReadOnly","readOnly","logicTools","eavConfig","config","debug","contentTypeItemSvc","FieldSettingsUpdateHelperFactory","Metadata","factory","fac","FieldsPropertiesUpdates","constructor","entityGuid","log","classLog","fieldPropsMixins","extendName","substring","hasChanges","Object","keys","length","updateSetting","fieldName","update","source","fieldsProps","queueWasEmpty","l","fn","before","settings","after","__spreadValues","isEqual","end","prev","mergeMixins","mixins","final","reduce","acc","key","ofField","__spreadProps","r","logSpecs","all","startSync","filterRelevant","transferPickerData","FieldSettingsPickerUpdater","constructor","log","classLog","source","l","fnIf","optsOnly","computedObj","#filterRelevant","selOnly","effect","#transferPickerData","end","update","part","toTransfer","Object","entries","filter","_","v","list","map","field","pickerData","constants","count","length","rSilent","a","pd","optionsOverride","selectedOverride","set","transform","object","iteratee","accumulator","isArr","isArray_default","isArrLike","isBuffer_default","isTypedArray_default","baseIteratee_default","Ctor","isObject_default","isFunction_default","baseCreate_default","getPrototype_default","arrayEach_default","baseForOwn_default","value","index","transform_default","difference","object","base","changes","transform","result","value","key","isEqual","isObject","logSpecs","logChanges","FieldsSignalsHelper","constructor","itemSvc","log","classLog","#itemGuid","signalObj","#attributesLazy","specs","lChange","a","before","effect","guid","all","values","changes","difference","#reader","init","itemGuid","reader","set","#fieldValueSigCache","ComputedCacheHelper","attributes","itemAttributesSignal","console","error","lGet","fn","#values","rSilent","sig","#createValuesSignal","computedObj","substring","l","attrSig","r","Object","keys","length","currentValues","get","field","#fieldValueOrNullSignal","fieldName","getOrCreateWithInfo","attribute","Values","getBestValue","signal","isNew","inject","ItemService","factory","fac","logSpecs","effectTransferPickerData","regenerateProps","type","activateAnalyzer","maxCyclesMs","maxCycleRestartDelay","maxCyclesPerTime","maxCyclesWarning","FieldsSettingsService","#languageSvc","#formConfig","#contentTypeSvc","#itemSvc","#usrLangSvc","#propsEngine","#pickerSync","constructor","log","classLog","inject","FormLanguageService","FormConfigService","ContentTypeService","ItemService","transient","UserLanguageService","FieldsPropsEngine","FieldSettingsPickerUpdater","allProps","signalObj","#startSync","signal","#forceRefresh","#disabled","#reader","getEntityReader","config","formId","#labelReader","computedObj","reader","lblLang","value","LanguagePart","Form","customLng","current","primary","EntityReader","#item","#contentType","computed","getContentTypeOfItem","contentTypeSettings","ContentTypeSettingsHelpers","getDefaultSettings","Header","#fieldValues","FieldsSignalsHelper","#fieldPropsCache","ComputedCacheHelper","fieldProps","buildProxy","f","#fieldSignalsCache","settings","translationState","proxy","allPropsOrNull","#allProps","effect","update","set","startSync","disableForCleanUp","fn","#fieldsPropsUpdate","init","entityGuid","item","get","FieldsPropertiesUpdates","ct","debugOnlyCt","specs","forceDebug","Id","a","forceEnable","slotIsEmpty","deps","idMsg","cycle","disabled","slotWasEmpty","forceRefresh","watchRestart","prevFieldProps","hasRunOnce","setInterval","setTimeout","v","#regenerateProps","l","fnIf","props","r","msg","console","warn","latestFieldProps","hasChanges","mergeMixins","getLatestSettingsAndValues","rSilent","retriggerFormulas","source","updateSetting","fieldName","pickerData","factory","fac","FieldTranslationInfo","constructor","getFieldsProps","log","classLog","#settings","#_settings","settings","isAutoTranslatable","DisableTranslation","DisableAutoTranslation","notForAutoTranslateBecauseOfType","autoTranslateIsDisabledByTypeButNotByConfig","FieldLogicManager","singleton","get","constants","inputTypeSpecs","inputType","canAutoTranslate","apiKeyInDemoModeAlert","logSpecs","all","constructor","init","unlock","lock","getInfo","autoTranslate","findAutoTranslatableFields","addItemAttributeValueHelper","FieldsTranslateService","#itemAttributes","http","itemService","formConfig","contentTypeService","fieldsSettingsService","snackBar","translate","log","classLog","updater","fnIf","entityGuid","l","#entityGuid","item","get","#contentTypeId","ItemHelper","getContentTypeNameId","itemAttributesSignal","end","contentTypeId","fieldName","isTransaction","transactionItem","#getInfo","DisableTranslation","rNull","language","removeItemAttributeDimension","current","values","doesFieldHaveExistingDimension","FieldReader","currentEditable","defaultValue","FormLanguage","bothPrimary","r","#addItemAttributeValueHelper","value","toggleUnlockOnAll","isUnlock","translatable","findTranslatableFields","length","showMessageNoTranslatableFields","forAutoTranslate","msg","instant","replace","open","duration","fieldNames","sourceLanguageKey","isMany","areAllChecksKnown","autoTranslateLanguageKey","apiKeyInfo","settings","Values","EditApiKeyPaths","GoogleTranslate","IsDemo","alert","attributes","filter","f","textsForTranslation","map","forEach","field","i","currentText","isAutoTranslationEnabledButWasDisabledByDefault","autoTranslateIsDisabledByTypeButNotByConfig","translationData","q","target","source","post","ApiKey","subscribe","response","fieldsWithExistingDims","data","translations","translation","elem","document","createElement","innerHTML","translatedText","fieldHasExistingDimension","updateItemAttributeValue","copyFrom","copyFromLanguageKey","fieldReader","valueTranslation","ofLanguage","diffCurrent","isEditableOrReadonlyTranslationExist","a","linkReadOnly","linkWithLanguageKey","linkToOtherField","linkReadWrite","isReadOnly","addItemAttributeDimension","primary","autoTranslateMany","canTranslate","cantTranslateAndEmpty","findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault","x","includes","undefined","push","Object","keys","result","isAutoTranslatable","ti","FieldTranslationInfo","fieldProps","notForAutoTranslateBecauseOfType","currentLanguage","ctAttribute","getAttribute","addItemAttributeValue","Type","inject","HttpClient","ItemService","FormConfigService","ContentTypeService","FieldsSettingsService","MatSnackBar","TranslateService","factory","fac","EntityFormSyncService","ServiceBase","constructor","entityFormSvc","formsStateSvc","formConfig","itemSvc","log","classLog","setupSync","entityGuid","form","formGroup","subscriptions","add","valueChanges","pipe","map","dirty","startWith","subscribe","isDirty","setFormDirty","formValid$","invalid","mapUntilChanged","m","itemHeader$","getItemHeader$","combineLatest","formValid","itemHeader","IsEmpty","isValid","setFormValid","getRawValue","distinctUntilChanged","previous","current","FieldValueHelpers","getItemValuesChanges","formValues","language","updater","updateItemAttributesValues","inject","EntityFormStateService","FormsStateService","FormConfigService","ItemService","factory","fac","import_reflect_metadata","FieldMetadataKey","FieldMetadata","metadata","component","Reflect","defineMetadata","ChangeAnchorTargetDirective","#target","#element","#observer","constructor","elementRef","zone","nativeElement","ngOnInit","runOutsideAngular","#setAnchorTargets","MutationObserver","_","observe","attributes","childList","subtree","ngOnDestroy","disconnect","nodeName","toLocaleLowerCase","anchor","target","childAnchors","getElementsByTagName","Array","from","directiveInject","ElementRef","NgZone","selectors","elementStart","listener","$event","restoreView","_r1","ctx_r1","nextContext","resetView","toggleHint","element","elementEnd","property","pureFunction1","_c1","disabled","advance","showExpand","pipeBind1","notes","sanitizeHtml","text","textInterpolate","pipeBind2","ctx","settings","conditionalCreate","FieldHelperTextComponent_Conditional_0_Conditional_1_Template","FieldHelperTextComponent_Conditional_0_Conditional_2_Template","FieldHelperTextComponent_Conditional_0_Conditional_3_Template","pureFunction3","_c0","fieldState","config","isLastInGroup","hyperlinkDefaultWrapperFix","smallGap","conditional","tmp_3_0","showErrors","errorMessage","tmp_4_0","disableError","warningMessage","FieldHelperTextComponent","constructor","input","flatIfEmpty","inject","FieldState","#invalid","computedObj","ui","invalid","Notes","replace","componentId","isEmpty","_","uiValue","getErrors","getWarnings","show","id","event","target","nodeName","toLocaleLowerCase","classList","contains","parentNode","selectors","inputs","decls","vars","consts","template","rf","FieldHelperTextComponent_Conditional_0_Template","NgClass","MatFormFieldModule","MatHint","MatError","ChangeAnchorTargetDirective","TranslateModule","TranslatePipe","SafeHtmlPipe","styles","BooleanBaseComponent","constructor","fieldState","inject","FieldState","group","ui","uiValue","settings","basics","changedLabel","settingExt","selectors","decls","vars","template","rf","ctx","encapsulation","BooleanDefaultLogic","FieldLogicBase","constructor","name","InputTypeCatalog","BooleanDefault","update","settings","value","fixedSettings","__spreadValues","ReverseToggle","_label","#calculateLabel","TitleTrue","TitleFalse","Name","add","BooleanDefaultComponent","BooleanBaseComponent","constructor","checkedState","computedObj","value","uiValue","settings","ReverseToggle","BooleanDefaultLogic","importMe","updateValue","ui","disabled","fieldState","setIfChanged","selectors","features","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","elementStart","listener","element","text","elementEnd","property","group","advance","textInterpolate1","changedLabel","basics","label","FormsModule","NgControlStatusGroup","ReactiveFormsModule","FormGroupDirective","MatSlideToggleModule","MatSlideToggle","NgClass","FieldHelperTextComponent","styles","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","BooleanTristateLogic","FieldLogicBase","constructor","name","InputTypeCatalog","BooleanTristate","update","settings","value","fixedSettings","__spreadValues","ReverseToggle","_label","#calculateLabel","TitleTrue","TitleFalse","TitleIndeterminate","Name","add","BooleanTristateComponent","BooleanBaseComponent","constructor","fs","fieldState","checkedState","computedObj","value","uiValue","settings","ReverseToggle","bestLabel","TitleTrue","TitleFalse","TitleIndeterminate","Name","BooleanTristateLogic","importMe","updateValue","disabled","ui","setIfChanged","#nextValue","current","reversed","selectors","features","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","elementStart","listener","element","text","elementEnd","property","group","advance","pureFunction4","_c0","changedLabel","basics","label","textInterpolate1","FormsModule","NgControlStatusGroup","ReactiveFormsModule","FormGroupDirective","MatSlideToggleModule","MatSlideToggle","NgClass","FieldHelperTextComponent","styles","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","CustomDefaultComponent","constructor","fieldState","inject","FieldState","config","console","log","selectors","decls","vars","consts","template","rf","ctx","domElementStart","text","domElementEnd","advance","textInterpolate1","fieldName","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","CustomJsonEditorLogic","FieldLogicBase","constructor","name","InputTypeCatalog","CustomJsonEditor","update","settings","fixedSettings","__spreadValues","Rows","JsonValidation","JsonSchemaMode","JsonSchemaSource","JsonSchemaUrl","JsonSchemaRaw","JsonCommentsAllowed","add","StringJsonLogic","StringJson","element","property","ctx_r0","basics","placeholder","CustomJsonEditorComponent","#fieldState","#config","#settings","#rows","constructor","formConfig","inject","FieldState","config","ui","uiValue","settings","settingExt","focused","computed","focused$","editorHeight","monacoOptions","lineHeight","jsonSchema","JsonSchemaMode","type","JsonSchemaSource","value","JsonSchemaUrl","JsonSchemaRaw","jsonComments","JsonCommentsAllowed","minimap","enabled","lineNumbers","lineDecorationsWidth","folding","scrollBeyondLastLine","tabSize","fixedOverflowWidgets","CustomJsonEditorLogic","importMe","StringJsonLogic","ngOnInit","filename","fieldName","entityGuid","formId","codeChanged","code","setIfChanged","onFocused","next","onBlurred","markTouched","directiveInject","FormConfigService","selectors","decls","vars","consts","template","rf","ctx","elementStart","text","elementEnd","listener","$event","conditionalCreate","CustomJsonEditorComponent_Conditional_4_Template","pureFunction3","_c0","disabled","touchedAndInvalid","advance","textInterpolate2","label","required","pureFunction1","_c1","conditional","NgClass","MatFormFieldModule","MatLabel","MonacoEditorComponent","NgStyle","FieldHelperTextComponent","styles","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","_c0","_forTrack0","$index","$item","_forTrack1","MatCalendarBody_Conditional_0_Template","rf","ctx","elementStart","text","elementEnd","ctx_r0","nextContext","advance","styleProp","attribute","textInterpolate1","MatCalendarBody_For_2_Conditional_1_Template","MatCalendarBody_For_2_For_3_Template","_r2","getCurrentView","listener","$event","item_r3","restoreView","resetView","element","$index_14_r4","$index_7_r5","classProp","property","MatCalendarBody_For_2_Template","conditionalCreate","repeaterCreate","row_r6","conditional","repeater","MatMonthView_For_4_Template","day_r1","textInterpolate","_c1","MatCalendar_ng_template_0_Template","MatCalendar_Case_2_Template","_r1","twoWayListener","ctx_r1","twoWayBindingSet","twoWayProperty","MatCalendar_Case_3_Template","_r3","MatCalendar_Case_4_Template","_r4","MatDatepickerContent_ng_template_2_Template","_c2","_c3","_c4","MatDatepickerToggle_Conditional_2_Template","namespaceSVG","MatDatepickerIntl","Subject","start","end","__ngFactoryType__","defineInjectable","uniqueIdCounter$1","MatCalendarCell","value","displayValue","ariaLabel","enabled","cssClasses","compareValue","rawValue","activeCapturingEventOptions","passiveCapturingEventOptions","passiveEventOptions","MatCalendarBody","inject","ElementRef","NgZone","Platform","EventEmitter","Injector","row","renderer","Renderer2","idGenerator","_IdGenerator","_CdkPrivateStyleLoader","_StructuralStylesLoader","element","cleanups","cell","event","changes","columnChanges","rows","numCols","cleanup","rowIndex","colIndex","cellNumber","movePreview","afterNextRender","activeCell","isStart","isEnd","isInRange","previousCell","previousRow","nextCell","nextRow","target","getActualTouchTarget","getCellElement","cellElement","col","defineComponent","NgOnChangesFeature","_c0","rf","ctx","conditionalCreate","MatCalendarBody_Conditional_0_Template","repeaterCreate","MatCalendarBody_For_2_Template","_forTrack0","elementStart","text","elementEnd","conditional","advance","repeater","property","textInterpolate1","textInterpolate2","NgClass","isTableCell","node","rangeEnabled","touchLocation","DateRange","MatDateSelectionModel","selection","_adapter","source","oldValue","date","invalidFactory","MatSingleDateSelectionModel","adapter","clone","inject","DateAdapter","MAT_SINGLE_DATE_SELECTION_MODEL_PROVIDER","MatDateSelectionModel","inject","MatSingleDateSelectionModel","DateAdapter","MAT_DATE_RANGE_SELECTION_STRATEGY","InjectionToken","DAYS_PER_WEEK","uniqueIdCounter","MatMonthView","inject","ChangeDetectorRef","MAT_DATE_FORMATS","DateAdapter","Directionality","MAT_DATE_RANGE_SELECTION_STRATEGY","Subscription","value","oldActiveDate","validDate","DateRange","EventEmitter","signal","_CdkPrivateStyleLoader","_VisuallyHiddenLoader","startWith","changes","comparisonChange","event","date","selectedDate","rangeStartDate","rangeEndDate","month","isRtl","hasModifierKey","firstOfMonth","movePreview","cell","previewRange","dragRange","dragDropResult","dayOfMonth","firstDayOfWeek","narrowWeekdays","weekdays","long","i","daysInMonth","dateNames","weeks","enabled","ariaLabel","cellClasses","MatCalendarCell","d1","d2","year","day","selectedValue","__ngFactoryType__","defineComponent","rf","ctx","viewQuery","MatCalendarBody","_t","queryRefresh","loadQuery","NgOnChangesFeature","elementStart","repeaterCreate","MatMonthView_For_4_Template","_forTrack1","elementEnd","element","listener","$event","advance","repeater","property","yearsPerPage","yearsPerRow","MatMultiYearView","isSameMultiYearView","minYearOfPage","getActiveOffset","years","row","selectedYear","activeMonth","yearName","firstOfYear","displayValue","dateAdapter","date1","date2","minDate","maxDate","year1","year2","startingYear","getStartingYear","activeDate","activeYear","euclideanModulo","a","b","MatYearView","selectedMonth","monthNames","normalizedDate","monthName","maxYear","maxMonth","minYear","minMonth","MatCalendarHeader","MatDatepickerIntl","MatCalendar","changeDetectorRef","calendar","intl","adapter","maxYearOfPage","minYearLabel","maxYearLabel","_IdGenerator","_c1","projectionDef","text","namespaceSVG","namespaceHTML","projection","textInterpolate","attribute","classProp","MatButton","MatIconButton","MatTooltip","ElementRef","viewChangedResult","Subject","ComponentPortal","minDateChange","maxDateChange","changeRequiringRerender","view","_getFocusedElementPierceShadowDom","normalizedYear","normalizedMonth","ProvidersFeature","MAT_SINGLE_DATE_SELECTION_MODEL_PROVIDER","template","MatCalendar_ng_template_0_Template","conditionalCreate","MatCalendar_Case_2_Template","MatCalendar_Case_3_Template","MatCalendar_Case_4_Template","tmp_1_0","conditional","CdkPortalOutlet","CdkMonitorFocus","MAT_DATEPICKER_SCROLL_STRATEGY","InjectionToken","injector","Injector","createRepositionScrollStrategy","MatDatepickerContent","_animationsDisabled","MatDateSelectionModel","NgZone","element","renderer","Renderer2","cleanup","selection","isRange","newSelection","portal","forceRerender","classMap","MatDatepickerContent_ng_template_2_Template","CdkTrapFocus","MatDatepickerBase","ViewContainerRef","DOCUMENT","coerceStringArray","positionChange","positionStrategy","FlexibleConnectedPositionStrategy","input","canRestoreFocus","completeClose","instance","location","take","activeElement","isDialog","overlayRef","createOverlayRef","OverlayConfig","createBlockScrollStrategy","keyCode","afterNextRender","createGlobalPositionStrategy","strategy","createFlexibleConnectedPositionStrategy","primaryX","secondaryX","primaryY","secondaryY","ctrlShiftMetaModifiers","merge","filter","modifier","defineDirective","booleanAttribute","MatDatepicker","MatDatepicker_BaseFactory","getInheritedFactory","InheritDefinitionFeature","MatDatepickerInputEvent","target","targetElement","MatDatepickerInputBase","newValue","control","controlValue","min","max","model","dateInputsHaveChanged","fn","c","isDisabled","lastValueWasValid","hasChanged","reformat","keys","key","previousValue","currentValue","MAT_DATEPICKER_VALUE_ACCESSOR","NG_VALUE_ACCESSOR","forwardRef","MatDatepickerInput","MAT_DATEPICKER_VALIDATORS","NG_VALIDATORS","MAT_FORM_FIELD","datepicker","validValue","wasMatchingValue","Validators","modelValue","domProperty","MAT_INPUT_VALUE_ACCESSOR","MatDatepickerToggleIcon","MatDatepickerToggle","defaultTabIndex","HostAttributeToken","parsedTabIndex","datepickerStateChanged","of","inputStateChanged","datepickerToggled","dirIndex","contentQuery","_c2","_c4","_c3","MatDatepickerToggle_Conditional_2_Template","MatDatepickerModule","__ngFactoryType__","defineNgModule","defineInjector","MatDatepickerIntl","MatButtonModule","OverlayModule","A11yModule","PortalModule","MatDatepickerContent","MatDatepickerToggle","MatCalendarHeader","BidiModule","CdkScrollableModule","_c0","_forTrack0","$index","$item","MatTimepicker_ng_template_0_For_2_Template","rf","ctx","_r3","getCurrentView","elementStart","listener","$event","restoreView","ctx_r1","nextContext","resetView","text","elementEnd","option_r4","property","advance","textInterpolate","MatTimepicker_ng_template_0_Template","_r1","repeaterCreate","classProp","attribute","repeater","_c1","_c2","MatTimepickerToggle_ProjectionFallback_1_Template","namespaceSVG","element","INTERVAL_PATTERN","MAT_TIMEPICKER_CONFIG","InjectionToken","parseInterval","value","result","parsed","amount","unit","generateOptions","adapter","formats","min","max","interval","options","current","MAT_TIMEPICKER_SCROLL_STRATEGY","InjectionToken","injector","inject","Injector","createRepositionScrollStrategy","MatTimepicker","Directionality","ViewContainerRef","MAT_TIMEPICKER_CONFIG","DateAdapter","MAT_DATE_FORMATS","_animationsDisabled","signal","viewChild","viewChildren","MatOption","ActiveDescendantKeyManager","input","parseInterval","output","_IdGenerator","booleanAttribute","computed","ElementRef","overlayRef","TemplatePortal","afterNextRender","options","currentInput","option","current","event","positionStrategy","createFlexibleConnectedPositionStrategy","createOverlayRef","target","_getEventTarget","origin","interval","adapter","timeFormat","min","max","cacheKey","generateOptions","value","fallback","hasSelected","scrollOptionIntoView","untracked","keyCode","hasModifierKey","previousActive","currentActive","effect","__ngFactoryType__","defineComponent","rf","ctx","viewQuerySignal","_c0","queryAdvance","ProvidersFeature","MAT_OPTION_PARENT_COMPONENT","template","MatTimepicker_ng_template_0_Template","templateRefExtractor","position","MatTimepickerInput","MAT_FORM_FIELD","timepicker","isOpen","activeDescendant","model","renderer","Renderer2","deserialized","fn","isDisabled","control","overlayHost","currentValue","date","hasChanged","prevValueValid","prevMinValid","prevMaxValid","valueValid","stateChanged","selection","propagateToAccessor","toAssign","hours","minutes","seconds","_getFocusedElementPierceShadowDom","Validators","defineDirective","listener","$event","tmp_4_0","domProperty","attribute","NG_VALUE_ACCESSOR","NG_VALIDATORS","MAT_INPUT_VALUE_ACCESSOR","MatTimepickerToggle","HostAttributeToken","parsed","_c2","projectionDef","_c1","elementStart","projection","MatTimepickerToggle_ProjectionFallback_1_Template","elementEnd","property","MatIconButton","MatTimepickerModule","defineNgModule","defineInjector","CdkScrollableModule","import_ar","import_bg","import_cs","import_da","import_de","import_de_at","import_de_ch","import_el","import_en","import_en_au","import_en_ca","import_en_gb","import_en_ie","import_es","import_es_mx","import_es_us","import_fa","import_fi","import_fr","import_fr_ch","import_he","import_hi","import_hr","import_hu","import_id","import_it","import_it_ch","import_ja","import_jv","import_ko","import_lb","import_ms","import_ms_my","import_nl","import_nl_be","import_pa_in","import_pl","import_pt","import_pt_br","import_ru","import_sk","import_sl","import_sv","import_th","import_tr","import_uk","import_zh","import_dayjs","import_customParseFormat","import_localeData","import_localizedFormat","import_utc","MAT_DAYJS_DATE_ADAPTER_OPTIONS","InjectionToken","providedIn","factory","useUtc","MatDayjsDateAdapter","DateAdapter","constructor","dateLocale","_options","log","classLog","a","this","shouldUseUtc","dayjs","extend","utc","localizedFormat","customParseFormat","localeData","setLocale","locale","l","fn","firstDayOfWeek","longMonths","months","shortMonths","monthsShort","dates","range","i","createDate","format","longDaysOfWeek","dayJs","set","shortDaysOfWeek","weekdaysShort","narrowDaysOfWeek","weekdaysMin","r","getYear","date","clone","year","getMonth","month","getDate","getDayOfWeek","day","getMonthNames","style","getDateNames","getDayOfWeekNames","getYearName","getFirstDayOfWeek","getNumDaysInMonth","daysInMonth","today","parse","value","parseFormat","valueIsString","longDateFormat","parsed","isValid","length","formatWithSmallDay","replace","formatWithSmallMonth","formatWithoutSeparators","formatWithSmallDayAndMonth","parts","Array","indexOf","split","dayPart","monthPart","startsWith","parseTime","time","getSeconds","second","addSeconds","seconds","add","getMinutes","minute","getHours","hour","setTime","hours","minutes","displayFormat","Error","addCalendarYears","years","addCalendarMonths","addCalendarDays","days","toIso8601","toISOString","deserialize","Date","isDateInstance","obj","isDayjs","invalid","input","isTyped","toDate","setUTCHours","getUTCHours","getTimezoneOffset","UTC","getFullYear","valueFunction","valuesArray","inject","MAT_DATE_LOCALE","fac","COMMON_LABELS","monthYearLabel","dateA11yLabel","monthYearA11yLabel","MAT_DAYJS_DATE_FORMATS","parse","dateInput","DEFAULT_DATE_INPUT","timeInput","DEFAULT_TIME_INPUT","display","__spreadValues","timeOptionLabel","TIME_OPTION_LABEL","OWL_DAYJS_FORMATS","parseInput","fullPickerInput","datePickerInput","timePickerInput","MatDayjsModule","provide","MAT_DATE_FORMATS","useValue","MAT_DAYJS_DATE_FORMATS","MAT_DAYJS_DATE_ADAPTER_OPTIONS","useUtc","DateAdapter","useClass","MatDayjsDateAdapter","deps","MAT_DATE_LOCALE","import_dayjs","import_customParseFormat","import_utc","initializeDayjsFn","locale","dayjs","extend","utc","customParseFormat","getDateTimeValueFn","uiValue","generateTimePickerOptionsFn","dateTimeValue","template","hour","minute","second","predefinedOptions","label","value","isValid","userOption","format","some","option","allOptions","sort","a","b","valueOf","formatDateTimeFn","date","dayjs","format","getLocaleDateFormatFn","localized","localeData","longDateFormat","handleDateTimeInputFn","value","currentUiValue","setUiValue","useTimePicker","dateFormat","parsedDate","formats","isValid","updateFormattedValueFn","updateTimeFn","timeValue","time","updateDateFn","currentDateTime","utc","hour","minute","second","year","month","resultDateTime","toISOString","DateTimeUtils","initializeDayjs","initializeDayjsFn","updateFormattedValue","updateDate","updateTime","handleDateTimeInput","formatDateTime","generateTimePickerOptions","generateTimePickerOptionsFn","getDateTimeValue","getDateTimeValueFn","getLocaleDateFormat","MyMatTimepickerInput","MatTimepickerInput","constructor","timepicker","input","required","alias","selectors","hostAttrs","hostVars","hostBindings","rf","ctx","listener","_handleBlur","$event","_handleInput","_handleKeydown","domProperty","disabled","_ariaActiveDescendant","_ariaExpanded","_ariaControls","tmp_4_0","panelId","provide","NG_VALUE_ACCESSOR","useExisting","multi","NG_VALIDATORS","MAT_INPUT_VALUE_ACCESSOR","InheritDefinitionFeature","elementStart","listener","$event","restoreView","_r2","ctx_r2","nextContext","resetView","handleDateTimeInput","elementEnd","property","ui","disabled","basics","required","formatDateTime","dateTimeValue","placeholder","elementContainerStart","_r4","updateTime","element","advance","timepicker_r5","timePickerOptions","logSpecs","all","updateDate","disabledEffect","ngAfterViewInit","InvalidDate","DatetimeDefaultComponent","constructor","translate","log","classLog","fieldState","inject","FieldState","group","uiValue","useTimePicker","settingExt","computed","l","fnIf","DateTimeUtils","getDateTimeValue","generateTimePickerOptions","locale","navigator","language","substring","initializeDayjs","currentLang","dateFmt","getLocaleDateFormat","timePickerRef","selected","subscribe","timeData","updateFormattedValue","value","end","date","event","input","target","trim","aIf","setIfChanged","console","error","isValid","time","updated","directiveInject","TranslateService","selectors","viewQuery","rf","ctx","MatTimepicker","text","conditionalCreate","DatetimeDefaultComponent_Conditional_3_Template","i0","_r1","DatetimeDefaultComponent_Conditional_8_Template","textInterpolate","label","conditional","classProp","datepicker_r6","MatFormFieldModule","MatFormField","MatLabel","MatSuffix","FormsModule","ReactiveFormsModule","MatInputModule","MatInput","FieldHelperTextComponent","MatDayjsModule","TippyDirective","MatDatepickerModule","MatDatepicker","MatDatepickerInput","MatDatepickerToggle","MatTimepickerModule","MatTimepickerToggle","MyMatTimepickerInput","styles","changeDetection","DatetimeDefaultComponent_1","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","EmptyDefaultComponent","constructor","selectors","decls","vars","template","rf","ctx","encapsulation","domElement","domProperty","pipeBind1","ctx_r0","basics","notes","sanitizeHtml","EmptyMessageComponent","constructor","fieldState","inject","FieldState","selectors","decls","vars","consts","template","rf","ctx","conditionalCreate","EmptyMessageComponent_Conditional_0_Template","conditional","visible","SafeHtmlPipe","styles","__decorate","FieldMetadata","PickerPartBaseComponent","constructor","log","classLog","fieldState","inject","FieldState","editRoutingService","EditRoutingService","enableTextEntry","settingExt","pickerData","isInFreeTextMode","ui","selectedItems","selectedAll","selectedItem","selectedOne","itemCount","computedObj","length","config","basics","features","expandDialog","initialDisabled","expand","index","entityGuid","openNewEntityDialog","entityType","a","source","editItem","toggleFreeText","disabled","toggleFreeTextMode","selectors","decls","vars","template","rf","ctx","encapsulation","elementStart","listener","restoreView","_r1","ctx_r1","nextContext","resetView","edit","item","value","id","text","elementEnd","property","ui","disabled","config","initialDisabled","_r3","removeItem","index","_r4","deleteItem","logSpecs","buttons","PickerItemButtonsComponent","PickerPartBaseComponent","constructor","log","classLog","input","required","show","uiFeatures","computedObj","f","features","uif","merged","noEdit","remove","noRemove","delete","noDelete","aIf","entityGuid","entityId","a","pickerData","source","editItem","state","selectors","inputs","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","conditionalCreate","PickerItemButtonsComponent_Conditional_0_Template","PickerItemButtonsComponent_Conditional_1_Template","PickerItemButtonsComponent_Conditional_2_Template","conditional","advance","MatButtonModule","MatIconButton","MatIconModule","MatIcon","TippyDirective","ClickStopPropagationDirective","styles","elementStart","text","elementEnd","property","pureFunction1","_c0","ctx_r0","ui","disabled","advance","textInterpolate1","basics","labelWithRequired","conditionalCreate","PickerListComponent_Conditional_1_For_2_Conditional_2_Template","element","features","multiValue","conditional","item_r3","tooltip","label","$index_8_r4","listener","$event","restoreView","_r2","nextContext","resetView","drop","repeaterCreate","PickerListComponent_Conditional_1_For_2_Template","_forTrack0","repeater","selectedItems","PickerListComponent","PickerPartBaseComponent","constructor","log","classLog","event","pickerData","state","reorder","previousIndex","currentIndex","selectors","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","PickerListComponent_Conditional_0_Template","PickerListComponent_Conditional_1_Template","length","MatFormFieldModule","MatLabel","MatSuffix","MatIconModule","MatIcon","MatButtonModule","NgClass","CdkDropList","CdkDrag","PickerItemButtonsComponent","TippyDirective","styles","BaseTreeControl","SelectionModel","dataNode","toBeProcessed","value","FlatTreeControl","getLevel","isExpandable","options","startIndex","results","i","node","CDK_TREE_NODE_OUTLET_NODE","InjectionToken","CdkTreeNodeOutlet","inject","ViewContainerRef","__ngFactoryType__","defineDirective","CdkTreeNodeOutletContext","data","CdkTreeNodeDef","TemplateRef","getTreeControlMissingError","CdkTree","inject","IterableDiffers","ChangeDetectorRef","ElementRef","Directionality","Subject","dataSource","BehaviorSubject","TREE_KEY_MANAGER","defaultNodeDefs","def","newType","SelectionModel","dataStream","isDataSource","isObservable","of","takeUntil","renderingData","expansionModel","combineLatest","startWith","tap","expansionChanges","switchMap","data","nodeType","map","convertedData","__spreadProps","__spreadValues","nodes","added","removed","items","keyManagerNodes","renderNodes","node","keyManagerOptions","trackBy","_index","item","dataDiffer","viewContainer","parentData","changes","adjustedPreviousIndex","currentIndex","view","record","newData","nodeDef","nodeData","index","levelAccessor","key","context","CdkTreeNodeOutletContext","CdkTreeNode","dataNode","take","children","child","keys","isExpanded","EMPTY","expanded","flattenedNodes","childrenAccessor","coerceObservable","getTreeControlMissingError","levelDelta","startIndex","dataNodeLevel","expectedLevel","results","i","currentLevel","set","parent","value","event","reduce","allChildren","nextChildren","concatMap","concat","parentKey","cachedNodes","parentIndex","parentNode","level","childNodes","childKey","nestedNodes","rootNodes","group","callback","toToggle","observables","inner","r","__ngFactoryType__","defineComponent","rf","ctx","dirIndex","contentQuery","CdkTreeNodeDef","_t","queryRefresh","loadQuery","viewQuery","CdkTreeNodeOutlet","listener","$event","elementContainer","_role","isExpandable","EventEmitter","getParentNodeAriaLevel","distinctUntilChanged","defineDirective","domProperty","attribute","booleanAttribute","nodeElement","isNodeElement","numberAttribute","element","classList","cssUnitPattern","CdkTreeNodePadding","inject","CdkTreeNode","CdkTree","ElementRef","Directionality","Subject","value","indent","takeUntil","nodeLevel","level","forceChange","padding","element","paddingProp","resetProp","units","parts","numberAttribute","__ngFactoryType__","defineDirective","CdkTreeNodeToggle","rf","ctx","listener","$event","booleanAttribute","CdkTreeModule","__ngFactoryType__","defineNgModule","defineInjector","isNoopTreeKeyManager","keyManager","MatTreeNode","CdkTreeNode","value","tabIndex","inject","HostAttributeToken","__ngFactoryType__","defineDirective","rf","ctx","listener","domProperty","attribute","numberAttribute","booleanAttribute","ProvidersFeature","InheritDefinitionFeature","MatTreeNodeDef","CdkTreeNodeDef","MatTreeNodeDef_BaseFactory","getInheritedFactory","MatTreeNodePadding","CdkTreeNodePadding","value","indent","MatTreeNodePadding_BaseFactory","__ngFactoryType__","getInheritedFactory","defineDirective","numberAttribute","ProvidersFeature","InheritDefinitionFeature","MatTreeNodeOutlet","inject","ViewContainerRef","CDK_TREE_NODE_OUTLET_NODE","CdkTreeNodeOutlet","MatTree","CdkTree","MatTree_BaseFactory","defineComponent","rf","ctx","viewQuery","_t","queryRefresh","loadQuery","elementContainer","MatTreeNodeToggle","CdkTreeNodeToggle","MatTreeNodeToggle_BaseFactory","MatTreeModule","__ngFactoryType__","defineNgModule","defineInjector","CdkTreeModule","BidiModule","MatTreeFlattener","transformFunction","getLevel","isExpandable","getChildren","node","level","resultNodes","parentMap","flatNode","childrenNodes","take","children","child","index","childParentMap","structuredData","nodes","treeControl","results","currentExpand","expand","i","MatTreeFlatDataSource","DataSource","BehaviorSubject","value","_treeControl","_treeFlattener","initialData","collectionViewer","merge","map","elementStart","listener","restoreView","_r1","ctx_r1","nextContext","resetView","goToLink","text","elementEnd","property","helpLink","PickerIconHelpComponent","constructor","input","window","open","selectors","inputs","decls","vars","consts","template","rf","ctx","conditionalCreate","PickerIconHelpComponent_Conditional_0_Template","conditional","MatIconModule","MatIcon","TippyDirective","ClickStopPropagationDirective","encapsulation","elementStart","text","elementEnd","property","ctx_r0","infoBox","PickerIconInfoComponent","constructor","input","selectors","inputs","decls","vars","consts","template","rf","ctx","conditionalCreate","PickerIconInfoComponent_Conditional_0_Template","conditional","MatIconModule","MatIcon","TippyDirective","ClickStopPropagationDirective","encapsulation","messagesDict","NGX_TIPPY_MESSAGES","InjectionToken","messagesDict","NGX_TIPPY_CONFIG","InjectionToken","DevModeService","isDevMode","__ngFactoryType__","defineInjectable","InstanceChangeReasonEnum","NgxTippyNamesEnum","CompRef","args","isComponent","value","isHTMLTemplate","isTemplateRef","TemplateRef","setTemplateVisible","tippyContent","renderer","TplRef","rootNodes","NgxViewService","appRef","content","tippyName","tippyContext","viewRef","tpl","context","component","inject","ApplicationRef","NgxTippyService","rendererFactory","devModeService","ngxViewService","messagesDict","Subject","name","state","errMessage","mouseEvent","tippyProps","instance","tippy_esm_default","options","exclude","duration","hideAll","__spreadValues","method","arg","reason","message","errorConstructor","messageFor","RendererFactory2","NGX_TIPPY_MESSAGES","NgxTippyDirective","tippyEl","renderer","ngxTippyService","ngxViewService","viewContainerRef","platform","ngxTippyConfig","isPlatformServer","changes","tippyTarget","viewRef","tippyElement","tInstance","tippy_esm_default","__spreadValues","setTemplateVisible","tippyName","__spreadProps","tippyInstance","className","classNames","ngxTippy","tippyProps","tippyClassName","tippyContext","previousValue","currentValue","tippyInstances","__ngFactoryType__","directiveInject","ElementRef","Renderer2","NgxTippyService","NgxViewService","ViewContainerRef","PLATFORM_ID","NGX_TIPPY_CONFIG","defineDirective","NgOnChangesFeature","NgxTippyModule","defineNgModule","defineInjector","CommonModule","element","classMap","interpolate1","ctx_r0","classWithoutDot","item","previewValue","elementStart","text","elementEnd","advance","textInterpolate","property","tippyTemplate_r2","sanitizeUrl","value","tippyTemplate_r3","imageResize","conditionalCreate","PickerItemPreviewComponent_Conditional_1_Case_0_Template","PickerItemPreviewComponent_Conditional_1_Case_1_Template","PickerItemPreviewComponent_Conditional_1_Case_2_Template","PickerItemPreviewComponent_Conditional_1_Case_3_Template","conditional","tmp_1_0","settings","PreviewType","debug","PickerItemPreviewComponent","constructor","input","required","debugMessage","computed","previewType","msg","JSON","stringify","console","log","replace","originalImage","width","height","optimizedImage","includes","selectors","inputs","decls","vars","consts","template","rf","ctx","PickerItemPreviewComponent_Conditional_1_Template","textInterpolate1","MatIcon","NgxTippyModule","NgxTippyDirective","styles","element","property","feature_r1","ctx_r1","show","item","index","uiFeatures","PickerPreviewLabelComponent","constructor","input","required","settings","actionsFirst","featureWarnings","computed","conditions","rules","list","split","map","c","trim","filter","startsWith","console","log","debugName","selectors","inputs","decls","vars","consts","template","rf","ctx","elementStart","text","elementEnd","repeaterCreate","PickerPreviewLabelComponent_For_7_Template","repeaterTrackByIdentity","conditionalCreate","PickerPreviewLabelComponent_Conditional_8_Template","PickerPreviewLabelComponent_Conditional_11_Template","advance","textInterpolate1","label","value","repeater","conditional","link","info","PickerItemPreviewComponent","PickerIconHelpComponent","PickerIconInfoComponent","PickerItemButtonsComponent","FeatureIconComponent","styles","RelationshipParentChild","RelationshipChildParent","PickerTreeDataHelper","#pickerTreeConfiguration","#treeItems","constructor","log","classLog","treeControl","FlatTreeControl","item","level","expandable","hasChild","_","build","updateConfig","pickerConfig","a","addTreeItems","treeItems","updateSelectedData","selectedData","dataSource","data","preConvertAllItems","treeConfig","items","convertedItems","map","x","#preConvertItemToTreeItem","children","#getChildren","allItems","id","Error","isParentChild","TreeRelationship","RelationshipParentChild","cpRef","TreeChildParentRefField","pcRef","TreeParentChildRefField","cId","TreeChildIdField","pId","TreeParentIdField","cStreamName","TreeLeavesStream","pStreamName","TreeBranchesStream","itemInCorrectStream","filter","sourceStreamName","find","currentId","length","result","__spreadProps","__spreadValues","parent","treeFlattener","MatTreeFlattener","MatTreeFlatDataSource","y","RelationshipChildParent","itemParentValue","disableOption","selected","enableReselect","selectedButNoReselect","some","entity","value","isRootButRootNotAllowed","TreeAllowSelectRoot","isBranchButBranchNotAllowed","TreeAllowSelectBranch","isLeafButLeafNotAllowed","TreeAllowSelectLeaf","factory","fac","PickerTreeDataService","constructor","treeHelper","inject","log","classLog","init","fieldSettings","allItems","a","settings","PickerDisplayMode","treeConfig","PickerTreeConfiguration","relationshipIsParentChild","TreeRelationship","RelationshipParentChild","runInInjectionContext","effect","all","treeItems","data","preConvertAllItems","undefined","updateConfig","addTreeItems","filteredData","filter","x","some","y","TreeParentChildRefField","z","Id","id","TreeChildParentRefField","length","updateSelectedData","inject","PickerTreeDataHelper","Injector","factory","fac","elementStart","projection","elementEnd","element","property","item_r2","value","noSelect","ctx_r2","settings","enableReselect","isOptionDisabled","tooltip","advance","fieldState","repeaterCreate","PickerSearchComponent_Conditional_14_For_1_Template","_forTrack0","repeater","filteredItems","item_r4","treeHelper","disableOption","selectedItems","text","textInterpolate1","treeControl","isExpanded","item_r5","template","PickerSearchComponent_Conditional_15_mat_tree_node_1_Template","PickerSearchComponent_Conditional_15_mat_tree_node_2_Template","dataSource","hasChild","listener","restoreView","_r6","nextContext","resetView","insertNull","logSpecs","all","optionSelected","focusOnSearchComponent","onClosed","onOpened","fields","DebugFields","PickerSearchComponent","PickerPartBaseComponent","#logItemChecks","#treeDataService","constructor","translate","globalConfigService","log","classLog","autocomplete","viewChild","required","showSelectedItem","input","showItemEditButtons","transient","PickerTreeDataService","PickerTreeDataHelper","selectedItem","computedObj","pickerData","selectedOne","#reFilter","signalObj","_","optionsAll","filterInDom","nativeElement","filter","toLocaleLowerCase","result","oItem","label","includes","length","PickerItemFactory","message","search","debugEnabled","isDebug","s","enableAddExisting","EnableAddExisting","EnableReselect","showAsTree","PickerDisplayMode","item","ngOnInit","fieldSettings","init","state","attachCallback","fnIf","focus","displaySelected","l","fnIfInList","name","count","selectedAll","r","displayFn","a","returnValue","find","ae","markAsTouched","ui","markTouched","filterSelectionList","update","x","isTreeDisplayMode","searchElement","blur","end","event","multiValue","features","option","selected","set","add","setTimeout","getPlaceholder","allOptions","placeholder","instant","isSelected","some","entity","goToLink","helpLink","window","open","getSelectedItem","directiveInject","TranslateService","GlobalConfigService","selectors","viewQuery","rf","ctx","i0","_r1","source","fetchItems","conditionalCreate","PickerSearchComponent_Conditional_9_Template","$event","PickerSearchComponent_Conditional_14_Template","PickerSearchComponent_Conditional_15_Template","PickerSearchComponent_Conditional_16_Template","group","pureFunction1","_c3","touchedAndInvalid","tmp_4_0","auto_r7","disabled","conditional","textEntry","_c4","basics","labelWithRequired","bind","MatFormFieldModule","MatFormField","MatLabel","MatSuffix","FormsModule","NgControlStatusGroup","ReactiveFormsModule","FormGroupDirective","NgClass","MatInputModule","MatInput","MatAutocompleteModule","MatAutocomplete","MatOption","MatAutocompleteTrigger","MatButtonModule","MatIconButton","MatIconModule","MatIcon","MatOptionModule","MatTreeModule","MatTreeNodeDef","MatTreeNodePadding","MatTreeNodeToggle","MatTree","MatTreeNode","TranslateModule","PickerItemButtonsComponent","TippyDirective","PickerPreviewLabelComponent","PickerItemPreviewComponent","styles","element","property","ctx_r0","basics","required","fieldState","name","placeholder","PickerTextComponent","PickerPartBaseComponent","constructor","log","classLog","useMultiLine","computedObj","separator","settings","Separator","selectors","features","InheritDefinitionFeature","ngContentSelectors","_c1","decls","vars","consts","template","rf","ctx","elementStart","conditionalCreate","PickerTextComponent_Conditional_2_Template","PickerTextComponent_Conditional_3_Template","projection","elementEnd","text","advance","group","conditional","textInterpolate","label","MatFormFieldModule","MatFormField","MatLabel","MatSuffix","FormsModule","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","ReactiveFormsModule","FormGroupDirective","FormControlName","MatInputModule","MatInput","encapsulation","element","property","elementStart","listener","ct_r2","restoreView","_r1","$implicit","ctx_r2","nextContext","resetView","openNewEntityDialog","guid","text","elementEnd","advance","textInterpolate","label","repeaterCreate","PickerDialogComponent_Conditional_4_Conditional_1_For_6_Template","repeaterTrackByIdentity","ui","disabled","features","create","entityTypesMenu_r4","repeater","pickerData","state","typesForNew","_r5","conditionalCreate","PickerDialogComponent_Conditional_4_Conditional_1_Template","PickerDialogComponent_Conditional_4_Conditional_2_Template","conditional","length","PickerDialogComponent","PickerPartBaseComponent","constructor","showAddNewEntityButtonInDialog","computedObj","settings","fieldState","isInFreeTextMode","EnableCreate","CreateTypes","multiValue","__ngFactoryType__","selectors","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","PickerDialogComponent_Conditional_1_Template","PickerDialogComponent_Conditional_2_Template","PickerDialogComponent_Conditional_4_Template","PickerListComponent","PickerSearchComponent","PickerTextComponent","FieldHelperTextComponent","MatButtonModule","MatMiniFabButton","MatMenuModule","MatMenu","MatMenuItem","MatMenuTrigger","MatIconModule","MatIcon","TippyDirective","encapsulation","logSpecs","all","options","select","PickerInlineBaseComponent","PickerPartBaseComponent","constructor","log","classLog","computedObj","pickerData","optionsWithMissing","selected","selectedItems","final","map","o","isSelected","find","s","value","__spreadProps","__spreadValues","aIf","source","fetchItems","item","l","fn","noSelect","end","allowMulti","features","multiValue","state","set","before","toggled","filter","values","PickerInlineHeaderComponent","PickerPartBaseComponent","__ngFactoryType__","selectors","features","InheritDefinitionFeature","ngContentSelectors","_c1","decls","vars","consts","template","rf","ctx","elementStart","text","elementEnd","element","projection","advance","property","pureFunction5","_c2","itemCount","ui","touchedAndInvalid","config","initialDisabled","textInterpolate1","basics","labelWithRequired","NgClass","FieldHelperTextComponent","styles","elementStart","listener","item_r2","restoreView","_r1","$implicit","ctx_r2","nextContext","resetView","select","element","elementEnd","property","selected","ui","disabled","noSelect","tooltip","advance","$index_r4","fieldState","settings","pureFunction0","_c2","PickerCheckboxesComponent","PickerInlineBaseComponent","constructor","requireFeature","FeatureNames","PickerUiCheckbox","selectors","features","InheritDefinitionFeature","ngContentSelectors","_c1","decls","vars","consts","template","rf","ctx","projection","repeaterCreate","PickerCheckboxesComponent_For_5_Template","_forTrack0","repeater","options","MatFormFieldModule","MatRippleModule","MatCheckbox","TippyDirective","PickerInlineHeaderComponent","PickerPreviewLabelComponent","styles","MatDivider","value","coerceBooleanProperty","__ngFactoryType__","defineComponent","rf","ctx","attribute","classProp","MatDividerModule","defineNgModule","defineInjector","BidiModule","_c0","_c1","_c2","_c3","_c4","_c5","LIST_OPTION","InjectionToken","MatListItemTitle","inject","ElementRef","__ngFactoryType__","defineDirective","MatListItemLine","MatListItemMeta","_MatListItemGraphicBase","rf","ctx","classProp","MatListItemAvatar","MatListItemAvatar_BaseFactory","getInheritedFactory","InheritDefinitionFeature","MatListItemIcon","MatListItemIcon_BaseFactory","MAT_LIST_CONFIG","MatListBase","value","coerceBooleanProperty","signal","attribute","MatListItemBase","NgZone","Platform","_animationsDisabled","lines","coerceNumberProperty","Subscription","_CdkPrivateStyleLoader","_StructuralStylesLoader","globalRippleOptions","MAT_RIPPLE_GLOBAL_OPTIONS","RippleRenderer","Injector","merge","recheckUnscopedContent","numberOfLines","unscopedContentEl","treatAsTitle","numOfLines","node","dirIndex","contentQuery","_t","queryRefresh","loadQuery","MatActionList","MatListBase","MatActionList_BaseFactory","__ngFactoryType__","getInheritedFactory","defineComponent","ProvidersFeature","InheritDefinitionFeature","_c0","rf","ctx","projectionDef","projection","MatList","MatListBase","MatList_BaseFactory","__ngFactoryType__","getInheritedFactory","defineComponent","ProvidersFeature","InheritDefinitionFeature","_c0","rf","ctx","projectionDef","projection","_c1","MatListItem","MatListItemBase","activated","coerceBooleanProperty","MatListItem_BaseFactory","dirIndex","contentQuery","MatListItemLine","MatListItemTitle","MatListItemMeta","_t","queryRefresh","loadQuery","viewQuery","_c2","_c3","attribute","classProp","_c5","_r1","getCurrentView","_c4","elementStart","listener","restoreView","resetView","elementEnd","element","CdkObserveContent","MatNavList","MatListBase","MatNavList_BaseFactory","__ngFactoryType__","getInheritedFactory","defineComponent","ProvidersFeature","InheritDefinitionFeature","_c0","rf","ctx","projectionDef","projection","_c1","MatListModule","__ngFactoryType__","defineNgModule","defineInjector","ObserversModule","MatRippleModule","MatPseudoCheckboxModule","BidiModule","MatDividerModule","elementStart","text","elementEnd","property","item_r1","tooltip","advance","textInterpolate","label","repeaterCreate","PickerPillsComponent_Conditional_6_For_2_Template","_forTrack0","repeater","ctx_r1","selectedItems","pureFunction1","_c5","enableTextEntry","textInterpolate1","itemCount","projection","PickerPillsComponent","PickerPartBaseComponent","__ngFactoryType__","selectors","features","InheritDefinitionFeature","ngContentSelectors","_c1","decls","vars","consts","template","rf","ctx","listener","expandDialog","conditionalCreate","PickerPillsComponent_Conditional_6_Template","PickerPillsComponent_Conditional_7_Template","PickerPillsComponent_Conditional_8_Template","pureFunction5","_c2","ui","touchedAndInvalid","config","initialDisabled","basics","labelWithRequired","pureFunction0","_c3","pureFunction2","_c4","conditional","MatFormFieldModule","MatLabel","MatSuffix","NgClass","MatRippleModule","MatRipple","MatListModule","MatList","MatListItem","TippyDirective","styles","elementStart","listener","item_r2","restoreView","_r1","$implicit","ctx_r2","nextContext","resetView","select","element","elementEnd","advance","property","name","selected","ui","disabled","noSelect","tooltip","$index_r4","fieldState","settings","pureFunction0","_c2","PickerRadioComponent","PickerInlineBaseComponent","constructor","requireFeature","FeatureNames","PickerUiRadio","selectors","features","InheritDefinitionFeature","ngContentSelectors","_c1","decls","vars","consts","template","rf","ctx","projection","repeaterCreate","PickerRadioComponent_For_5_Template","_forTrack0","repeater","options","MatFormFieldModule","MatRippleModule","MatRadioButton","TippyDirective","PickerInlineHeaderComponent","PickerPreviewLabelComponent","styles","elementStart","listener","restoreView","_r1","ctx_r1","nextContext","resetView","isTextMode","toggleFreeText","csDisabled","text","elementEnd","property","_r3","conditionalCreate","PickerTextToggleComponent_Conditional_0_Conditional_1_Template","PickerTextToggleComponent_Conditional_0_Conditional_2_Template","advance","conditional","showBoth","PickerTextToggleComponent","constructor","input","allowText","pickerData","inject","FieldState","disabled","toggleFreeTextMode","selectors","inputs","decls","vars","consts","template","rf","ctx","PickerTextToggleComponent_Conditional_0_Template","MatFormFieldModule","MatSuffix","MatButtonModule","MatIconButton","NgClass","MatIconModule","MatIcon","ClickStopPropagationDirective","TippyDirective","styles","elementContainer","elementStart","template","PickerPreviewComponent_Case_2_ng_container_1_Template","elementEnd","advance","property","textToggle_r1","PickerPreviewComponent_Case_3_ng_container_1_Template","PickerPreviewComponent_Case_3_ng_container_2_Template","addNew_r2","pureFunction0","_c0","PickerPreviewComponent_Case_4_ng_container_1_Template","PickerPreviewComponent_Case_4_ng_container_2_Template","PickerPreviewComponent_Case_5_ng_container_1_Template","PickerPreviewComponent_Case_6_ng_container_1_Template","listener","restoreView","_r3","ctx_r3","nextContext","resetView","expandDialog","text","ui","disabled","PickerPreviewComponent_Conditional_7_ng_container_1_Template","conditionalCreate","PickerPreviewComponent_Conditional_7_Conditional_2_Template","conditional","features","showGoToListDialogButton","element","pureFunction1","_c1","showBoth_r5","textEntry","isInFreeTextMode","ct_r7","_r6","$implicit","openNewEntityDialog","guid","textInterpolate","label","repeaterCreate","PickerPreviewComponent_ng_template_12_Conditional_0_Conditional_0_For_6_Template","repeaterTrackByIdentity","create","entityTypesMenu_r8","repeater","pickerData","state","typesForNew","_r9","PickerPreviewComponent_ng_template_12_Conditional_0_Conditional_0_Template","PickerPreviewComponent_ng_template_12_Conditional_0_Conditional_1_Template","length","PickerPreviewComponent_ng_template_12_Conditional_0_Template","showAddNewButton","PickerPreviewComponent","PickerPartBaseComponent","constructor","log","classLog","#pickerMode","fieldState","settingExt","mode","computedObj","pd","multiValue","selectedItems","skipHelpText","selectors","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","PickerPreviewComponent_Case_2_Template","PickerPreviewComponent_Case_3_Template","PickerPreviewComponent_Case_4_Template","PickerPreviewComponent_Case_5_Template","PickerPreviewComponent_Case_6_Template","PickerPreviewComponent_Conditional_7_Template","PickerPreviewComponent_Conditional_8_Template","PickerPreviewComponent_Conditional_9_Template","PickerPreviewComponent_ng_template_10_Template","templateRefExtractor","PickerPreviewComponent_ng_template_12_Template","tmp_2_0","NgTemplateOutlet","NgClass","MatButtonModule","MatIconButton","MatMenuModule","MatMenu","MatMenuItem","MatMenuTrigger","MatIconModule","MatIcon","TippyDirective","PickerPillsComponent","PickerTextToggleComponent","PickerSearchComponent","PickerTextComponent","PickerCheckboxesComponent","PickerRadioComponent","FieldHelperTextComponent","styles","DataSourceHelpers","stripHtml","stringWithHtml","includes","div","document","createElement","innerHTML","innerText","logSpecs","all","data2PickerItem","getMasks","patchMasks","parseMasks","buildMasks","DataSourceMasksHelper","constructor","name","settings","features","formConfig","parentLog","enableLog","log","classLog","#featInfoEnabled","#featInfoWarned","#isDeveloper","#helpers","DataSourceHelpers","forceEnable","enableChildren","allowUse","FeatureNames","PickerUiMoreInfo","config","dialogContext","User","IsSystemAdmin","a","infoEnabled","#masks","entity","streamName","valueMustUseGuid","valueDefaultsToGuid","l","fnIf","masks","#getMasks","value","Guid","undefined","Value","maybe","label","maybeTitle","Title","previewValue","maybePreview","hasPlaceholders","result","id","Id","data","tooltip","info","link","sourceStreamName","rules","r","fromMasks","#parseMasks","finalLabel","includes","__spreadProps","__spreadValues","length","msgAddOn","useInfos","Object","keys","forEach","key","valueItem","search","RegExp","appUrl","portalRoot","replace","appRoot","#buildMasks","aIf","ItemTooltip","stripHtml","ItemInformation","ItemLink","Label","PreviewValue","DataSourceMoreFieldsHelper","constructor","log","classLog","fieldListToRetrieveFromServer","settings","a","treeConfig","PickerTreeConfiguration","maskSettings","moreFields","MoreFields","split","queryFields","Value","Label","treeFields","TreeChildIdField","TreeParentIdField","TreeChildParentRefField","TreeParentChildRefField","combinedFields","map","field","extractFieldNamesFromTokens","flat","stringFields","ItemTooltip","ItemInformation","ItemLink","filter","RxHelpers","distinct","join","input","enableSimpleFields","fields","trim","length","regex","match","exec","trimmedMatch","push","logSpecsDataSourceBase","all","constructor","data","triggerGetAll","addToRefresh","fields","DebugFields","newIconOptions","fileLoadSettings","DataSourceBase","ServiceBase","fieldState","inject","FieldState","features","FeaturesService","formConfig","FormConfigService","fieldName","name","loading","signalObj","getAll$","BehaviorSubject","getAll","guidsToRefresh","settings","noItemsLoadingFalse","noItemsLoadingTrue","fieldsHelper","DataSourceMoreFieldsHelper","helpers","DataSourceHelpers","constructorEnd","log","classLog","aIf","forField","setup","ngOnDestroy","complete","l","fnIf","next","set","end","additionalGuids","before","merged","filter","RxHelpers","distinct","values","createMaskHelper","moreSettings","enableLog","DataSourceMasksHelper","__spreadValues","fieldsToRetrieve","fieldListToRetrieveFromServer","factory","fac","logSpecsDataSourceEntityQueryBase","__spreadProps","__spreadValues","logSpecsDataSourceBase","all","initPrefetch","getFromBackend","addToRefresh","loadMoreIntoSignal","DataSourceEntityBase","DataSourceBase","constructor","querySvc","transient","QueryService","#typeOrParams","signalObj","#typeOrParams$","toObservable","#paramsDebounced$","pipe","distinctUntilChanged","#fullList","toSignal","combineLatest","getAll$","filter","getAll","map","switchMap","typeName","initialValue","noItemsLoadingFalse","#prefetchNew","#modified","data","computedObj","prefetch","modified","Map","item","value","values","log","a","overrides","loading","ngOnDestroy","complete","entityGuids","l","fnIfInList","fieldName","end","guids","RxHelpers","distinct","#loadMoreIntoCache","setParams","params","set","additionalGuids","fnIf","target","msgForLog","length","update","before","subscribe","additions","fn","merged","factory","fac","DataSourceAppAssets","DataSourceEntityBase","constructor","log","classLog","logSpecsDataSourceEntityQueryBase","constructorEnd","getFromBackend","_typeName","_guids","purposeForLog","settings","AssetsRootFolder","rootFolder","AssetsFileFilter","fileFilter","AssetsType","type","l","fnIf","typeLower","toLocaleLowerCase","stream","fieldMask","createMaskHelper","Value","data","querySvc","getFromQuery","pipe","map","list","entity","data2PickerItem","streamName","valueMustUseGuid","loading","r","factory","fac","DataAdapterAppAssets","DataAdapterEntityBase","constructor","log","classLog","logSpecsDataAdapterEntityBase","dataSourceRaw","transient","DataSourceAppAssets","fetchItems","dataSource","triggerGetAll","factory","fac","reRegExpChar","reHasRegExpChar","escapeRegExp","string","toString_default","escapeRegExp_default","logSpecs","all","findAllIconsInCss","cssSelector","showPrefix","l","classLog","fnIf","regEx","buildRegEx","console","warn","allRules","getAllCssRules","foundList","duplicateDetector","rules","allRulesWithSelector","Array","from","filter","rule","selectorText","selector","lastIndex","groups","exec","log","Value","ValueRaw","Title","iconClass","push","__spreadProps","__spreadValues","Id","Guid","Rule","Selector","a","classPrefix","r","fallbackRegex","buildRegEx","cssSelector","RegExp","fallbackRegex","includes","regEx","buildRegExFromPrefixAndSuffix","prefix","suffix","buildRegExFromPrefix","titlePart","startedWithDot","startsWith","cssSelectorPart","substring","valuePart","escapeRegExp","getAllCssRules","Array","from","document","styleSheets","map","getCssRules","filter","Boolean","sheet","rules","cssRules","logSpecs","__spreadProps","__spreadValues","logSpecsDataSourceBase","data","newIconOptions","fileLoadSettings","fields","DataSourceCss","DataSourceBase","constructor","scriptsLoaderService","log","classLog","loading","signalObj","#settings","fieldState","settings","#iconEntities","computedObj","getWith","s","CssSourceFile","CssSelectorFilter","PreviewValue","Value","#dataMaskHelper","DataSourceMasksHelper","fieldName","Label","features","formConfig","options","maskHelper","l","fnIfInList","result","map","entity","pickerItem","data2PickerItem","streamName","valueMustUseGuid","a","r","constructorEnd","fnIf","load","split","findAllIconsInCss","set","inject","ScriptsLoaderService","factory","fac","DataAdapterCss","DataAdapterBase","constructor","log","classLog","logSpecs","dataSourceRaw","transient","DataSourceCss","myFeatures","signalObj","edit","create","delete","fnIf","fetchItems","dataSource","triggerGetAll","deleteItem","props","Error","editItem","editParams","entityType","factory","fac","DataSourceEmpty","DataSourceBase","constructor","log","classLog","loading","signalObj","#label","data","computedObj","value","label","notSelectable","isMessage","constructorEnd","preSetup","set","factory","fac","DataAdapterEmpty","DataAdapterBase","constructor","log","classLog","logSpecs","dataSourceRaw","transient","DataSourceEmpty","myFeatures","signalObj","edit","create","delete","connectState","state","preSetup","setupEmpty","l","fnIf","dataSource","set","rSilent","fetchItems","a","triggerGetAll","deleteItem","props","Error","editItem","editParams","entityType","factory","fac","DataSourceEntity","DataSourceEntityBase","constructor","log","classLog","logSpecsDataSourceEntityQueryBase","constructorEnd","getFromBackend","typeName","guids","purposeForLog","fields","fieldsToRetrieve","settings","inputSpecs","fieldState","config","inputTypeSpecs","valueMustUseGuid","mustUseGuid","l","fnIf","inputType","fieldMask","createMaskHelper","entities","querySvc","getEntities","contentTypes","itemIds","name","pipe","map","list","data","Default","entity","data2PickerItem","streamName","valueDefaultsToGuid","loading","r","factory","fac","DataAdapterEntity","DataAdapterEntityBase","constructor","log","classLog","logSpecsDataAdapterEntityBase","dataSourceRaw","transient","DataSourceEntity","syncParams","setParams","contentType","fetchItems","dataSource","triggerGetAll","factory","fac","DataSourceQuery","DataSourceEntityBase","#translate","constructor","log","classLog","logSpecsDataSourceEntityQueryBase","inject","TranslateService","formState","FormConfigService","#appId","Number","config","appId","#streamName","computedObj","settings","StreamName","constructorEnd","getFromBackend","params","guids","purposeForLog","l","fnIfInList","fieldName","sets","streamName","queryName","Query","queryUrl","includes","a","result","querySvc","getFromQuery","fieldsToRetrieve","pipe","catchError","map","data","loading","of","Id","Guid","Title","instant","set","#transformData","r","fn","PickerItemFactory","message","inputSpecs","fieldState","inputTypeSpecs","valueMustUseGuid","mustUseGuid","streamNames","split","values","inputType","errors","filter","placeholder","maskHelper","createMaskHelper","items","reduce","acc","converted","entity","data2PickerItem","valueDefaultsToGuid","concat","itemsMaybeReadOnly","#setDisableEdit","queryEntities","forEach","e","AppId","noEdit","noDelete","factory","fac","DataAdapterQuery","DataAdapterEntityBase","constructor","log","classLog","logSpecsDataAdapterEntityBase","dataSourceRaw","transient","DataSourceQuery","#paramsMaskLazy","FieldMask","initSignal","name","fieldState","settingExt","syncParams","setParams","result","fetchItems","l","fnIfInList","settings","Query","errors","PickerItemFactory","placeholder","translate","errorOptions","set","triggerGetAll","factory","fac","logSpecs","__spreadProps","__spreadValues","logSpecsDataSourceBase","data","DataSourceString","DataSourceBase","constructor","log","classLog","loading","signalObj","#dataMaskHelper","createMaskHelper","Value","computedObj","options","settings","_options","maskHelper","l","fnIfInList","fieldName","result","map","option","entity","Id","Guid","pickerItem","data2PickerItem","streamName","valueMustUseGuid","a","r","constructorEnd","factory","fac","DataAdapterString","DataAdapterBase","constructor","log","classLog","logSpecs","dataSourceRaw","transient","DataSourceString","myFeatures","signalObj","edit","create","delete","fetchItems","fnIf","dataSource","triggerGetAll","deleteItem","props","Error","editItem","editParams","entityType","factory","fac","logSpecsStateAdapter","all","updateValue","add","set","remove","reorder","doAfterDelete","selectedItems","sepAndOpts","createEntityTypes","attachCallback","typesForNew","correctStringEmptyValue","fields","DebugFields","StateAdapter","#formConfigSvc","#fieldState","constructor","log","classLog","inject","FormConfigService","FieldState","settings","myFeatures","signalObj","#createTypesRaw","computedObj","getWith","CreateTypes","ts","split","indexOf","filter","Boolean","raw","map","guid","label","l","fnIfInList","#fieldName","updated","orig","ct","ContentTypes","find","Id","Name","__spreadProps","__spreadValues","Title","replace","r","allowsEmptyLazy","uiValue","fnIf","asUi","mapper","toUi","pickerAllowsEmpty","length","values","setup","fieldName","uiMapper","#focusOnSearchComponent","focusCallback","rSilent","#updateValue","operation","valueArray","modified","newValue","toState","ui","setIfChanged","end","value","list","features","multiValue","flush","reorderIndexes","moveItemInArray","previousIndex","currentIndex","index","splice","setTimeout","props","factory","fac","StateUiMapperBase","constructor","fieldName","settings","StateUiMapperNoop","StateUiMapperBase","toUi","state","toState","uiValue","StateUiMapperNumberArray","StateUiMapperBase","toUi","state","toString","toState","uiValue","stringValue","length","convertArrayToString","settings","Separator","parsedNumber","Number","isNaN","StateUiMapperStringArray","StateUiMapperBase","toUi","state","split","settings","Separator","toState","uiValue","length","convertArrayToString","PickerSourcesCustom","UiPickerSourceCustomList","UiPickerSourceCustomCsv","PickerConfigs","__spreadProps","__spreadValues","UiPickerSourceQuery","UiPickerSourceEntity","UiPickerSourceAppAssets","UiPickerSourceCss","UiPickerModeIsTree","PickerDataSetup","constructor","injector","log","classLog","setupPickerData","pickerData","fieldState","pdWithSetupState","alreadyStarted","setupAlreadyStarted","inputType","config","inputTypeSpecs","l","fn","rSilent","state","#getStateAdapter","name","settings","dataSourceType","source","#getSourceAdapter","setup","onAfterViewInit","fieldName","uiMapperType","partsMap","uiMapper","Error","stateAdapter","transient","StateAdapter","parts","dsType","forcePickerConfig","a","dataAdapterType","mapNameToDataAdapter","DataAdapterEmpty","#throwIfSourceAdapterNotAllowed","result","connectState","r","sources","includes","DataAdapterString","PickerConfigs","UiPickerSourceCustomList","UiPickerSourceCustomCsv","UiPickerSourceCss","DataAdapterCss","UiPickerSourceQuery","DataAdapterQuery","UiPickerSourceEntity","DataAdapterEntity","UiPickerSourceAppAssets","DataAdapterAppAssets","InputTypeCatalog","StringPicker","StateUiMapperStringArray","StringDropdown","StringFontIconPicker","NumberDropdown","StateUiMapperNumberArray","NumberPicker","StringDropdownQuery","EntityDefault","StateUiMapperNoop","EntityQuery","EntityContentBlocks","EntityPicker","element","PickerComponent","BaseComponent","logSpecs","all","focusOnSearchComponent","refreshOnChildClosed","childFormResult","constructor","#injector","inject","Injector","#editRoutingService","EditRoutingService","#fieldState","FieldState","#pickerData","pickerData","showPreview","computedObj","s","features","multiValue","isOpen","constructorEnd","log","classLog","a","PickerDataSetup","setupPickerData","ngOnInit","closeWatcherAttachedWIP","#refreshOnChildClosed","l","fnIf","config","subscriptions","add","index","entityGuid","subscribe","result","r","addNewlyCreatedItem","end","selectors","viewQuery","rf","ctx","PickerSearchComponent","conditionalCreate","PickerComponent_Conditional_0_Template","PickerComponent_Conditional_1_Template","conditional","logSpecs","all","calculateDropdownOptions","addSelectedIfMissing","DataSourceDropDownOptions","constructor","log","classLog","parseOptions","currentValue","type","dropdownValuesFormat","dropdownValues","l","fn","r","lines","replace","split","classicOptions","map","line","s","maybeWantedEmptyVal","key","shift","val","join","Title","Value","options","chars","i","length","current","next","push","char","escaped","separatorIndex","findIndex","c","option","slice","isNaN","Number","currentString","toString","some","o","import_papaparse","logSpecs","all","parse","DataSourceParserCsv","constructor","log","classLog","csv","l","fnIf","x","Papa","header","skipEmptyLines","transformHeader","trim","transform","value","dynamicTyping","data","Array","isArray","length","filtered","filter","d","Value","undefined","console","warn","meta","fields","preEmpty","reduce","acc","h","__spreadProps","__spreadValues","empty","a","complete","map","f","r","logSpecs","all","getDataSourceAndSetupFieldSettings","data","PickerLogicShared","constructor","log","classLog","setDefaultSettings","settings","s","AllowMultiValue","EnableEdit","EnableCreate","EnableAddExisting","EnableRemove","EnableDelete","Label","EnableTextEntry","noAutoFocus","maybeOverrideEditRestrictions","fsUntyped","tools","fs","eavConfig","removeEditRestrictions","debug","console","Name","EntityType","preUpdate","value","fsDefaults","__spreadValues","fsRaw","typeConfig","#getDataSourceAndSetupFieldSettings","fsBasic","dataSources","DataSources","length","contentTypeItemSvc","getMany","dataSource","typeName","Type","dataSourceType","reader","flatten","isKnownType","Object","values","PickerConfigs","includes","l","fn","error","CreateTypes","MoreFields","ItemInformation","ItemTooltip","ItemLink","PreviewType","Value","PreviewValue","sourceIsQuery","UiPickerSourceQuery","sourceIsEntity","UiPickerSourceEntity","sourceIsCss","UiPickerSourceCss","sourceIsAppAssets","UiPickerSourceAppAssets","isCustomSource","PickerSourcesCustom","specsQuery","Query","StreamName","UrlParameters","QueryParameters","specsEntity","ContentTypeNames","CssSourceFile","CssSelectorFilter","AssetsRootFolder","AssetsFileFilter","AssetsType","requiredFeatures","FeatureNames","PickerSourceAppAssets","UiPickerSourceCustomList","valuesRaw","Values","_options","DataSourceDropDownOptions","parseOptions","UiPickerSourceCustomCsv","csv","Csv","DataSourceParserCsv","parse","PickerSourceCsv","EnableReselect","AllowMultiMin","AllowMultiMax","PickerDisplayMode","PickerDisplayConfiguration","PickerTreeConfiguration","#getTreeConfigOnce","pickerDisplayConfigurations","UiPickerModeIsTree","specs","Title","ConfigModel","TreeRelationship","RelationshipParentChild","TreeBranchesStream","TreeLeavesStream","TreeParentIdField","TreeChildIdField","TreeParentChildRefField","TreeChildParentRefField","TreeShowRoot","TreeDepthMax","TreeAllowSelectRoot","TreeAllowSelectBranch","TreeAllowSelectLeaf","EntityDefaultLogic","FieldLogicBase","constructor","name","InputTypeCatalog","EntityDefault","update","settings","tools","fsRaw","PickerLogicShared","setDefaultSettings","__spreadValues","EntityType","CreateTypes","CreatePrefill","Prefill","maybeOverrideEditRestrictions","fs","add","element","EntityDefaultComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","EntityDefaultLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","EntityDefaultComponent_Conditional_0_Template","EntityDefaultComponent_Conditional_1_Template","conditional","showPreview","EntityContentBlocksLogic","FieldLogicBase","constructor","name","InputTypeCatalog","EntityContentBlocks","update","specs","fs","FieldLogicManager","singleton","get","EntityDefault","EnableRemove","AllowMultiValue","EnableAddExisting","EnableCreate","EnableEdit","Visible","EntityType","CreateTypes","add","element","EntityContentBlockComponent","EntityDefaultComponent","constructor","EntityContentBlocksLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","EntityContentBlockComponent_Conditional_0_Template","EntityContentBlockComponent_Conditional_1_Template","conditional","showPreview","EntityPickerLogic","FieldLogicBase","constructor","name","InputTypeCatalog","EntityPicker","update","specs","PickerLogicShared","preUpdate","fs","add","element","EntityPickerComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","EntityPickerLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","EntityPickerComponent_Conditional_0_Template","EntityPickerComponent_Conditional_1_Template","conditional","showPreview","EntityQueryLogic","FieldLogicBase","constructor","name","InputTypeCatalog","EntityQuery","update","updateSpecs","s","FieldLogicManager","singleton","get","EntityDefault","Query","StreamName","UrlParameters","add","element","EntityQueryComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","EntityQueryLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","EntityQueryComponent_Conditional_0_Template","EntityQueryComponent_Conditional_1_Template","conditional","showPreview","AdamService","HttpServiceBaseSignal","constructor","formConfig","getAllPromise","url","config","fetchPromise","params","subfolder","usePortalRoot","toString","appId","addFolder","newFolderName","http","post","newFolder","SanitizeHelper","sanitizeName","renamePromise","item","newName","isFolder","IsFolder","id","Id","deleteItemPromise","getLinkInfoPromise","link","contentType","guid","field","__spreadProps","__spreadValues","appid","inject","FormConfigService","factory","fac","ConnectorInstance","field","fieldConfigSignal","field$","#field$","toObservable","injector","_experimental","constructor","_connectorHost","value$","formConfig","log","classLog","data","ConnectorDataInstance","dialog","ConnectorDialogInstance","loadScript","testOrScripts","srcOrCallback","callback","ScriptsLoaderService","resolveUrlTokens","loadScripts","test","src","Array","isArray","script","Error","clientValueChangeListeners","subscribe","newValue","value","forEach","update","onValueChange","push","open","componentTag","expand","close","logSpecs","all","constructor","init","getUrlOfId","updateControl","openFeatureDisabledWarning","ConnectorHelper","ServiceBase","#injector","#fieldState","#formConfig","#translateService","#contentTypeService","#inputTypeService","#featuresService","#editRoutingService","#dialog","#snackBar","#zone","#adamService","log","classLog","inject","Injector","FieldState","FormConfigService","TranslateService","ContentTypeService","InputTypeService","FeaturesService","EditRoutingService","MatDialog","MatSnackBar","NgZone","transient","AdamService","#value$","ui","control","valueChanges","pipe","startWith","uiValue","distinctUntilChanged","isEqual","#config","config","#group","group","aIf","#customEl","#viewContainerRef","#changeDetectorRef","customElName","customElContainerRef","viewContainerRef","changeDetectorRef","a","document","createElement","connector","#buildConnector","nativeElement","appendChild","ngOnDestroy","parentNode","removeChild","connectorHost","#getCallbacks","experimental","#buildExperimentalProps","fieldConfigSignal","computed","settings","toFieldConfig","equal","ConnectorInstance","effect","s","field","label","Name","placeholder","Placeholder","required","valueRequired","injector","update","value","run","#updateControl","expand","componentTag","index","entityGuid","contentType","get","contentTypeNameId","allInputTypeNames","getAttributeInputTypes","Attributes","lEx","formGroup","translateService","isExpanded$","dropzone","adam","updateField","name","fn","controls","isFeatureEnabled","isEnabled","setFocused","focused","focused$","next","openPagePicker","callback","PagePicker","open","featureDisabledWarning","featureNameId","#openFeatureDisabledWarning","#getUrlOfId","getSettings","Values","getFieldMask","mask","FieldMask","showSnackBar","message","translated","instant","undefined","duration","err","console","warn","fieldName","getLinkInfoPromise","then","linkInfo","Value","UiControl","disabled","setIfChanged","FeatureNames","PasteImageFromClipboard","onAction","subscribe","openFeatureDialog","factory","fac","inputType","inputTypeSpecs","type","initialDisabled","ConnectorComponent","constructor","log","classLog","fieldState","inject","FieldState","connectorCreator","transient","ConnectorHelper","viewContainerRef","ViewContainerRef","changeDetectorRef","ChangeDetectorRef","ngAfterViewInit","l","fn","componentTag","history","state","config","inputTypeSpecs","componentTagDialogName","a","init","customElContainerRef","selectors","viewQuery","rf","ctx","domElement","CustomGpsLogic","FieldLogicBase","constructor","name","InputTypeCatalog","CustomGps","update","settings","__spreadValues","add","StringWysiwygLogic","FieldLogicBase","constructor","name","InputTypeCatalog","StringWysiwyg","canAutoTranslate","update","settings","tools","fixedSettings","__spreadValues","_allowDialog","Dialog","ButtonSource","ButtonAdvanced","ContentCss","InlineInitialHeight","_advanced","findAndMergeAdvanced","WysiwygConfiguration","Mode","Json","processValueOnLoad","value","adamItems","doc","DOMParser","parseFromString","body","querySelectorAll","forEach","img","dataCmsid","getAttribute","replace","src","fileName","split","pop","adamItem","find","x","Name","setAttribute","Url","innerHTML","error","console","add","element","ExternalWebComponentComponent","constructor","scriptsLoaderService","log","classLog","fieldState","inject","FieldState","config","loading","signal","StringWysiwygLogic","importMe","CustomGpsLogic","ngOnInit","loadAssets","assets","inputTypeSpecs","metadata","UiAssets","default","split","length","load","assetsLoaded","bind","fn","fieldName","set","directiveInject","ScriptsLoaderService","selectors","decls","vars","consts","template","rf","ctx","conditionalCreate","ExternalWebComponentComponent_Conditional_0_Template","ExternalWebComponentComponent_Conditional_1_Template","conditional","isOpen","MatProgressSpinnerModule","MatProgressSpinner","ConnectorComponent","encapsulation","logSpecs","all","constructor","handleImage","PasteClipboardImageDirective","#eventListeners","#pasteImageEnabled","elementRef","features","snackBar","translate","matDialog","viewContainerRef","changeDetectorRef","log","classLog","config","input","elementType","isEnabled","FeatureNames","PasteImageFromClipboard","fn","pasteImageEnabled","ngOnInit","nativeElement","pastableTextarea","pastableNonInputable","event","#handleImage","addEventListener","push","element","type","listener","ngOnDestroy","forEach","removeEventListener","enabled","l","fnIf","image","#getFile","detail","dropzone","uploadFile","end","open","instant","duration","onAction","subscribe","openFeatureDialog","data","newFile","file","formData","FormData","append","imageFileName","get","e","console","error","directiveInject","ElementRef","FeaturesService","MatSnackBar","TranslateService","MatDialog","ViewContainerRef","ChangeDetectorRef","selectors","inputs","HyperlinkDefaultBaseComponent","#injector","#editRoutingService","constructor","formConfig","matDialog","viewContainerRef","changeDetectorRef","linkCacheService","formsStateService","log","classLog","preview","signal","url","thumbnailUrl","previewUrl","floatingText","isImage","isKnownType","icon","fieldState","inject","FieldState","settings","basics","config","group","ui","uiValue","Injector","EditRoutingService","adamService","transient","AdamService","adamItem","computedObj","value","adamItems","adam","items","length","match","trim","adamItemId","parseInt","find","i","Id","ngOnInit","effect","a","status","fetchLink","injector","openPagePicker","PagePicker","open","page","setIfChanged","id","openImageConfiguration","readOnly","isReadOnly","_imageConfigurationContentType","form","_imageConfigurationId","EditPrep","editId","newMetadata","ReferenceId","eavConstants","metadata","cmsObject","index","entityGuid","setPreview","isFileOrPage","cached","get","isResolved","Value","Adam","contentType","contentTypeNameId","field","fieldName","getLinkInfoPromise","then","linkInfo","addLink","getPreview","set","replace","UrlHelpers","getUrlPrefix","substring","lastIndexOf","ThumbnailUrl","buildUrl","PreviewUrl","FileTypeHelpers","getIconClass","size","query","includes","cleanValue","toLocaleLowerCase","startsWith","directiveInject","FormConfigService","MatDialog","ViewContainerRef","ChangeDetectorRef","LinkCacheService","FormsStateService","selectors","decls","vars","template","rf","ctx","encapsulation","HyperlinkDefaultLogic","FieldLogicBase","constructor","name","InputTypeCatalog","HyperlinkDefault","update","settings","fixedSettings","__spreadValues","Buttons","FileFilter","Paths","ServerResourceMapping","EnableImageConfiguration","add","elementStart","listener","restoreView","_r2","ctx_r2","nextContext","resetView","toggleAdam","element","elementEnd","property","ui","disabled","_r4","openPagePicker","text","menu_r5","_r6","advance","textInterpolate","pipeBind1","_r7","_r8","_r9","conditionalCreate","HyperlinkDefaultComponent_Conditional_0_Conditional_0_ng_template_9_Conditional_0_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_ng_template_9_Conditional_1_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_ng_template_9_Conditional_2_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_ng_template_9_Conditional_3_Template","conditional","showAdam","showPagePicker","showImageManager","showFileManager","uiValue","preV_r10","url","sanitizeUrl","floatingText","previewUrl","icon","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_19_Conditional_1_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_19_Conditional_2_Template","isImage","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_1_Template","_r1","openImageConfiguration","adamItem","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_5_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_6_Template","template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_ng_template_9_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_18_Template","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Conditional_19_Template","buttonAdam","tmp_5_0","_imageConfigurationContentType","pureFunction1","_c0","tmp_6_0","_imageConfigurationId","enableImageConfiguration","tmp_8_0","buttonPage","buttonMore","group","config","fieldName","basics","placeholder","required","label","HyperlinkDefaultComponent_Conditional_0_Conditional_0_Template","fieldState","isOpen","HyperlinkDefaultComponent","HyperlinkDefaultBaseComponent","constructor","eavService","matDialog","viewContainerRef","changeDetectorRef","linkCacheService","formsStateService","computed","settings","Buttons","includes","SignalEquals","bool","settingExt","HyperlinkDefaultLogic","importMe","adamSettings","computedObj","s","rootSubfolder","Paths","fileFilter","FileFilter","autoLoad","effect","adam","setConfig","ngOnInit","onItemClick","item","setValue","onItemUpload","usePortalRoot","showImagesOnly","toggle","newValue","ServerResourceMapping","Url","ReferenceId","setIfChanged","directiveInject","FormConfigService","MatDialog","ViewContainerRef","ChangeDetectorRef","LinkCacheService","FormsStateService","selectors","features","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","HyperlinkDefaultComponent_Conditional_0_Template","tmp_0_0","preview","MatButtonModule","MatMiniFabButton","MatIconModule","MatIcon","NgClass","MatMenuModule","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","MatCardModule","MatCard","MatFormFieldModule","MatFormField","MatLabel","FormsModule","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","ReactiveFormsModule","FormGroupDirective","FormControlName","MatInputModule","MatInput","PasteClipboardImageDirective","TranslateModule","TippyDirective","TranslatePipe","styles","__decorate","FieldMetadata","wrappers","WrappersCatalog","DropzoneWrapper","LocalizationWrapper","HyperlinkDefaultExpandableWrapper","AdamWrapper","__metadata","HyperlinkLibraryLogic","FieldLogicBase","constructor","name","InputTypeCatalog","HyperlinkLibrary","update","settings","fixedSettings","__spreadValues","EnableImageConfiguration","add","HyperlinkLibraryComponent","constructor","fieldState","inject","FieldState","injector","Injector","HyperlinkLibraryLogic","importMe","first","effect","control","ui","adamItems","config","adam","items","length","updateValueAndValidity","ngOnInit","attachAdamConfig","adamConfig","computedObj","s","settings","allowAssetsInRoot","AllowAssetsInRoot","autoLoad","enableSelect","rootSubfolder","Paths","fileFilter","FileFilter","folderDepth","FolderDepth","metadataContentTypes","MetadataContentTypes","setConfig","selectors","decls","vars","template","rf","ctx","encapsulation","__decorate","FieldMetadata","wrappers","WrappersCatalog","DropzoneWrapper","LocalizationWrapper","HyperlinkLibraryExpandableWrapper","AdamWrapper","__metadata","StringDropdownLogic","FieldLogicBase","constructor","name","InputTypeCatalog","StringDropdown","type","update","settings","value","fs","PickerLogicShared","setDefaultSettings","__spreadValues","_options","DataSourceDropDownOptions","parseOptions","DropdownValuesFormat","DropdownValues","EntityType","CreateTypes","EnableEdit","EnableCreate","EnableRemove","AllowMultiValue","add","NumberDefaultLogic","StringDropdownLogic","constructor","name","InputTypeCatalog","NumberDefault","update","specs","__spreadValues","FieldLogicBase","add","NumberDefaultComponent","constructor","fieldState","inject","FieldState","group","config","basics","min","settingExt","max","NumberDefaultLogic","importMe","selectors","decls","vars","consts","template","rf","ctx","elementStart","element","text","elementEnd","property","advance","fieldName","required","placeholder","textInterpolate","label","MatFormFieldModule","MatFormField","MatLabel","FormsModule","DefaultValueAccessor","NumberValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","MinValidator","MaxValidator","ReactiveFormsModule","FormGroupDirective","FormControlName","MatInputModule","MatInput","FieldHelperTextComponent","encapsulation","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","NumberDropdownLogic","StringDropdownLogic","constructor","name","InputTypeCatalog","NumberDropdown","type","update","specs","__spreadValues","FieldLogicBase","add","element","NumberDropdownComponent","PickerComponent","constructor","constructorEnd","NumberDropdownLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","NumberDropdownComponent_Conditional_0_Template","NumberDropdownComponent_Conditional_1_Template","conditional","showPreview","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","NumberPickerLogic","FieldLogicBase","constructor","name","InputTypeCatalog","NumberPicker","update","specs","FieldLogicManager","singleton","get","StringPicker","add","element","NumberPickerComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","NumberPickerLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","NumberPickerComponent_Conditional_0_Template","NumberPickerComponent_Conditional_1_Template","conditional","showPreview","StringDefaultLogic","FieldLogicBase","constructor","name","InputTypeCatalog","StringDefault","canAutoTranslate","update","specs","fixedSettings","__spreadValues","settings","InputFontFamily","RowCount","add","element","property","ctx_r0","config","fieldName","basics","placeholder","required","pureFunction1","_c1","inputFontFamily","elementStart","text","elementEnd","rowCount","pureFunction2","_c2","textWrap","advance","textInterpolate","typeIfNotWhatsExpected","label","StringDefaultComponent","#fieldState","constructor","inject","FieldState","group","rowCountRaw","settingExt","computedObj","Math","abs","isMultiline","rc","isNotExpectedType","InputTypeCatalog","StringDefault","StringDefaultLogic","importMe","selectors","decls","vars","consts","template","rf","ctx","conditionalCreate","StringDefaultComponent_Conditional_1_Template","StringDefaultComponent_Conditional_2_Template","StringDefaultComponent_Conditional_6_Template","_c0","conditional","MatFormFieldModule","MatFormField","MatLabel","FormsModule","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","ReactiveFormsModule","FormGroupDirective","FormControlName","NgClass","MatInputModule","MatInput","NgStyle","FieldHelperTextComponent","styles","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","StringDropdownQueryLogic","FieldLogicBase","constructor","name","InputTypeCatalog","StringDropdownQuery","update","specs","fs","FieldLogicManager","singleton","get","EntityDefault","Separator","add","element","StringDropdownQueryComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","StringDropdownQueryLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","StringDropdownQueryComponent_Conditional_0_Template","StringDropdownQueryComponent_Conditional_1_Template","conditional","showPreview","element","StringDropdownComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","EntityDefaultLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","StringDropdownComponent_Conditional_0_Template","StringDropdownComponent_Conditional_1_Template","conditional","showPreview","StringFontIconPickerLogic","FieldLogicBase","constructor","name","InputTypeCatalog","StringFontIconPicker","update","fieldName","settings","l","log","fnIfInList","fs","__spreadValues","raw","CssSourceFile","Files","CssSelectorFilter","CssPrefix","buildRegExFromPrefixAndSuffix","PreviewValue","PreviewCss","PreviewType","EnableTextEntry","EnableAddExisting","AllowMultiValue","noAutoFocus","Label","ShowPrefix","r","add","element","StringFontIconPickerComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","StringFontIconPickerLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","StringFontIconPickerComponent_Conditional_0_Template","StringFontIconPickerComponent_Conditional_1_Template","conditional","showPreview","StringFontIconPickerComponent_1","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","StringPickerLogic","FieldLogicBase","constructor","name","InputTypeCatalog","StringPicker","update","specs","log","classLog","l","fn","fs","removeEditRestrictions","typeConfig","PickerLogicShared","preUpdate","Separator","typeName","dataSourceType","isCustomSource","Object","values","PickerSourcesCustom","includes","a","EnableEdit","EnableCreate","EnableDelete","r","add","element","StringPickerComponent","PickerComponent","constructor","log","classLog","logSpecs","constructorEnd","StringPickerLogic","importMe","selectors","features","InheritDefinitionFeature","decls","vars","template","rf","ctx","conditionalCreate","StringPickerComponent_Conditional_0_Template","StringPickerComponent_Conditional_1_Template","conditional","showPreview","templateTypes","Token","ext","purpose","type","elementStart","text","elementEnd","property","file_r1","advance","textInterpolate1","StringTemplatePickerComponent","#fieldState","#injector","#typeMask","#locationMask","#sourceService","#activeSpec","#templates","#global","#resetIfNotFound","constructor","matDialog","viewContainerRef","log","classLog","inject","FieldState","Injector","transient","FieldMask","init","settings","FileType","SourceService","group","config","basics","ui","files","signal","templateTypes","Token","#prevLocation","effect","#onLocationChange","result","#setFileConfig","type","#setTemplateOptions","location","l","fn","getAllPromise","then","filter","file","Shared","map","Path","ext","filtered","template","test","endsWith","set","some","uiValue","setIfChanged","createTemplate","nameMask","data","global","purpose","name","destroy","open","CreateFileDialogComponent","autoFocus","width","afterClosed","subscribe","create","templateKey","res","alert","push","directiveInject","MatDialog","ViewContainerRef","selectors","decls","vars","consts","rf","ctx","repeaterCreate","StringTemplatePickerComponent_For_7_Template","repeaterTrackByIdentity","listener","element","fieldName","required","textInterpolate","pipeBind1","repeater","label","disabled","MatFormFieldModule","MatFormField","MatLabel","FormsModule","NgControlStatus","NgControlStatusGroup","RequiredValidator","ReactiveFormsModule","FormGroupDirective","FormControlName","MatSelectModule","MatSelect","MatOption","MatOptionModule","MatButtonModule","MatIconButton","MatIconModule","MatIcon","FieldHelperTextComponent","TranslateModule","TippyDirective","TranslatePipe","styles","StringTemplatePickerComponent_1","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","StringUrlPathLogic","FieldLogicBase","constructor","InputTypeCatalog","name","StringUrlPath","update","settings","fixedSettings","__spreadValues","AutoGenerateMask","AllowSlashes","add","StringUrlPathComponent","#maskFromSettings","#lastAutoCopy","#fieldMask","#maskedValueCleaned","constructor","log","classLog","fieldState","inject","FieldState","group","settings","basics","settingExt","signal","transient","FieldMask","initPreClean","_","value","replace","initSignal","computed","newValue","result","UrlHelpers","stripNonUrlCharacters","AllowSlashes","StringUrlPathLogic","importMe","effect","uiValue","clean","#publishFieldMaskResult","cleanedNewValue","l","fn","v","lastAutoCopy","allowSlashes","cleaned","end","set","ui","setIfChanged","trimEnd","selectors","decls","vars","consts","template","rf","ctx","elementStart","listener","elementEnd","text","element","property","advance","name","placeholder","required","textInterpolate","label","MatFormFieldModule","MatFormField","MatLabel","FormsModule","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","ReactiveFormsModule","FormGroupDirective","FormControlName","MatInputModule","MatInput","FieldHelperTextComponent","encapsulation","StringUrlPathComponent_1","__decorate","FieldMetadata","__spreadValues","WrappersLocalizationOnly","__metadata","AdamConfigInstance","constructor","disabled","rootSubfolder","fileFilter","allowAssetsInRoot","folderDepth","metadataContentTypes","usePortalRoot","showImagesOnly","autoLoad","enableSelect","subfolder","allowEdit","maxDepthReached","completeConfig","config","fieldConfig","oldConfig","startDisabled","inputTypeSpecs","isExternal","newConfig","key","Object","keys","includes","replace","startsWith","split","length","folders","slice","join","fixDropzone","newConfig","fieldConfig","oldDzConfig","dropzone","getConfig","newDzConfig","dzUrlParams","UrlHelpers","getUrlParams","url","dzSubfolder","subfolder","dzUsePortalRoot","usePortalRoot","toString","newUrl","replaceUrlParam","uploadDisabled","allowEdit","rootSubfolder","allowAssetsInRoot","disabled","Object","keys","length","setConfig","elementStart","text","elementEnd","element","listener","$event","restoreView","_r1","ctx_r1","nextContext","resetView","openUploadClick","conditionalCreate","AdamBrowserComponent_Conditional_1_Conditional_1_Conditional_7_Template","AdamBrowserComponent_Conditional_1_Conditional_1_Conditional_8_Template","openFeatureInfoDialog","advance","textInterpolate1","pipeBind1","conditional","adamConfig","usePortalRoot","property","config","isPasteImageFromClipboardEnabled","pasteDiv_r3","classList","contains","_r4","addFolder","textInterpolate","_r5","goUp","_r8","item_r7","$implicit","del","rename","pureFunction1","_c1","disabled","_r9","editItemMetadata","_metadataContentType","_metadataId","interpolate2","_c2","_r6","goIntoFolder","AdamBrowserComponent_Conditional_1_For_5_Conditional_0_Conditional_6_Template","AdamBrowserComponent_Conditional_1_For_5_Conditional_0_Conditional_10_Template","Name","classMap","interpolate1","Type","allowEdit","_icon","Id","ThumbnailUrl","sanitizeUrl","_r11","_r12","_imageConfigurationContentType","_imageConfigurationId","pureFunction2","_c4","_r13","_r10","select","AdamBrowserComponent_Conditional_1_For_5_Conditional_1_Conditional_1_Template","AdamBrowserComponent_Conditional_1_For_5_Conditional_1_Conditional_2_Template","AdamBrowserComponent_Conditional_1_For_5_Conditional_1_Conditional_4_Template","AdamBrowserComponent_Conditional_1_For_5_Conditional_1_Conditional_14_Template","AdamBrowserComponent_Conditional_1_For_5_Conditional_1_Conditional_15_Template","_c3","value","enableSelect","_displaySize","textInterpolate2","Url","AdamBrowserComponent_Conditional_1_For_5_Conditional_0_Template","AdamBrowserComponent_Conditional_1_For_5_Conditional_1_Template","IsFolder","AdamBrowserComponent_Conditional_1_Conditional_1_Template","AdamBrowserComponent_Conditional_1_Conditional_2_Template","AdamBrowserComponent_Conditional_1_Conditional_3_Template","repeaterCreate","AdamBrowserComponent_Conditional_1_For_5_Template","_forTrack0","_c0","allowAddButtons","maxDepthReached","subfolder","rootSubfolder","repeater","items","logSpecs","all","constructor","setConfig","fetchItems","processFetchedItems","AdamBrowserComponent","#editRoutingService","#features","#adamService","#dialogRouter","dnnContext","adamCacheService","linkCacheService","formsStateService","matDialog","viewContainerRef","changeDetectorRef","openUpload","output","log","classLog","fieldState","inject","FieldState","EditRoutingService","FeaturesService","transient","AdamService","DialogRoutingService","group","#ui","ui","computedObj","uiValue","signalObj","#firstFetch","cnf","allowAssetsInRoot","isEnabled","FeatureNames","PasteImageFromClipboard","l","fnIf","effect","#url","$2sxc","http","apiUrl","contentTypeNameId","entityGuid","fieldName","ngOnInit","doOnDialogClosed","adam","setBrowser","folderName","window","prompt","subscribe","item","confirm","deleteItemPromise","then","adamItem","contentTypeName","metadataId","readOnly","isReadOnly","end","form","EditPrep","editId","newMetadata","ReferenceId","eavConstants","metadata","cmsObject","open","index","includes","slice","lastIndexOf","#getImageConfigurationContentType","settings","EnableImageConfiguration","contentTypes","imageDecorator","#getMetadataContentType","found","metadataContentTypes","match","event","emit","newName","renamePromise","onItemClick","firstFetch","autoLoad","adamItems","getAdamSnapshot","clonedItems","map","__spreadValues","setTimeout","#processFetchedItems","getAllPromise","openFeatureDialog","addAdam","filteredItems","extensionsFilter","getExtensionsFilter","fileFilter","AllowEdit","showImagesOnly","length","extension","substring","toLocaleLowerCase","Metadata","find","m","FileTypeHelpers","getIconClass","_isMaterialIcon","isKnownType","Size","toFixed","push","sort","a","b","localeCompare","toString","set","newConfig","AdamConfigInstance","completeConfig","isEqual","fixDropzone","toggle","__spreadProps","directiveInject","Context","AdamCacheService","LinkCacheService","FormsStateService","MatDialog","ViewContainerRef","ChangeDetectorRef","selectors","outputs","decls","vars","consts","template","rf","ctx","AdamBrowserComponent_Conditional_1_Template","tmp_0_0","tmp_1_0","isOpen","NgClass","MatIconModule","MatIcon","PasteClipboardImageDirective","MatBadgeModule","MatBadge","TranslateModule","ClickStopPropagationDirective","TippyDirective","TranslatePipe","styles","data","animation","trigger","state","style","height","overflow","transition","animate","split","trim","startsWith","replace","text","elementStart","elementEnd","advance","textInterpolate","pipeBind1","AdamHintComponent","constructor","features","inject","FeaturesService","hideAdamSponsor","isEnabled","FeatureNames","NoSponsoredByToSic","selectors","decls","vars","consts","template","rf","ctx","element","conditionalCreate","AdamHintComponent_Conditional_11_Template","conditional","MatDividerModule","MatDivider","MatIconModule","MatIcon","TranslateModule","TippyDirective","TranslatePipe","styles","AdamWrapperComponent","constructor","fieldState","inject","FieldState","config","adamDisabled","adam","isDisabled","ngOnInit","fullscreenAdam","inputTypeSpecs","inputType","InputTypeCatalog","HyperlinkLibrary","openUpload","invisibleClickableRef","nativeElement","click","selectors","viewQuery","rf","ctx","ViewContainerRef","_c1","elementStart","elementContainer","elementEnd","listener","i0","restoreView","_r1","resetView","element","property","pureFunction2","_c2","isOpen","advance","_c3","classMap","dropzonePreviewsClass","pureFunction1","_c4","AdamBrowserComponent","NgClass","AdamHintComponent","styles","import_dropzone","DROPZONE_CONFIG","InjectionToken","DropzoneEvents","DropzoneConfig","config","target","key","DropzoneDirective","EventEmitter","zone","renderer","elementRef","differs","platformId","defaults","dz","isPlatformBrowser","params","eventName","args","output","emitter","changes","cancel","__ngFactoryType__","directiveInject","NgZone","Renderer2","ElementRef","KeyValueDiffers","PLATFORM_ID","defineDirective","NgOnChangesFeature","DropzoneModule","__ngFactoryType__","defineNgModule","defineInjector","CommonModule","DropzoneConfigInstance","constructor","disabled","url","headers","acceptedFiles","maxFiles","parallelUploads","autoReset","errorReset","cancelReset","maxFilesize","timeout","paramName","maxThumbnailFilesize","dictDefaultMessage","addRemoveLinks","previewsContainer","clickable","WysiwygConstants","classToDetectWysiwyg","DropzoneWysiwyg","constructor","isStringWysiwyg","imageTypes","detectWysiwygOnDrop","event","isParentWysiwyg","toElement","removeFilesHandledByWysiwyg","dropzone","file","some","x","type","removeFile","element","classList","contains","WysiwygConstants","classToDetectWysiwyg","parentElement","document","body","DropzoneWrapperComponent","#fieldState","#config","#wysiwygHelper","constructor","formConfig","dnnContext","log","classLog","inject","FieldState","config","dropzoneConfig","signal","dropzoneDisabled","computed","ui","disabled","DropzoneWysiwyg","extendFieldConfigWithDropZone","#setConfig","dropzone","setConfig","getConfig","uploadFile","image","#uploadFile","ngAfterViewInit","previewsContainer","dropzonePreviewsClass","clickable","onDrop","event","detectWysiwygOnDrop","onAddedFile","file","removeFilesHandledByWysiwyg","dropzoneRef","onUploadError","fn","alert","reset","onUploadSuccess","l","response","Error","a","adam","onItemUpload","refresh","contentType","contentTypeNameId","entityGuid","field","fieldName","appId","startDisabled","inputTypeSpecs","isExternal","url","$2sxc","http","apiUrl","headers","sxc","webApi","newConfig","DropzoneConfigInstance","oldConfig","key","Object","keys","maxFiles","parallelUploads","uploadLimit","acceptedFiles","set","upload","chunked","defaultOptions","chunking","options","processFile","directiveInject","FormConfigService","Context","selectors","viewQuery","rf","ctx","ViewContainerRef","DropzoneDirective","elementStart","listener","$event","i0","restoreView","_r1","resetView","elementContainer","elementEnd","property","pureFunction1","_c1","NgClass","DropzoneModule","styles","vh","percentage","viewportHeight","Math","max","document","documentElement","clientHeight","window","innerHeight","DropzoneDraggingHelper","constructor","zone","eventListeners","attach","htmlEl","runOutsideAngular","addEventListener","dragoverListener","passive","dropListener","push","element","type","listener","clearTimeouts","window","windowBodyTimeouts","document","body","classList","add","draggingClass","remove","timeoutsArray","timeout","clearTimeout","splice","length","detach","forEach","removeEventListener","ContentExpandAnimation","trigger","state","style","height","transition","animate","maxHeight","params","bottomPixels","window","innerWidth","keyframes","overflow","elementStart","listener","restoreView","_r2","ctx_r2","nextContext","resetView","closeDialog","text","elementEnd","advance","textInterpolate","pipeBind1","_r4","saveAll","property","pureFunction1","_c6","saveDisabled","template","DialogPopupComponent_Conditional_18_ng_template_0_Template","DialogPopupComponent","#editRoutingService","#formConfig","#dropzoneDraggingHelper","#entityFormStateService","constructor","zone","applyEmptyClass","input","fieldState","inject","FieldState","config","basics","EditRoutingService","formsStateService","FormsStateService","featuresService","FeaturesService","FormConfigService","enableSave","save","mode","transient","EntityFormStateService","computedObj","isSaving","saveButtonDisabled","open","isOpen","#hideAdamSponsor","isEnabled","FeatureNames","NoSponsoredByToSic","adamSponsorI18nKey","computed","ngAfterViewInit","DropzoneDraggingHelper","attach","backdropRef","nativeElement","dialogRef","ngOnDestroy","detach","calculateBottomPixels","window","innerWidth","expand","index","entityGuid","close","triggerSave","directiveInject","NgZone","selectors","viewQuery","rf","ctx","i0","_r1","element","projection","DialogPopupComponent_ng_template_17_Template","conditionalCreate","DialogPopupComponent_Conditional_18_Template","_c3","label","classMap","pureFunction2","_c5","_c4","conditional","NgClass","MatCardModule","MatCard","MatRippleModule","MatRipple","MatButtonModule","MatIconButton","MatIconModule","MatIcon","TranslateModule","ExtendedFabSpeedDialComponent","ExtendedFabSpeedDialTriggerDirective","ExtendedFabSpeedDialActionDirective","ExtendedFabSpeedDialTriggerContentDirective","ExtendedFabSpeedDialActionsContentDirective","TippyDirective","CommonModule","TranslatePipe","styles","data","animation","ContentExpandAnimation","ExpandableWrapperComponent","constructor","changeDetectorRef","viewContainerRef","zone","formsStateService","log","classLog","fieldState","inject","FieldState","config","basics","settings","ui","uiValue","focused","signal","adamDisabled","adam","isDisabled","previewHeight","computed","minHeight","maxHeight","inputTypeSpecs","inputType","InputTypeCatalog","StringWysiwyg","Dialog","rows","parseInt","InlineInitialHeight","maxHeightInPx","vh","connectorCreator","transient","ConnectorHelper","ngOnInit","focused$","subscribe","set","ngAfterViewInit","l","fn","componentTagName","a","init","previewContainerRef","dropzoneDraggingHelper","DropzoneDraggingHelper","ngOnDestroy","detach","directiveInject","ChangeDetectorRef","ViewContainerRef","NgZone","FormsStateService","selectors","viewQuery","rf","ctx","_c1","elementStart","elementContainer","elementEnd","text","element","advance","property","pureFunction6","_c2","invalid","touched","dirty","disabled","touchedAndInvalid","textInterpolate1","labelWithRequired","pureFunction3","_c3","pureFunction1","_c4","pureFunction2","_c5","FieldHelperTextComponent","DialogPopupComponent","CommonModule","NgClass","NgStyle","styles","data","animation","ContentExpandAnimation","text","element","textInterpolate1","feature_r1","advance","property","elementStart","repeaterCreate","FeatureWarningWrapperComponent_Conditional_3_For_3_Template","repeaterTrackByIdentity","elementEnd","repeater","ctx_r1","requiredFeatures","FeatureWarningWrapperComponent","#fieldState","#features","constructor","inject","FieldState","FeaturesService","computedObj","req","length","filter","f","allowUse","basics","selectors","viewQuery","rf","ctx","ViewContainerRef","elementContainer","conditionalCreate","FeatureWarningWrapperComponent_Conditional_3_Template","pureFunction1","_c1","conditional","NgClass","FeatureIconComponent","styles","EmptyDefaultLogic","FieldLogicBase","constructor","name","InputTypeCatalog","EmptyDefault","update","settings","fixedSettings","__spreadValues","Visible","Collapsed","Notes","add","elementStart","element","elementEnd","advance","property","pipeBind1","ctx","sanitizeHtml","CollapsibleWrapperComponent","#fieldState","#fieldsSettingsSvc","constructor","log","classLog","inject","FieldState","config","group","basics","collapsed","settingExt","FieldsSettingsService","EmptyDefaultLogic","importMe","toggleCollapse","before","a","updateSetting","name","Collapsed","selectors","viewQuery","rf","ViewContainerRef","listener","i0","restoreView","_r1","resetView","text","conditionalCreate","CollapsibleWrapperComponent_Conditional_10_Template","elementContainer","pureFunction1","_c1","visible","textInterpolate1","label","fieldName","styleProp","conditional","tmp_5_0","notes","MatCardModule","MatCard","MatCardContent","NgClass","MatIconModule","MatIcon","ChangeAnchorTargetDirective","SafeHtmlPipe","styles","HiddenWrapperComponent","constructor","fieldState","inject","FieldState","basics","selectors","viewQuery","rf","ctx","ViewContainerRef","domElementStart","domElementContainer","domElementEnd","domProperty","visible","element","property","preV_r3","url","icon","elementStart","listener","restoreView","_r5","ctx_r1","nextContext","resetView","expandDialog","elementEnd","ui","disabled","_r6","openPagePicker","text","conditionalCreate","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Conditional_8_Conditional_4_Template","_r4","openImageConfiguration","adamItem","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Conditional_8_Conditional_8_Template","advance","pureFunction1","_c6","textInterpolate1","buttonAdam","pipeBind1","conditional","tmp_7_0","_imageConfigurationContentType","_c7","tmp_8_0","_imageConfigurationId","enableImageConfiguration","tmp_10_0","buttonPage","textInterpolate","uiValue","sanitizeUrl","floatingText","adamSponsorI18nKey","_r1","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Conditional_3_Template","$event","setValue","markAsTouched","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Conditional_8_Template","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Conditional_11_Template","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Conditional_14_Template","pureFunction2","_c1","config","isLastInGroup","_c2","isImage","_c3","thumbnailUrl","_c4","touchedAndInvalid","basics","placeholder","_c5","labelWithRequired","HyperlinkDefaultExpandableWrapperComponent","HyperlinkDefaultBaseComponent","constructor","eavService","matDialog","viewContainerRef","changeDetectorRef","linkCacheService","editRoutingService","zone","formsStateService","featuresService","fieldState","inject","FieldState","computed","settings","Buttons","includes","SignalEquals","bool","settingExt","#hideAdamSponsor","isEnabled","FeatureNames","NoSponsoredByToSic","ngAfterViewInit","dropzoneDraggingHelper","DropzoneDraggingHelper","ngOnDestroy","detach","markTouched","event","newValue","target","value","setIfChanged","expand","index","entityGuid","directiveInject","FormConfigService","MatDialog","ViewContainerRef","ChangeDetectorRef","LinkCacheService","EditRoutingService","NgZone","FormsStateService","FeaturesService","selectors","viewQuery","rf","ctx","elementContainer","HyperlinkDefaultExpandableWrapperComponent_Conditional_3_Template","tmp_1_0","preview","NgClass","MatIconModule","MatIcon","NgStyle","TranslateModule","TippyDirective","DialogPopupComponent","FieldHelperTextComponent","FeatureIconTextComponent","PasteClipboardImageDirective","CommonModule","MatFormFieldModule","MatFormField","MatLabel","MatSuffix","MatInputModule","MatInput","MatButtonModule","MatIconButton","TranslatePipe","styles","data","animation","ContentExpandAnimation","elementStart","element","text","elementEnd","advance","textInterpolate","item_r2","Name","_icon","conditionalCreate","HyperlinkLibraryExpandableWrapperComponent_For_10_Conditional_1_Conditional_1_Conditional_1_Template","HyperlinkLibraryExpandableWrapperComponent_For_10_Conditional_1_Conditional_1_Conditional_2_Template","conditional","_isMaterialIcon","property","interpolate2","Id","ThumbnailUrl","sanitizeUrl","HyperlinkLibraryExpandableWrapperComponent_For_10_Conditional_1_Conditional_1_Template","HyperlinkLibraryExpandableWrapperComponent_For_10_Conditional_1_Conditional_2_Template","Type","HyperlinkLibraryExpandableWrapperComponent_For_10_Conditional_0_Template","HyperlinkLibraryExpandableWrapperComponent_For_10_Conditional_1_Template","IsFolder","HyperlinkLibraryExpandableWrapperComponent","#hideAdamSponsor","constructor","zone","editRoutingService","formsStateService","featuresService","fieldState","inject","FieldState","config","basics","ui","uiValue","items","computed","adam","slice","itemsNumber","length","SignalEquals","number","isEnabled","FeatureNames","NoSponsoredByToSic","adamSponsorI18nKey","ngAfterViewInit","dropzoneDraggingHelper","DropzoneDraggingHelper","ngOnDestroy","detach","trackByFn","index","item","expandDialog","initialDisabled","expand","entityGuid","directiveInject","NgZone","EditRoutingService","FormsStateService","FeaturesService","selectors","viewQuery","rf","ctx","ViewContainerRef","elementContainer","listener","i0","restoreView","_r1","resetView","repeaterCreate","HyperlinkLibraryExpandableWrapperComponent_For_10_Template","pureFunction5","_c1","invalid","textInterpolate1","labelWithRequired","pureFunction0","_c2","pureFunction2","_c3","repeater","pipeBind1","DialogPopupComponent","MatIconModule","MatIcon","MatRippleModule","MatRipple","FieldHelperTextComponent","FeatureIconTextComponent","TranslateModule","CommonModule","NgClass","TranslatePipe","styles","data","animation","ContentExpandAnimation","elementStart","text","elementEnd","property","pureFunction1","_c0","ctx_r0","featureNameId","FeatureIconIndicatorComponent","FeatureComponentBase","__ngFactoryType__","selectors","features","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","conditionalCreate","FeatureIconIndicatorComponent_Conditional_0_Template","conditional","show","MatIconModule","MatIcon","TippyDirective","encapsulation","elementStart","text","elementEnd","advance","textInterpolate1","pipeBind1","AutoTranslateDisabledWarningDialog","constructor","dialog","dialogData","ngOnInit","closeDialog","close","directiveInject","MatDialogRef","MAT_DIALOG_DATA","selectors","decls","vars","consts","template","rf","ctx","conditionalCreate","AutoTranslateDisabledWarningDialog_Conditional_5_Template","AutoTranslateDisabledWarningDialog_Conditional_6_Template","listener","conditional","isAutoTranslateAll","textInterpolate","MatCardModule","MatCard","MatCardActions","MatCardHeader","MatCardSubtitle","MatCardTitle","MatButtonModule","MatButton","TranslateModule","TranslatePipe","encapsulation","I18nKeys","NoTranslate","FromPrimary","FromOther","LinkReadOnly","LinkShared","getTemplateLanguages","config","language","languages","attributes","linkType","filter","lang","NameId","current","map","values","fieldName","disabled","TranslationLinks","LinkReadWrite","IsAllowed","FieldReader","FormLanguage","diffCurrent","hasEditableValues","key","getTemplateLanguagesWithContent","translatableFields","countTranslatableFields","countTranslatableFieldsWithContent","isDisabled","langDefToUse","forEach","field","fieldReader","countEditable","countEditableWithContents","noTranslatableFields","noTranslatableFieldsThatHaveContent","findI18nKey","translationLink","Translate","I18nKeys","FromPrimary","DontTranslate","NoTranslate","LinkReadOnly","LinkShared","LinkCopyFrom","FromOther","TranslateHelperComponent","#languageService","#itemService","constructor","dialogData","inject","LanguageService","ItemService","formConfig","FormConfigService","TranslationLinks","I18nKeys","language","translationStateSignal","signal","translationState","translationInfo","computedObj","noLanguageRequired","Translate","DontTranslate","showLanguageSelection","includes","linkType","i18nRoot","findI18nKey","submitDisabled","languages","getAllSignal","itemAttributes","itemAttributesSignal","config","entityGuid","directiveInject","MAT_DIALOG_DATA","selectors","decls","vars","template","rf","ctx","encapsulation","SnackBarWarningDemoComponent","constructor","selectors","decls","vars","consts","template","rf","ctx","domElement","domProperty","pipeBind1","sanitizeHtml","advance","TranslateModule","TranslatePipe","SafeHtmlPipe","styles","elementStart","text","elementEnd","advance","textInterpolate1","pipeBind1","textInterpolate3","ctx_r2","dialogData","translatableFields","length","language_r2","noTranslatableFieldsThatHaveContent","conditionalCreate","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Conditional_1_Conditional_1_Template","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Conditional_1_Conditional_2_Template","conditional","textInterpolate4","noTranslatableFields","textInterpolate6","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Conditional_2_Conditional_1_Template","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Conditional_2_Conditional_2_Template","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Conditional_1_Template","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Conditional_2_Template","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_1_Template","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Conditional_2_Template","listener","restoreView","_r1","$implicit","nextContext","resetView","setLanguage","key","AutoTranslateMenuDialogComponent_For_12_Conditional_5_Template","property","disabled","isTranslateWithGoogleFeatureEnabled","pureFunction2","_c0","translationStateSignal","language","pureFunction1","_c1","isTranslateMany","AutoTranslateMenuDialogComponent","TranslateHelperComponent","constructor","dialog","fieldsTranslateService","snackBar","features","inject","FeaturesService","isEnabled","FeatureNames","EditUiTranslateWithGoogle","languagesSig","computed","languages","attributes","itemAttributes","translationState","getTemplateLanguagesWithContent","linkType","getTemplateLanguages","fieldName","config","keydownEvents","subscribe","event","isCtrlS","preventDefault","ngOnInit","afterClosed","dismiss","formConfig","settings","Values","EditApiKeyPaths","GoogleTranslate","IsDemo","openFromComponent","SnackBarWarningDemoComponent","newTranslationState","__spreadProps","__spreadValues","set","closeDialog","autoTranslateMany","autoTranslate","close","directiveInject","MatDialogRef","MAT_DIALOG_DATA","FieldsTranslateService","MatSnackBar","selectors","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","element","repeaterCreate","AutoTranslateMenuDialogComponent_For_12_Template","repeaterTrackByIdentity","sanitizeHtml","repeater","MatCardModule","MatCard","MatCardContent","MatCardHeader","MatCardSubtitle","MatCardTitle","FeatureTextInfoComponent","MatListModule","MatActionList","MatListItem","MatListItemIcon","MatListItemTitle","NgClass","MatIconModule","MatIcon","TranslateModule","TranslatePipe","SafeHtmlPipe","styles","elementStart","listener","restoreView","_r1","ctx_r1","nextContext","resetView","setLinkType","TranslationLinks","DontTranslate","text","elementEnd","Translate","property","pureFunction1","_c1","translationStateSignal","linkType","advance","textInterpolate","pipeBind2","I18nKeys","NoTranslate","_c2","language","primary","FromPrimary","language_r4","_r3","$implicit","setLanguage","key","disabled","pureFunction2","_c3","_c4","repeaterCreate","TranslateMenuDialogComponent_Conditional_39_For_10_Template","repeaterTrackByIdentity","textInterpolate1","pipeBind1","translationInfo","i18nRoot","repeater","languagesSig","TranslateMenuDialogComponent","TranslateHelperComponent","constructor","dialog","dialogData","fieldsTranslateService","computed","languages","attributes","itemAttributes","translationState","fieldName","isTranslateMany","translatableFields","config","getTemplateLanguages","isPrimaryLang","current","keydownEvents","subscribe","event","isCtrlS","preventDefault","newTranslationState","noLanguageRequired","includes","set","__spreadProps","__spreadValues","run","newState","oldState","closeDialog","applyToField","unlock","lock","LinkReadOnly","linkReadOnly","LinkReadWrite","linkReadWrite","LinkCopyFrom","copyFrom","length","close","directiveInject","MatDialogRef","MAT_DIALOG_DATA","FieldsTranslateService","selectors","features","InheritDefinitionFeature","decls","vars","consts","template","rf","ctx","conditionalCreate","TranslateMenuDialogComponent_Conditional_11_Template","TranslateMenuDialogComponent_Conditional_39_Template","_c0","conditional","FromOther","LinkShared","showLanguageSelection","submitDisabled","MatCardModule","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardSubtitle","MatCardTitle","MatListModule","MatActionList","MatNavList","MatListItem","MatListItemIcon","MatListItemLine","MatListItemTitle","NgClass","MatIconModule","MatIcon","MatButtonModule","MatButton","TranslateModule","TranslatePipe","styles","elementStart","listener","restoreView","_r3","ctx_r1","nextContext","resetView","dontTranslate","text","elementEnd","property","pureFunction1","_c3","translationState","linkType","TranslationLinks","DontTranslate","advance","textInterpolate1","pipeBind1","_r1","translate","openAutoTranslateMenuDialog","element","conditionalCreate","TranslateMenuComponent_Conditional_0_ng_template_11_Conditional_7_Template","openTranslateMenuDialog","Translate","conditional","language","current","primary","template","TranslateMenuComponent_Conditional_0_ng_template_11_Template","translationStateClass","_c0","disabled","infoLabel","pipeBind2","_c1","infoMessage","disableTranslateButtonSignal","menu_r4","_c2","hideTranslateButton","TranslateMenuComponent","#fieldState","#formsStateService","constructor","matDialog","viewContainerRef","formConfig","fieldsTranslate","input","canTranslate","inject","FieldState","FormsStateService","computedObj","ui","TranslateMenuHelpers","getTranslationStateClass","readOnly","isReadOnly","settings","DisableTranslation","unlock","name","lock","#openDialog","TranslateMenuDialogComponent","DisableAutoTranslation","open","AutoTranslateDisabledWarningDialog","autoFocus","data","isAutoTranslateAll","width","AutoTranslateMenuDialogComponent","component","dialogData","config","directiveInject","MatDialog","ViewContainerRef","FormConfigService","FieldsTranslateService","selectors","inputs","decls","vars","consts","template","rf","ctx","TranslateMenuComponent_Conditional_0_Template","NgClass","MatButtonModule","MatIconButton","MatMenuModule","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","MatIconModule","MatIcon","FeatureIconIndicatorComponent","TranslateModule","TippyDirective","TranslatePipe","styles","LocalizationWrapperComponent","#formConfig","#fieldState","constructor","editRoutingService","formsStateService","inject","FormConfigService","FieldState","language","userLanguageSvc","UserLanguageService","translatePrimaryLanguage","signal","hasMultipleLanguages","computed","languages","list","length","canTranslate","settings","DisableTranslation","current","primary","hideTranslateButton","set","primaryTranslatableEnabled","translate","readOnly","isReadOnly","ui","disabled","config","isExpanded","index","entityGuid","translateMenu","toggleTranslateButtonVisibility","hide","directiveInject","EditRoutingService","FormsStateService","selectors","viewQuery","rf","ctx","ViewContainerRef","TranslateMenuComponent","elementStart","listener","i0","restoreView","_r1","resetView","elementContainer","elementEnd","element","advance","property","pureFunction1","_c1","_c2","NgClass","styles","PickerExpandableWrapperComponent","constructor","formsStateService","log","classLog","fieldState","inject","FieldState","config","basics","directiveInject","FormsStateService","selectors","viewQuery","rf","ctx","ViewContainerRef","_c1","elementStart","elementContainer","elementEnd","MatCardModule","MatCard","DialogPopupComponent","styles","data","animation","ContentExpandAnimation","InputComponents","WrappersCatalog","AdamWrapper","AdamWrapperComponent","CollapsibleWrapper","CollapsibleWrapperComponent","DropzoneWrapper","DropzoneWrapperComponent","PickerExpandableWrapper","PickerExpandableWrapperComponent","ExpandableWrapper","ExpandableWrapperComponent","HiddenWrapper","HiddenWrapperComponent","FeatureWarningWrapper","FeatureWarningWrapperComponent","HyperlinkDefaultExpandableWrapper","HyperlinkDefaultExpandableWrapperComponent","HyperlinkLibraryExpandableWrapper","HyperlinkLibraryExpandableWrapperComponent","LocalizationWrapper","LocalizationWrapperComponent","InputTypeCatalog","BooleanDefault","BooleanDefaultComponent","BooleanTristate","BooleanTristateComponent","CustomDefault","CustomDefaultComponent","CustomJsonEditor","CustomJsonEditorComponent","DateTimeDefault","DatetimeDefaultComponent","EmptyDefault","EmptyDefaultComponent","EmptyMessage","EmptyMessageComponent","EntityContentBlocks","EntityContentBlockComponent","EntityDefault","EntityDefaultComponent","EntityQuery","EntityQueryComponent","ExternalWebComponent","ExternalWebComponentComponent","HyperlinkDefault","HyperlinkDefaultComponent","HyperlinkLibrary","HyperlinkLibraryComponent","NumberDefault","NumberDefaultComponent","NumberDropdown","NumberDropdownComponent","StringDefault","StringDefaultComponent","StringDropdown","StringDropdownComponent","StringDropdownQuery","StringDropdownQueryComponent","StringFontIconPicker","StringFontIconPickerComponent","StringJson","StringTemplatePicker","StringTemplatePickerComponent","StringUrlPath","StringUrlPathComponent","EntityPicker","EntityPickerComponent","StringPicker","StringPickerComponent","NumberPicker","NumberPickerComponent","logSpecs","all","setConfig","refresh","AdamConnector","constructor","log","classLog","#browser","signal","#items","computedObj","items","#count","isDisabled","computed","adamConfig","disabled","browser","b","Error","setBrowser","set","toggle","usePortalRoot","showImagesOnly","fn","config","l","fnIf","count","end","getConfig","onItemClick","onItemUpload","fetchItems","BasicControlSettings","fromSettings","s","label","Name","notes","Notes","required","valueRequired","visibilityRaw","Visible","visibilityDisabled","VisibleDisabled","visible","collapsed","Collapsed","placeholder","Placeholder","labelWithRequired","logSpecs","getInjectors","fields","DebugFields","detailedDebug","FieldStateInjectorFactory","#injector","#envInjector","#fieldsSettingsSvc","#entityFormStateSvc","#featuresSvc","#editRoutingService","constructor","log","classLog","inject","Injector","EnvironmentInjector","FieldsSettingsService","EntityFormStateService","FeaturesService","EditRoutingService","fieldConfig","inputType","l","fnIf","name","fieldName","settings","basics","computedObj","BasicControlSettings","fromSettings","formGroup","control","controls","controlStatusChangeSignal","#buildUiSignal","uiValue","signalObj","debouncedValue$","valueChanges","pipe","mapUntilObjChanged","v","toSignal","injector","initialValue","value","fieldState","FieldState","translationState","isExpandedSignal","index","entityGuid","pickerData","injectors","#createInjectors","r","lDetailed","fnCond","specs","includes","settings$","toObservable","runInInjectionContext","uiStateChange$","_","dirty","invalid","touched","disabled","tap","state","console","error","uiStatus$","combineLatest","s","uiDisabled","a","UiControl","result","InputTypeHelpers","isEmpty","emptyControl","providers","provide","useValue","create","parent","environmentInjector","createEnvironmentInjector","factory","fac","logSpecs","all","createWrapper","readComponentType","EditControlsBuilderDirective","#index","#renderer","#firstInputFocused","#fieldInjectorFac","#myContainerRef","#fieldsSettingsSvc","constructor","formConfigService","el","inject","Renderer2","log","classLog","transient","FieldStateInjectorFactory","ViewContainerRef","FieldsSettingsService","#fieldConfigSets","#onInitReady","signal","effect","onInitReady","controlsCreated","a","untracked","#createControls","ngOnInit","set","parseInt","nativeElement","getAttribute","clear","currentContainer","fieldsProps","allProps","fieldName","fieldProps","Object","entries","fieldConfig","__spreadProps","__spreadValues","constants","focused$","BehaviorSubject","adam","AdamConnector","push","inputType","inputTypeSpecs","InputTypeHelpers","isGroupStart","#createGroup","isGroupEnd","#createComponent","ngOnDestroy","complete","containerRef","injectors","getInjectors","wrapperInfo","DynamicControlInfo","buildWrappers","#createWrappers","contentsRef","inputSpecs","componentName","isExternal","InputTypeCatalog","ExternalWebComponent","componentType","#readComponentType","componentMd","Reflect","getMetadata","FieldMetadataKey","wrappers","componentRef","#generateAndAttachField","pickerPreviewContainerRef","wrapperRef","instance","previewComponent","previewType","settings","noAutoFocus","#setAutoFocus","setTimeout","location","querySelector","setAttribute","focus","container","component","createComponent","InputComponents","addEventListener","e","key","toLowerCase","preventDefault","outerWrapper","wrapperNames","reduce","acc","name","#createWrapper","wrapperName","l","fnIf","ref","fieldComponent","selector","r","console","error","prefix","split","fallback","CustomDefaultComponent","directiveInject","EntityFormStateService","ElementRef","selectors","logSpecs","all","watchToRefreshOnVersionsClosed","EditForceReloadService","constructor","log","classLog","#dialogRef","inject","MatDialogRef","#dialogRouter","transient","DialogRoutingService","ngOnDestroy","#watcher","unsubscribe","l","fnIf","childDialogClosed$","pipe","map","state","filter","result","refreshEdit","subscribe","_","l2","a","p","snapshot","params","newUrl","UrlHelpers","newUrlIfCurrentContainsOldUrl","route","items","end","close","navigateUrl","factory","fac","getItemForTooltip","itemFor","translate","instant","Target","TargetType","Number","String","Guid","Title","getNoteProps","note","language","itemNotSaved","noteProps","tooltip","triggerClass","iconName","noteClass","noteHtml","undefined","reader","EntityReader","getBestValue","Attributes","Note","noteType","NoteType","buildContentTypeFeatures","contentTypeFeatures","split","reduce","result","contentTypeFeature","nameAndValue","name","value","elementStart","listener","restoreView","_r2","ctx_r2","nextContext","resetView","unlockAll","text","elementEnd","advance","textInterpolate","pipeBind1","_r4","lockAll","conditionalCreate","EntityTranslateMenuComponent_Conditional_0_ng_template_10_Conditional_0_Template","_r1","autoTranslateMany","element","EntityTranslateMenuComponent_Conditional_0_ng_template_10_Conditional_5_Template","openTranslateMenuDialogMany","conditional","isPrimaryLang","textInterpolate1","property","template","EntityTranslateMenuComponent_Conditional_0_ng_template_10_Template","readOnly","isReadOnly","slotIsEmpty","menu_r5","EntityTranslateMenuComponent","constructor","matDialog","itemService","eavService","fieldTranslateSvc","viewContainerRef","fieldSettingsSvc","entityGuid","input","formsStateService","inject","FormsStateService","userLanguageSvc","UserLanguageService","translationState","signal","infoLabel","infoMessage","linkType","TranslationLinks","Translate","language","translatePrimaryLanguage","computed","current","primary","#autoTranslatableFields","findAutoTranslatableFields","SignalEquals","bool","set","primaryTranslatableEnabled","setTranslatePrimary","enabled","savePrimaryTranslatable","toggleUnlockOnAll","autoTransFields","length","showMessageNoTranslatableFields","translationStateAny","dialogData","config","isTranslateMany","translatableFields","open","AutoTranslateMenuDialogComponent","autoFocus","data","width","AutoTranslateDisabledWarningDialog","isAutoTranslateAll","Object","keys","filter","fn","#openDialog","TranslateMenuDialogComponent","directiveInject","MatDialog","ItemService","FormConfigService","FieldsTranslateService","ViewContainerRef","FieldsSettingsService","selectors","inputs","decls","vars","consts","template","rf","ctx","EntityTranslateMenuComponent_Conditional_0_Template","MatButtonModule","MatButton","MatMenuModule","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","MatIconModule","MatIcon","FeatureIconIndicatorComponent","TranslateModule","UpperCasePipe","TranslatePipe","styles","elementStart","listener","$event","restoreView","_r2","ctx_r2","nextContext","resetView","noteProps","note","toggleNote","editNote","text","elementEnd","classMap","interpolate1","triggerClass","property","readOnly","tooltip","itemNotSaved","advance","textInterpolate","iconName","_r4","noteTouched","deleteNote","element","noteClass","pipeBind1","noteHtml","sanitizeHtml","_r5","toggleSlotIsEmpty","ctSettings","slotIsEmpty","languages","current","primary","itemForTooltip","_r6","openHistory","editInstructions","logSpecs","all","fetchNote","noteFormData","EntityFormComponent","#fieldsSettingsSvc","#formsStateSvc","#translate","#versioningReloader","#features","#editUiShowNotes","#editUiShowMetadataFor","#retriggerNoteProps","#formDataSvc","#entitySvc","#dialogRouter","constructor","itemSvc","editRoutingSvc","matDialog","viewContainerRef","log","classLog","entityGuid","input","index","formConfig","inject","FormConfigService","FieldsSettingsService","FormsStateService","TranslateService","transient","EditForceReloadService","collapse","FeaturesService","isEnabled","FeatureNames","EditUiShowNotes","EditUiShowMetadataFor","language","computedObj","s","contentTypeSettings","features","Features","ctFeatures","buildContentTypeFeatures","itemTitle","_itemTitle","slotCanBeEmpty","_slotCanBeEmpty","_slotIsEmpty","EditInstructions","showNotes","showMdFor","isReadOnly","item","getItemFor","getItemForTooltip","signalObj","getItemNote","notCreatedYet","get","Entity","Id","getNoteProps","FormDataService","EntityService","DialogRoutingService","ngAfterViewChecked","noteRef","_containerInstance","_changeDetectorRef","detectChanges","ngOnInit","doOnDialogClosed","#fetchNote","ngOnDestroy","close","toggleCollapse","oldHeader","getItemHeader","newHeader","__spreadProps","__spreadValues","IsEmpty","l","fn","updater","updateItemHeader","end","watchToRefreshOnVersionsClosed","navRelative","event","isOpen","getState","MatDialogState","OPEN","type","openNote","triggerPosition","noteTriggerRef","nativeElement","getBoundingClientRect","open","noteTemplateRef","autoFocus","hasBackdrop","disableClose","restoreFocus","closeOnNavigation","position","top","bottom","left","panelClass","form","items","EditPrep","newMetadata","eavConstants","contentTypes","notes","metadata","entity","editId","title","EntityReader","getBestValue","Attributes","Title","id","confirm","instant","delete","config","appId","subscribe","fnIf","editItems","fetchFormData","JSON","stringify","formData","l2","Items","map","i","EavItem","dtoToEav","updateItemMetadata","Metadata","set","directiveInject","ItemService","EditRoutingService","MatDialog","ViewContainerRef","selectors","viewQuery","rf","ctx","ElementRef","_c1","i0","_r1","conditionalCreate","EntityFormComponent_Conditional_8_Template","template","EntityFormComponent_ng_template_9_Template","templateRefExtractor","EntityFormComponent_Conditional_11_Template","EntityFormComponent_Conditional_12_Template","EntityFormComponent_Conditional_13_Template","EntityFormComponent_Conditional_18_Template","textInterpolate1","conditional","enableHistory","styleProp","MatCardModule","MatCard","MatCardContent","MatIconModule","MatIcon","MatButtonModule","MatIconButton","CdkDrag","CdkDragHandle","MatSlideToggleModule","MatSlideToggle","EntityTranslateMenuComponent","ChangeAnchorTargetDirective","EditControlsBuilderDirective","TranslateModule","TippyDirective","MousedownStopPropagationDirective","TranslatePipe","SafeHtmlPipe","styles","FormFieldsBuilderService","constructor","fieldsSettingsSvc","adamCacheSvc","formBuilder","entityFormConfigSvc","log","classLog","createFields","entityGuid","form","allFields","l","fn","fieldsToCreate","filter","inputType","hasControl","InputTypeHelpers","isEmpty","a","length","fieldsForNgForm","fields","name","fieldName","props","fieldProps","value","initialValue","InputTypeCatalog","StringWysiwyg","logic","FieldLogicManager","singleton","get","adamItems","getAdamSnapshot","processValueOnLoad","disabled","settings","uiDisabled","fss","valSpecs","ValidationHelperSpecs","pickerData","validators","ValidationHelpers","getValidators","newControl","control","addControl","controlsCreated","set","end","inject","FieldsSettingsService","AdamCacheService","UntypedFormBuilder","EntityFormStateService","factory","fac","logSpecs","keepFieldsAndStateInSync","FormFieldsSyncService","ServiceBase","constructor","log","classLog","form","fieldsToProcess","l","fnIf","subscriptions","add","subscribe","allFields","fieldsOnForm","filter","set","hasControl","a","length","oldValues","getRawValue","newValues","name","fieldName","value","changes","FieldValueHelpers","getItemValuesChanges","Object","keys","patchValue","control","props","UiControl","disable","settings","uiDisabled","updateValueAndValidity","end","factory","fac","logSpecs","all","getFieldsToProcess","ngOnInit","EntityFormBuilderComponent","#formStateSvc","#formulaDesignerService","#fieldsTranslateSvc","#fieldsSettingsSvc","#injector","#formFieldsBuilderService","#fieldsSyncSvc","#formSyncSvc","constructor","entityGuid","input","index","log","classLog","inject","EntityFormStateService","FormulaDesignerService","FieldsTranslateService","FieldsSettingsService","Injector","transient","FormFieldsBuilderService","FormFieldsSyncService","EntityFormSyncService","form","formGroup","l","fnIf","init","itemSettingsServices","fields$","#getFieldsToProcess$","pipe","take","subscribe","allFields","createFields","keepFieldsAndStateInSync","setupSync","end","ngOnDestroy","disableForCleanUp","allProps","fieldsToProcess","toObservable","injector","filter","fields","Object","keys","length","map","entries","name","props","hasControl","controls","hasOwnProperty","control","inputType","constants","inputTypeSpecs","value","aIf","rSilent","selectors","inputs","features","ProvidersFeature","decls","vars","consts","template","rf","ctx","elementStart","element","elementEnd","property","advance","FormsModule","NgNoValidate","NgControlStatusGroup","ReactiveFormsModule","FormGroupDirective","EntityFormComponent","styles","EavAttributesDto","eavToDto","attributes","attributesDto","name","values","Object","entries","type","Type","EavValuesDto","EavEntityDto","eavToDto","entity","attributesDto","EavAttributesDto","Attributes","metadataDto","eavToDtoMany","Metadata","Guid","Id","Owner","Type","Version","For","entities","map","e","EavEntityBundleDto","bundleToDto","item","Entity","EavEntityDto","eavToDto","Header","EavValuesDto","eavToDto","eavValues","dtoValue","value","Values","dimensions","map","dimension","dimCode","join","element","property","pureFunction1","_c0","feature_r1","logSpecs","__spreadProps","__spreadValues","commonSpecs","unlicensedFeatures","FeaturesUsedButUnlicensedComponent","#features","#featureDetails","constructor","log","classLog","inject","FeaturesService","transient","FeatureDetailService","features","getFeatureDetails","l","fnIf","selectors","decls","vars","consts","template","rf","ctx","elementStart","text","elementEnd","repeaterCreate","FeaturesUsedButUnlicensedComponent_For_17_Template","_forTrack0","advance","repeater","MatCardModule","MatCard","MatCardContent","MatCardHeader","MatCardTitle","MatButtonModule","MatIconModule","TranslateModule","FeatureDetailsDialogComponent","encapsulation","openFeaturesUsedButUnlicensedDialog","dialog","viewContainerRef","open","autoFocus","width","PublishStatusDialogComponent","constructor","dialog","publishStatusService","formConfig","PublishModes","publishMode","getPublishMode","config","formId","options","versioningOptions","keydownEvents","subscribe","event","isCtrlS","preventDefault","setPublishMode","closeDialog","close","directiveInject","MatDialogRef","FormPublishingService","FormConfigService","selectors","decls","vars","consts","template","rf","ctx","elementStart","text","elementEnd","listener","Show","Hide","Branch","element","advance","textInterpolate","pipeBind1","property","pureFunction1","_c0","MatCardModule","MatCard","MatCardContent","MatCardHeader","MatCardSubtitle","MatCardTitle","MatListModule","MatNavList","MatListItem","MatListItemIcon","MatListItemTitle","NgClass","MatIconModule","MatIcon","TranslateModule","TranslatePipe","styles","element","property","ctx_r0","disabled","domTemplate","EditDialogHeaderComponent_Conditional_5_Defer_0_Template","defer","EditDialogHeaderComponent_Conditional_5_Defer_1_DepsFn","elementStart","text","elementEnd","readOnly","reason","listener","restoreView","_r2","nextContext","resetView","openUnlicensedDialog","advance","textInterpolate1","pipeBind1","EditDialogHeaderComponent","#formsStateSvc","#features","constructor","matDialog","viewContainerRef","languageService","publishStatusService","formConfig","input","closeDialog","output","inject","FormsStateService","FeaturesService","config","publishMode","getPublishMode","formId","hasLanguages","computed","getAllSignal","length","showLicenseWarning","hasUnlicensedFeatures","close","emit","openPublishStatusDialog","open","PublishStatusDialogComponent","autoFocus","width","openFeaturesUsedButUnlicensedDialog","directiveInject","MatDialog","ViewContainerRef","LanguageService","FormPublishingService","FormConfigService","selectors","inputs","outputs","decls","vars","consts","template","rf","ctx","conditionalCreate","EditDialogHeaderComponent_Conditional_5_Template","EditDialogHeaderComponent_Conditional_6_Template","EditDialogHeaderComponent_Conditional_7_Template","EditDialogHeaderComponent_Conditional_16_Template","isParentDialog","textInterpolate","conditional","isReadOnly","isCopy","MatCardModule","MatCard","MatButtonModule","MatButton","MatIconButton","MatIconModule","MatIcon","TranslateModule","TippyDirective","UpperCasePipe","TranslatePipe","styles","classNext","classPrevious","animationNames","FormSlideDirective","BaseDirective","constructor","elementRef","languageService","formConfig","log","classLog","ngOnInit","l","fn","languages","getAll","nativeElement","subscriptions","add","merge","language$","pipe","map","language","current","mapUntilChanged","m","pairwise","previousLang","currentLang","a","prevIndex","findIndex","lang","NameId","currentIndex","slide","fromEvent","filter","event","find","an","animationName","endsWith","undefined","delay","subscribe","classList","remove","directiveInject","ElementRef","LanguageService","FormConfigService","selectors","features","InheritDefinitionFeature","domElementStart","text","domElementEnd","advance","textInterpolate","error_r1","field","textInterpolate1","pipeBind1","message","SnackBarSaveErrorsComponent","constructor","snackBarData","directiveInject","MAT_SNACK_BAR_DATA","selectors","decls","vars","consts","template","rf","ctx","domElement","repeaterCreate","SnackBarSaveErrorsComponent_For_6_Template","repeaterTrackByIdentity","repeater","fieldErrors","TranslateModule","TranslatePipe","styles","SnackBarUnsavedChangesComponent","constructor","snackRef","snackBarData","saveChanges","save","dismissWithAction","directiveInject","MatSnackBarRef","MAT_SNACK_BAR_DATA","selectors","decls","vars","consts","template","rf","ctx","elementStart","text","elementEnd","listener","advance","textInterpolate1","pipeBind1","MatButtonModule","MatButton","TranslateModule","UpperCasePipe","TranslatePipe","styles","MatDialogActions","then","m","EditDialogFooterComponent","elementStart","element","elementEnd","advance","property","item_r1","Entity","Guid","$index_18_r2","repeaterCreate","EditDialogMainComponent_Conditional_7_For_2_Template","_forTrack0","repeater","ctx_r2","items","listener","restoreView","_r4","nextContext","resetView","saveAll","canSave","saveDisabled","_r5","text","textInterpolate1","pipeBind1","template","EditDialogMainComponent_Conditional_8_Conditional_2_ng_template_0_Template","EditDialogMainComponent_Conditional_8_ng_template_1_Template","conditionalCreate","EditDialogMainComponent_Conditional_8_Conditional_2_Template","conditional","styleProp","footerShow","domTemplate","EditDialogMainComponent_Conditional_9_Defer_0_Template","defer","EditDialogMainComponent_Conditional_9_Defer_1_DepsFn","logSpecs","all","constructor","EditDialogMainComponent","BaseComponent","#globalConfigService","#formConfig","#prefManager","#loadIconsService","#formDataService","#entityFormStateService","dialog","contentTypeItemService","contentTypeService","inputTypeService","itemService","languageService","languageStore","snackBar","translate","editRoutingService","publishStatusService","formsStateService","adamCacheService","linkCacheService","formulaDesignerService","dialogData","log","classLog","inject","GlobalConfigService","FormConfigService","config","save","mode","UserPreferences","part","footerPreferences","footerSize","computed","data","size","transient","LoadIconsService","FormDataService","EntityFormStateService","router","Router","route","ActivatedRoute","viewInitiated","signal","isReturnValueMode","getManySignal","itemGuids","formsValid","formsValidTemp","isSaving","saveButtonDisabled","hideHeader","getHideHeaderSignal","formId","isDebug","#debugWasModified","pinned","footerShowOnceOrMore","computedWithPrev","prev","delayForm","toSignal","of","pipe","delay","startWith","l","fnIf","disableClose","returnValue","pref","set","dialogContext","User","IsSystemAdmin","effect","current","triggerTrySaveAndMaybeClose","tryToSave","untracked","close","#saveResult","ngOnInit","#watchKeyboardShortcuts","init","load","cache","#startSubscriptions","ngAfterViewInit","setTimeout","ngOnDestroy","remove","isParentDialog","clearCache","closeDialog","forceClose","createMode","undefined","readOnly","isReadOnly","formsAreDirty","#snackBarYouHaveUnsavedChanges","formsAreValid","a","wrappedData","objData","#getValidEavItems","eavItem","EavItem","eavToObj","EavEntityBundleDto","bundleToDto","publishStatus","get","saveFormData","Items","IsPublished","DraftShouldBranch","open","instant","duration","partOfPage","subscribe","next","result","updater","updateItemId","error","err","formBuilderRefs","formErrors","forEach","formBuilderRef","form","invalid","push","ValidationMsgHelper","validateForm","fieldErrors","formError","Object","keys","key","field","message","openFromComponent","SnackBarSaveErrorsComponent","mapFn","map","ref","entityGuid","getFormValid","hasAttributes","Attributes","length","saveIfEmpty","getContentTypeOfItem","Metadata","some","Type","Name","MetadataDecorators","SaveEmptyDecorator","filter","item","subscriptions","add","fromEvent","window","event","preventDefault","backdropClick","_","keydownEvents","isEscape","isCtrlS","altKey","isCtrlEnter","snackBarRef","SnackBarUnsavedChangesComponent","onAction","containerInstance","snackBarConfig","directiveInject","MatDialogRef","ContentTypeItemService","ContentTypeService","InputTypeService","ItemService","LanguageService","FormLanguageService","MatSnackBar","TranslateService","EditRoutingService","FormPublishingService","FormsStateService","AdamCacheService","LinkCacheService","FormulaDesignerService","MAT_DIALOG_DATA","selectors","viewQuery","rf","ctx","EntityFormBuilderComponent","PickerTreeDataHelper","InheritDefinitionFeature","decls","vars","consts","template","EditDialogMainComponent_Conditional_7_Template","EditDialogMainComponent_Conditional_8_Template","EditDialogMainComponent_Conditional_9_Template","pureFunction1","_c0","pureFunction4","_c1","NgClass","EditDialogHeaderComponent","CdkScrollable","FormSlideDirective","MatRippleModule","MatRipple","MatIconModule","MatIcon","TranslateModule","ExtendedFabSpeedDialComponent","ExtendedFabSpeedDialActionDirective","ExtendedFabSpeedDialTriggerContentDirective","ExtendedFabSpeedDialActionsContentDirective","ToggleDebugDirective","SaveCloseButtonComponent","TranslatePipe","styles","element","EditEntryComponent","constructor","temp","log","classLog","editInitializerService","transient","EditInitializerService","aIf","ngOnInit","fetchFormData","directiveInject","FeaturesService","selectors","features","ProvidersFeature","LoggingService","Context","FormConfigService","ScriptsLoaderService","InitialValuesService","decls","vars","template","rf","ctx","conditionalCreate","EditEntryComponent_Conditional_1_Template","advance","conditional","loaded","RouterOutlet","EditDialogMainComponent","encapsulation"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,116,139,140,157,158,163,182,183,199,289]}
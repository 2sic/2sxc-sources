import{b as E}from"./chunk-S7Y6G6OZ.js";import{g as w}from"./chunk-G33ZJSCE.js";import{Ba as _,Ca as M,Ga as a,Gb as u,Hb as f,Ib as A,Lc as g,Mc as W,Oa as h,Ob as H,Oc as y,Sa as m,Sb as G,Tb as d,Yb as T,Zb as L,_b as v,db as D}from"./chunk-46QINP2S.js";var O=["gridWrapper"],R=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],S=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"],Q=(()=>{class c{constructor(){this.gridWrapper=W("gridWrapper",{read:a}),this.agGrid=y(E,{read:a}),this.dialogAction=y(w,{read:a}),this.helpText=g.required({}),this.refresh=g.required(),this.rowLength=g.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,_(()=>{let n=this.refresh(),e=this.rowLength(),t=this.gridWrapper()?.nativeElement;t&&M(()=>this.#e(t,e))})}#e(n,e){let t=this.agGrid()?.nativeElement,o=this.dialogAction()?.nativeElement,r=n.querySelector(".help-info-card");setTimeout(()=>{if(r.classList.toggle("center-center",e===0),!t||!o)return;r.style.flex="";let i=this.#t(n,t,o,r,e);t.style.flex=i.rowHeight?`0 0 ${i.agGridHeight}px`:"0px";let l=document.querySelector(".mat-sidenav-content"),s=document.querySelector(".mat-mdc-dialog-container"),p=(!!document.querySelector(".nav-component-wrapper")?s:l).clientHeight-i.dialogHeaderHeight-i.dialogActionHeight-2;t.style.maxHeight=`${p}px`;let P=i.helpCardHeight+i.agGridHeight+i.dialogActionHeight+i.dialogHeaderHeight>i.wrapperHeight;r.style.flex="1 1 auto",r?.classList.toggle("hidden-help-info-card",P)},0)}#t(n,e,t,o,r){let i=e.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT,l=this.GRID_HEADER_HEIGHT+r*i,s=o.clientHeight+this.HELP_CARD_BUFFER,C=t.offsetHeight,x=n.querySelector(".eav-dialog-header")?.clientHeight??0,p=n.offsetHeight;return{rowHeight:i,agGridHeight:l,helpCardHeight:s,dialogActionHeight:C,dialogHeaderHeight:x,wrapperHeight:p}}static{this.\u0275fac=function(e){return new(e||c)}}static{this.\u0275cmp=D({type:c,selectors:[["app-grid-with-help"]],contentQueries:function(e,t,o){e&1&&T(o,t.agGrid,E,5,a)(o,t.dialogAction,w,5,a),e&2&&v(2)},viewQuery:function(e,t){e&1&&L(t.gridWrapper,O,5,a),e&2&&v()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:S,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(e,t){e&1&&(G(R),u(0,"div",1,0),d(2),d(3,1),d(4,2),u(5,"div",2)(6,"div",3),A(7,"span",4)(8,"span",4),f()(),d(9,3),f()),e&2&&(m(7),H("innerHTML",t.helpText().description,h),m(),H("innerHTML",t.helpText().hint,h))},styles:[`.grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}
/*# sourceMappingURL=grid-with-help-4NED3SOJ.css.map */`]})}}return c})();export{Q as a};
//# sourceMappingURL=https://sources.2sxc.org/21.00.00/dist/ng-edit/chunk-SXZJT35J.js.map

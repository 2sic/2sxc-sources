{
  "version": 3,
  "sources": ["projects/eav-ui/src/app/app-administration/services/import-app-parts.service.ts", "projects/eav-ui/src/app/app-administration/services/export-app-parts.service.ts", "projects/eav-ui/src/app/app-administration/services/export-app.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\n\r\nexport const webApiAppPartsRoot = 'admin/appParts/';\r\n\r\n@Injectable()\r\nexport class ImportAppPartsService extends HttpServiceBaseSignal {\r\n\r\n  importAppParts(file: File) {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiAppPartsRoot + 'Import'), formData, {\r\n      params: { appId: this.appId, zoneId: this.zoneId }\r\n    });\r\n  }\r\n\r\n  /** Reset the App back to the state it was in the last xml export */\r\n  resetApp(withFiles: boolean) {\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiAppRoot + 'Reset'), {}, {\r\n      params: {\r\n        appId: this.appId,\r\n        zoneId: this.zoneId,\r\n        withPortalFiles: withFiles.toString(),\r\n      }\r\n    });\r\n  }\r\n}\r\n", "import { httpResource } from '@angular/common/http';\r\nimport { Injectable, Signal } from '@angular/core';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\nimport { ContentInfo } from '../models/content-info.model';\r\nimport { webApiAppPartsRoot } from './import-app-parts.service';\r\n\r\nconst webApiAppPartsGet = 'admin/appParts/get';\r\n@Injectable()\r\nexport class ExportAppPartsService extends HttpServiceBaseSignal {\r\n\r\n  getContentInfoLiveParam(scope: Signal<string>) {\r\n    return httpResource<ContentInfo>(() => {\r\n      return {\r\n        url: this.apiUrl(webApiAppPartsGet),\r\n        params: {\r\n          appid: this.appId,\r\n          zoneId: this.zoneId,\r\n          scope: scope()\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  exportParts(contentTypeIds: number[], entityIds: number[], templateIds: number[]) {\r\n    const url = this.apiUrl(webApiAppPartsRoot + 'Export')\r\n      + '?appId=' + this.appId\r\n      + '&zoneId=' + this.zoneId\r\n      + '&contentTypeIdsString=' + contentTypeIds.join(';')\r\n      + '&entityIdsString=' + entityIds.join(';')\r\n      + '&templateIdsString=' + templateIds.join(';');\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n}\r\n", "import { httpResource } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\nimport { AppInfo } from '../models/app-info.model';\r\n\r\nconst webApiAppRootStatistics = 'admin/app/Statistics';\r\nconst webApiAppRootSaveData = 'admin/app/SaveData';\r\n\r\n\r\n@Injectable()\r\nexport class ExportAppService extends HttpServiceBaseSignal {\r\n\r\n  getAppInfo() {\r\n    return httpResource<AppInfo>(() => ({\r\n      url: this.apiUrl(webApiAppRootStatistics),\r\n      params: { appid: this.appId, zoneId: this.zoneId },\r\n    }));\r\n  }\r\n\r\n  /** Generate the export app path. It can be extended with additional parameters */\r\n  exportAppUrl() {\r\n    return `${this.apiUrl(`${webApiAppRoot}Export`)}?appId=${this.appId}&zoneId=${this.zoneId}`;\r\n  }\r\n  async exportForVersionControl({ includeContentGroups, resetAppGuid, withFiles }:\r\n    { includeContentGroups: boolean; resetAppGuid: boolean; withFiles: boolean; }): Promise<number> {\r\n    return this.getStatusPromise(webApiAppRootSaveData, {\r\n      params: {\r\n        appid: this.appId,\r\n        zoneId: this.zoneId,\r\n        includeContentGroups: includeContentGroups.toString(),\r\n        resetAppGuid: resetAppGuid.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      },\r\n    });\r\n  }\r\n\r\n}\r\n"],
  "mappings": "iLAKO,IAAMA,EAAqB,kBAGrBC,GAAsB,IAAA,CAA7B,MAAOA,UAA8BC,CAAqB,CAE9DC,eAAeC,EAAU,CACvB,IAAMC,EAAW,IAAIC,SACrBD,OAAAA,EAASE,OAAO,OAAQH,CAAI,EACrB,KAAKI,KAAKC,KAAuB,KAAKC,OAAOV,EAAqB,QAAQ,EAAGK,EAAU,CAC5FM,OAAQ,CAAEC,MAAO,KAAKA,MAAOC,OAAQ,KAAKA,MAAM,EACjD,CACH,CAGAC,SAASC,EAAkB,CACzB,OAAO,KAAKP,KAAKC,KAAuB,KAAKC,OAAOM,EAAgB,OAAO,EAAG,CAAA,EAAI,CAChFL,OAAQ,CACNC,MAAO,KAAKA,MACZC,OAAQ,KAAKA,OACbI,gBAAiBF,EAAUG,SAAQ,GAEtC,CACH,qEAnBWjB,CAAqB,IAAAkB,GAArBlB,CAAqB,CAAA,CAAA,GAAA,CAAA,iCAArBA,EAAqBmB,QAArBnB,EAAqBoB,SAAA,CAAA,CAAA,SAArBpB,CAAsB,GAAA,ECFnC,IAAMqB,EAAoB,qBAEbC,GAAsB,IAAA,CAA7B,MAAOA,UAA8BC,CAAqB,CAE9DC,wBAAwBC,EAAqB,CAC3C,OAAOC,EAA0B,KACxB,CACLC,IAAK,KAAKC,OAAOP,CAAiB,EAClCQ,OAAQ,CACNC,MAAO,KAAKC,MACZC,OAAQ,KAAKA,OACbP,MAAOA,EAAK,IAGjB,CACH,CAEAQ,YAAYC,EAA0BC,EAAqBC,EAAqB,CAC9E,IAAMT,EAAM,KAAKC,OAAOS,EAAqB,QAAQ,EACjD,UAAY,KAAKN,MACjB,WAAa,KAAKC,OAClB,yBAA2BE,EAAeI,KAAK,GAAG,EAClD,oBAAsBH,EAAUG,KAAK,GAAG,EACxC,sBAAwBF,EAAYE,KAAK,GAAG,EAEhDC,OAAOC,KAAKb,EAAK,SAAU,EAAE,CAC/B,qEAxBWL,CAAqB,IAAAmB,GAArBnB,CAAqB,CAAA,CAAA,GAAA,CAAA,iCAArBA,EAAqBoB,QAArBpB,EAAqBqB,SAAA,CAAA,CAAA,SAArBrB,CAAsB,GAAA,ECFnC,IAAMsB,EAA0B,uBAC1BC,EAAwB,qBAIjBC,GAAiB,IAAA,CAAxB,MAAOA,UAAyBC,CAAqB,CAEzDC,YAAU,CACR,OAAOC,EAAsB,KAAO,CAClCC,IAAK,KAAKC,OAAOP,CAAuB,EACxCQ,OAAQ,CAAEC,MAAO,KAAKC,MAAOC,OAAQ,KAAKA,MAAM,GAChD,CACJ,CAGAC,cAAY,CACV,MAAO,GAAG,KAAKL,OAAO,GAAGM,CAAa,QAAQ,CAAC,UAAU,KAAKH,KAAK,WAAW,KAAKC,MAAM,EAC3F,CACMG,wBAAwBC,EACiD,QAAAC,EAAA,yBADjD,CAAEC,qBAAAA,EAAsBC,aAAAA,EAAcC,UAAAA,CAAS,EACE,CAC7E,OAAO,KAAKC,iBAAiBnB,EAAuB,CAClDO,OAAQ,CACNC,MAAO,KAAKC,MACZC,OAAQ,KAAKA,OACbM,qBAAsBA,EAAqBI,SAAQ,EACnDH,aAAcA,EAAaG,SAAQ,EACnCC,gBAAiBH,EAAUE,SAAQ,GAEtC,CACH,uEAxBWnB,CAAgB,IAAAqB,GAAhBrB,CAAgB,CAAA,CAAA,GAAA,CAAA,iCAAhBA,EAAgBsB,QAAhBtB,EAAgBuB,SAAA,CAAA,CAAA,SAAhBvB,CAAiB,GAAA",
  "names": ["webApiAppPartsRoot", "ImportAppPartsService", "HttpServiceBaseSignal", "importAppParts", "file", "formData", "FormData", "append", "http", "post", "apiUrl", "params", "appId", "zoneId", "resetApp", "withFiles", "webApiAppRoot", "withPortalFiles", "toString", "__ngFactoryType__", "factory", "\u0275fac", "webApiAppPartsGet", "ExportAppPartsService", "HttpServiceBaseSignal", "getContentInfoLiveParam", "scope", "httpResource", "url", "apiUrl", "params", "appid", "appId", "zoneId", "exportParts", "contentTypeIds", "entityIds", "templateIds", "webApiAppPartsRoot", "join", "window", "open", "__ngFactoryType__", "factory", "\u0275fac", "webApiAppRootStatistics", "webApiAppRootSaveData", "ExportAppService", "HttpServiceBaseSignal", "getAppInfo", "httpResource", "url", "apiUrl", "params", "appid", "appId", "zoneId", "exportAppUrl", "webApiAppRoot", "exportForVersionControl", "_0", "__async", "includeContentGroups", "resetAppGuid", "withFiles", "getStatusPromise", "toString", "withPortalFiles", "__ngFactoryType__", "factory", "\u0275fac"]
}

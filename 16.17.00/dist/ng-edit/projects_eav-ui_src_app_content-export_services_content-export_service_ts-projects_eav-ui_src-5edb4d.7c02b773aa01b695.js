"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_eav-ui_src-5edb4d"],{4323:(v,g,n)=>{n.d(g,{i:()=>p});var s=n(5530),m=n(400),c=n(2611),a=n(1699),l=n(6232);let p=(()=>{var r;class h{constructor(d,i){this.context=d,this.dnnContext=i}exportContent(d,i){const _=i?"&selectedids="+i.join():"",E=this.dnnContext.$2sxc.http.apiUrl(m.Uo+"Download")+"?appId="+this.context.appId+"&language="+d.language+"&defaultLanguage="+d.defaultLanguage+"&contentType="+d.contentTypeStaticName+"&recordExport="+d.recordExport+"&resourcesReferences="+d.resourcesReferences+"&languageReferences="+d.languageReferences+_;window.open(E,"_blank","")}exportJson(d){const i=this.dnnContext.$2sxc.http.apiUrl(s._+"Json")+"?appId="+this.context.appId+"&name="+d;window.open(i,"_blank","")}exportEntity(d,i,_){const E=this.dnnContext.$2sxc.http.apiUrl(m.Uo+"Json")+"?appId="+this.context.appId+"&id="+d+"&prefix="+i+"&withMetadata="+_;window.open(E,"_blank","")}}return(r=h).\u0275fac=function(d){return new(d||r)(a.LFG(c._),a.LFG(l._y))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),h})()},7100:(v,g,n)=>{n.d(g,{l:()=>i});var s=n(6253),m=n(1891),c=n(9736),a=n(5807),l=n(400),p=n(237),r=n(2611),h=n(1699),u=n(4860),d=n(6232);let i=(()=>{var _;class E{constructor(e,o,I){this.http=e,this.context=o,this.dnnContext=I}getAll(e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(l.PS),{params:{appId:this.context.appId.toString(),contentType:e}})}getColumns(e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(a.jt),{params:{appId:this.context.appId.toString(),staticName:e}})}importItem(e){return(0,s.D)((0,p.s)(e)).pipe((0,m.w)(o=>this.http.post(this.dnnContext.$2sxc.http.apiUrl(l.Uo+"upload"),{AppId:this.context.appId.toString(),ContentBase64:o})),(0,c.U)(o=>({Success:o,Messages:[]})))}}return(_=E).\u0275fac=function(e){return new(e||_)(h.LFG(u.eN),h.LFG(r._),h.LFG(d._y))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),E})()},1092:(v,g,n)=>{n.d(g,{g:()=>p});var s=n(400),m=n(2611),c=n(1699),a=n(4860),l=n(6232);let p=(()=>{var r;class h{constructor(d,i,_){this.http=d,this.context=i,this.dnnContext=_}create(d,i){return this.http.post(`app/auto/data/${d}`,i,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}update(d,i,_){return this.http.post(`app/auto/data/${d}/${i}`,_,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}delete(d,i,_){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(s.Uo+"delete"),{params:{contentType:d,id:i.toString(),appId:this.context.appId.toString(),force:_.toString()}})}}return(r=h).\u0275fac=function(d){return new(d||r)(c.LFG(a.eN),c.LFG(m._),c.LFG(l._y))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),h})()},5807:(v,g,n)=>{n.d(g,{Mr:()=>d,jt:()=>h});var s=n(9736),m=n(5530),c=n(2611),a=n(1699),l=n(4860),p=n(6232);const r="admin/field/",h="admin/field/all",u="admin/field/GetSharedFields";let d=(()=>{var i;class _{constructor(t,e,o){this.http=t,this.context=e,this.dnnContext=o}apiUrl(t){return this.dnnContext.$2sxc.http.apiUrl(t)}typeListRetrieve(){return this.http.get(this.apiUrl(r+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(r+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,s.U)(t=>t.map(o=>({dataType:o.Type.substring(0,o.Type.indexOf("-")),inputType:o.Type,label:o.Label,description:o.Description,isDefault:o.IsDefault,isObsolete:o.IsObsolete,isRecommended:o.IsRecommended,obsoleteMessage:o.ObsoleteMessage,icon:o.IsDefault?"star":o.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(r+"ReservedNames"))}getFields(t){return this.http.get(this.apiUrl(h),{params:{appid:this.context.appId.toString(),staticName:t}}).pipe((0,s.U)(e=>{if(e)for(const o of e){if(!o.Metadata)continue;const I=o.Metadata;I.merged={...I.All,...I[o.Type],...I[o.InputType]}}return e}))}getShareableFields(){return this.http.get(this.apiUrl(u),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(t){return this.http.get(this.apiUrl(u),{params:{appid:this.context.appId.toString(),attributeId:t.toString()}})}addInheritedField(t,e,o,I){return this.http.post(this.apiUrl(r+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:t.toString(),SourceType:e,SourceField:o,name:I}})}share(t,e=!0){return this.http.post(this.apiUrl(r+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:t.toString(),share:e}})}inherit(t,e){return this.http.post(this.apiUrl(r+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:t.toString(),inheritMetadataOf:e}})}reOrder(t,e){return this.http.post(this.apiUrl(r+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:e.Id.toString(),order:JSON.stringify(t)}})}setTitle(t,e){return this.http.post(this.apiUrl(m._+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:e.Id.toString(),attributeId:t.Id.toString()}})}rename(t,e,o){return this.http.post(this.apiUrl(r+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:e.toString(),attributeId:t.toString(),newName:o}})}delete(t,e){if(t.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(r+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:e.Id.toString(),attributeId:t.Id.toString()}})}add(t,e){return this.http.post(this.apiUrl(r+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:e.toString(),Id:t.Id.toString(),Type:t.Type,InputType:t.InputType,StaticName:t.StaticName,IsTitle:t.IsTitle.toString(),Index:t.SortOrder.toString()}})}updateInputType(t,e,o){return this.http.post(this.apiUrl(r+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:t.toString(),field:e,inputType:o}})}}return(i=_).\u0275fac=function(t){return new(t||i)(a.LFG(l.eN),a.LFG(c._),a.LFG(p._y))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),_})()},3955:(v,g,n)=>{n.d(g,{U:()=>m});var s=n(196);class m{static getRoutes(){const a={path:"metadata/:targetType/:keyType/:key",loadChildren:()=>Promise.all([n.e("default-node_modules_angular_material_fesm2022_card_mjs"),n.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),n.e("default-projects_eav-ui_src_app_permissions_index_ts"),n.e("common"),n.e("projects_eav-ui_src_app_metadata_metadata_module_ts")]).then(n.bind(n,7951)).then(p=>p.MetadataModule),data:{title:"Metadata"}};return[a,{...a,path:`${a.path}/title/:title`},{...a,path:`${a.path}/contentType/:contentTypeStaticName`},{...a,path:`${a.path}/title/:title/contentType/:contentTypeStaticName`}]}static getUrl(a,l,p,r,h){let u=`metadata/${a}/${l}/${p}`;return r&&(u+=`/title/${encodeURIComponent(r)}`),h&&(u+=`/contentType/${h}`),u}static getUrlApp(a,l){return this.getUrl(s.Zy.metadata.app.targetType,s.Zy.metadata.app.keyType,a.toString(),l)}static getUrlAttribute(a,l,p){return this.getUrl(s.Zy.metadata.attribute.targetType,s.Zy.metadata.attribute.keyType,a.toString(),l,p)}static getUrlContentType(a,l){return this.getUrl(s.Zy.metadata.contentType.targetType,s.Zy.metadata.contentType.keyType,a,l)}static getUrlEntity(a,l,p){return this.getUrl(s.Zy.metadata.entity.targetType,s.Zy.metadata.entity.keyType,a,l,p)}}},237:(v,g,n)=>{function s(c){return new Promise((a,l)=>{const p=new FileReader;p.readAsDataURL(c),p.onload=()=>{a(p.result.split(",")[1])},p.onerror=r=>{l(r)}})}function m(c){return new Promise((a,l)=>{const p=new FileReader;p.readAsText(c),p.onload=()=>{a(p.result)},p.onerror=r=>{l(r)}})}n.d(g,{B:()=>m,s:()=>s})},5392:(v,g,n)=>{n.d(g,{g:()=>d,k:()=>u});var s=n(1699),m=n(257),c=n(3170),a=n(5998),l=n(6575);let p=0;const r=(0,m.Id)(class{}),h="mat-badge-content";let u=(()=>{var i;class _ extends r{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=(0,a.Ig)(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=(0,a.Ig)(t)}constructor(t,e,o,I,y){super(),this._ngZone=t,this._elementRef=e,this._ariaDescriber=o,this._renderer=I,this._animationMode=y,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=p++,this._isInitialized=!1,this._interactivityChecker=(0,s.f3M)(c.ic),this._document=(0,s.f3M)(l.K0)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const t=this._renderer.createElement("span"),e="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(h),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(e)})}):t.classList.add(e),t}_updateRenderedContent(t){const e=`${t??""}`.trim();this._isInitialized&&e&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=e),this._content=e}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){const e=this._elementRef.nativeElement.classList;e.remove(`mat-badge-${this._color}`),t&&e.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${h}`);for(const e of Array.from(t))e!==this._badgeElement&&e.remove()}}return(i=_).\u0275fac=function(t){return new(t||i)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(c.$s),s.Y36(s.Qsj),s.Y36(s.QbO,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,e){2&t&&s.ekj("mat-badge-overlap",e.overlap)("mat-badge-above",e.isAbove())("mat-badge-below",!e.isAbove())("mat-badge-before",!e.isAfter())("mat-badge-after",e.isAfter())("mat-badge-small","small"===e.size)("mat-badge-medium","medium"===e.size)("mat-badge-large","large"===e.size)("mat-badge-hidden",e.hidden||!e.content)("mat-badge-disabled",e.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[s.qOj]}),_})(),d=(()=>{var i;class _{}return(i=_).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[c.rt,m.BQ,m.BQ]}),_})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/16.17.00/dist/ng-edit/projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_eav-ui_src-5edb4d.7c02b773aa01b695.js.map
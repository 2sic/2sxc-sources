"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_shared_services_entity_service_ts-projects_eav-ui_src_app_shared_serv-2e8433"],{4979:(M,c,t)=>{t.d(c,{V:()=>l});var g=t(27092),u=t(44444);let l=(()=>{class n{constructor(){this.subscriptions=new g.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||n)};static#s=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})()},9234:(M,c,t)=>{t.d(c,{Gg:()=>D,Tr:()=>p,gb:()=>E});var g=t(51567),u=t(36647),l=t(86301),n=t(70271),f=t(12938),P=t(34435),e=t(24467),A=t(54839),i=t(99293),s=t(44444);const _={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},E="admin/entity/",D="admin/entity/list";let p=(()=>{class r extends e.B{constructor(){super(...arguments),this.log=(0,P.Tq)({EntityService:r},_),this.queryService=(0,f.d)(A.c)}getEntities$(a){return this.log.fnIf("getEntities"),a.pipe((0,g.p)(o=>null!=o),(0,u.n)(o=>this.getAvailableEntities(o.contentTypeName).pipe((0,l.t)(1))))}getAvailableEntities(a,o){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[a],itemIds:o,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,n.T)(v=>v.Default))}delete(a,o,h,v,O,d){return this.log.fnIf("delete",{appId:a,contentType:o,entityId:h,force:v,parentId:O,parent}),this.http.delete(this.apiUrl(E+"delete"),{params:{contentType:o,id:h.toString(),appId:a,force:v.toString(),...O&&{parentId:O.toString()},...O&&d&&{parentField:d}}})}static#t=this.\u0275fac=(()=>{let a;return function(h){return(a||(a=i.xGo(r)))(h||r)}})();static#s=this.\u0275prov=s.jDH({token:r,factory:r.\u0275fac})}return r})()},54839:(M,c,t)=>{t.d(c,{c:()=>P});var g=t(34435),u=t(68873),l=t(44444),n=t(47215);const f={all:!1,getAvailableEntities:!1,getEntities:!1};let P=(()=>{class e{constructor(i,s){this.http=i,this.context=s,this.log=(0,g.Tq)({QueryService:e},f)}getFromQuery(i,s,_,E){this.log.fnIf("getAvailableEntities",{queryUrl:i,params:s,fields:_,entitiesFilter:E});const D=!!s,a=(((s?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(D?`&${s}`:"")+"&$select="+(_??"")).substring(1);return this.http.post(`app/auto/query/${i}?${a}`,{Guids:E})}getEntities({contentTypes:i,itemIds:s,fields:_,log:E}){this.log.fnIf("getEntities",{log:E,contentTypes:i,itemIds:s,fields:_});const p=("&typeNames="+(i?.join(",")??"")+`&appId=${this.context.appId}&$select=`+(_??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${p}`,{Guids:s})}static#t=this.\u0275fac=function(s){return new(s||e)(l.KVO(n.Qq),l.KVO(u.o))};static#s=this.\u0275prov=l.jDH({token:e,factory:e.\u0275fac})}return e})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.02/dist/ng-edit/projects_eav-ui_src_app_shared_services_entity_service_ts-projects_eav-ui_src_app_shared_serv-2e8433.7f1a8df8fb19954f.js.map
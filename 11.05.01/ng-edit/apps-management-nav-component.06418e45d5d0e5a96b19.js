(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"25Tt":function(e,t,n){"use strict";n.r(t);var a=n("5/c3"),i=n("LR82"),o=n("z5yO"),s=n("1C3z"),r=n("BLjT"),c=n("Iv+g"),l=n("9HSk"),p=n("Qc/f"),u=n("r4gC"),b=n("JNB8"),d=n("D57K"),f=n("LiEJ"),h=n("W/Ou"),g=n("Jg5f"),m=n("QagP"),v=n("KLQV"),y=n("8AiQ");function C(e,t){1&e&&(s.Vb(0,"mat-icon",3),s.Oc(1,"visibility"),s.Ub())}function w(e,t){1&e&&(s.Vb(0,"mat-icon",4),s.Oc(1,"visibility_off"),s.Ub())}var U=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-apps-list-show"]],decls:3,vars:2,consts:[[1,"icon-container"],["matTooltip","Show this app to users",4,"ngIf"],["matTooltip","Don't show this app to users",4,"ngIf"],["matTooltip","Show this app to users"],["matTooltip","Don't show this app to users"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Mc(1,C,2,0,"mat-icon",1),s.Mc(2,w,2,0,"mat-icon",2),s.Ub()),2&e&&(s.Bb(1),s.nc("ngIf",t.value),s.Bb(1),s.nc("ngIf",!t.value))},directives:[y.m,u.a,p.a],styles:[""],changeDetection:0}),e}(),O=n("OeRG");function V(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",4),s.dc("click",(function(){return s.Dc(n),s.hc().deleteApp()})),s.Vb(1,"mat-icon"),s.Oc(2,"delete"),s.Ub(),s.Ub()}}function I(e,t){1&e&&(s.Vb(0,"div",5),s.Vb(1,"mat-icon"),s.Oc(2,"delete"),s.Ub(),s.Ub())}var x=function(){function e(){}return e.prototype.agInit=function(e){this.params=e,this.app=this.params.data},e.prototype.refresh=function(e){return!0},e.prototype.deleteApp=function(){this.params.onDelete(this.app)},e.prototype.flushCache=function(){this.params.onFlush(this.app)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-apps-list-actions"]],decls:6,vars:2,consts:[[1,"actions-component"],["matTooltip","Flush cache",1,"like-button","highlight",3,"click"],["class","like-button highlight","matRipple","","matTooltip","Delete",3,"click",4,"ngIf"],["class","like-button disabled",4,"ngIf"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"],[1,"like-button","disabled"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.dc("click",(function(){return t.flushCache()})),s.Vb(2,"mat-icon"),s.Oc(3,"cached"),s.Ub(),s.Ub(),s.Mc(4,V,3,0,"div",2),s.Mc(5,I,3,0,"div",3),s.Ub()),2&e&&(s.Bb(4),s.nc("ngIf",t.app.IsApp),s.Bb(1),s.nc("ngIf",!t.app.IsApp))},directives:[p.a,u.a,y.m,O.q],styles:[""],changeDetection:0}),e}(),T=/^[A-Za-z](?:[A-Za-z0-9\s\(\)-]+)*$/,M=n("CeOT"),D=n("JzAw"),L=n("QjRa"),k=n("2aC0"),S=n("2pW/"),F=n("G6Ml"),A=n("KYsL"),B=function(){function e(e,t,n,a){this.router=e,this.route=t,this.appsListService=n,this.snackBar=a,this.apps$=new f.a(null),this.modules=v.a,this.gridOptions=Object(d.a)(Object(d.a)({},L.a),{frameworkComponents:{booleanFilterComponent:M.a,idFieldComponent:D.a,appsListShowComponent:U,appsListActionsComponent:x},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Show",field:"IsHidden",width:70,headerClass:"dense",cellClass:"icons no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"appsListShowComponent",valueGetter:this.showValueGetter},{headerName:"Name",field:"Name",flex:2,minWidth:250,cellClass:"apps-list-primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.openApp.bind(this),cellRenderer:function(e){var t=e.data;return null!=t.Thumbnail?'\n            <div class="container">\n              <img class="image logo" src="'+t.Thumbnail+'?w=40&h=40&mode=crop"></img>\n              <div class="text">'+e.value+"</div>\n            </div>":'\n            <div class="container">\n              <div class="image logo">\n                <span class="material-icons-outlined">star_border</span>\n              </div>\n              <div class="text">'+e.value+"</div>\n            </div>"}},{width:80,cellClass:"secondary-action no-padding",cellRenderer:"appsListActionsComponent",cellRendererParams:{onDelete:this.deleteApp.bind(this),onFlush:this.flushApp.bind(this)}},{headerName:"Folder",field:"Folder",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Version",field:"Version",width:78,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Items",field:"Items",width:70,headerClass:"dense",cellClass:"number-cell no-outline",sortable:!0,filter:"agNumberColumnFilter"}]}),this.subscription=new i.a}return e.prototype.ngOnInit=function(){this.fetchAppsList(),this.refreshOnChildClosed()},e.prototype.ngOnDestroy=function(){this.apps$.complete(),this.subscription.unsubscribe()},e.prototype.browseCatalog=function(){window.open("http://2sxc.org/apps")},e.prototype.createApp=function(){var e=this,t=prompt("Enter App Name (will also be used for folder)");if(null!==t){for(t=t.trim().replace(/\s\s+/g," ");!t.match(T);){if(null===(t=prompt("Enter App Name (will also be used for folder)\nStandard letters, numbers, spaces, hyphens and round brackets are allowed. Must start with a letter.",t)))return;t=t.trim().replace(/\s\s+/g," ")}this.snackBar.open("Saving..."),this.appsListService.create(t).subscribe((function(){e.snackBar.open("Saved",null,{duration:2e3}),e.fetchAppsList()}))}},e.prototype.importApp=function(){this.router.navigate(["import"],{relativeTo:this.route.firstChild})},e.prototype.fetchAppsList=function(){var e=this;this.appsListService.getAll().subscribe((function(t){e.apps$.next(t)}))},e.prototype.idValueGetter=function(e){var t=e.data;return"ID: "+t.Id+"\nGUID: "+t.Guid},e.prototype.showValueGetter=function(e){return!e.data.IsHidden},e.prototype.deleteApp=function(e){var t=this,n=prompt("This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '"+e.Name+"' ("+e.Id+")?");null!==n&&(n===e.Name||"yes!"===n?(this.snackBar.open("Deleting..."),this.appsListService.delete(e.Id).subscribe((function(){t.snackBar.open("Deleted",null,{duration:2e3}),t.fetchAppsList()}))):alert("Input did not match - will not delete"))},e.prototype.flushApp=function(e){var t=this;confirm("Flush the App Cache for "+e.Name+" ("+e.Id+")?")&&(this.snackBar.open("Flushing cache..."),this.appsListService.flushCache(e.Id).subscribe((function(){t.snackBar.open("Cache flushed",null,{duration:2e3})})))},e.prototype.openApp=function(e){this.router.navigate([e.data.Id.toString()],{relativeTo:this.route.parent})},e.prototype.refreshOnChildClosed=function(){var e=this;this.subscription.add(this.router.events.pipe(Object(o.a)((function(e){return e instanceof a.b})),Object(h.a)(!!this.route.snapshot.firstChild.firstChild),Object(g.a)((function(){return!!e.route.snapshot.firstChild.firstChild})),Object(m.a)(),Object(o.a)((function(e){var t=Object(d.f)(e,2);return t[0]&&!t[1]}))).subscribe((function(){e.fetchAppsList()})))},e.\u0275fac=function(t){return new(t||e)(s.Pb(a.c),s.Pb(a.a),s.Pb(k.a),s.Pb(S.b))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-apps-list"]],decls:18,vars:5,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],[1,"grid-fab"],["spin","true"],["mat-fab",""],[1,"spin180"],["mat-mini-fab","","matTooltip","Find more apps",3,"click"],["mat-mini-fab","","matTooltip","Import app",3,"click"],["mat-mini-fab","","matTooltip","Create app",3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Qb(1,"ag-grid-angular",1),s.ic(2,"async"),s.Vb(3,"eco-fab-speed-dial",2),s.Vb(4,"eco-fab-speed-dial-trigger",3),s.Vb(5,"button",4),s.Vb(6,"mat-icon",5),s.Oc(7,"add"),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"eco-fab-speed-dial-actions"),s.Vb(9,"button",6),s.dc("click",(function(){return t.browseCatalog()})),s.Vb(10,"mat-icon"),s.Oc(11,"search"),s.Ub(),s.Ub(),s.Vb(12,"button",7),s.dc("click",(function(){return t.importApp()})),s.Vb(13,"mat-icon"),s.Oc(14,"cloud_upload"),s.Ub(),s.Ub(),s.Vb(15,"button",8),s.dc("click",(function(){return t.createApp()})),s.Vb(16,"mat-icon"),s.Oc(17,"add"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Bb(1),s.nc("rowData",s.jc(2,3,t.apps$))("modules",t.modules)("gridOptions",t.gridOptions))},directives:[F.a,A.b,A.d,l.a,u.a,A.a,p.a],pipes:[y.b],styles:[""],changeDetection:0}),e}(),$=n("F7GT"),N=function(){function e(){}return e.prototype.agInit=function(e){this.params=e,this.value=this.params.value},e.prototype.refresh=function(e){return!0},e.prototype.toggleLanguage=function(){this.params.onEnabledToggle(this.params.data)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-enable-languages-status"]],decls:2,vars:1,consts:[[1,"cell-box"],[3,"checked","change"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"mat-slide-toggle",1),s.dc("change",(function(){return t.toggleLanguage()})),s.Ub(),s.Ub()),2&e&&(s.Bb(1),s.nc("checked",t.value))},directives:[$.a],styles:[".cell-box[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"],changeDetection:0}),e}(),P=n("xNdR"),j=function(){function e(e){this.languagesService=e,this.languages$=new f.a(null),this.modules=v.a,this.gridOptions=Object(d.a)(Object(d.a)({},L.a),{frameworkComponents:{idFieldComponent:D.a,booleanFilterComponent:M.a,enableLanguagesStatusComponent:N},columnDefs:[{headerName:"ID",field:"Code",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Name",field:"Culture",flex:2,minWidth:250,cellClass:"primary-action highlight no-outline",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.handleNameClicked.bind(this)},{headerName:"Status",field:"IsEnabled",width:72,headerClass:"dense",cellClass:"no-padding no-outline",cellRenderer:"enableLanguagesStatusComponent",sortable:!0,filter:"booleanFilterComponent",cellRendererParams:{onEnabledToggle:this.toggleLanguage.bind(this)}}]})}return e.prototype.ngOnInit=function(){this.fetchLanguages()},e.prototype.ngOnDestroy=function(){this.languages$.complete()},e.prototype.idValueGetter=function(e){return"ID: "+e.data.Code},e.prototype.handleNameClicked=function(e){this.toggleLanguage(e.data)},e.prototype.toggleLanguage=function(e){var t=this;this.languagesService.save(e.Code,!e.IsEnabled).subscribe((function(){t.fetchLanguages()}))},e.prototype.fetchLanguages=function(){var e=this;this.languagesService.getAll().subscribe((function(t){e.languages$.next(t)}))},e.\u0275fac=function(t){return new(t||e)(s.Pb(P.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-enable-languages"]],decls:3,vars:5,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Qb(1,"ag-grid-angular",1),s.ic(2,"async"),s.Ub()),2&e&&(s.Bb(1),s.nc("rowData",s.jc(2,3,t.languages$))("modules",t.modules)("gridOptions",t.gridOptions))},directives:[F.a],pipes:[y.b],styles:[""],changeDetection:0}),e}(),R=n("iUUs"),G=n("G2Mx");function J(e,t){1&e&&(s.Vb(0,"mat-icon",3),s.Oc(1,"toggle_on"),s.Ub())}function E(e,t){1&e&&(s.Vb(0,"mat-icon",4),s.Oc(1,"toggle_off"),s.Ub())}var Q=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-features-list-enabled"]],decls:3,vars:2,consts:[[1,"icon-container"],["matTooltip","Feature is enabled",4,"ngIf"],["matTooltip","Feature is disabled",4,"ngIf"],["matTooltip","Feature is enabled"],["matTooltip","Feature is disabled"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Mc(1,J,2,0,"mat-icon",1),s.Mc(2,E,2,0,"mat-icon",2),s.Ub()),2&e&&(s.Bb(1),s.nc("ngIf",t.value),s.Bb(1),s.nc("ngIf",!t.value))},directives:[y.m,u.a,p.a],styles:[""],changeDetection:0}),e}();function _(e,t){1&e&&(s.Vb(0,"mat-icon"),s.Oc(1,"visibility"),s.Ub())}function z(e,t){1&e&&(s.Vb(0,"mat-icon"),s.Oc(1,"remove"),s.Ub())}var W=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-features-list-ui"]],decls:3,vars:2,consts:[[1,"icon-container"],[4,"ngIf"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Mc(1,_,2,0,"mat-icon",1),s.Mc(2,z,2,0,"mat-icon",1),s.Ub()),2&e&&(s.Bb(1),s.nc("ngIf",t.value),s.Bb(1),s.nc("ngIf",!t.value))},directives:[y.m,u.a],styles:[""],changeDetection:0}),e}();function H(e,t){1&e&&(s.Vb(0,"mat-icon"),s.Oc(1,"person"),s.Ub())}function Z(e,t){1&e&&(s.Vb(0,"mat-icon"),s.Oc(1,"remove"),s.Ub())}var K=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-features-list-public"]],decls:3,vars:2,consts:[[1,"icon-container"],[4,"ngIf"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Mc(1,H,2,0,"mat-icon",1),s.Mc(2,Z,2,0,"mat-icon",1),s.Ub()),2&e&&(s.Bb(1),s.nc("ngIf",t.value),s.Bb(1),s.nc("ngIf",!t.value))},directives:[y.m,u.a],styles:[""],changeDetection:0}),e}(),q=function(){function e(){}return e.prototype.agInit=function(e){},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Jb({type:e,selectors:[["app-features-list-security"]],decls:3,vars:0,consts:[[1,"icon-container"],["matTooltip","Security Status still work-in progress",1,"feature-security-icon"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"mat-icon",1),s.Oc(2,"help"),s.Ub(),s.Ub())},directives:[u.a,p.a],styles:[".feature-security-icon[_ngcontent-%COMP%]{color:green}"],changeDetection:0}),e}(),Y=n("Ata6"),X=n("ycnj"),ee=n("nYrE");function te(e,t){1&e&&s.Qb(0,"mat-spinner",6)}function ne(e,t){if(1&e&&s.Qb(0,"iframe",7),2&e){var n=s.hc().ngIf;s.nc("src",n.managementUrl,s.Fc)}}var ae=function(e){return{"iframe-wrapper":e}},ie=function(e){return{"force-hide":e}};function oe(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"div",1),s.Qb(2,"ag-grid-angular",2),s.Mc(3,te,1,0,"mat-spinner",3),s.Mc(4,ne,1,1,"iframe",4),s.Vb(5,"button",5),s.dc("click",(function(){return s.Dc(n),s.hc().toggleManagement()})),s.Vb(6,"mat-icon"),s.Oc(7,"tune"),s.Ub(),s.Ub(),s.Ub(),s.Sb()}if(2&e){var a=t.ngIf,i=s.hc();s.Bb(1),s.nc("ngClass",s.rc(7,ae,a.showManagement)),s.Bb(1),s.nc("ngClass",s.rc(9,ie,a.showManagement))("rowData",a.features)("modules",i.modules)("gridOptions",i.gridOptions),s.Bb(1),s.nc("ngIf",a.showSpinner),s.Bb(1),s.nc("ngIf",a.showManagement)}}var se=function(e,t,n,a){return{features:e,showManagement:t,showSpinner:n,managementUrl:a}},re=function(){function e(e,t){this.sanitizer=e,this.featuresConfigService=t,this.features$=new f.a(null),this.showManagement$=new f.a(!1),this.showSpinner$=new f.a(!1),this.managementUrl$=new f.a(this.sanitizer.bypassSecurityTrustResourceUrl("")),this.modules=v.a,this.gridOptions=Object(d.a)(Object(d.a)({},L.a),{frameworkComponents:{booleanFilterComponent:M.a,idFieldComponent:D.a,featuresListEnabledComponent:Q,featuresListUiComponent:W,featuresListPublicComponent:K,featuresListSecurityComponent:q},columnDefs:[{headerName:"ID",field:"id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Enabled",field:"enabled",width:80,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"featuresListEnabledComponent"},{headerName:"UI",field:"ui",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"featuresListUiComponent"},{headerName:"Public",field:"public",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"featuresListPublicComponent"},{headerName:"Name",field:"id",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.openFeature,cellRenderer:function(e){return"details (name lookup still WIP)"}},{headerName:"Expires",field:"expires",flex:1,minWidth:200,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.valueGetterDateTime},{headerName:"Security",width:70,cellClass:"no-outline",cellRenderer:"featuresListSecurityComponent"}]})}return e.prototype.ngOnInit=function(){this.fetchFeatures()},e.prototype.ngOnDestroy=function(){var e;this.features$.complete(),this.showManagement$.complete(),this.showSpinner$.complete(),this.managementUrl$.complete(),null===(e=this.managementSubscription)||void 0===e||e.unsubscribe()},e.prototype.toggleManagement=function(){var e;this.showManagement$.next(!this.showManagement$.value),null===(e=this.managementSubscription)||void 0===e||e.unsubscribe(),this.showManagement$.value&&this.openManagement()},e.prototype.idValueGetter=function(e){return"GUID: "+e.data.id},e.prototype.openFeature=function(e){window.open("https://2sxc.org/r/f/"+e.value,"_blank")},e.prototype.valueGetterDateTime=function(e){var t=e.data[e.colDef.field];return t?t.substring(0,19).replace("T"," "):null},e.prototype.fetchFeatures=function(){var e=this;this.featuresConfigService.getAll().subscribe((function(t){e.features$.next(t)}))},e.prototype.openManagement=function(){var e=this;this.showSpinner$.next(!0),this.managementUrl$.next(this.sanitizer.bypassSecurityTrustResourceUrl("")),this.featuresConfigService.getManageFeaturesUrl().subscribe((function(t){if(e.showSpinner$.next(!1),t.includes("error: user needs host permissions"))throw e.showManagement$.next(!1),new Error("User needs host permissions!");e.managementUrl$.next(e.sanitizer.bypassSecurityTrustResourceUrl(t)),e.managementSubscription=Object(R.a)(window,"message").pipe(Object(G.a)(1)).subscribe((function(t){if(void 0!==t.data&&!1!==t.origin.endsWith("2sxc.org"))try{var n=JSON.stringify(t.data);e.featuresConfigService.saveFeatures(n).subscribe((function(t){e.showManagement$.next(!1),e.fetchFeatures()}))}catch(a){}}))}))},e.\u0275fac=function(t){return new(t||e)(s.Pb(Y.b),s.Pb(X.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-manage-features"]],decls:5,vars:14,consts:[[4,"ngIf"],[1,"grid-wrapper","mat-tab-grid-wrapper",3,"ngClass"],[1,"ag-theme-material",3,"ngClass","rowData","modules","gridOptions"],["class","spinner","mode","indeterminate","diameter","20","color","accent",4,"ngIf"],["class","iframe",3,"src",4,"ngIf"],["mat-fab","","mat-elevation-z24","","matTooltip","Manage features",1,"grid-fab",3,"click"],["mode","indeterminate","diameter","20","color","accent",1,"spinner"],[1,"iframe",3,"src"]],template:function(e,t){1&e&&(s.Mc(0,oe,8,11,"ng-container",0),s.ic(1,"async"),s.ic(2,"async"),s.ic(3,"async"),s.ic(4,"async")),2&e&&s.nc("ngIf",s.uc(9,se,s.jc(1,1,t.features$),s.jc(2,3,t.showManagement$),s.jc(3,5,t.showSpinner$),s.jc(4,7,t.managementUrl$)))},directives:[y.m,y.k,F.a,l.a,p.a,u.a,ee.b],pipes:[y.b],styles:[".iframe-wrapper[_ngcontent-%COMP%]{padding-top:20px}.spinner[_ngcontent-%COMP%]{position:absolute;top:40px;left:20px}.iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}"],changeDetection:0}),e}(),ce=n("I3IT"),le=n("Bata"),pe=n("hOvr"),ue=n("TDrE"),be=n("ZSGP"),de=n("Uk43");function fe(e,t){1&e&&(s.Vb(0,"app-field-hint",13),s.Oc(1,"Only positive whole numbers"),s.Ub()),2&e&&s.nc("isError",!0)}function he(e,t){if(1&e&&(s.Tb(0),s.Mc(1,fe,2,1,"app-field-hint",12),s.Sb()),2&e){s.hc();var n=s.Bc(27);s.Bb(1),s.nc("ngIf",n.errors.pattern)}}var ge=function(){function e(e,t){this.sxcInsightsService=e,this.snackBar=t,this.positiveWholeNumber=/^[^-]\d*$/,this.loading$=new f.a(!1)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.loading$.complete()},e.prototype.openInsights=function(){window.open($2sxc.http.apiUrl("sys/insights/help"))},e.prototype.activatePageLog=function(){var e=this;this.loading$.next(!0),this.snackBar.open("Activating..."),this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe((function(t){e.pageLogDuration=void 0,e.loading$.next(!1),e.snackBar.open(t,null,{duration:4e3})}))},e.\u0275fac=function(t){return new(t||e)(s.Pb(ce.a),s.Pb(S.b))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-sxc-insights"]],decls:33,vars:6,consts:[[1,"cards-box"],[1,"mat-elevation-z2"],[1,"actions-box"],["mat-icon-button","","matTooltip","Open 2sxc Insights",3,"click"],["href","https://2sxc.org/en/blog/post/using-2sxc-insights","target","_blank"],[1,"activate-log-form"],["appearance","standard","color","accent"],["matInput","","type","number","min","0","name","Duration",3,"pattern","ngModel","ngModelChange"],["duration","ngModel"],[4,"ngIf"],[1,"actions"],["mat-raised-button","","color","accent",3,"disabled","click"],[3,"isError",4,"ngIf"],[3,"isError"]],template:function(e,t){if(1&e&&(s.Vb(0,"div",0),s.Vb(1,"mat-card",1),s.Vb(2,"mat-card-header"),s.Vb(3,"mat-card-title"),s.Oc(4,"2sxc Insights for Super Users"),s.Ub(),s.Vb(5,"div",2),s.Vb(6,"button",3),s.dc("click",(function(){return t.openInsights()})),s.Vb(7,"mat-icon"),s.Oc(8,"speed"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(9,"mat-card-content"),s.Oc(10," This is to access a special section to see what is really in the server memory. It's intended for extensive debugging - see also "),s.Vb(11,"a",4),s.Oc(12,"this blog post"),s.Ub(),s.Oc(13,". "),s.Ub(),s.Ub(),s.Vb(14,"mat-card",1),s.Vb(15,"mat-card-header"),s.Vb(16,"mat-card-title"),s.Oc(17,"Activate Page Level Logging"),s.Ub(),s.Qb(18,"div",2),s.Ub(),s.Vb(19,"mat-card-content"),s.Vb(20,"div"),s.Oc(21," This will place insights-logs in the HTML of the user output for users with ?debug=true in the url. It can only be activated for short periods of time. "),s.Ub(),s.Vb(22,"div",5),s.Vb(23,"mat-form-field",6),s.Vb(24,"mat-label"),s.Oc(25,"Duration in Minutes"),s.Ub(),s.Vb(26,"input",7,8),s.dc("ngModelChange",(function(e){return t.pageLogDuration=e})),s.Ub(),s.Ub(),s.Mc(28,he,2,1,"ng-container",9),s.Vb(29,"div",10),s.Vb(30,"button",11),s.dc("click",(function(){return t.activatePageLog()})),s.ic(31,"async"),s.Oc(32," Activate "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.Bc(27);s.Bb(26),s.nc("pattern",t.positiveWholeNumber)("ngModel",t.pageLogDuration),s.Bb(2),s.nc("ngIf",n.touched&&n.errors),s.Bb(2),s.nc("disabled",s.jc(31,4,t.loading$)||!t.pageLogDuration||t.pageLogDuration<0)}},directives:[le.a,le.c,le.e,l.a,p.a,u.a,le.b,pe.c,pe.g,ue.b,be.p,be.b,be.q,be.l,be.o,y.m,de.a],pipes:[y.b],styles:[".activate-log-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{height:auto}.activate-log-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:flex-end}"],changeDetection:0}),e}();function me(e,t){1&e&&(s.Vb(0,"div",10),s.Vb(1,"mat-icon"),s.Oc(2,"star_border"),s.Ub(),s.Vb(3,"span"),s.Oc(4,"Apps"),s.Ub(),s.Ub())}function ve(e,t){1&e&&s.Qb(0,"app-apps-list")}function ye(e,t){1&e&&(s.Vb(0,"div",11),s.Vb(1,"mat-icon"),s.Oc(2,"translate"),s.Ub(),s.Vb(3,"span"),s.Oc(4,"Languages"),s.Ub(),s.Ub())}function Ce(e,t){1&e&&s.Qb(0,"app-enable-languages")}function we(e,t){1&e&&(s.Vb(0,"div",12),s.Vb(1,"mat-icon"),s.Oc(2,"tune"),s.Ub(),s.Vb(3,"span"),s.Oc(4,"Features"),s.Ub(),s.Ub())}function Ue(e,t){1&e&&s.Qb(0,"app-manage-features")}function Oe(e,t){1&e&&(s.Vb(0,"div",13),s.Vb(1,"mat-icon"),s.Oc(2,"speed"),s.Ub(),s.Vb(3,"span"),s.Oc(4,"2sxc Insights"),s.Ub(),s.Ub())}function Ve(e,t){1&e&&s.Qb(0,"app-sxc-insights")}n.d(t,"AppsManagementNavComponent",(function(){return Ie}));var Ie=function(){function e(e,t,n,a){this.dialogRef=e,this.router=t,this.route=n,this.context=a,this.tabs=["list","languages","features","sxc-insights"],this.subscription=new i.a,this.zoneId=this.context.zoneId}return e.prototype.ngOnInit=function(){var e=this;this.tabIndex=this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path),this.subscription.add(this.router.events.pipe(Object(o.a)((function(e){return e instanceof a.b}))).subscribe((function(t){e.tabIndex=e.tabs.indexOf(e.route.snapshot.firstChild.url[0].path)})))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.changeTab=function(e){this.router.navigate([this.tabs[e.index]],{relativeTo:this.route})},e.\u0275fac=function(t){return new(t||e)(s.Pb(r.g),s.Pb(a.c),s.Pb(a.a),s.Pb(c.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-apps-management-nav"]],decls:22,vars:2,consts:[[1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","matTooltip","Close dialog",3,"click"],["dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange"],["class","mat-tab-label-box","matTooltip","Apps",4,"matTabLabel"],[4,"matTabContent"],["class","mat-tab-label-box","matTooltip","Languages",4,"matTabLabel"],["class","mat-tab-label-box","matTooltip","Features",4,"matTabLabel"],["class","mat-tab-label-box","matTooltip","2sxc Insights",4,"matTabLabel"],["matTooltip","Apps",1,"mat-tab-label-box"],["matTooltip","Languages",1,"mat-tab-label-box"],["matTooltip","Features",1,"mat-tab-label-box"],["matTooltip","2sxc Insights",1,"mat-tab-label-box"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"div"),s.Oc(4),s.Ub(),s.Vb(5,"button",3),s.dc("click",(function(){return t.closeDialog()})),s.Vb(6,"mat-icon"),s.Oc(7,"close"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(8,"router-outlet"),s.Vb(9,"mat-tab-group",4),s.dc("selectedTabChange",(function(e){return t.changeTab(e)})),s.Vb(10,"mat-tab"),s.Mc(11,me,5,0,"div",5),s.Mc(12,ve,1,0,"app-apps-list",6),s.Ub(),s.Vb(13,"mat-tab"),s.Mc(14,ye,5,0,"div",7),s.Mc(15,Ce,1,0,"app-enable-languages",6),s.Ub(),s.Vb(16,"mat-tab"),s.Mc(17,we,5,0,"div",8),s.Mc(18,Ue,1,0,"app-manage-features",6),s.Ub(),s.Vb(19,"mat-tab"),s.Mc(20,Oe,5,0,"div",9),s.Mc(21,Ve,1,0,"app-sxc-insights",6),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Bb(4),s.Qc("Manage Apps in Zone ",t.zoneId,""),s.Bb(5),s.nc("selectedIndex",t.tabIndex))},directives:[r.h,l.a,p.a,u.a,a.e,b.c,b.a,b.d,b.b,B,j,re,ge],styles:[""]}),e}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.05.01/ng-edit/apps-management-nav-component.06418e45d5d0e5a96b19.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc82","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc80","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc81"],{6232:(f,c,a)=>{a.d(c,{Y:()=>v});var r=a(624),g=a(6028),h=a(316),p=a(2376),e=a(4896),d=a(600),l=a(5204);let v=(()=>{class s extends h.o{constructor(t,o,n,i,_,D){super(new p.W("DialogEntryComponent",!1)),this.dialog=t,this.viewContainerRef=o,this.router=n,this.route=i,this.context=_,this.changeDetectorRef=D;const C=this.router.getCurrentNavigation();this.dialogData=C?.extras?.state||{}}ngOnInit(){const t=this.route.snapshot.data.dialog;if(null==t)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,r.y)("Open dialog:",t.name,"Context id:",this.context.id,"Context:",this.context),t.getComponent().then(o=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(t,o)}):this.openDialogComponent(t,o)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(t,o){this.log.add(`Open dialog(initContext: ${t.initContext})`,t.name,"Context id:",this.context.log.svcId,"Context:",this.context),t.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(o,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${t.panelSize}`,t.showScrollbar?"show-scrollbar":"no-scrollbar",...t.panelClass?t.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(n=>{(0,r.y)("Dialog was closed:",t.name,"Data:",n);const i=n;if(null==i?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:n}:{relativeTo:this.route.parent.parent,state:n});else this.router.navigate([i.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(o){return new(o||s)(e.GI1(d.qW),e.GI1(e.y8U),e.GI1(l.E5),e.GI1(l.gV),e.GI1(g.e),e.GI1(e.kD9))};static#e=this.\u0275cmp=e.In1({type:s,selectors:[["app-dialog-entry"]],features:[e.eg9],decls:0,vars:0,template:function(o,n){}})}return s})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.06.01/dist/ng-edit/projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc82.37ebc6aa5be81024.js.map
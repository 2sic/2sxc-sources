{"version":3,"mappings":"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","names":["i0","ctx_r8","ctx_r13","oxw","ctx_r15","ctx_r16","ctx_r17","ctx_r18","ManageContentListComponent","BaseComponent","constructor","router","route","dialogRef","contentGroupService","snackBar","translate","appDialogConfigService","super","this","BehaviorSubject","combineLatest","items$","header$","pipe","map","items","header","id","guid","snapshot","paramMap","get","part","index","parseInt","ngOnInit","fetchList","fetchHeader","fetchDialogSettings","subscription","add","refreshOnChildClosedShallow","subscribe","ngOnDestroy","complete","getShared$","tap","dialogSettings","setDefaultLang","Context","Language","Primary","split","use","Current","closeDialog","close","saveList","open","contentGroup","value","duration","saveAndCloseList","editHeader","formUrl","convertFormToUrl","Add","Id","Index","Parent","Field","navigate","relativeTo","editItem","EntityId","addFromExisting","queryParams","addBelow","remove","item","confirm","instant","removeItem","drop","event","moveItemInArray","previousIndex","currentIndex","next","reordered","trackByFn","keepOrder","getList","oldIds","length","some","includes","sortOrder","sort","a","b","aIndex","indexOf","bIndex","getHeader","selectors","ctx","BaseSubsinkComponent","refreshOnChildClosedDeep","events","filter","NavigationEnd","startWith","firstChild","pairwise","hadChild","hasChild","features"],"sources":["./projects/eav-ui/src/app/manage-content-list/manage-content-list.component.html","./projects/eav-ui/src/app/manage-content-list/manage-content-list.component.ts","./projects/eav-ui/src/app/shared/components/base-component/base.component.ts"],"sourcesContent":["<div mat-dialog-title>\r\n  <div class=\"dialog-title-box\">{{'ManageContentList.Title' | translate}}</div>\r\n</div>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<div class=\"dialog-component-content fancy-scrollbar-light\" cdkScrollable *ngIf=\"(templateVars$ | async) as data\">\r\n  <ng-container *ngIf=\"data.header\">\r\n    <p class=\"dialog-description\">\r\n      {{'ManageContentList.Description' | translate}}\r\n    </p>\r\n\r\n    <p class=\"dialog-description\">\r\n      <ng-container *ngIf=\"data.header.Type\">\r\n        <span>{{ data.header.Title }}</span>\r\n        <button mat-icon-button tippy=\"Edit header\" (click)=\"editHeader()\">\r\n          <mat-icon>edit</mat-icon>\r\n        </button>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"!data.header.Type\">{{'ManageContentList.NoHeader' | translate}}</ng-container>\r\n    </p>\r\n  </ng-container>\r\n\r\n  <p class=\"dialog-description sort-title\" *ngIf=\"data.items && data.items?.length < 25 \">\r\n    {{'ManageContentList.SortItems' | translate}}\r\n  </p>\r\n  <p class=\"dialog-description sort-title\" *ngIf=\"data.items?.length >= 25 \">\r\n    {{'ManageContentList.SortLotsOfItems' | translate}}\r\n  </p>\r\n\r\n  <div class=\"dnd-list\" cdkDropList (cdkDropListDropped)=\"drop($event)\">\r\n    <div *ngFor=\"let item of data.items; trackBy: trackByFn\" class=\"dnd-item\" cdkDrag>\r\n      <div class=\"dnd-item__title\">\r\n        <mat-icon class=\"dnd-item__title-icon\" tippy=\"Drag to reorder the list\">drag_handle</mat-icon>\r\n        <span class=\"dnd-item__title-text\" tippy=\"{{ item.Title }} ({{ item.Id }})\">\r\n          {{ item.Title }} ({{ item.Id }})\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <!-- most buttons should only exist if it has a real ID, except for remove - which should also remove null-entries -->\r\n        <button mat-icon-button [tippy]=\"'Fields.Entity.AddExistingItem' | translate\" appMousedownStopPropagation [disabled]=\"item.Id === 0\" (click)=\"addFromExisting(item.Index)\">\r\n          <mat-icon>playlist_add</mat-icon>\r\n        </button>\r\n        <button mat-icon-button [tippy]=\"'Fields.Entity.AddItemBelow' | translate\" appMousedownStopPropagation [disabled]=\"item.Id === 0 || reordered\" (click)=\"addBelow(item.Index)\">\r\n          <mat-icon>add</mat-icon>\r\n        </button>\r\n        <button mat-icon-button [tippy]=\"'Fields.Entity.Remove' | translate\" appMousedownStopPropagation [disabled]=\"reordered\" (click)=\"remove(item)\">\r\n          <mat-icon>remove</mat-icon>\r\n        </button>\r\n        <button mat-icon-button [tippy]=\"'Fields.Entity.Edit' | translate\" appMousedownStopPropagation [disabled]=\"item.Id === 0\" (click)=\"editItem(item.Id)\">\r\n          <mat-icon>edit</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"dialog-component-actions\">\r\n  <button mat-raised-button (click)=\"closeDialog()\">{{'General.Buttons.Cancel' | translate}}</button>\r\n  <button mat-raised-button color=\"accent\" (click)=\"saveList()\">{{'General.Buttons.Save' | translate}}</button>\r\n  <button mat-raised-button color=\"accent\" (click)=\"saveAndCloseList()\" [tippy]=\"'Form.Buttons.SaveAndClose' | translate\">\r\n    <mat-icon>done</mat-icon>\r\n  </button>\r\n</div>","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, map, tap } from 'rxjs';\r\nimport { convertFormToUrl } from '../shared/helpers/url-prep.helper';\r\nimport { EditForm } from '../shared/models/edit-form.model';\r\nimport { ContentGroup } from './models/content-group.model';\r\nimport { GroupHeader } from './models/group-header.model';\r\nimport { ContentGroupService } from './services/content-group.service';\r\nimport { AppDialogConfigService } from '../app-administration/services';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BaseComponent } from '../shared/components/base-component/base.component';\r\n\r\n@Component({\r\n  selector: 'app-manage-content-list',\r\n  templateUrl: './manage-content-list.component.html',\r\n  styleUrls: ['./manage-content-list.component.scss'],\r\n})\r\nexport class ManageContentListComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  private items$ = new BehaviorSubject<GroupHeader[]>(null);\r\n  private header$ = new BehaviorSubject<GroupHeader>(null);\r\n  templateVars$ = combineLatest([this.items$, this.header$]).pipe(\r\n    map(([items, header]) => ({ items, header })),\r\n  );\r\n\r\n  private contentGroup: ContentGroup = {\r\n    id: null,\r\n    guid: this.route.snapshot.paramMap.get('guid'),\r\n    part: this.route.snapshot.paramMap.get('part'),\r\n    index: parseInt(this.route.snapshot.paramMap.get('index'), 10),\r\n  };\r\n  reordered = false;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private dialogRef: MatDialogRef<ManageContentListComponent>,\r\n    private contentGroupService: ContentGroupService,\r\n\r\n    private snackBar: MatSnackBar,\r\n    private translate: TranslateService,\r\n    private appDialogConfigService: AppDialogConfigService,\r\n  ) {\r\n    super(router, route);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.fetchList();\r\n    this.fetchHeader();\r\n    this.fetchDialogSettings();\r\n    this.subscription.add(this.refreshOnChildClosedShallow().subscribe(() => { \r\n      this.fetchList(true);\r\n      this.fetchHeader();\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.items$.complete();\r\n    this.header$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  private fetchDialogSettings() {\r\n    this.appDialogConfigService.getShared$() /*.getDialogSettings() */ .pipe(\r\n      tap(\r\n        dialogSettings => {\r\n          this.translate.setDefaultLang(dialogSettings.Context.Language.Primary.split('-')[0]);\r\n          this.translate.use(dialogSettings.Context.Language.Current.split('-')[0]);\r\n        })\r\n    ).subscribe();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  saveList() {\r\n    this.snackBar.open('Saving...');\r\n    this.contentGroupService.saveList(this.contentGroup, this.items$.value).subscribe(() => {\r\n      this.snackBar.open('Saved', null, { duration: 2000 });\r\n      this.fetchList();\r\n      this.fetchHeader();\r\n    });\r\n  }\r\n\r\n  saveAndCloseList() {\r\n    this.snackBar.open('Saving...');\r\n    this.contentGroupService.saveList(this.contentGroup, this.items$.value).subscribe(() => {\r\n      this.snackBar.open('Saved', null, { duration: 2000 });\r\n      this.closeDialog();\r\n    });\r\n  }\r\n\r\n  editHeader() {\r\n    const form: EditForm = {\r\n      items: [\r\n        {\r\n          Add: this.header$.value.Id === 0,\r\n          Index: 0,\r\n          Parent: this.contentGroup.guid,\r\n          Field: 'listcontent',\r\n        },\r\n        {\r\n          Add: this.header$.value.Id === 0,\r\n          Index: 0,\r\n          Parent: this.contentGroup.guid,\r\n          Field: 'listpresentation',\r\n        },\r\n      ],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route });\r\n  }\r\n\r\n  editItem(id: number) {\r\n    const form: EditForm = {\r\n      items: [{ EntityId: id }],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route });\r\n  }\r\n\r\n  addFromExisting(index: number) {\r\n    const queryParams = { add: true };\r\n    this.router.navigate([`${this.contentGroup.guid}/${this.contentGroup.part}/${index + 1}/replace`], { relativeTo: this.route, queryParams });\r\n  }\r\n\r\n  addBelow(index: number) {\r\n    const form: EditForm = {\r\n      items: [{ Add: true, Index: index + 1, Parent: this.contentGroup.guid, Field: this.contentGroup.part }],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route });\r\n  }\r\n\r\n  remove(item: GroupHeader) {\r\n    if (!confirm(this.translate.instant('ManageContentList.ConfirmRemove'))) { return; }\r\n    this.snackBar.open('Removing...');\r\n    this.contentGroupService.removeItem(this.contentGroup, item.Index).subscribe(() => { \r\n      this.snackBar.open('Removed', null, { duration: 2000 });\r\n      this.fetchList();\r\n    });\r\n  }\r\n\r\n  drop(event: CdkDragDrop<GroupHeader[]>) {\r\n    const items = [...this.items$.value];\r\n    moveItemInArray(items, event.previousIndex, event.currentIndex);\r\n    this.items$.next(items);\r\n    this.reordered = true;\r\n  }\r\n\r\n  trackByFn(index: number, item: GroupHeader) {\r\n    // we use both Index and Id because all demo items have Id=0\r\n    return `${item.Index}+${item.Id}`;\r\n  }\r\n\r\n  private fetchList(keepOrder = false) {\r\n    this.contentGroupService.getList(this.contentGroup).subscribe(items => {\r\n      if (this.reordered) {\r\n        const oldIds = this.items$.value.map(item => item.Id);\r\n        const idsChanged = this.items$.value.length !== items.length || items.some(item => !oldIds.includes(item.Id));\r\n        // for usecase where list is fetched on child closed and wasn't changed in the meantime keeps the order before child was opened\r\n        if (!idsChanged && keepOrder) {\r\n          const sortOrder = this.items$.value.map(item => item.Index);\r\n          items.sort((a, b) => {\r\n            const aIndex = sortOrder.indexOf(a.Index);\r\n            const bIndex = sortOrder.indexOf(b.Index);\r\n            if (aIndex === -1 || bIndex === -1) { return 0; }\r\n            return aIndex - bIndex;\r\n          });\r\n        } else if (keepOrder) {\r\n          this.snackBar.open('List was changed from somewhere else. Order of items is reset', null, { duration: 5000 });\r\n        }\r\n      }\r\n      this.items$.next(items);\r\n      this.reordered = false;\r\n    });\r\n  }\r\n\r\n  private fetchHeader() {\r\n    this.contentGroupService.getHeader(this.contentGroup).subscribe(header => {\r\n      this.header$.next(header);\r\n    });\r\n  }\r\n}\r\n","import { Directive, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { filter, map, pairwise, startWith, Subscription } from 'rxjs';\r\nimport { BaseSubsinkComponent } from '../base-subsink-component/base-subsink.component';\r\n\r\n@Directive()\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class BaseComponent extends BaseSubsinkComponent implements OnDestroy {\r\n  \r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  protected refreshOnChildClosedDeep() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      startWith(!!this.route.snapshot.firstChild.firstChild),\r\n      map(() => !!this.route.snapshot.firstChild.firstChild),\r\n      pairwise(),\r\n      filter(([hadChild, hasChild]) => hadChild && !hasChild),\r\n    )\r\n  }\r\n\r\n  protected refreshOnChildClosedShallow() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      startWith(!!this.route.snapshot.firstChild),\r\n      map(() => !!this.route.snapshot.firstChild),\r\n      pairwise(),\r\n      filter(([hadChild, hasChild]) => hadChild && !hasChild),\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"projects_eav-ui_src_app_manage-content-list_manage-content-list_component_ts.81684c72cf156cda.js"}
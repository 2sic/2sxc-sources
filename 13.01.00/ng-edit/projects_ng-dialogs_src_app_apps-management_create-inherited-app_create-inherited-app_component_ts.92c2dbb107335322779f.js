(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_ng-dialogs_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts"],{3488:function(t,e,n){"use strict";n.r(e),n.d(e,{CreateInheritedAppComponent:function(){return x}});var i=n(1041),o=n(8512),r=n(1785),a=n(2935),s=n(5100),c=n(3589),p=n(1116),l=n(1282),h=n(3070),u=n(3841),d=n(4369),f=n(7064),g=n(7110);function m(t,e){if(1&t&&(r.TgZ(0,"mat-option",12),r._uU(1),r.qZA()),2&t){var n=e.$implicit;r.Q6J("value",n.Id),r.xp6(1),r.hij(" ",n.Name," ")}}function b(t,e){1&t&&(r.TgZ(0,"app-field-hint",13),r._uU(1," Required "),r.qZA()),2&t&&r.Q6J("isError",!0)}function v(t,e){if(1&t){var n=r.EpF();r.ynx(0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3,"Create inherited App"),r.qZA(),r.qZA(),r._UZ(4,"router-outlet"),r.TgZ(5,"p",3),r._uU(6," Create an App which inherits everything (data, views, queries) from a global App. Only Apps which were specifically marked for this will be listed here, and these apps must already have been loaded into Cache. If you don't see the App you expect, make sure that has happened. "),r.qZA(),r.TgZ(7,"form",4),r.TgZ(8,"mat-form-field",5),r.TgZ(9,"mat-label"),r._uU(10,"Inherit App"),r.qZA(),r.TgZ(11,"mat-select",6),r.YNc(12,m,2,2,"mat-option",7),r.qZA(),r.qZA(),r.YNc(13,b,2,1,"app-field-hint",8),r.qZA(),r.TgZ(14,"div",9),r.TgZ(15,"button",10),r.NdJ("click",function(){return r.CHM(n),r.oxw().closeDialog()}),r._uU(16," Cancel "),r.qZA(),r.TgZ(17,"button",11),r.NdJ("click",function(){return r.CHM(n),r.oxw().create()}),r._uU(18," Create "),r.qZA(),r.qZA(),r.BQk()}if(2&t){var i=e.ngIf,o=r.oxw();r.xp6(7),r.Q6J("formGroup",o.form),r.xp6(4),r.Q6J("placeholder",void 0===i.inheritableApps?"Loading...":null===i.inheritableApps||0===i.inheritableApps.length?"No inheritable apps found":""),r.xp6(1),r.Q6J("ngForOf",i.inheritableApps),r.xp6(1),r.Q6J("ngIf",o.form.controls.inheritId.touched&&(null==o.form.controls.inheritId.errors?null:o.form.controls.inheritId.errors.required)),r.xp6(2),r.Q6J("disabled",i.loading),r.xp6(2),r.Q6J("disabled",i.loading||!o.form.valid)}}var A=function(t,e){return{loading:t,inheritableApps:e}},x=function(){function t(t,e,n){this.dialogRef=t,this.appsListService=e,this.snackBar=n,this.hostClass="dialog-component",this.form=this.buildForm(),this.loading$=new o.X(!1),this.inheritableApps$=new o.X(void 0)}return t.prototype.ngOnInit=function(){this.fetchInheritedApps()},t.prototype.ngOnDestroy=function(){this.loading$.complete(),this.inheritableApps$.complete()},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.create=function(){var t=this;this.form.disable(),this.loading$.next(!0);var e=this.form.controls.inheritId.value,n=this.inheritableApps$.value.find(function(t){return t.Id===e}).Name;this.snackBar.open("Creating inherited app..."),this.appsListService.create(n,e).subscribe({error:function(){t.form.enable(),t.loading$.next(!1),t.snackBar.open("Failed to create inherited app. Please check console for more information",void 0,{duration:3e3})},next:function(){t.form.enable(),t.snackBar.open("Created inherited app",void 0,{duration:2e3}),t.closeDialog()}})},t.prototype.fetchInheritedApps=function(){var t=this;this.appsListService.getInheritable().subscribe({error:function(){t.inheritableApps$.next(null)},next:function(e){t.inheritableApps$.next(e)}})},t.prototype.buildForm=function(){return new i.cw({inheritId:new i.NI(null,[i.kI.required])})},t.\u0275fac=function(e){return new(e||t)(r.Y36(a.so),r.Y36(s.A),r.Y36(c.ux))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-create-inherited-app"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Ikx("className",e.hostClass)},decls:3,vars:8,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],[3,"formGroup"],["appearance","standard","color","accent"],["formControlName","inheritId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"isError",4,"ngIf"],[1,"dialog-component-actions"],["type","button","mat-raised-button","",3,"disabled","click"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[3,"value"],[3,"isError"]],template:function(t,e){1&t&&(r.YNc(0,v,19,6,"ng-container",0),r.ALo(1,"async"),r.ALo(2,"async")),2&t&&r.Q6J("ngIf",r.WLB(5,A,r.lcZ(1,1,e.loading$),r.lcZ(2,3,e.inheritableApps$)))},directives:[p.O5,a.uh,l.lC,i._Y,i.JL,i.sg,h.KE,h.hX,u.gD,i.JJ,i.u,p.sg,d.lW,f.ey,g.Y],pipes:[p.Ov],styles:[""]}),t}()},7110:function(t,e,n){"use strict";n.d(e,{Y:function(){return d}});var i=n(1785),o=n(1116),r=n(3070);function a(t,e){1&t&&i.GkF(0)}function s(t,e){if(1&t&&(i.TgZ(0,"mat-hint"),i.YNc(1,a,1,0,"ng-container",3),i.qZA()),2&t){i.oxw();var n=i.MAs(4);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function c(t,e){1&t&&i.GkF(0)}function p(t,e){if(1&t&&(i.TgZ(0,"mat-error"),i.YNc(1,c,1,0,"ng-container",3),i.qZA()),2&t){i.oxw();var n=i.MAs(4);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function l(t,e){1&t&&i.Hsn(0)}var h=function(t){return{"hint-box__short":t}},u=["*"],d=function(){function t(){this.isError=!1,this.isShort=!0}return t.prototype.toggleIsShort=function(){this.isShort=!this.isShort},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:u,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"div",0),i.NdJ("click",function(){return e.toggleIsShort()}),i.YNc(1,s,2,1,"mat-hint",1),i.YNc(2,p,2,1,"mat-error",1),i.qZA(),i.YNc(3,l,1,0,"ng-template",null,2,i.W1O)),2&t&&(i.Q6J("ngClass",i.VKq(4,h,e.isShort))("ngSwitch",e.isError),i.xp6(1),i.Q6J("ngSwitchCase",!1),i.xp6(1),i.Q6J("ngSwitchCase",!0))},directives:[o.mk,o.RF,o.n9,r.bx,o.tP,r.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.00.01/ng-edit/projects_ng-dialogs_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts.92c2dbb107335322779f.js.map
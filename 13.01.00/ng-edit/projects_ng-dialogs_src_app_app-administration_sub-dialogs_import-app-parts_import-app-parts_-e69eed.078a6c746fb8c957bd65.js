(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_ng-dialogs_src_app_app-administration_sub-dialogs_import-app-parts_import-app-parts_-e69eed"],{2999:function(t,e,i){"use strict";i.r(e),i.d(e,{ImportAppPartsComponent:function(){return $}});var o=i(4762),n=i(2935),s=i(8512),r=i(1305),p=i(9996),a=i(1785),l=i(3475),c=i(3589),m=i(1116),u=i(5921),g=i(4369),f=i(7512),d=i(7672);function h(t,e){1&t&&a._UZ(0,"mat-spinner",13)}function x(t,e){1&t&&(a.TgZ(0,"div",18),a._uU(1," The import has been done. See the messages below for more information. "),a.qZA())}function Z(t,e){1&t&&(a.TgZ(0,"div",19),a._uU(1," The import failed. See the messages below for more information. "),a.qZA())}var I=function(t,e,i){return{"sxc-message-warning":t,"sxc-message-success":e,"sxc-message-error":i}};function v(t,e){if(1&t&&(a.TgZ(0,"div",20),a._uU(1),a.qZA()),2&t){var i=e.$implicit;a.Q6J("ngClass",a.kEZ(2,I,0===i.MessageType,1===i.MessageType,2===i.MessageType)),a.xp6(1),a.hij(" ",i.Text," ")}}function A(t,e){if(1&t&&(a.TgZ(0,"div",14),a.YNc(1,x,2,0,"div",15),a.YNc(2,Z,2,0,"div",16),a.YNc(3,v,2,6,"div",17),a.qZA()),2&t){var i=a.oxw().ngIf;a.xp6(1),a.Q6J("ngIf",i.importResult.Success),a.xp6(1),a.Q6J("ngIf",!i.importResult.Success),a.xp6(1),a.Q6J("ngForOf",i.importResult.Messages)}}function b(t,e){if(1&t){var i=a.EpF();a.ynx(0),a.TgZ(1,"button",21),a.NdJ("click",function(){return a.CHM(i),a.oxw(2).closeDialog()}),a._uU(2,"Cancel"),a.qZA(),a.TgZ(3,"button",22),a.NdJ("click",function(){return a.CHM(i),a.oxw(2).importAppParts()}),a._uU(4," Import "),a.qZA(),a.BQk()}if(2&t){var o=a.oxw().ngIf;a.xp6(3),a.Q6J("disabled",!o.importFile||o.isImporting||!!o.importResult)}}function T(t,e){if(1&t){var i=a.EpF();a.ynx(0),a.TgZ(1,"button",23),a.NdJ("click",function(){return a.CHM(i),a.oxw(2).closeDialog()}),a._uU(2,"Close"),a.qZA(),a.BQk()}}function _(t,e){if(1&t){var i=a.EpF();a.TgZ(0,"div",1),a.NdJ("filesDropped",function(t){return a.CHM(i),a.oxw().filesDropped(t)}),a.TgZ(1,"div",2),a.TgZ(2,"div",3),a._uU(3,"Import Content and Templates into this App"),a.qZA(),a.qZA(),a.YNc(4,h,1,0,"mat-spinner",4),a.TgZ(5,"p",5),a._uU(6," Import content and templates from a content export (zip) or partial export (xml) to this app. The entire content of the selected file will be imported. If you want to import an entire app, go to the "),a.TgZ(7,"em"),a._uU(8,"Apps Management"),a.qZA(),a._uU(9,". For further help visit "),a.TgZ(10,"a",6),a._uU(11,"2sxc Help"),a.qZA(),a._uU(12,". "),a.qZA(),a.TgZ(13,"div"),a.TgZ(14,"button",7),a.NdJ("click",function(){return a.CHM(i),a.MAs(18).click()}),a.TgZ(15,"span"),a._uU(16),a.qZA(),a.qZA(),a.TgZ(17,"input",8,9),a.NdJ("change",function(t){return a.CHM(i),a.oxw().fileChange(t)}),a.qZA(),a.qZA(),a.YNc(19,A,4,3,"div",10),a.TgZ(20,"div",11),a.YNc(21,b,5,1,"ng-container",12),a.YNc(22,T,3,0,"ng-container",12),a.qZA(),a.qZA()}if(2&t){var o=e.ngIf;a.Q6J("allowedFileTypes","xml"),a.xp6(4),a.Q6J("ngIf",o.isImporting),a.xp6(10),a.Q6J("disabled",o.isImporting),a.xp6(2),a.Oqu(o.importFile?o.importFile.name:"Select or drop file"),a.xp6(3),a.Q6J("ngIf",o.importResult),a.xp6(2),a.Q6J("ngIf",!(null!=o.importResult&&o.importResult.Success)),a.xp6(1),a.Q6J("ngIf",null==o.importResult?null:o.importResult.Success)}}var $=function(){function t(t,e,i,n){this.dialogData=t,this.dialogRef=e,this.importAppPartsService=i,this.snackBar=n,this.hostClass="dialog-component",this.isImporting$=new s.X(!1),this.importFile$=new s.X(null),this.importResult$=new s.X(null),this.templateVars$=(0,r.aj)([this.isImporting$,this.importFile$,this.importResult$]).pipe((0,p.U)(function(t){var e=(0,o.CR)(t,3);return{isImporting:e[0],importFile:e[1],importResult:e[2]}}))}return t.prototype.ngOnInit=function(){null!=this.dialogData.files&&(this.importFile$.next(this.dialogData.files[0]),this.importAppParts())},t.prototype.ngOnDestroy=function(){this.isImporting$.complete(),this.importFile$.complete(),this.importResult$.complete()},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.filesDropped=function(t){this.importFile$.next(t[0]),this.importResult$.next(null),this.importAppParts()},t.prototype.fileChange=function(t){this.importFile$.next(t.target.files[0]),this.importResult$.next(null)},t.prototype.importAppParts=function(){var t=this;this.isImporting$.next(!0),this.importAppPartsService.importAppParts(this.importFile$.value).subscribe({next:function(e){t.isImporting$.next(!1),t.importResult$.next(e)},error:function(e){t.isImporting$.next(!1),t.importResult$.next(null),t.snackBar.open("Import failed. Please check console for more information",null,{duration:3e3})}})},t.\u0275fac=function(e){return new(e||t)(a.Y36(n.WI),a.Y36(n.so),a.Y36(l.z),a.Y36(c.ux))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-import-app-parts"]],hostVars:1,hostBindings:function(t,e){2&t&&a.Ikx("className",e.hostClass)},decls:2,vars:3,consts:[["appDragAndDrop","",3,"allowedFileTypes","filesDropped",4,"ngIf"],["appDragAndDrop","",3,"allowedFileTypes","filesDropped"],["mat-dialog-title",""],[1,"dialog-title-box"],["mode","indeterminate","diameter","20","color","accent",4,"ngIf"],[1,"dialog-description"],["href","https://2sxc.org/en/help?tag=import","target","_blank"],["mat-raised-button","","tippy","Open file browser",3,"disabled","click"],["type","file",1,"hide",3,"change"],["fileInput",""],["class","dialog-component-content fancy-scrollbar-light import-result-box",4,"ngIf"],[1,"dialog-component-actions"],[4,"ngIf"],["mode","indeterminate","diameter","20","color","accent"],[1,"dialog-component-content","fancy-scrollbar-light","import-result-box"],["class","sxc-message sxc-message-info",4,"ngIf"],["class","sxc-message sxc-message-error",4,"ngIf"],["class","sxc-message",3,"ngClass",4,"ngFor","ngForOf"],[1,"sxc-message","sxc-message-info"],[1,"sxc-message","sxc-message-error"],[1,"sxc-message",3,"ngClass"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(a.YNc(0,_,23,7,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,e.templateVars$))},directives:[m.O5,u.z,n.uh,g.lW,f.$,d.$g,m.sg,m.mk],pipes:[m.Ov],styles:[".import-result-box[_ngcontent-%COMP%]{margin-top:16px}"]}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.00.01/ng-edit/projects_ng-dialogs_src_app_app-administration_sub-dialogs_import-app-parts_import-app-parts_-e69eed.078a6c746fb8c957bd65.js.map
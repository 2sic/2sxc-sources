{"version":3,"file":"projects_eav-ui_src_app_app-administration_import-export-menu_data-bundles_data-bundles-detai-5dca44.6e7e878cdbed2c86.js","mappings":"iYAoBO,IAAMA,EAAiC,MAAxC,MAAOA,EAKXC,OAAOC,GACLC,KAAKD,OAASA,EACdC,KAAKC,KAAOF,EAAOG,IACrB,CAEAC,QAAQJ,GACN,OAAO,CACT,CAGAK,GAAGC,GACDL,KAAKD,OAAOK,GAAGC,EAAML,KAAKC,KAC5B,iDAjBWJ,EAAiC,oCAAjCA,EAAiCS,UAAA,8BAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,mIAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,ICnB5CE,MADF,UACEA,CAD6B,WACgEA,MAAA,0BAASD,EAAAR,GAAG,SAAS,GAChHS,MAAA,cAAUA,MAAA,uBAEdA,4BDUQC,KAAeC,KACfC,KAAaC,KACbC,KACAC,KAAcC,cAAA,YAGTvB,CAAiC,gEERxCgB,MAAA,WACEA,MAAA,uBACFA,8BAD6CA,QAA0BA,MAA1B,UAAAQ,EAAAC,cAA0BT,CAAD,cAAAQ,EAAAE,oCAIpEV,MAAA,8BAAAA,MAAA,IAAAA,MAAA,kCCWD,IAAMW,EAA0B,MAAjC,MAAOA,EAEXC,GAIAC,YACUC,EACAC,GADA5B,KAAA2B,SACA3B,KAAA4B,QANV5B,MAAAyB,KAA2BI,KAAUC,KACrC9B,KAAAsB,eAAcS,OAAsB,MACpC/B,KAAAgC,kBAAiBD,OAAe,MAOhC/B,KAAAuB,YAAcvB,MAAKiC,GAFf,CAIJC,WACElC,KAAK4B,MAAM7B,OACRoC,QACCC,KAAIrC,IACFC,KAAKgC,eAAeK,IAAItC,EAAOuC,KAAI,IACpC,EACDC,KAAUxC,GAAUC,MAAKyB,EAAyBe,WAAWzC,EAAO0C,QAAK,EACzEL,KAAIM,IACF1C,KAAKsB,YAAYe,IAAIK,EAAkB,IAG1CC,WACL,CAEAC,cACE5C,KAAK2B,OAAOkB,OACd,CAEAC,GAAY7C,GACV8C,QAAQC,IAAI/C,GACZgD,MAAM,6BACR,CAEAhB,KAgCE,MA/BiC,IAC5BiB,IACHC,WAAY,CACV,IACKC,IAAkBC,eACrBC,WAAY,QACZC,MAAO,QACPC,KAAM,GAER,IACKJ,IAAkBC,eACrBC,WAAY,WACZC,MAAO,WACPC,KAAM,GAER,IACKJ,IAAkBK,oBACrBC,aAAc7D,EACd8D,mBACiD,CAC7CvD,GAAIA,CAACC,EAAMJ,KAEF,WADCI,GACSL,MAAK8C,EAAY7C,EAClC,KASd,iDArEWuB,GAA0BX,MAAAE,MAAAF,MAAAI,MAAA,oCAA1BO,EAA0BlB,UAAA,8BAAAC,MAAA,GAAAC,KAAA,EAAAC,OAAA,2TAAAC,SAAA,SAAAC,EAAAC,MAAA,EAAAD,IDzBjCE,MAFJ,UAEIA,CAFyD,UAEzDA,CAD6B,WACSA,MAAA,GAA0CA,QAChFA,MAAA,cAA6CA,MAAA,0BAASD,EAAAgC,aAAa,GACjE/B,MAAA,cAAUA,MAAA,WAEdA,YACAA,MAAA,WAOIA,MALF,EAAA+C,EAAA,YAKE/C,CAL+B,EAAAgD,EAAA,KAUrChD,sBAjB0CA,MAAA,GAAAA,MAAA,GAAAD,EAAAoB,iBAAA,wBAOtCnB,MAAA,GAAAA,OAAA,OAAAiD,EAAAlD,EAAAU,eAAA,KAAAwC,EAAAC,QAAA,uBCUEC,KAAeC,KACfjD,KAAakD,KACbC,IAAaC,KACbC,IAAeC,MAAAC,OAAA,+FAKV/C,CAA0B","names":["DataBundlesDetailActionsComponent","agInit","params","this","item","data","refresh","do","verb","selectors","decls","vars","consts","template","rf","ctx","i0","MatRippleModule","i1","MatIconModule","i2","MatMenuModule","TippyDirective","encapsulation","ctx_r0","dataBundles","gridOptions","DataBundlesDetailComponent","#dataBundlesQueryService","constructor","dialog","route","transient","DataBundlesQueryService","signal","dataBundleName","#buildGridOptions","ngOnInit","pipe","tap","set","name","switchMap","fetchQuery","guid","d","subscribe","closeDialog","close","#deleteItem","console","log","alert","defaultGridOptions","columnDefs","ColumnDefinitions","TextWideMin100","headerName","field","flex","ActionsPinnedRight3","cellRenderer","cellRendererParams","DataBundlesDetailComponent_Conditional_8_Template","DataBundlesDetailComponent_Conditional_9_Template","tmp_1_0","length","MatButtonModule","i3","i4","SxcGridModule","i5","TranslateModule","i6","styles"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.ts","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.html","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.html","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.ts"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { DataBundlesDetailActionsParams, DataBundlesType } from './data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n    selector: 'app-data-bundle-actions',\r\n    templateUrl: './data-bundles-detail-actions.component.html',\r\n    imports: [\r\n        MatRippleModule,\r\n        MatIconModule,\r\n        MatMenuModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class DataBundlesDetailActionsComponent implements ICellRendererAngularComp {\r\n  item: ContentItem;\r\n\r\n  private params: ICellRendererParams & DataBundlesDetailActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & DataBundlesDetailActionsParams): void {\r\n    this.params = params;\r\n    this.item = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n\r\n  do(verb: DataBundlesType) {\r\n    this.params.do(verb, this.item);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Remove (not yet implemented)\" (click)=\"do('delete')\">\r\n    <mat-icon>do_not_disturb_on</mat-icon>\r\n  </div>\r\n</div>\r\n","\r\n  <div appToggleDebug class=\"eav-dialog nav-component-wrapper\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">{{ dataBundleName() }} Data Bundles Detail</div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"eav-dialog-content nav-component-wrapper\">\r\n\r\n      @if (dataBundles()?.length > 0) {\r\n        <!-- Show Grid if dataBundles Data.Length > 0 -->\r\n      <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n        <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"dataBundles()\" [gridOptions]=\"gridOptions\"> </ag-grid-angular>\r\n      </div>\r\n      } @else {\r\n        <!-- No Data Bundles found -->\r\n        {{'Message.NoDataBundles' | translate}}\r\n      }\r\n    </div>\r\n  </div>\r\n\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { transient } from 'projects/core';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { ColumnDefinitions } from 'projects/eav-ui/src/app/shared/ag-grid/column-definitions';\r\nimport { defaultGridOptions } from 'projects/eav-ui/src/app/shared/constants/default-grid-options.constants';\r\nimport { SxcGridModule } from 'projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { switchMap, tap } from 'rxjs';\r\nimport { DataBundlesQueryService } from '../data-bundles-query.service';\r\nimport { DataBundlesDetailActionsComponent } from './data-bundles-detail-actions/data-bundles-detail-actions.component';\r\nimport { DataBundlesDetailActionsParams } from './data-bundles-detail-actions/data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n    selector: 'app-data-bundles-detail',\r\n    imports: [\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        SxcGridModule,\r\n        TranslateModule,\r\n    ],\r\n    templateUrl: './data-bundles-detail.component.html',\r\n    styleUrl: './data-bundles-detail.component.scss'\r\n})\r\nexport class DataBundlesDetailComponent {\r\n\r\n  #dataBundlesQueryService = transient(DataBundlesQueryService);\r\n  dataBundles = signal<ContentItem[]>(null);\r\n  dataBundleName = signal<string>(null);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<DataBundlesDetailComponent>,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  gridOptions = this.#buildGridOptions();\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .pipe(\r\n        tap(params => {\r\n          this.dataBundleName.set(params.name);\r\n        }),\r\n        switchMap(params => this.#dataBundlesQueryService.fetchQuery(params.guid)),\r\n        tap(d => {\r\n          this.dataBundles.set(d as ContentItem[])\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  #deleteItem(item: ContentItem) {\r\n    console.log(item);\r\n    alert('remove not yet implemented');\r\n  }\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Title',\r\n          field: 'Title',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Typename',\r\n          field: 'TypeName',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: DataBundlesDetailActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataBundlesDetailActionsParams = {\r\n              do: (verb, item) => {\r\n                switch (verb) {\r\n                  case 'delete': this.#deleteItem(item); break;\r\n                }\r\n              }\r\n            } satisfies DataBundlesDetailActionsParams;\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n\r\n}\r\n"],"x_google_ignoreList":[]}
{"version":3,"sources":["./projects/ng-dialogs/src/app/item-history/item-history.module.ts","./projects/ng-dialogs/src/app/item-history/services/versions.service.ts","./projects/ng-dialogs/src/app/item-history/item-history.component.html","./projects/ng-dialogs/src/app/item-history/item-history-dialog.config.ts","./node_modules/@angular/material/__ivy_ngcc__/fesm2015/paginator.js","./projects/ng-dialogs/src/app/item-history/item-history.component.ts","./projects/ng-dialogs/src/app/item-history/item-history-routing.module.ts","./projects/ng-dialogs/src/app/item-history/item-history.component.scss","./projects/ng-dialogs/src/app/item-history/item-history.helpers.ts"],"names":["MatPaginator_div_2_mat_form_field_3_mat_option_2_Template","rf","ctx","ɵngcc0","pageSizeOption_r6","$implicit","MatPaginator_div_2_mat_form_field_3_Template","_r8","MatPaginator_div_2_mat_form_field_3_Template_mat_select_selectionChange_1_listener","$event","ctx_r7","_changePageSize","value","ctx_r3","_formFieldAppearance","color","pageSize","disabled","_intl","itemsPerPageLabel","_displayedPageSizeOptions","MatPaginator_div_2_div_4_Template","ctx_r4","MatPaginator_div_2_Template","ctx_r0","length","MatPaginator_button_6_Template","_r10","MatPaginator_button_6_Template_button_click_0_listener","ctx_r9","firstPage","ctx_r1","firstPageLabel","_previousButtonsDisabled","MatPaginator_button_13_Template","_r12","MatPaginator_button_13_Template_button_click_0_listener","ctx_r11","lastPage","ctx_r2","lastPageLabel","_nextButtonsDisabled","MatPaginatorIntl","changes","Subject","nextPageLabel","previousPageLabel","getRangeLabel","page","Math","max","startIndex","endIndex","min","ɵfac","MatPaginatorIntl_Factory","t","ɵprov","ɵɵdefineInjectable","factory","token","providedIn","ngDevMode","type","Injectable","args","MAT_PAGINATOR_INTL_PROVIDER_FACTORY","parentIntl","MAT_PAGINATOR_INTL_PROVIDER","provide","deps","Optional","SkipSelf","useFactory","DEFAULT_PAGE_SIZE","PageEvent","MAT_PAGINATOR_DEFAULT_OPTIONS","InjectionToken","MatPaginatorMixinBase","_MatPaginatorMixinBase","mixinDisabled","mixinInitialized","_MatPaginatorBase","_changeDetectorRef","defaults","_pageIndex","_length","_pageSizeOptions","_hidePageSize","_showFirstLastButtons","EventEmitter","_intlChanges","subscribe","markForCheck","pageSizeOptions","hidePageSize","showFirstLastButtons","_pageSize","coerceNumberProperty","_updateDisplayedPageSizeOptions","map","p","coerceBooleanProperty","_initialized","_markInitialized","unsubscribe","hasNextPage","previousPageIndex","pageIndex","_emitPageEvent","hasPreviousPage","getNumberOfPages","maxPageIndex","ceil","floor","slice","indexOf","push","sort","a","b","emit","_MatPaginatorBase_Factory","undefined","ɵdir","inputs","outputs","features","ctorParameters","ChangeDetectorRef","propDecorators","Input","Output","Directive","MatPaginator","intl","changeDetectorRef","formFieldAppearance","MatPaginator_Factory","ɵcmp","selectors","hostAttrs","exportAs","decls","vars","consts","template","MatPaginator_Template","MatPaginator_Template_button_click_7_listener","previousPage","MatPaginator_Template_button_click_10_listener","nextPage","directives","ɵngcc1","ɵngcc2","ɵngcc3","ɵngcc4","ɵngcc5","ɵngcc6","styles","encapsulation","changeDetection","decorators","Inject","Component","selector","host","ChangeDetectionStrategy","OnPush","ViewEncapsulation","None","MatPaginatorModule","MatPaginatorModule_Factory","ɵmod","ɵinj","providers","imports","CommonModule","MatButtonModule","MatSelectModule","MatTooltipModule","MatCommonModule","ngJitMode","declarations","exports","NgModule"],"mappings":"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","file":"default~item-history-item-history-module~ng-dialogs-src-app-item-history-item-history-module.js","sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { Context } from '../shared/services/context';\r\nimport { SharedComponentsModule } from '../shared/shared-components.module';\r\nimport { ItemHistoryRoutingModule } from './item-history-routing.module';\r\nimport { ItemHistoryComponent } from './item-history.component';\r\nimport { VersionsService } from './services/versions.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ItemHistoryComponent,\r\n  ],\r\n  entryComponents: [\r\n    ItemHistoryComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ItemHistoryRoutingModule,\r\n    SharedComponentsModule,\r\n    MatDialogModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatTooltipModule,\r\n    MatExpansionModule,\r\n    MatSnackBarModule,\r\n    MatPaginatorModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatDividerModule,\r\n  ],\r\n  providers: [\r\n    Context,\r\n    VersionsService,\r\n  ]\r\n})\r\nexport class ItemHistoryModule { }\r\n","import { Context as DnnContext } from '@2sic.com/dnn-sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Version } from '../models/version.model';\r\n\r\nconst webApiVersions = 'cms/history/';\r\n\r\n@Injectable()\r\nexport class VersionsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  fetchVersions(entityId: number) {\r\n    return this.http.post<Version[]>(\r\n      this.dnnContext.$2sxc.http.apiUrl(webApiVersions + 'get'),\r\n      { entityId },\r\n      {\r\n        params: { appId: this.context.appId.toString() },\r\n      },\r\n    );\r\n  }\r\n\r\n  restore(entityId: number, changeId: number) {\r\n    return this.http.post<boolean>(\r\n      this.dnnContext.$2sxc.http.apiUrl(webApiVersions + 'restore'),\r\n      { entityId },\r\n      {\r\n        params: { appId: this.context.appId.toString(), changeId: changeId.toString() },\r\n      },\r\n    );\r\n  }\r\n}\r\n","export default \"<ng-container *ngIf=\\\"templateVars$ | async as data\\\">\\r\\n  <div mat-dialog-title>\\r\\n    <div class=\\\"dialog-title-box\\\">\\r\\n      <div>Item History</div>\\r\\n      <button mat-icon-button matTooltip=\\\"Close dialog\\\" (click)=\\\"closeDialog()\\\">\\r\\n        <mat-icon>close</mat-icon>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <p class=\\\"dialog-description\\\">Check version history for this item and restore the version you need.</p>\\r\\n\\r\\n  <div *ngIf=\\\"data.historyItems?.length > 0\\\" class=\\\"compare-box\\\">\\r\\n    <mat-form-field appearance=\\\"standard\\\" color=\\\"accent\\\" class=\\\"compare-box__dropdown\\\">\\r\\n      <mat-select [value]=\\\"data.compareWith\\\" name=\\\"Scope\\\" (selectionChange)=\\\"compareChange($event.value)\\\">\\r\\n        <mat-option value=\\\"previous\\\">Compare with: Previous</mat-option>\\r\\n        <mat-option value=\\\"live\\\">Compare with: Live</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"dialog-component-content fancy-scrollbar-light\\\">\\r\\n    <div *ngIf=\\\"data.historyItems === null\\\">Loading...</div>\\r\\n    <div *ngIf=\\\"data.historyItems?.length === 0\\\">No previous versions of this item found</div>\\r\\n\\r\\n    <mat-accordion multi *ngIf=\\\"data.historyItems?.length > 0\\\" class=\\\"history-tables\\\">\\r\\n      <mat-expansion-panel *ngFor=\\\"let historyItem of data.historyItems\\\"\\r\\n        [expanded]=\\\"expandedPanels[historyItem.versionNumber]\\\"\\r\\n        (expandedChange)=\\\"panelExpandedChange($event, historyItem.versionNumber)\\\">\\r\\n        <mat-expansion-panel-header>\\r\\n          <mat-panel-title>Version {{ historyItem.versionNumber }}</mat-panel-title>\\r\\n          <mat-panel-description>{{ historyItem.timeStamp | date:'yyyy-MM-dd hh:mm' }}</mat-panel-description>\\r\\n        </mat-expansion-panel-header>\\r\\n\\r\\n        <ng-container *ngIf=\\\"expandedPanels[historyItem.versionNumber]\\\">\\r\\n          <div class=\\\"table-row\\\" *ngFor=\\\"let attribute of historyItem.attributes\\\">\\r\\n            <div class=\\\"table-row__main row-main\\\"\\r\\n              (click)=\\\"attributeExpandedToggle(historyItem.versionNumber, attribute.name)\\\">\\r\\n              <div class=\\\"row-main__label history-{{ attribute.change }}\\\">\\r\\n                {{ attribute.name }}\\r\\n              </div>\\r\\n              <div class=\\\"row-main__value history-{{ attribute.change }}\\\">\\r\\n                <ng-container *ngIf=\\\"!expandedAttributes[historyItem.versionNumber + attribute.name]\\\">\\r\\n                  {{ attribute.values[0]?.value }}\\r\\n                </ng-container>\\r\\n              </div>\\r\\n              <div class=\\\"row-main__type\\\">\\r\\n                <i>[{{ attribute.dataType }}]</i>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"table-row__details\\\" *ngIf=\\\"expandedAttributes[historyItem.versionNumber + attribute.name]\\\">\\r\\n              <div class=\\\"detail-row\\\" *ngFor=\\\"let value of attribute.values\\\">\\r\\n                <div class=\\\"detail-row__label history-{{ value.change }}\\\">{{ value.langKey }}:</div>\\r\\n                <div class=\\\"detail-row__value\\\">\\r\\n                  <div class=\\\"history-{{ value.change }}\\\" *ngIf=\\\"value.change !== 'changed'\\\">\\r\\n                    {{ value.change === 'deleted' ? value.oldValue : value.value }}\\r\\n                  </div>\\r\\n                  <ng-container *ngIf=\\\"value.change === 'changed'\\\">\\r\\n                    <div class=\\\"history-new\\\">{{ value.value }}</div>\\r\\n                    <div class=\\\"history-deleted history-deleted__value\\\">{{ value.oldValue }}</div>\\r\\n                  </ng-container>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row-actions\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" *ngIf=\\\"!historyItem.isLastVersion\\\"\\r\\n              (click)=\\\"restore(historyItem.changeSetId)\\\">\\r\\n              Restore\\r\\n            </button>\\r\\n          </div>\\r\\n        </ng-container>\\r\\n      </mat-expansion-panel>\\r\\n    </mat-accordion>\\r\\n  </div>\\r\\n\\r\\n  <mat-paginator color=\\\"accent\\\" showFirstLastButtons=\\\"true\\\" [length]=\\\"data.length\\\" [pageSize]=\\\"data.pageSize\\\"\\r\\n    [pageSizeOptions]=\\\"pageSizeOptions\\\" (page)=\\\"pageChange($event)\\\" *ngIf=\\\"data.historyItems?.length > 0\\\">\\r\\n  </mat-paginator>\\r\\n</ng-container>\\r\\n\";","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const itemHistoryDialog: DialogConfig = {\r\n  name: 'ITEM_HISTORY_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ItemHistoryComponent } = await import('./item-history.component');\r\n    return ItemHistoryComponent;\r\n  }\r\n};\r\n","import { CommonModule } from '@angular/common';\nimport { ɵɵdefineInjectable, Injectable, Optional, SkipSelf, InjectionToken, EventEmitter, Directive, ChangeDetectorRef, Input, Output, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, NgModule } from '@angular/core';\nimport { mixinDisabled, mixinInitialized, MatCommonModule } from '@angular/material/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { coerceNumberProperty, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Subject } from 'rxjs';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * To modify the labels and text displayed, create a new instance of MatPaginatorIntl and\n * include it in a custom provider\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@angular/material/button';\nimport * as ɵngcc3 from '@angular/material/tooltip';\nimport * as ɵngcc4 from '@angular/material/form-field';\nimport * as ɵngcc5 from '@angular/material/select';\nimport * as ɵngcc6 from '@angular/material/core';\n\nfunction MatPaginator_div_2_mat_form_field_3_mat_option_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"mat-option\", 19);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const pageSizeOption_r6 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"value\", pageSizeOption_r6);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", pageSizeOption_r6, \" \");\n} }\nfunction MatPaginator_div_2_mat_form_field_3_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"mat-form-field\", 16);\n    ɵngcc0.ɵɵelementStart(1, \"mat-select\", 17);\n    ɵngcc0.ɵɵlistener(\"selectionChange\", function MatPaginator_div_2_mat_form_field_3_Template_mat_select_selectionChange_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r7 = ɵngcc0.ɵɵnextContext(2); return ctx_r7._changePageSize($event.value); });\n    ɵngcc0.ɵɵtemplate(2, MatPaginator_div_2_mat_form_field_3_mat_option_2_Template, 2, 2, \"mat-option\", 18);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"appearance\", ctx_r3._formFieldAppearance)(\"color\", ctx_r3.color);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"value\", ctx_r3.pageSize)(\"disabled\", ctx_r3.disabled)(\"aria-label\", ctx_r3._intl.itemsPerPageLabel);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3._displayedPageSizeOptions);\n} }\nfunction MatPaginator_div_2_div_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 20);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r4.pageSize);\n} }\nfunction MatPaginator_div_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 13);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(3, MatPaginator_div_2_mat_form_field_3_Template, 3, 6, \"mat-form-field\", 14);\n    ɵngcc0.ɵɵtemplate(4, MatPaginator_div_2_div_4_Template, 2, 1, \"div\", 15);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r0._intl.itemsPerPageLabel, \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0._displayedPageSizeOptions.length > 1);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0._displayedPageSizeOptions.length <= 1);\n} }\nfunction MatPaginator_button_6_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 21);\n    ɵngcc0.ɵɵlistener(\"click\", function MatPaginator_button_6_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r10); const ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.firstPage(); });\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(1, \"svg\", 7);\n    ɵngcc0.ɵɵelement(2, \"path\", 22);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"matTooltip\", ctx_r1._intl.firstPageLabel)(\"matTooltipDisabled\", ctx_r1._previousButtonsDisabled())(\"matTooltipPosition\", \"above\")(\"disabled\", ctx_r1._previousButtonsDisabled());\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r1._intl.firstPageLabel);\n} }\nfunction MatPaginator_button_13_Template(rf, ctx) { if (rf & 1) {\n    const _r12 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵnamespaceHTML();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 23);\n    ɵngcc0.ɵɵlistener(\"click\", function MatPaginator_button_13_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.lastPage(); });\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(1, \"svg\", 7);\n    ɵngcc0.ɵɵelement(2, \"path\", 24);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"matTooltip\", ctx_r2._intl.lastPageLabel)(\"matTooltipDisabled\", ctx_r2._nextButtonsDisabled())(\"matTooltipPosition\", \"above\")(\"disabled\", ctx_r2._nextButtonsDisabled());\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r2._intl.lastPageLabel);\n} }\nclass MatPaginatorIntl {\n    constructor() {\n        /**\n         * Stream to emit from when labels are changed. Use this to notify components when the labels have\n         * changed after initialization.\n         */\n        this.changes = new Subject();\n        /** A label for the page size selector. */\n        this.itemsPerPageLabel = 'Items per page:';\n        /** A label for the button that increments the current page. */\n        this.nextPageLabel = 'Next page';\n        /** A label for the button that decrements the current page. */\n        this.previousPageLabel = 'Previous page';\n        /** A label for the button that moves to the first page. */\n        this.firstPageLabel = 'First page';\n        /** A label for the button that moves to the last page. */\n        this.lastPageLabel = 'Last page';\n        /** A label for the range of items within the current page and the length of the whole list. */\n        this.getRangeLabel = (page, pageSize, length) => {\n            if (length == 0 || pageSize == 0) {\n                return `0 of ${length}`;\n            }\n            length = Math.max(length, 0);\n            const startIndex = page * pageSize;\n            // If the start index exceeds the list length, do not try and fix the end index to the end.\n            const endIndex = startIndex < length ?\n                Math.min(startIndex + pageSize, length) :\n                startIndex + pageSize;\n            return `${startIndex + 1} – ${endIndex} of ${length}`;\n        };\n    }\n}\nMatPaginatorIntl.ɵfac = function MatPaginatorIntl_Factory(t) { return new (t || MatPaginatorIntl)(); };\nMatPaginatorIntl.ɵprov = ɵɵdefineInjectable({ factory: function MatPaginatorIntl_Factory() { return new MatPaginatorIntl(); }, token: MatPaginatorIntl, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MatPaginatorIntl, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return []; }, null); })();\n/** @docs-private */\nfunction MAT_PAGINATOR_INTL_PROVIDER_FACTORY(parentIntl) {\n    return parentIntl || new MatPaginatorIntl();\n}\n/** @docs-private */\nconst MAT_PAGINATOR_INTL_PROVIDER = {\n    // If there is already an MatPaginatorIntl available, use that. Otherwise, provide a new one.\n    provide: MatPaginatorIntl,\n    deps: [[new Optional(), new SkipSelf(), MatPaginatorIntl]],\n    useFactory: MAT_PAGINATOR_INTL_PROVIDER_FACTORY\n};\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** The default page size if there is no page size and there are no provided page size options. */\nconst DEFAULT_PAGE_SIZE = 50;\n/**\n * Change event object that is emitted when the user selects a\n * different page size or navigates to another page.\n */\nclass PageEvent {\n}\n/** Injection token that can be used to provide the default options for the paginator module. */\nconst MAT_PAGINATOR_DEFAULT_OPTIONS = new InjectionToken('MAT_PAGINATOR_DEFAULT_OPTIONS');\n// Boilerplate for applying mixins to _MatPaginatorBase.\n/** @docs-private */\nclass MatPaginatorMixinBase {\n}\nconst _MatPaginatorMixinBase = mixinDisabled(mixinInitialized(MatPaginatorMixinBase));\n/**\n * Base class with all of the `MatPaginator` functionality.\n * @docs-private\n */\nclass _MatPaginatorBase extends _MatPaginatorMixinBase {\n    constructor(_intl, _changeDetectorRef, defaults) {\n        super();\n        this._intl = _intl;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._pageIndex = 0;\n        this._length = 0;\n        this._pageSizeOptions = [];\n        this._hidePageSize = false;\n        this._showFirstLastButtons = false;\n        /** Event emitted when the paginator changes the page size or page index. */\n        this.page = new EventEmitter();\n        this._intlChanges = _intl.changes.subscribe(() => this._changeDetectorRef.markForCheck());\n        if (defaults) {\n            const { pageSize, pageSizeOptions, hidePageSize, showFirstLastButtons, } = defaults;\n            if (pageSize != null) {\n                this._pageSize = pageSize;\n            }\n            if (pageSizeOptions != null) {\n                this._pageSizeOptions = pageSizeOptions;\n            }\n            if (hidePageSize != null) {\n                this._hidePageSize = hidePageSize;\n            }\n            if (showFirstLastButtons != null) {\n                this._showFirstLastButtons = showFirstLastButtons;\n            }\n        }\n    }\n    /** The zero-based page index of the displayed list of items. Defaulted to 0. */\n    get pageIndex() { return this._pageIndex; }\n    set pageIndex(value) {\n        this._pageIndex = Math.max(coerceNumberProperty(value), 0);\n        this._changeDetectorRef.markForCheck();\n    }\n    /** The length of the total number of items that are being paginated. Defaulted to 0. */\n    get length() { return this._length; }\n    set length(value) {\n        this._length = coerceNumberProperty(value);\n        this._changeDetectorRef.markForCheck();\n    }\n    /** Number of items to display on a page. By default set to 50. */\n    get pageSize() { return this._pageSize; }\n    set pageSize(value) {\n        this._pageSize = Math.max(coerceNumberProperty(value), 0);\n        this._updateDisplayedPageSizeOptions();\n    }\n    /** The set of provided page size options to display to the user. */\n    get pageSizeOptions() { return this._pageSizeOptions; }\n    set pageSizeOptions(value) {\n        this._pageSizeOptions = (value || []).map(p => coerceNumberProperty(p));\n        this._updateDisplayedPageSizeOptions();\n    }\n    /** Whether to hide the page size selection UI from the user. */\n    get hidePageSize() { return this._hidePageSize; }\n    set hidePageSize(value) {\n        this._hidePageSize = coerceBooleanProperty(value);\n    }\n    /** Whether to show the first/last buttons UI to the user. */\n    get showFirstLastButtons() { return this._showFirstLastButtons; }\n    set showFirstLastButtons(value) {\n        this._showFirstLastButtons = coerceBooleanProperty(value);\n    }\n    ngOnInit() {\n        this._initialized = true;\n        this._updateDisplayedPageSizeOptions();\n        this._markInitialized();\n    }\n    ngOnDestroy() {\n        this._intlChanges.unsubscribe();\n    }\n    /** Advances to the next page if it exists. */\n    nextPage() {\n        if (!this.hasNextPage()) {\n            return;\n        }\n        const previousPageIndex = this.pageIndex;\n        this.pageIndex++;\n        this._emitPageEvent(previousPageIndex);\n    }\n    /** Move back to the previous page if it exists. */\n    previousPage() {\n        if (!this.hasPreviousPage()) {\n            return;\n        }\n        const previousPageIndex = this.pageIndex;\n        this.pageIndex--;\n        this._emitPageEvent(previousPageIndex);\n    }\n    /** Move to the first page if not already there. */\n    firstPage() {\n        // hasPreviousPage being false implies at the start\n        if (!this.hasPreviousPage()) {\n            return;\n        }\n        const previousPageIndex = this.pageIndex;\n        this.pageIndex = 0;\n        this._emitPageEvent(previousPageIndex);\n    }\n    /** Move to the last page if not already there. */\n    lastPage() {\n        // hasNextPage being false implies at the end\n        if (!this.hasNextPage()) {\n            return;\n        }\n        const previousPageIndex = this.pageIndex;\n        this.pageIndex = this.getNumberOfPages() - 1;\n        this._emitPageEvent(previousPageIndex);\n    }\n    /** Whether there is a previous page. */\n    hasPreviousPage() {\n        return this.pageIndex >= 1 && this.pageSize != 0;\n    }\n    /** Whether there is a next page. */\n    hasNextPage() {\n        const maxPageIndex = this.getNumberOfPages() - 1;\n        return this.pageIndex < maxPageIndex && this.pageSize != 0;\n    }\n    /** Calculate the number of pages */\n    getNumberOfPages() {\n        if (!this.pageSize) {\n            return 0;\n        }\n        return Math.ceil(this.length / this.pageSize);\n    }\n    /**\n     * Changes the page size so that the first item displayed on the page will still be\n     * displayed using the new page size.\n     *\n     * For example, if the page size is 10 and on the second page (items indexed 10-19) then\n     * switching so that the page size is 5 will set the third page as the current page so\n     * that the 10th item will still be displayed.\n     */\n    _changePageSize(pageSize) {\n        // Current page needs to be updated to reflect the new page size. Navigate to the page\n        // containing the previous page's first item.\n        const startIndex = this.pageIndex * this.pageSize;\n        const previousPageIndex = this.pageIndex;\n        this.pageIndex = Math.floor(startIndex / pageSize) || 0;\n        this.pageSize = pageSize;\n        this._emitPageEvent(previousPageIndex);\n    }\n    /** Checks whether the buttons for going forwards should be disabled. */\n    _nextButtonsDisabled() {\n        return this.disabled || !this.hasNextPage();\n    }\n    /** Checks whether the buttons for going backwards should be disabled. */\n    _previousButtonsDisabled() {\n        return this.disabled || !this.hasPreviousPage();\n    }\n    /**\n     * Updates the list of page size options to display to the user. Includes making sure that\n     * the page size is an option and that the list is sorted.\n     */\n    _updateDisplayedPageSizeOptions() {\n        if (!this._initialized) {\n            return;\n        }\n        // If no page size is provided, use the first page size option or the default page size.\n        if (!this.pageSize) {\n            this._pageSize = this.pageSizeOptions.length != 0 ?\n                this.pageSizeOptions[0] :\n                DEFAULT_PAGE_SIZE;\n        }\n        this._displayedPageSizeOptions = this.pageSizeOptions.slice();\n        if (this._displayedPageSizeOptions.indexOf(this.pageSize) === -1) {\n            this._displayedPageSizeOptions.push(this.pageSize);\n        }\n        // Sort the numbers using a number-specific sort function.\n        this._displayedPageSizeOptions.sort((a, b) => a - b);\n        this._changeDetectorRef.markForCheck();\n    }\n    /** Emits an event notifying that a change of the paginator's properties has been triggered. */\n    _emitPageEvent(previousPageIndex) {\n        this.page.emit({\n            previousPageIndex,\n            pageIndex: this.pageIndex,\n            pageSize: this.pageSize,\n            length: this.length\n        });\n    }\n}\n_MatPaginatorBase.ɵfac = function _MatPaginatorBase_Factory(t) { return new (t || _MatPaginatorBase)(ɵngcc0.ɵɵdirectiveInject(MatPaginatorIntl), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(undefined)); };\n_MatPaginatorBase.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: _MatPaginatorBase, inputs: { pageIndex: \"pageIndex\", length: \"length\", pageSize: \"pageSize\", pageSizeOptions: \"pageSizeOptions\", hidePageSize: \"hidePageSize\", showFirstLastButtons: \"showFirstLastButtons\", color: \"color\" }, outputs: { page: \"page\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n_MatPaginatorBase.ctorParameters = () => [\n    { type: MatPaginatorIntl },\n    { type: ChangeDetectorRef },\n    { type: undefined }\n];\n_MatPaginatorBase.propDecorators = {\n    color: [{ type: Input }],\n    pageIndex: [{ type: Input }],\n    length: [{ type: Input }],\n    pageSize: [{ type: Input }],\n    pageSizeOptions: [{ type: Input }],\n    hidePageSize: [{ type: Input }],\n    showFirstLastButtons: [{ type: Input }],\n    page: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(_MatPaginatorBase, [{\n        type: Directive\n    }], function () { return [{ type: MatPaginatorIntl }, { type: ɵngcc0.ChangeDetectorRef }, { type: undefined }]; }, { page: [{\n            type: Output\n        }], pageIndex: [{\n            type: Input\n        }], length: [{\n            type: Input\n        }], pageSize: [{\n            type: Input\n        }], pageSizeOptions: [{\n            type: Input\n        }], hidePageSize: [{\n            type: Input\n        }], showFirstLastButtons: [{\n            type: Input\n        }], color: [{\n            type: Input\n        }] }); })();\n/**\n * Component to provide navigation between paged information. Displays the size of the current\n * page, user-selectable options to change that size, what items are being shown, and\n * navigational button to go to the previous or next page.\n */\nclass MatPaginator extends _MatPaginatorBase {\n    constructor(intl, changeDetectorRef, defaults) {\n        super(intl, changeDetectorRef, defaults);\n        if (defaults && defaults.formFieldAppearance != null) {\n            this._formFieldAppearance = defaults.formFieldAppearance;\n        }\n    }\n}\nMatPaginator.ɵfac = function MatPaginator_Factory(t) { return new (t || MatPaginator)(ɵngcc0.ɵɵdirectiveInject(MatPaginatorIntl), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(MAT_PAGINATOR_DEFAULT_OPTIONS, 8)); };\nMatPaginator.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatPaginator, selectors: [[\"mat-paginator\"]], hostAttrs: [\"role\", \"group\", 1, \"mat-paginator\"], inputs: { disabled: \"disabled\" }, exportAs: [\"matPaginator\"], features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 14, vars: 14, consts: [[1, \"mat-paginator-outer-container\"], [1, \"mat-paginator-container\"], [\"class\", \"mat-paginator-page-size\", 4, \"ngIf\"], [1, \"mat-paginator-range-actions\"], [1, \"mat-paginator-range-label\"], [\"mat-icon-button\", \"\", \"type\", \"button\", \"class\", \"mat-paginator-navigation-first\", 3, \"matTooltip\", \"matTooltipDisabled\", \"matTooltipPosition\", \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 1, \"mat-paginator-navigation-previous\", 3, \"matTooltip\", \"matTooltipDisabled\", \"matTooltipPosition\", \"disabled\", \"click\"], [\"viewBox\", \"0 0 24 24\", \"focusable\", \"false\", 1, \"mat-paginator-icon\"], [\"d\", \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 1, \"mat-paginator-navigation-next\", 3, \"matTooltip\", \"matTooltipDisabled\", \"matTooltipPosition\", \"disabled\", \"click\"], [\"d\", \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"], [\"mat-icon-button\", \"\", \"type\", \"button\", \"class\", \"mat-paginator-navigation-last\", 3, \"matTooltip\", \"matTooltipDisabled\", \"matTooltipPosition\", \"disabled\", \"click\", 4, \"ngIf\"], [1, \"mat-paginator-page-size\"], [1, \"mat-paginator-page-size-label\"], [\"class\", \"mat-paginator-page-size-select\", 3, \"appearance\", \"color\", 4, \"ngIf\"], [\"class\", \"mat-paginator-page-size-value\", 4, \"ngIf\"], [1, \"mat-paginator-page-size-select\", 3, \"appearance\", \"color\"], [3, \"value\", \"disabled\", \"aria-label\", \"selectionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"mat-paginator-page-size-value\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 1, \"mat-paginator-navigation-first\", 3, \"matTooltip\", \"matTooltipDisabled\", \"matTooltipPosition\", \"disabled\", \"click\"], [\"d\", \"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 1, \"mat-paginator-navigation-last\", 3, \"matTooltip\", \"matTooltipDisabled\", \"matTooltipPosition\", \"disabled\", \"click\"], [\"d\", \"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"]], template: function MatPaginator_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(2, MatPaginator_div_2_Template, 5, 3, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n        ɵngcc0.ɵɵtext(5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, MatPaginator_button_6_Template, 3, 5, \"button\", 5);\n        ɵngcc0.ɵɵelementStart(7, \"button\", 6);\n        ɵngcc0.ɵɵlistener(\"click\", function MatPaginator_Template_button_click_7_listener() { return ctx.previousPage(); });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(8, \"svg\", 7);\n        ɵngcc0.ɵɵelement(9, \"path\", 8);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵnamespaceHTML();\n        ɵngcc0.ɵɵelementStart(10, \"button\", 9);\n        ɵngcc0.ɵɵlistener(\"click\", function MatPaginator_Template_button_click_10_listener() { return ctx.nextPage(); });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(11, \"svg\", 7);\n        ɵngcc0.ɵɵelement(12, \"path\", 10);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(13, MatPaginator_button_13_Template, 3, 5, \"button\", 11);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.hidePageSize);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx._intl.getRangeLabel(ctx.pageIndex, ctx.pageSize, ctx.length), \" \");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showFirstLastButtons);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"matTooltip\", ctx._intl.previousPageLabel)(\"matTooltipDisabled\", ctx._previousButtonsDisabled())(\"matTooltipPosition\", \"above\")(\"disabled\", ctx._previousButtonsDisabled());\n        ɵngcc0.ɵɵattribute(\"aria-label\", ctx._intl.previousPageLabel);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"matTooltip\", ctx._intl.nextPageLabel)(\"matTooltipDisabled\", ctx._nextButtonsDisabled())(\"matTooltipPosition\", \"above\")(\"disabled\", ctx._nextButtonsDisabled());\n        ɵngcc0.ɵɵattribute(\"aria-label\", ctx._intl.nextPageLabel);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showFirstLastButtons);\n    } }, directives: [ɵngcc1.NgIf, ɵngcc2.MatButton, ɵngcc3.MatTooltip, ɵngcc4.MatFormField, ɵngcc5.MatSelect, ɵngcc1.NgForOf, ɵngcc6.MatOption], styles: [\".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\\n\"], encapsulation: 2, changeDetection: 0 });\nMatPaginator.ctorParameters = () => [\n    { type: MatPaginatorIntl },\n    { type: ChangeDetectorRef },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_PAGINATOR_DEFAULT_OPTIONS,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MatPaginator, [{\n        type: Component,\n        args: [{\n                selector: 'mat-paginator',\n                exportAs: 'matPaginator',\n                template: \"<div class=\\\"mat-paginator-outer-container\\\">\\n  <div class=\\\"mat-paginator-container\\\">\\n    <div class=\\\"mat-paginator-page-size\\\" *ngIf=\\\"!hidePageSize\\\">\\n      <div class=\\\"mat-paginator-page-size-label\\\">\\n        {{_intl.itemsPerPageLabel}}\\n      </div>\\n\\n      <mat-form-field\\n        *ngIf=\\\"_displayedPageSizeOptions.length > 1\\\"\\n        [appearance]=\\\"_formFieldAppearance!\\\"\\n        [color]=\\\"color\\\"\\n        class=\\\"mat-paginator-page-size-select\\\">\\n        <mat-select\\n          [value]=\\\"pageSize\\\"\\n          [disabled]=\\\"disabled\\\"\\n          [aria-label]=\\\"_intl.itemsPerPageLabel\\\"\\n          (selectionChange)=\\\"_changePageSize($event.value)\\\">\\n          <mat-option *ngFor=\\\"let pageSizeOption of _displayedPageSizeOptions\\\" [value]=\\\"pageSizeOption\\\">\\n            {{pageSizeOption}}\\n          </mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n\\n      <div\\n        class=\\\"mat-paginator-page-size-value\\\"\\n        *ngIf=\\\"_displayedPageSizeOptions.length <= 1\\\">{{pageSize}}</div>\\n    </div>\\n\\n    <div class=\\\"mat-paginator-range-actions\\\">\\n      <div class=\\\"mat-paginator-range-label\\\">\\n        {{_intl.getRangeLabel(pageIndex, pageSize, length)}}\\n      </div>\\n\\n      <button mat-icon-button type=\\\"button\\\"\\n              class=\\\"mat-paginator-navigation-first\\\"\\n              (click)=\\\"firstPage()\\\"\\n              [attr.aria-label]=\\\"_intl.firstPageLabel\\\"\\n              [matTooltip]=\\\"_intl.firstPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_previousButtonsDisabled()\\\"\\n              [matTooltipPosition]=\\\"'above'\\\"\\n              [disabled]=\\\"_previousButtonsDisabled()\\\"\\n              *ngIf=\\\"showFirstLastButtons\\\">\\n        <svg class=\\\"mat-paginator-icon\\\" viewBox=\\\"0 0 24 24\\\" focusable=\\\"false\\\">\\n          <path d=\\\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\\\"/>\\n        </svg>\\n      </button>\\n      <button mat-icon-button type=\\\"button\\\"\\n              class=\\\"mat-paginator-navigation-previous\\\"\\n              (click)=\\\"previousPage()\\\"\\n              [attr.aria-label]=\\\"_intl.previousPageLabel\\\"\\n              [matTooltip]=\\\"_intl.previousPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_previousButtonsDisabled()\\\"\\n              [matTooltipPosition]=\\\"'above'\\\"\\n              [disabled]=\\\"_previousButtonsDisabled()\\\">\\n        <svg class=\\\"mat-paginator-icon\\\" viewBox=\\\"0 0 24 24\\\" focusable=\\\"false\\\">\\n          <path d=\\\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\\\"/>\\n        </svg>\\n      </button>\\n      <button mat-icon-button type=\\\"button\\\"\\n              class=\\\"mat-paginator-navigation-next\\\"\\n              (click)=\\\"nextPage()\\\"\\n              [attr.aria-label]=\\\"_intl.nextPageLabel\\\"\\n              [matTooltip]=\\\"_intl.nextPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_nextButtonsDisabled()\\\"\\n              [matTooltipPosition]=\\\"'above'\\\"\\n              [disabled]=\\\"_nextButtonsDisabled()\\\">\\n        <svg class=\\\"mat-paginator-icon\\\" viewBox=\\\"0 0 24 24\\\" focusable=\\\"false\\\">\\n          <path d=\\\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\\\"/>\\n        </svg>\\n      </button>\\n      <button mat-icon-button type=\\\"button\\\"\\n              class=\\\"mat-paginator-navigation-last\\\"\\n              (click)=\\\"lastPage()\\\"\\n              [attr.aria-label]=\\\"_intl.lastPageLabel\\\"\\n              [matTooltip]=\\\"_intl.lastPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_nextButtonsDisabled()\\\"\\n              [matTooltipPosition]=\\\"'above'\\\"\\n              [disabled]=\\\"_nextButtonsDisabled()\\\"\\n              *ngIf=\\\"showFirstLastButtons\\\">\\n        <svg class=\\\"mat-paginator-icon\\\" viewBox=\\\"0 0 24 24\\\" focusable=\\\"false\\\">\\n          <path d=\\\"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\\\"/>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\",\n                inputs: ['disabled'],\n                host: {\n                    'class': 'mat-paginator',\n                    'role': 'group'\n                },\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                styles: [\".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\\n\"]\n            }]\n    }], function () { return [{ type: MatPaginatorIntl }, { type: ɵngcc0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_PAGINATOR_DEFAULT_OPTIONS]\n            }] }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass MatPaginatorModule {\n}\nMatPaginatorModule.ɵfac = function MatPaginatorModule_Factory(t) { return new (t || MatPaginatorModule)(); };\nMatPaginatorModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: MatPaginatorModule });\nMatPaginatorModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ providers: [MAT_PAGINATOR_INTL_PROVIDER], imports: [[\n            CommonModule,\n            MatButtonModule,\n            MatSelectModule,\n            MatTooltipModule,\n            MatCommonModule,\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatPaginatorModule, { declarations: function () { return [MatPaginator]; }, imports: function () { return [CommonModule,\n        MatButtonModule,\n        MatSelectModule,\n        MatTooltipModule,\n        MatCommonModule]; }, exports: function () { return [MatPaginator]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MatPaginatorModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    MatButtonModule,\n                    MatSelectModule,\n                    MatTooltipModule,\n                    MatCommonModule,\n                ],\n                exports: [MatPaginator],\n                declarations: [MatPaginator],\n                providers: [MAT_PAGINATOR_INTL_PROVIDER]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_PAGINATOR_DEFAULT_OPTIONS, MAT_PAGINATOR_INTL_PROVIDER, MAT_PAGINATOR_INTL_PROVIDER_FACTORY, MatPaginator, MatPaginatorIntl, MatPaginatorModule, PageEvent, _MatPaginatorBase };\n\n//# sourceMappingURL=paginator.js.map","import { ChangeDetectionStrategy, Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Dictionary } from '../shared/models/dictionary.model';\r\nimport { getHistoryItems } from './item-history.helpers';\r\nimport { CompareWith } from './models/compare-with.model';\r\nimport { ItemHistoryResult } from './models/item-history-result.model';\r\nimport { Version } from './models/version.model';\r\nimport { VersionsService } from './services/versions.service';\r\n\r\n@Component({\r\n  selector: 'app-item-history',\r\n  templateUrl: './item-history.component.html',\r\n  styleUrls: ['./item-history.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ItemHistoryComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  pageSizeOptions = [10, 20, 50];\r\n  expandedPanels: Dictionary<boolean> = {};\r\n  expandedAttributes: Dictionary<boolean> = {};\r\n\r\n  private itemId = parseInt(this.route.snapshot.paramMap.get('itemId'), 10);\r\n  private versions$ = new BehaviorSubject<Version[]>(null);\r\n  private page$ = new BehaviorSubject(1);\r\n  private pageSize$ = new BehaviorSubject(this.pageSizeOptions[0]);\r\n  private compareWith$ = new BehaviorSubject<CompareWith>('live');\r\n  private historyItems$ = combineLatest([this.versions$, this.page$, this.pageSize$, this.compareWith$]).pipe(\r\n    map(([versions, page, pageSize, compareWith]) => getHistoryItems(versions, page, pageSize, compareWith)),\r\n  );\r\n  templateVars$ = combineLatest([this.versions$, this.historyItems$, this.pageSize$, this.compareWith$]).pipe(\r\n    map(([versions, historyItems, pageSize, compareWith]) => ({\r\n      length: versions?.length,\r\n      historyItems,\r\n      pageSize,\r\n      compareWith,\r\n    })),\r\n  );\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<ItemHistoryComponent>,\r\n    private route: ActivatedRoute,\r\n    private versionsService: VersionsService,\r\n    private snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.versionsService.fetchVersions(this.itemId).subscribe(versions => {\r\n      this.versions$.next(versions);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.versions$.complete();\r\n    this.page$.complete();\r\n    this.pageSize$.complete();\r\n    this.compareWith$.complete();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  compareChange(newCompareWith: CompareWith) {\r\n    this.compareWith$.next(newCompareWith);\r\n  }\r\n\r\n  panelExpandedChange(expand: boolean, versionNumber: number) {\r\n    this.expandedPanels[versionNumber] = expand;\r\n  }\r\n\r\n  attributeExpandedToggle(versionNumber: number, name: string) {\r\n    this.expandedAttributes[versionNumber + name] = !this.expandedAttributes[versionNumber + name];\r\n  }\r\n\r\n  pageChange(event: PageEvent) {\r\n    const newPage = event.pageIndex + 1;\r\n    if (newPage !== this.page$.value) {\r\n      this.expandedPanels = {};\r\n      this.expandedAttributes = {};\r\n      this.page$.next(newPage);\r\n    }\r\n    const newPageSize = event.pageSize;\r\n    if (newPageSize !== this.pageSize$.value) {\r\n      this.pageSize$.next(newPageSize);\r\n    }\r\n  }\r\n\r\n  restore(changeId: number) {\r\n    this.snackBar.open('Restoring previous version...');\r\n    this.versionsService.restore(this.itemId, changeId).subscribe(res => {\r\n      this.snackBar.open('Previous version restored. Will reload edit dialog', null, { duration: 3000 });\r\n      const result: ItemHistoryResult = {\r\n        refreshEdit: true,\r\n      };\r\n      this.dialogRef.close(result);\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { itemHistoryDialog } from './item-history-dialog.config';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: DialogEntryComponent, data: { dialog: itemHistoryDialog, title: 'Item History' } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ItemHistoryRoutingModule { }\r\n","export default \".compare-box {\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: flex-end;\\n  height: 40px;\\n}\\n.compare-box__dropdown {\\n  width: 192px;\\n  margin-top: -14px;\\n  font-size: 14px;\\n  height: auto;\\n}\\n.mat-accordion {\\n  display: block;\\n  padding: 4px 0;\\n}\\n.mat-expansion-panel-header {\\n  font-size: 14px;\\n}\\n.table-row {\\n  font-size: 14px;\\n}\\n.table-row__main {\\n  display: flex;\\n}\\n.table-row__details {\\n  display: block;\\n}\\n.row-main {\\n  cursor: pointer;\\n  padding: 4px 0;\\n}\\n.row-main__label {\\n  width: 160px;\\n  flex: 0 0 auto;\\n}\\n.row-main__value {\\n  flex: 1 1 auto;\\n}\\n.row-main__type {\\n  flex: 0 0 auto;\\n  font-size: 12px;\\n}\\n.row-main__type i:not(:last-of-type) {\\n  margin-right: 2px;\\n}\\n.detail-row {\\n  display: flex;\\n  padding-bottom: 4px;\\n  cursor: default;\\n}\\n.detail-row__label {\\n  width: 160px;\\n  flex: 0 0 auto;\\n}\\n.detail-row__value {\\n  flex: 1 1 auto;\\n}\\n.row-actions {\\n  margin-top: 16px;\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcaXRlbS1oaXN0b3J5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FBQ0Y7QUFDRTtFQUNFLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FBQ0o7QUFHQTtFQUNFLGNBQUE7RUFDQSxjQUFBO0FBQUY7QUFHQTtFQUNFLGVBQUE7QUFBRjtBQUdBO0VBQ0UsZUFBQTtBQUFGO0FBRUU7RUFDRSxhQUFBO0FBQUo7QUFHRTtFQUNFLGNBQUE7QUFESjtBQUtBO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUFGRjtBQUlFO0VBQ0UsWUFBQTtFQUNBLGNBQUE7QUFGSjtBQUtFO0VBQ0UsY0FBQTtBQUhKO0FBTUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQUpKO0FBTUk7RUFDRSxpQkFBQTtBQUpOO0FBU0E7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBTkY7QUFRRTtFQUNFLFlBQUE7RUFDQSxjQUFBO0FBTko7QUFTRTtFQUNFLGNBQUE7QUFQSjtBQVdBO0VBQ0UsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7QUFSRiIsImZpbGUiOiJpdGVtLWhpc3RvcnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29tcGFyZS1ib3gge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG5cclxuICAmX19kcm9wZG93biB7XHJcbiAgICB3aWR0aDogMTkycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtMTRweDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGhlaWdodDogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbi5tYXQtYWNjb3JkaW9uIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBwYWRkaW5nOiA0cHggMDtcclxufVxyXG5cclxuLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyIHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuXHJcbi50YWJsZS1yb3cge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuXHJcbiAgJl9fbWFpbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gIH1cclxuXHJcbiAgJl9fZGV0YWlscyB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICB9XHJcbn1cclxuXHJcbi5yb3ctbWFpbiB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHBhZGRpbmc6IDRweCAwO1xyXG5cclxuICAmX19sYWJlbCB7XHJcbiAgICB3aWR0aDogMTYwcHg7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICB9XHJcblxyXG4gICZfX3ZhbHVlIHtcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gIH1cclxuXHJcbiAgJl9fdHlwZSB7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuXHJcbiAgICBpOm5vdCg6bGFzdC1vZi10eXBlKSB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMnB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmRldGFpbC1yb3cge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgcGFkZGluZy1ib3R0b206IDRweDtcclxuICBjdXJzb3I6IGRlZmF1bHQ7XHJcblxyXG4gICZfX2xhYmVsIHtcclxuICAgIHdpZHRoOiAxNjBweDtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gIH1cclxuXHJcbiAgJl9fdmFsdWUge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgfVxyXG59XHJcblxyXG4ucm93LWFjdGlvbnMge1xyXG4gIG1hcmdpbi10b3A6IDE2cHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG59XHJcbiJdfQ== */\";","import { Dictionary } from '../shared/models/dictionary.model';\r\nimport { CompareWith } from './models/compare-with.model';\r\nimport { HistoryAttribute, HistoryAttributeValue, HistoryItem } from './models/history-item.model';\r\nimport { Version, VersionEntityAttributeValues, VersionJsonParsed } from './models/version.model';\r\n\r\nexport function getHistoryItems(versions: Version[], page: number, pageSize: number, compareWith: CompareWith) {\r\n  if (versions == null || page == null || pageSize == null || compareWith == null) { return null; }\r\n  const filtered = versions.slice((page - 1) * pageSize, page * pageSize);\r\n\r\n  const historyItems = calcHistoryItems(filtered, versions, compareWith);\r\n  return historyItems;\r\n}\r\n\r\nfunction calcHistoryItems(filteredVersions: Version[], versions: Version[], compareWith: CompareWith) {\r\n  return filteredVersions.map(version => {\r\n    const historyItem: HistoryItem = {\r\n      changeSetId: version.ChangeSetId,\r\n      attributes: calcHistoryAttributes(version, versions, compareWith),\r\n      historyId: version.HistoryId,\r\n      timeStamp: version.TimeStamp,\r\n      user: version.User,\r\n      versionNumber: version.VersionNumber,\r\n      isLastVersion: !versions.some(v => v.VersionNumber === version.VersionNumber + 1),\r\n    };\r\n    return historyItem;\r\n  });\r\n}\r\n\r\nfunction calcHistoryAttributes(version: Version, versions: Version[], compareWith: CompareWith) {\r\n  const currentDataTypes = (JSON.parse(version.Json) as VersionJsonParsed).Entity.Attributes;\r\n  const previousItem = compareWith === 'live' ? findLive(versions) : versions.find(v => v.VersionNumber === version.VersionNumber - 1);\r\n  const previousDataTypes = previousItem ? (JSON.parse(previousItem.Json) as VersionJsonParsed).Entity.Attributes : null;\r\n\r\n  const allAttributes: { name: string, dataType: string }[] = [];\r\n  if (currentDataTypes != null) {\r\n    Object.entries(currentDataTypes).forEach(([dataType, attributes]) => {\r\n      Object.keys(attributes).forEach(attributeName => {\r\n        if (allAttributes.find(a => a.name === attributeName && a.dataType === dataType) != null) { return; }\r\n        allAttributes.push({ name: attributeName, dataType });\r\n      });\r\n    });\r\n  }\r\n  if (previousDataTypes != null) {\r\n    Object.entries(previousDataTypes).forEach(([dataType, attributes]) => {\r\n      Object.keys(attributes).forEach(attributeName => {\r\n        if (allAttributes.find(a => a.name === attributeName && a.dataType === dataType) != null) { return; }\r\n        allAttributes.push({ name: attributeName, dataType });\r\n      });\r\n    });\r\n  }\r\n\r\n  const historyAttributes = allAttributes.map(attribute => {\r\n    const currentValues = currentDataTypes?.[attribute.dataType]?.[attribute.name];\r\n    const previousValues = previousDataTypes?.[attribute.dataType]?.[attribute.name];\r\n\r\n    const historyAttribute: HistoryAttribute = {\r\n      name: attribute.name,\r\n      dataType: attribute.dataType,\r\n      change: calcChangeType(currentValues, previousValues, true),\r\n      values: calcHistoryValues(currentValues, previousValues),\r\n    };\r\n    return historyAttribute;\r\n  });\r\n\r\n  return historyAttributes;\r\n}\r\n\r\nfunction findLive(versions: Version[]) {\r\n  let liveVersion = versions[0];\r\n  for (const version of versions) {\r\n    if (version.VersionNumber <= liveVersion.VersionNumber) { continue; }\r\n    liveVersion = version;\r\n  }\r\n  return liveVersion;\r\n}\r\n\r\nfunction calcHistoryValues(values: VersionEntityAttributeValues, previousValues: VersionEntityAttributeValues) {\r\n  const allLangKeys: string[] = [];\r\n  if (values != null) {\r\n    Object.keys(values).forEach(lang => {\r\n      if (allLangKeys.includes(lang)) { return; }\r\n      allLangKeys.push(lang);\r\n    });\r\n  }\r\n  if (previousValues != null) {\r\n    Object.keys(previousValues).forEach(lang => {\r\n      if (allLangKeys.includes(lang)) { return; }\r\n      allLangKeys.push(lang);\r\n    });\r\n  }\r\n\r\n  const historyValues = allLangKeys.map(langKey => {\r\n    const currentValue = values?.[langKey];\r\n    const previousValue = previousValues?.[langKey];\r\n\r\n    const historyValue: HistoryAttributeValue = {\r\n      langKey,\r\n      value: currentValue,\r\n      oldValue: previousValue,\r\n      change: calcChangeType(currentValue, previousValue),\r\n    };\r\n    return historyValue;\r\n  });\r\n\r\n  return historyValues;\r\n}\r\n\r\nfunction calcChangeType(currentValue: any, previousValue: any, sortObjectKeys = false) {\r\n  let change: 'new' | 'deleted' | 'changed' | 'none';\r\n\r\n  if (sortObjectKeys) {\r\n    if (typeof currentValue === 'object') {\r\n      currentValue = sortKeysAlphabetically(currentValue);\r\n    }\r\n    if (typeof previousValue === 'object') {\r\n      previousValue = sortKeysAlphabetically(previousValue);\r\n    }\r\n  }\r\n\r\n  if (currentValue != null && previousValue != null) {\r\n    if (JSON.stringify(currentValue) !== JSON.stringify(previousValue)) {\r\n      change = 'changed';\r\n    } else {\r\n      change = 'none';\r\n    }\r\n  } else if (currentValue != null) {\r\n    change = 'new';\r\n  } else {\r\n    change = 'deleted';\r\n  }\r\n\r\n  return change;\r\n}\r\n\r\nfunction sortKeysAlphabetically(obj: Dictionary): Dictionary {\r\n  if (typeof obj !== 'object') { return obj; }\r\n\r\n  return Object.keys(obj).sort().reduce((acc, key) => ({ ...acc, [key]: obj[key] }), {});\r\n}\r\n"],"sourceRoot":"webpack:///"}
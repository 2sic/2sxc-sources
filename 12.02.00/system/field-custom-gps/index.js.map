{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./projects/edit/shared/helpers/field-mask.helper.ts","webpack:///./projects/field-custom-gps/src/assets/icons/font-awesome/map-marker-alt-solid.svg","webpack:///./projects/field-custom-gps/src/main/main.html","webpack:///./projects/field-custom-gps/src/main/main.scss","webpack:///./projects/field-custom-gps/src/main/main.ts","webpack:///./projects/field-custom-gps/src/preview/preview.html","webpack:///./projects/field-custom-gps/src/preview/preview.scss","webpack:///./projects/field-custom-gps/src/preview/preview.ts","webpack:///./projects/field-custom-gps/src/shared/console-log-webpack.helper.ts","webpack:///./projects/field-custom-gps/src/shared/constants.ts","webpack:///./projects/field-custom-gps/src/shared/helpers.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { AbstractControl } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { Dictionary } from '../../../ng-dialogs/src/app/shared/models/dictionary.model';\r\nimport { EavConfig } from '../models';\r\n\r\n/**\r\n * Create a new FieldMask instance and access result with resolve\r\n * @example\r\n * const mask = new FieldMask(\"[FirstName]\", formGroup.controls);\r\n * const maskValue = mask.resolve();\r\n *\r\n * @param mask a string like \"[FirstName] [LastName]\"\r\n * @param model usually FormGroup controls, passed into here\r\n * @param overloadPreCleanValues a function which will \"scrub\" the found field-values\r\n */\r\nexport class FieldMask {\r\n  private mask: string;\r\n  private model: Dictionary<AbstractControl>;\r\n  private fields: string[] = [];\r\n  private value: string;\r\n  private findFields = /\\[.*?\\]/ig;\r\n  private unwrapField = /[\\[\\]]/ig;\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    mask: string,\r\n    model: Dictionary<AbstractControl>,\r\n    private changeEvent: (newValue: string) => void,\r\n    overloadPreCleanValues: (key: string, value: string) => string,\r\n    private eavConfig?: EavConfig,\r\n  ) {\r\n    this.mask = mask;\r\n    this.model = model;\r\n    this.fields = this.fieldList();\r\n\r\n    if (overloadPreCleanValues) {\r\n      this.preClean = overloadPreCleanValues;\r\n    }\r\n\r\n    // bind auto-watch only if needed...\r\n    if (model && changeEvent) {\r\n      this.watchAllFields();\r\n    }\r\n  }\r\n\r\n  /** Resolves a mask to the final value */\r\n  resolve(): string {\r\n    let value = this.mask;\r\n    if (this.eavConfig != null && value != null) {\r\n      value = value.replace('[App:AppId]', this.eavConfig.appId);\r\n      value = value.replace('[App:ZoneId]', this.eavConfig.zoneId);\r\n    }\r\n    this.fields.forEach((e, i) => {\r\n      const replaceValue = this.model.hasOwnProperty(e) && this.model[e] && this.model[e].value ? this.model[e].value : '';\r\n      const cleaned = this.preClean(e, replaceValue);\r\n      value = value.replace('[' + e + ']', cleaned);\r\n    });\r\n\r\n    return value;\r\n  }\r\n\r\n  /** Retrieves a list of all fields used in the mask */\r\n  fieldList(): string[] {\r\n    const result: string[] = [];\r\n    if (!this.mask) { return result; }\r\n    const matches = this.mask.match(this.findFields);\r\n    if (matches) {\r\n      matches.forEach((e, i) => {\r\n        const staticName = e.replace(this.unwrapField, '');\r\n        result.push(staticName);\r\n      });\r\n    } else { // TODO: ask is this good\r\n      result.push(this.mask);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /** Default preClean function */\r\n  private preClean(key: string, value: string): string {\r\n    return value;\r\n  }\r\n\r\n  /** Change-event - will only fire if it really changes */\r\n  private onChange() {\r\n    const maybeNew = this.resolve();\r\n    if (this.value !== maybeNew) {\r\n      this.changeEvent(maybeNew);\r\n    }\r\n    this.value = maybeNew;\r\n  }\r\n\r\n  /** Add watcher and execute onChange */\r\n  private watchAllFields() {\r\n    // add a watch for each field in the field-mask\r\n    this.fields.forEach(field => {\r\n      if (!this.model[field]) { return; }\r\n      const valueSub = this.model[field].valueChanges.subscribe(value => this.onChange());\r\n      this.subscriptions.push(valueSub);\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    this.subscriptions.forEach(subscription => { subscription.unsubscribe(); });\r\n  }\r\n}\r\n","export default \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"map-marker-alt\\\" class=\\\"svg-inline--fa fa-map-marker-alt fa-w-12\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 384 512\\\"><path fill=\\\"currentColor\\\" d=\\\"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z\\\"></path></svg>\";","export default \"<div class=\\\"custom-gps-container\\\">\\r\\n  <div class=\\\"map-info\\\">\\r\\n    <div class=\\\"input-component\\\">\\r\\n      <label for=\\\"lat\\\">Lat:</label>\\r\\n      <input id=\\\"lat\\\" type=\\\"number\\\" step=\\\"0.001\\\" />\\r\\n    </div>\\r\\n    &nbsp;\\r\\n    <div class=\\\"input-component\\\">\\r\\n      <label for=\\\"lng\\\">Lng:</label>\\r\\n      <input id=\\\"lng\\\" type=\\\"number\\\" step=\\\"0.001\\\" />\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"address-mask-container\\\" class=\\\"map-info address-mask-container hidden\\\">\\r\\n    <a id=\\\"icon-search\\\" class=\\\"btn\\\">\\r\\n      <i class=\\\"material-icons-outlined\\\">search</i>\\r\\n    </a>\\r\\n    <span id=\\\"formatted-address-container\\\"></span>\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"map\\\" class=\\\"map-info__map\\\"></div>\\r\\n</div>\\r\\n\";","export default \".custom-gps-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n\\n.map-info {\\n  flex: 0 0 32px;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  padding: 4px;\\n  padding-left: 14px;\\n  border-bottom: 1px solid #e1e1e1;\\n  background: white;\\n}\\n.map-info label,\\n.map-info #icon-search {\\n  margin-right: 8px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 12px;\\n  text-transform: uppercase;\\n  padding: 4px;\\n}\\n.map-info #icon-search i {\\n  font-size: 14px;\\n  width: 14px;\\n  height: 14px;\\n  font-weight: bold;\\n}\\n.map-info input {\\n  margin-right: 8px;\\n  padding: 4px 16px;\\n  border: none;\\n  background: transparent;\\n  outline: none !important;\\n}\\n\\n.address-mask-container {\\n  flex-wrap: nowrap;\\n}\\n\\n.map-info__map {\\n  flex: 1 1 auto;\\n  width: 100%;\\n  display: block;\\n}\\n\\n.hidden {\\n  display: none;\\n}\\n\\n.btn {\\n  border: 1px solid silver;\\n  border-radius: 4px;\\n}\\n.btn:hover {\\n  background-color: rgba(69, 79, 99, 0.08);\\n  cursor: pointer;\\n}\\n\\n.input-component {\\n  display: flex;\\n  background-color: rgba(69, 79, 99, 0.08);\\n  padding: 4px;\\n  border-radius: 4px 4px 0 0;\\n  border-bottom: 1px solid silver;\\n  margin: 8px 0;\\n}\\n.input-component:hover {\\n  border-bottom: 1px solid #002753;\\n}\";","import { } from 'google-maps';\r\nimport { Connector, EavCustomInputField } from '../../../edit-types';\r\nimport { FieldMask } from '../../../edit/shared/helpers/field-mask.helper';\r\nimport { ElementEventListener } from '../../../edit/shared/models';\r\nimport { consoleLogWebpack } from '../shared/console-log-webpack.helper';\r\nimport { defaultCoordinates, mapsApiUrl } from '../shared/constants';\r\nimport { buildTemplate, parseLatLng, stringifyLatLng } from '../shared/helpers';\r\nimport * as template from './main.html';\r\nimport * as styles from './main.scss';\r\n\r\nconst gpsDialogTag = 'field-custom-gps-dialog';\r\n\r\nclass FieldCustomGpsDialog extends HTMLElement implements EavCustomInputField<string> {\r\n  fieldInitialized: boolean;\r\n  connector: Connector<string>;\r\n\r\n  private addressMask: FieldMask;\r\n  private geocoder: google.maps.Geocoder;\r\n  private iconSearch: HTMLAnchorElement;\r\n  private latFieldName: string;\r\n  private latInput: HTMLInputElement;\r\n  private lngFieldName: string;\r\n  private lngInput: HTMLInputElement;\r\n  private map: google.maps.Map;\r\n  private mapApiUrl: string;\r\n  private mapContainer: HTMLDivElement;\r\n  private marker: google.maps.Marker;\r\n  private eventListeners: ElementEventListener[];\r\n\r\n  constructor() {\r\n    super();\r\n    consoleLogWebpack(`${gpsDialogTag} constructor called`);\r\n    this.fieldInitialized = false;\r\n  }\r\n\r\n  connectedCallback(): void {\r\n    if (this.fieldInitialized) { return; }\r\n    this.fieldInitialized = true;\r\n    consoleLogWebpack(`${gpsDialogTag} connectedCallback called`);\r\n\r\n    this.eventListeners = [];\r\n    this.mapApiUrl = mapsApiUrl();\r\n\r\n    this.innerHTML = buildTemplate(template.default, styles.default);\r\n    this.latInput = this.querySelector<HTMLInputElement>('#lat');\r\n    this.lngInput = this.querySelector<HTMLInputElement>('#lng');\r\n    const addressMaskContainer = this.querySelector<HTMLDivElement>('#address-mask-container');\r\n    this.iconSearch = this.querySelector<HTMLAnchorElement>('#icon-search');\r\n    const formattedAddressContainer = this.querySelector<HTMLSpanElement>('#formatted-address-container');\r\n    this.mapContainer = this.querySelector<HTMLDivElement>('#map');\r\n\r\n    const allInputNames = this.connector._experimental.allInputTypeNames.map(inputType => inputType.name);\r\n    if (allInputNames.includes(this.connector.field.settings.LatField)) {\r\n      this.latFieldName = this.connector.field.settings.LatField;\r\n    }\r\n    if (allInputNames.includes(this.connector.field.settings.LongField)) {\r\n      this.lngFieldName = this.connector.field.settings.LongField;\r\n    }\r\n\r\n    const addressMaskSetting = this.connector.field.settings.AddressMask || this.connector.field.settings['Address Mask'];\r\n    this.addressMask = new FieldMask(addressMaskSetting, this.connector._experimental.formGroup.controls, null, null);\r\n    consoleLogWebpack(`${gpsDialogTag} addressMask:`, addressMaskSetting);\r\n    if (addressMaskSetting) {\r\n      addressMaskContainer.classList.remove('hidden');\r\n      formattedAddressContainer.innerText = this.addressMask.resolve();\r\n    }\r\n\r\n    this.connector.loadScript('google', this.mapApiUrl, () => { this.mapScriptLoaded(); });\r\n  }\r\n\r\n  private mapScriptLoaded(): void {\r\n    consoleLogWebpack(`${gpsDialogTag} mapScriptLoaded called`);\r\n    this.map = new google.maps.Map(this.mapContainer, { zoom: 15, center: defaultCoordinates, gestureHandling: 'greedy' });\r\n    this.marker = new google.maps.Marker({ position: defaultCoordinates, map: this.map, draggable: true });\r\n    this.geocoder = new google.maps.Geocoder();\r\n\r\n    // set initial values\r\n    if (!this.connector.data.value) {\r\n      this.updateHtml(defaultCoordinates);\r\n    } else {\r\n      this.updateHtml(parseLatLng(this.connector.data.value));\r\n    }\r\n\r\n    // listen to inputs, iconSearch and marker. Update inputs, map, marker and form\r\n    const onLatLngInputChange = () => { this.onLatLngInputChange(); };\r\n    this.latInput.addEventListener('change', onLatLngInputChange);\r\n    this.lngInput.addEventListener('change', onLatLngInputChange);\r\n\r\n    const autoSelect = () => { this.autoSelect(); };\r\n    this.iconSearch.addEventListener('click', autoSelect);\r\n\r\n    this.eventListeners.push(\r\n      { element: this.latInput, type: 'change', listener: onLatLngInputChange },\r\n      { element: this.lngInput, type: 'change', listener: onLatLngInputChange },\r\n      { element: this.iconSearch, type: 'click', listener: autoSelect },\r\n    );\r\n\r\n    this.marker.addListener('dragend', (event: google.maps.MouseEvent) => {\r\n      this.onMarkerDragend(event);\r\n    });\r\n  }\r\n\r\n  private updateHtml(latLng: google.maps.LatLngLiteral): void {\r\n    this.latInput.value = latLng.lat?.toString() ?? '';\r\n    this.lngInput.value = latLng.lng?.toString() ?? '';\r\n    this.map.setCenter(latLng);\r\n    this.marker.setPosition(latLng);\r\n  }\r\n\r\n  private updateForm(latLng: google.maps.LatLngLiteral): void {\r\n    this.connector.data.update(stringifyLatLng(latLng));\r\n    if (this.latFieldName) {\r\n      this.connector._experimental.updateField(this.latFieldName, latLng.lat);\r\n    }\r\n    if (this.lngFieldName) {\r\n      this.connector._experimental.updateField(this.lngFieldName, latLng.lng);\r\n    }\r\n  }\r\n\r\n  private onLatLngInputChange(): void {\r\n    consoleLogWebpack(`${gpsDialogTag} input changed`);\r\n    const latLng: google.maps.LatLngLiteral = {\r\n      lat: this.latInput.value.length > 0 ? parseFloat(this.latInput.value) : null,\r\n      lng: this.lngInput.value.length > 0 ? parseFloat(this.lngInput.value) : null,\r\n    };\r\n    this.updateHtml(latLng);\r\n    this.updateForm(latLng);\r\n  }\r\n\r\n  private autoSelect(): void {\r\n    consoleLogWebpack(`${gpsDialogTag} geocoder called`);\r\n    const address = this.addressMask.resolve();\r\n    this.geocoder.geocode({\r\n      address,\r\n    }, (results, status) => {\r\n      if (status === google.maps.GeocoderStatus.OK) {\r\n        const result = results[0].geometry.location;\r\n        const latLng: google.maps.LatLngLiteral = {\r\n          lat: result.lat(),\r\n          lng: result.lng(),\r\n        };\r\n        this.updateHtml(latLng);\r\n        this.updateForm(latLng);\r\n      } else {\r\n        alert(`Could not locate address: ${address}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  private onMarkerDragend(event: google.maps.MouseEvent): void {\r\n    consoleLogWebpack(`${gpsDialogTag} marker changed`);\r\n    const latLng: google.maps.LatLngLiteral = {\r\n      lat: event.latLng.lat(),\r\n      lng: event.latLng.lng(),\r\n    };\r\n    this.updateHtml(latLng);\r\n    this.updateForm(latLng);\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    consoleLogWebpack(`${gpsDialogTag} disconnectedCallback called`);\r\n    google?.maps.event.clearInstanceListeners(this.marker);\r\n    google?.maps.event.clearInstanceListeners(this.map);\r\n\r\n    this.eventListeners.forEach(({ element, type, listener }) => {\r\n      element.removeEventListener(type, listener);\r\n    });\r\n    this.addressMask.destroy();\r\n  }\r\n}\r\n\r\nif (!customElements.get(gpsDialogTag)) {\r\n  customElements.define(gpsDialogTag, FieldCustomGpsDialog);\r\n}\r\n","export default \"<div class=\\\"custom-gps-preview\\\">\\r\\n  <div class=\\\"custom-gps-preview__text\\\">\\r\\n    Lat: <span id=\\\"lat-container\\\"></span>, Lng: <span id=\\\"lng-container\\\"></span>\\r\\n  </div>\\r\\n  <div class=\\\"custom-gps-preview__spacer\\\"></div>\\r\\n  <div id=\\\"map-icon-container\\\" class=\\\"custom-gps-preview__map-icon\\\"></div>\\r\\n</div>\\r\\n\";","export default \".custom-gps-preview {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  font-size: 16px;\\n  line-height: 20px;\\n  margin-bottom: -2px;\\n  cursor: pointer;\\n}\\n.custom-gps-preview__text {\\n  flex-shrink: 0;\\n  max-width: 80%;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.custom-gps-preview__spacer {\\n  flex-grow: 1;\\n}\\n.custom-gps-preview__map-icon {\\n  flex-shrink: 0;\\n  margin-right: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.custom-gps-preview__map-icon svg {\\n  width: 20px;\\n  height: 20px;\\n  line-height: 20px;\\n}\";","import { Connector, EavCustomInputField } from '../../../edit-types';\r\nimport { ElementEventListener } from '../../../edit/shared/models';\r\nimport { consoleLogWebpack } from '../shared/console-log-webpack.helper';\r\nimport { defaultCoordinates } from '../shared/constants';\r\nimport { buildTemplate, customGpsIcons, parseLatLng } from '../shared/helpers';\r\nimport * as template from './preview.html';\r\nimport * as styles from './preview.scss';\r\n\r\nconst gpsTag = 'field-custom-gps';\r\n\r\nclass FieldCustomGps extends HTMLElement implements EavCustomInputField<string> {\r\n  fieldInitialized: boolean;\r\n  connector: Connector<string>;\r\n\r\n  private latContainer: HTMLSpanElement;\r\n  private lngContainer: HTMLSpanElement;\r\n  private eventListeners: ElementEventListener[];\r\n\r\n  constructor() {\r\n    super();\r\n    consoleLogWebpack(`${gpsTag} constructor called`);\r\n    this.fieldInitialized = false;\r\n  }\r\n\r\n  connectedCallback(): void {\r\n    if (this.fieldInitialized) { return; }\r\n    this.fieldInitialized = true;\r\n    consoleLogWebpack(`${gpsTag} connectedCallback called`);\r\n\r\n    this.innerHTML = buildTemplate(template.default, styles.default);\r\n    const mapIconContainer = this.querySelector<HTMLDivElement>('#map-icon-container');\r\n    mapIconContainer.innerHTML = customGpsIcons.mapMarker;\r\n    this.latContainer = this.querySelector<HTMLSpanElement>('#lat-container');\r\n    this.lngContainer = this.querySelector<HTMLSpanElement>('#lng-container');\r\n    this.eventListeners = [];\r\n    const expand = () => { this.expand(); };\r\n    this.addEventListener('click', expand);\r\n    this.eventListeners.push({ element: this, type: 'click', listener: expand });\r\n\r\n    // set initial value\r\n    if (!this.connector.data.value) {\r\n      this.updateHtml(defaultCoordinates);\r\n    } else {\r\n      this.updateHtml(parseLatLng(this.connector.data.value));\r\n    }\r\n\r\n    // update on value change\r\n    this.connector.data.onValueChange(value => {\r\n      if (!value) {\r\n        this.updateHtml(defaultCoordinates);\r\n      } else {\r\n        const latLng = parseLatLng(value);\r\n        this.updateHtml(latLng);\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateHtml(latLng: google.maps.LatLngLiteral): void {\r\n    this.latContainer.innerText = latLng.lat?.toString() ?? '';\r\n    this.lngContainer.innerText = latLng.lng?.toString() ?? '';\r\n  }\r\n\r\n  private expand(): void {\r\n    this.connector.dialog.open();\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    consoleLogWebpack(`${gpsTag} disconnectedCallback called`);\r\n    this.eventListeners.forEach(({ element, type, listener }) => {\r\n      element.removeEventListener(type, listener);\r\n    });\r\n  }\r\n}\r\n\r\nif (!customElements.get(gpsTag)) {\r\n  customElements.define(gpsTag, FieldCustomGps);\r\n}\r\n","declare const __PRODUCTION__: boolean; // set by the definePlugin with string-replace\r\n\r\n/** Console log that doesn't show in Webpack production mode */\r\nexport function consoleLogWebpack(message?: any, ...optionalParams: any[]) {\r\n  if (__PRODUCTION__) { return; }\r\n\r\n  console.groupCollapsed(message, ...optionalParams);\r\n  // tslint:disable-next-line:no-console\r\n  console.trace();\r\n  console.groupEnd();\r\n}\r\n","export const defaultCoordinates: google.maps.LatLngLiteral = {\r\n  lat: 47.17465989999999,\r\n  lng: 9.469142499999975,\r\n};\r\n\r\nconst mapApiKeyPart1 = 'AIzaSyDPhn';\r\nconst mapApiKeyPart2 = 'NKpEg8FmY8nooE7Zwnue6SusxEnHE';\r\n\r\n/** Special helper to assemble the url for the maps */\r\nexport function mapsApiUrl() {\r\n  let url = 'https://maps.googleapis.com/maps/api/js?key=';\r\n  // note: don't use `${...}` here, because that's probably combined at compile time, and we want to keep\r\n  // the key parts separate so the google console doesn't complain about the key being public\r\n  // add some fake condition, to prevent compiler optimization from pre-connecting the strings\r\n  if (url) { url += mapApiKeyPart1; }\r\n  if (!!url) { url += mapApiKeyPart2; }\r\n  return url;\r\n}\r\n","import * as mapMarker from '../assets/icons/font-awesome/map-marker-alt-solid.svg';\r\n\r\nexport const customGpsIcons = {\r\n  mapMarker: mapMarker.default,\r\n};\r\n\r\nexport function buildTemplate(template: string, styles: string): string {\r\n  return `${template}<style>\\n${styles}\\n</style>`;\r\n}\r\n\r\nexport function parseLatLng(value: string): google.maps.LatLngLiteral {\r\n  const latLng: google.maps.LatLngLiteral = JSON.parse(value.replace('latitude', 'lat').replace('longitude', 'lng'));\r\n  return latLng;\r\n}\r\n\r\nexport function stringifyLatLng(latLng: google.maps.LatLngLiteral): string {\r\n  const value = JSON.stringify(latLng).replace('lat', 'latitude').replace('lng', 'longitude');\r\n  return value;\r\n}\r\n"],"sourceRoot":""}
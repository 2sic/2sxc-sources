"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40"],{8032:(U,r,s)=>{s.r(r),s.d(r,{LanguagePermissionsComponent:()=>$});var u=s(6482),p=s(8071),v=s(3839),h=s(9736),f=s(1702),C=s(8088),P=s(6041),O=s(5253),Z=s(6433),e=s(9039),g=s(9498),l=s(6515),L=s(257),y=s(5392);let T=(()=>{class i{agInit(a){this.params=a,this.language=this.params.data}refresh(a){return!0}openPermissions(){this.params.onOpenPermissions(this.language)}static#e=this.\u0275fac=function(n){return new(n||i)};static#s=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-languages-permissions-actions"]],decls:4,vars:2,consts:[[1,"actions-component"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return t.openPermissions()}),e.TgZ(2,"mat-icon",2),e._uU(3," person "),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("matBadge",t.language.Permissions.Count)("matBadgeHidden",!t.language.Permissions.Count))},dependencies:[g.$,l.Hw,L.wG,y.k]})}return i})();var o=s(91),d=s(6861),m=s(6575),A=s(895),x=s(8621);function I(i,D){if(1&i){const a=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._uU(3,"Language permissions"),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.closeDialog())}),e.TgZ(5,"mat-icon"),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",5)(8,"p"),e._uU(9," If no language permissions are defined, all editors can edit all languages. As soon as you set any language permission, only the specified users (or users in the specified groups) can edit these permissions. "),e.qZA(),e._UZ(10,"router-outlet"),e.TgZ(11,"div",6),e._UZ(12,"ag-grid-angular",7),e.qZA(),e._UZ(13,"mat-dialog-actions",8),e.qZA()()}if(2&i){const a=D.ngIf,n=e.oxw();e.xp6(12),e.Q6J("rowData",a.languages)("gridOptions",n.gridOptions)}}let $=(()=>{class i extends P.H{constructor(a,n,t,c){super(a,n),this.router=a,this.route=n,this.dialogRef=t,this.zoneService=c,this.subscription=new u.w0,this.languages$=new p.X(void 0),this.gridOptions=this.buildGridOptions()}ngOnInit(){this.getLanguages(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.getLanguages()})),this.viewModel$=(0,v.a)([this.languages$]).pipe((0,h.U)(([a])=>({languages:a})))}ngOnDestroy(){this.languages$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}openPermissions(a){this.router.navigate([C.iK.getUrlLanguage(a.NameId)],{relativeTo:this.route})}getLanguages(){this.zoneService.getLanguagesPermissions().subscribe({error:()=>{this.languages$.next(void 0)},next:a=>{this.languages$.next(a)}})}buildGridOptions(){return{...Z.f,columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter",valueGetter:n=>n.data.Code,cellRenderer:O.m,cellRendererParams:{tooltipGetter:t=>`ID: ${t.Code}`}},{field:"Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,sort:"asc",filter:"agTextColumnFilter",valueGetter:n=>n.data.Culture},{width:42,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:T,cellRendererParams:(()=>({onOpenPermissions:t=>this.openPermissions(t)}))()}]}}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(o.F0),e.Y36(o.gz),e.Y36(d.so),e.Y36(f.b))};static#s=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-language-permissions"]],features:[e.qOj],decls:2,vars:3,consts:[["class","eav-dialog nav-component-wrapper",4,"ngIf"],[1,"eav-dialog","nav-component-wrapper"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content","nav-component-wrapper"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],["align","end"]],template:function(n,t){1&n&&(e.YNc(0,I,14,2,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,t.viewModel$))},dependencies:[o.lC,g.$,d.H8,m.O5,A.RK,l.Hw,x.N8,m.Ov]})}return i})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.00.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40.506b389fbe96899c.js.map
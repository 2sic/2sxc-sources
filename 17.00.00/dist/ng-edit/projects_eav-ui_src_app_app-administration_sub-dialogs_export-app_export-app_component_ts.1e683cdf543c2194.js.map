{"version":3,"file":"projects_eav-ui_src_app_app-administration_sub-dialogs_export-app_export-app_component_ts.1e683cdf543c2194.js","mappings":"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","names":["i0","$event","_r5","ctx_r4","includeContentGroups","ctx_r6","resetAppGuid","vm_r1","appInfo","Name","Guid","Version","EntitiesCount","LanguagesCount","TemplatesCount","HasTokenTemplates","HasRazorTemplates","TransferableFilesCount","FilesCount","ctx_r3","isExporting","ExportAppComponent_ng_container_0_mat_spinner_6_Template","ExportAppComponent_ng_container_0_div_15_Template","_r9","ctx_r8","closeDialog","ctx_r10","exportApp","ExportAppComponent","constructor","dialogRef","exportAppService","this","hostClass","appInfo$","BehaviorSubject","isExporting$","viewModel$","combineLatest","pipe","map","ngOnInit","getAppInfo","subscribe","next","ngOnDestroy","complete","close","static","t","i1","i2","_angular_core__WEBPACK_IMPORTED_MODULE_1__","Xpm","selectors","hostVars","hostBindings","rf","ctx","ExportAppComponent_ng_container_0_Template"],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.html","./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.ts"],"sourcesContent":["<ng-container *ngIf=\"viewModel$ | async as vm\">\r\n  <div class=\"eav-dialog\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">Export app</div>\r\n    </div>\r\n    <div class=\"eav-dialog-content\">\r\n      <mat-spinner *ngIf=\"vm.isExporting\" mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n    \r\n      <p>\r\n        Pack the entire app to a <em>zip</em> folder which can be imported again to another site.\r\n        For further help visit <a href=\"https://2sxc.org/en/help?tag=export-app\" target=\"_blank\">2sxc Help</a>.\r\n      </p>\r\n    \r\n      <div *ngIf=\"vm.appInfo\">\r\n        <p class=\"eav-app-info__title\">Specs</p>\r\n        <ul class=\"eav-app-info__content\">\r\n          <li>Name: {{ vm.appInfo.Name }}</li>\r\n          <li>Guid: {{ vm.appInfo.Guid }}</li>\r\n          <li>Version: {{ vm.appInfo.Version }}</li>\r\n        </ul>\r\n    \r\n        <p class=\"eav-app-info__title\">Contains</p>\r\n        <ul class=\"eav-app-info__content\">\r\n          <li>{{ vm.appInfo.EntitiesCount }} entities</li>\r\n          <li>{{ vm.appInfo.LanguagesCount }} languages</li>\r\n          <li>\r\n            {{ vm.appInfo.TemplatesCount }} templates (Token: {{ vm.appInfo.HasTokenTemplates }}, Razor:\r\n            {{ vm.appInfo.HasRazorTemplates }})\r\n          </li>\r\n          <li>{{ vm.appInfo.TransferableFilesCount }} files to export</li>\r\n          <li>{{ vm.appInfo.FilesCount }} files in the app folder totally</li>\r\n        </ul>\r\n    \r\n        <div class=\"eav-options-wrapper\">\r\n          <div class=\"oeav-ption-box\">\r\n            <mat-checkbox [(ngModel)]=\"includeContentGroups\" [disabled]=\"resetAppGuid || vm.isExporting\">\r\n              <span class=\"eav-option-box__text\">\r\n                Include all content-groups to re-import the app in an exact copy of this site.\r\n                Only select this option when you copy an entire DNN site.\r\n              </span>\r\n            </mat-checkbox>\r\n          </div>\r\n          <div class=\"eav-option-box\">\r\n            <mat-checkbox [(ngModel)]=\"resetAppGuid\" [disabled]=\"includeContentGroups || vm.isExporting\">\r\n              <span class=\"eav-option-box__text\">\r\n                Reset the app GUID to zero. You only need this option for special tutorial apps,\r\n                and usually must not select it.\r\n              </span>\r\n            </mat-checkbox>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-dialog-actions align=\"end\">\r\n      <button mat-raised-button [disabled]=\"vm.isExporting\" (click)=\"closeDialog()\">\r\n        Cancel\r\n      </button>\r\n      <button mat-raised-button color=\"accent\" [disabled]=\"vm.isExporting\" (click)=\"exportApp()\">\r\n        Export App\r\n      </button>\r\n    </mat-dialog-actions>\r\n  </div>\r\n</ng-container>","import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { BehaviorSubject, combineLatest, map } from 'rxjs';\r\nimport { AppInfo } from '../../models/app-info.model';\r\nimport { ExportAppService } from '../../services/export-app.service';\r\n\r\n@Component({\r\n  selector: 'app-export-app',\r\n  templateUrl: './export-app.component.html',\r\n  styleUrls: ['./export-app.component.scss'],\r\n})\r\nexport class ExportAppComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  includeContentGroups = false;\r\n  resetAppGuid = false;\r\n  private appInfo$ = new BehaviorSubject<AppInfo>(null);\r\n  private isExporting$ = new BehaviorSubject(false);\r\n  viewModel$ = combineLatest([this.appInfo$, this.isExporting$]).pipe(\r\n    map(([appInfo, isExporting]) => ({ appInfo, isExporting })),\r\n  );\r\n\r\n  constructor(private dialogRef: MatDialogRef<ExportAppComponent>, private exportAppService: ExportAppService) { }\r\n\r\n  ngOnInit() {\r\n    this.exportAppService.getAppInfo().subscribe(appInfo => {\r\n      this.appInfo$.next(appInfo);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.appInfo$.complete();\r\n    this.isExporting$.complete();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  exportApp() {\r\n    this.isExporting$.next(true);\r\n    this.exportAppService.exportApp(this.includeContentGroups, this.resetAppGuid);\r\n    this.isExporting$.next(false);\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
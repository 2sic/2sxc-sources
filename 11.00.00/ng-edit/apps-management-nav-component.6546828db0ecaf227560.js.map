{"version":3,"sources":["./src/app/apps-management/shared/ag-grid-components/apps-list-show/apps-list-show.component.html","./src/app/apps-management/shared/ag-grid-components/apps-list-show/apps-list-show.component.ts","./src/app/apps-management/shared/ag-grid-components/apps-list-actions/apps-list-actions.component.html","./src/app/apps-management/shared/ag-grid-components/apps-list-actions/apps-list-actions.component.ts","./src/app/apps-management/shared/constants/app.ts","./src/app/apps-management/apps-list/apps-list.component.ts","./src/app/apps-management/apps-list/apps-list.component.html","./src/app/apps-management/shared/ag-grid-components/enable-languages-status/enable-languages-status.component.ts","./src/app/apps-management/shared/ag-grid-components/enable-languages-status/enable-languages-status.component.html","./src/app/apps-management/enable-languages/enable-languages.component.ts","./src/app/apps-management/enable-languages/enable-languages.component.html","./src/app/apps-management/shared/ag-grid-components/features-list-enabled/features-list-enabled.component.html","./src/app/apps-management/shared/ag-grid-components/features-list-enabled/features-list-enabled.component.ts","./src/app/apps-management/shared/ag-grid-components/features-list-ui/features-list-ui.component.html","./src/app/apps-management/shared/ag-grid-components/features-list-ui/features-list-ui.component.ts","./src/app/apps-management/shared/ag-grid-components/features-list-public/features-list-public.component.html","./src/app/apps-management/shared/ag-grid-components/features-list-public/features-list-public.component.ts","./src/app/apps-management/shared/ag-grid-components/features-list-security/features-list-security.component.ts","./src/app/apps-management/shared/ag-grid-components/features-list-security/features-list-security.component.html","./src/app/apps-management/manage-features/manage-features.component.html","./src/app/apps-management/manage-features/manage-features.component.ts","./src/app/apps-management/sxc-insights/sxc-insights.component.html","./src/app/apps-management/sxc-insights/sxc-insights.component.ts","./src/app/apps-management/apps-management-nav/apps-management-nav.component.html","./src/app/apps-management/apps-management-nav/apps-management-nav.component.ts"],"names":["agInit","params","this","value","refresh","AppsListShowComponent","app","data","deleteApp","onDelete","AppsListActionsComponent","appNamePattern","router","route","appsListService","snackBar","columnDefs","headerName","field","width","headerClass","cellClass","cellRenderer","sortable","filter","valueGetter","idValueGetter","showValueGetter","flex","minWidth","onCellClicked","openApp","bind","cellRendererParams","frameworkComponents","booleanFilterComponent","idFieldComponent","appsListShowComponent","appsListActionsComponent","modules","subscription","Subscription","hasChild","snapshot","firstChild","ngOnInit","fetchAppsList","refreshOnChildClosed","ngOnDestroy","unsubscribe","browseCatalog","window","open","createApp","name","prompt","trim","replace","match","create","subscribe","importApp","navigate","relativeTo","getAll","apps","Id","Guid","IsHidden","result","Name","delete","duration","alert","toString","parent","add","events","pipe","event","hadChild","AppsListComponent","toggleLanguage","onEnabledToggle","EnableLanguagesStatusComponent","languagesService","handleNameClicked","enableLanguagesStatusComponent","fetchLanguages","Code","language","save","IsEnabled","languages","EnableLanguagesComponent","FeaturesListEnabledComponent","FeaturesListUiComponent","FeaturesListPublicComponent","FeaturesListSecurityComponent","sanitizer","featuresConfigService","showManagement","showSpinner","openFeature","valueGetterDateTime","featuresListEnabledComponent","featuresListUiComponent","featuresListPublicComponent","featuresListSecurityComponent","fetchFeatures","destroyManagementListener","toggleManagement","openManagement","id","features","managementUrl","bypassSecurityTrustResourceUrl","getManageFeaturesUrl","url","indexOf","Error","managementCallbackBound","managementCallback","addEventListener","managementListener","element","type","listener","origin","endsWith","featuresString","JSON","stringify","saveFeatures","e","removeEventListener","rawValue","colDef","substring","ManageFeaturesComponent","sxcInsightsService","positiveWholeNumber","actionsDiabled","openInsights","activatePageLog","pageLogDuration","res","undefined","SxcInsightsComponent","dialogRef","context","tabs","zoneId","tabIndex","path","closeDialog","close","changeTab","index","AppsManagementNavComponent"],"mappings":"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","file":"apps-management-nav-component.6546828db0ecaf227560.js","sourcesContent":["<div class=\"icon-container\">\r\n  <mat-icon matTooltip=\"Show this app to users\" *ngIf=\"value\">visibility</mat-icon>\r\n  <mat-icon matTooltip=\"Don't show this app to users\" *ngIf=\"!value\">visibility_off</mat-icon>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-show',\r\n  templateUrl: './apps-list-show.component.html',\r\n  styleUrls: ['./apps-list-show.component.scss']\r\n})\r\nexport class AppsListShowComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"like-button highlight\" matRipple *ngIf=\"app.IsApp\" matTooltip=\"Delete\" (click)=\"deleteApp()\">\r\n    <mat-icon>delete</mat-icon>\r\n  </div>\r\n  <div class=\"like-button disabled\" *ngIf=\"!app.IsApp\">\r\n    <mat-icon>delete</mat-icon>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\nimport { App } from '../../../../shared/models/app.model';\r\nimport { AppsListActionsParams } from '../../models/apps-list-actions-params.model';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-actions',\r\n  templateUrl: './apps-list-actions.component.html',\r\n  styleUrls: ['./apps-list-actions.component.scss']\r\n})\r\nexport class AppsListActionsComponent implements ICellRendererAngularComp {\r\n  private params: AppsListActionsParams;\r\n  app: App;\r\n\r\n  agInit(params: AppsListActionsParams) {\r\n    this.params = params;\r\n    this.app = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  deleteApp() {\r\n    this.params.onDelete(this.app);\r\n  }\r\n}\r\n","export const appNamePattern = /^[A-Za-z](?:[A-Za-z0-9\\s\\(\\)]+)*$/;\r\nexport const appNameError = 'Standard letters, numbers, spaces and round brackets are allowed. Must start with a letter.';\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { AllCommunityModules, ColDef, CellClickedEvent, ValueGetterParams } from '@ag-grid-community/all-modules';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\nimport { App } from '../../shared/models/app.model';\r\nimport { AppsListService } from '../shared/services/apps-list.service';\r\nimport { AppsListShowComponent } from '../shared/ag-grid-components/apps-list-show/apps-list-show.component';\r\nimport { AppsListActionsComponent } from '../shared/ag-grid-components/apps-list-actions/apps-list-actions.component';\r\nimport { AppsListActionsParams } from '../shared/models/apps-list-actions-params.model';\r\nimport { appNamePattern, appNameError } from '../shared/constants/app';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\n\r\n@Component({\r\n  selector: 'app-apps-list',\r\n  templateUrl: './apps-list.component.html',\r\n  styleUrls: ['./apps-list.component.scss']\r\n})\r\nexport class AppsListComponent implements OnInit, OnDestroy {\r\n  apps: App[];\r\n\r\n  columnDefs: ColDef[] = [\r\n    {\r\n      headerName: 'ID', field: 'Id', width: 70, headerClass: 'dense', cellClass: 'id-action no-padding no-outline',\r\n      cellRenderer: 'idFieldComponent', sortable: true, filter: 'agTextColumnFilter', valueGetter: this.idValueGetter,\r\n    },\r\n    {\r\n      headerName: 'Show', field: 'IsHidden', width: 70, headerClass: 'dense', cellClass: 'icons no-outline', sortable: true,\r\n      filter: 'booleanFilterComponent', cellRenderer: 'appsListShowComponent', valueGetter: this.showValueGetter,\r\n    },\r\n    {\r\n      headerName: 'Name', field: 'Name', flex: 2, minWidth: 250, cellClass: 'primary-action highlight', sortable: true,\r\n      filter: 'agTextColumnFilter', onCellClicked: this.openApp.bind(this),\r\n    },\r\n    {\r\n      width: 40, cellClass: 'secondary-action no-padding', cellRenderer: 'appsListActionsComponent',\r\n      cellRendererParams: {\r\n        onDelete: this.deleteApp.bind(this),\r\n      } as AppsListActionsParams,\r\n    },\r\n    {\r\n      headerName: 'Folder', field: 'Folder', flex: 2, minWidth: 250, cellClass: 'no-outline', sortable: true,\r\n      filter: 'agTextColumnFilter',\r\n    },\r\n  ];\r\n  frameworkComponents = {\r\n    booleanFilterComponent: BooleanFilterComponent,\r\n    idFieldComponent: IdFieldComponent,\r\n    appsListShowComponent: AppsListShowComponent,\r\n    appsListActionsComponent: AppsListActionsComponent,\r\n  };\r\n  modules = AllCommunityModules;\r\n\r\n  private subscription = new Subscription();\r\n  private hasChild: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private appsListService: AppsListService,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n    this.hasChild = !!this.route.snapshot.firstChild.firstChild;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchAppsList();\r\n    this.refreshOnChildClosed();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription = null;\r\n  }\r\n\r\n  browseCatalog() {\r\n    window.open('http://2sxc.org/apps');\r\n  }\r\n\r\n  createApp() {\r\n    let name = prompt('Enter App Name (will also be used for folder)');\r\n    if (name === null) { return; }\r\n    name = name.trim().replace(/\\s\\s+/g, ' '); // remove multiple white spaces and tabs\r\n    while (!name.match(appNamePattern)) {\r\n      name = prompt(`Enter App Name (will also be used for folder)\\n${appNameError}`, name);\r\n      if (name === null) { return; }\r\n      name = name.trim().replace(/\\s\\s+/g, ' '); // remove multiple white spaces and tabs\r\n    }\r\n    this.appsListService.create(name).subscribe(() => {\r\n      this.fetchAppsList();\r\n    });\r\n  }\r\n\r\n  importApp() {\r\n    this.router.navigate(['import'], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private fetchAppsList() {\r\n    this.appsListService.getAll().subscribe(apps => {\r\n      this.apps = apps;\r\n    });\r\n  }\r\n\r\n  private idValueGetter(params: ValueGetterParams) {\r\n    const app: App = params.data;\r\n    return `ID: ${app.Id}\\nGUID: ${app.Guid}`;\r\n  }\r\n\r\n  private showValueGetter(params: ValueGetterParams) {\r\n    const app: App = params.data;\r\n    return !app.IsHidden;\r\n  }\r\n\r\n  private deleteApp(app: App) {\r\n    // tslint:disable-next-line:max-line-length\r\n    const result = prompt(`This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${app.Name}' (${app.Id})?`);\r\n    if (result === null) {\r\n      return;\r\n    } else if (result === app.Name || result === 'yes!') {\r\n      this.snackBar.open(`Deleting...`);\r\n      this.appsListService.delete(app.Id).subscribe(() => {\r\n        this.snackBar.open(`Deleted`, null, { duration: 2000 });\r\n        this.fetchAppsList();\r\n      });\r\n    } else {\r\n      alert('Input did not match - will not delete');\r\n    }\r\n  }\r\n\r\n  private openApp(params: CellClickedEvent) {\r\n    const appId = (params.data as App).Id;\r\n    this.router.navigate([appId.toString()], { relativeTo: this.route.parent });\r\n  }\r\n\r\n  private refreshOnChildClosed() {\r\n    this.subscription.add(\r\n      this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe((event: NavigationEnd) => {\r\n        const hadChild = this.hasChild;\r\n        this.hasChild = !!this.route.snapshot.firstChild.firstChild;\r\n        if (!this.hasChild && hadChild) {\r\n          this.fetchAppsList();\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","<div class=\"grid-wrapper-nav\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"apps\" [columnDefs]=\"columnDefs\" [modules]=\"modules\"\r\n    [frameworkComponents]=\"frameworkComponents\" [enableCellTextSelection]=\"true\" [suppressScrollOnNewData]=\"true\"\r\n    [animateRows]=\"true\" [accentedSort]=\"true\" [valueCache]=\"true\" [headerHeight]=\"32\">\r\n  </ag-grid-angular>\r\n\r\n  <eco-fab-speed-dial class=\"grid-fab\">\r\n    <eco-fab-speed-dial-trigger spin=\"true\">\r\n      <button mat-fab>\r\n        <mat-icon class=\"spin180\">add</mat-icon>\r\n      </button>\r\n    </eco-fab-speed-dial-trigger>\r\n\r\n    <eco-fab-speed-dial-actions>\r\n      <button mat-mini-fab matTooltip=\"Find more apps\" (click)=\"browseCatalog()\">\r\n        <mat-icon>search</mat-icon>\r\n      </button>\r\n      <button mat-mini-fab matTooltip=\"Import app\" (click)=\"importApp()\">\r\n        <mat-icon>cloud_upload</mat-icon>\r\n      </button>\r\n      <button mat-mini-fab matTooltip=\"Create app\" (click)=\"createApp()\">\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n    </eco-fab-speed-dial-actions>\r\n  </eco-fab-speed-dial>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\nimport { EnableLanguage } from '../../models/enable-language.model';\r\nimport { EnableLanguagesStatusParams } from '../../models/enable-languages-status-params.model';\r\n\r\n@Component({\r\n  selector: 'app-enable-languages-status',\r\n  templateUrl: './enable-languages-status.component.html',\r\n  styleUrls: ['./enable-languages-status.component.scss']\r\n})\r\nexport class EnableLanguagesStatusComponent implements ICellRendererAngularComp {\r\n  private params: EnableLanguagesStatusParams;\r\n  value: boolean;\r\n\r\n  agInit(params: EnableLanguagesStatusParams) {\r\n    this.params = params;\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  toggleLanguage() {\r\n    const language: EnableLanguage = this.params.data;\r\n    this.params.onEnabledToggle(language);\r\n  }\r\n}\r\n","<div class=\"cell-box\">\r\n  <mat-slide-toggle [checked]=\"value\" (change)=\"toggleLanguage()\"></mat-slide-toggle>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AllCommunityModules, ColDef, CellClickedEvent, ValueGetterParams } from '@ag-grid-community/all-modules';\r\n\r\nimport { EnableLanguagesService } from '../shared/services/enable-languages.service';\r\nimport { EnableLanguage } from '../shared/models/enable-language.model';\r\nimport { EnableLanguagesStatusComponent } from '../shared/ag-grid-components/enable-languages-status/enable-languages-status.component';\r\nimport { EnableLanguagesStatusParams } from '../shared/models/enable-languages-status-params.model';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\n\r\n@Component({\r\n  selector: 'app-enable-languages',\r\n  templateUrl: './enable-languages.component.html',\r\n  styleUrls: ['./enable-languages.component.scss']\r\n})\r\nexport class EnableLanguagesComponent implements OnInit {\r\n  languages: EnableLanguage[];\r\n\r\n  columnDefs: ColDef[] = [\r\n    {\r\n      headerName: 'ID', field: 'Code', width: 70, headerClass: 'dense', cellClass: 'id-action no-padding no-outline',\r\n      cellRenderer: 'idFieldComponent', sortable: true, filter: 'agTextColumnFilter', valueGetter: this.idValueGetter,\r\n    },\r\n    {\r\n      headerName: 'Name', field: 'Culture', flex: 2, minWidth: 250, cellClass: 'primary-action highlight no-outline', sortable: true,\r\n      filter: 'agTextColumnFilter', onCellClicked: this.handleNameClicked.bind(this),\r\n    },\r\n    {\r\n      headerName: 'Status', field: 'IsEnabled', width: 70, headerClass: 'dense', cellClass: 'no-padding no-outline',\r\n      cellRenderer: 'enableLanguagesStatusComponent', sortable: true, filter: 'booleanFilterComponent',\r\n      cellRendererParams: {\r\n        onEnabledToggle: this.toggleLanguage.bind(this),\r\n      } as EnableLanguagesStatusParams,\r\n    },\r\n  ];\r\n  frameworkComponents = {\r\n    idFieldComponent: IdFieldComponent,\r\n    booleanFilterComponent: BooleanFilterComponent,\r\n    enableLanguagesStatusComponent: EnableLanguagesStatusComponent,\r\n  };\r\n  modules = AllCommunityModules;\r\n\r\n  constructor(private languagesService: EnableLanguagesService) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchLanguages();\r\n  }\r\n\r\n  private idValueGetter(params: ValueGetterParams) {\r\n    const language: EnableLanguage = params.data;\r\n    return `ID: ${language.Code}`;\r\n  }\r\n\r\n  private handleNameClicked(params: CellClickedEvent) {\r\n    const language: EnableLanguage = params.data;\r\n    this.toggleLanguage(language);\r\n  }\r\n\r\n  private toggleLanguage(language: EnableLanguage) {\r\n    this.languagesService.save(language.Code, !language.IsEnabled).subscribe(() => {\r\n      this.fetchLanguages();\r\n    });\r\n  }\r\n\r\n  private fetchLanguages() {\r\n    this.languagesService.getAll().subscribe(languages => {\r\n      this.languages = languages;\r\n    });\r\n  }\r\n}\r\n","<div class=\"grid-wrapper-nav\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"languages\" [columnDefs]=\"columnDefs\" [modules]=\"modules\"\r\n    [frameworkComponents]=\"frameworkComponents\" [enableCellTextSelection]=\"true\" [suppressScrollOnNewData]=\"true\"\r\n    [animateRows]=\"true\" [accentedSort]=\"true\" [valueCache]=\"true\" [headerHeight]=\"32\">\r\n  </ag-grid-angular>\r\n</div>\r\n","<div class=\"icon-container\">\r\n  <mat-icon matTooltip=\"Feature is enabled\" *ngIf=\"value\">toggle_on</mat-icon>\r\n  <mat-icon matTooltip=\"Feature is disabled\" *ngIf=\"!value\">toggle_off</mat-icon>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-features-list-enabled',\r\n  templateUrl: './features-list-enabled.component.html',\r\n  styleUrls: ['./features-list-enabled.component.scss']\r\n})\r\nexport class FeaturesListEnabledComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon *ngIf=\"value\">visibility</mat-icon>\r\n  <mat-icon *ngIf=\"!value\">remove</mat-icon>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-features-list-ui',\r\n  templateUrl: './features-list-ui.component.html',\r\n  styleUrls: ['./features-list-ui.component.scss']\r\n})\r\nexport class FeaturesListUiComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon *ngIf=\"value\">person</mat-icon>\r\n  <mat-icon *ngIf=\"!value\">remove</mat-icon>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-features-list-public',\r\n  templateUrl: './features-list-public.component.html',\r\n  styleUrls: ['./features-list-public.component.scss']\r\n})\r\nexport class FeaturesListPublicComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-features-list-security',\r\n  templateUrl: './features-list-security.component.html',\r\n  styleUrls: ['./features-list-security.component.scss']\r\n})\r\nexport class FeaturesListSecurityComponent implements ICellRendererAngularComp {\r\n\r\n  agInit(params: ICellRendererParams) {\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon matTooltip=\"Security Status still work-in progress\" class=\"feature-security-icon\">help</mat-icon>\r\n</div>\r\n","<div class=\"grid-wrapper-nav\" [ngClass]=\"{ 'iframe-wrapper': showManagement }\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [ngClass]=\"{ 'force-hide': showManagement }\" [rowData]=\"features\"\r\n    [columnDefs]=\"columnDefs\" [modules]=\"modules\" [frameworkComponents]=\"frameworkComponents\"\r\n    [enableCellTextSelection]=\"true\" [suppressScrollOnNewData]=\"true\" [animateRows]=\"true\" [accentedSort]=\"true\"\r\n    [valueCache]=\"true\" [headerHeight]=\"32\">\r\n  </ag-grid-angular>\r\n\r\n  <mat-spinner class=\"spinner\" *ngIf=\"showSpinner\" mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n\r\n  <iframe class=\"iframe\" *ngIf=\"showManagement\" [src]=\"managementUrl\"></iframe>\r\n\r\n  <button mat-fab mat-elevation-z24 class=\"grid-fab\" matTooltip=\"Manage features\" (click)=\"toggleManagement()\">\r\n    <mat-icon>tune</mat-icon>\r\n  </button>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { SafeUrl, DomSanitizer } from '@angular/platform-browser';\r\nimport { AllCommunityModules, ColDef, ICellRendererParams, ValueGetterParams, CellClickedEvent } from '@ag-grid-community/all-modules';\r\n\r\nimport { Feature } from '../shared/models/feature.model';\r\nimport { FeaturesListEnabledComponent } from '../shared/ag-grid-components/features-list-enabled/features-list-enabled.component';\r\nimport { FeaturesListUiComponent } from '../shared/ag-grid-components/features-list-ui/features-list-ui.component';\r\nimport { FeaturesListPublicComponent } from '../shared/ag-grid-components/features-list-public/features-list-public.component';\r\nimport { FeaturesListSecurityComponent } from '../shared/ag-grid-components/features-list-security/features-list-security.component';\r\nimport { FeaturesConfigService } from '../shared/services/features-config.service';\r\nimport { ElementEventListener } from '../../../../../shared/element-event-listener-model';\r\nimport { ManageFeaturesMessageData } from '../shared/models/manage-features-message-data.model';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\n\r\n@Component({\r\n  selector: 'app-manage-features',\r\n  templateUrl: './manage-features.component.html',\r\n  styleUrls: ['./manage-features.component.scss']\r\n})\r\nexport class ManageFeaturesComponent implements OnInit, OnDestroy {\r\n  features: Feature[];\r\n  showManagement = false;\r\n  showSpinner = false;\r\n  managementUrl: SafeUrl;\r\n  managementListener: ElementEventListener;\r\n\r\n  columnDefs: ColDef[] = [\r\n    {\r\n      headerName: 'ID', field: 'id', width: 70, headerClass: 'dense', cellClass: 'id-action no-padding no-outline',\r\n      cellRenderer: 'idFieldComponent', sortable: true, filter: 'agTextColumnFilter', valueGetter: this.idValueGetter,\r\n    },\r\n    {\r\n      headerName: 'Enabled', field: 'enabled', width: 80, headerClass: 'dense', cellClass: 'no-outline',\r\n      sortable: true, filter: 'booleanFilterComponent', cellRenderer: 'featuresListEnabledComponent',\r\n    },\r\n    {\r\n      headerName: 'UI', field: 'ui', width: 70, headerClass: 'dense', cellClass: 'no-outline',\r\n      sortable: true, filter: 'booleanFilterComponent', cellRenderer: 'featuresListUiComponent',\r\n    },\r\n    {\r\n      headerName: 'Public', field: 'public', width: 70, headerClass: 'dense', cellClass: 'no-outline',\r\n      sortable: true, filter: 'booleanFilterComponent', cellRenderer: 'featuresListPublicComponent'\r\n    },\r\n    {\r\n      headerName: 'Name', field: 'id', flex: 2, minWidth: 250, cellClass: 'primary-action highlight', sortable: true,\r\n      filter: 'agTextColumnFilter', onCellClicked: this.openFeature,\r\n      cellRenderer: (params: ICellRendererParams) => `details (name lookup still WIP)`,\r\n    },\r\n    {\r\n      headerName: 'Expires', field: 'expires', flex: 1, minWidth: 200, cellClass: 'no-outline',\r\n      sortable: true, filter: 'agTextColumnFilter', valueGetter: this.valueGetterDateTime,\r\n    },\r\n    { headerName: 'Security', width: 70, cellClass: 'no-outline', cellRenderer: 'featuresListSecurityComponent' },\r\n  ];\r\n  frameworkComponents = {\r\n    booleanFilterComponent: BooleanFilterComponent,\r\n    idFieldComponent: IdFieldComponent,\r\n    featuresListEnabledComponent: FeaturesListEnabledComponent,\r\n    featuresListUiComponent: FeaturesListUiComponent,\r\n    featuresListPublicComponent: FeaturesListPublicComponent,\r\n    featuresListSecurityComponent: FeaturesListSecurityComponent,\r\n  };\r\n  modules = AllCommunityModules;\r\n\r\n  constructor(private sanitizer: DomSanitizer, private featuresConfigService: FeaturesConfigService) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchFeatures();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyManagementListener();\r\n  }\r\n\r\n  toggleManagement() {\r\n    this.showManagement = !this.showManagement;\r\n    this.destroyManagementListener();\r\n    if (this.showManagement) {\r\n      this.openManagement();\r\n    }\r\n  }\r\n\r\n  private idValueGetter(params: ValueGetterParams) {\r\n    const feature: Feature = params.data;\r\n    return `GUID: ${feature.id}`;\r\n  }\r\n\r\n  private openFeature(params: CellClickedEvent) {\r\n    window.open(`https://2sxc.org/r/f/${params.value}`, '_blank');\r\n  }\r\n\r\n  private fetchFeatures() {\r\n    this.featuresConfigService.getAll().subscribe(features => {\r\n      this.features = features;\r\n    });\r\n  }\r\n\r\n  private openManagement() {\r\n    this.showSpinner = true;\r\n    this.managementUrl = this.sanitizer.bypassSecurityTrustResourceUrl(''); // reset url\r\n\r\n    this.featuresConfigService.getManageFeaturesUrl().subscribe(url => {\r\n      this.showSpinner = false;\r\n\r\n      if (url.indexOf('error: user needs host permissions') > -1) {\r\n        this.showManagement = false;\r\n        throw new Error('User needs host permissions!');\r\n      }\r\n\r\n      this.managementUrl = this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n      const managementCallbackBound = this.managementCallback.bind(this);\r\n      // event to receive message from iframe\r\n      window.addEventListener('message', managementCallbackBound);\r\n      this.managementListener = { element: window, type: 'message', listener: managementCallbackBound };\r\n    });\r\n  }\r\n\r\n  /** This should await callbacks from the iframe and if it gets a valid callback containing a json, it should send it to the server */\r\n  private managementCallback(event: MessageEvent) {\r\n    this.destroyManagementListener();\r\n    if (typeof (event.data) === 'undefined') { return; }\r\n    if (event.origin.endsWith('2sxc.org') === false) { return; } // something from an unknown domain, let's ignore it\r\n\r\n    try {\r\n      const features: ManageFeaturesMessageData = event.data;\r\n      const featuresString = JSON.stringify(features);\r\n      this.featuresConfigService.saveFeatures(featuresString).subscribe(result => {\r\n        this.showManagement = false;\r\n        this.fetchFeatures();\r\n      });\r\n    } catch (e) { }\r\n  }\r\n\r\n  private destroyManagementListener() {\r\n    if (this.managementListener) {\r\n      this.managementListener.element.removeEventListener(this.managementListener.type, this.managementListener.listener);\r\n      this.managementListener = null;\r\n    }\r\n  }\r\n\r\n  private valueGetterDateTime(params: ValueGetterParams) {\r\n    const rawValue: string = params.data[params.colDef.field];\r\n    if (!rawValue) { return null; }\r\n\r\n    // remove 'Z' and replace 'T'\r\n    return rawValue.substring(0, 19).replace('T', ' ');\r\n  }\r\n}\r\n","<div class=\"cards-box\">\r\n  <mat-card class=\"mat-elevation-z2\">\r\n    <mat-card-header>\r\n      <mat-card-title>2sxc Insights for Super Users</mat-card-title>\r\n      <div class=\"actions-box\">\r\n        <button mat-icon-button matTooltip=\"Open 2sxc Insights\" (click)=\"openInsights()\">\r\n          <mat-icon>speed</mat-icon>\r\n        </button>\r\n      </div>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      This is to access a special section to see what is really in the server memory. It's intended for extensive\r\n      debugging\r\n      - see also <a href=\"https://2sxc.org/en/blog/post/using-2sxc-insights\" target=\"_blank\">this blog post</a>.\r\n    </mat-card-content>\r\n  </mat-card>\r\n\r\n  <mat-card class=\"mat-elevation-z2\">\r\n    <mat-card-header>\r\n      <mat-card-title>Activate Page Level Logging</mat-card-title>\r\n      <div class=\"actions-box\"></div>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <div>\r\n        This will place insights-logs in the HTML of the user output for users with ?debug=true in the url. It can only\r\n        be activated for short periods of time.\r\n      </div>\r\n      <div class=\"activate-log-form\">\r\n        <mat-form-field appearance=\"standard\" color=\"accent\">\r\n          <mat-label>Duration in Minutes</mat-label>\r\n          <input matInput type=\"number\" min=\"0\" [pattern]=\"positiveWholeNumber\" [(ngModel)]=\"pageLogDuration\"\r\n            name=\"Duration\" #duration='ngModel'>\r\n        </mat-form-field>\r\n        <ng-container *ngIf=\"duration.touched && duration.errors\">\r\n          <app-field-hint *ngIf=\"duration.errors.pattern\" [isError]=\"true\">Only positive whole numbers</app-field-hint>\r\n        </ng-container>\r\n        <div class=\"actions\">\r\n          <button mat-raised-button color=\"accent\" (click)=\"activatePageLog()\"\r\n            [disabled]=\"actionsDiabled || !pageLogDuration || pageLogDuration < 0\">\r\n            Activate\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\nimport { SxcInsightsService } from '../shared/services/sxc-insights.service';\r\n\r\n@Component({\r\n  selector: 'app-sxc-insights',\r\n  templateUrl: './sxc-insights.component.html',\r\n  styleUrls: ['./sxc-insights.component.scss']\r\n})\r\nexport class SxcInsightsComponent implements OnInit {\r\n  pageLogDuration: number;\r\n  positiveWholeNumber = /^[^-]\\d*$/;\r\n  actionsDiabled = false;\r\n\r\n  constructor(private sxcInsightsService: SxcInsightsService, private snackBar: MatSnackBar) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  openInsights() {\r\n    window.open('/desktopmodules/2sxc/api/sys/insights/help');\r\n  }\r\n\r\n  activatePageLog() {\r\n    this.actionsDiabled = true;\r\n    this.snackBar.open('Activating...');\r\n    this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe(res => {\r\n      this.pageLogDuration = undefined;\r\n      this.actionsDiabled = false;\r\n      this.snackBar.open(res, null, { duration: 4000 });\r\n    });\r\n  }\r\n}\r\n","<div mat-dialog-title>\r\n  <div class=\"dialog-title-box\">\r\n    <div>Manage Apps in Zone {{ zoneId }}</div>\r\n    <button mat-icon-button matTooltip=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<!-- spm NOTE: we use mat-tab-group because mat-tab-nav-bar doesn't have animations and doesn't look pretty -->\r\n<mat-tab-group dynamicHeight color=\"accent\" (selectedTabChange)=\"changeTab($event)\" [selectedIndex]=\"tabIndex\">\r\n  <mat-tab>\r\n    <div *matTabLabel class=\"mat-tab-label-box\" matTooltip=\"Apps\">\r\n      <mat-icon>star_border</mat-icon>\r\n      <span>Apps</span>\r\n    </div>\r\n    <app-apps-list *matTabContent></app-apps-list>\r\n  </mat-tab>\r\n\r\n  <mat-tab>\r\n    <div *matTabLabel class=\"mat-tab-label-box\" matTooltip=\"Languages\">\r\n      <mat-icon>translate</mat-icon>\r\n      <span>Languages</span>\r\n    </div>\r\n    <app-enable-languages *matTabContent></app-enable-languages>\r\n  </mat-tab>\r\n\r\n  <mat-tab>\r\n    <div *matTabLabel class=\"mat-tab-label-box\" matTooltip=\"These settings apply to all zones/portals\">\r\n      <mat-icon>tune</mat-icon>\r\n      <span>Features</span>\r\n    </div>\r\n    <app-manage-features *matTabContent></app-manage-features>\r\n  </mat-tab>\r\n\r\n  <mat-tab>\r\n    <div *matTabLabel class=\"mat-tab-label-box\" matTooltip=\"Insights\">\r\n      <mat-icon>speed</mat-icon>\r\n      <span>2sxc Insights</span>\r\n    </div>\r\n    <app-sxc-insights *matTabContent></app-sxc-insights>\r\n  </mat-tab>\r\n</mat-tab-group>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTabChangeEvent } from '@angular/material/tabs';\r\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Context } from '../../shared/services/context';\r\n\r\n@Component({\r\n  selector: 'app-apps-management-nav',\r\n  templateUrl: './apps-management-nav.component.html',\r\n  styleUrls: ['./apps-management-nav.component.scss']\r\n})\r\nexport class AppsManagementNavComponent implements OnInit, OnDestroy {\r\n  zoneId: number;\r\n  tabs = ['list', 'languages', 'features', 'sxc-insights']; // tabs order has to match template\r\n  tabIndex: number;\r\n\r\n  private subscription = new Subscription();\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<AppsManagementNavComponent>,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private context: Context,\r\n  ) {\r\n    this.zoneId = this.context.zoneId;\r\n  }\r\n\r\n  ngOnInit() {\r\n    // set tab initially\r\n    this.tabIndex = this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path);\r\n\r\n    this.subscription.add(\r\n      // change tab when route changed\r\n      this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\r\n        this.tabIndex = this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription = null;\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  changeTab(event: MatTabChangeEvent) {\r\n    const path = this.tabs[event.index];\r\n    this.router.navigate([path], { relativeTo: this.route });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-projects_eav-ui_src_app_sh-8c418a"],{4202(O,v,o){o.d(v,{u:()=>g});const g={BooleanDefault:"boolean-default",BooleanTristate:"boolean-tristate",CustomDefault:"custom-default",CustomGps:"custom-gps",CustomJsonEditor:"custom-json-editor",DateTimeDefault:"datetime-default",DefaultSuffix:"-default",EmptyDefault:"empty-default",EmptyEnd:"empty-end",EmptyMessage:"empty-message",EntityContentBlocks:"entity-content-blocks",EntityDefault:"entity-default",EntityQuery:"entity-query",ExternalWebComponent:"external-web-component",HyperlinkDefault:"hyperlink-default",HyperlinkLibrary:"hyperlink-library",NumberDefault:"number-default",NumberDropdown:"number-dropdown",StringDefault:"string-default",StringDropdown:"string-dropdown",StringDropdownQuery:"string-dropdown-query",StringFontIconPicker:"string-font-icon-picker",StringJson:"string-json",StringTemplatePicker:"string-template-picker",StringUrlPath:"string-url-path",StringWysiwyg:"string-wysiwyg",EntityPicker:"entity-picker",StringPicker:"string-picker",NumberPicker:"number-picker",Unknown:"unknown"}},4979(O,v,o){o.d(v,{V:()=>c});var g=o(27092),s=o(56884);let c=(()=>{class r{constructor(){this.subscriptions=new g.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(b){return new(b||r)}}static{this.\u0275prov=s.jDH({token:r,factory:r.\u0275fac})}}return r})()},17042(O,v,o){o.d(v,{v:()=>u});var g=o(58857),s=o(37580),c=o(56884),r=o(36124),C=o(87941);const m=["gridWrapper"],b=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],I=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let u=(()=>{class x{constructor(){this.gridWrapper=(0,s.ebz)("gridWrapper",{read:r.aKT}),this.agGrid=(0,s.sbv)(g.xs,{read:r.aKT}),this.dialogAction=(0,s.sbv)(C.E7,{read:r.aKT}),this.helpText=s.hFB.required({}),this.refresh=s.hFB.required(),this.rowLength=s.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,c.QZP)(()=>{this.refresh();const y=this.rowLength(),p=this.gridWrapper()?.nativeElement;p&&(0,c.O8t)(()=>this.#e(p,y))})}#e(T,y){const p=this.agGrid()?.nativeElement,h=this.dialogAction()?.nativeElement,_=T.querySelector(".help-info-card");setTimeout(()=>{if(_.classList.toggle("center-center",0===y),!p||!h)return;_.style.flex="";const f=this.#t(T,p,h,_,y);p.style.flex=f.rowHeight?`0 0 ${f.agGridHeight}px`:"0px";const M=document.querySelector(".mat-sidenav-content"),R=document.querySelector(".mat-mdc-dialog-container"),k=(document.querySelector(".nav-component-wrapper")?R:M).clientHeight-f.dialogHeaderHeight-f.dialogActionHeight-2;p.style.maxHeight=`${k}px`;const w=f.helpCardHeight+f.agGridHeight+f.dialogActionHeight+f.dialogHeaderHeight>f.wrapperHeight;_.style.flex="1 1 auto",_?.classList.toggle("hidden-help-info-card",w)},0)}#t(T,y,p,h,_){const f=y.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:f,agGridHeight:this.GRID_HEADER_HEIGHT+_*f,helpCardHeight:h.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:p.offsetHeight,dialogHeaderHeight:T.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:T.offsetHeight}}static{this.\u0275fac=function(y){return new(y||x)}}static{this.\u0275cmp=r.VBU({type:x,selectors:[["app-grid-with-help"]],contentQueries:function(y,p,h){1&y&&r.C6U(h,p.agGrid,g.xs,5,r.aKT)(h,p.dialogAction,C.E7,5,r.aKT),2&y&&r.NyB(2)},viewQuery:function(y,p){1&y&&r.wEZ(p.gridWrapper,m,5,r.aKT),2&y&&r.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:I,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(y,p){1&y&&(r.NAR(b),r.rj2(0,"div",1,0),r.SdG(2),r.SdG(3,1),r.SdG(4,2),r.rj2(5,"div",2)(6,"div",3),r.Hgh(7,"span",4)(8,"span",4),r.eux()(),r.SdG(9,3),r.eux()),2&y&&(r.R7$(7),r.Avn("innerHTML",p.helpText().description,r.npT),r.R7$(),r.Avn("innerHTML",p.helpText().hint,r.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return x})()},18708(O,v,o){o.d(v,{R:()=>c});var g=o(37580),s=o(36124);let c=(()=>{class r{constructor(m){this.elementRef=m,this._disabled=(0,g.hFB)(!1)}ngOnChanges(m){null!=m.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this._disabled())}static{this.\u0275fac=function(b){return new(b||r)(s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:r,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{_disabled:[1,"_disabled"]},features:[s.OA$]})}}return r})()},18759(O,v,o){o.d(v,{d:()=>c});var g=o(37580),s=o(36124);let c=(()=>{class r{constructor(){this.label=(0,g.hFB)("Form.Buttons.SaveAndClose"),this.triggerOnFormSubmit=(0,g.hFB)(!1),this.icon=(0,g.hFB)("done"),this.ngClass=(0,g.hFB)(""),this.disabled=(0,g.hFB)(!1),this.action=(0,g.CGW)()}get isDisabled(){return"function"==typeof this.disabled?!!this.disabled():!!this.disabled}onClick(m){this.isDisabled||this.action.emit(m)}static{this.\u0275fac=function(b){return new(b||r)}}static{this.\u0275dir=s.FsC({type:r,inputs:{label:[1,"label"],triggerOnFormSubmit:[1,"triggerOnFormSubmit"],icon:[1,"icon"],ngClass:[1,"ngClass"],disabled:[1,"disabled"]},outputs:{action:"action"}})}}return r})()},18934(O,v,o){o.d(v,{Q:()=>s});var g=o(36124);let s=(()=>{class c{constructor(C){this.templateRef=C}static{this.\u0275fac=function(m){return new(m||c)(g.rXU(g.C4Q))}}static{this.\u0275dir=g.FsC({type:c,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}}return c})()},20545(O,v,o){o.d(v,{d:()=>s});var g=o(36124);let s=(()=>{class c{constructor(C){this.templateRef=C}static{this.\u0275fac=function(m){return new(m||c)(g.rXU(g.C4Q))}}static{this.\u0275dir=g.FsC({type:c,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}}return c})()},21183(O,v,o){o.d(v,{f:()=>g});class g{static cellLink(c,r,C){return`<a class="default-link fill-cell ${C}" href="${c}">${r}</a>`}}},24950(O,v,o){o.d(v,{RG:()=>m});var g=o(80423),s=o(63680),c=o(39539),r=o(56884),C=o(36124);let m=(()=>{class b{static \u0275fac=function(x){return new(x||b)};static \u0275mod=C.$C({type:b});static \u0275inj=r.G2t({imports:[c.w5,g.rl,s.jI]})}return b})()},25286(O,v,o){o.d(v,{F:()=>T});var g=o(56884),s=o(84175),c=o(87941),r=o(93840),C=o(3347),m=o(32760),b=o(63628),I=o(69914),u=o(36124),x=o(55326);function A(y,p){if(1&y&&(u.nrm(0,"p",5),u.nI1(1,"safeHtml")),2&y){const h=u.XpG();u.Y8G("innerHtml",u.bMT(1,1,h.dialogData.message),u.npT)}}let T=(()=>{class y{#e;constructor(h,_){this.dialogData=h,this.dialog=_,this.hostClass="dialog-component",this.#e=(0,g.WQX)(C.UG)}ngOnInit(){this.dialogData.hasDeleteSnackbar&&this.#e.open("Deleting...",void 0,{duration:5e3}),this.#t()}#t(){this.dialog.keydownEvents().subscribe(h=>{(0,m.YU)(h)&&(h.preventDefault(),this.dialog.close(!0))})}closeDialog(h){this.#e.dismiss(),h?this.dialog.close(h):this.dialog.close()}saveAndClose(h){this.closeDialog(h),this.dialogData.hasDeleteSnackbar&&this.#e.dismiss()}static{this.\u0275fac=function(_){return new(_||y)(u.rXU(c.Vh),u.rXU(c.CP))}}static{this.\u0275cmp=u.VBU({type:y,selectors:[["app-confirm-delete-dialog"]],hostVars:1,hostBindings:function(_,f){2&_&&u.Avn("className",f.hostClass)},decls:11,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],["align","end"],[3,"action","label"]],template:function(_,f){1&_&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2),u.EFF(3),u.k0s(),u.j41(4,"button",3),u.bIt("click",function(){return f.closeDialog()}),u.j41(5,"mat-icon"),u.EFF(6,"close"),u.k0s()()(),u.j41(7,"div",4),u.nVh(8,A,2,3,"p",5),u.k0s(),u.j41(9,"mat-dialog-actions",6)(10,"app-save-close-button-fab",7),u.bIt("action",function(){return f.saveAndClose(!0)}),u.k0s()()()),2&_&&(u.R7$(3),u.E5c(" ",f.dialogData.title??"Delete"," ",f.dialogData.entityTitle," (",f.dialogData.entityId,") "),u.R7$(5),u.vxM(f.dialogData.message?8:-1),u.R7$(2),u.Y8G("label","Delete and close (ctrl + enter)"))},dependencies:[s.Hl,x.iY,r.m_,r.An,c.E7,b.i,I.$],styles:[".eav-card-action-button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return y})()},32760(O,v,o){function g(r){return"Escape"===r.key}function s(r){return("s"===r.key||"S"===r.key)&&(r.ctrlKey||r.metaKey)}function c(r){return"Enter"===r.key&&(r.ctrlKey||r.metaKey)}o.d(v,{JY:()=>s,KL:()=>g,YU:()=>c})},54297(O,v,o){o.d(v,{e:()=>c});var g=o(56884);let c=(()=>{class r{isErrorState(m,b){return!!(m&&m.invalid&&(m.touched||b&&b.submitted))}static \u0275fac=function(b){return new(b||r)};static \u0275prov=g.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},54612(O,v,o){o.d(v,{X:()=>g});class g{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(c,r,C,m,b){this._defaultMatcher=c,this.ngControl=r,this._parentFormGroup=C,this._parentForm=m,this._stateChanges=b}updateErrorState(){const c=this.errorState,r=this._parentFormGroup||this._parentForm,C=this.matcher||this._defaultMatcher,m=this.ngControl?this.ngControl.control:null,b=C?.isErrorState(m,r)??!1;b!==c&&(this.errorState=b,this._stateChanges.next())}}},60852(O,v,o){o.d(v,{c:()=>A});var g=o(69393),s=o(51567),c=o(70271),r=o(5057),C=o(63037),m=o(98764),b=o(34435),I=o(4979),u=o(56884);const x={doOnDialogClosed:!1,doOnDialogClosedWithData:!0};let A=(()=>{class T extends I.V{constructor(p,h){super(),this.router=p,this.route=h,this.log=(0,b.Tq)({DialogRoutingService:T},x)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(p){return this.route.snapshot.paramMap.get(p)}getParams(p){const h=this.route.snapshot.paramMap;return p.reduce((_,f)=>(_[f]=h.get(f),_),{})}getQueryParam(p){return this.route.snapshot.queryParamMap.get(p)}getQueryParams(p){const h=this.route.snapshot.queryParamMap;return p.reduce((_,f)=>(_[f]=h.get(f),_),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(p){const h=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(_=>(h.a("Dialog closed",{data:_}),p()))),h.end()}doOnDialogClosedWithData(p){const h=this.log.fnIf("doOnDialogClosedWithData");this.subscriptions.add(this.#e().subscribe(({state:_})=>{h.a("Dialog closed",{state:_}),p(_)})),h.end()}urlSubRoute(p){const h=this.router.createUrlTree([p],{relativeTo:this.route});return this.router.serializeUrl(h)}navPath(p,h){return this.router.navigate([p],h)}navRelative(p,h){return this.router.navigate(p,{...h,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,s.p)(p=>p instanceof g.wF),(0,C.Z)(!!this.route.snapshot.firstChild),(0,c.T)(()=>!!this.route.snapshot.firstChild),(0,r.J)(),(0,s.p)(([p,h])=>p&&!h))}#e(){return this.router.events.pipe((0,s.p)(p=>p instanceof g.wF),(0,m.M)(p=>{const h=this.log.fn("childDialogClosed$",{event:p,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});h.a("NavigationEnd",{event:p}),h.end()}),(0,C.Z)(!!this.route.snapshot.firstChild),(0,c.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),(0,r.J)(),(0,s.p)(([p,h])=>p.hasChildNow&&!h.hasChildNow),(0,c.T)(([p,h])=>({hadChildBefore:p.hasChildNow,hasChildNow:h.hasChildNow,state:h.state})))}static{this.\u0275fac=function(h){return new(h||T)(u.KVO(g.Ix),u.KVO(g.nX))}}static{this.\u0275prov=u.jDH({token:T,factory:T.\u0275fac})}}return T})()},74390(O,v,o){o.d(v,{t:()=>c});var g=o(37580),s=o(36124);let c=(()=>{class r{constructor(m){this.elementRef=m,this.disabled=(0,g.hFB)(!1)}ngOnChanges(m){null!=m.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(b){return new(b||r)(s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:r,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:[1,"disabled"]},features:[s.OA$]})}}return r})()},82272(O,v,o){o.d(v,{d:()=>T});var g=o(79748),s=o(37580),c=o(36124),r=o(75797),C=o(19999),m=o(91817),b=o(63037),I=o(30281),u=o(18708),x=o(20545),A=o(18934);let T=(()=>{class y extends I.${constructor(){super(),this.disabled=(0,s.hFB)(!1),this.open$=new r.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,C.z)([this.open$.pipe((0,m.F)()),this.actionButtons.changes.pipe((0,b.Z)(void 0))]).subscribe(([h])=>{this.actionButtons.forEach((_,f,M)=>{const P=Math.min(.3+.05*(M.length-1),.6),S=(P-.3)/(M.length-1),k=(h?.3+S*f:P-S*f)+"s";_.nativeElement.style.transitionDuration!==k&&(_.nativeElement.style.transitionDuration=k)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(h,_){"touch"!==h.pointerType&&this.open$.next(_)}static{this.\u0275fac=function(_){return new(_||y)}}static{this.\u0275cmp=c.VBU({type:y,selectors:[["extended-fab-speed-dial"]],contentQueries:function(_,f,M){if(1&_&&c.wni(M,A.Q,5)(M,x.d,5)(M,u.R,4,c.aKT),2&_){let R;c.mGM(R=c.lsd())&&(f.trigger=R.first),c.mGM(R=c.lsd())&&(f.actions=R.first),c.mGM(R=c.lsd())&&(f.actionButtons=R)}},inputs:{disabled:[1,"disabled"]},features:[c.Vt3],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(_,f){1&_&&(c.j41(0,"div",0),c.bIt("pointerenter",function(R){return f.setOpen(R,!0)})("pointerleave",function(R){return f.setOpen(R,!1)}),c.j41(1,"div",1),c.eu8(2,2),c.k0s(),c.j41(3,"div",3),c.eu8(4,2),c.k0s()()),2&_&&(c.BMQ("disabled",f.disabled()||null),c.R7$(2),c.Y8G("ngTemplateOutlet",null==f.trigger?null:f.trigger.templateRef),c.R7$(2),c.Y8G("ngTemplateOutlet",null==f.actions?null:f.actions.templateRef))},dependencies:[g.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:linear-gradient(125deg,#240e12 10%,#952c42 90%);cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{color:#fff;font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{color:#fff;display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:all .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>.keybinding-hint,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>.keybinding-hint{padding:2px 0 0;margin:0}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-trigger].appear-disabled,.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action].appear-disabled{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>span{max-width:256px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>.keybinding-hint,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>.keybinding-hint{margin:0 8px 0 4px;padding-top:2px;border-radius:6px;background:#ffffff1a;transition:all .3s ease-in-out}\n'],encapsulation:2})}}return y})()},90294(O,v,o){o.r(v),o.d(v,{ContentTypeFieldsComponent:()=>Yt});var g=o(79748),s=o(56884),c=o(36664),r=o(84175),C=o(87941),m=o(93840),b=o(69393),I=o(90852),u=o(12938),x=o(17693),A=o(25286),T=o(93454),y=o(72437),p=o(21183),h=o(11828),_=o(17042),f=o(60251),M=o(50052),R=o(95699),P=o(78742),S=o(51612),k=o(92324),w=o(30056),oe=o(67037),se=o(60852),K=o(16256),X=o(85309),G=o(31034),H=o(34601),re=o(1726),le=o(4202),e=o(36124),Y=o(17828);function de(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.do("shareOrInherit"))}),e.j41(1,"mat-icon",12),e.EFF(2),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("tippy",t.shareText()),e.R7$(2),e.SpI(" ",t.shareOrInheritIcon()," ")}}function ce(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.do("shareOrInherit"))}),e.j41(1,"mat-icon",14),e.EFF(2," share "),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("tippy",t.shareText())}}function he(n,l){if(1&n){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.do("rename"))}),e.j41(1,"mat-icon"),e.EFF(2,"text_fields"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Rename"),e.k0s()(),e.j41(5,"button",15),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.do("delete"))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s(),e.j41(8,"span"),e.EFF(9,"Delete"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("disabled",t.field.EditInfo.DisableRename),e.R7$(5),e.Y8G("disabled",t.field.EditInfo.DisableDelete||t.field.IsTitle)}}let pe=(()=>{class n{agInit(t){this.params=t,this.field=this.params.data;const i=this.field.EditInfo.DisableEdit;this.enablePermissions=!i&&(this.field.InputType===le.u.StringWysiwyg||this.field.Type===re.O.Hyperlink),this.enableMetadata=!this.field.EditInfo.DisableMetadata,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(a=>"merged"!==a).length:0,this.enableImageConfig=!i&&this.field.imageConfiguration.isRecommended,this.imgConfigCount=this.field.imageConfiguration.entityId?1:0}highlightOrDisabled(t){return t?"highlight":"disabled"}shareText(){const t="click to configure sharing",i=this.field.SysSettings;return i?i.Share?"shared enabled as "+this.field.Guid:i.InheritMetadataOf?"inherits "+i.InheritMetadataOf:t:t}shareOrInheritIcon(){const t=this.field.SysSettings;return t?t.Share?"share":t.InheritMetadataOf?"adjust":"":""}refresh(t){return!0}do(t){this.params.do(t,this.field)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-actions"]],decls:18,vars:24,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeDisabled","matBadgeHidden"],["matRipple","",3,"click","tippy"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden","matBadgeDisabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(i,a){if(1&i){const d=e.RV6();e.j41(0,"div",1)(1,"div",2),e.bIt("click",function(){return s.eBV(d),s.Njj(a.enableMetadata?a.do("metadata"):"")}),e.j41(2,"mat-icon",3),e.EFF(3,"local_offer"),e.k0s()(),e.j41(4,"div",4),e.bIt("click",function(){return s.eBV(d),s.Njj(a.enableImageConfig?a.do("image"):"")}),e.j41(5,"mat-icon",5),e.EFF(6,"filter_center_focus"),e.k0s()(),e.j41(7,"div",4),e.bIt("click",function(){return s.eBV(d),s.Njj(a.enablePermissions?a.do("permissions"):"")}),e.j41(8,"mat-icon",3),e.EFF(9,"person"),e.k0s()(),e.nVh(10,de,3,2,"div",6)(11,ce,3,1,"div",7),e.j41(12,"div",8)(13,"mat-icon"),e.EFF(14,"more_horiz"),e.k0s()()(),e.j41(15,"mat-menu",9,0),e.DNE(17,he,10,2,"ng-template",10),e.k0s()}if(2&i){const d=e.sdS(16);e.R7$(),e.HbH(e.VkB("eav-grid-action-button ",a.highlightOrDisabled(a.enableMetadata))),e.R7$(),e.Y8G("matBadge",a.metadataCount)("matBadgeDisabled",!a.enableMetadata)("matBadgeHidden",!a.metadataCount),e.R7$(2),e.HbH(e.VkB("eav-grid-action-button ",a.highlightOrDisabled(a.enableImageConfig))),e.Y8G("tippy",e.mNQ(a.enableImageConfig?"Image Configuration":"no image configuration for this field")),e.R7$(),e.Y8G("matBadge",a.imgConfigCount)("matBadgeHidden",!a.imgConfigCount)("matBadgeDisabled",!a.enableImageConfig),e.R7$(2),e.HbH(e.VkB("eav-grid-action-button ",a.highlightOrDisabled(a.enablePermissions))),e.Y8G("tippy",e.mNQ(a.enablePermissions?"Permissions":"no permissions to configure on this field")),e.R7$(),e.Y8G("matBadge",a.field.Permissions.Count)("matBadgeDisabled",!a.enablePermissions)("matBadgeHidden",!a.field.Permissions.Count),e.R7$(2),e.vxM(""!=a.shareOrInheritIcon()?10:11),e.R7$(2),e.Y8G("matMenuTriggerFor",d)}},dependencies:[X.p,Y.r6,m.m_,m.An,K.Y,K.k,G.Cn,G.kk,G.fb,G.z8,G.Cp,H.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}}return n})();var Q=o(41134);function me(n,l){1&n&&(e.j41(0,"div",0),e.nrm(1,"mat-spinner",1),e.k0s())}let ge=(()=>{class n{agInit(t){this.params=t,this.isReordering=t.isReordering}refresh(t){return this.params=t,!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-drag"]],decls:1,vars:1,consts:[[1,"spinner-container"],["diameter","16"]],template:function(i,a){1&i&&e.nVh(0,me,2,0,"div",0),2&i&&e.vxM(a.isReordering()?0:-1)},dependencies:[Q.D6,Q.LG],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}\n\n/*# sourceMappingURL=content-type-fields-drag.ts-angular-inline--1.css.map*/"]})}}return n})();function ue(n,l){1&n&&(e.j41(0,"mat-icon",1),e.EFF(1,"visibility_off"),e.k0s())}function fe(n,l){1&n&&e.nrm(0,"mat-icon")}function _e(n,l){1&n&&(e.j41(0,"mat-icon",2),e.EFF(1,"edit_off"),e.k0s())}function Ce(n,l){1&n&&e.nrm(0,"mat-icon")}function ve(n,l){1&n&&(e.j41(0,"mat-icon",3),e.EFF(1,"asterisk"),e.k0s())}function be(n,l){1&n&&e.nrm(0,"mat-icon")}function ye(n,l){1&n&&(e.j41(0,"mat-icon",4),e.EFF(1,"functions"),e.k0s())}function Fe(n,l){1&n&&e.nrm(0,"mat-icon")}function Te(n,l){1&n&&(e.j41(0,"mat-icon",5),e.EFF(1,"mobiledata_off"),e.k0s())}function De(n,l){1&n&&e.nrm(0,"mat-icon")}function Ee(n,l){1&n&&(e.j41(0,"mat-icon",6),e.EFF(1,"public_off"),e.k0s())}function Me(n,l){1&n&&e.nrm(0,"mat-icon")}let Re=(()=>{class n{agInit(t){const i=t.data;this.hasFormulas=i.HasFormulas,this.isEphemeral=i.IsEphemeral,this.isHidden=!i.Metadata.All?.VisibleInEditUI,this.disableTranslation=i.Metadata.All?.DisableTranslation||!1,this.disabled=i.Metadata.All?.Disabled||!1,this.required=i.Metadata.All?.Required||!1}refresh(t){return!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-special"]],decls:13,vars:6,consts:[[1,"icon-container"],["tippy","Hidden Field"],["tippy","Disabled"],["tippy","Required Field"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"],["tippy","No Translation"]],template:function(i,a){1&i&&(e.j41(0,"div",0),e.nVh(1,ue,2,0,"mat-icon",1)(2,fe,1,0,"mat-icon"),e.nVh(3,_e,2,0,"mat-icon",2)(4,Ce,1,0,"mat-icon"),e.nVh(5,ve,2,0,"mat-icon",3)(6,be,1,0,"mat-icon"),e.nVh(7,ye,2,0,"mat-icon",4)(8,Fe,1,0,"mat-icon"),e.nVh(9,Te,2,0,"mat-icon",5)(10,De,1,0,"mat-icon"),e.nVh(11,Ee,2,0,"mat-icon",6)(12,Me,1,0,"mat-icon"),e.k0s()),2&i&&(e.R7$(),e.vxM(a.isHidden?1:2),e.R7$(2),e.vxM(a.disabled?3:4),e.R7$(2),e.vxM(a.required?5:6),e.R7$(2),e.vxM(a.hasFormulas?7:8),e.R7$(2),e.vxM(a.isEphemeral?9:10),e.R7$(2),e.vxM(a.disableTranslation?11:12))},dependencies:[m.m_,m.An,H.e],styles:["mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}"]})}}return n})();function Oe(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",3),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.setTitle())}),e.j41(1,"mat-icon"),e.EFF(2,"star"),e.k0s()()}if(2&n){const t=e.XpG();e.HbH(e.VkB("eav-grid-action-button highlight ",t.isTitle?"":t.suitableForTitle?"hover-only":"no-button")),e.BMQ("disabled",t.isTitle||!t.suitableForTitle)}}function Ie(n,l){if(1&n&&(e.j41(0,"div",2)(1,"mat-icon"),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.JRh(t.isTitle?"star":"")}}let xe=(()=>{class n{constructor(){this.suitableForTitle=!0}agInit(t){this.params=t,this.isTitle=t.value,this.field=t.data,this.suitableForTitle=!S.Q.isEmpty(this.field.InputType)}refresh(t){return!0}setTitle(){this.suitableForTitle&&this.params.onSetTitle(this.field)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-title"]],decls:3,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",3,"class"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",3,"click"]],template:function(i,a){1&i&&(e.j41(0,"div",0),e.nVh(1,Oe,3,4,"div",1)(2,Ie,3,1,"div",2),e.k0s()),2&i&&(e.R7$(),e.vxM(a.field.EditInfo.ReadOnly?2:1))},dependencies:[X.p,Y.r6,m.m_,m.An,H.e],styles:["div.hover-only[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}div.hover-only[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}div.no-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}"]})}}return n})();var Se=o(14007);let je=(()=>{class n{agInit(t){this.value=t.value,this.icon=(0,Se.y)(this.value)}refresh(t){return!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(i,a){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2),e.k0s()()),2&i&&(e.Y8G("tippy",a.value),e.R7$(2),e.JRh(a.icon))},dependencies:[m.m_,m.An,H.e],encapsulation:2})}}return n})();var N=o(34456),V=o(53777),Pe=o(24950),J=o(59791),F=o(48010),z=o(59452),ke=o(51567),Ne=o(51903),Ae=o(61318),Be=o(43143),Z=o(47703),q=o(66184),W=o(28136),ee=o(9001),we=o(92063),Ge=o(30281),$e=o(11855),te=o(63628),$=o(67993),ne=o(35160),Ue=o(37580),ie=o(3347),L=o(55326),ae=o(80423);const He=["ngForm"];function Ve(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Content Type"),e.k0s()())}function We(n,l){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.ContentType.Name)}}function Le(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Name"),e.k0s()())}function Ke(n,l){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.StaticName)}}function Xe(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Type"),e.k0s()())}function Ye(n,l){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.Type)}}function Qe(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Share"),e.k0s()())}function Je(n,l){if(1&n){const t=e.RV6();e.j41(0,"td",27)(1,"button",28),e.bIt("click",function(){const a=s.eBV(t).$implicit,d=e.XpG();return s.Njj(d.selectField(a))}),e.EFF(2,"Select"),e.k0s()()}}function ze(n,l){1&n&&e.nrm(0,"tr",29)}function Ze(n,l){1&n&&e.nrm(0,"tr",30)}function qe(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"New Name"),e.k0s()())}function et(n,l){if(1&n&&(e.j41(0,"app-field-hint",33),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.Y8G("isError",!0),e.R7$(),e.JRh(t.fieldNameError)}}function tt(n,l){if(1&n&&(e.j41(0,"app-field-hint",33),e.EFF(1),e.k0s()),2&n){e.XpG(2);const t=e.sdS(5);e.Y8G("isError",!0),e.R7$(),e.SpI(" ",t.errors.reservedNames," ")}}function nt(n,l){if(1&n&&(e.nVh(0,et,2,2,"app-field-hint",33),e.nVh(1,tt,2,2,"app-field-hint",33)),2&n){e.XpG();const t=e.sdS(5);e.vxM(t.errors.pattern?0:-1),e.R7$(),e.vxM(t.errors.reservedNames?1:-1)}}function it(n,l){if(1&n){const t=e.RV6();e.j41(0,"td",27)(1,"mat-form-field",31)(2,"mat-label"),e.EFF(3,"New Name"),e.k0s(),e.j41(4,"input",32,1),e.mxI("ngModelChange",function(a){const d=s.eBV(t).$implicit;return e.DH7(d.newName,a)||(d.newName=a),s.Njj(a)}),e.k0s()(),e.nVh(6,nt,2,2),e.k0s()}if(2&n){const t=l.$implicit,i=l.index,a=e.sdS(5),d=e.XpG();e.R7$(4),e.Y8G("pattern",d.fieldNamePattern),e.R50("ngModel",t.newName),e.Y8G("name","StaticName"+i)("appReservedNames",d.reservedNames()),e.R7$(2),e.vxM(a.errors?6:-1)}}function at(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Source"),e.k0s()())}function ot(n,l){if(1&n&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.E5c(" ",t.field.ContentType.Name,"/",t.field.StaticName," (",t.field.Type,") ")}}function st(n,l){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Remove"),e.k0s()())}function rt(n,l){if(1&n){const t=e.RV6();e.j41(0,"td",27)(1,"button",28),e.bIt("click",function(){const a=s.eBV(t).$implicit,d=e.XpG();return s.Njj(d.removeField(a))}),e.EFF(2,"Remove"),e.k0s()()}}function lt(n,l){1&n&&e.nrm(0,"tr",29)}function dt(n,l){1&n&&e.nrm(0,"tr",30)}let ct=(()=>{class n extends Ge.${#e;#t;constructor(t,i,a,d,D,E){super(),this.dialogData=t,this.dialog=i,this.snackBar=a,this.matDialog=d,this.viewContainerRef=D,this.changeDetectorRef=E,this.hostClass="dialog-component",this.#e=(0,s.WQX)(ee.D),this.#t=(0,u.d)(P.h),this.ContentTypeFieldsReuseDefinitions=W.T.ContentTypeFieldsReuseDefinitions,this.optionsColumns=["contentType","name","type","share"],this.selectedColumns=["newName","source","remove"],this.shareableFields=new F.I6([]),this.selectedFields=new F.I6([]),this.fieldNamePattern=Z.w,this.fieldNameError=Z.s,this.#a=this.#t.getReservedNames().value,this.reservedNames=(0,c.EW)(()=>{const B=this.#a();return ne.O.mergeReserved(B,this.dialogData.existingFields)}),this.saving=(0,$.KX)("saving",!1),this.#i=this.#e.isEnabled[W.T.ContentTypeFieldsReuseDefinitions],this.dialog.disableClose=!0,this.subscriptions.add(this.dialog.backdropClick().subscribe(()=>{(this.ngForm.dirty||this.selectedFields.data.length>0)&&!confirm("You have unsaved changes. Are you sure you want to close this dialog?")||this.dialog.close()}))}#a;#i;ngOnInit(){this.#t.getShareableFieldsPromise().then(t=>{this.shareableFields.data=t})}selectField(t){this.selectedFields.data=[...this.selectedFields.data,{newName:t.StaticName,field:t}]}removeField(t){const i=this.selectedFields.data;i.splice(i.indexOf(t),1),this.selectedFields.data=[...i]}closeDialog(){this.dialog.close()}save(){this.#i()?(this.saving.set(!0),this.snackBar.open("Saving..."),(0,z.of)(...this.selectedFields.data).pipe((0,ke.p)(t=>!!t.newName),(0,Ne.H)(t=>this.#t.addInheritedField(this.dialogData.contentType.Id,t.field.ContentType.Id,t.field.Guid,t.newName).pipe((0,Ae.W)(i=>(0,z.of)(null)))),(0,Be.$)()).subscribe(t=>{this.saving.set(!1),this.snackBar.open("Saved",null,{duration:2e3}),this.dialog.close()})):(0,we.j)(this.matDialog,W.T.ContentTypeFieldsReuseDefinitions,this.viewContainerRef,this.changeDetectorRef)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(C.Vh),e.rXU(C.CP),e.rXU(ie.UG),e.rXU(C.bZ),e.rXU(e.c1b),e.rXU(Ue.gRc))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-field-sharing-add-many"]],viewQuery:function(i,a){if(1&i&&e.GBs(He,5,N.cV),2&i){let d;e.mGM(d=e.lsd())&&(a.ngForm=d.first)}},hostVars:1,hostBindings:function(i,a){2&i&&e.Avn("className",a.hostClass)},features:[e.Vt3],decls:62,vars:16,consts:[["ngForm","ngForm"],["newName","ngModel"],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[1,"eav-tables-div"],[1,"eav-table-div-left"],["mat-table","",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eav-table-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","share"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"eav-table-div-right"],["matColumnDef","newName"],["matColumnDef","source"],["mat-cell","","style","word-break: break-all","class","eav-table-cell",4,"matCellDef"],["matColumnDef","remove"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],["mat-header-cell",""],["mat-cell","",1,"eav-table-cell"],["mat-raised-button","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","pattern","ngModel","name","appReservedNames"],[3,"isError"],["mat-cell","",1,"eav-table-cell",2,"word-break","break-all"]],template:function(i,a){if(1&i){const d=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.bIt("click",function(){return s.eBV(d),s.Njj(a.closeDialog())}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",6)(9,"p"),e.EFF(10," Shared fields allow you to compose a content-type using fields which were defined in another content-type. These fields exist on this content-type, but use the definition incl. label and all other specs from the original field. "),e.k0s(),e.j41(11,"p"),e.EFF(12," This is a bit like "),e.j41(13,"strong"),e.EFF(14,"Content-Type Inheritance"),e.k0s(),e.EFF(15,", but instead of inheritance we're using "),e.j41(16,"strong"),e.EFF(17,"composition"),e.k0s(),e.EFF(18,", which is much more powerful. "),e.k0s(),e.j41(19,"p"),e.EFF(20),e.nI1(21,"translate"),e.nrm(22,"br"),e.j41(23,"em"),e.EFF(24," Note that if this app doesn't have published/shared field definitions, the list below will be empty. "),e.k0s()(),e.j41(25,"div",7)(26,"mat-card",8)(27,"table",9),e.qex(28,10),e.DNE(29,Ve,3,0,"th",11)(30,We,2,1,"td",12),e.bVm(),e.qex(31,13),e.DNE(32,Le,3,0,"th",11)(33,Ke,2,1,"td",12),e.bVm(),e.qex(34,14),e.DNE(35,Xe,3,0,"th",11)(36,Ye,2,1,"td",12),e.bVm(),e.qex(37,15),e.DNE(38,Qe,3,0,"th",11)(39,Je,3,0,"td",12),e.bVm(),e.DNE(40,ze,1,0,"tr",16)(41,Ze,1,0,"tr",17),e.k0s()(),e.j41(42,"mat-card",18)(43,"form",null,0)(45,"table",9),e.qex(46,19),e.DNE(47,qe,3,0,"th",11)(48,it,7,5,"td",12),e.bVm(),e.qex(49,20),e.DNE(50,at,3,0,"th",11)(51,ot,2,3,"td",21),e.bVm(),e.qex(52,22),e.DNE(53,st,3,0,"th",11)(54,rt,3,0,"td",12),e.bVm(),e.DNE(55,lt,1,0,"tr",16)(56,dt,1,0,"tr",17),e.k0s()()()(),e.j41(57,"app-feature-info-box",23)(58,"em"),e.EFF(59," Even if the feature is not licensed, it will always work but show warnings. "),e.k0s()()(),e.j41(60,"mat-dialog-actions",24)(61,"app-save-close-button-fab",25),e.bIt("action",function(){return s.eBV(d),s.Njj(a.save())}),e.k0s()()()}if(2&i){const d=e.sdS(44);e.R7$(3),e.SpI("",e.bMT(4,12,"SharingOrInheriting.TitleAddFieldsWhichInherit")," (new v18)"),e.R7$(17),e.SpI(" ",e.bMT(21,14,"SharingOrInheriting.PickFieldsToInheritFrom")," "),e.R7$(7),e.Y8G("dataSource",a.shareableFields),e.R7$(13),e.Y8G("matHeaderRowDef",a.optionsColumns),e.R7$(),e.Y8G("matRowDefColumns",a.optionsColumns),e.R7$(4),e.Y8G("dataSource",a.selectedFields),e.R7$(10),e.Y8G("matHeaderRowDef",a.selectedColumns),e.R7$(),e.Y8G("matRowDefColumns",a.selectedColumns),e.R7$(),e.Y8G("featureNameId",a.ContentTypeFieldsReuseDefinitions)("asInfo",!0),e.R7$(4),e.Y8G("ngClass",!d.form.valid||0==a.selectedFields.data.length||a.saving()?"disabled":"")("disabled",!d.form.valid||0==a.selectedFields.data.length||a.saving())}},dependencies:[V.Hu,V.RN,F.tP,F.Zl,F.tL,F.ji,F.cC,F.YV,F.iL,F.KS,F.$R,F.YZ,F.NB,r.Hl,r.$z,L.iY,N.YN,N.qT,N.me,N.BC,N.cb,N.R_,N.vS,N.cV,Pe.RG,ae.rl,ae.nJ,J.fS,J.fg,ne.O,C.E7,I.h,q.b,$e.F,m.m_,m.An,te.i,I.D9],styles:[".eav-tables-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:4px;padding-top:4px;height:400px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-left[_ngcontent-%COMP%]{width:50%;height:100%;margin-right:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]{width:50%;height:100%;margin-left:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]   .eav-mat-form-field[_ngcontent-%COMP%]{max-width:150px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .mat-column-source[_ngcontent-%COMP%]{min-width:150px}"]})}}return n})();var ht=o(37739),pt=o(97930),mt=o(34435),j=function(n){return n[n.None=0]="None",n[n.Sharing=1]="Sharing",n[n.Inheriting=2]="Inheriting",n}(j||{});const gt=n=>({"my-selected":n}),ut=(n,l)=>l.complete,ft=(n,l)=>l.AttributeId;function _t(n,l){1&n&&e.eu8(0)}function Ct(n,l){if(1&n&&(e.j41(0,"p"),e.EFF(1," This field is published so it can be shared by other Content Types. As such you cannot configure anything here, but just review the information. "),e.k0s(),e.j41(2,"div"),e.EFF(3," Global Identifier: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"h4"),e.EFF(7,"Inherited by"),e.k0s(),e.DNE(8,_t,1,0,"ng-container",9)),2&n){const t=e.XpG(),i=e.sdS(18);e.R7$(5),e.JRh(t.dialogData.Guid),e.R7$(3),e.Y8G("ngTemplateOutlet",i)}}function vt(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.complete)}}function bt(n,l){if(1&n&&(e.j41(0,"ol"),e.Z7z(1,vt,2,1,"li",null,ut),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Dyx(t.inherited())}}function yt(n,l){1&n&&e.eu8(0)}function Ft(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t)}}function Tt(n,l){if(1&n&&(e.j41(0,"h4"),e.EFF(1,"Not Inherited Definitions"),e.k0s(),e.j41(2,"p"),e.EFF(3,"The following definitions are not inherited, so you can specify them on this field:"),e.k0s(),e.j41(4,"ol"),e.Z7z(5,Ft,2,1,"li",null,e.fX1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(5),e.Dyx(t.notInherited())}}function Dt(n,l){if(1&n&&(e.j41(0,"p"),e.EFF(1,"This field is inheriting it's definition from another previously shared field."),e.k0s(),e.j41(2,"h4"),e.EFF(3,"Inherits Definition from"),e.k0s(),e.nVh(4,bt,3,0,"ol"),e.DNE(5,yt,1,0,"ng-container",9),e.nVh(6,Tt,7,0)),2&n){const t=e.XpG(),i=e.sdS(18);e.R7$(4),e.vxM(t.features.isEnabled[t.requiredFeature]()?-1:4),e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.vxM(t.notInherited().length?6:-1)}}function Et(n,l){1&n&&(e.j41(0,"p"),e.EFF(1,"This will share the field definition for others to use. Save to complete the operation."),e.k0s())}function Mt(n,l){1&n&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Content Type"),e.k0s()())}function Rt(n,l){if(1&n&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.ContentType.Name)}}function Ot(n,l){1&n&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Name"),e.k0s()())}function It(n,l){if(1&n&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.StaticName)}}function xt(n,l){1&n&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Type"),e.k0s()())}function St(n,l){if(1&n&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.Type)}}function jt(n,l){1&n&&e.nrm(0,"tr",22)}function Pt(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr",23),e.bIt("click",function(){const a=s.eBV(t).$implicit,d=e.XpG(3);return s.Njj(d.inheritField(a))}),e.k0s()}if(2&n){const t=l.$implicit,i=e.XpG(3);e.Y8G("ngClass",e.eq3(1,gt,i.guid===t.Guid))}}function kt(n,l){if(1&n&&(e.j41(0,"p"),e.EFF(1," The following fields have the same data type and share their definitions. Select one to inherit from. Some notes: "),e.nrm(2,"br"),e.k0s(),e.j41(3,"ul")(4,"li"),e.EFF(5,"Inheriting will remove/ignore all current definition of this field such as label, hidden, etc."),e.k0s(),e.j41(6,"li"),e.EFF(7," If the field you want to inherit the definition from is missing from this list, it's either a different data type or it's not shared. "),e.k0s()(),e.j41(8,"mat-card",11)(9,"table",12),e.qex(10,13),e.DNE(11,Mt,3,0,"th",14)(12,Rt,2,1,"td",15),e.bVm(),e.qex(13,16),e.DNE(14,Ot,3,0,"th",14)(15,It,2,1,"td",15),e.bVm(),e.qex(16,17),e.DNE(17,xt,3,0,"th",14)(18,St,2,1,"td",15),e.bVm(),e.DNE(19,jt,1,0,"tr",18)(20,Pt,1,3,"tr",19),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(9),e.Y8G("dataSource",t.shareableFields()),e.R7$(10),e.Y8G("matHeaderRowDef",t.optionsColumns),e.R7$(),e.Y8G("matRowDefColumns",t.optionsColumns)}}function Nt(n,l){if(1&n){const t=e.RV6();e.j41(0,"p"),e.EFF(1,"This field is currently not shared or inherited. You can choose to:"),e.k0s(),e.j41(2,"ul")(3,"li"),e.EFF(4,"Make it public ("),e.j41(5,"strong"),e.EFF(6,"share"),e.k0s(),e.EFF(7,") so it can be re-used by other Content Types"),e.k0s(),e.j41(8,"li"),e.EFF(9,"Change it to "),e.j41(10,"strong"),e.EFF(11,"inherit"),e.k0s(),e.EFF(12," it's definition from another previously shared field"),e.k0s()(),e.nrm(13,"br"),e.j41(14,"div")(15,"button",10),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.setShare())}),e.EFF(16," Share "),e.k0s(),e.j41(17,"button",10),e.bIt("click",function(){s.eBV(t);const a=e.XpG();return s.Njj(a.startInherit())}),e.EFF(18," Inherit "),e.k0s(),e.nVh(19,Et,2,0,"p")(20,kt,21,3),e.k0s()}if(2&n){let t;const i=e.XpG();e.R7$(15),e.HbH("eav-dialog-action-button"+(i.state==i.sharingOrInheriting.Sharing?" eav-action-button":"")),e.R7$(2),e.HbH("eav-dialog-action-button"+(i.state==i.sharingOrInheriting.Inheriting?" eav-action-button":"")),e.R7$(2),e.vxM((t=i.state)===i.sharingOrInheriting.Sharing?19:t===i.sharingOrInheriting.Inheriting?20:-1)}}function At(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1," Guid: "),e.j41(2,"strong"),e.EFF(3),e.k0s(),e.nrm(4,"br"),e.EFF(5," Content Type: "),e.j41(6,"strong"),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.EFF(9," Field: "),e.j41(10,"strong"),e.EFF(11),e.k0s(),e.EFF(12),e.k0s()),2&n){const t=l.$implicit;e.R7$(3),e.JRh(t.Guid),e.R7$(4),e.JRh(t.ContentType.Name),e.R7$(4),e.JRh(t.StaticName),e.R7$(),e.SpI(" (",t.AttributeId,") ")}}function Bt(n,l){if(1&n&&(e.j41(0,"ul"),e.Z7z(1,At,13,4,"li",null,ft),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Dyx(t.details())}}function wt(n,l){1&n&&(e.j41(0,"em"),e.EFF(1," No details available. This field probably does not have any inheriting fields. "),e.k0s())}function Gt(n,l){if(1&n&&e.nVh(0,Bt,3,0,"ul")(1,wt,2,0,"em"),2&n){const t=e.XpG(2);e.vxM(t.details().length?0:1)}}function $t(n,l){if(1&n&&(e.j41(0,"em"),e.EFF(1," You can get more details about the parents by enabling the feature "),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"app-feature-icon-with-dialog",24),e.EFF(5,". "),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.SpI(" ",t.requiredFeature," "),e.R7$(),e.Y8G("forText",!0)("featureNameId",t.requiredFeature)}}function Ut(n,l){if(1&n&&e.nVh(0,Gt,2,1)(1,$t,6,3,"em"),2&n){const t=e.XpG();e.vxM(t.features.isEnabled[t.requiredFeature]()?0:1)}}const Ht={all:!0,constructor:!0};let Wt=(()=>{class n{#e;constructor(t,i,a){this.dialogData=t,this.features=i,this.dialog=a,this.log=(0,mt.Tq)({ShareOrInheritDialogComponent:n},Ht),this.#e=(0,u.d)(P.h),this.requiredFeature=W.T.ContentTypeFieldsReuseDefinitions,this.details=(0,$.KX)("details",[]),this.optionsColumns=["contentType","name","type"],this.state=j.None,this.sharingOrInheriting=j,this.guid=null,this.shareableFields=(0,s.vPA)(void 0),this.initialState=(()=>{const E=this.dialogData.SysSettings;return E&&(E.Share||E.InheritMetadataOf)?E.Share?j.Sharing:j.Inheriting:j.None})(),this.title="SharingOrInheriting.Title"+this.sharingOrInheriting[this.initialState],this.#t=(0,$.bo)("inheritsInfo",()=>{const B=this.dialogData.SysSettings.InheritMetadataOf.split(",").map(U=>({complete:U,guid:U.substring(0,36),name:U.substring(36)}));return(0,ht.A)(B,U=>"00000000-0000-0000-0000-000000000000"===U.guid?"none":"inherits")}),this.notInherited=(0,$.bo)("notInherited",()=>this.#t().none?.map(E=>E.name)??[]),this.inherited=(0,$.bo)("inherited",()=>this.#t().inherits??[]),this.log.fnIf("constructor",{dialogData:t});const D=t.SysSettings;D&&(D.Share?this.#e.getDescendants(t.Id).then(E=>this.details.set(E)):D.InheritMetadataOf&&this.#e.getAncestors(t.Id).then(E=>this.details.set(E)))}#t;setShare(){this.guid=null,this.state=j.Sharing}startInherit(){this.guid=null,this.state=j.Inheriting,this.#e.getShareableFieldsFor(this.dialogData.AttributeId).then(t=>this.shareableFields.set(t))}inheritField(t){this.guid=t.Guid}save(){this.state==j.Sharing?this.#e.share(this.dialogData.Id).subscribe(()=>this.dialog.close()):this.state==j.Inheriting&&this.#e.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialog.close())}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(C.Vh),e.rXU(ee.D),e.rXU(C.CP))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-field-sharing-configure"]],decls:19,vars:8,consts:[["detailsOrWarning",""],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],[4,"ngTemplateOutlet"],["mat-raised-button","","type","button",3,"click"],[1,"my-options-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],[3,"forText","featureNameId"]],template:function(i,a){if(1&i){const d=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.eBV(d),s.Njj(a.dialog.close())}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",5),e.nVh(9,Ct,9,2)(10,Dt,7,3)(11,Nt,21,5),e.j41(12,"app-feature-info-box",6)(13,"em"),e.EFF(14," Even if the feature is not licensed, it will always work but show warnings. "),e.k0s()()(),e.j41(15,"mat-dialog-actions",7)(16,"app-save-close-button-fab",8),e.bIt("action",function(){return s.eBV(d),s.Njj(a.save())}),e.k0s()()(),e.DNE(17,Ut,2,1,"ng-template",null,0,e.C5r)}if(2&i){let d;e.R7$(3),e.SpI(" ",e.bMT(4,6,a.title)," "),e.R7$(6),e.vxM((d=a.initialState)===a.sharingOrInheriting.Sharing?9:d===a.sharingOrInheriting.Inheriting?10:d===a.sharingOrInheriting.None?11:-1),e.R7$(3),e.Y8G("featureNameId",a.requiredFeature)("asInfo",!0),e.R7$(4),e.Y8G("ngClass",a.initialState!=a.sharingOrInheriting.None?"disabled":"")("disabled",a.initialState!=a.sharingOrInheriting.None)}},dependencies:[r.Hl,r.$z,L.iY,m.m_,m.An,V.Hu,V.RN,F.tP,F.Zl,F.tL,F.ji,F.cC,F.YV,F.iL,F.KS,F.$R,F.YZ,F.NB,g.YU,g.T3,I.h,q.b,pt.X,C.E7,te.i,I.D9],styles:[".my-options-wrapper[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.my-options-wrapper[_ngcontent-%COMP%]   .my-selected[_ngcontent-%COMP%]{background-color:#00000026}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}"]})}}return n})();var Lt=o(58857);const Kt=(n,l)=>({"grid-sorted":n,"grid-filtered":l});function Xt(n,l){if(1&n){const t=e.RV6();e.j41(0,"ag-grid-angular",9),e.bIt("rowDragEnter",function(a){s.eBV(t);const d=e.XpG();return s.Njj(d.onRowDragEnter(a))})("rowDragEnd",function(a){s.eBV(t);const d=e.XpG();return s.Njj(d.onRowDragEnd(a))})("rowDragMove",function(a){s.eBV(t);const d=e.XpG();return s.Njj(d.onRowDragMove(a))})("gridReady",function(a){s.eBV(t);const d=e.XpG();return s.Njj(d.onGridReady(a))})("sortChanged",function(a){s.eBV(t);const d=e.XpG();return s.Njj(d.onSortChanged(a))})("filterChanged",function(a){s.eBV(t);const d=e.XpG();return s.Njj(d.onFilterChanged(a))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("rowData",t.fields())("gridOptions",t.gridOptions)("ngClass",e.l_i(3,Kt,t.sortApplied,t.filterApplied))}}let Yt=(()=>{class n{#e;#t;#a;constructor(t,i,a,d){this.dialog=t,this.snackBar=i,this.matDialog=a,this.viewContainerRef=d,this.#e=(0,u.d)(se.c),this.#t=(0,u.d)(x.g),this.#a=(0,u.d)(P.h),this.#i=this.#e.getParam("contentTypeStaticName"),this.refresh=(0,s.vPA)(0),this.isReordering=(0,s.vPA)(!1),this.#r={empty:{description:"<p><b>This is where you manage Fields</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first Field (think: column).</p>"},content:{description:"<p><b>These are the Fields of this Content-Type</b> <br>They are similar to database columns.</p>",hint:"<p>Click on the <em>Name</em> to configure it or on the <em>Input</em> to change the type. <br><br>You can also create new fields, share field definitions, manage field metadata/permissions or rename fields.</p>"}},this.uxHelpText=(0,c.EW)(()=>0===this.fields()?.length?this.#r.empty:this.#r.content),this.contentType=this.#t.getType(this.#i).value,this.fields=(0,s.vPA)(void 0),this.gridOptions=this.#b(),this.sortApplied=!1,this.filterApplied=!1,this.#s=!1}#i;#r;#n;#s;ngOnInit(){this.#o(),this.#e.doOnDialogClosed(()=>this.#o())}onGridReady(t){this.#n=t.api}onRowDragEnter(t){this.#n.setGridOption("enableCellTextSelection",!1)}onRowDragEnd(t){this.#n.setGridOption("suppressRowDrag",!0),this.isReordering.set(!0);const i=this.fields().map(a=>a.Id);this.#a.reOrder(i,this.contentType()).subscribe(()=>{this.#o(()=>{this.#n.setGridOption("enableCellTextSelection",!0),this.#n.setGridOption("suppressRowDrag",!1),this.isReordering.set(!1)})})}onRowDragMove(t){const i=t.overNode;if(!i)return;const a=t.node;if(a===i)return;const d=[...this.fields()],D=d.indexOf(a.data),E=d.indexOf(i.data),B=this.#d(d,D,E);this.fields.set(B),this.#n.clearFocusedCell()}#d(t,i,a){const d=t[i];return t.splice(i,1),t.splice(a,0,d),[...t]}onSortChanged(t){const i=this.#n.getColumnState();this.sortApplied=i.some(a=>null!=a.sort),this.#l()}onFilterChanged(t){const i=this.#n.getFilterModel(),a=Object.keys(i);this.filterApplied=a.length>0,this.#l()}#l(){const t=this.sortApplied||this.filterApplied;t&&!this.#s?(this.#s=!0,this.#n.setGridOption("suppressRowDrag",!0)):!t&&this.#s&&(this.#s=!1,this.#n.setGridOption("suppressRowDrag",!1))}add(){this.#e.navRelative([`add/${this.#i}`])}addSharedField(){this.matDialog.open(ct,{autoFocus:!1,width:"1600px",data:{contentType:this.contentType(),existingFields:this.fields()},viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#o())}#y(t){const i=t.data.InputType;if(S.Q.endsPreviousGroup(i))return t.value;let a=!1;for(const d of this.fields())if(S.Q.isGroupStart(i))a=!0;else if(S.Q.isGroupEnd(i))a=!1;else if(d.StaticName===t.data.StaticName)break;return a?`<span class="is-in-group">${t.value}</span>`:t.value}#o(t){this.#a.getFieldsPromise(this.#i).then(i=>{this.fields.set(i),t?.()})}#c(t,i){const a=i.replace("@",""),d=("@"+i).replace("@@","@"),D=t.Metadata[a];return null!=D?w.H.editId(D.Id):{...w.H.newMetadata(t.Id,d,M.YX.metadata.attribute),Prefill:{Name:t.StaticName}}}#h(t){this.snackBar.open("Setting title..."),this.#a.setTitle(t,this.contentType()).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.#o()})}#p(t){this.#e.navRelative([`update/${this.#i}/${t.Id}/name`])}#m(t){this.matDialog.open(A.F,{autoFocus:!1,data:{entityId:t.Id,entityTitle:t.StaticName,message:"Delete Item?",hasDeleteSnackbar:!0},viewContainerRef:this.viewContainerRef,width:"600px"}).afterClosed().subscribe(i=>{i&&this.#a.delete(t,this.contentType()).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.#o()})})}#g(t){this.#e.navRelative([y.k.getUrlAttribute(t.Id)])}#u(t){const i=t.imageConfiguration;if(1!=i?.isRecommended)throw new Error("This field does not expect to have an image configuration");const a=i.entityId?w.H.editId(i.entityId):w.H.newMetadata(t.Id,i.typeName,M.YX.metadata.attribute),d=(0,k.s)({items:[a]});this.#e.navRelative([`edit/${d}`])}#f(t){const i=T.H.getUrlAttribute(t.Id,`Metadata for Field: ${t.StaticName} (${t.Id})`);this.#e.navRelative([i])}#_(t){const i={items:Object.keys(t.ConfigTypes).map(d=>this.#c(t,d))},a=(0,k.s)(i);return"#"+this.#e.urlSubRoute(`edit/${a}`)}#C(t){return"#"+this.#e.urlSubRoute(`update/${this.#i}/${t.Id}/inputType`)}#v(t){this.matDialog.open(Wt,{autoFocus:!1,width:"800px",data:t,viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#o())}#b(){return{...f.C,getRowClass(i){const a=i.data,d=[];return a.EditInfo.DisableSort&&d.push("disable-row-drag"),S.Q.isGroupStart(a.InputType)&&d.push("group-start-row"),S.Q.isGroupEnd(a.InputType)&&d.push("group-end-row"),d},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" "),cellRenderer:ge,cellRendererParams:{isReordering:()=>this.isReordering()}},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:i=>i.data.IsTitle,cellRenderer:xe,cellRendererParams:{onSetTitle:i=>this.#h(i)}},{...h.r.TextWidePrimary,headerName:"Name",field:"StaticName",cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),cellRenderer:i=>p.f.cellLink(this.#_(i.data),i.value)},{...h.r.ItemsText,field:"Type",width:70,valueGetter:i=>i.data.Type,cellRenderer:je},{...h.r.ItemsText,headerName:"Input",field:"InputType",width:160,cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),valueGetter:i=>i.data.InputType.substring(i.data.InputType.indexOf("-")+1),cellRenderer:i=>p.f.cellLink(this.#C(i.data),i.value)},{field:"Label",flex:2,minWidth:200,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Name},{field:"Special",width:132,headerClass:"dense",cellClass:"no-outline",cellRenderer:Re},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Notes},{...h.r.ActionsPinnedRight5,cellRenderer:pe,cellRendererParams:{do:(i,a)=>{switch(i){case"rename":this.#p(a);break;case"delete":this.#m(a);break;case"permissions":this.#g(a);break;case"metadata":this.#f(a);break;case"shareOrInherit":this.#v(a);break;case"image":this.#u(a)}}}}]}}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(C.CP),e.rXU(ie.UG),e.rXU(C.bZ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields"]],decls:17,vars:9,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"ag-theme-material","eav-dialog-content",3,"rowData","gridOptions","ngClass"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"],[1,"ag-theme-material","eav-dialog-content",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"]],template:function(i,a){if(1&i&&(e.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return a.dialog.close()}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.nVh(8,Xt,1,6,"ag-grid-angular",5),e.j41(9,"mat-dialog-actions",6)(10,"button",7),e.bIt("click",function(){return a.addSharedField()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",8),e.bIt("click",function(){return a.add()}),e.j41(14,"mat-icon"),e.EFF(15,"add"),e.k0s()()()()(),e.nrm(16,"router-outlet")),2&i){let d,D,E;e.R7$(),e.Y8G("helpText",a.uxHelpText())("refresh",a.refresh())("rowLength",null==(d=a.fields())?null:d.length),e.R7$(3),e.SpI("",(null==(D=a.contentType())?null:D.Label)||(null==(D=a.contentType())?null:D.Name)," Fields"),e.R7$(4),e.vxM((null==(E=a.fields())?null:E.length)>0?8:-1),e.R7$(3),e.JRh(e.bMT(12,7,"SharingOrInheriting.AddSharedField")),e.R7$(2),e.Y8G("disabled",null==a.contentType()||a.contentType().EditInfo.ReadOnly)}},dependencies:[r.Hl,r.$z,L.iY,r.Sr,m.m_,m.An,b.n3,g.YU,C.E7,R.V,oe.p,Lt.xs,I.h,_.v,I.D9],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .id-box *, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#85283b!important}"]})}}return n})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.03.00/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-projects_eav-ui_src_app_sh-8c418a.271d6eea66b87a2e.js.map
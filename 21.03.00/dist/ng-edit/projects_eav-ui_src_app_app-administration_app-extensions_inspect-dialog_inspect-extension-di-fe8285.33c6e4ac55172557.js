"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-extensions_inspect-dialog_inspect-extension-di-fe8285"],{96878(u,l,a){a.r(l),a.d(l,{InspectExtensionDialog:()=>P});var r=a(56884),E=a(34456),c=a(84175),g=a(53777),I=a(87941),m=a(90353),o=a(93840),D=a(8827),s=a(69393),t=a(12938),n=a(73834),i=a(97480),p=a(37650),e=a(36124);let P=(()=>{class d{constructor(){this.#a=(0,t.d)(i.h),this.dialog=(0,r.WQX)(I.CP),this.#t=(0,r.WQX)(s.nX),this.extensionFolder=this.#t.snapshot.paramMap.get("extension"),this.edition=this.#t.snapshot.queryParamMap.get("edition")||"",this.preflightResult=this.#a.preflightExtension(this.extensionFolder,this.edition).value}#a;#t;static{this.\u0275fac=function(_){return new(_||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"eav-dialog"],["eav-dialog-header","",3,"close","title"],[1,"eav-dialog-content"],[3,"data"]],template:function(_,h){1&_&&(e.j41(0,"div",0)(1,"app-dialog-header",1),e.bIt("close",function(){return h.dialog.close()}),e.k0s(),e.j41(2,"div",2),e.nrm(3,"app-inspect-extension",3),e.k0s()()),2&_&&(e.R7$(),e.Y8G("title","Inspect Extension: "+(h.extensionFolder||"No Extension")+" ("+(h.edition||"Default")+")"),e.R7$(2),e.Y8G("data",h.preflightResult()))},dependencies:[c.Hl,o.m_,D.mV,E.YN,g.Hu,m.MY,p.H,n.B],styles:[".eav-dialog[_ngcontent-%COMP%]{padding-bottom:24px}"]})}}return d})()},97480(u,l,a){a.d(l,{h:()=>m});var r=a(70271),E=a(34435),c=a(96474),g=a(56884),I=a(36124);let m=(()=>{class o extends c.D{constructor(){super(...arguments),this.log=(0,E.Tq)({AppExtensionsService:o})}getAllLive(s){return this.newHttpResource(()=>(s(),{url:this.apiUrl("admin/appExtensions/extensions"),params:{appId:this.appId},method:"GET"}))}getAll(){return this.http.get(this.apiUrl("admin/appExtensions/extensions"),{params:{appId:this.appId}})}updateConfiguration(s,t){const n=JSON.parse(t);return this.http.post(this.apiUrl("admin/appExtensions/configuration"),n,{params:{zoneId:this.zoneId,appId:this.appId,name:s}})}downloadExtension(s){const t=new URLSearchParams({appId:this.appId,zoneId:this.zoneId,name:s}),n=`${this.apiUrl("admin/appExtensions/download")}?${t.toString()}`;window.open(n,"_blank","")}installRemoteExtension(s,t,n){const i=[s],p={appId:this.appId,zoneId:this.zoneId,...t?{editions:t}:{},...n?{overwrite:n}:{}};return this.http.post(this.apiUrl("admin/appExtensions/InstallFrom"),i,{params:p})}installPreflightExtensionFromUrl(s,t){const n=[s],i={appId:this.appId,...t?{editions:t}:{}};return this.http.post(this.apiUrl("admin/appExtensions/InstallPreflightFrom"),n,{params:i})}uploadExtensions(s,t,n){const i=new FormData;i.append("files",s);const p={appId:this.appId,zoneId:this.zoneId,...t?{editions:t}:{},...n?{overwrite:n}:{}};return this.http.post(this.apiUrl("admin/appExtensions/install"),i,{params:p}).pipe((0,r.T)(e=>({Success:e,Messages:e?[{MessageType:1,Text:"Extension uploaded successfully"}]:[{MessageType:2,Text:"Extension upload failed"}]})))}installPreflightExtension(s){const t=new FormData;return s.forEach(n=>t.append("files",n)),this.http.post(this.apiUrl("admin/appExtensions/installPreflight"),t,{params:{appId:this.appId,zoneId:this.zoneId}})}preflightExtension(s,t){const n={appId:this.appId,name:s};return t&&(n.edition=t),this.newHttpResource(()=>({url:this.apiUrl("admin/appExtensions/inspect"),params:n,method:"GET"}))}deleteExtension(s,t,n=!1,i=!1){const p={appId:this.appId,name:s,force:n,withData:i,...t?{edition:t}:{}};return this.http.delete(this.apiUrl("admin/appExtensions/delete"),{params:p})}static{this.\u0275fac=(()=>{let s;return function(n){return(s||(s=I.xGo(o)))(n||o)}})()}static{this.\u0275prov=g.jDH({token:o,factory:o.\u0275fac})}}return o})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.03.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-extensions_inspect-dialog_inspect-extension-di-fe8285.33c6e4ac55172557.js.map
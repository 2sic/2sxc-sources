"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_shared_s-1e42e0"],{320(g,d,t){t.d(d,{t:()=>_});var o=t(89204),p=t(46443),c=t(71772),i=t(24467),n=t(56884),s=t(36124);let _=(()=>{class l extends i.B{getAppInfo(){return(0,p.fx)(()=>({url:this.apiUrl("admin/app/Statistics"),params:{appid:this.appId,zoneId:this.zoneId}}))}exportAppUrl(){return`${this.apiUrl(`${c.u}Export`)}?appId=${this.appId}&zoneId=${this.zoneId}`}exportForVersionControl(I){var u=this;return(0,o.A)(function*({includeContentGroups:P,resetAppGuid:r,withFiles:m}){return u.getStatusPromise("admin/app/SaveData",{params:{appid:u.appId,zoneId:u.zoneId,includeContentGroups:P.toString(),resetAppGuid:r.toString(),withPortalFiles:m.toString()}})}).apply(this,arguments)}static{this.\u0275fac=(()=>{let I;return function(P){return(I||(I=s.xGo(l)))(P||l)}})()}static{this.\u0275prov=n.jDH({token:l,factory:l.\u0275fac})}}return l})()},2570(g,d,t){t.d(d,{Y:()=>E,y:()=>I});var o=t(89204),p=t(46443),c=t(24467),i=t(56884),n=t(36124);const s="admin/view/all",E="a495b51f-44e7-4335-81db-b8a7e33120f0";let I=(()=>{class u extends c.B{getAllOnce(){return(0,p.fx)(()=>({url:this.apiUrl(s),params:{appId:this.appId}}))}getAllLive(r){return(0,p.fx)(()=>(r(),{url:this.apiUrl(s),params:{appId:this.appId}}))}delete(r){var m=this;return(0,o.A)(function*(){return m.getStatusPromise("admin/view/delete",{params:{appId:m.appId,Id:r.toString()}})})()}import(r){const m=new FormData;return m.append("File",r),this.http.post(this.apiUrl("admin/view/import"),m,{params:{appId:this.appId,zoneId:this.zoneId}})}export(r){const m=this.apiUrl("admin/view/json")+"?appId="+this.appId+"&viewId="+r;window.open(m,"_blank","")}getUsage(r){return this.newHttpResource(()=>({url:this.apiUrl("admin/view/usage"),params:{appId:this.appId,guid:r}}))}static{this.\u0275fac=(()=>{let r;return function(a){return(r||(r=n.xGo(u)))(a||u)}})()}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},2903(g,d,t){t.d(d,{B:()=>p});var o=t(47441);class p extends o.l{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}},17693(g,d,t){t.d(d,{X:()=>s,g:()=>P});var o=t(46443),p=t(36664),c=t(96474),i=t(56884),n=t(36124);const s="admin/type/",e="admin/type/get",h="admin/type/list",_="admin/type/scopes";let P=(()=>{class r extends c.D{retrieveContentType(a){return this.getHttpApiUrl(e,{params:{appId:this.appId,contentTypeId:a}})}getType(a){return(0,o.fx)(()=>({url:this.apiUrl(e),params:{appId:this.appId,contentTypeId:a}}))}getTypes(a){return(0,o.fx)(()=>({url:this.apiUrl(h),params:{appId:this.appId,scope:a()}}),{defaultValue:[]})}retrieveContentTypesPromise(a){return this.fetchPromise(h,{params:{appId:this.appId,scope:a}})}getScopesPromise(){return this.fetchPromise(_,{params:{appId:this.appId}}).then(a=>{const O=a.old;return Object.keys(O).map(y=>({name:O[y],value:y}))})}getScopesSig(){const a=(0,o.fx)(()=>({url:this.apiUrl(_),params:{appid:this.appId}}));return(0,p.EW)(()=>{const y=(0,a.value)();if(!y||!y.old)return[];const M=y.old;return Object.keys(M).map(T=>({name:M[T],value:T}))})}getScopesV2Promise(){return this.fetchPromise(_,{params:{appId:this.appId}}).then(a=>a.scopes)}save(a){return this.http.post(this.apiUrl("admin/type/save"),a,{params:{appid:this.appId}})}delete(a){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.appId,staticName:a.NameId}})}import(a){const O=new FormData;for(const f of a)O.append("File",f);return this.http.post(this.apiUrl("admin/type/import"),O,{params:{appId:this.appId,zoneId:this.zoneId}})}createGhost(a){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.appId,sourceNameId:a}})}static{this.\u0275fac=(()=>{let a;return function(f){return(a||(a=n.xGo(r)))(f||r)}})()}static{this.\u0275prov=i.jDH({token:r,factory:r.\u0275fac})}}return r})()},25081(g,d,t){t.d(d,{W:()=>i});var o=t(70519),p=t(56884),c=t(3347);let i=(()=>{class n{constructor(e){this.snackBar=e}copyToClipboard(e){(0,o.l)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static{this.\u0275fac=function(h){return new(h||n)(p.KVO(c.UG))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},58624(g,d,t){t.d(d,{Q:()=>n,S:()=>s});var o=t(71772),p=t(24467),c=t(56884),i=t(36124);const n="admin/appParts/";let s=(()=>{class e extends p.B{importAppParts(_){const l=new FormData;return l.append("File",_),this.http.post(this.apiUrl(n+"Import"),l,{params:{appId:this.appId,zoneId:this.zoneId}})}resetApp(_){return this.http.post(this.apiUrl(o.u+"Reset"),{},{params:{appId:this.appId,zoneId:this.zoneId,withPortalFiles:_.toString()}})}static{this.\u0275fac=(()=>{let _;return function(E){return(_||(_=i.xGo(e)))(E||e)}})()}static{this.\u0275prov=c.jDH({token:e,factory:e.\u0275fac})}}return e})()},70693(g,d,t){function o(c){return new Promise((i,n)=>{const s=new FileReader;s.readAsDataURL(c),s.onload=()=>{i(s.result.split(",")[1])},s.onerror=e=>{n(e)}})}function p(c){return new Promise((i,n)=>{const s=new FileReader;s.readAsText(c),s.onload=()=>{i(s.result)},s.onerror=e=>{n(e)}})}t.d(d,{d:()=>p,n:()=>o})},71475(g,d,t){t.d(d,{j:()=>e});var o=t(46443),p=t(24467),c=t(58624),i=t(56884),n=t(36124);let e=(()=>{class h extends p.B{getContentInfoLiveParam(l){return(0,o.fx)(()=>({url:this.apiUrl("admin/appParts/get"),params:{appid:this.appId,zoneId:this.zoneId,scope:l()}}))}exportParts(l,E,I){const u=this.apiUrl(c.Q+"Export")+"?appId="+this.appId+"&zoneId="+this.zoneId+"&contentTypeIdsString="+l.join(";")+"&entityIdsString="+E.join(";")+"&templateIdsString="+I.join(";");window.open(u,"_blank","")}static{this.\u0275fac=(()=>{let l;return function(I){return(l||(l=n.xGo(h)))(I||h)}})()}static{this.\u0275prov=i.jDH({token:h,factory:h.\u0275fac})}}return h})()},71772(g,d,t){t.d(d,{I:()=>h,u:()=>e});var o=t(59452),p=t(36647),c=t(62876),i=t(24467),n=t(56884),s=t(36124);const e="admin/app/";let h=(()=>{class _ extends i.B{importApp(E,I,u=!1){const P=new FormData;return P.append("File",E),P.append("Name",I??""),this.http.post(this.apiUrl(e+"Import"),P,{params:{zoneId:this.zoneId}}).pipe((0,p.n)(r=>{if(u&&r.Messages[0]?.MessageType===c.G1.Warning){const m=prompt(r.Messages[0].Text+" Would you like to install it using another folder name?");if(m)return this.importApp(E,m,!0)}return(0,o.of)(r)}))}static{this.\u0275fac=(()=>{let E;return function(u){return(E||(E=s.xGo(_)))(u||_)}})()}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})()},74079(g,d,t){t.d(d,{Cu:()=>a,JL:()=>O,Mk:()=>r,ei:()=>m,vN:()=>f,xR:()=>y});var o=t(46443),p=t(14600),c=t(70271),i=t(36647),n=t(70693),s=t(34435),e=t(9234),h=t(96474),_=t(56884),l=t(36124);const E={all:!0,getAll:!1,getAllSig:!0,getAllLive:!1,getAllRes:!0,importQuery:!1,clonePipeline:!1,delete:!1,update:!1},r="admin/query/RunDev",m="admin/query/DebugStream",a="admin/query/Save",O="admin/query/Get",f="admin/query/DataSources";let y=(()=>{class M extends h.D{constructor(){super(...arguments),this.log=(0,s.Tq)({PipelinesService:M},E)}getAll(D){return this.log.fnIf("getAll").r(this.getHttpApiUrl(e.Gg,{params:{appId:this.appId,contentType:D}}))}getAllLive(D,v){return this.log.fnIf("getAllLive",{contentType:D,refresh:v}),(0,o.fx)(()=>(v(),{url:this.apiUrl(e.Gg),params:{appId:this.appId,contentType:D}}))}getAllRes(D,v){const A=this.log.fnIf("getAllRes"),U=(0,o.fx)(()=>({url:e.Gg,params:{appId:this.appId,contentType:D}}),{defaultValue:v});return A.r(U)}importQuery(D){const v=this.log.fnIf("importQuery"),A=(0,p.H)((0,n.n)(D)).pipe((0,i.n)(U=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:U})),(0,c.T)(U=>({Success:U,Messages:[]})));return v.r(A)}clonePipelinePromise(D){const v=this.log.fnIf("clonePipeline"),A=this.fetchPromise("admin/query/Clone",{params:{Id:D.toString(),appId:this.appId}});return v.r(A)}delete(D){const v=this.log.fnIf("delete"),A=this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:D.toString()}});return v.r(A)}static{this.\u0275fac=(()=>{let D;return function(A){return(D||(D=l.xGo(M)))(A||M)}})()}static{this.\u0275prov=_.jDH({token:M,factory:M.\u0275fac})}}return M})()},75445(g,d,t){t.d(d,{Cu:()=>s.Cu,JL:()=>s.JL,Mk:()=>s.Mk,X6:()=>p.X,ei:()=>s.ei,gs:()=>p.g,tr:()=>o.t,vN:()=>s.vN,xR:()=>s.xR,y0:()=>e.y});var o=t(61479),p=t(17693),s=(t(71475),t(320),t(58624),t(74079)),e=t(2570)}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.03.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_shared_s-1e42e0.5d09b934ec4331f1.js.map
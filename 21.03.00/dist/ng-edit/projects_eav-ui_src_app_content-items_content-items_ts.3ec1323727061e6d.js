"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-items_content-items_ts"],{336(O,b,n){n.d(b,{F:()=>P});var l=n(46443),t=n(14600),r=n(70271),d=n(36647),p=n(78742),h=n(70693),v=n(34435),u=n(9234),C=n(24467),M=n(56884),I=n(36124);const D={getAll:!0,getAllLive:!0,getAllOnce:!0};let P=(()=>{class _ extends C.B{constructor(){super(...arguments),this.log=(0,v.Tq)({ContentItemsService:_},D)}getAllPromise(g){return this.log.fnIf("getAll",{contentTypeStaticName:g}),this.fetchPromise(u.Gg,{params:{appId:this.appId,contentType:g}})}getAllOnce(g){return this.log.fnIf("getAllOnce",{contentTypeStaticName:g}),(0,l.fx)(()=>({url:this.apiUrl(u.Gg),params:{appId:this.appId,contentType:g}}))}getAllLive(g,m){return this.log.fnIf("getAllLive",{contentTypeStaticName:g,refresh:m}),(0,l.fx)(()=>(m(),{url:this.apiUrl(u.Gg),params:{appId:this.appId,contentType:g}}))}getColumnsPromise(g){return this.fetchPromise(p.z,{params:{appId:this.appId,staticName:g}})}importItem(g){return(0,t.H)((0,h.n)(g)).pipe((0,d.n)(m=>this.http.post(this.apiUrl(u.gb+"upload"),{AppId:this.appId,ContentBase64:m})),(0,r.T)(m=>({Success:m,Messages:[]})))}static{this.\u0275fac=(()=>{let g;return function(F){return(g||(g=I.xGo(_)))(F||_)}})()}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac})}}return _})()},1771(O,b,n){n.r(b),n.d(b,{ContentItemsComponent:()=>ke});var l=n(56884),t=n(36124),r=n(37580),d=n(36664),p=n(84175),h=n(87941),v=n(93840),u=n(3347),C=n(69393),M=n(12938),I=n(52694),D=n(17693),P=n(25286),_=n(56360),c=n(93454),g=n(21183),m=n(11828),F=n(17042),x=n(17401),E=n(34456),$=n(24950),j=n(59791),W=n(53804),G=n(80423);const dt=["valueInput"];let z=(()=>{class i{constructor(){this.filter="",this.idFilterString="",this.idFilter=[]}agInit(e){this.filterParams=e}isFilterActive(){return""!==this.filter||this.idFilter.length>0}doesFilterPass(e){if(""!==this.filter){const o=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,context:this.filterParams.context,data:e.node.data,getValue:s=>e.node.data[s],node:e.node});if(null==o||!o.some(s=>!!s&&s.includes(this.filter)))return!1}if(this.idFilter.length>0){const a=e.data[this.filterParams.colDef.headerName];if(null==a||!this.idFilter.some(o=>a.some(s=>s.Id===o)))return!1}return!0}getModel(){return this.isFilterActive()?{filterType:"entity",filter:this.filter,idFilter:this.idFilter}:void 0}setModel(e){this.filter=e?.filter??"",this.idFilter=e?.idFilter??[],this.idFilterString=e?.idFilter?.join(",")??""}afterGuiAttached(e){this.valueInputRef.nativeElement.focus()}updateIdFilter(){this.idFilter=this.idFilterString.split(",").map(e=>parseInt(e,10)).filter(e=>!isNaN(e))}filterChanged(){this.filterParams.filterChangedCallback()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-entity-filter"]],viewQuery:function(a,o){if(1&a&&t.GBs(dt,5),2&a){let s;t.mGM(s=t.lsd())&&(o.valueInputRef=s.first)}},decls:9,vars:2,consts:[["valueInput",""],["color","accent",1,"eav-mat-form-field"],["matInput","","type","text",3,"ngModelChange","ngModel"]],template:function(a,o){if(1&a){const s=t.RV6();t.j41(0,"mat-form-field",1)(1,"mat-label"),t.EFF(2,"Value"),t.k0s(),t.j41(3,"input",2,0),t.mxI("ngModelChange",function(T){return l.eBV(s),t.DH7(o.filter,T)||(o.filter=T),l.Njj(T)}),t.bIt("ngModelChange",function(){return l.eBV(s),l.Njj(o.filterChanged())}),t.k0s()(),t.j41(5,"mat-form-field",1)(6,"mat-label"),t.EFF(7,"IDs (comma separated)"),t.k0s(),t.j41(8,"input",2),t.mxI("ngModelChange",function(T){return l.eBV(s),t.DH7(o.idFilterString,T)||(o.idFilterString=T),l.Njj(T)}),t.bIt("ngModelChange",function(){return l.eBV(s),o.updateIdFilter(),l.Njj(o.filterChanged())}),t.k0s()()}2&a&&(t.R7$(3),t.R50("ngModel",o.filter),t.R7$(5),t.R50("ngModel",o.idFilterString))},dependencies:[E.YN,E.me,E.BC,E.vS,W.Wk,$.RG,G.rl,G.nJ,j.fS,j.fg],styles:["[_nghost-%COMP%]{display:block;padding:16px 12px 2px}.mat-mdc-form-field[_ngcontent-%COMP%]{display:block;width:175px}"]})}}return i})();var ct=n(60251),pt=n(38172),ut=n(34575),U=n(34601),mt=n(95699),L=n(1726),S=n(92324),ht=n(34435),k=n(30056),gt=n(67037),ft=n(69914),_t=n(60852),Ct=n(41235),Q=n(68873),vt=n(96817),yt=n(39431),Tt=n(67993),Z=n(85309),K=n(31034),J=n(17828);function bt(i,f){if(1&i){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.do("delete"))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Delete"),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("disabled",e.item._EditInfo.DisableDelete)}}let Et=(()=>{class i{agInit(e){this.params=e,this.item=e.data}refresh(e){return!0}do(e){this.params.do(e,this.item)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-data-bundle-actions"]],decls:13,vars:2,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Clone",1,"eav-grid-action-button","default-link","highlight",3,"href"],["matRipple","","tippy","Export",1,"eav-grid-action-button","highlight",3,"click"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["mat-menu-item","",3,"click","disabled"]],template:function(a,o){if(1&a){const s=t.RV6();t.j41(0,"div",1)(1,"a",2)(2,"mat-icon"),t.EFF(3,"file_copy"),t.k0s()(),t.j41(4,"div",3),t.bIt("click",function(){return l.eBV(s),l.Njj(o.do("export"))}),t.j41(5,"mat-icon"),t.EFF(6,"cloud_download"),t.k0s()(),t.j41(7,"div",4)(8,"mat-icon"),t.EFF(9,"more_horiz"),t.k0s()()(),t.j41(10,"mat-menu",5,0),t.DNE(12,bt,5,1,"ng-template",6),t.k0s()}if(2&a){const s=t.sdS(11);t.R7$(),t.Y8G("href",o.params.urlTo("clone",o.item),t.B4B),t.R7$(6),t.Y8G("matMenuTriggerFor",s)}},dependencies:[Z.p,J.r6,v.m_,v.An,K.Cn,K.kk,K.fb,K.z8,K.Cp,U.e],encapsulation:2})}}return i})();function Mt(i,f){if(1&i&&(t.j41(0,"span",1),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.JRh(e.entities)}}let Dt=(()=>{class i{agInit(e){Array.isArray(e.value)&&(this.encodedValue=this.htmlEncode(e.value.join(", ")),e.colDef.allowMultiValue&&(this.entities=e.value.length))}refresh(e){return!0}htmlEncode(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-entity"]],decls:3,vars:3,consts:[[3,"tippy"],[1,"more-entities"]],template:function(a,o){1&a&&(t.j41(0,"div",0),t.nVh(1,Mt,2,1,"span",1),t.EFF(2),t.k0s()),2&a&&(t.Y8G("tippy",o.encodedValue),t.R7$(),t.vxM(o.entities?1:-1),t.R7$(),t.SpI(" ",o.encodedValue,"\n"))},dependencies:[U.e],styles:[".more-entities[_ngcontent-%COMP%]{padding:0 8px;border-radius:10px;border:1px solid rgba(29,39,61,.44);-webkit-user-select:none;user-select:none}"]})}}return i})();var N=n(79748),q=n(16256);const Ft=i=>({"hide-until-row-hover":i});function xt(i,f){if(1&i&&(t.j41(0,"a",2)(1,"mat-icon",4),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.Y8G("tippy",e.metadataTooltip)("href",e.params.urlTo("openMetadata",e.item),t.B4B)("ngClass",t.eq3(6,Ft,!e.metadataCount&&!e.value.metadata)),t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount),t.R7$(),t.SpI("",e.value.metadata?"loyalty":"local_offer"," ")}}function Ot(i,f){if(1&i&&(t.j41(0,"div",3)(1,"mat-icon",5),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount),t.R7$(),t.SpI("",e.value.metadata?"loyalty":"local_offer"," ")}}let It=(()=>{class i{agInit(e){this.params=e,this.value=e.value,this.item=e.data,this.disableMetadata=this.item._EditInfo.DisableMetadata,this.metadataCount=this.item.Metadata?.length??0;const a=this.item.For;this.metadataTooltip=a?`This item is metadata for:\nTarget: ${a.Target}\nTargetType: ${a.TargetType}`+(a.KeyNumber?`\nNumber: ${a.KeyNumber}`:"")+(a.KeyString?`\nString: ${a.KeyString}`:"")+(a.KeyGuid?`\nGuid: ${a.KeyGuid}`:"")+(a.Title?`\nTitle: ${a.Title}`:""):"This item is not metadata.",this.metadataTooltip+=`\n\nThis item has ${this.metadataCount>0?this.metadataCount:"no"} other metadata ${1===this.metadataCount?"item":"items"} attached to it.`}refresh(e){return!0}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-status"]],decls:6,vars:3,consts:[[1,"actions-component"],[1,"eav-grid-action-button","icon",3,"tippy"],["matRipple","",1,"eav-grid-action-button","default-link","highlight",3,"tippy","href","ngClass"],[1,"eav-grid-action-button","disabled"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"mat-icon"),t.EFF(3),t.k0s()(),t.nVh(4,xt,3,8,"a",2)(5,Ot,3,3,"div",3),t.k0s()),2&a&&(t.R7$(),t.Y8G("tippy",o.value.published?"Published":"Not published"),t.R7$(2),t.JRh(o.value.published?"visibility":"visibility_off"),t.R7$(),t.vxM(o.disableMetadata?o.disableMetadata&&(o.metadataCount||o.value.metadata)?5:-1:4))},dependencies:[v.m_,v.An,Z.p,J.r6,N.YU,q.Y,q.k,U.e],styles:[".hide-until-row-hover[_ngcontent-%COMP%]{visibility:hidden}  .ag-row-hover .hide-until-row-hover{visibility:visible}"]})}}return i})();var Pt=n(4038),Bt=n(20762),tt=n(25175),et=n(8827),A=n(75797),H=n(63037),Y=n(91817),kt=n(63617),nt=n(70271),X=n(19999),jt=n(75445),$t=n(32760),at=n(88857),At=n(30281),Gt=n(11855),it=n(5858),R=n(50052),Ut=n(39333),St=n(63628),Kt=n(48021),Vt=n(93826),ot=n(336),Wt=n(49417);function Lt(i){return f=>{if(!f.value)return null;const e=i.controls.keyType.value,a=f.value.toString();switch(e){case R.YX.keyTypes.number:return/^[0-9]+$/.test(a)?null:{patternWholeNumber:!0};case R.YX.keyTypes.guid:const s=["{","}"].some(B=>a.includes(B)),y=a.substring(s?1:0,s?a.length-1:a.length);return(0,Wt.L)().test(y)?null:{patternGuid:!0};default:return null}}}var Nt=n(96462),st=n(55326);const lt=i=>({active:i});function Yt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.targetType),t.R7$(),t.SpI(" ",e.label," ")}}function Xt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.Y8G("value",e.formValues.targetType),t.R7$(),t.SpI(" ",e.formValues.targetType," ")}}function Ht(i,f){if(1&i&&(t.j41(0,"mat-select",9),t.Z7z(1,Yt,2,2,"mat-option",13,t.fX1),t.nVh(3,Xt,2,2,"mat-option",13),t.k0s()),2&i){const e=t.XpG(),a=t.XpG();t.R7$(),t.Dyx(a.targetTypeOptions),t.R7$(2),t.vxM(e.unknownTargetType?3:-1)}}function wt(i,f){1&i&&t.nrm(0,"input",10)}function zt(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Warning: you entered an unknown target type. This may work or may not. Please be sure you know what you're doing "),t.k0s()),2&i&&t.Y8G("isError",!1)}function Qt(i,f){if(1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.Y8G("isError",!1),t.R7$(),t.JRh(e.targetTypeHint)}}function Zt(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Jt(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Must be a whole number "),t.k0s()),2&i&&t.Y8G("isError",!0)}function qt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function te(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function ee(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.NameId),t.R7$(),t.SpI(" ",e.Label," ")}}function ne(i,f){if(1&i&&(t.j41(0,"mat-form-field",8)(1,"mat-label"),t.EFF(2,"Content Type"),t.k0s(),t.j41(3,"mat-select",19),t.Z7z(4,ee,2,2,"mat-option",13,t.fX1),t.k0s()()),2&i){const e=t.XpG();t.R7$(3),t.Y8G("placeholder",e.contentTypes.length?"":"No items found"),t.R7$(),t.Dyx(e.contentTypes)}}function ae(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI(" ",e.name," ")}}function ie(i,f){if(1&i&&(t.j41(0,"mat-form-field",8)(1,"mat-label"),t.EFF(2,"Scope"),t.k0s(),t.j41(3,"mat-select",20),t.Z7z(4,ae,2,2,"mat-option",13,t.fX1),t.j41(6,"mat-option",13),t.EFF(7,"Other..."),t.k0s()()()),2&i){const e=t.XpG(),a=t.XpG();t.R7$(3),t.Y8G("placeholder",e.scopeOptions.length?"":"No items found"),t.R7$(),t.Dyx(e.scopeOptions),t.R7$(2),t.Y8G("value",a.dropdownInsertValue)}}function oe(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.Guid),t.R7$(),t.Lme(" ",e.Title," (",e.Id,") ")}}function se(i,f){if(1&i&&(t.j41(0,"mat-select",21),t.Z7z(1,oe,2,3,"mat-option",13,t.fX1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("placeholder",e.contentItems.length?"":"No items found"),t.R7$(),t.Dyx(e.contentItems)}}function le(i,f){1&i&&t.nrm(0,"input",22)}function re(i,f){if(1&i&&t.nVh(0,se,3,1,"mat-select",21)(1,le,1,0,"input",22),2&i){const e=t.XpG(2);t.vxM(e.guidedKey?0:1)}}function de(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.NameId),t.R7$(),t.SpI(" ",e.Label," ")}}function ce(i,f){if(1&i&&(t.j41(0,"mat-select",21),t.Z7z(1,de,2,2,"mat-option",13,t.fX1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("placeholder",e.contentTypes.length?"":"No items found"),t.R7$(),t.Dyx(e.contentTypes)}}function pe(i,f){1&i&&t.nrm(0,"input",22)}function ue(i,f){if(1&i&&t.nVh(0,ce,3,1,"mat-select",21)(1,pe,1,0,"input",22),2&i){const e=t.XpG(2);t.vxM(e.guidedKey?0:1)}}function me(i,f){1&i&&t.eu8(0)}function he(i,f){if(1&i&&t.DNE(0,me,1,0,"ng-container",23),2&i){t.XpG(2);const e=t.sdS(44);t.Y8G("ngTemplateOutlet",e)}}function ge(i,f){if(1&i&&t.nVh(0,re,2,1)(1,ue,2,1)(2,he,1,1,"ng-container"),2&i){let e;const a=t.XpG(),o=t.XpG();t.vxM((e=a.formValues.targetType)===o.eavConstants.metadata.entity.targetType?0:e===o.eavConstants.metadata.contentType.targetType?1:2)}}function fe(i,f){1&i&&t.nrm(0,"input",22)}function _e(i,f){1&i&&t.nrm(0,"input",24)}function Ce(i,f){if(1&i&&(t.nVh(0,fe,1,0,"input",22),t.nVh(1,_e,1,0,"input",24)),2&i){const e=t.XpG(),a=t.XpG();t.vxM(e.formValues.keyType!==a.eavConstants.keyTypes.number?0:-1),t.R7$(),t.vxM(e.formValues.keyType===a.eavConstants.keyTypes.number?1:-1)}}function ve(i,f){1&i&&t.nrm(0,"input",22)}function ye(i,f){1&i&&t.nrm(0,"input",24)}function Te(i,f){if(1&i&&(t.nVh(0,ve,1,0,"input",22),t.nVh(1,ye,1,0,"input",24)),2&i){const e=t.XpG(),a=t.XpG();t.vxM(e.formValues.keyType!==a.eavConstants.keyTypes.number?0:-1),t.R7$(),t.vxM(e.formValues.keyType===a.eavConstants.keyTypes.number?1:-1)}}function be(i,f){if(1&i){const e=t.RV6();t.j41(0,"div",16)(1,"button",25),t.bIt("click",function(){l.eBV(e);const o=t.XpG(2);return l.Njj(o.toggleGuidedKey(!0))}),t.j41(2,"mat-icon",26),t.EFF(3,"search"),t.k0s()(),t.j41(4,"button",27),t.bIt("click",function(){l.eBV(e);const o=t.XpG(2);return l.Njj(o.toggleGuidedKey(!1))}),t.j41(5,"mat-icon",26),t.EFF(6,"text_fields"),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(2,lt,e.guidedKey)),t.R7$(3),t.Y8G("ngClass",t.eq3(4,lt,!e.guidedKey))}}function Ee(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Me(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Must be a whole number "),t.k0s()),2&i&&t.Y8G("isError",!0)}function De(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Must be a valid GUID "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Fe(i,f){if(1&i){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3," Create Metadata "),t.k0s(),t.j41(4,"button",4),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.closeDialog())}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",5)(8,"p"),t.EFF(9," This is a special operation to add an item which is metadata for another item, see "),t.j41(10,"a",6),t.EFF(11,"docs"),t.k0s(),t.EFF(12,". "),t.k0s(),t.j41(13,"form",7)(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Target"),t.k0s(),t.nVh(17,Ht,4,1,"mat-select",9),t.nVh(18,wt,1,0,"input",10),t.k0s(),t.nVh(19,zt,2,1,"app-field-hint",11),t.nVh(20,Qt,2,2,"app-field-hint",11),t.nVh(21,Zt,2,1,"app-field-hint",11),t.nVh(22,Jt,2,1,"app-field-hint",11),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Key type"),t.k0s(),t.j41(26,"mat-select",12),t.Z7z(27,qt,2,2,"mat-option",13,t.fX1),t.k0s()(),t.nVh(29,te,2,1,"app-field-hint",11),t.j41(30,"mat-slide-toggle",14),t.bIt("change",function(o){l.eBV(e);const s=t.XpG();return l.Njj(s.toggleGuidedMode(o))}),t.EFF(31),t.k0s(),t.nVh(32,ne,6,1,"mat-form-field",8),t.nVh(33,ie,8,2,"mat-form-field",8),t.j41(34,"app-field-hint"),t.EFF(35," The scope should almost never be changed - "),t.j41(36,"a",15),t.EFF(37,"see help"),t.k0s()(),t.j41(38,"mat-form-field",8)(39,"mat-label"),t.EFF(40,"Key"),t.k0s(),t.nVh(41,ge,3,1)(42,Ce,2,2),t.DNE(43,Te,2,2,"ng-template",null,0,t.C5r),t.nVh(45,be,7,6,"div",16),t.k0s(),t.nVh(46,Ee,2,1,"app-field-hint",11),t.nVh(47,Me,2,1,"app-field-hint",11),t.nVh(48,De,2,1,"app-field-hint",11),t.k0s()(),t.j41(49,"mat-dialog-actions",17)(50,"app-save-close-button-fab",18),t.bIt("action",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.saveAndClose())}),t.k0s()()()}if(2&i){const e=f,a=t.XpG();t.R7$(13),t.Y8G("formGroup",a.ngForm),t.R7$(4),t.vxM(e.guidedMode?17:-1),t.R7$(),t.vxM(e.guidedMode?-1:18),t.R7$(),t.vxM(a.ngForm.controls.targetType.touched&&!a.ngForm.controls.targetType.invalid&&e.unknownTargetType?19:-1),t.R7$(),t.vxM(e.targetTypeHint?20:-1),t.R7$(),t.vxM(a.ngForm.controls.targetType.touched&&null!=a.ngForm.controls.targetType.errors&&a.ngForm.controls.targetType.errors.required?21:-1),t.R7$(),t.vxM(a.ngForm.controls.targetType.touched&&null!=a.ngForm.controls.targetType.errors&&a.ngForm.controls.targetType.errors.pattern?22:-1),t.R7$(5),t.Dyx(e.keyTypeOptions),t.R7$(2),t.vxM(a.ngForm.controls.keyType.touched&&null!=a.ngForm.controls.keyType.errors&&a.ngForm.controls.keyType.errors.required?29:-1),t.R7$(),t.Y8G("tippy",e.guidedMode?"Guided mode helps you select options that work":"Manual mode is for advanced uses and allows you to insert any values")("checked",e.guidedMode),t.R7$(),t.SpI(" ",e.guidedMode?"Guided":"Manual"," "),t.R7$(),t.vxM(e.guidedMode&&e.formValues.targetType===a.eavConstants.metadata.entity.targetType?32:-1),t.R7$(),t.vxM(!e.guidedMode||e.formValues.targetType!==a.eavConstants.metadata.entity.targetType&&e.formValues.targetType!==a.eavConstants.metadata.contentType.targetType?-1:33),t.R7$(8),t.vxM(e.guidedMode?41:42),t.R7$(4),t.vxM(e.guidedMode&&e.guidedKeyExists?45:-1),t.R7$(),t.vxM(a.ngForm.controls.key.touched&&null!=a.ngForm.controls.key.errors&&a.ngForm.controls.key.errors.required?46:-1),t.R7$(),t.vxM(a.ngForm.controls.key.touched&&null!=a.ngForm.controls.key.errors&&a.ngForm.controls.key.errors.patternWholeNumber?47:-1),t.R7$(),t.vxM(a.ngForm.controls.key.touched&&null!=a.ngForm.controls.key.errors&&a.ngForm.controls.key.errors.patternGuid?48:-1),t.R7$(2),t.Y8G("ngClass",a.canSave()?"":"disabled")("disabled",!a.canSave())}}let xe=(()=>{class i extends At.${constructor(e,a){super(),this.dialog=e,this.context=a,this.hostClass="dialog-component",this.eavConstants=R.YX,this.dropdownInsertValue=it.O,this.formValid=(0,l.vPA)(!1),this.canSave=(0,d.EW)(()=>this.formValid()),this.contentItemsService=(0,M.d)(ot.F),this.contentTypesService=(0,M.d)(jt.gs)}ngOnInit(){this.#e(),this.targetTypeOptions=Object.values(R.YX.metadata).map(a=>({...a})),this.keyTypeOptions=Object.values(R.YX.keyTypes),this.keyTypeOptions$=new A.t([]),this.scopeOptions$=new A.t([]),this.guidedMode$=new A.t(!0),this.contentItems$=new A.t([]),this.contentTypes$=new A.t([]),this.guidedKey$=new A.t(!0),this.fetchScopes(),this.ngForm=new E.J3({}),this.ngForm.addControl("targetType",new E.hs(R.YX.metadata.entity.targetType,[E.k0.required,E.k0.pattern(/^[0-9]+$/)])),this.ngForm.addControl("keyType",new E.hs(R.YX.metadata.entity.keyType,[E.k0.required])),this.ngForm.addControl("contentTypeForContentItems",new E.hs(null)),this.ngForm.addControl("scopeForContentTypes",new E.hs(R.YX.scopes.default.value)),this.ngForm.addControl("key",new E.hs(null,[E.k0.required,Lt(this.ngForm)])),this.subscriptions.add(this.ngForm.controls.scopeForContentTypes.valueChanges.pipe((0,H.Z)(this.ngForm.controls.scopeForContentTypes.value),(0,Y.F)()).subscribe(a=>{null!=this.ngForm.controls.contentTypeForContentItems.value&&this.ngForm.controls.contentTypeForContentItems.patchValue(null),a===it.O?(a=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||R.YX.scopes.default.value,this.scopeOptions$.value.some(o=>o.value===a)||this.scopeOptions$.next([{name:a,value:a},...this.scopeOptions$.value]),this.ngForm.controls.scopeForContentTypes.patchValue(a)):this.fetchContentTypes(a)})),this.subscriptions.add((0,kt.h)(this.ngForm.controls.targetType.valueChanges.pipe((0,Y.F)()),this.ngForm.controls.keyType.valueChanges.pipe((0,Y.F)())).subscribe(()=>{this.guidedKey$.next(!0),null!=this.ngForm.getRawValue().key&&this.ngForm.patchValue({key:null})})),this.subscriptions.add(this.ngForm.controls.contentTypeForContentItems.valueChanges.pipe((0,H.Z)(this.ngForm.controls.contentTypeForContentItems.value),(0,Y.F)()).subscribe(a=>{const o=this.ngForm.getRawValue();o.targetType===R.YX.metadata.entity.targetType&&null!=o.key&&this.ngForm.patchValue({key:null}),this.contentItemsService.getAllPromise(a).then(s=>{this.contentItems$.next(s)})}));const e=this.ngForm.valueChanges.pipe((0,H.Z)(this.ngForm.getRawValue()),(0,nt.T)(()=>this.ngForm.getRawValue()),(0,Kt.A)(a=>a));this.subscriptions.add((0,X.z)([e,this.guidedMode$]).subscribe(([a,o])=>{const s=this.targetTypeOptions.find(rt=>rt.targetType===a.targetType),y=o&&s?[s.keyType]:[...this.keyTypeOptions];Vt.a.arraysEqual(y,this.keyTypeOptions$.value)||this.keyTypeOptions$.next(y);const T={};this.keyTypeOptions$.value.includes(a.keyType)||(T.keyType=this.keyTypeOptions$.value[0]);const B=o&&a.targetType===R.YX.metadata.app.targetType;B&&a.key!==this.context.appId&&(T.key=this.context.appId),Object.keys(T).length&&this.ngForm.patchValue(T),at.a.disable(this.ngForm.controls.keyType,o&&this.keyTypeOptions$.value.length<=1),at.a.disable(this.ngForm.controls.key,B)})),this.viewModel$=(0,X.z)([(0,X.z)([this.guidedMode$,this.keyTypeOptions$,this.scopeOptions$,this.contentItems$,this.contentTypes$]),(0,X.z)([e,this.guidedKey$])]).pipe((0,nt.T)(([[a,o,s,y,T],[B,V]])=>({guidedMode:a,unknownTargetType:!this.targetTypeOptions.some(w=>w.targetType===B.targetType),targetTypeHint:a&&this.targetTypeOptions.find(w=>w.targetType===B.targetType)?.hint,keyTypeOptions:o,scopeOptions:s,guidedKey:V,guidedKeyExists:[R.YX.metadata.entity.targetType,R.YX.metadata.contentType.targetType].includes(B.targetType),formValues:B,contentItems:y,contentTypes:T})))}ngAfterViewInit(){this.ngForm?.statusChanges.subscribe(()=>{this.formValid.set(this.ngForm?.valid??!1)})}ngOnDestroy(){this.guidedMode$.complete(),this.keyTypeOptions$.complete(),this.contentItems$.complete(),this.contentTypes$.complete(),this.guidedKey$.complete(),super.ngOnDestroy()}closeDialog(e){this.dialog.close(e)}toggleGuidedKey(e){this.guidedKey$.next(e)}toggleGuidedMode(e){this.guidedMode$.next(e.checked)}saveAndClose(){const e=this.ngForm.getRawValue(),a={target:this.targetTypeOptions.find(o=>o.targetType===e.targetType)?.target,targetType:e.targetType,keyType:e.keyType,key:e.keyType===R.YX.keyTypes.guid?e.key.replace(/{|}/g,""):e.key.toString()};this.closeDialog(a)}#e(){this.dialog.keydownEvents().subscribe(e=>{(0,$t.YU)(e)&&this.canSave()&&(e.preventDefault(),this.saveAndClose())})}fetchContentTypes(e){this.contentTypesService.retrieveContentTypesPromise(e).then(a=>{this.contentTypes$.next(a)})}fetchScopes(){this.contentTypesService.getScopesPromise().then(e=>{this.scopeOptions$.next(e)})}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(h.CP),t.rXU(Q.o))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-create-metadata-dialog"]],hostVars:1,hostBindings:function(a,o){2&a&&t.Avn("className",o.hostClass)},features:[t.Vt3],decls:2,vars:3,consts:[["defaultKeyInput",""],[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],["href","https://go.2sxc.org/metadata","target","_blank"],[3,"formGroup"],["color","accent",2,"width","100%","margin-bottom","8px"],["formControlName","targetType","required",""],["matInput","","type","number","min","0","formControlName","targetType","required",""],[3,"isError"],["formControlName","keyType","required",""],[3,"value"],["color","accent",3,"change","tippy","checked"],["href","https://2sxc.org/help?tag=scope","target","_blank","appClickStopPropagation",""],["matTextSuffix","",1,"eav-selection-suffix"],["align","end"],[3,"action","ngClass","disabled"],["formControlName","contentTypeForContentItems",3,"placeholder"],["formControlName","scopeForContentTypes",3,"placeholder"],["formControlName","key","required","",3,"placeholder"],["matInput","","type","text","formControlName","key","required",""],[4,"ngTemplateOutlet"],["matInput","","type","number","formControlName","key","required",""],["mat-icon-button","","type","button","tippy","Pick existing value",1,"eav-selection-suffix-button",3,"click","ngClass"],[1,"eav-icon"],["mat-icon-button","","type","button","tippy","Manual entry",1,"eav-selection-suffix-button",3,"click","ngClass"]],template:function(a,o){if(1&a&&(t.nVh(0,Fe,51,20,"div",1),t.nI1(1,"async")),2&a){let s;t.vxM((s=t.bMT(1,1,o.viewModel$))?0:-1,s)}},dependencies:[E.YN,E.qT,E.me,E.Q0,E.BC,E.cb,E.YS,E.VZ,E.X1,E.j4,E.JD,$.RG,G.rl,G.nJ,G.yw,tt.Ve,tt.VO,Nt.wT,Bt.S,j.fS,j.fg,N.T3,p.Hl,st.iY,N.YU,v.m_,v.An,h.E7,et.mV,et.sG,Gt.F,Ut.c,U.e,St.i,N.Jj],styles:["mat-slide-toggle[_ngcontent-%COMP%]{margin:16px 0}"]})}}return i})(),Oe=(()=>{class i{constructor(){this.published="",this.metadata="",this.hasMetadata=""}agInit(e){this.filterParams=e}isFilterActive(){return""!==this.published||""!==this.metadata||""!==this.hasMetadata}doesFilterPass(e){let a=!1,o=!1,s=!1;const T=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,context:this.filterParams.context,data:e.node.data,getValue:B=>e.node.data[B],node:e.node});return a=""===this.published||null!=T.published&&T.published.toString()===this.published,o=""===this.metadata||null!=T.metadata&&T.metadata.toString()===this.metadata,s=""===this.hasMetadata||null!=T.hasMetadata&&T.hasMetadata.toString()===this.hasMetadata,a&&o&&s}getModel(){return this.isFilterActive()?{filterType:"pub-meta",published:this.published,metadata:this.metadata,hasMetadata:this.hasMetadata}:void 0}setModel(e){this.published=e?e.published:"",this.metadata=e?e.metadata:"",this.hasMetadata=e?e.hasMetadata:""}afterGuiAttached(e){}filterChanged(){this.filterParams.filterChangedCallback()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-pub-meta-filter"]],decls:27,vars:3,consts:[[1,"title"],[3,"ngModelChange","ngModel"],["value",""],["value","true"],["value","false"]],template:function(a,o){1&a&&(t.j41(0,"div",0),t.EFF(1,"Published"),t.k0s(),t.j41(2,"mat-radio-group",1),t.mxI("ngModelChange",function(y){return t.DH7(o.published,y)||(o.published=y),y}),t.bIt("ngModelChange",function(){return o.filterChanged()}),t.j41(3,"mat-radio-button",2),t.EFF(4,"All"),t.k0s(),t.j41(5,"mat-radio-button",3),t.EFF(6,"Published"),t.k0s(),t.j41(7,"mat-radio-button",4),t.EFF(8,"Not published"),t.k0s()(),t.j41(9,"div",0),t.EFF(10,"Is Metadata"),t.k0s(),t.j41(11,"mat-radio-group",1),t.mxI("ngModelChange",function(y){return t.DH7(o.metadata,y)||(o.metadata=y),y}),t.bIt("ngModelChange",function(){return o.filterChanged()}),t.j41(12,"mat-radio-button",2),t.EFF(13,"All"),t.k0s(),t.j41(14,"mat-radio-button",3),t.EFF(15,"Is metadata"),t.k0s(),t.j41(16,"mat-radio-button",4),t.EFF(17,"Is not metadata"),t.k0s()(),t.j41(18,"div",0),t.EFF(19,"Has Metadata"),t.k0s(),t.j41(20,"mat-radio-group",1),t.mxI("ngModelChange",function(y){return t.DH7(o.hasMetadata,y)||(o.hasMetadata=y),y}),t.bIt("ngModelChange",function(){return o.filterChanged()}),t.j41(21,"mat-radio-button",2),t.EFF(22,"All"),t.k0s(),t.j41(23,"mat-radio-button",3),t.EFF(24,"Has metadata"),t.k0s(),t.j41(25,"mat-radio-button",4),t.EFF(26,"Has no metadata"),t.k0s()()),2&a&&(t.R7$(2),t.R50("ngModel",o.published),t.R7$(9),t.R50("ngModel",o.metadata),t.R7$(9),t.R50("ngModel",o.hasMetadata))},dependencies:[W.Wk,W.VT,W._g,E.YN,E.BC,E.vS],styles:[".title[_ngcontent-%COMP%]{padding:12px 12px 0}.mat-mdc-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]})}}return i})();var Ie=n(58857);function Pe(i,f){1&i&&(t.nrm(0,"div",6),t.nI1(1,"safeHtml")),2&i&&t.Y8G("innerHTML",t.bMT(1,1,f),t.npT)}function Re(i,f){if(1&i){const e=t.RV6();t.j41(0,"button",18),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.debugFilter())}),t.j41(1,"mat-icon",11),t.EFF(2,"filter_list"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Filter"),t.k0s()()}}const Be={all:!1,items:!0};let ke=(()=>{class i{#e;#i;#s;#c;#p;#u;#m;#h;#l;#g;#n;constructor(){this.log=(0,ht.Tq)({ContentItemsComponent:i},Be),this.isDebug=(0,l.WQX)(yt.B).isDebug,this.#e=(0,l.WQX)(u.UG),this.#i=(0,l.WQX)(h.bZ),this.#s=(0,l.WQX)(t.c1b),this.#c=(0,l.WQX)(r.gRc),this.#p=(0,l.WQX)(h.CP),this.#u=(0,l.WQX)(Q.o),this.#m=(0,M.d)(vt.R),this.#h=(0,M.d)(_.D),this.#l=(0,M.d)(ot.F),this.#g=(0,M.d)(D.g),this.#n=(0,M.d)(_t.c),this.gridOptions={...ct.C,onFilterChanged:e=>this.#r.update(a=>a+1)},this.#r=(0,l.vPA)(0),this.refresh=(0,l.vPA)(0),this.#d={empty:{description:"<p><b>This is where you manage data items</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first item (think: record / entity).</p>"},content:{description:"<p><b>Each row shows a data item</b> <br>They contain the data, similar to a database row.</p>",hint:"<p>Click on the title to edit. <br>You can also do much more - best hover over the row and icons to discover the possibilities. <br><br>You can also do data import/export (one or many), copy items, and do advanced stuff like assigning metadata.</p>"}},this.uxHelpText=(0,d.EW)(()=>0===this.items()?.length?this.#d.empty:this.#d.content),this.#a=(0,l.vPA)(null),this.#t=this.#n.getParam("contentTypeStaticName"),this.contentType=this.#g.getType(this.#t).value,this.#f=this.#l.getAllLive(this.#t,this.refresh).value,this.items=(0,d.EW)(()=>{const e=this.#f();return this.log.aIf("items",{data:e}),e}),this.urlToExportContent=(0,Tt.bo)("urlToExportContent",()=>{const e=this.#a();if(!e)return"";this.#r();const a=Object.keys(e.getFilterModel()).length>0,o=[];return a&&e.forEachNodeAfterFilterAndSort(s=>o.push(s.data.Id)),this.#o(`export/${this.#t}${o.length>0?`/${o.join(",")}`:""}`)}),(0,l.QZP)(()=>{this.items()&&this.#a().setGridOption("loading",!1)})}#r;#d;#a;#t;#f;ngOnInit(){this.urlToExportContent(),this.#n.doOnDialogClosed(()=>this.fetchItems())}closeDialog(){this.#p.close()}onGridReady(e){this.#a.set(e.api),this.fetchColumns(),this.urlToExportContent()}fetchItems(){this.#a().setGridOption("loading",!0),this.refresh.update(e=>++e)}fetchColumns(){this.#l.getColumnsPromise(this.#t).then(e=>{const a=e.filter(y=>!y.IsEphemeral),o=this.#y(a),s=function Rt(i,f){if(!i)return;let e;"="===i.charAt(i.length-1)&&(i=atob(i));try{e=JSON.parse(i)}catch{console.error("Can't parse JSON with filters from url:",i)}if(!e)return;const a={};return(e.IsPublished||e.IsMetadata)&&(a.Status={filterType:"pub-meta",published:e.IsPublished??"",metadata:e.IsMetadata??"",hasMetadata:""}),Object.entries(e).filter(([o,s])=>"IsPublished"!==o&&"IsMetadata"!==o).forEach(([o,s])=>{if(f.find(T=>T.headerName===o)?.filter===z){const T={filterType:"entity",filter:"string"==typeof(s=Pt.i.tryParse(s)??s)?s:void 0,idFilter:"number"==typeof s?[s]:Array.isArray(s)?s.filter(B=>"number"==typeof B):void 0};return void(a[o]=T)}if("string"==typeof s)a[o]={filterType:"text",type:"equals",filter:s};else if("number"==typeof s)a[o]={filterType:"number",type:"equals",filter:s,filterTo:null};else if("boolean"==typeof s){const T={filterType:"boolean",filter:s.toString()};a[o]=T}}),a}(sessionStorage.getItem(pt.bo),o);this.#a()&&this.setColumnDefs(o,s)})}setColumnDefs(e,a){this.#a().setGridOption("columnDefs",e),a&&(this.log.a("Will try to apply filter:",a),this.#a().setFilterModel(a))}#o(e){return"#"+this.#n.urlSubRoute(e)}#C(e){return this.#n.urlSubRoute(c.H.getUrlEntity(e.Guid,`Metadata for Entity: ${e._Title} (${e.Id})`,this.#t))}editItem(e){const a={items:[null==e?k.H.newFromType(this.#t):k.H.editId(e.Id)]},o=(0,S.s)(a);this.#n.navRelative([`edit/${o}`])}#v(e){return this.#o(`edit/${(0,S.s)({items:[null==e?k.H.newFromType(this.#t):k.H.editId(e.Id)]})}`)}urlToNewItem(e){return this.#o(`edit/${(0,S.s)({items:[null==e?k.H.newFromType(this.#t):k.H.editId(e.Id)]})}`)}urlToRecycleBin(){return`#/${(new Ct.G).routeTo(this.#u,`app/data-${I.U.route}`)}`}filesDropped(e){const a=e[0];switch(a.name.substring(a.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":this.urlToImportContent(e);break;case"json":this.importItem(e)}}urlToImportContent(e){return this.#o(`${this.#t}${e?`/${e.map(a=>a.name).join(",")}`:""}/import`)}importItem(e){this.#n.navRelative(["import"],{state:{files:e}})}urlToImportItem(){return this.#o("import")}createMetadata(){this.#i.open(xe,{autoFocus:!1,viewContainerRef:this.#s,width:"650px"}).afterClosed().subscribe(a=>{if(null==a)return;const o={items:[k.H.newMetadataFromInfo(this.#t,a)]},s=(0,S.s)(o);this.#n.navRelative([`edit/${s}`]),this.#c.markForCheck()})}debugFilter(){console.warn("Current filter:",this.#a().getFilterModel()),this.#e.open("Check console for filter information",void 0,{duration:3e3})}#y(e){const a=[{...m.r.IdWithDefaultRenderer,cellClass:o=>("id-action no-padding no-outline "+(o.data._EditInfo.ReadOnly?"disabled":"")).split(" "),cellRendererParams:m.r.idFieldParamsTooltipGetter()},{field:"Status",width:82,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),filter:Oe,valueGetter:o=>{const s=o.data;return{published:s.IsPublished,metadata:!!s.For,hasMetadata:!!s.Metadata&&s.Metadata.length>0}},cellRenderer:It,cellRendererParams:{urlTo:(o,s)=>"#"+this.#C(s)}},{...m.r.TextWidePrimary,headerName:"Item (Entity)",field:"_Title",flex:2,cellRenderer:o=>g.f.cellLink(this.#v(o.data),o.data._Title)},{headerName:"Stats",headerTooltip:"Used by others / uses others",field:"_Used",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:o=>`${o.data._Used} / ${o.data._Uses}`},{...m.r.ActionsPinnedRight3,cellRenderer:Et,cellRendererParams:{urlTo:(s,y)=>"#"+this.#T(y),do:(s,y)=>{switch(s){case"export":this.#b(y);break;case"delete":this.#E(y)}}}}];for(const o of e){const s={headerName:o.StaticName,field:o.StaticName,flex:2,minWidth:250,cellClass:"no-outline",sortable:!0};switch(o.Type){case L.O.Entity:s.allowMultiValue=o.Metadata?.Entity?.AllowMultiValue??!0,s.cellRenderer=Dt,s.valueGetter=this.valueGetterEntityField,s.filter=z;break;case L.O.DateTime:s.useTimePicker=o.Metadata?.DateTime?.UseTimePicker??!1,s.valueGetter=this.valueGetterDateTime,s.filter="agTextColumnFilter";break;case L.O.Boolean:s.valueGetter=this.valueGetterBoolean,s.filter=x.y;break;case L.O.Number:s.filter="agNumberColumnFilter";break;default:s.filter="agTextColumnFilter"}a.push(s)}return a}#T(e){return this.#n.urlSubRoute(`edit/${(0,S.s)({items:[k.H.copy(this.#t,e.Id)]})}`)}#b(e){this.#h.exportEntity(e.Id,this.#t,!0)}#E(e){this.#_(e,"Delete Item?",!1)}#_(e,a,o,s,y){this.#i.open(P.F,{autoFocus:!1,data:{entityId:e._RepositoryId,entityTitle:e._Title,message:a,title:s,confirmTranslateKey:y,hasDeleteSnackbar:!0},viewContainerRef:this.#s,width:"400px"}).afterClosed().subscribe(B=>{B&&this.#m.delete(this.#t,e._RepositoryId,o).subscribe({next:()=>{this.#e.open("Deleted",null,{duration:2e3}),this.fetchItems()},error:V=>{o||(this.#e.dismiss(),this.#_(e,`${V.error.ExceptionMessage} \n\nDo you want to force delete`,!0,"Force Delete","Force"))}})})}valueGetterEntityField(e){const a=e.data[e.colDef.field];return 0===a.length?null:a.map(o=>o.Title)}valueGetterDateTime(e){const a=e.data[e.colDef.field];return a?e.colDef.useTimePicker?a.replace("T"," ").replace("Z",""):a.split("T")[0]:null}valueGetterBoolean(e){const a=e.data[e.colDef.field];return"boolean"!=typeof a?null:a.toString()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items"]],decls:43,vars:14,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],["eav-dialog-content","",1,"eav-dialog-content"],[3,"innerHTML"],["appDragAndDrop","",1,"ag-theme-material","eav-dialog-content",3,"gridReady","filesDropped","rowData","gridOptions","allowedFileTypes"],[1,"eav-dialog-actions"],[1,"eav-dialog-actions-div"],["mat-button","","tippy","Go to Recycle Bin","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],[1,"eav-icon"],["mat-button","","tippy","Export xml list","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],["mat-button","","tippy","Import xml list","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],["mat-button","","tippy","Import single json item","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],["mat-button","","tippy","Create metadata","tippyPlacement","top",1,"eav-button__with-icon",3,"click"],["mat-button","","color","accent","tippy","Print filter to console","tippyPlacement","top",1,"eav-button__with-icon"],["mat-fab","","mat-elevation-z24","","tippy","Add item",1,"grid-fab",3,"href"],["mat-button","","color","accent","tippy","Print filter to console","tippyPlacement","top",1,"eav-button__with-icon",3,"click"]],template:function(a,o){if(1&a&&(t.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return o.closeDialog()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",5),t.nVh(9,Pe,2,3,"div",6),t.k0s(),t.j41(10,"ag-grid-angular",7),t.bIt("gridReady",function(y){return o.onGridReady(y)})("filesDropped",function(y){return o.filesDropped(y)}),t.k0s(),t.j41(11,"mat-dialog-actions",8)(12,"div",9)(13,"a",10)(14,"mat-icon",11),t.EFF(15,"delete"),t.k0s(),t.j41(16,"span"),t.EFF(17,"Recycle Bin"),t.k0s()(),t.j41(18,"a",12)(19,"mat-icon",11),t.EFF(20,"cloud_download"),t.k0s(),t.j41(21,"span"),t.EFF(22,"Data"),t.k0s()(),t.j41(23,"a",13)(24,"mat-icon",11),t.EFF(25,"cloud_upload"),t.k0s(),t.j41(26,"span"),t.EFF(27,"Data"),t.k0s()(),t.j41(28,"a",14)(29,"mat-icon",11),t.EFF(30,"cloud_upload"),t.k0s(),t.j41(31,"span"),t.EFF(32,"Item"),t.k0s()(),t.j41(33,"button",15),t.bIt("click",function(){return o.createMetadata()}),t.j41(34,"mat-icon",11),t.EFF(35,"local_offer"),t.k0s(),t.j41(36,"span"),t.EFF(37,"Create Metadata"),t.k0s()(),t.nVh(38,Re,5,0,"button",16),t.k0s(),t.j41(39,"a",17)(40,"mat-icon"),t.EFF(41,"add"),t.k0s()()()()(),t.nrm(42,"router-outlet")),2&a){let s,y,T;t.R7$(),t.Y8G("helpText",o.uxHelpText())("refresh",o.refresh())("rowLength",null==(s=o.items())?null:s.length),t.R7$(3),t.SpI("",(null==(y=o.contentType())?null:y.Label)||(null==(y=o.contentType())?null:y.Name)," Data"),t.R7$(5),t.vxM((T=null==(T=o.contentType())||null==T.Properties?null:T.Properties.ListInstructions)?9:-1,T),t.R7$(),t.Y8G("rowData",o.items())("gridOptions",o.gridOptions)("allowedFileTypes","xml,json"),t.R7$(3),t.Y8G("href",o.urlToRecycleBin(),t.B4B),t.R7$(5),t.Y8G("href",o.urlToExportContent(),t.B4B),t.R7$(5),t.Y8G("href",o.urlToImportContent(),t.B4B),t.R7$(5),t.Y8G("href",o.urlToImportItem(),t.B4B),t.R7$(10),t.vxM(o.isDebug()?38:-1),t.R7$(),t.Y8G("href",o.urlToNewItem(),t.B4B)}},dependencies:[p.Hl,p.$z,st.iY,p.Sr,v.m_,v.An,C.n3,h.E7,ut.S,mt.V,gt.p,Ie.xs,U.e,F.v,ft.$],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .id-box *, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#85283b!important}"]})}}return i})()},4979(O,b,n){n.d(b,{V:()=>r});var l=n(27092),t=n(56884);let r=(()=>{class d{constructor(){this.subscriptions=new l.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275prov=t.jDH({token:d,factory:d.\u0275fac})}}return d})()},5858(O,b,n){n.d(b,{O:()=>l});const l="DROPDOWN_INSERT_VALUE"},11855(O,b,n){n.d(b,{F:()=>_});var l=n(79748),t=n(37580),r=n(24950),d=n(56884),p=n(36124),h=n(80423);const v=["*"],u=c=>({"hint-box__short":c});function C(c,g){1&c&&p.eu8(0)}function M(c,g){if(1&c&&(p.j41(0,"mat-hint"),p.DNE(1,C,1,0,"ng-container",2),p.k0s()),2&c){p.XpG();const m=p.sdS(4);p.R7$(),p.Y8G("ngTemplateOutlet",m)}}function I(c,g){1&c&&p.eu8(0)}function D(c,g){if(1&c&&(p.j41(0,"mat-error"),p.DNE(1,I,1,0,"ng-container",2),p.k0s()),2&c){p.XpG();const m=p.sdS(4);p.R7$(),p.Y8G("ngTemplateOutlet",m)}}function P(c,g){1&c&&p.SdG(0)}let _=(()=>{class c{constructor(){this.isError=(0,t.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static{this.\u0275fac=function(F){return new(F||c)}}static{this.\u0275cmp=p.VBU({type:c,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},ngContentSelectors:v,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(F,x){if(1&F){const E=p.RV6();p.NAR(),p.j41(0,"div",1),p.bIt("click",function(){return d.eBV(E),d.Njj(x.toggleIsShort())}),p.nVh(1,M,2,1,"mat-hint")(2,D,2,1,"mat-error"),p.k0s(),p.DNE(3,P,1,0,"ng-template",null,0,p.C5r)}if(2&F){let E;p.Y8G("ngClass",p.eq3(2,u,x.isShort)),p.R7$(),p.vxM(!1===(E=x.isError())?1:!0===E?2:-1)}},dependencies:[r.RG,h.MV,h.TL,l.YU,l.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}}return c})()},18708(O,b,n){n.d(b,{R:()=>r});var l=n(37580),t=n(36124);let r=(()=>{class d{constructor(h){this.elementRef=h,this._disabled=(0,l.hFB)(!1)}ngOnChanges(h){null!=h.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this._disabled())}static{this.\u0275fac=function(v){return new(v||d)(t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:d,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{_disabled:[1,"_disabled"]},features:[t.OA$]})}}return d})()},18759(O,b,n){n.d(b,{d:()=>r});var l=n(37580),t=n(36124);let r=(()=>{class d{constructor(){this.label=(0,l.hFB)("Form.Buttons.SaveAndClose"),this.triggerOnFormSubmit=(0,l.hFB)(!1),this.icon=(0,l.hFB)("done"),this.ngClass=(0,l.hFB)(""),this.disabled=(0,l.hFB)(!1),this.action=(0,l.CGW)()}get isDisabled(){return"function"==typeof this.disabled?!!this.disabled():!!this.disabled}onClick(h){this.isDisabled||this.action.emit(h)}static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275dir=t.FsC({type:d,inputs:{label:[1,"label"],triggerOnFormSubmit:[1,"triggerOnFormSubmit"],icon:[1,"icon"],ngClass:[1,"ngClass"],disabled:[1,"disabled"]},outputs:{action:"action"}})}}return d})()},18934(O,b,n){n.d(b,{Q:()=>t});var l=n(36124);let t=(()=>{class r{constructor(p){this.templateRef=p}static{this.\u0275fac=function(h){return new(h||r)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:r,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}}return r})()},20545(O,b,n){n.d(b,{d:()=>t});var l=n(36124);let t=(()=>{class r{constructor(p){this.templateRef=p}static{this.\u0275fac=function(h){return new(h||r)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:r,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}}return r})()},21183(O,b,n){n.d(b,{f:()=>l});class l{static cellLink(r,d,p){return`<a class="default-link fill-cell ${p}" href="${r}">${d}</a>`}}},25286(O,b,n){n.d(b,{F:()=>D});var l=n(56884),t=n(84175),r=n(87941),d=n(93840),p=n(3347),h=n(32760),v=n(63628),u=n(69914),C=n(36124),M=n(55326);function I(P,_){if(1&P&&(C.nrm(0,"p",5),C.nI1(1,"safeHtml")),2&P){const c=C.XpG();C.Y8G("innerHtml",C.bMT(1,1,c.dialogData.message),C.npT)}}let D=(()=>{class P{#e;constructor(c,g){this.dialogData=c,this.dialog=g,this.hostClass="dialog-component",this.#e=(0,l.WQX)(p.UG)}ngOnInit(){this.dialogData.hasDeleteSnackbar&&this.#e.open("Deleting...",void 0,{duration:5e3}),this.#i()}#i(){this.dialog.keydownEvents().subscribe(c=>{(0,h.YU)(c)&&(c.preventDefault(),this.dialog.close(!0))})}closeDialog(c){this.#e.dismiss(),c?this.dialog.close(c):this.dialog.close()}saveAndClose(c){this.closeDialog(c),this.dialogData.hasDeleteSnackbar&&this.#e.dismiss()}static{this.\u0275fac=function(g){return new(g||P)(C.rXU(r.Vh),C.rXU(r.CP))}}static{this.\u0275cmp=C.VBU({type:P,selectors:[["app-confirm-delete-dialog"]],hostVars:1,hostBindings:function(g,m){2&g&&C.Avn("className",m.hostClass)},decls:11,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],["align","end"],[3,"action","label"]],template:function(g,m){1&g&&(C.j41(0,"div",0)(1,"div",1)(2,"div",2),C.EFF(3),C.k0s(),C.j41(4,"button",3),C.bIt("click",function(){return m.closeDialog()}),C.j41(5,"mat-icon"),C.EFF(6,"close"),C.k0s()()(),C.j41(7,"div",4),C.nVh(8,I,2,3,"p",5),C.k0s(),C.j41(9,"mat-dialog-actions",6)(10,"app-save-close-button-fab",7),C.bIt("action",function(){return m.saveAndClose(!0)}),C.k0s()()()),2&g&&(C.R7$(3),C.E5c(" ",m.dialogData.title??"Delete"," ",m.dialogData.entityTitle," (",m.dialogData.entityId,") "),C.R7$(5),C.vxM(m.dialogData.message?8:-1),C.R7$(2),C.Y8G("label","Delete and close (ctrl + enter)"))},dependencies:[t.Hl,M.iY,d.m_,d.An,r.E7,v.i,u.$],styles:[".eav-card-action-button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return P})()},32760(O,b,n){function l(d){return"Escape"===d.key}function t(d){return("s"===d.key||"S"===d.key)&&(d.ctrlKey||d.metaKey)}function r(d){return"Enter"===d.key&&(d.ctrlKey||d.metaKey)}n.d(b,{JY:()=>t,KL:()=>l,YU:()=>r})},39333(O,b,n){n.d(b,{c:()=>r});var l=n(34435),t=n(36124);let r=(()=>{class d{constructor(){this.log=(0,l.Tq)({ClickStopPropagationDirective:d}),this.log.a("constructor")}onClick(h){this.log.a("onClick",{event:h}),h.stopPropagation()}static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275dir=t.FsC({type:d,selectors:[["","appClickStopPropagation",""]],hostBindings:function(v,u){1&v&&t.bIt("click",function(M){return u.onClick(M)})}})}}return d})()},52694(O,b,n){n.d(b,{U:()=>l});let l=(()=>{class t{static{this.route="recycle-bin"}static{this.featureId="EntityUndelete"}static routeDefinition(d){return{name:"Recycle Bin",icon:"delete",svgIcon:!1,path:`${d}-${t.route}`,tippy:"Recycle Bin to undelete data",featureRequired:t.featureId}}}return t})()},60852(O,b,n){n.d(b,{c:()=>I});var l=n(69393),t=n(51567),r=n(70271),d=n(5057),p=n(63037),h=n(98764),v=n(34435),u=n(4979),C=n(56884);const M={doOnDialogClosed:!1,doOnDialogClosedWithData:!0};let I=(()=>{class D extends u.V{constructor(_,c){super(),this.router=_,this.route=c,this.log=(0,v.Tq)({DialogRoutingService:D},M)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(_){return this.route.snapshot.paramMap.get(_)}getParams(_){const c=this.route.snapshot.paramMap;return _.reduce((g,m)=>(g[m]=c.get(m),g),{})}getQueryParam(_){return this.route.snapshot.queryParamMap.get(_)}getQueryParams(_){const c=this.route.snapshot.queryParamMap;return _.reduce((g,m)=>(g[m]=c.get(m),g),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(_){const c=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(g=>(c.a("Dialog closed",{data:g}),_()))),c.end()}doOnDialogClosedWithData(_){const c=this.log.fnIf("doOnDialogClosedWithData");this.subscriptions.add(this.#e().subscribe(({state:g})=>{c.a("Dialog closed",{state:g}),_(g)})),c.end()}urlSubRoute(_){const c=this.router.createUrlTree([_],{relativeTo:this.route});return this.router.serializeUrl(c)}navPath(_,c){return this.router.navigate([_],c)}navRelative(_,c){return this.router.navigate(_,{...c,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,t.p)(_=>_ instanceof l.wF),(0,p.Z)(!!this.route.snapshot.firstChild),(0,r.T)(()=>!!this.route.snapshot.firstChild),(0,d.J)(),(0,t.p)(([_,c])=>_&&!c))}#e(){return this.router.events.pipe((0,t.p)(_=>_ instanceof l.wF),(0,h.M)(_=>{const c=this.log.fn("childDialogClosed$",{event:_,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});c.a("NavigationEnd",{event:_}),c.end()}),(0,p.Z)(!!this.route.snapshot.firstChild),(0,r.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),(0,d.J)(),(0,t.p)(([_,c])=>_.hasChildNow&&!c.hasChildNow),(0,r.T)(([_,c])=>({hadChildBefore:_.hasChildNow,hasChildNow:c.hasChildNow,state:c.state})))}static{this.\u0275fac=function(c){return new(c||D)(C.KVO(l.Ix),C.KVO(l.nX))}}static{this.\u0275prov=C.jDH({token:D,factory:D.\u0275fac})}}return D})()},63628(O,b,n){n.d(b,{i:()=>_});var l=n(79748),t=n(85309),r=n(93840),d=n(90852),p=n(34601),h=n(18759),v=n(56884),u=n(36124),C=n(82272),M=n(74390),I=n(18934),D=n(17828);function P(c,g){if(1&c){const m=u.RV6();u.j41(0,"button",1),u.nI1(1,"translate"),u.nI1(2,"translate"),u.bIt("click",function(x){v.eBV(m);const E=u.XpG();return v.Njj(E.onClick(x))}),u.j41(3,"span"),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.j41(6,"span",2)(7,"kbd"),u.EFF(8,"\u2303"),u.k0s(),u.j41(9,"kbd"),u.EFF(10,"\u23ce"),u.k0s()(),u.j41(11,"mat-icon"),u.EFF(12),u.k0s()()}if(2&c){const m=u.XpG();u.Y8G("type",m.triggerOnFormSubmit()?"submit":"button")("tippy",u.bMT(1,6,m.label())+" ("+u.bMT(2,8,"Form.Buttons.ActionAndCloseShortcut")+")")("ngClass",m.ngClass())("disabled",m.isDisabled),u.R7$(4),u.JRh(u.bMT(5,10,m.label())),u.R7$(8),u.JRh(m.icon())}}let _=(()=>{class c extends h.d{static{this.\u0275fac=(()=>{let m;return function(x){return(m||(m=u.xGo(c)))(x||c)}})()}static{this.\u0275cmp=u.VBU({type:c,selectors:[["app-save-close-button-fab"]],features:[u.Vt3],decls:2,vars:0,consts:[["extendedFabSpeedDialTriggerContent",""],["tippyShowDelay","500","extended-fab-speed-dial-trigger","","matRipple","",3,"click","type","tippy","ngClass","disabled"],[1,"keybinding-hint"]],template:function(F,x){1&F&&(u.j41(0,"extended-fab-speed-dial"),u.DNE(1,P,13,12,"ng-template",0),u.k0s())},dependencies:[l.YU,r.m_,r.An,C.d,M.t,I.Q,t.p,D.r6,d.h,p.e,d.D9],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.keybinding-hint[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-size:.75rem;line-height:1.5}.keybinding-hint[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%] + kbd[_ngcontent-%COMP%]{margin-left:3px}"]})}}return c})()},74390(O,b,n){n.d(b,{t:()=>r});var l=n(37580),t=n(36124);let r=(()=>{class d{constructor(h){this.elementRef=h,this.disabled=(0,l.hFB)(!1)}ngOnChanges(h){null!=h.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(v){return new(v||d)(t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:d,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:[1,"disabled"]},features:[t.OA$]})}}return d})()},82272(O,b,n){n.d(b,{d:()=>D});var l=n(79748),t=n(37580),r=n(36124),d=n(75797),p=n(19999),h=n(91817),v=n(63037),u=n(30281),C=n(18708),M=n(20545),I=n(18934);let D=(()=>{class P extends u.${constructor(){super(),this.disabled=(0,t.hFB)(!1),this.open$=new d.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,p.z)([this.open$.pipe((0,h.F)()),this.actionButtons.changes.pipe((0,v.Z)(void 0))]).subscribe(([c])=>{this.actionButtons.forEach((g,m,F)=>{const E=Math.min(.3+.05*(F.length-1),.6),$=(E-.3)/(F.length-1),j=(c?.3+$*m:E-$*m)+"s";g.nativeElement.style.transitionDuration!==j&&(g.nativeElement.style.transitionDuration=j)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(c,g){"touch"!==c.pointerType&&this.open$.next(g)}static{this.\u0275fac=function(g){return new(g||P)}}static{this.\u0275cmp=r.VBU({type:P,selectors:[["extended-fab-speed-dial"]],contentQueries:function(g,m,F){if(1&g&&r.wni(F,I.Q,5)(F,M.d,5)(F,C.R,4,r.aKT),2&g){let x;r.mGM(x=r.lsd())&&(m.trigger=x.first),r.mGM(x=r.lsd())&&(m.actions=x.first),r.mGM(x=r.lsd())&&(m.actionButtons=x)}},inputs:{disabled:[1,"disabled"]},features:[r.Vt3],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(g,m){1&g&&(r.j41(0,"div",0),r.bIt("pointerenter",function(x){return m.setOpen(x,!0)})("pointerleave",function(x){return m.setOpen(x,!1)}),r.j41(1,"div",1),r.eu8(2,2),r.k0s(),r.j41(3,"div",3),r.eu8(4,2),r.k0s()()),2&g&&(r.BMQ("disabled",m.disabled()||null),r.R7$(2),r.Y8G("ngTemplateOutlet",null==m.trigger?null:m.trigger.templateRef),r.R7$(2),r.Y8G("ngTemplateOutlet",null==m.actions?null:m.actions.templateRef))},dependencies:[l.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:linear-gradient(125deg,#240e12 10%,#952c42 90%);cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{color:#fff;font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{color:#fff;display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:all .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>.keybinding-hint,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>.keybinding-hint{padding:2px 0 0;margin:0}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-trigger].appear-disabled,.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action].appear-disabled{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>span{max-width:256px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>.keybinding-hint,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>.keybinding-hint{margin:0 8px 0 4px;padding-top:2px;border-radius:6px;background:#ffffff1a;transition:all .3s ease-in-out}\n'],encapsulation:2})}}return P})()},93826(O,b,n){n.d(b,{a:()=>l});class l{static boolEquals(r,d){return r===d}static stringEquals(r,d){return r===d}static valueEquals(r,d){return r===d}static objectsEqual(r,d){if(null==r||null==d)return r===d;const p=r,h=d,v=Object.keys(p),u=Object.keys(h);return v.length===u.length&&v.every(M=>!!h.hasOwnProperty(M)&&p[M]===h[M])}static arraysEqual(r,d){return null==r||null==d?r===d:r.length===d.length&&r.every((h,v)=>r[v]===d[v])}static distinct(r,d,p){return p.indexOf(r)===d}}},95699(O,b,n){n.d(b,{V:()=>r});var l=n(36124),t=n(39431);let r=(()=>{class d{constructor(h){this.globalConfigService=h}onClick(h){(navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.shiftKey&&h.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}static{this.\u0275fac=function(v){return new(v||d)(l.rXU(t.B))}}static{this.\u0275dir=l.FsC({type:d,selectors:[["","appToggleDebug",""]],hostBindings:function(v,u){1&v&&l.bIt("click",function(M){return u.onClick(M)})}})}}return d})()},96817(O,b,n){n.d(b,{R:()=>v});var l=n(50698),t=n(85837),r=n(9234),d=n(24467),p=n(56884),h=n(36124);let v=(()=>{class u extends d.B{create(M,I){return this.http.post(`app/auto/data/${M}`,I,{params:{appId:this.appId,zoneId:this.zoneId}})}update(M,I,D){return this.http.post(`app/auto/data/${M}/${I}`,D,{params:{appId:this.appId,zoneId:this.zoneId}})}delete(M,I,D){return this.http.delete(this.apiUrl(r.gb+"delete"),{params:{contentType:M,id:I.toString(),appId:this.appId,force:D.toString()},context:(new l._y).set(t.g,[400])})}static{this.\u0275fac=(()=>{let M;return function(D){return(M||(M=h.xGo(u)))(D||u)}})()}static{this.\u0275prov=p.jDH({token:u,factory:u.\u0275fac})}}return u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.03.00/dist/ng-edit/projects_eav-ui_src_app_content-items_content-items_ts.3ec1323727061e6d.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts"],{9086:(I,p,t)=>{t.r(p),t.d(p,{DataRestApiComponent:()=>R});var u=t(316),n=t(4456),r=t(4175),l=t(3777),d=t(3840),a=t(5175),_=t(2159),P=t(5797),h=t(2938),c=t(7037),A=t(8471),i=t(5445),e=t(9148),v=t(4950),C=t(5060);function T(s,m){if(1&s&&(e.j41(0,"mat-option",3),e.EFF(1),e.k0s()),2&s){const o=m.$implicit;e.Y8G("value",o.StaticName),e.R7$(),e.SpI(" ",o.Label," ")}}function E(s,m){1&s&&e.Z7z(0,T,2,2,"mat-option",3,e.fX1),2&s&&e.Dyx(m.sort())}let R=(()=>{class s{#e;#t;constructor(o){this.fb=o,this.#e=(0,h.d)(i.gs),this.#t=(0,h.d)(A.c),this.contentTypes$=new P.t(void 0),this.contentTypes=[]}ngOnInit(){this.fetchData(),this.contentTypeForm=this.fb.group({contentType:[""]})}fetchData(){this.#e.retrieveContentTypes("Default").subscribe(o=>{this.contentTypes$.next(o);const D=this.#t.url.split("/"),O=D[D.length-1],M=o.find(g=>g.StaticName===O);M&&this.contentTypeForm.get("contentType").setValue(M.StaticName)})}openRestApi(o){o&&this.#t.navParentFirstChild([`${o}`])}static{this.\u0275fac=function(D){return new(D||s)(e.rXU(n.ok))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-data-rest-api"]],standalone:!0,features:[e.aNF],decls:8,vars:4,consts:[[3,"formGroup"],["color","accent",1,"eav-mat-form-field"],["formControlName","contentType",3,"valueChange"],[3,"value"]],template:function(D,O){if(1&D&&(e.j41(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Content-Type"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(g){return O.openRestApi(g)}),e.DNE(5,E,2,0),e.nI1(6,"async"),e.k0s()()(),e.nrm(7,"router-outlet")),2&D){let M;e.Y8G("formGroup",O.contentTypeForm),e.R7$(5),e.vxM((M=e.bMT(6,2,O.contentTypes$))?5:-1,M)}},dependencies:[a.Ve,v.rl,v.nJ,a.VO,C.wT,r.Hl,l.Hu,d.m_,n.X1,n.qT,n.BC,n.cb,n.j4,n.JD,u.Jj,_.n3,c.p],encapsulation:2})}}return s})()},5445:(I,p,t)=>{t.d(p,{Cu:()=>a.Cu,JL:()=>a.JL,Mk:()=>a.Mk,X6:()=>n.X,ei:()=>a.ei,gs:()=>n.g,tr:()=>u.t,vN:()=>a.vN,xR:()=>a.xR,y0:()=>_.y});var u=t(1479),n=t(7693),a=(t(1475),t(320),t(8624),t(6460)),_=t(2570)},6460:(I,p,t)=>{t.d(p,{Cu:()=>e,JL:()=>v,Mk:()=>A,ei:()=>i,vN:()=>C,xR:()=>T});var u=t(4600),n=t(6647),r=t(271),l=t(693),d=t(9234),a=t(6474),_=t(9148);const A="admin/query/Run",i="admin/query/DebugStream",e="admin/query/Save",v="admin/query/Get",C="admin/query/DataSources";let T=(()=>{class E extends a.D{getAll(s){return this.http.get(this.apiUrl(d.Gg),{params:{appId:this.appId,contentType:s}})}importQuery(s){return(0,u.H)((0,l.n)(s)).pipe((0,n.n)(m=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:m})),(0,r.T)(m=>({Success:m,Messages:[]})))}clonePipeline(s){return this.http.get(this.apiUrl("admin/query/Clone"),{params:{Id:s.toString(),appId:this.appId}})}delete(s){return this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:s.toString()}})}static{this.\u0275fac=(()=>{let s;return function(o){return(s||(s=_.xGo(E)))(o||E)}})()}static{this.\u0275prov=_.jDH({token:E,factory:E.\u0275fac})}}return E})()},2570:(I,p,t)=>{t.d(p,{y:()=>h});var u=t(6474),n=t(9148);const r="admin/view/",l=r+"all",d=r+"delete",a=r+"import",_=r+"polymorphism",P=r+"usage";let h=(()=>{class c extends u.D{getAll(){return this.http.get(this.apiUrl(l),{params:{appId:this.appId}})}delete(i){return this.http.get(this.apiUrl(d),{params:{appId:this.appId,Id:i.toString()}})}import(i){const e=new FormData;return e.append("File",i),this.http.post(this.apiUrl(a),e,{params:{appId:this.appId,zoneId:this.zoneId}})}export(i){const e=this.apiUrl(r+"json")+"?appId="+this.appId+"&viewId="+i;window.open(e,"_blank","")}getPolymorphism(){return this.http.get(this.apiUrl(_),{params:{appId:this.appId}})}getUsage(i){return this.http.get(this.apiUrl(P),{params:{appId:this.appId,guid:i}})}static{this.\u0275fac=(()=>{let i;return function(v){return(i||(i=n.xGo(c)))(v||c)}})()}static{this.\u0275prov=n.jDH({token:c,factory:c.\u0275fac})}}return c})()},693:(I,p,t)=>{function u(r){return new Promise((l,d)=>{const a=new FileReader;a.readAsDataURL(r),a.onload=()=>{l(a.result.split(",")[1])},a.onerror=_=>{d(_)}})}function n(r){return new Promise((l,d)=>{const a=new FileReader;a.readAsText(r),a.onload=()=>{l(a.result)},a.onerror=_=>{d(_)}})}t.d(p,{d:()=>n,n:()=>u})}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.02.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts.4491086b0aec53c6.js.map
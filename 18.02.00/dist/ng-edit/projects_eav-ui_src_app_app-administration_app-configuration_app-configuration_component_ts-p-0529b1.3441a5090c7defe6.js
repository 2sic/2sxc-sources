"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_component_ts-p-0529b1"],{708:(N,T,a)=>{a.r(T),a.d(T,{AppConfigurationComponent:()=>Mt});var l=a(316),t=a(9148),f=a(6256),b=a(4175),_=a(3777),m=a(3840),S=a(2159),G=a(4205),x=a(271),C=a(2938),v=a(336),E=a(8136),s=a(5469),d=a(4824),y=a(6838),O=a(2437),u=a(52),D=a(4601),F=a(3216),j=a(6666),B=a(334),M=a(8471),Y=a(8873),r=a(2785),g=a(8713),h=a(5445),P=a(6474),V=a(7993);const L="admin/appinternals/get";let z=(()=>{class i extends P.D{constructor(){super(...arguments),this.getAppInternalsSig=(0,V.kz)("getAppInternals",this.http.get(this.apiUrl(L),{params:{appId:this.appId}}))}getAppInternals(){return this.http.get(this.apiUrl(L),{params:{appId:this.appId}})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=t.xGo(i)))(n||i)}})()}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac})}}return i})();var K=a(4699);const J={Settings:"Settings",Resources:"Resources"};var H=a(3454),Q=a(5081),X=a(3347);const Z=()=>({link:"https://docs.2sxc.org/basics/app/configuration.html"});function q(i,p){1&i&&t.eu8(0)}function tt(i,p){if(1&i&&(t.j41(0,"a",12)(1,"mat-icon",13),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&i){let e;const o=p.$implicit,n=p.$implicit;t.FS9("href",p.link,t.B4B),t.Y8G("tippy","online documentation"),t.R7$(2),t.JRh(null!==(e=o)&&void 0!==e?e:"menu_book"),t.R7$(2),t.JRh(n)}}let et=(()=>{class i{#t;#n;#i;constructor(e,o){this.context=e,this.snackBar=o,this.contentItem=(0,t.vPA)(void 0),this.appSettingsInternal=(0,t.vPA)(void 0),this.#t=(0,C.d)(z),this.#n=(0,C.d)(v.F),this.#i=(0,C.d)(M.c),this.clipboard=(0,C.d)(Q.W)}ngOnInit(){this.fetchSettings(),this.#i.doOnDialogClosed(()=>{this.fetchSettings()}),this.#n.getAll(u.YX.contentTypes.appConfiguration).subscribe(e=>{this.contentItem.set(e[0])})}ngOnDestroy(){this.snackBar.dismiss()}edit(){const e=u.YX.contentTypes.appConfiguration;this.#n.getAll(e).subscribe(o=>{let n;if(o.length<1)throw new Error(`Found no settings for type ${e}`);if(o.length>1)throw new Error(`Found too many settings for type ${e}`);n={items:[B.c.editId(o[0].Id)]};const c=(0,F.s)(n);this.#i.navParentFirstChild([`edit/${c}`])})}openMetadata(){const e=H.H.getUrlApp(this.context.appId,`Metadata for App: ${this.dialogSettings.Context.App.Name} (${this.context.appId})`);this.#i.navParentFirstChild([e])}fetchSettings(){this.#t.getAppInternals().subscribe(o=>{this.appSettingsInternal.set(o)})}formatValue(e){return""===e?"-":e??"-"}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(Y.o),t.rXU(X.UG))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-app-configuration-card"]],inputs:{dialogSettings:"dialogSettings"},standalone:!0,features:[t.aNF],decls:57,vars:17,consts:[["docsLink",""],[1,"eav-card"],[1,"eav-card-header"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click","tippy"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",1,"eav-button__with-icon",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadge"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"],[1,"eav-icon"]],template:function(o,n){if(1&o){const c=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header",2)(2,"mat-card-title"),t.EFF(3,"Configuration"),t.k0s(),t.j41(4,"mat-icon"),t.EFF(5,"redeem"),t.k0s()(),t.j41(6,"mat-card-content"),t.nrm(7,"p"),t.j41(8,"div",3)(9,"div",4),t.EFF(10,"Name:"),t.k0s(),t.j41(11,"div",5)(12,"span",6),t.bIt("click",function(){return t.eBV(c),t.Njj(n.clipboard.copyToClipboard(n.contentItem().DisplayName))}),t.EFF(13),t.k0s()()(),t.j41(14,"div",3)(15,"div",4),t.EFF(16,"Folder:"),t.k0s(),t.j41(17,"div",5)(18,"span",6),t.bIt("click",function(){return t.eBV(c),t.Njj(n.clipboard.copyToClipboard(n.contentItem().Folder))}),t.EFF(19),t.k0s()()(),t.j41(20,"div",3)(21,"div",4),t.EFF(22,"Version:"),t.k0s(),t.j41(23,"div",5)(24,"span",6),t.bIt("click",function(){return t.eBV(c),t.Njj(n.clipboard.copyToClipboard(n.contentItem().Version))}),t.EFF(25),t.k0s()()(),t.j41(26,"div",3)(27,"div",4),t.EFF(28,"For"),t.k0s(),t.j41(29,"div",5)(30,"b"),t.EFF(31,"2sxc: "),t.k0s(),t.j41(32,"span",6),t.bIt("click",function(){return t.eBV(c),t.Njj(n.clipboard.copyToClipboard(n.contentItem().RequiredVersion))}),t.EFF(33),t.k0s(),t.j41(34,"b"),t.EFF(35," DNN: "),t.k0s(),t.j41(36,"span",6),t.bIt("click",function(){return t.eBV(c),t.Njj(n.clipboard.copyToClipboard(n.contentItem().RequiredDnnVersion))}),t.EFF(37),t.k0s(),t.j41(38,"b"),t.EFF(39," Oqt: "),t.k0s(),t.j41(40,"span",6),t.bIt("click",function(){return t.eBV(c),t.Njj(n.clipboard.copyToClipboard(n.contentItem().RequiredOqtaneVersion))}),t.EFF(41),t.k0s()()()(),t.nrm(42,"div",7),t.j41(43,"mat-card-actions",8),t.DNE(44,q,1,0,"ng-container",9),t.j41(45,"button",10),t.bIt("click",function(){return t.eBV(c),t.Njj(n.edit())}),t.j41(46,"mat-icon",11),t.EFF(47,"edit"),t.k0s(),t.j41(48,"span"),t.EFF(49,"Edit"),t.k0s()(),t.j41(50,"button",10),t.bIt("click",function(){return t.eBV(c),t.Njj(n.openMetadata())}),t.j41(51,"mat-icon",11),t.EFF(52,"local_offer"),t.k0s(),t.j41(53,"span"),t.EFF(54,"Metadata"),t.k0s()()()(),t.DNE(55,tt,5,4,"ng-template",null,0,t.C5r)}if(2&o){let c,A,R,k,$,U,I,W;const Pt=t.sdS(56);t.R7$(12),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.JRh(n.formatValue(null==(c=n.contentItem())?null:c.DisplayName)),t.R7$(5),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.JRh(n.formatValue(null==(A=n.contentItem())?null:A.Folder)),t.R7$(5),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.JRh(n.formatValue(null==(R=n.contentItem())?null:R.Version)),t.R7$(7),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.SpI(" ",n.formatValue(null==(k=n.contentItem())?null:k.RequiredVersion)," "),t.R7$(3),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.SpI(" ",n.formatValue(null==($=n.contentItem())?null:$.RequiredDnnVersion)," "),t.R7$(3),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.SpI(" ",n.formatValue(null==(U=n.contentItem())?null:U.RequiredOqtaneVersion)," "),t.R7$(3),t.Y8G("ngTemplateOutlet",Pt)("ngTemplateOutletContext",t.lJ4(16,Z)),t.R7$(2),t.Y8G("matBadge",(null==(I=n.appSettingsInternal())||null==I.EntityLists?null:I.EntityLists.ToSxcContentApp.length)||null),t.R7$(5),t.Y8G("matBadge",(null==(W=n.appSettingsInternal())?null:W.MetadataList.Items.length)||null)}},dependencies:[_.Hu,_.RN,_.YY,_.m2,_.MM,_.dh,m.m_,m.An,l.T3,b.Hl,b.It,b.$z,f.Y,f.k,D.e],styles:[".eav-card-space-div[_ngcontent-%COMP%]{min-height:30px}"]})}}return i})();var nt=a(7941);const w=()=>({link:"https://go.2sxc.org/settings"}),it=()=>({link:"https://go.2sxc.org/lightspeed"}),ot=()=>({link:"https://go.2sxc.org/csp"}),at=()=>({link:"https://docs.2sxc.org/basics/app/permissions.html"}),st=()=>({link:"https://patrons.2sxc.org/features/feat/PermissionsByLanguage"});function rt(i,p){1&i&&t.EFF(0," This is the Global App. Anything configured here will affect all Sites and Apps in this installation. ")}function lt(i,p){1&i&&t.EFF(0," This is the Primary App of this Site. You can also configure sitewide settings and resources here. ")}function pt(i,p){if(1&i&&(t.j41(0,"div",3),t.DNE(1,rt,1,0)(2,lt,1,0),t.EFF(3," See "),t.j41(4,"a",7),t.EFF(5,"docs"),t.k0s(),t.EFF(6,". "),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.vxM(e.isGlobal?1:-1),t.R7$(),t.vxM(e.isPrimary?2:-1)}}function ct(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Global"),t.k0s(),t.j41(3,"td")(4,"button",21),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemSettings,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",23),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",24),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()()}if(2&i){const e=t.XpG();t.R7$(5),t.Y8G("matBadge",e.systemSettingsCount||null),t.R7$(4),t.Y8G("matBadge",e.customSettingsCount||null),t.R7$(3),t.Y8G("matBadge",e.customSettingsFieldsCount||null)}}function dt(i,p){1&i&&t.eu8(0)}function mt(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Site"),t.k0s(),t.j41(3,"td")(4,"button",25),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemSettings,n.SystemSettingsScopes.Site))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",26),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",27),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,dt,1,0,"ng-container",28)}if(2&i){const e=t.XpG(),o=t.sdS(65);t.R7$(5),t.Y8G("matBadge",e.systemSettingsCount||null),t.R7$(4),t.Y8G("matBadge",e.customSettingsCount||null),t.R7$(3),t.Y8G("matBadge",e.customSettingsFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",o)}}function ut(i,p){1&i&&t.eu8(0)}function gt(i,p){1&i&&t.eu8(0)}function _t(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"button",29),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemSettings,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.settings))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.config(n.eavConstants.contentTypes.settings))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,ut,1,0,"ng-container",28)(15,gt,1,0,"ng-container",28)}if(2&i){const e=t.XpG(),o=t.sdS(65),n=t.sdS(67),c=t.XpG();t.R7$(2),t.JRh(c.dialogSettings.Context.App.Name),t.R7$(3),t.Y8G("matBadge",e.systemSettingsCount||null),t.R7$(4),t.Y8G("matBadge",e.customSettingsCount||null),t.R7$(3),t.Y8G("matBadge",e.customSettingsFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function ht(i,p){1&i&&t.eu8(0)}function ft(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Global"),t.k0s(),t.j41(3,"td")(4,"button",32),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemResources,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",33),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",34),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()()}if(2&i){const e=t.XpG();t.R7$(5),t.Y8G("matBadge",e.systemResourcesCount||null),t.R7$(4),t.Y8G("matBadge",e.customResourcesCount||null),t.R7$(3),t.Y8G("matBadge",e.customResourcesFieldsCount||null)}}function Ct(i,p){1&i&&t.eu8(0)}function bt(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Site"),t.k0s(),t.j41(3,"td")(4,"button",35),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemResources,n.SystemSettingsScopes.Site))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",36),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",37),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,Ct,1,0,"ng-container",28)}if(2&i){const e=t.XpG(),o=t.sdS(65);t.R7$(5),t.Y8G("matBadge",e.systemResourcesCount||null),t.R7$(4),t.Y8G("matBadge",e.customResourcesCount||null),t.R7$(3),t.Y8G("matBadge",e.customResourcesFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",o)}}function vt(i,p){1&i&&t.eu8(0)}function yt(i,p){1&i&&t.eu8(0)}function Et(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"button",38),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemResources,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",39),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.resources))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.config(n.eavConstants.contentTypes.resources))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,vt,1,0,"ng-container",28)(15,yt,1,0,"ng-container",28)}if(2&i){const e=t.XpG(),o=t.sdS(65),n=t.sdS(67),c=t.XpG();t.R7$(2),t.JRh(c.dialogSettings.Context.App.Name),t.R7$(3),t.Y8G("matBadge",e.systemResourcesCount||null),t.R7$(4),t.Y8G("matBadge",e.customResourcesCount||null),t.R7$(3),t.Y8G("matBadge",e.customResourcesFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function Ft(i,p){1&i&&t.eu8(0)}function St(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Global"),t.k0s(),t.j41(3,"td")(4,"button",41),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.openGlobalSettings())}),t.j41(5,"mat-icon"),t.EFF(6,"open_in_new"),t.k0s()()()()}}function At(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Site"),t.k0s(),t.j41(3,"td")(4,"button",42),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.openSiteSettings())}),t.j41(5,"mat-icon"),t.EFF(6,"open_in_new"),t.k0s()()()()}}function Tt(i,p){1&i&&t.eu8(0)}function It(i,p){1&i&&t.eu8(0)}function jt(i,p){1&i&&t.eu8(0)}function Rt(i,p){1&i&&t.EFF(0," (not on Global App) ")}function kt(i,p){1&i&&t.EFF(0," (not on Content) ")}function Bt(i,p){if(1&i&&t.DNE(0,Rt,1,0)(1,kt,1,0),2&i){const e=t.XpG(2);t.vxM(e.isGlobal?0:-1),t.R7$(),t.vxM(e.isApp?1:-1)}}function Dt(i,p){1&i&&t.eu8(0)}function Gt(i,p){if(1&i){const e=t.RV6();t.DNE(0,pt,7,2,"div",3),t.j41(1,"div",4)(2,"mat-card",5)(3,"mat-card-header",6)(4,"mat-card-title"),t.EFF(5,"Settings"),t.k0s(),t.j41(6,"mat-icon"),t.EFF(7,"settings"),t.k0s()(),t.j41(8,"mat-card-content")(9,"p"),t.EFF(10,' Settings are things like SQL-connection strings, default "items-to-show" numbers and similar. If necessary, settings like a link to an RSS-Feed could be different in each language. '),t.j41(11,"a",7),t.EFF(12,"docs"),t.k0s()(),t.j41(13,"table",8)(14,"thead")(15,"tr"),t.nrm(16,"th"),t.j41(17,"th"),t.EFF(18,"System Settings"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Custom Settings"),t.k0s()()(),t.j41(21,"tbody"),t.DNE(22,ct,14,3,"tr")(23,mt,15,4)(24,_t,16,6),t.k0s()()(),t.nrm(25,"div",9),t.j41(26,"mat-card-actions",10),t.DNE(27,ht,1,0,"ng-container",11),t.j41(28,"button",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.analyze(n.AnalyzeParts.Settings))}),t.j41(29,"mat-icon",13),t.EFF(30,"manage_search"),t.k0s(),t.j41(31,"span"),t.EFF(32,"Analyze Combined Settings"),t.k0s()()()(),t.j41(33,"mat-card",5)(34,"mat-card-header",6)(35,"mat-card-title"),t.EFF(36,"Language Resources (i18n)"),t.k0s(),t.j41(37,"mat-icon"),t.EFF(38,"translate"),t.k0s()(),t.j41(39,"mat-card-content")(40,"p"),t.EFF(41," Resources are used for labels and things like that in the App. They are usually needed to create multi-lingual views and such, and should not be used for App-Settings. "),t.j41(42,"a",7),t.EFF(43,"docs"),t.k0s()(),t.j41(44,"table",8)(45,"thead")(46,"tr"),t.nrm(47,"th"),t.j41(48,"th"),t.EFF(49,"System Resources"),t.k0s(),t.j41(50,"th"),t.EFF(51,"Custom Resources"),t.k0s()()(),t.j41(52,"tbody"),t.DNE(53,ft,14,3,"tr")(54,bt,15,4)(55,Et,16,6),t.k0s()()(),t.nrm(56,"div",9),t.j41(57,"mat-card-actions",10),t.DNE(58,Ft,1,0,"ng-container",11),t.j41(59,"button",14),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.analyze(n.AnalyzeParts.Resources))}),t.j41(60,"mat-icon",13),t.EFF(61,"manage_search"),t.k0s(),t.j41(62,"span"),t.EFF(63,"Analyze Combined Resources"),t.k0s()()()(),t.DNE(64,St,7,0,"ng-template",null,1,t.C5r)(66,At,7,0,"ng-template",null,2,t.C5r),t.k0s(),t.j41(68,"div",4),t.nrm(69,"app-app-configuration-card",15),t.j41(70,"mat-card",5)(71,"mat-card-header",6)(72,"mat-card-title"),t.EFF(73,"Performance"),t.k0s(),t.j41(74,"mat-icon"),t.EFF(75,"bolt"),t.k0s()(),t.j41(76,"mat-card-content")(77,"p"),t.EFF(78," LightSpeed Output Cache to speed up page by 50-90% "),t.k0s(),t.nrm(79,"app-feature-text-info",16),t.k0s(),t.nrm(80,"div",9),t.j41(81,"mat-card-actions",10),t.DNE(82,Tt,1,0,"ng-container",11),t.j41(83,"button",17),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openLightSpeed())}),t.j41(84,"mat-icon",18),t.EFF(85,"bolt"),t.k0s(),t.j41(86,"span"),t.EFF(87,"Edit LightSpeed"),t.k0s()()()(),t.j41(88,"mat-card",5)(89,"mat-card-header",6)(90,"mat-card-title"),t.EFF(91,"Security"),t.k0s(),t.j41(92,"mat-icon"),t.EFF(93,"local_police"),t.k0s()(),t.j41(94,"mat-card-content")(95,"p"),t.EFF(96," ContentSecurityPolicy (CSP) features in this App - for maximum control. "),t.k0s(),t.nrm(97,"app-feature-text-info",16),t.k0s(),t.nrm(98,"div",9),t.j41(99,"mat-card-actions",10),t.DNE(100,It,1,0,"ng-container",11),t.k0s()(),t.j41(101,"mat-card",5)(102,"mat-card-header",6)(103,"mat-card-title"),t.EFF(104,"Permissions"),t.k0s(),t.j41(105,"mat-icon"),t.EFF(106,"person"),t.k0s()(),t.j41(107,"mat-card-content")(108,"p"),t.EFF(109," Give access to the entire app (all data). Use with care. "),t.k0s()(),t.nrm(110,"div",9),t.j41(111,"mat-card-actions",10),t.DNE(112,jt,1,0,"ng-container",11),t.j41(113,"button",17),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openPermissions())}),t.j41(114,"mat-icon",18),t.EFF(115,"person"),t.k0s(),t.j41(116,"span"),t.EFF(117," Edit Permissions "),t.DNE(118,Bt,2,2),t.k0s()(),t.DNE(119,Dt,1,0,"ng-container",11),t.j41(120,"button",19),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openLanguagePermissions(n.langPermsEnabled()))}),t.j41(121,"mat-icon",20),t.EFF(122," person "),t.k0s(),t.j41(123,"span"),t.EFF(124,"Language Permissions"),t.k0s()()()()()}if(2&i){const e=t.XpG(),o=t.sdS(3);t.vxM(e.isGlobal||e.isPrimary?0:-1),t.R7$(22),t.vxM(e.isGlobal?22:-1),t.R7$(),t.vxM(e.isPrimary?23:-1),t.R7$(),t.vxM(e.isApp?24:-1),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.lJ4(30,w)),t.R7$(26),t.vxM(e.isGlobal?53:-1),t.R7$(),t.vxM(e.isPrimary?54:-1),t.R7$(),t.vxM(e.isApp?55:-1),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.lJ4(31,w)),t.R7$(11),t.Y8G("dialogSettings",e.dialogSettings),t.R7$(10),t.Y8G("featureNameId","LightSpeedOutputCache")("asInfo",!0),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.lJ4(32,it)),t.R7$(),t.FS9("disabled",!e.lightSpeedEnabled()),t.R7$(),t.Y8G("matBadge",p.appLightSpeedCount||null),t.R7$(13),t.Y8G("featureNameId","ContentSecurityPolicy")("asInfo",!0),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.lJ4(33,ot)),t.R7$(12),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.lJ4(34,at)),t.R7$(),t.Y8G("disabled",!e.dialogSettings.Context.Enable.AppPermissions),t.R7$(),t.Y8G("matBadge",e.dialogSettings.Context.App.Permissions.Count||null),t.R7$(4),t.vxM(e.dialogSettings.Context.Enable.AppPermissions?-1:118),t.R7$(),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.lJ4(35,st)),t.R7$(2),t.Y8G("matBadgeHidden",e.langPermsEnabled())}}function xt(i,p){if(1&i&&(t.j41(0,"a",43)(1,"mat-icon",13),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&i){let e;const o=p.$implicit,n=p.$implicit;t.FS9("href",p.link,t.B4B),t.Y8G("tippy","online documentation"),t.R7$(2),t.JRh(null!==(e=o)&&void 0!==e?e:"menu_book"),t.R7$(2),t.JRh(n)}}let Mt=(()=>{class i{#t;#n;#i;#o;#a;#e;constructor(e,o,n,c,A){this.context=e,this.snackBar=o,this.matDialog=n,this.viewContainerRef=c,this.changeDetectorRef=A,this.#t=(0,C.d)(r.o),this.#n=(0,C.d)(h.gs),this.eavConstants=u.YX,this.AnalyzeParts=J,this.SystemSettingsScopes=u.Sq,this.AppScopes=j.F,this.appSettingsInternal$=new G.B,this.appStateAdvanced=!1,this.features=(0,t.WQX)(d.t),this.lightSpeedEnabled=this.features.isEnabled[E.T.LightSpeed],this.cspEnabled=this.features.isEnabled[E.T.ContentSecurityPolicy],this.langPermsEnabled=this.features.isEnabled[E.T.PermissionsByLanguage],this.#i=(0,C.d)(z),this.#o=(0,C.d)(v.F),this.#a=(0,C.d)(K.L),this.#e=(0,C.d)(M.c),this.viewModel$=this.appSettingsInternal$.pipe((0,x.T)(R=>{const k=R.EntityLists,$=u.YX.appMetadata.LightSpeed.ContentTypeName;return{appLightSpeedCount:R.MetadataList.Items.filter(I=>I._Type.Name==$).length,systemSettingsCount:this.isPrimary?k.SettingsSystem.filter(I=>I.SettingsEntityScope===u.Sq.Site).length:k.SettingsSystem.filter(I=>!I.SettingsEntityScope).length,customSettingsCount:k.AppSettings?.length,customSettingsFieldsCount:R.FieldAll.AppSettings?.length,systemResourcesCount:this.isPrimary?k.ResourcesSystem.filter(I=>I.SettingsEntityScope===u.Sq.Site).length:k.ResourcesSystem.filter(I=>!I.SettingsEntityScope).length,customResourcesCount:k.AppResources?.length,customResourcesFieldsCount:R.FieldAll.AppResources?.length}}))}ngOnInit(){this.fetchSettings(),this.#e.doOnDialogClosed(()=>this.fetchSettings()),this.#a.getCurrent$().subscribe(e=>{this.dialogSettings=e;const o=e.Context.App.SettingsScope;this.isGlobal=o===j.F.Global,this.isPrimary=o===j.F.Site,this.isApp=o===j.F.App})}ngOnDestroy(){this.snackBar.dismiss()}edit(e,o){this.#o.getAll(e).subscribe(n=>{let c;switch(e){case u.YX.contentTypes.systemSettings:case u.YX.contentTypes.systemResources:const R=n.filter(U=>o===u.Sq.App?!U.SettingsEntityScope:U.SettingsEntityScope===u.Sq.Site);if(R.length>1)throw new Error(`Found too many settings for type ${e}`);const k=R[0];c={items:[null==k?B.c.newFromType(e,{...o===u.Sq.Site&&{SettingsEntityScope:u.Sq.Site}}):B.c.editId(k.Id)]};break;case u.YX.contentTypes.customSettings:case u.YX.contentTypes.customResources:if(n.length>1)throw new Error(`Found too many settings for type ${e}`);const $=n[0];c={items:[null==$?B.c.newFromType(e):B.c.editId($.Id)]};break;default:if(n.length<1)throw new Error(`Found no settings for type ${e}`);if(n.length>1)throw new Error(`Found too many settings for type ${e}`);c={items:[B.c.editId(n[0].Id)]}}const A=(0,F.s)(c);this.#e.navParentFirstChild([`edit/${A}`])})}openLightSpeed(){const e=g.g.getLightSpeedEditParams(this.context.appId),o=(0,F.s)(e);this.#e.navParentFirstChild([`edit/${o}`])}openSiteSettings(){const e=this.dialogSettings.Context.Site.PrimaryApp;this.#t.openAppAdministration(e.ZoneId,e.AppId,"app")}openGlobalSettings(){const e=this.dialogSettings.Context.System.PrimaryApp;this.#t.openAppAdministration(e.ZoneId,e.AppId,"app")}config(e){this.#e.navParentFirstChild([`fields/${e}`])}openPermissions(){this.#e.navParentFirstChild([O.k.getUrlApp(this.context.appId)])}openLanguagePermissions(e){e?this.#e.navParentFirstChild(["language-permissions"]):(0,y.j)(this.matDialog,E.T.PermissionsByLanguage,this.viewContainerRef,this.changeDetectorRef)}analyze(e){this.#e.navParentFirstChild([`analyze/${e}`])}fetchSettings(){this.#i.getAppInternals().subscribe(o=>{this.appSettingsInternal$.next(o)})}fixContentType(e,o){this.#n.retrieveContentTypes(u.YX.scopes.configuration.value).subscribe(n=>{n.some(A=>A.Name===e)?"edit"===o?this.edit(e):"config"===o&&this.config(e):this.#n.save({StaticName:"",Name:e,Description:"",Scope:u.YX.scopes.configuration.value,ChangeStaticName:!1,NewStaticName:""}).subscribe(R=>{R&&("edit"===o?this.edit(e):"config"===o&&this.config(e))})})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(Y.o),t.rXU(X.UG),t.rXU(nt.bZ),t.rXU(t.c1b),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-app-configuration"]],standalone:!0,features:[t.aNF],decls:5,vars:3,consts:[["docsLink",""],["goToGlobal",""],["goToSite",""],[1,"alert","alert-info","scope-info"],[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],["href","https://go.2sxc.org/settings","target","_blank"],[1,"eav-settings-and-resources-table"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","","tippy","See the result of combining all settings",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-button","","tippy","See the result of combining all resources",1,"eav-button__with-icon",3,"click"],[3,"dialogSettings"],[3,"featureNameId","asInfo"],["mat-button","",1,"eav-button__with-icon",3,"click","disabled"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadge"],["mat-button","",1,"eav-button__with-icon",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadgeHidden"],["mat-icon-button","","tippy","Edit global system settings",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge"],["mat-icon-button","","tippy","Edit custom global settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom global settings",3,"click"],["mat-icon-button","","tippy","Edit site system settings",3,"click"],["mat-icon-button","","tippy","Edit custom site settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom site settings",3,"click"],[4,"ngTemplateOutlet"],["mat-icon-button","","tippy","Edit app system settings",3,"click"],["mat-icon-button","","tippy","Edit custom app settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom app settings",3,"click"],["mat-icon-button","","tippy","Edit global system resources",3,"click"],["mat-icon-button","","tippy","Edit custom global resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom global resources",3,"click"],["mat-icon-button","","tippy","Edit site system resources",3,"click"],["mat-icon-button","","tippy","Edit custom site resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom site resources",3,"click"],["mat-icon-button","","tippy","Edit app system resources",3,"click"],["mat-icon-button","","tippy","Edit custom app resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom app resources",3,"click"],["mat-icon-button","","tippy","Go to global",3,"click"],["mat-icon-button","","tippy","Go to site",3,"click"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"]],template:function(o,n){if(1&o&&(t.DNE(0,Gt,125,36),t.nI1(1,"async"),t.DNE(2,xt,5,4,"ng-template",null,0,t.C5r),t.nrm(4,"router-outlet")),2&o){let c;t.vxM((c=t.bMT(1,1,n.viewModel$))?0:-1,c)}},dependencies:[_.Hu,_.RN,_.YY,_.m2,_.MM,_.dh,m.m_,m.An,b.Hl,b.It,b.$z,b.iY,f.Y,f.k,l.T3,et,s.L,S.n3,l.Jj,D.e],styles:[".eav-settings-and-resources-table[_ngcontent-%COMP%]{width:100%}.eav-settings-and-resources-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.eav-settings-and-resources-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}"]})}}return i})()},5445:(N,T,a)=>{a.d(T,{Cu:()=>m.Cu,JL:()=>m.JL,Mk:()=>m.Mk,X6:()=>t.X,ei:()=>m.ei,gs:()=>t.g,tr:()=>l.t,vN:()=>m.vN,xR:()=>m.xR,y0:()=>S.y});var l=a(1479),t=a(7693),m=(a(1475),a(320),a(8624),a(6460)),S=a(2570)},6460:(N,T,a)=>{a.d(T,{Cu:()=>s,JL:()=>d,Mk:()=>v,ei:()=>E,vN:()=>y,xR:()=>O});var l=a(4600),t=a(6647),f=a(271),b=a(693),_=a(9234),m=a(6474),S=a(9148);const v="admin/query/Run",E="admin/query/DebugStream",s="admin/query/Save",d="admin/query/Get",y="admin/query/DataSources";let O=(()=>{class u extends m.D{getAll(F){return this.http.get(this.apiUrl(_.Gg),{params:{appId:this.appId,contentType:F}})}importQuery(F){return(0,l.H)((0,b.n)(F)).pipe((0,t.n)(j=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:j})),(0,f.T)(j=>({Success:j,Messages:[]})))}clonePipeline(F){return this.http.get(this.apiUrl("admin/query/Clone"),{params:{Id:F.toString(),appId:this.appId}})}delete(F){return this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:F.toString()}})}static{this.\u0275fac=(()=>{let F;return function(B){return(F||(F=S.xGo(u)))(B||u)}})()}static{this.\u0275prov=S.jDH({token:u,factory:u.\u0275fac})}}return u})()},2570:(N,T,a)=>{a.d(T,{y:()=>x});var l=a(6474),t=a(9148);const f="admin/view/",b=f+"all",_=f+"delete",m=f+"import",S=f+"polymorphism",G=f+"usage";let x=(()=>{class C extends l.D{getAll(){return this.http.get(this.apiUrl(b),{params:{appId:this.appId}})}delete(E){return this.http.get(this.apiUrl(_),{params:{appId:this.appId,Id:E.toString()}})}import(E){const s=new FormData;return s.append("File",E),this.http.post(this.apiUrl(m),s,{params:{appId:this.appId,zoneId:this.zoneId}})}export(E){const s=this.apiUrl(f+"json")+"?appId="+this.appId+"&viewId="+E;window.open(s,"_blank","")}getPolymorphism(){return this.http.get(this.apiUrl(S),{params:{appId:this.appId}})}getUsage(E){return this.http.get(this.apiUrl(G),{params:{appId:this.appId,guid:E}})}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=t.xGo(C)))(d||C)}})()}static{this.\u0275prov=t.jDH({token:C,factory:C.\u0275fac})}}return C})()},5959:(N,T,a)=>{a.d(T,{h:()=>B,z:()=>_});var l=a(271),t=a(5445),f=a(6474),b=a(9148);const _="admin/field/all",d=t.X6+"SetTitle",D="admin/field/GetSharedFields";let B=(()=>{class M extends f.D{paramsAppId(r={}){return{params:{appid:this.appId,...r}}}typeListRetrieve(){return this.http.get(this.apiUrl("admin/field/DataTypes"),this.paramsAppId())}getInputTypesList(){return this.http.get(this.apiUrl("admin/field/InputTypes"),this.paramsAppId()).pipe((0,l.T)(r=>r.map(h=>({dataType:h.Type.substring(0,h.Type.indexOf("-")),inputType:h.Type,label:h.Label,description:h.Description,isDefault:h.IsDefault,isObsolete:h.IsObsolete,isRecommended:h.IsRecommended,obsoleteMessage:h.ObsoleteMessage,icon:h.IsDefault?"star":h.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl("admin/field/ReservedNames"))}getFields(r){return this.http.get(this.apiUrl(_),this.paramsAppId({staticName:r})).pipe((0,l.T)(g=>{if(g)for(const h of g){if(!h.Metadata)continue;const P=h.Metadata;P.merged={...P.All,...P[h.Type],...P[h.InputType]}}return g}))}getShareableFields(){return this.http.get(this.apiUrl(D),this.paramsAppId())}getShareableFieldsFor(r){return this.#t(D,r)}getAncestors(r){return this.#t("admin/field/GetAncestors",r)}getDescendants(r){return this.#t("admin/field/GetDescendants",r)}#t(r,g){return this.http.get(this.apiUrl(r),this.paramsAppId({attributeId:g}))}addInheritedField(r,g,h,P){return this.http.post(this.apiUrl("admin/field/AddInheritedField"),null,this.paramsAppId({contentTypeId:r.toString(),sourceType:g,sourceField:h,name:P}))}share(r,g=!0){return this.http.post(this.apiUrl("admin/field/Share"),null,{params:{appid:this.appId,attributeId:r.toString(),share:g}})}inherit(r,g){return this.http.post(this.apiUrl("admin/field/Inherit"),null,{params:{appid:this.appId,attributeId:r.toString(),inheritMetadataOf:g}})}reOrder(r,g){return this.http.post(this.apiUrl("admin/field/Sort"),null,{params:{appid:this.appId,contentTypeId:g.Id.toString(),order:JSON.stringify(r)}})}setTitle(r,g){return this.http.post(this.apiUrl(d),null,{params:{appid:this.appId,contentTypeId:g.Id.toString(),attributeId:r.Id.toString()}})}rename(r,g,h){return this.http.post(this.apiUrl("admin/field/Rename"),null,{params:{appid:this.appId,contentTypeId:g.toString(),attributeId:r.toString(),newName:h}})}delete(r,g){if(r.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl("admin/field/Delete"),{params:{appid:this.appId,contentTypeId:g.Id.toString(),attributeId:r.Id.toString()}})}add(r,g){return this.http.post(this.apiUrl("admin/field/Add"),null,{params:{AppId:this.appId,ContentTypeId:g.toString(),Id:r.Id.toString(),Type:r.Type,InputType:r.InputType,StaticName:r.StaticName,IsTitle:r.IsTitle.toString(),Index:r.SortOrder.toString()}})}updateInputType(r,g,h){return this.http.post(this.apiUrl("admin/field/InputType"),null,{params:{appId:this.appId,attributeId:r,field:g,inputType:h}})}static{this.\u0275fac=(()=>{let r;return function(h){return(r||(r=b.xGo(M)))(h||M)}})()}static{this.\u0275prov=b.jDH({token:M,factory:M.\u0275fac})}}return M})()},693:(N,T,a)=>{function l(f){return new Promise((b,_)=>{const m=new FileReader;m.readAsDataURL(f),m.onload=()=>{b(m.result.split(",")[1])},m.onerror=S=>{_(S)}})}function t(f){return new Promise((b,_)=>{const m=new FileReader;m.readAsText(f),m.onload=()=>{b(m.result)},m.onerror=S=>{_(S)}})}a.d(T,{d:()=>t,n:()=>l})},6256:(N,T,a)=>{a.d(T,{Y:()=>C,k:()=>x});var l=a(9148),t=a(5060),f=a(2102),b=a(316);let _=0;const m="mat-badge-content",S=new Set;let G=(()=>{class v{static{this.\u0275fac=function(d){return new(d||v)}}static{this.\u0275cmp=l.VBU({type:v,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(d,y){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-app-error));color:var(--mat-badge-text-color, var(--mat-app-on-error));font-family:var(--mat-badge-text-font, var(--mat-app-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-app-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-app-corner-full))}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color, var(--mat-app-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size);padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size);padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size);padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}}return v})(),x=(()=>{class v{get color(){return this._color}set color(s){this._setColor(s),this._color=s}get content(){return this._content}set content(s){this._updateRenderedContent(s)}get description(){return this._description}set description(s){this._updateDescription(s)}constructor(s,d,y,O,u){this._ngZone=s,this._elementRef=d,this._ariaDescriber=y,this._renderer=O,this._animationMode=u,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=_++,this._isInitialized=!1,this._interactivityChecker=(0,l.WQX)(f.Z7),this._document=(0,l.WQX)(b.qQ);const D=(0,l.WQX)(l.o8S);if(!S.has(D)){S.add(D);const F=(0,l.a0P)(G,{environmentInjector:(0,l.WQX)(l.uvJ)});D.onDestroy(()=>{S.delete(D),F.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const s=this._renderer.createElement("span"),d="mat-badge-active";return s.setAttribute("id",`mat-badge-content-${this._id}`),s.setAttribute("aria-hidden","true"),s.classList.add(m),"NoopAnimations"===this._animationMode&&s.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(s),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{s.classList.add(d)})}):s.classList.add(d),s}_updateRenderedContent(s){const d=`${s??""}`.trim();this._isInitialized&&d&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=d),this._content=d}_updateDescription(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!s||this._isHostInteractive())&&this._removeInlineDescription(),this._description=s,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,s):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(s){const d=this._elementRef.nativeElement.classList;d.remove(`mat-badge-${this._color}`),s&&d.add(`mat-badge-${s}`)}_clearExistingBadges(){const s=this._elementRef.nativeElement.querySelectorAll(`:scope > .${m}`);for(const d of Array.from(s))d!==this._badgeElement&&d.remove()}static{this.\u0275fac=function(d){return new(d||v)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(f.vr),l.rXU(l.sFG),l.rXU(l.bc$,8))}}static{this.\u0275dir=l.FsC({type:v,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(d,y){2&d&&l.AVh("mat-badge-overlap",y.overlap)("mat-badge-above",y.isAbove())("mat-badge-below",!y.isAbove())("mat-badge-before",!y.isAfter())("mat-badge-after",y.isAfter())("mat-badge-small","small"===y.size)("mat-badge-medium","medium"===y.size)("mat-badge-large","large"===y.size)("mat-badge-hidden",y.hidden||!y.content)("mat-badge-disabled",y.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",l.L39],disabled:[2,"matBadgeDisabled","disabled",l.L39],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",l.L39]},standalone:!0,features:[l.GFd]})}}return v})(),C=(()=>{class v{static{this.\u0275fac=function(d){return new(d||v)}}static{this.\u0275mod=l.$C({type:v})}static{this.\u0275inj=l.G2t({imports:[f.Pd,t.yE,t.yE]})}}return v})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.02.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_component_ts-p-0529b1.3441a5090c7defe6.js.map
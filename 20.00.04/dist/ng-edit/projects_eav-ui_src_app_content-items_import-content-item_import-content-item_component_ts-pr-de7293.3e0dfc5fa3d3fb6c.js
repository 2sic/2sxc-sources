"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-de7293"],{336:(I,f,e)=>{e.d(f,{F:()=>P});var i=e(46443),c=e(14600),_=e(36647),s=e(70271),m=e(78742),a=e(70693),r=e(34435),v=e(9234),d=e(24467),u=e(99293),O=e(44444);const C={getAll:!0,getAllLive:!0,getAllOnce:!0};let P=(()=>{class p extends d.B{constructor(){super(...arguments),this.log=(0,r.Tq)({ContentItemsService:p},C)}getAllPromise(h){return this.log.fnIf("getAll",{contentTypeStaticName:h}),this.fetchPromise(v.Gg,{params:{appId:this.appId,contentType:h}})}getAllOnce(h){return this.log.fnIf("getAllOnce",{contentTypeStaticName:h}),(0,i.fx)(()=>({url:this.apiUrl(v.Gg),params:{appId:this.appId,contentType:h}}))}getAllLive(h,l){return this.log.fnIf("getAllLive",{contentTypeStaticName:h,refresh:l}),(0,i.fx)(()=>(l(),{url:this.apiUrl(v.Gg),params:{appId:this.appId,contentType:h}}))}getColumnsPromise(h){return this.fetchPromise(m.z,{params:{appId:this.appId,staticName:h}})}importItem(h){return(0,c.H)((0,a.n)(h)).pipe((0,_.n)(l=>this.http.post(this.apiUrl(v.gb+"upload"),{AppId:this.appId,ContentBase64:l})),(0,s.T)(l=>({Success:l,Messages:[]})))}static#t=this.\u0275fac=(()=>{let h;return function(M){return(h||(h=u.xGo(p)))(M||p)}})();static#e=this.\u0275prov=O.jDH({token:p,factory:p.\u0275fac})}return p})()},27295:(I,f,e)=>{e.d(f,{E:()=>_});var i=e(44444);let _=(()=>{class s{isErrorState(a,r){return!!(a&&a.invalid&&(a.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||s)};static \u0275prov=i.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},31016:(I,f,e)=>{e.d(f,{M:()=>a});var i=e(39539),c=e(99293),_=e(44444),s=e(87698),m=e(8126);let a=(()=>{class r{static \u0275fac=function(u){return new(u||r)};static \u0275mod=c.$C({type:r});static \u0275inj=_.G2t({imports:[m.M,i.w5,s.j,m.M]})}return r})()},60850:(I,f,e)=>{e.d(f,{_:()=>i});class i{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(_,s,m,a,r){this._defaultMatcher=_,this.ngControl=s,this._parentFormGroup=m,this._parentForm=a,this._stateChanges=r}updateErrorState(){const _=this.errorState,s=this._parentFormGroup||this._parentForm,m=this.matcher||this._defaultMatcher,a=this.ngControl?this.ngControl.control:null,r=m?.isErrorState(a,s)??!1;r!==_&&(this.errorState=r,this._stateChanges.next())}}},66754:(I,f,e)=>{e.r(f),e.d(f,{ImportContentItemComponent:()=>a});var i=e(81863),c=e(12938),_=e(13550),s=e(336),m=e(99293);let a=(()=>{class r{constructor(d){this.uploadType=_.HL.ContentItem,this.contentItemsService=(0,c.d)(s.F),d.title??="Import Single Item",d.description??="Select an item file (json) from your computer to import.",d.allowedFileTypes??="json",d.upload$??=u=>this.contentItemsService.importItem(u[0])}static#t=this.\u0275fac=function(u){return new(u||r)(m.rXU(i.e))};static#e=this.\u0275cmp=m.VBU({type:r,selectors:[["app-import-content-item"]],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(u,O){1&u&&m.nrm(0,"app-file-upload-dialog",0),2&u&&m.Y8G("uploadType",O.uploadType)},dependencies:[_.jj],encapsulation:2})}return r})()},69914:(I,f,e)=>{e.d(f,{$:()=>_});var i=e(99293),c=e(80436);let _=(()=>{class s{constructor(a){this.sanitizer=a}transform(a){return this.sanitizer.bypassSecurityTrustHtml(a)}static#t=this.\u0275fac=function(r){return new(r||s)(i.rXU(c.up,16))};static#e=this.\u0275pipe=i.EJ8({name:"safeHtml",type:s,pure:!0})}return s})()},93840:(I,f,e)=>{e.d(f,{An:()=>T,m_:()=>h});var i=e(99293),c=e(44444),_=e(37580),s=e(27092),m=e(64334),a=e(50069),r=e(8126);const v=["*"],d=new c.nKC("MAT_ICON_DEFAULT_OPTIONS"),u=new c.nKC("mat-icon-location",{providedIn:"root",factory:function O(){const l=(0,c.WQX)(c.qQL),M=l?l.location:null;return{getPathname:()=>M?M.pathname+M.search:""}}}),C=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],P=C.map(l=>`[${l}]`).join(", "),p=/^url\(['"]?#(.*?)['"]?\)$/;let T=(()=>{class l{_elementRef=(0,c.WQX)(i.aKT);_iconRegistry=(0,c.WQX)(a.M);_location=(0,c.WQX)(u);_errorHandler=(0,c.WQX)(c.zcH);_defaultColor;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(n){const t=this._cleanupFontValue(n);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(n){const t=this._cleanupFontValue(n);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=s.yU.EMPTY;constructor(){const n=(0,c.WQX)(new _.ES_("aria-hidden"),{optional:!0}),t=(0,c.WQX)(d,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),n||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const t=n.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let t=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const o=n.childNodes[t];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),t.forEach(o=>n.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const t=this._elementsWithExternalReferences;t&&t.forEach((o,E)=>{o.forEach(g=>{E.setAttribute(g.name,`url('${n}#${g.value}')`)})})}_cacheChildrenWithExternalReferences(n){const t=n.querySelectorAll(P),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let E=0;E<t.length;E++)C.forEach(g=>{const y=t[E],A=y.getAttribute(g),S=A?A.match(p):null;if(S){let D=o.get(y);D||(D=[],o.set(y,D)),D.push({name:g,value:S[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[t,o]=this._splitIconName(n);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe((0,m.s)(1)).subscribe(E=>this._setSvgElement(E),E=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${o}! ${E.message}`))})}}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=i.VBU({type:l,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,o){2&t&&(i.BMQ("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),i.HbH(o.color?"mat-"+o.color:""),i.AVh("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:[2,"inline","inline",_.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:v,decls:1,vars:0,template:function(t,o){1&t&&(i.NAR(),i.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return l})(),h=(()=>{class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=i.$C({type:l});static \u0275inj=c.G2t({imports:[r.M,r.M]})}return l})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.04/dist/ng-edit/projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-de7293.3e0dfc5fa3d3fb6c.js.map
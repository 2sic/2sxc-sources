"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts"],{43758:(I,m,n)=>{n.d(m,{F:()=>g});var f=n(87945),r=n(37580),u=n(31016),e=n(99293),h=n(44444),E=n(87698);const C=["*"],M=i=>({"hint-box__short":i});function v(i,p){1&i&&e.eu8(0)}function O(i,p){if(1&i&&(e.j41(0,"mat-hint"),e.DNE(1,v,1,0,"ng-container",2),e.k0s()),2&i){e.XpG();const _=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",_)}}function P(i,p){1&i&&e.eu8(0)}function t(i,p){if(1&i&&(e.j41(0,"mat-error"),e.DNE(1,P,1,0,"ng-container",2),e.k0s()),2&i){e.XpG();const _=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",_)}}function D(i,p){1&i&&e.SdG(0)}let g=(()=>{class i{constructor(){this.isError=(0,r.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static#t=this.\u0275fac=function(c){return new(c||i)};static#e=this.\u0275cmp=e.VBU({type:i,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},ngContentSelectors:C,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(c,o){if(1&c){const d=e.RV6();e.NAR(),e.j41(0,"div",1),e.bIt("click",function(){return h.eBV(d),h.Njj(o.toggleIsShort())}),e.nVh(1,O,2,1,"mat-hint")(2,t,2,1,"mat-error"),e.k0s(),e.DNE(3,D,1,0,"ng-template",null,0,e.C5r)}if(2&c){let d;e.Y8G("ngClass",e.eq3(2,M,o.isShort)),e.R7$(),e.vxM(!1===(d=o.isError())?1:!0===d?2:-1)}},dependencies:[u.M,E.c,E.b,f.YU,f.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return i})()},47574:(I,m,n)=>{n.r(m),n.d(m,{CreateInheritedAppComponent:()=>c});var f=n(44444),r=n(34456),u=n(84175),e=n(31403),h=n(81863),E=n(31016),C=n(64043),M=n(29658),v=n(12938),O=n(43758),P=n(83583),t=n(99293),D=n(3347),g=n(87698),i=n(23731);function p(o,d){if(1&o&&(t.j41(0,"mat-option",7),t.EFF(1),t.k0s()),2&o){const l=d.$implicit;t.Y8G("value",l.Id),t.R7$(),t.SpI(" ",l.Name," ")}}function _(o,d){1&o&&(t.j41(0,"app-field-hint",8),t.EFF(1," Required "),t.k0s()),2&o&&t.Y8G("isError",!0)}let c=(()=>{class o{constructor(l,s){this.dialog=l,this.snackBar=s,this.hostClass="dialog-component",this.appsListService=(0,v.d)(P.U),this.loading=(0,f.vPA)(!1),this.inheritableApps=this.appsListService.getInheritable().value,this.form=this.buildForm()}closeDialog(){this.dialog.close()}create(){this.form.disable(),this.loading.set(!0);const l=this.form.controls.inheritId.value,s=this.inheritableApps().find(a=>a.Id===l).Name;this.snackBar.open("Creating inherited app..."),this.appsListService.create(s,l).subscribe({error:()=>{this.form.enable(),this.loading.set(!1),this.snackBar.open("Failed to create inherited app. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.form.enable(),this.snackBar.open("Created inherited app",void 0,{duration:2e3}),this.closeDialog()}})}buildForm(){return new r.J3({inheritId:new r.hs(null,[r.k0.required])})}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(h.k),t.rXU(D.UG))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-create-inherited-app"]],hostVars:1,hostBindings:function(s,a){2&s&&t.Avn("className",a.hostClass)},decls:21,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[3,"formGroup"],["color","accent",1,"eav-mat-form-field"],["formControlName","inheritId",3,"placeholder"],[3,"value"],[3,"isError"],["align","end"],["type","button","mat-raised-button","",3,"click","disabled"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"]],template:function(s,a){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3,"Create inherited App"),t.k0s()(),t.j41(4,"div",3),t.nrm(5,"router-outlet"),t.j41(6,"p"),t.EFF(7," Create an App which inherits everything (data, views, queries) from a global App. Only Apps which were specifically marked for this will be listed here, and these apps must already have been loaded into Cache. If you don't see the App you expect, make sure that has happened. "),t.k0s(),t.j41(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t.EFF(11,"Inherit App"),t.k0s(),t.j41(12,"mat-select",6),t.Z7z(13,p,2,2,"mat-option",7,t.fX1),t.k0s()(),t.nVh(15,_,2,1,"app-field-hint",8),t.k0s()(),t.j41(16,"mat-dialog-actions",9)(17,"button",10),t.bIt("click",function(){return a.closeDialog()}),t.EFF(18," Cancel "),t.k0s(),t.j41(19,"button",11),t.bIt("click",function(){return a.create()}),t.EFF(20," Create "),t.k0s()()()),2&s&&(t.R7$(8),t.Y8G("formGroup",a.form),t.R7$(4),t.Y8G("placeholder",void 0===a.inheritableApps()?"Loading...":null===a.inheritableApps()||0===a.inheritableApps().length?"No inheritable apps found":""),t.R7$(),t.Dyx(a.inheritableApps()),t.R7$(2),t.vxM(a.form.controls.inheritId.touched&&null!=a.form.controls.inheritId.errors&&a.form.controls.inheritId.errors.required?15:-1),t.R7$(2),t.Y8G("disabled",a.loading()),t.R7$(2),t.Y8G("disabled",a.loading()||!a.form.valid))},dependencies:[M.n3,r.YN,r.qT,r.BC,r.cb,r.X1,r.j4,r.JD,E.M,g.j,g.M,C.M,C.g,i.M,e.M,h.M,u.Hl,u.$z,O.F],encapsulation:2})}return o})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.04/dist/ng-edit/projects_eav-ui_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts.7bdf6ae87f2e5464.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts"],{7574:(M,m,i)=>{i.r(m),i.d(m,{CreateInheritedAppComponent:()=>c});var e=i(9148),t=i(4456),p=i(4175),u=i(5060),f=i(7941),h=i(4950),C=i(5175),g=i(2159),E=i(2938),v=i(3758),O=i(3583),n=i(3347);function d(a,_){if(1&a&&(e.j41(0,"mat-option",7),e.EFF(1),e.k0s()),2&a){const r=_.$implicit;e.Y8G("value",r.Id),e.R7$(),e.SpI(" ",r.Name," ")}}function l(a,_){1&a&&(e.j41(0,"app-field-hint",8),e.EFF(1," Required "),e.k0s()),2&a&&e.Y8G("isError",!0)}let c=(()=>{class a{constructor(r,s){this.dialog=r,this.snackBar=s,this.hostClass="dialog-component",this.appsListService=(0,E.d)(O.U),this.loading=(0,e.vPA)(!1),this.inheritableApps=this.appsListService.getInheritable(),this.form=this.buildForm()}closeDialog(){this.dialog.close()}create(){this.form.disable(),this.loading.set(!0);const r=this.form.controls.inheritId.value,s=this.inheritableApps().find(o=>o.Id===r).Name;this.snackBar.open("Creating inherited app..."),this.appsListService.create(s,r).subscribe({error:()=>{this.form.enable(),this.loading.set(!1),this.snackBar.open("Failed to create inherited app. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.form.enable(),this.snackBar.open("Created inherited app",void 0,{duration:2e3}),this.closeDialog()}})}buildForm(){return new t.J3({inheritId:new t.hs(null,[t.k0.required])})}static{this.\u0275fac=function(s){return new(s||a)(e.rXU(f.CP),e.rXU(n.UG))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-create-inherited-app"]],hostVars:1,hostBindings:function(s,o){2&s&&e.Mr5("className",o.hostClass)},standalone:!0,features:[e.aNF],decls:21,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[3,"formGroup"],["color","accent",1,"eav-mat-form-field"],["formControlName","inheritId",3,"placeholder"],[3,"value"],[3,"isError"],["align","end"],["type","button","mat-raised-button","",3,"click","disabled"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3,"Create inherited App"),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.j41(6,"p"),e.EFF(7," Create an App which inherits everything (data, views, queries) from a global App. Only Apps which were specifically marked for this will be listed here, and these apps must already have been loaded into Cache. If you don't see the App you expect, make sure that has happened. "),e.k0s(),e.j41(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),e.EFF(11,"Inherit App"),e.k0s(),e.j41(12,"mat-select",6),e.Z7z(13,d,2,2,"mat-option",7,e.fX1),e.k0s()(),e.DNE(15,l,2,1,"app-field-hint",8),e.k0s()(),e.j41(16,"mat-dialog-actions",9)(17,"button",10),e.bIt("click",function(){return o.closeDialog()}),e.EFF(18," Cancel "),e.k0s(),e.j41(19,"button",11),e.bIt("click",function(){return o.create()}),e.EFF(20," Create "),e.k0s()()()),2&s&&(e.R7$(8),e.Y8G("formGroup",o.form),e.R7$(4),e.Y8G("placeholder",void 0===o.inheritableApps()?"Loading...":null===o.inheritableApps()||0===o.inheritableApps().length?"No inheritable apps found":""),e.R7$(),e.Dyx(o.inheritableApps()),e.R7$(2),e.vxM(o.form.controls.inheritId.touched&&null!=o.form.controls.inheritId.errors&&o.form.controls.inheritId.errors.required?15:-1),e.R7$(2),e.Y8G("disabled",o.loading()),e.R7$(2),e.Y8G("disabled",o.loading()||!o.form.valid))},dependencies:[g.n3,t.YN,t.qT,t.BC,t.cb,t.X1,t.j4,t.JD,h.RG,h.rl,h.nJ,C.Ve,C.VO,u.wT,u.Sy,f.E7,p.Hl,p.$z,v.F],encapsulation:2})}}return a})()},3758:(M,m,i)=>{i.d(m,{F:()=>O});var e=i(316),t=i(9148),p=i(4950);const u=["*"],f=n=>({"hint-box__short":n});function h(n,d){1&n&&t.eu8(0)}function C(n,d){if(1&n&&(t.j41(0,"mat-hint"),t.DNE(1,h,1,0,"ng-container",2),t.k0s()),2&n){t.XpG();const l=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",l)}}function g(n,d){1&n&&t.eu8(0)}function E(n,d){if(1&n&&(t.j41(0,"mat-error"),t.DNE(1,g,1,0,"ng-container",2),t.k0s()),2&n){t.XpG();const l=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",l)}}function v(n,d){1&n&&t.SdG(0)}let O=(()=>{class n{constructor(){this.isError=(0,t.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},standalone:!0,features:[t.aNF],ngContentSelectors:u,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(c,a){if(1&c){const _=t.RV6();t.NAR(),t.j41(0,"div",1),t.bIt("click",function(){return t.eBV(_),t.Njj(a.toggleIsShort())}),t.DNE(1,C,2,1,"mat-hint")(2,E,2,1,"mat-error"),t.k0s(),t.DNE(3,v,1,0,"ng-template",null,0,t.C5r)}if(2&c){let _;t.Y8G("ngClass",t.eq3(2,f,a.isShort)),t.R7$(),t.vxM(!1===(_=a.isError())?1:!0===_?2:-1)}},dependencies:[p.RG,p.MV,p.TL,e.YU,e.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}}return n})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.06.01/dist/ng-edit/projects_eav-ui_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts.ddd031b0155e0e48.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_core_object-utilities_ts-projects_eav-ui_src_app_shared_routing_dialog-routing_servi-1c7f76"],{3620:(v,_,t)=>{function l(r,a){return a(r)}function E(r,a){return a(r)}t.d(_,{C:()=>l,z:()=>E})},8471:(v,_,t)=>{t.d(_,{c:()=>n});var l=t(2159),E=t(1567),r=t(3037),a=t(271),D=t(5057),g=t(4435),h=t(4979),p=t(7580);const u={doOnDialogClosed:!0};let n=(()=>{class i extends h.V{constructor(e,s){super(),this.router=e,this.route=s,this.log=(0,g.Tq)({DialogRoutingService:i},u)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}getParam(e){return this.route.snapshot.paramMap.get(e)}getParams(e){const s=this.route.snapshot.paramMap;return e.reduce((d,o)=>(d[o]=s.get(o),d),{})}getQueryParam(e){return this.route.snapshot.queryParamMap.get(e)}getQueryParams(e){const s=this.route.snapshot.queryParamMap;return e.reduce((d,o)=>(d[o]=s.get(o),d),{})}state(){return this.router.getCurrentNavigation().extras?.state}doOnDialogClosed(e){const s=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(()=>e())),s.end()}urlSubRoute(e){const s=this.router.createUrlTree([e],{relativeTo:this.route});return this.router.serializeUrl(s)}navPath(e,s){return this.router.navigate([e],s)}navRelative(e,s){return this.router.navigate(e,{...s,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,E.p)(e=>e instanceof l.wF),(0,r.Z)(!!this.route.snapshot.firstChild),(0,a.T)(()=>!!this.route.snapshot.firstChild),(0,D.J)(),(0,E.p)(([e,s])=>e&&!s))}static{this.\u0275fac=function(s){return new(s||i)(p.KVO(l.Ix),p.KVO(l.nX))}}static{this.\u0275prov=p.jDH({token:i,factory:i.\u0275fac})}}return i})()},9234:(v,_,t)=>{t.d(_,{Gg:()=>P,Tr:()=>e,gb:()=>i});var l=t(1567),E=t(6647),r=t(6301),a=t(271),D=t(2938),g=t(4435),h=t(6474),p=t(4839),u=t(7580);const n={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},i="admin/entity/",P="admin/entity/list";let e=(()=>{class s extends h.D{constructor(){super(...arguments),this.log=(0,g.Tq)({EntityService:s},n),this.queryService=(0,D.d)(p.c)}getEntities$(o){return this.log.fnIf("getEntities"),o.pipe((0,l.p)(c=>null!=c),(0,E.n)(c=>this.getAvailableEntities(c.contentTypeName).pipe((0,r.t)(1))))}getAvailableEntities(o,c){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[o],itemIds:c,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,a.T)(f=>f.Default))}delete(o,c,O,f,M,m){return this.log.fnIf("delete",{appId:o,contentType:c,entityId:O,force:f,parentId:M,parent}),this.http.delete(this.apiUrl(i+"delete"),{params:{contentType:c,id:O.toString(),appId:o,force:f.toString(),...M&&{parentId:M.toString()},...M&&m&&{parentField:m}}})}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=u.xGo(s)))(O||s)}})()}static{this.\u0275prov=u.jDH({token:s,factory:s.\u0275fac})}}return s})()},4839:(v,_,t)=>{t.d(_,{c:()=>g});var l=t(4435),E=t(8873),r=t(7580),a=t(6443);const D={all:!1,getAvailableEntities:!1,getEntities:!1};let g=(()=>{class h{constructor(u,n){this.http=u,this.context=n,this.log=(0,l.Tq)({QueryService:h},D)}getFromQuery(u,n,i,P){this.log.fnIf("getAvailableEntities",{queryUrl:u,params:n,fields:i,entitiesFilter:P});const e=!!n,c=(((n?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(e?`&${n}`:"")+"&$select="+(i??"")).substring(1);return this.http.post(`app/auto/query/${u}?${c}`,{Guids:P})}getEntities({contentTypes:u,itemIds:n,fields:i,log:P}){this.log.fnIf("getEntities",{log:P,contentTypes:u,itemIds:n,fields:i});const s=("&typeNames="+(u?.join(",")??"")+`&appId=${this.context.appId}&itemIds=`+(n?.join(",")??"")+"&$select="+(i??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${s}`,{})}static{this.\u0275fac=function(n){return new(n||h)(r.KVO(a.Qq),r.KVO(E.o))}}static{this.\u0275prov=r.jDH({token:h,factory:h.\u0275fac})}}return h})()},4979:(v,_,t)=>{t.d(_,{V:()=>r});var l=t(7092),E=t(7580);let r=(()=>{class a{constructor(){this.subscriptions=new l.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(h){return new(h||a)}}static{this.\u0275prov=E.jDH({token:a,factory:a.\u0275fac})}}return a})()},5932:(v,_,t)=>{t.r(_),t.d(_,{visualQueryRoutes:()=>r});var l=t(4079),E=t(1195);const r=[{path:"",loadComponent:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_field-hint_field-hint_component_ts-projects-4b7e0b"),t.e("common"),t.e("projects_eav-ui_src_app_visual-query_visual-query_component_ts-node_modules_lodash-es__arrayE-ac6327")]).then(t.bind(t,3717)).then(a=>a.VisualQueryComponent),children:[l.N5.route,...E.Ed]}]}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.07.00/dist/ng-edit/projects_core_object-utilities_ts-projects_eav-ui_src_app_shared_routing_dialog-routing_servi-1c7f76.d433ba124efb1961.js.map
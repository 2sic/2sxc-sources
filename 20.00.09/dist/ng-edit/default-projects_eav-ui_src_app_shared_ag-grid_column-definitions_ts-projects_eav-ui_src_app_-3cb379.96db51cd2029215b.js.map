{"version":3,"file":"default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379.96db51cd2029215b.js","mappings":"sOAsCIA,GAAwB,MAC1BC,YAAYC,EAAUC,EAAKC,EAAcC,EAAiBC,EAAkBC,GAC1EC,KAAKC,OAAS,EAEdD,KAAKE,eAAgB,EAErBF,KAAKG,YAAc,CAAC,EACpBH,KAAKN,SAAWA,EAChBM,KAAKL,IAAMA,EACXK,KAAKJ,aAAeA,EACpBI,KAAKH,gBAAkBA,EACvBG,KAAKD,MAAQA,EACbC,KAAKF,iBAAmBA,EACxBE,KAAKN,SAASU,OAAQ,EACtBJ,KAAKN,SAASW,OAAQ,EACtBL,KAAKN,SAASY,GAjBC,eAkBfN,KAAKN,SAASa,gBAAkB,GAChCP,KAAKN,SAASc,mBAAqB,GACnCR,KAAKN,SAASe,kBAAoB,GAClCT,KAAKN,SAASgB,uBAAyB,GACvCV,KAAKN,SAASiB,oBAAsB,EACtC,CACAC,oBACE,SAAOC,OAAab,KAAKG,YAC3B,CACAW,WAAWR,GACT,OAAON,KAAKG,YAAYG,EAC1B,CACAS,WAAWC,GACT,GAAuB,iBAAZA,EAET,YADAC,SAAU,6BAGZjB,KAAKE,eAAgB,EACrBF,KAAKkB,kCAAkCF,GACvC,MAAMtB,EAAWM,KAAKN,SAChByB,EAAUnB,KAAKN,SAASyB,QAC9BzB,EAASiB,oBAAsB,KAC/BjB,EAASc,mBAAqB,KAC9Bd,EAASgB,uBAAyB,KAClChB,EAASe,kBAAoB,KAC7Bf,EAAS0B,eAAiB,KAC1B1B,EAAS2B,oBACTrB,KAAKC,OAAS,EACdD,KAAKG,YAAc,CAAC,EAChBa,EACFtB,EAASa,gBAAkBS,EAAQM,IACjC,CAACC,EAAUC,IAAUxB,KAAKyB,WAAWF,EAAUvB,KAAKN,SAhD5C,EAgDiE8B,KAG3E9B,EAASa,gBAAkB,GAC3Bb,EAASc,mBAAqB,IAE5BW,IACFA,EAAQR,oBAAsBjB,EAASiB,oBACvCQ,EAAQX,mBAAqBd,EAASc,mBACtCW,EAAQT,uBAAyBhB,EAASgB,uBAC1CS,EAAQV,kBAAoBf,EAASe,kBACrCU,EAAQC,eAAiB1B,EAAS0B,eAClCD,EAAQZ,gBAAkBb,EAASa,gBAEvC,CACAmB,cAAcC,GACZ3B,KAAKE,eAAgB,EACrBF,KAAKkB,kCAAkCS,EAAYC,KACnD,MAAMC,EAAsB,CAC1BC,mBAAoB,CAAEC,OAAQ,GAAIC,OAAQ,GAAIJ,IAAK,IACnDK,cAAc,GAEVC,EAAkB,GACxB,OAAAlC,KAAKmC,cAAcR,EAAaE,EAAqBK,GACrDlC,KAAKoC,cAAcT,EAAaE,EAAqBK,GACrDlC,KAAKqC,WAAWV,EAAaE,GAC7B7B,KAAKsC,gBAAgBJ,EAAiB,kBAC/BL,CACT,CAOAU,0BAA0BvB,GACxB,MAAMwB,EAAOxC,KAAKN,SAASa,gBACrBkC,EAAaD,GAAME,QAAU,EAC7BC,EAAiC,IAAIC,IAC3C,IAAIC,GAAuB,EACvBC,GAAsB,EAC1B,QAASC,EAAI,EAAGA,EAAIN,IAAcM,EAAG,CACnC,MAAMC,EAAMR,EAAKO,GACXE,EAAOD,EAAIC,KACbA,IAASjC,EAAQ+B,KACfD,EAAsB,IACxBD,EAAuBE,GAEzBD,EAAsBC,EACtBJ,EAAeO,IAAID,EAAMD,GAE7B,CACA,GAAIH,EAAuB,EACzB,OAAO,EAET,QAASE,EAAIF,EAAsBE,GAAKD,IAAuBC,EAAG,CAChE,MAAMC,EAAML,EAAeQ,IAAInC,EAAQ+B,SAC3B,IAARC,IACFR,EAAKO,GAAKC,EACVA,EAAII,eAAiBL,EAEzB,CACA,OAAO,CACT,CACAM,kBACE,OAAOrD,KAAKE,aACd,CACAgB,kCAAkCF,GAChChB,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,uBACNC,aAAcxC,GAAS0B,OAAS1B,EAAQ,GAAK,MAEjD,CACAsB,gBAAgBJ,EAAiBuB,GAC/B,MAAMC,EAAmBxB,EAAgBQ,OAAS,EAC9CgB,GACF1D,KAAKF,iBAAiB6D,iBAAiB,CACrCC,UAAU,EACVC,MAAO3B,EACP4B,uBAAuB,EACvBL,WAGJzD,KAAKF,iBAAiBiE,mCAAmCN,GACrDC,GACF1D,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,mBACNE,UAGN,CACApB,WAAWV,EAAaqC,GACtB,MAAMpC,EAAMD,EAAYC,IACxB,MAAIqC,OAAgBrC,GAClB,OAEF,MAAMrB,EAAkBP,KAAKN,SAASa,gBACtC,IAAI2D,EAAW3D,EAAgBmC,OAC/B,GAAoC,iBAAzBf,EAAYuC,WACrBA,EAAWlE,KAAKmE,iBAAiBxC,EAAYuC,UACzCA,EAAW,GACMlE,KAAKL,IAAIwD,IAAI,aAE9B,QAASJ,EAAI,EAAGA,EAAIxC,EAAgBmC,OAAQK,IAE1C,GADaxC,EAAgBwC,IACnBqB,UAAYF,EAAW,EAAG,CAClCA,EAAWnB,EAAI,EACf,KACF,CAKR,MAAMsB,EAAWzC,EAAIN,IACnB,CAACgD,EAAM9C,IAAUxB,KAAKyB,WAAW6C,EAAMtE,KAAKN,SAlKlC,EAkKuDwE,EAAW1C,IAE9E,GAAI0C,EAAW3D,EAAgBmC,OAAQ,CACrC,MAAM6B,EAAmBhE,EAAgBiE,MAAM,EAAGN,GAC5CO,EAAkBlE,EAAgBiE,MAAMN,EAAU3D,EAAgBmC,QAClEgC,GAA4BH,EAAiB7B,OAAS2B,EAAS3B,OACrE,QAASlB,GAAQ,EAAGkB,EAAS+B,EAAgB/B,OAAQlB,GAAQkB,IAAUlB,GACrEiD,EAAgBjD,IAAO4B,eAAiBsB,GAA4BlD,GAEtExB,KAAKN,SAASa,gBAAkB,IAAIgE,KAAqBF,KAAaI,GACtET,EAAO/B,cAAe,CACxB,MACEjC,KAAKN,SAASa,gBAAkBA,EAAgBoE,OAAON,GAEzD,MAAMlD,EAAUnB,KAAKN,SAASyB,QAC1BA,IACFA,EAAQZ,gBAAkBA,GAE5ByD,EAAOlC,mBAAmBF,IAAMyC,CAClC,CACAF,iBAAiBD,GACf,MAAMU,EAAmB5E,KAAKN,SAASa,iBAAiBmC,QAAU,EAClE,OAAIwB,EAAW,GAAKA,GAAYU,GAAoBC,OAAOC,MAAMZ,GACxDU,EAEFG,KAAKC,KAAKd,EACnB,CACA/B,cAAcR,GAAeG,sBAAsBI,GACjD,MAAQH,UAAWJ,EACnB,MAAIsC,OAAgBlC,GAClB,OAEF,MAAMkD,EAAgB,CAAC,EACvBlD,EAAOmD,QAASZ,IACd,MAAMa,EAAUnF,KAAKoF,cAAcd,GAC9Ba,IAGDA,EAAQE,cACVnD,EAAgBoD,KAAKH,GAEvBA,EAAQI,yBACRN,EAAcE,EAAQ7E,KAAM,SACrBN,KAAKG,YAAYgF,EAAQ7E,IAChCwB,EAAmBC,OAAOuD,KAAKH,GAAO,GAExCnF,KAAKN,SAASa,gBAAkBP,KAAKN,SAASa,iBAAiBiF,OAAQL,IAAaF,EAAcE,EAAQ7E,MAAQ,KAClHN,KAAKN,SAASa,iBAAiB2E,QAAQ,CAACO,EAAMC,KAC5CD,EAAKrC,eAAiBsC,IAExB,MAAMvE,EAAUnB,KAAKN,SAASyB,QAC1BA,IACFA,EAAQZ,gBAAkBP,KAAKN,SAASa,gBAE5C,CACA6B,cAAcT,GAAeG,sBAAsBI,GACjD,MAAQF,UAAWL,GACnB,EAAIsC,OAAgBjC,IAGpBA,EAAOkD,QAASZ,IACd,MAAMa,EAAUnF,KAAKoF,cAAcd,GAC9Ba,IAGLA,EAAQQ,WAAWrB,IACda,EAAQS,YAAcT,EAAQE,cACjCnD,EAAgBoD,KAAKH,GAEvBnF,KAAK6F,gBAAgBV,EAASb,EAvOpB,GAuOqC,GAC/CxC,EAAmBE,OAAOsD,KAAKH,GAAO,EAE1C,CACAC,cAAcnC,GACZ,MAAM6C,KAAeC,OAAkB/F,KAAKL,KAC5C,IAAIwF,EACJ,GAAIW,EAAc,CAChB,MAAMxF,EAAKwF,EAAa,CAAE7C,OAAM5C,MAAO,IAEvC,GADA8E,EAAUnF,KAAKG,YAAYG,IACtB6E,EACHa,gBAAW,yBAAyB1F,0CAC7B,IAEX,SACE6E,EAAUnF,KAAKN,SAASa,iBAAiB0F,KAAMR,GAASA,EAAKxC,OAASA,IACjEkC,EACHa,gBAAW,mDAAoD/C,IAAI,EACnE+C,OAAW,mEACJ,KAGX,OAAOb,GAAW,IACpB,CACA1D,WAAWF,EAAU2E,EAAQ7F,EAAO+C,GAClC,MAAMqC,EAAO,IAAIU,MAAQnG,KAAKD,OAC9B0F,SAAKrC,eAAiBA,EACtBqC,EAAKrF,OAAQ,EACbJ,KAAK6F,gBAAgBJ,EAAMlE,EAAUlB,GAAO,GACxC6F,IACFT,EAAKS,OAASA,GAEhBT,EAAKpF,MAAQA,EACboF,EAAKW,aAAa7E,EAAUvB,KAAKC,OAAOoG,YACpCrG,KAAKG,YAAYsF,EAAKnF,MAAE,EAC1BW,OACE,sBAAsBwE,EAAKnF,8EAG/BN,KAAKG,YAAYsF,EAAKnF,IAAMmF,EAC5BzF,KAAKC,SACEwF,CACT,CACAI,gBAAgBV,EAASlC,EAAM5C,EAAOiG,GAEpC,GADmBtG,KAAKL,IAAIwD,IAAI,YAE9BgC,EAAQoB,WAAU,GACdD,IACFnB,EAAQqB,UAAW,OAEhB,CAEL,GADqBxG,KAAKL,IAAIwD,IAAI,gBAChB,CAChB,MAAMsD,EAAkBzG,KAAKL,IAAIwD,IAAI,eAEnCgC,EAAQoB,WADNE,GACgBA,EAAgBxD,GAItC,MACEkC,EAAQoB,WAAU,GAEpB,GAAID,EAAa,CACf,MAAMI,EAAkB1G,KAAKH,gBAAgB8G,qBAG7CxB,EAAQqB,WAAWrB,EAAQyB,QAAS5G,KAAK6G,WADlBxG,GADIqG,EAAkBA,EAAgBhE,OAAS,GAGxE,CACF,CACF,CACAmE,WAAWxG,GACT,MAAMyG,EAAkB9G,KAAKL,IAAIwD,IAAI,wBACrC,OAAwB,IAApB2D,GAGGzG,EAAQyG,CACjB,GAojDEC,GAAU,SAGVC,MAA+BC,OAAc,CAC/CC,QAASH,GACTI,WAAY,GAAGC,MAAYC,gCAC3BC,SAAU,aACVvH,MAAO,CAvjDgB,cAAcwH,MACrC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,WAChB1H,KAAK2H,gCAA+BC,OAAU5H,KAAK6H,mBAAmBC,KAAK9H,MAAO,KAClFA,KAAK+H,cAAgB,GAErB/H,KAAKgI,YAAa,EAElBhI,KAAKiI,8BAA+B,EAOpCjI,KAAKkI,mBAAoB,EACzBlI,KAAKE,eAAgB,CACvB,CACAiI,UAAUpI,GACRC,KAAKD,MAAQA,EACbC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAKH,gBAAkBE,EAAMF,gBAC7BG,KAAKF,iBAAmBC,EAAMD,iBAC9BE,KAAKqI,WAAatI,EAAMsI,WACxBrI,KAAKsI,YAAcvI,EAAMuI,YACzBtI,KAAKuI,YAAcxI,EAAMwI,YACzBvI,KAAKwI,UAAYzI,EAAMyI,UACvBxI,KAAKyI,aAAe1I,EAAM0I,aAC1BzI,KAAK0I,WAAa3I,EAAM2I,WACxB1I,KAAK2I,iBAAmB5I,EAAM4I,iBAC9B3I,KAAK4I,WAAa7I,EAAM6I,WACxB5I,KAAK6I,sBAAwB9I,EAAM8I,qBACrC,CACAC,gBACE,MAAMC,EAAwB/I,KAAKgJ,aAAalB,KAAK9H,KAAM,CAAEiJ,KAAMC,MAAwBC,aACrFC,GAAWpJ,KAAKL,IAAIwD,IAAI,0BACxBkG,EAAwCrJ,KAAKgJ,aAAalB,KAAK9H,KAAM,CACzEiJ,KAAMC,MAAwBC,WAE9BG,qBAAqB,EACrBC,kBAAkB,EAElBH,YAEFpJ,KAAKwJ,yBAAyB,CAC5BC,iBAAkBJ,EAClBK,sBAAuBX,EACvBY,mBAAoB3J,KAAK4J,eAAe9B,KAAK9H,MAC7C6J,mBAAoB7J,KAAKgJ,aAAalB,KAAK9H,KAAM,CAAEiJ,KAAMC,MAAwBY,QACjFC,cAAe/J,KAAKgK,gBAAgBlC,KAAK9H,MACzCiK,YAAajK,KAAKkK,cAAcpC,KAAK9H,MACrCmK,uBAAwBpB,EACxBqB,kBAAmBpK,KAAKqK,oBAAoBvC,KAAK9H,MACjDsK,UAAWtK,KAAKuK,YAAYzC,KAAK9H,QAEnCA,KAAKwK,uBACLxK,KAAKN,SAAW,IAAI+K,MAASzK,KAAKD,OAClCC,KAAK0K,YAAc,IAAIlL,GACrBQ,KAAKN,SACLM,KAAKL,IACLK,KAAKJ,aACLI,KAAKH,gBACLG,KAAKF,iBACLE,KAAKD,MAET,CACAyK,uBACE,MAAMG,EAA6B,IAAIC,IAAI,CAAC,WAAY,iBAClDC,EAAyC,IAAID,IAAI,CACrD,uBACA,uBACA,8BACA,uBACA,qBAEIE,EAA0C,IAAIF,IAAI,CAAC,yCACnDG,EAAyC,IAAIH,IAAI,CACrD,4CACA,iBACA,yBACA,kCAEII,EAA6C,IAAIJ,IAAI,CACzD,iBACA,6BACA,0BACA,0BACA,kBAEIK,EAAwC,IAAIL,IAAI,CACpD,eACA,mBACA,iBAEIM,EAA6C,IAAIN,IAAI,IACrDO,EAA2C,IAAIP,IAAI,CACvD,4BACA,kCACA,qBACA,kBAEIQ,EAAW,IACZT,KACAE,KACAC,KACAC,KACAA,KACAC,KACAC,KACAC,KACAC,GAELnL,KAAKqL,4BAA4BD,EAAWE,KAC1C,MAAMC,GAAaD,GAAOE,WAAWD,WACrC,IAAKA,GACH,OAEF,MAAME,EAAyBC,GAAYH,GAAWI,KAAMC,IAASF,EAAQG,IAAID,KAC7EH,EAAsBd,GACxB3K,KAAKe,WAAWf,KAAKN,SAASa,gBAAgBe,IAAKwK,GAAUA,EAAM7I,OAGjEwI,EAAsBZ,GACxB7K,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBC,aAGhDsC,EAAsBX,GACxB9K,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwB6C,SAGhDN,EAAsBV,GACxB/K,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBY,QAGhD2B,EAAsBT,GACxBhL,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwB8C,YAGhDP,EAAsBR,GACxBjL,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwB+C,OAGhDR,EAAsBP,GACxBlL,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBgD,oBAGhDT,EAAsBN,IACxBnL,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBiD,KAAK,GAG3DnM,KAAKoM,2BAA2B,YAAa,IAAMpM,KAAKqM,kBAC1D,CACAC,QACEtM,KAAKgI,YAAa,EACdhI,KAAKiI,6BACPjI,KAAKuM,iCAELvM,KAAKwM,gBAET,CACAA,iBACE,MAAMxL,EAAUhB,KAAKL,IAAIwD,IAAI,WACzBnC,IACFhB,KAAKiI,8BAA+B,EACpCjI,KAAKe,WAAWC,GAEpB,CACAyL,sBAAsBC,EAAYC,EAAUC,EAAiBC,GAC3D,IAAIC,EACAC,GAAM,EACV,EAAG,CACDD,GAAmB,EACnB,MAAME,EAAkBhN,KAAKiN,mBAAmBP,GAC1CQ,EAAgBlN,KAAKiN,mBAAmBN,GACxCQ,EAAWpI,KAAKqI,IAAIJ,EAAiBJ,GACrCS,GAAUtI,KAAKuI,IAAIJ,EAAeL,GACxC,QAASzI,GAAW+I,EAAU/I,IAAYiJ,GAASjJ,KAAY,CAC7D,MAAMe,EAAUnF,KAAKuN,OAAOnJ,IAC5B,GAAIe,EAAQqI,mBAAoB,CAC9B,MAAMC,KAAYC,OAAqB1N,KAAKL,IAAKwF,GACjDA,EAAQwI,aAAaF,EAAUG,QAC/Bd,GAAmB,EACnBC,GAAM,CACR,CACF,CACID,GACF9M,KAAK6N,sBAET,OAASf,GACT,OAAOC,CACT,CACAc,uBACE,MAAMC,EAAmB9N,KAAKsI,YAAYyF,sBAC1C,IAAIC,EAAa,EACjB,MAAMC,EAAsC,IAAIrD,IAC1CsD,KAAgBC,OAAanO,KAAKL,IAAK,UAC7C,QAASoD,EAAI,EAAGA,EAAI/C,KAAK+H,cAAcrF,OAAQK,IAAK,CAClD,MAAMoC,EAAUnF,KAAK+H,cAAchF,GAInC,GAHkB,MAAdoC,EAAQ7E,IACV2N,EAAoBrM,IAAIuD,EAAQ7E,IAET,MAArB6E,EAAQsI,UAAmB,CAC7B,MAAMA,KAAYC,OAAqB1N,KAAKL,IAAKwF,EAAS+I,EAAeJ,GACzE3I,EAAQwI,aAAaF,EAAUG,OAAQH,EAAUW,UACnD,CACAjJ,EAAQkJ,UAAUL,GAClB7I,EAAQmJ,YAAYvL,GACpBiL,GAAc7I,EAAQsI,SACxB,CACA,OAAOQ,CACT,CACA1I,uBAAuBgJ,EAAaN,GAClC,MAAMO,EAAoBD,EAAYE,WAChCC,EAAuBvJ,IACvBA,GAAyB,MAAdA,EAAQ7E,KAAe2N,EAAoBpC,IAAI1G,EAAQ7E,KACpE6E,EAAQI,wBAAuB,EAG7BoJ,EAAWxJ,IACfuJ,EAAoBvJ,GACpBuJ,EAAoBvJ,EAAQyJ,YAC5BF,EAAoBvJ,EAAQhE,SACxBgE,EAAQ0J,eACN1J,EAAQ3E,qBAEWgO,IADe,GAAjBrJ,EAAQ9E,QAC+B8E,EAAQqB,UAEhErB,EAAQ3E,mBAAmB0E,QAAQyJ,GAEvC,EAGJA,EAAQ3O,KAAKN,SACf,CAEAoP,kBAAkBC,EAAUC,EAAOC,EAAY,GAC7C,MAAMC,EAAkBlP,KAAKiN,mBAAmB+B,GAC1CG,EAAoBnP,KAAKuN,OAAO2B,GAChC9F,GAAWpJ,KAAKL,IAAIwD,IAAI,0BAC9B,GAAIgM,IAAsBJ,EAAS,GACjC,OAAO,EAET,MAAMxO,EAAkBP,KAAKN,SAASa,gBACtCwO,SAAS7J,QAASC,KAChBiK,SAAiB7O,EAAiB4E,EAAO,GAE3C4J,EAAS7J,QAAQ,CAACC,EAASO,MACzB2J,SAAiB9O,EAAiB4E,EAASJ,KAAKqI,IAAI8B,EAAkBD,EAAW,GAAKvJ,EAAG,GAE3FqJ,EAAS7J,QAAQ,CAACC,EAAS3D,KACzB2D,EAAQ/B,eAAiB5B,IAE3BxB,KAAKgJ,aAAa,CAChBC,KAAMC,MAAwBC,WAC9BI,kBAAkB,EAClB+F,iBAAiB,EACjBlG,UACAmG,sBAAsB,KAGjB,CACT,CACAC,oBAAoBrK,EAAS6J,GAC3B,MAAME,EAA2B,MAATF,EAAgBhP,KAAKiN,mBAAmB+B,GAAS,KACnEG,EAAuC,MAAnBD,EAA0BlP,KAAKuN,OAAO2B,GAAmB,KACnF,IAAKC,IAAsBhK,GAAoB,MAAT6J,EAEpC,YADAhP,KAAKyP,sBAGP,MAAMC,EAAY1P,KAAK2P,qBAAqBX,EAAOG,GAC7CS,EAAiB5P,KAAK6P,8BAA8B1K,EAASgK,EAAmBO,IAElFE,GAD+C,MAA3B5P,KAAK8P,oBAA8B9P,KAAK8P,qBAAuBX,KAErFnP,KAAKyP,sBACDG,KAINT,EAAkBY,eAAeL,GACjC1P,KAAK8P,mBAAqBX,EAC5B,CACAQ,qBAAqBX,EAAO7J,GAC1B,IAAKA,EAAS,CACZ,MAAM3D,EAAQxB,KAAKiN,mBAAmB+B,GAEtC,KADA7J,EAAUnF,KAAKuN,OAAO/L,GAAS,IAE7B,OAAOwO,MAAqBC,KAEhC,CACA,MAAQC,SAAQzC,aAActI,EAC9B,OAAO6J,EAAQkB,EAASzC,EAAY,EAAIuC,MAAqBG,MAAQH,MAAqBC,KAC5F,CACAG,4BACE,OAAOpQ,KAAK8P,kBACd,CACAD,8BAA8BQ,EAAeC,EAAgBC,GAC3D,OAAIF,IAAkBC,GAIlBtQ,KAAKuN,OAAO+C,EAAelM,UADlBmM,IAAsBP,MAAqBG,OAAQ,EAAK,MACjBE,CAItD,CACAZ,sBACMzP,KAAK8P,qBACP9P,KAAK8P,mBAAmBC,eAAe,MACvC/P,KAAK8P,mBAAqB,KAE9B,CACAU,sBACE,OAAO,CACT,CACAC,cACE,OAAIzQ,KAAK+H,cACA/H,KAAK+H,cAAcrF,OAErB,CACT,CAIAgO,sBACE,GAAkC,IAA9B1Q,KAAK+H,cAAcrF,OACrB,OAAO,EAGT,GADwB1C,KAAK+H,eAAiB/H,KAAK+H,cAAc,KAAO/H,KAAKN,SAE3E,OAAO,EAET,MAAMiR,EAAmB3Q,KAAKN,SAASgB,uBAEvC,OAAQiQ,EAAmBA,EAAiBjO,OAAS,IAD9B1C,KAAKN,SAASyB,QAAU,EAAI,EAErD,CAKAyP,6BAA6BC,GAE3B,GADwB7Q,KAAK+H,eAAiB/H,KAAK+H,cAAc,KAAO/H,KAAKN,SAE3E,OAAOmR,EAET,IAAIC,EAAgBD,EACpB,GAAI7Q,KAAK+H,cAAc,GAAGgJ,OAAQ,CAChC,GAAsB,IAAlBF,EACF,OAAO,EAETC,GAAiB,CACnB,CACA,MAAMzD,EAAUrN,KAAK+H,cAAc/H,KAAK+H,cAAcrF,OAAS,GAE/D,GAAI2K,EAAQ0D,QADoBD,GAAiB9Q,KAAKN,SAASe,kBAAkBiC,OAE/E,OAAO2K,EAAQjJ,SAEjB,IAAIe,EAAUnF,KAAKN,SAASe,kBAAkBqQ,GAC9C,GAAI9Q,KAAKL,IAAIwD,IAAI,wBACf,KAAOgC,EAAQqB,UAAYrB,EAAQ1E,mBAAqB0E,EAAQ1E,kBAAkBiC,OAAS,GACzFyC,EAAUA,EAAQ1E,kBAAkB,GAGxC,OAAO0E,EAAQf,QACjB,CACA4M,aAAaxP,GACX,MAAIyP,OAASjR,KAAK+H,eAChB,OAAO,KAET,MAAM5C,EAAUnF,KAAK+H,cAAcvG,GACnC,OAAI2D,EACK,CACL+K,OAAQ/K,EAAQ+K,OAChBzC,UAAWtI,EAAQsI,WAGhB,IACT,CACAyD,mBACE,MAAM9H,KAAU+H,OAAenR,KAAKL,KACpCK,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBiD,IAAK5C,kBAAkB,EAAMH,WACjF,CACAY,gBAAgBoH,GACd,GAAIA,EAAMC,gBACR,OAEF,MAAMjI,KAAU+H,OAAenR,KAAKL,KAE9BsJ,EADuD,IAAzBmI,EAAME,QAAQ5O,QAAgB0O,EAAME,QAAQ3F,KAAM4F,GAAQA,EAAIC,aACvDtI,MAAwB6C,OAAS7C,MAAwBgD,kBACpGlM,KAAKgJ,aAAa,CAAEC,OAAMM,kBAAkB,EAAMH,WACpD,CACAc,gBACE,MAAMd,KAAU+H,OAAenR,KAAKL,KACpCK,KAAKgJ,aAAa,CAChBC,KAAMC,MAAwB+C,KAC9B1C,kBAAkB,EAClBH,UACAkG,iBAAiB,GAErB,CACAmC,UACE,MAAO,YACT,CACA7H,iBACM5J,KAAKoI,YAAYsJ,gBACnB1R,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBY,QAElD9J,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwB8C,WAEtD,CACA2F,iBAAiBC,GACf,MAAMC,KAAiBC,OAAiBF,GAClCrD,EAAc,IAAIwD,OAAY,EAAO/R,KAAKN,UAChD,OAAImS,GACFtD,EAAYyD,cAEPzD,CACT,CACA0D,4CAA4C3G,GAI1C,IAHKtL,KAAKL,IAAIwD,IAAI,8CAGgB,MAA9BmI,EAAOsG,oBACT,OAAO,EAET,MAAMM,EAAyB5G,EAAOsG,oBAAoBpM,OACvD2M,GAAiB,MAAVA,EAAGvQ,KAAeuQ,EAAGvQ,IAAIc,OAAS,GAAkB,MAAbyP,EAAGpQ,QAAkBoQ,EAAGpQ,OAAOW,OAAS,GAGzF,OADiE,MAA1BwP,GAAmE,GAAjCA,EAAuBxP,MAElG,CACA0P,wBAAwBnJ,GACtB,IAAIoJ,EAAanJ,MAAwBC,WACzC,MAAMmJ,EAAc,CAClBC,WAAYrJ,MAAwBC,WACpC/I,MAAO8I,MAAwBC,WAC/B3D,OAAQ0D,MAAwB6C,OAChCzK,IAAK4H,MAAwBiD,IAC7BqG,UAAWtJ,MAAwB8C,UACnCyG,kBAAmBvJ,MAAwBgD,kBAC3CwG,KAAMxJ,MAAwB+C,KAC9B0G,MAAOzJ,MAAwBY,MAC/B8I,QAAS1J,MAAwB2J,SAKnC,MAHIC,OAAQ7J,KACVoJ,EAAaC,EAAYrJ,MAAI,EAE3BgI,OAASoB,GAWb,MANoB,CAClBpJ,KAAMoJ,EACN9I,kBAAkB,EAClB+F,iBAAiB,EACjBlG,SALepJ,KAAKL,IAAIwD,IAAI,4BAH5B4P,SAAY,gBAAgB9J,0BAA6B+J,OAAOC,KAAKX,GAAaY,KAAK,QAW3F,CACAlK,aAAamK,GACX,IAAKnT,KAAKgI,YAAchI,KAAKkI,mBAAqBlI,KAAKoI,YAAYgL,4BACjE,OAEF,MAAM9H,EAAiC,iBAAjB6H,GAA6B,SAAUA,EAAeA,EAAenT,KAAKoS,wBAAwBe,GAIxH,IAHK7H,GAGDtL,KAAKiS,4CAA4C3G,GACnD,OAEF,MAAMiD,EAAcvO,KAAK2R,iBAAiBrG,EAAOsG,qBAEjD,OADA5R,KAAKkI,mBAAoB,EACjBoD,EAAOrC,MACb,KAAKC,MAAwBC,WAC3BnJ,KAAKqT,cACH/H,EAAOsG,oBACPrD,IACEjD,EAAOiE,uBACPjE,EAAOhC,qBAEb,KAAKJ,MAAwB6C,OAC3B/L,KAAKsT,SAAS/E,GAChB,KAAKrF,MAAwBY,MAC3B9J,KAAKuT,QAAQhF,GACf,KAAKrF,MAAwB8C,UAC3BhM,KAAKwT,YAAYjF,GACnB,KAAKrF,MAAwBgD,kBAC3BlM,KAAKyT,mBAAmBlF,GAC1B,KAAKrF,MAAwB+C,KAC3BjM,KAAK0T,OAAOpI,EAAOsG,oBAAqBrD,GAC1C,KAAKrF,MAAwBiD,IAC3BnM,KAAK2T,kBAET,MAAMC,EAAuB5T,KAAK6N,uBAClC7N,KAAKuF,uBAAuBgJ,EAAaqF,GACzC5T,KAAKkI,mBAAoB,EACzBlI,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,eACN6F,QAASkC,EAAOlC,QAChBG,iBAAkB+B,EAAO/B,iBACzBsK,QAASvI,EAAOuI,QAChBC,SAAS,EACTC,kBAAmBzI,EAAOyI,mBAE9B,CACAC,UACE,MAAMC,KAAchD,OAASjR,KAAKN,SAASa,kBAA6D,IAAzCP,KAAKN,SAASa,gBAAgBmC,OAC7F,SAAOuO,OAASjR,KAAKN,WAAauU,IAAgBjU,KAAKoI,YAAY8L,SACrE,CACAC,iBACE,SAAOrB,OAAQ9S,KAAK+H,gBAAkB/H,KAAK+H,cAAcrF,OAAS,CACpE,CACA0R,4BAA4BC,EAAcC,GACxC,IAAIC,GAAU,EACVC,GAAW,EACf,MAAMxQ,EAAS,GACTyQ,KAAuBC,OAA4B1U,KAAKL,KAC9D,OAAAK,KAAK2U,8BAA+BxP,IAClC,IAAIqP,EAGJ,GAAID,IACEpP,IAAYmP,GAAenP,IAAYkP,KACzCG,GAAW,EACPrP,EAAQ/E,OAASqU,GACnBzQ,EAAOsB,QAAQH,EAAQ5E,qBAJ7B,CASA,IAAKgU,EAAS,CACZ,GAAIpP,IAAYmP,GAAenP,IAAYkP,EACzC,OAEFE,GAAU,CACZ,CACyBpP,EAAQ/E,OAAUqU,GAEzCzQ,EAAOsB,KAAKH,EAXV,CAaJ,GAEKnB,CACT,CAEA4Q,cAAcC,IACZ9B,SAAY,6DACd,CACA+B,mBACE,OAAO9U,KAAKN,SAAWM,KAAKN,SAASc,mBAAqB,IAC5D,CACAuU,cACE,OAAO/U,KAAKN,QACd,CACA6N,OAAO/L,GACL,OAAOxB,KAAK+H,cAAcvG,EAC5B,CACAwT,aAAa7P,GACX,OAAOnF,KAAK+H,cAAckN,QAAQ9P,IAAY,CAChD,CACA8H,mBAAmBiI,GACjB,GAAIlV,KAAKgU,WAA2C,IAA9BhU,KAAK+H,cAAcrF,OACvC,OAAO,EAET,IAAIyS,EAAgB,EAChBC,EAAapV,KAAK+H,cAAcrF,OAAS,EAC7C,GAAIwS,GAAgB,EAClB,OAAO,EAGT,MADiBG,OAAMrV,KAAK+H,eACfmI,QAAUgF,EACrB,OAAOlV,KAAK+H,cAAcrF,OAAS,EAErC,IAAI4S,GAAmB,EACnBC,GAAgB,EACpB,OAAa,CACX,MAAMC,EAAazQ,KAAK0Q,OAAON,EAAgBC,GAAc,GACvDM,EAAiB1V,KAAK+H,cAAcyN,GAU1C,GATIxV,KAAK2V,aAAaD,EAAgBR,KAGlCQ,EAAexF,OAASgF,EAC1BC,EAAgBK,EAAa,EACpBE,EAAexF,OAASgF,IACjCE,EAAaI,EAAa,GAECF,IAAqBH,GAAiBI,IAAkBH,GAEnF,OAAOI,EAETF,EAAmBH,EACnBI,EAAgBH,CAClB,CACF,CACAO,aAAaxQ,EAAS+P,GAIpB,OAHiB/P,EAAQ+K,QAEMgF,GADX/P,EAAQ+K,OAAS/K,EAAQsI,UACgByH,CAE/D,CACAU,gBAAgBC,GACV7V,KAAKN,SAASa,iBAChBP,KAAKN,SAASa,gBAAgB2E,QAAQ,CAACC,EAAS3D,IAAUqU,EAAS1Q,EAAS3D,GAEhF,CACAsU,YAAYD,EAAUE,GAAqB,GACzC/V,KAAKgW,gCAAgC,CACnCnS,MAAO,IAAI7D,KAAKN,SAASc,oBAAsB,IAC/CqV,WACAI,cAAe,EACfzU,MAAO,EACPuU,sBAEJ,CACAG,uBAAuBL,EAAUE,GAAqB,GACpD/V,KAAKgW,gCAAgC,CACnCnS,MAAO,IAAI7D,KAAKN,SAASgB,wBAA0B,IACnDmV,WACAI,cAAe,EACfzU,MAAO,EACPuU,sBAEJ,CACApB,8BAA8BkB,EAAUE,GAAqB,GAC3D/V,KAAKgW,gCAAgC,CACnCnS,MAAO,IAAI7D,KAAKN,SAASe,mBAAqB,IAC9CoV,WACAI,cAAe,EACfzU,MAAO,EACPuU,sBAEJ,CACAI,iBAAiBN,EAAUE,GAAqB,GAC9C/V,KAAKgW,gCAAgC,CACnCnS,MAAO,CAAC7D,KAAKN,UACbmW,WACAI,cAAe,EACfzU,MAAO,EACPuU,sBAEJ,CAMAC,gCAAgC1K,GAC9B,MAAQzH,QAAOgS,WAAUI,gBAAeF,sBAAuBzK,EAC/D,IAAM9J,SAAU8J,EAChB,MAAM8K,EAAcC,IAClB,MAAMC,EAAazS,EAAM,IAAIqC,OAC7B,IAAKoQ,EACH,OACF,MAAMC,GAAaR,MAAsBS,OAAkBxW,KAAKL,KAC1D8W,MAAuBC,OAA0B1W,KAAKL,KACtDgX,EAAaZ,GAAsBU,GAAqB,CAAEhR,KAAM6Q,IACnDA,IAAetW,KAAKN,SAQnCiX,IAAeN,IACjBC,EAAWM,eACXf,EAASS,EAAWnV,QAASK,MARzB+U,KAAeF,IACjBC,EAAWM,eACXf,EAASS,EAAWnV,QAASK,KAMK,EAGxC4U,EAAW,OACX,QAASrT,EAAI,EAAGA,EAAIc,EAAMnB,OAAQK,IAAK,CACrC,MAAM0C,EAAO5B,EAAMd,GAEnB,GADA8S,EAASpQ,EAAMjE,KACXiE,EAAKoJ,gBAAkBpJ,EAAKsL,OAAQ,CACtC,IAAI8F,GAAe,KACnB,OAAQZ,GACN,KAAK,EACHY,GAAepR,EAAKjF,mBACpB,MACF,KAAK,EACHqW,GAAepR,EAAK/E,uBACpB,MACF,KAAK,EACHmW,GAAepR,EAAKhF,kBACpB,MACF,KAAK,EACHoW,GAAgBpR,EAAKqR,UAAqC,KAAzBrR,EAAKhF,kBAGtCoW,KACFrV,EAAQxB,KAAKgW,gCAAgC,CAC3CnS,MAAO,IAAIgT,IACXhB,WACAI,gBACAzU,QACAuU,uBAGN,CACF,CACAK,SAAW,UACJ5U,CACT,CAGAgS,YAAYjF,GACVvO,KAAK2I,kBAAkBoO,QAAQ,CAAE5R,QAASnF,KAAKN,SAAU6O,eAC3D,CACAkF,mBAAmBlF,GACbvO,KAAK6I,sBACP7I,KAAK6I,sBAAsBkO,QAAQ,CAAE5R,QAASnF,KAAKN,SAAU6O,gBAE7DvO,KAAKN,SAASgB,uBAAyBV,KAAKN,SAASiB,mBAEzD,CAGAqW,oBAAoBC,GAClB,MAAMC,EAAgBlX,KAAKL,IAAIwD,IAAI,YAC7BgU,EAAiBnX,KAAKoI,YAAYsJ,gBAClC0F,EAA6BrI,IAC5BA,GAGLA,EAAS7J,QAASC,IAChB,MAAMkS,EAAYA,KAChBlS,EAAQqB,SAAWyQ,EACnBG,EAA0BjS,EAAQ3E,mBAAkB,EAElD0W,GAEF,EADoBpE,OAAQ3N,EAAQ3E,qBAElC6W,IAIAF,GACoBhS,EAAQ2R,WAE5BO,IAIelS,EAAQ/E,OAEzBiX,GAAU,EAEb,EAECrX,KAAKN,UACP0X,EAA0BpX,KAAKN,SAASc,oBAE1CR,KAAKgJ,aAAa,CAAEC,KAAMC,MAAwBiD,MAClDnM,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,sBACNE,OAAQwT,EAAS,YAAc,eAEnC,CACAvD,OAAO9B,EAAqBrD,GAC1BvO,KAAKwI,UAAUuO,QAAQ,CACrB5R,QAASnF,KAAKN,SACdkS,sBACArD,eAEJ,CACA8E,cAAczB,EAAqBrD,EAAagB,EAAsBjG,GACpE,GAAItJ,KAAK0I,WAEL1I,KAAK0I,WAAWqO,QADdnF,EACsB,CACtBzM,QAASnF,KAAKN,SACdkS,sBACArC,uBACAhB,eAGsB,CACtBpJ,QAASnF,KAAKN,SACd6O,cACAjF,yBACD,EAECoL,OAA4B1U,KAAKL,MACVK,KAAKF,iBAAiBiE,mCAC7C,kBACAwK,IAGAvO,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,mBACNE,OAAQ,wBAIT,CACL,MAAM/D,EAAWM,KAAKN,SAChByB,EAAUzB,EAASyB,QACzBzB,EAASc,mBAAqBd,EAASa,gBACnCY,IACFA,EAAQX,mBAAqBd,EAASc,oBAExCR,KAAKN,SAAS2B,mBAChB,CACIrB,KAAK0K,YAAYrH,oBACnBrD,KAAKE,eAAgB,EACrBF,KAAKJ,aAAa0X,kBAAkB,CAClC/T,KAAM,kBAGZ,CACA+P,SAAS/E,GACPvO,KAAKuI,YAAYwO,QAAQ,CAAE5R,QAASnF,KAAKN,SAAU6O,eACrD,CACAgF,QAAQhF,GACNvO,KAAK4I,YAAYmO,QAAQ,CAAE5R,QAASnF,KAAKN,SAAU6O,eACrD,CACAgJ,iBACE,OAAOvX,KAAK0K,WACd,CACA5J,WAAWR,GAET,GAD+B,iBAANA,GAA8D,GAA5CA,EAAG2U,QAAQxK,MAAS+M,qBAChD,CACb,IAAIzK,EACJ,OAAA/M,KAAK8V,YAAarQ,IACZA,EAAKnF,KAAOA,IACdyM,EAAMtH,KAGHsH,CACT,CACA,OAAO/M,KAAK0K,YAAY5J,WAAWR,EACrC,CAEAS,WAAWC,GACThB,KAAKF,iBAAiB2X,MAAM,kBAC5BzX,KAAK0K,YAAY3J,WAAWC,GACxBhB,KAAKgI,YACPhI,KAAKuM,gCAET,CACAA,iCACEvM,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,mBAERvD,KAAKgJ,aAAa,CAChBC,KAAMC,MAAwBC,WAC9B0K,SAAS,GAEb,CACA6D,mBAAmBC,EAAoB9B,GACrC,GAA0C,MAAtC7V,KAAK4X,8BAAuC,CAC9C5X,KAAK6X,wBAA0B,GAC/B,MAAMC,EAAa9X,KAAKL,IAAIwD,IAAI,8BAChCnD,KAAK4X,8BAAgCG,OAAOC,WAAW,KACjDhY,KAAKiY,WACPjY,KAAKkY,2BAA0B,EAEhCJ,EACL,CACA9X,KAAK6X,wBAAwBvS,KAAK,CAAEqS,qBAAoB9B,YAC1D,CACAsC,yBAC4C,MAAtCnY,KAAK4X,gCACPQ,aAAapY,KAAK4X,+BAClB5X,KAAKkY,4BAET,CACAA,4BACElY,KAAKqI,WAAWgQ,gBAChB,MAAMC,EAAqB,GACrBC,EAAe,GACrB,IAAIC,GAAe,EACnBxY,KAAK6X,yBAAyB3S,QAASuT,IACrC,MAAQ3W,qBAAoBG,gBAAiBjC,KAAK0K,YAAYhJ,cAAc+W,EAASd,oBACjF1V,IACFuW,GAAe,GAEjBD,EAAajT,KAAKxD,GACd2W,EAAS5C,UACXyC,EAAmBhT,KAAKmT,EAAS5C,SAAS/N,KAAK,KAAMhG,GAAmB,GAG5E9B,KAAK0Y,oBAAoBH,EAAcC,GACnCF,EAAmB5V,OAAS,GAC9BqV,OAAOC,WAAW,KAChBM,EAAmBpT,QAASyT,GAASA,IAAM,EAC1C,GAEDJ,EAAa7V,OAAS,GACxB1C,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,2BACNqV,QAASL,IAGbvY,KAAK6X,wBAA0B,KAC/B7X,KAAK4X,mCAAgC,CACvC,CAKAlW,cAAcC,GACZ3B,KAAKqI,WAAWgQ,gBAChB,MAAQvW,qBAAoBG,gBAAiBjC,KAAK0K,YAAYhJ,cAAcC,GAC5E,OAAA3B,KAAK0Y,oBAAoB,CAAC5W,GAAqBG,GACxCH,CACT,CAIA+W,yBAAyB/W,EAAoByN,GAC3CvP,KAAK0Y,oBAAoB,CAAC5W,GAAqByN,EACjD,CAUAmJ,oBAAoB9G,EAAqBrC,GACvC,IAAKvP,KAAKgI,WACR,OAEF,MAAMoB,GAAWpJ,KAAKL,IAAIwD,IAAI,0BAC9BnD,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,mBAERvD,KAAKgJ,aAAa,CAChBC,KAAMC,MAAwBC,WAC9ByI,sBACArC,uBACAhG,kBAAkB,EAClB+F,iBAAiB,EACjBlG,WAEJ,CACAuK,kBACE3T,KAAK+H,cAAgB/H,KAAKyI,aAAasO,QAAQ,CAAE5R,QAASnF,KAAKN,UACjE,CACAmI,qBACE7H,KAAKgJ,aAAa,CAChBC,KAAMC,MAAwBiD,IAC9B5C,kBAAkB,EAClB+F,iBAAiB,EACjByE,mBAAmB,GAEvB,CAOA+E,8BACE9Y,KAAK2H,8BACP,CACA0E,kBACE,MAAM0M,EAAa/Y,KAAKgZ,gCACxBhZ,KAAKN,SAASiO,aAAa3N,KAAKN,SAAS+N,WAAW,GAChDzN,KAAKN,SAASyB,SAChBnB,KAAKN,SAASyB,QAAQwM,aAAa3N,KAAKN,SAASyB,QAAQsM,WAAW,GAElEsL,GACF/Y,KAAK6H,oBAET,CACAmR,gCACE,IAAID,GAAa,EACjB,OAAA/Y,KAAK8V,YAAa3Q,IAChBA,EAAQwI,aAAaxI,EAAQsI,WAAW,GACxC,MAAMmB,EAAazJ,EAAQyJ,WACvBA,GACFA,EAAWjB,aAAaiB,EAAWnB,WAAW,GAE5CtI,EAAQhE,SACVgE,EAAQhE,QAAQwM,aAAaxI,EAAQhE,QAAQsM,WAAW,GAE1DsL,GAAa,IAERA,CACT,CACA1O,oBAAoB4O,GAClB,GAAIA,EAAEC,iBAAkB,CACtB,GAAIlZ,KAAKoI,YAAY+Q,wBACnB,OAEFnZ,KAAKqM,iBACP,CACF,CACA9B,cACMvK,KAAKgI,YAGThI,KAAKwM,gBACP,CACA4M,kBACE,OAAOpZ,KAAKE,aACd,CACAmZ,UACE7R,MAAM6R,UACNrZ,KAAKyP,qBACP,GAmDgB,cAAc6J,MAC9B7Z,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,aAClB,CACAS,UAAUpI,GACRC,KAAKuZ,cAAgBxZ,EAAMwZ,aAC7B,CACAxC,QAAQzL,GACN,MAAQiD,eAAgBjD,EACxBtL,KAAKwF,OAAO+I,EACd,CACA/I,OAAO+I,GACL,MAAMiL,IAAiBxZ,KAAKuZ,eAAeE,uBAC3CzZ,KAAK0Z,YAAYF,EAAcjL,EACjC,CACAmL,YAAYF,EAAcjL,GACxB,MAAMoL,EAAiBA,CAACxU,EAASyU,KAG3BzU,EAAQxE,oBAFRwE,EAAQ0J,eACN2K,IAAiBI,EACWzU,EAAQ3E,mBAAmBgF,OAAQqU,IAC/D,MAAMC,EAAsBD,EAAUlZ,qBAAuBkZ,EAAUlZ,oBAAoB+B,OAAS,EAC9FqX,EAAwBF,EAAU5W,MAAQjD,KAAKuZ,cAAcS,kBAAkB,CAAE7U,QAAS0U,IAChG,OAAOC,GAAuBC,IAMJ5U,EAAQ3E,mBAEpC2E,EAAQhE,UACVgE,EAAQhE,QAAQR,oBAAsBwE,EAAQxE,sBAGlD,GAAIX,KAAKia,yBAA0B,CACjC,MAAMC,EAA2BA,CAAC/U,EAASgV,KACzC,GAAIhV,EAAQ3E,mBACV,QAASuC,EAAI,EAAGA,EAAIoC,EAAQ3E,mBAAmBkC,OAAQK,IAAK,CAC1D,MAAM8W,EAAY1U,EAAQ3E,mBAAmBuC,GACvCqX,GAAgBD,GAAwBna,KAAKuZ,cAAcS,kBAAkB,CAAE7U,QAAS0U,IAC1FA,EAAUrZ,mBACZ0Z,EAAyB/U,EAAQ3E,mBAAmBuC,GAAIqX,IAExDT,EAAeE,EAAWO,GAE9B,CAEFT,EAAexU,EAASgV,EAAoB,EAG9C5L,EAAY8L,oBADoBlV,GAAY+U,EAAyB/U,GAAS,GAEhF,MAEEoJ,EAAY+L,6BADmBnV,GAAYwU,EAAexU,GAAS,IACH,EAEpE,CACA8U,yBACE,OAAOja,KAAKL,IAAIwD,IAAI,cAAgBnD,KAAKL,IAAIwD,IAAI,uCACnD,GAkbc,cAAcoX,MAC5B9a,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,WAClB,CACAS,UAAUpI,GACRC,KAAKwa,YAAcza,EAAMya,YACzBxa,KAAKya,eAAiB1a,EAAM0a,cAC9B,CACA1D,QAAQzL,GACN,MAAMoP,EAAc1a,KAAKya,eAAeE,iBAClCC,KAAaC,OAASH,IAAgBA,EAAYhY,OAAS,EAC3DoY,EAAYF,MAAcC,OAASvP,EAAOsG,sBAIhD5R,KAAKL,IAAIwD,IAAI,aACP4X,EAA2BL,EAAY/O,KAAMqP,MACxBC,OAAgCjb,KAAKL,KAErDqb,EAAIE,OAAO1J,aAAewJ,EAAIE,OAAOC,qBAErCH,EAAIE,OAAOE,YAAYC,cAElCrb,KAAKwa,YAAY9H,KACfgI,EACAE,EACAE,EACAxP,EAAOsG,oBACPtG,EAAOiD,YACPwM,EAEJ,GArciB,cAAcO,MAC/B7b,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,cAClB,CACAS,UAAUpI,GACRC,KAAKD,MAAQA,EACbC,KAAKoI,YAAcrI,EAAMqI,WAC3B,CACA2O,QAAQzL,GACN,MAAM5L,EAAW4L,EAAOnG,QAClBnB,EAAS,GACTuX,EAAgBvb,KAAKoI,YAAYoT,cACjCC,EAAeF,GAAiB7b,EAASoX,UACzC4E,EAAUD,EAAe,CAAC/b,GAAYA,EAASe,kBAC/Ckb,EAAU3b,KAAK4b,oBAUrB,OATA5b,KAAK6b,8BAA8BF,EAASD,EAAS1X,EAAQuX,EAAe,IAE9CE,GADDzX,EAAOtB,OAAS,GAErBiZ,EAAQG,gBAE9Bpc,EAASkX,eAET5W,KAAK+b,0BAA0BJ,EAASjc,EAASyB,QAAS6C,EAAQ,EADvB,QAA1B2X,EAAQG,gBAGpB9X,CACT,CACA4X,oBACE,MAAMI,EAA4Bhc,KAAKL,IAAIwD,IAAI,6BAE/C,MAAO,CACL8Y,iCAFuCD,GAA6Bhc,KAAKL,IAAIwD,IAAI,mCAGjF6Y,4BACAE,0BAAwBC,OAAwBnc,KAAKL,KACrDyc,gBAAiBpc,KAAKL,IAAIwD,IAAI,wBAC9B2Y,iBAAeO,OAAmBrc,KAAKL,KACvC2c,iBAAeC,OAA2Bvc,KAAKL,KAEnD,CACAkc,8BAA8BF,EAASa,EAAexY,EAAQuX,EAAekB,GAC3E,KAAIC,SAAiBF,GAGrB,QAASzZ,EAAI,EAAGA,EAAIyZ,EAAc9Z,OAAQK,IAAK,CAC7C,MAAMoC,EAAUqX,EAAczZ,GACxB4Z,EAAWxX,EAAQ0J,cAEnB+N,GAA+BjB,EAAQK,2BAA6BW,GAAkD,IAAtCxX,EAAQ3E,mBAAmBkC,OAC3Gma,GAAqClB,EAAQM,iCAAmCU,GAAYxX,EAAQ2R,WAAmD,IAAtC3R,EAAQ3E,mBAAmBkC,OAOlJ,KAT0B6Y,IAAkBoB,MAIjBhB,EAAQS,iBAAmBjX,EAAQqB,WAAarB,EAAQyB,UADxD2U,IAAiBpW,EAAQ2R,cAE0B8F,KAAiCC,IAE7G7c,KAAK+b,0BAA0BJ,EAASxW,EAASnB,EAAQyY,IAEvDlB,IAAiBpW,EAAQ2R,UAG7B,GAAI6F,EAAU,CACZ,MAAMG,GAAiBF,IAAgCC,GACvD,GAAI1X,EAAQqB,UAAYsW,GAAgB,CACtC,MAAMC,GAAoBpB,EAAQW,cAAc,CAAE7W,KAAMN,IACnD4X,IACH5X,EAAQ6X,gBAEV,MAAMC,GAAqBH,GAAiBL,EAAUA,EAAU,EACtC,QAAtBM,KACF5X,EAAQyR,eACR5W,KAAK+b,0BAA0BJ,EAASxW,EAAQhE,QAAS6C,EAAQiZ,KAEnEjd,KAAK6b,8BACHF,EACAxW,EAAQ1E,kBACRuD,EACAuX,EACA0B,IAEwB,WAAtBF,KACF5X,EAAQyR,eACR5W,KAAK+b,0BAA0BJ,EAASxW,EAAQhE,QAAS6C,EAAQiZ,IAErE,CACF,SAAW9X,EAAQyB,QAAUzB,EAAQqB,SAAU,CAC7C,MAAMoI,GAAa5O,KAAKkd,iBAAiB/X,GACzCnF,KAAK+b,0BAA0BJ,EAAS/M,GAAY5K,EAAQyY,EAC9D,CACF,CACF,CAEAV,0BAA0BJ,EAASxW,EAASnB,EAAQyY,EAASU,GACvDA,EACFnZ,EAAOoZ,QAAQjY,GAEfnB,EAAOsB,KAAKH,GAEdA,EAAQkY,WAAW1B,EAAQO,uBAAyB,EAAIO,EAC1D,CACAS,iBAAiBI,GACf,MAAIC,OAASD,EAAW1O,YACtB,OAAO0O,EAAW1O,WAEpB,MAAMA,EAAa,IAAI4O,MAASxd,KAAKD,OACrC6O,SAAW6O,QAAS,EACpB7O,EAAWhJ,YAAa,EACxBgJ,EAAW1I,OAASoX,KAChBC,OAASD,EAAWhd,MACtBsO,EAAWtO,GAAK,UAAYgd,EAAWhd,IAEzCsO,EAAW3L,KAAOqa,EAAWra,KAC7B2L,EAAWvO,MAAQid,EAAWjd,MAAQ,EACtCid,EAAW1O,WAAaA,EACjBA,CACT,GAsGgB,cAAc8O,MAC9Bje,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,aAClB,CACAS,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAKH,gBAAkBE,EAAMF,gBAC7BG,KAAK2d,cAAgB5d,EAAM4d,cAC3B3d,KAAK4d,wBAA0B7d,EAAM6d,uBACvC,CACAlL,KAAKgI,EAAaE,EAAYiD,EAAcjM,EAAqBrD,EAAawM,GAC5E,MAAM+C,EAAqB9d,KAAKL,IAAIwD,IAAI,sBAClC4a,EAAsB/d,KAAKoI,YAAY4V,UAAUrS,KAAMsS,GAAMA,EAAE9C,oBACrE,IAAI+C,EAAgB,CAAC,EACjBL,GAAgBjM,IAClBsM,EAAgBle,KAAKme,oBAAoBvM,IAE3C,MAAM4J,GAAcxb,KAAKoI,YAAYoT,cAC/B4C,GAAepe,KAAKL,IAAI0e,YAAY,gBAmCtC9P,GACFA,EAAY+L,6BAnCInV,IAChBnF,KAAKse,oCAAoCnZ,EAAQzE,wBAAwB,GACzE,MAAM6d,GAAwB/C,IAAerW,EAAQ2R,UAErD,GAD0BgH,GAAsBC,IAAwB5Y,EAAQ2R,YAAciE,EACvE,CAErB,MAAMyD,GAAoD,OADxCxe,KAAKH,gBAAgB8G,uBAAuBxB,EAAQ9E,MAAQ,IAClCoe,UACtCC,GAAqBvZ,EAAQzE,uBAAuB8D,MAAM,GAChE,GAAIW,EAAQ1E,oBAAsB+d,GAA0B,CAC1D,MAAMG,GAAgB,CAAC,EACvBxZ,EAAQ1E,kBAAkByE,QAAQ,CAACO,GAAMC,MACvCiZ,GAAclZ,GAAKnF,IAAMoF,KAE3BgZ,GAAmBhM,KACjB,CAACkM,GAAMC,MAAUF,GAAcC,GAAKte,KAAO,IAAMqe,GAAcE,GAAKve,KAAO,GAE/E,CACA6E,EAAQ1E,kBAAoBie,EAC9B,MACEvZ,EAAQ1E,mBADEma,GAAc2D,GACIpZ,EAAQzE,uBAAuB8D,MAAM,GACxDqZ,EACmB7d,KAAK8e,YAAY3Z,EAAS+Y,EAAe3P,EAAamM,GAEtD1a,KAAK2d,cAAcoB,WAAW5Z,EAAQzE,uBAAwBga,GAExFvV,EAAQhE,UACVgE,EAAQhE,QAAQV,kBAAoB0E,EAAQ1E,mBAE9CT,KAAKgf,mBAAmB7Z,GACpBiZ,IAEFA,GADe,CAAEva,MAAOsB,EAAQ1E,mBAElC,GAKFT,KAAKif,kCAAkC1Q,EACzC,CACA4P,oBAAoBvM,GAClB,MAAMsN,EAAa,CAAC,EACdC,EAAgBpQ,IAChBA,GACFA,EAAS7J,QAASC,GAAY+Z,EAAW/Z,EAAQ7E,KAAM,EAAI,EAG/D,OAAIsR,GACFA,EAAoB1M,QAASka,IAC3BD,EAAaC,EAAKxd,KAClBud,EAAaC,EAAKpd,QAClBmd,EAAaC,EAAKrd,OAAM,GAGrBmd,CACT,CACAJ,YAAY3Z,EAASka,EAAiB9Q,EAAamM,GACjD,MAAM4E,EAAena,EAAQzE,uBACvB6e,EAAgBpa,EAAQ1E,kBAC9B,IAAK8e,EACH,OAAOvf,KAAK2d,cAAcoB,WAAWO,EAAc5E,GAErD,MAAM8E,EAAmB,CAAC,EACpBC,EAAc,GACpBH,EAAapa,QAASlC,IAChBqc,EAAgBrc,EAAI1C,MAAQiO,EAAYmR,QAAQ1c,GAClDyc,EAAYna,KAAKtC,GAEjBwc,EAAiBxc,EAAI1C,KAAM,IAG/B,MAAMqf,EAAsBJ,EAAc/Z,OAAQsG,GAAU0T,EAAiB1T,EAAMxL,KAC7Esf,GAAsBA,CAACC,EAAUC,MACrCC,WAAYD,EACZ3a,QAAS0a,IAELG,GAAoBP,EAAYne,IAAIse,IAAqBlN,KAAK,CAACuN,EAAGC,IAAMlgB,KAAK2d,cAAcwC,gBAAgBzF,EAAauF,EAAGC,IACjI,OAAOlgB,KAAKogB,kBAAkB1F,EAAasF,GAAmBL,EAAoBre,IAAIse,KAAsBte,IAC1G,EAAG6D,QAAS0a,KAAeA,EAE/B,CAEAO,kBAAkB1F,EAAa2F,EAAMC,GACnC,MAAMvT,EAAM,GACZ,IAAIhK,EAAI,EACJwd,EAAI,EACR,KAAOxd,EAAIsd,EAAK3d,QAAU6d,EAAID,EAAK5d,QACX1C,KAAK2d,cAAcwC,gBAAgBzF,EAAa2F,EAAKtd,GAAIud,EAAKC,IAChE,EAClBxT,EAAIzH,KAAK+a,EAAKtd,MAEdgK,EAAIzH,KAAKgb,EAAKC,MAGlB,KAAOxd,EAAIsd,EAAK3d,QACdqK,EAAIzH,KAAK+a,EAAKtd,MAEhB,KAAOwd,EAAID,EAAK5d,QACdqK,EAAIzH,KAAKgb,EAAKC,MAEhB,OAAOxT,CACT,CACAiS,mBAAmB7Z,GACjB,MAAIqb,OAAUrb,EAAQ1E,mBACpB,OAEF,MAAMggB,EAAatb,EAAQ1E,kBAC3B,QAASsC,EAAI,EAAGA,EAAI0d,EAAW/d,OAAQK,IAAK,CAC1C,MAAM+I,EAAQ2U,EAAW1d,GAEnB2d,EAAY3d,IAAMoC,EAAQ1E,kBAAkBiC,OAAS,EAC3DoJ,EAAM6U,cAFmB,IAAN5d,GAGnB+I,EAAM8U,aAAaF,GACnB5U,EAAM+U,cAAc9d,EACtB,CACF,CACAkc,kCAAkC1Q,GAChC,IAAKvO,KAAKL,IAAIwD,IAAI,wBAChB,OAEF,GAAInD,KAAKL,IAAIwD,IAAI,YACf2d,gBACE,4JAEK,EAET,MAAMjL,EAAY1Q,IAChBnF,KAAKse,oCAAoCnZ,EAAQ1E,mBAAmB,GACpE0E,EAAQ1E,kBAAkByE,QAAS4G,IAC7BA,EAAM+C,eACRgH,EAAS/J,EAAK,EAEjB,EAECyC,GACFA,EAAY8L,oBAAqBlV,GAAY0Q,EAAS1Q,GAE1D,CACAmZ,oCAAoCvP,EAAUgS,IACvC/gB,KAAKL,IAAIwD,IAAI,0BAAsB,EAAKqd,OAAUzR,IAGvDA,EAAS7J,QAAS8b,KACShhB,KAAK4d,yBAAyBqD,uBAAyB,IAC/D/b,QAASgc,IACxB,MAAM7F,EAAe6F,EAAgB9F,YAAYC,aACjD,GAA4B,iBAAjBA,EAIT,YAHA8F,SACE,4FAIJ,MACMC,EAAiBphB,KAAKoI,YAAYiZ,aADbhG,GAG3B,GAD2B+F,IAAmBJ,EAAaI,eAI3D,GAAIL,EACFC,EAAaM,cAAcJ,EAAgBK,aAAS,OAC/C,CACL,MAAMC,GAAoBxhB,KAAKyhB,0BAA0BT,EAAcI,GACnEI,IACFR,EAAaM,cAAcJ,EAAgBK,QAASC,GAAkBE,IAE1E,GACD,EAEL,CACAD,0BAA0Bhc,EAAM2b,GAC9B,IAAI1L,EAAiBjQ,EACrB,KAAOiQ,GAAgB,CACrB,MAAMiM,EAAgBjM,EAAexP,OACrC,IAAIyb,IAAiBjM,EAAekM,WAKlC,OAAO,KAJP,GAAID,EAAcP,iBAAmBA,EACnC,OAAOO,EAKXjM,EAAiBiM,CACnB,CACA,OAAO,IACT,GApSqB,cAAcE,MACnCpiB,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,kBAClB,CACAS,UAAUpI,GACRC,KAAKsH,SAAWvH,EAAMuH,SACtBtH,KAAKF,iBAAmBC,EAAMD,gBAChC,CACAgJ,iBACE,EAAIgZ,OAAsB9hB,KAAKL,OAC7BK,KAAK+hB,mBAAqB/hB,KAAKsH,SAC/BtH,KAAKoM,2BAA2B,UAAW,IAAMpM,KAAKgiB,oBAE1D,CACAvT,WACE,MAAMwT,EAAmBjiB,KAAKL,IAAIuiB,OAAO,YAEzC,OAD6BliB,KAAKL,IAAIwD,IAAI,yBAInC8e,CACT,CACAlhB,WAAWC,GACT,MAAM2W,EAAqB3X,KAAKmiB,4BAA4BnhB,GAC5D,IAAK2W,EACH,OAEF,MAAMjN,EAAc1K,KAAK+hB,mBAAmBxK,kBACpCzV,qBAAoBG,gBAAiByI,EAAYhJ,cAAciW,GACvE,IAAIa,GAAe,EACOxY,KAAKL,IAAIwD,IAAI,mCAErCqV,EAAe9N,EAAYnI,0BAA0BvB,IAEvDhB,KAAK+hB,mBAAmBlJ,yBAAyB/W,EAAoB0W,GAAgBvW,EACvF,CAEAkgB,4BAA4BnhB,GAC1B,KAAI,EAAC8gB,OAAsB9hB,KAAKL,KAC9ByiB,gBAAY,uDACL,KAET,MAAMtc,KAAeuc,OAAmBriB,KAAKL,KAC7C,GAAoB,MAAhBmG,EACFsc,gBAAY,6FACL,KAET,MAAME,EAAmBtiB,KAAK+hB,mBAAmBxK,iBAAiB3W,oBAC5DmB,EAAS,GACTC,EAAS,GACTJ,EAAM,GACZ,SAAI2gB,OAASvhB,IACXA,EAAQkE,QAASjC,IACf,MAAM3C,EAAKwF,EAAa,CAAE7C,OAAM5C,MAAO,IACjCmiB,EAAeF,EAAiBhiB,GAClCkiB,GACqBA,EAAavf,OAASA,GAE3CjB,EAAOsD,KAAKrC,GAEdqf,EAAiBhiB,QAAM,GAEvBsB,EAAI0D,KAAKrC,EAAI,IAEhB,EAEHwf,OAAeH,EAAkB,CAAChiB,EAAI6E,KAChCA,GACFpD,EAAOuD,KAAKH,EAAQlC,KAAI,GAGrB,CAAElB,SAAQC,SAAQJ,MAC3B,CACAogB,mBACE,MAAMhhB,EAAUhB,KAAKL,IAAIwD,IAAI,WACxBnC,IAGDhB,KAAKyO,WACPzO,KAAKe,WAAWC,IAEhBhB,KAAKF,iBAAiB2X,MAAM,kBAC5BzX,KAAK+hB,mBAAmBhhB,WAAWC,IAEvC,MAiQE0hB,MAA8Bzb,OAAc,CAC9CC,QAASH,GACTI,WAAY,GAAGC,MAAYC,+BAC3BtH,MAAO,CAAC4iB,OACRC,aAAc,CACZC,2BA7kBJ,SAASA,EAA2B9iB,GAClCA,EAAM+iB,iBAAiBD,4BACzB,EA4kBIE,0BA3kBJ,SAASA,EAA0BhjB,EAAOkJ,GACxClJ,EAAMijB,uBAAuBC,yBAAyBja,aAAaC,EACrE,EA0kBIia,eAzkBJ,SAASA,GAAenjB,GACtB,OAAOA,EAAMijB,uBAAuBC,yBAAyBjP,YAAa,CAC5E,EAwkBI4B,gBAvkBJ,SAASA,EAAgB7V,EAAO8V,GAC9B9V,EAAMijB,uBAAuBC,yBAAyBrN,gBAAgBC,EACxE,EAskBIK,uBArkBJ,SAASA,GAAuBnW,EAAO8V,GACrC9V,EAAMijB,uBAAuBC,yBAAyB/M,uBAAuBL,EAC/E,EAokBIlB,8BAnkBJ,SAASA,EAA8B5U,EAAO8V,GAC5C9V,EAAMijB,uBAAuBC,yBAAyBtO,8BAA8BkB,EACtF,EAkkBIxJ,gBAjkBJ,SAASA,EAAgBtM,GACnBA,EAAMqI,YAAY+Q,yBACpBgK,SAAW,gFAGbpjB,EAAMijB,uBAAuBC,yBAAyB5W,iBACxD,EA4jBI+W,iBA3jBJ,SAASA,GAAiBrjB,EAAO4X,GAC/B,OAAO5X,EAAMsjB,mBAAmBC,aAC9B,IAAMvjB,EAAMijB,uBAAuBC,yBAAyBvhB,cAAciW,GAE9E,EAwjBI4L,sBAvjBJ,SAASA,EAAsBxjB,EAAO4X,EAAoB9B,GACxD9V,EAAMsjB,mBAAmBC,aACvB,IAAMvjB,EAAMijB,uBAAuBC,yBAAyBvL,mBAAmBC,EAAoB9B,GAEvG,EAojBIsC,uBAnjBJ,SAASA,GAAuBpY,GAC9BA,EAAMsjB,mBAAmBC,aACvB,IAAMvjB,EAAMijB,uBAAuBC,yBAAyB9K,yBAEhE,EAgjBIqL,yBA/iBJ,SAASA,GAAyBzjB,GAChC,OAAOA,EAAMD,iBAAiB0jB,0BAChC,GA+iBEC,iBAAkB,CAACzc,GAA8B0c,SAE/Crc,MAA2BJ,OAAc,CAC3CC,QAASH,GACTI,WAAYC,MAAYC,yBACxBoc,iBAAkB,CAACzc,GAA8B0b,6FCl6DnD,MAAMiB,EAAqB,8BAA8BC,MAAM,KAEzDC,EAAuB,CAC3BC,UAAWH,EACXI,OAAQ,SAGJC,EAAyB,CAC7BC,UAAU,EACVze,OAAQ,sBAGJ,MAAO0e,GAAiBC,SACrBnkB,KAAAokB,oBAA8B,CACnCC,MAAO,MACJR,GACJM,SAEMnkB,KAAAskB,oBAA8B,CACnCD,MAAO,OACJR,GACJM,SAEMnkB,KAAAukB,oBAA8B,CACnCF,MAAO,OACJR,GACJM,SAEMnkB,KAAAwkB,oBAA8B,CACnCH,MAAO,OACJR,GAGLM,SACOnkB,KAAAykB,oBAA8B,CACnCJ,MAAO,MACJR,GAGLM,SACOnkB,KAAA0kB,oBAA8B,CACnCL,MAAO,GACPP,UAAWH,EAAqB,cAChCI,OAAQ,SAIVI,SACOnkB,KAAA2kB,SAAmB,CACxBC,WAAY,OACZP,MAAO,GACPQ,YAAa,QACbf,UAAW,mBAAmBF,MAAM,KACpCK,UAAU,EACVze,OAAQsf,IACRC,YAAczZ,KACKA,GAAOrI,KACZ+hB,SAEdC,aAAcC,MACff,SAEMnkB,KAAAmlB,MAAgB,CACrBd,MAAO,IACPQ,YAAa,QACbf,UAAWH,EACXM,UAAU,EACVze,OAAQ,wBACT2e,SAEMnkB,KAAAolB,UAAoB,CACzBf,MAAO,IACPQ,YAAa,QACbf,UAAWH,EACXM,UAAU,EACVze,OAAQ,sBACT2e,SAEMnkB,KAAAqlB,OAAiB,CACtBhB,MAAO,GACPQ,YAAa,QACbf,UAAWH,EACXM,UAAU,EACVze,OAAQ,wBAGV2e,SAGOnkB,KAAAslB,UAAoB,CACzBjB,MAAO,GACPQ,YAAa,QACbf,UAAW,gBACRE,GAGLG,SAGOnkB,KAAAulB,GAAa,CAClBX,WAAY,KACZY,MAAO,KACPnB,MAAO,GACPQ,YAAa,QACbf,UAAW,kCAAkCF,MAAM,KACnDK,UAAU,EACVze,OAAQ,wBACT2e,SAEMnkB,KAAAylB,sBAAgC,IAClCvB,GAAkBqB,GACrBN,aAAcS,KACfvB,SAEMnkB,KAAA2lB,QAAkB,CACvBtB,MAAO,GACPQ,YAAa,QACbf,UAAW,yBAAyBF,MAAM,KAC1CK,UAAU,GACXE,SAEMnkB,KAAA4lB,SAAmB,CACxBvB,MAAO,IACPJ,UAAU,EACVH,UAAW,aACXte,OAAQsf,KACTX,SAEMnkB,KAAA6lB,SAAmB,CACxBhB,YAAa,QACbR,MAAO,GACPP,UAAW,aACXmB,aAAca,IACdC,mBAA4B,CAC1BC,SAAS,IAIb7B,SAGOnkB,KAAA6E,OAAiB,CACtBwf,MAAO,GACPQ,YAAa,QACbf,UAAW,yBAAyBF,MAAM,QACvCI,GACJG,SAEMnkB,KAAAimB,QAAkB,CACvB5B,MAAO,IACPQ,YAAa,QACbf,UAAW,yBAAyBF,MAAM,QACvCI,GACJG,SAEMnkB,KAAAkmB,gBAA0B,CAC/BC,KAAM,EACNC,SAAU,IACVtC,UAAW,2BAA2BF,MAAM,QACzCI,GACJG,SAEMnkB,KAAAqmB,SAAmB,CACxBF,KAAM,EACNC,SAAU,IACVtC,UAAW,gBACRE,GACJG,SAEMnkB,KAAAsmB,eAAyB,CAC9BH,KAAM,EACNC,SAAU,OACPpC,GACJG,SAEMnkB,KAAAumB,cAAwB,CAC7BJ,KAAM,EACNC,SAAU,IACVtC,UAAW,gBACRE,GACJG,SAEMnkB,KAAAwmB,WAAqB,CAC1BL,KAAM,EACNC,SAAU,IACVtC,UAAW,gBACRE,GACJG,SAEMnkB,KAAAymB,oBAA8B,CACnCN,KAAM,EACNC,SAAU,IACVtC,UAAW,uCAAuCF,MAAM,QACrDI,GAGL,iCAAO0C,CAA6EhF,IAIlF,MAH+C,CAC7CiF,cAAgBC,GAAmB,OAAOA,EAAYrB,aAAaqB,EAAYlF,IAAO,UAG1F,kKC9LK,IAAMgE,GAAgB,MAAvB,MAAOA,EAKXjmB,YAAoBonB,GAAA7mB,KAAA6mB,UAAyB,CAE7CC,OAAOxb,GACLtL,KAAKM,GAAKgL,EAAOyb,MACjB/mB,KAAKgnB,MAA2B,iBAAZhnB,KAAKM,GAAkB,MAAQ,QACnDN,KAAKinB,QAAU3b,EAAOqb,cAAcrb,EAAOrI,KAC7C,CAEAikB,QAAQ5b,GACN,OAAO,CACT,CAEA6b,QACEC,OAAgBpnB,KAAKinB,SACrBjnB,KAAK6mB,SAASQ,KAAK,sBAAuB,KAAM,CAAEC,SAAU,KAC9D,CAACnD,SAAAnkB,KAAA,mBAAAunB,iBApBU7B,GAAgB8B,MAAAC,MAAA,EAAAtD,SAAAnkB,KAAA,UAAA0nB,EAAAC,IAAA,MAAhBjC,EAAgBkC,UAAA,mBAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,0FAAAC,SAAA,SAAAC,EAAAC,IAAA,EAAAD,ICpB7BT,MAAA,WAA0DA,MAAA,0BAASU,GAAAf,MAAM,GAIvEK,MAAA,YAAiBA,MAAA,GAAQA,QACzBA,MAAA,gBAAuBA,MAAA,eACzBA,iBAN2EA,MAAnC,QAAAU,GAAAjB,QAAmCO,CAAlB,UAAAA,MAAA,EAAAW,EAAA,UAAAD,GAAAlB,MAAA,QAAAkB,GAAAlB,QAItCQ,MAAA,GAAAA,MAAAU,GAAA5nB,oBDWX8nB,KACAC,KAAaC,KACbC,MAAcC,OAAA,yhBAGT9C,CAAgB,+EEJtB,MAAM+C,GAAiD,CAC5DC,OAAQ,CACNC,KAAM,CACJ1B,QAAS,UACT2B,KAAM,wBAERC,MAAO,CACL5B,QAAS,YACT2B,KAAM,4FCrBNpB,MAAA,8BADFA,MAAA,SACEA,MAAA,EAAAsB,EAAA,sBACFtB,0CAFGA,MAAA,OAAAuB,EAAA9lB,KAAA+lB,IAAAxB,OACcA,cAAA,mBAAAyB,+BAIfzB,MADF,UACEA,CAD4F,cAClFA,MAAA,GACZA,gCAFuEA,MAA3C,UAAAA,MAAA,EAAAW,EAAAY,EAAA9lB,KAAAimB,WAA2C1B,CAAD,QAAAuB,EAAA9lB,KAAAgkB,SAC1DO,MAAA,GAAAA,MAAAuB,EAAA9lB,KAAA2lB,kCAOZpB,MADF,UACEA,CAD4F,cAClFA,MAAA,GACZA,gCAFuEA,MAA3C,UAAAA,MAAA,EAAAW,EAAAY,EAAA9lB,KAAAimB,WAA2C1B,CAAD,QAAAuB,EAAA9lB,KAAAgkB,SAC1DO,MAAA,GAAAA,MAAAuB,EAAA9lB,KAAA2lB,OCIP,IAAM1D,EAAkB,MAAzB,MAAOA,EAOX4B,OAAOxb,GACLtL,KAAK+mB,MAAQzb,EAAOyb,MAEpB/mB,KAAKmpB,YAAc7d,EAAO8d,WAAW9d,EAAOrI,OAASwlB,GACrD,MAAMY,GAAIrpB,KAAKmpB,YAAYT,OAAO1oB,KAAK+mB,MAAQ,OAAS,SACxD/mB,KAAKiD,KAAO,IACPomB,GACHL,IAAKK,GAAEL,KAAOK,GAAEC,SAAShe,EAAOrI,MAGpC,CAEAikB,QAAQ5b,GACN,OAAO,CACT,CAAC6Y,SAAAnkB,KAAA,mBAAAunB,mBArBUrC,EAAkB,EAAAf,SAAAnkB,KAAA,UAAAupB,EAAA5B,IAAA,MAAlBzC,EAAkB0C,UAAA,gCAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,sIAAAC,SAAA,SAAAC,GAAAC,IAAA,EAAAD,KDlB/BT,MAAA,WAKIA,MAJF,EAAAgC,GAAA,UAIEhC,CAJc,EAAAiC,EAAA,aASlBjC,QAEAA,MAAA,EAAAkC,GAAA,yBAAAlC,eAXEA,cAAAU,GAAAjlB,KAAA+lB,IAAA,qBCWET,IACAF,KAAaZ,KACbW,KACAuB,MAAgBC,cAAA,WAGP1E,CAAkB,0FChByF,IAElH2E,GAAgC,MAAtC,MAAMA,UAAyCC,MAC3CC,oBAAoBC,EAAkBC,GAClCjqB,KAAKgqB,iBAAmBA,EACxBhqB,KAAKiqB,0BAA4BA,CACrC,CACAC,cAAcC,GACV,MAAMF,EAA4BjqB,KAAKiqB,0BACjCG,GAAOpqB,KAsBPqqB,GAAU,IArBhB,MAAMC,UAA8BC,EAChCC,KAAKlf,IACD2e,EAA0BQ,iBAAiB,KACvCjjB,MAAMgjB,KAAKlf,IACXtL,KAAK0qB,cAAcC,kBAAkBC,eAAc,EAE3D,CACAC,kBACI,OAAOZ,EAA0BQ,iBAAiB,IAAML,GAAKS,gBAAgBV,GACjF,CACAW,UAAUC,IACN,OAAwD,MAAjDV,GAAQW,gCAAgCD,GACnD,CACAE,WAAWF,GAAMG,IACb,MAAMC,EAAenrB,KAAKgrB,gCAC1B,OAAOf,EAA0BQ,iBAAiB,IAAMJ,GAAQW,gCAAgCD,IAAMK,MAAMD,EAAcD,IAC9H,CACAG,UAAUN,GAAMlV,IACZwU,GAAQU,IAAQlV,EACpB,GAGJ,OAAOwU,EACX,CACAQ,gBAAgBS,GACZ,OAAOtrB,KAAKgqB,iBAAiBa,gBAAgBS,EACjD,CAACnH,SACQnkB,KAAKurB,UAAI,UAAAC,EAAA,gBAAAjE,IAAA,OAAAiE,MAA+EhE,MAAUqC,KAAgCtC,IAAhCsC,EAAgC,GAAzH,GAA+K1F,SACxLnkB,KAAKyrB,WADmFjE,MAAE,CAAAkE,MACY7B,EAAgC8B,QAAhC9B,EAAgC0B,YAClJ,OArCK1B,CAAgC,KAyCtC,MAAMU,EACFC,KAAKlf,IACDtL,KAAK4rB,QAAUtgB,GACftL,KAAK0qB,cAAgB1qB,KAAK6qB,kBAC1B7qB,KAAK6rB,kBAAoB7rB,KAAK0qB,cAAcoB,SAC5C9rB,KAAK+rB,4BAA8B/rB,KAAK0qB,cAAcoB,SACtD9rB,KAAKgsB,MAAQhsB,KAAK0qB,cAAcuB,SAASC,iBAEzCC,OAAkBnsB,KAAKgsB,OACvBhsB,KAAK6rB,kBAAkB/E,OAAO9mB,KAAK4rB,QACvC,CACAQ,SACI,OAAOpsB,KAAKgsB,KAChB,CAEAK,iBAEI,OADmBrsB,KAAKgsB,MAAMpK,UAElC,CACAvI,UACQrZ,KAAK+rB,6BAAmF,mBAA7C/rB,KAAK+rB,4BAA4B1S,SAC5ErZ,KAAK+rB,4BAA4B1S,UAEjCrZ,KAAK0qB,eACL1qB,KAAK0qB,cAAcrR,SAE3B,CACA2R,gCACI,OAAOhrB,KAAK+rB,2BAChB,EACH,IAEKO,EAAyB,MAA/B,MAAMA,UAAkCC,MACpC9sB,YAAY+sB,GACRhlB,MAAM,WACNxH,KAAKwsB,QAAUA,EAEfxsB,KAAKysB,yBAA0B,EAM/BzsB,KAAKsjB,aAAe,CAACzN,EAAUpS,KAAWzD,KAAK0sB,WAAW7W,EAAUpS,IAKpEzD,KAAK2sB,aAAgB9W,GAAa7V,KAAKyqB,iBAAiB5U,GACxD7V,KAAKysB,wBACD1U,QAAQ6U,sBAAwB7U,QAAQ8U,MAAMC,kBAK9C9sB,KAAK0sB,WAJJ1sB,KAAKwsB,QAGDxsB,KAAKysB,wBACQ,CAAC5W,EAAUpS,KACV,oBAAXA,IAA2C,qBAAXA,GAGzBzD,KAAKwsB,QAAQO,kBAAkBlX,GAGnCA,IAIQA,GAAa7V,KAAKwsB,QAAQO,kBAAkBlX,GAd5CA,GAAaA,GAgBxC,CAGA,sBAAImX,GACA,OAAOhtB,KAAKwsB,SAAWS,MAAOC,iBAClC,CACAC,qBAAqBC,GACjB,IAAKA,EACD,OAAO,EAEX,MAAMC,EAAYD,EAAKC,UAEvB,OADsBA,GAAa,WAAYA,CAEnD,CACA5C,iBAAiB5U,GAEb,OAAO7V,KAAKwsB,QAAUxsB,KAAKwsB,QAAQc,IAAIzX,GAAYA,GACvD,CACAkX,kBAAkBlX,EAAUpS,GACxB,OAAOzD,KAAK0sB,WAAW7W,EAAUpS,EACrC,CAAC0gB,SACQnkB,KAAKurB,UAAI,SAAAhE,GAAA,WAAAA,GAAyF+E,GA/FV9E,MA+FqDA,OAAS,EAA6CrD,SACnMnkB,KAAKyrB,WAhGmFjE,MAAE,CAAAkE,MAgGYY,EAAyBX,QAAzBW,EAAyBf,YAC3I,OA3DKe,CAAyB,KAgEzBiB,EAAa,MAAnB,MAAMA,EACF9tB,YAAY+tB,EAAYxD,EAAkBC,GAA2BwD,GACjEztB,KAAKgqB,iBAAmBA,EACxBhqB,KAAKiqB,0BAA4BA,GACjCjqB,KAAKytB,0BAA4BA,EACjCztB,KAAK0tB,cAAe,EACpB1tB,KAAK2tB,YAAa,EAElB3tB,KAAK4tB,aAAc,EACnB5tB,KAAK6tB,YAAc,IAAIC,QAASC,KAC5B/tB,KAAKguB,mBAAqBD,KAK9B/tB,KAAKiuB,eAAYC,EAGjBluB,KAAKmuB,aAAUD,EAIfluB,KAAKouB,yBAAsBF,EAK3BluB,KAAKquB,iCAA8BH,EAInCluB,KAAKsuB,oCAAiCJ,EAMtCluB,KAAKuuB,gBAAaL,EAMlBluB,KAAKwuB,sBAAmBN,EAKxBluB,KAAKyuB,2BAAwBP,EAO7BluB,KAAK0uB,oBAAiBR,EAKtBluB,KAAK2uB,sBAAmBT,EAKxBluB,KAAK4uB,sBAAmBV,EAKxBluB,KAAK6uB,uBAAoBX,EAMzBluB,KAAK8uB,qBAAkBZ,EAMvBluB,KAAK+uB,wBAAqBb,EAG1BluB,KAAKgvB,iBAAcd,EAInBluB,KAAKivB,4BAAyBf,EAI9BluB,KAAKkvB,iCAA8BhB,EAInCluB,KAAKmvB,wBAAqBjB,EAK1BluB,KAAKovB,iCAA8BlB,EAKnCluB,KAAKqvB,kCAA+BnB,EAIpCluB,KAAKsvB,kCAA+BpB,EAIpCluB,KAAKuvB,4BAAyBrB,EAI9BluB,KAAKwvB,0BAAuBtB,EAI5BluB,KAAKyvB,4BAAyBvB,EAG9BluB,KAAK0vB,gBAAaxB,EAGlBluB,KAAK2vB,mBAAgBzB,EAIrBluB,KAAK4vB,wBAAqB1B,EAG1BluB,KAAK6vB,iBAAc3B,EAMnBluB,KAAK8vB,yBAAsB5B,EAK3BluB,KAAK+vB,yBAAsB7B,EAK3BluB,KAAKgwB,kCAA+B9B,EAIpCluB,KAAKiwB,8BAA2B/B,EAGhCluB,KAAKkwB,kBAAehC,EAGpBluB,KAAKmwB,uBAAoBjC,EAGzBluB,KAAKowB,2BAAwBlC,EAG7BluB,KAAKqwB,uBAAoBnC,EAGzBluB,KAAKswB,4BAAyBpC,EAI9BluB,KAAKuwB,mCAAgCrC,EAIrCluB,KAAKwwB,4BAAyBtC,EAI9BluB,KAAKywB,iCAA8BvC,EAInCluB,KAAK0wB,oCAAiCxC,EAItCluB,KAAK2wB,mCAAgCzC,EAIrCluB,KAAK4wB,kCAA+B1C,EAGpCluB,KAAK6wB,sBAAmB3C,EAKxBluB,KAAK8wB,sBAAmB5C,EAKxBluB,KAAK+wB,qBAAkB7C,EAKvBluB,KAAKgxB,0BAAuB9C,EAI5BluB,KAAKixB,sBAAmB/C,EAIxBluB,KAAKkxB,gBAAahD,EAGlBluB,KAAKmxB,cAAWjD,EAIhBluB,KAAKoxB,qBAAkBlD,EAIvBluB,KAAKqxB,uBAAoBnD,EAIzBluB,KAAKsxB,kBAAepD,EAMpBluB,KAAKuxB,mCAAgCrD,EAKrCluB,KAAKwxB,8BAA2BtD,EAKhCluB,KAAKyxB,uCAAoCvD,EAGzCluB,KAAK0xB,kCAA+BxD,EAIpCluB,KAAK2xB,yBAAsBzD,EAK3BluB,KAAK4xB,8BAA2B1D,EAGhCluB,KAAK6xB,4BAAyB3D,EAI9BluB,KAAK8xB,uBAAoB5D,EAGzBluB,KAAK+xB,8BAA2B7D,EAIhCluB,KAAKgyB,yBAAsB9D,EAI3BluB,KAAKiyB,iBAAc/D,EAGnBluB,KAAKkyB,qBAAkBhE,EAKvBluB,KAAKmyB,sBAAmBjE,EAKxBluB,KAAKoyB,uCAAoClE,EAGzCluB,KAAKqyB,uBAAoBnE,EAGzBluB,KAAKsyB,wBAAqBpE,EAM1BluB,KAAKuyB,sCAAmCrE,EAIxCluB,KAAKwyB,0CAAuCtE,EAI5CluB,KAAKyyB,0BAAuBvE,EAI5BluB,KAAK0yB,yBAAsBxE,EAK3BluB,KAAK2yB,0CAAuCzE,EAI5CluB,KAAK4yB,0BAAuB1E,EAG5BluB,KAAK6yB,iCAA8B3E,EAMnCluB,KAAK8yB,gCAA6B5E,EAOlCluB,KAAK+yB,gCAA6B7E,EAIlCluB,KAAKgzB,kBAAe9E,EAKpBluB,KAAKizB,iBAAc/E,EAInBluB,KAAKkzB,uBAAoBhF,EAIzBluB,KAAKmzB,yBAAsBjF,EAI3BluB,KAAKozB,wBAAqBlF,EAG1BluB,KAAKqzB,oBAAiBnF,EAItBluB,KAAKszB,yBAAsBpF,EAG3BluB,KAAKuzB,+BAA4BrF,EAIjCluB,KAAKwzB,iCAA8BtF,EAInCluB,KAAKyzB,gBAAavF,EAIlBluB,KAAK0zB,kBAAexF,EAKpBluB,KAAK2zB,oBAAiBzF,EAKtBluB,KAAK4zB,yBAAsB1F,EAI3BluB,KAAK6zB,wBAAqB3F,EAG1BluB,KAAK8zB,8BAA2B5F,EAIhCluB,KAAK+zB,qBAAkB7F,EAIvBluB,KAAKg0B,yBAAsB9F,EAI3BluB,KAAKi0B,aAAU/F,EAIfluB,KAAKk0B,+BAA4BhG,EAGjCluB,KAAKm0B,qCAAkCjG,EAMvCluB,KAAKo0B,kBAAelG,EAKpBluB,KAAKq0B,cAAWnG,EAKhBluB,KAAKs0B,eAAYpG,EAKjBluB,KAAKqI,gBAAa6lB,EAKlBluB,KAAKu0B,4BAAyBrG,EAK9BluB,KAAKw0B,2BAAwBtG,EAK7BluB,KAAKy0B,mBAAgBvG,EAIrBluB,KAAK00B,+BAA4BxG,EAMjCluB,KAAK20B,yBAAsBzG,EAK3BluB,KAAK40B,mCAAgC1G,EAKrCluB,KAAK60B,gCAA6B3G,EAIlCluB,KAAK80B,6BAA0B5G,EAK/BluB,KAAK+0B,WAAQ7G,EAGbluB,KAAKg1B,aAAU9G,EAGfluB,KAAKi1B,4BAAyB/G,EAI9BluB,KAAKk1B,6BAA0BhH,EAG/BluB,KAAKm1B,mCAAgCjH,EAMrCluB,KAAKo1B,4BAAyBlH,EAG9BluB,KAAKq1B,2BAAwBnH,EAI7BluB,KAAKs1B,4BAAyBpH,EAG9BluB,KAAKu1B,kCAA+BrH,EAKpCluB,KAAKw1B,2BAAwBtH,EAI7BluB,KAAKy1B,gBAAavH,EAIlBluB,KAAK01B,wBAAqBxH,EAQ1BluB,KAAK21B,gCAA6BzH,EAIlCluB,KAAK41B,4BAAyB1H,EAK9BluB,KAAK61B,uBAAoB3H,EAMzBluB,KAAK81B,6BAA0B5H,EAI/BluB,KAAK+1B,eAAY7H,EAKjBluB,KAAKg2B,oBAAiB9H,EAKtBluB,KAAKi2B,8BAA2B/H,EAIhCluB,KAAKk2B,0BAAuBhI,EAG5BluB,KAAKm2B,4BAAyBjI,EAG9BluB,KAAKo2B,oBAAiBlI,EAKtBluB,KAAKq2B,6BAA0BnI,EAK/BluB,KAAKs2B,mCAAgCpI,EAIrCluB,KAAKu2B,uBAAoBrI,EAIzBluB,KAAKw2B,cAAWtI,EAKhBluB,KAAKy2B,6BAA0BvI,EAI/BluB,KAAK02B,gCAA6BxI,EAIlCluB,KAAK22B,iCAA8BzI,EAInCluB,KAAK42B,6BAA0B1I,EAI/BluB,KAAK62B,+CAA4C3I,EAIjDluB,KAAK82B,iBAAc5I,EAKnBluB,KAAK+2B,2BAAwB7I,EAK7BluB,KAAKg3B,uBAAoB9I,EAGzBluB,KAAKi3B,oBAAiB/I,EAItBluB,KAAKk3B,sBAAmBhJ,EAGxBluB,KAAKm3B,mBAAgBjJ,EAKrBluB,KAAKo3B,gCAA6BlJ,EAIlCluB,KAAKq3B,eAAYnJ,EAMjBluB,KAAKs3B,oBAAiBpJ,EAKtBluB,KAAKu3B,eAAYrJ,EAKjBluB,KAAKw3B,kCAA+BtJ,EAMpCluB,KAAKy3B,uCAAoCvJ,EAKzCluB,KAAK03B,+BAA4BxJ,EAIjCluB,KAAK23B,oBAAiBzJ,EAItBluB,KAAK43B,qBAAkB1J,EAIvBluB,KAAK63B,iCAA8B3J,EAInCluB,KAAK83B,sBAAmB5J,EAIxBluB,KAAK+3B,qBAAkB7J,EAOvBluB,KAAKg4B,iBAAc9J,EAInBluB,KAAKi4B,2BAAwB/J,EAG7BluB,KAAKk4B,iCAA8BhK,EAGnCluB,KAAKm4B,wBAAqBjK,EAM1BluB,KAAKo4B,oCAAiClK,EAUtCluB,KAAKq4B,sBAAmBnK,EAIxBluB,KAAKs4B,0BAAuBpK,EAG5BluB,KAAKu4B,wBAAqBrK,EAI1BluB,KAAK8d,wBAAqBoQ,EAK1BluB,KAAKw4B,0BAAuBtK,EAK5BluB,KAAKy4B,2BAAwBvK,EAI7BluB,KAAK04B,uBAAoBxK,EAUzBluB,KAAK24B,wBAAqBzK,EAM1BluB,KAAK44B,6BAA0B1K,EAK/BluB,KAAKsc,mBAAgB4R,EAIrBluB,KAAK8b,mBAAgBoS,EAGrBluB,KAAK64B,4BAAyB3K,EAI9BluB,KAAK84B,8BAA2B5K,EAKhCluB,KAAK+4B,0BAAuB7K,EAI5BluB,KAAKg5B,qBAAkB9K,EAIvBluB,KAAKgc,+BAA4BkS,EAIjCluB,KAAKic,qCAAkCiS,EAIvCluB,KAAKi5B,0BAAuB/K,EAI5BluB,KAAKk5B,0BAAuBhL,EAI5BluB,KAAKm5B,uBAAoBjL,EAIzBluB,KAAKo5B,sBAAmBlL,EAGxBluB,KAAKq5B,4BAAyBnL,EAI9BluB,KAAKs5B,2CAAwCpL,EAI7CluB,KAAKu5B,cAAWrL,EAKhBluB,KAAKw5B,+BAA4BtL,EAKjCluB,KAAKy5B,6BAA0BvL,EAG/BluB,KAAK05B,sBAAmBxL,EAGxBluB,KAAK25B,yBAAsBzL,EAK3BluB,KAAK45B,kBAAe1L,EAGpBluB,KAAKgB,aAAUktB,EAGfluB,KAAK65B,gCAA6B3L,EAIlCluB,KAAK85B,+CAA4C5L,EAGjDluB,KAAK6U,gBAAaqZ,EAKlBluB,KAAK+5B,uBAAoB7L,EAKzBluB,KAAKg6B,6BAA0B9L,EAK/BluB,KAAKi6B,+BAA4B/L,EAMjCluB,KAAKk6B,sCAAmChM,EAGxCluB,KAAKm6B,2CAAwCjM,EAI7CluB,KAAKo6B,oBAAiBlM,EAItBluB,KAAKq6B,sBAAmBnM,EAMxBluB,KAAKs6B,qCAAkCpM,EAIvCluB,KAAKu6B,6BAA0BrM,EAI/BluB,KAAKw6B,yBAAsBtM,EAG3BluB,KAAKy6B,0BAAuBvM,EAI5BluB,KAAK06B,6BAA0BxM,EAI/BluB,KAAK26B,oCAAiCzM,EAKtCluB,KAAK46B,yCAAsC1M,EAK3CluB,KAAK66B,4BAAyB3M,EAK9BluB,KAAK86B,8BAA2B5M,EAKhCluB,KAAK+6B,yCAAsC7M,EAG3CluB,KAAKg7B,wBAAqB9M,EAI1BluB,KAAKi7B,8BAA2B/M,EAIhCluB,KAAKk7B,gCAA6BhN,EAIlCluB,KAAKm7B,gCAA6BjN,EAIlCluB,KAAKo7B,8BAA2BlN,EAKhCluB,KAAKq7B,+BAA4BnN,EAIjCluB,KAAKs7B,8BAA2BpN,EAIhCluB,KAAKu7B,6BAA0BrN,EAI/BluB,KAAKw7B,qCAAkCtN,EAKvCluB,KAAKy7B,4BAAyBvN,EAI9BluB,KAAK07B,gCAA6BxN,EAKlCluB,KAAK27B,wCAAqCzN,EAI1CluB,KAAK47B,oBAAiB1N,EAGtBluB,KAAK67B,kBAAe3N,EAGpBluB,KAAK87B,mBAAgB5N,EAKrBluB,KAAK+7B,6BAA0B7N,EAK/BluB,KAAKg8B,4BAAyB9N,EAK9BluB,KAAKi8B,+BAA4B/N,EAIjCluB,KAAKk8B,uBAAoBhO,EAIzBluB,KAAKm8B,yBAAsBjO,EAK3BluB,KAAKo8B,wBAAqBlO,EAK1BluB,KAAKq8B,iCAA8BnO,EAMnCluB,KAAKs8B,6BAA0BpO,EAK/BluB,KAAKu8B,0BAAuBrO,EAK5BluB,KAAKw8B,uBAAoBtO,EAKzBluB,KAAKy8B,sBAAmBvO,EAKxBluB,KAAK08B,yBAAsBxO,EAK3BluB,KAAK28B,kCAA+BzO,EAIpCluB,KAAK48B,kBAAe1O,EAIpBluB,KAAK68B,kBAAe3O,EAIpBluB,KAAK88B,gBAAa5O,EAIlBluB,KAAK+8B,uBAAoB7O,EAIzBluB,KAAKg9B,qBAAkB9O,EAGvBluB,KAAKi9B,kBAAe/O,EAIpBluB,KAAKk9B,mCAAgChP,EAIrCluB,KAAKm9B,WAAQjP,EAIbluB,KAAKyN,eAAYygB,EAGjBluB,KAAKo9B,cAAWlP,EAGhBluB,KAAKq9B,cAAWnP,EAGhBluB,KAAKs9B,mBAAgBpP,EAIrBluB,KAAKu9B,+BAA4BrP,EAKjCluB,KAAKw9B,0BAAuBtP,EAI5BluB,KAAKy9B,0BAAuBvP,EAI5BluB,KAAK09B,YAASxP,EAIdluB,KAAK8a,eAAYoT,EAEjBluB,KAAK29B,yBAAsBzP,EAG3BluB,KAAK49B,qBAAkB1P,EAIvBluB,KAAK69B,kBAAe3P,EAGpBluB,KAAK89B,WAAQ5P,EAObluB,KAAK+9B,0BAAuB7P,EAG5BluB,KAAKg+B,yBAAsB9P,EAI3BluB,KAAKi+B,sBAAmB/P,EAGxBluB,KAAKk+B,sBAAmBhQ,EAKxBluB,KAAKm+B,4BAAyBjQ,EAG9BluB,KAAKo+B,6BAA0BlQ,EAG/BluB,KAAKq+B,+BAA4BnQ,EAGjCluB,KAAKs+B,oCAAiCpQ,EAGtCluB,KAAKu+B,8BAA2BrQ,EAGhCluB,KAAKw+B,qBAAkBtQ,EAGvBluB,KAAKy+B,8BAA2BvQ,EAGhCluB,KAAK0+B,6BAA0BxQ,EAG/BluB,KAAK2+B,4BAAyBzQ,EAI9BluB,KAAK4+B,0BAAuB1Q,EAI5BluB,KAAK6+B,0BAAuB3Q,EAI5BluB,KAAK8+B,2BAAwB5Q,EAG7BluB,KAAK++B,0BAAuB7Q,EAM5BluB,KAAKg/B,qBAAkB9Q,EAGvBluB,KAAKi/B,wBAAqB/Q,EAM1BluB,KAAKk/B,mBAAgBhR,EAIrBluB,KAAKm/B,mBAAgBjR,EAGrBluB,KAAKo/B,iBAAclR,EAInBluB,KAAKq/B,+BAA4BnR,EAGjCluB,KAAKs/B,oBAAiBpR,EAGtBluB,KAAKu/B,0BAAuBrR,EAG5BluB,KAAKw/B,iCAA8BtR,EAGnCluB,KAAKy/B,8BAA2BvR,EAGhCluB,KAAK0/B,mCAAgCxR,EAGrCluB,KAAK2/B,iBAAczR,EAInBluB,KAAK4/B,mBAAgB1R,EAIrBluB,KAAK6/B,mCAAgC3R,EAGrCluB,KAAK8/B,oCAAiC5R,EAGtCluB,KAAK+/B,kCAA+B7R,EAGpCluB,KAAKggC,uBAAoB9R,EAGzBluB,KAAKigC,2BAAwB/R,EAI7BluB,KAAKkgC,2BAAwBhS,EAI7BluB,KAAKmgC,cAAWjS,EAIhBluB,KAAKogC,0BAAuBlS,EAG5BluB,KAAKqgC,0BAAuBnS,EAI5BluB,KAAKsgC,qBAAkBpS,EAGvBluB,KAAKugC,iBAAcrS,EAKnBluB,KAAKwgC,mBAAgBtS,EAGrBluB,KAAKygC,kBAAevS,EAGpBluB,KAAK0gC,iBAAcxS,EAGnBluB,KAAK2gC,iBAAczS,EAGnBluB,KAAK4gC,kBAAe1S,EAGpBluB,KAAK6gC,oBAAiB3S,EAGtBluB,KAAK8gC,wBAA0B,IAAIC,MAGnC/gC,KAAKghC,qBAAuB,IAAID,MAGhC/gC,KAAKihC,yBAA2B,IAAIF,MAGpC/gC,KAAKkhC,0BAA4B,IAAIH,MAGrC/gC,KAAKmhC,SAAW,IAAIJ,MAGpB/gC,KAAKohC,OAAS,IAAIL,MAGlB/gC,KAAKqhC,WAAa,IAAIN,MAGtB/gC,KAAKshC,SAAW,IAAIP,MAGpB/gC,KAAKuhC,cAAgB,IAAIR,MAGzB/gC,KAAKwhC,aAAe,IAAIT,MAGxB/gC,KAAKyhC,cAAgB,IAAIV,MAGzB/gC,KAAK0hC,YAAc,IAAIX,MAGvB/gC,KAAK2J,mBAAqB,IAAIo3B,MAG9B/gC,KAAKmK,uBAAyB,IAAI42B,MAGlC/gC,KAAK6J,mBAAqB,IAAIk3B,MAG9B/gC,KAAK2hC,kBAAoB,IAAIZ,MAG7B/gC,KAAKyJ,iBAAmB,IAAIs3B,MAG5B/gC,KAAK4hC,mBAAqB,IAAIb,MAG9B/gC,KAAK6hC,wBAA0B,IAAId,MAGnC/gC,KAAK8hC,sBAAwB,IAAIf,MAIjC/gC,KAAK+hC,wBAA0B,IAAIhB,MAGnC/gC,KAAKgiC,sBAAwB,IAAIjB,MAGjC/gC,KAAKiiC,uBAAyB,IAAIlB,MAGlC/gC,KAAKkiC,oBAAsB,IAAInB,MAG/B/gC,KAAKmiC,wBAA0B,IAAIpB,MAInC/gC,KAAKoiC,sBAAwB,IAAIrB,MAKjC/gC,KAAKqiC,iBAAmB,IAAItB,MAG5B/gC,KAAKsiC,gBAAkB,IAAIvB,MAG3B/gC,KAAKuiC,gBAAkB,IAAIxB,MAG3B/gC,KAAKwiC,mBAAqB,IAAIzB,MAG9B/gC,KAAKyiC,mBAAqB,IAAI1B,MAG9B/gC,KAAK0iC,kBAAoB,IAAI3B,MAG7B/gC,KAAK2iC,kBAAoB,IAAI5B,MAG7B/gC,KAAK4iC,YAAc,IAAI7B,MAGvB/gC,KAAK6iC,UAAY,IAAI9B,MAGrB/gC,KAAK8iC,YAAc,IAAI/B,MAGvB/gC,KAAK+iC,UAAY,IAAIhC,MAGrB/gC,KAAKgjC,yBAA2B,IAAIjC,MAGpC/gC,KAAKijC,uBAAyB,IAAIlC,MAKlC/gC,KAAKkjC,iBAAmB,IAAInC,MAK5B/gC,KAAKmjC,eAAiB,IAAIpC,MAG1B/gC,KAAKojC,UAAY,IAAIrC,MAGrB/gC,KAAKqjC,QAAU,IAAItC,MAGnB/gC,KAAKsjC,aAAe,IAAIvC,MAGxB/gC,KAAK+J,cAAgB,IAAIg3B,MAGzB/gC,KAAKujC,eAAiB,IAAIxC,MAG1B/gC,KAAKwjC,oCAAsC,IAAIzC,MAG/C/gC,KAAKyjC,aAAe,IAAI1C,MAGxB/gC,KAAK0jC,2BAA6B,IAAI3C,MAGtC/gC,KAAK2jC,oBAAsB,IAAI5C,MAG/B/gC,KAAK4jC,eAAiB,IAAI7C,MAG1B/gC,KAAK6jC,YAAc,IAAI9C,MAEvB/gC,KAAKsK,UAAY,IAAIy2B,MAErB/gC,KAAK8jC,kBAAoB,IAAI/C,MAG7B/gC,KAAK+jC,gBAAkB,IAAIhD,MAG3B/gC,KAAKgkC,aAAe,IAAIjD,MAGxB/gC,KAAKikC,kBAAoB,IAAIlD,MAG7B/gC,KAAKkkC,gBAAkB,IAAInD,MAG3B/gC,KAAKmkC,WAAa,IAAIpD,MAGtB/gC,KAAKokC,cAAgB,IAAIrD,MAGzB/gC,KAAKqkC,YAAc,IAAItD,MAGvB/gC,KAAKskC,YAAc,IAAIvD,MAGvB/gC,KAAKukC,cAAgB,IAAIxD,MAGzB/gC,KAAKwkC,aAAe,IAAIzD,MAOxB/gC,KAAKykC,kBAAoB,IAAI1D,MAG7B/gC,KAAK0kC,aAAe,IAAI3D,MAGxB/gC,KAAK2kC,YAAc,IAAI5D,MAGvB/gC,KAAK4kC,aAAe,IAAI7D,MAGxB/gC,KAAK6kC,WAAa,IAAI9D,MAGtB/gC,KAAK8kC,cAAgB,IAAI/D,MAGzB/gC,KAAK0J,sBAAwB,IAAIq3B,MAGjC/gC,KAAK+kC,eAAiB,IAAIhE,MAG1B/gC,KAAKgX,oBAAsB,IAAI+pB,MAG/B/gC,KAAKglC,wBAA0B,IAAIjE,MAGnC/gC,KAAKilC,qBAAuB,IAAIlE,MAGhC/gC,KAAKklC,eAAiB,IAAInE,MAG1B/gC,KAAKmlC,yBAA2B,IAAIpE,MAGpC/gC,KAAKolC,eAAiB,IAAIrE,MAG1B/gC,KAAKqlC,cAAgB,IAAItE,MAGzB/gC,KAAKslC,YAAc,IAAIvE,MAGvB/gC,KAAKulC,kBAAoB,IAAIxE,MAG7B/gC,KAAKwlC,YAAc,IAAIzE,MAGvB/gC,KAAKylC,cAAgB,IAAI1E,MAGzB/gC,KAAK0lC,aAAe,IAAI3E,MAGxB/gC,KAAK2lC,cAAgB,IAAI5E,MAGzB/gC,KAAK4lC,WAAa,IAAI7E,MAGtB/gC,KAAK6lC,iBAAmB,IAAI9E,MAG5B/gC,KAAK8lC,YAAc,IAAI/E,MAGvB/gC,KAAK0D,iBAAmB,IAAIq9B,MAG5B/gC,KAAK+lC,gBAAkB,IAAIhF,MAK3B/gC,KAAKgmC,sBAAwB,IAAIjF,MAGjC/gC,KAAKimC,qBAAuB,IAAIlF,MAEhC/gC,KAAKkmC,YAAc,IAAInF,MAEvB/gC,KAAKmmC,YAAc,IAAIpF,MAGvB/gC,KAAKiK,YAAc,IAAI82B,MACvB/gC,KAAKomC,eAAiB5Y,EAAWtB,cACjClsB,KAAK6tB,YAAYwY,KAAK,KAGlBrmC,KAAK4tB,aAAc,GAE3B,CACA0Y,kBAEItmC,KAAKiqB,0BAA0B8C,kBAAkB,KAC7C/sB,KAAKytB,0BAA0B1D,oBAAoB/pB,KAAKgqB,iBAAkBhqB,KAAKiqB,2BAC/E,MAAMsc,KAAgBC,OAAiCxmC,KAAKymC,YAAazmC,MACzEA,KAAK0mC,WAAa,CACdC,oBAAqB3mC,KAAK2mC,oBAAoB7+B,KAAK9H,MACnDqjB,mBAAoBrjB,KAAKiqB,0BACzB2c,sBAAuB,CACnBnZ,0BAA2BztB,KAAKytB,2BAEpCoZ,QAAU7mC,KAAK6mC,SAAW,IAE9B,MAAMC,KAAMC,OAAW/mC,KAAKomC,eAAgBG,EAAevmC,KAAK0mC,YAC5DI,IACA9mC,KAAK8mC,IAAMA,GAEf9mC,KAAK0tB,cAAe,EAIpB1tB,KAAKguB,oBAAmB,EAEhC,CACAgZ,YAAYC,GACJjnC,KAAK0tB,cAEL1tB,KAAKiqB,0BAA0B8C,kBAAkB,KAC7C,MAAM0Z,EAAc,CAAC,EACrBzzB,OAAOk0B,QAAQD,GAAS/hC,QAAQ,EAAEwc,GAAKqF,MACnC0f,EAAY/kB,IAAOqF,EAAMogB,gBAC5B,EACDC,OAAiBX,EAAazmC,KAAK8mC,IAAG,EAGlD,CACAO,cACQrnC,KAAK0tB,eAGL1tB,KAAK2tB,YAAa,EAElB3tB,KAAK8mC,KAAKztB,UAElB,CAGAiuB,cAAcC,GAGV,MAAMC,GAFUxnC,KAAKunC,GAGfE,EAAaD,IAAYE,UAAYF,IAAYG,WAAWjlC,OAAS,EAErEklC,GAAc,KAAKL,EAAUM,OAAO,GAAGC,gBAAgBP,EAAUQ,UAAU,KAEjF,OAAON,KADyBznC,KAAKymC,eAAiBzmC,KAAKymC,YAAYmB,GAE3E,CACAjB,oBAAoBY,EAAWn2B,GAG3B,GAAIpR,KAAK2tB,WACL,OAGJ,MAAMqa,GAAUhoC,KAAKunC,GACrB,GAAIS,IAAWhoC,KAAKsnC,cAAcC,GAAY,CAE1C,MAAMU,EAAcA,IAAMjoC,KAAKiqB,0BAA0BQ,iBAAiB,IAAMud,GAAQE,KAAK92B,IACzFpR,KAAK4tB,YAEL5tB,KAAK6tB,YAAYwY,KAAK,IAAM4B,KAG5BA,GAER,CACJ,CAAC9jB,SACQnkB,KAAKurB,UAAI,SAAAhE,GAAA,WAAAA,GAAyFgG,GA/vDV/F,MA+vDyCA,OA/vDzCA,MA+vDmEA,OA/vDnEA,MA+vDmG8E,GA/vDnG9E,MA+vDyIqC,IAAgC,EAA4C1F,SAC7SnkB,KAAKmoC,UAhwDmF3gB,MAAE,CAAAjkB,KAgwDJgqB,EAAa3F,UAAA,sBAAAwgB,OAAA,CAAA3B,YAAA,cAAAI,QAAA,UAAA5Y,UAAA,YAAAE,QAAA,UAAAC,oBAAA,sBAAAC,4BAAA,8BAAAC,+BAAA,iCAAAC,WAAA,aAAAC,iBAAA,mBAAAC,sBAAA,wBAAAC,eAAA,iBAAAC,iBAAA,mBAAAC,iBAAA,mBAAAC,kBAAA,oBAAAC,gBAAA,kBAAAC,mBAAA,qBAAAC,YAAA,cAAAC,uBAAA,yBAAAC,4BAAA,8BAAAC,mBAAA,qBAAAC,4BAAA,8BAAAC,6BAAA,+BAAAC,6BAAA,+BAAAC,uBAAA,yBAAAC,qBAAA,uBAAAC,uBAAA,yBAAAC,WAAA,aAAAC,cAAA,gBAAAC,mBAAA,qBAAAC,YAAA,cAAAC,oBAAA,sBAAAC,oBAAA,sBAAAC,6BAAA,+BAAAC,yBAAA,2BAAAC,aAAA,eAAAC,kBAAA,oBAAAC,sBAAA,wBAAAC,kBAAA,oBAAAC,uBAAA,yBAAAC,8BAAA,gCAAAC,uBAAA,yBAAAC,4BAAA,8BAAAC,+BAAA,iCAAAC,8BAAA,gCAAAC,6BAAA,+BAAAC,iBAAA,mBAAAC,iBAAA,mBAAAC,gBAAA,kBAAAC,qBAAA,uBAAAC,iBAAA,mBAAAC,WAAA,aAAAC,SAAA,WAAAC,gBAAA,kBAAAC,kBAAA,oBAAAC,aAAA,eAAAC,8BAAA,gCAAAC,yBAAA,2BAAAC,kCAAA,oCAAAC,6BAAA,+BAAAC,oBAAA,sBAAAC,yBAAA,2BAAAC,uBAAA,yBAAAC,kBAAA,oBAAAC,yBAAA,2BAAAC,oBAAA,sBAAAC,YAAA,cAAAC,gBAAA,kBAAAC,iBAAA,mBAAAC,kCAAA,oCAAAC,kBAAA,oBAAAC,mBAAA,qBAAAC,iCAAA,mCAAAC,qCAAA,uCAAAC,qBAAA,uBAAAC,oBAAA,sBAAAC,qCAAA,uCAAAC,qBAAA,uBAAAC,4BAAA,8BAAAC,2BAAA,6BAAAC,2BAAA,6BAAAC,aAAA,eAAAC,YAAA,cAAAC,kBAAA,oBAAAC,oBAAA,sBAAAC,mBAAA,qBAAAC,eAAA,iBAAAC,oBAAA,sBAAAC,0BAAA,4BAAAC,4BAAA,8BAAAC,WAAA,aAAAC,aAAA,eAAAC,eAAA,iBAAAC,oBAAA,sBAAAC,mBAAA,qBAAAC,yBAAA,2BAAAC,gBAAA,kBAAAC,oBAAA,sBAAAC,QAAA,UAAAC,0BAAA,4BAAAC,gCAAA,kCAAAC,aAAA,eAAAC,SAAA,WAAAC,UAAA,YAAAjsB,WAAA,aAAAksB,uBAAA,yBAAAC,sBAAA,wBAAAC,cAAA,gBAAAC,0BAAA,4BAAAC,oBAAA,sBAAAC,8BAAA,gCAAAC,2BAAA,6BAAAC,wBAAA,0BAAAC,MAAA,QAAAC,QAAA,UAAAC,uBAAA,yBAAAC,wBAAA,0BAAAC,8BAAA,gCAAAC,uBAAA,yBAAAC,sBAAA,wBAAAC,uBAAA,yBAAAC,6BAAA,+BAAAC,sBAAA,wBAAAC,WAAA,aAAAC,mBAAA,qBAAAC,2BAAA,6BAAAC,uBAAA,yBAAAC,kBAAA,oBAAAC,wBAAA,0BAAAC,UAAA,YAAAC,eAAA,iBAAAC,yBAAA,2BAAAC,qBAAA,uBAAAC,uBAAA,yBAAAC,eAAA,iBAAAC,wBAAA,0BAAAC,8BAAA,gCAAAC,kBAAA,oBAAAC,SAAA,WAAAC,wBAAA,0BAAAC,2BAAA,6BAAAC,4BAAA,8BAAAC,wBAAA,0BAAAC,0CAAA,4CAAAC,YAAA,cAAAC,sBAAA,wBAAAC,kBAAA,oBAAAC,eAAA,iBAAAC,iBAAA,mBAAAC,cAAA,gBAAAC,2BAAA,6BAAAC,UAAA,YAAAC,eAAA,iBAAAC,UAAA,YAAAC,6BAAA,+BAAAC,kCAAA,oCAAAC,0BAAA,4BAAAC,eAAA,iBAAAC,gBAAA,kBAAAC,4BAAA,8BAAAC,iBAAA,mBAAAC,gBAAA,kBAAAC,YAAA,cAAAC,sBAAA,wBAAAC,4BAAA,8BAAAC,mBAAA,qBAAAC,+BAAA,iCAAAC,iBAAA,mBAAAC,qBAAA,uBAAAC,mBAAA,qBAAAza,mBAAA,qBAAA0a,qBAAA,uBAAAC,sBAAA,wBAAAC,kBAAA,oBAAAC,mBAAA,qBAAAC,wBAAA,0BAAAtc,cAAA,gBAAAR,cAAA,gBAAA+c,uBAAA,yBAAAC,yBAAA,2BAAAC,qBAAA,uBAAAC,gBAAA,kBAAAhd,0BAAA,4BAAAC,gCAAA,kCAAAgd,qBAAA,uBAAAC,qBAAA,uBAAAC,kBAAA,oBAAAC,iBAAA,mBAAAC,uBAAA,yBAAAC,sCAAA,wCAAAC,SAAA,WAAAC,0BAAA,4BAAAC,wBAAA,0BAAAC,iBAAA,mBAAAC,oBAAA,sBAAAC,aAAA,eAAA54B,QAAA,UAAA64B,2BAAA,6BAAAC,0CAAA,4CAAAjlB,WAAA,aAAAklB,kBAAA,oBAAAC,wBAAA,0BAAAC,0BAAA,4BAAAC,iCAAA,mCAAAC,sCAAA,wCAAAC,eAAA,iBAAAC,iBAAA,mBAAAC,gCAAA,kCAAAC,wBAAA,0BAAAC,oBAAA,sBAAAC,qBAAA,uBAAAC,wBAAA,0BAAAC,+BAAA,iCAAAC,oCAAA,sCAAAC,uBAAA,yBAAAC,yBAAA,2BAAAC,oCAAA,sCAAAC,mBAAA,qBAAAC,yBAAA,2BAAAC,2BAAA,6BAAAC,2BAAA,6BAAAC,yBAAA,2BAAAC,0BAAA,4BAAAC,yBAAA,2BAAAC,wBAAA,0BAAAC,gCAAA,kCAAAC,uBAAA,yBAAAC,2BAAA,6BAAAC,mCAAA,qCAAAC,eAAA,iBAAAC,aAAA,eAAAC,cAAA,gBAAAC,wBAAA,0BAAAC,uBAAA,yBAAAC,0BAAA,4BAAAC,kBAAA,oBAAAC,oBAAA,sBAAAC,mBAAA,qBAAAC,4BAAA,8BAAAC,wBAAA,0BAAAC,qBAAA,uBAAAC,kBAAA,oBAAAC,iBAAA,mBAAAC,oBAAA,sBAAAC,6BAAA,+BAAAC,aAAA,eAAAC,aAAA,eAAAC,WAAA,aAAAC,kBAAA,oBAAAC,gBAAA,kBAAAC,aAAA,eAAAC,8BAAA,gCAAAC,MAAA,QAAA1vB,UAAA,YAAA2vB,SAAA,WAAAC,SAAA,WAAAC,cAAA,gBAAAC,0BAAA,4BAAAC,qBAAA,uBAAAC,qBAAA,uBAAAC,OAAA,SAAA5iB,UAAA,YAAA6iB,oBAAA,sBAAAC,gBAAA,kBAAAC,aAAA,eAAAC,MAAA,QAAAC,qBAAA,uBAAAC,oBAAA,sBAAAC,iBAAA,mBAAAC,iBAAA,mBAAAC,uBAAA,yBAAAC,wBAAA,0BAAAC,0BAAA,4BAAAC,+BAAA,iCAAAC,yBAAA,2BAAAC,gBAAA,kBAAAC,yBAAA,2BAAAC,wBAAA,0BAAAC,uBAAA,yBAAAC,qBAAA,uBAAAC,qBAAA,uBAAAC,sBAAA,wBAAAC,qBAAA,uBAAAC,gBAAA,kBAAAC,mBAAA,qBAAAC,cAAA,gBAAAC,cAAA,gBAAAC,YAAA,cAAAC,0BAAA,4BAAAC,eAAA,iBAAAC,qBAAA,uBAAAC,4BAAA,8BAAAC,yBAAA,2BAAAC,8BAAA,gCAAAC,YAAA,cAAAC,cAAA,gBAAAC,8BAAA,gCAAAC,+BAAA,iCAAAC,6BAAA,+BAAAC,kBAAA,oBAAAC,sBAAA,wBAAAC,sBAAA,wBAAAC,SAAA,WAAAC,qBAAA,uBAAAC,qBAAA,uBAAAC,gBAAA,kBAAAC,YAAA,cAAAC,cAAA,gBAAAC,aAAA,eAAAC,YAAA,cAAAC,YAAA,cAAAC,aAAA,eAAAC,eAAA,kBAAAwH,QAAA,CAAAvH,wBAAA,0BAAAE,qBAAA,uBAAAC,yBAAA,2BAAAC,0BAAA,4BAAAC,SAAA,WAAAC,OAAA,SAAAC,WAAA,aAAAC,SAAA,WAAAC,cAAA,gBAAAC,aAAA,eAAAC,cAAA,gBAAAC,YAAA,cAAA/3B,mBAAA,qBAAAQ,uBAAA,yBAAAN,mBAAA,qBAAA83B,kBAAA,oBAAAl4B,iBAAA,mBAAAm4B,mBAAA,qBAAAC,wBAAA,0BAAAC,sBAAA,wBAAAC,wBAAA,0BAAAC,sBAAA,wBAAAC,uBAAA,yBAAAC,oBAAA,sBAAAC,wBAAA,0BAAAC,sBAAA,wBAAAC,iBAAA,mBAAAC,gBAAA,kBAAAC,gBAAA,kBAAAC,mBAAA,qBAAAC,mBAAA,qBAAAC,kBAAA,oBAAAC,kBAAA,oBAAAC,YAAA,cAAAC,UAAA,YAAAC,YAAA,cAAAC,UAAA,YAAAC,yBAAA,2BAAAC,uBAAA,yBAAAC,iBAAA,mBAAAC,eAAA,iBAAAC,UAAA,YAAAC,QAAA,UAAAC,aAAA,eAAAv5B,cAAA,gBAAAw5B,eAAA,iBAAAC,oCAAA,sCAAAC,aAAA,eAAAC,2BAAA,6BAAAC,oBAAA,sBAAAC,eAAA,iBAAAC,YAAA,cAAAv5B,UAAA,YAAAw5B,kBAAA,oBAAAC,gBAAA,kBAAAC,aAAA,eAAAC,kBAAA,oBAAAC,gBAAA,kBAAAC,WAAA,aAAAC,cAAA,gBAAAC,YAAA,cAAAC,YAAA,cAAAC,cAAA,gBAAAC,aAAA,eAAAC,kBAAA,oBAAAC,aAAA,eAAAC,YAAA,cAAAC,aAAA,eAAAC,WAAA,aAAAC,cAAA,gBAAAp7B,sBAAA,wBAAAq7B,eAAA,iBAAA/tB,oBAAA,sBAAAguB,wBAAA,0BAAAC,qBAAA,uBAAAC,eAAA,iBAAAC,yBAAA,2BAAAC,eAAA,iBAAAC,cAAA,gBAAAC,YAAA,cAAAC,kBAAA,oBAAAC,YAAA,cAAAC,cAAA,gBAAAC,aAAA,eAAAC,cAAA,gBAAAC,WAAA,aAAAC,iBAAA,mBAAAC,YAAA,cAAApiC,iBAAA,mBAAAqiC,gBAAA,kBAAAC,sBAAA,wBAAAC,qBAAA,uBAAAC,YAAA,cAAAC,YAAA,cAAAl8B,YAAA,eAAAq+B,SAAA,CAhwDX9gB,MAgwDsyiB,CAAC8E,EAA2BzC,KAhwDl0iBrC,OAAEK,MAAA,EAAAC,KAAA,EAAAE,SAAA,SAAAC,EAAAC,IAAA,EAAA0B,cAAA,IAiwDtG,OA3pDK2D,CAAa,KAs9Ebgb,GAAY,MAAlB,MAAMA,EAAapkB,SACNnkB,KAAKurB,UAAI,SAAAhE,GAAA,WAAAA,GAAyFghB,EAAY,EAAkDpkB,SAChKnkB,KAAKwoC,UA9jFmFhhB,KAAE,CAAAjkB,KA8jFSglC,IAAmEpkB,SACtKnkB,KAAKyoC,UA/jFmFjhB,MAAE,IAgkFtG,OAJK+gB,CAAY,+aClmFlB,IAAIG,EAAoB,MACtBjpC,cACEO,KAAK2oC,iBAAmC,IAAI/lC,IAC5C5C,KAAK4oC,kBAAoC,IAAIhmC,IAC7C5C,KAAK6oC,oBAAsC,IAAIj+B,IAC/C5K,KAAK8oC,qBAAuC,IAAIl+B,IAChD5K,KAAK+oC,oBAAsB,GAC3B/oC,KAAKgpC,WAAY,EAEjBhpC,KAAKipC,YAAc,CAAC,CACtB,CACAC,sBAAsB7lB,GACpBrjB,KAAKqjB,mBAAqBA,CAC5B,CACA8lB,aAAa5B,EAAW6B,EAAOC,GAC7B,MAAMC,EAAcF,EAAQppC,KAAK4oC,kBAAoB5oC,KAAK2oC,iBAC1D,IAAIY,EAAYD,EAAYnmC,IAAIokC,GAChC,OAAKgC,GAAaF,IAChBE,EAA4B,IAAI3+B,IAChC0+B,EAAYpmC,IAAIqkC,EAAWgC,IAEtBA,CACT,CACAC,6BACE,OAAsC,IAA/BxpC,KAAK2oC,iBAAiBc,MAA8C,IAAhCzpC,KAAK4oC,kBAAkBa,MAAgD,IAAlCzpC,KAAK6oC,oBAAoBY,MAAiD,IAAnCzpC,KAAK8oC,qBAAqBW,IACnJ,CACAC,iBAAiBnC,EAAWoC,EAAUP,GAAQ,GAC5CppC,KAAKmpC,aAAa5B,EAAW6B,GAAO,GAAMxnC,IAAI+nC,EAChD,CACAC,oBAAoBrC,EAAWoC,EAAUP,GAAQ,GAC/C,MAAMG,EAAYvpC,KAAKmpC,aAAa5B,EAAW6B,GAAO,GACjDG,IAGLA,EAAUM,OAAOF,GACM,IAAnBJ,EAAUE,OACQL,EAAQppC,KAAK4oC,kBAAoB5oC,KAAK2oC,kBAC9CkB,OAAOtC,GAEvB,CACAuC,kBAAkBH,EAAUP,GAAQ,IACjCA,EAAQppC,KAAK8oC,qBAAuB9oC,KAAK6oC,qBAAqBjnC,IAAI+nC,EACrE,CACAI,qBAAqBJ,EAAUP,GAAQ,IACpCA,EAAQppC,KAAK8oC,qBAAuB9oC,KAAK6oC,qBAAqBgB,OAAOF,EACxE,CACArmC,cAAc8N,GACZ,MAAM44B,EAAU54B,EAChBpR,KAAKiqC,oBAAoBD,GAAS,GAClChqC,KAAKiqC,oBAAoBD,GAAS,GAClChqC,KAAKipC,YAAYe,EAAQzmC,OAAQ,CACnC,CACA+T,kBAAkBlG,GACXpR,KAAKipC,YAAY73B,EAAM7N,OAC1BvD,KAAKsD,cAAc8N,EAEvB,CACA64B,oBAAoB74B,EAAOg4B,GACzB,MAAM7B,EAAYn2B,EAAM7N,KACxB,GAAI6lC,GAAS,UAAWh4B,EAAO,CAC7B,MAAM84B,EAAe94B,EAAMA,MACvB84B,aAAwBC,QAC1B/4B,EAAMg5B,UAAYF,EAAaG,eAEnC,CACA,MAWMC,EAAoBtqC,KAAKmpC,aAAa5B,EAAW6B,GAAO,IAA0B,IAAIx+B,IACtF2+B,EAAY,IAAI3+B,IAAI0/B,GACtBf,EAAUE,KAAO,GAbSc,EAACC,EAAYC,KAAuBD,EAAWtlC,QAASykC,IACpF,IAAKc,EAAmB5+B,IAAI89B,GAC1B,OAEF,MAAM9zB,EAAW7V,KAAKqjB,mBAAqB,IAAMrjB,KAAKqjB,mBAAmBC,aAAa,IAAMqmB,EAASv4B,IAAU,IAAMu4B,EAASv4B,GAC1Hg4B,EACFppC,KAAK0qC,cAAc70B,GAEnBA,GAAS,EAEZ,EAIC00B,CAAsBhB,EAAWe,GAEX,IAAI1/B,IAC1Bw+B,EAAQppC,KAAK8oC,qBAAuB9oC,KAAK6oC,qBAE3B3jC,QAASykC,IACvB,MAAM9zB,EAAW7V,KAAKqjB,mBAAqB,IAAMrjB,KAAKqjB,mBAAmBC,aAAa,IAAMqmB,EAASpC,EAAWn2B,IAAU,IAAMu4B,EAASpC,EAAWn2B,GAChJg4B,EACFppC,KAAK0qC,cAAc70B,GAEnBA,GAAS,EAGf,CAKA60B,cAAc/xB,GAEZ,GADA3Y,KAAK+oC,oBAAoBzjC,KAAKqT,IACzB3Y,KAAKgpC,UAAW,CACnB,MAAM2B,EAAQA,KACZ5yB,OAAOC,WAAWhY,KAAK4qC,gBAAgB9iC,KAAK9H,MAAO,EAAC,EAEtDA,KAAKqjB,mBAAqBrjB,KAAKqjB,mBAAmBC,aAAaqnB,GAASA,IACxE3qC,KAAKgpC,WAAY,CACnB,CACF,CAEA4B,kBACE5qC,KAAKgpC,WAAY,EACjB,MAAM6B,EAAY7qC,KAAK+oC,oBAAoBvkC,QAC3CxE,KAAK+oC,oBAAsB,GAC3B8B,EAAU3lC,QAASyT,GAASA,IAC9B,GAIEvR,EAAgC0jC,KAClCA,EAAaC,oBAAyB,0BACtCD,EAAaE,uBAA4B,wCACzCF,EAAazjC,yBAA8B,2CAC3CyjC,EAAaG,gBAAqB,gCAClCH,EAAaI,qBAA0B,2BACvCJ,EAAaK,kBAAuB,mCACpCL,EAAaM,uBAA4B,wCACzCN,EAAaO,uBAA4B,wCACzCP,EAAaQ,WAAgB,2BAC7BR,EAAaS,gBAAqB,iCAClCT,EAAaU,kBAAuB,mCACpCV,EAAaW,gBAAqB,iCAClCX,EAAaY,cAAmB,+BAChCZ,EAAaa,qBAA0B,sCACvCb,EAAac,mBAAwB,oCACrCd,EAAae,iBAAsB,kCACnCf,EAAagB,iBAAsB,6BACnChB,EAAaiB,uBAA4B,yCACzCjB,EAAakB,yBAA8B,4CAC3ClB,EAAamB,kBAAuB,mCACpCnB,EAAaoB,gBAAqB,gCAClCpB,EAAaqB,iBAAsB,iCACnCrB,EAAasB,qBAA0B,sCACvCtB,EAAauB,cAAmB,6BAChCvB,EAAawB,YAAiB,2BAC9BxB,EAAayB,UAAe,yBACrBzB,GA3B2BA,CA4BjC1jC,GAAe,CAAC,GAGfolC,EAAc,CAAC,EACnB,SAASC,GAAQ9zB,EAAM+I,GACjB8qB,EAAY9qB,KAGhB/I,IACA6zB,EAAY9qB,IAAO,EACrB,CACA,SAASgrB,EAAKC,KAAYzhB,GACxB0hB,QAAQC,IAAI,YAAcF,KAAYzhB,EACxC,CACA,SAASjqB,EAAU6rC,KAAQ5hB,GACzBuhB,GAAQ,IAAMG,QAAQG,KAAK,YAAcD,KAAQ5hB,GAAO4hB,EAAM5hB,GAAMhY,KAAK,IAC3E,CACA,SAASlN,EAAW8mC,KAAQ5hB,GAC1BuhB,GAAQ,IAAMG,QAAQI,MAAM,YAAcF,KAAQ5hB,GAAO4hB,EAAM5hB,GAAMhY,KAAK,IAC5E,CACA,SAAS+5B,GAAYC,GACnB,SAAUA,GAAOA,EAAIztC,aAAeytC,EAAIC,MAAQD,EAAI9hB,MACtD,CAIA,IAAIgiB,GAAyB,GACzBC,GAA2B,EAC/B,SAASC,EAAmB30B,GAC1By0B,GAAuB9nC,KAAKqT,IACxB00B,IAGJA,GAA2B,EAC3Bt1B,OAAOC,WAAW,KAChB,MAAMu1B,EAAYH,GAAuB5oC,QACzC4oC,GAAuB1qC,OAAS,EAChC2qC,GAA2B,EAC3BE,EAAUroC,QAASsoC,GAAUA,IAAO,EACnC,GACL,CAMA,SAAS5lC,EAAU+Q,EAAM80B,GACvB,IAAIC,EACJ,OAAO,YAAYxiB,GACjB,MAAM+I,EAAUj0B,KAChB+X,OAAOK,aAAas1B,GACpBA,EAAU31B,OAAOC,WAAW,WAC1BW,EAAKyS,MAAM6I,EAAS/I,EACtB,EAAGuiB,EACL,CACF,CACA,SAASE,GAAUh1B,EAAMi1B,GACvB,IAAIC,EAAe,EACnB,OAAO,YAAY3iB,GACjB,MACM4iB,OAAmCC,MAAQC,UAC7CF,EAAcD,EAAeD,IAGjCC,EAAeC,EACfn1B,EAAKyS,MANWprB,KAMIkrB,GACtB,CACF,CA6BA,SAAS+iB,GAAUlnB,GACjB,OAAa,MAATA,GAA2B,KAAVA,EACZ,KAEFA,CACT,CACA,SAASjU,EAAQiU,EAAOmnB,GAAmB,GACzC,OAAgB,MAATnnB,IAA4B,KAAVA,GAAgBmnB,EAC3C,CACA,SAASj9B,GAAS8V,GAChB,OAAQjU,EAAQiU,EAClB,CACA,SAAS9iB,GAAgB8iB,GACvB,OAAgB,MAATA,GAAkC,IAAjBA,EAAMrkB,MAChC,CACA,SAASyrC,GAAgBpnB,GACvB,OAAgB,MAATA,GAA2C,mBAAnBA,EAAM1gB,SAA0B0gB,EAAM1gB,WAAa,IACpF,CACA,SAAS+nC,GAAcrnB,GACrB,QAAc,IAAVA,EACF,OAEF,GAAc,OAAVA,GAA4B,KAAVA,EACpB,OAAO,KAET,GAAqB,iBAAVA,EACT,OAAOjiB,MAAMiiB,QAAS,EAASA,EAEjC,MAAMsnB,EAAcC,SAASvnB,EAAO,IACpC,OAAOjiB,MAAMupC,QAAe,EAASA,CACvC,CACA,SAASE,GAAexnB,GACtB,QAAc,IAAVA,EAGJ,OAAc,OAAVA,GAA4B,KAAVA,GAGfynB,GAAUznB,EACnB,CACA,SAASynB,GAAUznB,GACjB,MAAqB,kBAAVA,EACFA,EAEY,iBAAVA,IACsB,SAAxBA,EAAM+gB,eAAqC,IAAT/gB,EAG7C,CACA,SAAS0nB,EAAYC,EAAMC,GAGzB,OAFiBD,EAAOE,KAAKC,UAAUH,GAAQ,SAC9BC,EAAOC,KAAKC,UAAUF,GAAQ,KAEjD,CACA,SAASG,EAAmBC,EAAQC,EAAQC,GAAkB,GAC5D,MAAMC,EAA0B,MAAVH,EAChBI,EAA0B,MAAVH,EAOtB,GANID,GAAUA,EAAOK,WACnBL,EAASA,EAAOK,YAEdJ,GAAUA,EAAOI,WACnBJ,EAASA,EAAOI,YAEdF,GAAiBC,EACnB,OAAO,EAET,GAAID,EACF,OAAO,EAET,GAAIC,EACF,OAAO,EAET,SAASE,EAAepvB,EAAGC,GACzB,OAAOD,EAAIC,EAAI,EAAID,EAAIC,GAAI,EAAK,CAClC,CAIA,GAHsB,iBAAX6uB,IAGNE,EACH,OAAOI,EAAeN,EAAQC,GAEhC,IACE,OAAOD,EAAOO,cAAcN,EAC9B,OACE,OAAOK,EAAeN,EAAQC,EAChC,CACF,CACA,SAASO,EAAQC,GACf,GAAIA,aAAkB5kC,KAAO4kC,aAAkB5sC,IAAK,CAClD,MAAM6sC,EAAM,GACZD,SAAOtqC,QAAS6hB,GAAU0oB,EAAInqC,KAAKyhB,IAC5B0oB,CACT,CACA,OAAOz8B,OAAO08B,OAAOF,EACvB,CAGA,SAASG,EAAehwC,EAAKi6B,GAC3B,OAAOj6B,EAAIwD,IAAI,kBAAoBy2B,CACrC,CACA,SAAS9X,EAAsBniB,GAC7B,OAAOgwC,EAAehwC,EAAK,aAC7B,CACA,SAASiwC,EAAsBjwC,GAC7B,OAAOgwC,EAAehwC,EAAK,aAC7B,CACA,SAASwO,EAAaxO,EAAK03B,GACzB,OAAO13B,EAAIwD,IAAI,eAAiBk0B,CAClC,CACA,SAASwY,EAAgBlwC,GACvB,YAAqC,IAA9BmwC,GAAqBnwC,EAC9B,CACA,SAASowC,EAAgBpwC,GACvB,OAAQA,EAAIwD,IAAI,sBAClB,CACA,SAAS6sC,GAAwBrwC,GAC/B,MAA0C,mBAA5BA,EAAIwD,IAAI,eACxB,CAOA,SAASuK,EAAqB/N,EAAKwF,EAAS+I,GAAgB,EAAOJ,GAIjE,GAHwB,MAApBA,IACFA,EAAmBnO,EAAI2I,YAAYyF,uBAEjCiiC,GAAwBrwC,GAAM,CAChC,GAAIuO,EACF,MAAO,CAAEN,OAAQE,EAAkBM,WAAW,GAEhD,MAAM9C,EAAS,CACb7F,KAAMN,EACNlC,KAAMkC,EAAQlC,MAEV2K,EAASjO,EAAI0e,YAAY,eAAhB1e,CAAgC2L,GAC/C,GAAI2kC,GAAUriC,GACZ,OAAe,IAAXA,GACF3M,EACE,wGAGG,CAAE2M,OAAQ7I,KAAKqI,IAAI,EAAGQ,GAASQ,WAAW,EAErD,CACA,GAAIjJ,EAAQsY,QAAU9d,EAAIwD,IAAI,gBAC5B,OAMJ,SAAS+sC,EAAyBvwC,GAChC,GAAIA,EAAIwD,IAAI,uBACV,MAAO,CAAEyK,OAAQ,EAAGQ,WAAW,GAEjC,MAAMN,EAAmBnO,EAAIwD,IAAI,mBACjC,OAAI8sC,GAAUniC,GACL,CAAEF,OAAQE,EAAkBM,WAAW,GAEzC,CAAER,OAAQ,IAAKQ,WAAW,EACnC,CAfW8hC,CAAyBvwC,GAElC,MAAMwwC,EAAuBxwC,EAAIwD,IAAI,aAErC,MAAO,CAAEyK,OADSuiC,GAAwBF,GAAUE,GAAwBA,EAAuBriC,EACvEM,WAAW,EACzC,CAWA,SAASgiC,GAAsBzwC,GAC7B,MAAQ2I,eAAgB3I,EAClBwwC,EAAuBxwC,EAAIwD,IAAI,aACrC,IAAKgtC,GAAwBl/B,GAASk/B,GACpC,OAAO7nC,EAAYyF,sBAErB,MAAMN,EAAYnF,EAAY+nC,2BAC9B,OAAkB,IAAd5iC,EACKA,GAETxM,EAAU,+DACHqH,EAAYyF,sBACrB,CACA,SAASkiC,GAAUlpB,GACjB,OAAQjiB,MAAMiiB,IAA2B,iBAAVA,GAAsBupB,SAASvpB,EAChE,CACA,SAASwpB,GAAY5wC,EAAK6wC,EAAS9uB,GACjC,MAAM+uB,EAAUD,EAAQ7wC,EAAI+wC,iBAC5B,OAAOD,EAAUA,EAAQ/uB,QAAO,CAClC,CACA,SAASivB,GAAYhxC,EAAK6wC,EAAS9uB,EAAKqF,GACtC,MAAM6pB,EAAajxC,EAAI+wC,gBACvB,IAAID,EAAUD,EAAQI,GAClB3/B,GAASw/B,KACXA,EAAU,CAAC,EACXD,EAAQI,GAAcH,GAExBA,EAAQ/uB,GAAOqF,CACjB,CACA,SAAS8pB,GAAalxC,GACpB,IAAIqE,EAAS,KACb,MAAM8sC,EAAyBnxC,EAAIwD,IAAI,eAMvC,OALI2tC,GAA0Bh+B,EAAQg+B,GACpC9sC,EAAS8sC,IACAnxC,EAAIoxC,WACb/sC,EAASrE,EAAIoxC,SAASC,eAEpBhtC,GAAU8O,EAAQ9O,GACbA,EAEFitC,QACT,CACA,SAASC,GAAWvxC,GAElB,OADkBkxC,GAAalxC,GACdwxC,aAAep5B,MAClC,CACA,SAASq5B,GAAazxC,GACpB,OAAOA,EAAIoxC,SAASh8B,aACtB,CACA,SAASs8B,GAAqB1xC,GAC5B,OAAOyxC,GAAazxC,GAAK2xC,aAC3B,CACA,SAASC,GAAkB5xC,GACzB,MAAM6xC,EAAYX,GAAalxC,GACzB8xC,EAAWJ,GAAqB1xC,GACtC,OAAoB,OAAb8xC,GAAqBA,IAAaD,EAAUE,IACrD,CACA,SAASvgC,GAAexR,GACtB,OAAIA,EAAIwD,IAAI,mBAGLxD,EAAIwD,IAAI,cACjB,CACA,SAASwuC,GAAmBhyC,GAC1B,QAAIA,EAAIwD,IAAI,sBAAwBxD,EAAIwD,IAAI,yBAA2BgL,EAAaxO,EAAK,SAI3F,CACA,SAASsb,GAAgCtb,GAEvC,OAD2BA,EAAIwD,IAAI,uBACPyuC,aAAejyC,EAAIwD,IAAI,WACrD,CACA,SAAS0uC,GAAsBlyC,GAC7B,MAAMmyC,EAAYnyC,EAAIwD,IAAI,qBAC1B,MAAyB,mBAAd2uC,EACFnyC,EAAI0e,YAAY,sBAEP,IAAdyzB,EACK,KAAM,OADf,CAIF,CACA,SAASt7B,GAAkB7W,GAEzB,OADkBA,EAAIwD,IAAI,mBAINxD,EAAIwD,IAAI,2BAEnB,cADT,EAIF,CACA,SAASuT,GAA0B/W,GACjC,MAAMmyC,EAAYnyC,EAAIwD,IAAI,iBAC1B,GAAyB,mBAAd2uC,EACT,OAAOnyC,EAAI0e,YAAY,iBAEzB,GAAIyzB,EACF,MAAO,IAAMA,EAEf,MAAMC,EAAcpyC,EAAIwD,IAAI,sBAC5B,GAA2B,mBAAhB4uC,EAA4B,CACrC,MAAMC,EAAiBryC,EAAI0e,YAAY,sBACvC,OAAQ4zB,GACCD,EAAeC,GAAK,cAAW,CAE1C,CACA,MAAO,IAAMF,EAAc,cAAW,CACxC,CACA,SAAS51B,GAAwBxc,GAC/B,OAAIA,EAAIuiB,OAAO,oBAC0B,oBAAhCviB,EAAIwD,IAAI,oBAEVxD,EAAIwD,IAAI,uBACjB,CACA,SAAS+uC,GAAqBvyC,EAAKo2B,GACjC,OAAIA,GAGmC,cAAhCp2B,EAAIwD,IAAI,mBACjB,CACA,SAAS4C,GAAkBpG,GACzB,MAAMwgC,EAAWxgC,EAAI0e,YAAY,YACjC,YAAiB,IAAb8hB,EACKA,EAED70B,IACN,IAAIhL,EAAK6/B,EAAS70B,GAClB,MAAkB,iBAAPhL,IACTW,EAAU,sDAAuDX,EAAI,+BACrEA,EAAK6xC,OAAO7xC,IAEPA,EAEX,CACA,SAAS8xC,GAAeC,GACtB,OAAOA,GAAWC,aAAc,CAClC,CACA,SAASC,GAAmBF,GAC1B,MAA2B,aAApBA,GAAWG,OAAwBH,EAAUI,iBAAkB,EACxE,CAmBA,SAASC,GAAwB/yC,GAC/B,MAAM0yC,EAAY1yC,EAAIwD,IAAI,iBAE1B,YADgC,IAAdkvC,IACGA,EAAY1yC,EAAIwD,IAAI,uBAC3C,CASA,SAASwvC,GAAqBhzC,GAC5B,MAAM0yC,EAAY1yC,EAAIwD,IAAI,iBAE1B,YADgC,IAAdkvC,EAIU,kBAAdA,GAAqD,SAA3BA,EAAUO,QAAQJ,KAFjD7yC,EAAIwD,IAAI,mBAGnB,CAcA,SAAS0vC,GAAyBlzC,GAChC,MAAM0yC,EAAY1yC,EAAIwD,IAAI,iBAAmB,SAC7C,GAAyB,iBAAdkvC,EAAwB,CACjC,MAAMpW,EAA4Bt8B,EAAIwD,IAAI,6BACpC64B,EAAyBr8B,EAAIwD,IAAI,0BACvC,QAAI84B,IAA6BD,KAEtBC,EACF,qBACED,GACF,kBAIX,CACA,OAA0B,cAAnBqW,EAAUG,MAA2C,aAAnBH,EAAUG,QAAsBH,EAAUS,uBAAwB,EAC7G,CAKA,SAASC,GAAsBpzC,GAC7B,MAAMmzC,EAAuBD,GAAyBlzC,GACtD,OAAgC,IAAzBmzC,GAA0D,sBAAzBA,CAC1C,CACA,SAASE,GAAoBrzC,GAC3B,MAAM0yC,EAAY1yC,EAAIwD,IAAI,gBAC1B,MAAyB,iBAAdkvC,EACF1yC,EAAIwD,IAAI,mBAEVkvC,GAAW/R,eACpB,CACA,SAASwP,GAAqBnwC,GAC5B,MAAM0yC,EAAY1yC,EAAIwD,IAAI,gBAC1B,GAAyB,iBAAdkvC,EACT,OAAQA,GACN,IAAK,WACH,MAAO,WACT,IAAK,SACH,MAAO,YACT,QACE,OAGN,OAAOA,GAAWG,IACpB,CACA,SAASS,GAAqBtzC,GAE5B,MAAgB,aADHmwC,GAAqBnwC,EAEpC,CAQA,SAASuzC,GAAmBvzC,GAC1B,MAAM0yC,EAAY1yC,EAAIwD,IAAI,gBAC1B,GAAyB,iBAAdkvC,EAAwB,CACjC,MAAM7Z,EAAuB74B,EAAIwD,IAAI,wBAC/B41B,EAAuBp5B,EAAIwD,IAAI,wBACrC,OAAIq1B,GAAwBO,EACnB,sBACEP,EACF,cAEA,MAEX,CACA,MAA2B,aAApB6Z,GAAWG,KAAsBH,EAAUc,kBAAe,CACnE,CACA,SAASz+B,GAA4B/U,GACnC,MAAMyzC,EAAiBF,GAAmBvzC,GAC1C,MAA0B,gBAAnByzC,GAAuD,wBAAnBA,CAC7C,CACA,SAASC,GAAsB1zC,GAC7B,OAAOA,EAAI2zC,mBAAmB,oCAA4D3zC,EAAIwD,IAAI,6BACpG,CAMA,SAASkS,EAAMo6B,GACb,GAAKA,GAAQA,EAAI/sC,OAGjB,OAAO+sC,EAAIA,EAAI/sC,OAAS,EAC1B,CACA,SAAS6wC,GAAUtzB,EAAGC,EAAG0xB,GACvB,OAAS,MAAL3xB,GAAkB,MAALC,GAGL,MAALD,GAAkB,MAALC,GAAaD,EAAEvd,SAAWwd,EAAExd,QAAUud,EAAEuzB,MAAM,CAACzsB,EAAOvlB,IAAUowC,EAAaA,EAAW7qB,EAAO7G,EAAE1e,IAAU0e,EAAE1e,KAAWulB,EAC9I,CAmBA,SAAS0sB,GAA0BC,EAAOlE,GACxC,MAAMhuC,EAAQkyC,EAAMz+B,QAAQu6B,GACxBhuC,GAAS,IACXkyC,EAAMlyC,GAASkyC,EAAMA,EAAMhxC,OAAS,GACpCgxC,EAAMC,MAEV,CACA,SAASvkC,GAAiBskC,EAAOlE,GAC/B,MAAMhuC,EAAQkyC,EAAMz+B,QAAQu6B,GACxBhuC,GAAS,GACXkyC,EAAME,OAAOpyC,EAAO,EAExB,CAWA,SAAS6N,GAAiBqkC,EAAOlE,EAAQqE,GACvCH,EAAME,OAAOC,EAAS,EAAGrE,EAC3B,CAUA,SAASsE,GAAaJ,EAAOK,EAAeF,IAjB5C,SAASG,GAAoBN,EAAOO,GAClC,QAASlxC,EAAI,EAAGA,EAAIkxC,EAASvxC,OAAQK,IACnCqM,GAAiBskC,EAAOO,EAASlxC,GAErC,EAcEixC,CAAoBN,EAAOK,GAC3BA,EAAcvvC,QAAQwhB,UAAU9gB,QAASgvC,GAAQ7kC,GAAiBqkC,EAAOQ,EAAKL,GAChF,CACA,SAASM,GAAUT,EAAO3sB,GACxB,OAAO2sB,EAAMz+B,QAAQ8R,IAAS,CAChC,CACA,SAASqtB,GAASC,GAChB,OAAOA,GAAeC,QAASC,GAAMA,IAAM,EAC7C,CACA,SAASC,GAASC,EAAQhxC,GACV,MAAVA,GAA4B,MAAVgxC,GAGtBhxC,EAAOyB,QAAS6hB,GAAU0tB,EAAOnvC,KAAKyhB,GACxC,CAWA,IAAI2tB,GAA2B,6BAC3BC,GAAiB,CAAC,aAAc,WAAY,YAAa,cAAe,UACxEC,GAAW,CAAC,EAChB,SAASC,GAA0BzjC,GACjCA,EAAMsjC,KAA4B,CACpC,CACA,SAASI,GAA4B1jC,GACnC,OAA2C,IAApCA,EAAMsjC,GACf,CACA,IAAIK,GAAqC,MACvC,MAAMC,EAAO,CACXC,OAAQ,QACRC,OAAQ,QACRC,OAAQ,OACR19B,MAAO,OACPu1B,MAAO,MACPoI,KAAM,MACNC,MAAO,OAUT,OARsBC,IACpB,GAAmC,kBAAxBV,GAASU,GAClB,OAAOV,GAASU,GAElB,MAAMC,EAAKtE,SAASuE,cAAcR,EAAKM,IAAc,OACrDA,OACOV,GADPU,EAAY,KAAOA,GACUA,KAAaC,EAG9C,EAnByC,GAoBzC,SAASE,GAAuB91C,EAAK+1C,EAAanyC,GAChD,IAAIoyC,EAAgBD,EACpB,KAAOC,GAAe,CACpB,MAAMC,EAAerF,GAAY5wC,EAAKg2C,EAAepyC,GACrD,GAAIqyC,EACF,OAAOA,EAETD,EAAgBA,EAAcE,aAChC,CACA,OAAO,IACT,CACA,SAASC,GAAsBtF,EAASp/B,GACtC,SAAKA,IAAUo/B,IAcjB,SAASuF,GAAc3kC,GACrB,MAAM4kC,EAAc5kC,EACpB,OAAI4kC,EAAYC,KACPD,EAAYC,KAEjBD,EAAY3L,aACP2L,EAAY3L,eAfvB,SAAS6L,GAAiB9kC,GACxB,MAAMrE,EAAM,GACZ,IAAIopC,EAAU/kC,EAAMqjC,OACpB,KAAO0B,GACLppC,EAAIzH,KAAK6wC,GACTA,EAAUA,EAAQN,cAEpB,OAAO9oC,CACT,CASSmpC,CAAiBF,EAC1B,CApBSD,CAAc3kC,GAAO6D,QAAQu7B,IAAY,CAClD,CA6BA,IAAIjpC,EAAW,MACb9H,cAEEO,KAAKo2C,iBAAmB,GACxBp2C,KAAKq2C,WAAY,EAGjBr2C,KAAKs2C,UAAW,EAChBt2C,KAAKu2C,mBAAqB,EAG1Bv2C,KAAKw2C,sBAAwB,CAAC,EAC9Bx2C,KAAKiY,QAAU,KAAOjY,KAAKq2C,SAC7B,CACAI,aAAa12C,GACXC,KAAKqjB,mBAAqBtjB,EAAMsjB,mBAChCrjB,KAAK02C,YAAc32C,EAAMk0B,QACzBj0B,KAAKJ,aAAeG,EAAMH,aAC1BI,KAAKL,IAAMI,EAAMJ,IACjBK,KAAK22C,cAAgB52C,EAAM42C,aAC7B,CAgBAC,wBACE,OAAO52C,KAAKqjB,kBACd,CACAhK,UACE,QAAStW,EAAI,EAAGA,EAAI/C,KAAKo2C,iBAAiB1zC,OAAQK,IAChD/C,KAAKo2C,iBAAiBrzC,KAExB/C,KAAKo2C,iBAAiB1zC,OAAS,EAC/B1C,KAAKq2C,WAAY,EACjBr2C,KAAK62C,mBAAmB,CAAEtzC,KAAM,aAClC,CAIAmmC,iBAAiBnC,EAAWoC,EAAUP,GAC/BppC,KAAK82C,oBACR92C,KAAK82C,kBAAoB,IAAIpO,GAE/B1oC,KAAK82C,kBAAkBpN,iBAAiBnC,EAAWoC,EAAUP,EAC/D,CAEAQ,oBAAoBrC,EAAWoC,EAAUP,GACnCppC,KAAK82C,mBACP92C,KAAK82C,kBAAkBlN,oBAAoBrC,EAAWoC,EAAUP,EAEpE,CACAyN,mBAAmBzlC,GACbpR,KAAK82C,mBACP92C,KAAK82C,kBAAkBxzC,cAAc8N,EAEzC,CACA2lC,2BAA2BvH,EAAQwH,GACjC,OAAOh3C,KAAKi3C,gBAAgBzH,EAAQwH,EACtC,CACAxtC,yBAAyBwtC,GACvB,OAAOh3C,KAAKi3C,gBAAgBj3C,KAAKJ,aAAco3C,EACjD,CACAE,oBAAoB1H,EAAQwH,GAC1B,OAAOh3C,KAAKi3C,gBAAgBzH,EAAQwH,EACtC,CACAC,gBAAgBzH,EAAQwH,GACtB,MAAMG,EAAe,GACrB,UAAWC,KAAKJ,EAAU,CACxB,MAAMK,EAAUL,EAASI,GACrBC,GACFF,EAAa7xC,KAAKtF,KAAKs3C,eAAe9H,EAAQ4H,EAAGC,GAErD,CACA,OAAOF,CACT,CACAG,eAAe9H,EAAQp+B,EAAOu4B,GAC5B,GAAI3pC,KAAKq2C,UACP,MAAO,IAAM,KAEX7G,aAAkB+H,YAnG1B,SAASC,GAA6Bn0B,EAAoBo0B,EAAUrmC,EAAOu4B,GAEzE,MAAM+N,EADYvD,GAAUQ,GAAgBvjC,GAChB,CAAEumC,SAAS,QAAS,EAC5Ct0B,GAAsBA,EAAmBqmB,kBAC3CrmB,EAAmBqmB,iBAAiB+N,EAAUrmC,EAAOu4B,EAAU+N,EAEnE,CA8FMF,CAA6Bx3C,KAAK42C,wBAAyBpH,EAAQp+B,EAAOu4B,GAE1E6F,EAAO9F,iBAAiBt4B,EAAOu4B,GAEjC,MAAMiO,EAAcA,KAClBpI,EAAO5F,oBAAoBx4B,EAAOu4B,GAC3B,MAET,OAAA3pC,KAAKo2C,iBAAiB9wC,KAAKsyC,GACpB,KACLA,IACA53C,KAAKo2C,iBAAmBp2C,KAAKo2C,iBAAiB5wC,OAAQqyC,GAAOA,IAAOD,GAC7D,KAEX,CAOAE,wBAAwB1mC,EAAOu4B,GAC7B3pC,KAAKL,IAAIo4C,yBAAyB3mC,EAAOu4B,GACzC,MAAMiO,EAAcA,KAClB53C,KAAKL,IAAIq4C,4BAA4B5mC,EAAOu4B,GACrC,MAET,OAAA3pC,KAAKo2C,iBAAiB9wC,KAAKsyC,GACpB,KACLA,IACA53C,KAAKo2C,iBAAmBp2C,KAAKo2C,iBAAiB5wC,OAAQqyC,GAAOA,IAAOD,GAC7D,KAEX,CAMAxrC,2BAA2BgF,EAAOu4B,GAChC,OAAI3pC,KAAKq2C,UACA,IAAM,KAERr2C,KAAK83C,wBAAwB1mC,EAAOu4B,EAC7C,CASAt+B,4BAA4B4sC,EAAQtO,GAClC,GAAI3pC,KAAKq2C,UACP,OAEF,MAAM6B,EAAYD,EAAO/kC,KAAK,KAAOlT,KAAKu2C,qBACpC4B,EAAmB/mC,IACvB,GAAIA,EAAM5F,UAAW,CACnB,GAAI4F,EAAM5F,WAAa4F,EAAM5F,UAAUlL,KAAON,KAAKw2C,sBAAsB0B,GACvE,OAEFl4C,KAAKw2C,sBAAsB0B,GAAa9mC,EAAM5F,UAAUlL,EAC1D,CAMAqpC,EAL8B,CAC5BpmC,KAAM,sBACNiI,UAAW4F,EAAM5F,UACjB/H,OAAQ2N,EAAM3N,QAEc,EAEhCw0C,EAAO/yC,QAASkM,GAAUpR,KAAK83C,wBAAwB1mC,EAAO+mC,GAChE,CACAC,eAAez/B,GACT3Y,KAAKiY,UACPjY,KAAKo2C,iBAAiB9wC,KAAKqT,GAE3BA,GAEJ,CACA0/B,kBAAkBC,EAAMrkB,GACtB,MAAMlnB,EAAM/M,KAAKu4C,WAAWD,EAAMrkB,GAClC,OAAAj0B,KAAKo4C,eAAep4C,KAAKw4C,YAAY1wC,KAAK9H,KAAMs4C,EAAMrkB,IAC/ClnB,CACT,CACAwrC,WAAWD,EAAMrkB,EAASwkB,GACxB,OAAQxkB,GAAWj0B,KAAK02C,aAAa6B,WAAWD,EAAMG,EACxD,CAKAD,YAAYF,EAAMrkB,GAChB,OAAQA,GAAWj0B,KAAK02C,aAAa8B,YAAYF,EACnD,CAKAI,aAAa34C,EAAOk0B,GAClB,OAAQA,GAAWj0B,KAAK02C,aAAagC,aAAa34C,EACpD,GAIF,SAAS44C,GAAsBpnC,GAC7B,OAAOA,aAAeqnC,EACxB,CACA,IAAIA,GAAwB,cAAcrxC,EACxC9H,YAAYo5C,EAAaC,EAASC,EAAS14C,GACzCmH,QACAxH,KAAKg5C,UAAW,EAChBh5C,KAAKi5C,YAAa,EAGlBj5C,KAAKk5C,WAAaC,KAClBn5C,KAAKo5C,iCAAmC,KACxCp5C,KAAK64C,YAAcA,EACnB74C,KAAK84C,QAAUA,EACf94C,KAAKwG,WAAaqyC,KAAiBA,EAAYQ,cAC/Cr5C,KAAK+4C,QAAUA,EACf/4C,KAAKK,MAAQA,CACf,CACAgZ,UACMrZ,KAAKo5C,kCACPp5C,KAAKyX,MAAM,UAAM,GAEnBjQ,MAAM6R,SACR,CACA5B,MAAMohC,EAAax4C,GACjBL,KAAK64C,YAAcA,EACnB74C,KAAKK,MAAQA,EACbL,KAAKs5C,eAAiB,KAClBt5C,KAAKo5C,kCACPp5C,KAAKo5C,mCAEPp5C,KAAKu5C,cAAW,EAChBv5C,KAAKi5C,gBAAa,CACpB,CACAO,gBACE,OAAOx5C,KAAKk5C,UACd,CACAO,kBAAkBH,GAChBt5C,KAAKs5C,eAAiBA,CACxB,CACAI,oBACE,OAAO15C,KAAKs5C,cACd,CACAK,WACE,OAAO35C,KAAKK,KACd,CACAu5C,YACE,QAAI55C,KAAKu5C,UACAv5C,KAAKu5C,SAAS5tC,KAAMG,GAAUA,EAAM8tC,YAG/C,CACAC,YACE,OAAO75C,KAAK+4C,OACd,CACAzyC,YAAYE,GACVxG,KAAKwG,cAAwB,IAAbA,GAA8BA,EAC9CxG,KAAK62C,mBAAmB,CAAEtzC,KAAM,mBAClC,CACAu2C,eACE,OAAO95C,KAAKi5C,UACd,CACApyC,aACE,OAAO7G,KAAKwG,QACd,CACAuzC,aACE,OAAO/5C,KAAK84C,OACd,CACAv3B,QACE,OAAOvhB,KAAK+5C,YACd,CACAC,YAAYT,GACVv5C,KAAKu5C,SAAWA,CAClB,CACAU,cACE,OAAOj6C,KAAKu5C,QACd,CACAW,iBACE,OAAOl6C,KAAK64C,WACd,CACAsB,iBACE,MAAMn2C,EAAS,GACf,OAAAhE,KAAKo6C,eAAep2C,GACbA,CACT,CACAo2C,eAAeC,GACRr6C,KAAKu5C,UAGVv5C,KAAKu5C,SAASr0C,QAAS4G,IACjBktC,GAASltC,GACXuuC,EAAY/0C,KAAKwG,GACR6sC,GAAsB7sC,IAC/BA,EAAMsuC,eAAeC,EAAW,EAGtC,CACAC,qBACE,MAAMzB,EAAc74C,KAAK64C,YACzB,GAAKA,EAGL,OAAOA,EAAY0B,eACrB,CAGAC,kBACEx6C,KAAKy6C,gBACDz6C,KAAKo5C,kCACPp5C,KAAKo5C,mCAEP,MAAMzP,EAAW3pC,KAAK06C,0BAA0B5yC,KAAK9H,MACrDA,KAAKm6C,iBAAiBj1C,QAASqM,GAAQA,EAAIm4B,iBAAiB,iBAAkBC,IAC9E3pC,KAAKo5C,iCAAmC,KACtCp5C,KAAKm6C,iBAAiBj1C,QAASqM,GAAQA,EAAIq4B,oBAAoB,iBAAkBD,IACjF3pC,KAAKo5C,iCAAmC,KAE5C,CACAqB,gBACE,GAAIz6C,KAAK65C,YACP,OAEF,IAAIc,GAA4B,EAC5BC,GAA8B,EAC9BC,GAAuB,EAC3B,MAAMtB,EAAWv5C,KAAK86C,8BACtB,QAAS/3C,EAAI,EAAGwd,EAAIg5B,EAAS72C,OAAQK,EAAIwd,EAAGxd,IAAK,CAC/C,MAAMg4C,EAAiBxB,EAASx2C,GAChC,IAAKg4C,EAAenB,YAClB,SAEF,MAAMoB,EAAkBD,EAAeT,qBACf,SAApBU,GACFL,GAA4B,EAC5BE,GAAuB,GACM,WAApBG,GACTJ,GAA8B,EAC9BC,GAAuB,IAEvBF,GAA4B,EAC5BC,GAA8B,EAElC,CACA,MAAM3B,EAAa0B,GAA6BC,GAA+BC,EAC3E76C,KAAKi5C,aAAeA,IACtBj5C,KAAKi5C,WAAaA,EAClBj5C,KAAK62C,mBAAmB,CAAEtzC,KAAM,sBAEpC,CACAu3C,8BACE,MAAM/tC,EAAM,GACNkuC,EAAWC,IACfA,EAAMh2C,QAASZ,IACcq0C,GAAsBr0C,IAASA,EAAKu1C,YAE7DoB,EAAQ32C,EAAKi1C,UAEbxsC,EAAIzH,KAAKhB,EAAI,EAEhB,EAEH22C,SAAQj7C,KAAKu5C,UACNxsC,CACT,CACA2tC,4BACE16C,KAAKy6C,eACP,GAIEU,GAA4B,yBAC5BC,GAAqB,cAAc7zC,EACrC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,oBAClB,CACA2zC,uBACE,MAAQ17C,OAAQK,KACVs7C,EAAK37C,EAAIwD,IAAI,gBACnB,IAAKm4C,GAAoB,iBAAPA,EAChB,OAAO,EAET,MAAMhJ,EAAaF,GAAekJ,GAC5B7I,EAAiBF,GAAmB+I,GAC1C,SAAUhJ,IAAcG,EAC1B,CACA8I,qBACE,IAAKv7C,KAAKq7C,uBACR,MAAO,GAET,MAAQ17C,OAAQK,KACVo8B,EAAqBz8B,EAAIwD,IAAI,sBAE7Bq4C,EAAS,CAEbC,SAAU,GACVC,WAAW,EACXC,0BAA0B,EAC1B13B,UAAU,EACV23B,iBAAiB,EACjBC,aARgBl8C,EAAIwD,IAAI,aAQE,QAAU,OACpCyuC,WAAW7C,EAAQC,EAAQ8M,EAAOC,GAChC,MAAMC,EAAYF,EAAMz2C,aAClB42C,EAAYF,EAAM12C,aACxB,OAAO22C,GAAaC,EAAY,EAAID,EAAY,GAAI,CACtD,EACAE,UAAU,EACVC,oBAAoB,KAEjB/f,EAEHggB,MAAO,GAAGjB,MAEN5pC,EAAM,IAAI8qC,GAASb,EAAQ,KAAMA,EAAOY,OAAO,GACrD,OAAAp8C,KAAKu4C,WAAWhnC,GACT,CAACA,EACV,GAIE+qC,GAAuB,qBAC3B,SAASC,GAAmBC,GAC1B,MAAMx4C,EAAS,GACTy4C,EAAwBC,IAC5B,QAAS35C,EAAI,EAAGA,EAAI25C,EAAah6C,OAAQK,IAAK,CAC5C,MAAM+I,EAAQ4wC,EAAa35C,GACvBi2C,GAASltC,GACX9H,EAAOsB,KAAKwG,GACH6sC,GAAsB7sC,IAC/B2wC,EAAqB3wC,EAAMmuC,cAE/B,GAEFwC,SAAqBD,GACdx4C,CACT,CACA,SAAS24C,GAAqBC,GAC5B,OAAOA,EAAWC,OAAO,CAACx4B,EAAO9S,IAAQ8S,EAAQ9S,EAAIurC,iBAAkB,EACzE,CACA,SAASC,GAAkB9oB,EAAS+oB,EAASC,GAC3C,MAAMC,EAAiB,CAAC,EACxB,IAAKF,EACH,OAEFG,GAA6B,KAAMH,EAAUlxC,IAC3CoxC,EAAepxC,EAAM0tC,iBAAmB1tC,IAEtCmxC,GACFE,GAA6B,KAAMF,EAAUnxC,IAC3CoxC,EAAepxC,EAAM0tC,iBAAmB,OAG5C,MAAM4D,EAAgBpqC,OAAO08B,OAAOwN,GAAgB13C,OAAQlB,GAAiB,MAARA,GACrE2vB,EAAQykB,aAAa0E,EACvB,CACA,SAASC,GAAqB9rC,GAE5B,OADcA,EAAIgQ,QACL+7B,WAAWhB,GAC1B,CACA,SAASiB,GAAoBhsC,GAC3B,OAAOA,EAAIisC,WAAWF,WAAWnC,GACnC,CACA,SAASsC,GAAmBl6C,GAC1B,IAAIm6C,EAAW,GACf,OAAIn6C,aAAgBo6C,MACGp6C,EAAKoI,KAAMsU,GAAmB,iBAANA,GAE3Chf,EAAU,uEAEVy8C,EAAWn6C,EAEY,iBAATA,EAChBm6C,EAAWn6C,EAAKqgB,MAAM,KAEtB3iB,EAAU,uDAELy8C,CACT,CAGA,IAAIE,GAAgC,MAClCn+C,YAAY4jB,GACVrjB,KAAKqjB,mBAAqBA,EAE1BrjB,KAAK69C,iBAAmC,IAAIj7C,IAC5C5C,KAAK89C,uBAAyC,IAAIl7C,GACpD,CACAm7C,KAAKxW,EAAWyW,GACd,MAAQ36B,qBAAoBw6B,oBAAqB79C,KACjD,IAAI2pC,EAAWqU,EACf,GAAI36B,EAAmB2J,mBAAoB,CACzC2c,EAAYv4B,IACViS,EAAmBsJ,aAAa,IAAMqxB,EAAa5sC,GAAM,EAE3D,IAAI6sC,EAAiBJ,EAAiB16C,IAAIokC,GACrC0W,IACHA,EAAiC,IAAIr7C,IACrCi7C,EAAiB36C,IAAIqkC,EAAW0W,IAElCA,EAAe/6C,IAAI86C,EAAcrU,EACnC,CACA,OAAOA,CACT,CACAuU,WAAWF,GACT,MAAQ36B,qBAAoBy6B,0BAA2B99C,KACvD,IAAI2pC,EAAWqU,EACf,OAAI36B,EAAmB2J,qBACrB2c,EAAWA,CAACpC,EAAWn2B,KACrBiS,EAAmBsJ,aAAa,IAAMqxB,EAAazW,EAAWn2B,GAAM,EAEtE0sC,EAAuB56C,IAAI86C,EAAcrU,IAEpCA,CACT,CACAwU,OAAO5W,EAAWyW,GAChB,MAAQH,oBAAqB79C,KACvBi+C,EAAiBJ,EAAiB16C,IAAIokC,GAC5C,GAAI0W,EAAgB,CAClB,MAAMG,EAAUH,EAAe96C,IAAI66C,GACnC,GAAII,EACFH,SAAepU,OAAOmU,GACM,IAAxBC,EAAexU,MACjBoU,EAAiBhU,OAAOtC,GAEnB6W,CAEX,CACA,OAAOJ,CACT,CACAK,aAAaL,GACX,MAAQF,0BAA2B99C,KAC7Bo+C,EAAUN,EAAuB36C,IAAI66C,GAC3C,OAAII,GACFN,EAAuBjU,OAAOmU,GACvBI,GAEFJ,CACT,GAIEM,GAAmC,IAAI1zC,IAAI,CAAC,YAAa,cAAe,cAC5E,SAAS6X,GAAe+sB,EAAQ35B,GAC9B,GAAc,MAAV25B,EAGJ,IAAImO,MAAMY,QAAQ/O,GAAS,CACzB,QAASzsC,EAAI,EAAGA,EAAIysC,EAAO9sC,OAAQK,IACjC8S,EAAS9S,EAAEsD,WAAYmpC,EAAOzsC,IAEhC,MACF,CACA,UAAY2e,EAAKqF,KAAU/T,OAAOk0B,QAAQsI,GACpC8O,GAAiBzyC,IAAI6V,IAGzB7L,EAAS6L,EAAKqF,EAAK,CAEvB,CACA,SAASlmB,GAAa2uC,GACpB,MAAMroB,EAAO,CAAC,EACRlU,EAAOD,OAAOC,KAAKu8B,GACzB,QAASzsC,EAAI,EAAGA,EAAIkQ,EAAKvQ,OAAQK,IAAK,CACpC,GAAIu7C,GAAiBzyC,IAAIoH,EAAKlQ,IAC5B,SAEF,MAAM2e,EAAMzO,EAAKlQ,GAEjBokB,EAAKzF,GADS8tB,EAAO9tB,EAEvB,CACA,OAAOyF,CACT,CACA,SAASq3B,GAAqBhP,EAAQiP,GACpC,IAAKjP,EACH,OAEF,MAAM0E,EAAM1E,EACNziC,EAAM,CAAC,EACbiG,cAAOC,KAAKihC,GAAKhvC,QAASwc,IACxB,GAAI+8B,GAAcA,EAAWxpC,QAAQyM,IAAQ,GAAK48B,GAAiBzyC,IAAI6V,GACrE,OAEF,MAAMqF,EAAQmtB,EAAIxyB,GAGhB3U,EAAI2U,GAFuBg9B,GAAiB33B,IAAUA,EAAMtnB,cAAgBuT,OAEjEwrC,GAAqBz3B,GAErBA,IAGRha,CACT,CACA,SAAS4xC,GAAsBzK,GAC7B,IAAKA,EACH,MAAO,GAET,MAAM0K,EAAY5rC,OAClB,GAAgC,mBAArB4rC,EAAUlP,OACnB,OAAOkP,EAAUlP,OAAOwE,GAE1B,MAAM2K,EAAM,GACZ,UAAWn9B,KAAOwyB,EACZA,EAAI4K,eAAep9B,IAAQwyB,EAAI6K,qBAAqBr9B,IACtDm9B,EAAIv5C,KAAK4uC,EAAIxyB,IAGjB,OAAOm9B,CACT,CACA,SAASG,GAAWC,EAAMx7C,EAAQy7C,GAAgB,EAAMC,GAA0B,GAC3ErsC,EAAQrP,IAGbgf,GAAehf,EAAQ,CAACie,EAAK09B,KAC3B,GAAId,GAAiBzyC,IAAI6V,GACvB,OAEF,IAAI29B,EAAYJ,EAAKv9B,GACjB29B,IAAcD,IAGdD,GACyC,MAAbE,GAAoC,MAAfD,GAEG,iBAAhBA,GAA4BA,EAAY3/C,cAAgBuT,SAG1FqsC,EAAY,CAAC,EACbJ,EAAKv9B,GAAO29B,GAIdX,GAAiBU,IAAgBV,GAAiBW,KAAe1B,MAAMY,QAAQc,GACjFL,GAAWK,EAAWD,EAAaF,EAAeC,IACzCD,QAAiC,IAAhBE,KAC1BH,EAAKv9B,GAAO09B,KAGlB,CACA,SAASE,GAAoBr8C,EAAMuiB,EAAO+5B,GACxC,IAAK/5B,IAAUviB,EACb,OAEF,IAAKs8C,EACH,OAAOt8C,EAAKuiB,GAEd,MAAMg6B,EAASh6B,EAAM5B,MAAM,KAC3B,IAAI67B,EAAgBx8C,EACpB,QAASF,EAAI,EAAGA,EAAIy8C,EAAO98C,OAAQK,IAAK,CACtC,GAAqB,MAAjB08C,EACF,OAEFA,EAAgBA,EAAcD,EAAOz8C,GACvC,CACA,OAAO08C,CACT,CACA,SAASf,GAAiB33B,GACxB,MAAwB,iBAAVA,GAAgC,OAAVA,CACtC,CAGA,IAAI24B,GAAmB,CACrBhE,WAAW,EACXz3B,UAAU,GAER07B,GAAqB,EACzB,SAASxG,KACP,OAAOwG,IACT,CACA,SAAS3G,GAASznC,GAChB,OAAOA,aAAe8qC,EACxB,CACA,IAAIA,GAAW,cAAc90C,EAC3B9H,YAAY+7C,EAAQoE,EAAoBxD,EAAOyD,GAC7Cr4C,QACAxH,KAAKg5C,UAAW,EAGhBh5C,KAAKk5C,WAAaC,KAElBn5C,KAAK8/C,iBAAmB,KACxB9/C,KAAK+/C,QAAS,EACd//C,KAAKggD,aAAc,EACnBhgD,KAAKigD,gBAAiB,EACtBjgD,KAAKkgD,kBAAmB,EACxBlgD,KAAKwZ,cAAe,EACpBxZ,KAAKmgD,mBAAqB,IAAIzX,EAC9B1oC,KAAKogD,gBAAiB,EACtBpgD,KAAKqgD,gBAAiB,EACtBrgD,KAAKsgD,aAAc,EACnBtgD,KAAKugD,mBAAoB,EACzBvgD,KAAKw7C,OAASA,EACdx7C,KAAK4/C,mBAAqBA,EAC1B5/C,KAAKo8C,MAAQA,EACbp8C,KAAK6/C,QAAUA,EACf7/C,KAAKwgD,SAAShF,EAChB,CACArzC,UAAUpI,GACRC,KAAKygD,mBAAqB1gD,EAAM0gD,kBAClC,CACAjH,gBACE,OAAOx5C,KAAKk5C,UACd,CACAsH,SAAShF,QACa,IAAhBA,EAAO9oC,MACW,QAAhB8oC,EAAO9oC,MAAkC,SAAhB8oC,EAAO9oC,QAClC1S,KAAK0S,KAAO8oC,EAAO9oC,OAGM,QAAvB8oC,EAAOkF,aAAgD,SAAvBlF,EAAOkF,eACzC1gD,KAAK0S,KAAO8oC,EAAOkF,aAGvB,MAAMC,EAAYnF,EAAOmF,UACnBC,EAAmBpF,EAAOoF,sBACd,IAAdD,EACgB,OAAdA,IACF3gD,KAAK2gD,UAAYA,GAGM,OAArBC,IACF5gD,KAAK2gD,UAAYC,GAGrB,MAAMC,EAAOrF,EAAOqF,KAGlB7gD,KAAK8gD,aADM,IAATD,GACcA,GAFErF,EAAOuF,YAOzB/gD,KAAKghD,eADe,IAAlBxF,EAAOz3B,OACMy3B,EAAOz3B,OAEPy3B,EAAOyF,eAExB,MAAM96B,EAAOq1B,EAAOr1B,KACd+6B,EAAc1F,EAAO0F,iBACd,IAAT/6B,EACFnmB,KAAKmmB,KAAOA,OACa,IAAhB+6B,IACTlhD,KAAKmmB,KAAO+6B,EAEhB,CAEAC,UAAU3F,EAAQoE,EAAoBn8C,GACpCzD,KAAKw7C,OAASA,EACdx7C,KAAK4/C,mBAAqBA,EAC1B5/C,KAAKohD,sBACLphD,KAAKqhD,kBACLrhD,KAAKshD,cACLthD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,gBAAiB99C,GAChF,CACA+9C,wBACE,OAAOxhD,KAAK4/C,kBACd,CACA6B,UAAUv7C,GACRlG,KAAKkG,OAASA,CAChB,CACAw7C,YACE,OAAO1hD,KAAKkG,MACd,CACAuzC,kBAAkBH,GAChBt5C,KAAKs5C,eAAiBA,CACxB,CACAI,oBACE,OAAO15C,KAAKs5C,cACd,CAEAxwC,gBACE9I,KAAKohD,sBACLphD,KAAK2hD,iBAAiB,oBACtB3hD,KAAKqhD,kBACLrhD,KAAKshD,aACP,CACAD,kBACE,MAAMO,EAAsB5hD,KAAKL,IAAIwD,IAAI,4BACzCnD,KAAKu/C,kBAAoBzsC,EAAQ9S,KAAKw7C,OAAOh2B,QAAUxlB,KAAKw7C,OAAOh2B,MAAMvQ,QAAQ,MAAQ,IAAM2sC,EAC/F5hD,KAAK6hD,yBAA2B/uC,EAAQ9S,KAAKw7C,OAAOsG,eAAiB9hD,KAAKw7C,OAAOsG,aAAa7sC,QAAQ,MAAQ,IAAM2sC,CACtH,CACAR,sBACE,MAAM5F,EAASx7C,KAAKw7C,OACpBx7C,KAAKomB,SAAWo1B,EAAOp1B,UAAYpmB,KAAKL,IAAI2I,YAAYy5C,2BACxD/hD,KAAKy7C,SAAWD,EAAOC,UAAY52C,OAAOm9C,gBAC5C,CACAV,cACEthD,KAAKogD,eAAiBttC,EAAQ9S,KAAKw7C,OAAOsG,eAAiBhvC,EAAQ9S,KAAKw7C,OAAOyG,qBAAuBnvC,EAAQ9S,KAAKw7C,OAAO0G,iBAC5H,CACAP,iBAAiBl+C,GACf,MAAM0+C,EAAeniD,KAAKoiD,yBAAyBpiD,KAAKw7C,QACxDx7C,KAAKqiD,eAAeF,EAAc1+C,GAAQ,EAC5C,CACA2+C,yBAAyB5G,GACvB,IAAIn3B,EACJ,MAAMi+B,EAAclU,GAAcoN,EAAOn3B,OACnCk+B,EAAqBnU,GAAcoN,EAAO2G,cAChD,OACE99B,EADiB,MAAfi+B,EACMA,EACuB,MAAtBC,EACDA,EAEA,IAEHx9C,KAAKqI,IAAIrI,KAAKuI,IAAI+W,EAAOrkB,KAAKy7C,UAAWz7C,KAAKomB,SACvD,CACAo8B,eACE,OAAO,CACT,CACAC,oBAAoBrG,GAClB,OAAInrC,GAASjR,KAAKw7C,UAAWvqC,GAASjR,KAAKw7C,OAAOngC,iBAGI,IAA7Brb,KAAKw7C,OAAOngC,cACZrb,KAAKw7C,OAAOngC,eAAiB+gC,EAExD,CACA5qC,YACE,OAAOxR,KAAK6/C,OACd,CACA6C,kBAEE,QADwB1iD,KAAKw7C,OAAOh2C,MAEtC,CACAm9C,sBACE,OAAO3iD,KAAKu/C,iBACd,CACAqD,mBACE,OAAO5iD,KAAKogD,cACd,CACAyC,6BACE,OAAO7iD,KAAK6hD,wBACd,CACAiB,iBACE,OAAO9iD,KAAK+iD,WACd,CACArZ,iBAAiBnC,EAAWyW,GACtBh+C,KAAKqjB,mBAAmB2J,qBAAuBhtB,KAAKgjD,gCACtDhjD,KAAKmgD,mBAAmBjX,sBAAsBlpC,KAAKqjB,oBACnDrjB,KAAKgjD,8BAAgC,IAAIpF,GAA8B59C,KAAKqjB,qBAE9E,MAAMsmB,EAAW3pC,KAAKgjD,+BAA+BjF,KAAKxW,EAAWyW,IAAiBA,EACtFh+C,KAAKmgD,mBAAmBzW,iBAAiBnC,EAAWoC,EACtD,CACAC,oBAAoBrC,EAAWyW,GAC7B,MAAMrU,EAAW3pC,KAAKgjD,+BAA+B7E,OAAO5W,EAAWyW,IAAiBA,EACxFh+C,KAAKmgD,mBAAmBvW,oBAAoBrC,EAAWoC,EACzD,CACAsZ,mCAAmC99C,GACjC,OAAOnF,KAAKL,IAAIujD,oBAAoB,CAClCz9C,KAAMN,EACNlC,KAAMkC,EAAQlC,KACdiY,OAAQlb,KACRw7C,OAAQx7C,KAAKw7C,QAEjB,CACA2H,oBAAoBh+C,GAClB,GAA6C,kBAAlCnF,KAAKw7C,OAAO4H,kBACrB,OAAOpjD,KAAKw7C,OAAO4H,kBAErB,GAA6C,mBAAlCpjD,KAAKw7C,OAAO4H,kBAAkC,CACvD,MAAM93C,EAAStL,KAAKijD,mCAAmC99C,GAEvD,OAAOk+C,EADUrjD,KAAKw7C,OAAO4H,mBACb93C,EAClB,CACA,OAAO,CACT,CACAg4C,eAAen+C,GACb,GAAIA,EAAQ/E,MACV,GAAIJ,KAAKL,IAAIwD,IAAI,aACf,IAAKgC,EAAQlC,OAASjD,KAAKL,IAAIwD,IAAI,mBACjC,OAAO,WAGJnD,KAAKL,IAAIwD,IAAI,mBAChB,OAAO,EAIb,OAAOnD,KAAKujD,aAAap+C,EAASnF,KAAKw7C,OAAOU,SAChD,CACAsH,uBACE,QAASxjD,KAAKw7C,OAAOW,kBACvB,CACAsH,eACE,QAASzjD,KAAKw7C,OAAOkI,UACvB,CACAC,qBACE,QAAS3jD,KAAKw7C,OAAOsE,gBACvB,CACA8D,UAAUz+C,GACR,OAAOnF,KAAKujD,aAAap+C,EAASnF,KAAKw7C,OAAOqI,QAChD,CACAC,YAAY3+C,GACV,OAAOnF,KAAKujD,aAAap+C,EAASnF,KAAKw7C,OAAOuI,UAChD,CACAC,wBAAwB7+C,GACtB,MAAMm2C,EAAKt7C,KAAKL,IAAIwD,IAAI,gBACxB,GAAIm4C,GAAoB,iBAAPA,EAAiB,CAChC,MAAM2I,EAAW1G,GAAoBv9C,OAASoyC,GAAekJ,GAC7D,OAAOt7C,KAAKujD,aAAap+C,EAAS8+C,EACpC,CACE,OAAOjkD,KAAKujD,aAAap+C,EAASnF,KAAKw7C,OAAO0I,kBAElD,CACAC,gBAAgBh/C,GACd,OAAOnF,KAAKujD,aAAap+C,EAASnF,KAAKw7C,OAASx7C,KAAKw7C,OAAO4I,cAAgB,KAC9E,CACAC,cACE,QAASrkD,KAAKskD,eAAe,YAC/B,CAEAA,eAAe5iC,GACb,OAAO1hB,KAAKw7C,OAAO95B,IAAQg+B,GAAiBh+B,EAC9C,CACA6hC,aAAap+C,EAAS4hB,GACpB,MAAqB,kBAAVA,EACFA,EAEY,mBAAVA,GAEYA,EADN/mB,KAAKijD,mCAAmC99C,GAK3D,CACA4K,eAAegzC,GACT/iD,KAAK+iD,cAAgBA,IAGzB/iD,KAAK+iD,YAAcA,EACnB/iD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,yBAA0B,kBACzF,CACAgD,UAAUxE,EAAQt8C,GAChBzD,KAAK+/C,OAASA,EACd//C,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,gBAAiB99C,GAChF,CACA89C,kBAAkBh+C,EAAME,GACtB,OAAOzD,KAAKL,IAAIujD,oBAAoB,CAClC3/C,OACA2X,OAAQlb,KACRsR,QAAS,CAACtR,MACVyD,UAEJ,CACA+gD,WACE,OAAOxkD,KAAK+/C,MACd,CACAthC,UACE,OAAOze,KAAK0S,IACd,CACA+xC,QAAQ/xC,EAAMjP,GACRzD,KAAK0S,OAASA,IAChB1S,KAAK0S,KAAOA,EACZ1S,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,cAAe99C,KAE9EzD,KAAK0kD,0BAA0B,OACjC,CACAC,aACE,QAAS3kD,KAAKskD,eAAe,WAC/B,CAEAM,kBACE,MAAqB,QAAd5kD,KAAK0S,IACd,CAEAmyC,mBACE,MAAqB,SAAd7kD,KAAK0S,IACd,CAEAoyC,aACE,OAAO7zC,GAASjR,KAAK0S,KACvB,CAEAqyC,YACE,OAAOjyC,EAAQ9S,KAAK0S,KACtB,CACAsyC,eACE,OAAOhlD,KAAK2gD,SACd,CACAsE,aAAaC,GACXllD,KAAK2gD,UAAYuE,EACjBllD,KAAK0kD,0BAA0B,YACjC,CACAS,eAAerE,EAASr9C,GAClBzD,KAAKggD,cAAgBc,IACvB9gD,KAAKggD,YAAcc,EACnB9gD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,qBAAsB99C,IAEvF,CACA2hD,gBACE,OAAOplD,KAAKggD,WACd,CACAqF,WAAWC,GACTtlD,KAAKslD,QAAUA,EACftlD,KAAK0kD,0BAA0B,UACjC,CACAa,aACE,OAAOvlD,KAAKslD,OACd,CACAE,UACE,OAAOxlD,KAAKylD,IACd,CACAC,aACE,OAAO1lD,KAAK2lD,OACd,CACAC,WACE,OAAO5lD,KAAKylD,KAAOzlD,KAAK6lD,WAC1B,CACAC,QAAQL,EAAMhiD,GACZzD,KAAK2lD,QAAU3lD,KAAKylD,KAChBzlD,KAAKylD,OAASA,IAChBzlD,KAAKylD,KAAOA,EACZzlD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,cAAe99C,IAEhF,CACAsiD,iBACE,OAAO/lD,KAAKwZ,YACd,CAEAwsC,gBAAgBC,EAAQxiD,EAAQyiD,GAC1BlmD,KAAKwZ,eAAiBysC,IACxBjmD,KAAKwZ,aAAeysC,EACpBjmD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,sBAAuB99C,KAEtF,MAAM0iD,EAAqBnmD,KAAKuhD,kBAAkB,gBAAiB99C,GAC/DyiD,GACFlH,GAAWmH,EAAoBD,GAEjClmD,KAAKmgD,mBAAmB78C,cAAc6iD,EACxC,CACAC,YACE,OAAOpmD,KAAKygD,mBAAmB2F,UAAUpmD,KAC3C,CACAghD,UAAUj9B,GAEN/jB,KAAK+jB,QADQ,IAAXA,GAA8B,SAAXA,EACP,OACM,UAAXA,EACK,QAEA,KAEhB/jB,KAAK0kD,0BAA0B,SACjC,CACA2B,oBAAoBnG,EAAkBz8C,GAChCzD,KAAKkgD,mBAAqBA,IAC5BlgD,KAAKkgD,iBAAmBA,EACxBlgD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,0BAA2B99C,IAE5F,CACA6iD,kBAAkBrG,EAAgBx8C,GAC5BzD,KAAKigD,iBAAmBA,IAC1BjgD,KAAKigD,eAAiBA,EACtBjgD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,wBAAyB99C,IAE1F,CACA8iD,qBACE,OAAOvmD,KAAKkgD,gBACd,CACAsG,mBACE,OAAOxmD,KAAKigD,cACd,CACAwG,WACE,MAAuB,SAAhBzmD,KAAK+jB,QAAqC,UAAhB/jB,KAAK+jB,MACxC,CACA2iC,eACE,MAAuB,SAAhB1mD,KAAK+jB,MACd,CACA4iC,gBACE,MAAuB,UAAhB3mD,KAAK+jB,MACd,CACA6iC,YACE,OAAO5mD,KAAK+jB,MACd,CACA8iC,WAAW/F,EAASr9C,GAClB,MAAMG,GAAuB,IAAZk9C,EACb9gD,KAAK8gD,UAAYl9C,IACnB5D,KAAK8gD,QAAUl9C,EACf5D,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,iBAAkB99C,KAEjFzD,KAAK0kD,0BAA0B,OACjC,CACA9K,YACE,OAAO55C,KAAK8gD,OACd,CACAgG,qBAEE,OADe9mD,KAAKob,YACL2rC,wBACjB,CACAC,4BACE,IAAI9gD,EAASlG,KAAK0hD,YAClB,IAAKx7C,IAAWA,EAAO2zC,YACrB,MAAO,CAAEoN,gBAAiB,EAAGC,iBAAiB,GAEhD,MAAMD,EAAkB/gD,EAAOihD,kBAAoB,EACnD,IAAID,GAAkB,EACtB,KAAOhhD,GAAQ,CACb,IAAKA,EAAO2zC,YAAa,CACvBqN,GAAkB,EAClB,KACF,CACAhhD,EAASA,EAAOw7C,WAClB,CACA,MAAO,CAAEuF,kBAAiBC,kBAC5B,CACA9rC,YACE,OAAOpb,KAAKw7C,MACd,CACA4L,gBACE,OAAOpnD,KAAKw7C,MACd,CACAlB,qBACE,OAAOt6C,KAAKw7C,OAAOjB,eACrB,CACAiD,WACE,OAAOx9C,KAAKo8C,KACd,CACA76B,QACE,OAAOvhB,KAAKo8C,KACd,CACAiL,cACE,OAAOrnD,KAAKo8C,KACd,CACAU,iBACE,OAAO98C,KAAK6lD,WACd,CACAyB,sBACE,OAAOtnD,KAAK8/C,gBACd,CAEAyH,oBAAoB35C,GAClB,MAAM45C,EAAU55C,IAAW5N,KAAK8/C,iBAChC,OAAA9/C,KAAK8/C,iBAAmBlyC,EACjB45C,CACT,CACAC,uBAAuBtiD,GAOrB,OANenF,KAAKL,IAAIujD,oBAAoB,CAC1Cz9C,KAAMN,EACNlC,KAAMkC,EAAQlC,KACdu4C,OAAQx7C,KAAKw7C,OACbtgC,OAAQlb,MAGZ,CACA0nD,WAAWviD,GACT,GAAI8L,GAASjR,KAAKw7C,OAAOmM,SACvB,OAAO,EAET,MAAMr8C,EAAStL,KAAKynD,uBAAuBtiD,GACrCwiD,EAAU3nD,KAAKw7C,OAAOmM,QAAQr8C,GACpC,OAAOvG,KAAKqI,IAAIu6C,EAAS,EAC3B,CACAC,WAAWziD,GACT,GAAI8L,GAASjR,KAAKw7C,OAAOqM,SACvB,OAAO,EAET,MAAMv8C,EAAStL,KAAKynD,uBAAuBtiD,GACrC0iD,EAAU7nD,KAAKw7C,OAAOqM,QAAQv8C,GACpC,OAAOvG,KAAKqI,IAAIy6C,EAAS,EAC3B,CACAxF,eAAewD,EAAapiD,EAAQqkD,GAAS,GAC3CjC,EAAc9gD,KAAKqI,IAAIy4C,EAAa7lD,KAAKomB,UACzCy/B,EAAc9gD,KAAKuI,IAAIu4C,EAAa7lD,KAAKy7C,UACrCz7C,KAAK6lD,cAAgBA,IACvB7lD,KAAK6lD,YAAcA,EACf7lD,KAAKmmB,MAAmB,SAAX1iB,GAAgC,qBAAXA,IACpCzD,KAAKmmB,KAAO,MAET2hC,GACH9nD,KAAK+nD,4BAA4BtkD,IAGrCzD,KAAK0kD,0BAA0B,QACjC,CACAqD,4BAA4BtkD,GAC1BzD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,eAAgB99C,GAC/E,CACAukD,iBAAiB3jC,GACf,OAAOA,EAAQrkB,KAAKy7C,QACtB,CACAwM,cACE,OAAOjoD,KAAKomB,QACd,CACA8hC,cACE,OAAOloD,KAAKy7C,QACd,CACA0M,UACE,OAAOnoD,KAAKmmB,MAAQ,CACtB,CAGAiiC,QAAQjiC,GACFnmB,KAAKmmB,OAASA,IAChBnmB,KAAKmmB,KAAOA,GAEdnmB,KAAK0kD,0BAA0B,OACjC,CACA2D,WAAW5kD,GACTzD,KAAKqiD,eAAeriD,KAAKomB,SAAU3iB,EACrC,CACA6kD,kBAAkBC,EAAU9kD,GACtBzD,KAAKqgD,iBAAmBkI,IAC1BvoD,KAAKqgD,eAAiBkI,EACtBvoD,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,wBAAyB99C,KAExFzD,KAAK0kD,0BAA0B,WACjC,CACAvpC,mBACE,OAAOnb,KAAKqgD,cACd,CACAmI,eAAe71C,EAAOlP,GAChBzD,KAAKsgD,cAAgB3tC,IACvB3S,KAAKsgD,YAAc3tC,EACnB3S,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,qBAAsB99C,KAErFzD,KAAK0kD,0BAA0B,QACjC,CACAhzC,gBACE,OAAO1R,KAAKsgD,WACd,CACAmI,sBACE,OAAOzoD,KAAK0R,iBAAmB1R,KAAKmb,oBAAsBnb,KAAK0oD,eACjE,CACAC,uBACE,OAAO3oD,KAAK4oD,gBAAkB5oD,KAAK6oD,mBAAqB7oD,KAAK8oD,cAC/D,CACAC,eAAehiC,EAAOtjB,GAChBzD,KAAKugD,oBAAsBx5B,IAC7B/mB,KAAKugD,kBAAoBx5B,EACzB/mB,KAAKmgD,mBAAmB78C,cAActD,KAAKuhD,kBAAkB,qBAAsB99C,IAEvF,CACAilD,gBACE,OAAO1oD,KAAKugD,iBACd,CACAqI,eACE,OAAmC,IAA5B5oD,KAAKw7C,OAAOwN,WACrB,CACAF,eACE,OAAmC,IAA5B9oD,KAAKw7C,OAAOyN,WACrB,CACAJ,kBACE,OAAsC,IAA/B7oD,KAAKw7C,OAAO0N,cACrB,CACAxE,0BAA0BhjC,GACxB1hB,KAAKmgD,mBAAmB78C,cAAc,CACpCC,KAAM,qBACNme,OAEJ,GAIEynC,GAAqB,CACvBC,cAAe,CACbvkC,YAAa,0BACbf,UAAW,yBAEbulC,aAAc,CACZxkC,YAAa,0BACbf,UAAW,0BAKXwlC,GAAmB,MACrB7pD,cACEO,KAAKupD,aAAe,CAAC,CACvB,CACAC,gBAAgBv2C,GACd,QAASlQ,EAAI,EAAGA,EAAIkQ,EAAKvQ,OAAQK,IAC/B/C,KAAKupD,aAAat2C,EAAKlQ,KAAM,CAEjC,CACA0mD,aAAarN,EAAOsN,GAClBtN,EAAQjO,GAAgBiO,GACxB,IAAIuN,EAAQ,EACZ,OAAa,CACX,IAAIC,EAcJ,GAbIxN,GACFwN,EAAUxN,EACI,IAAVuN,IACFC,GAAW,IAAMD,IAEVD,GACTE,EAAUF,EACI,IAAVC,IACFC,GAAW,IAAMD,IAGnBC,EAAUD,GAEP3pD,KAAKupD,aAAaK,GACrB,OAAA5pD,KAAKupD,aAAaK,IAAW,EACtBzX,OAAOyX,GAEhBD,GACF,CACF,GAIEE,GAAgB,cAActiD,EAChC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,eAClB,CACAS,UAAUpI,GACRC,KAAK8pD,gBAAkB/pD,EAAM+pD,eAC/B,CACAC,iBAAiBC,EAAMC,EAAgBC,EAAczmD,GACnD,MAAM0mD,EAAmB,IAAIb,IACrBc,eAAcC,iBAAgBC,mBAAoBtqD,KAAKuqD,wBAAwBL,GACvFC,EAAiBX,gBAAgBc,GACjC,MAAME,EAAiBxqD,KAAKyqD,yBAC1BT,EACA,EACAC,EACAG,EACAD,EACAE,EACA5mD,GAEIinD,EAAW1qD,KAAK2qD,YAAYH,EAAgB,GAC5CI,EAAa5qD,KAAK6qD,kBAAkBL,EAAgB,EAAGE,EAAUP,GAOvEhN,UAA6B,KAAMyN,EANTE,CAACh/C,EAAO5F,KAC5ByyC,GAAsB7sC,IACxBA,EAAM0uC,kBAER1uC,EAAM2tC,kBAAkBvzC,EAAM,GAGzB,CACL0kD,aACAF,WAEJ,CACAH,wBAAwBL,GACtB,MAAME,EAAe,GACfC,EAAiB,GACjBC,EAAkB,GACxB,OAAIJ,GACF/M,GAA6B,KAAM+M,EAAe5lD,IAChD,GAAIq0C,GAAsBr0C,GAExB+lD,EAAe/kD,KADDhB,OAET,CACL,MAAMiN,EAAMjN,EACZgmD,EAAgBhlD,KAAKiM,EAAIgQ,SACzB6oC,EAAa9kD,KAAKiM,EACpB,IAGG,CAAE64C,eAAcC,iBAAgBC,kBACzC,CAMAS,uBAAuBC,EAAUC,GAC/B,MAAMC,EAAO,GACPC,EAAOnrD,KAAKorD,UAAUH,GAC5BD,SAAS9lD,QAASqM,IAChB,IAAI85C,EAAY95C,EAChB,QAASxO,EAAIooD,EAAO,EAAGpoD,GAAK,EAAGA,IAAK,CAClC,MAAMuoD,EAAY,IAAI1S,GAAsB,KAAM,aAAarnC,EAAIgQ,YAAYxe,KAAK,EAAMA,GAC1F/C,KAAKu4C,WAAW+S,GAChBA,EAAUtR,YAAY,CAACqR,IACvBA,EAAU5R,kBAAkB6R,GAC5BD,EAAYC,CACd,CACa,IAATH,GACF55C,EAAIkoC,kBAAkB,MAExByR,EAAK5lD,KAAK+lD,EAAS,GAEd,CAACH,EAAMC,EAChB,CACAC,UAAUG,GACR,IAAIJ,EAAO,EACPhV,EAAUoV,EACd,KAAOpV,GAAWA,EAAQ,IAAMwC,GAAsBxC,EAAQ,KAC5DgV,IACAhV,EAAUA,EAAQ,GAAG8D,cAEvB,OAAOkR,CACT,CACAN,kBAAkBL,EAAgBgB,EAAaC,EAAYtB,GACzD,MAAMnmD,EAAS,GACf,QAASjB,EAAI,EAAGA,EAAIynD,EAAe9nD,OAAQK,IAAK,CAC9C,MAAM+I,EAAQ0+C,EAAeznD,GAC7B,GAAI41C,GAAsB7sC,GAAQ,CAChC,MAAM4/C,EAAgB5/C,EAChB6/C,EAAc3rD,KAAK6qD,kBACvBa,EAAczR,cACduR,EAAc,EACdC,EACAtB,GAEFuB,EAAc1R,YAAY2R,GAC1B3nD,EAAOsB,KAAKomD,EACd,KAAO,CACL,IAAIE,EACAC,EACJ,QAAStrC,EAAIkrC,EAAa,EAAGlrC,GAAKirC,EAAajrC,IAAK,CAClD,MAAMurC,EAAW3B,EAAiBV,aAAa,KAAM,MAC/CsC,EAAoB/rD,KAAKgsD,wBAAwB,MACjDC,EAAc,IAAIrT,GAAsBmT,EAAmBD,GAAU,EAAMN,GACjFxrD,KAAKu4C,WAAW0T,GACZJ,GACFA,EAAmB7R,YAAY,CAACiS,IAElCJ,EAAqBI,EAChBL,IACHA,EAAmBC,EAEvB,CACA,GAAID,GAAoBC,EAGtB,IAFA7nD,EAAOsB,KAAKsmD,GACMpB,EAAe7+C,KAAMugD,GAASvT,GAAsBuT,IACvD,CACbL,EAAmB7R,YAAY,CAACluC,IAChC,QACF,CACE+/C,EAAmB7R,YAAYwQ,GAC/B,KACF,CAEFxmD,EAAOsB,KAAKwG,EACd,CACF,CACA,OAAO9H,CACT,CACA2mD,YAAYwB,EAAchB,GACxB,IAAIiB,EAAmBjB,EACvB,QAASpoD,EAAI,EAAGA,EAAIopD,EAAazpD,OAAQK,IAAK,CAC5C,MAAMg4C,EAAiBoR,EAAappD,GACpC,GAAI41C,GAAsBoC,GAAiB,CACzC,MACMsR,EAAUrsD,KAAK2qD,YADC5P,EACyBd,cAAekR,EAAO,GACjEiB,EAAmBC,IACrBD,EAAmBC,EAEvB,CACF,CACA,OAAOD,CACT,CACA3B,yBAAyBT,EAAM3pD,EAAO4pD,EAAgBqC,EAAkBnC,EAAkBE,EAAgB5mD,GACxG,IAAKumD,EACH,MAAO,GACT,MAAMhmD,EAAS,IAAI25C,MAAMqM,EAAKtnD,QAC9B,QAASK,EAAI,EAAGA,EAAIiB,EAAOtB,OAAQK,IAAK,CACtC,MAAMwpD,EAAMvC,EAAKjnD,GAEfiB,EAAOjB,GADL/C,KAAKwsD,cAAcD,GACTvsD,KAAKysD,kBACfxC,EACAsC,EACAlsD,EACAisD,EACAnC,EACAE,EACA5mD,GAGUzD,KAAK0sD,aACfzC,EACAsC,EACAD,EACAnC,EACA1mD,EAGN,CACA,OAAOO,CACT,CACAyoD,kBAAkBxC,EAAgBpR,EAAax4C,EAAOssD,EAAiBxC,EAAkBE,EAAgB5mD,GACvG,MAAMsoD,EAAoB/rD,KAAKgsD,wBAAwBnT,GACjDC,EAAUqR,EAAiBV,aAAasC,EAAkBjT,SAAW,KAAM,MAC3E8T,EAAgB,IAAIhU,GAAsBmT,EAAmBjT,GAAS,EAAOz4C,GACnFL,KAAKu4C,WAAWqU,GAChB,MAAMC,EAAwB7sD,KAAK8sD,kBAAkBjU,EAAawR,GAC9DwC,GACFxC,EAAezW,OAAOiZ,EAAsBnnD,IAAK,GAEnD,MAAMqnD,EAAgBF,GAAuBzsD,MACzC2sD,GACFH,EAActmD,YAAYymD,EAAclmD,cAE1C,MAAM0yC,EAAWv5C,KAAKyqD,yBACpBsB,EAAkBxS,SAClBl5C,EAAQ,EACR4pD,EACA0C,EACAxC,EACAE,EACA5mD,GAEFmpD,SAAc5S,YAAYT,GACnBqT,CACT,CACAZ,wBAAwBnT,GACtB,MAAMkT,EAAoB,CAAC,EAC3B/4C,cAAOg6C,OAAOjB,EAAmB/rD,KAAKL,IAAIwD,IAAI,uBAC9C6P,OAAOg6C,OAAOjB,EAAmBlT,GAC1BkT,CACT,CACAW,aAAazC,EAAgBzO,EAAQ8Q,EAAkBnC,EAAkB1mD,GACvE,MAAMwpD,EAAsBjtD,KAAKktD,mBAAmB1R,EAAQ8Q,GACxDW,GACFX,GAAkB1Y,OAAOqZ,EAAoBvnD,IAAK,GAEpD,IAAIwV,EAAS+xC,GAAqB/xC,OAClC,GAAKA,EAKE,CACL,MAAMiyC,EAAentD,KAAKotD,yBAAyB5R,EAAQtgC,EAAOsiC,YAClEtiC,EAAOimC,UAAUgM,EAAc3R,EAAQ/3C,GACvCzD,KAAKqtD,iBAAiBnyC,EAAQiyC,EAAc1pD,EAC9C,KATa,CACX,MAAM24C,EAAQ+N,EAAiBV,aAAajO,EAAOY,MAAOZ,EAAOh2B,OAC3D2nC,EAAentD,KAAKotD,yBAAyB5R,EAAQY,GAC3DlhC,EAAS,IAAImhC,GAAS8Q,EAAc3R,EAAQY,EAAO6N,GACnDjqD,KAAKu4C,WAAWr9B,EAClB,CAKA,OAAAlb,KAAK8pD,iBAAiBwD,mBAAmBpyC,GAClCA,CACT,CACAmyC,iBAAiBnyC,EAAQsgC,EAAQ/3C,GAC/B,MAAM0iB,EAAOioB,GAAcoN,EAAOr1B,MAKlC,QAJa,IAATA,GACFjL,EAAOktC,QAAQjiC,GAEKjL,EAAOitC,WAAa,EACvB,CACjB,MAAM9jC,EAAQ+pB,GAAcoN,EAAOn3B,OACnC,GAAa,MAATA,EACFnJ,EAAOmnC,eAAeh+B,EAAO5gB,OACxB,CACL,MAAM8pD,EAAoBryC,EAAO4hC,iBACjC5hC,EAAOmnC,eAAekL,EAAmB9pD,EAC3C,CACF,MACoB,IAAhB+3C,EAAO9oC,MAEPwI,EAAOupC,QADU,OAAfjJ,EAAO9oC,MAAgC,QAAf8oC,EAAO9oC,KAClB8oC,EAAO9oC,UAEP,EAFajP,GAKhC,MAAMk9C,EAAYvS,GAAcoN,EAAOmF,gBACrB,IAAdA,GACFzlC,EAAO+pC,aAAatE,GAEtB,MAAME,EAAOtS,GAAeiN,EAAOqF,WACtB,IAATA,GACF3lC,EAAO2rC,YAAYhG,EAAMp9C,QAEL,IAAlB+3C,EAAOz3B,QACT7I,EAAO8lC,UAAUxF,EAAOz3B,OAE5B,CACAmpC,mBAAmBM,EAAWlB,GAC5B,GAAKA,EAEL,QAASvpD,EAAI,EAAGA,EAAIupD,EAAiB5pD,OAAQK,IAAK,CAChD,MAAMwpD,EAAMD,EAAiBvpD,GAAGy+C,wBAChC,GAAK+K,EAGL,GADoC,MAAnBiB,EAAUpR,OAQ3B,GADuC,MAAnBoR,EAAUhoC,OAO9B,GAAI+mC,IAAQiB,EACV,MAAO,CAAE9nD,IAAK3C,EAAGmY,OAAQoxC,EAAiBvpD,SAN1C,GAAIwpD,EAAI/mC,QAAUgoC,EAAUhoC,MAC1B,MAAO,CAAE9f,IAAK3C,EAAGmY,OAAQoxC,EAAiBvpD,SAR5C,GAAIupD,EAAiBvpD,GAAGwe,UAAYisC,EAAUpR,MAC5C,MAAO,CAAE12C,IAAK3C,EAAGmY,OAAQoxC,EAAiBvpD,GAchD,CAEF,CACA+pD,kBAAkBW,EAAapD,GAE7B,GADwC,MAAvBoD,EAAY3U,QAI7B,QAAS/1C,EAAI,EAAGA,EAAIsnD,EAAe3nD,OAAQK,IAAK,CAC9C,MAAMgqD,EAAgB1C,EAAetnD,GAErC,GADoBgqD,EAAc7S,kBAI9B6S,EAAcxrC,UAAYksC,EAAY3U,QACxC,MAAO,CAAEpzC,IAAK3C,EAAG3C,MAAO2sD,EAE5B,CAEF,CACAK,yBAAyB5R,EAAQY,GAC/B,MAAMrvC,EAAM,CAAC,EAEbiyC,GAAWjyC,EADW/M,KAAKL,IAAIwD,IAAI,kBACJ,GAAO,GACtC,MAAMuqD,EAAa1tD,KAAK2tD,6BAA6B5gD,EAAKyuC,EAAQY,GAC9DsR,GACF1tD,KAAK4tD,kBAAkBF,EAAY3gD,GAErCiyC,GAAWjyC,EAAKyuC,GAAQ,GAAO,GAC/B,MAAMqS,EAAkB7tD,KAAKL,IAAIwD,IAAI,sBAC/B2qD,EAAmB7yC,GAAgCjb,KAAKL,KAC9D,OAAI67C,EAAO+M,UAAYsF,GAAmBC,GACxC9O,GACEjyC,EACA,CAAE2F,KAAMm7C,EAAgBn7C,KAAMguC,YAAamN,EAAgBnN,cAC3D,GACA,GAGJ1gD,KAAK8pD,iBAAiBiE,eAAehhD,GAC9BA,CACT,CACA4gD,6BAA6BnS,EAAQwS,EAAY5R,GAC/C,MAAM6R,EAA+BjuD,KAAK8pD,iBAAiB6D,6BACzDnS,EACAwS,EACA5R,GAEIvsB,EAAcm+B,EAAWzqD,MAAQ0qD,GAAgCzS,EAAOj4C,KAC9Ei4C,SAAOj4C,KAAOssB,EACPA,EAAc4tB,GAAmB5tB,QAAe,CACzD,CACA+9B,kBAAkBlQ,EAAUyP,GAC1B,IAAKzP,EAASh7C,OACZ,OAEF,MAAMwrD,EAAiBl7C,OAAOg6C,OAAO,CAAC,EAAG7D,IAEzC1mC,GADkBziB,KAAKL,IAAIwD,IAAI,gBAAkB,CAAC,EACxB,CAACue,EAAKqF,KAC1BrF,KAAOwsC,EACTjtD,EAAU,oBAAoBygB,0DAEdqF,EACJxjB,MACVtC,EACE,2OAGJitD,EAAexsC,GAAOqF,KAG1B22B,EAASx4C,QAASqvC,IAChB,MAAM4Z,EAAaD,EAAe3Z,EAAE6Z,QAChCD,EACFnP,GAAWmO,EAAcgB,GAAY,GAAO,GAE5CltD,EAAU,gBAAkBszC,EAAI,2DAA0D,EAGhG,CAEAiY,cAAc6B,GACZ,YAAmC,IAA5BA,EAAe9U,QACxB,GAEF,SAAS4D,GAA6Bj3C,EAAQglD,EAAMr1C,GAClD,GAAKq1C,EAGL,QAASnoD,EAAI,EAAGA,EAAImoD,EAAKxoD,OAAQK,IAAK,CACpC,MAAM+I,EAAQo/C,EAAKnoD,GACf41C,GAAsB7sC,IACxBqxC,GAA6BrxC,EAAOA,EAAMmuC,cAAepkC,GAE3DA,EAAS/J,EAAO5F,EAClB,CACF,CAGA,IAAIooD,GAAc,cAAc/mD,EAC9B9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,cAEhB1H,KAAK+1B,WAAY,EACjB/1B,KAAKuuD,6BAA8B,EACnCvuD,KAAKwuD,OAAQ,EACbxuD,KAAKyuD,yBAA0B,EAE/BzuD,KAAK0uD,6BAA8B,EACnC1uD,KAAK2uD,qBAAuB,EAC9B,CACAxmD,UAAUpI,GACRC,KAAKi0B,QAAUl0B,EAAMk0B,QACrBj0B,KAAK4uD,aAAe7uD,EAAM6uD,aAC1B5uD,KAAK6uD,cAAgB9uD,EAAM8uD,cAC3B7uD,KAAK8uD,kBAAoB/uD,EAAM+uD,kBAC/B9uD,KAAK+uD,mBAAqBhvD,EAAMgvD,mBAChC/uD,KAAKgvD,sBAAwBjvD,EAAMivD,sBACnChvD,KAAKivD,uBAAyBlvD,EAAMkvD,uBACpCjvD,KAAKkvD,uBAAyBnvD,EAAMmvD,uBACpClvD,KAAKmvD,eAAiBpvD,EAAMovD,eAC5BnvD,KAAKovD,mBAAqBrvD,EAAMqvD,mBAChCpvD,KAAKqI,WAAatI,EAAMsI,WACxBrI,KAAKqvD,iBAAmBtvD,EAAMsvD,iBAC9BrvD,KAAKsvD,wBAA0BvvD,EAAMuvD,wBACrCtvD,KAAKuvD,wBAA0BxvD,EAAMwvD,wBACrCvvD,KAAKwvD,gBAAkBzvD,EAAM0vD,sBAC7BzvD,KAAK0vD,kBAAoB3vD,EAAM2vD,kBAC/B1vD,KAAK2vD,sBAAwB5vD,EAAM4vD,sBACnC3vD,KAAKH,gBAAkBE,EAAMF,gBAC7BG,KAAK4vD,mBAAqB7vD,EAAM6vD,mBAChC5vD,KAAK4d,wBAA0B7d,EAAM6d,wBACrC5d,KAAKsI,YAAcvI,EAAMuI,WAC3B,CACAQ,gBACE,MAAMitB,EAAY/1B,KAAKL,IAAIwD,IAAI,aAC3BnD,KAAK6vD,sBAAsB95B,KAC7B/1B,KAAK+1B,UAAYA,GAEnB/1B,KAAKqL,4BACH,CAAC,mBAAoB,WAAY,sBAAuB,wBACvD+F,GAAUpR,KAAK8vD,WAAWC,GAAkB3+C,EAAM3N,UAErDzD,KAAKoM,2BAA2B,eAAiBgF,IAC/CpR,KAAKgwD,0BAA0B5+C,EAAM+1B,aAAc/1B,EAAM6+C,cAAeF,GAAkB3+C,EAAM3N,QAAO,GAEzGzD,KAAKoM,2BACH,qBACCgF,GAAUpR,KAAKkwD,4BAA4BH,GAAkB3+C,EAAM3N,UAEtEzD,KAAKqL,4BACH,CAAC,gBAAiB,qBAAsB,cAAe,4BACtD+F,GAAUpR,KAAKmwD,mBAAmBJ,GAAkB3+C,EAAM3N,UAE7DzD,KAAKoM,2BACH,YACCgF,GAAUpR,KAAKowD,aAAapwD,KAAKL,IAAIwD,IAAI,aAAc4sD,GAAkB3+C,EAAM3N,UAElFzD,KAAKwJ,yBAAyB,CAAEs6B,kBAAmBA,IAAM9jC,KAAKqwD,uBAChE,CAEAC,sBAAsB7sD,GACpB,MAAM8sD,EAAqBvwD,KAAKwwD,QAAUxwD,KAAKsvD,wBAAwBmB,qCAAqChtD,QAAU,EACtHzD,KAAKqI,WAAWqoD,SAChB,MAAMC,EAAU3wD,KAAK4wD,YAAYC,KAC3B7T,EAAUh9C,KAAK4wD,YAAY1F,KAC3BjO,EAAUj9C,KAAK6uD,cAAc9E,iBAAiB/pD,KAAKwwD,SAAS,EAAMxT,EAASv5C,GACjFs5C,GAAkB/8C,KAAKi0B,QAASj0B,KAAK4wD,YAAY1F,KAAMjO,EAAQ2N,YAC/D,MAAMM,EAAOjO,EAAQ2N,WACfkG,EAAY7T,EAAQyN,SACpBmG,EAAOtU,GAAmB2O,GAC1B5pD,EAAM,CAAC,EACbuvD,EAAK3rD,QAASqM,GAAQjQ,EAAIiQ,EAAIgQ,SAAWhQ,GACzCvR,KAAK4wD,WAAa,CAAE1F,OAAM4F,YAAWD,OAAMvvD,OAC3CtB,KAAKH,gBAAgBkxD,YAAYttD,EAAQktD,GACzC3wD,KAAKwuD,OAAQ,EACbxuD,KAAKgxD,aAAY,GACjBhxD,KAAK+uD,mBAAmB7nC,QAAQzjB,GAChCzD,KAAKgvD,sBAAsBiC,uBAC3BjxD,KAAKwvD,gBAAgB0B,kBAAkBztD,GACnC8sD,IACFvwD,KAAKyuD,yBAA0B,EAC/B8B,IACAvwD,KAAKyuD,yBAA0B,GAEjCzuD,KAAKwvD,gBAAgB/lD,iBAAiBhG,GACvB,qBAAXA,GACFzD,KAAK8uD,kBAAkBqC,uBAE3B,CAMAH,YAAYI,GACV,IAAKpxD,KAAK4wD,WACR,OAEF,MAAMS,EAAcrxD,KAAKsxD,MAAMpG,KAC/BlrD,KAAKuxD,eACLvxD,KAAKwxD,aACLxxD,KAAKyxD,iBACLzxD,KAAK0xD,cACL1xD,KAAKu7C,qBACLv7C,KAAK2xD,kBACL,MAAMC,EAnuEV,SAASC,GAA2BlyD,EAAKmyD,GACvC,OAAIA,GACMnyD,EAAIwD,IAAI,gCAEXxD,EAAIwD,IAAI,sBACjB,CA8tEiC0uD,CAA2B7xD,KAAKL,IAAKK,KAAK+xD,sBAClEX,GAAcQ,IACjB5xD,KAAKgyD,kBAEPhyD,KAAKiyD,qBACLjyD,KAAK4d,yBAAyBsJ,UAC9BlnB,KAAK4vD,oBAAoBsC,yBACzBlyD,KAAKmyD,mBACLnyD,KAAKoyD,sBACLpyD,KAAK+uD,mBAAmBsD,QACxBryD,KAAKgvD,sBAAsBqD,SACG9e,GAAU8d,EAAarxD,KAAKsxD,KAAKpG,OAE7DlrD,KAAKwvD,gBAAgB8C,aAEzB,CACAd,aACE,MAAMe,EAAkBvyD,KAAKivD,uBAAuBuD,qBAEpD,GADAxyD,KAAK+xD,mBAAwC,MAAnBQ,EACtBA,EAAiB,CACnB,MAAQjxD,MAAKuvD,OAAM3F,OAAM4F,aAAcyB,EACvCvyD,KAAKsxD,KAAO,CACVT,KAAMA,EAAKrsD,QACXlD,IAAK,IAAKA,GACV4pD,KAAMA,EAAK1mD,QACXssD,aAEqByB,EAAgB1B,KAAKllD,KAAM4F,QAA2C,IAAnCvR,KAAKsxD,MAAMhwD,IAAIiQ,EAAIisC,eAE3Ex9C,KAAKyyD,eAAiB,KAE1B,KAAO,CACL,MAAQnxD,MAAKuvD,OAAM3F,OAAM4F,aAAc9wD,KAAK4wD,WAC5C5wD,KAAKsxD,KAAO,CACVT,KAAMA,EAAKrsD,QACXlD,IAAK,IAAKA,GACV4pD,KAAMA,EAAK1mD,QACXssD,YAEJ,CACF,CACA4B,gBACE,MAAMC,EAA6B3yD,KAAKwb,gBAAkBxb,KAAK4yD,uBACzDC,EAAe7yD,KAAKH,gBAAgBizD,kBACpCC,EAAmB/yD,KAAKovD,oBAAoB/T,uBAUlD,OATYr7C,KAAKsxD,KAAKT,KAAKrrD,OAAQ+L,IACjC,MAAMyhD,EAAiB3V,GAAqB9rC,GAC5C,GAAIohD,EAA4B,CAC9B,MAAMM,EAAaJ,GAAgB1e,GAAU0e,EAActhD,GAC3D,OAAOyhD,GAAkBC,GAAcF,GAAoBxV,GAAoBhsC,EACjF,CACE,OAAOyhD,GAAkBzhD,EAAIqoC,WAAU,EAI7C,CACA8X,cACuB,MAAjB1xD,KAAKgrD,WAGThrD,KAAKsxD,KAAKT,KAAO7wD,KAAKgrD,SAAS6F,KAAKlsD,OAAO3E,KAAKsxD,KAAKT,MACrD7wD,KAAKsxD,KAAKpG,KAAOlrD,KAAKgrD,SAASE,KAAKvmD,OAAO3E,KAAKsxD,KAAKpG,MACrDgI,GAAclzD,KAAKsxD,MACrB,CACAG,iBACE,MAAM0B,EAAoBjhB,GAAqBlyC,KAAKL,IAAKK,KAAK+1B,WACxDq9B,EAAqBpzD,KAAK+1B,UAAY/1B,KAAKL,IAAIwD,IAAI,2BAA6BnD,KAAKqzD,oBACrFC,EAAetzD,KAAKH,gBAAgB8G,qBAGpC4sD,EAAkBA,KAClBvzD,KAAKgrD,WACPjO,GAAkB/8C,KAAKi0B,QAASj0B,KAAKgrD,SAASE,MAC9ClrD,KAAKgrD,SAAW,OAGpB,KARuBsI,EAAa5wD,OAAS,GAAK1C,KAAKL,IAAIwD,IAAI,cACzBiwD,GAAsBD,IAOzCnzD,KAAKmvD,eAEtB,YADAoE,IAGF,MAAM1C,EAAO7wD,KAAKmvD,eAAesC,eAAe6B,IAAiB,GAKjE,GAJqBE,GAAe3C,EAAM7wD,KAAKgrD,UAAU6F,MAAQ,QAE5C7wD,KAAKgrD,SAAWhrD,KAAKgrD,SAAS8F,WAAY,IAD1C9wD,KAAKsxD,KAAKR,UAI7B,OAEFyC,IACA,MAAOrI,EAAM4F,GAAa9wD,KAAK6uD,cAAc9D,uBAAuB8F,EAAM7wD,KAAKsxD,KAAKpG,MACpFlrD,KAAKgrD,SAAW,CACd6F,OACA3F,OACA4F,YACAxvD,IAAK,CAAC,GAER,MAAMmyD,EAA0BnC,IAC9B,IAAKA,EACH,OAAO,KAET,MAAMoC,EAAepC,EAAK9rD,OAAQ+L,IAAS8rC,GAAqB9rC,IAChE,MAAO,IAAIs/C,KAAS6C,EAAY,EAElC1zD,KAAK2zD,UAAYF,EAAuBzzD,KAAK2zD,WAC7C3zD,KAAKyyD,eAAiBgB,EAAuBzzD,KAAKyyD,eACpD,CACAlX,qBACE,MAAMqY,EAAoBA,KACxB7W,GAAkB/8C,KAAKi0B,QAASj0B,KAAK6zD,cAAc3I,MACnDlrD,KAAK6zD,aAAe,MAEjB7zD,KAAKovD,oBACRwE,IAEF,MAAME,EAAe9zD,KAAKsxD,KAAKR,UAEzBiD,GADe/zD,KAAK6zD,cAAc/C,YAAa,IAChBgD,EAC/BjD,EAAO7wD,KAAKovD,oBAAoB7T,sBAAwB,GAE9D,GADgBiY,GAAe3C,EAAM7wD,KAAK6zD,cAAchD,MAAQ,KACjDkD,EACb,OAEFH,IACA,MAAO1I,EAAM4F,GAAa9wD,KAAK6uD,cAAc9D,uBAAuB8F,EAAM7wD,KAAKsxD,KAAKpG,MACpFlrD,KAAK6zD,aAAe,CAClBhD,OACA3F,OACA4F,YACAxvD,IAAK,CAAC,GAER,MAAM0yD,EAA8B1C,IAClC,IAAKA,EACH,OAAO,KAET,MAAMoC,EAAepC,EAAK9rD,OAAQ+L,IAASgsC,GAAoBhsC,IAC/D,MAAO,IAAIs/C,KAAS6C,EAAY,EAElC1zD,KAAK2zD,UAAYK,EAA2Bh0D,KAAK2zD,WACjD3zD,KAAKyyD,eAAiBuB,EAA2Bh0D,KAAKyyD,eACxD,CACAd,kBAC2B,MAArB3xD,KAAK6zD,eAGT7zD,KAAKsxD,KAAKT,KAAO7wD,KAAK6zD,aAAahD,KAAKlsD,OAAO3E,KAAKsxD,KAAKT,MACzD7wD,KAAKsxD,KAAKpG,KAAOlrD,KAAK6zD,aAAa3I,KAAKvmD,OAAO3E,KAAKsxD,KAAKpG,MACzDgI,GAAclzD,KAAKsxD,MACrB,CAEAxB,WAAWrsD,GACJzD,KAAKkU,YAGVlU,KAAKgxD,aAAY,GACjBhxD,KAAK+uD,mBAAmB7nC,QAAQzjB,GAClC,CACAwwD,eAAehhD,EAAM6tC,GAAU,EAAOr9C,GACpCzD,KAAKsvD,wBAAwBjC,iBAC3B,CACE6G,MAAOjhD,EAAK3R,IAAKogB,KACf06B,MAAsB,iBAAR16B,EAAmBA,EAAMA,EAAI87B,WAC3CqD,MAAOC,MAGXr9C,EAEJ,CACA0wD,cAAclhD,EAAM8Q,EAAQtgB,GAI1B,IAHKzD,KAAKsxD,MAGNrtD,GAAgBgP,GAClB,OAEF,GAAI9E,EAAanO,KAAKL,IAAK,SAEzB,YADAsB,EAAU,4EAIZ,IAAImzD,EADJp0D,KAAKkvD,uBAAuB5iD,QAG1B8nD,GADa,IAAXrwC,GAA8B,SAAXA,EACN,OACK,UAAXA,EACM,QAEA,KAEjB,MAAMswC,EAAc,GACpBphD,EAAK/N,QAASwc,IACZ,IAAKA,EACH,OAEF,MAAMxG,EAASlb,KAAKs0D,OAAO5yC,GACtBxG,GAGDA,EAAO0rC,cAAgBwN,IACzBl5C,EAAO8lC,UAAUoT,GACjBC,EAAY/uD,KAAK4V,GAAM,GAGvBm5C,EAAY3xD,SACd1C,KAAK+uD,mBAAmB7nC,QAAQzjB,GAChCzD,KAAKwvD,gBAAgBhuB,aAAa6yB,EAAa5wD,IAEjDzD,KAAKkvD,uBAAuBqF,QAC9B,CAEAC,qBAAqB9yC,EAAK9d,EAAUH,GAClC,IAAIgxD,EAEFA,EADE9b,GAAsBj3B,GACVA,EAAIH,QAEJG,GAAO,GAEvB1hB,KAAKuvD,wBAAwBmF,oBAAoB,CAAC,CAAE5b,QAAS2b,EAAaptC,KAAMzjB,IAAaH,EAC/F,CACAkxD,oBAAoBjzC,GAClB,IAAI3U,EAAM,KACVowC,UAA6B,KAAMn9C,KAAKsxD,MAAMpG,KAAOzlD,IAC/CkzC,GAAsBlzC,IACpBA,EAAK8b,UAAYG,IACnB3U,EAAMtH,KAILsH,CACT,CACA6nD,iBAAiB15C,GACf,MAAMud,EAAwBz4B,KAAKL,IAAIwD,IAAI,yBAC3C,SAAK+X,EAAOC,oBAAgD,IAA1Bsd,MAGJ,IAA1BA,GAKGA,EAFcz4B,KAAKH,gBAAgB8G,qBACZkuD,UAAWC,GAAaA,EAAStX,aAAetiC,EAAOsiC,YAEvF,CACA6V,oBAGE,MAD+C,WADtBrzD,KAAKL,IAAIwD,IAAI,qBAMP,WADHnD,KAAKL,IAAIwD,IAAI,sBAE3C,CACAivD,sBACEpyD,KAAK+0D,iBAAmB/0D,KAAKsxD,KAAKT,KAAKllD,KAAM4F,GAAQA,EAAIqoC,aAAeroC,EAAIkyC,gBACxEzjD,KAAK+0D,mBACP/0D,KAAKuuD,6BAA8B,EACTzsC,EAAsB9hB,KAAKL,MAAQiwC,EAAsB5vC,KAAKL,MAEtFsB,EAAU,sFAGhB,CACA+wD,kBACE,MAAM2B,EAAY3zD,KAAK+xD,mBAAqB/xD,KAAKyyD,eAAiBzyD,KAAK2zD,UACvE,IAAKA,EACH,OAEF,MAAMqB,EAAkB,IAAIpyD,IAAI+wD,EAAUryD,IAAI,CAACiQ,EAAK/P,IAAU,CAAC+P,EAAK/P,KAEpE,IADqBxB,KAAKsxD,KAAKT,KAAKllD,KAAM4F,GAAQyjD,EAAgBnpD,IAAI0F,IAEpE,OAEF,MAAM0jD,EAAU,IAAIryD,IAAI5C,KAAKsxD,KAAKT,KAAKvvD,IAAKiQ,GAAQ,CAACA,GAAK,KACpD2jD,EAAoBvB,EAAUnuD,OAAQ+L,GAAQ0jD,EAAQppD,IAAI0F,IAC1D4jD,EAAuB,IAAIvyD,IAAIsyD,EAAkB5zD,IAAKiQ,GAAQ,CAACA,GAAK,KACpE6jD,EAAuBp1D,KAAKsxD,KAAKT,KAAKrrD,OAAQ+L,IAAS4jD,EAAqBtpD,IAAI0F,IAChFxE,EAAMmoD,EAAkB1wD,QAC9B4wD,EAAqBlwD,QAASmwD,IAC5B,IAAInvD,EAASmvD,EAAO3b,oBACpB,IAAKxzC,EAEH,YADA6G,EAAIzH,KAAK+vD,GAGX,MAAMC,EAAW,GACjB,MAAQA,EAAS5yD,QAAUwD,GACRA,EAAOi0C,iBACfj1C,QAASqwD,IAChB,MAAMC,EAAmBzoD,EAAIkI,QAAQsgD,IAAY,EAC3CE,EAAmBH,EAASrgD,QAAQsgD,GAAW,EACjDC,GAAoBC,GACtBH,EAAShwD,KAAKiwD,EAAO,GAGzBrvD,EAASA,EAAOwzC,oBAElB,IAAK4b,EAAS5yD,OAEZ,YADAqK,EAAIzH,KAAK+vD,GAGX,MAAMK,EAAUJ,EAASh0D,IAAKiQ,GAAQxE,EAAIkI,QAAQ1D,IAC5CokD,EAAY5wD,KAAKqI,OAAOsoD,GAC9BrmD,GAAiBtC,EAAKsoD,EAAQM,EAAY,EAAC,GAE7C31D,KAAKsxD,KAAKT,KAAO9jD,CACnB,CACA6oD,iBAAiBC,GACf,GAAiB,MAAb71D,KAAKsxD,KACP,OAEF,IAAIwE,EAAW,GACf,MAAMC,EAAkB,CAAC,EACzBF,EAAO3wD,QAASk3C,IACd,GAAI2Z,EAAgB3Z,GAClB,OAEF,MAAM7qC,EAAMvR,KAAKsxD,KAAKhwD,IAAI86C,GACtB7qC,IACFukD,EAASxwD,KAAKiM,GACdwkD,EAAgB3Z,IAAS,KAG7B,IAAI4Z,EAAuB,EAC3Bh2D,KAAKsxD,KAAKT,KAAK3rD,QAASqM,IACtB,MAAM6qC,EAAQ7qC,EAAIisC,WACiC,MAA1BuY,EAAgB3Z,KAIlBA,EAAMkB,WAAWhB,IAEtCjtC,GAAiBymD,EAAUvkD,EAAKykD,KAEhCF,EAASxwD,KAAKiM,GAAG,GAGrBukD,EAAW91D,KAAK0vD,kBAAkBuG,mBAAmBH,GAChD91D,KAAK0vD,kBAAkBwG,0BAA0BJ,GAMtD91D,KAAKsxD,KAAKT,KAAOiF,EALf70D,EACE,uHAKN,CAGAk1D,iBAAiB7E,IACVA,GAAQA,EAAK5uD,QAAU,GAGF4uD,EAAK9rD,OAAQyY,GAAMje,KAAKsxD,KAAKT,KAAK57C,QAAQgJ,GAAK,GAAGvb,OAAS,GAIrF4uD,EAAK5+C,KAAK,CAACuN,EAAGC,IACGlgB,KAAKsxD,KAAKT,KAAK57C,QAAQgL,GACvBjgB,KAAKsxD,KAAKT,KAAK57C,QAAQiL,GAG1C,CACAk2C,mBAAmBl7C,EAAQzX,GACzB,MAAMuqD,EAAa9yC,EAAOsmC,wBAC1B,IAAKwM,EACH,OAAO,EAET,MAAMR,EAAYxtD,KAAK6uD,cAAczB,yBAAyBY,EAAY9yC,EAAOsiC,YACjFtiC,SAAOimC,UAAUqM,EAAWQ,EAAYvqD,IACjC,CACT,CACA4yD,wBACEr2D,KAAK0uD,6BAA8B,CACrC,CACA4H,gCACE,OAAOt2D,KAAK0uD,2BACd,CACA6H,0BACEv2D,KAAK0uD,6BAA8B,EACnC1uD,KAAK2uD,qBAAqBzpD,QAASsxD,GAAoBA,KACvDx2D,KAAK2uD,qBAAuB,EAC9B,CACA8H,oBAAoB99C,GAClB3Y,KAAK2uD,qBAAqBrpD,KAAKqT,EACjC,CACA+9C,WAAWC,EAAc9iB,EAASpwC,GAChCqwC,GAAa9zC,KAAKsxD,MAAMT,KAAM8F,EAAc9iB,GAC5C7zC,KAAK+uD,mBAAmB7nC,QAAQzjB,EAClC,CACAwuD,qBACEjyD,KAAKsxD,KAAKT,KAAO7wD,KAAK0vD,kBAAkBuG,mBAAmBj2D,KAAKsxD,KAAKT,KACvE,CACAU,eACMvxD,KAAK+xD,mBACP/xD,KAAKyyD,eAAiBzyD,KAAKsxD,MAAMT,KAEjC7wD,KAAK2zD,UAAY3zD,KAAKsxD,MAAMT,IAEhC,CACA+F,gBACE,IAAK52D,KAAK4wD,WACR,OAEF,MAAMU,EAAOtxD,KAAK4wD,WAAWC,KAAKrsD,QAC9BxE,KAAK+xD,mBACPT,EAAK5+C,KAAK,CAACuN,EAAGC,IAAMlgB,KAAK2zD,UAAU1+C,QAAQgL,GAAKjgB,KAAK2zD,UAAU1+C,QAAQiL,IAC9DlgB,KAAK2zD,WACdrC,EAAK5+C,KAAK,CAACuN,EAAGC,IAAMlgB,KAAKsxD,KAAKT,KAAK57C,QAAQgL,GAAKjgB,KAAKsxD,KAAKT,KAAK57C,QAAQiL,IAEzE,MAAMxZ,EAAkB1G,KAAKH,gBAAgB8G,qBACvCkwD,EAAe72D,KAAKH,gBAAgBi3D,kBAC1C,OAAO92D,KAAKqvD,iBAAiB0H,gBAAgBzF,EAAM5qD,EAAiBmwD,EACtE,CACAjE,uBACE,OAAO5yD,KAAK+xD,kBACd,CAEA3+C,4BACE,OAAOpT,KAAKyuD,uBACd,CACAuI,kBACE,OAAOh3D,KAAKi3D,aACd,CAEAC,6BACE,OAAOl3D,KAAK4wD,YAAYE,UAAY,CACtC,CACAqB,mBACEnyD,KAAKi3D,cAAgBj3D,KAAKsxD,KAAKT,KAAKllD,KAAM4F,GAAmC,MAA3BA,EAAI6J,YAAYusC,QACpE,CACAxuC,wBACE,OAAOnZ,KAAK+0D,gBACd,CACAoC,6BACE,OAAOn3D,KAAKuuD,2BACd,CAEA6I,oBACE,OAAOp3D,KAAKsxD,KAAOtxD,KAAKsxD,KAAKR,UAAY,GAAI,CAC/C,CACA58C,UACE,OAAOlU,KAAKwuD,KACd,CACAhzC,cACE,OAAOxb,KAAK+1B,SACd,CACAq6B,aAAar6B,EAAWtyB,GAClBsyB,IAAc/1B,KAAK+1B,YAAc/1B,KAAK6vD,sBAAsB7vD,KAAK+1B,aAGrE/1B,KAAK+1B,UAAYA,EACZ/1B,KAAKwuD,QAGVxuD,KAAKgxD,aAAY,GACjBhxD,KAAK+uD,mBAAmB7nC,QAAQzjB,GAChCzD,KAAKwvD,gBAAgB6H,oBACvB,CACAxH,sBAAsBl9C,GACpB,OAAIA,IAAS3S,KAAKL,IAAIwD,IAAI,cACxBlC,EAAU,4CACH,EAGX,CAEAyQ,gBACE,MAAMmlD,EAAe72D,KAAKH,gBAAgBi3D,kBAC1C,OAAO92D,KAAK+1B,YAAc9xB,GAAgB4yD,EAC5C,CAEA1G,mBAAmB1sD,GACZzD,KAAKsxD,OAGNtxD,KAAKgrD,UACPhrD,KAAKmvD,eAAemI,eAAet3D,KAAKgrD,SAAS6F,KAAMptD,GAEzDzD,KAAKswD,sBAAsB7sD,GAC7B,CACA8zD,cAAc7nC,EAAYjsB,GACxBzD,KAAKwwD,QAAU9gC,EACf1vB,KAAKswD,sBAAsB7sD,EAC7B,CACA4V,UACE0jC,GAAkB/8C,KAAKi0B,QAASj0B,KAAK4wD,YAAY1F,MACjDnO,GAAkB/8C,KAAKi0B,QAASj0B,KAAKgrD,UAAUE,MAC/CnO,GAAkB/8C,KAAKi0B,QAASj0B,KAAK6zD,cAAc3I,MACnD1jD,MAAM6R,SACR,CACAm+C,aACE,OAAOx3D,KAAKsxD,KAAKpG,IACnB,CAEAuM,mBACE,OAAOz3D,KAAK4wD,WAAW1F,IACzB,CAGAwM,gBACE,OAAO13D,KAAK4wD,YAAYC,KAAO7wD,KAAK4wD,WAAWC,KAAO,IACxD,CAEA7yC,UACE,OAAOhe,KAAKsxD,MAAMT,MAAQ,EAC5B,CAEA8G,aAEE,MAAMC,EADkB53D,KAAKivD,uBAAuBuD,sBACP3B,KAC7C,MAAO,CACL7wD,KAAK4wD,YAAYC,MAAQ,GACzB7wD,KAAKgrD,UAAU6F,MAAQ,GACvB7wD,KAAK6zD,cAAchD,MAAQ,GAC3B+G,GAAuB,IACvBC,MACJ,CACAC,eAAe7kD,GACb,OAAKA,EAGEA,EAAK3R,IAAKogB,GAAQ1hB,KAAKs0D,OAAO5yC,IAAMlc,OAAQ+L,GAAe,MAAPA,GAFlD,EAGX,CACA8P,aAAaK,GACX,OAAK1hB,KAAK4wD,YAAYC,KAGf7wD,KAAK+3D,qBAAqBr2C,EAAK1hB,KAAK4wD,YAFlC,IAGX,CACA0D,OAAO5yC,GACL,OAAW,MAAPA,EACK,KAEF1hB,KAAK+3D,qBAAqBr2C,EAAK1hB,KAAKsxD,KAC7C,CACAyG,qBAAqBr2C,EAAK4vC,GACxB,GAAY,MAARA,EACF,OAAO,KAET,MAAQhwD,MAAKuvD,QAASS,EACtB,GAAkB,iBAAP5vC,GAAmBpgB,EAAIogB,GAChC,OAAOpgB,EAAIogB,GAEb,QAAS3e,EAAI,EAAGA,EAAI8tD,EAAKnuD,OAAQK,IAC/B,GAAIi1D,GAAanH,EAAK9tD,GAAI2e,GACxB,OAAOmvC,EAAK9tD,GAGhB,OAAO/C,KAAKi4D,WAAWv2C,EACzB,CACAu2C,WAAWv2C,GACT,OAAO1hB,KAAKgrD,UAAU6F,KAAK5qD,KAAM6uD,GAAakD,GAAalD,EAAUpzC,KAAS,IAChF,CACAw2C,cACE,OAAOl4D,KAAKgrD,UAAU6F,MAAQ,IAChC,CACAsH,mBAAmB5mD,EAAK3D,GACN2D,EAAIg2C,oBAAoB35C,KAElC2D,EAAIynC,SACNh5C,KAAKwvD,gBAAgBt/B,aAAa3e,GAElCvR,KAAKwvD,gBAAgBr/B,kBAAkB5e,GAG7C,CACA6mD,qBACE,MAAMC,EAAU,GACVC,EAA0Bt4D,KAAK4uD,aAAa2J,6BAClD,UAAWC,KAA0BF,EAAyB,CAC5D,IAAKE,EACH,SAEF,MAAMC,EAAgBD,EAAuBE,oBAAsB,EACnE,QAAS31D,EAAI,EAAGA,EAAI01D,EAAe11D,IAAK,CACtC,MAAM41D,EAAgBH,EAAuBI,uBAAuB71D,GAC9D81D,EAAqBR,EAAQt1D,GACnC,GAAI41D,EAAe,CACjB,MAAMG,EAAY94D,KAAK+4D,8BAA8BJ,IAC3B,MAAtBE,GAA8BC,EAAYD,KAC5CR,EAAQt1D,GAAK+1D,EAEjB,CACF,CACF,CACA,OAAOT,CACT,CACAU,8BAA8BJ,GAC5B,MAAMK,EAAgBh5D,KAAKwb,cAAgBxb,KAAKi5D,4BAA8Bj5D,KAAKk5D,uBACnF,IAAIC,EAAmB,EACvB,MAAMC,EAAqBT,EAAcU,iBACzC,UAAWC,KAAkBF,EAAoB,CAC/C,MAAMl+C,EAASo+C,EAAeC,YAC9B,GAAIr+C,EAAOyoC,qBAAsB,CAC/B,MAAM/1C,EAASsN,EAAOosC,sBACR,MAAV15C,GAAkBA,EAASurD,IAC7BA,EAAmBvrD,EAEvB,CACF,CACA,OAAO7I,KAAKqI,IAAI4rD,EAAeG,EACjC,CACAK,2BACE,MAAMR,EAAgBh5D,KAAKwb,cAAgBxb,KAAKy5D,uBAAyBz5D,KAAK05D,kBAExEP,EADmBn5D,KAAK+uD,mBAAmB4I,aACPnyD,OAAQ+L,GAAQA,EAAIoyC,sBAAsBriD,IAAKiQ,GAAQA,EAAI+1C,uBAAyB,GAC9H,OAAOviD,KAAKqI,IAAI4rD,KAAkBG,EACpC,CACAO,kBACE,OAAO15D,KAAKL,IAAIwD,IAAI,iBAAmBnD,KAAKsI,YAAYqxD,wBAC1D,CACAC,2BACE,OAAO55D,KAAKL,IAAIwD,IAAI,0BAA4BnD,KAAK05D,iBACvD,CACAR,uBACE,OAAOl5D,KAAKL,IAAIwD,IAAI,sBAAwBnD,KAAK05D,iBACnD,CACAD,uBACE,OAAOz5D,KAAKL,IAAIwD,IAAI,sBAAwBnD,KAAK05D,iBACnD,CACAT,4BACE,OAAOj5D,KAAKL,IAAIwD,IAAI,2BAA6BnD,KAAKk5D,sBACxD,CACA7I,sBACE,MAAMp/B,EAAmBjxB,KAAKL,IAAIwD,IAAI,oBACtC,GAA+B,oBAA3B8tB,GAAkB1tB,KACpB,OAEF,MAAQsyD,OAAQvkD,EAASuoD,cAAe5oC,EACxCjZ,WAAW,KACL1G,EACFtR,KAAK2vD,sBAAsBmK,aAAa,CACtCC,QAASzoD,EACTuoD,aACAp2D,OAAQ,oBAGVzD,KAAK2vD,sBAAsBqK,mBAAmB,kBAAmBH,EAAU,EAGjF,CACA3J,4BAA4BzsD,GACtBzD,KAAKgrD,UACPhrD,KAAKmvD,eAAemI,eAAet3D,KAAKgrD,SAAS6F,KAAMptD,EAE3D,CACAusD,0BAA0BiK,EAASC,EAAMz2D,GACvC,MAEM02D,GAFeD,GAAwB,iBAATA,EAAoB9nB,GAAe8nB,QAAQ,MAC1DD,GAA8B,iBAAZA,EAAuB7nB,GAAe6nB,QAAW,GAElFG,EAAqBF,GAAwB,iBAATA,EAAoB3nB,GAAmB2nB,QAAQ,EACnFG,EAAqBJ,GAA8B,iBAAZA,EAAuB1nB,GAAmB0nB,QAAW,GAE9FE,GAD6BC,IAAuBC,IAEtDr6D,KAAK8vD,WAAWrsD,EAEpB,GAEF,SAASssD,GAAkBtsD,GACzB,MAAkB,uBAAXA,EAAkC,qBAAuBA,CAClE,CACA,SAASyvD,GAAc5B,GACrBA,EAAKhwD,IAAM,CAAC,EACZgwD,EAAKT,KAAK3rD,QAASqM,GAAQ+/C,EAAKhwD,IAAIiQ,EAAIgQ,SAAWhQ,EACrD,CACA,SAASymD,GAAa98C,EAAQwG,GAC5B,MAAM44C,EAAgBp/C,IAAWwG,EAC3B64C,EAAgBr/C,EAAOE,cAAgBsG,EACvC84C,EAAYt/C,EAAOsiC,YAAc97B,EACvC,OAAO44C,GAAiBC,GAAiBC,CAC3C,CACA,SAAShH,GAAeiH,EAAOC,GAC7B,OAAOnnB,GAAUknB,EAAOC,EAAO,CAACz6C,EAAGC,IAAMD,EAAEu9B,aAAet9B,EAAEs9B,WAC9D,CAGA,IAAImd,GAAwB,cAAcpzD,EACxC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,wBAChB1H,KAAK46D,aAAe,CACtB,CACAzyD,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAK+uD,mBAAqBhvD,EAAMgvD,mBAChC/uD,KAAK66D,sBAAwB96D,EAAM86D,sBACnC76D,KAAK86D,oBAAsB/6D,EAAM+6D,oBACjC96D,KAAKwvD,gBAAkBzvD,EAAM0vD,sBAC7BzvD,KAAK4uD,aAAe7uD,EAAM6uD,aAC1B5uD,KAAK+6D,oBAAsBh7D,EAAMg7D,mBACnC,CACAjB,aAAaxuD,GACX,GAAItL,KAAKoI,YAAYkuD,gCAEnB,YADAt2D,KAAKoI,YAAYquD,oBAAoB,IAAMz2D,KAAK85D,aAAaxuD,IAG/D,MAAQyuD,UAASF,aAAYmB,mBAAkBC,cAAax3D,SAAS,OAAU6H,EAE/E,GADAtL,KAAK66D,sBAAsBK,iBACvBl7D,KAAK46D,aAAe,GAAK56D,KAAK+6D,sBAAwB/6D,KAAK+6D,oBAAoBI,yBAGjF,OAFAn7D,KAAK46D,oBACL5iD,WAAW,IAAMhY,KAAK85D,aAAaxuD,IAGrCtL,KAAK46D,aAAe,EACpB,MAAMQ,EAAmB,GACzB,IAAIC,GAAwB,EAC5B,MAAMC,EAAmBzB,GAAkC75D,KAAKL,IAAIwD,IAAI,wBAClEo4D,EAAyBP,GAA8CM,EAC7E,KAAiC,IAA1BD,GAA6B,CAClCA,EAAwB,EACxB,MAAMG,EAAiB,GACvBzB,EAAQ70D,QAASwc,IACf,IAAKA,EACH,OAEF,MAAMxG,EAASlb,KAAKoI,YAAYksD,OAAO5yC,GAIvC,IAHKxG,GAGDkgD,EAAiBnmD,QAAQiG,IAAW,EACtC,OAEF,MAAMugD,EAAiBz7D,KAAK86D,oBAAoBY,2BAA2BxgD,EAAQogD,GACnF,GAAIG,EAAiB,EAAG,CACtB,MAAME,EAAW37D,KAAK47D,qBAAqB1gD,EAAQugD,GACnDvgD,EAAOmnC,eAAesZ,EAAUl4D,GAChC23D,EAAiB91D,KAAK4V,GACtBmgD,GACF,CACAG,EAAel2D,KAAK4V,EAAM,GAEvBsgD,EAAe94D,QAGpB1C,KAAK+uD,mBAAmB7nC,QAAQzjB,EAClC,CACK83D,GACHv7D,KAAK67D,8BAA8B9B,EAASt2D,EAAQw3D,GAEtDj7D,KAAKwvD,gBAAgB/tB,cAAc25B,GAAkB,EAAM,kBAC7D,CACAU,eAAep6C,EAAKje,EAAQo2D,GACtBn4C,GACF1hB,KAAK85D,aAAa,CAAEC,QAAS,CAACr4C,GAAMm4C,aAAYmB,kBAAkB,EAAMv3D,UAE5E,CACAo4D,8BAA8B5oD,EAAMxP,EAAQw3D,GAC1C,MAAMc,EAA+B,IAAInxD,IAWzC,IAAIoxD,EAVYh8D,KAAKoI,YAAY0vD,eAAe7kD,GACxC/N,QAASqM,IACf,IAAIrL,EAASqL,EAAImwC,YACjB,KAAOx7C,GAAUA,GAAU+0D,GACpB/0D,EAAO2zC,aACVkiB,EAAan6D,IAAIsE,GAEnBA,EAASA,EAAOw7C,WAAU,GAK9B,UAAWua,KAAeF,EAAc,CACtC,UAAWG,KAAuBl8D,KAAK4uD,aAAa2J,6BAElD,GADAyD,EAAkBE,EAAoBC,uBAAuBF,GACzDD,EACF,MAGAA,GACFA,EAAgBI,uBAAuB34D,EAE3C,CACA,MAZuB,EAazB,CACAu2D,mBAAmBv2D,EAAQo2D,GACzB,GAAI75D,KAAKoI,YAAYkuD,gCAEnB,YADAt2D,KAAKoI,YAAYquD,oBAAoB,IAAMz2D,KAAKg6D,mBAAmBv2D,EAAQo2D,IAG7E,MAAMwC,EAAsBr8D,KAAK+uD,mBAAmB4I,aACpD33D,KAAK85D,aAAa,CAAEC,QAASsC,EAAqBxC,aAAYp2D,UAChE,CAEAm4D,qBAAqB1gD,EAAQygD,GAC3B,MAAMv1C,EAAWlL,EAAO+sC,cACpB0T,EAAWv1C,IACbu1C,EAAWv1C,GAEb,MAAMq1B,EAAWvgC,EAAOgtC,cACxB,OAAIhtC,EAAO8sC,iBAAiB2T,KAC1BA,EAAWlgB,GAENkgB,CACT,GAIEW,GAAkB,cAAc/0D,EAClC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,kBAChB1H,KAAKszD,aAAe,GACpBtzD,KAAKu8D,UAAY,GACjBv8D,KAAKw8D,UAAY,EACnB,CACAr0D,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAKwvD,gBAAkBzvD,EAAM0vD,sBAC7BzvD,KAAKy8D,eAAiB18D,EAAM08D,eAC5Bz8D,KAAK+uD,mBAAqBhvD,EAAMgvD,kBAClC,CACA2N,oCACE,MAAO,CACLC,YAAczhD,GAAWlb,KAAKszD,aAAahuD,KAAK4V,GAChD0hD,eAAiB1hD,GAAW9L,GAAiBpP,KAAKszD,aAAcp4C,GAChE2hD,YAAc3hD,GAAWlb,KAAKw8D,UAAUl3D,KAAK4V,GAC7C4hD,eAAiB5hD,GAAW9L,GAAiBpP,KAAKw8D,UAAWthD,GAC7D6hD,YAAc7hD,GAAWlb,KAAKu8D,UAAUj3D,KAAK4V,GAC7C8hD,eAAiB9hD,GAAW9L,GAAiBpP,KAAKu8D,UAAWrhD,GAEjE,CACA+hD,+BAA+BnI,GAC7B,MAAMoI,EAAiBpI,EAAS15C,YAAYC,aAC5C,IAAK6hD,EACH,OAAO,KAET,IAAuB,IAAnBA,EACF,OAAOl9D,KAAKszD,aAAa9uD,MAAM,GAEjC,MAAM0W,EAASlb,KAAKoI,YAAYiZ,aAAa67C,GAC7C,OAAOhiD,EAAS,CAACA,GAAU,IAC7B,CACAiiD,oBAAoBC,GAClBp9D,KAAKszD,aAAa5gD,KAAK0qD,EACzB,CACAC,iBAAiBD,GACfp9D,KAAKw8D,UAAU9pD,KAAK0qD,EACtB,CAEAtK,kBACE,OAAO9yD,KAAKu8D,UAAYv8D,KAAKu8D,UAAY,EAC3C,CAEAzF,kBACE,OAAO92D,KAAKw8D,UAAYx8D,KAAKw8D,UAAY,EAC3C,CAEA71D,qBACE,OAAO3G,KAAKszD,aAAetzD,KAAKszD,aAAe,EACjD,CACAgK,kBACE,OAAOr5D,GAAgBjE,KAAKszD,aAC9B,CACAiK,iBAAiB77C,EAAK4jC,EAAS7hD,GAC7B,IAAKie,EACH,OAEF,MAAMxG,EAASlb,KAAKoI,YAAYiZ,aAAaK,GACxCxG,IAGLA,EAAOmqC,WAAWC,GAClBtlD,KAAKwvD,gBAAgBgO,cAAc,qBAAsB,CAACtiD,GAASzX,GACrE,CACAg6D,mBAAmB1D,EAASt2D,GAC1BzD,KAAK09D,WACH3D,EACA/5D,KAAKszD,aACL,yBACA,GACA,EACA,CAACqK,EAAOziD,IAAWlb,KAAKsoD,kBAAkBqV,EAAOziD,EAAQzX,GACzDA,EAEJ,CACA6kD,kBAAkBrC,EAAQ/qC,EAAQzX,GAC5BwiD,IAAW/qC,EAAOC,qBAGtBD,EAAOotC,kBAAkBrC,EAAQxiD,GAC7BwiD,IAAWjmD,KAAKL,IAAIwD,IAAI,iCAC1BnD,KAAKoI,YAAY6rD,eAAe,CAAC/4C,IAAS,EAAOzX,IAE9CwiD,IAAWjmD,KAAKL,IAAIwD,IAAI,0CAC3BnD,KAAKoI,YAAY6rD,eAAe,CAAC/4C,IAAS,EAAMzX,GAEpD,CACAm6D,mBAAmB3qD,EAAMxP,GACvBzD,KAAK69D,cACH5qD,EACAjT,KAAKszD,cACL,GACA,EACCp4C,GAAWlb,KAAKsoD,mBAAkB,EAAMptC,EAAQzX,GACjD,wBACAA,EAEJ,CACAq6D,sBAAsB7qD,EAAMxP,GAC1BzD,KAAK69D,cACH5qD,EACAjT,KAAKszD,cACL,GACA,EACCp4C,GAAWlb,KAAKsoD,mBAAkB,EAAOptC,EAAQzX,GAClD,wBACAA,EAEJ,CACAs6D,gBAAgB9qD,EAAMxP,GACpBzD,KAAK69D,cACH5qD,EACAjT,KAAKw8D,WACL,GACA,EACCthD,GAAWA,EAAOstC,gBAAe,EAAM/kD,GACxC,qBACAA,EAEJ,CACAu6D,gBAAgBjE,EAASt2D,GACvBzD,KAAK09D,WACH3D,EACA/5D,KAAKw8D,UACL,sBACA,GACA,EACA,CAACmB,EAAOziD,KACNA,EAAOstC,eAAemV,EAAOl6D,EAAM,EAErCA,EAEJ,CACAw6D,mBAAmBhrD,EAAMxP,GACvBzD,KAAK69D,cACH5qD,EACAjT,KAAKw8D,WACL,GACA,EACCthD,GAAWA,EAAOstC,gBAAe,EAAO/kD,GACzC,qBACAA,EAEJ,CACAy6D,gBAAgBnE,EAASt2D,GACvBzD,KAAK09D,WACH3D,EACA/5D,KAAKu8D,UACL,sBACA,GACA,EACA,CAACoB,EAAOziD,IAAWlb,KAAK+oD,eAAe4U,EAAOziD,EAAQzX,GACtDA,EAEJ,CACAslD,eAAe9C,EAAQ/qC,EAAQzX,GAC7B,GAAIwiD,IAAW/qC,EAAOwtC,kBAGtBxtC,EAAO6tC,eAAe9C,EAAQxiD,GAC1BwiD,IAAW/qC,EAAOqqC,cAAgBvlD,KAAKy8D,gBAAgB,CACzD,MAAM0B,EAAiBn+D,KAAKy8D,eAAe2B,kBAAkBljD,GAC7DA,EAAOmqC,WAAW8Y,EACpB,CACF,CACAE,gBAAgBprD,EAAMxP,GACpBzD,KAAK69D,cACH5qD,EACAjT,KAAKu8D,WACL,GACA,EACCrhD,GAAWlb,KAAK+oD,gBAAe,EAAM7tC,EAAQzX,GAC9C,qBACAA,EAEJ,CACA66D,mBAAmBrrD,EAAMxP,GACvBzD,KAAK69D,cACH5qD,EACAjT,KAAKu8D,WACL,GACA,EACCrhD,GAAWlb,KAAK+oD,gBAAe,EAAO7tC,EAAQzX,GAC/C,qBACAA,EAEJ,CACA86D,mBAAmBC,EAAW3qB,EAASpwC,GACrC,GAAIzD,KAAKs9D,kBACP,OAEF,MAAMpiD,EAASlb,KAAKszD,aAAakL,GAC3BC,EAAkBz+D,KAAKszD,aAAa9uD,MAAMg6D,EAAW3qB,GAC3D7zC,KAAKszD,aAAa1f,OAAO4qB,EAAW,GACpCx+D,KAAKszD,aAAa1f,OAAOC,EAAS,EAAG34B,GACrClb,KAAKwvD,gBAAgBkP,gBAAgBD,EAAiBh7D,EACxD,CACAi6D,WAAW3D,EAAS4E,EAAYrpB,EAAWspB,EAAmBC,EAAwBC,EAAgBr7D,GACpG,IAAKzD,KAAKoI,YAAY4V,UACpB,OAEF,MAAMipB,EAA0B,IAAIrkC,IACpC+7D,EAAWz5D,QAAQ,CAACqM,EAAK7L,IAAQuhC,EAAQ/jC,IAAIqO,EAAK7L,IAClDi5D,EAAWj8D,OAAS,EAChBoQ,EAAQinD,IACVA,EAAQ70D,QAASwc,IACf,MAAMxG,EAASlb,KAAKoI,YAAYiZ,aAAaK,GACzCxG,GACFyjD,EAAWr5D,KAAK4V,EAAM,GAI5ByjD,EAAWz5D,QAAQ,CAACqM,EAAK7L,KACvB,MAAMq5D,EAAW93B,EAAQ9jC,IAAIoO,QACZ,IAAbwtD,EAIAH,GAAqBG,IAAar5D,GAGtCuhC,EAAQ4C,OAAOt4B,GANb01B,EAAQ/jC,IAAIqO,EAAK,EAMD,IAEAvR,KAAKoI,YAAYsvD,iBACrB,IAAIxyD,QAASgW,IAC3B,MAAMyiD,EAAQgB,EAAW1pD,QAAQiG,IAAW,EAC5C4jD,EAAenB,EAAOziD,EAAM,GAE9B2jD,GAA0B7+D,KAAKoI,YAAY4oD,aAAY,GACvDhxD,KAAK+uD,mBAAmB7nC,QAAQzjB,GAChCzD,KAAKwvD,gBAAgBgO,cAAcloB,EAAW,IAAIrO,EAAQh0B,QAASxP,EACrE,CACAo6D,cAAc5qD,EAAM0rD,EAAYK,EAAaH,EAAwBC,EAAgBv3B,EAAW9jC,GAC9F,IAAKwP,GAAQhP,GAAgBgP,GAC3B,OAEF,IAAI8F,GAAa,EACjB,MAAMs7C,EAA8B,IAAIzpD,IACxCqI,EAAK/N,QAASwc,IACZ,IAAKA,EACH,OAEF,MAAMu9C,EAAcj/D,KAAKoI,YAAYiZ,aAAaK,GAClD,GAAKu9C,EAIL,IADA5K,EAAYzyD,IAAIq9D,GACZD,EAAa,CACf,GAAIL,EAAW1pD,QAAQgqD,IAAgB,EACrC,OAEFN,EAAWr5D,KAAK25D,EAClB,KAAO,CACL,MAAMC,EAAeP,EAAW1pD,QAAQgqD,GACxC,GAAIC,EAAe,EACjB,OAEF,QAASn8D,EAAIm8D,EAAe,EAAGn8D,EAAI47D,EAAWj8D,OAAQK,IACpDsxD,EAAYzyD,IAAI+8D,EAAW57D,IAE7BqM,GAAiBuvD,EAAYM,EAC/B,CACAH,EAAeG,GACflmD,GAAa,KAEVA,IAGD8lD,GACF7+D,KAAKoI,YAAY4oD,aAAY,GAE/BhxD,KAAK+uD,mBAAmB7nC,QAAQzjB,GAChCzD,KAAKwvD,gBAAgB2P,mBAAmB53B,EAAWoW,MAAMyhB,KAAK/K,GAAc5wD,GAC9E,CACAstD,YAAYttD,EAAQ47D,GAClBr/D,KAAKs/D,oBAAoB77D,EAAQ47D,GACjCr/D,KAAKu/D,iBAAiB97D,EAAQ47D,GAC9Br/D,KAAKw/D,iBAAiB/7D,EAAQ47D,EAChC,CACAG,iBAAiB/7D,EAAQ47D,GACvBr/D,KAAKu8D,UAAYv8D,KAAKy/D,kBACpBJ,EACAr/D,KAAKu8D,UACL,CAAChrD,EAAKmuD,IAASnuD,EAAIw3C,eAAe2W,EAAMj8D,GAExC,OACA,OAEC+3C,IACC,MAAM8J,EAAU9J,EAAO8J,QACvB,OAAgB,OAAZA,GAAgC,KAAZA,EACf,UAEO,IAAZA,IAGKA,OAHT,CAGSA,EAEV9J,GACiC,MAAzBA,EAAO2iB,gBAAmD,IAAzB3iB,EAAO2iB,gBAGnDn+D,KAAKu8D,UAAUr3D,QAASqM,IACtB,MAAMiqC,EAASjqC,EAAI6J,YACG,MAAlBogC,EAAO8J,SAAqC,IAAlB9J,EAAO8J,QACnC/zC,EAAI8zC,WAAW7J,EAAO8J,SAEjB/zC,EAAIg0C,cACPh0C,EAAI8zC,WAAW7J,EAAO2iB,eAAc,EAI5C,CACAmB,oBAAoB77D,EAAQ47D,GAC1Br/D,KAAKszD,aAAetzD,KAAKy/D,kBACvBJ,EACAr/D,KAAKszD,aACL,CAAC/hD,EAAKmuD,IAASnuD,EAAI+2C,kBAAkBoX,EAAMj8D,GAC1C+3C,GAAWA,EAAOmkB,cAClBnkB,GAAWA,EAAOokB,qBAClBpkB,GAAWA,EAAO+M,SAClB/M,GAAWA,EAAOqkB,gBAEvB,CACAN,iBAAiB97D,EAAQ47D,GACvBr/D,KAAKw8D,UAAYx8D,KAAKy/D,kBACpBJ,EACAr/D,KAAKw8D,UACL,CAACjrD,EAAKmuD,IAASnuD,EAAIi3C,eAAekX,EAAMj8D,GACvC+3C,GAAWA,EAAOskB,WAClBtkB,GAAWA,EAAOukB,kBAClBvkB,GAAWA,EAAO7oC,MAClB6oC,GAAWA,EAAOwkB,aAEvB,CACAP,kBAAkBJ,EAAkB,GAAIY,EAAe,GAAIC,EAAaC,EAAcC,EAAqBC,EAAcC,GACvH,MAAMC,EAAgB,GAChBC,EAAgB,IACFxgE,KAAKoI,YAAYsvD,iBAAmB,IAC5CxyD,QAASqM,IACnB,MAAMkvD,EAAWpB,EAAgBpqD,QAAQ1D,GAAO,EAC1CiqC,EAASjqC,EAAI6J,YACb2L,EAAQwnB,GAAe8xB,EAAa7kB,IACpCklB,EAAenyB,GAAe+xB,EAAoB9kB,IAClDh6C,EAAQ4sC,GAAc+xB,EAAa3kB,IACnCmlB,EAAevyB,GAAcgyB,EAAoB5kB,IACvD,IAAIolB,EAMFA,OAL6B,IAAV75C,EAKTA,OAJmB,IAAVvlB,EAML,OAAVA,GAGQA,GAAS,EAGjBi/D,OAXuC,IAAjBC,EAaZA,OAZ6B,IAAjBC,GAcI,MAAhBA,GAAwBA,GAAgB,EAK1CV,EAAahrD,QAAQ1D,IAAQ,EAGvCqvD,KACeH,EAAoB,MAATj/D,GAAiC,MAAhBm/D,EAAgC,MAATn/D,GACzD++D,EAAcj7D,KAAKiM,GAAOivD,EAAcl7D,KAAKiM,GAAG,GAG/D,MAAMsvD,EAAkBtvD,IACtB,MAAM/P,EAAQ2+D,EAAa5uD,EAAI6J,aACzB0lD,EAAeV,EAAoB7uD,EAAI6J,aAC7C,OAAO5Z,GAAwBs/D,GAEjCP,EAAc7tD,KAAK,CAACquD,EAAMC,KACxB,MAAMC,EAASJ,EAAeE,GACxBG,EAASL,EAAeG,GAC9B,OAAIC,IAAWC,EACN,EAELD,EAASC,GACJ,EAEF,IAET,MAAMn0D,EAAM,GAAGpI,OAAO47D,GACtBN,SAAa/6D,QAASqM,IAChBivD,EAAcvrD,QAAQ1D,IAAQ,GAChCxE,EAAIzH,KAAKiM,EAAG,GAGhBivD,EAAct7D,QAASqM,IACjBxE,EAAIkI,QAAQ1D,GAAO,GACrBxE,EAAIzH,KAAKiM,EAAG,GAGhB0uD,EAAa/6D,QAASqM,IAChBxE,EAAIkI,QAAQ1D,GAAO,GACrB2uD,EAAY3uD,GAAK,EAAK,GAG1BxE,EAAI7H,QAASqM,IACP0uD,EAAahrD,QAAQ1D,GAAO,GAC9B2uD,EAAY3uD,GAAK,EAAI,GAGlBxE,CACT,CACAo0D,8CAA8CC,EAA4BC,GACxE,MAAMC,EAA6B,CAAC,EAC9BC,EAAeA,CAACC,EAAoBC,EAASC,EAAYC,EAAmBC,EAAWC,KAC3F,MAAMC,EAAc9hE,KAAKoI,YAAYsvD,gBACrC,IAAK+J,EAAQ/+D,SAAWo/D,EACtB,MAAO,GAET,MAAMC,EAAoB/uD,OAAOC,KAAKuuD,GAChCQ,EAAgB,IAAIp3D,IAAIm3D,GACxBE,EAAY,IAAIr3D,IAAIm3D,GACpBG,EAAY,IAAIt3D,IACpB62D,EAAQngE,IAAK4Z,IACX,MAAMkhC,EAAQlhC,EAAOsiC,WACrBykB,SAAUp4B,OAAOuS,GACVA,IACNz3C,OAAOo9D,IAENI,EAAwB,GACxBC,EAAmB,CAAC,EAC1B,IAAIC,EAAa,EACjB,QAASt/D,EAAI,EAAGA,EAAI++D,EAAYp/D,OAAQK,IAAK,CAC3C,MAAMq5C,EAAQ0lB,EAAY/+D,GAAGy6C,WACzB0kB,EAAUr2D,IAAIuwC,KAChB+lB,EAAsB78D,KAAK82C,GAC3BgmB,EAAiBhmB,GAASimB,IAE9B,CACA,IAAI7gE,EAAQ,IACR8gE,GAAkB,EAClB3M,EAAY,EAChB,MAAM4M,EAA2BnmB,IAC/B,MAAMomB,EAAqBJ,EAAiBhmB,GAC5C,QAASr5C,EAAI4yD,EAAW5yD,EAAIy/D,EAAoBz/D,IAAK,CACnD,MAAM+oD,GAAWqW,EAAsBp/D,GACnCk/D,EAAUp2D,IAAIigD,MAChB0V,EAAmB1V,IAAU8V,GAAapgE,IAC1CygE,EAAUp4B,OAAOiiB,IAErB,CACA6J,EAAY6M,GAEdf,EAAQv8D,QAASgW,IACf,MAAMkhC,EAAQlhC,EAAOsiC,WACrB,GAAIwkB,EAAcn2D,IAAIuwC,GACpBmmB,EAAwBnmB,GACxBolB,EAAmBplB,GAAOwlB,GAAapgE,QAClC,CACL,MAAMg6C,EAAStgC,EAAOE,aACqB,OAAtBogC,EAAOomB,SAA6C,IAAtBpmB,EAAOomB,IAAqD,MAA5BpmB,EAAOqmB,MAEnFS,IACiB9mB,EAAOkmB,SAAsC,IAAvBlmB,EAAOkmB,IAA0BlmB,EAAOmmB,GAEhFY,EAAwBnmB,IAExB6lB,EAAU/8D,QAAS4mD,KACjB0V,EAAmB1V,IAAU8V,GAAapgE,EAAQ4gE,EAAiBtW,GAAQ,GAE7EtqD,GAAS2gE,EAAsBz/D,OAC/B4/D,GAAkB,IAGjBhB,EAA2BllB,KAC9BklB,EAA2BllB,GAAS,CAAEA,UAExCklB,EAA2BllB,GAAOwlB,GAAapgE,IAEnD,GACD,EAEH+/D,SACEH,EACAphE,KAAKszD,aACL,WACA,kBACA,gBACA,wBAEFiO,EACEF,EACArhE,KAAKw8D,UACL,QACA,eACA,aACA,qBAEKxpD,OAAO08B,OAAO4xB,EACvB,GAIEmB,GAA0B,cAAcl7D,EAC1C9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,yBAClB,CACAS,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAKwvD,gBAAkBzvD,EAAM0vD,sBAC7BzvD,KAAKya,eAAiB1a,EAAM0a,eAC5Bza,KAAK0iE,sBAAwB3iE,EAAM2iE,sBACnC1iE,KAAKH,gBAAkBE,EAAMF,gBAC7BG,KAAK+uD,mBAAqBhvD,EAAMgvD,mBAChC/uD,KAAKkvD,uBAAyBnvD,EAAMmvD,uBACpClvD,KAAKivD,uBAAyBlvD,EAAMkvD,sBACtC,CACA5B,iBAAiB/hD,EAAQ7H,GACvB,MAAMk/D,EAAe3iE,KAAKoI,YAAYsvD,iBAAmB,GACzD,GAAIzzD,GAAgB0+D,GAClB,OAAO,EAET,GAAIr3D,GAAUA,EAAO4oD,QAAU5oD,EAAO4oD,MAAMhvD,QAC1CjE,SACE,mLAEK,EAET,MAAM2hE,EAAY5iE,KAAKH,gBAAgB68D,oCACjCmG,EAAcA,CAACn6C,EAAQikC,EAAiBmW,KAC5C,MAAMvS,EAAqBvwD,KAAKywD,qCAAqChtD,GAC/Ds/D,EAAqBpW,EAAgBnoD,QACrCw+D,EAAkB,CAAC,EACnBC,EAAe,CAAC,EAChBC,EAAgB,GAChBC,EAA0B,GAChC,IAAIC,EAAkB,EACtB,MAAMC,EAAuBrjE,KAAKH,gBAAgB8G,qBAAqBnC,QACjE8+D,EAAoBtjE,KAAKH,gBAAgBi3D,kBAAkBtyD,QACjEkkB,EAAOxjB,QAASgvD,IACd,MAAM9X,EAAQ8X,EAAM9X,OAAS,GAE7B,GAD0BA,EAAMkB,WAAWhB,IAIzC,OAFA4mB,EAAc59D,KAAK4uD,QACnBiP,EAAwB79D,KAAK4uD,GAG/B,MAAMh5C,GAAS4nD,EAAQ1mB,GAClBlhC,IAIHlb,KAAKujE,wBACHroD,GACAg5C,EACA5oD,EAAOk4D,aACPR,EACAC,GACA,EACAx/D,EACAm/D,GAEFxzD,GAAiB2zD,EAAoB7nD,MAbrCioD,EAAwB79D,KAAK4uD,GAC7BkP,GAAmB,KAevB,MAAMK,EAAqBlyD,GAAQvR,KAAKujE,wBACtChyD,EACA,KACAjG,EAAOk4D,aACPR,EACAC,GACA,EACAx/D,EACAm/D,GAEFG,EAAmB79D,QAAQu+D,GAC3BzjE,KAAKH,gBAAgBs9D,oBACnBuG,GAAkB57D,KAAK9H,KAAMgjE,EAAiBK,IAEhDrjE,KAAKH,gBAAgBw9D,iBAAiBqG,GAAkB57D,KAAK9H,KAAMijE,EAAcK,IACjFtjE,KAAKoI,YAAY4oD,aAAY,GAE7B,MAAM2S,GADW3jE,KAAKoI,YAAY8vD,eAAiB,IACrB1zD,QAC9B0+D,SAAch+D,QAAS0+D,IACrB,MAAMC,EAAU7jE,KAAKoI,YAAY6vD,WAAW2L,EAAUxnB,OACtDhtC,GAAiBu0D,EAAcE,GAC/B7jE,KAAKujE,wBACHM,EACAD,EACAt4D,EAAOk4D,aACP,KACA,MACA,EACA//D,EACAm/D,EACF,GAEFe,EAAaz+D,QAAQu+D,GACrBzjE,KAAK8jE,uBAAuBx4D,GAC5BtL,KAAK+uD,mBAAmB7nC,QAAQzjB,GAChCzD,KAAKwvD,gBAAgB0B,kBAAkBztD,GACvC8sD,IACO,CAAEwT,uBAAwBZ,EAAyBa,eAAgBZ,EAAgB,EAE5FpjE,KAAKkvD,uBAAuB5iD,QAC5B,IAAMy3D,yBAAwBC,kBAAmBnB,EAC/Cv3D,EAAO4oD,OAAS,GAChByO,EACCriE,GAAON,KAAKoI,YAAYiZ,aAAa/gB,IAExC,GAAIyjE,EAAuBrhE,OAAS,GAAKoQ,EAAQxH,EAAOk4D,cAAe,CAErE,MAAM5L,EADkB53D,KAAKivD,uBAAuBuD,sBACP3B,KAC7CmT,EAAiBnB,EACfkB,EACAnM,GAAuB,GACtBt3D,GAAON,KAAKivD,uBAAuBgV,kBAAkB3jE,IACtD0jE,cACJ,CACA,OAAAhkE,KAAKkvD,uBAAuBqF,SACF,IAAnByP,CACT,CACAE,iBAAiBzgE,GAEf,GAAIQ,GADgBjE,KAAKoI,YAAYsvD,iBAEnC,OAEF,MACMzN,EAAiB1N,GADGv8C,KAAKoI,YAAYqvD,oBAErC0M,EAAe,GACrB,IAAIC,EAAmB,IACnBC,EAAgB,IAChBC,EAAgB,GACpB,MAAMC,EAAgBvkE,KAAKoI,YAAY8vD,cACnCqM,IACFD,EAAgBA,EAAc3/D,OAAO4/D,IAEnCta,IACFqa,EAAgBA,EAAc3/D,OAAOslD,IAEvCqa,EAAcp/D,QAASgW,IACrB,MAAM0oD,EAAY5jE,KAAKwkE,yBAAyBtpD,GAC5CjK,GAAS2yD,EAAUjE,gBAAkBiE,EAAUrb,WACjDqb,EAAUjE,cAAgByE,KAExBnzD,GAAS2yD,EAAU9D,aAAe8D,EAAUjxD,QAC9CixD,EAAU9D,WAAauE,KAEzBF,EAAa7+D,KAAKs+D,EAAS,GAE7B5jE,KAAKqtD,iBAAiB,CAAE6G,MAAOiQ,EAAcM,YAAY,GAAQhhE,EACnE,CACA+gE,yBAAyBtpD,GACvB,MAAMwpD,EAAiBA,CAACzkD,EAAGC,IAAMD,GAAgBC,GAAgB,KAC3Ds7B,EAAStgC,EAAOE,YAChB1I,EAAOgyD,EAAelpB,EAAO9oC,KAAM8oC,EAAOkF,aAC1CC,EAAY+jB,EAAelpB,EAAOmF,UAAWnF,EAAOoF,kBACpDC,EAAO6jB,EAAelpB,EAAOqF,KAAMrF,EAAOuF,aAC1Ch9B,EAAS2gD,EAAelpB,EAAOz3B,OAAQy3B,EAAOyF,eAC9C58B,EAAQqgD,EAAelpB,EAAOn3B,MAAOm3B,EAAO2G,cAC5Ch8B,EAAOu+C,EAAelpB,EAAOr1B,KAAMq1B,EAAO0F,aAChD,IAAIye,EAAgB+E,EAClBlpB,EAAOmkB,cACPnkB,EAAOokB,sBAELrX,EAAWmc,EAAelpB,EAAO+M,SAAU/M,EAAOqkB,iBACjC,MAAjBF,IAAsC,MAAZpX,GAAgC,GAAZA,KAChDoX,EAAgB,KAChBpX,EAAW,MAEb,IAAIuX,EAAa4E,EAAelpB,EAAOskB,WAAYtkB,EAAOukB,mBACtDptD,EAAQ+xD,EAAelpB,EAAO7oC,MAAO6oC,EAAOwkB,cAC9B,MAAdF,IAAgC,MAATntD,GAA0B,GAATA,KAC1CmtD,EAAa,KACbntD,EAAQ,MAEV,MAAM2yC,EAAUof,EAAelpB,EAAO8J,QAAS9J,EAAO2iB,gBACtD,MAAO,CACL/hB,MAAOlhC,EAAOsiC,WACd9qC,OACAiuC,YACAE,OACA98B,SACAM,QACA8B,OACAoiC,WACAoX,gBACAhtD,QACAmtD,aACAxa,UAEJ,CACAie,wBAAwBroD,EAAQ0oD,EAAWJ,EAAcR,EAAiBC,EAAcY,EAASpgE,EAAQm/D,GACvG,IAAK1nD,EACH,OAEF,MAAMypD,EAAYA,CAACC,EAAMC,KACvB,MAAM3wB,EAAM,CACV4wB,YAAQ,EACRC,YAAQ,GAEV,IAAIC,GAAa,EACjB,OAAIpB,SACsB,IAApBA,EAAUgB,KACZ1wB,EAAI4wB,OAASlB,EAAUgB,GACvBI,GAAa,GAEXlyD,EAAQ+xD,SAA6B,IAApBjB,EAAUiB,KAC7B3wB,EAAI6wB,OAASnB,EAAUiB,GACvBG,GAAa,KAGZA,GAAcxB,SACU,IAAvBA,EAAaoB,KACf1wB,EAAI4wB,OAAStB,EAAaoB,IAExB9xD,EAAQ+xD,SAAgC,IAAvBrB,EAAaqB,KAChC3wB,EAAI6wB,OAASvB,EAAaqB,KAGvB3wB,GAEH2M,EAAO8jB,EAAU,QAAQG,YAClB,IAATjkB,GACF3lC,EAAO2rC,YAAYhG,EAAMp9C,GAE3B,MAAMsgB,EAAS4gD,EAAU,UAAUG,YACpB,IAAX/gD,GACF7I,EAAO8lC,UAAUj9B,GAEnB,MAAMkhD,EAAc/pD,EAAOE,YAAYgL,UAAYpmB,KAAKL,IAAI2I,YAAYy5C,2BAClE57B,EAAOw+C,EAAU,QAAQG,OAI/B,QAHa,IAAT3+C,GACFjL,EAAOktC,QAAQjiC,GAEL,MAARA,EAAc,CAChB,MAAM9B,EAAQsgD,EAAU,SAASG,OACpB,MAATzgD,GACiB,MAAf4gD,GAAuB5gD,GAAS4gD,GAClC/pD,EAAOmnC,eAAeh+B,EAAO5gB,EAGnC,CACA,MAAMiP,EAAOiyD,EAAU,QAAQG,YAClB,IAATpyD,GAEAwI,EAAOupC,QADI,SAAT/xC,GAA4B,QAATA,EACNA,OAEA,EAFMjP,GAKzB,MAAMk9C,EAAYgkB,EAAU,aAAaG,OAIzC,QAHkB,IAAdnkB,GACFzlC,EAAO+pC,aAAatE,GAElBkjB,IAAY3oD,EAAO1J,YACrB,OAEF,MAAM8zC,EAAUqf,EAAU,WAAWG,YACrB,IAAZxf,IACqB,iBAAZA,GACTpqC,EAAOmqC,WAAWC,GACbpqC,EAAOwtC,kBACVxtC,EAAO6tC,gBAAe,EAAMtlD,GAC5Bm/D,EAAU7F,YAAY7hD,MAGpBpI,EAAQwyC,IACVrkD,EACE,gPAGAia,EAAOwtC,kBACTxtC,EAAO6tC,gBAAe,EAAOtlD,GAC7Bm/D,EAAU5F,eAAe9hD,MAI/B,MAAQ4pD,OAAQvc,EAAUwc,OAAQpF,GAAkBgF,EAAU,WAAY,uBACzD,IAAbpc,QAAyC,IAAlBoX,KACI,iBAAlBA,GAA8BpX,GAClCrtC,EAAOC,qBACVD,EAAOotC,mBAAkB,EAAM7kD,GAC/Bm/D,EAAUjG,YAAYzhD,IAEpB8nD,GAA4C,iBAAlBrD,IAC5BqD,EAAgB9nD,EAAOqG,SAAWo+C,IAGhCzkD,EAAOC,qBACTD,EAAOotC,mBAAkB,EAAO7kD,GAChCm/D,EAAUhG,eAAe1hD,KAI/B,MAAQ4pD,OAAQnyD,EAAOoyD,OAAQjF,GAAe6E,EAAU,QAAS,oBACnD,IAAVhyD,QAAmC,IAAfmtD,KACI,iBAAfA,GAA2BntD,GAC/BuI,EAAOxJ,kBACVwJ,EAAOstC,gBAAe,EAAM/kD,GAC5Bm/D,EAAU/F,YAAY3hD,IAEpB+nD,GAAsC,iBAAfnD,IACzBmD,EAAa/nD,EAAOqG,SAAWu+C,IAG7B5kD,EAAOxJ,kBACTwJ,EAAOstC,gBAAe,EAAO/kD,GAC7Bm/D,EAAU9F,eAAe5hD,IAIjC,CACA4oD,uBAAuBx4D,GACrB,IAAKA,EAAOm5D,aAAen5D,EAAO4oD,MAChC,OAEF,MAAM2B,EAAS,GACfvqD,EAAO4oD,MAAMhvD,QAASZ,IACF,MAAdA,EAAK83C,OACPyZ,EAAOvwD,KAAKhB,EAAK83C,MAAK,GAG1Bp8C,KAAKoI,YAAYwtD,iBAAiBC,EACpC,CAIApF,qCAAqChtD,GACnC,MAAMyhE,EAAa,CACjBx+D,gBAAiB1G,KAAKH,gBAAgB8G,qBAAqBnC,QAC3DqyD,aAAc72D,KAAKH,gBAAgBi3D,kBAAkBtyD,QACrDquD,aAAc7yD,KAAKH,gBAAgBizD,kBAAkBtuD,SAEjD2gE,EAAoBnlE,KAAK0iE,sBAAsB0C,iBAC/CC,EAAuB,CAAC,EAC9BF,SAAkBjgE,QAASqM,IACzB8zD,EAAqB9zD,EAAI6qC,OAAS7qC,IAE7B,KACL,MAAM+zD,EAAetlE,KAAKoI,YAAYuvD,aAChC4N,EAA6BA,CAACh+B,EAAWi+B,EAAYC,EAAWC,KAIpE,GADkBnyB,GAFCiyB,EAAWlkE,IAAIokE,GAChBD,EAAUnkE,IAAIokE,IAG9B,OAEF,MAAMz+B,EAAU,IAAIr8B,IAAI46D,GACxBC,EAAUvgE,QAAS5E,IACZ2mC,EAAQ4C,OAAOvpC,IAClB2mC,EAAQrlC,IAAItB,EAAE,GAGlB,MAAMqlE,EAAa,IAAI1+B,GACvBjnC,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAMgkC,EACNj2B,QAASq0D,EACTzqD,OAA8B,IAAtByqD,EAAWjjE,OAAeijE,EAAW,GAAK,KAClDliE,UACD,EAEGmiE,EAAqBC,IACzB,MAAMC,EAAkB,GACxBR,SAAapgE,QAASgW,IACpB,MAAM6qD,EAAiBV,EAAqBnqD,EAAOsiC,YAC/CuoB,GAAkBF,EAAiBE,EAAgB7qD,IACrD4qD,EAAgBxgE,KAAK4V,EAAM,GAGxB4qD,GAEHE,EAAkB/nD,GAAMA,EAAEu/B,WAChC+nB,EACE,wBACAL,EAAWx+D,gBACX1G,KAAKH,gBAAgB8G,qBACrBq/D,GAEFT,EACE,qBACAL,EAAWrO,aACX72D,KAAKH,gBAAgBi3D,kBACrBkP,GAQF,MAAMC,EAAgBL,EANOM,CAACC,EAAIloD,KAChC,MAAMmoD,EAA0B,MAAdD,EAAG7gB,QACf+gB,EAAgBD,GAAanoD,EAAEyqC,gBAC/B4d,EAAiBF,GAAaD,EAAG7gB,SAAWrnC,EAAEsnC,aACpD,OAAO8gB,GAAiBC,IAGtBL,EAAcvjE,OAAS,GACzB1C,KAAKwvD,gBAAgBgO,cAAc,qBAAsByI,EAAexiE,GAG1EzD,KAAKwvD,gBAAgB/tB,cAAcmkC,EADLW,CAACJ,EAAIloD,IAAMkoD,EAAG9hD,OAASpG,EAAE6+B,mBACsB,EAAMr5C,GAEnFzD,KAAKwvD,gBAAgBhuB,aAAaokC,EADJY,CAACL,EAAIloD,IAAMkoD,EAAGpiD,QAAU9F,EAAE2oC,aACoBnjD,GAE5EzD,KAAKwvD,gBAAgBjuB,cAAcqkC,EADDa,CAACN,EAAIloD,IAAMkoD,EAAGtlB,MAAQ5iC,EAAE27B,aACuBn2C,GAEjF,MAAMijE,EAAiBd,EADKe,CAACR,EAAIloD,IAAMkoD,EAAGzzD,MAAQuL,EAAEQ,WAAa0nD,EAAGxlB,WAAa1iC,EAAE+mC,gBAE/E0hB,EAAehkE,OAAS,GAC1B1C,KAAKya,eAAemsD,0BAA0BnjE,EAAQijE,GAExD1mE,KAAK6mE,wCAAwC1B,EAAmB1hE,EAAM,CAE1E,CACAojE,wCAAwCd,EAAgBtiE,GACtD,MAAMqjE,EAAgB9mE,KAAK0iE,sBAAsB0C,iBAC3C2B,EAAsB,CAAC,EAC7BD,EAAc5hE,QAAS8hE,GAAMD,EAAoBC,EAAE5qB,OAAS4qB,GAC5D,MAAMC,EAAmB,CAAC,EAC1BlB,EAAe7gE,QAAS8hE,IAClBD,EAAoBC,EAAE5qB,SACxB6qB,EAAiBD,EAAE5qB,QAAS,KAGhC,MAAM8qB,EAAiBnB,EAAevgE,OAAQyY,GAAMgpD,EAAiBhpD,EAAEm+B,QACjE+qB,EAAgBL,EAActhE,OAAQyY,GAAMgpD,EAAiBhpD,EAAEm+B,QAC/Dua,EAAe,GACrBwQ,EAAcjiE,QAAQ,CAACkiE,EAAS5lE,KAC9B,MAAM6lE,EAAWH,GAAkBA,EAAe1lE,GAClD,GAAI6lE,GAAYA,EAASjrB,QAAUgrB,EAAQhrB,MAAO,CAChD,MAAMkrB,EAAUtnE,KAAKoI,YAAYksD,OAAO+S,EAASjrB,OAC7CkrB,GACF3Q,EAAarxD,KAAKgiE,EAEtB,IAEG3Q,EAAaj0D,QAGlB1C,KAAKwvD,gBAAgB9tB,YAAY,CAAEi1B,eAAclzD,SAAQ+Q,UAAU,GACrE,GAEEkvD,GAAoBA,CAAChO,EAAS6R,EAASxG,EAAMC,KAC/C,MAAMC,EAASvL,EAAQqL,EAAKx/C,SACtB2/C,EAASxL,EAAQsL,EAAKz/C,SACtBimD,EAAsB,MAAVvG,EACZwG,EAAsB,MAAVvG,EAClB,GAAIsG,GAAaC,EACf,OAAOxG,EAASC,EAElB,GAAIsG,EACF,OAAO,EAET,GAAIC,EACF,OAAO,EAET,MAAMC,EAAYH,EAAQtyD,QAAQ8rD,GAC5B4G,EAAYJ,EAAQtyD,QAAQ+rD,GAC5B4G,EAAeF,GAAa,EAElC,OAAIE,GADiBD,GAAa,EAEzBD,EAAYC,EAEjBC,GACK,EAEF,GAILC,GAAoB,cAActgE,EACpC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,mBAClB,CACAS,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAKkvD,uBAAyBnvD,EAAMmvD,uBACpClvD,KAAKwvD,gBAAkBzvD,EAAM0vD,qBAC/B,CACAqY,kBAAkBtJ,EAAW3qB,EAASpwC,GACpC,MAAM6uD,EAActyD,KAAKoI,YAAY4V,UAChCs0C,GAILtyD,KAAK+nE,YAAY,CADFzV,EAAYkM,IACA3qB,EAASpwC,EACtC,CACAskE,YAAYC,EAAmBn0B,EAASpwC,EAAQ+Q,GAAW,GACzD,MAAM89C,EAActyD,KAAKoI,YAAY4V,UACrC,IAAKs0C,EACH,OAEF,GAAIze,EAAUye,EAAY5vD,OAASslE,EAAkBtlE,OAGnD,OAFAzB,EAAU,0DAA2D4yC,QACrE5yC,EAAU,wFAGZjB,KAAKkvD,uBAAuB5iD,QAC5B,MAAMqqD,EAAe32D,KAAKoI,YAAY0vD,eAAekQ,GACjDhoE,KAAKioE,kBAAkBtR,EAAc9iB,KACvC7zC,KAAKoI,YAAYsuD,WAAWC,EAAc9iB,EAASpwC,GACnDzD,KAAKwvD,gBAAgB9tB,YAAY,CAAEi1B,eAAclzD,SAAQowC,UAASr/B,cAEpExU,KAAKkvD,uBAAuBqF,QAC9B,CACA0T,kBAAkBC,EAAer0B,GAC/B,MAAMs0B,EAAsBnoE,KAAKooE,uBAAuBF,EAAer0B,GACvE,OAAO7zC,KAAKqoE,mBAAmBF,EACjC,CACAE,mBAAmBC,GAIjB,SAHKtoE,KAAKk2D,0BAA0BoS,KAG/BtoE,KAAKuoE,4BAA4BD,GAIxC,CACAF,uBAAuBF,EAAer0B,GAEpC,MAAMs0B,EADcnoE,KAAKoI,YAAY4V,UACGxZ,QACxCsvC,UAAaq0B,EAAqBD,EAAer0B,GAC1Cs0B,CACT,CACAI,4BAA4BJ,GAC1B,MAMMK,EAAQxoE,KAAKL,IAAIwD,IAAI,aAC3B,IAAIslE,EAAgBD,EAAQ,GAAgB,EACxCE,GAAa,EACjBP,SAAoBjjE,QAASqM,IAC3B,MAAMo3D,EAVyBtyD,IAC1BA,EAGe,SAAbA,IAAoC,IAAbA,GAAoB,EAAgB,EAFzD,EAQSuyD,CAAwBr3D,EAAI6J,YAAYygC,cACtD2sB,EACEG,EAAYF,IACdC,GAAa,GAGXC,EAAYF,IACdC,GAAa,GAGjBD,EAAgBE,IAEXD,CACT,CACAxS,0BAA0B2S,GACxB,IAAIH,GAAa,EAEjBvrB,UAA6B,KADJn9C,KAAKoI,YAAYovD,aACY1rD,IACpD,IAAK6sC,GAAsB7sC,GACzB,OAEF,MAAMmwD,EAAcnwD,EACd+sC,EAAcojB,EAAY/hB,iBAEhC,IADsBrB,IAAeA,EAAYiwB,cAE/C,OAEF,MAAMC,EAAa,GACnB9M,EAAY9hB,iBAAiBj1C,QAASqM,IACpC,MAAMy3D,EAAcH,EAAe5zD,QAAQ1D,GAC3Cw3D,EAAWzjE,KAAK0jE,EAAW,GAEZjkE,KAAKqI,IAAIge,MAAMrmB,KAAMgkE,GACrBhkE,KAAKuI,IAAI8d,MAAMrmB,KAAMgkE,GAEpB9M,EAAY9hB,iBAAiBz3C,OAAS,IAEtDgmE,GAAa,KAGVA,CACT,CACAzS,mBAAmB3E,GACjB,MAAM7L,EAAO,GACPwjB,EAAS,GACTC,EAAQ,GAYd,OAXA5X,EAAKpsD,QAASqM,IACZ,MAAM8E,EAAW9E,EAAI6J,YAAYygC,aAChB,UAAbxlC,EACF6yD,EAAM5jE,KAAKiM,GACW,SAAb8E,IAAoC,IAAbA,EAChCovC,EAAKngD,KAAKiM,GAEV03D,EAAO3jE,KAAKiM,EAAG,GAGLvR,KAAKL,IAAIwD,IAAI,aAElB,IAAI+lE,KAAUD,KAAWxjB,GAE3B,IAAIA,KAASwjB,KAAWC,EACjC,GAIEC,GAAkB,WAClBC,GAAe,CACjB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,SAsEP,SAASC,GAAcC,EAAUC,GAC/B,GAAgB,MAAZD,EACF,OAAO,KAET,MAAME,EAAeF,EAASjjE,WAAWA,WACzC,OAAIkjE,EACKC,EAEFA,EAAaC,QAAQN,GAAkBO,GAAQN,GAAaM,GACrE,CAUA,SAASC,GAAuBC,GAC9B,OAAOA,EAAUH,QAAQ,SAAWzC,GAAM,IAAIA,EAAE6C,sBAClD,CAGA,IAAIC,GAAoB,cAAcviE,EACpC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,mBAClB,CACAS,UAAUpI,GACRC,KAAK+pE,kBAAoBhqE,EAAMgqE,kBAC/B/pE,KAAKH,gBAAkBE,EAAMF,gBAC7BG,KAAKoI,YAAcrI,EAAMqI,WAC3B,CACA4hE,wBAAwB9uD,EAAQ+Q,EAAUg+C,GAAiB,GACzD,IAAK/uD,EACH,OAAO,KAET,MAAM0J,EAAa5kB,KAAKkqE,cAAchvD,EAAOE,YAAaF,EAAQ,KAAM,KAAM+Q,GAC9E,OAAIg+C,EACKjqE,KAAKmqE,0BAA0BjvD,EAAQ0J,GAEzCA,CACT,CACAwlD,qCAAqCnO,EAAaoO,EAAqBp+C,GACrE,MAAM4sB,EAAcwxB,EAAsBA,EAAoBnwB,iBAAmB,KACjF,OAAIrB,EACK74C,KAAKkqE,cAAcrxB,EAAa,KAAMojB,EAAaoO,EAAqBp+C,GAE1E,IACT,CACAq+C,6BAA6BrO,EAAahwC,GACxC,OAAOjsB,KAAKoqE,qCAAqCnO,EAAaA,EAAYsO,yBAA0Bt+C,EACtG,CAEAi+C,cAAc1uB,EAAQtgC,EAAQ+gD,EAAaoO,EAAqBp+C,GAC9D,MAAMu+C,EAAoBhvB,EAAOgvB,kBACjC,GAAIA,EAAmB,CACrB,MAAMl/D,EAAStL,KAAKL,IAAIujD,oBAAoB,CAC1C1H,SACAtgC,SACA+gD,cACAoO,sBACAp+C,aAEF,MAAiC,mBAAtBu+C,EACFA,EAAkBl/D,GACa,iBAAtBk/D,EACTxqE,KAAK+pE,kBAAkBU,SAASD,EAAmBl/D,IAE5DrK,EAAU,oDACH,GACT,CAAO,OAAyB,MAArBu6C,EAAO52B,WACT42B,EAAO52B,WACL42B,EAAOh2B,MAhEtB,SAASklD,GAAsBd,GAC7B,OAAKA,GAA0B,MAAbA,EAKJA,EAAUH,QAFZ,kBAEyB,SAASA,QAD9B,0BAC+C,WAAWA,QAAQ,MAAO,KAAK7lD,MAAM,KACvFtiB,IAAKqpE,GAASA,EAAK5iC,UAAU,EAAG,GAAGD,eAAiB6iC,EAAKjoE,OAAS,EAAIioE,EAAK5iC,UAAU,EAAG4iC,EAAKjoE,QAAU,KAAKwQ,KAAK,KALrH,IAMX,CAyDaw3D,CAAsBlvB,EAAOh2B,OAE/B,EACT,CACA2kD,0BAA0BjvD,EAAQ0J,GAChC,GAAI5kB,KAAKL,IAAIwD,IAAI,2BACf,OAAOyhB,EAET,MAAMgmD,EAAmB1vD,EAAOE,YAAYwvD,iBAE5C,IACIC,EADAvlB,EAAU,KAEd,GAHgCxyC,EAAQ83D,GAGX,CAC3B,MAAM/X,EAAe7yD,KAAKH,gBAAgBizD,kBACpCgY,EAA2B9qE,KAAKL,IAAIwD,IAAI,8CAAwE,IAAxB0vD,EAAanwD,OACrGqoE,OAA2D,IAA3C7vD,EAAOE,YAAY4vD,oBACzC,GAAIF,IAA6BC,EAC/B,OAAOnmD,EAET0gC,EAAUslB,EAAmBA,EAAiBrlB,aAAe,KAC7DslB,GAAe,CACjB,KAAO,CACL,MAAMI,EAAgB/vD,EAAOwtC,gBACvBwiB,EAAqBlrE,KAAKoI,YAAYoT,gBAAkBxb,KAAKH,gBAAgBy9D,kBAC/E2N,GAAiBC,GACnB5lB,EAAUpqC,EAAOqqC,aACjBslB,GAAe,GAEfA,GAAe,CAEnB,CACA,GAAIA,EAAc,CAChB,MAAMM,EAAmC,iBAAZ7lB,EAAuBA,EAAU,OAG9D,MAAO,GAFgBtlD,KAAK22C,cAAcy0B,mBAAnBprE,CACwBmrE,EAAeA,MACzBvmD,IACvC,CACA,OAAOA,CACT,GAIEymD,GAAyB,cAAc9jE,EACzC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,wBAClB,CACAS,UAAUpI,GACRC,KAAKi0B,QAAUl0B,EAAMk0B,QACrBj0B,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAK6uD,cAAgB9uD,EAAM8uD,cAC3B7uD,KAAK+uD,mBAAqBhvD,EAAMgvD,kBAClC,CACA11C,UACE0jC,GAAkB/8C,KAAKi0B,QAASj0B,KAAKuyD,iBAAiBrH,MACtD1jD,MAAM6R,SACR,CACAiyD,2BACE,OAA+B,MAAxBtrE,KAAKuyD,eACd,CACAgZ,qBAAqBC,EAAWC,GAC9B,GAA4B,MAAxBzrE,KAAKuyD,gBACP,OAAO,KAET,MAAMmZ,EAAoB1rE,KAAKoI,YAAYiZ,aAAaoqD,GACxD,IAAIE,EAAc,KAClB,OAAA3rE,KAAKuyD,gBAAgB1B,KAAK3rD,QAASgW,IACjC,MAAM0wD,EAAgB1wD,EAAOE,YAAYowD,UACnCZ,EAAmB1vD,EAAOE,YAAYwvD,iBACpBr3B,GAAUq4B,EAAeJ,IACvBZ,IAAqBc,IAE7CC,EAAczwD,KAGXywD,CACT,CACAnZ,qBACE,OAAOxyD,KAAKuyD,eACd,CACA0R,kBAAkBviD,GAChB,OAAK1hB,KAAKuyD,gBAGHvyD,KAAKoI,YAAY2vD,qBAAqBr2C,EAAK1hB,KAAKuyD,iBAF9C,IAGX,CACAsZ,mBAAmBrb,EAAS/sD,GAC1B,GAAKzD,KAAKoI,YAAY8L,YAGP,MAAXs8C,GAA2C,MAAxBxwD,KAAKuyD,iBAG5B,IAAI/B,EAAS,CACXxwD,KAAKy/B,yBAAyB+wB,GAC9B,MAAMsb,EAAqB9rE,KAAK6uD,cAAc9E,iBAC5CyG,GACA,EACAxwD,KAAKuyD,iBAAiBrH,MAAQlrD,KAAK+rE,8BAA2B,EAC9DtoE,GAEFs5C,GAAkB/8C,KAAKi0B,QAASj0B,KAAKuyD,iBAAiBrH,KAAM4gB,EAAmBlhB,YAC/E,MAAMM,EAAO4gB,EAAmBlhB,WAC1BkG,EAAYgb,EAAmBphB,SAC/BmG,EAAOtU,GAAmB2O,GAEhClrD,KAAKuyD,gBAAkB,CAAErH,OAAM4F,YAAWD,OAAMvvD,IADpC,CAAC,GAEbtB,KAAKuyD,gBAAgB1B,KAAK3rD,QAASqM,GAAQvR,KAAKuyD,gBAAgBjxD,IAAIiQ,EAAIgQ,SAAWhQ,GACnF,MAAMy6D,IAAoBhsE,KAAK+rE,wBAC/B/rE,KAAK+rE,wBAA0B,KAC/B/rE,KAAKoI,YAAY4oD,aAAagb,EAChC,MACEhsE,KAAK+rE,wBAA0B/rE,KAAKuyD,gBAAkBvyD,KAAKuyD,gBAAgBrH,KAAO,KAClFlrD,KAAKuyD,gBAAkB,KACvBvyD,KAAKoI,YAAY4oD,aAAY,GAE/BhxD,KAAK+uD,mBAAmB7nC,QAAQzjB,EAAM,CACxC,CACAg8B,yBAAyB+wB,GACvB,MAAMsO,EAAiB9+D,KAAKL,IAAIwD,IAAI,4BAC9B8oE,EAAgBjsE,KAAKL,IAAIwD,IAAI,iCACnC,IAAK27D,IAAmBmN,EACtB,OAEF,MAAMC,EAAoBC,IACxBA,EAASjnE,QAASmpD,IAEhB,GADgBv7C,EAAQu7C,EAAe9U,UAC1B,CACX,MAAMV,EAAcwV,EAChB4d,GACFA,EAAcpzB,GAEhBqzB,EAAiBrzB,EAAYU,SAC/B,MAEMulB,GACFA,EAFazQ,EAEQ,EAG1B,EAECmC,GACF0b,EAAiB1b,EAErB,GAIE4b,GAAoB,cAAc7kE,EACpC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,mBAClB,CACAS,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAKgvD,sBAAwBjvD,EAAMivD,sBACnChvD,KAAKwvD,gBAAkBzvD,EAAM0vD,sBAC7BzvD,KAAK+uD,mBAAqBhvD,EAAMgvD,mBAChC/uD,KAAK4uD,aAAe7uD,EAAM6uD,YAC5B,CACAyd,gBAAgBC,EAAcC,EAAU/3D,EAAU/Q,GAChD,MAAM+oE,EAAO,GACbF,EAAapnE,QAASunE,IACpB,MAAMl7D,EAAMvR,KAAKoI,YAAYiZ,aAAaorD,EAAY/qD,MAAQ1hB,KAAKoI,YAAYksD,OAAOmY,EAAY/qD,KAClG,GAAKnQ,IAGLi7D,EAAKlnE,KAAK,CACR+e,MAAOooD,EAAY9Q,SACnB+Q,OAAQ,CAAC,GACTp7D,QAAS,CAACC,KAEgD,UAArCvR,KAAKL,IAAIwD,IAAI,sBAElCopE,GAAYA,GAEVA,GAAU,CACZ,MAAMI,EAAW3sE,KAAK+uD,mBAAmB6d,YAAYr7D,GACrD,IAAKo7D,EACH,OAEF,MAAME,EAAYt7D,EAAIurC,iBAAmB2vB,EAAY9Q,SAC/CmR,EAAgBH,EAAS7vB,iBAAmB+vB,EAClDL,EAAKlnE,KAAK,CACR+e,MAAOyoD,EACPJ,OAAQ,CAAC,GACTp7D,QAAS,CAACq7D,IAEd,IAEkB,IAAhBH,EAAK9pE,QAGT1C,KAAK+sE,iBAAiB,CACpBC,WAAYR,EACZh4D,WACA/Q,UAEJ,CAKAspE,iBAAiBzhE,GACf,MAAQ0hE,aAAYx4D,WAAU/Q,UAAW6H,EAEzC,GADyB0hE,IAAcA,EAAWx5B,MAAOy5B,GAAoBjtE,KAAKktE,2BAA2BD,IAM3G,YAJIz4D,GAEFxU,KAAKwvD,gBAAgB/tB,cADLurC,GAAcA,EAAWtqE,OAAS,EAAIsqE,EAAW,GAAG17D,QAAU,KAClCkD,EAAU/Q,IAI1D,MAAM0pE,EAAc,GACdC,EAAiB,GACvBJ,EAAW9nE,QAAShC,IAClB,MAAQmhB,QAAO/S,UAASo7D,UAAWxpE,EAC7BmqE,EAAY,CAAC,EACbC,EAAe,CAAC,EACtBh8D,EAAQpM,QAASqM,GAAQ67D,EAAe9nE,KAAKiM,IAC7C,IAAIg8D,GAAmB,EACnBC,EAAY,EAChB,KAAOD,GAAkB,CAEvB,GADAC,IACIA,EAAY,IAAK,CACnBxnE,EAAW,qCACX,KACF,CACAunE,GAAmB,EACnB,MAAME,EAAa,GACnB,IAAIC,EAAmB,EACnBC,EAAqBtpD,EACzB/S,EAAQpM,QAAQ,CAACqM,EAAK/P,KACI8rE,EAAa/7D,EAAIgQ,SAEvCosD,GAAsBN,EAAU97D,EAAIgQ,UAEpCksD,EAAWnoE,KAAKiM,GAEhBm8D,GADqBhB,EAAOlrE,GAE9B,GAEF,MAAMosE,EAAa,EAAIF,EACvBD,EAAWvoE,QAAQ,CAACqM,EAAK/P,KAEvB,IAAIqsE,GADYrsE,IAAUisE,EAAW/qE,OAAS,EAG5CmrE,GAAcF,GAEdE,GAAc9oE,KAAK+oE,MAAMpB,EAAOlrE,GAAS6iB,EAAQupD,GACjDD,GAAsBE,IAExB,MAAMznD,GAAW7U,EAAI02C,cACfxM,GAAWlqC,EAAI22C,cACjB2lB,GAAcznD,IAChBynD,GAAcznD,GACdknD,EAAa/7D,EAAIgQ,UAAW,EAC5BgsD,GAAmB,GACV9xB,GAAW,GAAKoyB,GAAcpyB,KACvCoyB,GAAcpyB,GACd6xB,EAAa/7D,EAAIgQ,UAAW,EAC5BgsD,GAAmB,GAErBF,EAAU97D,EAAIgQ,SAAWssD,IAE7B,CACAv8D,EAAQpM,QAASqM,IACf,MAAMoqD,EAAW0R,EAAU97D,EAAIgQ,SACXhQ,EAAIurC,mBACJ6e,IAClBpqD,EAAI8wC,eAAesZ,EAAUl4D,GAC7B0pE,EAAY7nE,KAAKiM,GAAG,EAEvB,GAEH,MAAMw8D,EAAuBZ,EAAYzqE,OAAS,EAClD,IAAIsrE,EAAa,GACbD,IACFC,EAAahuE,KAAKiuE,qBAAqB,CAAEC,aAAcd,EAAgBe,aAAa,IACpFnuE,KAAK+uD,mBAAmBqf,cAAc3qE,GACtCzD,KAAK+uD,mBAAmBsf,mBACxBruE,KAAKgvD,sBAAsBiC,wBAE7B,MAAMqd,EAAelB,EAAezoE,OAAOqpE,IACvCD,GAAwBv5D,IAC1BxU,KAAKwvD,gBAAgB/tB,cAAc6sC,EAAc95D,EAAU/Q,EAAQuqE,EAEvE,CACAd,2BAA2BD,GACzB,MAAQ37D,UAAS+S,SAAU4oD,EAC3B,IAAIsB,EAAsB,EACtBC,EAAsB,EACtBC,GAAiB,EAarB,OAZAn9D,EAAQpM,QAASqM,IACf,MAAM6U,EAAW7U,EAAI02C,cACrBsmB,GAAuBnoD,GAAY,EACnC,MAAMq1B,EAAWlqC,EAAI22C,cACjBzM,EAAW,EACb+yB,GAAuB/yB,EAEvBgzB,GAAiB,IAGEpqD,GAASkqD,KACRE,GAAkBpqD,GAASmqD,EAErD,CACAP,qBAAqB3iE,EAAS,CAAC,GAC7B,MAAM7H,EAAS6H,EAAO7H,OAAS6H,EAAO7H,OAAS,OAI/C,GAH4B,MAAxB6H,EAAOojE,gBACT1uE,KAAK2uE,kBAAoBrjE,EAAOojE,gBAE7B1uE,KAAK2uE,kBACR,MAAO,GAET,MAAMC,EAAsB5uE,KAAK+uD,mBAAmB8f,gBACpD,IAAIC,GAAwB,EAC5B,GAAIxjE,EAAO4iE,aAAc,CACvB,MAAMa,EAAkB,IAAInkE,IAAIU,EAAO4iE,cACvC,QAASnrE,EAAI6rE,EAAoBlsE,OAAS,EAAGK,GAAK,EAAGA,IACnD,GAAIgsE,EAAgBljE,IAAI+iE,EAAoB7rE,IAAK,CAC/C+rE,EAAwB/rE,EACxB,KACF,CAEJ,CACA,IAAIisE,EAAoB,EACpBC,EAAiB,GACjBC,EAAqB,EACrBC,EAAY,EAChB,QAASpsE,EAAI,EAAGA,EAAI6rE,EAAoBlsE,OAAQK,IAC/B6rE,EAAoB7rE,GAAGolD,WAAaplD,EAAI+rE,GAErDG,EAAe3pE,KAAKspE,EAAoB7rE,IACxCosE,GAAaP,EAAoB7rE,GAAGolD,UACpC+mB,GAAsBN,EAAoB7rE,GAAGklD,eAE7C+mB,GAAqBJ,EAAoB7rE,GAAG+5C,iBAGhD,IAAKmyB,EAAevsE,OAClB,MAAO,GAET,IAAIgkE,EAAiB,GACjBsI,EAAoBE,EAAqBlvE,KAAK2uE,oBAChDM,EAAe/pE,QAASqM,GAAQA,EAAI8wC,eAAe9wC,EAAI02C,cAAexkD,IACtEijE,EAAiBuI,EACjBA,EAAiB,IAEnB,MAAMG,EAAqB,GAC3B,IAAIC,EACJC,EACE,OAAa,CACXD,EAAyBrvE,KAAK2uE,kBAAoBK,EAClD,MAAMO,EAAeF,EAAyBF,EAC9C,QAASpsE,EAAI,EAAGA,EAAIksE,EAAevsE,OAAQK,IAAK,CAC9C,MAAMwO,EAAM09D,EAAelsE,GACrBysE,EAAkBD,EAAeh+D,EAAI42C,UAC3C,IAAIsnB,EAAmB,EACvB,MAAMrpD,EAAW7U,EAAI02C,cACfxM,EAAWlqC,EAAI22C,cAMrB,GALIsnB,EAAkBppD,EACpBqpD,EAAmBrpD,EACVopD,EAAkB/zB,IAC3Bg0B,EAAmBh0B,GAEjBg0B,EAAkB,CACpBl+D,EAAI8wC,eAAeotB,EAAkBhsE,GACrCgwC,GAA0Bw7B,EAAgB19D,GAC1C49D,GAAa59D,EAAI42C,UACjBue,EAAephE,KAAKiM,GACpBy9D,GAAqBz9D,EAAIurC,iBACzB,SAASwyB,CACX,CACAF,EAAmBrsE,GAAKgC,KAAK0Q,MAAM+5D,EACrC,CACA,KACF,CACF,IAAIE,EAAiBL,EACrBJ,SAAe/pE,QAAQ,CAACqM,EAAKxO,KAC3B,MAAM0mC,EAAO1mC,EAAIksE,EAAevsE,OAAS,EAAIqC,KAAKuI,IAAI8hE,EAAmBrsE,GAAI2sE,GAE3E3qE,KAAKqI,IAAIgiE,EAAmBrsE,GAAI2sE,GAElCn+D,EAAI8wC,eAAe5Y,EAAMhmC,GACzBijE,EAAephE,KAAKiM,GACpBm+D,GAAkBN,EAAmBrsE,EAAC,GAEnCuI,EAAO6iE,aACVnuE,KAAK+uD,mBAAmBqf,cAAc3qE,GAEpC6H,EAAO+iE,kBACTruE,KAAK+uD,mBAAmBsf,mBAEtB/iE,EAAOqkE,kBACT3vE,KAAKwvD,gBAAgB/tB,cAAcilC,GAAgB,EAAMjjE,EAAQwrE,GAE5DA,CACT,CAEAW,iBAAiBC,EAAWpsE,EAAS,mBAAoBqkD,EAAQx8C,GAC/D,GAAItL,KAAKoI,YAAYkuD,gCAEnB,YADAt2D,KAAKoI,YAAYquD,oBAAoB,IAAMz2D,KAAK4vE,iBAAiBC,EAAWpsE,EAAQqkD,EAAQx8C,IAG9F,MAAMwkE,EAAY,CAAC,EACfxkE,GACFA,GAAQykE,cAAc7qE,QAAQ,EAAGwc,SAAQsuD,MACvCF,EAAyB,iBAARpuD,EAAmBA,EAAMA,EAAI87B,YAAcwyB,IAGhE,MAAM3T,EAAsBr8D,KAAK+uD,mBAAmB4I,aAC9CsY,EAAsBJ,IAAclzB,GAAqB0f,GAC/D,GAAIwT,GAAa,IAAMxT,EAAoB35D,QAAUutE,EACnD,OAEF,MAAMC,EAAe,GACfC,EAAkB,GACxB9T,EAAoBn3D,QAASgW,KACkB,IAAzCA,EAAOE,YAAYg1D,kBACrBD,EAAgB7qE,KAAK4V,GAErBg1D,EAAa5qE,KAAK4V,EAAM,GAG5B,MAAMm1D,EAAyBH,EAAa1rE,MAAM,GAClD,IAAI8rE,GAAmB,EACvB,MAAMC,EAAmBr1D,IACvB9L,GAAiB8gE,EAAch1D,GAC/Bi1D,EAAgB7qE,KAAK4V,EAAM,EAc7B,IAZAg1D,EAAahrE,QAASgW,IACpBA,EAAOymC,iBAAiBl+C,GACxB,MAAM+sE,EAAgBV,IAAY50D,EAAOqG,SACnCkvD,EAAcD,GAAepqD,UAAY9a,GAAQolE,gBACjDC,EAAcH,GAAe/0B,UAAYnwC,GAAQslE,gBACjDC,EAAW31D,EAAO4hC,iBACG,iBAAhB2zB,GAA4BI,EAAWJ,EAChDv1D,EAAOmnC,eAAeouB,EAAahtE,GAAQ,GACX,iBAAhBktE,GAA4BE,EAAWF,GACvDz1D,EAAOmnC,eAAesuB,EAAaltE,GAAQ,EAAI,IAG3C6sE,GAAkB,CACxBA,GAAmB,EACnB,MAAMQ,EAAkBjB,EAAYlzB,GAAqBwzB,GACzD,GAAIW,GAAmB,EACrBZ,EAAahrE,QAASgW,IACpB,MAAMs1D,EAAgBV,IAAY50D,EAAOqG,UAAU6E,UAAY9a,GAAQolE,gBAC1C,iBAAlBF,EAIXt1D,EAAOmtC,WAAW5kD,GAHhByX,EAAOmnC,eAAemuB,EAAe/sE,GAAQ,EAGvB,OAErB,CACL,MAAMstE,EAAQD,EAAkBn0B,GAAqBuzB,GACrD,IAAIc,EAAmBF,EACvB,QAAS/tE,EAAImtE,EAAaxtE,OAAS,EAAGK,GAAK,EAAGA,IAAK,CACjD,MAAMmY,EAASg1D,EAAantE,GACtBytE,EAAgBV,IAAY50D,EAAOqG,SACnCkvD,EAAcD,GAAepqD,UAAY9a,GAAQolE,gBACjDC,EAAcH,GAAe/0B,UAAYnwC,GAAQslE,gBACjDK,EAAc/1D,EAAO+sC,cACrBipB,EAAch2D,EAAOgtC,cACrB9hC,EAAkC,iBAAhBqqD,GAA4BA,EAAcQ,EAAcR,EAAcQ,EACxFx1B,EAAkC,iBAAhBk1B,GAA4BA,EAAcO,EAAcP,EAAcO,EAC9F,IAAIvV,EAAW52D,KAAK+oE,MAAM5yD,EAAO4hC,iBAAmBi0B,GAChDpV,EAAWv1C,GACbu1C,EAAWv1C,EACXmqD,EAAgBr1D,GAChBo1D,GAAmB,GACV3U,EAAWlgB,GACpBkgB,EAAWlgB,EACX80B,EAAgBr1D,GAChBo1D,GAAmB,GACJ,IAANvtE,IACT44D,EAAWqV,GAEb91D,EAAOmnC,eAAesZ,EAAUl4D,GAAQ,GACxCutE,GAAoBrV,CACtB,CACF,CACF,CACA0U,EAAuBnrE,QAASqM,IAC9BA,EAAIw2C,4BAA4BtkD,EAAM,GAExCzD,KAAK+uD,mBAAmBqf,cAAc3qE,GACtCzD,KAAK+uD,mBAAmBsf,oBACpBvmB,GAGJ9nD,KAAKwvD,gBAAgB/tB,cAAc4uC,GAAwB,EAAM5sE,EACnE,CACA0tD,wBACE,MAAMlgC,EAAmBjxB,KAAKL,IAAIwD,IAAI,oBACtC,IAAK8tB,EACH,OAEF,MAAQ1tB,QAAS0tB,EACjBjZ,WAAW,KACT,GAAa,iBAATzU,EAAyB,CAC3B,MAAQwsE,aAAcoB,EAAkBT,kBAAiBE,mBAAoB3/C,EACvE8+C,EAAeoB,GAAkB7vE,IAAI,EAAG86C,MAAO16B,EAAK0E,WAAUq1B,eAAS,CAC3E/5B,MACA0E,WACAq1B,cAEFz7C,KAAK4uD,aAAawiB,kBAAkBxB,iBAAiB,CACnDc,kBACAE,kBACAb,gBAEJ,KAAoB,qBAATxsE,GACTvD,KAAK4vE,iBAAiB3+C,EAAiB5M,MAAO,mBAAkB,EAGtE,GAIF,SAASgtD,GAA0Bv4B,EAASI,GAC1C,OAAOJ,EAAU,IAAMI,CACzB,CACA,SAASsT,GAAcj7C,GACrB,OAAOA,aAAe+/D,EACxB,CACA,IAAIA,GAAgB,cAAc/pE,EAChC9H,YAAY4qE,EAAqBvxB,EAASy4B,EAAQxtD,GAChDvc,QACAxH,KAAKg5C,UAAW,EAEhBh5C,KAAKwxE,kBAAoB,GAEzBxxE,KAAK8/C,iBAAmB,KACxB9/C,KAAKkG,OAAS,KACdlG,KAAK84C,QAAUA,EACf94C,KAAKuxE,OAASA,EACdvxE,KAAKqqE,oBAAsBA,EAC3BrqE,KAAK+jB,OAASA,CAChB,CAGAtM,QACEzX,KAAKkG,OAAS,KACdlG,KAAKu5C,SAAW,KAChBv5C,KAAKwxE,kBAAoB,IAC3B,CACA9vB,YACE,OAAO1hD,KAAKkG,MACd,CACAu7C,UAAUv7C,GACRlG,KAAKkG,OAASA,CAChB,CACAmhD,cACE,OAAOgqB,GAA0BrxE,KAAK84C,QAAS94C,KAAKuxE,OACtD,CACA/uB,eACE,OAAyC,IAAlCxiD,KAAKwxE,kBAAkB9uE,MAChC,CACA8hD,WACE,MAAMitB,EAAiBzxE,KAAKuqE,yBAAyBpwB,iBACrD,SAAKs3B,GAA4C,IAA1BA,EAAe/uE,SAG/B+uE,EAAej+B,MAAOjiC,GAAQA,EAAIizC,WAC3C,CACAktB,YAME,GALA1xE,KAAKwxE,kBAAkBtsE,QAAS4G,IAC1B0gD,GAAc1gD,IAChBA,EAAM4lE,WAAU,GAGhB1xE,KAAKwxE,kBAAkB9uE,OAAS,EAClC,GAAI1C,KAAKL,IAAIwD,IAAI,aAAc,CAE7B,MAAMwuE,EADYt8D,EAAMrV,KAAKwxE,mBACGhsB,UAChCxlD,KAAK8lD,QAAQ6rB,EACf,KAAO,CACL,MAAMC,EAAiB5xE,KAAKwxE,kBAAkB,GAAGhsB,UACjDxlD,KAAK8lD,QAAQ8rB,EACf,MAEA5xE,KAAK8lD,QAAQ,KAEjB,CACAN,UACE,OAAOxlD,KAAKylD,IACd,CACAC,aACE,OAAO1lD,KAAK2lD,OACd,CACAG,QAAQL,GACNzlD,KAAK2lD,QAAU3lD,KAAKylD,KAChBzlD,KAAKylD,OAASA,IAChBzlD,KAAKylD,KAAOA,EACZzlD,KAAK62C,mBAAmB,CAAEtzC,KAAM,gBAEpC,CACAqjD,YACE,OAAO5mD,KAAK+jB,MACd,CACAg2B,aACE,OAAO/5C,KAAK84C,OACd,CACA+4B,YACE,OAAO7xE,KAAKuxE,MACd,CACAz0B,iBACE,IAAIg1B,EAAmB,EACvB,OAAI9xE,KAAKwxE,mBACPxxE,KAAKwxE,kBAAkBtsE,QAAS4G,IAC9BgmE,GAAoBhmE,EAAMgxC,gBAAe,GAGtCg1B,CACT,CACAztB,cACE,IAAKrkD,KAAKwxE,kBACR,OAAO,EAET,IAAIxtE,GAAS,EACb,OAAAhE,KAAKwxE,kBAAkBtsE,QAAS4G,IAC1BA,EAAMu4C,gBACRrgD,GAAS,KAGNA,CACT,CACAikD,cACE,IAAIjkD,EAAS,EACb,OAAAhE,KAAKwxE,kBAAkBtsE,QAAS6sE,IAC9B/tE,GAAU+tE,EAAW9pB,aAAY,GAE5BjkD,CACT,CACAguE,SAASlmE,GACF9L,KAAKu5C,WACRv5C,KAAKu5C,SAAW,IAElBv5C,KAAKu5C,SAASj0C,KAAKwG,EACrB,CACAmmE,uBACE,OAAOjyE,KAAKwxE,iBACd,CACAr3B,iBACE,MAAMn2C,EAAS,GACf,OAAAhE,KAAKo6C,eAAep2C,GACbA,CACT,CACAkuE,0BACE,MAAMluE,EAAS,GACf,OAAAhE,KAAKmyE,wBAAwBnuE,GACtBA,CACT,CACAojD,gBACE,OAAOpnD,KAAKqqE,oBAAoBnwB,gBAClC,CACAA,iBACE,OAAOl6C,KAAKqqE,oBAAoBnwB,gBAClC,CACAL,YACE,OAAO75C,KAAKqqE,oBAAoBxwB,WAClC,CACAC,eACE,OAAO95C,KAAKqqE,oBAAoBvwB,cAClC,CACAjzC,aACE,OAAO7G,KAAKqqE,oBAAoBxjE,YAClC,CACAP,YAAYE,GACVxG,KAAKqqE,oBAAoB/jE,YAAYE,EACvC,CACAm9C,qBACE,QAAS3jD,KAAKk6C,kBAAkB4F,gBAClC,CACAwH,sBACE,OAAOtnD,KAAK8/C,gBACd,CAEAyH,oBAAoB35C,GAClB,MAAM45C,EAAU55C,IAAW5N,KAAK8/C,iBAChC,OAAA9/C,KAAK8/C,iBAAmBlyC,EACjB45C,CACT,CACA2qB,wBAAwB93B,GACtBr6C,KAAKwxE,kBAAkBtsE,QAAS4G,IAC1BktC,GAASltC,GACXuuC,EAAY/0C,KAAKwG,GACR0gD,GAAc1gD,IACvBA,EAAMqmE,wBAAwB93B,EAAW,EAG/C,CACAD,eAAeC,GACbr6C,KAAKu5C,SAASr0C,QAAS4G,IACjBktC,GAASltC,GACXuuC,EAAY/0C,KAAKwG,GACR0gD,GAAc1gD,IACvBA,EAAMsuC,eAAeC,EAAW,EAGtC,CACAJ,cACE,OAAOj6C,KAAKu5C,QACd,CACAe,qBACE,OAAOt6C,KAAKqqE,oBAAoB/vB,oBAClC,CACAiwB,yBACE,OAAOvqE,KAAKqqE,mBACd,CACAljB,kBACE,MAAMjhD,EAASlG,KAAK0hD,YACpB,OAAK1hD,KAAK65C,aAAgB3zC,GAAWA,EAAO2zC,YAGrC,EAAI3zC,EAAOihD,kBAFT,CAGX,CACAirB,4BACEpyE,KAAKwxE,kBAAoB,GACzB,IAAIa,EAAsBryE,KAC1B,KAA8B,MAAvBqyE,GAA+BA,EAAoBx4B,aACxDw4B,EAAsBA,EAAoB3wB,YAG5C,IADqB2wB,IAAsBA,EAAoB9H,yBAAyBzwB,eAItF,OAFA95C,KAAKwxE,kBAAoBxxE,KAAKu5C,cAC9Bv5C,KAAK62C,mBAAmB,CAAEtzC,KAAM,6BAGlCvD,KAAKu5C,SAASr0C,QAAS4G,IAErB,IADmB0gD,GAAc1gD,IAAYA,EAAM0lE,mBAAsB1lE,EAAM0lE,kBAAkB9uE,OAKjG,OADwBoJ,EAAMwuC,sBAE5B,IAAK,OACC+3B,EAAoB9H,yBAAyB1jE,cAC/C7G,KAAKwxE,kBAAkBlsE,KAAKwG,GAE9B,MACF,IAAK,SACEumE,EAAoB9H,yBAAyB1jE,cAChD7G,KAAKwxE,kBAAkBlsE,KAAKwG,GAE9B,MACF,QACE9L,KAAKwxE,kBAAkBlsE,KAAKwG,GAEhC,GAEF9L,KAAK62C,mBAAmB,CAAEtzC,KAAM,4BAClC,GAIE+uE,GAAyB,MAC3B7yE,cAEEO,KAAKuyE,YAAc,CAAC,CACtB,CACAC,oBAAoB9wD,GAClB,MAAM+wD,EAAazyE,KAAKuyE,YAAY7wD,GACpC,IAAI1d,EACJ,OACEA,EADwB,iBAAfyuE,EACA,EAEAA,EAAa,EAExBzyE,KAAKuyE,YAAY7wD,GAAO1d,EACjBA,CACT,GAIE0uE,GAAqB,cAAcnrE,EACrC9H,cACE+H,SAASC,WACTzH,KAAK0H,SAAW,qBAEhB1H,KAAK2yE,iBAAmB,CAAC,EAEzB3yE,KAAK4yE,YAAc,GACnB5yE,KAAK6yE,aAAe,GACpB7yE,KAAK8yE,cAAgB,GAErB9yE,KAAKsR,QAAU,GACftR,KAAK+yE,UAAY,EACjB/yE,KAAKgzE,UAAY,EACjBhzE,KAAKizE,WAAa,EAClBjzE,KAAKkzE,gBAAiB,CACxB,CACA/qE,UAAUpI,GACRC,KAAKoI,YAAcrI,EAAMqI,YACzBpI,KAAK8uD,kBAAoB/uD,EAAM+uD,kBAC/B9uD,KAAKgvD,sBAAwBjvD,EAAMivD,sBACnChvD,KAAKwvD,gBAAkBzvD,EAAM0vD,qBAC/B,CACAvoC,QAAQzjB,EAAQ0vE,GAAgB,GACzBA,GACHnzE,KAAKozE,aAEPpzE,KAAKqzE,2CACLrzE,KAAK4yE,YAAcU,GAAkBtzE,KAAKuzE,UAC1CvzE,KAAK8yE,cAAgBQ,GAAkBtzE,KAAKwzE,YAC5CxzE,KAAK6yE,aAAeS,GAAkBtzE,KAAKyzE,WAC3CzzE,KAAK0zE,oBACL1zE,KAAK2zE,WACL3zE,KAAKouE,cAAc3qE,GACnBzD,KAAK4zE,eAAiB5zE,KAAKsR,QAAQ9L,OAAQ+L,GAAQA,EAAIkyC,gBACvDzjD,KAAK8uD,kBAAkBmf,uBACvBjuE,KAAKquE,mBACLruE,KAAKgvD,sBAAsBiC,sBAAqB,GAChDjxD,KAAK6zE,+BAA+BpwE,GACpCzD,KAAKwvD,gBAAgBskB,YAAYrwE,EACnC,CAEA4qE,mBACE,MAAM0F,EAAep3B,GAAqB38C,KAAK8yE,eACzCkB,EAAer3B,GAAqB38C,KAAK4yE,aACzCqB,EAAgBt3B,GAAqB38C,KAAK6yE,cAChD7yE,KAAKkzE,eAAiBlzE,KAAK+yE,YAAcgB,GACf/zE,KAAK+yE,YAAcgB,GAAgB/zE,KAAKgzE,YAAcgB,GAAgBh0E,KAAKizE,aAAegB,KAElHj0E,KAAK+yE,UAAYgB,EACjB/zE,KAAKgzE,UAAYgB,EACjBh0E,KAAKizE,WAAagB,EAClBj0E,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,gCAERvD,KAAKJ,aAAa0D,cAAc,CAC9BC,KAAM,iCAGZ,CAEA6qE,cAAc3qE,GACZzD,KAAKk0E,oBAAoBzwE,GACzBzD,KAAKm0E,uBACP,CACAN,+BAA+BpwE,GAC7B,IAAI2wE,EACAC,EACAr0E,KAAKL,IAAIwD,IAAI,cACfixE,EAAWp0E,KAAK4yE,YAAc5yE,KAAK4yE,YAAY,GAAK,KACpDyB,EAAar0E,KAAK6yE,aAAex9D,EAAMrV,KAAK6yE,cAAgB,OAE5DuB,EAAWp0E,KAAK4yE,YAAcv9D,EAAMrV,KAAK4yE,aAAe,KACxDyB,EAAar0E,KAAK6yE,aAAe7yE,KAAK6yE,aAAa,GAAK,MAE1D7yE,KAAKoI,YAAY4V,UAAU9Y,QAASqM,IAClCA,EAAI+0C,kBAAkB/0C,IAAQ6iE,EAAU3wE,GACxC8N,EAAI80C,oBAAoB90C,IAAQ8iE,EAAY5wE,EAAM,EAEtD,CACA2vE,aACE,MAAM9hB,EAAOtxD,KAAKoI,YAAYsqD,gBACxB4hB,EAAWhjB,EAAK9rD,OAAQ+L,GAA2B,QAAnBA,EAAIq1C,aACpC2tB,EAAYjjB,EAAK9rD,OAAQ+L,GAA2B,SAAnBA,EAAIq1C,aACrC4tB,EAAaljB,EAAK9rD,OAAQ+L,GAA2B,QAAnBA,EAAIq1C,aAA4C,SAAnBr1C,EAAIq1C,aACnE6tB,EAAY,IAAInC,GACtBtyE,KAAKuzE,SAAWvzE,KAAK00E,aAAa,CAChCpjE,QAASgjE,EACTG,YACA1wD,OAAQ,OACR4wD,mBAAoB30E,KAAKuzE,WAE3BvzE,KAAKyzE,UAAYzzE,KAAK00E,aAAa,CACjCpjE,QAASijE,EACTE,YACA1wD,OAAQ,QACR4wD,mBAAoB30E,KAAKyzE,YAE3BzzE,KAAKwzE,WAAaxzE,KAAK00E,aAAa,CAClCpjE,QAASkjE,EACTC,YACA1wD,OAAQ,KACR4wD,mBAAoB30E,KAAKwzE,aAE3BxzE,KAAK40E,wBACP,CACAviB,QACEryD,KAAK4yE,YAAc,GACnB5yE,KAAK6yE,aAAe,GACpB7yE,KAAK8yE,cAAgB,GACrB9yE,KAAKsR,QAAU,GACftR,KAAK60E,iBAAmB,EAC1B,CACAnB,oBACE,MAAMoB,EAAa90E,KAAKoI,YAAY4V,UAC9B+2D,EAAa,GACbC,EAAS,GACTC,EAAc,GACpB,UAAW1jE,KAAOujE,EAAY,CAC5B,MAAM/wD,EAASxS,EAAIq1C,YACd7iC,GAEiB,IAAXA,GAA8B,SAAXA,EAC5BgxD,EAAWzvE,KAAKiM,GAEhB0jE,EAAY3vE,KAAKiM,GAJjByjE,EAAO1vE,KAAKiM,EAMhB,CACAvR,KAAK60E,iBAAmBE,EAAWpwE,OAAOqwE,GAAQrwE,OAAOswE,EAC3D,CACAC,gBAAgBC,GACd,IAAI5jE,EACJ,OACEA,EADEi7C,GAAc2oB,GACVA,EAAWh7B,iBAAiB,GAE5Bg7B,EAEDn1E,KAAK60E,iBAAiB5/D,QAAQ1D,GAAO,CAC9C,CACA6jE,uBACE,OAAOp1E,KAAK4zE,cACd,CACAO,wBACE,CAACn0E,KAAKuzE,SAAUvzE,KAAKyzE,UAAWzzE,KAAKwzE,YAAYtuE,QAASoM,IACxDA,EAAQpM,QAASgW,IACXsxC,GAActxC,IACIA,EACRw2D,WAAU,EAEzB,EAEL,CACAwC,oBAAoBzwE,GAElB,IADoBzD,KAAKoI,YAAYsvD,gBAEnC,OAEF,MAAMod,EAAa90E,KAAKoI,YAAY4V,UAAUxZ,MAAM,GAC9C6wE,EAAWr1E,KAAKL,IAAIwD,IAAI,aAC9B,CAACnD,KAAK4yE,YAAa5yE,KAAK6yE,aAAc7yE,KAAK8yE,eAAe5tE,QAASoM,IACjE,GAAI+jE,EAAU,CACZ,IAAI5vB,EAAO9I,GAAqBrrC,GAChCA,EAAQpM,QAASgW,IACfuqC,GAAQvqC,EAAO4hC,iBACf5hC,EAAO4qC,QAAQL,EAAMhiD,EAAM,EAE/B,KAAO,CACL,IAAIgiD,EAAO,EACXn0C,EAAQpM,QAASgW,IACfA,EAAO4qC,QAAQL,EAAMhiD,GACrBgiD,GAAQvqC,EAAO4hC,gBAAe,EAElC,EAvyJN,SAASw4B,GAA6B5hC,EAAOO,GAC3C,QAASlxC,EAAI,EAAGA,EAAIkxC,EAASvxC,OAAQK,IACnC0wC,GAA0BC,EAAOO,EAASlxC,GAE9C,CAoyJMuyE,CAA6BR,EAAYxjE,EAAO,GAElDwjE,EAAW5vE,QAASgW,IAClBA,EAAO4qC,QAAQ,KAAMriD,EAAM,EAE/B,CACAkwE,WAEI3zE,KAAKsR,QADHtR,KAAKL,IAAIwD,IAAI,aACAnD,KAAK6yE,aAAaluE,OAAO3E,KAAK8yE,eAAenuE,OAAO3E,KAAK4yE,aAEzD5yE,KAAK4yE,YAAYjuE,OAAO3E,KAAK8yE,eAAenuE,OAAO3E,KAAK6yE,aAE3E,CACA0C,gBACE,OAAOv1E,KAAK8yE,aACd,CACA0C,cACE,OAAIx1E,KAAKuzE,UAAYvzE,KAAKyzE,WAAazzE,KAAKwzE,WACnCxzE,KAAKuzE,SAAS5uE,OAAO3E,KAAKwzE,YAAY7uE,OAAO3E,KAAKyzE,WAEpD,IACT,CAEAgC,cACE,OAAOz1E,KAAKuzE,QACd,CAEAmC,eACE,OAAO11E,KAAKyzE,SACd,CAEAkC,gBACE,OAAO31E,KAAKwzE,UACd,CAEA7b,aACE,OAAO33D,KAAKsR,OACd,CAEAskE,eAAe16D,GACb,OAAOlb,KAAK23D,aAAa1iD,QAAQiG,IAAW,CAC9C,CACA26D,kBAAkB1wE,GAEhB,OADsBnF,KAAKoI,YAAY4uD,kBAIhCh3D,KAAK81E,cAAc3wE,EAASnF,KAAK4yE,aAF/B5yE,KAAK4yE,WAGhB,CACAmD,mBAAmB5wE,GAEjB,OADsBnF,KAAKoI,YAAY4uD,kBAIhCh3D,KAAK81E,cAAc3wE,EAASnF,KAAK6yE,cAF/B7yE,KAAK6yE,YAGhB,CACAiD,cAAc3wE,EAAS6wE,EAAkBr8D,EAAgBs8D,GACvD,MAAMjyE,EAAS,GACf,IAAIkyE,EAAoB,KACxB,QAASnzE,EAAI,EAAGA,EAAIizE,EAAiBtzE,OAAQK,IAAK,CAChD,MAAMwO,EAAMykE,EAAiBjzE,GACvBozE,EAAoBH,EAAiBtzE,OAASK,EAC9C4kD,EAAU5iD,KAAKuI,IAAIiE,EAAIm2C,WAAWviD,GAAUgxE,GAC5CC,EAAuB,CAAC7kE,GAC9B,GAAIo2C,EAAU,EAAG,CACf,MAAM0uB,EAAe1uB,EAAU,EAC/B,QAASpnC,EAAI,EAAGA,GAAK81D,EAAc91D,IACjC61D,EAAqB9wE,KAAK0wE,EAAiBjzE,EAAIwd,IAEjDxd,GAAKszE,CACP,CACA,IAAIC,EACA38D,GACF28D,GAAe,EACfF,EAAqBlxE,QAASqxE,IACxB58D,EAAe48D,KACjBD,GAAe,MAInBA,GAAe,EAEbA,IACoB,IAAlBtyE,EAAOtB,QAAgBwzE,GACDD,GAAyBA,EAAuB1kE,IAEtEvN,EAAOsB,KAAK4wE,GAGhBlyE,EAAOsB,KAAKiM,IAEd2kE,EAAoB3kE,CACtB,CACA,OAAOvN,CACT,CAKAwyE,wBACE,OAAOx2E,KAAK+yE,SACd,CACA0D,kBAAkB1yD,GAChB,OAAQA,GACN,IAAK,OACH,OAAO/jB,KAAKgzE,UACd,IAAK,QACH,OAAOhzE,KAAKizE,WACd,QACE,OAAOjzE,KAAK+yE,UAElB,CAEAlE,gBACE,OAAO7uE,KAAK8yE,aACd,CAEA4D,cACE,OAAO12E,KAAK4yE,WACd,CACA+D,eACE,OAAO32E,KAAK6yE,YACd,CACA+D,aAAarlE,GACX,MAAM8qD,EAAsBr8D,KAAK23D,aAC3BoH,EAAW1C,EAAoBpnD,QAAQ1D,GAC7C,OAAIwtD,EAAW,EACN1C,EAAoB0C,EAAW,GAEjC,IACT,CACA8X,oBAAoB5a,EAAa6a,GAC/B,MAAMC,EAAgB9a,EAAYsO,yBAAyB5wB,WAAasiB,EAAY9U,kBAC9E6vB,EAAsB/a,EAAYiW,0BAClC3gE,EAAoB,UAAdulE,EAAwBzhE,EAAM2hE,GAAuBA,EAAoB,GAC/EC,EAAsB,SAASH,IACrC,OAAa,CACX,MAAM57D,EAASlb,KAAKi3E,GAAqB1lE,GACzC,IAAK2J,EACH,OAAO,KAET,MAAMg8D,EAAel3E,KAAKm3E,mBAAmBj8D,EAAQ67D,GACrD,GAAIG,IAAiBjb,EACnB,OAAOib,CAEX,CACF,CACAC,mBAAmBj8D,EAAQ7a,GACzB,IACI+2E,EACAC,EAFAH,EAAeh8D,EAAOwmC,YAG1B,KAEE01B,EADwCF,EAAa3M,yBACA5wB,WACrD09B,EAAoBH,EAAa/vB,oBAC7BiwB,EAAqBC,GAAqBh3E,IAG9C62E,EAAeA,EAAax1B,YAE9B,OAAOw1B,CACT,CACAI,gBACE,OAAOt3E,KAAK4yE,YAAYlwE,OAAS,CACnC,CACA60E,iBACE,OAAOv3E,KAAK6yE,aAAanwE,OAAS,CACpC,CACAkyE,yBACE50E,KAAK2yE,iBAAmB,CAAC,EACzB,MAAMh6D,EAAQ7M,IACZ9L,KAAK2yE,iBAAiB7mE,EAAMu7C,eAAiBv7C,GAE/C0rE,GAA8Bx3E,KAAKwzE,YAAY,EAAO76D,GACtD6+D,GAA8Bx3E,KAAKuzE,UAAU,EAAO56D,GACpD6+D,GAA8Bx3E,KAAKyzE,WAAW,EAAO96D,EACvD,CACAihC,UAAUt1C,GAER,OADgBtE,KAAK2yE,iBAAiBruE,EAAK+iD,iBACxB/iD,CACrB,CACA+uE,2CAEEmE,GADwBx3E,KAAKw1E,eACkB,EAAQ1pE,IACjD0gD,GAAc1gD,IAChBA,EAAMsmE,2BAA0B,EAGtC,CACAqF,iBACE,MAAMjP,EAAQxoE,KAAKL,IAAIwD,IAAI,aACrBu0E,EAAa,CACjB,cACA,gBACA,gBAEElP,GACFkP,EAAW1xD,UAEb,QAASjjB,EAAI,EAAGA,EAAI20E,EAAWh1E,OAAQK,IAAK,CAC1C,MAAM40E,EAAY33E,KAAK03E,EAAW30E,MAClC,GAAI40E,EAAUj1E,OACZ,OAAO8lE,EAAQnzD,EAAMsiE,GAAaA,EAAU,EAEhD,CACA,OAAO,IACT,CAGAC,eAAex7B,EAAOm1B,GACpB,IAAKn1B,EACH,OAAO,KAET,GAAIoQ,GAAcpQ,GAChB,OAAOA,EAET,MAAMy7B,EAAkB73E,KAAKw1E,cACvBsC,EAAgC,iBAAXvG,EAC3B,IAAIvtE,EAAS,KACbwzE,UAA8BK,GAAiB,EAAQ/rE,IACrD,GAAI0gD,GAAc1gD,GAAQ,CACxB,MAAMmwD,EAAcnwD,EACpB,IAAIisE,EAEFA,EADED,EACQ17B,IAAU6f,EAAYliB,cAAgBw3B,IAAWtV,EAAY4V,YAE7Dz1B,IAAU6f,EAAYliB,aAE9Bg+B,IACF/zE,EAASi4D,EAEb,IAEKj4D,CACT,CAGA4oE,YAAYr7D,GACV,MAAM8qD,EAAsBr8D,KAAK23D,aAC3BoH,EAAW1C,EAAoBpnD,QAAQ1D,GAC7C,OAAIwtD,EAAW1C,EAAoB35D,OAAS,EACnC25D,EAAoB0C,EAAW,GAEjC,IACT,CACAiZ,mBACE,OAAOh4E,KAAKkzE,cACd,CACA+E,oBACEj4E,KAAKkzE,gBAAiB,CACxB,CAIAgF,mBACE,OAAOv7B,GAAqB38C,KAAK4yE,YACnC,CAEAuF,gCACE,OAAOx7B,GAAqB38C,KAAK6yE,aACnC,CACAuF,YAAY7mE,EAAK8mE,GACf,MAAMvD,EAAa90E,KAAK23D,aACxB,IAAKmd,EAAWpyE,OACd,OAAO,EAET,MAAM41E,EAAmB,UAATD,EAChB,IAAIE,EACJ,GAAI/rB,GAAcj7C,GAAM,CACtB,MAAM8oC,EAAc9oC,EAAI2gE,0BACxB,IAAK73B,EAAY33C,OACf,OAAO,EAET61E,EAAkBD,EAAUj+B,EAAY,GAAKhlC,EAAMglC,EACrD,MACEk+B,EAAkBhnE,EAEpB,OAAQ+mE,EAAUxD,EAAW,GAAKz/D,EAAMy/D,MAAiByD,CAC3D,CACA7D,aAAappE,GACX,MAAQgG,UAASmjE,YAAW1wD,SAAQ4wD,qBAAoB6D,yBAA0BltE,EAC5EmtE,EAAmBz4E,KAAK04E,iBAAiB/D,GACzCgE,EAAqB,GAC3B,IAAIC,EAA6BtnE,EACjC,KAAOsnE,EAA2Bl2E,QAAQ,CACxC,MAAMm2E,EAAqBD,EAC3BA,EAA6B,GAC7B,IAAIE,EAAoB,EACxB,MAAMC,EAAsBC,IAC1B,MAAM5Z,EAAO0Z,EACbA,EAAoBE,EACpB,MAAMC,EAAeJ,EAAmBzZ,GAElC8Z,GADuB1sB,GAAcysB,GAAgBA,EAAa1O,yBAA2B0O,GACnDv/B,oBAChD,GAA0B,MAAtBw/B,EAA4B,CAC9B,QAASn2E,EAAIq8D,EAAMr8D,EAAIi2E,EAAIj2E,IACzB41E,EAAmBrzE,KAAKuzE,EAAmB91E,IAE7C,MACF,CACA,MAAMo2E,EAAWn5E,KAAKo5E,eACpBF,EACAzE,EACAgE,EACA10D,EACAy0D,GAEF,QAASz1E,EAAIq8D,EAAMr8D,EAAIi2E,EAAIj2E,IACzBo2E,EAASnH,SAAS6G,EAAmB91E,IAEvC61E,EAA2BtzE,KAAK6zE,EAAQ,EAE1C,QAASp2E,EAAI,EAAGA,EAAI81E,EAAmBn2E,OAAQK,IAAK,CAClD,MAAMs2E,EAAWR,EAAmB91E,GAE9Bu2E,GADmB9sB,GAAc6sB,GAAYA,EAAS9O,yBAA2B8O,GAC/C3/B,oBAClCu/B,EAAeJ,EAAmBC,GAGpCQ,KAFyB9sB,GAAcysB,GAAgBA,EAAa1O,yBAA2B0O,GACnDv/B,qBAE9Cq/B,EAAmBh2E,EAEvB,CACI+1E,EAAoBD,EAAmBn2E,QACzCq2E,EAAmBF,EAAmBn2E,OAE1C,CACA,OAAK81E,GACHx4E,KAAKu5E,qBAAqBZ,EAAoB,MAEzCA,CACT,CACAS,eAAexsB,EAAe4sB,EAAwBf,EAAkB10D,EAAQy0D,GAC9E,MAAM1/B,EAAU8T,EAAc7S,aACxBb,EAAasgC,EAAuBhH,oBAAoB15B,GAE9D,IAAImjB,EAAcwc,EADDpH,GAA0Bv4B,EAASI,IAEpD,OAAI+iB,GAAeA,EAAYsO,2BAA6B3d,IAC1DqP,EAAc,MAEZnpD,EAAQmpD,GACVA,EAAYxkD,SAEZwkD,EAAc,IAAIqV,GAAc1kB,EAAe9T,EAASI,EAAYn1B,GAC/Dy0D,GACHx4E,KAAKu4C,WAAW0jB,IAGbA,CACT,CAEAyc,iBAAiBe,GACf,MAAMz1E,EAAS,CAAC,EACV01E,EAAaC,IACjBA,EAAgBz0E,QAAS00E,IACvB,GAAIptB,GAAcotB,GAAgB,CAChC,MAAM3d,EAAc2d,EACpB51E,EAAO41E,EAAcvyB,eAAiB4U,EACtCyd,EAAUzd,EAAYhiB,cACxB,GACD,EAEH,OAAIw/B,GACFC,EAAUD,GAELz1E,CACT,CACAu1E,qBAAqBI,EAAiBzzE,GACpCyzE,EAAgBz0E,QAAS20E,IAEvB,GADAA,EAAep4B,UAAUv7C,GACrBsmD,GAAcqtB,GAAiB,CACjC,MAAM5d,EAAc4d,EACpB75E,KAAKu5E,qBAAqBtd,EAAYhiB,cAAegiB,EACvD,GAEJ,GAEF,SAASub,GAA8BtsB,EAAM4uB,EAAsBjkE,GACjE,GAAKq1C,EAGL,QAASnoD,EAAI,EAAGA,EAAImoD,EAAKxoD,OAAQK,IAAK,CACpC,MAAM+I,EAAQo/C,EAAKnoD,GACfypD,GAAc1gD,IAEhB0rE,GADkBsC,EAAuBhuE,EAAMmmE,uBAAyBnmE,EAAMmuC,cACrC6/B,EAAsBjkE,GAEjEA,EAAS/J,EACX,CACF,CACA,SAASwnE,GAAkBpoB,GACzB,MAAMn+C,EAAM,GACZyqE,UAA8BtsB,GAAM,EAAOp/C,IACrCktC,GAASltC,IACXiB,EAAIzH,KAAKwG,EAAK,GAGXiB,CACT,CAGA,IAAIgtE,GAAgB,CAClB,0BACA,mBACA,yBACA,0BACA,wBACA,sBACA,qBACA,qBACA,qBACA,cACA,gBACA,eACA,oBACA,gBACA,0BACA,wBACA,wBACA,yBACA,sBACA,0BACA,2BACA,iBACA,iBACA,uBACA,wBACA,uBACA,eACA,6BACA,sBACA,iBACA,0BACA,uBACA,eACA,WACA,SACA,aACA,WACA,YACA,UACA,2BACA,yBACA,mBACA,iBACA,cACA,YACA,cACA,YACA,cACA,oBACA,gBACA,kBACA,mBACA,kBACA,kBACA,gBACA,cACA,cACA,mBACA,cACA,cACA,cACA,gBACA,eACA,gBACA,iBACA,eACA,sCACA,cACA,oBACA,aACA,mBACA,YACA,mBACA,kBACA,kBACA,oBACA,cACA,cACA,gBACA,oBACA,oBACA,qBACA,qBACA,aACA,gBACA,oBACA,wBACA,iBACA,eACA,2BACA,4BACA,eACA,cACA,eACA,aACA,iBAkDEC,GAAa,IAAID,GA/CnB,wBACA,8BACA,4BACA,sBACA,mBACA,sBACA,kBACA,qBACA,yBACA,mBACA,2BACA,2BACA,yBACA,oBACA,8BACA,+BACA,0BACA,mBACA,qBACA,aACA,+BACA,uBACA,yBACA,0BACA,4BACA,sBACA,iCACA,4BACA,oBACA,eACA,kBACA,uBACA,gBACA,+BACA,oBACA,oBACA,2BACA,4BACA,iBACA,oBACA,oBACA,qBACA,iBACA,uBACA,yBACA,2BAKEE,GAA2B,CAC7BxrD,uBAAuB,EACvBC,gBAAgB,EAChBG,mBAAmB,EACnBC,iBAAiB,EACjBC,oBAAoB,EACpBa,oBAAoB,EACpBkB,kBAAkB,EAClBE,sBAAsB,EACtBC,kBAAkB,EAClBC,YAAY,EACZK,+BAA+B,EAC/BI,qBAAqB,EACrBC,0BAA0B,EAC1BK,aAAa,EACbE,kBAAkB,EAClBO,qBAAqB,EACrBQ,mBAAmB,EACnBC,qBAAqB,EACrBC,oBAAoB,EACpBI,6BAA6B,EAC7BC,YAAY,EACZE,gBAAgB,EAChBC,qBAAqB,EACrBG,iBAAiB,EACjBC,qBAAqB,EACrBK,UAAU,EACVhsB,YAAY,EACZksB,wBAAwB,EACxBC,uBAAuB,EACvBC,eAAe,EACfE,qBAAqB,EACrBC,+BAA+B,EAC/BC,4BAA4B,EAC5BE,OAAO,EACPb,2BAA2B,EAC3BgB,yBAAyB,EACzBE,wBAAwB,EACxBE,wBAAwB,EACxBK,4BAA4B,EAC5BE,mBAAmB,EACnBG,gBAAgB,EAChBK,yBAAyB,EACzBC,+BAA+B,EAC/BE,UAAU,EACVC,yBAAyB,EACzBW,4BAA4B,EAC5BE,gBAAgB,EAChBC,WAAW,EACXC,8BAA8B,EAC9BC,mCAAmC,EACnCC,2BAA2B,EAC3BM,aAAa,EACbI,gCAAgC,EAChCK,uBAAuB,EACvBe,2BAA2B,EAC3BC,yBAAyB,EACzBG,cAAc,EACdG,mBAAmB,EACnBC,yBAAyB,EACzBC,2BAA2B,EAC3BC,kCAAkC,EAClCG,kBAAkB,EAClBC,iCAAiC,EACjCC,yBAAyB,EACzBK,qCAAqC,EACrCG,qCAAqC,EACrCE,0BAA0B,EAC1BC,4BAA4B,EAC5BG,2BAA2B,EAC3BI,wBAAwB,EACxBE,oCAAoC,EACpCC,gBAAgB,EAChBuB,OAAO,EACPK,sBAAsB,EACtBE,QAAQ,EACRE,iBAAiB,EACjBC,cAAc,EACdM,wBAAwB,EACxBU,sBAAsB,EACtBM,eAAe,EACfgB,UAAU,EACV+5C,0BAA0B,EAC1B3rD,YAAY,EACZwE,4BAA4B,GAE1BonD,GAAgB,QAEpBA,GAAcC,kBAAoB,CAChC,yBACA,wBACA,SACA,kBACA,eACA,WACA,YACA,qBACA,oBACA,eACA,yBACA,iBACA,iBACA,sBACA,mBACA,sBACA,mBACA,iBACA,sCACA,aACA,kBACA,iBAEFD,GAAcE,kBAAoB,CAChC,aACA,WACA,UACA,qBACA,aACA,QACA,aACA,kCACA,uBACA,qBACA,yBACA,WACA,8BACA,qBACA,gBACA,yBACA,2BACA,cACA,gBACA,2BACA,4BACA,gCACA,+BACA,cACA,YACA,UACA,QACA,sBACA,oBACA,qBACA,sBACA,sBACA,uBACA,8BACA,eACA,mBACA,gBACA,sBAEFF,GAAcG,iBAAmB,CAC/B,eACA,eACA,UACA,aACA,cACA,mBACA,sBACA,cACA,WACA,8BAGFH,GAAcI,kBAAoB,CAChC,YACA,kBACA,YACA,eACA,oBACA,wBACA,wBACA,oBACA,yBACA,uBACA,uBACA,2BACA,6BACA,kBACA,mBACA,kCACA,mBACA,mBACA,oBACA,qBACA,iBACA,0BACA,4BACA,iBACA,6BACA,0BACA,sBACA,2BACA,iBACA,gBACA,oBACA,mBACA,WACA,4BAGFJ,GAAcK,mBAAqB,CACjC,wCACA,4BACA,oBACA,sBACA,2BACA,uBACA,6BACA,2BACA,QACA,wBACA,wBACA,0BACA,2BACA,mBACA,yBACA,aACA,oBACA,kBACA,kBACA,yBACA,wBACA,mBACA,uBACA,8BACA,iCACA,yBACA,2BACA,uBACA,oBACA,mBACA,+BACA,YACA,gBACA,sBACA,iCACA,sBACA,wBACA,gCACA,+BACA,6BACA,qCACA,8BACA,yBACA,8BACA,YACA,0BACA,+BACA,6BACA,4BACA,oBACA,cACA,uBACA,4BACA,kCACA,YACA,oBACA,mBACA,iBACA,kBACA,8BACA,kBACA,kBACA,qBACA,0BACA,uBACA,uBACA,aACA,yBACA,0BACA,kCACA,sBACA,mBACA,oCACA,iBACA,eACA,0BACA,aACA,yBACA,8BACA,yBACA,sBACA,oBACA,uCACA,8BACA,oCACA,2BACA,6BACA,0BACA,4BACA,uBACA,yBACA,+BACA,eACA,gCACA,0BACA,gCACA,oCACA,uCACA,oBACA,qBACA,iBACA,oBACA,8BACA,sBACA,gCACA,0BACA,gCACA,4BACA,sBACA,0BACA,iCACA,sCACA,yBACA,2BACA,0BACA,kBACA,uBACA,4CACA,gCACA,qBACA,uBACA,eACA,4BACA,+BACA,uBACA,4CACA,+BACA,0BACA,yBACA,mCACA,4BACA,6BACA,uBACA,eACA,WACA,iCACA,2BACA,mCACA,wCACA,6BACA,UACA,sBACA,+BACA,8BAGFL,GAA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","names":["ClientSideNodeManager","constructor","rootNode","gos","eventService","funcColsService","selectionService","beans","this","nextId","rowCountReady","allNodesMap","group","level","id","allLeafChildren","childrenAfterGroup","childrenAfterSort","childrenAfterAggFilter","childrenAfterFilter","getCopyOfNodesMap","_cloneObject","getRowNode","setRowData","rowData","_warnOnce","dispatchRowDataUpdateStartedEvent","sibling","childrenMapped","updateHasChildren","map","dataItem","index","createNode","updateRowData","rowDataTran","add","updateRowDataResult","rowNodeTransaction","remove","update","rowsInserted","nodesToUnselect","executeRemove","executeUpdate","executeAdd","updateSelection","updateRowOrderFromRowData","rows","rowsLength","length","rowsOutOfOrder","Map","firstIndexOutOfOrder","lastIndexOutOfOrder","i","row","data","set","get","sourceRowIndex","isRowCountReady","dispatchEvent","type","firstRowData","source","selectionChanged","setNodesSelected","newValue","nodes","suppressFinishActions","updateGroupsFromChildrenSelections","result","_missingOrEmpty","addIndex","sanitizeAddIndex","rowIndex","newNodes","item","nodesBeforeIndex","slice","nodesAfterIndex","nodesAfterIndexFirstIndex","concat","allChildrenCount","Number","isNaN","Math","ceil","rowIdsRemoved","forEach","rowNode","lookupRowNode","isSelected","push","clearRowTopAndRowIndex","filter","node","idx","updateData","selectable","setMasterForRow","getRowIdFunc","_getRowIdCallback","_errorOnce","find","parent","RowNode","setDataAndId","toString","setExpanded","setMaster","expanded","isRowMasterFunc","rowGroupColumns","getRowGroupColumns","master","isExpanded","expandByDefault","VERSION","ClientSideRowModelCoreModule","_defineModule","version","moduleName","ModuleNames","ClientSideRowModelModule","rowModel","BeanStub","super","arguments","beanName","onRowHeightChanged_debounced","_debounce","onRowHeightChanged","bind","rowsToDisplay","hasStarted","shouldSkipSettingDataOnStart","isRefreshingModel","wireBeans","columnModel","valueCache","environment","filterStage","sortStage","flattenStage","groupStage","aggregationStage","pivotStage","filterAggregatesStage","postConstruct","refreshEverythingFunc","refreshModel","step","ClientSideRowModelSteps","EVERYTHING","animate","refreshEverythingAfterColsChangedFunc","afterColumnsChanged","keepRenderedRows","addManagedEventListeners","newColumnsLoaded","columnRowGroupChanged","columnValueChanged","onValueChanged","columnPivotChanged","PIVOT","filterChanged","onFilterChanged","sortChanged","onSortChanged","columnPivotModeChanged","gridStylesChanged","onGridStylesChanges","gridReady","onGridReady","addPropertyListeners","RowNode2","nodeManager","resetProps","Set","groupStageRefreshProps","filterStageRefreshProps","pivotStageRefreshProps","aggregateStageRefreshProps","sortStageRefreshProps","filterAggStageRefreshProps","flattenStageRefreshProps","allProps","addManagedPropertyListeners","params","properties","changeSet","arePropertiesImpacted","propSet","some","prop","has","child","FILTER","AGGREGATE","SORT","FILTER_AGGREGATES","MAP","addManagedPropertyListener","resetRowHeights","start","dispatchUpdateEventsAndRefresh","setInitialData","ensureRowHeightsValid","startPixel","endPixel","startLimitIndex","endLimitIndex","atLeastOneChange","res","rowAtStartPixel","getRowIndexAtPixel","rowAtEndPixel","firstRow","max","lastRow","min","getRow","rowHeightEstimated","rowHeight","_getRowHeightForNode","setRowHeight","height","setRowTopAndRowIndex","defaultRowHeight","getDefaultRowHeight","nextRowTop","displayedRowsMapped","allowEstimate","_isDomLayout","estimated","setRowTop","setRowIndex","changedPath","changedPathActive","isActive","clearIfNotDisplayed","recurse","detailNode","hasChildren","ensureRowsAtPixel","rowNodes","pixel","increment","indexAtPixelNow","rowNodeAtPixelNow","_removeFromArray","_insertIntoArray","keepEditingRows","rowNodesOrderChanged","highlightRowAtPixel","clearHighlightedRow","highlight","getHighlightPosition","isSamePosition","isHighlightingCurrentPosition","lastHighlightedRow","setHighlighted","RowHighlightPosition","Below","rowTop","Above","getLastHighlightedRowNode","movingRowNode","hoveredRowNode","highlightPosition","isLastRowIndexKnown","getRowCount","getTopLevelRowCount","filteredChildren","getTopLevelRowDisplayedIndex","topLevelIndex","adjustedIndex","footer","getRowBounds","_missing","onRowGroupOpened","_isAnimateRows","event","afterDataChange","columns","col","isPrimary","getType","isPivotActive","createChangePath","rowNodeTransactions","noTransactions","_missingOrEmpty2","ChangedPath","setInactive","isSuppressModelUpdateAfterUpdateTransaction","transWithAddsOrDeletes","tx","buildRefreshModelParams","paramsStep","stepsMapped","everything","aggregate","filter_aggregates","sort","pivot","nothing","NOTHING","_exists","_errorOnce2","Object","keys","join","paramsOrStep","isChangeEventsDispatching","doRowGrouping","doFilter","doPivot","doAggregate","doFilterAggregates","doSort","doRowsToDisplay","displayedNodesMapped","newData","newPage","keepUndoRedoStack","isEmpty","rowsMissing","isReady","isRowsToRender","getNodesInRangeForSelection","firstInRange","lastInRange","started","finished","groupsSelectChildren","_getGroupSelectsDescendants","forEachNodeAfterFilterAndSort","setDatasource","datasource","getTopLevelNodes","getRootNode","isRowPresent","indexOf","pixelToMatch","bottomPointer","topPointer","_last","oldBottomPointer","oldTopPointer","midPointer","floor","currentRowNode","isRowInPixel","forEachLeafNode","callback","forEachNode","includeFooterNodes","recursivelyWalkNodesAndCallback","recursionType","forEachNodeAfterFilter","forEachPivotNode","addFooters","position","parentNode","grandTotal","_getGrandTotalRow","isGroupIncludeFooter","_getGroupTotalRowCallback","groupTotal","createFooter","nodeChildren","leafGroup","execute","expandOrCollapseAll","expand","usingTreeData","usingPivotMode","recursiveExpandOrCollapse","actionRow","dispatchEventOnce","getNodeManager","ID_PREFIX_ROW_GROUP","reset","batchUpdateRowData","rowDataTransaction","applyAsyncTransactionsTimeout","rowDataTransactionBatch","waitMillis","window","setTimeout","isAlive","executeBatchUpdateRowData","flushAsyncTransactions","clearTimeout","onDataChanged","callbackFuncsBound","rowNodeTrans","orderChanged","tranItem","commonUpdateRowData","func","results","afterImmutableDataChange","onRowHeightChangedDebounced","atLeastOne","resetRowHeightsForAllRowNodes","e","rowHeightChanged","isAutoRowHeightActive","isRowDataLoaded","destroy","BeanStub2","filterManager","filterActive","isChildFilterPresent","filterNodes","filterCallback","includeChildNodes","childNode","passBecauseChildren","passBecauseDataPasses","doesRowPassFilter","doingTreeDataFiltering","treeDataDepthFirstFilter","alreadyFoundInParent","foundInParent","executeFromRootNode","forEachChangedNodeDepthFirst","BeanStub6","sortService","sortController","sortOptions","getSortOptions","sortActive","_exists4","deltaSort","sortContainsGroupColumns","opt","_isColumnsSortingCoupledToGroup","column","isRowGroupActive","getColDef","showRowGroup","BeanStub3","skipLeafNodes","isPivotMode","showRootNode","topList","details","getFlattenDetails","recursivelyAddToRowsToDisplay","grandTotalRow","addRowNodeToRowsToDisplay","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","isGroupMultiAutoColumn","_isGroupMultiAutoColumn","hideOpenParents","_getGrandTotalRow2","groupTotalRow","_getGroupTotalRowCallback2","rowsToFlatten","uiLevel","_missingOrEmpty3","isParent","isRemovedSingleChildrenGroup","isRemovedLowestSingleChildrenGroup","excludedParent","doesRowShowFooter","destroyFooter","uiLevelForChildren","createDetailNode","addToTop","unshift","setUiLevel","masterNode","_exists2","RowNode3","detail","BeanStub5","rowNodeSorter","showRowGroupColsService","useDeltaSort","groupMaintainOrder","groupColumnsPresent","getCols","c","allDirtyNodes","calculateDirtyNodes","postSortFunc","getCallback","pullDownGroupDataForHideOpenParents","skipSortingPivotLeafs","wasSortExplicitlyRemoved","getSort","childrenToBeSorted","indexedOrders","row1","row2","doDeltaSort","doFullSort","updateChildIndexes","updateGroupDataForHideOpenParents","dirtyNodes","addNodesFunc","tran","allTouchedNodes","unsortedRows","oldSortedRows","untouchedRowsMap","touchedRows","canSkip","sortedUntouchedRows","mapNodeToSortedNode","rowNode2","pos","currentPos","sortedChangedRows","a","b","compareRowNodes","mergeSortedArrays","arr1","arr2","j","_missing2","listToSort","lastChild","setFirstChild","setLastChild","setChildIndex","_warnOnce3","clearOperation","childRowNode","getShowRowGroupCols","groupDisplayCol","_errorOnce4","rowGroupColumn","getColDefCol","setGroupValue","getId","parentToStealFrom","getFirstChildOfFirstChild","key","parentRowNode","firstChild","BeanStub4","_isClientSideRowModel","clientSideRowModel","onRowDataUpdated","getRowIdProvided","exists","createTransactionForRowData","_errorOnce3","_getRowIdCallback2","existingNodesMap","_exists3","existingNode","_iterateObject","ClientSideRowModelApiModule","RowModelHelperService","apiFunctions","onGroupExpandedOrCollapsed","expansionService","refreshClientSideRowModel","rowModelHelperService","getClientSideRowModel","isRowDataEmpty","_warnOnce2","applyTransaction","frameworkOverrides","wrapIncoming","applyTransactionAsync","getBestCostNodeSelection","dependantModules","_CsrmSsrmSharedApiModule","cellClassSecAction","split","actionsRight","cellClass","pinned","textSortFilter","sortable","ColumnDefinitions","static","ActionsPinnedRight1","width","ActionsPinnedRight3","ActionsPinnedRight4","ActionsPinnedRight5","ActionsPinnedRight6","ActionsPinnedRight7","IconShow","headerName","headerClass","BooleanFilterComponent","valueGetter","IsHidden","cellRenderer","AgBoolIconRenderer","Items","ItemsText","Fields","Character","Id","field","IdWithDefaultRenderer","IdFieldComponent","Boolean","Boolean2","Boolean3","TrueFalseComponent","cellRendererParams","reverse","Number2","TextWidePrimary","flex","minWidth","TextWide","TextWideMin100","TextWideFlex3","TextNarrow","TextWideActionClass","idFieldParamsTooltipGetter","tooltipGetter","contentType","snackBar","agInit","value","align","tooltip","refresh","copy","copyToClipboard","open","duration","__ngFactoryType__","i0","i1","_angular_core__WEBPACK_IMPORTED_MODULE_1__","VBU","selectors","decls","vars","consts","template","rf","ctx","_c0","NgClass","MatIconModule","i2","TippyDirective","styles","AgBoolCellIconsDefault","states","true","icon","false","AgBoolIconRenderer_Conditional_1_ng_container_1_Template","ctx_r0","url","showIcon_r2","clickable","allSettings","settings","d","getUrl","debug_node_JnOYh9kg","AgBoolIconRenderer_Conditional_1_Template","AgBoolIconRenderer_Conditional_2_Template","AgBoolIconRenderer_ng_template_3_Template","NgTemplateOutlet","encapsulation","AngularFrameworkComponentWrapper","BaseComponentWrapper","setViewContainerRef","viewContainerRef","angularFrameworkOverrides","createWrapper","OriginalConstructor","that","wrapper","DynamicAgNg2Component","BaseGuiComponent","init","runInsideAngular","_componentRef","changeDetectorRef","detectChanges","createComponent","hasMethod","name","getFrameworkComponentInstance","callMethod","args","componentRef","apply","addMethod","componentType","fac","AngularFrameworkComponentWrapper_BaseFactory","prov","token","factory","_params","_agAwareComponent","instance","_frameworkComponentInstance","_eGui","location","nativeElement","_removeFromParent","getGui","getRootElement","AngularFrameworkOverrides","VanillaFrameworkOverrides","_ngZone","isRunningWithinTestZone","runOutside","wrapOutgoing","AG_GRID_UNDER_TEST","Zone","AsyncTestZoneSpec","runOutsideAngular","shouldWrapOutgoing","NgZone","isInAngularZone","isFrameworkComponent","comp","prototype","run","AgGridAngular","elementDef","frameworkComponentWrapper","_initialised","_destroyed","_holdEvents","_fullyReady","Promise","resolve","_resolveFullyReady","statusBar","undefined","sideBar","suppressContextMenu","preventDefaultOnContextMenu","allowContextMenuWithControlKey","columnMenu","suppressMenuHide","enableBrowserTooltips","tooltipTrigger","tooltipShowDelay","tooltipHideDelay","tooltipMouseTrack","tooltipShowMode","tooltipInteraction","popupParent","copyHeadersToClipboard","copyGroupHeadersToClipboard","clipboardDelimiter","suppressCopyRowsToClipboard","suppressCopySingleCellRanges","suppressLastEmptyLineOnPaste","suppressClipboardPaste","suppressClipboardApi","suppressCutToClipboard","columnDefs","defaultColDef","defaultColGroupDef","columnTypes","dataTypeDefinitions","maintainColumnOrder","enableStrictPivotColumnOrder","suppressFieldDotNotation","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","allowDragFromColumnsToolPanel","suppressMovableColumns","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","colResizeDefault","suppressAutoSize","autoSizePadding","skipHeaderOnAutoSize","autoSizeStrategy","components","editType","singleClickEdit","suppressClickEdit","readOnlyEdit","stopEditingWhenCellsLoseFocus","enterNavigatesVertically","enterNavigatesVerticallyAfterEdit","enableCellEditingOnBackspace","undoRedoCellEditing","undoRedoCellEditingLimit","defaultCsvExportParams","suppressCsvExport","defaultExcelExportParams","suppressExcelExport","excelStyles","quickFilterText","cacheQuickFilter","includeHiddenColumnsInQuickFilter","quickFilterParser","quickFilterMatcher","applyQuickFilterBeforePivotOrAgg","excludeChildrenWhenTreeDataFiltering","enableAdvancedFilter","advancedFilterModel","includeHiddenColumnsInAdvancedFilter","advancedFilterParent","advancedFilterBuilderParams","suppressAdvancedFilterEval","suppressSetFilterByDefault","enableCharts","chartThemes","customChartThemes","chartThemeOverrides","chartToolPanelsDef","chartMenuItems","loadingCellRenderer","loadingCellRendererParams","loadingCellRendererSelector","localeText","masterDetail","keepDetailRows","keepDetailRowsCount","detailCellRenderer","detailCellRendererParams","detailRowHeight","detailRowAutoHeight","context","dragAndDropImageComponent","dragAndDropImageComponentParams","alignedGrids","tabIndex","rowBuffer","valueCacheNeverExpires","enableCellExpressions","suppressTouch","suppressFocusAfterRefresh","suppressAsyncEvents","suppressBrowserResizeObserver","suppressPropertyNamesCheck","suppressChangeDetection","debug","loading","overlayLoadingTemplate","loadingOverlayComponent","loadingOverlayComponentParams","suppressLoadingOverlay","overlayNoRowsTemplate","noRowsOverlayComponent","noRowsOverlayComponentParams","suppressNoRowsOverlay","pagination","paginationPageSize","paginationPageSizeSelector","paginationAutoPageSize","paginateChildRows","suppressPaginationPanel","pivotMode","pivotPanelShow","pivotMaxGeneratedColumns","pivotDefaultExpanded","pivotColumnGroupTotals","pivotRowTotals","pivotSuppressAutoColumn","suppressExpandablePivotGroups","functionsReadOnly","aggFuncs","suppressAggFuncInHeader","alwaysAggregateAtRootLevel","aggregateOnlyChangedColumns","suppressAggFilteredOnly","removePivotHeaderRowWhenSingleValueColumn","animateRows","enableCellChangeFlash","cellFlashDuration","cellFlashDelay","cellFadeDuration","cellFadeDelay","allowShowChangeAfterFilter","domLayout","ensureDomOrder","enableRtl","suppressColumnVirtualisation","suppressMaxRenderedRowRestriction","suppressRowVirtualisation","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragEntireRow","rowDragMultiRow","rowDragText","fullWidthCellRenderer","fullWidthCellRendererParams","embedFullWidthRows","suppressGroupMaintainValueType","groupDisplayType","groupDefaultExpanded","autoGroupColumnDef","groupSelectsChildren","groupLockGroupColumns","groupAggFiltering","groupIncludeFooter","groupIncludeTotalFooter","suppressStickyTotalRow","groupSuppressBlankHeader","groupSelectsFiltered","showOpenedGroup","groupHideOpenParents","groupAllowUnbalanced","rowGroupPanelShow","groupRowRenderer","groupRowRendererParams","suppressMakeColumnVisibleAfterUnGroup","treeData","rowGroupPanelSuppressSort","suppressGroupRowsSticky","pinnedTopRowData","pinnedBottomRowData","rowModelType","asyncTransactionWaitMillis","suppressModelUpdateAfterUpdateTransaction","cacheOverflowSize","infiniteInitialRowCount","serverSideInitialRowCount","suppressServerSideInfiniteScroll","suppressServerSideFullWidthLoadingRow","cacheBlockSize","maxBlocksInCache","maxConcurrentDatasourceRequests","blockLoadDebounceMillis","purgeClosedRowNodes","serverSideDatasource","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","serverSidePivotResultFieldSeparator","viewportDatasource","viewportRowModelPageSize","viewportRowModelBufferSize","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debounceVerticalScrollbar","suppressHorizontalScroll","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","suppressAnimationFrame","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","scrollbarWidth","rowSelection","cellSelection","rowMultiSelectWithClick","suppressRowDeselection","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","selectionColumnDef","suppressMultiRangeSelection","enableCellTextSelection","enableRangeSelection","enableRangeHandle","enableFillHandle","fillHandleDirection","suppressClearOnFillReduction","sortingOrder","accentedSort","unSortIcon","suppressMultiSort","alwaysMultiSort","multiSortKey","suppressMaintainUnsortedOrder","icons","rowStyle","rowClass","rowClassRules","suppressRowHoverHighlight","suppressRowTransform","columnHoverHighlight","gridId","treeDataDisplayType","enableGroupEdit","initialState","theme","loadThemeGoogleFonts","getContextMenuItems","getMainMenuItems","postProcessPopup","processUnpinnedColumns","processCellForClipboard","processHeaderForClipboard","processGroupHeaderForClipboard","processCellFromClipboard","sendToClipboard","processDataFromClipboard","isExternalFilterPresent","doesExternalFilterPass","getChartToolbarItems","createChartContainer","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getLocaleText","getDocument","paginationNumberFormatter","getGroupRowAgg","isGroupOpenByDefault","initialGroupOrderComparator","processPivotResultColDef","processPivotResultColGroupDef","getDataPath","getChildCount","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isApplyServerSideTransaction","isServerSideGroup","getServerSideGroupKey","getBusinessKeyForNode","getRowId","resetRowDataOnUpdate","processRowPostCreate","isRowSelectable","isRowMaster","fillOperation","postSortRows","getRowStyle","getRowClass","getRowHeight","isFullWidthRow","toolPanelVisibleChanged","EventEmitter","toolPanelSizeChanged","columnMenuVisibleChanged","contextMenuVisibleChanged","cutStart","cutEnd","pasteStart","pasteEnd","columnVisible","columnPinned","columnResized","columnMoved","columnGroupOpened","gridColumnsChanged","displayedColumnsChanged","virtualColumnsChanged","columnEverythingChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","componentStateChanged","cellValueChanged","cellEditRequest","rowValueChanged","cellEditingStarted","cellEditingStopped","rowEditingStarted","rowEditingStopped","undoStarted","undoEnded","redoStarted","redoEnded","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","fillStart","fillEnd","filterOpened","filterModified","advancedFilterBuilderVisibleChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","cellKeyDown","firstDataRendered","gridSizeChanged","modelUpdated","virtualRowRemoved","viewportChanged","bodyScroll","bodyScrollEnd","dragStarted","dragStopped","dragCancelled","stateUpdated","paginationChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","rowGroupOpened","pivotMaxColumnsExceeded","pinnedRowDataChanged","rowDataUpdated","asyncTransactionsFlushed","storeRefreshed","headerFocused","cellClicked","cellDoubleClicked","cellFocused","cellMouseOver","cellMouseOut","cellMouseDown","rowClicked","rowDoubleClicked","rowSelected","cellContextMenu","rangeSelectionChanged","cellSelectionChanged","tooltipShow","tooltipHide","_nativeElement","then","ngAfterViewInit","mergedGridOps","_combineAttributesAndGridOptions","gridOptions","gridParams","globalEventListener","providedBeanInstances","modules","api","createGrid","ngOnChanges","changes","entries","currentValue","_processOnChange","ngOnDestroy","isEmitterUsed","eventType","emitterAny","hasEmitter","observed","observers","asEventName","charAt","toUpperCase","substring","emitter","fireEmitter","emit","cmp","inputs","outputs","features","AgGridModule","mod","inj","LocalEventService","allSyncListeners","allAsyncListeners","globalSyncListeners","globalAsyncListeners","asyncFunctionsQueue","scheduled","firedEvents","setFrameworkOverrides","getListeners","async","autoCreateListenerCollection","listenerMap","listeners","noRegisteredListenersExist","size","addEventListener","listener","removeEventListener","delete","addGlobalListener","removeGlobalListener","agEvent","dispatchToListeners","browserEvent","Event","eventPath","composedPath","originalListeners","processEventListeners","listeners2","originalListeners2","dispatchAsync","flush","flushAsyncQueue","queueCopy","ModuleNames2","CommunityCoreModule","InfiniteRowModelModule","CsvExportModule","EnterpriseCoreModule","RowGroupingModule","ColumnsToolPanelModule","FiltersToolPanelModule","MenuModule","SetFilterModule","MultiFilterModule","StatusBarModule","SideBarModule","RangeSelectionModule","MasterDetailModule","RichSelectModule","GridChartsModule","ViewportRowModelModule","ServerSideRowModelModule","ExcelExportModule","ClipboardModule","SparklinesModule","AdvancedFilterModule","AngularModule","ReactModule","VueModule","doOnceFlags","_doOnce","_log","message","console","log","msg","warn","error","_isFunction","val","call","executeNextVMTurnFuncs","executeNextVMTurnPending","_executeNextVMTurn","funcsCopy","func2","delay","timeout","_throttle","wait","previousCall","currentCall","Date","getTime","_makeNull","allowEmptyString","_toStringOrNull","_attrToNumber","valueParsed","parseInt","_attrToBoolean","toBoolean","_jsonEquals","val1","val2","JSON","stringify","_defaultComparator","valueA","valueB","accentedCompare","valueAMissing","valueBMissing","toNumber","doQuickCompare","localeCompare","_values","object","arr","values","isRowModelType","_isServerSideRowModel","_isRowSelection","_getRowSelectionMode","_useAsyncEvents","_isGetRowHeightFunction","isNumeric","getMasterDetailRowHeight","gridOptionsRowHeight","_getRowHeightAsNumber","refreshRowHeightVariable","isFinite","_getDomData","element","domData","getDomDataKey","_setDomData","domDataKey","_getDocument","gridOptionsGetDocument","eGridDiv","ownerDocument","document","_getWindow","defaultView","_getRootNode","_getActiveDomElement","activeElement","_isNothingFocused","eDocument","activeEl","body","_isGroupRowsSticky","comparator","_getGroupAggFiltering","userValue","legacyValue","legacyCallback","p","_isGroupUseEntireRow","String","_getCheckboxes","selection","checkboxes","_getHeaderCheckbox","mode","headerCheckbox","_isCellSelectionEnabled","_isFillHandleEnabled","handle","_getEnableClickSelection","enableClickSelection","_getEnableDeselection","_getIsRowSelectable","_isMultiRowSelection","_getGroupSelection","groupSelects","groupSelection","_isSetFilterByDefault","isModuleRegistered","_areEqual","every","_removeFromUnorderedArray","array","pop","splice","toIndex","_moveInArray","objectsToMove","_removeAllFromArray","toRemove","obj","_includes","_flatten","arrayOfArrays","flatMap","t","_pushAll","target","AG_GRID_STOP_PROPAGATION","PASSIVE_EVENTS","supports","_stopPropagationForAgGrid","_isStopPropagationForAgGrid","_isEventSupported","tags","select","change","submit","load","abort","eventName","el","createElement","_getCtrlForEventTarget","eventTarget","sourceElement","renderedComp","parentElement","_isElementInEventPath","_getEventPath","eventNoType","path","_createEventPath","pointer","destroyFunctions","destroyed","__v_skip","propertyListenerId","lastChangeSetIdLookup","preWireBeans","stubContext","localeService","getFrameworkOverrides","dispatchLocalEvent","localEventService","addManagedElementListeners","handlers","_setupListeners","addManagedListeners","destroyFuncs","k","handler","_setupListener","HTMLElement","_addSafePassiveEventListener","eElement","options","passive","destroyFunc","fn","setupGridOptionListener","addPropertyEventListener","removePropertyEventListener","events","eventsKey","wrappedListener","addDestroyFunc","createManagedBean","bean","createBean","destroyBean","afterPreCreateCallback","destroyBeans","isProvidedColumnGroup","AgProvidedColumnGroup","colGroupDef","groupId","padding","isColumn","expandable","instanceId","getNextColInstanceId","expandableListenerRemoveCallback","openByDefault","originalParent","children","getInstanceId","setOriginalParent","getOriginalParent","getLevel","isVisible","isPadding","isExpandable","getGroupId","setChildren","getChildren","getColGroupDef","getLeafColumns","addLeafColumns","leafColumns","getColumnGroupShow","columnGroupShow","setupExpandable","setExpandable","onColumnVisibilityChanged","atLeastOneShowingWhenOpen","atLeastOneShowingWhenClosed","atLeastOneChangeable","findChildrenRemovingPadding","abstractColumn","headerGroupShow","process","items","CONTROLS_COLUMN_ID_PREFIX","ControlsColService","isControlsColEnabled","so","createControlsCols","colDef","maxWidth","resizable","suppressHeaderMenuButton","suppressMovable","lockPosition","nodeA","nodeB","aSelected","bSelected","editable","suppressFillHandle","colId","AgColumn","GROUP_AUTO_COLUMN_ID","getColumnsFromTree","rootColumns","recursiveFindColumns","childColumns","getWidthOfColsInList","columnList","reduce","getActualWidth","destroyColumnTree","oldTree","newTree","oldObjectsById","depthFirstOriginalTreeSearch","colsToDestroy","isColumnGroupAutoCol","startsWith","isColumnControlsCol","getColId","convertColumnTypes","typeKeys","Array","FrameworkEventListenerService","wrappedListeners","wrappedGlobalListeners","wrap","userListener","eventListeners","wrapGlobal","unwrap","wrapped","unwrapGlobal","SKIP_JS_BUILTINS","isArray","_deepCloneDefinition","keysToSkip","_isNonNullObject","_getAllValuesInObject","anyObject","ret","hasOwnProperty","propertyIsEnumerable","_mergeDeep","dest","copyUndefined","makeCopyOfSimpleObjects","sourceValue","destValue","_getValueUsingField","fieldContainsDots","fields","currentObject","COL_DEF_DEFAULTS","instanceIdSequence","userProvidedColDef","primary","autoHeaderHeight","moving","menuVisible","lastLeftPinned","firstRightPinned","columnEventService","tooltipEnabled","rowGroupActive","pivotActive","aggregationActive","setState","columnHoverService","initialSort","sortIndex","initialSortIndex","hide","visible","initialHide","setPinned","initialPinned","initialFlex","setColDef","initMinAndMaxWidths","initDotNotation","initTooltip","createColumnEvent","getUserProvidedColDef","setParent","getParent","resetActualWidth","suppressDotNotation","tooltipFieldContainsDots","tooltipField","getDefaultColumnMinWidth","MAX_SAFE_INTEGER","tooltipValueGetter","tooltipComponent","initialWidth","calculateColInitialWidth","setActualWidth","colDefWidth","colDefInitialWidth","isEmptyGroup","isRowGroupDisplayed","isFilterAllowed","isFieldContainsDots","isTooltipEnabled","isTooltipFieldContainsDots","getHighlighted","highlighted","frameworkEventListenerService","createColumnFunctionCallbackParams","addGridCommonParams","isSuppressNavigable","suppressNavigable","userFunc","isCellEditable","isColumnFunc","isSuppressFillHandle","isAutoHeight","autoHeight","isAutoHeaderHeight","isRowDrag","rowDrag","isDndSource","dndSource","isCellCheckboxSelection","checkbox","checkboxSelection","isSuppressPaste","suppressPaste","isResizable","getColDefValue","setMoving","isMoving","setSort","dispatchStateUpdatedEvent","isSortable","isSortAscending","isSortDescending","isSortNone","isSorting","getSortIndex","setSortIndex","sortOrder","setMenuVisible","isMenuVisible","setAggFunc","aggFunc","getAggFunc","getLeft","left","getOldLeft","oldLeft","getRight","actualWidth","setLeft","isFilterActive","setFilterActive","active","additionalEventAttributes","filterChangedEvent","isHovered","setFirstRightPinned","setLastLeftPinned","isFirstRightPinned","isLastLeftPinned","isPinned","isPinnedLeft","isPinnedRight","getPinned","setVisible","isSpanHeaderHeight","suppressSpanHeaderHeight","getColumnGroupPaddingInfo","numberOfParents","isSpanningTotal","getPaddingLevel","getDefinition","getUniqueId","getAutoHeaderHeight","setAutoHeaderHeight","changed","createBaseColDefParams","getColSpan","colSpan","getRowSpan","rowSpan","silent","fireColumnWidthChangedEvent","isGreaterThanMax","getMinWidth","getMaxWidth","getFlex","setFlex","setMinimum","setRowGroupActive","rowGroup","setPivotActive","isAnyFunctionActive","isValueActive","isAnyFunctionAllowed","isAllowPivot","isAllowRowGroup","isAllowValue","setValueActive","enablePivot","enableValue","enableRowGroup","DefaultColumnTypes","numericColumn","rightAligned","ColumnKeyCreator","existingKeys","addExistingKeys","getUniqueKey","colField","count","idToTry","ColumnFactory","dataTypeService","createColumnTree","defs","primaryColumns","existingTree","columnKeyCreator","existingCols","existingGroups","existingColKeys","extractExistingTreeData","unbalancedTree","recursivelyCreateColumns","treeDept","findMaxDept","columnTree","balanceColumnTree","deptFirstCallback","balanceTreeForAutoCols","autoCols","liveTree","tree","dept","findDepth","nextChild","autoGroup","balancedColumnTree","currentDept","columnDept","originalGroup","newChildren","firstPaddedGroup","currentPaddedGroup","newColId","colGroupDefMerged","createMergedColGroupDef","paddedGroup","leaf","treeChildren","maxDeptThisLevel","newDept","existingColsCopy","def","isColumnGroup","createColumnGroup","createColumn","existingColumns","providedGroup","existingGroupAndIndex","findExistingGroup","existingGroup","assign","existingColAndIndex","findExistingColumn","colDefMerged","addColumnDefaultAndTypes","applyColumnState","addColumnListeners","widthBeforeUpdate","newColDef","newGroupDef","columnType","updateColDefAndGetColumnType","assignColumnTypes","autoGroupColDef","isSortingCoupled","validateColDef","userColDef","dataTypeDefinitionColumnType","allColumnTypes","typeColDef","trim","abstractColDef","ColumnModel","autoHeightActiveAtLeastOnce","ready","changeEventsDispatching","shouldQueueResizeOperations","resizeOperationQueue","ctrlsService","columnFactory","columnSizeService","visibleColsService","columnViewportService","pivotResultColsService","columnAnimationService","autoColService","controlsColService","columnDefFactory","columnApplyStateService","columnGroupStateService","eventDispatcher","columnEventDispatcher","columnMoveService","columnAutosizeService","quickFilterService","isPivotSettingAllowed","refreshAll","convertSourceType","onSelectionOptionsChanged","previousValue","onAutoGroupColumnDefChanged","recreateColumnDefs","setPivotMode","onFirstDataRendered","createColsFromColDefs","dispatchEventsFunc","colDefs","compareColumnStatesAndDispatchEvents","expire","oldCols","colDefCols","list","treeDepth","extractCols","refreshCols","checkViewportColumns","everythingChanged","applyAutosizeStrategy","newColDefs","prevColTree","cols","saveColOrder","selectCols","createAutoCols","addAutoCols","addControlsCols","shouldSortNewColDefs","_shouldMaintainColumnOrder","isPivotColumns","showingPivotResult","restoreColOrder","positionLockedCols","refreshQuickFilterCols","setColSpanActive","setAutoHeightActive","clear","gridColumns","pivotResultCols","getPivotResultCols","lastPivotOrder","getColsToShow","showAutoGroupAndValuesOnly","isShowingPivotResult","valueColumns","getValueColumns","showSelectionCol","isAutoGroupCol","isValueCol","updateColsMap","groupFullWidthRow","suppressAutoColumn","isSuppressAutoCol","rowGroupCols","destroyPrevious","areColIdsEqual","putAutocolsFirstInList","colsFiltered","lastOrder","destroyCollection","controlsCols","newTreeDepth","treeDeptSame","putControlscolsFirstInList","setColsVisible","state","setColsPinned","actualPinned","updatedCols","getCol","finish","setColumnGroupOpened","keyAsString","setColumnGroupState","getProvidedColGroup","isColGroupLocked","findIndex","groupCol","autoHeightActive","lastOrderMapped","colsMap","lastOrderFiltered","lastOrderFilteredMap","missingFromLastOrder","newCol","siblings","leafCol","presentInNewCols","notYetInSiblings","indexes","lastIndex","sortColsLikeKeys","colIds","newOrder","processedColIds","autoGroupInsertIndex","placeLockedColumns","doesMovePassMarryChildren","sortColsLikeCols","resetColDefIntoCol","queueResizeOperations","isShouldQueueResizeOperations","processResizeOperations","resizeOperation","pushResizeOperation","moveInCols","movedColumns","getColumnDefs","pivotColumns","getPivotColumns","buildColumnDefs","isColSpanActive","colSpanActive","isProvidedColGroupsPresent","wasAutoRowHeightEverActive","getHeaderRowCount","pivotModeChanged","updateAutoCols","setColumnDefs","getColTree","getColDefColTree","getColDefCols","getAllCols","pivotResultColsList","flat","getColsForKeys","getColFromCollection","columnsMatch","getAutoCol","getAutoCols","setColHeaderHeight","getGroupRowsHeight","heights","headerRowContainerCtrls","getHeaderRowContainerCtrls","headerRowContainerCtrl","groupRowCount","getGroupRowCount","headerRowCtrl","getGroupRowCtrlAtIndex","currentHeightAtPos","newHeight","getColumnGroupHeaderRowHeight","defaultHeight","getPivotGroupHeaderHeight","getGroupHeaderHeight","displayedHeights","headerRowCellCtrls","getHeaderCtrls","headerCellCtrl","getColumn","getColumnHeaderRowHeight","getPivotHeaderHeight","getHeaderHeight","getDefaultHeaderHeight","getFloatingFiltersHeight","skipHeader","autoSizeCols","colKeys","autoSizeAllColumns","current","prev","checkboxHasChanged","prevHeaderCheckbox","currHeaderCheckbox","columnMatches","colDefMatches","idMatches","colsA","colsB","ColumnAutosizeService","timesDelayed","animationFrameService","autoWidthCalculator","renderStatusService","skipHeaderGroups","stopAtGroup","flushAllFrames","areHeaderCellsRendered","columnsAutosized","changesThisTimeAround","shouldSkipHeader","shouldSkipHeaderGroups","updatedColumns","preferredWidth","getPreferredWidthForColumn","newWidth","normaliseColumnWidth","autoSizeColumnGroupsByColumns","autoSizeColumn","columnGroups","headerGroupCtrl","columnGroup","headerContainerCtrl","getHeaderCtrlForColumn","resizeLeafColumnsToFit","allDisplayedColumns","FuncColsService","valueCols","pivotCols","aggFuncService","getModifyColumnsNoEventsCallbacks","addGroupCol","removeGroupCol","addPivotCol","removePivotCol","addValueCol","removeValueCol","getSourceColumnsForGroupColumn","sourceColumnId","sortRowGroupColumns","compareFn","sortPivotColumns","isRowGroupEmpty","setColumnAggFunc","columnChanged","setRowGroupColumns","setColList","added","addRowGroupColumns","updateColList","removeRowGroupColumns","addPivotColumns","setPivotColumns","removePivotColumns","setValueColumns","initialAggFunc","getDefaultAggFunc","addValueColumns","removeValueColumns","moveRowGroupColumn","fromIndex","impactedColumns","rowGroupChanged","masterList","detectOrderChange","autoGroupsNeedBuilding","columnCallback","oldIndex","actionIsAdd","columnToAdd","currentIndex","genericColumnEvent","from","oldProvidedCols","extractRowGroupCols","extractPivotCols","extractValueCols","extractColsCommon","flag","rowGroupIndex","initialRowGroupIndex","initialRowGroup","pivotIndex","initialPivotIndex","initialPivot","previousCols","setFlagFunc","getIndexFunc","getInitialIndexFunc","getValueFunc","getInitialValueFunc","colsWithIndex","colsWithValue","colIsNew","initialValue","initialIndex","include","getIndexForCol","defaultIndex","colA","colB","indexA","indexB","generateColumnStateForRowGroupAndPivotIndexes","updatedRowGroupColumnState","updatedPivotColumnState","existingColumnStateUpdates","orderColumns","updatedColumnState","colList","enableProp","initialEnableProp","indexProp","initialIndexProp","primaryCols","updatedColIdArray","updatedColIds","newColIds","allColIds","colIdsInOriginalOrder","originalOrderMap","orderIndex","hasAddedNewCols","processPrecedingNewCols","originalOrderIndex","ColumnApplyStateService","columnGetStateService","providedCols","callbacks","applyStates","getById","columnsWithNoState","rowGroupIndexes","pivotIndexes","autoColStates","unmatchedAndAutoStates2","unmatchedCount2","previousRowGroupCols","previousPivotCols","syncColumnWithStateItem","defaultState","applyDefaultsFunc","comparatorByIndex","autoColsCopy","stateItem","autoCol","orderLiveColsLikeState","unmatchedAndAutoStates","unmatchedCount","getPivotResultCol","resetColumnState","columnStates","letRowGroupIndex","letPivotIndex","colsToProcess","groupAutoCols","getColumnStateFromColDef","applyOrder","getValueOrNull","getValue2","key1","key2","value1","value2","calculated","minColWidth","startState","columnStateBefore","getColumnState","columnStateBeforeMap","colsForState","dispatchWhenListsDifferent","colsBefore","colsAfter","idMapper","changesArr","getChangedColumns","changedPredicate","changedColumns2","colStateBefore","columnIdMapper","changedValues","valueChangePredicate","cs","oldActive","activeChanged","aggFuncChanged","resizeChangePredicate","pinnedChangePredicate","visibilityChangePredicate","changedColumns","sortChangePredicate","dispatchSortChangedEvents","normaliseColumnMovedEventForColumnState","colStateAfter","colStateAfterMapped","s","colsIntersectIds","beforeFiltered","afterFiltered","csAfter","csBefore","gridCol","oldList","aHasIndex","bHasIndex","oldIndexA","oldIndexB","aHasOldIndex","ColumnMoveService","moveColumnByIndex","moveColumns","columnsToMoveKeys","doesMovePassRules","columnsToMove","proposedColumnOrder","getProposedColumnOrder","doesOrderPassRules","gridOrder","doesMovePassLockedPositions","isRtl","lastPlacement","rulePassed","placement","lockPositionToPlacement","allColumnsCopy","marryChildren","newIndexes","newColIndex","normal","right","reUnescapedHtml","HTML_ESCAPES","_escapeString","toEscape","skipEscapingHtmlChars","stringResult","replace","chr","_camelCaseToHyphenated","camelCase","toLocaleLowerCase","ColumnNameService","expressionService","getDisplayNameForColumn","includeAggFunc","getHeaderName","wrapHeaderNameWithAggFunc","getDisplayNameForProvidedColumnGroup","providedColumnGroup","getDisplayNameForColumnGroup","getProvidedColumnGroup","headerValueGetter","evaluate","_camelCaseToHumanText","word","pivotValueColumn","aggFuncFound","isCollapsedHeaderEnabled","isTotalColumn","pivotTotalColumnIds","measureActive","aggregationPresent","aggFuncString","getLocaleTextFunc","PivotResultColsService","isPivotResultColsPresent","lookupPivotResultCol","pivotKeys","valueColKey","valueColumnToFind","foundColumn","thisPivotKeys","setPivotResultCols","balancedTreeResult","previousPivotResultCols","hasPreviousCols","groupCallback","searchForColDefs","colDefs2","ColumnSizeService","setColumnWidths","columnWidths","shiftKey","sets","columnWidth","ratios","otherCol","getColAfter","widthDiff","otherColWidth","resizeColumnSets","resizeSets","columnResizeSet","checkMinAndMaxWidthsForSet","changedCols","allResizedCols","newWidths","finishedCols","finishedColsGrew","loopCount","subsetCols","subsetRatioTotal","pixelsToDistribute","ratioScale","colNewWidth","round","atLeastOneColChanged","flexedCols","refreshFlexedColumns","resizingCols","skipSetLeft","setLeftValues","updateBodyWidths","colsForEvent","minWidthAccumulated","maxWidthAccumulated","maxWidthActive","viewportWidth","flexViewportWidth","displayedCenterCols","getCenterCols","flexAfterDisplayIndex","allResizingCols","knownColumnsWidth","flexingColumns","minimumFlexedWidth","totalFlex","flexingColumnSizes","spaceForFlexingColumns","outer","spacePerFlex","widthByFlexRule","constrainedWidth","remainingSpace","fireResizedEvent","sizeColumnsToFit","gridWidth","limitsMap","columnLimits","dimensions","doColumnsAlreadyFit","colsToSpread","colsToNotSpread","suppressSizeToFit","colsToDispatchEventFor","finishedResizing","moveToNotSpread","widthOverride","minOverride","defaultMinWidth","maxOverride","defaultMaxWidth","colWidth","availablePixels","scale","pixelsForLastCol","colMinWidth","colMaxWidth","propColumnLimits","getGridBodyCtrl","createUniqueColumnGroupId","AgColumnGroup","partId","displayedChildren","allLeafColumns","checkLeft","lastChildLeft","firstChildLeft","getPartId","groupActualWidth","groupChild","addChild","getDisplayedChildren","getDisplayedLeafColumns","addDisplayedLeafColumns","calculateDisplayedColumns","parentWithExpansion","GroupInstanceIdCreator","existingIds","getInstanceIdForKey","lastResult","VisibleColsService","colsAndGroupsMap","columnsLeft","columnsRight","columnsCenter","bodyWidth","leftWidth","rightWidth","bodyWidthDirty","skipTreeBuild","buildTrees","updateOpenClosedVisibilityInColumnGroups","pickDisplayedCols","treeLeft","treeCenter","treeRight","joinColsAriaOrder","joinCols","autoHeightCols","setFirstRightAndLastLeftPinned","visibleCols","newBodyWidth","newLeftWidth","newRightWidth","setLeftValuesOfCols","setLeftValuesOfGroups","lastLeft","firstRight","leftCols","rightCols","centerCols","idCreator","createGroups","oldDisplayedGroups","updateColsAndGroupsMap","ariaOrderColumns","allColumns","pinnedLeft","center","pinnedRight","getAriaColIndex","colOrGroup","getAllAutoHeightCols","doingRtl","_removeAllFromUnorderedArray","getColsCenter","getAllTrees","getTreeLeft","getTreeRight","getTreeCenter","isColDisplayed","getLeftColsForRow","getColsForRow","getRightColsForRow","displayedColumns","emptySpaceBeforeColumn","lastConsideredCol","maxAllowedColSpan","columnsToCheckFilter","colsToRemove","filterPasses","colForFilter","getBodyContainerWidth","getContainerWidth","getLeftCols","getRightCols","getColBefore","getGroupAtDirection","direction","requiredLevel","colGroupLeafColumns","getDisplayColMethod","groupPointer","getColGroupAtLevel","originalGroupLevel","groupPointerLevel","isPinningLeft","isPinningRight","depthFirstAllColumnTreeSearch","getFirstColumn","queryOrder","container","getColumnGroup","allColumnGroups","checkPartId","matched","isBodyWidthDirty","setBodyWidthDirty","getColsLeftWidth","getDisplayedColumnsRightWidth","isColAtEdge","edge","isFirst","columnToCompare","isStandaloneStructure","oldColumnsMapped","mapOldGroupsById","topLevelResultCols","groupsOrColsAtCurrentLevel","currentlyIterating","lastGroupedColIdx","createGroupToIndex","to","previousNode","previousNodeParent","newGroup","createColGroup","thisNode","thisNodeParent","setupParentsIntoCols","groupInstanceIdCreator","displayedGroups","recursive","columnsOrGroups","columnOrGroup","columnsOrGroup","useDisplayedChildren","PUBLIC_EVENTS","ALL_EVENTS","INITIAL_GRID_OPTION_KEYS","reactiveCustomComponents","_PropertyKeys","STRING_PROPERTIES","OBJECT_PROPERTIES","ARRAY_PROPERTIES","NUMBER_PROPERTIES","BOOLEAN_PROPERTIES","OTHER_PROPERTIES","FUNCTION_PROPERTIES","ALL_PROPERTIES","PropertyKeys","_ComponentUtil","getCallbackForEvent","VUE_OMITTED_PROPERTY","EVENT_CALLBACKS","ALL_PROPERTIES_AND_CALLBACKS","ALL_PROPERTIES_AND_CALLBACKS_SET","ComponentUtil","component","mergedOptions","gridChanges","hasChanges","setupCompBean","ctrl","compBean","CssClassManager","cssClassStates","addCssClass","className","cls","eGui","classList","removeCssClass","containsCssClass","contains","addOrRemoveCssClass","addOrRemove","toggle","_toggleAriaAttribute","attribute","_removeAriaAttribute","_setAriaAttribute","setAttribute","_ariaAttributeName","removeAttribute","_setAriaRole","role","_setAriaLabel","label","_setAriaLabelledBy","labelledBy","_setAriaLive","live","_setAriaHidden","hidden","_setAriaExpanded","_setAriaRowIndex","_setAriaColIndex","colIndex","_setAriaSelected","selected","_getAriaCheckboxStateName","translate","FOCUSABLE_EXCLUDE","_isFocusableFormField","matches","Element","msMatchesSelector","isFocusable","isNotFocusable","isElementVisible","_isVisible","_setDisplayed","displayed","skipAriaHidden","_setDisabled","disabled","attributeName","addOrRemoveDisabledAttribute","_nodeListForEach","querySelectorAll","input","_isElementChildOfClass","maxNest","counter","_getElementSize","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","boxSizing","getComputedStyle","parseFloat","_getInnerHeight","_getInnerWidth","_getAbsoluteHeight","_getAbsoluteWidth","_getElementRectWithOffset","offsetElementRect","getBoundingClientRect","top","bottom","_getScrollLeft","rtl","scrollLeft","abs","_setScrollLeft","_clearElement","removeChild","_isInDOM","offsetParent","checkVisibility","checkVisibilityCSS","visibility","_loadTemplate","tempDiv","innerHTML","_ensureDomOrder","eContainer","eChild","eChildBefore","nextSibling","insertBefore","appendChild","insertAdjacentElement","_setDomChildOrder","orderedChildren","correctCellAtIndex","actualCellAtIndex","_addStylesToElement","parsedKey","valueAsString","parsedValue","style","setProperty","_setElementWidth","removeProperty","_setFixedWidth","_formatSize","_setFixedHeight","maxHeight","minHeight","_isNodeOrElement","o","Node","_addOrRemoveAttribute","nodeList","action","isSafari","safariVersion","isChrome","isFirefox","isMacOs","isIOS","invisibleScrollbar","browserScrollbarWidth","maxDivHeight","NumberSequence","initValue","nextValue","next","valToReturn","peek","skip","_isBrowserSafari","test","navigator","userAgent","_getSafariVersion","versionMatch","match","_isBrowserFirefox","_isMacOsUserAgent","platform","_isIOSUserAgent","maxTouchPoints","_browserSupportsPreventScroll","_getTabIndex","numberTabIndex","getAttribute","initScrollbarWidthAndVisibility","div","opacity","overflow","msOverflowStyle","offsetWidth","clientWidth","_isInvisibleScrollbar","TooltipStateManager","_TooltipStateManager","parentComp","tooltipShowDelayOverride","tooltipHideDelayOverride","shouldDisplayTooltip","interactionEnabled","isInteractingWithTooltip","tooltipInstanceCount","popupService","userComponentFactory","getTooltipTrigger","mouseenter","onMouseEnter","mouseleave","onMouseLeave","focusin","onFocusIn","focusout","onFocusOut","mousemove","onMouseMove","mousedown","onMouseDown","keydown","onKeyDown","getGridOptionsTooltipDelay","delayOption","getTooltipDelay","setToDoNothing","trigger","interactiveTooltipTimeoutId","unlockService","startHideTimeout","isLocked","showTooltipTimeoutId","prepareToShowTooltip","lastMouseEvent","tooltipComp","positionTooltip","lockService","relatedTarget","parentCompGui","tooltipGui","mouseEvent","isLastTooltipHiddenRecently","showTooltip","now","lastTooltipHideTime","fromHideTooltip","hideTooltip","onBodyScrollEventCallback","onColumnMovedEventCallback","onDocumentKeyDownCallback","clearTimeouts","getTooltipParams","newTooltipComponentCallback","getTooltipCompDetails","newAgStackInstance","forceHide","destroyTooltipComp","parentGui","tooltipInstanceCopy","addPopupRes","addPopup","ariaLabel","tooltipPopupDestroyFunc","hideFunc","tooltipMouseEnterListener","tooltipMouseLeaveListener","onTooltipMouseEnter","onTooltipMouseLeave","tooltipFocusInListener","tooltipFocusOutListener","onTooltipFocusIn","onTooltipFocusOut","isTooltipFocused","ePopup","nudgeY","skipObserver","positionPopupUnderMouseEvent","positionPopupByComponent","eventSource","keepWithinBounds","clearTooltipListeners","clearInteractiveTimeout","clearHideTimeout","hideTooltipTimeoutId","clearShowTimeout","TooltipFeature","refreshToolTip","setBrowserTooltip","updateTooltipText","getTooltipValue","createTooltipFeatureIfNeeded","tooltipManager","getTooltipShowDelayOverride","getTooltipHideDelayOverride","browserTooltips","getLocation","getRowIndex","getTooltipText","valueFormatted","getValueFormatted","hideTooltipCallback","compIdSequence","RefPlaceholder","Component","_Component","componentSelectors","suppressDataRefValidation","compId","cssClassManager","selector","setTemplate","preConstruct","usingBrowserTooltips","wireTemplate","paramsMap","applyElementsToComponent","createChildComponentsFromTags","getCompId","tooltipText","setTooltip","newTooltipText","showDelayOverride","hideDelayOverride","tooltipFeature","getDataRefAttribute","elementRef","newComponent","_copyNodeList","childNodes","childComp","createComponentFromElement","childComp2","copyAttributesFromNode","addItems","swapComponentForNode","nodeName","isAgGridComponent","componentSelector","elementGettingCreated","setParentComponent","_iterateNamedNodeMap","attr","attributes","eComponent","replaceChild","createComment","activateTabIndex","elements","setTemplateFromElement","getFocusableElement","getAriaElement","parentComponent","getParentComponent","setGui","queryForHtmlElement","cssSelector","querySelector","getContainerAndElement","newChild","prependChild","isDisplayed","_setVisible","setDisplayed","addGuiEventListener","iconNameClassMap","columnGroupClosed","columnSelectClosed","columnSelectOpen","columnSelectIndeterminate","columnMovePin","columnMoveHide","columnMoveMove","columnMoveLeft","columnMoveRight","columnMoveGroup","columnMoveValue","columnMovePivot","dropNotAllowed","groupContracted","groupExpanded","setFilterGroupClosed","setFilterGroupOpen","setFilterGroupIndeterminate","chart","close","cancel","check","first","previous","last","linked","unlinked","colorPicker","groupLoading","menu","menuAlt","maximize","minimize","menuPin","menuValue","menuAddRowGroup","menuRemoveRowGroup","clipboardCopy","clipboardCut","clipboardPaste","pivotPanel","rowGroupPanel","valuePanel","columnDrag","save","csvExport","excelExport","smallDown","smallLeft","smallRight","smallUp","sortAscending","sortDescending","sortUnSort","advancedFilterBuilder","advancedFilterBuilderDrag","advancedFilterBuilderInvalid","advancedFilterBuilderMoveUp","advancedFilterBuilderMoveDown","advancedFilterBuilderAdd","advancedFilterBuilderRemove","chartsMenuEdit","chartsMenuAdvancedSettings","chartsMenuAdd","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","ICONS","_createIconNoSpan","iconName","forceCreate","userProvidedIcon","optionsIcons","span","cssClass","rendererResult","Error","DragAndDropImageComponent","dragSource","eIcon","eLabel","create","_createIcon","iconContents","eResult","dropIconMap","move","notAllowed","setIcon","shake","getDefaultIconName","setLabel","textContent","_areEventsNear","e1","e2","pixelCount","diffX","clientX","diffY","clientY","TouchListener","preventMouseClick","DOUBLE_TAP_MILLIS","touching","startListener","onTouchStart","moveListener","onTouchMove","endListener","onTouchEnd","getActiveTouch","touchList","identifier","touchStart","touchEvent","touches","moved","touchStartCopy","touch","checkForDoubleTap","cancelable","preventDefault","lastTapTime","makeSpan","dataRefSuffix","classSuffix","SortIndicatorTemplate","SortIndicatorComp","skipTemplate","eSortOrder","eSortAsc","eSortDesc","eSortMixed","eSortNone","attachCustomElements","setupSort","suppressOrder","setupMultiSortIndicator","addInIcon","updateIcons","sortUpdated","eParent","updateSortOrder","sortDirection","getDisplaySortForColumn","alwaysHideNoSort","isColumnShowingRowGroup","updateMultiSortIndicator","isMixedSort","allColumnsWithSorting","getColumnsWithSortingOrdered","indexThisCol","getDisplaySortIndexForColumn","moreThanOneColSorting","SortIndicatorSelector","HeaderComp","eFilter","eFilterButton","eSortIndicator","eMenu","eText","lastMovingChanged","menuService","oldParams","workOutTemplate","currentTemplate","workOutShowMenu","currentShowMenu","workOutSort","currentSort","shouldSuppressMenuHide","currentSuppressMenuHide","enableFilterButton","enableFilterIcon","setDisplayName","setupTap","setMenu","setupFilterIcon","setupFilterButton","currentDisplayName","displayName","displayNameSanitised","touchListener","tapMenuButton","menuTouchListener","enableMenu","showMenuFn","showColumnMenuAfterMouseClick","n","enableSorting","tap","progressSort","filterButtonTouchListener","showFilter","isHeaderMenuButtonEnabled","isHeaderMenuButtonAlwaysShowEnabled","isLegacyMenu","isLegacyMenuEnabled","click","showColumnMenu","onMenuKeyboardShortcut","isFilterShortcut","isFilterMenuInHeaderEnabled","movingChanged","movedRecently","multiSort","ctrlKey","metaKey","onSortingChanged","isMultiSorting","sourceCol","configureFilter","onFilterChangedIcon","onFilterChangedButton","enabled","filterChangedCallback","filterPresent","getAnchorElementForMenu","isFilter","HeaderGroupComp","agOpened","agClosed","agLabel","checkWarnings","setupLabel","addGroupExpandIcon","setupExpandIcons","expandAction","newExpandedValue","addTouchAndClickListeners","stopPropagationAction","dblclick","updateIconVisibility","updateIcon","expandedChanged","expandableChanged","suppressStickyLabel","AnimateShowChangeCellRenderer","refreshCount","delta","eValue","eDelta","showDelta","absDelta","formatValue","valueToUse","deltaUp","setTimerToRemoveDelta","refreshCountCopy","hideDeltaValue","isInitialRender","lastValue","isSuppressFlashingCellsBecauseFiltering","AnimateSlideCellRenderer","slide","eCurrent","addSlideAnimation","ePrevious","prevElement","KeyCode","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","DELETE","F2","PAGE_UP","PAGE_DOWN","PAGE_HOME","PAGE_END","A","C","D","V","X","Y","Z","AgAbstractLabel","config","labelSeparator","labelAlignment","labelWidth","setDisabled","setLabelSeparator","setLabelWidth","setLabelAlignment","refreshLabel","innerText","getLabelId","getLabel","alignment","eGuiClassList","setLabelEllipsis","hasEllipsis","isDisabled","AgAbstractField","onValueChange","setWidth","setValue","refreshAriaLabelledBy","ariaEl","labelId","_getAriaLabel","setAriaLabel","callbackFn","fieldValueChanged","getValue","getWidth","getPreviousValue","AgAbstractInputField","inputType","displayFieldTag","eWrapper","eInput","setInputType","inputName","inputWidth","setInputName","setInputWidth","addInputListeners","getInputElement","setMaxLength","maxLength","setInputPlaceholder","placeholder","setInputAriaLabel","setAutoComplete","AgCheckbox","readOnly","setReadOnly","setPassive","onCheckboxClick","getNextValue","isReadOnly","dispatchChange","refreshSelectedClass","setSelected","setName","checked","indeterminate","AgCheckboxSelector","CheckboxCellRenderer","eCheckbox","inputEl","onCheckboxChanged","eGridCell","updateCheckbox","aggData","stateName","rowPinned","valueChanged","setDataValue","oldValue","LoadingCellRenderer","eLoadingIcon","eLoadingText","failedLoad","setupFailed","setupLoading","localeTextFunc","SkeletonCellRenderer","eParentOfValue","ariaFailed","skeletonEffect","sin","cos","ariaLoading","OverlayComponent","LoadingOverlayComponent","customTemplate","NoRowsOverlayComponent","PopupComponent","isPopup","TooltipComponent","_fuzzySuggestions","inputValue","allSuggestions","hideIrrelevant","filterByPercentageOfBestMatch","addSequentialWeight","thisSuggestions","text","relevance","levenshteinDistance","toLowerCase","suggestion","limit","indices","str1","str2","len1","len2","m","fill","distance","weight","substrings","getAllSubstrings","str","len","currentSubstring","UserComponentRegistry","agGridDefaults","agDragAndDropImage","agColumnHeader","agColumnGroupHeader","agSortIndicator","agAnimateShowChangeCellRenderer","agAnimateSlideCellRenderer","agLoadingCellRenderer","agSkeletonCellRenderer","agCheckboxCellRenderer","agLoadingOverlay","agNoRowsOverlay","agTooltipComponent","agGridDefaultParams","enterpriseAgDefaultCompsModule","agSetColumnFilter","agSetColumnFloatingFilter","agMultiColumnFilter","agMultiColumnFloatingFilter","agGroupColumnFilter","agGroupColumnFloatingFilter","agGroupCellRenderer","agGroupRowRenderer","agRichSelect","agRichSelectCellEditor","agDetailCellRenderer","agSparklineCellRenderer","jsComps","comps","registerJsComponent","registerDefaultComponent","retrieve","propertyName","createResult","componentFromFramework","registeredViaFrameworkComp","frameworkComponent","jsComponent","defaultComponent","moduleForComponent","assertModuleRegistered","warnAboutMissingComponent","componentName","suggestions","includes","getDocLink","AgPromise","_AgPromise","status","resolution","waiters","onDone","onReject","all","promises","remainingToResolve","combinedValues","promise","waiter","DateComponent","DragAndDropImageComponent2","HeaderComponent","HeaderGroupComponent","CellRendererComponent","EditorRendererComponent","LoadingCellRendererComponent","CellEditorComponent","InnerRendererComponent","LoadingOverlayComponent2","NoRowsOverlayComponent2","TooltipComponent2","FilterComponent","FloatingFilterComponent","ToolPanelComponent","StatusPanelComponent","FullWidth","FullWidthLoading","FullWidthGroup","FullWidthDetail","MenuItemComponent","UserComponentFactory","_UserComponentFactory","agComponentUtils","componentMetadataProvider","userComponentRegistry","getDragAndDropImageCompDetails","getCompDetails","getHeaderCompDetails","getHeaderGroupCompDetails","getFullWidthCellRendererDetails","getFullWidthLoadingCellRendererDetails","getFullWidthGroupCellRendererDetails","getFullWidthDetailCellRendererDetails","getInnerRendererDetails","getFullWidthGroupRowInnerCellRenderer","getCellRendererDetails","getEditorRendererDetails","getLoadingCellRendererDetails","getCellEditorDetails","getFilterDetails","defaultFilter","getDateCompDetails","getLoadingOverlayCompDetails","getNoRowsOverlayCompDetails","getSetFilterCellRendererDetails","getFloatingFilterCompDetails","defaultFloatingFilter","getToolPanelCompDetails","toolPanelDef","getStatusPanelCompDetails","getMenuItemCompDetails","defObject","defaultName","mandatory","defaultCompParams","compName","jsComp","fwComp","paramsFromSelector","popupFromSelector","popupPositionFromSelector","getCompKeys","lookupFromRegistry","doesImplementIComponent","adaptFunction","paramsMerged","mergeParamsWithApplicationProvidedParams","componentClass","defObjectAny","selectorFunc","selectorRes","assignComp","providedJsComp","popup","popupPosition","ComponentClass","thisComponentConfig","mandatoryMethodList","optionalMethodList","deferredInit","initComponent","paramsFromGrid","getGridCommonParams","userParams","_unwrapUserComp","ModuleRegistry","_ModuleRegistry","register","module","__register","registerModules","__registerModules","moduleBased","runVersionChecks","areGridScopedModules","gridModulesMap","globalModulesMap","setModuleBased","__unRegisterGridModules","isValidModuleVersion","moduleMajor","moduleMinor","currentModuleMajor","currentModuleMinor","currentModuleVersion","errorMsg","validate","isValid","__setIsBundled","isBundled","__assertRegistered","reason","__isRegistered","warningMessage","modName","v","__getRegisteredModules","__getGridRegisteredModules","__isPackageBased","GenericContext","createdBeans","beanClasses","beanDestroyComparator","beanInstance","BeanClass","derivedBeans","beanFunc","beanInitComparator","initBeans","getBeanInstances","beanInstances","getBeans","getBean","isDestroyed","Context","getGridId","HorizontalDirection","HorizontalDirection2","Left","Right","DragAndDropService","dragSourceAndParamsList","dropTargets","dragService","mouseEventService","addDragSource","allowTouch","dragStartPixels","onDragStart","onDragStop","onDragging","onDragCancel","includeTouch","getDragAndDropImageComponent","dragAndDropImageComp","removeDragSource","sourceAndParams","clearDragAndDropProperties","nudge","dragging","eventLastTime","dragItem","getDragItem","onDragStarted","createDragAndDropImageComponent","onDragStopped","lastDropTarget","draggingEvent","createDropTargetEvent","onDragCancelled","removeDragAndDropImageComponent","fromNudge","hDirection","getHorizontalDirection","vDirection","getVerticalDirection","positionDragAndDropImageComp","validDropTargets","isMouseOnDropTarget","dropTarget","findCurrentDropTarget","leaveLastTargetIfExists","onGridExit","onGridEnter","enterDragTargetIfExists","getIconName","resolvedComponent","getAllContainersFromDropTarget","secondaryContainers","getSecondaryContainers","containers","getContainer","allContainersIntersect","allContainersFromDropTarget","mouseOverTarget","currentContainers","targetContainsSource","isInterestedIn","elementStack","elementsFromPoint","onDragEnter","dragEnterEvent","onDragLeave","dragLeaveEvent","addDropTarget","removeDropTarget","hasExternalDropZones","zones","external","findExternalZone","zone","isDropZoneWithinThisGrid","gridGui","dropZoneTarget","eClientX","eClientY","rect","x","y","browserWidth","_getBodyWidth","innerHeight","documentElement","browserHeight","_getBodyHeight","clientHeight","offsetParentSize","win","windowScrollY","pageYOffset","scrollTop","windowScrollX","pageXOffset","dragAndDropImageParent","processDragAndDropImageComponent","stampTopLevelGridCompWithGridInstance","applyThemeClasses","dragItemName","targetEl","fullscreenElement","ShadowRoot","Document","AutoScrollService","tickingInterval","onScrollCallback","scrollContainer","scrollHorizontally","scrollAxis","scrollVertically","scrollByTick","getVerticalPosition","setVerticalPosition","getHorizontalPosition","setHorizontalPosition","shouldSkipVerticalScroll","shouldSkipHorizontalScroll","forceSkipVerticalScroll","skipVerticalScroll","scrollTick","tickLeft","tickRight","tickUp","tickDown","ensureTickingStarted","ensureCleared","setInterval","doTick","tickCount","tickAmount","vScrollPosition","hScrollPosition","clearInterval","RowHighlightPosition2","RowDragFeature","dragAndDropService","pageBoundsService","focusService","rangeService","whenReady","gridBodyCon","gridBodyCtrl","autoScrollService","getBodyViewportElement","getScrollFeature","getVScrollPosition","setVerticalScrollPosition","lastDraggingEvent","shouldPreventRowMove","isAnyFilterPresent","isSortActive","getRowNodes","isFromThisGrid","currentNode","selectedNodes","getSelectedNodes","getRowIndexNumber","dispatchGridEvent","setDragging","onEnterOrDragging","dragSourceDomDataKey","getNormalisedPosition","doManagedDrag","managedDrag","moveRows","rowIndexStr","getRowIndexString","moveRowAndClearHighlight","lastHighlightedRowNode","isBelow","clearRowHighlight","clearFocusedCell","removeAllCellRanges","addRowDropZone","processedParams","fromGrid","draggingToRowDragEvent","getRowDropZone","yNormalised","overNode","vDirectionString","overIndex","getCurrentPageHeight","stopDragging","DragService","dragEndFunctions","dragSources","removeListener","dragSourceAndListener","mouseDownListener","touchEnabled","touchStartListener","isDragging","mouseListener","stopPropagationForTouch","stopPropagation","getStartTarget","startTarget","currentDragParams","touchLastTime","touchEndEvent","onTouchUp","addTemporaryEvents","onCommonMove","skipMouseEvent","_alreadyProcessedByDragService","button","shouldPreventMouseEvent","mouseStartEvent","onMouseUp","cancelDrag","currentEvent","isEventNearStartEvent","startEvent","getFirstActiveTouch","getSelection","removeAllRanges","isEventFromThisGrid","isOverFormFieldElement","tagName","changedTouches","onUpCommon","eventOrTouch","resetDragProperties","RowDragComp","cellValueFn","customGui","suppressVisibilityChange","isCustomGui","setDragElement","checkCompatibility","strategy","ManagedVisibilityStrategy","NonManagedVisibilityStrategy","dragElement","managed","defaultTextValue","getRowDragText","removeMouseDownListener","dragItemCount","VisibilityStrategy","setDisplayedOrVisible","neverDisplayed","displayedOptions","shown","isShownSometimes","onSuppressRowDrag","workOutVisibility","dataChanged","cellChanged","rowDragFeature","getRowDragFeature","IGNORED_SIBLING_PROPERTIES","_RowNode","treeNode","treeNodeFlags","oldRowTop","__objectId","OBJECT_ID_SEQUENCE","__autoHeights","alreadyRendered","hovered","setData","setDataCommon","oldData","updateDataOnDetailNode","checkRowSelectable","resetQuickFilterAggregateText","createDataChangedEvent","ID_PREFIX_TOP_PINNED","ID_PREFIX_BOTTOM_PINNED","createDaemonNode","oldNode","__daemon","setId","syncInRowNode","isRowSelectableFunc","setRowSelectable","newVal","suppressSelectionUpdate","dispatchRowEvent","calculateSelectedFromChildren","setSelectedParams","parentKeys","getRoute","setHovered","setGroup","setRowAutoHeight","cellHeight","checkAutoHeightsDebounced","checkAutoHeights","notAllPresent","nonePresent","newRowHeight","autoHeights","activeColsForRow","getColsWithinViewport","forceSync","createGlobalRowEvent","rowNodeEventThrottle","dispatchExpanded","rowRenderer","refreshCells","colKey","valueService","getValueForDisplay","dispatchCellChangedEvent","groupData","columnId","setAggData","newAggData","oldAggData","eventFunc","isTreeData","isGroupFunc","stub","__hasChildren","cellChangedEvent","quickFilterAggregateText","depthFirstSearch","atLeastOneSelected","atLeastOneDeSelected","childState","setSelectedInitialValue","selectThisNode","clearSelection","rangeSelect","isRowPinned","isFullWidthCell","isFullWidthCellFunc","footerNode","childIndex","setAllChildrenCount","FilterWrapperComp","filterWrapper","createFilter","filterDestroyed","onFilterDestroyed","hasFilter","getFilter","filterPromise","afterInit","afterGuiAttached","afterGuiDetached","getOrCreateFilterWrapper","guiFromFilter","RESIZE_CONTAINER_STYLE","makeDiv","dataRefPrefix","RESIZE_TEMPLATE","PositionableFeature","dragStartPosition","lastSize","positioned","resizersAdded","resizeListeners","boundaryEl","isResizing","movable","currentResizer","resizeObserverService","getHeight","offsetElement","initialisePosition","centered","forcePopupParentAsOffsetParent","setOffsetParent","computedMinHeight","computedMinWidth","findBoundaryElement","offsetParentComputedStyles","paddingWidth","paddingHeight","offsetHeight","setHeight","refreshSize","initialisedDuringPositioning","setPosition","isPositioned","getPosition","setMovable","moveElement","moveElementDragListener","onMoveStart","onMove","onMoveEnd","setResizable","clearResizeListeners","addResizers","removeResizers","topLeft","topRight","bottomRight","bottomLeft","side","isSideResizable","resizerEl","getResizerElement","onResizeStart","onResize","onResizeEnd","pointerEvents","removeSizeFromEl","restoreLastSize","isPercent","availableHeight","getAvailableHeight","elRect","offsetParentRect","yPosition","parentTop","additionalHeight","parentEl","xPosition","positionPopup","updatePosition","constrainSizeToAvailableHeight","constrain","resizeObserverSubscriber","observeResize","getPopupParent","applyMaxHeightToElement","updateDragStartPosition","calculateMouseMovement","isLeft","isTop","anywhereWithin","topBuffer","xDiff","yDiff","movementX","shouldSkipX","movementY","shouldSkipY","diff","parentRect","boundaryElRect","skipX","skipY","createResizeMap","resizerMap","resizers","DOMParser","parseFromString","isRight","isBottom","applySizeToSiblings","getSiblings","getMinSizeOfSiblings","currentEl","isFlex","nextHeight","nextWidth","computedStyle","vertical","containerToFlex","isHorizontal","isVertical","offsetLeft","offsetTop","oldWidth","skipWidth","oldHeight","skipHeight","calculateTopBuffer","ManagedFocusFeature","_ManagedFocusFeature","eFocusableElement","shouldStopEventPropagation","onTabKeyDown","defaultPrevented","nextRoot","findNextFocusableElement","focus","FOCUS_MANAGED_CLASS","addKeyDownListeners","handleKeyDown","FILTER_LOCALE_TEXT","applyFilter","clearFilter","resetFilter","cancelFilter","textFilter","numberFilter","dateFilter","setFilter","filterOoo","empty","equals","notEqual","lessThan","greaterThan","inRange","inRangeStart","inRangeEnd","lessThanOrEqual","greaterThanOrEqual","notContains","endsWith","blank","notBlank","before","after","andCondition","orCondition","dateFormatOoo","getDebounceMs","debounceDefault","isUseApplyButton","debounceMs","buttons","ProvidedFilter","filterNameKey","applyActive","hidePopup","debouncePending","appliedModel","eFilterBody","buttonListeners","resetTemplate","positionableFeature","getPositionableElement","getFilterTitle","onFormSubmit","templateString","getCssIdentifier","createBodyTemplate","getAgComponents","providedFilterParams","setParams","resetUiToDefaults","updateUiVisibility","setupOnBtApplyDebounce","resetButtonsPanel","updateParams","resetUiToActiveModel","getModel","newParams","oldButtons","oldReadOnly","hasButtons","eButtonsPanel","fragment","createDocumentFragment","addButton","clickListener","onBtApply","onBtClear","onBtReset","onBtCancel","append","getDefaultDebounceMs","debounceFunc","checkApplyDebounce","onBtApplyDebounce","setModel","model","setModelIntoUi","applyModel","handleCancelEnd","closeOnApply","currentModel","afterUiUpdatedFunc","afterAppliedFunc","onUiChanged","newModel","getModelFromUi","isModelValid","previousModel","areModelsEqual","afterFloatingFilter","onNewRowsLoaded","keyboardEvent","fromFloatingFilter","filterModifiedCallback","applyFilterButton","refreshFilterResizer","containerType","getCellValue","AgRadioButton","checkboxChanged","onChange","AgList","cssIdentifier","unFocusable","activeClass","itemEls","clearHighlighted","highlightedEl","setValueByIndex","navigate","navigateToPage","isDown","itemToHighlight","nextPos","highlightItem","currentIdx","rowCount","itemHeight","pageSize","newIndex","addOptions","listOptions","listOption","addOption","valueToRender","renderOption","updateIndices","clearOptions","itemEl","option","_setAriaPosInSet","_setAriaSetSize","setsize","mouseover","scrollWidth","fireItemSelected","displayValue","fireChangeEvent","getDisplayValue","refreshHighlighted","scrollIntoView","block","AgPickerField","agComponents","isPickerDisplayed","skipClick","pickerGap","hideCurrentPicker","eDisplayField","ariaRole","onPickerFocusIn","onPickerFocusOut","maxPickerHeight","variableWidth","minPickerWidth","maxPickerWidth","setPickerMaxHeight","setPickerMinWidth","setPickerMaxWidth","setupAria","displayId","onLabelOrWrapperMouseDown","pickerIcon","focusableEl","hidePicker","showPicker","pickerComponent","createPickerComponent","pickerGui","renderAndPositionPicker","toggleExpandedStyles","ePicker","destroyMouseWheelFunc","pickerAriaLabelKey","pickerAriaLabelValue","modalPicker","popupParams","modal","closeOnEsc","closedCallback","shouldRestoreFocus","beforeHidePicker","anchorToElement","alignPickerToComponent","pickerType","alignSide","togglePickerHasFocus","focused","setPickerGap","gap","AgSelect","createListComponent","onWrapperFocusOut","listComponent","eListAriaEl","listId","_setAriaControls","controllerElement","controlledElement","selectedItem","fromPicker","AgSelectSelector","OptionsFactory","customFilterOptions","defaultOptions","filterOptions","mapCustomOptions","selectDefaultItem","getFilterOptions","filterOption","displayKey","defaultOption","firstFilterOption","getDefaultOption","getCustomOption","SimpleFilter","eTypes","eJoinOperatorPanels","eJoinOperatorsAnd","eJoinOperatorsOr","eConditionBodies","lastUiCompletePosition","joinOperatorId","getNumberOfInputs","customOpts","optionsFactory","numberOfInputs","onFloatingFilterChanged","setTypeFromFloatingFilter","setValueFromFloatingFilter","eType","conditions","getUiCompleteConditions","maxNumConditions","filterType","getFilterType","operator","getJoinOperator","getConditionTypes","getConditionType","defaultJoinOperator","aIsSimple","bIsSimple","areSimpleModelsEqual","aModel","bModel","shouldRefresh","newOptionsList","getDefaultFilterOptions","condition","removeConditionsAndOperators","createOption","combinedModel","numConditions","validateAndUpdateConditions","numPrevConditions","getNumConditions","createJoinOperatorPanel","orChecked","eJoinOperatorAnd","eJoinOperatorOr","setConditionIntoUi","simpleModel","createMissingConditionsAndOperators","doesFilterPass","models","individualConditionPasses","setNumConditions","getDefaultJoinOperator","filterPlaceholder","createFilterListOptions","numAlwaysVisibleConditions","eConditionBody","createValueElement","putOptionsIntoDropdown","resetType","forEachPositionInput","resetInput","addChangedListeners","eJoinOperatorPanel","createJoinOperator","uniqueGroupId","resetJoinOperatorAnd","resetJoinOperatorOr","eJoinOperators","andOr","eJoinOperator","filterListOptions","createBoilerplateListOption","createCustomListOption","customOption","joinOperator","updateNumConditions","updateConditionStatusesAndValues","areAllConditionsUiComplete","isConditionUiComplete","shouldAddNewConditionAtEnd","activePosition","removeStartPosition","numConditionsToRemove","isConditionDisabled","isConditionBodyVisible","forEachInput","setElementDisplayed","setElementDisabled","resetPlaceholder","startPosition","deleteCount","removeComponents","removeElements","removeValueElements","joinOperatorIndex","removeItems","suppressFocus","firstInput","getInputs","updatedLastUiCompletePosition","conditionsRemoved","positionBeforeLastUiCompletePosition","shouldUpdateConditionStatusesAndValues","updateJoinOperatorsDisabled","getPlaceholderText","defaultPlaceholder","filterPlaceholderFn","filterOptionKey","globalTranslate","setElementValue","attachElementOnChange","cb","forEachPositionTypeInput","getValues","createCondition","filteringLabel","resetJoinOperator","isDefaultOperator","updateJoinOperatorDisabled","mapValuesFromModel","elPosition","filterModel","cellValue","customFilterOption","evaluateCustomFilter","evaluateNullValue","evaluateNonNullValue","predicate","isBlank","hasInvalidInputs","ScalarFilter","scalarFilterParams","includeBlanksInEquals","includeBlanksInNotEqual","includeBlanksInGreaterThan","includeBlanksInLessThan","includeBlanksInRange","compareResult","compareToResult","inRangeInclusive","_isEventFromPrintableCharacter","altKey","_isUserSuppressingKeyboardEvent","editing","colDefFunc","suppressKeyboardEvent","AgInputTextField","allowedCharPattern","preventDisallowedCharacters","setStartValue","pattern","RegExp","paste","clipboardData","getData","AgInputTextFieldSelector","AgInputNumberField","blur","floatedValue","normalizeValue","wheel","onWheel","precision","setPrecision","setMin","setMax","setStep","adjustPrecision","isScientificNotation","floatString","toFixed","parts","setValueOrInputValue","setValueFunc","setInputValueOnlyFunc","setInputValueOnly","validity","valid","AgInputNumberFieldSelector","DEFAULT_NUMBER_FILTER_OPTIONS","SimpleFilterModelFormatter","valueFormatter","getModelAsString","isCombined","customOptions","joinOperatorTranslateKey","conditionToString","NumberFilterModelFormatter","filterTo","getAllowedCharPattern","filterParams","DEFAULT_TEXT_FILTER_OPTIONS","TextFilterModelFormatter","trimInputForFilter","trimmedInput","parsed","toConstrainedNum","MAX_VALUE","num","_padStartWidthZeros","totalStringSize","padStart","_serialiseDate","date","includeTime","separator","serialised","getFullYear","getMonth","getDate","part","getHours","getMinutes","getSeconds","calculateOrdinal","_dateToFormattedString","format","fullYear","months","days","YYYY","YY","MMMM","MMM","MM","Mo","M","Do","DD","dddd","getDay","ddd","dd","do","regexp","_parseDateTimeFromString","dateStr","timeStr","f","year","month","day","hours","minutes","seconds","setHours","setMinutes","setSeconds","DateCompWrapper","dateComponentParams","onReady","alive","dateComp","tempValue","setDate","setDateCompDisabled","hasRefreshed","onParamsUpdated","DEFAULT_DATE_FILTER_OPTIONS","DateFilterModelFormatter","dateFilterParams","isRange","dateFrom","dateTo","inRangeFloatingFilterDateFormat","DEFAULT_MAX_YEAR","Infinity","SetLeftFeature","eCell","colsSpanning","setColsSpanning","onLeftChanged","getColumnOrGroup","leftChanged","setLeftFirstTime","displayedColumnsWidthChanged","suppressMoveAnimation","oldLeftExists","animateInLeft","oldActualLeft","modifyLeftForPrintLayout","actualLeft","executeNextVMTurn","leftPosition","_setAriaColSpan","_getHeaderClassesFromColDef","getColumnClassesFromCollDef","classesOrFunc","classToUse","getClassParams","refreshFirstAndLastStyles","presentedColsService","instanceIdSequence2","AbstractHeaderCellCtrl","_AbstractHeaderCellCtrl","columnGroupChild","parentRowCtrl","resizeToggleTimeout","resizeMultiplier","resizeFeature","lastFocusEvent","pinnedWidthService","refreshTabIndex","overlayExclusiveChanged","headerRowIndex","getFocusedHeader","_isUserSuppressingHeaderKeyboardEvent","suppressHeaderKeyboardEvent","getWrapperHasFocus","addDomData","onDisplayedColumnsChanged","onGuiFocus","setupAutoHeight","wrapperElement","checkMeasuringCallback","measureHeight","timesCalled","doc","requestAnimationFrame","stopResizeObserver","isMeasuring","checkMeasuring","startMeasuring","stopMeasuring","widthChanged","addResizeAndMoveKeyboardListeners","onGuiKeyDown","keyup","onGuiKeyUp","isHeaderFocusSuppressed","isLeftOrRight","stopImmediatePropagation","getViewportAdjustedResizeDiff","resizeHeader","toggleColumnResizing","moveHeader","getResizeDiff","getPinnedLeftWidth","getPinnedRightWidth","wrapperHasFocus","DOM_DATA_KEY_HEADER_CTRL","getParentRowCtrl","getColumnGroupChild","handleContextMenuMouseEvent","isHeaderContextMenuEnabled","showHeaderContextMenu","dispatchColumnMouseEvent","clearComponent","HoverFeature","addMouseHoverListeners","mouseout","onMouseOut","onMouseOver","clearMouseOver","setMouseOver","definition","MONTH_LOCALE_TEXT","january","february","march","april","may","june","july","august","september","october","november","december","MONTH_KEYS","SimpleFloatingFilter","columnNameService","isEventFromFloatingFilter","isEventFromDataChange","getLastType","lastType","setLastTypeFromModel","canWeEditAfterModelFromParentFilter","isTypeEditable","setSimpleParams","setEditable","doesFilterHaveSingleInput","getAriaLabel","FloatingFilterTextInputService","eFloatingFilterTextInput","valueChangedListener","setupGui","autoComplete","setValueChangedListener","TextInputFloatingFilter","eFloatingFilterInputContainer","onParentModelChanged","floatingFilterInputService","getFilterModelFormatter","setupFloatingFilterInputService","setTextInputParams","createFloatingFilterInputService","browserAutoComplete","toDebounce","syncUpWithParentFilter","recreateFloatingFilterInputService","trimInput","parentFilterInstance","filterInstance","FloatingFilterNumberInputService","numberInputActive","eFloatingFilterNumberInput","eNumberInput","eTextInput","setupListeners","getActiveInputElement","FilterCoreModule","advancedFilterModelUpdateQueue","advancedFilterService","columnFilterService","refreshFiltersForAggregations","updateAdvancedFilterColumns","advancedFilterEnabledChanged","onAdvancedFilterEnabledChanged","dataTypesInferred","processFilterModelUpdateQueue","externalFilterPresent","isExternalFilterPresentCallback","updateAggFiltering","setAdvancedFilterModel","quickFilterChanged","isFilterPresent","setFilterModel","isAdvancedFilterEnabled","warnAdvancedFilters","getFilterModel","isColumnFilterPresent","isAggregateFilterPresent","isQuickFilterPresent","isAdvancedFilterPresent","disableColumnFilters","isEnabled","isAdvancedFilterHeaderActive","isHeaderActive","resetQuickFilterCache","updateBeforeFilterChanged","updateAfterFilterChanged","aggFiltering","isAggregateQuickFilterPresent","shouldApplyQuickFilterAfterAgg","isNonAggregateQuickFilterPresent","doesRowPassOtherFilters","filterToSkip","filterInstanceToSkip","doesRowPassAggregateFilters","doesRowPassQuickFilter","doAggregateFiltersPass","doColumnFiltersPass","getDefaultFloatingFilter","createFilterParams","showParentFilter","getCurrentFloatingFilterParentModel","destroyFilter","areFilterCompsDifferent","oldCompDetails","newCompDetails","getAdvancedFilterModel","expression","isPendingInference","toggleAdvancedFilterBuilder","show","getCtrl","toggleFilterBuilder","force","updateValidity","hasFloatingFilters","getFilterInstance","getColumnFilterInstance","setupAdvancedFilterHeaderComp","eCompToInsertBefore","setupHeaderComp","getColumnFilterModel","setColumnFilterModel","setColDefPropertiesForDataType","dataTypeDefinition","FilterApiModule","ColumnFilterModule","allColumnFilters","allColumnListeners","activeAggregateFilters","activeColumnFilters","processingFilterChange","filterModelUpdateQueue","columnFilterModelUpdateQueue","onColumnsChanged","initialFilterModel","allPromises","modelKeys","setModelOnFilterWrapper","excludeInitialState","getModelFromFilterWrapper","getModelFromInitialState","disposeFilterWrapper","updateActiveFilters","groupFilterEnabled","isAggFilter","isShowingPrimaryColumns","forEachColumnFilter","updateFilterFlagInColumns","targetAggregates","targetedFilters","targetedData","callOnFilterChangedOutsideRenderCycle","isRefreshInProgress","updateDependentFilters","onAnyFilterChanged","createValueGetter","createGetValue","filterColumn","columnToUse","cachedFilter","createFilterWrapper","setColumnFilterWrapper","getDefaultFilter","cellDataType","getBaseDataType","defaultFloatingFilterType","createFilterInstance","filterModifiedCallbackFactory","filterChangedCallbackFactory","doesRowPassOtherFilter","compDetails","r","compiledElement","currentColumn","disposeColumnListener","allFiltersAreGroupFilters","groupColumn","filterComponent","finalFilterParams","getDefaultFloatingFilterType","getFromDefault","multi","number","agNumberColumnFilter","agDateColumnFilter","agTextColumnFilter","currentParentModel","suppressFilterButton","columnListener","checkDestroyFilter","newFilterParams","colDefChanged","oldComponentClass","newComponentClass","render","floatingFilter","getFilterInstanceImpl","unwrapped","getFilterWrapper","usingSetFilter","mergeFilterParams","baseDataType","valA","valB","_filterValues","treeList","treeListFormatter","pathKey","monthKey","convertToDate","dateParser","treeListPathGetter","filterDate","cellAsDate","filterValueGetter","ColumnFilterApiModule","showColumnFilter","showFilterMenu","positionBy","FloatingFilterCoreModule","controllers","classImp","iconCreated","setComp","eButtonShowMainFilter","eFloatingFilterBody","setupActive","setupWidth","setupLeft","setupHover","setupFocus","setupUserComp","setupSyncWithFilter","setupUi","setupFilterChangedListener","onColDefChanged","userCompDetails","setButtonWrapperDisplayed","addOrRemoveBodyCssClass","eMenuIcon","nextFocusableEl","headerNavigationService","scrollToColumn","nextFocusableColumn","findNextColumnWithFloatingFilter","focusHeaderPosition","headerPosition","backwards","nextCol","focusInto","notFromHeaderWrapper","fromWithinHeader","setFocusedHeader","columnHoverChanged","setLeftFeature","isFloatingFilterButtonEnabled","highlightFilterButtonWhenActive","setCompDetails","buttonElement","syncWithFilter","compPromise","getFloatingFilterComp","parentModel","destroySyncListener","destroyFilterChangedListener","updateFilterButton","wasActive","becomeActive","compInstance","updateCompDetails","updateFloatingFilterParams","ReadOnlyFloatingFilterModule","userComponents","eFloatingFilterText","modelAsString","SimpleFloatingFilterModule","defaultFormatter","defaultLowercaseFormatter","defaultMatcher","filterText","lastIndexOf","eValuesFrom","eValuesTo","textFilterParams","matcher","getTextMatcher","formatter","textFormatter","caseSensitive","filterModelFormatter","legacyComparator","textCustomComparator","textMatcher","getValuesWithSideEffects","aSimple","bSimple","applySideEffects","_elPosition","eCondition","createFromToElement","eValues","fromTo","formattedValues","cellValueFormatted","matcherParams","numberFilterParams","processValue","numberFormatter","valueToSet","stringToFloat","numberParser","invalidInputs","eConditionPanelsFrom","eConditionPanelsTo","dateConditionFromComps","dateConditionToComps","minValidYear","maxValidYear","minValidDate","maxValidDate","defaultComparator","yearParser","param","fallback","createDateCompWrapper","dateCompWrapper","onDateChanged","eConditionPanels","dateConditionComps","eConditionPanel","removeDateComps","isValidDateValue","getUTCFullYear","eDateInput","inputElement","mouseDown","usingSafariDatePicker","shouldUseBrowserDatePicker","parsedMinValidDate","parsedMaxValidDate","browserDatePicker","_isBrowserChrome","chrome","webstore","runtime","vendor","eReadOnlyText","eDateWrapper","createDateComponent","updateDateComponent","updateCompOnModelChange","allowEditing","filterValueText","getDateComponentParams","QuickFilterCoreModule","quickFilter","quickFilterParts","resetListener","setQuickFilter","onQuickFilterColumnConfigChanged","parseQuickFilter","parser","setQuickFilterParts","setQuickFilterParserAndMatcher","columnsForQuickFilter","colsForQuickFilter","usingCache","doesRowPassQuickFilterMatcher","doesRowPassQuickFilterCache","doesRowPassQuickFilterNoCache","newFilter","parsedFilter","hasChanged","filterPart","getQuickFilterTextForColumn","checkGenerateQuickFilterAggregateText","getQuickFilterAggregateText","getQuickFilterText","stringParts","FilterModule","getQuickFilter","resetQuickFilter","AbstractHeaderCellComp","HeaderFilterCellComp","eButtonWrapper","cssClassName","on","setMenuIcon","destroyFloatingFilterComp","afterCompCreated","floatingFilterComp","HeaderCellComp","eResize","eHeaderCompWrapper","headerCompVersion","compProxy","setAriaSort","_setAriaSort","_removeAriaSort","setUserCompDetails","getUserCompInstance","headerComp","selectAllGui","getSelectAllGui","destroyHeaderComp","headerCompGui","versionCopy","setDragSource","HeaderGroupCellComp","setHeaderWrapperHidden","setHeaderWrapperMaxHeight","setResizableDisplayed","setAriaExpanded","headerGroupComp","afterHeaderCompCreated","eHeaderGroupGui","addOrRemoveHeaderWrapperStyle","HeaderRowComp","headerComps","getHeaderRowClass","getAriaRowIndex","setTop","setHeaderCtrls","ctrls","forceOrder","oldComps","createHeaderComp","elementsInOrder","headerCtrl","HeaderNavigationService","currentHeaderRowWithoutSpan","headerPositionUtils","visibleColService","setCurrentHeaderRowWithoutSpan","getHeaderRowContainerCtrl","getHeaderPositionForColumn","allCtrls","getAllCtrls","isFloatingFilterVisible","headerRowCount","navigateVertically","fromHeader","rowLen","isUp","nextRow","nextFocusColumn","headerRowIndexWithoutSpan","getColumnVisibleParent","getColumnVisibleChild","skipColumn","allowUserOverride","navigateHorizontally","fromTab","focusedHeader","nextHeader","normalisedDirection","findHeader","focusHeaderPositionFromUserFunc","focusNextHeaderRow","nextRowIndex","nextPosition","findColAtEdgeForHeaderRow","getHeaderIndexToFocus","columnToScrollTo","ensureColumnVisible","GridHeaderCtrl","onPivotModeChanged","setupHeaderHeight","onHeaderContextMenu","contextmenu","mockContextMenuForIPad","setHeaderHeight","columnHeaderHeightChanged","columnGroupHeaderHeightChanged","totalHeaderHeight","groupHeight","curr","setHeightAndMinHeight","shouldAllowOverflow","focusOverlay","focusNextGridCoreContainer","clearFocusedHeader","getViewportElement","longTap","CenterWidthFeature","addSpacer","scrollVisibleService","columnContainerWidthChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","scrollVisibilityChanged","scrollbarWidthChanged","printLayout","centerWidth","totalWidth","isVerticalScrollShowing","getScrollbarWidth","BodyDropPivotTarget","columnsToAggregate","columnsToGroup","columnsToPivot","clearColumnsList","dragColumns","getBestColumnMoveIndexFromXPosition","isFromHeader","fromLeft","fromEnter","fakeEvent","allMovingColumns","newCols","movingGroup","allMovingColumnsOrdered","validMoves","calculateValidMoves","movingCols","draggingRight","allDisplayedCols","getDisplayedColumns","allGridCols","movingDisplayedCols","otherDisplayedCols","otherGridCols","firstValidMove","displayIndex","availableWidth","widthOfMovingDisplayedCols","numberComparator","displacedCol","firstDisplayIndex","calculateOldIndex","gridCols","_sortNumerically","firstIndex","constrainDirection","displayedCols","potentialMoves","targetOrder","order","displayedOrder","fragCount","groupFragCount","attemptMoveColumns","parents","normaliseX","fromKeyboard","useHeaderRow","skipScrollPadding","eViewport","getCenterViewportScrollLeft","setColumnsMoving","MoveColumnFeature","needToMoveLeft","needToMoveRight","lastMovedInfo","isCenterContainer","colPinned","lockPinned","setColumnsVisible","visibleState","visibleColumns","attemptToPinColumns","isSuppressMoveWhenDragging","finishColumnMoving","mouseX","checkCenterForScrolling","handleColumnDragWhileSuppressingMovement","handleColumnDragWhileAllowingMovement","ensureIntervalCleared","allowedCols","lockVisible","getAllMovingColumns","isAttemptingToPin","getNormalisedXPositionInfo","moveColumnsAfterHighlight","highlightHoveredColumn","normaliseDirection","getMoveColumnParams","useSplit","columnsInSplit","findFirstAndLastMovingColumns","moveLen","firstMovingCol","lastMovingCol","leftCol","rightCol","movingColumns","consideredColumns","targetColumn","getNormalisedColumnLeft","leafDisplayedCols","lastHighlightedColumn","getColumnMoveAndTargetInfo","movingColIndex","targetIndex","isBefore","getPinDirection","failedMoveAttempts","columnMoveParams","xAdjustedForScroll","centerCtrl","firstVisiblePixel","lastVisiblePixel","getCenterWidth","SCROLL_MOVE_WIDTH","ensureIntervalStarted","movingIntervalId","intervalCount","moveInterval","pixelsToMove","pixelsMoved","scrollFeature","MOVE_FAIL_THRESHOLD","fromMoving","BodyDropTarget","eSecondaryContainers","getContainerElement","bottomCenter","topCenter","moveColumnFeature","bodyDropPivotTarget","currentDropListener","isDropColumnInPivotMode","ResizeFeature","horizontalResizeService","destroyResizeFuncs","canResize","canAutosize","addResize","finishedWithResizeFunc","addResizeBar","eResizeBar","onResizing","autoSizeColListener","removeResize","resize","autoSize","setRefreshFunction","resizeAmount","lastResizeAmount","resizeStartWidth","resizeAmountNormalised","normaliseResizeAmount","resizeWithShiftKey","resizing","dragChange","notPinningLeft","pinningRight","SelectAllFeature","cbSelectAllVisible","processingEventFromCheckbox","onSpaceKeyDown","cbSelectAll","getCheckboxGui","showOrHideSelectAll","onNewColumnsLoaded","onSelectionChanged","onModelChanged","onCbSelectAll","refreshSelectAllLabel","isCheckboxSelection","checkRightRowModelType","checkSelectionType","updateStateOfCheckbox","allSelected","getSelectAllState","isFilteredOnly","isCurrentPageOnly","hasNodesToSelect","ariaStatus","setAriaDescriptionProperty","announceAriaDescription","feature","justFiltered","justCurrentPage","selectAllRowNodes","deselectAllRowNodes","newHeaderCheckbox","headerCheckboxSelection","selectAll","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly","HeaderCellCtrl","refreshFunctions","userHeaderClasses","ariaDescriptionProperties","updateState","setupMovingCss","setupMenuClass","setupSortableClass","setupWrapTextClass","refreshSpanHeaderHeight","addColumnHoverListener","setupFilterClass","setupClassesFromColDef","setupTooltip","addActiveHeaderMouseListeners","setupSelectAll","refreshAria","headerHighlightChanged","onHeaderHighlightChanged","checkDisplayName","headerHeightChanged","onHeaderHeightChanged","selectAllFeature","dragSourceElement","restoreFocus","previousPosition","lookupUserCompDetails","createParams","menuEnabled","openFilterEnabled","isHeaderFilterButtonEnabled","setSortForColumn","eGridHeader","onEnterKeyDown","showMenuOnKeyPress","isKeyboardMode","setActiveHeader","isTooltipWhenTruncated","headerComponent","textEl","headerTooltip","refreshHeaderClasses","classes","oldClasses","eSource","draggable","hideColumnOnExit","createDragItem","unlockedColumns","isColumnMenuInHeaderEnabled","calculateDisplayName","workOutDraggable","refreshHeaderComp","attemptHeaderCompRefresh","menuVisibleChanged","updateSortableCssClass","refreshAriaSort","filterActiveChanged","wrapText","wrapHeaderText","afterOn","isZeroGroupHeight","total","extraHeight","_getAriaSortState","refreshAriaMenu","refreshAriaFilterButton","refreshAriaFiltered","property","ariaDescription","charCodeAt","ariaAnnouncementService","announceValue","handleMouseOverChange","isMouseOver","GroupResizeFeature","initialValues","getInitialValues","storeLocalValues","normaliseDragChange","resizeColumnsFromLocalValues","columnsToResize","getColumnsToResize","getInitialSizeOfColumns","columnSizeAndRatios","resizeRatios","getSizeRatiosOfColumns","groupAfter","takeFromLeafCols","groupAfterColumns","groupAfterStartWidth","groupAfterRatios","resizeCols","resizeTakeFromCols","resizeTakeFromStartWidth","resizeTakeFromRatios","clearLocalValues","preferredSize","getPreferredWidthForColumnGroup","resizeColumns","initialSizeOfColumns","GroupWidthFeature","removeChildListenersFuncs","addListenersToChildrenColumns","displayedChildrenChanged","onDisplayedChildrenChanged","onWidthChanged","removeListenersOnChildrenColumns","widthChangedListener","HeaderGroupCellCtrl","onSuppressColMoveChange","isSuppressMoving","addClasses","addHeaderMouseListeners","refreshMaxHeaderHeight","leafCols","addHighlightListeners","onLeafColumnHighlightChanged","isLast","beforeOn","findHeaderCellCtrl","isHighlightAfter","isHighlightBefore","displayedLeafColumns","previousColumnGroup","newColumnGroup","findGroupWidthId","headerGroupComponent","tooltipCtrl","providedColGroup","refreshExpanded","eHeaderGroup","getDragItemForGroup","allColumnsOriginalOrder","allColumnsCurrentOrder","columnGroupColumns","childSuppressesMoving","instanceIdSequence3","HeaderRowCtrl","headerRowClass","isPrintLayout","isEnsureDomOrder","areCellsRendered","getHeaderCellCtrls","initCompState","onVirtualColumnsChanged","addEventListeners","onHeightChanged","onColumnResized","afterScroll","getHeaderCellCtrl","headerCellCtrls","cellCtrl","getWidthForRow","topOffset","getTopAndHeight","sizes","groupHeadersHeight","ctrlsToDisplay","oldCtrls","getColumnsInViewport","recycleAndCreateHeaderCtrls","isFocusedAndDisplayed","isHeaderWrapperFocused","oldCtrl","headerColumn","idOfChild","ctrlsFactory","getInstance","getColumnsInViewportPrintLayout","getColumnsInViewportNormalLayout","viewportColumns","actualDepth","getActualDepth","getHeadersToRender","ctrl2","focusHeader","HeaderRowContainerCtrl","includeFloatingFilter","groupsRowCtrls","setupCenterWidth","setupPinnedWidth","setupDragAndDrop","onDisplayedColsChanged","onGridColumnsChanged","columnsRowCtrl","filtersRowCtrl","keepColumns","sequence","focusedHeaderPosition","getFocusHeaderToUseAfterRefresh","refreshColumnGroups","refreshColumns","needNewInstance","refreshFilters","destroyPreviousComp","rowIndexMismatch","setCtrls","restoreFocusOnHeader","getHtmlElementForColumnHeader","getRowType","setHorizontalScroll","offset","setViewportScrollLeft","scroll","dropContainer","bodyDropTarget","setCenterWidth","pinningLeft","hiddenChanged","widthWithPadding","setPinnedContainerWidth","HeaderRowContainerComp","eCenterContainer","headerRowComps","rowCompsList","selectAndSetTemplate","PINNED_LEFT_TEMPLATE","PINNED_RIGHT_TEMPLATE","eRowContainer","destroyRowComp","rowComp","oldRowComps","prevGui","appendEnsuringDomOrder","ctrlId","existingComp","GridHeaderSelector","addContainer","LayoutFeature","view","updateLayoutClasses","getDomLayout","print","OverlayWrapperSelector","eOverlayWrapper","activePromise","activeOverlay","updateListenerDestroyFunc","activeOverlayWrapperCssClass","elToFocusAfter","overlayService","isFocused","focusGridView","overlayWrapperClassList","setOverlayWrapperComp","setWrapperTypeClass","overlayWrapperCssClass","showOverlay","overlayComponentPromise","exclusive","gridOption","destroyActiveOverlay","isGridFocused","updateOverlayWrapperPaddingTop","elementToFocus","preventScroll","hideOverlay","AbstractFakeScrollComp","hideTimeout","onScrollVisibilityChanged","initialiseInvisibleScrollbar","hideAndShowInvisibleScrollAsNeeded","addActiveListenerToggles","onActivate","onDeactivate","touchstart","touchend","setScrollVisible","attemptSettingScrollPosition","viewport","_waitUntil","timeoutMessage","timeStamp","interval","executed","internalCallback","reachedTimeout","setScrollPosition","FakeHScrollSelector","eLeftSpacer","eRightSpacer","pinnedRowModel","spacerWidthsListener","setFakeHScrollSpacerWidths","onPinnedRowDataChanged","refreshCompBottom","bottomPinnedHeight","getPinnedBottomTotalHeight","vScrollShowing","rightSpacing","scrollOnRight","leftSpacing","hScrollShowing","isHorizontalScrollShowing","invisibleScrollbar2","isSuppressHorizontalScroll","scrollContainerSize","getScrollPosition","SetHeightFeature","maxDivHeightScaler","rowContainerHeightService","rowContainerHeightChanged","getUiContainerHeight","heightString","FakeVScrollSelector","onRowContainerHeightChanged","adjustedScrollbarWidth","gridBodyViewportEl","eViewportScrollTop","gridBodyViewportScrollTop","HorizontalSources","HorizontalSources2","FakeHScrollbar","Header","PinnedTop","PinnedBottom","StickyTop","StickyBottom","GridBodyScrollFeature","eBodyViewport","lastScrollSource","nextScrollTop","lastOffsetHeight","lastScrollTop","resetLastHScrollDebounced","resetLastVScrollDebounced","paginationService","heightScaler","onDisplayedColumnsWidthChanged","centerRowsCtrl","addScrollListener","addHorizontalScrollListeners","addVerticalScrollListeners","onHScroll","scrollPartner","registerScrollPartner","fakeVScrollComp","isDebounce","onVScroll","onFakeVScroll","horizontallyScrollHeaderCenterAndFloatingCenter","setScrollLeftForAllContainersExceptCurrent","getViewportForSource","isControllingScroll","centerContainerViewport","shouldBlockScrollUpdate","newScrollLeft","doHorizontalScroll","setScrollTop","scrollGridIfNeeded","schedule","fakeScrollLeft","fireScrollEvent","onHorizontalViewportChanged","bodyScrollEvent","scrollTimer","scrollTo","touchOnly","shouldBlockVerticalScroll","shouldBlockHorizontalScroll","scrollHeight","redrawRowsAfterScroll","checkScrollLeft","frameNeeded","setHorizontalScrollPosition","fromAlignedGridsService","maxScrollLeft","minScrollLeft","getApproximateVScollPosition","getHScrollPosition","pixels","oldScrollPosition","scrollToTop","ensureNodeVisible","indexToSelect","ensureIndexVisible","paginationPanelEnabled","goToPageWithIndex","stickyTopHeight","getStickyTopHeight","stickyBottomHeight","getStickyBottomHeight","rowGotShiftedDuringOperation","startingRowTop","startingRowHeight","paginationOffset","getPixelOffset","rowTopPixel","rowBottomPixel","scrollPosition","heightOffset","getDivStretchOffset","vScrollTop","vScrollBottom","viewportHeight","pxTop","getScrollPositionForPixel","pxBottom","pxMiddle","newScrollPosition","redraw","newHorizontalScroll","getPositionedHorizontalScroll","setCenterViewportScrollLeft","columnBeforeStart","columnAfterEnd","isColumnOutsideViewport","viewportTooSmallForColumn","alignColToStart","alignColToEnd","isMiddle","colLeft","colMiddle","colRight","getColumnBounds","viewportStart","end","viewportEnd","getViewportBounds","multiplier","colLeftPixel","ViewportSizeFeature","centerContainerCtrl","listenForResize","onScrollbarWidthChanged","checkViewportAndScrolls","onCenterViewportResized","registerViewportResizeListener","registerBodyViewportResizeListener","onCentreViewportResized","isViewportInTheDOMTree","keepPinnedColumnsNarrowerThanViewport","bodyHeight","columnsToRemove","getPinnedColumnsOverflowingViewport","totalPinnedWidth","pinnedLeftColumns","pinnedRightColumns","indexRight","indexLeft","spaceNecessary","updateScrollVisibleService","checkBodyHeight","getBodyHeight","updateScrollVisibleServiceImpl","horizontalScrollShowing","verticalScrollShowing","setScrollsVisible","getViewportScrollLeft","DragListenerFeature","enableFeature","disableFeature","CheckboxSelectionComponent","getCheckboxId","onSelectableChanged","showOrHideSelect","ariaKey","translatedLabel","onClicked","overrides","shouldHandleIndeterminateState","selectableChanged","getIsVisible","showOrHideSelectListener","extraParams","callbackParams","_getHideDisabledCheckboxes","hideDisabledCheckboxes","showDisabledCheckboxes","removeHidden","DndSourceComp","dragEvent","providedOnRowDrag","dndSourceOnRowDrag","dataTransfer","setDragImage","defaultOnRowDrag","jsonData","CellCustomStyleFeature","staticClasses","cellComp","applyUserStyles","applyCellClassRules","applyClassesFromColDef","cellClassRules","cellClassParams","stylingService","processClassRules","cellStyle","cellStyleParams","cellStyleFunc","setUserStyles","getStaticCellClasses","CellKeyboardListenerFeature","rowCtrl","onF2KeyDown","onEscapeKeyDown","onBackspaceOrDeleteKeyDown","onNavigationKeyDown","isEditing","isRangeSelectionEnabled","onShiftRangeSelect","navigationService","getCellPosition","endCell","extendLatestRangeInDirection","ensureCellVisible","_isDeleteKey","alwaysReturnFalseOnBackspace","clearCellRangeCellValues","dispatchWrapperEvents","wrapperEventSource","emptyValue","getDeleteValue","startRowOrCellEdit","stopEditingAndFocus","stopRowOrCellEdit","focusCell","processCharacter","currentSelection","newSelection","updatedCount","CellMouseListenerFeature","onMouseEvent","onCellClicked","onCellDoubleClicked","isDoubleClickOnIPad","getCellRangeCount","intersectLastRange","cellClickedEvent","createEvent","getCellRanges","nowMillis","lastIPadMouseClickEvent","cellDoubleClickedEvent","isRightClickInExistingRange","ranges","shouldFocus","forceBrowserFocus","isCellFocused","focusedCellPosition","getFocusedCell","focusedCellCtrl","getRowByPosition","getCellCtrl","stopEditing","setFocusedCell","preventScrollOnBrowserFocus","containsWidget","thisCell","extendLatestRangeToCell","setRangeToCell","cellInRange","isCellInAnyRange","isRightClick","mouseStayingInsideCell","cellContainsTarget","cellContainsRelatedTarget","CellPositionFeature","setupRowSpan","setupColSpan","applyRowSpan","onDisplayColumnsChanged","getColSpanningList","getCellWidth","getCellLeft","mostLeftCol","totalRowHeight","zIndex","CSS_CELL_RANGE_SELECTED","CellRangeFeature","selectionHandleFactory","onCellSelectionChanged","rangeCount","hasChartRange","getHasChartRange","isSingleCell","updateRangeBorders","refreshHandle","rangeBorders","getRangeBorders","isMoreThanOneCell","cellRanges","range","updateRangeBordersIfRangeCount","thisCol","isCellInSpecificRange","startRow","getRangeStartRow","endRow","getRangeEndRow","rowPositionUtils","sameRow","shouldHaveSelectionHandle","selectionHandle","addSelectionHandle","rangesLen","cellRange","cellPosition","isFillHandleAvailable","isRangeHandleAvailable","_isRangeHandleEnabled","handleIsAvailable","isCategoryCell","isContiguousRange","isBottomRightCell","cellRangeType","createSelectionHandle","instanceIdSequence4","CellCtrl","_CellCtrl","cellRangeFeature","cellPositionFeature","cellCustomStyleFeature","cellMouseListenerFeature","cellKeyboardListenerFeature","suppressRefreshCell","onCellCompAttachedFuncs","onCellEditorAttachedFuncs","colIdSanitised","createCellPosition","updateAndFormatValue","clearRestoreFocus","addFeatures","enableTooltipFeature","removeFeatures","disableTooltipFeature","isCellRenderer","eCellWrapper","startEditing","onSuppressCellFocusChanged","onCellFocused","focusEventToRestore","applyStaticCssClasses","setWrapText","onFirstRightPinnedChanged","onLastLeftPinnedChanged","onColumnHover","setupControlComps","refreshAriaColIndex","showValue","eParentCell","minRowHeight","destroyResizeObserver","getCellAriaRole","cellAriaRole","cellRendererSelector","getValueToDisplay","forceNewCellRendererInstance","valueToDisplay","createCellRendererParams","setRenderDetails","includeSelection","isIncludeControl","includeRowDrag","includeDndSource","setIncludeSelection","setIncludeDndSource","setIncludeRowDrag","isForceWrapper","refreshShouldDestroy","rowDragChanged","dndSourceChanged","autoHeightChanged","cellStartedEdit","editService","setEditing","editCompDetails","onPopupEditorClosed","refreshCell","getParentOfValue","registerRowDragger","rowDraggerElement","setFocusOutOnEditor","setFocusInOnEditor","onCellChanged","refreshOrDestroyCell","recreateCell","suppressFlash","suppressCellFlash","forceRefresh","isCellCompReady","valuesDifferent","flashCell","suppressNavigateAfterEdit","delays","animateCell","flashDuration","flashDelay","fadeDuration","fadeDelay","cssName","fullName","animationFullName","transition","onFlashCells","cellId","cellPositionUtils","createId","cells","callValueFormatter","compareValues","oldValueFormatted","valuesAreEqual","getComp","DOM_DATA_KEY_CELL_CTRL","domEvent","colIdx","startRowEditing","getRowCtrl","getRowPosition","onRowIndexChanged","isCellFocusSuppressed","focusEl","focusableEls","findFocusableElements","fullRowEdit","announceDescription","handleColDefChanged","dispatchCellContextMenuEvent","cellContextMenuEvent","onCellContextMenu","getCellRenderer","getCellEditor","createSelectionCheckbox","cbSelectionComponent","createDndSource","dndSourceComp","customElement","customRowDragComp","newComp","createRowDragComp","clientSideRowModelActive","rowDragComp","setSuppressRefreshCell","getEditCompDetails","onCellEditorAttached","cellEditorAttached","instanceIdSequence5","RowCtrl","_RowCtrl","animateIn","useAnimationFrameForCreate","allRowGuis","centerCellCtrls","leftCellCtrls","rightCellCtrls","slideInAnimation","fullWidth","fadeInAnimation","rowDragComps","lastMouseDownOnDragger","emptyStyle","updateColumnListsPending","rowId","businessKeySanitised","paginationPage","getCurrentPage","initRowBusinessKey","rowFocused","isRowFocused","rowLevel","rowCssClassCalculator","calculateRowLevel","setRowType","setAnimateFlags","rowStyles","processStylesFromGridOptions","addListeners","businessKeyForNodeFunc","updateRowBusinessKey","businessKey","getRowStyles","isSticky","sticky","updateGui","gui","leftGui","rightGui","fullWidthGui","centerGui","initialiseRowComp","rowType","dispatchFirstDataRenderedEvent","unsetComp","rowGui","isCacheable","setCached","cached","rg","display","listenOnDomOrder","updateRowIndexes","setFocusedClasses","setStylesFromGridOptions","onRowSelected","updateColumnLists","getInitialRowClasses","executeSlideAndFadeAnimations","setRowCompRowId","setRowCompRowBusinessKey","DOM_DATA_KEY_ROW_CTRL","createTask","addHoverFunctionality","isFullWidth","setupFullWidth","addRowDraggerToRow","addDestroyTask","executeProcessRowPostCreateFunc","setRowBusinessKey","getBusinessKey","setRowId","onTopChanged","rowDragBean","getPinnedForContainer","createFullWidthCompDetails","showFullWidth","getFullWidthCellRenderers","getFullWidthCellRenderer","getCellElement","areAllContainersReady","eRow","ePinnedLeftRow","ePinnedRightRow","addRenderedRowListener","isLeftReady","isCenterReady","isRightReady","isNodeFullWidthCell","isStub","isDetailCell","isFullWidthGroup","useFlushSync","updateColumnListsImpl","createCellCtrls","addCell","colInstanceId","colsFromPrev","prevCellCtrl","isCellEligibleToBeRemoved","normalisedIndex","createAllCellCtrls","setCellCtrls","cellControls","getCellCtrlsForContainer","nextContainerPinned","REMOVE_CELL","column2","getDomOrder","setDomOrder","oldRowTopExists","editingRow","refreshFullWidth","tryRefresh","fullWidthSuccess","centerSuccess","leftSuccess","rightSuccess","heightChanged","rowIndexChanged","topChanged","updateExpandedCss","hasChildrenChanged","onRowNodeDataChanged","postProcessCss","rowHighlightChanged","onRowNodeHighlightChanged","draggingChanged","postProcessRowDragging","uiLevelChanged","onUiLevelChanged","paginationPixelOffsetChanged","onPaginationPixelOffsetChanged","heightScaleChanged","onCellFocusChanged","cellFocusCleared","onPaginationChanged","refreshFirstAndLastRowStyles","addListenersForCellComps","getAllCellCtrls","redrawRow","postProcessClassesFromGridOptions","postProcessRowClassRules","belowOn","findFullWidthRowGui","onKeyboardNavigate","currentFullWidthComp","lastFocusedCell","getColumnForFullWidth","currentFullWidthContainer","isFullWidthContainerFocused","isDetailGridCellFocused","nextEl","getFullWidthElement","getRowYPosition","displayedEl","onFullWidthRowFocused","removeCellCtrl","cellCtrlToRemove","onRowDblClick","onRowClick","onRowMouseDown","createRowEvent","createRowEventWithSource","fullWidthRowGui","isMultiKey","isShiftKey","rowDeselectionWithCtrl","rowClickSelection","_getEnableSelection","isRowSelectionBlocked","multiSelectOnClick","_getEnableSelectionWithoutKeys","enableSelectionWithoutKeys","setupDetailRowAutoHeight","eDetailGui","checkRowSizeFunc","updateRowHeightFunc","resizeObserverDestroyFunc","addFullWidthRowDragging","refreshRowTooltip","compFactory","tooltipParams","newLevel","classToAdd","classToRemove","isFirstRowOnPage","getFirstRow","isLastRowOnPage","getLastRow","newFirst","newLast","firstRowOnPage","lastRowOnPage","stoppingRowEdit","rowEditService","setInlineEditingCss","setEditingRow","sourceRenderedCell","cssClasses","processClassesFromGridOptions","classStr","processRowClassRules","updateStyles","forEachGui","gui2","rowContainerType","fadeRowIn","rowIsEven","fullWidthRow","rowStyleFunc","rowStyleFuncResult","mouseEnter","mouseLeave","roundRowTopToBounds","minPixel","applyPaginationOffset","maxPixel","heightFromFunc","lineHeight","destroyFirstPass","suppressAnimation","destroySecondPass","destroyCellCtrls","currentPage","topPx","afterPaginationPixels","getRealPixelPosition","setRowTopStyle","getInitialRowTop","getInitialRowTopShared","getInitialTransform","stickyRowTop","setTransform","ariaRowIndex","setStoppingRowEdit","RowContainerEventsFeature","undoRedoService","clipboardService","addKeyboardListeners","addMouseListeners","processKeyboardEvent","processMouseEvent","getRowForEvent","getRenderedCellForEvent","rowCon","getGridBodyElement","showContextMenu","getControlsForEventTarget","processCellKeyboardEvent","processFullWidthRowKeyboardEvent","handlePageScrollingKey","doGridOperations","focusedCell","keyCode","_normaliseQwertyAzerty","code","onCtrlAndA","onCtrlAndC","onCtrlAndD","onCtrlAndV","onCtrlAndX","onCtrlAndY","onCtrlAndZ","isEmptyPinnedTop","isEmptyPinnedBottom","floatingStart","floatingEnd","rowEnd","getPinnedBottomRowCount","setCellRange","rowStartIndex","rowStartPinned","rowEndIndex","rowEndPinned","columnStart","columnEnd","cutToClipboard","pasteFromClipboard","copyRangeDown","redo","undo","SetPinnedLeftWidthFeature","onPinnedLeftWidthChanged","SetPinnedRightWidthFeature","onPinnedRightWidthChanged","getTopRowCtrls","getStickyTopRowCtrls","getStickyBottomRowCtrls","getBottomRowCtrls","getCentreRowCtrls","ContainerCssClasses","getRowCtrls","pinnedType","topFullWidth","stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth","stickyBottomCenter","stickyBottomLeft","stickyBottomRight","stickyBottomFullWidth","bottomFullWidth","_getRowContainerOptions","allMiddle","allCenter","allLeft","allRight","allStickyTopNoFW","allStickyBottomNoFW","allStickyContainers","allNoFW","RowContainerCtrl","EMPTY_CTRLS","forContainers","viewportSizeFeature","stickyTopOffsetChanged","onStickyTopOffsetChanged","setOffsetTop","registerWithCtrlsService","names","getViewportSizeFeature","addPreventScrollWhileDragging","pinnedWidthChanged","onPinnedWidthChanged","pinnedWidthFeature","setContainerWidth","isContainerVisible","displayedRowsChanged","onDisplayedRowsChanged","hasHorizontalScrollGap","hasVerticalScrollGap","unsubscribeFromResize","_isHorizontalScrollShowing","setRowCtrls","rowCtrls","embedFW","rowsThisContainer","CSS_CLASS_FORCE_VERTICAL_SCROLL","GridBodyCtrl","bodyScrollFeature","eGridBody","eTop","eBottom","eStickyTop","eStickyBottom","eCenterColsViewport","eFullWidthContainer","eStickyTopFullWidthContainer","eStickyBottomFullWidthContainer","setCellTextSelection","props","addRowDragListener","setupRowAnimationCssClass","addFocusListeners","addBodyViewportListener","setFloatingHeights","disableBrowserDragging","addStopEditingWhenGridLosesFocus","updateScrollingClasses","scrollGapChanged","onScrollGapChanged","pinnedHeightChanged","isFocusedElementNested","gridContainRelatedTarget","isNestedRelatedTarget","setColumnMovingCss","setCellSelectableCss","setVerticalScrollPaddingVisible","setStickyWidth","setStickyBottomOffsetBottom","setBodyViewportWidth","setColumnCount","dragstart","HTMLImageElement","focusOutListener","elementWithFocus","clickInsideGrid","viewports","isElementInThisGrid","getActivePopups","isElementWithinCustomPopup","updateRowCount","headerCount","setRowCount","setPinnedTopBottomOverflowY","allowVerticalScroll","setAlwaysVerticalScrollClass","_isVerticalScrollShowing","initialSizeMeasurementComplete","hasMeasuredSizes","updateAnimationClass","isStretching","setRowAnimationCssOnBodyViewport","onBodyViewportContextMenu","onBodyViewportWheel","onStickyWheel","addFullWidthContainerWheelListener","onFullWidthContainerWheel","deltaX","deltaY","scrollGridBodyToMatchEvent","isHorizontalScroll","scrollBy","hasAnchoredPopup","floatingTopHeight","getPinnedTopTotalHeight","floatingBottomHeight","setTopHeight","setBottomHeight","setTopDisplay","setBottomDisplay","setStickyTopOffsetTop","setStickyTopHeight","setStickyBottomHeight","vScrollVisible","setStickyTopWidth","setStickyBottomWidth","pinnedTopHeight","setStickyTopTop","pinnedBottomHeight","setStickyBottomBottom","nextTimeout","scrollWidthToRemove","addScrollEventListener","removeScrollEventListener","CellComp","rendererVersion","editorVersion","cellDiv","forceWrapper","refreshWrapper","setEditDetails","cellEditor","eCellValue","cellEditorPopupWrapper","firstRender","controlWrapperChanged","refreshEditStyles","refreshCellRenderer","destroyRenderer","createCellRendererInstance","insertValueWithoutCellRenderer","createCellEditorInstance","destroyEditor","removeControls","checkboxSelectionComp","rowDraggingComp","providingControls","usingWrapper","putWrapperIn","wrapperDiv","takeWrapperOut","usingCellValue","putCellValueIn","cellSpan","takeCellValueOut","templateChanged","addControls","cellEditorPromise","afterCellEditorCreated","escapedValue","destroyEditorAndRenderer","cellRendererGui","hideEditorPopup","cellEditorGui","compClassAndParams","cellRendererClass","useTaskService","displayComponentVersionCopy","createCellRendererFunc","componentPromise","afterCellRendererCreated","cellRendererVersion","requestVersion","isCancelBeforeStart","cellEditorInPopup","addPopupCellEditor","addInCellEditor","clearParentOfValue","createPopupEditorWrapper","ePopupGui","useModelPopup","positionToUse","getPopupPosition","positionParams","positionCallback","detach","RowComp","cellComps","rowDiv","setInitialStyle","domOrder","cellCtrls","transform","getUpdatedParams","setFullWidthRowComp","cellsToRemove","newCellComp","cellCompsToRemove","destroyCells","destroyAllCells","cellsToDestroy","cp","fullWidthRowComponent","RowContainerSelector","rowComps","templateFactory","setViewportHeight","lastPlacedElement","oldRows","orderedRows","existingRowComp","removeOldRows","addRowNodes","isNew","oldRowComp","makeRowContainers","GRID_BODY_TEMPLATE","GridBodySelector","eBody","_setAriaColCount","colCount","_setAriaRowCount","overflowY","ct","_setAriaMultiSelectable","multiSelectable","bodyViewportClassList","getFloatingTopBottom","ScrollVisibleService","updateScrollVisible","updateScrollGap","executeLaterVMTurn","updateScrollVisibleImpl","centerRowCtrl","horizontalGap","verticalGap","horizontalScrollGap","verticalScrollGap","gridOptionsScrollbarWidth","_getScrollbarWidth","GRID_DOM_KEY","_MouseEventService","gridInstanceId","gridInstanceSequence","getCellPositionForEvent","gridPanelHasScrolls","vRange","MouseEventService","NavigationService","onPageDown","onPageUp","cellNavigationService","fromFullWidth","alt","rangeServiceShouldHandleShift","currentCell","processed","onHomeOrEndKey","onCtrlUpDownLeftRight","handlePageUpDown","navigateTo","navigateParams","scrollIndex","scrollType","scrollColumn","focusIndex","focusColumn","isAsync","gridCell","pixelsInOnePage","getViewportHeight","pagingPixelOffset","currentPageBottomRow","navigateToNextPageWithAutoHeight","navigateToNextPage","currentPageTopRow","up","rowPixelDiff","isRowTallerThanView","getNextFocusIndexForAutoHeight","lastRowIndex","pixelSum","currentCellHeight","cellToFocus","getNextCellToFocus","homeKey","columnToSelect","movedToNextCell","tabToNextCellCommon","focusPreviousFromFirstCell","allowFocusForNextGridCoreContainer","cellOrRow","getCellByPosition","moveToNextEditingRow","moveToNextEditingCell","moveToNextCellNotEditing","previousCell","previousPos","nextCell","findNextCellToFocusOn","previousEditable","nextEditable","rowsMatch","cellPos","tryToFocusFullWidthRow","getLastCellOfColSpan","getNextTabbedCell","userResult","previousCellPosition","nextCellPosition","headerLen","fromCell","cell","lookupRowNodeForCell","getPinnedTopRow","getPinnedBottomRow","hitEdgeOfGrid","isValidNavigateCell","userCell","normalisedPosition","focusPosition","currentCellFocused","fromBelow","colSpanningList","isGroupStickyEnabled","HorizontalResizeService","dragStartX","setResizeIcons","MouseEvent","setResizeCursor","disableUserSelect","resetIcons","StandardMenuFactory","hideActiveMenu","showMenuAfterMouseEvent","showPopup","showMenuAfterButtonClick","nudgeX","activeMenu","tabListener","trapFocusWithin","isColumnMenuAnchoringEnabled","isKeyboardEvent","KeyboardEvent","findTabbableParent","dispatchVisibleChangedEvent","switchingTab","isMenuEnabled","menuTabs","showMenuAfterContextMenuEvent","ResizeObserverService","ResizeObserverImpl","ResizeObserver","resizeObserver","observe","disconnect","AnimationFrameService","createTasksP1","sorted","createTasksP2","destroyTasks","ticking","scrollGoingDown","lastPage","taskCount","cancelledTasks","isPaginationActive","useAnimationFrame","isOn","verifyAnimationFrameOn","methodName","task","taskItem","createOrder","addTaskToList","cancelTask","taskList","sortTaskList","executeFrame","millis","p1TaskList","p1Tasks","p2TaskList","p2Tasks","frameStart","noMaxMillis","requestFrame","stopTicking","webkitRequestAnimationFrame","isQueueEmpty","debounce","pending","ClientSideRowModelSteps2","ExpansionService","isClientSideRowModel","expandRows","rowIds","rowIdSet","getExpandedRows","expandedRows","expandAll","setRowNodeExpanded","expandParents","MenuService","filterMenuFactory","columnChooserFactory","contextMenuFactory","enterpriseMenuFactory","activeMenuFactory","showColumnMenuCommon","menuFactory","getContextMenuPosition","getCellGui","getContextMenuAnchorElement","onContextMenu","showColumnChooser","hidePopupMenu","hideColumnChooser","hideActiveColumnChooser","suppressMenu","suppressHeaderFilterButton","suppressHeaderContextMenu","getColumnMenuType","isSuppressMenuHide","menuHides","isFloatingFilterButtonDisplayed","isFilterMenuItemEnabled","areAdditionalColumnMenuItemsEnabled","legacySuppressFilterButton","floatingFilterComponentParams","suppressFloatingFilterButton","filtersOnly","gridBodyEl","AgInputTextAreaSelector","setCols","setRows","PopupEditorWrapper","addKeyDownListener","SimpleCellEditor","cellEditorInput","getTemplate","eventKey","suppressPreventDefault","startValue","shouldSetStartValue","focusAfterAttached","getStartValue","highlightAllOnFocus","setCaret","focusIn","TextCellEditorInput","parseValue","useFormatter","refData","setSelectionRange","TextCellEditor","NumberCellEditorInput","preventStepping","showStepperButtons","AgInputDateFieldSelector","usingSafari","minDate","maxDate","DateCellEditorInput","DateStringCellEditorInput","getDataTypeService","formatDate","parseDate","getDateParserFunction","getDateFormatterFunction","UndoRedoAction","cellValueChanges","RangeUndoRedoAction","initialRange","finalRange","UndoRedoStack","maxStackSize","actionStack","shift","getCurrentStackSize","EditCoreModule","editorParams","createCellEditorParams","cellEditorPopup","cellEditorPopupPosition","newValueExists","takeValueFromCellEditor","saveNewValue","focusOut","navigateAfterEdit","noValueResult","isCancelAfterEnd","EditApiModule","undoCellEditing","redoCellEditing","getCellEditorInstances","getEditingCells","startEditingCell","isFocusWithinCell","getCurrentUndoSize","getCurrentUndoStackSize","getCurrentRedoSize","getCurrentRedoStackSize","DefaultEditorModule","EditModule","activeCellEdit","activeRowEdit","isPasting","isRangeInAction","onCellValueChanged","eventCell","isCellEditing","isRowEditing","cellValueChange","clearStacks","undoStack","redoStack","undoRedoLimit","operationPerformed","undoRedo","undoRedoStack","opposingUndoRedoStack","rangeProperty","cellValueChangeProperty","undoRedoAction","processAction","processRange","processCell","valueExtractor","currentRow","startColumn","setLastFocusedCell","addCellRange","pushActionsToUndoStack","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","isRowEdit","fireRowEditEvent","eSelect","startedByEnter","hasValue","valueListGap","valueListMaxWidth","valueListMaxHeight","eTextArea","AutoWidthCalculator","centerRowContainerCtrl","eHeaderCell","getHeaderCellForColumn","getAllCellsForColumn","addElementsToContainerAndGetWidth","eDummyContainer","eBodyContainer","cloneItemIntoDummy","dummyContainerWidth","getAutoSizePadding","eCellClone","cloneNode","eCloneParent","eCloneParentClassList","StickyRowFeature","createRowCon","destroyRowCtrls","stickyTopRowCtrls","stickyBottomRowCtrls","extraTopHeight","extraBottomHeight","isClientSide","resetStickyContainers","setOffsetBottom","resetOffsets","getExtraTopHeight","getExtraBottomHeight","getLastPixelOfGroup","getClientSideLastPixelOfGroup","getServerSideLastPixelOfGroup","getFirstPixelOfGroup","storeBounds","childStore","getStoreBounds","heightPx","lastAncestor","updateStickyRows","newStickyContainerHeight","canRowsBeSticky","refreshNodesAndContainerHeight","pixelAtContainerBoundary","getFirstVisibleVerticalPixel","getLastVisibleVerticalPixel","newStickyRows","addStickyRow","stickyRow","lastChildBottom","stickRowBottom","stickRowTop","thisRowLastPx","suppressFootersSticky","areFooterRowsStickySuppressed","suppressGroupsSticky","isRowSticky","firstPixelAfterStickyRows","firstMissingParent","getStickyAncestors","suppressGroupRows","suppressGrandRows","isStickyEnabled","ancestors","checkStickyRows","hasTopUpdated","hasBottomUpdated","destroyStickyCtrls","refreshStickyNode","stickRowNode","allStickyNodes","topContainerHeight","bottomContainerHeight","newStickyNodes","previousCtrls","removedCtrlsMap","remainingCtrls","existingNodes","newCtrls","hasSomethingChanged","newCtrlsList","anyChange","updateRowHeight","RowRenderer","destroyFuncsForColumnListeners","rowCtrlsByRowIndex","zombieRowCtrls","allRowCtrls","topRowCtrls","bottomRowCtrls","refreshInProgress","dataFirstRenderedFired","setupRangeSelectionListeners","onColumnMovedPinnedVisible","addCellSelectionListeners","removeCellSelectionListeners","initialise","onPageLoaded","onBodyScroll","bodyHeightChanged","onDomLayoutChanged","redrawRows","stickyRowFeature","registerCellEventListeners","initialiseCache","redrawAfterModelUpdate","countProp","getKeepDetailRowsCount","cachedRowCtrls","RowCtrlCache","updateAllRowCtrls","liveList","zombieList","cachedList","getEntries","getFullWidthRowCtrls","flashCells","refreshListenersToColumnsForCellComps","removeGridColumnListeners","forEachCellWithThisCol","leftChangedListener","firstRightPinnedChangedListener","lastLeftPinnedChangedListener","colDefChangedListener","destroyRows","domLayoutChanged","datasourceChanged","firstRenderedRow","lastRenderedRow","rowIndexesToRemove","removeRowCtrls","recycleRows","onlyBody","getAllRowCtrls","refreshFloatingRowComps","refreshFloatingRows","floating","rowCtrlMap","fromEntries","forEachPinnedRow","getPinnedRowById","rowNodeCount","getPinnedTopRowCount","suppressEvent","removeRow","destroyAndRecreateCtrl","dataStruct","dispatchDisplayedRowsChanged","getCellToRestoreFocusToAfterRefresh","suppressKeepFocus","getFocusCellToUseAfterRefresh","cellDomData","rowDomData","getLockOnRefresh","updateContainerHeights","scrollToTopIfNewData","rowsToRecycle","getRowsToRecycle","removeAllRowComps","workOutFirstAndLastRowsToRender","restoreFocusedCell","releaseLockOnRefresh","suppressScrollToTop","setModelHeight","containerHeight","rowCtrlsLength","cellCtrlsLength","getCellCtrls","refreshCellParams","getCellRendererInstances","cellRenderers","renderer","fullWidthRenderers","rowIdMap","mapRowNodes","isRowInMap","renderers","rowIdsMap","colIdsMap","stubNodeIndexes","ctrlsByIdMap","_","rowsToRemove","indexToRemove","oldFirstRow","oldLastRow","hasStickyRowChanges","newFocusedCell","removeRowCompsNotToDraw","indexesToDraw","indexesToDrawMap","indexesNotToDraw","calculateIndexesToDraw","_createArrayOfNumbers","checkRowToDraw","indexStr","doNotUnVirtualiseRow","currRow","createOrUpdateRowCtrl","redrawFullWidthEmbeddedRows","fullWidthCtrl","rowNodesMap","rowCtrlsMap","executeInAWhileFuncs","nodeId","addRow","_executeInAWhile","funcs","_executeAfter","milliseconds","getRowBuffer","getRowBufferInPixels","updateOffset","bufferPixels","firstPixel","lastPixel","rowHeightsChanged","pageFirstPixel","pageLastPixel","getCurrentPagePixelRange","divStretchOffset","bodyVRange","bodyTopPixel","bodyBottomPixel","firstVisibleVPixel","lastVisibleVPixel","ensureAllRowsInRangeHaveHeightsCalculated","firstRowIndex","pageFirstRow","pageLastRow","rowLayoutNormal","suppressRowCountRestriction","rowBufferMaxSize","topPixel","bottomPixel","pinnedRowHeightsChanged","stickyHeightsChanged","rowModelHeightsChanged","getFirstVirtualRenderedRow","getLastVirtualRenderedRow","rowHasFocus","isRowNodeFocused","rowIsEditing","rowCtrlFromCache","getRenderedNodes","rowPosition","isRangeInRenderedViewport","startIndex","endIndex","maxCount","entriesMap","entriesList","rowCtrlToDestroy","removeFromCache","rowNodeId","PinnedRowModel","pinnedTopRows","OrderedCache","pinnedBottomRows","setPinnedRowData","estimateRowHeight","updateNodesFromRowData","allData","idPrefix","nodesToRemove","getIds","dataIds","removeAllById","setOrder","getTotalHeight","getSize","getByIndex","cache","ordering","ids","orderedIds","RowRangeSelectionContext","root","cachedRange","setRoot","setEndRange","getRange","getRoot","getEnd","isInRange","nodeInRange","truncate","keep","discard","discardAfter","above","below","extend","node2","newRangeNode","StylingService","processAllCellClasses","onApplicableClass","onNotApplicableClass","processStaticCellClasses","previousClassRules","classRules","classesToApply","classesToRemove","forEachSingleClass","singleClass","classNames","rule","resultOfRule","classOrClasses","cssClassItem","TabGuardCtrl","skipTabGuardFocus","forcingFocusOut","allowFocus","eTopGuard","eBottomGuard","focusTrapActive","forceFocusOutWhenTabGuardsAreEmpty","isFocusableContainer","focusInnerElement","providedFocusInnerElement","providedFocusIn","providedFocusOut","providedShouldStopEventPropagation","providedOnTabKeyDown","providedHandleKeyDown","activateTabGuards","guard","onFocus","tabGuardsAreActive","hasAttribute","setTabIndex","deactivateTabGuards","findNextElementOutsideAndFocus","fromBottom","focusableRange","targetTabIndex","getNextFocusableElement","focusable","forceFocusOutOfContainer","tabGuardToFocus","isTabGuard","setAllowFocus","TabGuardFeature","initialiseTabGuard","createTabGuard","tabGuards","tabGuard","addTabGuards","tabGuardCtrl","getTabGuardCtrl","topTabGuard","bottomTabGuard","removeAllChildrenExceptTabGuards","TabGuardComp","tabGuardFeature","instanceIdSeq","PopupService","popupList","gridCtrl","handleThemeChange","positionPopupForMenu","popupIdx","getPopupIndex","alignedToElement","sourceRect","getParentRect","keepXYWithinBounds","maxX","xRightPosition","xLeftPosition","setAlignedStyles","calculatePointerAlign","postProcessCallback","callPostProcessPopup","shouldRenderUnderOrAbove","targetCompRect","spaceAvailableUnder","spaceAvailableAbove","spaceRequired","updatePopupPosition","fromResizeObserver","getPopupList","sizeProperty","anchorProperty","offsetProperty","scrollPositionProperty","docElement","popupRect","documentRect","isBody","offsetSize","sizeOfParent","alwaysOnTop","initialisePopupPosition","wrapperEl","createPopupWrapper","removeListeners","addEventListenersToPopup","addPopupToPopupList","ePopupParentRect","ePopupParent","setAlwaysOnTop","bringPopupToFront","themeChanged","popupEl","popupHidden","hidePopupOnKeyboardEvent","hidePopupOnMouseEvent","hidePopupOnTouchEvent","isEventFromCurrentPopup","removePopupFromPopupList","isAnchored","setPopupPositionRelatedToElement","relativeElement","popupIndex","stopAnchoringPromise","destroyPositionTracker","keepPopupPositionedRelativeTo","extractFromPixelValue","pxSize","createPosition","initialDiff","initial","lastDiff","topPosition","fwOverrides","pRect","sRect","calculateNewPosition","currentDiff","intervalId","indexOfThisChild","getWrapper","popupLen","standardPopupList","alwaysOnTopList","innerElsScrollMap","onTopLength","targetList","currentPopup","PASSIVE_EVENTS2","frameworkName","renderingEngine","useCapture","isPassive","capture","CellNavigationService","ctrlPressed","getNextCellToFocusWithCtrlPressed","getNextCellToFocusWithoutCtrlPressed","upKey","leftKey","getCellAbove","getCellBelow","getCellToLeft","getCellToRight","isCellGoodToFocusOn","lastCell","colToLeft","colToRight","getRowBelow","ignoreSticky","isLastRowInContainer","getNextStickyPosition","stickyRowCtrls","nextCtrl","rowBelow","getRowAbove","getLastBodyCell","getLastFloatingTopRow","rowAbove","getNextTabbedCellBackwards","getNextTabbedCellForwards","newRowIndex","newFloating","newColumn","isRowInPage","mod","gridApiFunctionsMap","getGridOption","setGridOption","updateGridOptions","getState","deselectAll","selectAllFiltered","deselectAllFiltered","selectAllOnCurrentPage","deselectAllOnCurrentPage","getSelectedRows","getFirstDisplayedRow","getFirstDisplayedRowIndex","getLastDisplayedRow","getLastDisplayedRowIndex","getDisplayedRowAtIndex","getDisplayedRowCount","getVerticalPixelRange","getHorizontalPixelRange","tabToPreviousCell","expireValueCache","showColumnMenuAfterButtonClick","showLoadingOverlay","showNoRowsOverlay","setGridAriaProperty","refreshHeader","isAnimationFrameQueueEmpty","flushAllAnimationFrames","getSizesForCurrentTheme","removeRowDropZone","getRowDropZoneParams","getColumnDef","getColumns","getColumnGroupState","resetColumnGroupState","isPinning","getDisplayedColAfter","getDisplayedColBefore","setColumnVisible","setColumnPinned","setColumnsPinned","getAllGridColumns","getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns","getAllDisplayedColumns","getAllDisplayedVirtualColumns","moveColumn","setColumnWidth","getLeftDisplayedColumnGroups","getCenterDisplayedColumnGroups","getRightDisplayedColumnGroups","getAllDisplayedColumnGroups","autoSizeColumns","paginationIsLastPageFound","paginationGetPageSize","paginationGetCurrentPage","paginationGetTotalPages","paginationGetRowCount","paginationGoToNextPage","paginationGoToPreviousPage","paginationGoToFirstPage","paginationGoToLastPage","paginationGoToPage","collapseAll","getCacheBlockState","getDataAsCsv","exportDataAsCsv","refreshInfiniteCache","purgeInfiniteCache","getInfiniteRowCount","showAdvancedFilterBuilder","hideAdvancedFilterBuilder","getChartModels","getChartRef","getChartImageDataURL","downloadChart","openChartToolPanel","closeChartToolPanel","createRangeChart","createPivotChart","createCrossFilterChart","updateChart","restoreChart","copySelectedRowsToClipboard","copySelectedRangeToClipboard","copySelectedRangeDown","getDataAsExcel","exportDataAsExcel","getSheetDataForExcel","getMultipleSheetsAsExcel","exportMultipleSheetsAsExcel","addDetailGridInfo","removeDetailGridInfo","getDetailGridInfo","forEachDetailGridInfo","clearRangeSelection","clearCellSelection","addAggFunc","addAggFuncs","clearAggFuncs","getPivotResultColumn","removeValueColumn","addValueColumn","removeRowGroupColumn","addRowGroupColumn","removePivotColumn","addPivotColumn","setPivotResultColumns","getPivotResultColumns","getServerSideSelectionState","setServerSideSelectionState","applyServerSideTransaction","applyServerSideTransactionAsync","applyServerSideRowData","retryServerSideLoads","flushServerSideAsyncTransactions","refreshServerSide","getServerSideGroupLevelState","isSideBarVisible","setSideBarVisible","setSideBarPosition","openToolPanel","closeToolPanel","getOpenedToolPanel","refreshToolPanel","isToolPanelShowing","getToolPanelInstance","getSideBar","getStatusPanel","defaultFns","GridApiClass","Reflect","defineProperty","ApiFunctionService","fns","preDestroyLink","makeApi","addFunction","functionName","validationService","validateApiFunction","apiName","apiNotFound","fnName","createGridApi","ColumnDefFactory","colGroupDefs","addToResult","childDef","createDefFromColumn","lastPointer","parentDef","existingParentDef","createDefFromGroup","defCloned","colDefCloned","ColumnEventDispatcher","groupOpened","impactedGroups","getCommonValue","firstValue","flexColumns","ColumnGetStateService","createStateItemFromColumn","orderColumnStateList","rowGorupColumns","columnStateList","colIdToGridIndexMap","itemA","itemB","ColumnGroupStateService","columnGroupState","primaryColumnTree","stateItems","groupState","ColumnViewportService","colsWithinViewport","headerColsWithinViewport","colsWithinViewportHash","rowsOfHeadersToRenderLeft","rowsOfHeadersToRenderRight","rowsOfHeadersToRenderCenter","viewportLeft","viewportRight","extractViewportColumns","displayedColumnsCenter","isColumnVirtualisationSuppressed","isColumnInRowViewport","isColumnInHeaderViewport","isAnyParentAutoHeaderHeight","columnLeft","columnRight","leftBounds","rightBounds","getViewportColumns","inViewportCallback","extractViewport","calculateHeaderRows","renderedColIds","renderedColsLeft","renderedColsRight","testGroup","returnValue","addThisItem","newHash","AgComponentUtils","jsCompFunc","metadata","functionAdapter","adaptCellRendererFunction","Adapter","callbackResult","candidate","ComponentMetadataProvider","componentMetaData","dateComponent","floatingFilterComponent","innerRenderer","statusPanel","toolPanel","menuItem","beanNamePosition","gridBeanInitComparator","bean1","bean2","gridBeanDestroyComparator","CtrlsFactory","registry","meta","ControllerClass","CtrlsService","fakeHScrollComp","gridHeaderCtrl","centerHeader","leftHeader","rightHeader","readyCallbacks","runReadyCallbacksAsync","runWhenReadyAsync","updateReady","caller","ctrlType","CellPositionUtils","createIdFromValues","cellA","cellB","RowNodeEventThrottle","dispatchExpandedDebounced","RowPositionUtils","pinnedBottomCount","pinnedTopCount","gridRow","rowA","rowB","ROW_HEIGHT","changeKey","defaultValue","HEADER_HEIGHT","LIST_ITEM_HEIGHT","Environment","sizeEls","lastKnownValues","ancestorThemeClasses","sizesMeasured","gridTheme","handleThemeGridOptionChange","stopUsingTheme","readAncestorThemeClasses","setUpThemeClassObservers","getSizeEl","getCSSVariablePixelValue","getDefaultListItemHeight","getGridThemeClass","getCssClass","getThemeClasses","themeClasses","oldRowHeight","getPropertyValue","variable","measurement","measureSizeEl","sizeEl","newSize","NO_VALUE_SENTINEL","eMeasurementContainer","lastMeasurement","unsubscribe","newMeasurement","fireGridStylesChangedEvent","observer","MutationObserver","newThemeClasses","arraysEqual","attributeFilter","allThemeClasses","themeClass","freeze","oldGridTheme","newGridTheme","stopUse","startUse","EventService","globalEventService","globalSyncEventListener","FocusService","_FocusService","addKeyboardModeEvents","instanceCount","toggleKeyboardMode","removeKeyboardModeEvents","keyboardModeActive","clearFocusedCellListener","onColumnEverythingChanged","registerKeyboardFocusEvents","colFromColumnModel","isDomDataMissingInHierarchy","eBrowserCell","ePointer","isCellRestoreFocused","restoredFocusedCellPosition","awaitRestoreFocusedCell","setFocusCallback","setRestoreFocusedCell","getFocusEventParams","focusEventParams","gridColumn","focusedColumn","focusedHeaderRowIndex","isExclusive","rowWithoutSpanValue","focusAdvancedFilter","currentPosition","getHeaderPositionFromUserFunc","previousHeaderPosition","nextHeaderPosition","focusProvidedHeaderPosition","newHeaderPosition","focusSuccess","focusFirstHeader","firstColumn","focusLastHeader","isAnyCellFocused","rowPinnedType","exclude","onlyUnmanaged","excludeString","excludeNodes","focusableElements","toFocus","findFocusableElementBeforeTabGuard","referenceElement","referenceIndex","lastTabGuardIndex","onlyManaged","nextIndex","isTargetUnderManagedComponent","managedContainers","overlayGui","getOverlayWrapper","focusGridViewFailed","canFocusOverlay","forceOut","focusNextInnerContainer","isDetailGrid","advancedFilterFocusColumn","focusHeaderComp","focusNextFromAdvancedFilter","forceFirstColumn","clearAdvancedFilterColumn","addFocusableContainer","removeFocusableContainer","allowFocusForNextCoreContainer","PinnedWidthService","checkContainerWidths","GridCtrl","additionalFocusableContainers","eGridHostDiv","setRtlClass","updateGridThemeClass","onGridSizeChanged","getOptionalSelectors","paginationSelector","getPaginationSelector","gridHeaderDropZonesSelector","columnDropZonesService","getDropZoneSelector","sideBarSelector","sideBarService","getSideBarSelector","statusBarSelector","statusBarService","getStatusPanelSelector","watermarkSelector","licenseManager","getWatermarkSelector","destroyGridUi","setCursor","setUserSelect","focusableContainers","getFocusableContainers","indexWithFocus","getNextFocusableIndex","lastColumn","focusContainer","userCallbackFunction","coreContainers","gridThemeClass","setGridThemeClass","GridComp","gridBody","rootWrapperBody","userSelect","webkitUserSelect","cursor","createTemplate","requiredComps","insertGridIntoDom","eRootWrapperBodyClassList","AlignedGridsModule","consuming","getAlignedGridApis","isCallbackConfig","seeUrl","alignedGrid","isGridApi","refOrComp","ref","fireColumnEvent","alignedGridColumn","onColumnEvent","alignedGridScroll","onScrollEvent","fireEvent","onEvent","columnEvent","scrollEvent","extractDataFromEvent","getMasterColumns","getColumnIds","processColumnEvent","processGroupOpenedEvent","groupOpenedEvent","masterGroup","otherColumnGroup","colEvent","masterColumn","otherColumn","masterColumns","destColState","resizedEvent","DataTypeModule","isWaitingForRowData","isColumnTypeOverrideInDataTypeDefinitions","columnStateUpdatesPendingInference","columnStateUpdateListenerDestroyFuncs","processDataTypeDefinitions","defaultDataTypes","getDefaultDataTypes","formatValueFuncs","generateFormatValueFunc","groupSafeValueFormatter","mergedDataTypeDefinition","createGroupSafeValueFormatter","dataTypeMatchers","processDataTypeDefinition","dataTypeMatcher","checkObjectValueHandlers","overriddenDataTypeMatcher","mergeDataTypeDefinitions","parentDataTypeDefinition","childDataTypeDefinition","appendColumnTypes","alreadyProcessedDataTypes","extendsCellDataType","extendsDataType","baseDataTypeDefinition","overriddenBaseDataTypeDefinition","validateDataTypeDefinition","extendedDataTypeDefinition","mergedExtendedDataTypeDefinition","parentCellDataType","canInferCellDataType","inferCellDataType","valueParser","suppressDefaultProperties","setColDefPropertiesForBaseDataType","columnStateUpdates","propsToCheckForInference","doColDefPropsPreventInference","columnTypeDefs","columnTypeDef","comparisonValue","doesColDefPropPreventInference","checkProps","initialData","getInitialData","initWaitForRowData","_cellDataType","columnTypeOverridesExist","rowDataUpdateStarted","processColumnsPendingInference","destroyColumnStateUpdateListeners","newRowGroupColumnStateWithoutIndex","newPivotColumnStateWithoutIndex","oldColDef","getUpdatedColumnState","columnState","resolvedObjectDataTypeDefinition","defaultObjectDataTypeDefinition","hasObjectValueParser","hasObjectValueFormatter","getDateStringTypeDefinition","getDataTypeDefinition","dateString","dateFormatter","checkType","warning","getFormatValue","keyCreator","cellEditorParams","colDef2","defaultDateFormatMatcher","boolean","CommunityApiModule","gridDestroyService","isDestroyCalled","paramsOrGridWidth","activeDropTarget","nodeSelector","apiEventService","eGrid","ariaProperty","StateCoreModule","suppressEvents","queuedUpdateSources","dispatchStateUpdateEventDebounced","dispatchQueuedStateUpdateEvents","onRowGroupOpenedDebounced","updateCachedState","getRowGroupExpansionState","onRowSelectedDebounced","staleStateKeys","getRowSelectionState","cachedState","getInitialState","setCachedStateValue","suppressEventsAndDispatchInitEvent","setupStateOnGridReady","newColumnsLoadedDestroyFunc","rowCountReadyDestroyFunc","firstDataRenderedDestroyFunc","setupStateOnColumnsInitialised","setupStateOnRowCountReady","setupStateOnFirstDataRendered","migrateGridStateModel","migrateV32_1","jsonGet","json","refreshStaleState","getSideBarState","stateUpdater","sideBarUpdated","setColumnState","updateColumnState","onUpdate","filterState","rowGroupExpansion","rowGroupExpansionState","rowSelectionState","paginationState","setFilterState","setRowGroupExpansionState","setRowSelectionState","setPaginationState","getFilterState","getPaginationState","updateRowGroupExpansionState","newPageSize","scrollState","cellSelectionState","focusedCellState","columnOrder","columnOrderState","setFocusedCellState","setCellSelectionState","setScrollState","setColumnPivotState","orderedColIds","getFocusedCellState","getRangeSelectionState","getScrollState","cellSelection2","sortColumns","groupColIds","aggregationColumns","pivotColIds","leftColIds","rightColIds","hiddenColIds","columnSizes","defaultSortIndex","sortModel","aggregation","aggregationModel","columnPinning","columnVisibility","columnSizing","columnSizingModel","sortState","aggregationState","pivotState","columnPinningState","columnVisibilityState","columnSizingState","partialColumnState","columnStateMap","getColumnState2","columnGroupStates","secondaryColumnStates","openColumnGroups","openColumnGroupIds","gridOptionAdvancedFilterModel","startColId","columnSet","_isUsingNewCellSelectionAPI","_getSuppressMultiRanges","suppressMultiRanges","setCellRanges","getSideBarComp","page","getPageSize","setPageSize","setPage","selectionState","getSelectionState","selectAllChildren","toggledNodes","setSelectionState","expandedRowGroups","expandedRowGroupIds","newColumnState","dispatchStateUpdateEvent","existingValue","sources","updateFunc","setSuppressAnimation","StateModule","stateService","PageSizeSelectorSelector","hasEmptyOption","handlePageSizeItemSelected","selectPageSizeComp","toggleSelectDisplay","onPageSizeSelectorValuesChange","handlePaginationChanged","paginationChangedEvent","getPageSizeSelectorValues","reloadPageSizesSelector","shouldShowPageSizeSelector","pageSizeOptions","paginationPageSizeOption","shouldAddAndSelectEmptyOption","pageSizeSet","pageSizesSet","createPageSizeSelectOptions","createPageSizeSelectorComp","localisedLabel","localisedAriaLabel","paginationPageSizeSelectorValues","PaginationSelector","btFirst","btPrevious","btNext","btLast","lbRecordCount","lbFirstRowOnPage","lbLastRowOnPage","lbCurrent","lbTotal","pageSizeComp","previousAndFirstButtonsDisabled","nextButtonDisabled","lastButtonDisabled","areListenersSetup","allowFocusInnerElement","onPageSizeRelatedOptionsChange","enableOrDisableButtons","updateLabels","onBtFirst","onBtPrevious","onBtNext","onBtLast","_addFocusableContainerListener","goToFirstPage","formatNumber","_formatNumberCommas","thousandSeparator","decimalSeparator","strPage","strTo","strOf","strFirst","strPrevious","strNext","strLast","goToNextPage","goToPreviousPage","goToLastPage","maxRowFound","totalPages","getTotalPages","toggleButtonDisabled","zeroPagesToDisplay","isZeroPagesToDisplay","_setAriaDisabled","lastPageFound","masterRowCount","getMasterRowCount","setTotalLabelsToZero","isLoadingPageSize","moreText","announceAriaStatus","ariaRowStatus","ariaPageStatus","strZero","PaginationCoreModule","topDisplayedRowIndex","bottomDisplayedRowIndex","pageSizeFromGridOptions","isPaginateChildRows","onPaginationGridOptionChanged","onPageSizeGridOptionChanged","calculatePages","dispatchPaginationChangedEvent","goToPage","getPageForIndex","pageNumber","pageSizeAutoCalculated","pageSizeFromPageSizeSelector","pageSizeFromInitialState","defaultPageSize","calculatePagesAllRows","calculatePagesMasterRowsOnly","calculatedPagesNotActive","calculateBounds","unsetAutoCalculatedPageSize","oldPageSize","currentSize","setZeroRows","adjustCurrentPageIfInvalid","masterLastRowIndex","masterPageEndIndex","firstIndexNotToShow","maxRowIndex","checkPageSize","onPaginationAutoSizeChanged","notActive","isBodyRendered","PaginationModule","clientSide","serverSide","infinite","functionRowModels","deprecatedFunctions","new","old","CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE","_options","COLUMN_DEFINITION_VALIDATIONS","enterpriseMenuTabs","tab","columnsMenuParams","columnChooserParams","supportedRowModels","COL_DEF_VALIDATORS","objectName","allProperties","toolPanelClass","defaultAggFunc","chartDataType","headerGroupComponentParams","headerComponentParams","tooltipComponentParams","allowedAggFuncs","suppressColumnsToolPanel","suppressFiltersToolPanel","valueSetter","pivotComparator","cellEditorSelector","useValueFormatterForExport","useValueParserForImport","mainMenuItems","contextMenuItems","docsUrl","deprecations","validations","GRID_OPTION_DEFAULTS","CommunityFeaturesModule","processGridOptions","processOptions","GRID_OPTIONS_VALIDATORS","propertyExceptions","GRID_OPTION_DEPRECATIONS","renamed","onRangeSelectionChanged","onRangeDeleteStart","onRangeDeleteEnd","GRID_OPTION_VALIDATIONS","dependencies","apiFunction","deprecation","replacement","apiMethod","rowModels","validator","checkProperties","warnings","rulesOrGetter","rules","fromGetter","allRegistered","checkForRequiredDependencies","failed","failedKey","possibleOptions","exceptions","validProperties","containerName","invalidProperties","_fuzzyCheckStrings","inputValues","validValues","fuzzyMatches","validValue","invalidInput","getOwnPropertyNames","GridDestroyService","destroyCalled","ALWAYS_SYNC_GLOBAL_EVENTS","PROPERTY_COERCIONS","getCoercedValue","coerceFunc","GridOptionsService","_GridOptionsService","gridReadyFired","queueEvents","random","propertyEventService","globalEventHandlerFactory","restrictToSyncOnly","alwaysSync","eventHandler","q","gridApi","gridOptionsContext","gridOptionsChanged","mergeGridCommonParams","mergedParams","changeSetId","coercedValue","updatedParams","HeaderPositionUtils","nextColumn","getColMethod","getHeaderRowType","columnsInPath","indexToFocus","isAnyChildSpanningHeaderHeight","currentRowType","isColumn2","leafColumn","columnsInTheWay","colToFocus","centerHeaderContainer","LocaleService","variableValues","localisedText","found","ApiEventService","syncEventListeners","asyncEventListeners","syncGlobalEventListeners","globalEventListenerPairs","frameworkEventWrappingService","hasAsync","syncListener","asyncListener","destroyEventListeners","destroyGlobalListeners","PageBoundsListener","onModelUpdated","recalculateRowBounds","modelUpdatedEvent","PageBoundsService","pixelOffset","topRowBounds","bottomRowBounds","calculatePixelOffset","AriaAnnouncementService","descriptionContainer","pendingAnnouncements","updateAnnouncement","_setAriaRelevant","relevant","_setAriaAtomic","atomic","ColumnAnimationService","executeNextFuncs","executeLaterFuncs","activeNext","animationThreadCount","suppress","ensureAnimationCssClassPresent","animationThreadCountCopy","callbackNext","callbackLater","runFuncs","queue","ColumnHoverService","selectedColumns","OverlayService","showInitialOverlay","wrapperPadding","updateOverlayVisibility","overlayWrapperComp","doShowLoadingOverlay","doShowNoRowsOverlay","doHideOverlay","updateExclusive","wrapperCssClass","refreshWrapperPadding","wasExclusive","newPadding","RowCssClassCalculator","extraCssClass","preProcessRowClassRules","rowCls","rowClassFunc","rowClassParams","RowContainerHeightService","scrollY","uiBodyHeight","_getMaxDivHeight","testUpTo","stretching","newScrollY","newBodyHeight","getUiBodyHeight","calculateOffset","setUiContainerHeight","pixelsToShave","modelHeight","uiContainerHeight","maxScrollY","scrollPercent","setDivStretchOffset","clearOffset","newOffset","newOffsetFloor","modelPixel","modelMaxScroll","RowNodeSorter","isAccentedSort","primaryColumnsSortGroups","propChange","sortedRowNodes","mapper","sortedNodeA","sortedNodeB","sortOption","isDescending","comparatorResult","providedComparator","getComparator","comparatorOnCol","groupLeafField","primaryColumn","leafChild","displayCol","getShowRowGroupCol","keepingColumns","nodeIdsToColumns","mapToItems","pathRoot","depthFirstSearchChangedPath","pathItem","depthFirstSearchEverything","traverseEverything","traverseLeafNodes","includeUnchangedNodes","createPathItems","newEntryCount","populateColumnsMap","linkPathItems","thisItem","parentItem","addParentNode","getValueColumnsForNode","colsForThisNode","getNotValueColumnsForNode","SelectionService","selectionCtx","rowSelectionMode","selectionMode","resetNodes","isMultiSelect","overrideSelectionValue","isSelectionUIEvent","filteredNodes","newSelectionValue","partition","selectRange","selectChildren","clearOtherNodes","dispatchSelectionChanged","nodesToSelect","selectedRows","getSelectionCount","filterFromSelection","newSelectedNodes","rowNodeToKeepSelected","groupsToRefresh","otherRowNode","syncInOldRowNode","syncInNewRowNode","selectionCount","topLevelNodes","traverse","l","rowModelClientSide","getNodesToSelect","getSelectedCounts","selectedCount","notSelectedCount","validateSelectAllType","forEachNodeOnPage","recursivelyAddChildren","_isUsingNewRowSelectionAPI","selectedIds","SelectableService","updateSelectable","updateSelectableAfterGrouping","isRowSelecting","isGroupSelectsChildren","isCsrmGroupSelectsChildren","nodesToDeselect","nodeCallback","hasSelectableChild","rowSelectable","DEFAULT_SORTING_ORDER","SortController","nextDirection","getNextSortDirection","columnsToUpdate","sortableRowGroupColumns","clearedColumns","clearSortBarTheseColumns","updateSortIndex","lastColToChange","isCoupled","groupParent","lastSortIndexCol","allSortedCols","allSortedColsWithoutChangesOrGroups","sortedCols","columnsToSkip","columnToClear","getIndexedSortMap","isSortingLinked","isAggregated","isSecondary","isGroup","sortedRowGroupCols","allColsIndexes","iA","iB","isSortLinked","indexMap","col1","idx1","col2","idx2","getSortModel","canColumnDisplayMixedSort","isColumnSortCouplingActive","isGroupDisplayColumn","linkedColumns","sortableColumns","firstSort","SyncService","waitingForColumns","setColumnsAndData","isEnterprise","ChangeDetectionService","doChangeDetection","nodesToRefresh","onlyChangedColumns","ExpressionService","expressionToFunctionCache","evaluateExpression","createExpressionFunction","functionBody","createFunctionBody","theFunction","Function","ValueCache","cacheVersion","neverExpires","__cacheVersion","__cacheData","ValueService","initialised","isSsrm","cellExpressions","callColumnCellValueChangedHandler","lockedClosedGroup","isOpenGroup","groupAlwaysShowAggData","includeFooter","groupIncludeFooterOpt","forFilter","ignoreAggData","groupDataExists","aggDataExists","ignoreSsrmAggData","ssrmFooterGroupCol","executeFilterValueGetter","executeValueGetter","cellValueGetter","openedGroup","getOpenedGroup","suppliedFormatter","useFormatterFromColumn","valueWasDifferent","setValueUsingField","savedValue","valuesAreSame","fieldPieces","fieldPiece","getValueCallback","valueFromCache","getKeyForNode","GlobalGridOptions","_GlobalGridOptions","applyGlobalGridOptions","providedOptions","mergeStrategy","GridCoreCreator","gridComp","isFrozen","apiUrl","configurable","nextGridId","createUi","acceptChanges","getCoercedGridOptions","newGo","registeredModules","getRegisteredModules","createBeansList","createProvidedBeans","registerModuleUserComponents","registerControllers","registerModuleApiFunctions","passedViaConstructor","registered","allModules","mapNames","addModule","mod2","gridId2","addIndividualModule","currentModule","moduleUserComps","extractModuleEntity","apiFunctionService","seed","rowModelModules","rowModelModuleNames","moduleBeans","beansNoDuplicates","moduleEntities","extractor","infiniteRowModel","serverSideRowModel","getInfiniteRowModel","getServerSideRowModel","CsrmSsrmSharedApiModule","createMethod","createMethodProxy","globalObj","global","HTMLButtonElement","HTMLSelectElement","HTMLInputElement","defaultGridOptions","newRowsAction","SxcGridModule","_angular_core__WEBPACK_IMPORTED_MODULE_2__","$C","_angular_core__WEBPACK_IMPORTED_MODULE_3__","G2t","getRangeAt","execCommand","addRange","trueIcon","falseIcon","_angular_core__WEBPACK_IMPORTED_MODULE_0__","$event","FormsModule","MatRadioModule"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./node_modules/@ag-grid-community/client-side-row-model/dist/package/main.esm.mjs","./projects/eav-ui/src/app/shared/ag-grid/column-definitions.ts","./projects/eav-ui/src/app/shared/components/id-field/id-field.component.ts","./projects/eav-ui/src/app/shared/components/id-field/id-field.component.html","./projects/eav-ui/src/app/shared/ag-grid/apps-list-show/ag-bool-icon-params.ts","./projects/eav-ui/src/app/shared/ag-grid/apps-list-show/ag-bool-icon-renderer.html","./projects/eav-ui/src/app/shared/ag-grid/apps-list-show/ag-bool-icon-renderer.component.ts","./node_modules/@ag-grid-community/angular/fesm2022/ag-grid-community-angular.mjs","./node_modules/@ag-grid-community/core/dist/package/main.esm.mjs","./projects/eav-ui/src/app/shared/constants/default-grid-options.constants.ts","./projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module.ts","./projects/eav-ui/src/app/shared/helpers/copy-to-clipboard.helper.ts","./projects/eav-ui/src/app/dev-rest/api/true-false/true-false.component.ts","./projects/eav-ui/src/app/dev-rest/api/true-false/true-false.component.html","./projects/eav-ui/src/app/shared/components/boolean-filter/boolean-filter.component.ts","./projects/eav-ui/src/app/shared/components/boolean-filter/boolean-filter.component.html"],"sourcesContent":["// community-modules/client-side-row-model/src/clientSideRowModelModule.ts\nimport { _defineModule } from \"@ag-grid-community/core\";\nimport { ModuleNames, RowModelHelperService, _CsrmSsrmSharedApiModule } from \"@ag-grid-community/core\";\n\n// community-modules/client-side-row-model/src/clientSideRowModel/clientSideRowModel.ts\nimport {\n  BeanStub,\n  ChangedPath,\n  ClientSideRowModelSteps,\n  RowHighlightPosition,\n  RowNode as RowNode2,\n  _debounce,\n  _errorOnce as _errorOnce2,\n  _exists,\n  _getGrandTotalRow,\n  _getGroupSelectsDescendants,\n  _getGroupTotalRowCallback,\n  _getRowHeightForNode,\n  _insertIntoArray,\n  _isAnimateRows,\n  _isDomLayout,\n  _last,\n  _missing,\n  _missingOrEmpty as _missingOrEmpty2,\n  _removeFromArray\n} from \"@ag-grid-community/core\";\n\n// community-modules/client-side-row-model/src/clientSideRowModel/clientSideNodeManager.ts\nimport {\n  RowNode,\n  _cloneObject,\n  _errorOnce,\n  _getRowIdCallback,\n  _missingOrEmpty,\n  _warnOnce\n} from \"@ag-grid-community/core\";\nvar ROOT_NODE_ID = \"ROOT_NODE_ID\";\nvar TOP_LEVEL = 0;\nvar ClientSideNodeManager = class {\n  constructor(rootNode, gos, eventService, funcColsService, selectionService, beans) {\n    this.nextId = 0;\n    // has row data actually been set\n    this.rowCountReady = false;\n    // when user is provide the id's, we also keep a map of ids to row nodes for convenience\n    this.allNodesMap = {};\n    this.rootNode = rootNode;\n    this.gos = gos;\n    this.eventService = eventService;\n    this.funcColsService = funcColsService;\n    this.beans = beans;\n    this.selectionService = selectionService;\n    this.rootNode.group = true;\n    this.rootNode.level = -1;\n    this.rootNode.id = ROOT_NODE_ID;\n    this.rootNode.allLeafChildren = [];\n    this.rootNode.childrenAfterGroup = [];\n    this.rootNode.childrenAfterSort = [];\n    this.rootNode.childrenAfterAggFilter = [];\n    this.rootNode.childrenAfterFilter = [];\n  }\n  getCopyOfNodesMap() {\n    return _cloneObject(this.allNodesMap);\n  }\n  getRowNode(id) {\n    return this.allNodesMap[id];\n  }\n  setRowData(rowData) {\n    if (typeof rowData === \"string\") {\n      _warnOnce(\"rowData must be an array.\");\n      return;\n    }\n    this.rowCountReady = true;\n    this.dispatchRowDataUpdateStartedEvent(rowData);\n    const rootNode = this.rootNode;\n    const sibling = this.rootNode.sibling;\n    rootNode.childrenAfterFilter = null;\n    rootNode.childrenAfterGroup = null;\n    rootNode.childrenAfterAggFilter = null;\n    rootNode.childrenAfterSort = null;\n    rootNode.childrenMapped = null;\n    rootNode.updateHasChildren();\n    this.nextId = 0;\n    this.allNodesMap = {};\n    if (rowData) {\n      rootNode.allLeafChildren = rowData.map(\n        (dataItem, index) => this.createNode(dataItem, this.rootNode, TOP_LEVEL, index)\n      );\n    } else {\n      rootNode.allLeafChildren = [];\n      rootNode.childrenAfterGroup = [];\n    }\n    if (sibling) {\n      sibling.childrenAfterFilter = rootNode.childrenAfterFilter;\n      sibling.childrenAfterGroup = rootNode.childrenAfterGroup;\n      sibling.childrenAfterAggFilter = rootNode.childrenAfterAggFilter;\n      sibling.childrenAfterSort = rootNode.childrenAfterSort;\n      sibling.childrenMapped = rootNode.childrenMapped;\n      sibling.allLeafChildren = rootNode.allLeafChildren;\n    }\n  }\n  updateRowData(rowDataTran) {\n    this.rowCountReady = true;\n    this.dispatchRowDataUpdateStartedEvent(rowDataTran.add);\n    const updateRowDataResult = {\n      rowNodeTransaction: { remove: [], update: [], add: [] },\n      rowsInserted: false\n    };\n    const nodesToUnselect = [];\n    this.executeRemove(rowDataTran, updateRowDataResult, nodesToUnselect);\n    this.executeUpdate(rowDataTran, updateRowDataResult, nodesToUnselect);\n    this.executeAdd(rowDataTran, updateRowDataResult);\n    this.updateSelection(nodesToUnselect, \"rowDataChanged\");\n    return updateRowDataResult;\n  }\n  /**\n   * Used by the immutable service, after updateRowData, after updating with a generated transaction to\n   * apply the order as specified by the the new data. We use sourceRowIndex to determine the order of the rows.\n   * Time complexity is O(n) where n is the number of rows/rowData\n   * @returns true if the order changed, otherwise false\n   */\n  updateRowOrderFromRowData(rowData) {\n    const rows = this.rootNode.allLeafChildren;\n    const rowsLength = rows?.length ?? 0;\n    const rowsOutOfOrder = /* @__PURE__ */ new Map();\n    let firstIndexOutOfOrder = -1;\n    let lastIndexOutOfOrder = -1;\n    for (let i = 0; i < rowsLength; ++i) {\n      const row = rows[i];\n      const data = row.data;\n      if (data !== rowData[i]) {\n        if (lastIndexOutOfOrder < 0) {\n          firstIndexOutOfOrder = i;\n        }\n        lastIndexOutOfOrder = i;\n        rowsOutOfOrder.set(data, row);\n      }\n    }\n    if (firstIndexOutOfOrder < 0) {\n      return false;\n    }\n    for (let i = firstIndexOutOfOrder; i <= lastIndexOutOfOrder; ++i) {\n      const row = rowsOutOfOrder.get(rowData[i]);\n      if (row !== void 0) {\n        rows[i] = row;\n        row.sourceRowIndex = i;\n      }\n    }\n    return true;\n  }\n  isRowCountReady() {\n    return this.rowCountReady;\n  }\n  dispatchRowDataUpdateStartedEvent(rowData) {\n    this.eventService.dispatchEvent({\n      type: \"rowDataUpdateStarted\",\n      firstRowData: rowData?.length ? rowData[0] : null\n    });\n  }\n  updateSelection(nodesToUnselect, source) {\n    const selectionChanged = nodesToUnselect.length > 0;\n    if (selectionChanged) {\n      this.selectionService.setNodesSelected({\n        newValue: false,\n        nodes: nodesToUnselect,\n        suppressFinishActions: true,\n        source\n      });\n    }\n    this.selectionService.updateGroupsFromChildrenSelections(source);\n    if (selectionChanged) {\n      this.eventService.dispatchEvent({\n        type: \"selectionChanged\",\n        source\n      });\n    }\n  }\n  executeAdd(rowDataTran, result) {\n    const add = rowDataTran.add;\n    if (_missingOrEmpty(add)) {\n      return;\n    }\n    const allLeafChildren = this.rootNode.allLeafChildren;\n    let addIndex = allLeafChildren.length;\n    if (typeof rowDataTran.addIndex === \"number\") {\n      addIndex = this.sanitizeAddIndex(rowDataTran.addIndex);\n      if (addIndex > 0) {\n        const isTreeData = this.gos.get(\"treeData\");\n        if (isTreeData) {\n          for (let i = 0; i < allLeafChildren.length; i++) {\n            const node = allLeafChildren[i];\n            if (node?.rowIndex == addIndex - 1) {\n              addIndex = i + 1;\n              break;\n            }\n          }\n        }\n      }\n    }\n    const newNodes = add.map(\n      (item, index) => this.createNode(item, this.rootNode, TOP_LEVEL, addIndex + index)\n    );\n    if (addIndex < allLeafChildren.length) {\n      const nodesBeforeIndex = allLeafChildren.slice(0, addIndex);\n      const nodesAfterIndex = allLeafChildren.slice(addIndex, allLeafChildren.length);\n      const nodesAfterIndexFirstIndex = nodesBeforeIndex.length + newNodes.length;\n      for (let index = 0, length = nodesAfterIndex.length; index < length; ++index) {\n        nodesAfterIndex[index].sourceRowIndex = nodesAfterIndexFirstIndex + index;\n      }\n      this.rootNode.allLeafChildren = [...nodesBeforeIndex, ...newNodes, ...nodesAfterIndex];\n      result.rowsInserted = true;\n    } else {\n      this.rootNode.allLeafChildren = allLeafChildren.concat(newNodes);\n    }\n    const sibling = this.rootNode.sibling;\n    if (sibling) {\n      sibling.allLeafChildren = allLeafChildren;\n    }\n    result.rowNodeTransaction.add = newNodes;\n  }\n  sanitizeAddIndex(addIndex) {\n    const allChildrenCount = this.rootNode.allLeafChildren?.length ?? 0;\n    if (addIndex < 0 || addIndex >= allChildrenCount || Number.isNaN(addIndex)) {\n      return allChildrenCount;\n    }\n    return Math.ceil(addIndex);\n  }\n  executeRemove(rowDataTran, { rowNodeTransaction }, nodesToUnselect) {\n    const { remove } = rowDataTran;\n    if (_missingOrEmpty(remove)) {\n      return;\n    }\n    const rowIdsRemoved = {};\n    remove.forEach((item) => {\n      const rowNode = this.lookupRowNode(item);\n      if (!rowNode) {\n        return;\n      }\n      if (rowNode.isSelected()) {\n        nodesToUnselect.push(rowNode);\n      }\n      rowNode.clearRowTopAndRowIndex();\n      rowIdsRemoved[rowNode.id] = true;\n      delete this.allNodesMap[rowNode.id];\n      rowNodeTransaction.remove.push(rowNode);\n    });\n    this.rootNode.allLeafChildren = this.rootNode.allLeafChildren?.filter((rowNode) => !rowIdsRemoved[rowNode.id]) ?? null;\n    this.rootNode.allLeafChildren?.forEach((node, idx) => {\n      node.sourceRowIndex = idx;\n    });\n    const sibling = this.rootNode.sibling;\n    if (sibling) {\n      sibling.allLeafChildren = this.rootNode.allLeafChildren;\n    }\n  }\n  executeUpdate(rowDataTran, { rowNodeTransaction }, nodesToUnselect) {\n    const { update } = rowDataTran;\n    if (_missingOrEmpty(update)) {\n      return;\n    }\n    update.forEach((item) => {\n      const rowNode = this.lookupRowNode(item);\n      if (!rowNode) {\n        return;\n      }\n      rowNode.updateData(item);\n      if (!rowNode.selectable && rowNode.isSelected()) {\n        nodesToUnselect.push(rowNode);\n      }\n      this.setMasterForRow(rowNode, item, TOP_LEVEL, false);\n      rowNodeTransaction.update.push(rowNode);\n    });\n  }\n  lookupRowNode(data) {\n    const getRowIdFunc = _getRowIdCallback(this.gos);\n    let rowNode;\n    if (getRowIdFunc) {\n      const id = getRowIdFunc({ data, level: 0 });\n      rowNode = this.allNodesMap[id];\n      if (!rowNode) {\n        _errorOnce(`could not find row id=${id}, data item was not found for this id`);\n        return null;\n      }\n    } else {\n      rowNode = this.rootNode.allLeafChildren?.find((node) => node.data === data);\n      if (!rowNode) {\n        _errorOnce(`could not find data item as object was not found`, data);\n        _errorOnce(`Consider using getRowId to help the Grid find matching row data`);\n        return null;\n      }\n    }\n    return rowNode || null;\n  }\n  createNode(dataItem, parent, level, sourceRowIndex) {\n    const node = new RowNode(this.beans);\n    node.sourceRowIndex = sourceRowIndex;\n    node.group = false;\n    this.setMasterForRow(node, dataItem, level, true);\n    if (parent) {\n      node.parent = parent;\n    }\n    node.level = level;\n    node.setDataAndId(dataItem, this.nextId.toString());\n    if (this.allNodesMap[node.id]) {\n      _warnOnce(\n        `duplicate node id '${node.id}' detected from getRowId callback, this could cause issues in your grid.`\n      );\n    }\n    this.allNodesMap[node.id] = node;\n    this.nextId++;\n    return node;\n  }\n  setMasterForRow(rowNode, data, level, setExpanded) {\n    const isTreeData = this.gos.get(\"treeData\");\n    if (isTreeData) {\n      rowNode.setMaster(false);\n      if (setExpanded) {\n        rowNode.expanded = false;\n      }\n    } else {\n      const masterDetail = this.gos.get(\"masterDetail\");\n      if (masterDetail) {\n        const isRowMasterFunc = this.gos.get(\"isRowMaster\");\n        if (isRowMasterFunc) {\n          rowNode.setMaster(isRowMasterFunc(data));\n        } else {\n          rowNode.setMaster(true);\n        }\n      } else {\n        rowNode.setMaster(false);\n      }\n      if (setExpanded) {\n        const rowGroupColumns = this.funcColsService.getRowGroupColumns();\n        const numRowGroupColumns = rowGroupColumns ? rowGroupColumns.length : 0;\n        const masterRowLevel = level + numRowGroupColumns;\n        rowNode.expanded = rowNode.master ? this.isExpanded(masterRowLevel) : false;\n      }\n    }\n  }\n  isExpanded(level) {\n    const expandByDefault = this.gos.get(\"groupDefaultExpanded\");\n    if (expandByDefault === -1) {\n      return true;\n    }\n    return level < expandByDefault;\n  }\n};\n\n// community-modules/client-side-row-model/src/clientSideRowModel/clientSideRowModel.ts\nvar ClientSideRowModel = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowModel\";\n    this.onRowHeightChanged_debounced = _debounce(this.onRowHeightChanged.bind(this), 100);\n    this.rowsToDisplay = [];\n    /** Has the start method been called */\n    this.hasStarted = false;\n    /** E.g. data has been set into the node manager already */\n    this.shouldSkipSettingDataOnStart = false;\n    /**\n     * This is to prevent refresh model being called when it's already being called.\n     * E.g. the group stage can trigger initial state filter model to be applied. This fires onFilterChanged,\n     * which then triggers the listener here that calls refresh model again but at the filter stage\n     * (which is about to be run by the original call).\n     */\n    this.isRefreshingModel = false;\n    this.rowCountReady = false;\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.selectionService = beans.selectionService;\n    this.valueCache = beans.valueCache;\n    this.environment = beans.environment;\n    this.filterStage = beans.filterStage;\n    this.sortStage = beans.sortStage;\n    this.flattenStage = beans.flattenStage;\n    this.groupStage = beans.groupStage;\n    this.aggregationStage = beans.aggregationStage;\n    this.pivotStage = beans.pivotStage;\n    this.filterAggregatesStage = beans.filterAggregatesStage;\n  }\n  postConstruct() {\n    const refreshEverythingFunc = this.refreshModel.bind(this, { step: ClientSideRowModelSteps.EVERYTHING });\n    const animate = !this.gos.get(\"suppressAnimationFrame\");\n    const refreshEverythingAfterColsChangedFunc = this.refreshModel.bind(this, {\n      step: ClientSideRowModelSteps.EVERYTHING,\n      // after cols change, row grouping (the first stage) could of changed\n      afterColumnsChanged: true,\n      keepRenderedRows: true,\n      // we want animations cos sorting or filtering could be applied\n      animate\n    });\n    this.addManagedEventListeners({\n      newColumnsLoaded: refreshEverythingAfterColsChangedFunc,\n      columnRowGroupChanged: refreshEverythingFunc,\n      columnValueChanged: this.onValueChanged.bind(this),\n      columnPivotChanged: this.refreshModel.bind(this, { step: ClientSideRowModelSteps.PIVOT }),\n      filterChanged: this.onFilterChanged.bind(this),\n      sortChanged: this.onSortChanged.bind(this),\n      columnPivotModeChanged: refreshEverythingFunc,\n      gridStylesChanged: this.onGridStylesChanges.bind(this),\n      gridReady: this.onGridReady.bind(this)\n    });\n    this.addPropertyListeners();\n    this.rootNode = new RowNode2(this.beans);\n    this.nodeManager = new ClientSideNodeManager(\n      this.rootNode,\n      this.gos,\n      this.eventService,\n      this.funcColsService,\n      this.selectionService,\n      this.beans\n    );\n  }\n  addPropertyListeners() {\n    const resetProps = /* @__PURE__ */ new Set([\"treeData\", \"masterDetail\"]);\n    const groupStageRefreshProps = /* @__PURE__ */ new Set([\n      \"groupDefaultExpanded\",\n      \"groupAllowUnbalanced\",\n      \"initialGroupOrderComparator\",\n      \"groupHideOpenParents\",\n      \"groupDisplayType\"\n    ]);\n    const filterStageRefreshProps = /* @__PURE__ */ new Set([\"excludeChildrenWhenTreeDataFiltering\"]);\n    const pivotStageRefreshProps = /* @__PURE__ */ new Set([\n      \"removePivotHeaderRowWhenSingleValueColumn\",\n      \"pivotRowTotals\",\n      \"pivotColumnGroupTotals\",\n      \"suppressExpandablePivotGroups\"\n    ]);\n    const aggregateStageRefreshProps = /* @__PURE__ */ new Set([\n      \"getGroupRowAgg\",\n      \"alwaysAggregateAtRootLevel\",\n      \"groupIncludeTotalFooter\",\n      \"suppressAggFilteredOnly\",\n      \"grandTotalRow\"\n    ]);\n    const sortStageRefreshProps = /* @__PURE__ */ new Set([\n      \"postSortRows\",\n      \"groupDisplayType\",\n      \"accentedSort\"\n    ]);\n    const filterAggStageRefreshProps = /* @__PURE__ */ new Set([]);\n    const flattenStageRefreshProps = /* @__PURE__ */ new Set([\n      \"groupRemoveSingleChildren\",\n      \"groupRemoveLowestSingleChildren\",\n      \"groupIncludeFooter\",\n      \"groupTotalRow\"\n    ]);\n    const allProps = [\n      ...resetProps,\n      ...groupStageRefreshProps,\n      ...filterStageRefreshProps,\n      ...pivotStageRefreshProps,\n      ...pivotStageRefreshProps,\n      ...aggregateStageRefreshProps,\n      ...sortStageRefreshProps,\n      ...filterAggStageRefreshProps,\n      ...flattenStageRefreshProps\n    ];\n    this.addManagedPropertyListeners(allProps, (params) => {\n      const properties = params.changeSet?.properties;\n      if (!properties) {\n        return;\n      }\n      const arePropertiesImpacted = (propSet) => properties.some((prop) => propSet.has(prop));\n      if (arePropertiesImpacted(resetProps)) {\n        this.setRowData(this.rootNode.allLeafChildren.map((child) => child.data));\n        return;\n      }\n      if (arePropertiesImpacted(groupStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.EVERYTHING });\n        return;\n      }\n      if (arePropertiesImpacted(filterStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.FILTER });\n        return;\n      }\n      if (arePropertiesImpacted(pivotStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.PIVOT });\n        return;\n      }\n      if (arePropertiesImpacted(aggregateStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.AGGREGATE });\n        return;\n      }\n      if (arePropertiesImpacted(sortStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.SORT });\n        return;\n      }\n      if (arePropertiesImpacted(filterAggStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.FILTER_AGGREGATES });\n        return;\n      }\n      if (arePropertiesImpacted(flattenStageRefreshProps)) {\n        this.refreshModel({ step: ClientSideRowModelSteps.MAP });\n      }\n    });\n    this.addManagedPropertyListener(\"rowHeight\", () => this.resetRowHeights());\n  }\n  start() {\n    this.hasStarted = true;\n    if (this.shouldSkipSettingDataOnStart) {\n      this.dispatchUpdateEventsAndRefresh();\n    } else {\n      this.setInitialData();\n    }\n  }\n  setInitialData() {\n    const rowData = this.gos.get(\"rowData\");\n    if (rowData) {\n      this.shouldSkipSettingDataOnStart = true;\n      this.setRowData(rowData);\n    }\n  }\n  ensureRowHeightsValid(startPixel, endPixel, startLimitIndex, endLimitIndex) {\n    let atLeastOneChange;\n    let res = false;\n    do {\n      atLeastOneChange = false;\n      const rowAtStartPixel = this.getRowIndexAtPixel(startPixel);\n      const rowAtEndPixel = this.getRowIndexAtPixel(endPixel);\n      const firstRow = Math.max(rowAtStartPixel, startLimitIndex);\n      const lastRow = Math.min(rowAtEndPixel, endLimitIndex);\n      for (let rowIndex = firstRow; rowIndex <= lastRow; rowIndex++) {\n        const rowNode = this.getRow(rowIndex);\n        if (rowNode.rowHeightEstimated) {\n          const rowHeight = _getRowHeightForNode(this.gos, rowNode);\n          rowNode.setRowHeight(rowHeight.height);\n          atLeastOneChange = true;\n          res = true;\n        }\n      }\n      if (atLeastOneChange) {\n        this.setRowTopAndRowIndex();\n      }\n    } while (atLeastOneChange);\n    return res;\n  }\n  setRowTopAndRowIndex() {\n    const defaultRowHeight = this.environment.getDefaultRowHeight();\n    let nextRowTop = 0;\n    const displayedRowsMapped = /* @__PURE__ */ new Set();\n    const allowEstimate = _isDomLayout(this.gos, \"normal\");\n    for (let i = 0; i < this.rowsToDisplay.length; i++) {\n      const rowNode = this.rowsToDisplay[i];\n      if (rowNode.id != null) {\n        displayedRowsMapped.add(rowNode.id);\n      }\n      if (rowNode.rowHeight == null) {\n        const rowHeight = _getRowHeightForNode(this.gos, rowNode, allowEstimate, defaultRowHeight);\n        rowNode.setRowHeight(rowHeight.height, rowHeight.estimated);\n      }\n      rowNode.setRowTop(nextRowTop);\n      rowNode.setRowIndex(i);\n      nextRowTop += rowNode.rowHeight;\n    }\n    return displayedRowsMapped;\n  }\n  clearRowTopAndRowIndex(changedPath, displayedRowsMapped) {\n    const changedPathActive = changedPath.isActive();\n    const clearIfNotDisplayed = (rowNode) => {\n      if (rowNode && rowNode.id != null && !displayedRowsMapped.has(rowNode.id)) {\n        rowNode.clearRowTopAndRowIndex();\n      }\n    };\n    const recurse = (rowNode) => {\n      clearIfNotDisplayed(rowNode);\n      clearIfNotDisplayed(rowNode.detailNode);\n      clearIfNotDisplayed(rowNode.sibling);\n      if (rowNode.hasChildren()) {\n        if (rowNode.childrenAfterGroup) {\n          const isRootNode = rowNode.level == -1;\n          const skipChildren = changedPathActive && !isRootNode && !rowNode.expanded;\n          if (!skipChildren) {\n            rowNode.childrenAfterGroup.forEach(recurse);\n          }\n        }\n      }\n    };\n    recurse(this.rootNode);\n  }\n  // returns false if row was moved, otherwise true\n  ensureRowsAtPixel(rowNodes, pixel, increment = 0) {\n    const indexAtPixelNow = this.getRowIndexAtPixel(pixel);\n    const rowNodeAtPixelNow = this.getRow(indexAtPixelNow);\n    const animate = !this.gos.get(\"suppressAnimationFrame\");\n    if (rowNodeAtPixelNow === rowNodes[0]) {\n      return false;\n    }\n    const allLeafChildren = this.rootNode.allLeafChildren;\n    rowNodes.forEach((rowNode) => {\n      _removeFromArray(allLeafChildren, rowNode);\n    });\n    rowNodes.forEach((rowNode, idx) => {\n      _insertIntoArray(allLeafChildren, rowNode, Math.max(indexAtPixelNow + increment, 0) + idx);\n    });\n    rowNodes.forEach((rowNode, index) => {\n      rowNode.sourceRowIndex = index;\n    });\n    this.refreshModel({\n      step: ClientSideRowModelSteps.EVERYTHING,\n      keepRenderedRows: true,\n      keepEditingRows: true,\n      animate,\n      rowNodesOrderChanged: true\n      // We assume the order changed and we don't need to check if it really did\n    });\n    return true;\n  }\n  highlightRowAtPixel(rowNode, pixel) {\n    const indexAtPixelNow = pixel != null ? this.getRowIndexAtPixel(pixel) : null;\n    const rowNodeAtPixelNow = indexAtPixelNow != null ? this.getRow(indexAtPixelNow) : null;\n    if (!rowNodeAtPixelNow || !rowNode || pixel == null) {\n      this.clearHighlightedRow();\n      return;\n    }\n    const highlight = this.getHighlightPosition(pixel, rowNodeAtPixelNow);\n    const isSamePosition = this.isHighlightingCurrentPosition(rowNode, rowNodeAtPixelNow, highlight);\n    const isDifferentNode = this.lastHighlightedRow != null && this.lastHighlightedRow !== rowNodeAtPixelNow;\n    if (isSamePosition || isDifferentNode) {\n      this.clearHighlightedRow();\n      if (isSamePosition) {\n        return;\n      }\n    }\n    rowNodeAtPixelNow.setHighlighted(highlight);\n    this.lastHighlightedRow = rowNodeAtPixelNow;\n  }\n  getHighlightPosition(pixel, rowNode) {\n    if (!rowNode) {\n      const index = this.getRowIndexAtPixel(pixel);\n      rowNode = this.getRow(index || 0);\n      if (!rowNode) {\n        return RowHighlightPosition.Below;\n      }\n    }\n    const { rowTop, rowHeight } = rowNode;\n    return pixel - rowTop < rowHeight / 2 ? RowHighlightPosition.Above : RowHighlightPosition.Below;\n  }\n  getLastHighlightedRowNode() {\n    return this.lastHighlightedRow;\n  }\n  isHighlightingCurrentPosition(movingRowNode, hoveredRowNode, highlightPosition) {\n    if (movingRowNode === hoveredRowNode) {\n      return true;\n    }\n    const diff = highlightPosition === RowHighlightPosition.Above ? -1 : 1;\n    if (this.getRow(hoveredRowNode.rowIndex + diff) === movingRowNode) {\n      return true;\n    }\n    return false;\n  }\n  clearHighlightedRow() {\n    if (this.lastHighlightedRow) {\n      this.lastHighlightedRow.setHighlighted(null);\n      this.lastHighlightedRow = null;\n    }\n  }\n  isLastRowIndexKnown() {\n    return true;\n  }\n  getRowCount() {\n    if (this.rowsToDisplay) {\n      return this.rowsToDisplay.length;\n    }\n    return 0;\n  }\n  /**\n   * Returns the number of rows with level === 1\n   */\n  getTopLevelRowCount() {\n    if (this.rowsToDisplay.length === 0) {\n      return 0;\n    }\n    const showingRootNode = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;\n    if (showingRootNode) {\n      return 1;\n    }\n    const filteredChildren = this.rootNode.childrenAfterAggFilter;\n    const totalFooterInc = this.rootNode.sibling ? 1 : 0;\n    return (filteredChildren ? filteredChildren.length : 0) + totalFooterInc;\n  }\n  /**\n   * Get the row display index by the top level index\n   * top level index is the index of rows with level === 1\n   */\n  getTopLevelRowDisplayedIndex(topLevelIndex) {\n    const showingRootNode = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;\n    if (showingRootNode) {\n      return topLevelIndex;\n    }\n    let adjustedIndex = topLevelIndex;\n    if (this.rowsToDisplay[0].footer) {\n      if (topLevelIndex === 0) {\n        return 0;\n      }\n      adjustedIndex -= 1;\n    }\n    const lastRow = this.rowsToDisplay[this.rowsToDisplay.length - 1];\n    const indexOutsideGroupBounds = adjustedIndex >= this.rootNode.childrenAfterSort.length;\n    if (lastRow.footer && indexOutsideGroupBounds) {\n      return lastRow.rowIndex;\n    }\n    let rowNode = this.rootNode.childrenAfterSort[adjustedIndex];\n    if (this.gos.get(\"groupHideOpenParents\")) {\n      while (rowNode.expanded && rowNode.childrenAfterSort && rowNode.childrenAfterSort.length > 0) {\n        rowNode = rowNode.childrenAfterSort[0];\n      }\n    }\n    return rowNode.rowIndex;\n  }\n  getRowBounds(index) {\n    if (_missing(this.rowsToDisplay)) {\n      return null;\n    }\n    const rowNode = this.rowsToDisplay[index];\n    if (rowNode) {\n      return {\n        rowTop: rowNode.rowTop,\n        rowHeight: rowNode.rowHeight\n      };\n    }\n    return null;\n  }\n  onRowGroupOpened() {\n    const animate = _isAnimateRows(this.gos);\n    this.refreshModel({ step: ClientSideRowModelSteps.MAP, keepRenderedRows: true, animate });\n  }\n  onFilterChanged(event) {\n    if (event.afterDataChange) {\n      return;\n    }\n    const animate = _isAnimateRows(this.gos);\n    const primaryOrQuickFilterChanged = event.columns.length === 0 || event.columns.some((col) => col.isPrimary());\n    const step = primaryOrQuickFilterChanged ? ClientSideRowModelSteps.FILTER : ClientSideRowModelSteps.FILTER_AGGREGATES;\n    this.refreshModel({ step, keepRenderedRows: true, animate });\n  }\n  onSortChanged() {\n    const animate = _isAnimateRows(this.gos);\n    this.refreshModel({\n      step: ClientSideRowModelSteps.SORT,\n      keepRenderedRows: true,\n      animate,\n      keepEditingRows: true\n    });\n  }\n  getType() {\n    return \"clientSide\";\n  }\n  onValueChanged() {\n    if (this.columnModel.isPivotActive()) {\n      this.refreshModel({ step: ClientSideRowModelSteps.PIVOT });\n    } else {\n      this.refreshModel({ step: ClientSideRowModelSteps.AGGREGATE });\n    }\n  }\n  createChangePath(rowNodeTransactions) {\n    const noTransactions = _missingOrEmpty2(rowNodeTransactions);\n    const changedPath = new ChangedPath(false, this.rootNode);\n    if (noTransactions) {\n      changedPath.setInactive();\n    }\n    return changedPath;\n  }\n  isSuppressModelUpdateAfterUpdateTransaction(params) {\n    if (!this.gos.get(\"suppressModelUpdateAfterUpdateTransaction\")) {\n      return false;\n    }\n    if (params.rowNodeTransactions == null) {\n      return false;\n    }\n    const transWithAddsOrDeletes = params.rowNodeTransactions.filter(\n      (tx) => tx.add != null && tx.add.length > 0 || tx.remove != null && tx.remove.length > 0\n    );\n    const transactionsContainUpdatesOnly = transWithAddsOrDeletes == null || transWithAddsOrDeletes.length == 0;\n    return transactionsContainUpdatesOnly;\n  }\n  buildRefreshModelParams(step) {\n    let paramsStep = ClientSideRowModelSteps.EVERYTHING;\n    const stepsMapped = {\n      everything: ClientSideRowModelSteps.EVERYTHING,\n      group: ClientSideRowModelSteps.EVERYTHING,\n      filter: ClientSideRowModelSteps.FILTER,\n      map: ClientSideRowModelSteps.MAP,\n      aggregate: ClientSideRowModelSteps.AGGREGATE,\n      filter_aggregates: ClientSideRowModelSteps.FILTER_AGGREGATES,\n      sort: ClientSideRowModelSteps.SORT,\n      pivot: ClientSideRowModelSteps.PIVOT,\n      nothing: ClientSideRowModelSteps.NOTHING\n    };\n    if (_exists(step)) {\n      paramsStep = stepsMapped[step];\n    }\n    if (_missing(paramsStep)) {\n      _errorOnce2(`invalid step ${step}, available steps are ${Object.keys(stepsMapped).join(\", \")}`);\n      return void 0;\n    }\n    const animate = !this.gos.get(\"suppressAnimationFrame\");\n    const modelParams = {\n      step: paramsStep,\n      keepRenderedRows: true,\n      keepEditingRows: true,\n      animate\n    };\n    return modelParams;\n  }\n  refreshModel(paramsOrStep) {\n    if (!this.hasStarted || this.isRefreshingModel || this.columnModel.isChangeEventsDispatching()) {\n      return;\n    }\n    const params = typeof paramsOrStep === \"object\" && \"step\" in paramsOrStep ? paramsOrStep : this.buildRefreshModelParams(paramsOrStep);\n    if (!params) {\n      return;\n    }\n    if (this.isSuppressModelUpdateAfterUpdateTransaction(params)) {\n      return;\n    }\n    const changedPath = this.createChangePath(params.rowNodeTransactions);\n    this.isRefreshingModel = true;\n    switch (params.step) {\n      case ClientSideRowModelSteps.EVERYTHING:\n        this.doRowGrouping(\n          params.rowNodeTransactions,\n          changedPath,\n          !!params.rowNodesOrderChanged,\n          !!params.afterColumnsChanged\n        );\n      case ClientSideRowModelSteps.FILTER:\n        this.doFilter(changedPath);\n      case ClientSideRowModelSteps.PIVOT:\n        this.doPivot(changedPath);\n      case ClientSideRowModelSteps.AGGREGATE:\n        this.doAggregate(changedPath);\n      case ClientSideRowModelSteps.FILTER_AGGREGATES:\n        this.doFilterAggregates(changedPath);\n      case ClientSideRowModelSteps.SORT:\n        this.doSort(params.rowNodeTransactions, changedPath);\n      case ClientSideRowModelSteps.MAP:\n        this.doRowsToDisplay();\n    }\n    const displayedNodesMapped = this.setRowTopAndRowIndex();\n    this.clearRowTopAndRowIndex(changedPath, displayedNodesMapped);\n    this.isRefreshingModel = false;\n    this.eventService.dispatchEvent({\n      type: \"modelUpdated\",\n      animate: params.animate,\n      keepRenderedRows: params.keepRenderedRows,\n      newData: params.newData,\n      newPage: false,\n      keepUndoRedoStack: params.keepUndoRedoStack\n    });\n  }\n  isEmpty() {\n    const rowsMissing = _missing(this.rootNode.allLeafChildren) || this.rootNode.allLeafChildren.length === 0;\n    return _missing(this.rootNode) || rowsMissing || !this.columnModel.isReady();\n  }\n  isRowsToRender() {\n    return _exists(this.rowsToDisplay) && this.rowsToDisplay.length > 0;\n  }\n  getNodesInRangeForSelection(firstInRange, lastInRange) {\n    let started = false;\n    let finished = false;\n    const result = [];\n    const groupsSelectChildren = _getGroupSelectsDescendants(this.gos);\n    this.forEachNodeAfterFilterAndSort((rowNode) => {\n      if (finished) {\n        return;\n      }\n      if (started) {\n        if (rowNode === lastInRange || rowNode === firstInRange) {\n          finished = true;\n          if (rowNode.group && groupsSelectChildren) {\n            result.push(...rowNode.allLeafChildren);\n            return;\n          }\n        }\n      }\n      if (!started) {\n        if (rowNode !== lastInRange && rowNode !== firstInRange) {\n          return;\n        }\n        started = true;\n      }\n      const includeThisNode = !rowNode.group || !groupsSelectChildren;\n      if (includeThisNode) {\n        result.push(rowNode);\n        return;\n      }\n    });\n    return result;\n  }\n  // eslint-disable-next-line\n  setDatasource(datasource) {\n    _errorOnce2(\"should never call setDatasource on clientSideRowController\");\n  }\n  getTopLevelNodes() {\n    return this.rootNode ? this.rootNode.childrenAfterGroup : null;\n  }\n  getRootNode() {\n    return this.rootNode;\n  }\n  getRow(index) {\n    return this.rowsToDisplay[index];\n  }\n  isRowPresent(rowNode) {\n    return this.rowsToDisplay.indexOf(rowNode) >= 0;\n  }\n  getRowIndexAtPixel(pixelToMatch) {\n    if (this.isEmpty() || this.rowsToDisplay.length === 0) {\n      return -1;\n    }\n    let bottomPointer = 0;\n    let topPointer = this.rowsToDisplay.length - 1;\n    if (pixelToMatch <= 0) {\n      return 0;\n    }\n    const lastNode = _last(this.rowsToDisplay);\n    if (lastNode.rowTop <= pixelToMatch) {\n      return this.rowsToDisplay.length - 1;\n    }\n    let oldBottomPointer = -1;\n    let oldTopPointer = -1;\n    while (true) {\n      const midPointer = Math.floor((bottomPointer + topPointer) / 2);\n      const currentRowNode = this.rowsToDisplay[midPointer];\n      if (this.isRowInPixel(currentRowNode, pixelToMatch)) {\n        return midPointer;\n      }\n      if (currentRowNode.rowTop < pixelToMatch) {\n        bottomPointer = midPointer + 1;\n      } else if (currentRowNode.rowTop > pixelToMatch) {\n        topPointer = midPointer - 1;\n      }\n      const caughtInInfiniteLoop = oldBottomPointer === bottomPointer && oldTopPointer === topPointer;\n      if (caughtInInfiniteLoop) {\n        return midPointer;\n      }\n      oldBottomPointer = bottomPointer;\n      oldTopPointer = topPointer;\n    }\n  }\n  isRowInPixel(rowNode, pixelToMatch) {\n    const topPixel = rowNode.rowTop;\n    const bottomPixel = rowNode.rowTop + rowNode.rowHeight;\n    const pixelInRow = topPixel <= pixelToMatch && bottomPixel > pixelToMatch;\n    return pixelInRow;\n  }\n  forEachLeafNode(callback) {\n    if (this.rootNode.allLeafChildren) {\n      this.rootNode.allLeafChildren.forEach((rowNode, index) => callback(rowNode, index));\n    }\n  }\n  forEachNode(callback, includeFooterNodes = false) {\n    this.recursivelyWalkNodesAndCallback({\n      nodes: [...this.rootNode.childrenAfterGroup || []],\n      callback,\n      recursionType: 0 /* Normal */,\n      index: 0,\n      includeFooterNodes\n    });\n  }\n  forEachNodeAfterFilter(callback, includeFooterNodes = false) {\n    this.recursivelyWalkNodesAndCallback({\n      nodes: [...this.rootNode.childrenAfterAggFilter || []],\n      callback,\n      recursionType: 1 /* AfterFilter */,\n      index: 0,\n      includeFooterNodes\n    });\n  }\n  forEachNodeAfterFilterAndSort(callback, includeFooterNodes = false) {\n    this.recursivelyWalkNodesAndCallback({\n      nodes: [...this.rootNode.childrenAfterSort || []],\n      callback,\n      recursionType: 2 /* AfterFilterAndSort */,\n      index: 0,\n      includeFooterNodes\n    });\n  }\n  forEachPivotNode(callback, includeFooterNodes = false) {\n    this.recursivelyWalkNodesAndCallback({\n      nodes: [this.rootNode],\n      callback,\n      recursionType: 3 /* PivotNodes */,\n      index: 0,\n      includeFooterNodes\n    });\n  }\n  // iterates through each item in memory, and calls the callback function\n  // nodes - the rowNodes to traverse\n  // callback - the user provided callback\n  // recursion type - need this to know what child nodes to recurse, eg if looking at all nodes, or filtered notes etc\n  // index - works similar to the index in forEach in javascript's array function\n  recursivelyWalkNodesAndCallback(params) {\n    const { nodes, callback, recursionType, includeFooterNodes } = params;\n    let { index } = params;\n    const addFooters = (position) => {\n      const parentNode = nodes[0]?.parent;\n      if (!parentNode)\n        return;\n      const grandTotal = includeFooterNodes && _getGrandTotalRow(this.gos);\n      const isGroupIncludeFooter = _getGroupTotalRowCallback(this.gos);\n      const groupTotal = includeFooterNodes && isGroupIncludeFooter({ node: parentNode });\n      const isRootNode = parentNode === this.rootNode;\n      if (isRootNode) {\n        if (grandTotal === position) {\n          parentNode.createFooter();\n          callback(parentNode.sibling, index++);\n        }\n        return;\n      }\n      if (groupTotal === position) {\n        parentNode.createFooter();\n        callback(parentNode.sibling, index++);\n      }\n    };\n    addFooters(\"top\");\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      callback(node, index++);\n      if (node.hasChildren() && !node.footer) {\n        let nodeChildren = null;\n        switch (recursionType) {\n          case 0 /* Normal */:\n            nodeChildren = node.childrenAfterGroup;\n            break;\n          case 1 /* AfterFilter */:\n            nodeChildren = node.childrenAfterAggFilter;\n            break;\n          case 2 /* AfterFilterAndSort */:\n            nodeChildren = node.childrenAfterSort;\n            break;\n          case 3 /* PivotNodes */:\n            nodeChildren = !node.leafGroup ? node.childrenAfterSort : null;\n            break;\n        }\n        if (nodeChildren) {\n          index = this.recursivelyWalkNodesAndCallback({\n            nodes: [...nodeChildren],\n            callback,\n            recursionType,\n            index,\n            includeFooterNodes\n          });\n        }\n      }\n    }\n    addFooters(\"bottom\");\n    return index;\n  }\n  // it's possible to recompute the aggregate without doing the other parts\n  // + api.refreshClientSideRowModel('aggregate')\n  doAggregate(changedPath) {\n    this.aggregationStage?.execute({ rowNode: this.rootNode, changedPath });\n  }\n  doFilterAggregates(changedPath) {\n    if (this.filterAggregatesStage) {\n      this.filterAggregatesStage.execute({ rowNode: this.rootNode, changedPath });\n    } else {\n      this.rootNode.childrenAfterAggFilter = this.rootNode.childrenAfterFilter;\n    }\n  }\n  // + gridApi.expandAll()\n  // + gridApi.collapseAll()\n  expandOrCollapseAll(expand) {\n    const usingTreeData = this.gos.get(\"treeData\");\n    const usingPivotMode = this.columnModel.isPivotActive();\n    const recursiveExpandOrCollapse = (rowNodes) => {\n      if (!rowNodes) {\n        return;\n      }\n      rowNodes.forEach((rowNode) => {\n        const actionRow = () => {\n          rowNode.expanded = expand;\n          recursiveExpandOrCollapse(rowNode.childrenAfterGroup);\n        };\n        if (usingTreeData) {\n          const hasChildren = _exists(rowNode.childrenAfterGroup);\n          if (hasChildren) {\n            actionRow();\n          }\n          return;\n        }\n        if (usingPivotMode) {\n          const notLeafGroup = !rowNode.leafGroup;\n          if (notLeafGroup) {\n            actionRow();\n          }\n          return;\n        }\n        const isRowGroup = rowNode.group;\n        if (isRowGroup) {\n          actionRow();\n        }\n      });\n    };\n    if (this.rootNode) {\n      recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup);\n    }\n    this.refreshModel({ step: ClientSideRowModelSteps.MAP });\n    this.eventService.dispatchEvent({\n      type: \"expandOrCollapseAll\",\n      source: expand ? \"expandAll\" : \"collapseAll\"\n    });\n  }\n  doSort(rowNodeTransactions, changedPath) {\n    this.sortStage.execute({\n      rowNode: this.rootNode,\n      rowNodeTransactions,\n      changedPath\n    });\n  }\n  doRowGrouping(rowNodeTransactions, changedPath, rowNodesOrderChanged, afterColumnsChanged) {\n    if (this.groupStage) {\n      if (rowNodeTransactions) {\n        this.groupStage.execute({\n          rowNode: this.rootNode,\n          rowNodeTransactions,\n          rowNodesOrderChanged,\n          changedPath\n        });\n      } else {\n        this.groupStage.execute({\n          rowNode: this.rootNode,\n          changedPath,\n          afterColumnsChanged\n        });\n      }\n      if (_getGroupSelectsDescendants(this.gos)) {\n        const selectionChanged = this.selectionService.updateGroupsFromChildrenSelections(\n          \"rowGroupChanged\",\n          changedPath\n        );\n        if (selectionChanged) {\n          this.eventService.dispatchEvent({\n            type: \"selectionChanged\",\n            source: \"rowGroupChanged\"\n          });\n        }\n      }\n    } else {\n      const rootNode = this.rootNode;\n      const sibling = rootNode.sibling;\n      rootNode.childrenAfterGroup = rootNode.allLeafChildren;\n      if (sibling) {\n        sibling.childrenAfterGroup = rootNode.childrenAfterGroup;\n      }\n      this.rootNode.updateHasChildren();\n    }\n    if (this.nodeManager.isRowCountReady()) {\n      this.rowCountReady = true;\n      this.eventService.dispatchEventOnce({\n        type: \"rowCountReady\"\n      });\n    }\n  }\n  doFilter(changedPath) {\n    this.filterStage.execute({ rowNode: this.rootNode, changedPath });\n  }\n  doPivot(changedPath) {\n    this.pivotStage?.execute({ rowNode: this.rootNode, changedPath });\n  }\n  getNodeManager() {\n    return this.nodeManager;\n  }\n  getRowNode(id) {\n    const idIsGroup = typeof id == \"string\" && id.indexOf(RowNode2.ID_PREFIX_ROW_GROUP) == 0;\n    if (idIsGroup) {\n      let res = void 0;\n      this.forEachNode((node) => {\n        if (node.id === id) {\n          res = node;\n        }\n      });\n      return res;\n    }\n    return this.nodeManager.getRowNode(id);\n  }\n  // rows: the rows to put into the model\n  setRowData(rowData) {\n    this.selectionService.reset(\"rowDataChanged\");\n    this.nodeManager.setRowData(rowData);\n    if (this.hasStarted) {\n      this.dispatchUpdateEventsAndRefresh();\n    }\n  }\n  dispatchUpdateEventsAndRefresh() {\n    this.eventService.dispatchEvent({\n      type: \"rowDataUpdated\"\n    });\n    this.refreshModel({\n      step: ClientSideRowModelSteps.EVERYTHING,\n      newData: true\n    });\n  }\n  batchUpdateRowData(rowDataTransaction, callback) {\n    if (this.applyAsyncTransactionsTimeout == null) {\n      this.rowDataTransactionBatch = [];\n      const waitMillis = this.gos.get(\"asyncTransactionWaitMillis\");\n      this.applyAsyncTransactionsTimeout = window.setTimeout(() => {\n        if (this.isAlive()) {\n          this.executeBatchUpdateRowData();\n        }\n      }, waitMillis);\n    }\n    this.rowDataTransactionBatch.push({ rowDataTransaction, callback });\n  }\n  flushAsyncTransactions() {\n    if (this.applyAsyncTransactionsTimeout != null) {\n      clearTimeout(this.applyAsyncTransactionsTimeout);\n      this.executeBatchUpdateRowData();\n    }\n  }\n  executeBatchUpdateRowData() {\n    this.valueCache.onDataChanged();\n    const callbackFuncsBound = [];\n    const rowNodeTrans = [];\n    let orderChanged = false;\n    this.rowDataTransactionBatch?.forEach((tranItem) => {\n      const { rowNodeTransaction, rowsInserted } = this.nodeManager.updateRowData(tranItem.rowDataTransaction);\n      if (rowsInserted) {\n        orderChanged = true;\n      }\n      rowNodeTrans.push(rowNodeTransaction);\n      if (tranItem.callback) {\n        callbackFuncsBound.push(tranItem.callback.bind(null, rowNodeTransaction));\n      }\n    });\n    this.commonUpdateRowData(rowNodeTrans, orderChanged);\n    if (callbackFuncsBound.length > 0) {\n      window.setTimeout(() => {\n        callbackFuncsBound.forEach((func) => func());\n      }, 0);\n    }\n    if (rowNodeTrans.length > 0) {\n      this.eventService.dispatchEvent({\n        type: \"asyncTransactionsFlushed\",\n        results: rowNodeTrans\n      });\n    }\n    this.rowDataTransactionBatch = null;\n    this.applyAsyncTransactionsTimeout = void 0;\n  }\n  /**\n   * Used to apply transaction changes.\n   * Called by gridApi & rowDragFeature\n   */\n  updateRowData(rowDataTran) {\n    this.valueCache.onDataChanged();\n    const { rowNodeTransaction, rowsInserted } = this.nodeManager.updateRowData(rowDataTran);\n    this.commonUpdateRowData([rowNodeTransaction], rowsInserted);\n    return rowNodeTransaction;\n  }\n  /**\n   * Used to apply generated transaction\n   */\n  afterImmutableDataChange(rowNodeTransaction, rowNodesOrderChanged) {\n    this.commonUpdateRowData([rowNodeTransaction], rowNodesOrderChanged);\n  }\n  /**\n   * Common to:\n   * - executeBatchUpdateRowData (batch transactions)\n   * - updateRowData (single transaction)\n   * - afterImmutableDataChange (generated transaction)\n   *\n   * @param rowNodeTrans - the transactions to apply\n   * @param orderChanged - whether the order of the rows has changed, either via generated transaction or user provided addIndex\n   */\n  commonUpdateRowData(rowNodeTransactions, rowNodesOrderChanged) {\n    if (!this.hasStarted) {\n      return;\n    }\n    const animate = !this.gos.get(\"suppressAnimationFrame\");\n    this.eventService.dispatchEvent({\n      type: \"rowDataUpdated\"\n    });\n    this.refreshModel({\n      step: ClientSideRowModelSteps.EVERYTHING,\n      rowNodeTransactions,\n      rowNodesOrderChanged,\n      keepRenderedRows: true,\n      keepEditingRows: true,\n      animate\n    });\n  }\n  doRowsToDisplay() {\n    this.rowsToDisplay = this.flattenStage.execute({ rowNode: this.rootNode });\n  }\n  onRowHeightChanged() {\n    this.refreshModel({\n      step: ClientSideRowModelSteps.MAP,\n      keepRenderedRows: true,\n      keepEditingRows: true,\n      keepUndoRedoStack: true\n    });\n  }\n  /** This method is debounced. It is used for row auto-height. If we don't debounce,\n   * then the Row Models will end up recalculating each row position\n   * for each row height change and result in the Row Renderer laying out rows.\n   * This is particularly bad if using print layout, and showing eg 1,000 rows,\n   * each row will change it's height, causing Row Model to update 1,000 times.\n   */\n  onRowHeightChangedDebounced() {\n    this.onRowHeightChanged_debounced();\n  }\n  resetRowHeights() {\n    const atLeastOne = this.resetRowHeightsForAllRowNodes();\n    this.rootNode.setRowHeight(this.rootNode.rowHeight, true);\n    if (this.rootNode.sibling) {\n      this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight, true);\n    }\n    if (atLeastOne) {\n      this.onRowHeightChanged();\n    }\n  }\n  resetRowHeightsForAllRowNodes() {\n    let atLeastOne = false;\n    this.forEachNode((rowNode) => {\n      rowNode.setRowHeight(rowNode.rowHeight, true);\n      const detailNode = rowNode.detailNode;\n      if (detailNode) {\n        detailNode.setRowHeight(detailNode.rowHeight, true);\n      }\n      if (rowNode.sibling) {\n        rowNode.sibling.setRowHeight(rowNode.sibling.rowHeight, true);\n      }\n      atLeastOne = true;\n    });\n    return atLeastOne;\n  }\n  onGridStylesChanges(e) {\n    if (e.rowHeightChanged) {\n      if (this.columnModel.isAutoRowHeightActive()) {\n        return;\n      }\n      this.resetRowHeights();\n    }\n  }\n  onGridReady() {\n    if (this.hasStarted) {\n      return;\n    }\n    this.setInitialData();\n  }\n  isRowDataLoaded() {\n    return this.rowCountReady;\n  }\n  destroy() {\n    super.destroy();\n    this.clearHighlightedRow();\n  }\n};\n\n// community-modules/client-side-row-model/src/clientSideRowModel/clientSideRowModelApi.ts\nimport { _warnOnce as _warnOnce2 } from \"@ag-grid-community/core\";\nfunction onGroupExpandedOrCollapsed(beans) {\n  beans.expansionService.onGroupExpandedOrCollapsed();\n}\nfunction refreshClientSideRowModel(beans, step) {\n  beans.rowModelHelperService?.getClientSideRowModel()?.refreshModel(step);\n}\nfunction isRowDataEmpty(beans) {\n  return beans.rowModelHelperService?.getClientSideRowModel()?.isEmpty() ?? true;\n}\nfunction forEachLeafNode(beans, callback) {\n  beans.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(callback);\n}\nfunction forEachNodeAfterFilter(beans, callback) {\n  beans.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(callback);\n}\nfunction forEachNodeAfterFilterAndSort(beans, callback) {\n  beans.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(callback);\n}\nfunction resetRowHeights(beans) {\n  if (beans.columnModel.isAutoRowHeightActive()) {\n    _warnOnce2(\"calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.\");\n    return;\n  }\n  beans.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights();\n}\nfunction applyTransaction(beans, rowDataTransaction) {\n  return beans.frameworkOverrides.wrapIncoming(\n    () => beans.rowModelHelperService?.getClientSideRowModel()?.updateRowData(rowDataTransaction)\n  );\n}\nfunction applyTransactionAsync(beans, rowDataTransaction, callback) {\n  beans.frameworkOverrides.wrapIncoming(\n    () => beans.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(rowDataTransaction, callback)\n  );\n}\nfunction flushAsyncTransactions(beans) {\n  beans.frameworkOverrides.wrapIncoming(\n    () => beans.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions()\n  );\n}\nfunction getBestCostNodeSelection(beans) {\n  return beans.selectionService.getBestCostNodeSelection();\n}\n\n// community-modules/client-side-row-model/src/clientSideRowModel/filterStage.ts\nimport { BeanStub as BeanStub2 } from \"@ag-grid-community/core\";\nvar FilterStage = class extends BeanStub2 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"filterStage\";\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n  }\n  execute(params) {\n    const { changedPath } = params;\n    this.filter(changedPath);\n  }\n  filter(changedPath) {\n    const filterActive = !!this.filterManager?.isChildFilterPresent();\n    this.filterNodes(filterActive, changedPath);\n  }\n  filterNodes(filterActive, changedPath) {\n    const filterCallback = (rowNode, includeChildNodes) => {\n      if (rowNode.hasChildren()) {\n        if (filterActive && !includeChildNodes) {\n          rowNode.childrenAfterFilter = rowNode.childrenAfterGroup.filter((childNode) => {\n            const passBecauseChildren = childNode.childrenAfterFilter && childNode.childrenAfterFilter.length > 0;\n            const passBecauseDataPasses = childNode.data && this.filterManager.doesRowPassFilter({ rowNode: childNode });\n            return passBecauseChildren || passBecauseDataPasses;\n          });\n        } else {\n          rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n        }\n      } else {\n        rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n      }\n      if (rowNode.sibling) {\n        rowNode.sibling.childrenAfterFilter = rowNode.childrenAfterFilter;\n      }\n    };\n    if (this.doingTreeDataFiltering()) {\n      const treeDataDepthFirstFilter = (rowNode, alreadyFoundInParent) => {\n        if (rowNode.childrenAfterGroup) {\n          for (let i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n            const childNode = rowNode.childrenAfterGroup[i];\n            const foundInParent = alreadyFoundInParent || this.filterManager.doesRowPassFilter({ rowNode: childNode });\n            if (childNode.childrenAfterGroup) {\n              treeDataDepthFirstFilter(rowNode.childrenAfterGroup[i], foundInParent);\n            } else {\n              filterCallback(childNode, foundInParent);\n            }\n          }\n        }\n        filterCallback(rowNode, alreadyFoundInParent);\n      };\n      const treeDataFilterCallback = (rowNode) => treeDataDepthFirstFilter(rowNode, false);\n      changedPath.executeFromRootNode(treeDataFilterCallback);\n    } else {\n      const defaultFilterCallback = (rowNode) => filterCallback(rowNode, false);\n      changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback, true);\n    }\n  }\n  doingTreeDataFiltering() {\n    return this.gos.get(\"treeData\") && !this.gos.get(\"excludeChildrenWhenTreeDataFiltering\");\n  }\n};\n\n// community-modules/client-side-row-model/src/clientSideRowModel/flattenStage.ts\nimport {\n  BeanStub as BeanStub3,\n  RowNode as RowNode3,\n  _exists as _exists2,\n  _getGrandTotalRow as _getGrandTotalRow2,\n  _getGroupTotalRowCallback as _getGroupTotalRowCallback2,\n  _isGroupMultiAutoColumn,\n  _missingOrEmpty as _missingOrEmpty3\n} from \"@ag-grid-community/core\";\nvar FlattenStage = class extends BeanStub3 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"flattenStage\";\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n    this.columnModel = beans.columnModel;\n  }\n  execute(params) {\n    const rootNode = params.rowNode;\n    const result = [];\n    const skipLeafNodes = this.columnModel.isPivotMode();\n    const showRootNode = skipLeafNodes && rootNode.leafGroup;\n    const topList = showRootNode ? [rootNode] : rootNode.childrenAfterSort;\n    const details = this.getFlattenDetails();\n    this.recursivelyAddToRowsToDisplay(details, topList, result, skipLeafNodes, 0);\n    const atLeastOneRowPresent = result.length > 0;\n    const includeGrandTotalRow = !showRootNode && // don't show total footer when showRootNode is true (i.e. in pivot mode and no groups)\n    atLeastOneRowPresent && details.grandTotalRow;\n    if (includeGrandTotalRow) {\n      rootNode.createFooter();\n      const addToTop = details.grandTotalRow === \"top\";\n      this.addRowNodeToRowsToDisplay(details, rootNode.sibling, result, 0, addToTop);\n    }\n    return result;\n  }\n  getFlattenDetails() {\n    const groupRemoveSingleChildren = this.gos.get(\"groupRemoveSingleChildren\");\n    const groupRemoveLowestSingleChildren = !groupRemoveSingleChildren && this.gos.get(\"groupRemoveLowestSingleChildren\");\n    return {\n      groupRemoveLowestSingleChildren,\n      groupRemoveSingleChildren,\n      isGroupMultiAutoColumn: _isGroupMultiAutoColumn(this.gos),\n      hideOpenParents: this.gos.get(\"groupHideOpenParents\"),\n      grandTotalRow: _getGrandTotalRow2(this.gos),\n      groupTotalRow: _getGroupTotalRowCallback2(this.gos)\n    };\n  }\n  recursivelyAddToRowsToDisplay(details, rowsToFlatten, result, skipLeafNodes, uiLevel) {\n    if (_missingOrEmpty3(rowsToFlatten)) {\n      return;\n    }\n    for (let i = 0; i < rowsToFlatten.length; i++) {\n      const rowNode = rowsToFlatten[i];\n      const isParent = rowNode.hasChildren();\n      const isSkippedLeafNode = skipLeafNodes && !isParent;\n      const isRemovedSingleChildrenGroup = details.groupRemoveSingleChildren && isParent && rowNode.childrenAfterGroup.length === 1;\n      const isRemovedLowestSingleChildrenGroup = details.groupRemoveLowestSingleChildren && isParent && rowNode.leafGroup && rowNode.childrenAfterGroup.length === 1;\n      const neverAllowToExpand = skipLeafNodes && rowNode.leafGroup;\n      const isHiddenOpenParent = details.hideOpenParents && rowNode.expanded && !rowNode.master && !neverAllowToExpand;\n      const thisRowShouldBeRendered = !isSkippedLeafNode && !isHiddenOpenParent && !isRemovedSingleChildrenGroup && !isRemovedLowestSingleChildrenGroup;\n      if (thisRowShouldBeRendered) {\n        this.addRowNodeToRowsToDisplay(details, rowNode, result, uiLevel);\n      }\n      if (skipLeafNodes && rowNode.leafGroup) {\n        continue;\n      }\n      if (isParent) {\n        const excludedParent = isRemovedSingleChildrenGroup || isRemovedLowestSingleChildrenGroup;\n        if (rowNode.expanded || excludedParent) {\n          const doesRowShowFooter = details.groupTotalRow({ node: rowNode });\n          if (!doesRowShowFooter) {\n            rowNode.destroyFooter();\n          }\n          const uiLevelForChildren = excludedParent ? uiLevel : uiLevel + 1;\n          if (doesRowShowFooter === \"top\") {\n            rowNode.createFooter();\n            this.addRowNodeToRowsToDisplay(details, rowNode.sibling, result, uiLevelForChildren);\n          }\n          this.recursivelyAddToRowsToDisplay(\n            details,\n            rowNode.childrenAfterSort,\n            result,\n            skipLeafNodes,\n            uiLevelForChildren\n          );\n          if (doesRowShowFooter === \"bottom\") {\n            rowNode.createFooter();\n            this.addRowNodeToRowsToDisplay(details, rowNode.sibling, result, uiLevelForChildren);\n          }\n        }\n      } else if (rowNode.master && rowNode.expanded) {\n        const detailNode = this.createDetailNode(rowNode);\n        this.addRowNodeToRowsToDisplay(details, detailNode, result, uiLevel);\n      }\n    }\n  }\n  // duplicated method, it's also in floatingRowModel\n  addRowNodeToRowsToDisplay(details, rowNode, result, uiLevel, addToTop) {\n    if (addToTop) {\n      result.unshift(rowNode);\n    } else {\n      result.push(rowNode);\n    }\n    rowNode.setUiLevel(details.isGroupMultiAutoColumn ? 0 : uiLevel);\n  }\n  createDetailNode(masterNode) {\n    if (_exists2(masterNode.detailNode)) {\n      return masterNode.detailNode;\n    }\n    const detailNode = new RowNode3(this.beans);\n    detailNode.detail = true;\n    detailNode.selectable = false;\n    detailNode.parent = masterNode;\n    if (_exists2(masterNode.id)) {\n      detailNode.id = \"detail_\" + masterNode.id;\n    }\n    detailNode.data = masterNode.data;\n    detailNode.level = masterNode.level + 1;\n    masterNode.detailNode = detailNode;\n    return detailNode;\n  }\n};\n\n// community-modules/client-side-row-model/src/clientSideRowModel/immutableService.ts\nimport {\n  BeanStub as BeanStub4,\n  _errorOnce as _errorOnce3,\n  _exists as _exists3,\n  _getRowIdCallback as _getRowIdCallback2,\n  _isClientSideRowModel,\n  _iterateObject\n} from \"@ag-grid-community/core\";\nvar ImmutableService = class extends BeanStub4 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"immutableService\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.selectionService = beans.selectionService;\n  }\n  postConstruct() {\n    if (_isClientSideRowModel(this.gos)) {\n      this.clientSideRowModel = this.rowModel;\n      this.addManagedPropertyListener(\"rowData\", () => this.onRowDataUpdated());\n    }\n  }\n  isActive() {\n    const getRowIdProvided = this.gos.exists(\"getRowId\");\n    const resetRowDataOnUpdate = this.gos.get(\"resetRowDataOnUpdate\");\n    if (resetRowDataOnUpdate) {\n      return false;\n    }\n    return getRowIdProvided;\n  }\n  setRowData(rowData) {\n    const rowDataTransaction = this.createTransactionForRowData(rowData);\n    if (!rowDataTransaction) {\n      return;\n    }\n    const nodeManager = this.clientSideRowModel.getNodeManager();\n    const { rowNodeTransaction, rowsInserted } = nodeManager.updateRowData(rowDataTransaction);\n    let orderChanged = false;\n    const suppressSortOrder = this.gos.get(\"suppressMaintainUnsortedOrder\");\n    if (!suppressSortOrder) {\n      orderChanged = nodeManager.updateRowOrderFromRowData(rowData);\n    }\n    this.clientSideRowModel.afterImmutableDataChange(rowNodeTransaction, orderChanged || rowsInserted);\n  }\n  /** Converts the setRowData() command to a transaction */\n  createTransactionForRowData(rowData) {\n    if (!_isClientSideRowModel(this.gos)) {\n      _errorOnce3(\"ImmutableService only works with ClientSideRowModel\");\n      return null;\n    }\n    const getRowIdFunc = _getRowIdCallback2(this.gos);\n    if (getRowIdFunc == null) {\n      _errorOnce3(\"ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!\");\n      return null;\n    }\n    const existingNodesMap = this.clientSideRowModel.getNodeManager().getCopyOfNodesMap();\n    const remove = [];\n    const update = [];\n    const add = [];\n    if (_exists3(rowData)) {\n      rowData.forEach((data) => {\n        const id = getRowIdFunc({ data, level: 0 });\n        const existingNode = existingNodesMap[id];\n        if (existingNode) {\n          const dataHasChanged = existingNode.data !== data;\n          if (dataHasChanged) {\n            update.push(data);\n          }\n          existingNodesMap[id] = void 0;\n        } else {\n          add.push(data);\n        }\n      });\n    }\n    _iterateObject(existingNodesMap, (id, rowNode) => {\n      if (rowNode) {\n        remove.push(rowNode.data);\n      }\n    });\n    return { remove, update, add };\n  }\n  onRowDataUpdated() {\n    const rowData = this.gos.get(\"rowData\");\n    if (!rowData) {\n      return;\n    }\n    if (this.isActive()) {\n      this.setRowData(rowData);\n    } else {\n      this.selectionService.reset(\"rowDataChanged\");\n      this.clientSideRowModel.setRowData(rowData);\n    }\n  }\n};\n\n// community-modules/client-side-row-model/src/clientSideRowModel/sortService.ts\nimport { BeanStub as BeanStub5, _errorOnce as _errorOnce4, _missing as _missing2, _warnOnce as _warnOnce3 } from \"@ag-grid-community/core\";\nvar SortService = class extends BeanStub5 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"sortService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.rowNodeSorter = beans.rowNodeSorter;\n    this.showRowGroupColsService = beans.showRowGroupColsService;\n  }\n  sort(sortOptions, sortActive, useDeltaSort, rowNodeTransactions, changedPath, sortContainsGroupColumns) {\n    const groupMaintainOrder = this.gos.get(\"groupMaintainOrder\");\n    const groupColumnsPresent = this.columnModel.getCols().some((c) => c.isRowGroupActive());\n    let allDirtyNodes = {};\n    if (useDeltaSort && rowNodeTransactions) {\n      allDirtyNodes = this.calculateDirtyNodes(rowNodeTransactions);\n    }\n    const isPivotMode = this.columnModel.isPivotMode();\n    const postSortFunc = this.gos.getCallback(\"postSortRows\");\n    const callback = (rowNode) => {\n      this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterAggFilter, true);\n      const skipSortingPivotLeafs = isPivotMode && rowNode.leafGroup;\n      const skipSortingGroups = groupMaintainOrder && groupColumnsPresent && !rowNode.leafGroup && !sortContainsGroupColumns;\n      if (skipSortingGroups) {\n        const nextGroup = this.funcColsService.getRowGroupColumns()?.[rowNode.level + 1];\n        const wasSortExplicitlyRemoved = nextGroup?.getSort() === null;\n        const childrenToBeSorted = rowNode.childrenAfterAggFilter.slice(0);\n        if (rowNode.childrenAfterSort && !wasSortExplicitlyRemoved) {\n          const indexedOrders = {};\n          rowNode.childrenAfterSort.forEach((node, idx) => {\n            indexedOrders[node.id] = idx;\n          });\n          childrenToBeSorted.sort(\n            (row1, row2) => (indexedOrders[row1.id] ?? 0) - (indexedOrders[row2.id] ?? 0)\n          );\n        }\n        rowNode.childrenAfterSort = childrenToBeSorted;\n      } else if (!sortActive || skipSortingPivotLeafs) {\n        rowNode.childrenAfterSort = rowNode.childrenAfterAggFilter.slice(0);\n      } else if (useDeltaSort) {\n        rowNode.childrenAfterSort = this.doDeltaSort(rowNode, allDirtyNodes, changedPath, sortOptions);\n      } else {\n        rowNode.childrenAfterSort = this.rowNodeSorter.doFullSort(rowNode.childrenAfterAggFilter, sortOptions);\n      }\n      if (rowNode.sibling) {\n        rowNode.sibling.childrenAfterSort = rowNode.childrenAfterSort;\n      }\n      this.updateChildIndexes(rowNode);\n      if (postSortFunc) {\n        const params = { nodes: rowNode.childrenAfterSort };\n        postSortFunc(params);\n      }\n    };\n    if (changedPath) {\n      changedPath.forEachChangedNodeDepthFirst(callback);\n    }\n    this.updateGroupDataForHideOpenParents(changedPath);\n  }\n  calculateDirtyNodes(rowNodeTransactions) {\n    const dirtyNodes = {};\n    const addNodesFunc = (rowNodes) => {\n      if (rowNodes) {\n        rowNodes.forEach((rowNode) => dirtyNodes[rowNode.id] = true);\n      }\n    };\n    if (rowNodeTransactions) {\n      rowNodeTransactions.forEach((tran) => {\n        addNodesFunc(tran.add);\n        addNodesFunc(tran.update);\n        addNodesFunc(tran.remove);\n      });\n    }\n    return dirtyNodes;\n  }\n  doDeltaSort(rowNode, allTouchedNodes, changedPath, sortOptions) {\n    const unsortedRows = rowNode.childrenAfterAggFilter;\n    const oldSortedRows = rowNode.childrenAfterSort;\n    if (!oldSortedRows) {\n      return this.rowNodeSorter.doFullSort(unsortedRows, sortOptions);\n    }\n    const untouchedRowsMap = {};\n    const touchedRows = [];\n    unsortedRows.forEach((row) => {\n      if (allTouchedNodes[row.id] || !changedPath.canSkip(row)) {\n        touchedRows.push(row);\n      } else {\n        untouchedRowsMap[row.id] = true;\n      }\n    });\n    const sortedUntouchedRows = oldSortedRows.filter((child) => untouchedRowsMap[child.id]);\n    const mapNodeToSortedNode = (rowNode2, pos) => ({\n      currentPos: pos,\n      rowNode: rowNode2\n    });\n    const sortedChangedRows = touchedRows.map(mapNodeToSortedNode).sort((a, b) => this.rowNodeSorter.compareRowNodes(sortOptions, a, b));\n    return this.mergeSortedArrays(sortOptions, sortedChangedRows, sortedUntouchedRows.map(mapNodeToSortedNode)).map(\n      ({ rowNode: rowNode2 }) => rowNode2\n    );\n  }\n  // Merge two sorted arrays into each other\n  mergeSortedArrays(sortOptions, arr1, arr2) {\n    const res = [];\n    let i = 0;\n    let j = 0;\n    while (i < arr1.length && j < arr2.length) {\n      const compareResult = this.rowNodeSorter.compareRowNodes(sortOptions, arr1[i], arr2[j]);\n      if (compareResult < 0) {\n        res.push(arr1[i++]);\n      } else {\n        res.push(arr2[j++]);\n      }\n    }\n    while (i < arr1.length) {\n      res.push(arr1[i++]);\n    }\n    while (j < arr2.length) {\n      res.push(arr2[j++]);\n    }\n    return res;\n  }\n  updateChildIndexes(rowNode) {\n    if (_missing2(rowNode.childrenAfterSort)) {\n      return;\n    }\n    const listToSort = rowNode.childrenAfterSort;\n    for (let i = 0; i < listToSort.length; i++) {\n      const child = listToSort[i];\n      const firstChild = i === 0;\n      const lastChild = i === rowNode.childrenAfterSort.length - 1;\n      child.setFirstChild(firstChild);\n      child.setLastChild(lastChild);\n      child.setChildIndex(i);\n    }\n  }\n  updateGroupDataForHideOpenParents(changedPath) {\n    if (!this.gos.get(\"groupHideOpenParents\")) {\n      return;\n    }\n    if (this.gos.get(\"treeData\")) {\n      _warnOnce3(\n        `The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them.`\n      );\n      return false;\n    }\n    const callback = (rowNode) => {\n      this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterSort, false);\n      rowNode.childrenAfterSort.forEach((child) => {\n        if (child.hasChildren()) {\n          callback(child);\n        }\n      });\n    };\n    if (changedPath) {\n      changedPath.executeFromRootNode((rowNode) => callback(rowNode));\n    }\n  }\n  pullDownGroupDataForHideOpenParents(rowNodes, clearOperation) {\n    if (!this.gos.get(\"groupHideOpenParents\") || _missing2(rowNodes)) {\n      return;\n    }\n    rowNodes.forEach((childRowNode) => {\n      const groupDisplayCols = this.showRowGroupColsService?.getShowRowGroupCols() ?? [];\n      groupDisplayCols.forEach((groupDisplayCol) => {\n        const showRowGroup = groupDisplayCol.getColDef().showRowGroup;\n        if (typeof showRowGroup !== \"string\") {\n          _errorOnce4(\n            \"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup\"\n          );\n          return;\n        }\n        const displayingGroupKey = showRowGroup;\n        const rowGroupColumn = this.columnModel.getColDefCol(displayingGroupKey);\n        const thisRowNodeMatches = rowGroupColumn === childRowNode.rowGroupColumn;\n        if (thisRowNodeMatches) {\n          return;\n        }\n        if (clearOperation) {\n          childRowNode.setGroupValue(groupDisplayCol.getId(), void 0);\n        } else {\n          const parentToStealFrom = this.getFirstChildOfFirstChild(childRowNode, rowGroupColumn);\n          if (parentToStealFrom) {\n            childRowNode.setGroupValue(groupDisplayCol.getId(), parentToStealFrom.key);\n          }\n        }\n      });\n    });\n  }\n  getFirstChildOfFirstChild(node, rowGroupColumn) {\n    let currentRowNode = node;\n    while (currentRowNode) {\n      const parentRowNode = currentRowNode.parent;\n      if (parentRowNode && currentRowNode.firstChild) {\n        if (parentRowNode.rowGroupColumn === rowGroupColumn) {\n          return parentRowNode;\n        }\n      } else {\n        return null;\n      }\n      currentRowNode = parentRowNode;\n    }\n    return null;\n  }\n};\n\n// community-modules/client-side-row-model/src/clientSideRowModel/sortStage.ts\nimport { BeanStub as BeanStub6, _exists as _exists4, _isColumnsSortingCoupledToGroup } from \"@ag-grid-community/core\";\nvar SortStage = class extends BeanStub6 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"sortStage\";\n  }\n  wireBeans(beans) {\n    this.sortService = beans.sortService;\n    this.sortController = beans.sortController;\n  }\n  execute(params) {\n    const sortOptions = this.sortController.getSortOptions();\n    const sortActive = _exists4(sortOptions) && sortOptions.length > 0;\n    const deltaSort = sortActive && _exists4(params.rowNodeTransactions) && // in time we can remove this check, so that delta sort is always\n    // on if transactions are present. it's off for now so that we can\n    // selectively turn it on and test it with some select users before\n    // rolling out to everyone.\n    this.gos.get(\"deltaSort\");\n    const sortContainsGroupColumns = sortOptions.some((opt) => {\n      const isSortingCoupled = _isColumnsSortingCoupledToGroup(this.gos);\n      if (isSortingCoupled) {\n        return opt.column.isPrimary() && opt.column.isRowGroupActive();\n      }\n      return !!opt.column.getColDef().showRowGroup;\n    });\n    this.sortService.sort(\n      sortOptions,\n      sortActive,\n      deltaSort,\n      params.rowNodeTransactions,\n      params.changedPath,\n      sortContainsGroupColumns\n    );\n  }\n};\n\n// community-modules/client-side-row-model/src/version.ts\nvar VERSION = \"32.3.9\";\n\n// community-modules/client-side-row-model/src/clientSideRowModelModule.ts\nvar ClientSideRowModelCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: `${ModuleNames.ClientSideRowModelModule}-core`,\n  rowModel: \"clientSide\",\n  beans: [ClientSideRowModel, FilterStage, SortStage, FlattenStage, SortService, ImmutableService]\n});\nvar ClientSideRowModelApiModule = _defineModule({\n  version: VERSION,\n  moduleName: `${ModuleNames.ClientSideRowModelModule}-api`,\n  beans: [RowModelHelperService],\n  apiFunctions: {\n    onGroupExpandedOrCollapsed,\n    refreshClientSideRowModel,\n    isRowDataEmpty,\n    forEachLeafNode,\n    forEachNodeAfterFilter,\n    forEachNodeAfterFilterAndSort,\n    resetRowHeights,\n    applyTransaction,\n    applyTransactionAsync,\n    flushAsyncTransactions,\n    getBestCostNodeSelection\n  },\n  dependantModules: [ClientSideRowModelCoreModule, _CsrmSsrmSharedApiModule]\n});\nvar ClientSideRowModelModule = _defineModule({\n  version: VERSION,\n  moduleName: ModuleNames.ClientSideRowModelModule,\n  dependantModules: [ClientSideRowModelCoreModule, ClientSideRowModelApiModule]\n});\nexport {\n  ClientSideRowModelModule\n};\n","import { ColDef } from '@ag-grid-community/core';\r\nimport { App } from '../../apps-management/models/app.model';\r\nimport { TrueFalseComponent } from '../../dev-rest/api/true-false/true-false.component';\r\nimport { TrueFalseParams } from '../../dev-rest/api/true-false/true-false.models';\r\nimport { BooleanFilterComponent } from '../components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../components/id-field/id-field.models';\r\nimport { AgBoolIconRenderer } from './apps-list-show/ag-bool-icon-renderer.component';\r\n\r\nconst cellClassSecAction = 'secondary-action no-padding'.split(' ');\r\n\r\nconst actionsRight: ColDef = {\r\n  cellClass: cellClassSecAction,\r\n  pinned: 'right',\r\n};\r\n\r\nconst textSortFilter: ColDef = {\r\n  sortable: true,\r\n  filter: 'agTextColumnFilter',\r\n};\r\n\r\nexport class ColumnDefinitions {\r\n  static ActionsPinnedRight1: ColDef = {\r\n    width: 42,\r\n    ...actionsRight,\r\n  };\r\n\r\n  static ActionsPinnedRight3: ColDef = {\r\n    width: 122,\r\n    ...actionsRight,\r\n  };\r\n\r\n  static ActionsPinnedRight4: ColDef = {\r\n    width: 162,\r\n    ...actionsRight,\r\n  };\r\n\r\n  static ActionsPinnedRight5: ColDef = {\r\n    width: 202,\r\n    ...actionsRight,\r\n  };\r\n\r\n  // TODO: the name here is wrong - 6 indicates 6 buttons, but the size wouldn't allow this\r\n  static ActionsPinnedRight6: ColDef = {\r\n    width: 82,\r\n    ...actionsRight,\r\n  };\r\n\r\n  // TODO: the name here is wrong - 7 indicates 6 buttons, but the size wouldn't allow this\r\n  static ActionsPinnedRight7: ColDef = {\r\n    width: 62,\r\n    cellClass: cellClassSecAction + ' no-outline',\r\n    pinned: 'right',\r\n  };\r\n\r\n\r\n  /** Icon Show Renderer - defaulting to BoolIconRenderer */\r\n  static IconShow: ColDef = {\r\n    headerName: 'Show',\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'icons no-outline'.split(' '),\r\n    sortable: true,\r\n    filter: BooleanFilterComponent,\r\n    valueGetter: (params) => {\r\n      const app: App = params.data;\r\n      return !app.IsHidden;\r\n    },\r\n    cellRenderer: AgBoolIconRenderer,\r\n  };\r\n\r\n  static Items: ColDef = {\r\n    width: 102,\r\n    headerClass: 'dense',\r\n    cellClass: cellClassSecAction,\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  static ItemsText: ColDef = {\r\n    width: 102,\r\n    headerClass: 'dense',\r\n    cellClass: cellClassSecAction,\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n  static Fields: ColDef = {\r\n    width: 94,\r\n    headerClass: 'dense',\r\n    cellClass: cellClassSecAction,\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  /**\r\n   * Very narrow columns, typically just showing 1 character\r\n   */\r\n  static Character: ColDef = {\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'no-outline',\r\n    ...textSortFilter,\r\n  };\r\n\r\n  /**\r\n   * Very narrow ID column, with typical header name and label etc.\r\n   */\r\n  static Id: ColDef = {\r\n    headerName: 'ID',\r\n    field: 'Id',\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'id-action no-padding no-outline'.split(' '),\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  static IdWithDefaultRenderer: ColDef = {\r\n    ...ColumnDefinitions.Id,\r\n    cellRenderer: IdFieldComponent,\r\n  }\r\n\r\n  static Boolean: ColDef = {\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'number-cell no-outline'.split(' '),\r\n    sortable: true,\r\n  };\r\n\r\n  static Boolean2: ColDef = {\r\n    width: 100,\r\n    sortable: true,\r\n    cellClass: 'no-outline',\r\n    filter: BooleanFilterComponent,\r\n  };\r\n\r\n  static Boolean3: ColDef = {\r\n    headerClass: 'dense',\r\n    width: 80,\r\n    cellClass: 'no-outline',\r\n    cellRenderer: TrueFalseComponent,\r\n    cellRendererParams: (() => ({\r\n      reverse: false,\r\n    } satisfies TrueFalseParams))(),\r\n  }\r\n\r\n  /**\r\n   * Very narrow ID column, with typical header name and label etc.\r\n   */\r\n  static Number: ColDef = {\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'number-cell no-outline'.split(' '),\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static Number2: ColDef = {\r\n    width: 110,\r\n    headerClass: 'dense',\r\n    cellClass: 'number-cell no-outline'.split(' '),\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static TextWidePrimary: ColDef = {\r\n    flex: 3,\r\n    minWidth: 250,\r\n    cellClass: 'primary-action highlight'.split(' '),\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static TextWide: ColDef = {\r\n    flex: 2,\r\n    minWidth: 250,\r\n    cellClass: 'no-outline',\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static TextWideMin100: ColDef = {\r\n    flex: 1,\r\n    minWidth: 100,\r\n    ...textSortFilter,\r\n  }\r\n\r\n  static TextWideFlex3: ColDef = {\r\n    flex: 3,\r\n    minWidth: 250,\r\n    cellClass: 'no-outline',\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static TextNarrow: ColDef = {\r\n    flex: 1,\r\n    minWidth: 150,\r\n    cellClass: 'no-outline',\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static TextWideActionClass: ColDef = {\r\n    flex: 2,\r\n    minWidth: 250,\r\n    cellClass: 'primary-action no-padding no-outline'.split(' '),\r\n    ...textSortFilter,\r\n  };\r\n\r\n  static idFieldParamsTooltipGetter<T extends { Id: string | number, Guid?: string }>(key?: keyof T): IdFieldParams<T> {\r\n    const objWithTooltipGetter: IdFieldParams<T> = {\r\n      tooltipGetter: (contentType: T) => `ID: ${contentType.Id}\\nGUID: ${contentType[key || \"Guid\"]}`,\r\n    };\r\n    return objWithTooltipGetter;\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { copyToClipboard } from '../../helpers/copy-to-clipboard.helper';\r\nimport { IdFieldParams } from './id-field.models';\r\nimport { NgClass } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../directives/tippy.directive';\r\n\r\n@Component({\r\n    selector: 'app-id-field',\r\n    templateUrl: './id-field.component.html',\r\n    styleUrls: ['./id-field.component.scss'],\r\n    imports: [\r\n        NgClass,\r\n        MatIconModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class IdFieldComponent implements ICellRendererAngularComp {\r\n  id: number | string;\r\n  align: 'start' | 'end';\r\n  tooltip: string;\r\n\r\n  constructor(private snackBar: MatSnackBar) { }\r\n\r\n  agInit(params: ICellRendererParams & IdFieldParams): void {\r\n    this.id = params.value;\r\n    this.align = typeof this.id === 'number' ? 'end' : 'start';\r\n    this.tooltip = params.tooltipGetter(params.data);\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  copy(): void {\r\n    copyToClipboard(this.tooltip);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n}\r\n","<div matRipple class=\"id-box highlight\" [tippy]=\"tooltip\" (click)=\"copy()\" [ngClass]=\"{\r\n  'align-start': align === 'start',\r\n  'align-end': align === 'end'\r\n}\">\r\n  <span class=\"id\">{{ id }}</span>\r\n  <mat-icon class=\"icon\">file_copy</mat-icon>\r\n</div>","export interface AgBoolCellIconSetting {\r\n  clickable?: boolean;\r\n  tooltip: string;\r\n  icon: string;\r\n  url?: string;\r\n  getUrl?: (data: any) => string;\r\n}\r\n\r\nexport interface AgBoolCellIconSettings {\r\n  states: Record<'true' | 'false' | string, AgBoolCellIconSetting>;\r\n}\r\n\r\nexport interface AgBoolCellIconsParams<T = any> {\r\n  settings(data: T): AgBoolCellIconSettings;\r\n}\r\n\r\nexport const AgBoolCellIconsDefault: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      tooltip: 'true/on',\r\n      icon: 'radio_button_checked',\r\n    },\r\n    false: {\r\n      tooltip: 'false/off',\r\n      icon: 'radio_button_unchecked',\r\n    }\r\n  }\r\n};","<div class=\"icon-container\">\r\n  @if (data.url) {\r\n    <a [href]=\"data.url\" target=\"_blank\">\r\n      <ng-container *ngTemplateOutlet=\"showIcon\"></ng-container>\r\n    </a>\r\n  } @else {\r\n    <div class=\"icon-cell icon\" [ngClass]=\"{'clickable': data.clickable }\" [tippy]=\"data.tooltip\">\r\n      <mat-icon>{{ data.icon }}</mat-icon>\r\n    </div>\r\n  }\r\n</div>\r\n\r\n<ng-template #showIcon>\r\n  <div class=\"icon-cell icon\" [ngClass]=\"{'clickable': data.clickable }\" [tippy]=\"data.tooltip\">\r\n    <mat-icon>{{ data.icon }}</mat-icon>\r\n  </div>\r\n</ng-template>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { NgClass, NgTemplateOutlet } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../directives/tippy.directive';\r\nimport { AgBoolCellIconSetting, AgBoolCellIconSettings, AgBoolCellIconsDefault, AgBoolCellIconsParams } from './ag-bool-icon-params';\r\n\r\n@Component({\r\n  selector: 'app-ag-bool-icon-renderer',\r\n  templateUrl: './ag-bool-icon-renderer.html',\r\n  imports: [\r\n    TippyDirective,\r\n    MatIconModule,\r\n    NgClass,\r\n    NgTemplateOutlet\r\n  ]\r\n})\r\nexport class AgBoolIconRenderer implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  private allSettings: AgBoolCellIconSettings;\r\n\r\n  data: AgBoolCellIconSetting; // | { link: boolean  };\r\n\r\n  agInit(params: ICellRendererParams & AgBoolCellIconsParams): void {\r\n    this.value = params.value;\r\n\r\n    this.allSettings = params.settings?.(params.data) ?? AgBoolCellIconsDefault;\r\n    const d = this.allSettings.states[this.value ? 'true' : 'false'];\r\n    this.data = {\r\n      ...d,\r\n      url: d.url ?? d.getUrl?.(params.data),\r\n      // link: !!(d.url || d.getUrl),\r\n    };\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { BaseComponentWrapper, _removeFromParent, VanillaFrameworkOverrides, _combineAttributesAndGridOptions, createGrid, _processOnChange } from '@ag-grid-community/core';\nimport * as i0 from '@angular/core';\nimport { Injectable, NgZone, EventEmitter, Component, ViewEncapsulation, Input, Output, NgModule } from '@angular/core';\n\nclass AngularFrameworkComponentWrapper extends BaseComponentWrapper {\n    setViewContainerRef(viewContainerRef, angularFrameworkOverrides) {\n        this.viewContainerRef = viewContainerRef;\n        this.angularFrameworkOverrides = angularFrameworkOverrides;\n    }\n    createWrapper(OriginalConstructor) {\n        const angularFrameworkOverrides = this.angularFrameworkOverrides;\n        const that = this;\n        class DynamicAgNg2Component extends BaseGuiComponent {\n            init(params) {\n                angularFrameworkOverrides.runInsideAngular(() => {\n                    super.init(params);\n                    this._componentRef.changeDetectorRef.detectChanges();\n                });\n            }\n            createComponent() {\n                return angularFrameworkOverrides.runInsideAngular(() => that.createComponent(OriginalConstructor));\n            }\n            hasMethod(name) {\n                return wrapper.getFrameworkComponentInstance()[name] != null;\n            }\n            callMethod(name, args) {\n                const componentRef = this.getFrameworkComponentInstance();\n                return angularFrameworkOverrides.runInsideAngular(() => wrapper.getFrameworkComponentInstance()[name].apply(componentRef, args));\n            }\n            addMethod(name, callback) {\n                wrapper[name] = callback;\n            }\n        }\n        const wrapper = new DynamicAgNg2Component();\n        return wrapper;\n    }\n    createComponent(componentType) {\n        return this.viewContainerRef.createComponent(componentType);\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AngularFrameworkComponentWrapper, deps: null, target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AngularFrameworkComponentWrapper }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AngularFrameworkComponentWrapper, decorators: [{\n            type: Injectable\n        }] });\nclass BaseGuiComponent {\n    init(params) {\n        this._params = params;\n        this._componentRef = this.createComponent();\n        this._agAwareComponent = this._componentRef.instance;\n        this._frameworkComponentInstance = this._componentRef.instance;\n        this._eGui = this._componentRef.location.nativeElement;\n        // Angular appends the component to the DOM, so remove it\n        _removeFromParent(this._eGui);\n        this._agAwareComponent.agInit(this._params);\n    }\n    getGui() {\n        return this._eGui;\n    }\n    /** `getGui()` returns the `ng-component` element. This returns the actual root element. */\n    getRootElement() {\n        const firstChild = this._eGui.firstChild;\n        return firstChild;\n    }\n    destroy() {\n        if (this._frameworkComponentInstance && typeof this._frameworkComponentInstance.destroy === 'function') {\n            this._frameworkComponentInstance.destroy();\n        }\n        if (this._componentRef) {\n            this._componentRef.destroy();\n        }\n    }\n    getFrameworkComponentInstance() {\n        return this._frameworkComponentInstance;\n    }\n}\n\nclass AngularFrameworkOverrides extends VanillaFrameworkOverrides {\n    constructor(_ngZone) {\n        super('angular');\n        this._ngZone = _ngZone;\n        // Flag used to control Zone behaviour when running tests as many test features rely on Zone.\n        this.isRunningWithinTestZone = false;\n        // Make all events run outside Angular as they often trigger the setup of event listeners\n        // By having the event listeners outside Angular we can avoid triggering change detection\n        // This also means that if a user calls an AG Grid API method from within their component\n        // the internal side effects will not trigger change detection. Without this the events would\n        // run inside Angular and trigger change detection as the source of the event was within the angular zone.\n        this.wrapIncoming = (callback, source) => this.runOutside(callback, source);\n        /**\n         * Make sure that any code that is executed outside of AG Grid is running within the Angular zone.\n         * This means users can update templates and use binding without having to do anything extra.\n         */\n        this.wrapOutgoing = (callback) => this.runInsideAngular(callback);\n        this.isRunningWithinTestZone =\n            window?.AG_GRID_UNDER_TEST ?? !!window?.Zone?.AsyncTestZoneSpec;\n        if (!this._ngZone) {\n            this.runOutside = (callback) => callback();\n        }\n        else if (this.isRunningWithinTestZone) {\n            this.runOutside = (callback, source) => {\n                if (source === 'resize-observer' || source === 'popupPositioning') {\n                    // ensure resize observer callbacks are run outside of Angular even under test due to Jest not supporting ResizeObserver\n                    // which means it just loops continuously with a setTimeout with no way to flush the queue or have fixture.whenStable() resolve.\n                    return this._ngZone.runOutsideAngular(callback);\n                }\n                // When under test run inside Angular so that tests can use fixture.whenStable() to wait for async operations to complete.\n                return callback();\n            };\n        }\n        else {\n            this.runOutside = (callback) => this._ngZone.runOutsideAngular(callback);\n        }\n    }\n    // Only setup wrapping when the call is coming from within Angular zone, i.e from a users application code.\n    // Used to distinguish between user code and AG Grid code setting up events against RowNodes and Columns\n    get shouldWrapOutgoing() {\n        return this._ngZone && NgZone.isInAngularZone();\n    }\n    isFrameworkComponent(comp) {\n        if (!comp) {\n            return false;\n        }\n        const prototype = comp.prototype;\n        const isAngularComp = prototype && 'agInit' in prototype;\n        return isAngularComp;\n    }\n    runInsideAngular(callback) {\n        // Check for _ngZone existence as it is not present when Zoneless\n        return this._ngZone ? this._ngZone.run(callback) : callback();\n    }\n    runOutsideAngular(callback, source) {\n        return this.runOutside(callback, source);\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AngularFrameworkOverrides, deps: [{ token: i0.NgZone }], target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AngularFrameworkOverrides }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AngularFrameworkOverrides, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.NgZone }]; } });\n\nclass AgGridAngular {\n    constructor(elementDef, viewContainerRef, angularFrameworkOverrides, frameworkComponentWrapper) {\n        this.viewContainerRef = viewContainerRef;\n        this.angularFrameworkOverrides = angularFrameworkOverrides;\n        this.frameworkComponentWrapper = frameworkComponentWrapper;\n        this._initialised = false;\n        this._destroyed = false;\n        // in order to ensure firing of gridReady is deterministic\n        this._holdEvents = true;\n        this._fullyReady = new Promise((resolve) => {\n            this._resolveFullyReady = resolve;\n        });\n        // @START@\n        /** Specifies the status bar components to use in the status bar.\n         */\n        this.statusBar = undefined;\n        /** Specifies the side bar components.\n         */\n        this.sideBar = undefined;\n        /** Set to `true` to not show the context menu. Use if you don't want to use the default 'right click' context menu.\n         * @default false\n         */\n        this.suppressContextMenu = undefined;\n        /** When using `suppressContextMenu`, you can use the `onCellContextMenu` function to provide your own code to handle cell `contextmenu` events.\n         * This flag is useful to prevent the browser from showing its default context menu.\n         * @default false\n         */\n        this.preventDefaultOnContextMenu = undefined;\n        /** Allows context menu to show, even when `Ctrl` key is held down.\n         * @default false\n         */\n        this.allowContextMenuWithControlKey = undefined;\n        /** Changes the display type of the column menu.\n         * `'new'` just displays the main list of menu items. `'legacy'` displays a tabbed menu.\n         * @default 'new'\n         * @initial\n         */\n        this.columnMenu = undefined;\n        /** When `true`, the column menu button will always be shown.\n         * When `false, the column menu button will only show when the mouse is over the column header.\n         * If `columnMenu = 'legacy'`, this will default to `false` instead of `true`.\n         * @default true\n         */\n        this.suppressMenuHide = undefined;\n        /** Set to `true` to use the browser's default tooltip instead of using the grid's Tooltip Component.\n         * @default false\n         * @initial\n         */\n        this.enableBrowserTooltips = undefined;\n        /** The trigger that will cause tooltips to show and hide.\n         *  - `hover` - The tooltip will show/hide when a cell/header is hovered.\n         *  - `focus` - The tooltip will show/hide when a cell/header is focused.\n         * @default 'hover'\n         * @initial\n         */\n        this.tooltipTrigger = undefined;\n        /** The delay in milliseconds that it takes for tooltips to show up once an element is hovered over.\n         *     **Note:** This property does not work if `enableBrowserTooltips` is `true`.\n         * @default 2000\n         */\n        this.tooltipShowDelay = undefined;\n        /** The delay in milliseconds that it takes for tooltips to hide once they have been displayed.\n         *     **Note:** This property does not work if `enableBrowserTooltips` is `true` and `tooltipHideTriggers` includes `timeout`.\n         * @default 10000\n         */\n        this.tooltipHideDelay = undefined;\n        /** Set to `true` to have tooltips follow the cursor once they are displayed.\n         * @default false\n         * @initial\n         */\n        this.tooltipMouseTrack = undefined;\n        /** This defines when tooltip will show up for Cells, Headers and SetFilter Items.\n         *  - `standard` - The tooltip always shows up when the items configured with Tooltips are hovered.\n         * - `whenTruncated` - The tooltip will only be displayed when the items hovered have truncated (showing ellipsis) values. This property does not work when `enableBrowserTooltips={true}`.\n         * @default `standard`\n         */\n        this.tooltipShowMode = undefined;\n        /** Set to `true` to enable tooltip interaction. When this option is enabled, the tooltip will not hide while the\n         * tooltip itself it being hovered or has focus.\n         * @default false\n         * @initial\n         */\n        this.tooltipInteraction = undefined;\n        /** DOM element to use as the popup parent for grid popups (context menu, column menu etc).\n         */\n        this.popupParent = undefined;\n        /** Set to `true` to also include headers when copying to clipboard using `Ctrl + C` clipboard.\n         * @default false\n         */\n        this.copyHeadersToClipboard = undefined;\n        /** Set to `true` to also include group headers when copying to clipboard using `Ctrl + C` clipboard.\n         * @default false\n         */\n        this.copyGroupHeadersToClipboard = undefined;\n        /** Specify the delimiter to use when copying to clipboard.\n         * @default '\\t'\n         */\n        this.clipboardDelimiter = undefined;\n        /** Set to `true` to copy the cell range or focused cell to the clipboard and never the selected rows.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.copySelectedRows` instead.\n         */\n        this.suppressCopyRowsToClipboard = undefined;\n        /** Set to `true` to copy rows instead of ranges when a range with only a single cell is selected.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.copySelectedRows` instead.\n         */\n        this.suppressCopySingleCellRanges = undefined;\n        /** Set to `true` to work around a bug with Excel (Windows) that adds an extra empty line at the end of ranges copied to the clipboard.\n         * @default false\n         */\n        this.suppressLastEmptyLineOnPaste = undefined;\n        /** Set to `true` to turn off paste operations within the grid.\n         * @default false\n         */\n        this.suppressClipboardPaste = undefined;\n        /** Set to `true` to stop the grid trying to use the Clipboard API, if it is blocked, and immediately fallback to the workaround.\n         * @default false\n         */\n        this.suppressClipboardApi = undefined;\n        /** Set to `true` to block     **cut** operations within the grid.\n         * @default false\n         */\n        this.suppressCutToClipboard = undefined;\n        /** Array of Column / Column Group definitions.\n         */\n        this.columnDefs = undefined;\n        /** A default column definition. Items defined in the actual column definitions get precedence.\n         */\n        this.defaultColDef = undefined;\n        /** A default column group definition. All column group definitions will use these properties. Items defined in the actual column group definition get precedence.\n         * @initial\n         */\n        this.defaultColGroupDef = undefined;\n        /** An object map of custom column types which contain groups of properties that column definitions can reuse by referencing in their `type` property.\n         */\n        this.columnTypes = undefined;\n        /** An object map of cell data types to their definitions.\n         * Cell data types can either override/update the pre-defined data types\n         * (`'text'`, `'number'`,  `'boolean'`,  `'date'`,  `'dateString'` or  `'object'`),\n         * or can be custom data types.\n         */\n        this.dataTypeDefinitions = undefined;\n        /** Keeps the order of Columns maintained after new Column Definitions are updated.\n         *\n         * @default false\n         */\n        this.maintainColumnOrder = undefined;\n        /** Resets pivot column order when impacted by filters, data or configuration changes\n         *\n         * @default false\n         */\n        this.enableStrictPivotColumnOrder = undefined;\n        /** If `true`, then dots in field names (e.g. `'address.firstLine'`) are not treated as deep references. Allows you to use dots in your field name if you prefer.\n         * @default false\n         */\n        this.suppressFieldDotNotation = undefined;\n        /** The height in pixels for the row containing the column label header. If not specified, it uses the theme value of `header-height`.\n         */\n        this.headerHeight = undefined;\n        /** The height in pixels for the rows containing header column groups. If not specified, it uses `headerHeight`.\n         */\n        this.groupHeaderHeight = undefined;\n        /** The height in pixels for the row containing the floating filters. If not specified, it uses the theme value of `header-height`.\n         */\n        this.floatingFiltersHeight = undefined;\n        /** The height in pixels for the row containing the columns when in pivot mode. If not specified, it uses `headerHeight`.\n         */\n        this.pivotHeaderHeight = undefined;\n        /** The height in pixels for the row containing header column groups when in pivot mode. If not specified, it uses `groupHeaderHeight`.\n         */\n        this.pivotGroupHeaderHeight = undefined;\n        /** Allow reordering and pinning columns by dragging columns from the Columns Tool Panel to the grid.\n         * @default false\n         */\n        this.allowDragFromColumnsToolPanel = undefined;\n        /** Set to `true` to suppress column moving, i.e. to make the columns fixed position.\n         * @default false\n         */\n        this.suppressMovableColumns = undefined;\n        /** If `true`, the `ag-column-moving` class is not added to the grid while columns are moving. In the default themes, this results in no animation when moving columns.\n         * @default false\n         */\n        this.suppressColumnMoveAnimation = undefined;\n        /** Set to `true` to suppress moving columns while dragging the Column Header. This option highlights the position where the column will be placed and it will only move it on mouse up.\n         * @default false\n         */\n        this.suppressMoveWhenColumnDragging = undefined;\n        /** If `true`, when you drag a column out of the grid (e.g. to the group zone) the column is not hidden.\n         * @default false\n         */\n        this.suppressDragLeaveHidesColumns = undefined;\n        /** If `true`, when you drag a column into a row group panel the column is not hidden.\n         * @default false\n         */\n        this.suppressRowGroupHidesColumns = undefined;\n        /** Set to `'shift'` to have shift-resize as the default resize operation (same as user holding down `Shift` while resizing).\n         */\n        this.colResizeDefault = undefined;\n        /** Suppresses auto-sizing columns for columns. In other words, double clicking a column's header's edge will not auto-size.\n         * @default false\n         * @initial\n         */\n        this.suppressAutoSize = undefined;\n        /** Number of pixels to add to a column width after the [auto-sizing](./column-sizing/#auto-size-columns-to-fit-cell-contents) calculation.\n         * Set this if you want to add extra room to accommodate (for example) sort icons, or some other dynamic nature of the header.\n         * @default 20\n         */\n        this.autoSizePadding = undefined;\n        /** Set this to `true` to skip the `headerName` when `autoSize` is called by default.\n         * @default false\n         * @initial\n         */\n        this.skipHeaderOnAutoSize = undefined;\n        /** Auto-size the columns when the grid is loaded. Can size to fit the grid width, fit a provided width, or fit the cell contents.\n         * @initial\n         */\n        this.autoSizeStrategy = undefined;\n        /** A map of component names to components.\n         * @initial\n         */\n        this.components = undefined;\n        /** Set to `'fullRow'` to enable Full Row Editing. Otherwise leave blank to edit one cell at a time.\n         */\n        this.editType = undefined;\n        /** Set to `true` to enable Single Click Editing for cells, to start editing with a single click.\n         * @default false\n         */\n        this.singleClickEdit = undefined;\n        /** Set to `true` so that neither single nor double click starts editing.\n         * @default false\n         */\n        this.suppressClickEdit = undefined;\n        /** Set to `true` to stop the grid updating data after `Edit`, `Clipboard` and `Fill Handle` operations. When this is set, it is intended the application will update the data, eg in an external immutable store, and then pass the new dataset to the grid. <br />**Note:** `rowNode.setDataValue()` does not update the value of the cell when this is `True`, it fires `onCellEditRequest` instead.\n         * @default false\n         */\n        this.readOnlyEdit = undefined;\n        /** Set this to `true` to stop cell editing when grid loses focus.\n         * The default is that the grid stays editing until focus goes onto another cell.\n         * @default false\n         * @initial\n         */\n        this.stopEditingWhenCellsLoseFocus = undefined;\n        /** Set to `true` along with `enterNavigatesVerticallyAfterEdit` to have Excel-style behaviour for the `Enter` key.\n         * i.e. pressing the `Enter` key will move down to the cell beneath and `Shift+Enter` will move up to the cell above.\n         * @default false\n         */\n        this.enterNavigatesVertically = undefined;\n        /** Set to `true` along with `enterNavigatesVertically` to have Excel-style behaviour for the 'Enter' key.\n         * i.e. pressing the Enter key will move down to the cell beneath and Shift+Enter key will move up to the cell above.\n         * @default false\n         */\n        this.enterNavigatesVerticallyAfterEdit = undefined;\n        /** Forces Cell Editing to start when backspace is pressed. This is only relevant for MacOS users.\n         */\n        this.enableCellEditingOnBackspace = undefined;\n        /** Set to `true` to enable Undo / Redo while editing.\n         * @initial\n         */\n        this.undoRedoCellEditing = undefined;\n        /** Set the size of the undo / redo stack.\n         * @default 10\n         * @initial\n         */\n        this.undoRedoCellEditingLimit = undefined;\n        /** A default configuration object used to export to CSV.\n         */\n        this.defaultCsvExportParams = undefined;\n        /** Prevents the user from exporting the grid to CSV.\n         * @default false\n         */\n        this.suppressCsvExport = undefined;\n        /** A default configuration object used to export to Excel.\n         */\n        this.defaultExcelExportParams = undefined;\n        /** Prevents the user from exporting the grid to Excel.\n         * @default false\n         */\n        this.suppressExcelExport = undefined;\n        /** A list (array) of Excel styles to be used when exporting to Excel with styles.\n         * @initial\n         */\n        this.excelStyles = undefined;\n        /** Rows are filtered using this text as a Quick Filter.\n         */\n        this.quickFilterText = undefined;\n        /** Set to `true` to turn on the Quick Filter cache, used to improve performance when using the Quick Filter.\n         * @default false\n         * @initial\n         */\n        this.cacheQuickFilter = undefined;\n        /** Hidden columns are excluded from the Quick Filter by default.\n         * To include hidden columns, set to `true`.\n         * @default false\n         */\n        this.includeHiddenColumnsInQuickFilter = undefined;\n        /** Changes how the Quick Filter splits the Quick Filter text into search terms.\n         */\n        this.quickFilterParser = undefined;\n        /** Changes the matching logic for whether a row passes the Quick Filter.\n         */\n        this.quickFilterMatcher = undefined;\n        /** When pivoting, Quick Filter is only applied on the pivoted data\n         * (or aggregated data if `groupAggFiltering = true`).\n         * Set to `true` to apply Quick Filter before pivoting (/aggregating) instead.\n         * @default false\n         */\n        this.applyQuickFilterBeforePivotOrAgg = undefined;\n        /** Set to `true` to override the default tree data filtering behaviour to instead exclude child nodes from filter results.\n         * @default false\n         */\n        this.excludeChildrenWhenTreeDataFiltering = undefined;\n        /** Set to true to enable the Advanced Filter.\n         * @default false\n         */\n        this.enableAdvancedFilter = undefined;\n        /** @deprecated As of v31, use `initialState.filter.advancedFilterModel` instead.\n         * @initial\n         */\n        this.advancedFilterModel = undefined;\n        /** Hidden columns are excluded from the Advanced Filter by default.\n         * To include hidden columns, set to `true`.\n         * @default false\n         */\n        this.includeHiddenColumnsInAdvancedFilter = undefined;\n        /** DOM element to use as the parent for the Advanced Filter to allow it to appear outside of the grid.\n         * Set to `null` or `undefined` to appear inside the grid.\n         */\n        this.advancedFilterParent = undefined;\n        /** Customise the parameters passed to the Advanced Filter Builder.\n         */\n        this.advancedFilterBuilderParams = undefined;\n        /** By default, Advanced Filter sanitises user input and passes it to `new Function()` to provide the best performance.\n         * Set to `true` to prevent this and use defined functions instead.\n         * This will result in slower filtering, but it enables Advanced Filter to work when `unsafe-eval` is disabled.\n         * @default false\n         */\n        this.suppressAdvancedFilterEval = undefined;\n        /** When using AG Grid Enterprise, the Set Filter is used by default when `filter: true` is set on column definitions.\n         * Set to `true` to prevent this and instead use the Text Filter, Number Filter or Date Filter based on the cell data type,\n         * the same as when using AG Grid Community.\n         * @default false\n         * @initial\n         */\n        this.suppressSetFilterByDefault = undefined;\n        /** Set to `true` to Enable Charts.\n         * @default false\n         */\n        this.enableCharts = undefined;\n        /** The list of chart themes that a user can choose from in the chart panel.\n         * @default ['ag-default', 'ag-material', 'ag-sheets', 'ag-polychroma', 'ag-vivid'];\n         * @initial\n         */\n        this.chartThemes = undefined;\n        /** A map containing custom chart themes.\n         * @initial\n         */\n        this.customChartThemes = undefined;\n        /** Chart theme overrides applied to all themes.\n         * @initial\n         */\n        this.chartThemeOverrides = undefined;\n        /** Allows customisation of the Chart Tool Panels, such as changing the tool panels visibility and order, as well as choosing which charts should be displayed in the chart panel.\n         * @initial\n         */\n        this.chartToolPanelsDef = undefined;\n        /** Get chart menu items. Only applies when using AG Charts Enterprise.\n         */\n        this.chartMenuItems = undefined;\n        /** Provide your own loading cell renderer to use when data is loading via a DataSource.\n         * See [Loading Cell Renderer](https://www.ag-grid.com/javascript-data-grid/component-loading-cell-renderer/) for framework specific implementation details.\n         */\n        this.loadingCellRenderer = undefined;\n        /** Params to be passed to the `loadingCellRenderer` component.\n         */\n        this.loadingCellRendererParams = undefined;\n        /** Callback to select which loading cell renderer to be used when data is loading via a DataSource.\n         * @initial\n         */\n        this.loadingCellRendererSelector = undefined;\n        /** A map of key->value pairs for localising text within the grid.\n         * @initial\n         */\n        this.localeText = undefined;\n        /** Set to `true` to enable Master Detail.\n         * @default false\n         */\n        this.masterDetail = undefined;\n        /** Set to `true` to keep detail rows for when they are displayed again.\n         * @default false\n         * @initial\n         */\n        this.keepDetailRows = undefined;\n        /** Sets the number of details rows to keep.\n         * @default 10\n         * @initial\n         */\n        this.keepDetailRowsCount = undefined;\n        /** Provide a custom `detailCellRenderer` to use when a master row is expanded.\n         * See [Detail Cell Renderer](https://www.ag-grid.com/javascript-data-grid/master-detail-custom-detail/) for framework specific implementation details.\n         */\n        this.detailCellRenderer = undefined;\n        /** Specifies the params to be used by the Detail Cell Renderer. Can also be a function that provides the params to enable dynamic definitions of the params.\n         */\n        this.detailCellRendererParams = undefined;\n        /** Set fixed height in pixels for each detail row.\n         * @initial\n         */\n        this.detailRowHeight = undefined;\n        /** Set to `true` to have the detail grid dynamically change it's height to fit it's rows.\n         * @initial\n         */\n        this.detailRowAutoHeight = undefined;\n        /** Provides a context object that is provided to different callbacks the grid uses. Used for passing additional information to the callbacks used by your application.\n         * @initial\n         */\n        this.context = undefined;\n        /** Provide a custom drag and drop image component.\n         * @initial\n         */\n        this.dragAndDropImageComponent = undefined;\n        /** Customise the parameters provided to the Drag and Drop Image Component.\n         */\n        this.dragAndDropImageComponentParams = undefined;\n        /**\n         * A list of grids to treat as Aligned Grids.\n         * Provide a list if the grids / apis already exist or return via a callback to allow the aligned grids to be retrieved asynchronously.\n         * If grids are aligned then the columns and horizontal scrolling will be kept in sync.\n         */\n        this.alignedGrids = undefined;\n        /** Change this value to set the tabIndex order of the Grid within your application.\n         * @default 0\n         * @initial\n         */\n        this.tabIndex = undefined;\n        /** The number of rows rendered outside the viewable area the grid renders.\n         * Having a buffer means the grid will have rows ready to show as the user slowly scrolls vertically.\n         * @default 10\n         */\n        this.rowBuffer = undefined;\n        /** Set to `true` to turn on the value cache.\n         * @default false\n         * @initial\n         */\n        this.valueCache = undefined;\n        /** Set to `true` to configure the value cache to not expire after data updates.\n         * @default false\n         * @initial\n         */\n        this.valueCacheNeverExpires = undefined;\n        /** Set to `true` to allow cell expressions.\n         * @default false\n         * @initial\n         */\n        this.enableCellExpressions = undefined;\n        /** Disables touch support (but does not remove the browser's efforts to simulate mouse events on touch).\n         * @default false\n         * @initial\n         */\n        this.suppressTouch = undefined;\n        /** Set to `true` to not set focus back on the grid after a refresh. This can avoid issues where you want to keep the focus on another part of the browser.\n         * @default false\n         */\n        this.suppressFocusAfterRefresh = undefined;\n        /** Disables the asynchronous nature of the events introduced in v10, and makes them synchronous. This property only exists for the purpose of supporting legacy code which has a dependency on synchronous events from earlier versions (v9 or earlier) of AG Grid.     **It is strongly recommended that you do not change this property unless you have legacy issues.**\n         * @deprecated v31 Events should be handled asynchronously.\n         * @default false\n         * @initial\n         */\n        this.suppressAsyncEvents = undefined;\n        /** @deprecated As of v32.2 the grid always uses the browser's ResizeObserver, this grid option has no effect\n         * @default false\n         * @initial\n         */\n        this.suppressBrowserResizeObserver = undefined;\n        /** Disables showing a warning message in the console if using a `gridOptions` or `colDef` property that doesn't exist.\n         * @default false\n         * @initial\n         */\n        this.suppressPropertyNamesCheck = undefined;\n        /** Disables change detection.\n         * @default false\n         */\n        this.suppressChangeDetection = undefined;\n        /** Set this to `true` to enable debug information from the grid and related components. Will result in additional logging being output, but very useful when investigating problems.\n         * @default false\n         * @initial\n         */\n        this.debug = undefined;\n        /** Show or hide the loading overlay.\n         */\n        this.loading = undefined;\n        /** Provide a HTML string to override the default loading overlay. Supports non-empty plain text or HTML with a single root element.\n         */\n        this.overlayLoadingTemplate = undefined;\n        /** Provide a custom loading overlay component.\n         * @initial\n         */\n        this.loadingOverlayComponent = undefined;\n        /** Customise the parameters provided to the loading overlay component.\n         */\n        this.loadingOverlayComponentParams = undefined;\n        /** Disables the 'loading' overlay.\n         * @deprecated v32 - Deprecated. Use `loading=false` instead.\n         * @default false\n         * @initial\n         */\n        this.suppressLoadingOverlay = undefined;\n        /** Provide a HTML string to override the default no-rows overlay. Supports non-empty plain text or HTML with a single root element.\n         */\n        this.overlayNoRowsTemplate = undefined;\n        /** Provide a custom no-rows overlay component.\n         * @initial\n         */\n        this.noRowsOverlayComponent = undefined;\n        /** Customise the parameters provided to the no-rows overlay component.\n         */\n        this.noRowsOverlayComponentParams = undefined;\n        /** Set to `true` to prevent the no-rows overlay being shown when there is no row data.\n         * @default false\n         * @initial\n         */\n        this.suppressNoRowsOverlay = undefined;\n        /** Set whether pagination is enabled.\n         * @default false\n         */\n        this.pagination = undefined;\n        /** How many rows to load per page. If `paginationAutoPageSize` is specified, this property is ignored.\n         * @default 100\n         */\n        this.paginationPageSize = undefined;\n        /** Determines if the page size selector is shown in the pagination panel or not.\n         * Set to an array of values to show the page size selector with custom list of possible page sizes.\n         * Set to `true` to show the page size selector with the default page sizes `[20, 50, 100]`.\n         * Set to `false` to hide the page size selector.\n         * @default true\n         * @initial\n         */\n        this.paginationPageSizeSelector = undefined;\n        /** Set to `true` so that the number of rows to load per page is automatically adjusted by the grid so each page shows enough rows to just fill the area designated for the grid. If `false`, `paginationPageSize` is used.\n         * @default false\n         */\n        this.paginationAutoPageSize = undefined;\n        /** Set to `true` to have pages split children of groups when using Row Grouping or detail rows with Master Detail.\n         * @default false\n         * @initial\n         */\n        this.paginateChildRows = undefined;\n        /** If `true`, the default grid controls for navigation are hidden.\n         * This is useful if `pagination=true` and you want to provide your own pagination controls.\n         * Otherwise, when `pagination=true` the grid automatically shows the necessary controls at the bottom so that the user can navigate through the different pages.\n         * @default false\n         */\n        this.suppressPaginationPanel = undefined;\n        /** Set to `true` to enable pivot mode.\n         * @default false\n         */\n        this.pivotMode = undefined;\n        /** When to show the 'pivot panel' (where you drag rows to pivot) at the top. Note that the pivot panel will never show if `pivotMode` is off.\n         * @default 'never'\n         * @initial\n         */\n        this.pivotPanelShow = undefined;\n        /** The maximum number of generated columns before the grid halts execution. Upon reaching this number, the grid halts generation of columns\n         * and triggers a `pivotMaxColumnsExceeded` event. `-1` for no limit.\n         * @default -1\n         */\n        this.pivotMaxGeneratedColumns = undefined;\n        /** If pivoting, set to the number of column group levels to expand by default, e.g. `0` for none, `1` for first level only, etc. Set to `-1` to expand everything.\n         * @default 0\n         */\n        this.pivotDefaultExpanded = undefined;\n        /** When set and the grid is in pivot mode, automatically calculated totals will appear within the Pivot Column Groups, in the position specified.\n         */\n        this.pivotColumnGroupTotals = undefined;\n        /** When set and the grid is in pivot mode, automatically calculated totals will appear for each value column in the position specified.\n         */\n        this.pivotRowTotals = undefined;\n        /** If `true`, the grid will not swap in the grouping column when pivoting. Useful if pivoting using Server Side Row Model or Viewport Row Model and you want full control of all columns including the group column.\n         * @default false\n         * @initial\n         */\n        this.pivotSuppressAutoColumn = undefined;\n        /** When enabled, pivot column groups will appear 'fixed', without the ability to expand and collapse the column groups.\n         * @default false\n         * @initial\n         */\n        this.suppressExpandablePivotGroups = undefined;\n        /** If `true`, then row group, pivot and value aggregation will be read-only from the GUI. The grid will display what values are used for each, but will not allow the user to change the selection.\n         * @default false\n         */\n        this.functionsReadOnly = undefined;\n        /** A map of 'function name' to 'function' for custom aggregation functions.\n         * @initial\n         */\n        this.aggFuncs = undefined;\n        /** When `true`, column headers won't include the `aggFunc` name, e.g. `'sum(Bank Balance)`' will just be `'Bank Balance'`.\n         * @default false\n         * @initial\n         */\n        this.suppressAggFuncInHeader = undefined;\n        /** When using aggregations, the grid will always calculate the root level aggregation value.\n         * @default false\n         */\n        this.alwaysAggregateAtRootLevel = undefined;\n        /** When using change detection, only the updated column will be re-aggregated.\n         * @default false\n         */\n        this.aggregateOnlyChangedColumns = undefined;\n        /** Set to `true` so that aggregations are not impacted by filtering.\n         * @default false\n         */\n        this.suppressAggFilteredOnly = undefined;\n        /** Set to `true` to omit the value Column header when there is only a single value column.\n         * @default false\n         */\n        this.removePivotHeaderRowWhenSingleValueColumn = undefined;\n        /** Set to `false` to disable Row Animation which is enabled by default.\n         * @default true\n         */\n        this.animateRows = undefined;\n        /** Set to `true` to have cells flash after data changes.\n         * @default false\n         * @deprecated 31.2 use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns.\n         */\n        this.enableCellChangeFlash = undefined;\n        /** Sets the duration in milliseconds of how long a cell should remain in its \"flashed\" state.\n         * If `0`, the cell will not flash.\n         * @default 500\n         */\n        this.cellFlashDuration = undefined;\n        /** @deprecated v31.1 - use `cellFlashDuration` instead.\n         */\n        this.cellFlashDelay = undefined;\n        /** Sets the duration in milliseconds of how long the \"flashed\" state animation takes to fade away after the timer set by `cellFlashDuration` has completed.\n         * @default 1000\n         */\n        this.cellFadeDuration = undefined;\n        /** @deprecated v31.1 - use `cellFadeDuration` instead.\n         */\n        this.cellFadeDelay = undefined;\n        /** Set to `true` to have cells flash after data changes even when the change is due to filtering.\n         * @default false\n         * @initial\n         */\n        this.allowShowChangeAfterFilter = undefined;\n        /** Switch between layout options: `normal`, `autoHeight`, `print`.\n         * @default 'normal'\n         */\n        this.domLayout = undefined;\n        /** When `true`, the order of rows and columns in the DOM are consistent with what is on screen.\n         * Disables row animations.\n         * @default false\n         * @initial\n         */\n        this.ensureDomOrder = undefined;\n        /** Set to `true` to operate the grid in RTL (Right to Left) mode.\n         * @default false\n         * @initial\n         */\n        this.enableRtl = undefined;\n        /** Set to `true` so that the grid doesn't virtualise the columns. For example, if you have 100 columns, but only 10 visible due to scrolling, all 100 will always be rendered.\n         * @default false\n         * @initial\n         */\n        this.suppressColumnVirtualisation = undefined;\n        /** By default the grid has a limit of rendering a maximum of 500 rows at once (remember the grid only renders rows you can see, so unless your display shows more than 500 rows without vertically scrolling this will never be an issue).\n         * <br />**This is only relevant if you are manually setting `rowBuffer` to a high value (rendering more rows than can be seen), or `suppressRowVirtualisation` is true, or if your grid height is able to display more than 500 rows at once.**\n         * @default false\n         * @initial\n         */\n        this.suppressMaxRenderedRowRestriction = undefined;\n        /** Set to `true` so that the grid doesn't virtualise the rows. For example, if you have 100 rows, but only 10 visible due to scrolling, all 100 will always be rendered.\n         * @default false\n         * @initial\n         */\n        this.suppressRowVirtualisation = undefined;\n        /** Set to `true` to enable Managed Row Dragging.\n         * @default false\n         */\n        this.rowDragManaged = undefined;\n        /** Set to `true` to suppress row dragging.\n         * @default false\n         */\n        this.suppressRowDrag = undefined;\n        /** Set to `true` to suppress moving rows while dragging the `rowDrag` waffle. This option highlights the position where the row will be placed and it will only move the row on mouse up.\n         * @default false\n         */\n        this.suppressMoveWhenRowDragging = undefined;\n        /** Set to `true` to enable clicking and dragging anywhere on the row without the need for a drag handle.\n         * @default false\n         */\n        this.rowDragEntireRow = undefined;\n        /** Set to `true` to enable dragging multiple rows at the same time.\n         * @default false\n         */\n        this.rowDragMultiRow = undefined;\n        /** A callback that should return a string to be displayed by the `rowDragComp` while dragging a row.\n         * If this callback is not set, the current cell value will be used.\n         * If the `rowDragText` callback is set in the ColDef it will take precedence over this, except when\n         * `rowDragEntireRow=true`.\n         * @initial\n         */\n        this.rowDragText = undefined;\n        /** Provide your own cell renderer component to use for full width rows.\n         * See [Full Width Rows](https://www.ag-grid.com/javascript-data-grid/full-width-rows/) for framework specific implementation details.\n         */\n        this.fullWidthCellRenderer = undefined;\n        /** Customise the parameters provided to the `fullWidthCellRenderer` component.\n         */\n        this.fullWidthCellRendererParams = undefined;\n        /** Set to `true` to have the Full Width Rows embedded in grid's main container so they can be scrolled horizontally.\n         */\n        this.embedFullWidthRows = undefined;\n        /** @deprecated v31\n         * When enabled, the grid will cast group values to string type.\n         * @default false\n         * @initial\n         */\n        this.suppressGroupMaintainValueType = undefined;\n        /** Specifies how the results of row grouping should be displayed.\n         *\n         *  The options are:\n         *\n         * - `'singleColumn'`: single group column automatically added by the grid.\n         * - `'multipleColumns'`: a group column per row group is added automatically.\n         * - `'groupRows'`: group rows are automatically added instead of group columns.\n         * - `'custom'`: informs the grid that group columns will be provided.\n         */\n        this.groupDisplayType = undefined;\n        /** If grouping, set to the number of levels to expand by default, e.g. `0` for none, `1` for first level only, etc. Set to `-1` to expand everything.\n         * @default 0\n         */\n        this.groupDefaultExpanded = undefined;\n        /** Allows specifying the group 'auto column' if you are not happy with the default. If grouping, this column definition is included as the first column in the grid. If not grouping, this column is not included.\n         */\n        this.autoGroupColumnDef = undefined;\n        /** When `true`, preserves the current group order when sorting on non-group columns.\n         * @default false\n         */\n        this.groupMaintainOrder = undefined;\n        /** When `true`, if you select a group, the children of the group will also be selected.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.groupSelects` instead\n         */\n        this.groupSelectsChildren = undefined;\n        /** If grouping, locks the group settings of a number of columns, e.g. `0` for no group locking. `1` for first group column locked, `-1` for all group columns locked.\n         * @default 0\n         * @initial\n         */\n        this.groupLockGroupColumns = undefined;\n        /** Set to determine whether filters should be applied on aggregated group values.\n         * @default false\n         */\n        this.groupAggFiltering = undefined;\n        /** If grouping, this controls whether to show a group footer when the group is expanded.\n         * If `true`, then by default, the footer will contain aggregate data (if any) when shown and the header will be blank.\n         * When closed, the header will contain the aggregate data regardless of this setting (as the footer is hidden anyway).\n         * This is handy for 'total' rows, that are displayed below the data when the group is open, and alongside the group when it is closed.\n         * If a callback function is provided, it can used to select which groups will have a footer added.\n         * @default false\n         *\n         * @deprecated v31.3 - use `groupTotalRow` instead.\n         */\n        this.groupIncludeFooter = undefined;\n        /** Set to `true` to show a 'grand total' group footer across all groups.\n         * @default false\n         *\n         * @deprecated v31.3 - use `grandTotalRow` instead.\n         */\n        this.groupIncludeTotalFooter = undefined;\n        /** When provided, an extra row group total row will be inserted into row groups at the specified position, to display\n         * when the group is expanded. This row will contain the aggregate values for the group. If a callback function is\n         * provided, it can be used to selectively determine which groups will have a total row added.\n         */\n        this.groupTotalRow = undefined;\n        /** When provided, an extra grand total row will be inserted into the grid at the specified position.\n         * This row displays the aggregate totals of all rows in the grid.\n         */\n        this.grandTotalRow = undefined;\n        /** Suppress the sticky behaviour of the total rows, can be suppressed individually by passing `'grand'` or `'group'`.\n         */\n        this.suppressStickyTotalRow = undefined;\n        /** If `true`, and showing footer, aggregate data will always be displayed at both the header and footer levels. This stops the possibly undesirable behaviour of the header details 'jumping' to the footer on expand.\n         * @default false\n         */\n        this.groupSuppressBlankHeader = undefined;\n        /** If using `groupSelectsChildren`, then only the children that pass the current filter will get selected.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.groupSelects` instead\n         */\n        this.groupSelectsFiltered = undefined;\n        /** Shows the open group in the group column for non-group rows.\n         * @default false\n         */\n        this.showOpenedGroup = undefined;\n        /** Set to `true` to collapse groups that only have one child.\n         * @default false\n         */\n        this.groupRemoveSingleChildren = undefined;\n        /** Set to `true` to collapse lowest level groups that only have one child.\n         * @default false\n         */\n        this.groupRemoveLowestSingleChildren = undefined;\n        /** Set to `true` to hide parents that are open. When used with multiple columns for showing groups, it can give a more pleasing user experience.\n         * @default false\n         */\n        this.groupHideOpenParents = undefined;\n        /** Set to `true` to prevent the grid from creating a '(Blanks)' group for nodes which do not belong to a group, and display the unbalanced nodes alongside group nodes.\n         * @default false\n         */\n        this.groupAllowUnbalanced = undefined;\n        /** When to show the 'row group panel' (where you drag rows to group) at the top.\n         * @default 'never'\n         */\n        this.rowGroupPanelShow = undefined;\n        /** Provide the Cell Renderer to use when `groupDisplayType = 'groupRows'`.\n         * See [Group Row Cell Renderer](https://www.ag-grid.com/javascript-data-grid/grouping-group-rows/#providing-cell-renderer) for framework specific implementation details.\n         */\n        this.groupRowRenderer = undefined;\n        /** Customise the parameters provided to the `groupRowRenderer` component.\n         */\n        this.groupRowRendererParams = undefined;\n        /** By default, when a column is un-grouped, i.e. using the Row Group Panel, it is made visible in the grid. This property stops the column becoming visible again when un-grouping.\n         * @default false\n         */\n        this.suppressMakeColumnVisibleAfterUnGroup = undefined;\n        /** Set to `true` to enable the Grid to work with Tree Data. You must also implement the `getDataPath(data)` callback.\n         * @default false\n         */\n        this.treeData = undefined;\n        /** Set to `true` to suppress sort indicators and actions from the row group panel.\n         * @default false\n         * @initial\n         */\n        this.rowGroupPanelSuppressSort = undefined;\n        /** Set to `true` prevent Group Rows from sticking to the top of the grid.\n         * @default false\n         * @initial\n         */\n        this.suppressGroupRowsSticky = undefined;\n        /** Data to be displayed as pinned top rows in the grid.\n         */\n        this.pinnedTopRowData = undefined;\n        /** Data to be displayed as pinned bottom rows in the grid.\n         */\n        this.pinnedBottomRowData = undefined;\n        /** Sets the row model type.\n         * @default 'clientSide'\n         * @initial\n         */\n        this.rowModelType = undefined;\n        /** Set the data to be displayed as rows in the grid.\n         */\n        this.rowData = undefined;\n        /** How many milliseconds to wait before executing a batch of async transactions.\n         */\n        this.asyncTransactionWaitMillis = undefined;\n        /** Prevents Transactions changing sort, filter, group or pivot state when transaction only contains updates.\n         * @default false\n         */\n        this.suppressModelUpdateAfterUpdateTransaction = undefined;\n        /** Provide the datasource for infinite scrolling.\n         */\n        this.datasource = undefined;\n        /** How many extra blank rows to display to the user at the end of the dataset, which sets the vertical scroll and then allows the grid to request viewing more rows of data.\n         * @default 1\n         * @initial\n         */\n        this.cacheOverflowSize = undefined;\n        /** How many extra blank rows to display to the user at the end of the dataset, which sets the vertical scroll and then allows the grid to request viewing more rows of data.\n         * @default 1\n         * @initial\n         */\n        this.infiniteInitialRowCount = undefined;\n        /** Set how many loading rows to display to the user for the root level group.\n         * @default 1\n         * @initial\n         */\n        this.serverSideInitialRowCount = undefined;\n        /** When `true`, the Server-side Row Model will suppress Infinite Scrolling and load all the data at the current level.\n         * @default false\n         * @initial\n         * @deprecated v31.1\n         */\n        this.suppressServerSideInfiniteScroll = undefined;\n        /** When `true`, the Server-side Row Model will not use a full width loading renderer, instead using the colDef `loadingCellRenderer` if present.\n         */\n        this.suppressServerSideFullWidthLoadingRow = undefined;\n        /** How many rows for each block in the store, i.e. how many rows returned from the server at a time.\n         * @default 100\n         */\n        this.cacheBlockSize = undefined;\n        /** How many blocks to keep in the store. Default is no limit, so every requested block is kept. Use this if you have memory concerns, and blocks that were least recently viewed will be purged when the limit is hit. The grid will additionally make sure it has all the blocks needed to display what is currently visible, in case this property is set to a low value.\n         * @initial\n         */\n        this.maxBlocksInCache = undefined;\n        /** How many requests to hit the server with concurrently. If the max is reached, requests are queued.\n         * Set to `-1` for no maximum restriction on requests.\n         * @default 2\n         * @initial\n         */\n        this.maxConcurrentDatasourceRequests = undefined;\n        /** How many milliseconds to wait before loading a block. Useful when scrolling over many blocks, as it prevents blocks loading until scrolling has settled.\n         * @initial\n         */\n        this.blockLoadDebounceMillis = undefined;\n        /** When enabled, closing group rows will remove children of that row. Next time the row is opened, child rows will be read from the datasource again. This property only applies when there is Row Grouping or Tree Data.\n         * @default false\n         */\n        this.purgeClosedRowNodes = undefined;\n        /** Provide the `serverSideDatasource` for server side row model.\n         */\n        this.serverSideDatasource = undefined;\n        /** When enabled, always refreshes top level groups regardless of which column was sorted. This property only applies when there is Row Grouping & sorting is handled on the server.\n         * @default false\n         */\n        this.serverSideSortAllLevels = undefined;\n        /** When enabled, sorts fully loaded groups in the browser instead of requesting from the server.\n         * @default false\n         */\n        this.serverSideEnableClientSideSort = undefined;\n        /** When enabled, only refresh groups directly impacted by a filter. This property only applies when there is Row Grouping & filtering is handled on the server.\n         * @default false\n         * @initial\n         */\n        this.serverSideOnlyRefreshFilteredGroups = undefined;\n        /** When enabled, Sorting will be done on the server. Only applicable when `suppressServerSideInfiniteScroll=true`.\n         * @default false\n         * @deprecated v31.1\n         */\n        this.serverSideSortOnServer = undefined;\n        /** When enabled, Filtering will be done on the server. Only applicable when `suppressServerSideInfiniteScroll=true`.\n         * @default false\n         * @deprecated v31.1\n         */\n        this.serverSideFilterOnServer = undefined;\n        /** Used to split pivot field strings for generating pivot result columns when `pivotResultFields` is provided as part of a `getRows` success.\n         * @default '_'\n         * @initial\n         */\n        this.serverSidePivotResultFieldSeparator = undefined;\n        /** To use the viewport row model you need to provide the grid with a `viewportDatasource`.\n         */\n        this.viewportDatasource = undefined;\n        /** When using viewport row model, sets the page size for the viewport.\n         * @initial\n         */\n        this.viewportRowModelPageSize = undefined;\n        /** When using viewport row model, sets the buffer size for the viewport.\n         * @initial\n         */\n        this.viewportRowModelBufferSize = undefined;\n        /** Set to `true` to always show the horizontal scrollbar.\n         * @default false\n         */\n        this.alwaysShowHorizontalScroll = undefined;\n        /** Set to `true` to always show the vertical scrollbar.\n         * @default false\n         */\n        this.alwaysShowVerticalScroll = undefined;\n        /** Set to `true` to debounce the vertical scrollbar. Can provide smoother scrolling on slow machines.\n         * @default false\n         * @initial\n         */\n        this.debounceVerticalScrollbar = undefined;\n        /** Set to `true` to never show the horizontal scroll. This is useful if the grid is aligned with another grid and will scroll when the other grid scrolls. (Should not be used in combination with `alwaysShowHorizontalScroll`.)\n         * @default false\n         */\n        this.suppressHorizontalScroll = undefined;\n        /** When `true`, the grid will not scroll to the top when new row data is provided. Use this if you don't want the default behaviour of scrolling to the top every time you load new data.\n         * @default false\n         */\n        this.suppressScrollOnNewData = undefined;\n        /** When `true`, the grid will not allow mousewheel / touchpad scroll when popup elements are present.\n         * @default false\n         */\n        this.suppressScrollWhenPopupsAreOpen = undefined;\n        /** When `true`, the grid will not use animation frames when drawing rows while scrolling. Use this if the grid is working fast enough that you don't need animation frames and you don't want the grid to flicker.\n         * @default false\n         * @initial\n         */\n        this.suppressAnimationFrame = undefined;\n        /** If `true`, middle clicks will result in `click` events for cells and rows. Otherwise the browser will use middle click to scroll the grid.<br />**Note:** Not all browsers fire `click` events with the middle button. Most will fire only `mousedown` and `mouseup` events, which can be used to focus a cell, but will not work to call the `onCellClicked` function.\n         * @default false\n         */\n        this.suppressMiddleClickScrolls = undefined;\n        /** If `true`, mouse wheel events will be passed to the browser. Useful if your grid has no vertical scrolls and you want the mouse to scroll the browser page.\n         * @default false\n         * @initial\n         */\n        this.suppressPreventDefaultOnMouseWheel = undefined;\n        /** Tell the grid how wide in pixels the scrollbar is, which is used in grid width calculations. Set only if using non-standard browser-provided scrollbars, so the grid can use the non-standard size in its calculations.\n         * @initial\n         */\n        this.scrollbarWidth = undefined;\n        /** Use the `RowSelectionOptions` object to configure row selection. The string values `'single'` and `'multiple'` are deprecated.\n         */\n        this.rowSelection = undefined;\n        /** Confgure cell selection\n         */\n        this.cellSelection = undefined;\n        /** Set to `true` to allow multiple rows to be selected using single click.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.enableSelectionWithoutKeys` instead\n         */\n        this.rowMultiSelectWithClick = undefined;\n        /** If `true`, rows will not be deselected if you hold down `Ctrl` and click the row or press `Space`.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.enableClickSelection` instead\n         */\n        this.suppressRowDeselection = undefined;\n        /** If `true`, row selection won't happen when rows are clicked. Use when you only want checkbox selection.\n         * @default false\n         * @deprecated v32.2 Use `rowSelection.enableClickSelection` instead\n         */\n        this.suppressRowClickSelection = undefined;\n        /** If `true`, cells won't be focusable. This means keyboard navigation will be disabled for grid cells, but remain enabled in other elements of the grid such as column headers, floating filters, tool panels.\n         * @default false\n         */\n        this.suppressCellFocus = undefined;\n        /** If `true`, header cells won't be focusable. This means keyboard navigation will be disabled for grid header cells, but remain enabled in other elements of the grid such as grid cells and tool panels.\n         * @default false\n         */\n        this.suppressHeaderFocus = undefined;\n        /** Configure the selection column, used for displaying checkboxes.\n         *\n         * Note that due to the nature of this column, this type is a subset of `ColDef`, which does not support several normal column features such as editing, pivoting and grouping.\n         */\n        this.selectionColumnDef = undefined;\n        /** If `true`, only a single range can be selected.\n         * @default false\n         * @deprecated v32.2 Use `cellSelection.suppressMultiRanges` instead\n         */\n        this.suppressMultiRangeSelection = undefined;\n        /** Set to `true` to be able to select the text within cells.\n         *\n         *     **Note:** When this is set to `true`, the clipboard service is disabled and only selected text is copied.\n         * @default false\n         */\n        this.enableCellTextSelection = undefined;\n        /** Set to `true` to enable Range Selection.\n         * @default false\n         * @deprecated v32.2 Use `cellSelection = true` instead\n         */\n        this.enableRangeSelection = undefined;\n        /** Set to `true` to enable the Range Handle.\n         * @default false\n         * @deprecated v32.2 Use `cellSelection.handle` instead\n         */\n        this.enableRangeHandle = undefined;\n        /** Set to `true` to enable the Fill Handle.\n         * @default false\n         * @deprecated v32.2 Use `cellSelection.handle` instead\n         */\n        this.enableFillHandle = undefined;\n        /** Set to `'x'` to force the fill handle direction to horizontal, or set to `'y'` to force the fill handle direction to vertical.\n         * @default 'xy'\n         * @deprecated v32.2 Use `cellSelection.handle.direction` instead\n         */\n        this.fillHandleDirection = undefined;\n        /** Set this to `true` to prevent cell values from being cleared when the Range Selection is reduced by the Fill Handle.\n         * @default false\n         * @deprecated v32.2 Use `cellSelection.suppressClearOnFillReduction` instead\n         */\n        this.suppressClearOnFillReduction = undefined;\n        /** Array defining the order in which sorting occurs (if sorting is enabled). Values can be `'asc'`, `'desc'` or `null`. For example: `sortingOrder: ['asc', 'desc']`.\n         * @default [null, 'asc', 'desc']\n         */\n        this.sortingOrder = undefined;\n        /** Set to `true` to specify that the sort should take accented characters into account. If this feature is turned on the sort will be slower.\n         * @default false\n         */\n        this.accentedSort = undefined;\n        /** Set to `true` to show the 'no sort' icon.\n         * @default false\n         */\n        this.unSortIcon = undefined;\n        /** Set to `true` to suppress multi-sort when the user shift-clicks a column header.\n         * @default false\n         */\n        this.suppressMultiSort = undefined;\n        /** Set to `true` to always multi-sort when the user clicks a column header, regardless of key presses.\n         * @default false\n         */\n        this.alwaysMultiSort = undefined;\n        /** Set to `'ctrl'` to have multi sorting work using the `Ctrl` (or `Command ` for Mac) key.\n         */\n        this.multiSortKey = undefined;\n        /** Set to `true` to suppress sorting of un-sorted data to match original row data.\n         * @default false\n         */\n        this.suppressMaintainUnsortedOrder = undefined;\n        /** Icons to use inside the grid instead of the grid's default icons.\n         * @initial\n         */\n        this.icons = undefined;\n        /** Default row height in pixels.\n         * @default 25\n         */\n        this.rowHeight = undefined;\n        /** The style properties to apply to all rows. Set to an object of key (style names) and values (style values).\n         */\n        this.rowStyle = undefined;\n        /** CSS class(es) for all rows. Provide either a string (class name) or array of strings (array of class names).\n         */\n        this.rowClass = undefined;\n        /** Rules which can be applied to include certain CSS classes.\n         */\n        this.rowClassRules = undefined;\n        /** Set to `true` to not highlight rows by adding the `ag-row-hover` CSS class.\n         * @default false\n         */\n        this.suppressRowHoverHighlight = undefined;\n        /** Uses CSS `top` instead of CSS `transform` for positioning rows. Useful if the transform function is causing issues such as used in row spanning.\n         * @default false\n         * @initial\n         */\n        this.suppressRowTransform = undefined;\n        /** Set to `true` to highlight columns by adding the `ag-column-hover` CSS class.\n         * @default false\n         */\n        this.columnHoverHighlight = undefined;\n        /** Provide a custom `gridId` for this instance of the grid. Value will be set on the root DOM node using the attribute `grid-id` as well as being accessible via the `gridApi.getGridId()` method.\n         * @initial\n         */\n        this.gridId = undefined;\n        /** When enabled, sorts only the rows added/updated by a transaction.\n         * @default false\n         */\n        this.deltaSort = undefined;\n        /**/\n        this.treeDataDisplayType = undefined;\n        /** @initial\n         */\n        this.enableGroupEdit = undefined;\n        /** Initial state for the grid. Only read once on initialization. Can be used in conjunction with `api.getState()` to save and restore grid state.\n         * @initial\n         */\n        this.initialState = undefined;\n        /** Theme to apply to the grid.\n         */\n        this.theme = undefined;\n        /** Whether to load supported theme fonts from the Google Fonts server.\n         *\n         * - `true` -> load fonts automatically if your theme uses them\n         * - `false` -> do not load fonts. You must load them from Google Fonts yourself or download\n         *              them and serve them from your app, otherwise a fallback font will be used.\n         */\n        this.loadThemeGoogleFonts = undefined;\n        /** For customising the context menu.\n         */\n        this.getContextMenuItems = undefined;\n        /** For customising the main 'column header' menu.\n         * @initial\n         */\n        this.getMainMenuItems = undefined;\n        /** Allows user to process popups after they are created. Applications can use this if they want to, for example, reposition the popup.\n         */\n        this.postProcessPopup = undefined;\n        /** Allows the user to process the columns being removed from the pinned section because the viewport is too small to accommodate them.\n         * Returns an array of columns to be removed from the pinned areas.\n         * @initial\n         */\n        this.processUnpinnedColumns = undefined;\n        /** Allows you to process cells for the clipboard. Handy if for example you have `Date` objects that need to have a particular format if importing into Excel.\n         */\n        this.processCellForClipboard = undefined;\n        /** Allows you to process header values for the clipboard.\n         */\n        this.processHeaderForClipboard = undefined;\n        /** Allows you to process group header values for the clipboard.\n         */\n        this.processGroupHeaderForClipboard = undefined;\n        /** Allows you to process cells from the clipboard. Handy if for example you have number fields and want to block non-numbers from getting into the grid.\n         */\n        this.processCellFromClipboard = undefined;\n        /** Allows you to get the data that would otherwise go to the clipboard. To be used when you want to control the 'copy to clipboard' operation yourself.\n         */\n        this.sendToClipboard = undefined;\n        /** Allows complete control of the paste operation, including cancelling the operation (so nothing happens) or replacing the data with other data.\n         */\n        this.processDataFromClipboard = undefined;\n        /** Grid calls this method to know if an external filter is present.\n         */\n        this.isExternalFilterPresent = undefined;\n        /** Should return `true` if external filter passes, otherwise `false`.\n         */\n        this.doesExternalFilterPass = undefined;\n        /** Callback to be used to customise the chart toolbar items.\n         * @initial\n         */\n        this.getChartToolbarItems = undefined;\n        /** Callback to enable displaying the chart in an alternative chart container.\n         * @initial\n         */\n        this.createChartContainer = undefined;\n        /** Allows overriding the element that will be focused when the grid receives focus from outside elements (tabbing into the grid).\n         * @returns `True` if this function should override the grid's default behavior, `False` to allow the grid's default behavior.\n         */\n        this.focusGridInnerElement = undefined;\n        /** Allows overriding the default behaviour for when user hits navigation (arrow) key when a header is focused. Return the next Header position to navigate to or `null` to stay on current header.\n         */\n        this.navigateToNextHeader = undefined;\n        /** Allows overriding the default behaviour for when user hits `Tab` key when a header is focused.\n         * Return the next header position to navigate to, `true` to stay on the current header,\n         * or `false` to let the browser handle the tab behaviour.\n         * As of v31.3, returning `null` is deprecated.\n         */\n        this.tabToNextHeader = undefined;\n        /** Allows overriding the default behaviour for when user hits navigation (arrow) key when a cell is focused. Return the next Cell position to navigate to or `null` to stay on current cell.\n         */\n        this.navigateToNextCell = undefined;\n        /** Allows overriding the default behaviour for when user hits `Tab` key when a cell is focused.\n         * Return the next cell position to navigate to, `true` to stay on the current cell,\n         * or `false` to let the browser handle the tab behaviour.\n         * As of v31.3, returning `null` is deprecated.\n         */\n        this.tabToNextCell = undefined;\n        /** A callback for localising text within the grid.\n         * @initial\n         */\n        this.getLocaleText = undefined;\n        /** Allows overriding what `document` is used. Currently used by Drag and Drop (may extend to other places in the future). Use this when you want the grid to use a different `document` than the one available on the global scope. This can happen if docking out components (something which Electron supports)\n         */\n        this.getDocument = undefined;\n        /** Allows user to format the numbers in the pagination panel, i.e. 'row count' and 'page number' labels. This is for pagination panel only, to format numbers inside the grid's cells (i.e. your data), then use `valueFormatter` in the column definitions.\n         * @initial\n         */\n        this.paginationNumberFormatter = undefined;\n        /** Callback to use when you need access to more then the current column for aggregation.\n         */\n        this.getGroupRowAgg = undefined;\n        /** (Client-side Row Model only) Allows groups to be open by default.\n         */\n        this.isGroupOpenByDefault = undefined;\n        /** Allows default sorting of groups.\n         */\n        this.initialGroupOrderComparator = undefined;\n        /** Callback for the mutation of the generated pivot result column definitions\n         */\n        this.processPivotResultColDef = undefined;\n        /** Callback for the mutation of the generated pivot result column group definitions\n         */\n        this.processPivotResultColGroupDef = undefined;\n        /** Callback to be used when working with Tree Data when `treeData = true`.\n         */\n        this.getDataPath = undefined;\n        /** Allows setting the child count for a group row.\n         * @initial\n         */\n        this.getChildCount = undefined;\n        /** Allows providing different params for different levels of grouping.\n         * @initial\n         */\n        this.getServerSideGroupLevelParams = undefined;\n        /** Allows groups to be open by default.\n         */\n        this.isServerSideGroupOpenByDefault = undefined;\n        /** Allows cancelling transactions.\n         */\n        this.isApplyServerSideTransaction = undefined;\n        /** SSRM Tree Data: Allows specifying which rows are expandable.\n         */\n        this.isServerSideGroup = undefined;\n        /** SSRM Tree Data: Allows specifying group keys.\n         */\n        this.getServerSideGroupKey = undefined;\n        /** Return a business key for the node. If implemented, each row in the DOM will have an attribute `row-business-key='abc'` where `abc` is what you return as the business key.\n         * This is useful for automated testing, as it provides a way for your tool to identify rows based on unique business keys.\n         */\n        this.getBusinessKeyForNode = undefined;\n        /** Provide a pure function that returns a string ID to uniquely identify a given row. This enables the grid to work optimally with data changes and updates.\n         * @initial\n         */\n        this.getRowId = undefined;\n        /** When enabled, getRowId() callback is implemented and new Row Data is set, the grid will disregard all previous rows and treat the new Row Data as new data. As a consequence, all Row State (eg selection, rendered rows) will be reset.\n         * @default false\n         */\n        this.resetRowDataOnUpdate = undefined;\n        /** Callback fired after the row is rendered into the DOM. Should not be used to initiate side effects.\n         */\n        this.processRowPostCreate = undefined;\n        /** Callback to be used to determine which rows are selectable. By default rows are selectable, so return `false` to make a row un-selectable.\n         * @deprecated v32.2 Use `rowSelection.isRowSelectable` instead\n         */\n        this.isRowSelectable = undefined;\n        /** Callback to be used with Master Detail to determine if a row should be a master row. If `false` is returned no detail row will exist for this row.\n         */\n        this.isRowMaster = undefined;\n        /** Callback to fill values instead of simply copying values or increasing number values using linear progression.\n         *\n         * @deprecated v32.2 Use `cellSelection.handle.setFillValue` instead\n         */\n        this.fillOperation = undefined;\n        /** Callback to perform additional sorting after the grid has sorted the rows.\n         */\n        this.postSortRows = undefined;\n        /** Callback version of property `rowStyle` to set style for each row individually. Function should return an object of CSS values or undefined for no styles.\n         */\n        this.getRowStyle = undefined;\n        /** Callback version of property `rowClass` to set class(es) for each row individually. Function should return either a string (class name), array of strings (array of class names) or undefined for no class.\n         */\n        this.getRowClass = undefined;\n        /** Callback version of property `rowHeight` to set height for each row individually. Function should return a positive number of pixels, or return `null`/`undefined` to use the default row height.\n         */\n        this.getRowHeight = undefined;\n        /** Tells the grid if this row should be rendered as full width.\n         */\n        this.isFullWidthRow = undefined;\n        /** The tool panel visibility has changed. Fires twice if switching between panels - once with the old panel and once with the new panel.\n         */\n        this.toolPanelVisibleChanged = new EventEmitter();\n        /** The tool panel size has been changed.\n         */\n        this.toolPanelSizeChanged = new EventEmitter();\n        /** The column menu visibility has changed. Fires twice if switching between tabs - once with the old tab and once with the new tab.\n         */\n        this.columnMenuVisibleChanged = new EventEmitter();\n        /** The context menu visibility has changed (opened or closed).\n         */\n        this.contextMenuVisibleChanged = new EventEmitter();\n        /** Cut operation has started.\n         */\n        this.cutStart = new EventEmitter();\n        /** Cut operation has ended.\n         */\n        this.cutEnd = new EventEmitter();\n        /** Paste operation has started.\n         */\n        this.pasteStart = new EventEmitter();\n        /** Paste operation has ended.\n         */\n        this.pasteEnd = new EventEmitter();\n        /** A column, or group of columns, was hidden / shown.\n         */\n        this.columnVisible = new EventEmitter();\n        /** A column, or group of columns, was pinned / unpinned.\n         */\n        this.columnPinned = new EventEmitter();\n        /** A column was resized.\n         */\n        this.columnResized = new EventEmitter();\n        /** A column was moved.\n         */\n        this.columnMoved = new EventEmitter();\n        /** A value column was added or removed.\n         */\n        this.columnValueChanged = new EventEmitter();\n        /** The pivot mode flag was changed.\n         */\n        this.columnPivotModeChanged = new EventEmitter();\n        /** A pivot column was added, removed or order changed.\n         */\n        this.columnPivotChanged = new EventEmitter();\n        /** A column group was opened / closed.\n         */\n        this.columnGroupOpened = new EventEmitter();\n        /** User set new columns.\n         */\n        this.newColumnsLoaded = new EventEmitter();\n        /** The list of grid columns changed.\n         */\n        this.gridColumnsChanged = new EventEmitter();\n        /** The list of displayed columns changed. This can result from columns open / close, column move, pivot, group, etc.\n         */\n        this.displayedColumnsChanged = new EventEmitter();\n        /** The list of rendered columns changed (only columns in the visible scrolled viewport are rendered by default).\n         */\n        this.virtualColumnsChanged = new EventEmitter();\n        /** @deprecated v32.2 Either use `onDisplayedColumnsChanged` which is fired at the same time,\n         * or use one of the more specific column events.\n         */\n        this.columnEverythingChanged = new EventEmitter();\n        /** A mouse cursor is initially moved over a column header.\n         */\n        this.columnHeaderMouseOver = new EventEmitter();\n        /** A mouse cursor is moved out of a column header.\n         */\n        this.columnHeaderMouseLeave = new EventEmitter();\n        /** A click is performed on a column header.\n         */\n        this.columnHeaderClicked = new EventEmitter();\n        /** A context menu action, such as right-click or context menu key press, is performed on a column header.\n         */\n        this.columnHeaderContextMenu = new EventEmitter();\n        /** Only used by Angular, React and VueJS AG Grid components (not used if doing plain JavaScript).\n         * If the grid receives changes due to bound properties, this event fires after the grid has finished processing the change.\n         */\n        this.componentStateChanged = new EventEmitter();\n        /** Value has changed after editing (this event will not fire if editing was cancelled, eg ESC was pressed) or\n         *  if cell value has changed as a result of cut, paste, cell clear (pressing Delete key),\n         * fill handle, copy range down, undo and redo.\n         */\n        this.cellValueChanged = new EventEmitter();\n        /** Value has changed after editing. Only fires when `readOnlyEdit=true`.\n         */\n        this.cellEditRequest = new EventEmitter();\n        /** A cell's value within a row has changed. This event corresponds to Full Row Editing only.\n         */\n        this.rowValueChanged = new EventEmitter();\n        /** Editing a cell has started.\n         */\n        this.cellEditingStarted = new EventEmitter();\n        /** Editing a cell has stopped.\n         */\n        this.cellEditingStopped = new EventEmitter();\n        /** Editing a row has started (when row editing is enabled). When row editing, this event will be fired once and `cellEditingStarted` will be fired for each individual cell. Only fires when doing Full Row Editing.\n         */\n        this.rowEditingStarted = new EventEmitter();\n        /** Editing a row has stopped (when row editing is enabled). When row editing, this event will be fired once and `cellEditingStopped` will be fired for each individual cell. Only fires when doing Full Row Editing.\n         */\n        this.rowEditingStopped = new EventEmitter();\n        /** Undo operation has started.\n         */\n        this.undoStarted = new EventEmitter();\n        /** Undo operation has ended.\n         */\n        this.undoEnded = new EventEmitter();\n        /** Redo operation has started.\n         */\n        this.redoStarted = new EventEmitter();\n        /** Redo operation has ended.\n         */\n        this.redoEnded = new EventEmitter();\n        /** Cell selection delete operation (cell clear) has started.\n         */\n        this.cellSelectionDeleteStart = new EventEmitter();\n        /** Cell selection delete operation (cell clear) has ended.\n         */\n        this.cellSelectionDeleteEnd = new EventEmitter();\n        /** Range delete operation (cell clear) has started.\n         *\n         * @deprecated v32.2 Use `onCellSelectionDeleteStart` instead\n         */\n        this.rangeDeleteStart = new EventEmitter();\n        /** Range delete operation (cell clear) has ended.\n         *\n         * @deprecated v32.2 Use `onCellSelectionDeleteEnd` instead\n         */\n        this.rangeDeleteEnd = new EventEmitter();\n        /** Fill operation has started.\n         */\n        this.fillStart = new EventEmitter();\n        /** Fill operation has ended.\n         */\n        this.fillEnd = new EventEmitter();\n        /** Filter has been opened.\n         */\n        this.filterOpened = new EventEmitter();\n        /** Filter has been modified and applied.\n         */\n        this.filterChanged = new EventEmitter();\n        /** Filter was modified but not applied. Used when filters have 'Apply' buttons.\n         */\n        this.filterModified = new EventEmitter();\n        /** Advanced Filter Builder visibility has changed (opened or closed).\n         */\n        this.advancedFilterBuilderVisibleChanged = new EventEmitter();\n        /** A chart has been created.\n         */\n        this.chartCreated = new EventEmitter();\n        /** The data range for the chart has been changed.\n         */\n        this.chartRangeSelectionChanged = new EventEmitter();\n        /** Formatting changes have been made by users through the Customize Panel.\n         */\n        this.chartOptionsChanged = new EventEmitter();\n        /** A chart has been destroyed.\n         */\n        this.chartDestroyed = new EventEmitter();\n        /** DOM event `keyDown` happened on a cell.\n         */\n        this.cellKeyDown = new EventEmitter();\n        /** The grid has initialised and is ready for most api calls, but may not be fully rendered yet      */\n        this.gridReady = new EventEmitter();\n        /** Fired the first time data is rendered into the grid. Use this event if you want to auto resize columns based on their contents     */\n        this.firstDataRendered = new EventEmitter();\n        /** The size of the grid `div` has changed. In other words, the grid was resized.\n         */\n        this.gridSizeChanged = new EventEmitter();\n        /** Displayed rows have changed. Triggered after sort, filter or tree expand / collapse events.\n         */\n        this.modelUpdated = new EventEmitter();\n        /** A row was removed from the DOM, for any reason. Use to clean up resources (if any) used by the row.\n         */\n        this.virtualRowRemoved = new EventEmitter();\n        /** Which rows are rendered in the DOM has changed.\n         */\n        this.viewportChanged = new EventEmitter();\n        /** The body was scrolled horizontally or vertically.\n         */\n        this.bodyScroll = new EventEmitter();\n        /** Main body of the grid has stopped scrolling, either horizontally or vertically.\n         */\n        this.bodyScrollEnd = new EventEmitter();\n        /** When dragging starts. This could be any action that uses the grid's Drag and Drop service, e.g. Column Moving, Column Resizing, Range Selection, Fill Handle, etc.\n         */\n        this.dragStarted = new EventEmitter();\n        /** When dragging stops. This could be any action that uses the grid's Drag and Drop service, e.g. Column Moving, Column Resizing, Range Selection, Fill Handle, etc.\n         */\n        this.dragStopped = new EventEmitter();\n        /** When dragging is cancelled stops. This is caused by pressing `Escape` while dragging elements within the grid that uses the grid's Drag and Drop service, e.g. Column Moving, Column Resizing, Range Selection, Fill Handle, etc.\n         */\n        this.dragCancelled = new EventEmitter();\n        /** Grid state has been updated.\n         */\n        this.stateUpdated = new EventEmitter();\n        /** Triggered every time the paging state changes. Some of the most common scenarios for this event to be triggered are:\n         *\n         *  - The page size changes.\n         *  - The current shown page is changed.\n         *  - New data is loaded onto the grid.\n         */\n        this.paginationChanged = new EventEmitter();\n        /** A drag has started, or dragging was already started and the mouse has re-entered the grid having previously left the grid.\n         */\n        this.rowDragEnter = new EventEmitter();\n        /** The mouse has moved while dragging.\n         */\n        this.rowDragMove = new EventEmitter();\n        /** The mouse has left the grid while dragging.\n         */\n        this.rowDragLeave = new EventEmitter();\n        /** The drag has finished over the grid.\n         */\n        this.rowDragEnd = new EventEmitter();\n        /** The drag has been cancelled over the grid.\n         */\n        this.rowDragCancel = new EventEmitter();\n        /** A row group column was added, removed or reordered.\n         */\n        this.columnRowGroupChanged = new EventEmitter();\n        /** A row group was opened or closed.\n         */\n        this.rowGroupOpened = new EventEmitter();\n        /** Fired when calling either of the API methods `expandAll()` or `collapseAll()`.\n         */\n        this.expandOrCollapseAll = new EventEmitter();\n        /** Exceeded the `pivotMaxGeneratedColumns` limit when generating columns.\n         */\n        this.pivotMaxColumnsExceeded = new EventEmitter();\n        /** The client has set new pinned row data into the grid.\n         */\n        this.pinnedRowDataChanged = new EventEmitter();\n        /** Client-Side Row Model only. The client has updated data for the grid by either a) setting new Row Data or b) Applying a Row Transaction.\n         */\n        this.rowDataUpdated = new EventEmitter();\n        /** Async transactions have been applied. Contains a list of all transaction results.\n         */\n        this.asyncTransactionsFlushed = new EventEmitter();\n        /** A server side store has finished refreshing.\n         */\n        this.storeRefreshed = new EventEmitter();\n        /** Header is focused.\n         */\n        this.headerFocused = new EventEmitter();\n        /** Cell is clicked.\n         */\n        this.cellClicked = new EventEmitter();\n        /** Cell is double clicked.\n         */\n        this.cellDoubleClicked = new EventEmitter();\n        /** Cell is focused.\n         */\n        this.cellFocused = new EventEmitter();\n        /** Mouse entered cell.\n         */\n        this.cellMouseOver = new EventEmitter();\n        /** Mouse left cell.\n         */\n        this.cellMouseOut = new EventEmitter();\n        /** Mouse down on cell.\n         */\n        this.cellMouseDown = new EventEmitter();\n        /** Row is clicked.\n         */\n        this.rowClicked = new EventEmitter();\n        /** Row is double clicked.\n         */\n        this.rowDoubleClicked = new EventEmitter();\n        /** Row is selected or deselected. The event contains the node in question, so call the node's `isSelected()` method to see if it was just selected or deselected.\n         */\n        this.rowSelected = new EventEmitter();\n        /** Row selection is changed. Use the grid API `getSelectedNodes()` or `getSelectedRows()` to get the new list of selected nodes / row data.\n         */\n        this.selectionChanged = new EventEmitter();\n        /** Cell is right clicked.\n         */\n        this.cellContextMenu = new EventEmitter();\n        /** A change to range selection has occurred.\n         *\n         * @deprecated v32.2 Use `onCellSelectionChanged` instead\n         */\n        this.rangeSelectionChanged = new EventEmitter();\n        /** A change to cell selection has occurred.\n         */\n        this.cellSelectionChanged = new EventEmitter();\n        /** A tooltip has been displayed     */\n        this.tooltipShow = new EventEmitter();\n        /** A tooltip was hidden     */\n        this.tooltipHide = new EventEmitter();\n        /** Sort has changed. The grid also listens for this and updates the model.\n         */\n        this.sortChanged = new EventEmitter();\n        this._nativeElement = elementDef.nativeElement;\n        this._fullyReady.then(() => {\n            // Register the status flag reset before any events are fired\n            // so that we can swap to synchronous event firing as soon as the grid is ready\n            this._holdEvents = false;\n        });\n    }\n    ngAfterViewInit() {\n        // Run the setup outside of angular so all the event handlers that are created do not trigger change detection\n        this.angularFrameworkOverrides.runOutsideAngular(() => {\n            this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef, this.angularFrameworkOverrides);\n            const mergedGridOps = _combineAttributesAndGridOptions(this.gridOptions, this);\n            this.gridParams = {\n                globalEventListener: this.globalEventListener.bind(this),\n                frameworkOverrides: this.angularFrameworkOverrides,\n                providedBeanInstances: {\n                    frameworkComponentWrapper: this.frameworkComponentWrapper,\n                },\n                modules: (this.modules || []),\n            };\n            const api = createGrid(this._nativeElement, mergedGridOps, this.gridParams);\n            if (api) {\n                this.api = api;\n            }\n            this._initialised = true;\n            // sometimes, especially in large client apps gridReady can fire before ngAfterViewInit\n            // this ties these together so that gridReady will always fire after agGridAngular's ngAfterViewInit\n            // the actual containing component's ngAfterViewInit will fire just after agGridAngular's\n            this._resolveFullyReady();\n        });\n    }\n    ngOnChanges(changes) {\n        if (this._initialised) {\n            // Run the changes outside of angular so any event handlers that are created do not trigger change detection\n            this.angularFrameworkOverrides.runOutsideAngular(() => {\n                const gridOptions = {};\n                Object.entries(changes).forEach(([key, value]) => {\n                    gridOptions[key] = value.currentValue;\n                });\n                _processOnChange(gridOptions, this.api);\n            });\n        }\n    }\n    ngOnDestroy() {\n        if (this._initialised) {\n            // need to do this before the destroy, so we know not to emit any events\n            // while tearing down the grid.\n            this._destroyed = true;\n            // could be null if grid failed to initialise\n            this.api?.destroy();\n        }\n    }\n    // we'll emit the emit if a user is listening for a given event either on the component via normal angular binding\n    // or via gridOptions\n    isEmitterUsed(eventType) {\n        const emitter = this[eventType];\n        // For RxJs compatibility we need to check for observed v7+ or observers v6\n        const emitterAny = emitter;\n        const hasEmitter = emitterAny?.observed ?? emitterAny?.observers?.length > 0;\n        // gridReady => onGridReady\n        const asEventName = `on${eventType.charAt(0).toUpperCase()}${eventType.substring(1)}`;\n        const hasGridOptionListener = !!this.gridOptions && !!this.gridOptions[asEventName];\n        return hasEmitter || hasGridOptionListener;\n    }\n    globalEventListener(eventType, event) {\n        // if we are tearing down, don't emit angular events, as this causes\n        // problems with the angular router\n        if (this._destroyed) {\n            return;\n        }\n        // generically look up the eventType\n        const emitter = this[eventType];\n        if (emitter && this.isEmitterUsed(eventType)) {\n            // Make sure we emit within the angular zone, so change detection works properly\n            const fireEmitter = () => this.angularFrameworkOverrides.runInsideAngular(() => emitter.emit(event));\n            if (this._holdEvents) {\n                // if the user is listening to events, wait for ngAfterViewInit to fire first, then emit the grid events\n                this._fullyReady.then(() => fireEmitter());\n            }\n            else {\n                fireEmitter();\n            }\n        }\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AgGridAngular, deps: [{ token: i0.ElementRef }, { token: i0.ViewContainerRef }, { token: AngularFrameworkOverrides }, { token: AngularFrameworkComponentWrapper }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.12\", type: AgGridAngular, isStandalone: true, selector: \"ag-grid-angular\", inputs: { gridOptions: \"gridOptions\", modules: \"modules\", statusBar: \"statusBar\", sideBar: \"sideBar\", suppressContextMenu: \"suppressContextMenu\", preventDefaultOnContextMenu: \"preventDefaultOnContextMenu\", allowContextMenuWithControlKey: \"allowContextMenuWithControlKey\", columnMenu: \"columnMenu\", suppressMenuHide: \"suppressMenuHide\", enableBrowserTooltips: \"enableBrowserTooltips\", tooltipTrigger: \"tooltipTrigger\", tooltipShowDelay: \"tooltipShowDelay\", tooltipHideDelay: \"tooltipHideDelay\", tooltipMouseTrack: \"tooltipMouseTrack\", tooltipShowMode: \"tooltipShowMode\", tooltipInteraction: \"tooltipInteraction\", popupParent: \"popupParent\", copyHeadersToClipboard: \"copyHeadersToClipboard\", copyGroupHeadersToClipboard: \"copyGroupHeadersToClipboard\", clipboardDelimiter: \"clipboardDelimiter\", suppressCopyRowsToClipboard: \"suppressCopyRowsToClipboard\", suppressCopySingleCellRanges: \"suppressCopySingleCellRanges\", suppressLastEmptyLineOnPaste: \"suppressLastEmptyLineOnPaste\", suppressClipboardPaste: \"suppressClipboardPaste\", suppressClipboardApi: \"suppressClipboardApi\", suppressCutToClipboard: \"suppressCutToClipboard\", columnDefs: \"columnDefs\", defaultColDef: \"defaultColDef\", defaultColGroupDef: \"defaultColGroupDef\", columnTypes: \"columnTypes\", dataTypeDefinitions: \"dataTypeDefinitions\", maintainColumnOrder: \"maintainColumnOrder\", enableStrictPivotColumnOrder: \"enableStrictPivotColumnOrder\", suppressFieldDotNotation: \"suppressFieldDotNotation\", headerHeight: \"headerHeight\", groupHeaderHeight: \"groupHeaderHeight\", floatingFiltersHeight: \"floatingFiltersHeight\", pivotHeaderHeight: \"pivotHeaderHeight\", pivotGroupHeaderHeight: \"pivotGroupHeaderHeight\", allowDragFromColumnsToolPanel: \"allowDragFromColumnsToolPanel\", suppressMovableColumns: \"suppressMovableColumns\", suppressColumnMoveAnimation: \"suppressColumnMoveAnimation\", suppressMoveWhenColumnDragging: \"suppressMoveWhenColumnDragging\", suppressDragLeaveHidesColumns: \"suppressDragLeaveHidesColumns\", suppressRowGroupHidesColumns: \"suppressRowGroupHidesColumns\", colResizeDefault: \"colResizeDefault\", suppressAutoSize: \"suppressAutoSize\", autoSizePadding: \"autoSizePadding\", skipHeaderOnAutoSize: \"skipHeaderOnAutoSize\", autoSizeStrategy: \"autoSizeStrategy\", components: \"components\", editType: \"editType\", singleClickEdit: \"singleClickEdit\", suppressClickEdit: \"suppressClickEdit\", readOnlyEdit: \"readOnlyEdit\", stopEditingWhenCellsLoseFocus: \"stopEditingWhenCellsLoseFocus\", enterNavigatesVertically: \"enterNavigatesVertically\", enterNavigatesVerticallyAfterEdit: \"enterNavigatesVerticallyAfterEdit\", enableCellEditingOnBackspace: \"enableCellEditingOnBackspace\", undoRedoCellEditing: \"undoRedoCellEditing\", undoRedoCellEditingLimit: \"undoRedoCellEditingLimit\", defaultCsvExportParams: \"defaultCsvExportParams\", suppressCsvExport: \"suppressCsvExport\", defaultExcelExportParams: \"defaultExcelExportParams\", suppressExcelExport: \"suppressExcelExport\", excelStyles: \"excelStyles\", quickFilterText: \"quickFilterText\", cacheQuickFilter: \"cacheQuickFilter\", includeHiddenColumnsInQuickFilter: \"includeHiddenColumnsInQuickFilter\", quickFilterParser: \"quickFilterParser\", quickFilterMatcher: \"quickFilterMatcher\", applyQuickFilterBeforePivotOrAgg: \"applyQuickFilterBeforePivotOrAgg\", excludeChildrenWhenTreeDataFiltering: \"excludeChildrenWhenTreeDataFiltering\", enableAdvancedFilter: \"enableAdvancedFilter\", advancedFilterModel: \"advancedFilterModel\", includeHiddenColumnsInAdvancedFilter: \"includeHiddenColumnsInAdvancedFilter\", advancedFilterParent: \"advancedFilterParent\", advancedFilterBuilderParams: \"advancedFilterBuilderParams\", suppressAdvancedFilterEval: \"suppressAdvancedFilterEval\", suppressSetFilterByDefault: \"suppressSetFilterByDefault\", enableCharts: \"enableCharts\", chartThemes: \"chartThemes\", customChartThemes: \"customChartThemes\", chartThemeOverrides: \"chartThemeOverrides\", chartToolPanelsDef: \"chartToolPanelsDef\", chartMenuItems: \"chartMenuItems\", loadingCellRenderer: \"loadingCellRenderer\", loadingCellRendererParams: \"loadingCellRendererParams\", loadingCellRendererSelector: \"loadingCellRendererSelector\", localeText: \"localeText\", masterDetail: \"masterDetail\", keepDetailRows: \"keepDetailRows\", keepDetailRowsCount: \"keepDetailRowsCount\", detailCellRenderer: \"detailCellRenderer\", detailCellRendererParams: \"detailCellRendererParams\", detailRowHeight: \"detailRowHeight\", detailRowAutoHeight: \"detailRowAutoHeight\", context: \"context\", dragAndDropImageComponent: \"dragAndDropImageComponent\", dragAndDropImageComponentParams: \"dragAndDropImageComponentParams\", alignedGrids: \"alignedGrids\", tabIndex: \"tabIndex\", rowBuffer: \"rowBuffer\", valueCache: \"valueCache\", valueCacheNeverExpires: \"valueCacheNeverExpires\", enableCellExpressions: \"enableCellExpressions\", suppressTouch: \"suppressTouch\", suppressFocusAfterRefresh: \"suppressFocusAfterRefresh\", suppressAsyncEvents: \"suppressAsyncEvents\", suppressBrowserResizeObserver: \"suppressBrowserResizeObserver\", suppressPropertyNamesCheck: \"suppressPropertyNamesCheck\", suppressChangeDetection: \"suppressChangeDetection\", debug: \"debug\", loading: \"loading\", overlayLoadingTemplate: \"overlayLoadingTemplate\", loadingOverlayComponent: \"loadingOverlayComponent\", loadingOverlayComponentParams: \"loadingOverlayComponentParams\", suppressLoadingOverlay: \"suppressLoadingOverlay\", overlayNoRowsTemplate: \"overlayNoRowsTemplate\", noRowsOverlayComponent: \"noRowsOverlayComponent\", noRowsOverlayComponentParams: \"noRowsOverlayComponentParams\", suppressNoRowsOverlay: \"suppressNoRowsOverlay\", pagination: \"pagination\", paginationPageSize: \"paginationPageSize\", paginationPageSizeSelector: \"paginationPageSizeSelector\", paginationAutoPageSize: \"paginationAutoPageSize\", paginateChildRows: \"paginateChildRows\", suppressPaginationPanel: \"suppressPaginationPanel\", pivotMode: \"pivotMode\", pivotPanelShow: \"pivotPanelShow\", pivotMaxGeneratedColumns: \"pivotMaxGeneratedColumns\", pivotDefaultExpanded: \"pivotDefaultExpanded\", pivotColumnGroupTotals: \"pivotColumnGroupTotals\", pivotRowTotals: \"pivotRowTotals\", pivotSuppressAutoColumn: \"pivotSuppressAutoColumn\", suppressExpandablePivotGroups: \"suppressExpandablePivotGroups\", functionsReadOnly: \"functionsReadOnly\", aggFuncs: \"aggFuncs\", suppressAggFuncInHeader: \"suppressAggFuncInHeader\", alwaysAggregateAtRootLevel: \"alwaysAggregateAtRootLevel\", aggregateOnlyChangedColumns: \"aggregateOnlyChangedColumns\", suppressAggFilteredOnly: \"suppressAggFilteredOnly\", removePivotHeaderRowWhenSingleValueColumn: \"removePivotHeaderRowWhenSingleValueColumn\", animateRows: \"animateRows\", enableCellChangeFlash: \"enableCellChangeFlash\", cellFlashDuration: \"cellFlashDuration\", cellFlashDelay: \"cellFlashDelay\", cellFadeDuration: \"cellFadeDuration\", cellFadeDelay: \"cellFadeDelay\", allowShowChangeAfterFilter: \"allowShowChangeAfterFilter\", domLayout: \"domLayout\", ensureDomOrder: \"ensureDomOrder\", enableRtl: \"enableRtl\", suppressColumnVirtualisation: \"suppressColumnVirtualisation\", suppressMaxRenderedRowRestriction: \"suppressMaxRenderedRowRestriction\", suppressRowVirtualisation: \"suppressRowVirtualisation\", rowDragManaged: \"rowDragManaged\", suppressRowDrag: \"suppressRowDrag\", suppressMoveWhenRowDragging: \"suppressMoveWhenRowDragging\", rowDragEntireRow: \"rowDragEntireRow\", rowDragMultiRow: \"rowDragMultiRow\", rowDragText: \"rowDragText\", fullWidthCellRenderer: \"fullWidthCellRenderer\", fullWidthCellRendererParams: \"fullWidthCellRendererParams\", embedFullWidthRows: \"embedFullWidthRows\", suppressGroupMaintainValueType: \"suppressGroupMaintainValueType\", groupDisplayType: \"groupDisplayType\", groupDefaultExpanded: \"groupDefaultExpanded\", autoGroupColumnDef: \"autoGroupColumnDef\", groupMaintainOrder: \"groupMaintainOrder\", groupSelectsChildren: \"groupSelectsChildren\", groupLockGroupColumns: \"groupLockGroupColumns\", groupAggFiltering: \"groupAggFiltering\", groupIncludeFooter: \"groupIncludeFooter\", groupIncludeTotalFooter: \"groupIncludeTotalFooter\", groupTotalRow: \"groupTotalRow\", grandTotalRow: \"grandTotalRow\", suppressStickyTotalRow: \"suppressStickyTotalRow\", groupSuppressBlankHeader: \"groupSuppressBlankHeader\", groupSelectsFiltered: \"groupSelectsFiltered\", showOpenedGroup: \"showOpenedGroup\", groupRemoveSingleChildren: \"groupRemoveSingleChildren\", groupRemoveLowestSingleChildren: \"groupRemoveLowestSingleChildren\", groupHideOpenParents: \"groupHideOpenParents\", groupAllowUnbalanced: \"groupAllowUnbalanced\", rowGroupPanelShow: \"rowGroupPanelShow\", groupRowRenderer: \"groupRowRenderer\", groupRowRendererParams: \"groupRowRendererParams\", suppressMakeColumnVisibleAfterUnGroup: \"suppressMakeColumnVisibleAfterUnGroup\", treeData: \"treeData\", rowGroupPanelSuppressSort: \"rowGroupPanelSuppressSort\", suppressGroupRowsSticky: \"suppressGroupRowsSticky\", pinnedTopRowData: \"pinnedTopRowData\", pinnedBottomRowData: \"pinnedBottomRowData\", rowModelType: \"rowModelType\", rowData: \"rowData\", asyncTransactionWaitMillis: \"asyncTransactionWaitMillis\", suppressModelUpdateAfterUpdateTransaction: \"suppressModelUpdateAfterUpdateTransaction\", datasource: \"datasource\", cacheOverflowSize: \"cacheOverflowSize\", infiniteInitialRowCount: \"infiniteInitialRowCount\", serverSideInitialRowCount: \"serverSideInitialRowCount\", suppressServerSideInfiniteScroll: \"suppressServerSideInfiniteScroll\", suppressServerSideFullWidthLoadingRow: \"suppressServerSideFullWidthLoadingRow\", cacheBlockSize: \"cacheBlockSize\", maxBlocksInCache: \"maxBlocksInCache\", maxConcurrentDatasourceRequests: \"maxConcurrentDatasourceRequests\", blockLoadDebounceMillis: \"blockLoadDebounceMillis\", purgeClosedRowNodes: \"purgeClosedRowNodes\", serverSideDatasource: \"serverSideDatasource\", serverSideSortAllLevels: \"serverSideSortAllLevels\", serverSideEnableClientSideSort: \"serverSideEnableClientSideSort\", serverSideOnlyRefreshFilteredGroups: \"serverSideOnlyRefreshFilteredGroups\", serverSideSortOnServer: \"serverSideSortOnServer\", serverSideFilterOnServer: \"serverSideFilterOnServer\", serverSidePivotResultFieldSeparator: \"serverSidePivotResultFieldSeparator\", viewportDatasource: \"viewportDatasource\", viewportRowModelPageSize: \"viewportRowModelPageSize\", viewportRowModelBufferSize: \"viewportRowModelBufferSize\", alwaysShowHorizontalScroll: \"alwaysShowHorizontalScroll\", alwaysShowVerticalScroll: \"alwaysShowVerticalScroll\", debounceVerticalScrollbar: \"debounceVerticalScrollbar\", suppressHorizontalScroll: \"suppressHorizontalScroll\", suppressScrollOnNewData: \"suppressScrollOnNewData\", suppressScrollWhenPopupsAreOpen: \"suppressScrollWhenPopupsAreOpen\", suppressAnimationFrame: \"suppressAnimationFrame\", suppressMiddleClickScrolls: \"suppressMiddleClickScrolls\", suppressPreventDefaultOnMouseWheel: \"suppressPreventDefaultOnMouseWheel\", scrollbarWidth: \"scrollbarWidth\", rowSelection: \"rowSelection\", cellSelection: \"cellSelection\", rowMultiSelectWithClick: \"rowMultiSelectWithClick\", suppressRowDeselection: \"suppressRowDeselection\", suppressRowClickSelection: \"suppressRowClickSelection\", suppressCellFocus: \"suppressCellFocus\", suppressHeaderFocus: \"suppressHeaderFocus\", selectionColumnDef: \"selectionColumnDef\", suppressMultiRangeSelection: \"suppressMultiRangeSelection\", enableCellTextSelection: \"enableCellTextSelection\", enableRangeSelection: \"enableRangeSelection\", enableRangeHandle: \"enableRangeHandle\", enableFillHandle: \"enableFillHandle\", fillHandleDirection: \"fillHandleDirection\", suppressClearOnFillReduction: \"suppressClearOnFillReduction\", sortingOrder: \"sortingOrder\", accentedSort: \"accentedSort\", unSortIcon: \"unSortIcon\", suppressMultiSort: \"suppressMultiSort\", alwaysMultiSort: \"alwaysMultiSort\", multiSortKey: \"multiSortKey\", suppressMaintainUnsortedOrder: \"suppressMaintainUnsortedOrder\", icons: \"icons\", rowHeight: \"rowHeight\", rowStyle: \"rowStyle\", rowClass: \"rowClass\", rowClassRules: \"rowClassRules\", suppressRowHoverHighlight: \"suppressRowHoverHighlight\", suppressRowTransform: \"suppressRowTransform\", columnHoverHighlight: \"columnHoverHighlight\", gridId: \"gridId\", deltaSort: \"deltaSort\", treeDataDisplayType: \"treeDataDisplayType\", enableGroupEdit: \"enableGroupEdit\", initialState: \"initialState\", theme: \"theme\", loadThemeGoogleFonts: \"loadThemeGoogleFonts\", getContextMenuItems: \"getContextMenuItems\", getMainMenuItems: \"getMainMenuItems\", postProcessPopup: \"postProcessPopup\", processUnpinnedColumns: \"processUnpinnedColumns\", processCellForClipboard: \"processCellForClipboard\", processHeaderForClipboard: \"processHeaderForClipboard\", processGroupHeaderForClipboard: \"processGroupHeaderForClipboard\", processCellFromClipboard: \"processCellFromClipboard\", sendToClipboard: \"sendToClipboard\", processDataFromClipboard: \"processDataFromClipboard\", isExternalFilterPresent: \"isExternalFilterPresent\", doesExternalFilterPass: \"doesExternalFilterPass\", getChartToolbarItems: \"getChartToolbarItems\", createChartContainer: \"createChartContainer\", focusGridInnerElement: \"focusGridInnerElement\", navigateToNextHeader: \"navigateToNextHeader\", tabToNextHeader: \"tabToNextHeader\", navigateToNextCell: \"navigateToNextCell\", tabToNextCell: \"tabToNextCell\", getLocaleText: \"getLocaleText\", getDocument: \"getDocument\", paginationNumberFormatter: \"paginationNumberFormatter\", getGroupRowAgg: \"getGroupRowAgg\", isGroupOpenByDefault: \"isGroupOpenByDefault\", initialGroupOrderComparator: \"initialGroupOrderComparator\", processPivotResultColDef: \"processPivotResultColDef\", processPivotResultColGroupDef: \"processPivotResultColGroupDef\", getDataPath: \"getDataPath\", getChildCount: \"getChildCount\", getServerSideGroupLevelParams: \"getServerSideGroupLevelParams\", isServerSideGroupOpenByDefault: \"isServerSideGroupOpenByDefault\", isApplyServerSideTransaction: \"isApplyServerSideTransaction\", isServerSideGroup: \"isServerSideGroup\", getServerSideGroupKey: \"getServerSideGroupKey\", getBusinessKeyForNode: \"getBusinessKeyForNode\", getRowId: \"getRowId\", resetRowDataOnUpdate: \"resetRowDataOnUpdate\", processRowPostCreate: \"processRowPostCreate\", isRowSelectable: \"isRowSelectable\", isRowMaster: \"isRowMaster\", fillOperation: \"fillOperation\", postSortRows: \"postSortRows\", getRowStyle: \"getRowStyle\", getRowClass: \"getRowClass\", getRowHeight: \"getRowHeight\", isFullWidthRow: \"isFullWidthRow\" }, outputs: { toolPanelVisibleChanged: \"toolPanelVisibleChanged\", toolPanelSizeChanged: \"toolPanelSizeChanged\", columnMenuVisibleChanged: \"columnMenuVisibleChanged\", contextMenuVisibleChanged: \"contextMenuVisibleChanged\", cutStart: \"cutStart\", cutEnd: \"cutEnd\", pasteStart: \"pasteStart\", pasteEnd: \"pasteEnd\", columnVisible: \"columnVisible\", columnPinned: \"columnPinned\", columnResized: \"columnResized\", columnMoved: \"columnMoved\", columnValueChanged: \"columnValueChanged\", columnPivotModeChanged: \"columnPivotModeChanged\", columnPivotChanged: \"columnPivotChanged\", columnGroupOpened: \"columnGroupOpened\", newColumnsLoaded: \"newColumnsLoaded\", gridColumnsChanged: \"gridColumnsChanged\", displayedColumnsChanged: \"displayedColumnsChanged\", virtualColumnsChanged: \"virtualColumnsChanged\", columnEverythingChanged: \"columnEverythingChanged\", columnHeaderMouseOver: \"columnHeaderMouseOver\", columnHeaderMouseLeave: \"columnHeaderMouseLeave\", columnHeaderClicked: \"columnHeaderClicked\", columnHeaderContextMenu: \"columnHeaderContextMenu\", componentStateChanged: \"componentStateChanged\", cellValueChanged: \"cellValueChanged\", cellEditRequest: \"cellEditRequest\", rowValueChanged: \"rowValueChanged\", cellEditingStarted: \"cellEditingStarted\", cellEditingStopped: \"cellEditingStopped\", rowEditingStarted: \"rowEditingStarted\", rowEditingStopped: \"rowEditingStopped\", undoStarted: \"undoStarted\", undoEnded: \"undoEnded\", redoStarted: \"redoStarted\", redoEnded: \"redoEnded\", cellSelectionDeleteStart: \"cellSelectionDeleteStart\", cellSelectionDeleteEnd: \"cellSelectionDeleteEnd\", rangeDeleteStart: \"rangeDeleteStart\", rangeDeleteEnd: \"rangeDeleteEnd\", fillStart: \"fillStart\", fillEnd: \"fillEnd\", filterOpened: \"filterOpened\", filterChanged: \"filterChanged\", filterModified: \"filterModified\", advancedFilterBuilderVisibleChanged: \"advancedFilterBuilderVisibleChanged\", chartCreated: \"chartCreated\", chartRangeSelectionChanged: \"chartRangeSelectionChanged\", chartOptionsChanged: \"chartOptionsChanged\", chartDestroyed: \"chartDestroyed\", cellKeyDown: \"cellKeyDown\", gridReady: \"gridReady\", firstDataRendered: \"firstDataRendered\", gridSizeChanged: \"gridSizeChanged\", modelUpdated: \"modelUpdated\", virtualRowRemoved: \"virtualRowRemoved\", viewportChanged: \"viewportChanged\", bodyScroll: \"bodyScroll\", bodyScrollEnd: \"bodyScrollEnd\", dragStarted: \"dragStarted\", dragStopped: \"dragStopped\", dragCancelled: \"dragCancelled\", stateUpdated: \"stateUpdated\", paginationChanged: \"paginationChanged\", rowDragEnter: \"rowDragEnter\", rowDragMove: \"rowDragMove\", rowDragLeave: \"rowDragLeave\", rowDragEnd: \"rowDragEnd\", rowDragCancel: \"rowDragCancel\", columnRowGroupChanged: \"columnRowGroupChanged\", rowGroupOpened: \"rowGroupOpened\", expandOrCollapseAll: \"expandOrCollapseAll\", pivotMaxColumnsExceeded: \"pivotMaxColumnsExceeded\", pinnedRowDataChanged: \"pinnedRowDataChanged\", rowDataUpdated: \"rowDataUpdated\", asyncTransactionsFlushed: \"asyncTransactionsFlushed\", storeRefreshed: \"storeRefreshed\", headerFocused: \"headerFocused\", cellClicked: \"cellClicked\", cellDoubleClicked: \"cellDoubleClicked\", cellFocused: \"cellFocused\", cellMouseOver: \"cellMouseOver\", cellMouseOut: \"cellMouseOut\", cellMouseDown: \"cellMouseDown\", rowClicked: \"rowClicked\", rowDoubleClicked: \"rowDoubleClicked\", rowSelected: \"rowSelected\", selectionChanged: \"selectionChanged\", cellContextMenu: \"cellContextMenu\", rangeSelectionChanged: \"rangeSelectionChanged\", cellSelectionChanged: \"cellSelectionChanged\", tooltipShow: \"tooltipShow\", tooltipHide: \"tooltipHide\", sortChanged: \"sortChanged\" }, providers: [AngularFrameworkOverrides, AngularFrameworkComponentWrapper], usesOnChanges: true, ngImport: i0, template: '', isInline: true, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AgGridAngular, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ag-grid-angular',\n                    standalone: true,\n                    template: '',\n                    providers: [AngularFrameworkOverrides, AngularFrameworkComponentWrapper],\n                    // tell angular we don't want view encapsulation, we don't want a shadow root\n                    encapsulation: ViewEncapsulation.None,\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ViewContainerRef }, { type: AngularFrameworkOverrides }, { type: AngularFrameworkComponentWrapper }]; }, propDecorators: { gridOptions: [{\n                type: Input\n            }], modules: [{\n                type: Input\n            }], statusBar: [{\n                type: Input\n            }], sideBar: [{\n                type: Input\n            }], suppressContextMenu: [{\n                type: Input\n            }], preventDefaultOnContextMenu: [{\n                type: Input\n            }], allowContextMenuWithControlKey: [{\n                type: Input\n            }], columnMenu: [{\n                type: Input\n            }], suppressMenuHide: [{\n                type: Input\n            }], enableBrowserTooltips: [{\n                type: Input\n            }], tooltipTrigger: [{\n                type: Input\n            }], tooltipShowDelay: [{\n                type: Input\n            }], tooltipHideDelay: [{\n                type: Input\n            }], tooltipMouseTrack: [{\n                type: Input\n            }], tooltipShowMode: [{\n                type: Input\n            }], tooltipInteraction: [{\n                type: Input\n            }], popupParent: [{\n                type: Input\n            }], copyHeadersToClipboard: [{\n                type: Input\n            }], copyGroupHeadersToClipboard: [{\n                type: Input\n            }], clipboardDelimiter: [{\n                type: Input\n            }], suppressCopyRowsToClipboard: [{\n                type: Input\n            }], suppressCopySingleCellRanges: [{\n                type: Input\n            }], suppressLastEmptyLineOnPaste: [{\n                type: Input\n            }], suppressClipboardPaste: [{\n                type: Input\n            }], suppressClipboardApi: [{\n                type: Input\n            }], suppressCutToClipboard: [{\n                type: Input\n            }], columnDefs: [{\n                type: Input\n            }], defaultColDef: [{\n                type: Input\n            }], defaultColGroupDef: [{\n                type: Input\n            }], columnTypes: [{\n                type: Input\n            }], dataTypeDefinitions: [{\n                type: Input\n            }], maintainColumnOrder: [{\n                type: Input\n            }], enableStrictPivotColumnOrder: [{\n                type: Input\n            }], suppressFieldDotNotation: [{\n                type: Input\n            }], headerHeight: [{\n                type: Input\n            }], groupHeaderHeight: [{\n                type: Input\n            }], floatingFiltersHeight: [{\n                type: Input\n            }], pivotHeaderHeight: [{\n                type: Input\n            }], pivotGroupHeaderHeight: [{\n                type: Input\n            }], allowDragFromColumnsToolPanel: [{\n                type: Input\n            }], suppressMovableColumns: [{\n                type: Input\n            }], suppressColumnMoveAnimation: [{\n                type: Input\n            }], suppressMoveWhenColumnDragging: [{\n                type: Input\n            }], suppressDragLeaveHidesColumns: [{\n                type: Input\n            }], suppressRowGroupHidesColumns: [{\n                type: Input\n            }], colResizeDefault: [{\n                type: Input\n            }], suppressAutoSize: [{\n                type: Input\n            }], autoSizePadding: [{\n                type: Input\n            }], skipHeaderOnAutoSize: [{\n                type: Input\n            }], autoSizeStrategy: [{\n                type: Input\n            }], components: [{\n                type: Input\n            }], editType: [{\n                type: Input\n            }], singleClickEdit: [{\n                type: Input\n            }], suppressClickEdit: [{\n                type: Input\n            }], readOnlyEdit: [{\n                type: Input\n            }], stopEditingWhenCellsLoseFocus: [{\n                type: Input\n            }], enterNavigatesVertically: [{\n                type: Input\n            }], enterNavigatesVerticallyAfterEdit: [{\n                type: Input\n            }], enableCellEditingOnBackspace: [{\n                type: Input\n            }], undoRedoCellEditing: [{\n                type: Input\n            }], undoRedoCellEditingLimit: [{\n                type: Input\n            }], defaultCsvExportParams: [{\n                type: Input\n            }], suppressCsvExport: [{\n                type: Input\n            }], defaultExcelExportParams: [{\n                type: Input\n            }], suppressExcelExport: [{\n                type: Input\n            }], excelStyles: [{\n                type: Input\n            }], quickFilterText: [{\n                type: Input\n            }], cacheQuickFilter: [{\n                type: Input\n            }], includeHiddenColumnsInQuickFilter: [{\n                type: Input\n            }], quickFilterParser: [{\n                type: Input\n            }], quickFilterMatcher: [{\n                type: Input\n            }], applyQuickFilterBeforePivotOrAgg: [{\n                type: Input\n            }], excludeChildrenWhenTreeDataFiltering: [{\n                type: Input\n            }], enableAdvancedFilter: [{\n                type: Input\n            }], advancedFilterModel: [{\n                type: Input\n            }], includeHiddenColumnsInAdvancedFilter: [{\n                type: Input\n            }], advancedFilterParent: [{\n                type: Input\n            }], advancedFilterBuilderParams: [{\n                type: Input\n            }], suppressAdvancedFilterEval: [{\n                type: Input\n            }], suppressSetFilterByDefault: [{\n                type: Input\n            }], enableCharts: [{\n                type: Input\n            }], chartThemes: [{\n                type: Input\n            }], customChartThemes: [{\n                type: Input\n            }], chartThemeOverrides: [{\n                type: Input\n            }], chartToolPanelsDef: [{\n                type: Input\n            }], chartMenuItems: [{\n                type: Input\n            }], loadingCellRenderer: [{\n                type: Input\n            }], loadingCellRendererParams: [{\n                type: Input\n            }], loadingCellRendererSelector: [{\n                type: Input\n            }], localeText: [{\n                type: Input\n            }], masterDetail: [{\n                type: Input\n            }], keepDetailRows: [{\n                type: Input\n            }], keepDetailRowsCount: [{\n                type: Input\n            }], detailCellRenderer: [{\n                type: Input\n            }], detailCellRendererParams: [{\n                type: Input\n            }], detailRowHeight: [{\n                type: Input\n            }], detailRowAutoHeight: [{\n                type: Input\n            }], context: [{\n                type: Input\n            }], dragAndDropImageComponent: [{\n                type: Input\n            }], dragAndDropImageComponentParams: [{\n                type: Input\n            }], alignedGrids: [{\n                type: Input\n            }], tabIndex: [{\n                type: Input\n            }], rowBuffer: [{\n                type: Input\n            }], valueCache: [{\n                type: Input\n            }], valueCacheNeverExpires: [{\n                type: Input\n            }], enableCellExpressions: [{\n                type: Input\n            }], suppressTouch: [{\n                type: Input\n            }], suppressFocusAfterRefresh: [{\n                type: Input\n            }], suppressAsyncEvents: [{\n                type: Input\n            }], suppressBrowserResizeObserver: [{\n                type: Input\n            }], suppressPropertyNamesCheck: [{\n                type: Input\n            }], suppressChangeDetection: [{\n                type: Input\n            }], debug: [{\n                type: Input\n            }], loading: [{\n                type: Input\n            }], overlayLoadingTemplate: [{\n                type: Input\n            }], loadingOverlayComponent: [{\n                type: Input\n            }], loadingOverlayComponentParams: [{\n                type: Input\n            }], suppressLoadingOverlay: [{\n                type: Input\n            }], overlayNoRowsTemplate: [{\n                type: Input\n            }], noRowsOverlayComponent: [{\n                type: Input\n            }], noRowsOverlayComponentParams: [{\n                type: Input\n            }], suppressNoRowsOverlay: [{\n                type: Input\n            }], pagination: [{\n                type: Input\n            }], paginationPageSize: [{\n                type: Input\n            }], paginationPageSizeSelector: [{\n                type: Input\n            }], paginationAutoPageSize: [{\n                type: Input\n            }], paginateChildRows: [{\n                type: Input\n            }], suppressPaginationPanel: [{\n                type: Input\n            }], pivotMode: [{\n                type: Input\n            }], pivotPanelShow: [{\n                type: Input\n            }], pivotMaxGeneratedColumns: [{\n                type: Input\n            }], pivotDefaultExpanded: [{\n                type: Input\n            }], pivotColumnGroupTotals: [{\n                type: Input\n            }], pivotRowTotals: [{\n                type: Input\n            }], pivotSuppressAutoColumn: [{\n                type: Input\n            }], suppressExpandablePivotGroups: [{\n                type: Input\n            }], functionsReadOnly: [{\n                type: Input\n            }], aggFuncs: [{\n                type: Input\n            }], suppressAggFuncInHeader: [{\n                type: Input\n            }], alwaysAggregateAtRootLevel: [{\n                type: Input\n            }], aggregateOnlyChangedColumns: [{\n                type: Input\n            }], suppressAggFilteredOnly: [{\n                type: Input\n            }], removePivotHeaderRowWhenSingleValueColumn: [{\n                type: Input\n            }], animateRows: [{\n                type: Input\n            }], enableCellChangeFlash: [{\n                type: Input\n            }], cellFlashDuration: [{\n                type: Input\n            }], cellFlashDelay: [{\n                type: Input\n            }], cellFadeDuration: [{\n                type: Input\n            }], cellFadeDelay: [{\n                type: Input\n            }], allowShowChangeAfterFilter: [{\n                type: Input\n            }], domLayout: [{\n                type: Input\n            }], ensureDomOrder: [{\n                type: Input\n            }], enableRtl: [{\n                type: Input\n            }], suppressColumnVirtualisation: [{\n                type: Input\n            }], suppressMaxRenderedRowRestriction: [{\n                type: Input\n            }], suppressRowVirtualisation: [{\n                type: Input\n            }], rowDragManaged: [{\n                type: Input\n            }], suppressRowDrag: [{\n                type: Input\n            }], suppressMoveWhenRowDragging: [{\n                type: Input\n            }], rowDragEntireRow: [{\n                type: Input\n            }], rowDragMultiRow: [{\n                type: Input\n            }], rowDragText: [{\n                type: Input\n            }], fullWidthCellRenderer: [{\n                type: Input\n            }], fullWidthCellRendererParams: [{\n                type: Input\n            }], embedFullWidthRows: [{\n                type: Input\n            }], suppressGroupMaintainValueType: [{\n                type: Input\n            }], groupDisplayType: [{\n                type: Input\n            }], groupDefaultExpanded: [{\n                type: Input\n            }], autoGroupColumnDef: [{\n                type: Input\n            }], groupMaintainOrder: [{\n                type: Input\n            }], groupSelectsChildren: [{\n                type: Input\n            }], groupLockGroupColumns: [{\n                type: Input\n            }], groupAggFiltering: [{\n                type: Input\n            }], groupIncludeFooter: [{\n                type: Input\n            }], groupIncludeTotalFooter: [{\n                type: Input\n            }], groupTotalRow: [{\n                type: Input\n            }], grandTotalRow: [{\n                type: Input\n            }], suppressStickyTotalRow: [{\n                type: Input\n            }], groupSuppressBlankHeader: [{\n                type: Input\n            }], groupSelectsFiltered: [{\n                type: Input\n            }], showOpenedGroup: [{\n                type: Input\n            }], groupRemoveSingleChildren: [{\n                type: Input\n            }], groupRemoveLowestSingleChildren: [{\n                type: Input\n            }], groupHideOpenParents: [{\n                type: Input\n            }], groupAllowUnbalanced: [{\n                type: Input\n            }], rowGroupPanelShow: [{\n                type: Input\n            }], groupRowRenderer: [{\n                type: Input\n            }], groupRowRendererParams: [{\n                type: Input\n            }], suppressMakeColumnVisibleAfterUnGroup: [{\n                type: Input\n            }], treeData: [{\n                type: Input\n            }], rowGroupPanelSuppressSort: [{\n                type: Input\n            }], suppressGroupRowsSticky: [{\n                type: Input\n            }], pinnedTopRowData: [{\n                type: Input\n            }], pinnedBottomRowData: [{\n                type: Input\n            }], rowModelType: [{\n                type: Input\n            }], rowData: [{\n                type: Input\n            }], asyncTransactionWaitMillis: [{\n                type: Input\n            }], suppressModelUpdateAfterUpdateTransaction: [{\n                type: Input\n            }], datasource: [{\n                type: Input\n            }], cacheOverflowSize: [{\n                type: Input\n            }], infiniteInitialRowCount: [{\n                type: Input\n            }], serverSideInitialRowCount: [{\n                type: Input\n            }], suppressServerSideInfiniteScroll: [{\n                type: Input\n            }], suppressServerSideFullWidthLoadingRow: [{\n                type: Input\n            }], cacheBlockSize: [{\n                type: Input\n            }], maxBlocksInCache: [{\n                type: Input\n            }], maxConcurrentDatasourceRequests: [{\n                type: Input\n            }], blockLoadDebounceMillis: [{\n                type: Input\n            }], purgeClosedRowNodes: [{\n                type: Input\n            }], serverSideDatasource: [{\n                type: Input\n            }], serverSideSortAllLevels: [{\n                type: Input\n            }], serverSideEnableClientSideSort: [{\n                type: Input\n            }], serverSideOnlyRefreshFilteredGroups: [{\n                type: Input\n            }], serverSideSortOnServer: [{\n                type: Input\n            }], serverSideFilterOnServer: [{\n                type: Input\n            }], serverSidePivotResultFieldSeparator: [{\n                type: Input\n            }], viewportDatasource: [{\n                type: Input\n            }], viewportRowModelPageSize: [{\n                type: Input\n            }], viewportRowModelBufferSize: [{\n                type: Input\n            }], alwaysShowHorizontalScroll: [{\n                type: Input\n            }], alwaysShowVerticalScroll: [{\n                type: Input\n            }], debounceVerticalScrollbar: [{\n                type: Input\n            }], suppressHorizontalScroll: [{\n                type: Input\n            }], suppressScrollOnNewData: [{\n                type: Input\n            }], suppressScrollWhenPopupsAreOpen: [{\n                type: Input\n            }], suppressAnimationFrame: [{\n                type: Input\n            }], suppressMiddleClickScrolls: [{\n                type: Input\n            }], suppressPreventDefaultOnMouseWheel: [{\n                type: Input\n            }], scrollbarWidth: [{\n                type: Input\n            }], rowSelection: [{\n                type: Input\n            }], cellSelection: [{\n                type: Input\n            }], rowMultiSelectWithClick: [{\n                type: Input\n            }], suppressRowDeselection: [{\n                type: Input\n            }], suppressRowClickSelection: [{\n                type: Input\n            }], suppressCellFocus: [{\n                type: Input\n            }], suppressHeaderFocus: [{\n                type: Input\n            }], selectionColumnDef: [{\n                type: Input\n            }], suppressMultiRangeSelection: [{\n                type: Input\n            }], enableCellTextSelection: [{\n                type: Input\n            }], enableRangeSelection: [{\n                type: Input\n            }], enableRangeHandle: [{\n                type: Input\n            }], enableFillHandle: [{\n                type: Input\n            }], fillHandleDirection: [{\n                type: Input\n            }], suppressClearOnFillReduction: [{\n                type: Input\n            }], sortingOrder: [{\n                type: Input\n            }], accentedSort: [{\n                type: Input\n            }], unSortIcon: [{\n                type: Input\n            }], suppressMultiSort: [{\n                type: Input\n            }], alwaysMultiSort: [{\n                type: Input\n            }], multiSortKey: [{\n                type: Input\n            }], suppressMaintainUnsortedOrder: [{\n                type: Input\n            }], icons: [{\n                type: Input\n            }], rowHeight: [{\n                type: Input\n            }], rowStyle: [{\n                type: Input\n            }], rowClass: [{\n                type: Input\n            }], rowClassRules: [{\n                type: Input\n            }], suppressRowHoverHighlight: [{\n                type: Input\n            }], suppressRowTransform: [{\n                type: Input\n            }], columnHoverHighlight: [{\n                type: Input\n            }], gridId: [{\n                type: Input\n            }], deltaSort: [{\n                type: Input\n            }], treeDataDisplayType: [{\n                type: Input\n            }], enableGroupEdit: [{\n                type: Input\n            }], initialState: [{\n                type: Input\n            }], theme: [{\n                type: Input\n            }], loadThemeGoogleFonts: [{\n                type: Input\n            }], getContextMenuItems: [{\n                type: Input\n            }], getMainMenuItems: [{\n                type: Input\n            }], postProcessPopup: [{\n                type: Input\n            }], processUnpinnedColumns: [{\n                type: Input\n            }], processCellForClipboard: [{\n                type: Input\n            }], processHeaderForClipboard: [{\n                type: Input\n            }], processGroupHeaderForClipboard: [{\n                type: Input\n            }], processCellFromClipboard: [{\n                type: Input\n            }], sendToClipboard: [{\n                type: Input\n            }], processDataFromClipboard: [{\n                type: Input\n            }], isExternalFilterPresent: [{\n                type: Input\n            }], doesExternalFilterPass: [{\n                type: Input\n            }], getChartToolbarItems: [{\n                type: Input\n            }], createChartContainer: [{\n                type: Input\n            }], focusGridInnerElement: [{\n                type: Input\n            }], navigateToNextHeader: [{\n                type: Input\n            }], tabToNextHeader: [{\n                type: Input\n            }], navigateToNextCell: [{\n                type: Input\n            }], tabToNextCell: [{\n                type: Input\n            }], getLocaleText: [{\n                type: Input\n            }], getDocument: [{\n                type: Input\n            }], paginationNumberFormatter: [{\n                type: Input\n            }], getGroupRowAgg: [{\n                type: Input\n            }], isGroupOpenByDefault: [{\n                type: Input\n            }], initialGroupOrderComparator: [{\n                type: Input\n            }], processPivotResultColDef: [{\n                type: Input\n            }], processPivotResultColGroupDef: [{\n                type: Input\n            }], getDataPath: [{\n                type: Input\n            }], getChildCount: [{\n                type: Input\n            }], getServerSideGroupLevelParams: [{\n                type: Input\n            }], isServerSideGroupOpenByDefault: [{\n                type: Input\n            }], isApplyServerSideTransaction: [{\n                type: Input\n            }], isServerSideGroup: [{\n                type: Input\n            }], getServerSideGroupKey: [{\n                type: Input\n            }], getBusinessKeyForNode: [{\n                type: Input\n            }], getRowId: [{\n                type: Input\n            }], resetRowDataOnUpdate: [{\n                type: Input\n            }], processRowPostCreate: [{\n                type: Input\n            }], isRowSelectable: [{\n                type: Input\n            }], isRowMaster: [{\n                type: Input\n            }], fillOperation: [{\n                type: Input\n            }], postSortRows: [{\n                type: Input\n            }], getRowStyle: [{\n                type: Input\n            }], getRowClass: [{\n                type: Input\n            }], getRowHeight: [{\n                type: Input\n            }], isFullWidthRow: [{\n                type: Input\n            }], toolPanelVisibleChanged: [{\n                type: Output\n            }], toolPanelSizeChanged: [{\n                type: Output\n            }], columnMenuVisibleChanged: [{\n                type: Output\n            }], contextMenuVisibleChanged: [{\n                type: Output\n            }], cutStart: [{\n                type: Output\n            }], cutEnd: [{\n                type: Output\n            }], pasteStart: [{\n                type: Output\n            }], pasteEnd: [{\n                type: Output\n            }], columnVisible: [{\n                type: Output\n            }], columnPinned: [{\n                type: Output\n            }], columnResized: [{\n                type: Output\n            }], columnMoved: [{\n                type: Output\n            }], columnValueChanged: [{\n                type: Output\n            }], columnPivotModeChanged: [{\n                type: Output\n            }], columnPivotChanged: [{\n                type: Output\n            }], columnGroupOpened: [{\n                type: Output\n            }], newColumnsLoaded: [{\n                type: Output\n            }], gridColumnsChanged: [{\n                type: Output\n            }], displayedColumnsChanged: [{\n                type: Output\n            }], virtualColumnsChanged: [{\n                type: Output\n            }], columnEverythingChanged: [{\n                type: Output\n            }], columnHeaderMouseOver: [{\n                type: Output\n            }], columnHeaderMouseLeave: [{\n                type: Output\n            }], columnHeaderClicked: [{\n                type: Output\n            }], columnHeaderContextMenu: [{\n                type: Output\n            }], componentStateChanged: [{\n                type: Output\n            }], cellValueChanged: [{\n                type: Output\n            }], cellEditRequest: [{\n                type: Output\n            }], rowValueChanged: [{\n                type: Output\n            }], cellEditingStarted: [{\n                type: Output\n            }], cellEditingStopped: [{\n                type: Output\n            }], rowEditingStarted: [{\n                type: Output\n            }], rowEditingStopped: [{\n                type: Output\n            }], undoStarted: [{\n                type: Output\n            }], undoEnded: [{\n                type: Output\n            }], redoStarted: [{\n                type: Output\n            }], redoEnded: [{\n                type: Output\n            }], cellSelectionDeleteStart: [{\n                type: Output\n            }], cellSelectionDeleteEnd: [{\n                type: Output\n            }], rangeDeleteStart: [{\n                type: Output\n            }], rangeDeleteEnd: [{\n                type: Output\n            }], fillStart: [{\n                type: Output\n            }], fillEnd: [{\n                type: Output\n            }], filterOpened: [{\n                type: Output\n            }], filterChanged: [{\n                type: Output\n            }], filterModified: [{\n                type: Output\n            }], advancedFilterBuilderVisibleChanged: [{\n                type: Output\n            }], chartCreated: [{\n                type: Output\n            }], chartRangeSelectionChanged: [{\n                type: Output\n            }], chartOptionsChanged: [{\n                type: Output\n            }], chartDestroyed: [{\n                type: Output\n            }], cellKeyDown: [{\n                type: Output\n            }], gridReady: [{\n                type: Output\n            }], firstDataRendered: [{\n                type: Output\n            }], gridSizeChanged: [{\n                type: Output\n            }], modelUpdated: [{\n                type: Output\n            }], virtualRowRemoved: [{\n                type: Output\n            }], viewportChanged: [{\n                type: Output\n            }], bodyScroll: [{\n                type: Output\n            }], bodyScrollEnd: [{\n                type: Output\n            }], dragStarted: [{\n                type: Output\n            }], dragStopped: [{\n                type: Output\n            }], dragCancelled: [{\n                type: Output\n            }], stateUpdated: [{\n                type: Output\n            }], paginationChanged: [{\n                type: Output\n            }], rowDragEnter: [{\n                type: Output\n            }], rowDragMove: [{\n                type: Output\n            }], rowDragLeave: [{\n                type: Output\n            }], rowDragEnd: [{\n                type: Output\n            }], rowDragCancel: [{\n                type: Output\n            }], columnRowGroupChanged: [{\n                type: Output\n            }], rowGroupOpened: [{\n                type: Output\n            }], expandOrCollapseAll: [{\n                type: Output\n            }], pivotMaxColumnsExceeded: [{\n                type: Output\n            }], pinnedRowDataChanged: [{\n                type: Output\n            }], rowDataUpdated: [{\n                type: Output\n            }], asyncTransactionsFlushed: [{\n                type: Output\n            }], storeRefreshed: [{\n                type: Output\n            }], headerFocused: [{\n                type: Output\n            }], cellClicked: [{\n                type: Output\n            }], cellDoubleClicked: [{\n                type: Output\n            }], cellFocused: [{\n                type: Output\n            }], cellMouseOver: [{\n                type: Output\n            }], cellMouseOut: [{\n                type: Output\n            }], cellMouseDown: [{\n                type: Output\n            }], rowClicked: [{\n                type: Output\n            }], rowDoubleClicked: [{\n                type: Output\n            }], rowSelected: [{\n                type: Output\n            }], selectionChanged: [{\n                type: Output\n            }], cellContextMenu: [{\n                type: Output\n            }], rangeSelectionChanged: [{\n                type: Output\n            }], cellSelectionChanged: [{\n                type: Output\n            }], tooltipShow: [{\n                type: Output\n            }], tooltipHide: [{\n                type: Output\n            }], sortChanged: [{\n                type: Output\n            }] } });\n\nclass AgGridModule {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AgGridModule, deps: [], target: i0.FactoryTarget.NgModule }); }\n    static { this.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.2.12\", ngImport: i0, type: AgGridModule, imports: [AgGridAngular], exports: [AgGridAngular] }); }\n    static { this.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AgGridModule }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: AgGridModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AgGridAngular],\n                    exports: [AgGridAngular],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AgGridAngular, AgGridModule, AngularFrameworkComponentWrapper, AngularFrameworkOverrides };\n","// community-modules/core/src/localEventService.ts\nvar LocalEventService = class {\n  constructor() {\n    this.allSyncListeners = /* @__PURE__ */ new Map();\n    this.allAsyncListeners = /* @__PURE__ */ new Map();\n    this.globalSyncListeners = /* @__PURE__ */ new Set();\n    this.globalAsyncListeners = /* @__PURE__ */ new Set();\n    this.asyncFunctionsQueue = [];\n    this.scheduled = false;\n    // using an object performs better than a Set for the number of different events we have\n    this.firedEvents = {};\n  }\n  setFrameworkOverrides(frameworkOverrides) {\n    this.frameworkOverrides = frameworkOverrides;\n  }\n  getListeners(eventType, async, autoCreateListenerCollection) {\n    const listenerMap = async ? this.allAsyncListeners : this.allSyncListeners;\n    let listeners = listenerMap.get(eventType);\n    if (!listeners && autoCreateListenerCollection) {\n      listeners = /* @__PURE__ */ new Set();\n      listenerMap.set(eventType, listeners);\n    }\n    return listeners;\n  }\n  noRegisteredListenersExist() {\n    return this.allSyncListeners.size === 0 && this.allAsyncListeners.size === 0 && this.globalSyncListeners.size === 0 && this.globalAsyncListeners.size === 0;\n  }\n  addEventListener(eventType, listener, async = false) {\n    this.getListeners(eventType, async, true).add(listener);\n  }\n  removeEventListener(eventType, listener, async = false) {\n    const listeners = this.getListeners(eventType, async, false);\n    if (!listeners) {\n      return;\n    }\n    listeners.delete(listener);\n    if (listeners.size === 0) {\n      const listenerMap = async ? this.allAsyncListeners : this.allSyncListeners;\n      listenerMap.delete(eventType);\n    }\n  }\n  addGlobalListener(listener, async = false) {\n    (async ? this.globalAsyncListeners : this.globalSyncListeners).add(listener);\n  }\n  removeGlobalListener(listener, async = false) {\n    (async ? this.globalAsyncListeners : this.globalSyncListeners).delete(listener);\n  }\n  dispatchEvent(event) {\n    const agEvent = event;\n    this.dispatchToListeners(agEvent, true);\n    this.dispatchToListeners(agEvent, false);\n    this.firedEvents[agEvent.type] = true;\n  }\n  dispatchEventOnce(event) {\n    if (!this.firedEvents[event.type]) {\n      this.dispatchEvent(event);\n    }\n  }\n  dispatchToListeners(event, async) {\n    const eventType = event.type;\n    if (async && \"event\" in event) {\n      const browserEvent = event.event;\n      if (browserEvent instanceof Event) {\n        event.eventPath = browserEvent.composedPath();\n      }\n    }\n    const processEventListeners = (listeners2, originalListeners2) => listeners2.forEach((listener) => {\n      if (!originalListeners2.has(listener)) {\n        return;\n      }\n      const callback = this.frameworkOverrides ? () => this.frameworkOverrides.wrapIncoming(() => listener(event)) : () => listener(event);\n      if (async) {\n        this.dispatchAsync(callback);\n      } else {\n        callback();\n      }\n    });\n    const originalListeners = this.getListeners(eventType, async, false) ?? /* @__PURE__ */ new Set();\n    const listeners = new Set(originalListeners);\n    if (listeners.size > 0) {\n      processEventListeners(listeners, originalListeners);\n    }\n    const globalListeners = new Set(\n      async ? this.globalAsyncListeners : this.globalSyncListeners\n    );\n    globalListeners.forEach((listener) => {\n      const callback = this.frameworkOverrides ? () => this.frameworkOverrides.wrapIncoming(() => listener(eventType, event)) : () => listener(eventType, event);\n      if (async) {\n        this.dispatchAsync(callback);\n      } else {\n        callback();\n      }\n    });\n  }\n  // this gets called inside the grid's thread, for each event that it\n  // wants to set async. the grid then batches the events into one setTimeout()\n  // because setTimeout() is an expensive operation. ideally we would have\n  // each event in it's own setTimeout(), but we batch for performance.\n  dispatchAsync(func) {\n    this.asyncFunctionsQueue.push(func);\n    if (!this.scheduled) {\n      const flush = () => {\n        window.setTimeout(this.flushAsyncQueue.bind(this), 0);\n      };\n      this.frameworkOverrides ? this.frameworkOverrides.wrapIncoming(flush) : flush();\n      this.scheduled = true;\n    }\n  }\n  // this happens in the next VM turn only, and empties the queue of events\n  flushAsyncQueue() {\n    this.scheduled = false;\n    const queueCopy = this.asyncFunctionsQueue.slice();\n    this.asyncFunctionsQueue = [];\n    queueCopy.forEach((func) => func());\n  }\n};\n\n// community-modules/core/src/modules/moduleNames.ts\nvar ModuleNames = /* @__PURE__ */ ((ModuleNames2) => {\n  ModuleNames2[\"CommunityCoreModule\"] = \"@ag-grid-community/core\";\n  ModuleNames2[\"InfiniteRowModelModule\"] = \"@ag-grid-community/infinite-row-model\";\n  ModuleNames2[\"ClientSideRowModelModule\"] = \"@ag-grid-community/client-side-row-model\";\n  ModuleNames2[\"CsvExportModule\"] = \"@ag-grid-community/csv-export\";\n  ModuleNames2[\"EnterpriseCoreModule\"] = \"@ag-grid-enterprise/core\";\n  ModuleNames2[\"RowGroupingModule\"] = \"@ag-grid-enterprise/row-grouping\";\n  ModuleNames2[\"ColumnsToolPanelModule\"] = \"@ag-grid-enterprise/column-tool-panel\";\n  ModuleNames2[\"FiltersToolPanelModule\"] = \"@ag-grid-enterprise/filter-tool-panel\";\n  ModuleNames2[\"MenuModule\"] = \"@ag-grid-enterprise/menu\";\n  ModuleNames2[\"SetFilterModule\"] = \"@ag-grid-enterprise/set-filter\";\n  ModuleNames2[\"MultiFilterModule\"] = \"@ag-grid-enterprise/multi-filter\";\n  ModuleNames2[\"StatusBarModule\"] = \"@ag-grid-enterprise/status-bar\";\n  ModuleNames2[\"SideBarModule\"] = \"@ag-grid-enterprise/side-bar\";\n  ModuleNames2[\"RangeSelectionModule\"] = \"@ag-grid-enterprise/range-selection\";\n  ModuleNames2[\"MasterDetailModule\"] = \"@ag-grid-enterprise/master-detail\";\n  ModuleNames2[\"RichSelectModule\"] = \"@ag-grid-enterprise/rich-select\";\n  ModuleNames2[\"GridChartsModule\"] = \"@ag-grid-enterprise/charts\";\n  ModuleNames2[\"ViewportRowModelModule\"] = \"@ag-grid-enterprise/viewport-row-model\";\n  ModuleNames2[\"ServerSideRowModelModule\"] = \"@ag-grid-enterprise/server-side-row-model\";\n  ModuleNames2[\"ExcelExportModule\"] = \"@ag-grid-enterprise/excel-export\";\n  ModuleNames2[\"ClipboardModule\"] = \"@ag-grid-enterprise/clipboard\";\n  ModuleNames2[\"SparklinesModule\"] = \"@ag-grid-enterprise/sparklines\";\n  ModuleNames2[\"AdvancedFilterModule\"] = \"@ag-grid-enterprise/advanced-filter\";\n  ModuleNames2[\"AngularModule\"] = \"@ag-grid-community/angular\";\n  ModuleNames2[\"ReactModule\"] = \"@ag-grid-community/react\";\n  ModuleNames2[\"VueModule\"] = \"@ag-grid-community/vue\";\n  return ModuleNames2;\n})(ModuleNames || {});\n\n// community-modules/core/src/utils/function.ts\nvar doOnceFlags = {};\nfunction _doOnce(func, key) {\n  if (doOnceFlags[key]) {\n    return;\n  }\n  func();\n  doOnceFlags[key] = true;\n}\nfunction _log(message, ...args) {\n  console.log(\"AG Grid: \" + message, ...args);\n}\nfunction _warnOnce(msg, ...args) {\n  _doOnce(() => console.warn(\"AG Grid: \" + msg, ...args), msg + args?.join(\"\"));\n}\nfunction _errorOnce(msg, ...args) {\n  _doOnce(() => console.error(\"AG Grid: \" + msg, ...args), msg + args?.join(\"\"));\n}\nfunction _isFunction(val) {\n  return !!(val && val.constructor && val.call && val.apply);\n}\nfunction _executeInAWhile(funcs) {\n  _executeAfter(funcs, 400);\n}\nvar executeNextVMTurnFuncs = [];\nvar executeNextVMTurnPending = false;\nfunction _executeNextVMTurn(func) {\n  executeNextVMTurnFuncs.push(func);\n  if (executeNextVMTurnPending) {\n    return;\n  }\n  executeNextVMTurnPending = true;\n  window.setTimeout(() => {\n    const funcsCopy = executeNextVMTurnFuncs.slice();\n    executeNextVMTurnFuncs.length = 0;\n    executeNextVMTurnPending = false;\n    funcsCopy.forEach((func2) => func2());\n  }, 0);\n}\nfunction _executeAfter(funcs, milliseconds = 0) {\n  if (funcs.length > 0) {\n    window.setTimeout(() => funcs.forEach((func) => func()), milliseconds);\n  }\n}\nfunction _debounce(func, delay) {\n  let timeout;\n  return function(...args) {\n    const context = this;\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(function() {\n      func.apply(context, args);\n    }, delay);\n  };\n}\nfunction _throttle(func, wait) {\n  let previousCall = 0;\n  return function(...args) {\n    const context = this;\n    const currentCall = (/* @__PURE__ */ new Date()).getTime();\n    if (currentCall - previousCall < wait) {\n      return;\n    }\n    previousCall = currentCall;\n    func.apply(context, args);\n  };\n}\nfunction _waitUntil(condition, callback, timeout = 100, timeoutMessage) {\n  const timeStamp = (/* @__PURE__ */ new Date()).getTime();\n  let interval = null;\n  let executed = false;\n  const internalCallback = () => {\n    const reachedTimeout = (/* @__PURE__ */ new Date()).getTime() - timeStamp > timeout;\n    if (condition() || reachedTimeout) {\n      callback();\n      executed = true;\n      if (interval != null) {\n        window.clearInterval(interval);\n        interval = null;\n      }\n      if (reachedTimeout && timeoutMessage) {\n        _warnOnce(timeoutMessage);\n      }\n    }\n  };\n  internalCallback();\n  if (!executed) {\n    interval = window.setInterval(internalCallback, 10);\n  }\n}\nfunction _compose(...fns) {\n  return (arg) => fns.reduce((composed, f) => f(composed), arg);\n}\n\n// community-modules/core/src/utils/generic.ts\nfunction _makeNull(value) {\n  if (value == null || value === \"\") {\n    return null;\n  }\n  return value;\n}\nfunction _exists(value, allowEmptyString = false) {\n  return value != null && (value !== \"\" || allowEmptyString);\n}\nfunction _missing(value) {\n  return !_exists(value);\n}\nfunction _missingOrEmpty(value) {\n  return value == null || value.length === 0;\n}\nfunction _toStringOrNull(value) {\n  return value != null && typeof value.toString === \"function\" ? value.toString() : null;\n}\nfunction _attrToNumber(value) {\n  if (value === void 0) {\n    return;\n  }\n  if (value === null || value === \"\") {\n    return null;\n  }\n  if (typeof value === \"number\") {\n    return isNaN(value) ? void 0 : value;\n  }\n  const valueParsed = parseInt(value, 10);\n  return isNaN(valueParsed) ? void 0 : valueParsed;\n}\nfunction _attrToBoolean(value) {\n  if (value === void 0) {\n    return;\n  }\n  if (value === null || value === \"\") {\n    return false;\n  }\n  return toBoolean(value);\n}\nfunction toBoolean(value) {\n  if (typeof value === \"boolean\") {\n    return value;\n  }\n  if (typeof value === \"string\") {\n    return value.toUpperCase() === \"TRUE\" || value == \"\";\n  }\n  return false;\n}\nfunction _jsonEquals(val1, val2) {\n  const val1Json = val1 ? JSON.stringify(val1) : null;\n  const val2Json = val2 ? JSON.stringify(val2) : null;\n  return val1Json === val2Json;\n}\nfunction _defaultComparator(valueA, valueB, accentedCompare = false) {\n  const valueAMissing = valueA == null;\n  const valueBMissing = valueB == null;\n  if (valueA && valueA.toNumber) {\n    valueA = valueA.toNumber();\n  }\n  if (valueB && valueB.toNumber) {\n    valueB = valueB.toNumber();\n  }\n  if (valueAMissing && valueBMissing) {\n    return 0;\n  }\n  if (valueAMissing) {\n    return -1;\n  }\n  if (valueBMissing) {\n    return 1;\n  }\n  function doQuickCompare(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n  if (typeof valueA !== \"string\") {\n    return doQuickCompare(valueA, valueB);\n  }\n  if (!accentedCompare) {\n    return doQuickCompare(valueA, valueB);\n  }\n  try {\n    return valueA.localeCompare(valueB);\n  } catch (e) {\n    return doQuickCompare(valueA, valueB);\n  }\n}\nfunction _values(object) {\n  if (object instanceof Set || object instanceof Map) {\n    const arr = [];\n    object.forEach((value) => arr.push(value));\n    return arr;\n  }\n  return Object.values(object);\n}\n\n// community-modules/core/src/gridOptionsUtils.ts\nfunction isRowModelType(gos, rowModelType) {\n  return gos.get(\"rowModelType\") === rowModelType;\n}\nfunction _isClientSideRowModel(gos) {\n  return isRowModelType(gos, \"clientSide\");\n}\nfunction _isServerSideRowModel(gos) {\n  return isRowModelType(gos, \"serverSide\");\n}\nfunction _isDomLayout(gos, domLayout) {\n  return gos.get(\"domLayout\") === domLayout;\n}\nfunction _isRowSelection(gos) {\n  return _getRowSelectionMode(gos) !== void 0;\n}\nfunction _useAsyncEvents(gos) {\n  return !gos.get(\"suppressAsyncEvents\");\n}\nfunction _isGetRowHeightFunction(gos) {\n  return typeof gos.get(\"getRowHeight\") === \"function\";\n}\nfunction _shouldMaintainColumnOrder(gos, isPivotColumns) {\n  if (isPivotColumns) {\n    return !gos.get(\"enableStrictPivotColumnOrder\");\n  }\n  return gos.get(\"maintainColumnOrder\");\n}\nfunction _getRowHeightForNode(gos, rowNode, allowEstimate = false, defaultRowHeight) {\n  if (defaultRowHeight == null) {\n    defaultRowHeight = gos.environment.getDefaultRowHeight();\n  }\n  if (_isGetRowHeightFunction(gos)) {\n    if (allowEstimate) {\n      return { height: defaultRowHeight, estimated: true };\n    }\n    const params = {\n      node: rowNode,\n      data: rowNode.data\n    };\n    const height = gos.getCallback(\"getRowHeight\")(params);\n    if (isNumeric(height)) {\n      if (height === 0) {\n        _warnOnce(\n          \"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.\"\n        );\n      }\n      return { height: Math.max(1, height), estimated: false };\n    }\n  }\n  if (rowNode.detail && gos.get(\"masterDetail\")) {\n    return getMasterDetailRowHeight(gos);\n  }\n  const gridOptionsRowHeight = gos.get(\"rowHeight\");\n  const rowHeight = gridOptionsRowHeight && isNumeric(gridOptionsRowHeight) ? gridOptionsRowHeight : defaultRowHeight;\n  return { height: rowHeight, estimated: false };\n}\nfunction getMasterDetailRowHeight(gos) {\n  if (gos.get(\"detailRowAutoHeight\")) {\n    return { height: 1, estimated: false };\n  }\n  const defaultRowHeight = gos.get(\"detailRowHeight\");\n  if (isNumeric(defaultRowHeight)) {\n    return { height: defaultRowHeight, estimated: false };\n  }\n  return { height: 300, estimated: false };\n}\nfunction _getRowHeightAsNumber(gos) {\n  const { environment } = gos;\n  const gridOptionsRowHeight = gos.get(\"rowHeight\");\n  if (!gridOptionsRowHeight || _missing(gridOptionsRowHeight)) {\n    return environment.getDefaultRowHeight();\n  }\n  const rowHeight = environment.refreshRowHeightVariable();\n  if (rowHeight !== -1) {\n    return rowHeight;\n  }\n  _warnOnce(\"row height must be a number if not using standard row model\");\n  return environment.getDefaultRowHeight();\n}\nfunction isNumeric(value) {\n  return !isNaN(value) && typeof value === \"number\" && isFinite(value);\n}\nfunction _getDomData(gos, element, key) {\n  const domData = element[gos.getDomDataKey()];\n  return domData ? domData[key] : void 0;\n}\nfunction _setDomData(gos, element, key, value) {\n  const domDataKey = gos.getDomDataKey();\n  let domData = element[domDataKey];\n  if (_missing(domData)) {\n    domData = {};\n    element[domDataKey] = domData;\n  }\n  domData[key] = value;\n}\nfunction _getDocument(gos) {\n  let result = null;\n  const gridOptionsGetDocument = gos.get(\"getDocument\");\n  if (gridOptionsGetDocument && _exists(gridOptionsGetDocument)) {\n    result = gridOptionsGetDocument();\n  } else if (gos.eGridDiv) {\n    result = gos.eGridDiv.ownerDocument;\n  }\n  if (result && _exists(result)) {\n    return result;\n  }\n  return document;\n}\nfunction _getWindow(gos) {\n  const eDocument = _getDocument(gos);\n  return eDocument.defaultView || window;\n}\nfunction _getRootNode(gos) {\n  return gos.eGridDiv.getRootNode();\n}\nfunction _getActiveDomElement(gos) {\n  return _getRootNode(gos).activeElement;\n}\nfunction _isNothingFocused(gos) {\n  const eDocument = _getDocument(gos);\n  const activeEl = _getActiveDomElement(gos);\n  return activeEl === null || activeEl === eDocument.body;\n}\nfunction _isAnimateRows(gos) {\n  if (gos.get(\"ensureDomOrder\")) {\n    return false;\n  }\n  return gos.get(\"animateRows\");\n}\nfunction _isGroupRowsSticky(gos) {\n  if (gos.get(\"paginateChildRows\") || gos.get(\"groupHideOpenParents\") || _isDomLayout(gos, \"print\")) {\n    return false;\n  }\n  return true;\n}\nfunction _isColumnsSortingCoupledToGroup(gos) {\n  const autoGroupColumnDef = gos.get(\"autoGroupColumnDef\");\n  return !autoGroupColumnDef?.comparator && !gos.get(\"treeData\");\n}\nfunction _getGroupAggFiltering(gos) {\n  const userValue = gos.get(\"groupAggFiltering\");\n  if (typeof userValue === \"function\") {\n    return gos.getCallback(\"groupAggFiltering\");\n  }\n  if (userValue === true) {\n    return () => true;\n  }\n  return void 0;\n}\nfunction _getGrandTotalRow(gos) {\n  const userValue = gos.get(\"grandTotalRow\");\n  if (userValue) {\n    return userValue;\n  }\n  const legacyValue = gos.get(\"groupIncludeTotalFooter\");\n  if (legacyValue) {\n    return \"bottom\";\n  }\n  return void 0;\n}\nfunction _getGroupTotalRowCallback(gos) {\n  const userValue = gos.get(\"groupTotalRow\");\n  if (typeof userValue === \"function\") {\n    return gos.getCallback(\"groupTotalRow\");\n  }\n  if (userValue) {\n    return () => userValue;\n  }\n  const legacyValue = gos.get(\"groupIncludeFooter\");\n  if (typeof legacyValue === \"function\") {\n    const legacyCallback = gos.getCallback(\"groupIncludeFooter\");\n    return (p) => {\n      return legacyCallback(p) ? \"bottom\" : void 0;\n    };\n  }\n  return () => legacyValue ? \"bottom\" : void 0;\n}\nfunction _isGroupMultiAutoColumn(gos) {\n  if (gos.exists(\"groupDisplayType\")) {\n    return gos.get(\"groupDisplayType\") === \"multipleColumns\";\n  }\n  return gos.get(\"groupHideOpenParents\");\n}\nfunction _isGroupUseEntireRow(gos, pivotMode) {\n  if (pivotMode) {\n    return false;\n  }\n  return gos.get(\"groupDisplayType\") === \"groupRows\";\n}\nfunction _getRowIdCallback(gos) {\n  const getRowId = gos.getCallback(\"getRowId\");\n  if (getRowId === void 0) {\n    return getRowId;\n  }\n  return (params) => {\n    let id = getRowId(params);\n    if (typeof id !== \"string\") {\n      _warnOnce(`The getRowId callback must return a string. The ID `, id, ` is being cast to a string.`);\n      id = String(id);\n    }\n    return id;\n  };\n}\nfunction _getCheckboxes(selection) {\n  return selection?.checkboxes ?? true;\n}\nfunction _getHeaderCheckbox(selection) {\n  return selection?.mode === \"multiRow\" && (selection.headerCheckbox ?? true);\n}\nfunction _getHideDisabledCheckboxes(selection) {\n  return selection?.hideDisabledCheckboxes ?? false;\n}\nfunction _isUsingNewRowSelectionAPI(gos) {\n  const rowSelection = gos.get(\"rowSelection\");\n  return typeof rowSelection !== \"string\";\n}\nfunction _isUsingNewCellSelectionAPI(gos) {\n  return gos.get(\"cellSelection\") !== void 0;\n}\nfunction _getSuppressMultiRanges(gos) {\n  const selection = gos.get(\"cellSelection\");\n  const useNewAPI = selection !== void 0;\n  if (!useNewAPI) {\n    return gos.get(\"suppressMultiRangeSelection\");\n  }\n  return typeof selection !== \"boolean\" ? selection?.suppressMultiRanges ?? false : false;\n}\nfunction _isCellSelectionEnabled(gos) {\n  const selection = gos.get(\"cellSelection\");\n  const useNewAPI = selection !== void 0;\n  return useNewAPI ? !!selection : gos.get(\"enableRangeSelection\");\n}\nfunction _isRangeHandleEnabled(gos) {\n  const selection = gos.get(\"cellSelection\");\n  const useNewAPI = selection !== void 0;\n  if (!useNewAPI) {\n    return gos.get(\"enableRangeHandle\");\n  }\n  return typeof selection !== \"boolean\" ? selection.handle?.mode === \"range\" : false;\n}\nfunction _isFillHandleEnabled(gos) {\n  const selection = gos.get(\"cellSelection\");\n  const useNewAPI = selection !== void 0;\n  if (!useNewAPI) {\n    return gos.get(\"enableFillHandle\");\n  }\n  return typeof selection !== \"boolean\" ? selection.handle?.mode === \"fill\" : false;\n}\nfunction _getFillHandle(gos) {\n  const selection = gos.get(\"cellSelection\");\n  const useNewAPI = selection !== void 0;\n  if (!useNewAPI) {\n    return {\n      mode: \"fill\",\n      setFillValue: gos.get(\"fillOperation\"),\n      direction: gos.get(\"fillHandleDirection\"),\n      suppressClearOnFillReduction: gos.get(\"suppressClearOnFillReduction\")\n    };\n  }\n  return typeof selection !== \"boolean\" && selection.handle?.mode === \"fill\" ? selection.handle : void 0;\n}\nfunction _getEnableClickSelection(gos) {\n  const selection = gos.get(\"rowSelection\") ?? \"single\";\n  if (typeof selection === \"string\") {\n    const suppressRowClickSelection = gos.get(\"suppressRowClickSelection\");\n    const suppressRowDeselection = gos.get(\"suppressRowDeselection\");\n    if (suppressRowClickSelection && suppressRowDeselection) {\n      return false;\n    } else if (suppressRowClickSelection) {\n      return \"enableDeselection\";\n    } else if (suppressRowDeselection) {\n      return \"enableSelection\";\n    } else {\n      return true;\n    }\n  }\n  return selection.mode === \"singleRow\" || selection.mode === \"multiRow\" ? selection.enableClickSelection ?? false : false;\n}\nfunction _getEnableSelection(gos) {\n  const enableClickSelection = _getEnableClickSelection(gos);\n  return enableClickSelection === true || enableClickSelection === \"enableSelection\";\n}\nfunction _getEnableDeselection(gos) {\n  const enableClickSelection = _getEnableClickSelection(gos);\n  return enableClickSelection === true || enableClickSelection === \"enableDeselection\";\n}\nfunction _getIsRowSelectable(gos) {\n  const selection = gos.get(\"rowSelection\");\n  if (typeof selection === \"string\") {\n    return gos.get(\"isRowSelectable\");\n  }\n  return selection?.isRowSelectable;\n}\nfunction _getRowSelectionMode(gos) {\n  const selection = gos.get(\"rowSelection\");\n  if (typeof selection === \"string\") {\n    switch (selection) {\n      case \"multiple\":\n        return \"multiRow\";\n      case \"single\":\n        return \"singleRow\";\n      default:\n        return;\n    }\n  }\n  return selection?.mode;\n}\nfunction _isMultiRowSelection(gos) {\n  const mode = _getRowSelectionMode(gos);\n  return mode === \"multiRow\";\n}\nfunction _getEnableSelectionWithoutKeys(gos) {\n  const selection = gos.get(\"rowSelection\");\n  if (typeof selection === \"string\") {\n    return gos.get(\"rowMultiSelectWithClick\");\n  }\n  return selection?.enableSelectionWithoutKeys ?? false;\n}\nfunction _getGroupSelection(gos) {\n  const selection = gos.get(\"rowSelection\");\n  if (typeof selection === \"string\") {\n    const groupSelectsChildren = gos.get(\"groupSelectsChildren\");\n    const groupSelectsFiltered = gos.get(\"groupSelectsFiltered\");\n    if (groupSelectsChildren && groupSelectsFiltered) {\n      return \"filteredDescendants\";\n    } else if (groupSelectsChildren) {\n      return \"descendants\";\n    } else {\n      return \"self\";\n    }\n  }\n  return selection?.mode === \"multiRow\" ? selection.groupSelects : void 0;\n}\nfunction _getGroupSelectsDescendants(gos) {\n  const groupSelection = _getGroupSelection(gos);\n  return groupSelection === \"descendants\" || groupSelection === \"filteredDescendants\";\n}\nfunction _isSetFilterByDefault(gos) {\n  return gos.isModuleRegistered(\"@ag-grid-enterprise/set-filter\" /* SetFilterModule */) && !gos.get(\"suppressSetFilterByDefault\");\n}\n\n// community-modules/core/src/utils/array.ts\nfunction _existsAndNotEmpty(value) {\n  return value != null && value.length > 0;\n}\nfunction _last(arr) {\n  if (!arr || !arr.length) {\n    return;\n  }\n  return arr[arr.length - 1];\n}\nfunction _areEqual(a, b, comparator) {\n  if (a == null && b == null) {\n    return true;\n  }\n  return a != null && b != null && a.length === b.length && a.every((value, index) => comparator ? comparator(value, b[index]) : b[index] === value);\n}\nfunction _shallowCompare(arr1, arr2) {\n  return _areEqual(arr1, arr2);\n}\nfunction _sortNumerically(array) {\n  return array.sort((a, b) => a - b);\n}\nfunction _removeRepeatsFromArray(array, object) {\n  if (!array) {\n    return;\n  }\n  for (let index = array.length - 2; index >= 0; index--) {\n    const thisOneMatches = array[index] === object;\n    const nextOneMatches = array[index + 1] === object;\n    if (thisOneMatches && nextOneMatches) {\n      array.splice(index + 1, 1);\n    }\n  }\n}\nfunction _removeFromUnorderedArray(array, object) {\n  const index = array.indexOf(object);\n  if (index >= 0) {\n    array[index] = array[array.length - 1];\n    array.pop();\n  }\n}\nfunction _removeFromArray(array, object) {\n  const index = array.indexOf(object);\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\nfunction _removeAllFromUnorderedArray(array, toRemove) {\n  for (let i = 0; i < toRemove.length; i++) {\n    _removeFromUnorderedArray(array, toRemove[i]);\n  }\n}\nfunction _removeAllFromArray(array, toRemove) {\n  for (let i = 0; i < toRemove.length; i++) {\n    _removeFromArray(array, toRemove[i]);\n  }\n}\nfunction _insertIntoArray(array, object, toIndex) {\n  array.splice(toIndex, 0, object);\n}\nfunction _insertArrayIntoArray(dest, src, toIndex) {\n  if (dest == null || src == null) {\n    return;\n  }\n  for (let i = src.length - 1; i >= 0; i--) {\n    const item = src[i];\n    _insertIntoArray(dest, item, toIndex);\n  }\n}\nfunction _moveInArray(array, objectsToMove, toIndex) {\n  _removeAllFromArray(array, objectsToMove);\n  objectsToMove.slice().reverse().forEach((obj) => _insertIntoArray(array, obj, toIndex));\n}\nfunction _includes(array, value) {\n  return array.indexOf(value) > -1;\n}\nfunction _flatten(arrayOfArrays) {\n  return arrayOfArrays?.flatMap((t) => t) ?? [];\n}\nfunction _pushAll(target, source) {\n  if (source == null || target == null) {\n    return;\n  }\n  source.forEach((value) => target.push(value));\n}\nfunction _forEachReverse(list, action) {\n  if (list == null) {\n    return;\n  }\n  for (let i = list.length - 1; i >= 0; i--) {\n    action(list[i], i);\n  }\n}\n\n// community-modules/core/src/utils/event.ts\nvar AG_GRID_STOP_PROPAGATION = \"__ag_Grid_Stop_Propagation\";\nvar PASSIVE_EVENTS = [\"touchstart\", \"touchend\", \"touchmove\", \"touchcancel\", \"scroll\"];\nvar supports = {};\nfunction _stopPropagationForAgGrid(event) {\n  event[AG_GRID_STOP_PROPAGATION] = true;\n}\nfunction _isStopPropagationForAgGrid(event) {\n  return event[AG_GRID_STOP_PROPAGATION] === true;\n}\nvar _isEventSupported = /* @__PURE__ */ (() => {\n  const tags = {\n    select: \"input\",\n    change: \"input\",\n    submit: \"form\",\n    reset: \"form\",\n    error: \"img\",\n    load: \"img\",\n    abort: \"img\"\n  };\n  const eventChecker = (eventName) => {\n    if (typeof supports[eventName] === \"boolean\") {\n      return supports[eventName];\n    }\n    const el = document.createElement(tags[eventName] || \"div\");\n    eventName = \"on\" + eventName;\n    return supports[eventName] = eventName in el;\n  };\n  return eventChecker;\n})();\nfunction _getCtrlForEventTarget(gos, eventTarget, type) {\n  let sourceElement = eventTarget;\n  while (sourceElement) {\n    const renderedComp = _getDomData(gos, sourceElement, type);\n    if (renderedComp) {\n      return renderedComp;\n    }\n    sourceElement = sourceElement.parentElement;\n  }\n  return null;\n}\nfunction _isElementInEventPath(element, event) {\n  if (!event || !element) {\n    return false;\n  }\n  return _getEventPath(event).indexOf(element) >= 0;\n}\nfunction _createEventPath(event) {\n  const res = [];\n  let pointer = event.target;\n  while (pointer) {\n    res.push(pointer);\n    pointer = pointer.parentElement;\n  }\n  return res;\n}\nfunction _getEventPath(event) {\n  const eventNoType = event;\n  if (eventNoType.path) {\n    return eventNoType.path;\n  }\n  if (eventNoType.composedPath) {\n    return eventNoType.composedPath();\n  }\n  return _createEventPath(eventNoType);\n}\nfunction _addSafePassiveEventListener(frameworkOverrides, eElement, event, listener) {\n  const isPassive = _includes(PASSIVE_EVENTS, event);\n  const options = isPassive ? { passive: true } : void 0;\n  if (frameworkOverrides && frameworkOverrides.addEventListener) {\n    frameworkOverrides.addEventListener(eElement, event, listener, options);\n  }\n}\n\n// community-modules/core/src/context/beanStub.ts\nvar BeanStub = class {\n  constructor() {\n    // not named context to allow children to use 'context' as a variable name\n    this.destroyFunctions = [];\n    this.destroyed = false;\n    // for vue 3 - prevents Vue from trying to make this (and obviously any sub classes) from being reactive\n    // prevents vue from creating proxies for created objects and prevents identity related issues\n    this.__v_skip = true;\n    this.propertyListenerId = 0;\n    // Enable multiple grid properties to be updated together by the user but only trigger shared logic once.\n    // Closely related to logic in ComponentUtil.ts\n    this.lastChangeSetIdLookup = {};\n    this.isAlive = () => !this.destroyed;\n  }\n  preWireBeans(beans) {\n    this.frameworkOverrides = beans.frameworkOverrides;\n    this.stubContext = beans.context;\n    this.eventService = beans.eventService;\n    this.gos = beans.gos;\n    this.localeService = beans.localeService;\n  }\n  // this was a test constructor niall built, when active, it prints after 5 seconds all beans/components that are\n  // not destroyed. to use, create a new grid, then api.destroy() before 5 seconds. then anything that gets printed\n  // points to a bean or component that was not properly disposed of.\n  // constructor() {\n  //     setTimeout(()=> {\n  //         if (this.isAlive()) {\n  //             let prototype: any = Object.getPrototypeOf(this);\n  //             const constructor: any = prototype.constructor;\n  //             const constructorString = constructor.toString();\n  //             const beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n  //             console.log('is alive ' + beanName);\n  //         }\n  //     }, 5000);\n  // }\n  // CellComp and GridComp and override this because they get the FrameworkOverrides from the Beans bean\n  getFrameworkOverrides() {\n    return this.frameworkOverrides;\n  }\n  destroy() {\n    for (let i = 0; i < this.destroyFunctions.length; i++) {\n      this.destroyFunctions[i]();\n    }\n    this.destroyFunctions.length = 0;\n    this.destroyed = true;\n    this.dispatchLocalEvent({ type: \"destroyed\" });\n  }\n  // The typing of AgEventListener<any, any, any> is not ideal, but it's the best we can do at the moment to enable\n  // eventService to have the best typing at the expense of BeanStub local events\n  /** Add a local event listener against this BeanStub */\n  addEventListener(eventType, listener, async) {\n    if (!this.localEventService) {\n      this.localEventService = new LocalEventService();\n    }\n    this.localEventService.addEventListener(eventType, listener, async);\n  }\n  /** Remove a local event listener from this BeanStub */\n  removeEventListener(eventType, listener, async) {\n    if (this.localEventService) {\n      this.localEventService.removeEventListener(eventType, listener, async);\n    }\n  }\n  dispatchLocalEvent(event) {\n    if (this.localEventService) {\n      this.localEventService.dispatchEvent(event);\n    }\n  }\n  addManagedElementListeners(object, handlers) {\n    return this._setupListeners(object, handlers);\n  }\n  addManagedEventListeners(handlers) {\n    return this._setupListeners(this.eventService, handlers);\n  }\n  addManagedListeners(object, handlers) {\n    return this._setupListeners(object, handlers);\n  }\n  _setupListeners(object, handlers) {\n    const destroyFuncs = [];\n    for (const k in handlers) {\n      const handler = handlers[k];\n      if (handler) {\n        destroyFuncs.push(this._setupListener(object, k, handler));\n      }\n    }\n    return destroyFuncs;\n  }\n  _setupListener(object, event, listener) {\n    if (this.destroyed) {\n      return () => null;\n    }\n    if (object instanceof HTMLElement) {\n      _addSafePassiveEventListener(this.getFrameworkOverrides(), object, event, listener);\n    } else {\n      object.addEventListener(event, listener);\n    }\n    const destroyFunc = () => {\n      object.removeEventListener(event, listener);\n      return null;\n    };\n    this.destroyFunctions.push(destroyFunc);\n    return () => {\n      destroyFunc();\n      this.destroyFunctions = this.destroyFunctions.filter((fn) => fn !== destroyFunc);\n      return null;\n    };\n  }\n  /**\n   * Setup a managed property listener for the given GridOption property.\n   * However, stores the destroy function in the beanStub so that if this bean\n   * is a component the destroy function will be called when the component is destroyed\n   * as opposed to being cleaned up only when the GridOptionsService is destroyed.\n   */\n  setupGridOptionListener(event, listener) {\n    this.gos.addPropertyEventListener(event, listener);\n    const destroyFunc = () => {\n      this.gos.removePropertyEventListener(event, listener);\n      return null;\n    };\n    this.destroyFunctions.push(destroyFunc);\n    return () => {\n      destroyFunc();\n      this.destroyFunctions = this.destroyFunctions.filter((fn) => fn !== destroyFunc);\n      return null;\n    };\n  }\n  /**\n   * Setup a managed property listener for the given GridOption property.\n   * @param event GridOption property to listen to changes for.\n   * @param listener Listener to run when property value changes\n   */\n  addManagedPropertyListener(event, listener) {\n    if (this.destroyed) {\n      return () => null;\n    }\n    return this.setupGridOptionListener(event, listener);\n  }\n  /**\n   * Setup managed property listeners for the given set of GridOption properties.\n   * The listener will be run if any of the property changes but will only run once if\n   * multiple of the properties change within the same framework lifecycle event.\n   * Works on the basis that GridOptionsService updates all properties *before* any property change events are fired.\n   * @param events Array of GridOption properties to listen for changes too.\n   * @param listener Shared listener to run if any of the properties change\n   */\n  addManagedPropertyListeners(events, listener) {\n    if (this.destroyed) {\n      return;\n    }\n    const eventsKey = events.join(\"-\") + this.propertyListenerId++;\n    const wrappedListener = (event) => {\n      if (event.changeSet) {\n        if (event.changeSet && event.changeSet.id === this.lastChangeSetIdLookup[eventsKey]) {\n          return;\n        }\n        this.lastChangeSetIdLookup[eventsKey] = event.changeSet.id;\n      }\n      const propertiesChangeEvent = {\n        type: \"gridPropertyChanged\",\n        changeSet: event.changeSet,\n        source: event.source\n      };\n      listener(propertiesChangeEvent);\n    };\n    events.forEach((event) => this.setupGridOptionListener(event, wrappedListener));\n  }\n  addDestroyFunc(func) {\n    if (this.isAlive()) {\n      this.destroyFunctions.push(func);\n    } else {\n      func();\n    }\n  }\n  createManagedBean(bean, context) {\n    const res = this.createBean(bean, context);\n    this.addDestroyFunc(this.destroyBean.bind(this, bean, context));\n    return res;\n  }\n  createBean(bean, context, afterPreCreateCallback) {\n    return (context || this.stubContext).createBean(bean, afterPreCreateCallback);\n  }\n  /**\n   * Destroys a bean and returns undefined to support destruction and clean up in a single line.\n   * this.dateComp = this.context.destroyBean(this.dateComp);\n   */\n  destroyBean(bean, context) {\n    return (context || this.stubContext).destroyBean(bean);\n  }\n  /**\n   * Destroys an array of beans and returns an empty array to support destruction and clean up in a single line.\n   * this.dateComps = this.context.destroyBeans(this.dateComps);\n   */\n  destroyBeans(beans, context) {\n    return (context || this.stubContext).destroyBeans(beans);\n  }\n};\n\n// community-modules/core/src/entities/agProvidedColumnGroup.ts\nfunction isProvidedColumnGroup(col) {\n  return col instanceof AgProvidedColumnGroup;\n}\nvar AgProvidedColumnGroup = class extends BeanStub {\n  constructor(colGroupDef, groupId, padding, level) {\n    super();\n    this.isColumn = false;\n    this.expandable = false;\n    // used by React (and possibly other frameworks) as key for rendering. also used to\n    // identify old vs new columns for destroying cols when no longer used.\n    this.instanceId = getNextColInstanceId();\n    this.expandableListenerRemoveCallback = null;\n    this.colGroupDef = colGroupDef;\n    this.groupId = groupId;\n    this.expanded = !!colGroupDef && !!colGroupDef.openByDefault;\n    this.padding = padding;\n    this.level = level;\n  }\n  destroy() {\n    if (this.expandableListenerRemoveCallback) {\n      this.reset(null, void 0);\n    }\n    super.destroy();\n  }\n  reset(colGroupDef, level) {\n    this.colGroupDef = colGroupDef;\n    this.level = level;\n    this.originalParent = null;\n    if (this.expandableListenerRemoveCallback) {\n      this.expandableListenerRemoveCallback();\n    }\n    this.children = void 0;\n    this.expandable = void 0;\n  }\n  getInstanceId() {\n    return this.instanceId;\n  }\n  setOriginalParent(originalParent) {\n    this.originalParent = originalParent;\n  }\n  getOriginalParent() {\n    return this.originalParent;\n  }\n  getLevel() {\n    return this.level;\n  }\n  isVisible() {\n    if (this.children) {\n      return this.children.some((child) => child.isVisible());\n    }\n    return false;\n  }\n  isPadding() {\n    return this.padding;\n  }\n  setExpanded(expanded) {\n    this.expanded = expanded === void 0 ? false : expanded;\n    this.dispatchLocalEvent({ type: \"expandedChanged\" });\n  }\n  isExpandable() {\n    return this.expandable;\n  }\n  isExpanded() {\n    return this.expanded;\n  }\n  getGroupId() {\n    return this.groupId;\n  }\n  getId() {\n    return this.getGroupId();\n  }\n  setChildren(children) {\n    this.children = children;\n  }\n  getChildren() {\n    return this.children;\n  }\n  getColGroupDef() {\n    return this.colGroupDef;\n  }\n  getLeafColumns() {\n    const result = [];\n    this.addLeafColumns(result);\n    return result;\n  }\n  addLeafColumns(leafColumns) {\n    if (!this.children) {\n      return;\n    }\n    this.children.forEach((child) => {\n      if (isColumn(child)) {\n        leafColumns.push(child);\n      } else if (isProvidedColumnGroup(child)) {\n        child.addLeafColumns(leafColumns);\n      }\n    });\n  }\n  getColumnGroupShow() {\n    const colGroupDef = this.colGroupDef;\n    if (!colGroupDef) {\n      return;\n    }\n    return colGroupDef.columnGroupShow;\n  }\n  // need to check that this group has at least one col showing when both expanded and contracted.\n  // if not, then we don't allow expanding and contracting on this group\n  setupExpandable() {\n    this.setExpandable();\n    if (this.expandableListenerRemoveCallback) {\n      this.expandableListenerRemoveCallback();\n    }\n    const listener = this.onColumnVisibilityChanged.bind(this);\n    this.getLeafColumns().forEach((col) => col.addEventListener(\"visibleChanged\", listener));\n    this.expandableListenerRemoveCallback = () => {\n      this.getLeafColumns().forEach((col) => col.removeEventListener(\"visibleChanged\", listener));\n      this.expandableListenerRemoveCallback = null;\n    };\n  }\n  setExpandable() {\n    if (this.isPadding()) {\n      return;\n    }\n    let atLeastOneShowingWhenOpen = false;\n    let atLeastOneShowingWhenClosed = false;\n    let atLeastOneChangeable = false;\n    const children = this.findChildrenRemovingPadding();\n    for (let i = 0, j = children.length; i < j; i++) {\n      const abstractColumn = children[i];\n      if (!abstractColumn.isVisible()) {\n        continue;\n      }\n      const headerGroupShow = abstractColumn.getColumnGroupShow();\n      if (headerGroupShow === \"open\") {\n        atLeastOneShowingWhenOpen = true;\n        atLeastOneChangeable = true;\n      } else if (headerGroupShow === \"closed\") {\n        atLeastOneShowingWhenClosed = true;\n        atLeastOneChangeable = true;\n      } else {\n        atLeastOneShowingWhenOpen = true;\n        atLeastOneShowingWhenClosed = true;\n      }\n    }\n    const expandable = atLeastOneShowingWhenOpen && atLeastOneShowingWhenClosed && atLeastOneChangeable;\n    if (this.expandable !== expandable) {\n      this.expandable = expandable;\n      this.dispatchLocalEvent({ type: \"expandableChanged\" });\n    }\n  }\n  findChildrenRemovingPadding() {\n    const res = [];\n    const process = (items) => {\n      items.forEach((item) => {\n        const skipBecausePadding = isProvidedColumnGroup(item) && item.isPadding();\n        if (skipBecausePadding) {\n          process(item.children);\n        } else {\n          res.push(item);\n        }\n      });\n    };\n    process(this.children);\n    return res;\n  }\n  onColumnVisibilityChanged() {\n    this.setExpandable();\n  }\n};\n\n// community-modules/core/src/columns/controlsColService.ts\nvar CONTROLS_COLUMN_ID_PREFIX = \"ag-Grid-ControlsColumn\";\nvar ControlsColService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"controlsColService\";\n  }\n  isControlsColEnabled() {\n    const { gos } = this;\n    const so = gos.get(\"rowSelection\");\n    if (!so || typeof so !== \"object\") {\n      return false;\n    }\n    const checkboxes = _getCheckboxes(so);\n    const headerCheckbox = _getHeaderCheckbox(so);\n    return !!(checkboxes || headerCheckbox);\n  }\n  createControlsCols() {\n    if (!this.isControlsColEnabled()) {\n      return [];\n    }\n    const { gos } = this;\n    const selectionColumnDef = gos.get(\"selectionColumnDef\");\n    const enableRTL = gos.get(\"enableRtl\");\n    const colDef = {\n      // overridable properties\n      maxWidth: 50,\n      resizable: false,\n      suppressHeaderMenuButton: true,\n      sortable: false,\n      suppressMovable: true,\n      lockPosition: enableRTL ? \"right\" : \"left\",\n      comparator(valueA, valueB, nodeA, nodeB) {\n        const aSelected = nodeA.isSelected();\n        const bSelected = nodeB.isSelected();\n        return aSelected && bSelected ? 0 : aSelected ? 1 : -1;\n      },\n      editable: false,\n      suppressFillHandle: true,\n      // overrides\n      ...selectionColumnDef,\n      // non-overridable properties\n      colId: `${CONTROLS_COLUMN_ID_PREFIX}`\n    };\n    const col = new AgColumn(colDef, null, colDef.colId, false);\n    this.createBean(col);\n    return [col];\n  }\n};\n\n// community-modules/core/src/columns/columnUtils.ts\nvar GROUP_AUTO_COLUMN_ID = \"ag-Grid-AutoColumn\";\nfunction getColumnsFromTree(rootColumns) {\n  const result = [];\n  const recursiveFindColumns = (childColumns) => {\n    for (let i = 0; i < childColumns.length; i++) {\n      const child = childColumns[i];\n      if (isColumn(child)) {\n        result.push(child);\n      } else if (isProvidedColumnGroup(child)) {\n        recursiveFindColumns(child.getChildren());\n      }\n    }\n  };\n  recursiveFindColumns(rootColumns);\n  return result;\n}\nfunction getWidthOfColsInList(columnList) {\n  return columnList.reduce((width, col) => width + col.getActualWidth(), 0);\n}\nfunction destroyColumnTree(context, oldTree, newTree) {\n  const oldObjectsById = {};\n  if (!oldTree) {\n    return;\n  }\n  depthFirstOriginalTreeSearch(null, oldTree, (child) => {\n    oldObjectsById[child.getInstanceId()] = child;\n  });\n  if (newTree) {\n    depthFirstOriginalTreeSearch(null, newTree, (child) => {\n      oldObjectsById[child.getInstanceId()] = null;\n    });\n  }\n  const colsToDestroy = Object.values(oldObjectsById).filter((item) => item != null);\n  context.destroyBeans(colsToDestroy);\n}\nfunction isColumnGroupAutoCol(col) {\n  const colId = col.getId();\n  return colId.startsWith(GROUP_AUTO_COLUMN_ID);\n}\nfunction isColumnControlsCol(col) {\n  return col.getColId().startsWith(CONTROLS_COLUMN_ID_PREFIX);\n}\nfunction convertColumnTypes(type) {\n  let typeKeys = [];\n  if (type instanceof Array) {\n    const invalidArray = type.some((a) => typeof a !== \"string\");\n    if (invalidArray) {\n      _warnOnce(\"if colDef.type is supplied an array it should be of type 'string[]'\");\n    } else {\n      typeKeys = type;\n    }\n  } else if (typeof type === \"string\") {\n    typeKeys = type.split(\",\");\n  } else {\n    _warnOnce(\"colDef.type should be of type 'string' | 'string[]'\");\n  }\n  return typeKeys;\n}\n\n// community-modules/core/src/misc/frameworkEventListenerService.ts\nvar FrameworkEventListenerService = class {\n  constructor(frameworkOverrides) {\n    this.frameworkOverrides = frameworkOverrides;\n    // Map from user listener to wrapped listener so we can remove listener provided by user\n    this.wrappedListeners = /* @__PURE__ */ new Map();\n    this.wrappedGlobalListeners = /* @__PURE__ */ new Map();\n  }\n  wrap(eventType, userListener) {\n    const { frameworkOverrides, wrappedListeners } = this;\n    let listener = userListener;\n    if (frameworkOverrides.shouldWrapOutgoing) {\n      listener = (event) => {\n        frameworkOverrides.wrapOutgoing(() => userListener(event));\n      };\n      let eventListeners = wrappedListeners.get(eventType);\n      if (!eventListeners) {\n        eventListeners = /* @__PURE__ */ new Map();\n        wrappedListeners.set(eventType, eventListeners);\n      }\n      eventListeners.set(userListener, listener);\n    }\n    return listener;\n  }\n  wrapGlobal(userListener) {\n    const { frameworkOverrides, wrappedGlobalListeners } = this;\n    let listener = userListener;\n    if (frameworkOverrides.shouldWrapOutgoing) {\n      listener = (eventType, event) => {\n        frameworkOverrides.wrapOutgoing(() => userListener(eventType, event));\n      };\n      wrappedGlobalListeners.set(userListener, listener);\n    }\n    return listener;\n  }\n  unwrap(eventType, userListener) {\n    const { wrappedListeners } = this;\n    const eventListeners = wrappedListeners.get(eventType);\n    if (eventListeners) {\n      const wrapped = eventListeners.get(userListener);\n      if (wrapped) {\n        eventListeners.delete(userListener);\n        if (eventListeners.size === 0) {\n          wrappedListeners.delete(eventType);\n        }\n        return wrapped;\n      }\n    }\n    return userListener;\n  }\n  unwrapGlobal(userListener) {\n    const { wrappedGlobalListeners } = this;\n    const wrapped = wrappedGlobalListeners.get(userListener);\n    if (wrapped) {\n      wrappedGlobalListeners.delete(userListener);\n      return wrapped;\n    }\n    return userListener;\n  }\n};\n\n// community-modules/core/src/utils/object.ts\nvar SKIP_JS_BUILTINS = /* @__PURE__ */ new Set([\"__proto__\", \"constructor\", \"prototype\"]);\nfunction _iterateObject(object, callback) {\n  if (object == null) {\n    return;\n  }\n  if (Array.isArray(object)) {\n    for (let i = 0; i < object.length; i++) {\n      callback(i.toString(), object[i]);\n    }\n    return;\n  }\n  for (const [key, value] of Object.entries(object)) {\n    if (SKIP_JS_BUILTINS.has(key)) {\n      continue;\n    }\n    callback(key, value);\n  }\n}\nfunction _cloneObject(object) {\n  const copy = {};\n  const keys = Object.keys(object);\n  for (let i = 0; i < keys.length; i++) {\n    if (SKIP_JS_BUILTINS.has(keys[i])) {\n      continue;\n    }\n    const key = keys[i];\n    const value = object[key];\n    copy[key] = value;\n  }\n  return copy;\n}\nfunction _deepCloneDefinition(object, keysToSkip) {\n  if (!object) {\n    return;\n  }\n  const obj = object;\n  const res = {};\n  Object.keys(obj).forEach((key) => {\n    if (keysToSkip && keysToSkip.indexOf(key) >= 0 || SKIP_JS_BUILTINS.has(key)) {\n      return;\n    }\n    const value = obj[key];\n    const sourceIsSimpleObject = _isNonNullObject(value) && value.constructor === Object;\n    if (sourceIsSimpleObject) {\n      res[key] = _deepCloneDefinition(value);\n    } else {\n      res[key] = value;\n    }\n  });\n  return res;\n}\nfunction _getAllValuesInObject(obj) {\n  if (!obj) {\n    return [];\n  }\n  const anyObject = Object;\n  if (typeof anyObject.values === \"function\") {\n    return anyObject.values(obj);\n  }\n  const ret = [];\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key) && obj.propertyIsEnumerable(key)) {\n      ret.push(obj[key]);\n    }\n  }\n  return ret;\n}\nfunction _mergeDeep(dest, source, copyUndefined = true, makeCopyOfSimpleObjects = false) {\n  if (!_exists(source)) {\n    return;\n  }\n  _iterateObject(source, (key, sourceValue) => {\n    if (SKIP_JS_BUILTINS.has(key)) {\n      return;\n    }\n    let destValue = dest[key];\n    if (destValue === sourceValue) {\n      return;\n    }\n    if (makeCopyOfSimpleObjects) {\n      const objectIsDueToBeCopied = destValue == null && sourceValue != null;\n      if (objectIsDueToBeCopied) {\n        const sourceIsSimpleObject = typeof sourceValue === \"object\" && sourceValue.constructor === Object;\n        const dontCopy = sourceIsSimpleObject;\n        if (dontCopy) {\n          destValue = {};\n          dest[key] = destValue;\n        }\n      }\n    }\n    if (_isNonNullObject(sourceValue) && _isNonNullObject(destValue) && !Array.isArray(destValue)) {\n      _mergeDeep(destValue, sourceValue, copyUndefined, makeCopyOfSimpleObjects);\n    } else if (copyUndefined || sourceValue !== void 0) {\n      dest[key] = sourceValue;\n    }\n  });\n}\nfunction _getValueUsingField(data, field, fieldContainsDots) {\n  if (!field || !data) {\n    return;\n  }\n  if (!fieldContainsDots) {\n    return data[field];\n  }\n  const fields = field.split(\".\");\n  let currentObject = data;\n  for (let i = 0; i < fields.length; i++) {\n    if (currentObject == null) {\n      return void 0;\n    }\n    currentObject = currentObject[fields[i]];\n  }\n  return currentObject;\n}\nfunction _isNonNullObject(value) {\n  return typeof value === \"object\" && value !== null;\n}\n\n// community-modules/core/src/entities/agColumn.ts\nvar COL_DEF_DEFAULTS = {\n  resizable: true,\n  sortable: true\n};\nvar instanceIdSequence = 0;\nfunction getNextColInstanceId() {\n  return instanceIdSequence++;\n}\nfunction isColumn(col) {\n  return col instanceof AgColumn;\n}\nvar AgColumn = class extends BeanStub {\n  constructor(colDef, userProvidedColDef, colId, primary) {\n    super();\n    this.isColumn = true;\n    // used by React (and possibly other frameworks) as key for rendering. also used to\n    // identify old vs new columns for destroying cols when no longer used.\n    this.instanceId = getNextColInstanceId();\n    // The measured height of this column's header when autoHeaderHeight is enabled\n    this.autoHeaderHeight = null;\n    this.moving = false;\n    this.menuVisible = false;\n    this.lastLeftPinned = false;\n    this.firstRightPinned = false;\n    this.filterActive = false;\n    this.columnEventService = new LocalEventService();\n    this.tooltipEnabled = false;\n    this.rowGroupActive = false;\n    this.pivotActive = false;\n    this.aggregationActive = false;\n    this.colDef = colDef;\n    this.userProvidedColDef = userProvidedColDef;\n    this.colId = colId;\n    this.primary = primary;\n    this.setState(colDef);\n  }\n  wireBeans(beans) {\n    this.columnHoverService = beans.columnHoverService;\n  }\n  getInstanceId() {\n    return this.instanceId;\n  }\n  setState(colDef) {\n    if (colDef.sort !== void 0) {\n      if (colDef.sort === \"asc\" || colDef.sort === \"desc\") {\n        this.sort = colDef.sort;\n      }\n    } else {\n      if (colDef.initialSort === \"asc\" || colDef.initialSort === \"desc\") {\n        this.sort = colDef.initialSort;\n      }\n    }\n    const sortIndex = colDef.sortIndex;\n    const initialSortIndex = colDef.initialSortIndex;\n    if (sortIndex !== void 0) {\n      if (sortIndex !== null) {\n        this.sortIndex = sortIndex;\n      }\n    } else {\n      if (initialSortIndex !== null) {\n        this.sortIndex = initialSortIndex;\n      }\n    }\n    const hide = colDef.hide;\n    const initialHide = colDef.initialHide;\n    if (hide !== void 0) {\n      this.visible = !hide;\n    } else {\n      this.visible = !initialHide;\n    }\n    if (colDef.pinned !== void 0) {\n      this.setPinned(colDef.pinned);\n    } else {\n      this.setPinned(colDef.initialPinned);\n    }\n    const flex = colDef.flex;\n    const initialFlex = colDef.initialFlex;\n    if (flex !== void 0) {\n      this.flex = flex;\n    } else if (initialFlex !== void 0) {\n      this.flex = initialFlex;\n    }\n  }\n  // gets called when user provides an alternative colDef, eg\n  setColDef(colDef, userProvidedColDef, source) {\n    this.colDef = colDef;\n    this.userProvidedColDef = userProvidedColDef;\n    this.initMinAndMaxWidths();\n    this.initDotNotation();\n    this.initTooltip();\n    this.columnEventService.dispatchEvent(this.createColumnEvent(\"colDefChanged\", source));\n  }\n  getUserProvidedColDef() {\n    return this.userProvidedColDef;\n  }\n  setParent(parent) {\n    this.parent = parent;\n  }\n  getParent() {\n    return this.parent;\n  }\n  setOriginalParent(originalParent) {\n    this.originalParent = originalParent;\n  }\n  getOriginalParent() {\n    return this.originalParent;\n  }\n  // this is done after constructor as it uses gridOptionsService\n  postConstruct() {\n    this.initMinAndMaxWidths();\n    this.resetActualWidth(\"gridInitializing\");\n    this.initDotNotation();\n    this.initTooltip();\n  }\n  initDotNotation() {\n    const suppressDotNotation = this.gos.get(\"suppressFieldDotNotation\");\n    this.fieldContainsDots = _exists(this.colDef.field) && this.colDef.field.indexOf(\".\") >= 0 && !suppressDotNotation;\n    this.tooltipFieldContainsDots = _exists(this.colDef.tooltipField) && this.colDef.tooltipField.indexOf(\".\") >= 0 && !suppressDotNotation;\n  }\n  initMinAndMaxWidths() {\n    const colDef = this.colDef;\n    this.minWidth = colDef.minWidth ?? this.gos.environment.getDefaultColumnMinWidth();\n    this.maxWidth = colDef.maxWidth ?? Number.MAX_SAFE_INTEGER;\n  }\n  initTooltip() {\n    this.tooltipEnabled = _exists(this.colDef.tooltipField) || _exists(this.colDef.tooltipValueGetter) || _exists(this.colDef.tooltipComponent);\n  }\n  resetActualWidth(source) {\n    const initialWidth = this.calculateColInitialWidth(this.colDef);\n    this.setActualWidth(initialWidth, source, true);\n  }\n  calculateColInitialWidth(colDef) {\n    let width;\n    const colDefWidth = _attrToNumber(colDef.width);\n    const colDefInitialWidth = _attrToNumber(colDef.initialWidth);\n    if (colDefWidth != null) {\n      width = colDefWidth;\n    } else if (colDefInitialWidth != null) {\n      width = colDefInitialWidth;\n    } else {\n      width = 200;\n    }\n    return Math.max(Math.min(width, this.maxWidth), this.minWidth);\n  }\n  isEmptyGroup() {\n    return false;\n  }\n  isRowGroupDisplayed(colId) {\n    if (_missing(this.colDef) || _missing(this.colDef.showRowGroup)) {\n      return false;\n    }\n    const showingAllGroups = this.colDef.showRowGroup === true;\n    const showingThisGroup = this.colDef.showRowGroup === colId;\n    return showingAllGroups || showingThisGroup;\n  }\n  isPrimary() {\n    return this.primary;\n  }\n  isFilterAllowed() {\n    const filterDefined = !!this.colDef.filter;\n    return filterDefined;\n  }\n  isFieldContainsDots() {\n    return this.fieldContainsDots;\n  }\n  isTooltipEnabled() {\n    return this.tooltipEnabled;\n  }\n  isTooltipFieldContainsDots() {\n    return this.tooltipFieldContainsDots;\n  }\n  getHighlighted() {\n    return this.highlighted;\n  }\n  addEventListener(eventType, userListener) {\n    if (this.frameworkOverrides.shouldWrapOutgoing && !this.frameworkEventListenerService) {\n      this.columnEventService.setFrameworkOverrides(this.frameworkOverrides);\n      this.frameworkEventListenerService = new FrameworkEventListenerService(this.frameworkOverrides);\n    }\n    const listener = this.frameworkEventListenerService?.wrap(eventType, userListener) ?? userListener;\n    this.columnEventService.addEventListener(eventType, listener);\n  }\n  removeEventListener(eventType, userListener) {\n    const listener = this.frameworkEventListenerService?.unwrap(eventType, userListener) ?? userListener;\n    this.columnEventService.removeEventListener(eventType, listener);\n  }\n  createColumnFunctionCallbackParams(rowNode) {\n    return this.gos.addGridCommonParams({\n      node: rowNode,\n      data: rowNode.data,\n      column: this,\n      colDef: this.colDef\n    });\n  }\n  isSuppressNavigable(rowNode) {\n    if (typeof this.colDef.suppressNavigable === \"boolean\") {\n      return this.colDef.suppressNavigable;\n    }\n    if (typeof this.colDef.suppressNavigable === \"function\") {\n      const params = this.createColumnFunctionCallbackParams(rowNode);\n      const userFunc = this.colDef.suppressNavigable;\n      return userFunc(params);\n    }\n    return false;\n  }\n  isCellEditable(rowNode) {\n    if (rowNode.group) {\n      if (this.gos.get(\"treeData\")) {\n        if (!rowNode.data && !this.gos.get(\"enableGroupEdit\")) {\n          return false;\n        }\n      } else {\n        if (!this.gos.get(\"enableGroupEdit\")) {\n          return false;\n        }\n      }\n    }\n    return this.isColumnFunc(rowNode, this.colDef.editable);\n  }\n  isSuppressFillHandle() {\n    return !!this.colDef.suppressFillHandle;\n  }\n  isAutoHeight() {\n    return !!this.colDef.autoHeight;\n  }\n  isAutoHeaderHeight() {\n    return !!this.colDef.autoHeaderHeight;\n  }\n  isRowDrag(rowNode) {\n    return this.isColumnFunc(rowNode, this.colDef.rowDrag);\n  }\n  isDndSource(rowNode) {\n    return this.isColumnFunc(rowNode, this.colDef.dndSource);\n  }\n  isCellCheckboxSelection(rowNode) {\n    const so = this.gos.get(\"rowSelection\");\n    if (so && typeof so !== \"string\") {\n      const checkbox = isColumnControlsCol(this) && _getCheckboxes(so);\n      return this.isColumnFunc(rowNode, checkbox);\n    } else {\n      return this.isColumnFunc(rowNode, this.colDef.checkboxSelection);\n    }\n  }\n  isSuppressPaste(rowNode) {\n    return this.isColumnFunc(rowNode, this.colDef ? this.colDef.suppressPaste : null);\n  }\n  isResizable() {\n    return !!this.getColDefValue(\"resizable\");\n  }\n  /** Get value from ColDef or default if it exists. */\n  getColDefValue(key) {\n    return this.colDef[key] ?? COL_DEF_DEFAULTS[key];\n  }\n  isColumnFunc(rowNode, value) {\n    if (typeof value === \"boolean\") {\n      return value;\n    }\n    if (typeof value === \"function\") {\n      const params = this.createColumnFunctionCallbackParams(rowNode);\n      const editableFunc = value;\n      return editableFunc(params);\n    }\n    return false;\n  }\n  setHighlighted(highlighted) {\n    if (this.highlighted === highlighted) {\n      return;\n    }\n    this.highlighted = highlighted;\n    this.columnEventService.dispatchEvent(this.createColumnEvent(\"headerHighlightChanged\", \"uiColumnMoved\"));\n  }\n  setMoving(moving, source) {\n    this.moving = moving;\n    this.columnEventService.dispatchEvent(this.createColumnEvent(\"movingChanged\", source));\n  }\n  createColumnEvent(type, source) {\n    return this.gos.addGridCommonParams({\n      type,\n      column: this,\n      columns: [this],\n      source\n    });\n  }\n  isMoving() {\n    return this.moving;\n  }\n  getSort() {\n    return this.sort;\n  }\n  setSort(sort, source) {\n    if (this.sort !== sort) {\n      this.sort = sort;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"sortChanged\", source));\n    }\n    this.dispatchStateUpdatedEvent(\"sort\");\n  }\n  isSortable() {\n    return !!this.getColDefValue(\"sortable\");\n  }\n  /** @deprecated v32 use col.getSort() === 'asc */\n  isSortAscending() {\n    return this.sort === \"asc\";\n  }\n  /** @deprecated v32 use col.getSort() === 'desc */\n  isSortDescending() {\n    return this.sort === \"desc\";\n  }\n  /** @deprecated v32 use col.getSort() === undefined */\n  isSortNone() {\n    return _missing(this.sort);\n  }\n  /** @deprecated v32 use col.getSort() !== undefined */\n  isSorting() {\n    return _exists(this.sort);\n  }\n  getSortIndex() {\n    return this.sortIndex;\n  }\n  setSortIndex(sortOrder) {\n    this.sortIndex = sortOrder;\n    this.dispatchStateUpdatedEvent(\"sortIndex\");\n  }\n  setMenuVisible(visible, source) {\n    if (this.menuVisible !== visible) {\n      this.menuVisible = visible;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"menuVisibleChanged\", source));\n    }\n  }\n  isMenuVisible() {\n    return this.menuVisible;\n  }\n  setAggFunc(aggFunc) {\n    this.aggFunc = aggFunc;\n    this.dispatchStateUpdatedEvent(\"aggFunc\");\n  }\n  getAggFunc() {\n    return this.aggFunc;\n  }\n  getLeft() {\n    return this.left;\n  }\n  getOldLeft() {\n    return this.oldLeft;\n  }\n  getRight() {\n    return this.left + this.actualWidth;\n  }\n  setLeft(left, source) {\n    this.oldLeft = this.left;\n    if (this.left !== left) {\n      this.left = left;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"leftChanged\", source));\n    }\n  }\n  isFilterActive() {\n    return this.filterActive;\n  }\n  // additionalEventAttributes is used by provided simple floating filter, so it can add 'floatingFilter=true' to the event\n  setFilterActive(active, source, additionalEventAttributes) {\n    if (this.filterActive !== active) {\n      this.filterActive = active;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"filterActiveChanged\", source));\n    }\n    const filterChangedEvent = this.createColumnEvent(\"filterChanged\", source);\n    if (additionalEventAttributes) {\n      _mergeDeep(filterChangedEvent, additionalEventAttributes);\n    }\n    this.columnEventService.dispatchEvent(filterChangedEvent);\n  }\n  isHovered() {\n    return this.columnHoverService.isHovered(this);\n  }\n  setPinned(pinned) {\n    if (pinned === true || pinned === \"left\") {\n      this.pinned = \"left\";\n    } else if (pinned === \"right\") {\n      this.pinned = \"right\";\n    } else {\n      this.pinned = null;\n    }\n    this.dispatchStateUpdatedEvent(\"pinned\");\n  }\n  setFirstRightPinned(firstRightPinned, source) {\n    if (this.firstRightPinned !== firstRightPinned) {\n      this.firstRightPinned = firstRightPinned;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"firstRightPinnedChanged\", source));\n    }\n  }\n  setLastLeftPinned(lastLeftPinned, source) {\n    if (this.lastLeftPinned !== lastLeftPinned) {\n      this.lastLeftPinned = lastLeftPinned;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"lastLeftPinnedChanged\", source));\n    }\n  }\n  isFirstRightPinned() {\n    return this.firstRightPinned;\n  }\n  isLastLeftPinned() {\n    return this.lastLeftPinned;\n  }\n  isPinned() {\n    return this.pinned === \"left\" || this.pinned === \"right\";\n  }\n  isPinnedLeft() {\n    return this.pinned === \"left\";\n  }\n  isPinnedRight() {\n    return this.pinned === \"right\";\n  }\n  getPinned() {\n    return this.pinned;\n  }\n  setVisible(visible, source) {\n    const newValue = visible === true;\n    if (this.visible !== newValue) {\n      this.visible = newValue;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"visibleChanged\", source));\n    }\n    this.dispatchStateUpdatedEvent(\"hide\");\n  }\n  isVisible() {\n    return this.visible;\n  }\n  isSpanHeaderHeight() {\n    const colDef = this.getColDef();\n    return !colDef.suppressSpanHeaderHeight;\n  }\n  getColumnGroupPaddingInfo() {\n    let parent = this.getParent();\n    if (!parent || !parent.isPadding()) {\n      return { numberOfParents: 0, isSpanningTotal: false };\n    }\n    const numberOfParents = parent.getPaddingLevel() + 1;\n    let isSpanningTotal = true;\n    while (parent) {\n      if (!parent.isPadding()) {\n        isSpanningTotal = false;\n        break;\n      }\n      parent = parent.getParent();\n    }\n    return { numberOfParents, isSpanningTotal };\n  }\n  getColDef() {\n    return this.colDef;\n  }\n  getDefinition() {\n    return this.colDef;\n  }\n  getColumnGroupShow() {\n    return this.colDef.columnGroupShow;\n  }\n  getColId() {\n    return this.colId;\n  }\n  getId() {\n    return this.colId;\n  }\n  getUniqueId() {\n    return this.colId;\n  }\n  getActualWidth() {\n    return this.actualWidth;\n  }\n  getAutoHeaderHeight() {\n    return this.autoHeaderHeight;\n  }\n  /** Returns true if the header height has changed */\n  setAutoHeaderHeight(height) {\n    const changed = height !== this.autoHeaderHeight;\n    this.autoHeaderHeight = height;\n    return changed;\n  }\n  createBaseColDefParams(rowNode) {\n    const params = this.gos.addGridCommonParams({\n      node: rowNode,\n      data: rowNode.data,\n      colDef: this.colDef,\n      column: this\n    });\n    return params;\n  }\n  getColSpan(rowNode) {\n    if (_missing(this.colDef.colSpan)) {\n      return 1;\n    }\n    const params = this.createBaseColDefParams(rowNode);\n    const colSpan = this.colDef.colSpan(params);\n    return Math.max(colSpan, 1);\n  }\n  getRowSpan(rowNode) {\n    if (_missing(this.colDef.rowSpan)) {\n      return 1;\n    }\n    const params = this.createBaseColDefParams(rowNode);\n    const rowSpan = this.colDef.rowSpan(params);\n    return Math.max(rowSpan, 1);\n  }\n  setActualWidth(actualWidth, source, silent = false) {\n    actualWidth = Math.max(actualWidth, this.minWidth);\n    actualWidth = Math.min(actualWidth, this.maxWidth);\n    if (this.actualWidth !== actualWidth) {\n      this.actualWidth = actualWidth;\n      if (this.flex && source !== \"flex\" && source !== \"gridInitializing\") {\n        this.flex = null;\n      }\n      if (!silent) {\n        this.fireColumnWidthChangedEvent(source);\n      }\n    }\n    this.dispatchStateUpdatedEvent(\"width\");\n  }\n  fireColumnWidthChangedEvent(source) {\n    this.columnEventService.dispatchEvent(this.createColumnEvent(\"widthChanged\", source));\n  }\n  isGreaterThanMax(width) {\n    return width > this.maxWidth;\n  }\n  getMinWidth() {\n    return this.minWidth;\n  }\n  getMaxWidth() {\n    return this.maxWidth;\n  }\n  getFlex() {\n    return this.flex || 0;\n  }\n  // this method should only be used by the columnModel to\n  // change flex when required by the applyColumnState method.\n  setFlex(flex) {\n    if (this.flex !== flex) {\n      this.flex = flex;\n    }\n    this.dispatchStateUpdatedEvent(\"flex\");\n  }\n  setMinimum(source) {\n    this.setActualWidth(this.minWidth, source);\n  }\n  setRowGroupActive(rowGroup, source) {\n    if (this.rowGroupActive !== rowGroup) {\n      this.rowGroupActive = rowGroup;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"columnRowGroupChanged\", source));\n    }\n    this.dispatchStateUpdatedEvent(\"rowGroup\");\n  }\n  isRowGroupActive() {\n    return this.rowGroupActive;\n  }\n  setPivotActive(pivot, source) {\n    if (this.pivotActive !== pivot) {\n      this.pivotActive = pivot;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"columnPivotChanged\", source));\n    }\n    this.dispatchStateUpdatedEvent(\"pivot\");\n  }\n  isPivotActive() {\n    return this.pivotActive;\n  }\n  isAnyFunctionActive() {\n    return this.isPivotActive() || this.isRowGroupActive() || this.isValueActive();\n  }\n  isAnyFunctionAllowed() {\n    return this.isAllowPivot() || this.isAllowRowGroup() || this.isAllowValue();\n  }\n  setValueActive(value, source) {\n    if (this.aggregationActive !== value) {\n      this.aggregationActive = value;\n      this.columnEventService.dispatchEvent(this.createColumnEvent(\"columnValueChanged\", source));\n    }\n  }\n  isValueActive() {\n    return this.aggregationActive;\n  }\n  isAllowPivot() {\n    return this.colDef.enablePivot === true;\n  }\n  isAllowValue() {\n    return this.colDef.enableValue === true;\n  }\n  isAllowRowGroup() {\n    return this.colDef.enableRowGroup === true;\n  }\n  dispatchStateUpdatedEvent(key) {\n    this.columnEventService.dispatchEvent({\n      type: \"columnStateUpdated\",\n      key\n    });\n  }\n};\n\n// community-modules/core/src/entities/defaultColumnTypes.ts\nvar DefaultColumnTypes = {\n  numericColumn: {\n    headerClass: \"ag-right-aligned-header\",\n    cellClass: \"ag-right-aligned-cell\"\n  },\n  rightAligned: {\n    headerClass: \"ag-right-aligned-header\",\n    cellClass: \"ag-right-aligned-cell\"\n  }\n};\n\n// community-modules/core/src/columns/columnKeyCreator.ts\nvar ColumnKeyCreator = class {\n  constructor() {\n    this.existingKeys = {};\n  }\n  addExistingKeys(keys) {\n    for (let i = 0; i < keys.length; i++) {\n      this.existingKeys[keys[i]] = true;\n    }\n  }\n  getUniqueKey(colId, colField) {\n    colId = _toStringOrNull(colId);\n    let count = 0;\n    while (true) {\n      let idToTry;\n      if (colId) {\n        idToTry = colId;\n        if (count !== 0) {\n          idToTry += \"_\" + count;\n        }\n      } else if (colField) {\n        idToTry = colField;\n        if (count !== 0) {\n          idToTry += \"_\" + count;\n        }\n      } else {\n        idToTry = count;\n      }\n      if (!this.existingKeys[idToTry]) {\n        this.existingKeys[idToTry] = true;\n        return String(idToTry);\n      }\n      count++;\n    }\n  }\n};\n\n// community-modules/core/src/columns/columnFactory.ts\nvar ColumnFactory = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnFactory\";\n  }\n  wireBeans(beans) {\n    this.dataTypeService = beans.dataTypeService;\n  }\n  createColumnTree(defs, primaryColumns, existingTree, source) {\n    const columnKeyCreator = new ColumnKeyCreator();\n    const { existingCols, existingGroups, existingColKeys } = this.extractExistingTreeData(existingTree);\n    columnKeyCreator.addExistingKeys(existingColKeys);\n    const unbalancedTree = this.recursivelyCreateColumns(\n      defs,\n      0,\n      primaryColumns,\n      existingCols,\n      columnKeyCreator,\n      existingGroups,\n      source\n    );\n    const treeDept = this.findMaxDept(unbalancedTree, 0);\n    const columnTree = this.balanceColumnTree(unbalancedTree, 0, treeDept, columnKeyCreator);\n    const deptFirstCallback = (child, parent) => {\n      if (isProvidedColumnGroup(child)) {\n        child.setupExpandable();\n      }\n      child.setOriginalParent(parent);\n    };\n    depthFirstOriginalTreeSearch(null, columnTree, deptFirstCallback);\n    return {\n      columnTree,\n      treeDept\n    };\n  }\n  extractExistingTreeData(existingTree) {\n    const existingCols = [];\n    const existingGroups = [];\n    const existingColKeys = [];\n    if (existingTree) {\n      depthFirstOriginalTreeSearch(null, existingTree, (item) => {\n        if (isProvidedColumnGroup(item)) {\n          const group = item;\n          existingGroups.push(group);\n        } else {\n          const col = item;\n          existingColKeys.push(col.getId());\n          existingCols.push(col);\n        }\n      });\n    }\n    return { existingCols, existingGroups, existingColKeys };\n  }\n  /**\n   * Inserts dummy group columns in the hierarchy above auto-generated columns\n   * in order to ensure auto-generated columns are leaf nodes (and therefore are\n   * displayed correctly)\n   */\n  balanceTreeForAutoCols(autoCols, liveTree) {\n    const tree = [];\n    const dept = this.findDepth(liveTree);\n    autoCols.forEach((col) => {\n      let nextChild = col;\n      for (let i = dept - 1; i >= 0; i--) {\n        const autoGroup = new AgProvidedColumnGroup(null, `FAKE_PATH_${col.getId()}}_${i}`, true, i);\n        this.createBean(autoGroup);\n        autoGroup.setChildren([nextChild]);\n        nextChild.setOriginalParent(autoGroup);\n        nextChild = autoGroup;\n      }\n      if (dept === 0) {\n        col.setOriginalParent(null);\n      }\n      tree.push(nextChild);\n    });\n    return [tree, dept];\n  }\n  findDepth(balancedColumnTree) {\n    let dept = 0;\n    let pointer = balancedColumnTree;\n    while (pointer && pointer[0] && isProvidedColumnGroup(pointer[0])) {\n      dept++;\n      pointer = pointer[0].getChildren();\n    }\n    return dept;\n  }\n  balanceColumnTree(unbalancedTree, currentDept, columnDept, columnKeyCreator) {\n    const result = [];\n    for (let i = 0; i < unbalancedTree.length; i++) {\n      const child = unbalancedTree[i];\n      if (isProvidedColumnGroup(child)) {\n        const originalGroup = child;\n        const newChildren = this.balanceColumnTree(\n          originalGroup.getChildren(),\n          currentDept + 1,\n          columnDept,\n          columnKeyCreator\n        );\n        originalGroup.setChildren(newChildren);\n        result.push(originalGroup);\n      } else {\n        let firstPaddedGroup;\n        let currentPaddedGroup;\n        for (let j = columnDept - 1; j >= currentDept; j--) {\n          const newColId = columnKeyCreator.getUniqueKey(null, null);\n          const colGroupDefMerged = this.createMergedColGroupDef(null);\n          const paddedGroup = new AgProvidedColumnGroup(colGroupDefMerged, newColId, true, currentDept);\n          this.createBean(paddedGroup);\n          if (currentPaddedGroup) {\n            currentPaddedGroup.setChildren([paddedGroup]);\n          }\n          currentPaddedGroup = paddedGroup;\n          if (!firstPaddedGroup) {\n            firstPaddedGroup = currentPaddedGroup;\n          }\n        }\n        if (firstPaddedGroup && currentPaddedGroup) {\n          result.push(firstPaddedGroup);\n          const hasGroups = unbalancedTree.some((leaf) => isProvidedColumnGroup(leaf));\n          if (hasGroups) {\n            currentPaddedGroup.setChildren([child]);\n            continue;\n          } else {\n            currentPaddedGroup.setChildren(unbalancedTree);\n            break;\n          }\n        }\n        result.push(child);\n      }\n    }\n    return result;\n  }\n  findMaxDept(treeChildren, dept) {\n    let maxDeptThisLevel = dept;\n    for (let i = 0; i < treeChildren.length; i++) {\n      const abstractColumn = treeChildren[i];\n      if (isProvidedColumnGroup(abstractColumn)) {\n        const originalGroup = abstractColumn;\n        const newDept = this.findMaxDept(originalGroup.getChildren(), dept + 1);\n        if (maxDeptThisLevel < newDept) {\n          maxDeptThisLevel = newDept;\n        }\n      }\n    }\n    return maxDeptThisLevel;\n  }\n  recursivelyCreateColumns(defs, level, primaryColumns, existingColsCopy, columnKeyCreator, existingGroups, source) {\n    if (!defs)\n      return [];\n    const result = new Array(defs.length);\n    for (let i = 0; i < result.length; i++) {\n      const def = defs[i];\n      if (this.isColumnGroup(def)) {\n        result[i] = this.createColumnGroup(\n          primaryColumns,\n          def,\n          level,\n          existingColsCopy,\n          columnKeyCreator,\n          existingGroups,\n          source\n        );\n      } else {\n        result[i] = this.createColumn(\n          primaryColumns,\n          def,\n          existingColsCopy,\n          columnKeyCreator,\n          source\n        );\n      }\n    }\n    return result;\n  }\n  createColumnGroup(primaryColumns, colGroupDef, level, existingColumns, columnKeyCreator, existingGroups, source) {\n    const colGroupDefMerged = this.createMergedColGroupDef(colGroupDef);\n    const groupId = columnKeyCreator.getUniqueKey(colGroupDefMerged.groupId || null, null);\n    const providedGroup = new AgProvidedColumnGroup(colGroupDefMerged, groupId, false, level);\n    this.createBean(providedGroup);\n    const existingGroupAndIndex = this.findExistingGroup(colGroupDef, existingGroups);\n    if (existingGroupAndIndex) {\n      existingGroups.splice(existingGroupAndIndex.idx, 1);\n    }\n    const existingGroup = existingGroupAndIndex?.group;\n    if (existingGroup) {\n      providedGroup.setExpanded(existingGroup.isExpanded());\n    }\n    const children = this.recursivelyCreateColumns(\n      colGroupDefMerged.children,\n      level + 1,\n      primaryColumns,\n      existingColumns,\n      columnKeyCreator,\n      existingGroups,\n      source\n    );\n    providedGroup.setChildren(children);\n    return providedGroup;\n  }\n  createMergedColGroupDef(colGroupDef) {\n    const colGroupDefMerged = {};\n    Object.assign(colGroupDefMerged, this.gos.get(\"defaultColGroupDef\"));\n    Object.assign(colGroupDefMerged, colGroupDef);\n    return colGroupDefMerged;\n  }\n  createColumn(primaryColumns, colDef, existingColsCopy, columnKeyCreator, source) {\n    const existingColAndIndex = this.findExistingColumn(colDef, existingColsCopy);\n    if (existingColAndIndex) {\n      existingColsCopy?.splice(existingColAndIndex.idx, 1);\n    }\n    let column = existingColAndIndex?.column;\n    if (!column) {\n      const colId = columnKeyCreator.getUniqueKey(colDef.colId, colDef.field);\n      const colDefMerged = this.addColumnDefaultAndTypes(colDef, colId);\n      column = new AgColumn(colDefMerged, colDef, colId, primaryColumns);\n      this.createBean(column);\n    } else {\n      const colDefMerged = this.addColumnDefaultAndTypes(colDef, column.getColId());\n      column.setColDef(colDefMerged, colDef, source);\n      this.applyColumnState(column, colDefMerged, source);\n    }\n    this.dataTypeService?.addColumnListeners(column);\n    return column;\n  }\n  applyColumnState(column, colDef, source) {\n    const flex = _attrToNumber(colDef.flex);\n    if (flex !== void 0) {\n      column.setFlex(flex);\n    }\n    const noFlexThisCol = column.getFlex() <= 0;\n    if (noFlexThisCol) {\n      const width = _attrToNumber(colDef.width);\n      if (width != null) {\n        column.setActualWidth(width, source);\n      } else {\n        const widthBeforeUpdate = column.getActualWidth();\n        column.setActualWidth(widthBeforeUpdate, source);\n      }\n    }\n    if (colDef.sort !== void 0) {\n      if (colDef.sort == \"asc\" || colDef.sort == \"desc\") {\n        column.setSort(colDef.sort, source);\n      } else {\n        column.setSort(void 0, source);\n      }\n    }\n    const sortIndex = _attrToNumber(colDef.sortIndex);\n    if (sortIndex !== void 0) {\n      column.setSortIndex(sortIndex);\n    }\n    const hide = _attrToBoolean(colDef.hide);\n    if (hide !== void 0) {\n      column.setVisible(!hide, source);\n    }\n    if (colDef.pinned !== void 0) {\n      column.setPinned(colDef.pinned);\n    }\n  }\n  findExistingColumn(newColDef, existingColsCopy) {\n    if (!existingColsCopy)\n      return void 0;\n    for (let i = 0; i < existingColsCopy.length; i++) {\n      const def = existingColsCopy[i].getUserProvidedColDef();\n      if (!def)\n        continue;\n      const newHasId = newColDef.colId != null;\n      if (newHasId) {\n        if (existingColsCopy[i].getId() === newColDef.colId) {\n          return { idx: i, column: existingColsCopy[i] };\n        }\n        continue;\n      }\n      const newHasField = newColDef.field != null;\n      if (newHasField) {\n        if (def.field === newColDef.field) {\n          return { idx: i, column: existingColsCopy[i] };\n        }\n        continue;\n      }\n      if (def === newColDef) {\n        return { idx: i, column: existingColsCopy[i] };\n      }\n    }\n    return void 0;\n  }\n  findExistingGroup(newGroupDef, existingGroups) {\n    const newHasId = newGroupDef.groupId != null;\n    if (!newHasId) {\n      return void 0;\n    }\n    for (let i = 0; i < existingGroups.length; i++) {\n      const existingGroup = existingGroups[i];\n      const existingDef = existingGroup.getColGroupDef();\n      if (!existingDef) {\n        continue;\n      }\n      if (existingGroup.getId() === newGroupDef.groupId) {\n        return { idx: i, group: existingGroup };\n      }\n    }\n    return void 0;\n  }\n  addColumnDefaultAndTypes(colDef, colId) {\n    const res = {};\n    const defaultColDef = this.gos.get(\"defaultColDef\");\n    _mergeDeep(res, defaultColDef, false, true);\n    const columnType = this.updateColDefAndGetColumnType(res, colDef, colId);\n    if (columnType) {\n      this.assignColumnTypes(columnType, res);\n    }\n    _mergeDeep(res, colDef, false, true);\n    const autoGroupColDef = this.gos.get(\"autoGroupColumnDef\");\n    const isSortingCoupled = _isColumnsSortingCoupledToGroup(this.gos);\n    if (colDef.rowGroup && autoGroupColDef && isSortingCoupled) {\n      _mergeDeep(\n        res,\n        { sort: autoGroupColDef.sort, initialSort: autoGroupColDef.initialSort },\n        false,\n        true\n      );\n    }\n    this.dataTypeService?.validateColDef(res);\n    return res;\n  }\n  updateColDefAndGetColumnType(colDef, userColDef, colId) {\n    const dataTypeDefinitionColumnType = this.dataTypeService?.updateColDefAndGetColumnType(\n      colDef,\n      userColDef,\n      colId\n    );\n    const columnTypes = userColDef.type ?? dataTypeDefinitionColumnType ?? colDef.type;\n    colDef.type = columnTypes;\n    return columnTypes ? convertColumnTypes(columnTypes) : void 0;\n  }\n  assignColumnTypes(typeKeys, colDefMerged) {\n    if (!typeKeys.length) {\n      return;\n    }\n    const allColumnTypes = Object.assign({}, DefaultColumnTypes);\n    const userTypes = this.gos.get(\"columnTypes\") || {};\n    _iterateObject(userTypes, (key, value) => {\n      if (key in allColumnTypes) {\n        _warnOnce(`the column type '${key}' is a default column type and cannot be overridden.`);\n      } else {\n        const colType = value;\n        if (colType.type) {\n          _warnOnce(\n            `Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.`\n          );\n        }\n        allColumnTypes[key] = value;\n      }\n    });\n    typeKeys.forEach((t) => {\n      const typeColDef = allColumnTypes[t.trim()];\n      if (typeColDef) {\n        _mergeDeep(colDefMerged, typeColDef, false, true);\n      } else {\n        _warnOnce(\"colDef.type '\" + t + \"' does not correspond to defined gridOptions.columnTypes\");\n      }\n    });\n  }\n  // if object has children, we assume it's a group\n  isColumnGroup(abstractColDef) {\n    return abstractColDef.children !== void 0;\n  }\n};\nfunction depthFirstOriginalTreeSearch(parent, tree, callback) {\n  if (!tree) {\n    return;\n  }\n  for (let i = 0; i < tree.length; i++) {\n    const child = tree[i];\n    if (isProvidedColumnGroup(child)) {\n      depthFirstOriginalTreeSearch(child, child.getChildren(), callback);\n    }\n    callback(child, parent);\n  }\n}\n\n// community-modules/core/src/columns/columnModel.ts\nvar ColumnModel = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnModel\";\n    // if pivotMode is on, however pivot results are NOT shown if no pivot columns are set\n    this.pivotMode = false;\n    this.autoHeightActiveAtLeastOnce = false;\n    this.ready = false;\n    this.changeEventsDispatching = false;\n    // when we're waiting for cell data types to be inferred, we need to defer column resizing\n    this.shouldQueueResizeOperations = false;\n    this.resizeOperationQueue = [];\n  }\n  wireBeans(beans) {\n    this.context = beans.context;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnFactory = beans.columnFactory;\n    this.columnSizeService = beans.columnSizeService;\n    this.visibleColsService = beans.visibleColsService;\n    this.columnViewportService = beans.columnViewportService;\n    this.pivotResultColsService = beans.pivotResultColsService;\n    this.columnAnimationService = beans.columnAnimationService;\n    this.autoColService = beans.autoColService;\n    this.controlsColService = beans.controlsColService;\n    this.valueCache = beans.valueCache;\n    this.columnDefFactory = beans.columnDefFactory;\n    this.columnApplyStateService = beans.columnApplyStateService;\n    this.columnGroupStateService = beans.columnGroupStateService;\n    this.eventDispatcher = beans.columnEventDispatcher;\n    this.columnMoveService = beans.columnMoveService;\n    this.columnAutosizeService = beans.columnAutosizeService;\n    this.funcColsService = beans.funcColsService;\n    this.quickFilterService = beans.quickFilterService;\n    this.showRowGroupColsService = beans.showRowGroupColsService;\n    this.environment = beans.environment;\n  }\n  postConstruct() {\n    const pivotMode = this.gos.get(\"pivotMode\");\n    if (this.isPivotSettingAllowed(pivotMode)) {\n      this.pivotMode = pivotMode;\n    }\n    this.addManagedPropertyListeners(\n      [\"groupDisplayType\", \"treeData\", \"treeDataDisplayType\", \"groupHideOpenParents\"],\n      (event) => this.refreshAll(convertSourceType(event.source))\n    );\n    this.addManagedPropertyListener(\"rowSelection\", (event) => {\n      this.onSelectionOptionsChanged(event.currentValue, event.previousValue, convertSourceType(event.source));\n    });\n    this.addManagedPropertyListener(\n      \"autoGroupColumnDef\",\n      (event) => this.onAutoGroupColumnDefChanged(convertSourceType(event.source))\n    );\n    this.addManagedPropertyListeners(\n      [\"defaultColDef\", \"defaultColGroupDef\", \"columnTypes\", \"suppressFieldDotNotation\"],\n      (event) => this.recreateColumnDefs(convertSourceType(event.source))\n    );\n    this.addManagedPropertyListener(\n      \"pivotMode\",\n      (event) => this.setPivotMode(this.gos.get(\"pivotMode\"), convertSourceType(event.source))\n    );\n    this.addManagedEventListeners({ firstDataRendered: () => this.onFirstDataRendered() });\n  }\n  // called from SyncService, when grid has finished initialising\n  createColsFromColDefs(source) {\n    const dispatchEventsFunc = this.colDefs ? this.columnApplyStateService.compareColumnStatesAndDispatchEvents(source) : void 0;\n    this.valueCache.expire();\n    const oldCols = this.colDefCols?.list;\n    const oldTree = this.colDefCols?.tree;\n    const newTree = this.columnFactory.createColumnTree(this.colDefs, true, oldTree, source);\n    destroyColumnTree(this.context, this.colDefCols?.tree, newTree.columnTree);\n    const tree = newTree.columnTree;\n    const treeDepth = newTree.treeDept;\n    const list = getColumnsFromTree(tree);\n    const map = {};\n    list.forEach((col) => map[col.getId()] = col);\n    this.colDefCols = { tree, treeDepth, list, map };\n    this.funcColsService.extractCols(source, oldCols);\n    this.ready = true;\n    this.refreshCols(true);\n    this.visibleColsService.refresh(source);\n    this.columnViewportService.checkViewportColumns();\n    this.eventDispatcher.everythingChanged(source);\n    if (dispatchEventsFunc) {\n      this.changeEventsDispatching = true;\n      dispatchEventsFunc();\n      this.changeEventsDispatching = false;\n    }\n    this.eventDispatcher.newColumnsLoaded(source);\n    if (source === \"gridInitializing\") {\n      this.columnSizeService.applyAutosizeStrategy();\n    }\n  }\n  // called from: buildAutoGroupColumns (events 'groupDisplayType', 'treeData', 'treeDataDisplayType', 'groupHideOpenParents')\n  // createColsFromColDefs (recreateColumnDefs, setColumnsDefs),\n  // setPivotMode, applyColumnState,\n  // functionColsService.setPrimaryColList, functionColsService.updatePrimaryColList,\n  // pivotResultColsService.setPivotResultCols\n  refreshCols(newColDefs) {\n    if (!this.colDefCols) {\n      return;\n    }\n    const prevColTree = this.cols?.tree;\n    this.saveColOrder();\n    this.selectCols();\n    this.createAutoCols();\n    this.addAutoCols();\n    this.createControlsCols();\n    this.addControlsCols();\n    const shouldSortNewColDefs = _shouldMaintainColumnOrder(this.gos, this.showingPivotResult);\n    if (!newColDefs || shouldSortNewColDefs) {\n      this.restoreColOrder();\n    }\n    this.positionLockedCols();\n    this.showRowGroupColsService?.refresh();\n    this.quickFilterService?.refreshQuickFilterCols();\n    this.setColSpanActive();\n    this.setAutoHeightActive();\n    this.visibleColsService.clear();\n    this.columnViewportService.clear();\n    const dispatchChangedEvent = !_areEqual(prevColTree, this.cols.tree);\n    if (dispatchChangedEvent) {\n      this.eventDispatcher.gridColumns();\n    }\n  }\n  selectCols() {\n    const pivotResultCols = this.pivotResultColsService.getPivotResultCols();\n    this.showingPivotResult = pivotResultCols != null;\n    if (pivotResultCols) {\n      const { map, list, tree, treeDepth } = pivotResultCols;\n      this.cols = {\n        list: list.slice(),\n        map: { ...map },\n        tree: tree.slice(),\n        treeDepth\n      };\n      const hasSameColumns = pivotResultCols.list.some((col) => this.cols?.map[col.getColId()] !== void 0);\n      if (!hasSameColumns) {\n        this.lastPivotOrder = null;\n      }\n    } else {\n      const { map, list, tree, treeDepth } = this.colDefCols;\n      this.cols = {\n        list: list.slice(),\n        map: { ...map },\n        tree: tree.slice(),\n        treeDepth\n      };\n    }\n  }\n  getColsToShow() {\n    const showAutoGroupAndValuesOnly = this.isPivotMode() && !this.isShowingPivotResult();\n    const valueColumns = this.funcColsService.getValueColumns();\n    const showSelectionCol = this.controlsColService?.isControlsColEnabled();\n    const res = this.cols.list.filter((col) => {\n      const isAutoGroupCol = isColumnGroupAutoCol(col);\n      if (showAutoGroupAndValuesOnly) {\n        const isValueCol = valueColumns && _includes(valueColumns, col);\n        return isAutoGroupCol || isValueCol || showSelectionCol && isColumnControlsCol(col);\n      } else {\n        return isAutoGroupCol || col.isVisible();\n      }\n    });\n    return res;\n  }\n  addAutoCols() {\n    if (this.autoCols == null) {\n      return;\n    }\n    this.cols.list = this.autoCols.list.concat(this.cols.list);\n    this.cols.tree = this.autoCols.tree.concat(this.cols.tree);\n    updateColsMap(this.cols);\n  }\n  createAutoCols() {\n    const groupFullWidthRow = _isGroupUseEntireRow(this.gos, this.pivotMode);\n    const suppressAutoColumn = this.pivotMode ? this.gos.get(\"pivotSuppressAutoColumn\") : this.isSuppressAutoCol();\n    const rowGroupCols = this.funcColsService.getRowGroupColumns();\n    const groupingActive = rowGroupCols.length > 0 || this.gos.get(\"treeData\");\n    const noAutoCols = !groupingActive || suppressAutoColumn || groupFullWidthRow;\n    const destroyPrevious = () => {\n      if (this.autoCols) {\n        destroyColumnTree(this.context, this.autoCols.tree);\n        this.autoCols = null;\n      }\n    };\n    if (noAutoCols || !this.autoColService) {\n      destroyPrevious();\n      return;\n    }\n    const list = this.autoColService.createAutoCols(rowGroupCols) ?? [];\n    const autoColsSame = areColIdsEqual(list, this.autoCols?.list || null);\n    const newTreeDepth = this.cols.treeDepth;\n    const oldTreeDepth = this.autoCols ? this.autoCols.treeDepth : -1;\n    const treeDeptSame = oldTreeDepth == newTreeDepth;\n    if (autoColsSame && treeDeptSame) {\n      return;\n    }\n    destroyPrevious();\n    const [tree, treeDepth] = this.columnFactory.balanceTreeForAutoCols(list, this.cols.tree);\n    this.autoCols = {\n      list,\n      tree,\n      treeDepth,\n      map: {}\n    };\n    const putAutocolsFirstInList = (cols) => {\n      if (!cols) {\n        return null;\n      }\n      const colsFiltered = cols.filter((col) => !isColumnGroupAutoCol(col));\n      return [...list, ...colsFiltered];\n    };\n    this.lastOrder = putAutocolsFirstInList(this.lastOrder);\n    this.lastPivotOrder = putAutocolsFirstInList(this.lastPivotOrder);\n  }\n  createControlsCols() {\n    const destroyCollection = () => {\n      destroyColumnTree(this.context, this.controlsCols?.tree);\n      this.controlsCols = null;\n    };\n    if (!this.controlsColService) {\n      destroyCollection();\n    }\n    const newTreeDepth = this.cols.treeDepth;\n    const oldTreeDepth = this.controlsCols?.treeDepth ?? -1;\n    const treeDeptSame = oldTreeDepth == newTreeDepth;\n    const list = this.controlsColService?.createControlsCols() ?? [];\n    const areSame = areColIdsEqual(list, this.controlsCols?.list ?? []);\n    if (areSame && treeDeptSame) {\n      return;\n    }\n    destroyCollection();\n    const [tree, treeDepth] = this.columnFactory.balanceTreeForAutoCols(list, this.cols.tree);\n    this.controlsCols = {\n      list,\n      tree,\n      treeDepth,\n      map: {}\n    };\n    const putControlscolsFirstInList = (cols) => {\n      if (!cols) {\n        return null;\n      }\n      const colsFiltered = cols.filter((col) => !isColumnControlsCol(col));\n      return [...list, ...colsFiltered];\n    };\n    this.lastOrder = putControlscolsFirstInList(this.lastOrder);\n    this.lastPivotOrder = putControlscolsFirstInList(this.lastPivotOrder);\n  }\n  addControlsCols() {\n    if (this.controlsCols == null) {\n      return;\n    }\n    this.cols.list = this.controlsCols.list.concat(this.cols.list);\n    this.cols.tree = this.controlsCols.tree.concat(this.cols.tree);\n    updateColsMap(this.cols);\n  }\n  // on events 'groupDisplayType', 'treeData', 'treeDataDisplayType', 'groupHideOpenParents'\n  refreshAll(source) {\n    if (!this.isReady()) {\n      return;\n    }\n    this.refreshCols(false);\n    this.visibleColsService.refresh(source);\n  }\n  setColsVisible(keys, visible = false, source) {\n    this.columnApplyStateService.applyColumnState(\n      {\n        state: keys.map((key) => ({\n          colId: typeof key === \"string\" ? key : key.getColId(),\n          hide: !visible\n        }))\n      },\n      source\n    );\n  }\n  setColsPinned(keys, pinned, source) {\n    if (!this.cols) {\n      return;\n    }\n    if (_missingOrEmpty(keys)) {\n      return;\n    }\n    if (_isDomLayout(this.gos, \"print\")) {\n      _warnOnce(`Changing the column pinning status is not allowed with domLayout='print'`);\n      return;\n    }\n    this.columnAnimationService.start();\n    let actualPinned;\n    if (pinned === true || pinned === \"left\") {\n      actualPinned = \"left\";\n    } else if (pinned === \"right\") {\n      actualPinned = \"right\";\n    } else {\n      actualPinned = null;\n    }\n    const updatedCols = [];\n    keys.forEach((key) => {\n      if (!key) {\n        return;\n      }\n      const column = this.getCol(key);\n      if (!column) {\n        return;\n      }\n      if (column.getPinned() !== actualPinned) {\n        column.setPinned(actualPinned);\n        updatedCols.push(column);\n      }\n    });\n    if (updatedCols.length) {\n      this.visibleColsService.refresh(source);\n      this.eventDispatcher.columnPinned(updatedCols, source);\n    }\n    this.columnAnimationService.finish();\n  }\n  // called by headerRenderer - when a header is opened or closed\n  setColumnGroupOpened(key, newValue, source) {\n    let keyAsString;\n    if (isProvidedColumnGroup(key)) {\n      keyAsString = key.getId();\n    } else {\n      keyAsString = key || \"\";\n    }\n    this.columnGroupStateService.setColumnGroupState([{ groupId: keyAsString, open: newValue }], source);\n  }\n  getProvidedColGroup(key) {\n    let res = null;\n    depthFirstOriginalTreeSearch(null, this.cols?.tree, (node) => {\n      if (isProvidedColumnGroup(node)) {\n        if (node.getId() === key) {\n          res = node;\n        }\n      }\n    });\n    return res;\n  }\n  isColGroupLocked(column) {\n    const groupLockGroupColumns = this.gos.get(\"groupLockGroupColumns\");\n    if (!column.isRowGroupActive() || groupLockGroupColumns === 0) {\n      return false;\n    }\n    if (groupLockGroupColumns === -1) {\n      return true;\n    }\n    const rowGroupCols = this.funcColsService.getRowGroupColumns();\n    const colIndex = rowGroupCols.findIndex((groupCol) => groupCol.getColId() === column.getColId());\n    return groupLockGroupColumns > colIndex;\n  }\n  isSuppressAutoCol() {\n    const groupDisplayType = this.gos.get(\"groupDisplayType\");\n    const isCustomRowGroups = groupDisplayType === \"custom\";\n    if (isCustomRowGroups) {\n      return true;\n    }\n    const treeDataDisplayType = this.gos.get(\"treeDataDisplayType\");\n    return treeDataDisplayType === \"custom\";\n  }\n  setAutoHeightActive() {\n    this.autoHeightActive = this.cols.list.some((col) => col.isVisible() && col.isAutoHeight());\n    if (this.autoHeightActive) {\n      this.autoHeightActiveAtLeastOnce = true;\n      const supportedRowModel = _isClientSideRowModel(this.gos) || _isServerSideRowModel(this.gos);\n      if (!supportedRowModel) {\n        _warnOnce(\"autoHeight columns only work with Client Side Row Model and Server Side Row Model.\");\n      }\n    }\n  }\n  restoreColOrder() {\n    const lastOrder = this.showingPivotResult ? this.lastPivotOrder : this.lastOrder;\n    if (!lastOrder) {\n      return;\n    }\n    const lastOrderMapped = new Map(lastOrder.map((col, index) => [col, index]));\n    const noColsFound = !this.cols.list.some((col) => lastOrderMapped.has(col));\n    if (noColsFound) {\n      return;\n    }\n    const colsMap = new Map(this.cols.list.map((col) => [col, true]));\n    const lastOrderFiltered = lastOrder.filter((col) => colsMap.has(col));\n    const lastOrderFilteredMap = new Map(lastOrderFiltered.map((col) => [col, true]));\n    const missingFromLastOrder = this.cols.list.filter((col) => !lastOrderFilteredMap.has(col));\n    const res = lastOrderFiltered.slice();\n    missingFromLastOrder.forEach((newCol) => {\n      let parent = newCol.getOriginalParent();\n      if (!parent) {\n        res.push(newCol);\n        return;\n      }\n      const siblings = [];\n      while (!siblings.length && parent) {\n        const leafCols = parent.getLeafColumns();\n        leafCols.forEach((leafCol) => {\n          const presentInNewCols = res.indexOf(leafCol) >= 0;\n          const notYetInSiblings = siblings.indexOf(leafCol) < 0;\n          if (presentInNewCols && notYetInSiblings) {\n            siblings.push(leafCol);\n          }\n        });\n        parent = parent.getOriginalParent();\n      }\n      if (!siblings.length) {\n        res.push(newCol);\n        return;\n      }\n      const indexes = siblings.map((col) => res.indexOf(col));\n      const lastIndex = Math.max(...indexes);\n      _insertIntoArray(res, newCol, lastIndex + 1);\n    });\n    this.cols.list = res;\n  }\n  sortColsLikeKeys(colIds) {\n    if (this.cols == null) {\n      return;\n    }\n    let newOrder = [];\n    const processedColIds = {};\n    colIds.forEach((colId) => {\n      if (processedColIds[colId]) {\n        return;\n      }\n      const col = this.cols.map[colId];\n      if (col) {\n        newOrder.push(col);\n        processedColIds[colId] = true;\n      }\n    });\n    let autoGroupInsertIndex = 0;\n    this.cols.list.forEach((col) => {\n      const colId = col.getColId();\n      const alreadyProcessed = processedColIds[colId] != null;\n      if (alreadyProcessed) {\n        return;\n      }\n      const isAutoGroupCol = colId.startsWith(GROUP_AUTO_COLUMN_ID);\n      if (isAutoGroupCol) {\n        _insertIntoArray(newOrder, col, autoGroupInsertIndex++);\n      } else {\n        newOrder.push(col);\n      }\n    });\n    newOrder = this.columnMoveService.placeLockedColumns(newOrder);\n    if (!this.columnMoveService.doesMovePassMarryChildren(newOrder)) {\n      _warnOnce(\n        \"Applying column order broke a group where columns should be married together. Applying new order has been discarded.\"\n      );\n      return;\n    }\n    this.cols.list = newOrder;\n  }\n  // returns the provided cols sorted in same order as they appear in this.cols, eg if this.cols\n  // contains [a,b,c,d,e] and col passed is [e,a] then the passed cols are sorted into [a,e]\n  sortColsLikeCols(cols) {\n    if (!cols || cols.length <= 1) {\n      return;\n    }\n    const notAllColsPresent = cols.filter((c) => this.cols.list.indexOf(c) < 0).length > 0;\n    if (notAllColsPresent) {\n      return;\n    }\n    cols.sort((a, b) => {\n      const indexA = this.cols.list.indexOf(a);\n      const indexB = this.cols.list.indexOf(b);\n      return indexA - indexB;\n    });\n  }\n  resetColDefIntoCol(column, source) {\n    const userColDef = column.getUserProvidedColDef();\n    if (!userColDef) {\n      return false;\n    }\n    const newColDef = this.columnFactory.addColumnDefaultAndTypes(userColDef, column.getColId());\n    column.setColDef(newColDef, userColDef, source);\n    return true;\n  }\n  queueResizeOperations() {\n    this.shouldQueueResizeOperations = true;\n  }\n  isShouldQueueResizeOperations() {\n    return this.shouldQueueResizeOperations;\n  }\n  processResizeOperations() {\n    this.shouldQueueResizeOperations = false;\n    this.resizeOperationQueue.forEach((resizeOperation) => resizeOperation());\n    this.resizeOperationQueue = [];\n  }\n  pushResizeOperation(func) {\n    this.resizeOperationQueue.push(func);\n  }\n  moveInCols(movedColumns, toIndex, source) {\n    _moveInArray(this.cols?.list, movedColumns, toIndex);\n    this.visibleColsService.refresh(source);\n  }\n  positionLockedCols() {\n    this.cols.list = this.columnMoveService.placeLockedColumns(this.cols.list);\n  }\n  saveColOrder() {\n    if (this.showingPivotResult) {\n      this.lastPivotOrder = this.cols?.list;\n    } else {\n      this.lastOrder = this.cols?.list;\n    }\n  }\n  getColumnDefs() {\n    if (!this.colDefCols) {\n      return;\n    }\n    const cols = this.colDefCols.list.slice();\n    if (this.showingPivotResult) {\n      cols.sort((a, b) => this.lastOrder.indexOf(a) - this.lastOrder.indexOf(b));\n    } else if (this.lastOrder) {\n      cols.sort((a, b) => this.cols.list.indexOf(a) - this.cols.list.indexOf(b));\n    }\n    const rowGroupColumns = this.funcColsService.getRowGroupColumns();\n    const pivotColumns = this.funcColsService.getPivotColumns();\n    return this.columnDefFactory.buildColumnDefs(cols, rowGroupColumns, pivotColumns);\n  }\n  isShowingPivotResult() {\n    return this.showingPivotResult;\n  }\n  // called by clientSideRowModel.refreshModel\n  isChangeEventsDispatching() {\n    return this.changeEventsDispatching;\n  }\n  isColSpanActive() {\n    return this.colSpanActive;\n  }\n  // used by Column Tool Panel\n  isProvidedColGroupsPresent() {\n    return this.colDefCols?.treeDepth > 0;\n  }\n  setColSpanActive() {\n    this.colSpanActive = this.cols.list.some((col) => col.getColDef().colSpan != null);\n  }\n  isAutoRowHeightActive() {\n    return this.autoHeightActive;\n  }\n  wasAutoRowHeightEverActive() {\n    return this.autoHeightActiveAtLeastOnce;\n  }\n  // + gridPanel -> for resizing the body and setting top margin\n  getHeaderRowCount() {\n    return this.cols ? this.cols.treeDepth + 1 : -1;\n  }\n  isReady() {\n    return this.ready;\n  }\n  isPivotMode() {\n    return this.pivotMode;\n  }\n  setPivotMode(pivotMode, source) {\n    if (pivotMode === this.pivotMode || !this.isPivotSettingAllowed(this.pivotMode)) {\n      return;\n    }\n    this.pivotMode = pivotMode;\n    if (!this.ready) {\n      return;\n    }\n    this.refreshCols(false);\n    this.visibleColsService.refresh(source);\n    this.eventDispatcher.pivotModeChanged();\n  }\n  isPivotSettingAllowed(pivot) {\n    if (pivot && this.gos.get(\"treeData\")) {\n      _warnOnce(\"Pivot mode not available with treeData.\");\n      return false;\n    }\n    return true;\n  }\n  // + clientSideRowModel\n  isPivotActive() {\n    const pivotColumns = this.funcColsService.getPivotColumns();\n    return this.pivotMode && !_missingOrEmpty(pivotColumns);\n  }\n  // called when dataTypes change\n  recreateColumnDefs(source) {\n    if (!this.cols) {\n      return;\n    }\n    if (this.autoCols) {\n      this.autoColService.updateAutoCols(this.autoCols.list, source);\n    }\n    this.createColsFromColDefs(source);\n  }\n  setColumnDefs(columnDefs, source) {\n    this.colDefs = columnDefs;\n    this.createColsFromColDefs(source);\n  }\n  destroy() {\n    destroyColumnTree(this.context, this.colDefCols?.tree);\n    destroyColumnTree(this.context, this.autoCols?.tree);\n    destroyColumnTree(this.context, this.controlsCols?.tree);\n    super.destroy();\n  }\n  getColTree() {\n    return this.cols.tree;\n  }\n  // + columnSelectPanel\n  getColDefColTree() {\n    return this.colDefCols.tree;\n  }\n  // + clientSideRowController -> sorting, building quick filter text\n  // + headerRenderer -> sorting (clearing icon)\n  getColDefCols() {\n    return this.colDefCols?.list ? this.colDefCols.list : null;\n  }\n  // + moveColumnController\n  getCols() {\n    return this.cols?.list ?? [];\n  }\n  // returns colDefCols, pivotResultCols and autoCols\n  getAllCols() {\n    const pivotResultCols = this.pivotResultColsService.getPivotResultCols();\n    const pivotResultColsList = pivotResultCols?.list;\n    return [\n      this.colDefCols?.list ?? [],\n      this.autoCols?.list ?? [],\n      this.controlsCols?.list ?? [],\n      pivotResultColsList ?? []\n    ].flat();\n  }\n  getColsForKeys(keys) {\n    if (!keys) {\n      return [];\n    }\n    return keys.map((key) => this.getCol(key)).filter((col) => col != null);\n  }\n  getColDefCol(key) {\n    if (!this.colDefCols?.list) {\n      return null;\n    }\n    return this.getColFromCollection(key, this.colDefCols);\n  }\n  getCol(key) {\n    if (key == null) {\n      return null;\n    }\n    return this.getColFromCollection(key, this.cols);\n  }\n  getColFromCollection(key, cols) {\n    if (cols == null) {\n      return null;\n    }\n    const { map, list } = cols;\n    if (typeof key == \"string\" && map[key]) {\n      return map[key];\n    }\n    for (let i = 0; i < list.length; i++) {\n      if (columnsMatch(list[i], key)) {\n        return list[i];\n      }\n    }\n    return this.getAutoCol(key);\n  }\n  getAutoCol(key) {\n    return this.autoCols?.list.find((groupCol) => columnsMatch(groupCol, key)) ?? null;\n  }\n  getAutoCols() {\n    return this.autoCols?.list ?? null;\n  }\n  setColHeaderHeight(col, height) {\n    const changed = col.setAutoHeaderHeight(height);\n    if (changed) {\n      if (col.isColumn) {\n        this.eventDispatcher.headerHeight(col);\n      } else {\n        this.eventDispatcher.groupHeaderHeight(col);\n      }\n    }\n  }\n  getGroupRowsHeight() {\n    const heights = [];\n    const headerRowContainerCtrls = this.ctrlsService.getHeaderRowContainerCtrls();\n    for (const headerRowContainerCtrl of headerRowContainerCtrls) {\n      if (!headerRowContainerCtrl) {\n        continue;\n      }\n      const groupRowCount = headerRowContainerCtrl.getGroupRowCount() || 0;\n      for (let i = 0; i < groupRowCount; i++) {\n        const headerRowCtrl = headerRowContainerCtrl.getGroupRowCtrlAtIndex(i);\n        const currentHeightAtPos = heights[i];\n        if (headerRowCtrl) {\n          const newHeight = this.getColumnGroupHeaderRowHeight(headerRowCtrl);\n          if (currentHeightAtPos == null || newHeight > currentHeightAtPos) {\n            heights[i] = newHeight;\n          }\n        }\n      }\n    }\n    return heights;\n  }\n  getColumnGroupHeaderRowHeight(headerRowCtrl) {\n    const defaultHeight = this.isPivotMode() ? this.getPivotGroupHeaderHeight() : this.getGroupHeaderHeight();\n    let displayedHeights = 0;\n    const headerRowCellCtrls = headerRowCtrl.getHeaderCtrls();\n    for (const headerCellCtrl of headerRowCellCtrls) {\n      const column = headerCellCtrl.getColumn();\n      if (column.isAutoHeaderHeight()) {\n        const height = column.getAutoHeaderHeight();\n        if (height != null && height > displayedHeights) {\n          displayedHeights = height;\n        }\n      }\n    }\n    return Math.max(defaultHeight, displayedHeights);\n  }\n  getColumnHeaderRowHeight() {\n    const defaultHeight = this.isPivotMode() ? this.getPivotHeaderHeight() : this.getHeaderHeight();\n    const allDisplayedCols = this.visibleColsService.getAllCols();\n    const displayedHeights = allDisplayedCols.filter((col) => col.isAutoHeaderHeight()).map((col) => col.getAutoHeaderHeight() || 0);\n    return Math.max(defaultHeight, ...displayedHeights);\n  }\n  getHeaderHeight() {\n    return this.gos.get(\"headerHeight\") ?? this.environment.getDefaultHeaderHeight();\n  }\n  getFloatingFiltersHeight() {\n    return this.gos.get(\"floatingFiltersHeight\") ?? this.getHeaderHeight();\n  }\n  getGroupHeaderHeight() {\n    return this.gos.get(\"groupHeaderHeight\") ?? this.getHeaderHeight();\n  }\n  getPivotHeaderHeight() {\n    return this.gos.get(\"pivotHeaderHeight\") ?? this.getHeaderHeight();\n  }\n  getPivotGroupHeaderHeight() {\n    return this.gos.get(\"pivotGroupHeaderHeight\") ?? this.getGroupHeaderHeight();\n  }\n  onFirstDataRendered() {\n    const autoSizeStrategy = this.gos.get(\"autoSizeStrategy\");\n    if (autoSizeStrategy?.type !== \"fitCellContents\") {\n      return;\n    }\n    const { colIds: columns, skipHeader } = autoSizeStrategy;\n    setTimeout(() => {\n      if (columns) {\n        this.columnAutosizeService.autoSizeCols({\n          colKeys: columns,\n          skipHeader,\n          source: \"autosizeColumns\"\n        });\n      } else {\n        this.columnAutosizeService.autoSizeAllColumns(\"autosizeColumns\", skipHeader);\n      }\n    });\n  }\n  onAutoGroupColumnDefChanged(source) {\n    if (this.autoCols) {\n      this.autoColService.updateAutoCols(this.autoCols.list, source);\n    }\n  }\n  onSelectionOptionsChanged(current, prev, source) {\n    const prevCheckbox = prev && typeof prev !== \"string\" ? _getCheckboxes(prev) : void 0;\n    const currCheckbox = current && typeof current !== \"string\" ? _getCheckboxes(current) : void 0;\n    const checkboxHasChanged = prevCheckbox !== currCheckbox;\n    const prevHeaderCheckbox = prev && typeof prev !== \"string\" ? _getHeaderCheckbox(prev) : void 0;\n    const currHeaderCheckbox = current && typeof current !== \"string\" ? _getHeaderCheckbox(current) : void 0;\n    const headerCheckboxHasChanged = prevHeaderCheckbox !== currHeaderCheckbox;\n    if (checkboxHasChanged || headerCheckboxHasChanged) {\n      this.refreshAll(source);\n    }\n  }\n};\nfunction convertSourceType(source) {\n  return source === \"gridOptionsUpdated\" ? \"gridOptionsChanged\" : source;\n}\nfunction updateColsMap(cols) {\n  cols.map = {};\n  cols.list.forEach((col) => cols.map[col.getId()] = col);\n}\nfunction columnsMatch(column, key) {\n  const columnMatches = column === key;\n  const colDefMatches = column.getColDef() === key;\n  const idMatches = column.getColId() == key;\n  return columnMatches || colDefMatches || idMatches;\n}\nfunction areColIdsEqual(colsA, colsB) {\n  return _areEqual(colsA, colsB, (a, b) => a.getColId() === b.getColId());\n}\n\n// community-modules/core/src/columns/columnAutosizeService.ts\nvar ColumnAutosizeService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnAutosizeService\";\n    this.timesDelayed = 0;\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.animationFrameService = beans.animationFrameService;\n    this.autoWidthCalculator = beans.autoWidthCalculator;\n    this.eventDispatcher = beans.columnEventDispatcher;\n    this.ctrlsService = beans.ctrlsService;\n    this.renderStatusService = beans.renderStatusService;\n  }\n  autoSizeCols(params) {\n    if (this.columnModel.isShouldQueueResizeOperations()) {\n      this.columnModel.pushResizeOperation(() => this.autoSizeCols(params));\n      return;\n    }\n    const { colKeys, skipHeader, skipHeaderGroups, stopAtGroup, source = \"api\" } = params;\n    this.animationFrameService.flushAllFrames();\n    if (this.timesDelayed < 5 && this.renderStatusService && !this.renderStatusService.areHeaderCellsRendered()) {\n      this.timesDelayed++;\n      setTimeout(() => this.autoSizeCols(params));\n      return;\n    }\n    this.timesDelayed = 0;\n    const columnsAutosized = [];\n    let changesThisTimeAround = -1;\n    const shouldSkipHeader = skipHeader != null ? skipHeader : this.gos.get(\"skipHeaderOnAutoSize\");\n    const shouldSkipHeaderGroups = skipHeaderGroups != null ? skipHeaderGroups : shouldSkipHeader;\n    while (changesThisTimeAround !== 0) {\n      changesThisTimeAround = 0;\n      const updatedColumns = [];\n      colKeys.forEach((key) => {\n        if (!key) {\n          return;\n        }\n        const column = this.columnModel.getCol(key);\n        if (!column) {\n          return;\n        }\n        if (columnsAutosized.indexOf(column) >= 0) {\n          return;\n        }\n        const preferredWidth = this.autoWidthCalculator.getPreferredWidthForColumn(column, shouldSkipHeader);\n        if (preferredWidth > 0) {\n          const newWidth = this.normaliseColumnWidth(column, preferredWidth);\n          column.setActualWidth(newWidth, source);\n          columnsAutosized.push(column);\n          changesThisTimeAround++;\n        }\n        updatedColumns.push(column);\n      });\n      if (!updatedColumns.length) {\n        continue;\n      }\n      this.visibleColsService.refresh(source);\n    }\n    if (!shouldSkipHeaderGroups) {\n      this.autoSizeColumnGroupsByColumns(colKeys, source, stopAtGroup);\n    }\n    this.eventDispatcher.columnResized(columnsAutosized, true, \"autosizeColumns\");\n  }\n  autoSizeColumn(key, source, skipHeader) {\n    if (key) {\n      this.autoSizeCols({ colKeys: [key], skipHeader, skipHeaderGroups: true, source });\n    }\n  }\n  autoSizeColumnGroupsByColumns(keys, source, stopAtGroup) {\n    const columnGroups = /* @__PURE__ */ new Set();\n    const columns = this.columnModel.getColsForKeys(keys);\n    columns.forEach((col) => {\n      let parent = col.getParent();\n      while (parent && parent != stopAtGroup) {\n        if (!parent.isPadding()) {\n          columnGroups.add(parent);\n        }\n        parent = parent.getParent();\n      }\n    });\n    let headerGroupCtrl;\n    const resizedColumns = [];\n    for (const columnGroup of columnGroups) {\n      for (const headerContainerCtrl of this.ctrlsService.getHeaderRowContainerCtrls()) {\n        headerGroupCtrl = headerContainerCtrl.getHeaderCtrlForColumn(columnGroup);\n        if (headerGroupCtrl) {\n          break;\n        }\n      }\n      if (headerGroupCtrl) {\n        headerGroupCtrl.resizeLeafColumnsToFit(source);\n      }\n    }\n    return resizedColumns;\n  }\n  autoSizeAllColumns(source, skipHeader) {\n    if (this.columnModel.isShouldQueueResizeOperations()) {\n      this.columnModel.pushResizeOperation(() => this.autoSizeAllColumns(source, skipHeader));\n      return;\n    }\n    const allDisplayedColumns = this.visibleColsService.getAllCols();\n    this.autoSizeCols({ colKeys: allDisplayedColumns, skipHeader, source });\n  }\n  // returns the width we can set to this col, taking into consideration min and max widths\n  normaliseColumnWidth(column, newWidth) {\n    const minWidth = column.getMinWidth();\n    if (newWidth < minWidth) {\n      newWidth = minWidth;\n    }\n    const maxWidth = column.getMaxWidth();\n    if (column.isGreaterThanMax(newWidth)) {\n      newWidth = maxWidth;\n    }\n    return newWidth;\n  }\n};\n\n// community-modules/core/src/columns/funcColsService.ts\nvar FuncColsService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"funcColsService\";\n    this.rowGroupCols = [];\n    this.valueCols = [];\n    this.pivotCols = [];\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.eventDispatcher = beans.columnEventDispatcher;\n    this.aggFuncService = beans.aggFuncService;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  getModifyColumnsNoEventsCallbacks() {\n    return {\n      addGroupCol: (column) => this.rowGroupCols.push(column),\n      removeGroupCol: (column) => _removeFromArray(this.rowGroupCols, column),\n      addPivotCol: (column) => this.pivotCols.push(column),\n      removePivotCol: (column) => _removeFromArray(this.pivotCols, column),\n      addValueCol: (column) => this.valueCols.push(column),\n      removeValueCol: (column) => _removeFromArray(this.valueCols, column)\n    };\n  }\n  getSourceColumnsForGroupColumn(groupCol) {\n    const sourceColumnId = groupCol.getColDef().showRowGroup;\n    if (!sourceColumnId) {\n      return null;\n    }\n    if (sourceColumnId === true) {\n      return this.rowGroupCols.slice(0);\n    }\n    const column = this.columnModel.getColDefCol(sourceColumnId);\n    return column ? [column] : null;\n  }\n  sortRowGroupColumns(compareFn) {\n    this.rowGroupCols.sort(compareFn);\n  }\n  sortPivotColumns(compareFn) {\n    this.pivotCols.sort(compareFn);\n  }\n  // + rowController\n  getValueColumns() {\n    return this.valueCols ? this.valueCols : [];\n  }\n  // + rowController\n  getPivotColumns() {\n    return this.pivotCols ? this.pivotCols : [];\n  }\n  // + toolPanel\n  getRowGroupColumns() {\n    return this.rowGroupCols ? this.rowGroupCols : [];\n  }\n  isRowGroupEmpty() {\n    return _missingOrEmpty(this.rowGroupCols);\n  }\n  setColumnAggFunc(key, aggFunc, source) {\n    if (!key) {\n      return;\n    }\n    const column = this.columnModel.getColDefCol(key);\n    if (!column) {\n      return;\n    }\n    column.setAggFunc(aggFunc);\n    this.eventDispatcher.columnChanged(\"columnValueChanged\", [column], source);\n  }\n  setRowGroupColumns(colKeys, source) {\n    this.setColList(\n      colKeys,\n      this.rowGroupCols,\n      \"columnRowGroupChanged\",\n      true,\n      true,\n      (added, column) => this.setRowGroupActive(added, column, source),\n      source\n    );\n  }\n  setRowGroupActive(active, column, source) {\n    if (active === column.isRowGroupActive()) {\n      return;\n    }\n    column.setRowGroupActive(active, source);\n    if (active && !this.gos.get(\"suppressRowGroupHidesColumns\")) {\n      this.columnModel.setColsVisible([column], false, source);\n    }\n    if (!active && !this.gos.get(\"suppressMakeColumnVisibleAfterUnGroup\")) {\n      this.columnModel.setColsVisible([column], true, source);\n    }\n  }\n  addRowGroupColumns(keys, source) {\n    this.updateColList(\n      keys,\n      this.rowGroupCols,\n      true,\n      true,\n      (column) => this.setRowGroupActive(true, column, source),\n      \"columnRowGroupChanged\",\n      source\n    );\n  }\n  removeRowGroupColumns(keys, source) {\n    this.updateColList(\n      keys,\n      this.rowGroupCols,\n      false,\n      true,\n      (column) => this.setRowGroupActive(false, column, source),\n      \"columnRowGroupChanged\",\n      source\n    );\n  }\n  addPivotColumns(keys, source) {\n    this.updateColList(\n      keys,\n      this.pivotCols,\n      true,\n      false,\n      (column) => column.setPivotActive(true, source),\n      \"columnPivotChanged\",\n      source\n    );\n  }\n  setPivotColumns(colKeys, source) {\n    this.setColList(\n      colKeys,\n      this.pivotCols,\n      \"columnPivotChanged\",\n      true,\n      false,\n      (added, column) => {\n        column.setPivotActive(added, source);\n      },\n      source\n    );\n  }\n  removePivotColumns(keys, source) {\n    this.updateColList(\n      keys,\n      this.pivotCols,\n      false,\n      false,\n      (column) => column.setPivotActive(false, source),\n      \"columnPivotChanged\",\n      source\n    );\n  }\n  setValueColumns(colKeys, source) {\n    this.setColList(\n      colKeys,\n      this.valueCols,\n      \"columnValueChanged\",\n      false,\n      false,\n      (added, column) => this.setValueActive(added, column, source),\n      source\n    );\n  }\n  setValueActive(active, column, source) {\n    if (active === column.isValueActive()) {\n      return;\n    }\n    column.setValueActive(active, source);\n    if (active && !column.getAggFunc() && this.aggFuncService) {\n      const initialAggFunc = this.aggFuncService.getDefaultAggFunc(column);\n      column.setAggFunc(initialAggFunc);\n    }\n  }\n  addValueColumns(keys, source) {\n    this.updateColList(\n      keys,\n      this.valueCols,\n      true,\n      false,\n      (column) => this.setValueActive(true, column, source),\n      \"columnValueChanged\",\n      source\n    );\n  }\n  removeValueColumns(keys, source) {\n    this.updateColList(\n      keys,\n      this.valueCols,\n      false,\n      false,\n      (column) => this.setValueActive(false, column, source),\n      \"columnValueChanged\",\n      source\n    );\n  }\n  moveRowGroupColumn(fromIndex, toIndex, source) {\n    if (this.isRowGroupEmpty()) {\n      return;\n    }\n    const column = this.rowGroupCols[fromIndex];\n    const impactedColumns = this.rowGroupCols.slice(fromIndex, toIndex);\n    this.rowGroupCols.splice(fromIndex, 1);\n    this.rowGroupCols.splice(toIndex, 0, column);\n    this.eventDispatcher.rowGroupChanged(impactedColumns, source);\n  }\n  setColList(colKeys, masterList, eventName, detectOrderChange, autoGroupsNeedBuilding, columnCallback, source) {\n    if (!this.columnModel.getCols()) {\n      return;\n    }\n    const changes = /* @__PURE__ */ new Map();\n    masterList.forEach((col, idx) => changes.set(col, idx));\n    masterList.length = 0;\n    if (_exists(colKeys)) {\n      colKeys.forEach((key) => {\n        const column = this.columnModel.getColDefCol(key);\n        if (column) {\n          masterList.push(column);\n        }\n      });\n    }\n    masterList.forEach((col, idx) => {\n      const oldIndex = changes.get(col);\n      if (oldIndex === void 0) {\n        changes.set(col, 0);\n        return;\n      }\n      if (detectOrderChange && oldIndex !== idx) {\n        return;\n      }\n      changes.delete(col);\n    });\n    const primaryCols = this.columnModel.getColDefCols();\n    (primaryCols || []).forEach((column) => {\n      const added = masterList.indexOf(column) >= 0;\n      columnCallback(added, column);\n    });\n    autoGroupsNeedBuilding && this.columnModel.refreshCols(false);\n    this.visibleColsService.refresh(source);\n    this.eventDispatcher.columnChanged(eventName, [...changes.keys()], source);\n  }\n  updateColList(keys, masterList, actionIsAdd, autoGroupsNeedBuilding, columnCallback, eventType, source) {\n    if (!keys || _missingOrEmpty(keys)) {\n      return;\n    }\n    let atLeastOne = false;\n    const updatedCols = /* @__PURE__ */ new Set();\n    keys.forEach((key) => {\n      if (!key) {\n        return;\n      }\n      const columnToAdd = this.columnModel.getColDefCol(key);\n      if (!columnToAdd) {\n        return;\n      }\n      updatedCols.add(columnToAdd);\n      if (actionIsAdd) {\n        if (masterList.indexOf(columnToAdd) >= 0) {\n          return;\n        }\n        masterList.push(columnToAdd);\n      } else {\n        const currentIndex = masterList.indexOf(columnToAdd);\n        if (currentIndex < 0) {\n          return;\n        }\n        for (let i = currentIndex + 1; i < masterList.length; i++) {\n          updatedCols.add(masterList[i]);\n        }\n        _removeFromArray(masterList, columnToAdd);\n      }\n      columnCallback(columnToAdd);\n      atLeastOne = true;\n    });\n    if (!atLeastOne) {\n      return;\n    }\n    if (autoGroupsNeedBuilding) {\n      this.columnModel.refreshCols(false);\n    }\n    this.visibleColsService.refresh(source);\n    this.eventDispatcher.genericColumnEvent(eventType, Array.from(updatedCols), source);\n  }\n  extractCols(source, oldProvidedCols) {\n    this.extractRowGroupCols(source, oldProvidedCols);\n    this.extractPivotCols(source, oldProvidedCols);\n    this.extractValueCols(source, oldProvidedCols);\n  }\n  extractValueCols(source, oldProvidedCols) {\n    this.valueCols = this.extractColsCommon(\n      oldProvidedCols,\n      this.valueCols,\n      (col, flag) => col.setValueActive(flag, source),\n      // aggFunc doesn't have index variant, cos order of value cols doesn't matter, so always return null\n      () => void 0,\n      () => void 0,\n      // aggFunc is a string, so return it's existence\n      (colDef) => {\n        const aggFunc = colDef.aggFunc;\n        if (aggFunc === null || aggFunc === \"\") {\n          return null;\n        }\n        if (aggFunc === void 0) {\n          return;\n        }\n        return !!aggFunc;\n      },\n      (colDef) => {\n        return colDef.initialAggFunc != null && colDef.initialAggFunc != \"\";\n      }\n    );\n    this.valueCols.forEach((col) => {\n      const colDef = col.getColDef();\n      if (colDef.aggFunc != null && colDef.aggFunc != \"\") {\n        col.setAggFunc(colDef.aggFunc);\n      } else {\n        if (!col.getAggFunc()) {\n          col.setAggFunc(colDef.initialAggFunc);\n        }\n      }\n    });\n  }\n  extractRowGroupCols(source, oldProvidedCols) {\n    this.rowGroupCols = this.extractColsCommon(\n      oldProvidedCols,\n      this.rowGroupCols,\n      (col, flag) => col.setRowGroupActive(flag, source),\n      (colDef) => colDef.rowGroupIndex,\n      (colDef) => colDef.initialRowGroupIndex,\n      (colDef) => colDef.rowGroup,\n      (colDef) => colDef.initialRowGroup\n    );\n  }\n  extractPivotCols(source, oldProvidedCols) {\n    this.pivotCols = this.extractColsCommon(\n      oldProvidedCols,\n      this.pivotCols,\n      (col, flag) => col.setPivotActive(flag, source),\n      (colDef) => colDef.pivotIndex,\n      (colDef) => colDef.initialPivotIndex,\n      (colDef) => colDef.pivot,\n      (colDef) => colDef.initialPivot\n    );\n  }\n  extractColsCommon(oldProvidedCols = [], previousCols = [], setFlagFunc, getIndexFunc, getInitialIndexFunc, getValueFunc, getInitialValueFunc) {\n    const colsWithIndex = [];\n    const colsWithValue = [];\n    const primaryCols = this.columnModel.getColDefCols() || [];\n    primaryCols.forEach((col) => {\n      const colIsNew = oldProvidedCols.indexOf(col) < 0;\n      const colDef = col.getColDef();\n      const value = _attrToBoolean(getValueFunc(colDef));\n      const initialValue = _attrToBoolean(getInitialValueFunc(colDef));\n      const index = _attrToNumber(getIndexFunc(colDef));\n      const initialIndex = _attrToNumber(getInitialIndexFunc(colDef));\n      let include;\n      const valuePresent = value !== void 0;\n      const indexPresent = index !== void 0;\n      const initialValuePresent = initialValue !== void 0;\n      const initialIndexPresent = initialIndex !== void 0;\n      if (valuePresent) {\n        include = value;\n      } else if (indexPresent) {\n        if (index === null) {\n          include = false;\n        } else {\n          include = index >= 0;\n        }\n      } else {\n        if (colIsNew) {\n          if (initialValuePresent) {\n            include = initialValue;\n          } else if (initialIndexPresent) {\n            include = initialIndex != null && initialIndex >= 0;\n          } else {\n            include = false;\n          }\n        } else {\n          include = previousCols.indexOf(col) >= 0;\n        }\n      }\n      if (include) {\n        const useIndex = colIsNew ? index != null || initialIndex != null : index != null;\n        useIndex ? colsWithIndex.push(col) : colsWithValue.push(col);\n      }\n    });\n    const getIndexForCol = (col) => {\n      const index = getIndexFunc(col.getColDef());\n      const defaultIndex = getInitialIndexFunc(col.getColDef());\n      return index != null ? index : defaultIndex;\n    };\n    colsWithIndex.sort((colA, colB) => {\n      const indexA = getIndexForCol(colA);\n      const indexB = getIndexForCol(colB);\n      if (indexA === indexB) {\n        return 0;\n      }\n      if (indexA < indexB) {\n        return -1;\n      }\n      return 1;\n    });\n    const res = [].concat(colsWithIndex);\n    previousCols.forEach((col) => {\n      if (colsWithValue.indexOf(col) >= 0) {\n        res.push(col);\n      }\n    });\n    colsWithValue.forEach((col) => {\n      if (res.indexOf(col) < 0) {\n        res.push(col);\n      }\n    });\n    previousCols.forEach((col) => {\n      if (res.indexOf(col) < 0) {\n        setFlagFunc(col, false);\n      }\n    });\n    res.forEach((col) => {\n      if (previousCols.indexOf(col) < 0) {\n        setFlagFunc(col, true);\n      }\n    });\n    return res;\n  }\n  generateColumnStateForRowGroupAndPivotIndexes(updatedRowGroupColumnState, updatedPivotColumnState) {\n    const existingColumnStateUpdates = {};\n    const orderColumns = (updatedColumnState, colList, enableProp, initialEnableProp, indexProp, initialIndexProp) => {\n      const primaryCols = this.columnModel.getColDefCols();\n      if (!colList.length || !primaryCols) {\n        return [];\n      }\n      const updatedColIdArray = Object.keys(updatedColumnState);\n      const updatedColIds = new Set(updatedColIdArray);\n      const newColIds = new Set(updatedColIdArray);\n      const allColIds = new Set(\n        colList.map((column) => {\n          const colId = column.getColId();\n          newColIds.delete(colId);\n          return colId;\n        }).concat(updatedColIdArray)\n      );\n      const colIdsInOriginalOrder = [];\n      const originalOrderMap = {};\n      let orderIndex = 0;\n      for (let i = 0; i < primaryCols.length; i++) {\n        const colId = primaryCols[i].getColId();\n        if (allColIds.has(colId)) {\n          colIdsInOriginalOrder.push(colId);\n          originalOrderMap[colId] = orderIndex++;\n        }\n      }\n      let index = 1e3;\n      let hasAddedNewCols = false;\n      let lastIndex = 0;\n      const processPrecedingNewCols = (colId) => {\n        const originalOrderIndex = originalOrderMap[colId];\n        for (let i = lastIndex; i < originalOrderIndex; i++) {\n          const newColId = colIdsInOriginalOrder[i];\n          if (newColIds.has(newColId)) {\n            updatedColumnState[newColId][indexProp] = index++;\n            newColIds.delete(newColId);\n          }\n        }\n        lastIndex = originalOrderIndex;\n      };\n      colList.forEach((column) => {\n        const colId = column.getColId();\n        if (updatedColIds.has(colId)) {\n          processPrecedingNewCols(colId);\n          updatedColumnState[colId][indexProp] = index++;\n        } else {\n          const colDef = column.getColDef();\n          const missingIndex = colDef[indexProp] === null || colDef[indexProp] === void 0 && colDef[initialIndexProp] == null;\n          if (missingIndex) {\n            if (!hasAddedNewCols) {\n              const propEnabled = colDef[enableProp] || colDef[enableProp] === void 0 && colDef[initialEnableProp];\n              if (propEnabled) {\n                processPrecedingNewCols(colId);\n              } else {\n                newColIds.forEach((newColId) => {\n                  updatedColumnState[newColId][indexProp] = index + originalOrderMap[newColId];\n                });\n                index += colIdsInOriginalOrder.length;\n                hasAddedNewCols = true;\n              }\n            }\n            if (!existingColumnStateUpdates[colId]) {\n              existingColumnStateUpdates[colId] = { colId };\n            }\n            existingColumnStateUpdates[colId][indexProp] = index++;\n          }\n        }\n      });\n    };\n    orderColumns(\n      updatedRowGroupColumnState,\n      this.rowGroupCols,\n      \"rowGroup\",\n      \"initialRowGroup\",\n      \"rowGroupIndex\",\n      \"initialRowGroupIndex\"\n    );\n    orderColumns(\n      updatedPivotColumnState,\n      this.pivotCols,\n      \"pivot\",\n      \"initialPivot\",\n      \"pivotIndex\",\n      \"initialPivotIndex\"\n    );\n    return Object.values(existingColumnStateUpdates);\n  }\n};\n\n// community-modules/core/src/columns/columnApplyStateService.ts\nvar ColumnApplyStateService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnApplyStateService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.eventDispatcher = beans.columnEventDispatcher;\n    this.sortController = beans.sortController;\n    this.columnGetStateService = beans.columnGetStateService;\n    this.funcColsService = beans.funcColsService;\n    this.visibleColsService = beans.visibleColsService;\n    this.columnAnimationService = beans.columnAnimationService;\n    this.pivotResultColsService = beans.pivotResultColsService;\n  }\n  applyColumnState(params, source) {\n    const providedCols = this.columnModel.getColDefCols() || [];\n    if (_missingOrEmpty(providedCols)) {\n      return false;\n    }\n    if (params && params.state && !params.state.forEach) {\n      _warnOnce(\n        \"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.\"\n      );\n      return false;\n    }\n    const callbacks = this.funcColsService.getModifyColumnsNoEventsCallbacks();\n    const applyStates = (states, existingColumns, getById) => {\n      const dispatchEventsFunc = this.compareColumnStatesAndDispatchEvents(source);\n      const columnsWithNoState = existingColumns.slice();\n      const rowGroupIndexes = {};\n      const pivotIndexes = {};\n      const autoColStates = [];\n      const unmatchedAndAutoStates2 = [];\n      let unmatchedCount2 = 0;\n      const previousRowGroupCols = this.funcColsService.getRowGroupColumns().slice();\n      const previousPivotCols = this.funcColsService.getPivotColumns().slice();\n      states.forEach((state) => {\n        const colId = state.colId || \"\";\n        const isAutoGroupColumn = colId.startsWith(GROUP_AUTO_COLUMN_ID);\n        if (isAutoGroupColumn) {\n          autoColStates.push(state);\n          unmatchedAndAutoStates2.push(state);\n          return;\n        }\n        const column = getById(colId);\n        if (!column) {\n          unmatchedAndAutoStates2.push(state);\n          unmatchedCount2 += 1;\n        } else {\n          this.syncColumnWithStateItem(\n            column,\n            state,\n            params.defaultState,\n            rowGroupIndexes,\n            pivotIndexes,\n            false,\n            source,\n            callbacks\n          );\n          _removeFromArray(columnsWithNoState, column);\n        }\n      });\n      const applyDefaultsFunc = (col) => this.syncColumnWithStateItem(\n        col,\n        null,\n        params.defaultState,\n        rowGroupIndexes,\n        pivotIndexes,\n        false,\n        source,\n        callbacks\n      );\n      columnsWithNoState.forEach(applyDefaultsFunc);\n      this.funcColsService.sortRowGroupColumns(\n        comparatorByIndex.bind(this, rowGroupIndexes, previousRowGroupCols)\n      );\n      this.funcColsService.sortPivotColumns(comparatorByIndex.bind(this, pivotIndexes, previousPivotCols));\n      this.columnModel.refreshCols(false);\n      const autoCols = this.columnModel.getAutoCols() || [];\n      const autoColsCopy = autoCols.slice();\n      autoColStates.forEach((stateItem) => {\n        const autoCol = this.columnModel.getAutoCol(stateItem.colId);\n        _removeFromArray(autoColsCopy, autoCol);\n        this.syncColumnWithStateItem(\n          autoCol,\n          stateItem,\n          params.defaultState,\n          null,\n          null,\n          true,\n          source,\n          callbacks\n        );\n      });\n      autoColsCopy.forEach(applyDefaultsFunc);\n      this.orderLiveColsLikeState(params);\n      this.visibleColsService.refresh(source);\n      this.eventDispatcher.everythingChanged(source);\n      dispatchEventsFunc();\n      return { unmatchedAndAutoStates: unmatchedAndAutoStates2, unmatchedCount: unmatchedCount2 };\n    };\n    this.columnAnimationService.start();\n    let { unmatchedAndAutoStates, unmatchedCount } = applyStates(\n      params.state || [],\n      providedCols,\n      (id) => this.columnModel.getColDefCol(id)\n    );\n    if (unmatchedAndAutoStates.length > 0 || _exists(params.defaultState)) {\n      const pivotResultCols = this.pivotResultColsService.getPivotResultCols();\n      const pivotResultColsList = pivotResultCols?.list;\n      unmatchedCount = applyStates(\n        unmatchedAndAutoStates,\n        pivotResultColsList || [],\n        (id) => this.pivotResultColsService.getPivotResultCol(id)\n      ).unmatchedCount;\n    }\n    this.columnAnimationService.finish();\n    return unmatchedCount === 0;\n  }\n  resetColumnState(source) {\n    const primaryCols = this.columnModel.getColDefCols();\n    if (_missingOrEmpty(primaryCols)) {\n      return;\n    }\n    const primaryColumnTree = this.columnModel.getColDefColTree();\n    const primaryColumns = getColumnsFromTree(primaryColumnTree);\n    const columnStates = [];\n    let letRowGroupIndex = 1e3;\n    let letPivotIndex = 1e3;\n    let colsToProcess = [];\n    const groupAutoCols = this.columnModel.getAutoCols();\n    if (groupAutoCols) {\n      colsToProcess = colsToProcess.concat(groupAutoCols);\n    }\n    if (primaryColumns) {\n      colsToProcess = colsToProcess.concat(primaryColumns);\n    }\n    colsToProcess.forEach((column) => {\n      const stateItem = this.getColumnStateFromColDef(column);\n      if (_missing(stateItem.rowGroupIndex) && stateItem.rowGroup) {\n        stateItem.rowGroupIndex = letRowGroupIndex++;\n      }\n      if (_missing(stateItem.pivotIndex) && stateItem.pivot) {\n        stateItem.pivotIndex = letPivotIndex++;\n      }\n      columnStates.push(stateItem);\n    });\n    this.applyColumnState({ state: columnStates, applyOrder: true }, source);\n  }\n  getColumnStateFromColDef(column) {\n    const getValueOrNull = (a, b) => a != null ? a : b != null ? b : null;\n    const colDef = column.getColDef();\n    const sort = getValueOrNull(colDef.sort, colDef.initialSort);\n    const sortIndex = getValueOrNull(colDef.sortIndex, colDef.initialSortIndex);\n    const hide = getValueOrNull(colDef.hide, colDef.initialHide);\n    const pinned = getValueOrNull(colDef.pinned, colDef.initialPinned);\n    const width = getValueOrNull(colDef.width, colDef.initialWidth);\n    const flex = getValueOrNull(colDef.flex, colDef.initialFlex);\n    let rowGroupIndex = getValueOrNull(\n      colDef.rowGroupIndex,\n      colDef.initialRowGroupIndex\n    );\n    let rowGroup = getValueOrNull(colDef.rowGroup, colDef.initialRowGroup);\n    if (rowGroupIndex == null && (rowGroup == null || rowGroup == false)) {\n      rowGroupIndex = null;\n      rowGroup = null;\n    }\n    let pivotIndex = getValueOrNull(colDef.pivotIndex, colDef.initialPivotIndex);\n    let pivot = getValueOrNull(colDef.pivot, colDef.initialPivot);\n    if (pivotIndex == null && (pivot == null || pivot == false)) {\n      pivotIndex = null;\n      pivot = null;\n    }\n    const aggFunc = getValueOrNull(colDef.aggFunc, colDef.initialAggFunc);\n    return {\n      colId: column.getColId(),\n      sort,\n      sortIndex,\n      hide,\n      pinned,\n      width,\n      flex,\n      rowGroup,\n      rowGroupIndex,\n      pivot,\n      pivotIndex,\n      aggFunc\n    };\n  }\n  syncColumnWithStateItem(column, stateItem, defaultState, rowGroupIndexes, pivotIndexes, autoCol, source, callbacks) {\n    if (!column) {\n      return;\n    }\n    const getValue2 = (key1, key2) => {\n      const obj = {\n        value1: void 0,\n        value2: void 0\n      };\n      let calculated = false;\n      if (stateItem) {\n        if (stateItem[key1] !== void 0) {\n          obj.value1 = stateItem[key1];\n          calculated = true;\n        }\n        if (_exists(key2) && stateItem[key2] !== void 0) {\n          obj.value2 = stateItem[key2];\n          calculated = true;\n        }\n      }\n      if (!calculated && defaultState) {\n        if (defaultState[key1] !== void 0) {\n          obj.value1 = defaultState[key1];\n        }\n        if (_exists(key2) && defaultState[key2] !== void 0) {\n          obj.value2 = defaultState[key2];\n        }\n      }\n      return obj;\n    };\n    const hide = getValue2(\"hide\").value1;\n    if (hide !== void 0) {\n      column.setVisible(!hide, source);\n    }\n    const pinned = getValue2(\"pinned\").value1;\n    if (pinned !== void 0) {\n      column.setPinned(pinned);\n    }\n    const minColWidth = column.getColDef().minWidth ?? this.gos.environment.getDefaultColumnMinWidth();\n    const flex = getValue2(\"flex\").value1;\n    if (flex !== void 0) {\n      column.setFlex(flex);\n    }\n    if (flex == null) {\n      const width = getValue2(\"width\").value1;\n      if (width != null) {\n        if (minColWidth != null && width >= minColWidth) {\n          column.setActualWidth(width, source);\n        }\n      }\n    }\n    const sort = getValue2(\"sort\").value1;\n    if (sort !== void 0) {\n      if (sort === \"desc\" || sort === \"asc\") {\n        column.setSort(sort, source);\n      } else {\n        column.setSort(void 0, source);\n      }\n    }\n    const sortIndex = getValue2(\"sortIndex\").value1;\n    if (sortIndex !== void 0) {\n      column.setSortIndex(sortIndex);\n    }\n    if (autoCol || !column.isPrimary()) {\n      return;\n    }\n    const aggFunc = getValue2(\"aggFunc\").value1;\n    if (aggFunc !== void 0) {\n      if (typeof aggFunc === \"string\") {\n        column.setAggFunc(aggFunc);\n        if (!column.isValueActive()) {\n          column.setValueActive(true, source);\n          callbacks.addValueCol(column);\n        }\n      } else {\n        if (_exists(aggFunc)) {\n          _warnOnce(\n            \"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.\"\n          );\n        }\n        if (column.isValueActive()) {\n          column.setValueActive(false, source);\n          callbacks.removeValueCol(column);\n        }\n      }\n    }\n    const { value1: rowGroup, value2: rowGroupIndex } = getValue2(\"rowGroup\", \"rowGroupIndex\");\n    if (rowGroup !== void 0 || rowGroupIndex !== void 0) {\n      if (typeof rowGroupIndex === \"number\" || rowGroup) {\n        if (!column.isRowGroupActive()) {\n          column.setRowGroupActive(true, source);\n          callbacks.addGroupCol(column);\n        }\n        if (rowGroupIndexes && typeof rowGroupIndex === \"number\") {\n          rowGroupIndexes[column.getId()] = rowGroupIndex;\n        }\n      } else {\n        if (column.isRowGroupActive()) {\n          column.setRowGroupActive(false, source);\n          callbacks.removeGroupCol(column);\n        }\n      }\n    }\n    const { value1: pivot, value2: pivotIndex } = getValue2(\"pivot\", \"pivotIndex\");\n    if (pivot !== void 0 || pivotIndex !== void 0) {\n      if (typeof pivotIndex === \"number\" || pivot) {\n        if (!column.isPivotActive()) {\n          column.setPivotActive(true, source);\n          callbacks.addPivotCol(column);\n        }\n        if (pivotIndexes && typeof pivotIndex === \"number\") {\n          pivotIndexes[column.getId()] = pivotIndex;\n        }\n      } else {\n        if (column.isPivotActive()) {\n          column.setPivotActive(false, source);\n          callbacks.removePivotCol(column);\n        }\n      }\n    }\n  }\n  orderLiveColsLikeState(params) {\n    if (!params.applyOrder || !params.state) {\n      return;\n    }\n    const colIds = [];\n    params.state.forEach((item) => {\n      if (item.colId != null) {\n        colIds.push(item.colId);\n      }\n    });\n    this.columnModel.sortColsLikeKeys(colIds);\n  }\n  // calculates what events to fire between column state changes. gets used when:\n  // a) apply column state\n  // b) apply new column definitions (so changes from old cols)\n  compareColumnStatesAndDispatchEvents(source) {\n    const startState = {\n      rowGroupColumns: this.funcColsService.getRowGroupColumns().slice(),\n      pivotColumns: this.funcColsService.getPivotColumns().slice(),\n      valueColumns: this.funcColsService.getValueColumns().slice()\n    };\n    const columnStateBefore = this.columnGetStateService.getColumnState();\n    const columnStateBeforeMap = {};\n    columnStateBefore.forEach((col) => {\n      columnStateBeforeMap[col.colId] = col;\n    });\n    return () => {\n      const colsForState = this.columnModel.getAllCols();\n      const dispatchWhenListsDifferent = (eventType, colsBefore, colsAfter, idMapper) => {\n        const beforeList = colsBefore.map(idMapper);\n        const afterList = colsAfter.map(idMapper);\n        const unchanged = _areEqual(beforeList, afterList);\n        if (unchanged) {\n          return;\n        }\n        const changes = new Set(colsBefore);\n        colsAfter.forEach((id) => {\n          if (!changes.delete(id)) {\n            changes.add(id);\n          }\n        });\n        const changesArr = [...changes];\n        this.eventService.dispatchEvent({\n          type: eventType,\n          columns: changesArr,\n          column: changesArr.length === 1 ? changesArr[0] : null,\n          source\n        });\n      };\n      const getChangedColumns = (changedPredicate) => {\n        const changedColumns2 = [];\n        colsForState.forEach((column) => {\n          const colStateBefore = columnStateBeforeMap[column.getColId()];\n          if (colStateBefore && changedPredicate(colStateBefore, column)) {\n            changedColumns2.push(column);\n          }\n        });\n        return changedColumns2;\n      };\n      const columnIdMapper = (c) => c.getColId();\n      dispatchWhenListsDifferent(\n        \"columnRowGroupChanged\",\n        startState.rowGroupColumns,\n        this.funcColsService.getRowGroupColumns(),\n        columnIdMapper\n      );\n      dispatchWhenListsDifferent(\n        \"columnPivotChanged\",\n        startState.pivotColumns,\n        this.funcColsService.getPivotColumns(),\n        columnIdMapper\n      );\n      const valueChangePredicate = (cs, c) => {\n        const oldActive = cs.aggFunc != null;\n        const activeChanged = oldActive != c.isValueActive();\n        const aggFuncChanged = oldActive && cs.aggFunc != c.getAggFunc();\n        return activeChanged || aggFuncChanged;\n      };\n      const changedValues = getChangedColumns(valueChangePredicate);\n      if (changedValues.length > 0) {\n        this.eventDispatcher.columnChanged(\"columnValueChanged\", changedValues, source);\n      }\n      const resizeChangePredicate = (cs, c) => cs.width != c.getActualWidth();\n      this.eventDispatcher.columnResized(getChangedColumns(resizeChangePredicate), true, source);\n      const pinnedChangePredicate = (cs, c) => cs.pinned != c.getPinned();\n      this.eventDispatcher.columnPinned(getChangedColumns(pinnedChangePredicate), source);\n      const visibilityChangePredicate = (cs, c) => cs.hide == c.isVisible();\n      this.eventDispatcher.columnVisible(getChangedColumns(visibilityChangePredicate), source);\n      const sortChangePredicate = (cs, c) => cs.sort != c.getSort() || cs.sortIndex != c.getSortIndex();\n      const changedColumns = getChangedColumns(sortChangePredicate);\n      if (changedColumns.length > 0) {\n        this.sortController.dispatchSortChangedEvents(source, changedColumns);\n      }\n      this.normaliseColumnMovedEventForColumnState(columnStateBefore, source);\n    };\n  }\n  normaliseColumnMovedEventForColumnState(colStateBefore, source) {\n    const colStateAfter = this.columnGetStateService.getColumnState();\n    const colStateAfterMapped = {};\n    colStateAfter.forEach((s) => colStateAfterMapped[s.colId] = s);\n    const colsIntersectIds = {};\n    colStateBefore.forEach((s) => {\n      if (colStateAfterMapped[s.colId]) {\n        colsIntersectIds[s.colId] = true;\n      }\n    });\n    const beforeFiltered = colStateBefore.filter((c) => colsIntersectIds[c.colId]);\n    const afterFiltered = colStateAfter.filter((c) => colsIntersectIds[c.colId]);\n    const movedColumns = [];\n    afterFiltered.forEach((csAfter, index) => {\n      const csBefore = beforeFiltered && beforeFiltered[index];\n      if (csBefore && csBefore.colId !== csAfter.colId) {\n        const gridCol = this.columnModel.getCol(csBefore.colId);\n        if (gridCol) {\n          movedColumns.push(gridCol);\n        }\n      }\n    });\n    if (!movedColumns.length) {\n      return;\n    }\n    this.eventDispatcher.columnMoved({ movedColumns, source, finished: true });\n  }\n};\nvar comparatorByIndex = (indexes, oldList, colA, colB) => {\n  const indexA = indexes[colA.getId()];\n  const indexB = indexes[colB.getId()];\n  const aHasIndex = indexA != null;\n  const bHasIndex = indexB != null;\n  if (aHasIndex && bHasIndex) {\n    return indexA - indexB;\n  }\n  if (aHasIndex) {\n    return -1;\n  }\n  if (bHasIndex) {\n    return 1;\n  }\n  const oldIndexA = oldList.indexOf(colA);\n  const oldIndexB = oldList.indexOf(colB);\n  const aHasOldIndex = oldIndexA >= 0;\n  const bHasOldIndex = oldIndexB >= 0;\n  if (aHasOldIndex && bHasOldIndex) {\n    return oldIndexA - oldIndexB;\n  }\n  if (aHasOldIndex) {\n    return -1;\n  }\n  return 1;\n};\n\n// community-modules/core/src/columns/columnMoveService.ts\nvar ColumnMoveService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnMoveService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnAnimationService = beans.columnAnimationService;\n    this.eventDispatcher = beans.columnEventDispatcher;\n  }\n  moveColumnByIndex(fromIndex, toIndex, source) {\n    const gridColumns = this.columnModel.getCols();\n    if (!gridColumns) {\n      return;\n    }\n    const column = gridColumns[fromIndex];\n    this.moveColumns([column], toIndex, source);\n  }\n  moveColumns(columnsToMoveKeys, toIndex, source, finished = true) {\n    const gridColumns = this.columnModel.getCols();\n    if (!gridColumns) {\n      return;\n    }\n    if (toIndex > gridColumns.length - columnsToMoveKeys.length) {\n      _warnOnce(\"tried to insert columns in invalid location, toIndex = \", toIndex);\n      _warnOnce(\"remember that you should not count the moving columns when calculating the new index\");\n      return;\n    }\n    this.columnAnimationService.start();\n    const movedColumns = this.columnModel.getColsForKeys(columnsToMoveKeys);\n    if (this.doesMovePassRules(movedColumns, toIndex)) {\n      this.columnModel.moveInCols(movedColumns, toIndex, source);\n      this.eventDispatcher.columnMoved({ movedColumns, source, toIndex, finished });\n    }\n    this.columnAnimationService.finish();\n  }\n  doesMovePassRules(columnsToMove, toIndex) {\n    const proposedColumnOrder = this.getProposedColumnOrder(columnsToMove, toIndex);\n    return this.doesOrderPassRules(proposedColumnOrder);\n  }\n  doesOrderPassRules(gridOrder) {\n    if (!this.doesMovePassMarryChildren(gridOrder)) {\n      return false;\n    }\n    if (!this.doesMovePassLockedPositions(gridOrder)) {\n      return false;\n    }\n    return true;\n  }\n  getProposedColumnOrder(columnsToMove, toIndex) {\n    const gridColumns = this.columnModel.getCols();\n    const proposedColumnOrder = gridColumns.slice();\n    _moveInArray(proposedColumnOrder, columnsToMove, toIndex);\n    return proposedColumnOrder;\n  }\n  doesMovePassLockedPositions(proposedColumnOrder) {\n    const lockPositionToPlacement = (position) => {\n      if (!position) {\n        return 0 /* NONE */;\n      }\n      return position === \"left\" || position === true ? -1 /* LEFT */ : 1 /* RIGHT */;\n    };\n    const isRtl = this.gos.get(\"enableRtl\");\n    let lastPlacement = isRtl ? 1 /* RIGHT */ : -1 /* LEFT */;\n    let rulePassed = true;\n    proposedColumnOrder.forEach((col) => {\n      const placement = lockPositionToPlacement(col.getColDef().lockPosition);\n      if (isRtl) {\n        if (placement > lastPlacement) {\n          rulePassed = false;\n        }\n      } else {\n        if (placement < lastPlacement) {\n          rulePassed = false;\n        }\n      }\n      lastPlacement = placement;\n    });\n    return rulePassed;\n  }\n  doesMovePassMarryChildren(allColumnsCopy) {\n    let rulePassed = true;\n    const gridBalancedTree = this.columnModel.getColTree();\n    depthFirstOriginalTreeSearch(null, gridBalancedTree, (child) => {\n      if (!isProvidedColumnGroup(child)) {\n        return;\n      }\n      const columnGroup = child;\n      const colGroupDef = columnGroup.getColGroupDef();\n      const marryChildren = colGroupDef && colGroupDef.marryChildren;\n      if (!marryChildren) {\n        return;\n      }\n      const newIndexes = [];\n      columnGroup.getLeafColumns().forEach((col) => {\n        const newColIndex = allColumnsCopy.indexOf(col);\n        newIndexes.push(newColIndex);\n      });\n      const maxIndex = Math.max.apply(Math, newIndexes);\n      const minIndex = Math.min.apply(Math, newIndexes);\n      const spread = maxIndex - minIndex;\n      const maxSpread = columnGroup.getLeafColumns().length - 1;\n      if (spread > maxSpread) {\n        rulePassed = false;\n      }\n    });\n    return rulePassed;\n  }\n  placeLockedColumns(cols) {\n    const left = [];\n    const normal = [];\n    const right = [];\n    cols.forEach((col) => {\n      const position = col.getColDef().lockPosition;\n      if (position === \"right\") {\n        right.push(col);\n      } else if (position === \"left\" || position === true) {\n        left.push(col);\n      } else {\n        normal.push(col);\n      }\n    });\n    const isRtl = this.gos.get(\"enableRtl\");\n    if (isRtl) {\n      return [...right, ...normal, ...left];\n    }\n    return [...left, ...normal, ...right];\n  }\n};\n\n// community-modules/core/src/utils/string.ts\nvar reUnescapedHtml = /[&<>\"']/g;\nvar HTML_ESCAPES = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#39;\"\n};\nfunction _utf8_encode(s) {\n  const stringFromCharCode = String.fromCharCode;\n  function ucs2decode(string) {\n    const output = [];\n    if (!string) {\n      return [];\n    }\n    const len = string.length;\n    let counter = 0;\n    let value;\n    let extra;\n    while (counter < len) {\n      value = string.charCodeAt(counter++);\n      if (value >= 55296 && value <= 56319 && counter < len) {\n        extra = string.charCodeAt(counter++);\n        if ((extra & 64512) == 56320) {\n          output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n        } else {\n          output.push(value);\n          counter--;\n        }\n      } else {\n        output.push(value);\n      }\n    }\n    return output;\n  }\n  function checkScalarValue(point) {\n    if (point >= 55296 && point <= 57343) {\n      throw Error(\"Lone surrogate U+\" + point.toString(16).toUpperCase() + \" is not a scalar value\");\n    }\n  }\n  function createByte(point, shift) {\n    return stringFromCharCode(point >> shift & 63 | 128);\n  }\n  function encodeCodePoint(point) {\n    if ((point & 4294967168) == 0) {\n      return stringFromCharCode(point);\n    }\n    let symbol = \"\";\n    if ((point & 4294965248) == 0) {\n      symbol = stringFromCharCode(point >> 6 & 31 | 192);\n    } else if ((point & 4294901760) == 0) {\n      checkScalarValue(point);\n      symbol = stringFromCharCode(point >> 12 & 15 | 224);\n      symbol += createByte(point, 6);\n    } else if ((point & 4292870144) == 0) {\n      symbol = stringFromCharCode(point >> 18 & 7 | 240);\n      symbol += createByte(point, 12);\n      symbol += createByte(point, 6);\n    }\n    symbol += stringFromCharCode(point & 63 | 128);\n    return symbol;\n  }\n  const codePoints = ucs2decode(s);\n  const length = codePoints.length;\n  let index = -1;\n  let codePoint;\n  let byteString = \"\";\n  while (++index < length) {\n    codePoint = codePoints[index];\n    byteString += encodeCodePoint(codePoint);\n  }\n  return byteString;\n}\nfunction _capitalise(str) {\n  return str[0].toUpperCase() + str.substring(1).toLowerCase();\n}\nfunction _escapeString(toEscape, skipEscapingHtmlChars) {\n  if (toEscape == null) {\n    return null;\n  }\n  const stringResult = toEscape.toString().toString();\n  if (skipEscapingHtmlChars) {\n    return stringResult;\n  }\n  return stringResult.replace(reUnescapedHtml, (chr) => HTML_ESCAPES[chr]);\n}\nfunction _camelCaseToHumanText(camelCase) {\n  if (!camelCase || camelCase == null) {\n    return null;\n  }\n  const rex = /([a-z])([A-Z])/g;\n  const rexCaps = /([A-Z]+)([A-Z])([a-z])/g;\n  const words = camelCase.replace(rex, \"$1 $2\").replace(rexCaps, \"$1 $2$3\").replace(/\\./g, \" \").split(\" \");\n  return words.map((word) => word.substring(0, 1).toUpperCase() + (word.length > 1 ? word.substring(1, word.length) : \"\")).join(\" \");\n}\nfunction _camelCaseToHyphenated(camelCase) {\n  return camelCase.replace(/[A-Z]/g, (s) => `-${s.toLocaleLowerCase()}`);\n}\n\n// community-modules/core/src/columns/columnNameService.ts\nvar ColumnNameService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnNameService\";\n  }\n  wireBeans(beans) {\n    this.expressionService = beans.expressionService;\n    this.funcColsService = beans.funcColsService;\n    this.columnModel = beans.columnModel;\n  }\n  getDisplayNameForColumn(column, location, includeAggFunc = false) {\n    if (!column) {\n      return null;\n    }\n    const headerName = this.getHeaderName(column.getColDef(), column, null, null, location);\n    if (includeAggFunc) {\n      return this.wrapHeaderNameWithAggFunc(column, headerName);\n    }\n    return headerName;\n  }\n  getDisplayNameForProvidedColumnGroup(columnGroup, providedColumnGroup, location) {\n    const colGroupDef = providedColumnGroup ? providedColumnGroup.getColGroupDef() : null;\n    if (colGroupDef) {\n      return this.getHeaderName(colGroupDef, null, columnGroup, providedColumnGroup, location);\n    }\n    return null;\n  }\n  getDisplayNameForColumnGroup(columnGroup, location) {\n    return this.getDisplayNameForProvidedColumnGroup(columnGroup, columnGroup.getProvidedColumnGroup(), location);\n  }\n  // location is where the column is going to appear, ie who is calling us\n  getHeaderName(colDef, column, columnGroup, providedColumnGroup, location) {\n    const headerValueGetter = colDef.headerValueGetter;\n    if (headerValueGetter) {\n      const params = this.gos.addGridCommonParams({\n        colDef,\n        column,\n        columnGroup,\n        providedColumnGroup,\n        location\n      });\n      if (typeof headerValueGetter === \"function\") {\n        return headerValueGetter(params);\n      } else if (typeof headerValueGetter === \"string\") {\n        return this.expressionService.evaluate(headerValueGetter, params);\n      }\n      _warnOnce(\"headerValueGetter must be a function or a string\");\n      return \"\";\n    } else if (colDef.headerName != null) {\n      return colDef.headerName;\n    } else if (colDef.field) {\n      return _camelCaseToHumanText(colDef.field);\n    }\n    return \"\";\n  }\n  wrapHeaderNameWithAggFunc(column, headerName) {\n    if (this.gos.get(\"suppressAggFuncInHeader\")) {\n      return headerName;\n    }\n    const pivotValueColumn = column.getColDef().pivotValueColumn;\n    const pivotActiveOnThisColumn = _exists(pivotValueColumn);\n    let aggFunc = null;\n    let aggFuncFound;\n    if (pivotActiveOnThisColumn) {\n      const valueColumns = this.funcColsService.getValueColumns();\n      const isCollapsedHeaderEnabled = this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\") && valueColumns.length === 1;\n      const isTotalColumn = column.getColDef().pivotTotalColumnIds !== void 0;\n      if (isCollapsedHeaderEnabled && !isTotalColumn) {\n        return headerName;\n      }\n      aggFunc = pivotValueColumn ? pivotValueColumn.getAggFunc() : null;\n      aggFuncFound = true;\n    } else {\n      const measureActive = column.isValueActive();\n      const aggregationPresent = this.columnModel.isPivotMode() || !this.funcColsService.isRowGroupEmpty();\n      if (measureActive && aggregationPresent) {\n        aggFunc = column.getAggFunc();\n        aggFuncFound = true;\n      } else {\n        aggFuncFound = false;\n      }\n    }\n    if (aggFuncFound) {\n      const aggFuncString = typeof aggFunc === \"string\" ? aggFunc : \"func\";\n      const localeTextFunc = this.localeService.getLocaleTextFunc();\n      const aggFuncStringTranslated = localeTextFunc(aggFuncString, aggFuncString);\n      return `${aggFuncStringTranslated}(${headerName})`;\n    }\n    return headerName;\n  }\n};\n\n// community-modules/core/src/columns/pivotResultColsService.ts\nvar PivotResultColsService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pivotResultColsService\";\n  }\n  wireBeans(beans) {\n    this.context = beans.context;\n    this.columnModel = beans.columnModel;\n    this.columnFactory = beans.columnFactory;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  destroy() {\n    destroyColumnTree(this.context, this.pivotResultCols?.tree);\n    super.destroy();\n  }\n  isPivotResultColsPresent() {\n    return this.pivotResultCols != null;\n  }\n  lookupPivotResultCol(pivotKeys, valueColKey) {\n    if (this.pivotResultCols == null) {\n      return null;\n    }\n    const valueColumnToFind = this.columnModel.getColDefCol(valueColKey);\n    let foundColumn = null;\n    this.pivotResultCols.list.forEach((column) => {\n      const thisPivotKeys = column.getColDef().pivotKeys;\n      const pivotValueColumn = column.getColDef().pivotValueColumn;\n      const pivotKeyMatches = _areEqual(thisPivotKeys, pivotKeys);\n      const pivotValueMatches = pivotValueColumn === valueColumnToFind;\n      if (pivotKeyMatches && pivotValueMatches) {\n        foundColumn = column;\n      }\n    });\n    return foundColumn;\n  }\n  getPivotResultCols() {\n    return this.pivotResultCols;\n  }\n  getPivotResultCol(key) {\n    if (!this.pivotResultCols) {\n      return null;\n    }\n    return this.columnModel.getColFromCollection(key, this.pivotResultCols);\n  }\n  setPivotResultCols(colDefs, source) {\n    if (!this.columnModel.isReady()) {\n      return;\n    }\n    if (colDefs == null && this.pivotResultCols == null) {\n      return;\n    }\n    if (colDefs) {\n      this.processPivotResultColDef(colDefs);\n      const balancedTreeResult = this.columnFactory.createColumnTree(\n        colDefs,\n        false,\n        this.pivotResultCols?.tree || this.previousPivotResultCols || void 0,\n        source\n      );\n      destroyColumnTree(this.context, this.pivotResultCols?.tree, balancedTreeResult.columnTree);\n      const tree = balancedTreeResult.columnTree;\n      const treeDepth = balancedTreeResult.treeDept;\n      const list = getColumnsFromTree(tree);\n      const map = {};\n      this.pivotResultCols = { tree, treeDepth, list, map };\n      this.pivotResultCols.list.forEach((col) => this.pivotResultCols.map[col.getId()] = col);\n      const hasPreviousCols = !!this.previousPivotResultCols;\n      this.previousPivotResultCols = null;\n      this.columnModel.refreshCols(!hasPreviousCols);\n    } else {\n      this.previousPivotResultCols = this.pivotResultCols ? this.pivotResultCols.tree : null;\n      this.pivotResultCols = null;\n      this.columnModel.refreshCols(false);\n    }\n    this.visibleColsService.refresh(source);\n  }\n  processPivotResultColDef(colDefs) {\n    const columnCallback = this.gos.get(\"processPivotResultColDef\");\n    const groupCallback = this.gos.get(\"processPivotResultColGroupDef\");\n    if (!columnCallback && !groupCallback) {\n      return void 0;\n    }\n    const searchForColDefs = (colDefs2) => {\n      colDefs2.forEach((abstractColDef) => {\n        const isGroup = _exists(abstractColDef.children);\n        if (isGroup) {\n          const colGroupDef = abstractColDef;\n          if (groupCallback) {\n            groupCallback(colGroupDef);\n          }\n          searchForColDefs(colGroupDef.children);\n        } else {\n          const colDef = abstractColDef;\n          if (columnCallback) {\n            columnCallback(colDef);\n          }\n        }\n      });\n    };\n    if (colDefs) {\n      searchForColDefs(colDefs);\n    }\n  }\n};\n\n// community-modules/core/src/columns/columnSizeService.ts\nvar ColumnSizeService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnSizeService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnViewportService = beans.columnViewportService;\n    this.eventDispatcher = beans.columnEventDispatcher;\n    this.visibleColsService = beans.visibleColsService;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  setColumnWidths(columnWidths, shiftKey, finished, source) {\n    const sets = [];\n    columnWidths.forEach((columnWidth) => {\n      const col = this.columnModel.getColDefCol(columnWidth.key) || this.columnModel.getCol(columnWidth.key);\n      if (!col) {\n        return;\n      }\n      sets.push({\n        width: columnWidth.newWidth,\n        ratios: [1],\n        columns: [col]\n      });\n      const defaultIsShift = this.gos.get(\"colResizeDefault\") === \"shift\";\n      if (defaultIsShift) {\n        shiftKey = !shiftKey;\n      }\n      if (shiftKey) {\n        const otherCol = this.visibleColsService.getColAfter(col);\n        if (!otherCol) {\n          return;\n        }\n        const widthDiff = col.getActualWidth() - columnWidth.newWidth;\n        const otherColWidth = otherCol.getActualWidth() + widthDiff;\n        sets.push({\n          width: otherColWidth,\n          ratios: [1],\n          columns: [otherCol]\n        });\n      }\n    });\n    if (sets.length === 0) {\n      return;\n    }\n    this.resizeColumnSets({\n      resizeSets: sets,\n      finished,\n      source\n    });\n  }\n  // method takes sets of columns and resizes them. either all sets will be resized, or nothing\n  // be resized. this is used for example when user tries to resize a group and holds shift key,\n  // then both the current group (grows), and the adjacent group (shrinks), will get resized,\n  // so that's two sets for this method.\n  resizeColumnSets(params) {\n    const { resizeSets, finished, source } = params;\n    const passMinMaxCheck = !resizeSets || resizeSets.every((columnResizeSet) => this.checkMinAndMaxWidthsForSet(columnResizeSet));\n    if (!passMinMaxCheck) {\n      if (finished) {\n        const columns = resizeSets && resizeSets.length > 0 ? resizeSets[0].columns : null;\n        this.eventDispatcher.columnResized(columns, finished, source);\n      }\n      return;\n    }\n    const changedCols = [];\n    const allResizedCols = [];\n    resizeSets.forEach((set) => {\n      const { width, columns, ratios } = set;\n      const newWidths = {};\n      const finishedCols = {};\n      columns.forEach((col) => allResizedCols.push(col));\n      let finishedColsGrew = true;\n      let loopCount = 0;\n      while (finishedColsGrew) {\n        loopCount++;\n        if (loopCount > 1e3) {\n          _errorOnce(\"infinite loop in resizeColumnSets\");\n          break;\n        }\n        finishedColsGrew = false;\n        const subsetCols = [];\n        let subsetRatioTotal = 0;\n        let pixelsToDistribute = width;\n        columns.forEach((col, index) => {\n          const thisColFinished = finishedCols[col.getId()];\n          if (thisColFinished) {\n            pixelsToDistribute -= newWidths[col.getId()];\n          } else {\n            subsetCols.push(col);\n            const ratioThisCol = ratios[index];\n            subsetRatioTotal += ratioThisCol;\n          }\n        });\n        const ratioScale = 1 / subsetRatioTotal;\n        subsetCols.forEach((col, index) => {\n          const lastCol = index === subsetCols.length - 1;\n          let colNewWidth;\n          if (lastCol) {\n            colNewWidth = pixelsToDistribute;\n          } else {\n            colNewWidth = Math.round(ratios[index] * width * ratioScale);\n            pixelsToDistribute -= colNewWidth;\n          }\n          const minWidth = col.getMinWidth();\n          const maxWidth = col.getMaxWidth();\n          if (colNewWidth < minWidth) {\n            colNewWidth = minWidth;\n            finishedCols[col.getId()] = true;\n            finishedColsGrew = true;\n          } else if (maxWidth > 0 && colNewWidth > maxWidth) {\n            colNewWidth = maxWidth;\n            finishedCols[col.getId()] = true;\n            finishedColsGrew = true;\n          }\n          newWidths[col.getId()] = colNewWidth;\n        });\n      }\n      columns.forEach((col) => {\n        const newWidth = newWidths[col.getId()];\n        const actualWidth = col.getActualWidth();\n        if (actualWidth !== newWidth) {\n          col.setActualWidth(newWidth, source);\n          changedCols.push(col);\n        }\n      });\n    });\n    const atLeastOneColChanged = changedCols.length > 0;\n    let flexedCols = [];\n    if (atLeastOneColChanged) {\n      flexedCols = this.refreshFlexedColumns({ resizingCols: allResizedCols, skipSetLeft: true });\n      this.visibleColsService.setLeftValues(source);\n      this.visibleColsService.updateBodyWidths();\n      this.columnViewportService.checkViewportColumns();\n    }\n    const colsForEvent = allResizedCols.concat(flexedCols);\n    if (atLeastOneColChanged || finished) {\n      this.eventDispatcher.columnResized(colsForEvent, finished, source, flexedCols);\n    }\n  }\n  checkMinAndMaxWidthsForSet(columnResizeSet) {\n    const { columns, width } = columnResizeSet;\n    let minWidthAccumulated = 0;\n    let maxWidthAccumulated = 0;\n    let maxWidthActive = true;\n    columns.forEach((col) => {\n      const minWidth = col.getMinWidth();\n      minWidthAccumulated += minWidth || 0;\n      const maxWidth = col.getMaxWidth();\n      if (maxWidth > 0) {\n        maxWidthAccumulated += maxWidth;\n      } else {\n        maxWidthActive = false;\n      }\n    });\n    const minWidthPasses = width >= minWidthAccumulated;\n    const maxWidthPasses = !maxWidthActive || width <= maxWidthAccumulated;\n    return minWidthPasses && maxWidthPasses;\n  }\n  refreshFlexedColumns(params = {}) {\n    const source = params.source ? params.source : \"flex\";\n    if (params.viewportWidth != null) {\n      this.flexViewportWidth = params.viewportWidth;\n    }\n    if (!this.flexViewportWidth) {\n      return [];\n    }\n    const displayedCenterCols = this.visibleColsService.getCenterCols();\n    let flexAfterDisplayIndex = -1;\n    if (params.resizingCols) {\n      const allResizingCols = new Set(params.resizingCols);\n      for (let i = displayedCenterCols.length - 1; i >= 0; i--) {\n        if (allResizingCols.has(displayedCenterCols[i])) {\n          flexAfterDisplayIndex = i;\n          break;\n        }\n      }\n    }\n    let knownColumnsWidth = 0;\n    let flexingColumns = [];\n    let minimumFlexedWidth = 0;\n    let totalFlex = 0;\n    for (let i = 0; i < displayedCenterCols.length; i++) {\n      const isFlex = displayedCenterCols[i].getFlex() && i > flexAfterDisplayIndex;\n      if (isFlex) {\n        flexingColumns.push(displayedCenterCols[i]);\n        totalFlex += displayedCenterCols[i].getFlex();\n        minimumFlexedWidth += displayedCenterCols[i].getMinWidth();\n      } else {\n        knownColumnsWidth += displayedCenterCols[i].getActualWidth();\n      }\n    }\n    if (!flexingColumns.length) {\n      return [];\n    }\n    let changedColumns = [];\n    if (knownColumnsWidth + minimumFlexedWidth > this.flexViewportWidth) {\n      flexingColumns.forEach((col) => col.setActualWidth(col.getMinWidth(), source));\n      changedColumns = flexingColumns;\n      flexingColumns = [];\n    }\n    const flexingColumnSizes = [];\n    let spaceForFlexingColumns;\n    outer:\n      while (true) {\n        spaceForFlexingColumns = this.flexViewportWidth - knownColumnsWidth;\n        const spacePerFlex = spaceForFlexingColumns / totalFlex;\n        for (let i = 0; i < flexingColumns.length; i++) {\n          const col = flexingColumns[i];\n          const widthByFlexRule = spacePerFlex * col.getFlex();\n          let constrainedWidth = 0;\n          const minWidth = col.getMinWidth();\n          const maxWidth = col.getMaxWidth();\n          if (widthByFlexRule < minWidth) {\n            constrainedWidth = minWidth;\n          } else if (widthByFlexRule > maxWidth) {\n            constrainedWidth = maxWidth;\n          }\n          if (constrainedWidth) {\n            col.setActualWidth(constrainedWidth, source);\n            _removeFromUnorderedArray(flexingColumns, col);\n            totalFlex -= col.getFlex();\n            changedColumns.push(col);\n            knownColumnsWidth += col.getActualWidth();\n            continue outer;\n          }\n          flexingColumnSizes[i] = Math.floor(widthByFlexRule);\n        }\n        break;\n      }\n    let remainingSpace = spaceForFlexingColumns;\n    flexingColumns.forEach((col, i) => {\n      const size = i < flexingColumns.length - 1 ? Math.min(flexingColumnSizes[i], remainingSpace) : (\n        // ensure flex columns fill available width by growing the last column to fit available space if there is more available\n        Math.max(flexingColumnSizes[i], remainingSpace)\n      );\n      col.setActualWidth(size, source);\n      changedColumns.push(col);\n      remainingSpace -= flexingColumnSizes[i];\n    });\n    if (!params.skipSetLeft) {\n      this.visibleColsService.setLeftValues(source);\n    }\n    if (params.updateBodyWidths) {\n      this.visibleColsService.updateBodyWidths();\n    }\n    if (params.fireResizedEvent) {\n      this.eventDispatcher.columnResized(changedColumns, true, source, flexingColumns);\n    }\n    return flexingColumns;\n  }\n  // called from api\n  sizeColumnsToFit(gridWidth, source = \"sizeColumnsToFit\", silent, params) {\n    if (this.columnModel.isShouldQueueResizeOperations()) {\n      this.columnModel.pushResizeOperation(() => this.sizeColumnsToFit(gridWidth, source, silent, params));\n      return;\n    }\n    const limitsMap = {};\n    if (params) {\n      params?.columnLimits?.forEach(({ key, ...dimensions }) => {\n        limitsMap[typeof key === \"string\" ? key : key.getColId()] = dimensions;\n      });\n    }\n    const allDisplayedColumns = this.visibleColsService.getAllCols();\n    const doColumnsAlreadyFit = gridWidth === getWidthOfColsInList(allDisplayedColumns);\n    if (gridWidth <= 0 || !allDisplayedColumns.length || doColumnsAlreadyFit) {\n      return;\n    }\n    const colsToSpread = [];\n    const colsToNotSpread = [];\n    allDisplayedColumns.forEach((column) => {\n      if (column.getColDef().suppressSizeToFit === true) {\n        colsToNotSpread.push(column);\n      } else {\n        colsToSpread.push(column);\n      }\n    });\n    const colsToDispatchEventFor = colsToSpread.slice(0);\n    let finishedResizing = false;\n    const moveToNotSpread = (column) => {\n      _removeFromArray(colsToSpread, column);\n      colsToNotSpread.push(column);\n    };\n    colsToSpread.forEach((column) => {\n      column.resetActualWidth(source);\n      const widthOverride = limitsMap?.[column.getId()];\n      const minOverride = widthOverride?.minWidth ?? params?.defaultMinWidth;\n      const maxOverride = widthOverride?.maxWidth ?? params?.defaultMaxWidth;\n      const colWidth = column.getActualWidth();\n      if (typeof minOverride === \"number\" && colWidth < minOverride) {\n        column.setActualWidth(minOverride, source, true);\n      } else if (typeof maxOverride === \"number\" && colWidth > maxOverride) {\n        column.setActualWidth(maxOverride, source, true);\n      }\n    });\n    while (!finishedResizing) {\n      finishedResizing = true;\n      const availablePixels = gridWidth - getWidthOfColsInList(colsToNotSpread);\n      if (availablePixels <= 0) {\n        colsToSpread.forEach((column) => {\n          const widthOverride = limitsMap?.[column.getId()]?.minWidth ?? params?.defaultMinWidth;\n          if (typeof widthOverride === \"number\") {\n            column.setActualWidth(widthOverride, source, true);\n            return;\n          }\n          column.setMinimum(source);\n        });\n      } else {\n        const scale = availablePixels / getWidthOfColsInList(colsToSpread);\n        let pixelsForLastCol = availablePixels;\n        for (let i = colsToSpread.length - 1; i >= 0; i--) {\n          const column = colsToSpread[i];\n          const widthOverride = limitsMap?.[column.getId()];\n          const minOverride = widthOverride?.minWidth ?? params?.defaultMinWidth;\n          const maxOverride = widthOverride?.maxWidth ?? params?.defaultMaxWidth;\n          const colMinWidth = column.getMinWidth();\n          const colMaxWidth = column.getMaxWidth();\n          const minWidth = typeof minOverride === \"number\" && minOverride > colMinWidth ? minOverride : colMinWidth;\n          const maxWidth = typeof maxOverride === \"number\" && maxOverride < colMaxWidth ? maxOverride : colMaxWidth;\n          let newWidth = Math.round(column.getActualWidth() * scale);\n          if (newWidth < minWidth) {\n            newWidth = minWidth;\n            moveToNotSpread(column);\n            finishedResizing = false;\n          } else if (newWidth > maxWidth) {\n            newWidth = maxWidth;\n            moveToNotSpread(column);\n            finishedResizing = false;\n          } else if (i === 0) {\n            newWidth = pixelsForLastCol;\n          }\n          column.setActualWidth(newWidth, source, true);\n          pixelsForLastCol -= newWidth;\n        }\n      }\n    }\n    colsToDispatchEventFor.forEach((col) => {\n      col.fireColumnWidthChangedEvent(source);\n    });\n    this.visibleColsService.setLeftValues(source);\n    this.visibleColsService.updateBodyWidths();\n    if (silent) {\n      return;\n    }\n    this.eventDispatcher.columnResized(colsToDispatchEventFor, true, source);\n  }\n  applyAutosizeStrategy() {\n    const autoSizeStrategy = this.gos.get(\"autoSizeStrategy\");\n    if (!autoSizeStrategy) {\n      return;\n    }\n    const { type } = autoSizeStrategy;\n    setTimeout(() => {\n      if (type === \"fitGridWidth\") {\n        const { columnLimits: propColumnLimits, defaultMinWidth, defaultMaxWidth } = autoSizeStrategy;\n        const columnLimits = propColumnLimits?.map(({ colId: key, minWidth, maxWidth }) => ({\n          key,\n          minWidth,\n          maxWidth\n        }));\n        this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({\n          defaultMinWidth,\n          defaultMaxWidth,\n          columnLimits\n        });\n      } else if (type === \"fitProvidedWidth\") {\n        this.sizeColumnsToFit(autoSizeStrategy.width, \"sizeColumnsToFit\");\n      }\n    });\n  }\n};\n\n// community-modules/core/src/entities/agColumnGroup.ts\nfunction createUniqueColumnGroupId(groupId, instanceId) {\n  return groupId + \"_\" + instanceId;\n}\nfunction isColumnGroup(col) {\n  return col instanceof AgColumnGroup;\n}\nvar AgColumnGroup = class extends BeanStub {\n  constructor(providedColumnGroup, groupId, partId, pinned) {\n    super();\n    this.isColumn = false;\n    // depends on the open/closed state of the group, only displaying columns are stored here\n    this.displayedChildren = [];\n    // The measured height of this column's header when autoHeaderHeight is enabled\n    this.autoHeaderHeight = null;\n    this.parent = null;\n    this.groupId = groupId;\n    this.partId = partId;\n    this.providedColumnGroup = providedColumnGroup;\n    this.pinned = pinned;\n  }\n  // as the user is adding and removing columns, the groups are recalculated.\n  // this reset clears out all children, ready for children to be added again\n  reset() {\n    this.parent = null;\n    this.children = null;\n    this.displayedChildren = null;\n  }\n  getParent() {\n    return this.parent;\n  }\n  setParent(parent) {\n    this.parent = parent;\n  }\n  getUniqueId() {\n    return createUniqueColumnGroupId(this.groupId, this.partId);\n  }\n  isEmptyGroup() {\n    return this.displayedChildren.length === 0;\n  }\n  isMoving() {\n    const allLeafColumns = this.getProvidedColumnGroup().getLeafColumns();\n    if (!allLeafColumns || allLeafColumns.length === 0) {\n      return false;\n    }\n    return allLeafColumns.every((col) => col.isMoving());\n  }\n  checkLeft() {\n    this.displayedChildren.forEach((child) => {\n      if (isColumnGroup(child)) {\n        child.checkLeft();\n      }\n    });\n    if (this.displayedChildren.length > 0) {\n      if (this.gos.get(\"enableRtl\")) {\n        const lastChild = _last(this.displayedChildren);\n        const lastChildLeft = lastChild.getLeft();\n        this.setLeft(lastChildLeft);\n      } else {\n        const firstChildLeft = this.displayedChildren[0].getLeft();\n        this.setLeft(firstChildLeft);\n      }\n    } else {\n      this.setLeft(null);\n    }\n  }\n  getLeft() {\n    return this.left;\n  }\n  getOldLeft() {\n    return this.oldLeft;\n  }\n  setLeft(left) {\n    this.oldLeft = this.left;\n    if (this.left !== left) {\n      this.left = left;\n      this.dispatchLocalEvent({ type: \"leftChanged\" });\n    }\n  }\n  getPinned() {\n    return this.pinned;\n  }\n  getGroupId() {\n    return this.groupId;\n  }\n  getPartId() {\n    return this.partId;\n  }\n  getActualWidth() {\n    let groupActualWidth = 0;\n    if (this.displayedChildren) {\n      this.displayedChildren.forEach((child) => {\n        groupActualWidth += child.getActualWidth();\n      });\n    }\n    return groupActualWidth;\n  }\n  isResizable() {\n    if (!this.displayedChildren) {\n      return false;\n    }\n    let result = false;\n    this.displayedChildren.forEach((child) => {\n      if (child.isResizable()) {\n        result = true;\n      }\n    });\n    return result;\n  }\n  getMinWidth() {\n    let result = 0;\n    this.displayedChildren.forEach((groupChild) => {\n      result += groupChild.getMinWidth();\n    });\n    return result;\n  }\n  addChild(child) {\n    if (!this.children) {\n      this.children = [];\n    }\n    this.children.push(child);\n  }\n  getDisplayedChildren() {\n    return this.displayedChildren;\n  }\n  getLeafColumns() {\n    const result = [];\n    this.addLeafColumns(result);\n    return result;\n  }\n  getDisplayedLeafColumns() {\n    const result = [];\n    this.addDisplayedLeafColumns(result);\n    return result;\n  }\n  getDefinition() {\n    return this.providedColumnGroup.getColGroupDef();\n  }\n  getColGroupDef() {\n    return this.providedColumnGroup.getColGroupDef();\n  }\n  isPadding() {\n    return this.providedColumnGroup.isPadding();\n  }\n  isExpandable() {\n    return this.providedColumnGroup.isExpandable();\n  }\n  isExpanded() {\n    return this.providedColumnGroup.isExpanded();\n  }\n  setExpanded(expanded) {\n    this.providedColumnGroup.setExpanded(expanded);\n  }\n  isAutoHeaderHeight() {\n    return !!this.getColGroupDef()?.autoHeaderHeight;\n  }\n  getAutoHeaderHeight() {\n    return this.autoHeaderHeight;\n  }\n  /** Returns true if the header height has changed */\n  setAutoHeaderHeight(height) {\n    const changed = height !== this.autoHeaderHeight;\n    this.autoHeaderHeight = height;\n    return changed;\n  }\n  addDisplayedLeafColumns(leafColumns) {\n    this.displayedChildren.forEach((child) => {\n      if (isColumn(child)) {\n        leafColumns.push(child);\n      } else if (isColumnGroup(child)) {\n        child.addDisplayedLeafColumns(leafColumns);\n      }\n    });\n  }\n  addLeafColumns(leafColumns) {\n    this.children.forEach((child) => {\n      if (isColumn(child)) {\n        leafColumns.push(child);\n      } else if (isColumnGroup(child)) {\n        child.addLeafColumns(leafColumns);\n      }\n    });\n  }\n  getChildren() {\n    return this.children;\n  }\n  getColumnGroupShow() {\n    return this.providedColumnGroup.getColumnGroupShow();\n  }\n  getProvidedColumnGroup() {\n    return this.providedColumnGroup;\n  }\n  getPaddingLevel() {\n    const parent = this.getParent();\n    if (!this.isPadding() || !parent || !parent.isPadding()) {\n      return 0;\n    }\n    return 1 + parent.getPaddingLevel();\n  }\n  calculateDisplayedColumns() {\n    this.displayedChildren = [];\n    let parentWithExpansion = this;\n    while (parentWithExpansion != null && parentWithExpansion.isPadding()) {\n      parentWithExpansion = parentWithExpansion.getParent();\n    }\n    const isExpandable = parentWithExpansion ? parentWithExpansion.getProvidedColumnGroup().isExpandable() : false;\n    if (!isExpandable) {\n      this.displayedChildren = this.children;\n      this.dispatchLocalEvent({ type: \"displayedChildrenChanged\" });\n      return;\n    }\n    this.children.forEach((child) => {\n      const emptyGroup = isColumnGroup(child) && (!child.displayedChildren || !child.displayedChildren.length);\n      if (emptyGroup) {\n        return;\n      }\n      const headerGroupShow = child.getColumnGroupShow();\n      switch (headerGroupShow) {\n        case \"open\":\n          if (parentWithExpansion.getProvidedColumnGroup().isExpanded()) {\n            this.displayedChildren.push(child);\n          }\n          break;\n        case \"closed\":\n          if (!parentWithExpansion.getProvidedColumnGroup().isExpanded()) {\n            this.displayedChildren.push(child);\n          }\n          break;\n        default:\n          this.displayedChildren.push(child);\n          break;\n      }\n    });\n    this.dispatchLocalEvent({ type: \"displayedChildrenChanged\" });\n  }\n};\n\n// community-modules/core/src/columns/groupInstanceIdCreator.ts\nvar GroupInstanceIdCreator = class {\n  constructor() {\n    // this map contains keys to numbers, so we remember what the last call was\n    this.existingIds = {};\n  }\n  getInstanceIdForKey(key) {\n    const lastResult = this.existingIds[key];\n    let result;\n    if (typeof lastResult !== \"number\") {\n      result = 0;\n    } else {\n      result = lastResult + 1;\n    }\n    this.existingIds[key] = result;\n    return result;\n  }\n};\n\n// community-modules/core/src/columns/visibleColsService.ts\nvar VisibleColsService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"visibleColsService\";\n    // for fast lookup, to see if a column or group is still visible\n    this.colsAndGroupsMap = {};\n    // leave level columns of the displayed trees\n    this.columnsLeft = [];\n    this.columnsRight = [];\n    this.columnsCenter = [];\n    // all three lists above combined\n    this.columns = [];\n    this.bodyWidth = 0;\n    this.leftWidth = 0;\n    this.rightWidth = 0;\n    this.bodyWidthDirty = true;\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnSizeService = beans.columnSizeService;\n    this.columnViewportService = beans.columnViewportService;\n    this.eventDispatcher = beans.columnEventDispatcher;\n  }\n  refresh(source, skipTreeBuild = false) {\n    if (!skipTreeBuild) {\n      this.buildTrees();\n    }\n    this.updateOpenClosedVisibilityInColumnGroups();\n    this.columnsLeft = pickDisplayedCols(this.treeLeft);\n    this.columnsCenter = pickDisplayedCols(this.treeCenter);\n    this.columnsRight = pickDisplayedCols(this.treeRight);\n    this.joinColsAriaOrder();\n    this.joinCols();\n    this.setLeftValues(source);\n    this.autoHeightCols = this.columns.filter((col) => col.isAutoHeight());\n    this.columnSizeService.refreshFlexedColumns();\n    this.updateBodyWidths();\n    this.columnViewportService.checkViewportColumns(false);\n    this.setFirstRightAndLastLeftPinned(source);\n    this.eventDispatcher.visibleCols(source);\n  }\n  // after setColumnWidth or updateGroupsAndPresentedCols\n  updateBodyWidths() {\n    const newBodyWidth = getWidthOfColsInList(this.columnsCenter);\n    const newLeftWidth = getWidthOfColsInList(this.columnsLeft);\n    const newRightWidth = getWidthOfColsInList(this.columnsRight);\n    this.bodyWidthDirty = this.bodyWidth !== newBodyWidth;\n    const atLeastOneChanged = this.bodyWidth !== newBodyWidth || this.leftWidth !== newLeftWidth || this.rightWidth !== newRightWidth;\n    if (atLeastOneChanged) {\n      this.bodyWidth = newBodyWidth;\n      this.leftWidth = newLeftWidth;\n      this.rightWidth = newRightWidth;\n      this.eventService.dispatchEvent({\n        type: \"columnContainerWidthChanged\"\n      });\n      this.eventService.dispatchEvent({\n        type: \"displayedColumnsWidthChanged\"\n      });\n    }\n  }\n  // sets the left pixel position of each column\n  setLeftValues(source) {\n    this.setLeftValuesOfCols(source);\n    this.setLeftValuesOfGroups();\n  }\n  setFirstRightAndLastLeftPinned(source) {\n    let lastLeft;\n    let firstRight;\n    if (this.gos.get(\"enableRtl\")) {\n      lastLeft = this.columnsLeft ? this.columnsLeft[0] : null;\n      firstRight = this.columnsRight ? _last(this.columnsRight) : null;\n    } else {\n      lastLeft = this.columnsLeft ? _last(this.columnsLeft) : null;\n      firstRight = this.columnsRight ? this.columnsRight[0] : null;\n    }\n    this.columnModel.getCols().forEach((col) => {\n      col.setLastLeftPinned(col === lastLeft, source);\n      col.setFirstRightPinned(col === firstRight, source);\n    });\n  }\n  buildTrees() {\n    const cols = this.columnModel.getColsToShow();\n    const leftCols = cols.filter((col) => col.getPinned() == \"left\");\n    const rightCols = cols.filter((col) => col.getPinned() == \"right\");\n    const centerCols = cols.filter((col) => col.getPinned() != \"left\" && col.getPinned() != \"right\");\n    const idCreator = new GroupInstanceIdCreator();\n    this.treeLeft = this.createGroups({\n      columns: leftCols,\n      idCreator,\n      pinned: \"left\",\n      oldDisplayedGroups: this.treeLeft\n    });\n    this.treeRight = this.createGroups({\n      columns: rightCols,\n      idCreator,\n      pinned: \"right\",\n      oldDisplayedGroups: this.treeRight\n    });\n    this.treeCenter = this.createGroups({\n      columns: centerCols,\n      idCreator,\n      pinned: null,\n      oldDisplayedGroups: this.treeCenter\n    });\n    this.updateColsAndGroupsMap();\n  }\n  clear() {\n    this.columnsLeft = [];\n    this.columnsRight = [];\n    this.columnsCenter = [];\n    this.columns = [];\n    this.ariaOrderColumns = [];\n  }\n  joinColsAriaOrder() {\n    const allColumns = this.columnModel.getCols();\n    const pinnedLeft = [];\n    const center = [];\n    const pinnedRight = [];\n    for (const col of allColumns) {\n      const pinned = col.getPinned();\n      if (!pinned) {\n        center.push(col);\n      } else if (pinned === true || pinned === \"left\") {\n        pinnedLeft.push(col);\n      } else {\n        pinnedRight.push(col);\n      }\n    }\n    this.ariaOrderColumns = pinnedLeft.concat(center).concat(pinnedRight);\n  }\n  getAriaColIndex(colOrGroup) {\n    let col;\n    if (isColumnGroup(colOrGroup)) {\n      col = colOrGroup.getLeafColumns()[0];\n    } else {\n      col = colOrGroup;\n    }\n    return this.ariaOrderColumns.indexOf(col) + 1;\n  }\n  getAllAutoHeightCols() {\n    return this.autoHeightCols;\n  }\n  setLeftValuesOfGroups() {\n    [this.treeLeft, this.treeRight, this.treeCenter].forEach((columns) => {\n      columns.forEach((column) => {\n        if (isColumnGroup(column)) {\n          const columnGroup = column;\n          columnGroup.checkLeft();\n        }\n      });\n    });\n  }\n  setLeftValuesOfCols(source) {\n    const primaryCols = this.columnModel.getColDefCols();\n    if (!primaryCols) {\n      return;\n    }\n    const allColumns = this.columnModel.getCols().slice(0);\n    const doingRtl = this.gos.get(\"enableRtl\");\n    [this.columnsLeft, this.columnsRight, this.columnsCenter].forEach((columns) => {\n      if (doingRtl) {\n        let left = getWidthOfColsInList(columns);\n        columns.forEach((column) => {\n          left -= column.getActualWidth();\n          column.setLeft(left, source);\n        });\n      } else {\n        let left = 0;\n        columns.forEach((column) => {\n          column.setLeft(left, source);\n          left += column.getActualWidth();\n        });\n      }\n      _removeAllFromUnorderedArray(allColumns, columns);\n    });\n    allColumns.forEach((column) => {\n      column.setLeft(null, source);\n    });\n  }\n  joinCols() {\n    if (this.gos.get(\"enableRtl\")) {\n      this.columns = this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft);\n    } else {\n      this.columns = this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight);\n    }\n  }\n  getColsCenter() {\n    return this.columnsCenter;\n  }\n  getAllTrees() {\n    if (this.treeLeft && this.treeRight && this.treeCenter) {\n      return this.treeLeft.concat(this.treeCenter).concat(this.treeRight);\n    }\n    return null;\n  }\n  // + headerRenderer -> setting pinned body width\n  getTreeLeft() {\n    return this.treeLeft;\n  }\n  // + headerRenderer -> setting pinned body width\n  getTreeRight() {\n    return this.treeRight;\n  }\n  // + headerRenderer -> setting pinned body width\n  getTreeCenter() {\n    return this.treeCenter;\n  }\n  // + csvCreator\n  getAllCols() {\n    return this.columns;\n  }\n  // gridPanel -> ensureColumnVisible\n  isColDisplayed(column) {\n    return this.getAllCols().indexOf(column) >= 0;\n  }\n  getLeftColsForRow(rowNode) {\n    const colSpanActive = this.columnModel.isColSpanActive();\n    if (!colSpanActive) {\n      return this.columnsLeft;\n    }\n    return this.getColsForRow(rowNode, this.columnsLeft);\n  }\n  getRightColsForRow(rowNode) {\n    const colSpanActive = this.columnModel.isColSpanActive();\n    if (!colSpanActive) {\n      return this.columnsRight;\n    }\n    return this.getColsForRow(rowNode, this.columnsRight);\n  }\n  getColsForRow(rowNode, displayedColumns, filterCallback, emptySpaceBeforeColumn) {\n    const result = [];\n    let lastConsideredCol = null;\n    for (let i = 0; i < displayedColumns.length; i++) {\n      const col = displayedColumns[i];\n      const maxAllowedColSpan = displayedColumns.length - i;\n      const colSpan = Math.min(col.getColSpan(rowNode), maxAllowedColSpan);\n      const columnsToCheckFilter = [col];\n      if (colSpan > 1) {\n        const colsToRemove = colSpan - 1;\n        for (let j = 1; j <= colsToRemove; j++) {\n          columnsToCheckFilter.push(displayedColumns[i + j]);\n        }\n        i += colsToRemove;\n      }\n      let filterPasses;\n      if (filterCallback) {\n        filterPasses = false;\n        columnsToCheckFilter.forEach((colForFilter) => {\n          if (filterCallback(colForFilter)) {\n            filterPasses = true;\n          }\n        });\n      } else {\n        filterPasses = true;\n      }\n      if (filterPasses) {\n        if (result.length === 0 && lastConsideredCol) {\n          const gapBeforeColumn = emptySpaceBeforeColumn ? emptySpaceBeforeColumn(col) : false;\n          if (gapBeforeColumn) {\n            result.push(lastConsideredCol);\n          }\n        }\n        result.push(col);\n      }\n      lastConsideredCol = col;\n    }\n    return result;\n  }\n  // used by:\n  // + angularGrid -> for setting body width\n  // + rowController -> setting main row widths (when inserting and resizing)\n  // need to cache this\n  getBodyContainerWidth() {\n    return this.bodyWidth;\n  }\n  getContainerWidth(pinned) {\n    switch (pinned) {\n      case \"left\":\n        return this.leftWidth;\n      case \"right\":\n        return this.rightWidth;\n      default:\n        return this.bodyWidth;\n    }\n  }\n  // + rowController -> while inserting rows\n  getCenterCols() {\n    return this.columnsCenter;\n  }\n  // + rowController -> while inserting rows\n  getLeftCols() {\n    return this.columnsLeft;\n  }\n  getRightCols() {\n    return this.columnsRight;\n  }\n  getColBefore(col) {\n    const allDisplayedColumns = this.getAllCols();\n    const oldIndex = allDisplayedColumns.indexOf(col);\n    if (oldIndex > 0) {\n      return allDisplayedColumns[oldIndex - 1];\n    }\n    return null;\n  }\n  getGroupAtDirection(columnGroup, direction) {\n    const requiredLevel = columnGroup.getProvidedColumnGroup().getLevel() + columnGroup.getPaddingLevel();\n    const colGroupLeafColumns = columnGroup.getDisplayedLeafColumns();\n    const col = direction === \"After\" ? _last(colGroupLeafColumns) : colGroupLeafColumns[0];\n    const getDisplayColMethod = `getCol${direction}`;\n    while (true) {\n      const column = this[getDisplayColMethod](col);\n      if (!column) {\n        return null;\n      }\n      const groupPointer = this.getColGroupAtLevel(column, requiredLevel);\n      if (groupPointer !== columnGroup) {\n        return groupPointer;\n      }\n    }\n  }\n  getColGroupAtLevel(column, level) {\n    let groupPointer = column.getParent();\n    let originalGroupLevel;\n    let groupPointerLevel;\n    while (true) {\n      const groupPointerProvidedColumnGroup = groupPointer.getProvidedColumnGroup();\n      originalGroupLevel = groupPointerProvidedColumnGroup.getLevel();\n      groupPointerLevel = groupPointer.getPaddingLevel();\n      if (originalGroupLevel + groupPointerLevel <= level) {\n        break;\n      }\n      groupPointer = groupPointer.getParent();\n    }\n    return groupPointer;\n  }\n  isPinningLeft() {\n    return this.columnsLeft.length > 0;\n  }\n  isPinningRight() {\n    return this.columnsRight.length > 0;\n  }\n  updateColsAndGroupsMap() {\n    this.colsAndGroupsMap = {};\n    const func = (child) => {\n      this.colsAndGroupsMap[child.getUniqueId()] = child;\n    };\n    depthFirstAllColumnTreeSearch(this.treeCenter, false, func);\n    depthFirstAllColumnTreeSearch(this.treeLeft, false, func);\n    depthFirstAllColumnTreeSearch(this.treeRight, false, func);\n  }\n  isVisible(item) {\n    const fromMap = this.colsAndGroupsMap[item.getUniqueId()];\n    return fromMap === item;\n  }\n  updateOpenClosedVisibilityInColumnGroups() {\n    const allColumnGroups = this.getAllTrees();\n    depthFirstAllColumnTreeSearch(allColumnGroups, false, (child) => {\n      if (isColumnGroup(child)) {\n        child.calculateDisplayedColumns();\n      }\n    });\n  }\n  getFirstColumn() {\n    const isRtl = this.gos.get(\"enableRtl\");\n    const queryOrder = [\n      \"getLeftCols\",\n      \"getCenterCols\",\n      \"getRightCols\"\n    ];\n    if (isRtl) {\n      queryOrder.reverse();\n    }\n    for (let i = 0; i < queryOrder.length; i++) {\n      const container = this[queryOrder[i]]();\n      if (container.length) {\n        return isRtl ? _last(container) : container[0];\n      }\n    }\n    return null;\n  }\n  // returns the group with matching colId and instanceId. If instanceId is missing,\n  // matches only on the colId.\n  getColumnGroup(colId, partId) {\n    if (!colId) {\n      return null;\n    }\n    if (isColumnGroup(colId)) {\n      return colId;\n    }\n    const allColumnGroups = this.getAllTrees();\n    const checkPartId = typeof partId === \"number\";\n    let result = null;\n    depthFirstAllColumnTreeSearch(allColumnGroups, false, (child) => {\n      if (isColumnGroup(child)) {\n        const columnGroup = child;\n        let matched;\n        if (checkPartId) {\n          matched = colId === columnGroup.getGroupId() && partId === columnGroup.getPartId();\n        } else {\n          matched = colId === columnGroup.getGroupId();\n        }\n        if (matched) {\n          result = columnGroup;\n        }\n      }\n    });\n    return result;\n  }\n  // used by:\n  // + rowRenderer -> for navigation\n  getColAfter(col) {\n    const allDisplayedColumns = this.getAllCols();\n    const oldIndex = allDisplayedColumns.indexOf(col);\n    if (oldIndex < allDisplayedColumns.length - 1) {\n      return allDisplayedColumns[oldIndex + 1];\n    }\n    return null;\n  }\n  isBodyWidthDirty() {\n    return this.bodyWidthDirty;\n  }\n  setBodyWidthDirty() {\n    this.bodyWidthDirty = true;\n  }\n  // used by:\n  // + angularGrid -> setting pinned body width\n  // note: this should be cached\n  getColsLeftWidth() {\n    return getWidthOfColsInList(this.columnsLeft);\n  }\n  // note: this should be cached\n  getDisplayedColumnsRightWidth() {\n    return getWidthOfColsInList(this.columnsRight);\n  }\n  isColAtEdge(col, edge) {\n    const allColumns = this.getAllCols();\n    if (!allColumns.length) {\n      return false;\n    }\n    const isFirst = edge === \"first\";\n    let columnToCompare;\n    if (isColumnGroup(col)) {\n      const leafColumns = col.getDisplayedLeafColumns();\n      if (!leafColumns.length) {\n        return false;\n      }\n      columnToCompare = isFirst ? leafColumns[0] : _last(leafColumns);\n    } else {\n      columnToCompare = col;\n    }\n    return (isFirst ? allColumns[0] : _last(allColumns)) === columnToCompare;\n  }\n  createGroups(params) {\n    const { columns, idCreator, pinned, oldDisplayedGroups, isStandaloneStructure } = params;\n    const oldColumnsMapped = this.mapOldGroupsById(oldDisplayedGroups);\n    const topLevelResultCols = [];\n    let groupsOrColsAtCurrentLevel = columns;\n    while (groupsOrColsAtCurrentLevel.length) {\n      const currentlyIterating = groupsOrColsAtCurrentLevel;\n      groupsOrColsAtCurrentLevel = [];\n      let lastGroupedColIdx = 0;\n      const createGroupToIndex = (to) => {\n        const from = lastGroupedColIdx;\n        lastGroupedColIdx = to;\n        const previousNode = currentlyIterating[from];\n        const previousNodeProvided = isColumnGroup(previousNode) ? previousNode.getProvidedColumnGroup() : previousNode;\n        const previousNodeParent = previousNodeProvided.getOriginalParent();\n        if (previousNodeParent == null) {\n          for (let i = from; i < to; i++) {\n            topLevelResultCols.push(currentlyIterating[i]);\n          }\n          return;\n        }\n        const newGroup = this.createColGroup(\n          previousNodeParent,\n          idCreator,\n          oldColumnsMapped,\n          pinned,\n          isStandaloneStructure\n        );\n        for (let i = from; i < to; i++) {\n          newGroup.addChild(currentlyIterating[i]);\n        }\n        groupsOrColsAtCurrentLevel.push(newGroup);\n      };\n      for (let i = 1; i < currentlyIterating.length; i++) {\n        const thisNode = currentlyIterating[i];\n        const thisNodeProvided = isColumnGroup(thisNode) ? thisNode.getProvidedColumnGroup() : thisNode;\n        const thisNodeParent = thisNodeProvided.getOriginalParent();\n        const previousNode = currentlyIterating[lastGroupedColIdx];\n        const previousNodeProvided = isColumnGroup(previousNode) ? previousNode.getProvidedColumnGroup() : previousNode;\n        const previousNodeParent = previousNodeProvided.getOriginalParent();\n        if (thisNodeParent !== previousNodeParent) {\n          createGroupToIndex(i);\n        }\n      }\n      if (lastGroupedColIdx < currentlyIterating.length) {\n        createGroupToIndex(currentlyIterating.length);\n      }\n    }\n    if (!isStandaloneStructure) {\n      this.setupParentsIntoCols(topLevelResultCols, null);\n    }\n    return topLevelResultCols;\n  }\n  createColGroup(providedGroup, groupInstanceIdCreator, oldColumnsMapped, pinned, isStandaloneStructure) {\n    const groupId = providedGroup.getGroupId();\n    const instanceId = groupInstanceIdCreator.getInstanceIdForKey(groupId);\n    const uniqueId = createUniqueColumnGroupId(groupId, instanceId);\n    let columnGroup = oldColumnsMapped[uniqueId];\n    if (columnGroup && columnGroup.getProvidedColumnGroup() !== providedGroup) {\n      columnGroup = null;\n    }\n    if (_exists(columnGroup)) {\n      columnGroup.reset();\n    } else {\n      columnGroup = new AgColumnGroup(providedGroup, groupId, instanceId, pinned);\n      if (!isStandaloneStructure) {\n        this.createBean(columnGroup);\n      }\n    }\n    return columnGroup;\n  }\n  // returns back a 2d map of ColumnGroup as follows: groupId -> instanceId -> ColumnGroup\n  mapOldGroupsById(displayedGroups) {\n    const result = {};\n    const recursive = (columnsOrGroups) => {\n      columnsOrGroups.forEach((columnOrGroup) => {\n        if (isColumnGroup(columnOrGroup)) {\n          const columnGroup = columnOrGroup;\n          result[columnOrGroup.getUniqueId()] = columnGroup;\n          recursive(columnGroup.getChildren());\n        }\n      });\n    };\n    if (displayedGroups) {\n      recursive(displayedGroups);\n    }\n    return result;\n  }\n  setupParentsIntoCols(columnsOrGroups, parent) {\n    columnsOrGroups.forEach((columnsOrGroup) => {\n      columnsOrGroup.setParent(parent);\n      if (isColumnGroup(columnsOrGroup)) {\n        const columnGroup = columnsOrGroup;\n        this.setupParentsIntoCols(columnGroup.getChildren(), columnGroup);\n      }\n    });\n  }\n};\nfunction depthFirstAllColumnTreeSearch(tree, useDisplayedChildren, callback) {\n  if (!tree) {\n    return;\n  }\n  for (let i = 0; i < tree.length; i++) {\n    const child = tree[i];\n    if (isColumnGroup(child)) {\n      const childTree = useDisplayedChildren ? child.getDisplayedChildren() : child.getChildren();\n      depthFirstAllColumnTreeSearch(childTree, useDisplayedChildren, callback);\n    }\n    callback(child);\n  }\n}\nfunction pickDisplayedCols(tree) {\n  const res = [];\n  depthFirstAllColumnTreeSearch(tree, true, (child) => {\n    if (isColumn(child)) {\n      res.push(child);\n    }\n  });\n  return res;\n}\n\n// community-modules/core/src/eventTypes.ts\nvar PUBLIC_EVENTS = [\n  \"columnEverythingChanged\",\n  \"newColumnsLoaded\",\n  \"columnPivotModeChanged\",\n  \"pivotMaxColumnsExceeded\",\n  \"columnRowGroupChanged\",\n  \"expandOrCollapseAll\",\n  \"columnPivotChanged\",\n  \"gridColumnsChanged\",\n  \"columnValueChanged\",\n  \"columnMoved\",\n  \"columnVisible\",\n  \"columnPinned\",\n  \"columnGroupOpened\",\n  \"columnResized\",\n  \"displayedColumnsChanged\",\n  \"virtualColumnsChanged\",\n  \"columnHeaderMouseOver\",\n  \"columnHeaderMouseLeave\",\n  \"columnHeaderClicked\",\n  \"columnHeaderContextMenu\",\n  \"asyncTransactionsFlushed\",\n  \"rowGroupOpened\",\n  \"rowDataUpdated\",\n  \"pinnedRowDataChanged\",\n  \"rangeSelectionChanged\",\n  \"cellSelectionChanged\",\n  \"chartCreated\",\n  \"chartRangeSelectionChanged\",\n  \"chartOptionsChanged\",\n  \"chartDestroyed\",\n  \"toolPanelVisibleChanged\",\n  \"toolPanelSizeChanged\",\n  \"modelUpdated\",\n  \"cutStart\",\n  \"cutEnd\",\n  \"pasteStart\",\n  \"pasteEnd\",\n  \"fillStart\",\n  \"fillEnd\",\n  \"cellSelectionDeleteStart\",\n  \"cellSelectionDeleteEnd\",\n  \"rangeDeleteStart\",\n  \"rangeDeleteEnd\",\n  \"undoStarted\",\n  \"undoEnded\",\n  \"redoStarted\",\n  \"redoEnded\",\n  \"cellClicked\",\n  \"cellDoubleClicked\",\n  \"cellMouseDown\",\n  \"cellContextMenu\",\n  \"cellValueChanged\",\n  \"cellEditRequest\",\n  \"rowValueChanged\",\n  \"headerFocused\",\n  \"cellFocused\",\n  \"rowSelected\",\n  \"selectionChanged\",\n  \"tooltipShow\",\n  \"tooltipHide\",\n  \"cellKeyDown\",\n  \"cellMouseOver\",\n  \"cellMouseOut\",\n  \"filterChanged\",\n  \"filterModified\",\n  \"filterOpened\",\n  \"advancedFilterBuilderVisibleChanged\",\n  \"sortChanged\",\n  \"virtualRowRemoved\",\n  \"rowClicked\",\n  \"rowDoubleClicked\",\n  \"gridReady\",\n  \"gridPreDestroyed\",\n  \"gridSizeChanged\",\n  \"viewportChanged\",\n  \"firstDataRendered\",\n  \"dragStarted\",\n  \"dragStopped\",\n  \"dragCancelled\",\n  \"rowEditingStarted\",\n  \"rowEditingStopped\",\n  \"cellEditingStarted\",\n  \"cellEditingStopped\",\n  \"bodyScroll\",\n  \"bodyScrollEnd\",\n  \"paginationChanged\",\n  \"componentStateChanged\",\n  \"storeRefreshed\",\n  \"stateUpdated\",\n  \"columnMenuVisibleChanged\",\n  \"contextMenuVisibleChanged\",\n  \"rowDragEnter\",\n  \"rowDragMove\",\n  \"rowDragLeave\",\n  \"rowDragEnd\",\n  \"rowDragCancel\"\n];\nvar INTERNAL_EVENTS = [\n  \"scrollbarWidthChanged\",\n  \"keyShortcutChangedCellStart\",\n  \"keyShortcutChangedCellEnd\",\n  \"pinnedHeightChanged\",\n  \"cellFocusCleared\",\n  \"fullWidthRowFocused\",\n  \"checkboxChanged\",\n  \"heightScaleChanged\",\n  \"suppressMovableColumns\",\n  \"suppressMenuHide\",\n  \"suppressFieldDotNotation\",\n  \"columnPanelItemDragStart\",\n  \"columnPanelItemDragEnd\",\n  \"bodyHeightChanged\",\n  \"columnContainerWidthChanged\",\n  \"displayedColumnsWidthChanged\",\n  \"scrollVisibilityChanged\",\n  \"scrollGapChanged\",\n  \"columnHoverChanged\",\n  \"flashCells\",\n  \"paginationPixelOffsetChanged\",\n  \"displayedRowsChanged\",\n  \"leftPinnedWidthChanged\",\n  \"rightPinnedWidthChanged\",\n  \"rowContainerHeightChanged\",\n  \"headerHeightChanged\",\n  \"columnGroupHeaderHeightChanged\",\n  \"columnHeaderHeightChanged\",\n  \"gridStylesChanged\",\n  \"storeUpdated\",\n  \"filterDestroyed\",\n  \"rowDataUpdateStarted\",\n  \"rowCountReady\",\n  \"advancedFilterEnabledChanged\",\n  \"dataTypesInferred\",\n  \"fieldValueChanged\",\n  \"fieldPickerValueSelected\",\n  \"richSelectListRowSelected\",\n  \"sideBarUpdated\",\n  \"alignedGridScroll\",\n  \"alignedGridColumn\",\n  \"gridOptionsChanged\",\n  \"chartTitleEdit\",\n  \"recalculateRowBounds\",\n  \"stickyTopOffsetChanged\",\n  \"overlayExclusiveChanged\"\n];\nvar ALL_EVENTS = [...PUBLIC_EVENTS, ...INTERNAL_EVENTS];\n\n// community-modules/core/src/propertyKeys.ts\nvar INITIAL_GRID_OPTION_KEYS = {\n  enableBrowserTooltips: true,\n  tooltipTrigger: true,\n  tooltipMouseTrack: true,\n  tooltipShowMode: true,\n  tooltipInteraction: true,\n  defaultColGroupDef: true,\n  suppressAutoSize: true,\n  skipHeaderOnAutoSize: true,\n  autoSizeStrategy: true,\n  components: true,\n  stopEditingWhenCellsLoseFocus: true,\n  undoRedoCellEditing: true,\n  undoRedoCellEditingLimit: true,\n  excelStyles: true,\n  cacheQuickFilter: true,\n  advancedFilterModel: true,\n  customChartThemes: true,\n  chartThemeOverrides: true,\n  chartToolPanelsDef: true,\n  loadingCellRendererSelector: true,\n  localeText: true,\n  keepDetailRows: true,\n  keepDetailRowsCount: true,\n  detailRowHeight: true,\n  detailRowAutoHeight: true,\n  tabIndex: true,\n  valueCache: true,\n  valueCacheNeverExpires: true,\n  enableCellExpressions: true,\n  suppressTouch: true,\n  suppressAsyncEvents: true,\n  suppressBrowserResizeObserver: true,\n  suppressPropertyNamesCheck: true,\n  debug: true,\n  dragAndDropImageComponent: true,\n  loadingOverlayComponent: true,\n  suppressLoadingOverlay: true,\n  noRowsOverlayComponent: true,\n  paginationPageSizeSelector: true,\n  paginateChildRows: true,\n  pivotPanelShow: true,\n  pivotSuppressAutoColumn: true,\n  suppressExpandablePivotGroups: true,\n  aggFuncs: true,\n  suppressAggFuncInHeader: true,\n  allowShowChangeAfterFilter: true,\n  ensureDomOrder: true,\n  enableRtl: true,\n  suppressColumnVirtualisation: true,\n  suppressMaxRenderedRowRestriction: true,\n  suppressRowVirtualisation: true,\n  rowDragText: true,\n  suppressGroupMaintainValueType: true,\n  groupLockGroupColumns: true,\n  rowGroupPanelSuppressSort: true,\n  suppressGroupRowsSticky: true,\n  rowModelType: true,\n  cacheOverflowSize: true,\n  infiniteInitialRowCount: true,\n  serverSideInitialRowCount: true,\n  suppressServerSideInfiniteScroll: true,\n  maxBlocksInCache: true,\n  maxConcurrentDatasourceRequests: true,\n  blockLoadDebounceMillis: true,\n  serverSideOnlyRefreshFilteredGroups: true,\n  serverSidePivotResultFieldSeparator: true,\n  viewportRowModelPageSize: true,\n  viewportRowModelBufferSize: true,\n  debounceVerticalScrollbar: true,\n  suppressAnimationFrame: true,\n  suppressPreventDefaultOnMouseWheel: true,\n  scrollbarWidth: true,\n  icons: true,\n  suppressRowTransform: true,\n  gridId: true,\n  enableGroupEdit: true,\n  initialState: true,\n  processUnpinnedColumns: true,\n  createChartContainer: true,\n  getLocaleText: true,\n  getRowId: true,\n  reactiveCustomComponents: true,\n  columnMenu: true,\n  suppressSetFilterByDefault: true\n};\nvar _PropertyKeys = class _PropertyKeys {\n};\n_PropertyKeys.STRING_PROPERTIES = [\n  \"overlayLoadingTemplate\",\n  \"overlayNoRowsTemplate\",\n  \"gridId\",\n  \"quickFilterText\",\n  \"rowModelType\",\n  \"editType\",\n  \"domLayout\",\n  \"clipboardDelimiter\",\n  \"rowGroupPanelShow\",\n  \"multiSortKey\",\n  \"pivotColumnGroupTotals\",\n  \"pivotRowTotals\",\n  \"pivotPanelShow\",\n  \"fillHandleDirection\",\n  \"groupDisplayType\",\n  \"treeDataDisplayType\",\n  \"colResizeDefault\",\n  \"tooltipTrigger\",\n  \"serverSidePivotResultFieldSeparator\",\n  \"columnMenu\",\n  \"tooltipShowMode\",\n  \"grandTotalRow\"\n];\n_PropertyKeys.OBJECT_PROPERTIES = [\n  \"components\",\n  \"rowStyle\",\n  \"context\",\n  \"autoGroupColumnDef\",\n  \"localeText\",\n  \"icons\",\n  \"datasource\",\n  \"dragAndDropImageComponentParams\",\n  \"serverSideDatasource\",\n  \"viewportDatasource\",\n  \"groupRowRendererParams\",\n  \"aggFuncs\",\n  \"fullWidthCellRendererParams\",\n  \"defaultColGroupDef\",\n  \"defaultColDef\",\n  \"defaultCsvExportParams\",\n  \"defaultExcelExportParams\",\n  \"columnTypes\",\n  \"rowClassRules\",\n  \"detailCellRendererParams\",\n  \"loadingCellRendererParams\",\n  \"loadingOverlayComponentParams\",\n  \"noRowsOverlayComponentParams\",\n  \"popupParent\",\n  \"statusBar\",\n  \"sideBar\",\n  \"theme\",\n  \"chartThemeOverrides\",\n  \"customChartThemes\",\n  \"chartToolPanelsDef\",\n  \"dataTypeDefinitions\",\n  \"advancedFilterModel\",\n  \"advancedFilterParent\",\n  \"advancedFilterBuilderParams\",\n  \"initialState\",\n  \"autoSizeStrategy\",\n  \"cellSelection\",\n  \"selectionColumnDef\"\n];\n_PropertyKeys.ARRAY_PROPERTIES = [\n  \"sortingOrder\",\n  \"alignedGrids\",\n  \"rowData\",\n  \"columnDefs\",\n  \"excelStyles\",\n  \"pinnedTopRowData\",\n  \"pinnedBottomRowData\",\n  \"chartThemes\",\n  \"rowClass\",\n  \"paginationPageSizeSelector\"\n];\n// These properties are coerced at runtime, do not do union types\n_PropertyKeys.NUMBER_PROPERTIES = [\n  \"rowHeight\",\n  \"detailRowHeight\",\n  \"rowBuffer\",\n  \"headerHeight\",\n  \"groupHeaderHeight\",\n  \"groupLockGroupColumns\",\n  \"floatingFiltersHeight\",\n  \"pivotHeaderHeight\",\n  \"pivotGroupHeaderHeight\",\n  \"groupDefaultExpanded\",\n  \"pivotDefaultExpanded\",\n  \"viewportRowModelPageSize\",\n  \"viewportRowModelBufferSize\",\n  \"autoSizePadding\",\n  \"maxBlocksInCache\",\n  \"maxConcurrentDatasourceRequests\",\n  \"tooltipShowDelay\",\n  \"tooltipHideDelay\",\n  \"cacheOverflowSize\",\n  \"paginationPageSize\",\n  \"cacheBlockSize\",\n  \"infiniteInitialRowCount\",\n  \"serverSideInitialRowCount\",\n  \"scrollbarWidth\",\n  \"asyncTransactionWaitMillis\",\n  \"blockLoadDebounceMillis\",\n  \"keepDetailRowsCount\",\n  \"undoRedoCellEditingLimit\",\n  \"cellFlashDelay\",\n  \"cellFadeDelay\",\n  \"cellFlashDuration\",\n  \"cellFadeDuration\",\n  \"tabIndex\",\n  \"pivotMaxGeneratedColumns\"\n];\n// These properties are coerced at runtime, do not do union types\n_PropertyKeys.BOOLEAN_PROPERTIES = [\n  \"suppressMakeColumnVisibleAfterUnGroup\",\n  \"suppressRowClickSelection\",\n  \"suppressCellFocus\",\n  \"suppressHeaderFocus\",\n  \"suppressHorizontalScroll\",\n  \"groupSelectsChildren\",\n  \"alwaysShowHorizontalScroll\",\n  \"alwaysShowVerticalScroll\",\n  \"debug\",\n  \"enableBrowserTooltips\",\n  \"enableCellExpressions\",\n  \"groupIncludeTotalFooter\",\n  \"groupSuppressBlankHeader\",\n  \"suppressMenuHide\",\n  \"suppressRowDeselection\",\n  \"unSortIcon\",\n  \"suppressMultiSort\",\n  \"alwaysMultiSort\",\n  \"singleClickEdit\",\n  \"suppressLoadingOverlay\",\n  \"suppressNoRowsOverlay\",\n  \"suppressAutoSize\",\n  \"skipHeaderOnAutoSize\",\n  \"suppressColumnMoveAnimation\",\n  \"suppressMoveWhenColumnDragging\",\n  \"suppressMovableColumns\",\n  \"suppressFieldDotNotation\",\n  \"enableRangeSelection\",\n  \"enableRangeHandle\",\n  \"enableFillHandle\",\n  \"suppressClearOnFillReduction\",\n  \"deltaSort\",\n  \"suppressTouch\",\n  \"suppressAsyncEvents\",\n  \"allowContextMenuWithControlKey\",\n  \"suppressContextMenu\",\n  \"enableCellChangeFlash\",\n  \"suppressDragLeaveHidesColumns\",\n  \"suppressRowGroupHidesColumns\",\n  \"suppressMiddleClickScrolls\",\n  \"suppressPreventDefaultOnMouseWheel\",\n  \"suppressCopyRowsToClipboard\",\n  \"copyHeadersToClipboard\",\n  \"copyGroupHeadersToClipboard\",\n  \"pivotMode\",\n  \"suppressAggFuncInHeader\",\n  \"suppressColumnVirtualisation\",\n  \"alwaysAggregateAtRootLevel\",\n  \"suppressFocusAfterRefresh\",\n  \"functionsReadOnly\",\n  \"animateRows\",\n  \"groupSelectsFiltered\",\n  \"groupRemoveSingleChildren\",\n  \"groupRemoveLowestSingleChildren\",\n  \"enableRtl\",\n  \"suppressClickEdit\",\n  \"rowDragEntireRow\",\n  \"rowDragManaged\",\n  \"suppressRowDrag\",\n  \"suppressMoveWhenRowDragging\",\n  \"rowDragMultiRow\",\n  \"enableGroupEdit\",\n  \"embedFullWidthRows\",\n  \"suppressPaginationPanel\",\n  \"groupHideOpenParents\",\n  \"groupAllowUnbalanced\",\n  \"pagination\",\n  \"paginationAutoPageSize\",\n  \"suppressScrollOnNewData\",\n  \"suppressScrollWhenPopupsAreOpen\",\n  \"purgeClosedRowNodes\",\n  \"cacheQuickFilter\",\n  \"includeHiddenColumnsInQuickFilter\",\n  \"ensureDomOrder\",\n  \"accentedSort\",\n  \"suppressChangeDetection\",\n  \"valueCache\",\n  \"valueCacheNeverExpires\",\n  \"aggregateOnlyChangedColumns\",\n  \"suppressAnimationFrame\",\n  \"suppressExcelExport\",\n  \"suppressCsvExport\",\n  \"includeHiddenColumnsInAdvancedFilter\",\n  \"suppressMultiRangeSelection\",\n  \"enterNavigatesVerticallyAfterEdit\",\n  \"enterNavigatesVertically\",\n  \"suppressPropertyNamesCheck\",\n  \"rowMultiSelectWithClick\",\n  \"suppressRowHoverHighlight\",\n  \"suppressRowTransform\",\n  \"suppressClipboardPaste\",\n  \"suppressLastEmptyLineOnPaste\",\n  \"enableCharts\",\n  \"suppressMaintainUnsortedOrder\",\n  \"enableCellTextSelection\",\n  \"suppressBrowserResizeObserver\",\n  \"suppressMaxRenderedRowRestriction\",\n  \"excludeChildrenWhenTreeDataFiltering\",\n  \"tooltipMouseTrack\",\n  \"tooltipInteraction\",\n  \"keepDetailRows\",\n  \"paginateChildRows\",\n  \"preventDefaultOnContextMenu\",\n  \"undoRedoCellEditing\",\n  \"allowDragFromColumnsToolPanel\",\n  \"pivotSuppressAutoColumn\",\n  \"suppressExpandablePivotGroups\",\n  \"debounceVerticalScrollbar\",\n  \"detailRowAutoHeight\",\n  \"serverSideSortAllLevels\",\n  \"serverSideEnableClientSideSort\",\n  \"serverSideOnlyRefreshFilteredGroups\",\n  \"serverSideSortOnServer\",\n  \"serverSideFilterOnServer\",\n  \"suppressAggFilteredOnly\",\n  \"showOpenedGroup\",\n  \"suppressClipboardApi\",\n  \"suppressModelUpdateAfterUpdateTransaction\",\n  \"stopEditingWhenCellsLoseFocus\",\n  \"groupMaintainOrder\",\n  \"columnHoverHighlight\",\n  \"readOnlyEdit\",\n  \"suppressRowVirtualisation\",\n  \"enableCellEditingOnBackspace\",\n  \"resetRowDataOnUpdate\",\n  \"removePivotHeaderRowWhenSingleValueColumn\",\n  \"suppressCopySingleCellRanges\",\n  \"suppressGroupRowsSticky\",\n  \"suppressCutToClipboard\",\n  \"suppressServerSideInfiniteScroll\",\n  \"rowGroupPanelSuppressSort\",\n  \"allowShowChangeAfterFilter\",\n  \"enableAdvancedFilter\",\n  \"masterDetail\",\n  \"treeData\",\n  \"suppressGroupMaintainValueType\",\n  \"reactiveCustomComponents\",\n  \"applyQuickFilterBeforePivotOrAgg\",\n  \"suppressServerSideFullWidthLoadingRow\",\n  \"suppressAdvancedFilterEval\",\n  \"loading\",\n  \"maintainColumnOrder\",\n  \"enableStrictPivotColumnOrder\",\n  \"suppressSetFilterByDefault\"\n];\n// If property does not fit above, i.e union that should not be coerced.\n_PropertyKeys.OTHER_PROPERTIES = [\n  \"suppressStickyTotalRow\",\n  // needs avoid coercion to boolean so that we can warn if it's unset\n  \"loadThemeGoogleFonts\",\n  \"rowSelection\"\n];\n_PropertyKeys.FUNCTION_PROPERTIES = [\n  \"doesExternalFilterPass\",\n  \"processPivotResultColDef\",\n  \"processPivotResultColGroupDef\",\n  \"getBusinessKeyForNode\",\n  \"isRowSelectable\",\n  \"rowDragText\",\n  \"groupRowRenderer\",\n  \"dragAndDropImageComponent\",\n  \"fullWidthCellRenderer\",\n  \"loadingCellRenderer\",\n  \"loadingOverlayComponent\",\n  \"noRowsOverlayComponent\",\n  \"detailCellRenderer\",\n  \"quickFilterParser\",\n  \"quickFilterMatcher\",\n  \"getLocaleText\",\n  \"isExternalFilterPresent\",\n  \"getRowHeight\",\n  \"getRowClass\",\n  \"getRowStyle\",\n  \"getContextMenuItems\",\n  \"getMainMenuItems\",\n  \"processRowPostCreate\",\n  \"processCellForClipboard\",\n  \"getGroupRowAgg\",\n  \"isFullWidthRow\",\n  \"sendToClipboard\",\n  \"focusGridInnerElement\",\n  \"navigateToNextHeader\",\n  \"tabToNextHeader\",\n  \"navigateToNextCell\",\n  \"tabToNextCell\",\n  \"processCellFromClipboard\",\n  \"getDocument\",\n  \"postProcessPopup\",\n  \"getChildCount\",\n  \"getDataPath\",\n  \"isRowMaster\",\n  \"postSortRows\",\n  \"processHeaderForClipboard\",\n  \"processUnpinnedColumns\",\n  \"processGroupHeaderForClipboard\",\n  \"paginationNumberFormatter\",\n  \"processDataFromClipboard\",\n  \"getServerSideGroupKey\",\n  \"isServerSideGroup\",\n  \"createChartContainer\",\n  \"getChartToolbarItems\",\n  \"fillOperation\",\n  \"isApplyServerSideTransaction\",\n  \"getServerSideGroupLevelParams\",\n  \"isServerSideGroupOpenByDefault\",\n  \"isGroupOpenByDefault\",\n  \"initialGroupOrderComparator\",\n  \"groupIncludeFooter\",\n  \"loadingCellRendererSelector\",\n  \"getRowId\",\n  \"groupAggFiltering\",\n  \"chartMenuItems\",\n  \"groupTotalRow\"\n];\n_PropertyKeys.ALL_PROPERTIES = [\n  ..._PropertyKeys.ARRAY_PROPERTIES,\n  ..._PropertyKeys.OBJECT_PROPERTIES,\n  ..._PropertyKeys.STRING_PROPERTIES,\n  ..._PropertyKeys.NUMBER_PROPERTIES,\n  ..._PropertyKeys.FUNCTION_PROPERTIES,\n  ..._PropertyKeys.BOOLEAN_PROPERTIES,\n  ..._PropertyKeys.OTHER_PROPERTIES\n];\nvar PropertyKeys = _PropertyKeys;\n\n// community-modules/core/src/components/componentUtil.ts\nvar _ComponentUtil = class _ComponentUtil {\n  static getCallbackForEvent(eventName) {\n    if (!eventName || eventName.length < 2) {\n      return eventName;\n    }\n    return \"on\" + eventName[0].toUpperCase() + eventName.substring(1);\n  }\n};\n_ComponentUtil.VUE_OMITTED_PROPERTY = \"AG-VUE-OMITTED-PROPERTY\";\n_ComponentUtil.PUBLIC_EVENTS = PUBLIC_EVENTS;\n// onXXX methods, based on the above events\n_ComponentUtil.EVENT_CALLBACKS = ALL_EVENTS.map((event) => _ComponentUtil.getCallbackForEvent(event));\n_ComponentUtil.BOOLEAN_PROPERTIES = PropertyKeys.BOOLEAN_PROPERTIES;\n_ComponentUtil.ALL_PROPERTIES = PropertyKeys.ALL_PROPERTIES;\n_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS = [..._ComponentUtil.ALL_PROPERTIES, ..._ComponentUtil.EVENT_CALLBACKS];\n_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET = new Set(_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS);\nvar ComponentUtil = _ComponentUtil;\nfunction _combineAttributesAndGridOptions(gridOptions, component) {\n  if (typeof gridOptions !== \"object\") {\n    gridOptions = {};\n  }\n  const mergedOptions = { ...gridOptions };\n  const keys = ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS;\n  keys.forEach((key) => {\n    const value = component[key];\n    if (typeof value !== \"undefined\" && value !== ComponentUtil.VUE_OMITTED_PROPERTY) {\n      mergedOptions[key] = value;\n    }\n  });\n  return mergedOptions;\n}\nfunction _processOnChange(changes, api) {\n  if (!changes) {\n    return;\n  }\n  const gridChanges = {};\n  let hasChanges = false;\n  Object.keys(changes).filter((key) => ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET.has(key)).forEach((key) => {\n    gridChanges[key] = changes[key];\n    hasChanges = true;\n  });\n  if (!hasChanges) {\n    return;\n  }\n  const internalUpdateEvent = {\n    type: \"gridOptionsChanged\",\n    options: gridChanges\n  };\n  api.dispatchEvent(internalUpdateEvent);\n  const event = {\n    type: \"componentStateChanged\"\n  };\n  _iterateObject(gridChanges, (key, value) => {\n    event[key] = value;\n  });\n  api.dispatchEvent(event);\n}\n\n// community-modules/core/src/components/emptyBean.ts\nvar EmptyBean = class extends BeanStub {\n};\nfunction setupCompBean(ctrl, ctx, compBean) {\n  if (compBean) {\n    ctrl.addDestroyFunc(() => ctx.destroyBean(compBean));\n  }\n  return compBean ?? ctrl;\n}\n\n// community-modules/core/src/rendering/cssClassManager.ts\nvar CssClassManager = class {\n  constructor(getGui) {\n    // to minimise DOM hits, we only apply CSS classes if they have changed. as adding a CSS class that is already\n    // there, or removing one that wasn't present, all takes CPU.\n    this.cssClassStates = {};\n    this.getGui = getGui;\n  }\n  addCssClass(className) {\n    const list = (className || \"\").split(\" \");\n    if (list.length > 1) {\n      list.forEach((cls) => this.addCssClass(cls));\n      return;\n    }\n    const updateNeeded = this.cssClassStates[className] !== true;\n    if (updateNeeded && className.length) {\n      const eGui = this.getGui();\n      if (eGui) {\n        eGui.classList.add(className);\n      }\n      this.cssClassStates[className] = true;\n    }\n  }\n  removeCssClass(className) {\n    const list = (className || \"\").split(\" \");\n    if (list.length > 1) {\n      list.forEach((cls) => this.removeCssClass(cls));\n      return;\n    }\n    const updateNeeded = this.cssClassStates[className] !== false;\n    if (updateNeeded && className.length) {\n      const eGui = this.getGui();\n      if (eGui) {\n        eGui.classList.remove(className);\n      }\n      this.cssClassStates[className] = false;\n    }\n  }\n  containsCssClass(className) {\n    const eGui = this.getGui();\n    if (!eGui) {\n      return false;\n    }\n    return eGui.classList.contains(className);\n  }\n  addOrRemoveCssClass(className, addOrRemove) {\n    if (!className) {\n      return;\n    }\n    if (className.indexOf(\" \") >= 0) {\n      const list = (className || \"\").split(\" \");\n      if (list.length > 1) {\n        list.forEach((cls) => this.addOrRemoveCssClass(cls, addOrRemove));\n        return;\n      }\n    }\n    const updateNeeded = this.cssClassStates[className] !== addOrRemove;\n    if (updateNeeded && className.length) {\n      const eGui = this.getGui();\n      if (eGui) {\n        eGui.classList.toggle(className, addOrRemove);\n      }\n      this.cssClassStates[className] = addOrRemove;\n    }\n  }\n};\n\n// community-modules/core/src/utils/aria.ts\nfunction _toggleAriaAttribute(element, attribute, value) {\n  if (value == null || typeof value === \"string\" && value == \"\") {\n    _removeAriaAttribute(element, attribute);\n  } else {\n    _setAriaAttribute(element, attribute, value);\n  }\n}\nfunction _setAriaAttribute(element, attribute, value) {\n  element.setAttribute(_ariaAttributeName(attribute), value.toString());\n}\nfunction _removeAriaAttribute(element, attribute) {\n  element.removeAttribute(_ariaAttributeName(attribute));\n}\nfunction _ariaAttributeName(attribute) {\n  return `aria-${attribute}`;\n}\nfunction _setAriaRole(element, role) {\n  if (role) {\n    element.setAttribute(\"role\", role);\n  } else {\n    element.removeAttribute(\"role\");\n  }\n}\nfunction _getAriaSortState(sortDirection) {\n  let sort;\n  if (sortDirection === \"asc\") {\n    sort = \"ascending\";\n  } else if (sortDirection === \"desc\") {\n    sort = \"descending\";\n  } else if (sortDirection === \"mixed\") {\n    sort = \"other\";\n  } else {\n    sort = \"none\";\n  }\n  return sort;\n}\nfunction _getAriaPosInSet(element) {\n  return parseInt(element.getAttribute(\"aria-posinset\"), 10);\n}\nfunction _getAriaLabel(element) {\n  return element.getAttribute(\"aria-label\");\n}\nfunction _setAriaLabel(element, label) {\n  _toggleAriaAttribute(element, \"label\", label);\n}\nfunction _setAriaLabelledBy(element, labelledBy) {\n  _toggleAriaAttribute(element, \"labelledby\", labelledBy);\n}\nfunction _setAriaDescribedBy(element, describedby) {\n  _toggleAriaAttribute(element, \"describedby\", describedby);\n}\nfunction _setAriaLive(element, live) {\n  _toggleAriaAttribute(element, \"live\", live);\n}\nfunction _setAriaAtomic(element, atomic) {\n  _toggleAriaAttribute(element, \"atomic\", atomic);\n}\nfunction _setAriaRelevant(element, relevant) {\n  _toggleAriaAttribute(element, \"relevant\", relevant);\n}\nfunction _setAriaLevel(element, level) {\n  _toggleAriaAttribute(element, \"level\", level);\n}\nfunction _setAriaDisabled(element, disabled) {\n  _toggleAriaAttribute(element, \"disabled\", disabled);\n}\nfunction _setAriaHidden(element, hidden) {\n  _toggleAriaAttribute(element, \"hidden\", hidden);\n}\nfunction _setAriaActiveDescendant(element, descendantId) {\n  _toggleAriaAttribute(element, \"activedescendant\", descendantId);\n}\nfunction _setAriaExpanded(element, expanded) {\n  _setAriaAttribute(element, \"expanded\", expanded);\n}\nfunction _removeAriaExpanded(element) {\n  _removeAriaAttribute(element, \"expanded\");\n}\nfunction _setAriaSetSize(element, setsize) {\n  _setAriaAttribute(element, \"setsize\", setsize);\n}\nfunction _setAriaPosInSet(element, position) {\n  _setAriaAttribute(element, \"posinset\", position);\n}\nfunction _setAriaMultiSelectable(element, multiSelectable) {\n  _setAriaAttribute(element, \"multiselectable\", multiSelectable);\n}\nfunction _setAriaRowCount(element, rowCount) {\n  _setAriaAttribute(element, \"rowcount\", rowCount);\n}\nfunction _setAriaRowIndex(element, rowIndex) {\n  _setAriaAttribute(element, \"rowindex\", rowIndex);\n}\nfunction _setAriaColCount(element, colCount) {\n  _setAriaAttribute(element, \"colcount\", colCount);\n}\nfunction _setAriaColIndex(element, colIndex) {\n  _setAriaAttribute(element, \"colindex\", colIndex);\n}\nfunction _setAriaColSpan(element, colSpan) {\n  _setAriaAttribute(element, \"colspan\", colSpan);\n}\nfunction _setAriaSort(element, sort) {\n  _setAriaAttribute(element, \"sort\", sort);\n}\nfunction _removeAriaSort(element) {\n  _removeAriaAttribute(element, \"sort\");\n}\nfunction _setAriaSelected(element, selected) {\n  _toggleAriaAttribute(element, \"selected\", selected);\n}\nfunction _setAriaChecked(element, checked) {\n  _setAriaAttribute(element, \"checked\", checked === void 0 ? \"mixed\" : checked);\n}\nfunction _setAriaControls(controllerElement, controlledElement) {\n  _toggleAriaAttribute(controllerElement, \"controls\", controlledElement.id);\n  _setAriaLabelledBy(controlledElement, controllerElement.id);\n}\nfunction _getAriaCheckboxStateName(translate, state) {\n  return state === void 0 ? translate(\"ariaIndeterminate\", \"indeterminate\") : state === true ? translate(\"ariaChecked\", \"checked\") : translate(\"ariaUnchecked\", \"unchecked\");\n}\n\n// community-modules/core/src/utils/dom.ts\nfunction _radioCssClass(element, elementClass, otherElementClass) {\n  const parent = element.parentElement;\n  let sibling = parent && parent.firstChild;\n  while (sibling) {\n    if (elementClass) {\n      sibling.classList.toggle(elementClass, sibling === element);\n    }\n    if (otherElementClass) {\n      sibling.classList.toggle(otherElementClass, sibling !== element);\n    }\n    sibling = sibling.nextSibling;\n  }\n}\nvar FOCUSABLE_SELECTOR = \"[tabindex], input, select, button, textarea, [href]\";\nvar FOCUSABLE_EXCLUDE = \"[disabled], .ag-disabled:not(.ag-button), .ag-disabled *\";\nfunction _isFocusableFormField(element) {\n  const matches = Element.prototype.matches || Element.prototype.msMatchesSelector;\n  const inputSelector = \"input, select, button, textarea\";\n  const isFocusable = matches.call(element, inputSelector);\n  const isNotFocusable = matches.call(element, FOCUSABLE_EXCLUDE);\n  const isElementVisible = _isVisible(element);\n  const focusable = isFocusable && !isNotFocusable && isElementVisible;\n  return focusable;\n}\nfunction _setDisplayed(element, displayed, options = {}) {\n  const { skipAriaHidden } = options;\n  element.classList.toggle(\"ag-hidden\", !displayed);\n  if (!skipAriaHidden) {\n    _setAriaHidden(element, !displayed);\n  }\n}\nfunction _setVisible(element, visible, options = {}) {\n  const { skipAriaHidden } = options;\n  element.classList.toggle(\"ag-invisible\", !visible);\n  if (!skipAriaHidden) {\n    _setAriaHidden(element, !visible);\n  }\n}\nfunction _setDisabled(element, disabled) {\n  const attributeName = \"disabled\";\n  const addOrRemoveDisabledAttribute = disabled ? (e) => e.setAttribute(attributeName, \"\") : (e) => e.removeAttribute(attributeName);\n  addOrRemoveDisabledAttribute(element);\n  _nodeListForEach(element.querySelectorAll(\"input\"), (input) => addOrRemoveDisabledAttribute(input));\n}\nfunction _isElementChildOfClass(element, cls, maxNest) {\n  let counter = 0;\n  while (element) {\n    if (element.classList.contains(cls)) {\n      return true;\n    }\n    element = element.parentElement;\n    if (typeof maxNest == \"number\") {\n      if (++counter > maxNest) {\n        break;\n      }\n    } else if (element === maxNest) {\n      break;\n    }\n  }\n  return false;\n}\nfunction _getElementSize(el) {\n  const {\n    height,\n    width,\n    borderTopWidth,\n    borderRightWidth,\n    borderBottomWidth,\n    borderLeftWidth,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    boxSizing\n  } = window.getComputedStyle(el);\n  return {\n    height: parseFloat(height || \"0\"),\n    width: parseFloat(width || \"0\"),\n    borderTopWidth: parseFloat(borderTopWidth || \"0\"),\n    borderRightWidth: parseFloat(borderRightWidth || \"0\"),\n    borderBottomWidth: parseFloat(borderBottomWidth || \"0\"),\n    borderLeftWidth: parseFloat(borderLeftWidth || \"0\"),\n    paddingTop: parseFloat(paddingTop || \"0\"),\n    paddingRight: parseFloat(paddingRight || \"0\"),\n    paddingBottom: parseFloat(paddingBottom || \"0\"),\n    paddingLeft: parseFloat(paddingLeft || \"0\"),\n    marginTop: parseFloat(marginTop || \"0\"),\n    marginRight: parseFloat(marginRight || \"0\"),\n    marginBottom: parseFloat(marginBottom || \"0\"),\n    marginLeft: parseFloat(marginLeft || \"0\"),\n    boxSizing\n  };\n}\nfunction _getInnerHeight(el) {\n  const size = _getElementSize(el);\n  if (size.boxSizing === \"border-box\") {\n    return size.height - size.paddingTop - size.paddingBottom;\n  }\n  return size.height;\n}\nfunction _getInnerWidth(el) {\n  const size = _getElementSize(el);\n  if (size.boxSizing === \"border-box\") {\n    return size.width - size.paddingLeft - size.paddingRight;\n  }\n  return size.width;\n}\nfunction _getAbsoluteHeight(el) {\n  const { height, marginBottom, marginTop } = _getElementSize(el);\n  return Math.floor(height + marginBottom + marginTop);\n}\nfunction _getAbsoluteWidth(el) {\n  const { width, marginLeft, marginRight } = _getElementSize(el);\n  return Math.floor(width + marginLeft + marginRight);\n}\nfunction _getElementRectWithOffset(el) {\n  const offsetElementRect = el.getBoundingClientRect();\n  const { borderTopWidth, borderLeftWidth, borderRightWidth, borderBottomWidth } = _getElementSize(el);\n  return {\n    top: offsetElementRect.top + (borderTopWidth || 0),\n    left: offsetElementRect.left + (borderLeftWidth || 0),\n    right: offsetElementRect.right + (borderRightWidth || 0),\n    bottom: offsetElementRect.bottom + (borderBottomWidth || 0)\n  };\n}\nfunction _getScrollLeft(element, rtl) {\n  let scrollLeft = element.scrollLeft;\n  if (rtl) {\n    scrollLeft = Math.abs(scrollLeft);\n  }\n  return scrollLeft;\n}\nfunction _setScrollLeft(element, value, rtl) {\n  if (rtl) {\n    value *= -1;\n  }\n  element.scrollLeft = value;\n}\nfunction _clearElement(el) {\n  while (el && el.firstChild) {\n    el.removeChild(el.firstChild);\n  }\n}\nfunction _removeFromParent(node) {\n  if (node && node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\nfunction _isInDOM(element) {\n  return !!element.offsetParent;\n}\nfunction _isVisible(element) {\n  const el = element;\n  if (el.checkVisibility) {\n    return el.checkVisibility({ checkVisibilityCSS: true });\n  }\n  const isHidden = !_isInDOM(element) || window.getComputedStyle(element).visibility !== \"visible\";\n  return !isHidden;\n}\nfunction _loadTemplate(template) {\n  const tempDiv = document.createElement(\"div\");\n  tempDiv.innerHTML = (template || \"\").trim();\n  return tempDiv.firstChild;\n}\nfunction _ensureDomOrder(eContainer, eChild, eChildBefore) {\n  if (eChildBefore && eChildBefore.nextSibling === eChild) {\n    return;\n  }\n  if (!eContainer.firstChild) {\n    eContainer.appendChild(eChild);\n  } else if (eChildBefore) {\n    if (eChildBefore.nextSibling) {\n      eContainer.insertBefore(eChild, eChildBefore.nextSibling);\n    } else {\n      eContainer.appendChild(eChild);\n    }\n  } else if (eContainer.firstChild && eContainer.firstChild !== eChild) {\n    eContainer.insertAdjacentElement(\"afterbegin\", eChild);\n  }\n}\nfunction _setDomChildOrder(eContainer, orderedChildren) {\n  for (let i = 0; i < orderedChildren.length; i++) {\n    const correctCellAtIndex = orderedChildren[i];\n    const actualCellAtIndex = eContainer.children[i];\n    if (actualCellAtIndex !== correctCellAtIndex) {\n      eContainer.insertBefore(correctCellAtIndex, actualCellAtIndex);\n    }\n  }\n}\nfunction _addStylesToElement(eElement, styles) {\n  if (!styles) {\n    return;\n  }\n  for (const [key, value] of Object.entries(styles)) {\n    if (!key || !key.length || value == null) {\n      continue;\n    }\n    const parsedKey = _camelCaseToHyphenated(key);\n    const valueAsString = value.toString();\n    const parsedValue = valueAsString.replace(/\\s*!important/g, \"\");\n    const priority = parsedValue.length != valueAsString.length ? \"important\" : void 0;\n    eElement.style.setProperty(parsedKey, parsedValue, priority);\n  }\n}\nfunction _isHorizontalScrollShowing(element) {\n  return element.clientWidth < element.scrollWidth;\n}\nfunction _isVerticalScrollShowing(element) {\n  return element.clientHeight < element.scrollHeight;\n}\nfunction _setElementWidth(element, width) {\n  if (width === \"flex\") {\n    element.style.removeProperty(\"width\");\n    element.style.removeProperty(\"minWidth\");\n    element.style.removeProperty(\"maxWidth\");\n    element.style.flex = \"1 1 auto\";\n  } else {\n    _setFixedWidth(element, width);\n  }\n}\nfunction _setFixedWidth(element, width) {\n  width = _formatSize(width);\n  element.style.width = width.toString();\n  element.style.maxWidth = width.toString();\n  element.style.minWidth = width.toString();\n}\nfunction _setFixedHeight(element, height) {\n  height = _formatSize(height);\n  element.style.height = height.toString();\n  element.style.maxHeight = height.toString();\n  element.style.minHeight = height.toString();\n}\nfunction _formatSize(size) {\n  if (typeof size === \"number\") {\n    return `${size}px`;\n  }\n  return size;\n}\nfunction _isNodeOrElement(o) {\n  return o instanceof Node || o instanceof HTMLElement;\n}\nfunction _copyNodeList(nodeList) {\n  if (nodeList == null) {\n    return [];\n  }\n  const result = [];\n  _nodeListForEach(nodeList, (node) => result.push(node));\n  return result;\n}\nfunction _iterateNamedNodeMap(map, callback) {\n  if (!map) {\n    return;\n  }\n  for (let i = 0; i < map.length; i++) {\n    const attr = map[i];\n    callback(attr.name, attr.value);\n  }\n}\nfunction _addOrRemoveAttribute(element, name, value) {\n  if (value == null || value === \"\") {\n    element.removeAttribute(name);\n  } else {\n    element.setAttribute(name, value.toString());\n  }\n}\nfunction _nodeListForEach(nodeList, action) {\n  if (nodeList == null) {\n    return;\n  }\n  for (let i = 0; i < nodeList.length; i++) {\n    action(nodeList[i]);\n  }\n}\nfunction _bindCellRendererToHtmlElement(cellRendererPromise, eTarget) {\n  cellRendererPromise.then((cellRenderer) => {\n    const gui = cellRenderer.getGui();\n    if (gui != null) {\n      if (typeof gui === \"object\") {\n        eTarget.appendChild(gui);\n      } else {\n        eTarget.innerHTML = gui;\n      }\n    }\n  });\n}\n\n// community-modules/core/src/utils/numberSequence.ts\nvar NumberSequence = class {\n  constructor(initValue = 0, step = 1) {\n    this.nextValue = initValue;\n    this.step = step;\n  }\n  next() {\n    const valToReturn = this.nextValue;\n    this.nextValue += this.step;\n    return valToReturn;\n  }\n  peek() {\n    return this.nextValue;\n  }\n  skip(count) {\n    this.nextValue += count;\n  }\n};\n\n// community-modules/core/src/utils/browser.ts\nvar isSafari;\nvar safariVersion;\nvar isChrome;\nvar isFirefox;\nvar isMacOs;\nvar isIOS;\nvar invisibleScrollbar;\nvar browserScrollbarWidth;\nvar maxDivHeight;\nfunction _isBrowserSafari() {\n  if (isSafari === void 0) {\n    isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  }\n  return isSafari;\n}\nfunction _getSafariVersion() {\n  if (safariVersion === void 0) {\n    if (_isBrowserSafari()) {\n      const versionMatch = navigator.userAgent.match(/version\\/(\\d+)/i);\n      if (versionMatch) {\n        safariVersion = versionMatch[1] != null ? parseFloat(versionMatch[1]) : 0;\n      }\n    } else {\n      safariVersion = 0;\n    }\n  }\n  return safariVersion;\n}\nfunction _isBrowserChrome() {\n  if (isChrome === void 0) {\n    const win = window;\n    isChrome = !!win.chrome && (!!win.chrome.webstore || !!win.chrome.runtime) || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n  }\n  return isChrome;\n}\nfunction _isBrowserFirefox() {\n  if (isFirefox === void 0) {\n    isFirefox = /(firefox)/i.test(navigator.userAgent);\n  }\n  return isFirefox;\n}\nfunction _isMacOsUserAgent() {\n  if (isMacOs === void 0) {\n    isMacOs = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n  }\n  return isMacOs;\n}\nfunction _isIOSUserAgent() {\n  if (isIOS === void 0) {\n    isIOS = /iPad|iPhone|iPod/.test(navigator.platform) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n  }\n  return isIOS;\n}\nfunction _browserSupportsPreventScroll() {\n  return !_isBrowserSafari() || _getSafariVersion() >= 15;\n}\nfunction _getTabIndex(el) {\n  if (!el) {\n    return null;\n  }\n  const numberTabIndex = el.tabIndex;\n  const tabIndex = el.getAttribute(\"tabIndex\");\n  if (numberTabIndex === -1 && (tabIndex === null || tabIndex === \"\" && !_isBrowserFirefox())) {\n    return null;\n  }\n  return numberTabIndex.toString();\n}\nfunction _getMaxDivHeight() {\n  if (maxDivHeight !== void 0) {\n    return maxDivHeight;\n  }\n  if (!document.body) {\n    return -1;\n  }\n  let res = 1e6;\n  const testUpTo = _isBrowserFirefox() ? 6e6 : 1e9;\n  const div = document.createElement(\"div\");\n  document.body.appendChild(div);\n  while (true) {\n    const test = res * 2;\n    div.style.height = test + \"px\";\n    if (test > testUpTo || div.clientHeight !== test) {\n      break;\n    } else {\n      res = test;\n    }\n  }\n  document.body.removeChild(div);\n  maxDivHeight = res;\n  return res;\n}\nfunction _getBodyWidth() {\n  return document.body?.clientWidth ?? (window.innerHeight || document.documentElement?.clientWidth || -1);\n}\nfunction _getBodyHeight() {\n  return document.body?.clientHeight ?? (window.innerHeight || document.documentElement?.clientHeight || -1);\n}\nfunction _getScrollbarWidth() {\n  if (browserScrollbarWidth == null) {\n    initScrollbarWidthAndVisibility();\n  }\n  return browserScrollbarWidth;\n}\nfunction initScrollbarWidthAndVisibility() {\n  const body = document.body;\n  const div = document.createElement(\"div\");\n  div.style.width = div.style.height = \"100px\";\n  div.style.opacity = \"0\";\n  div.style.overflow = \"scroll\";\n  div.style.msOverflowStyle = \"scrollbar\";\n  div.style.position = \"absolute\";\n  body.appendChild(div);\n  let width = div.offsetWidth - div.clientWidth;\n  if (width === 0 && div.clientWidth === 0) {\n    width = null;\n  }\n  if (div.parentNode) {\n    div.parentNode.removeChild(div);\n  }\n  if (width != null) {\n    browserScrollbarWidth = width;\n    invisibleScrollbar = width === 0;\n  }\n}\nfunction _isInvisibleScrollbar() {\n  if (invisibleScrollbar == null) {\n    initScrollbarWidthAndVisibility();\n  }\n  return invisibleScrollbar;\n}\n\n// community-modules/core/src/widgets/tooltipStateManager.ts\nvar SHOW_QUICK_TOOLTIP_DIFF = 1e3;\nvar FADE_OUT_TOOLTIP_TIMEOUT = 1e3;\nvar INTERACTIVE_HIDE_DELAY = 100;\nvar _TooltipStateManager = class _TooltipStateManager extends BeanStub {\n  constructor(parentComp, tooltipShowDelayOverride, tooltipHideDelayOverride, shouldDisplayTooltip) {\n    super();\n    this.parentComp = parentComp;\n    this.tooltipShowDelayOverride = tooltipShowDelayOverride;\n    this.tooltipHideDelayOverride = tooltipHideDelayOverride;\n    this.shouldDisplayTooltip = shouldDisplayTooltip;\n    this.interactionEnabled = false;\n    this.isInteractingWithTooltip = false;\n    this.state = 0 /* NOTHING */;\n    // when showing the tooltip, we need to make sure it's the most recent instance we request, as due to\n    // async we could request two tooltips before the first instance returns, in which case we should\n    // disregard the second instance.\n    this.tooltipInstanceCount = 0;\n    this.tooltipMouseTrack = false;\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.userComponentFactory = beans.userComponentFactory;\n  }\n  postConstruct() {\n    if (this.gos.get(\"tooltipInteraction\")) {\n      this.interactionEnabled = true;\n    }\n    this.tooltipTrigger = this.getTooltipTrigger();\n    this.tooltipMouseTrack = this.gos.get(\"tooltipMouseTrack\");\n    const el = this.parentComp.getGui();\n    if (this.tooltipTrigger === 0 /* HOVER */) {\n      this.addManagedListeners(el, {\n        mouseenter: this.onMouseEnter.bind(this),\n        mouseleave: this.onMouseLeave.bind(this)\n      });\n    }\n    if (this.tooltipTrigger === 1 /* FOCUS */) {\n      this.addManagedListeners(el, {\n        focusin: this.onFocusIn.bind(this),\n        focusout: this.onFocusOut.bind(this)\n      });\n    }\n    this.addManagedListeners(el, { mousemove: this.onMouseMove.bind(this) });\n    if (!this.interactionEnabled) {\n      this.addManagedListeners(el, {\n        mousedown: this.onMouseDown.bind(this),\n        keydown: this.onKeyDown.bind(this)\n      });\n    }\n  }\n  getGridOptionsTooltipDelay(delayOption) {\n    const delay = this.gos.get(delayOption);\n    if (delay < 0) {\n      _warnOnce(`${delayOption} should not be lower than 0`);\n    }\n    return Math.max(200, delay);\n  }\n  getTooltipDelay(type) {\n    if (type === \"show\") {\n      return this.tooltipShowDelayOverride ?? this.getGridOptionsTooltipDelay(\"tooltipShowDelay\");\n    }\n    return this.tooltipHideDelayOverride ?? this.getGridOptionsTooltipDelay(\"tooltipHideDelay\");\n  }\n  destroy() {\n    this.setToDoNothing();\n    super.destroy();\n  }\n  getTooltipTrigger() {\n    const trigger = this.gos.get(\"tooltipTrigger\");\n    if (!trigger || trigger === \"hover\") {\n      return 0 /* HOVER */;\n    }\n    return 1 /* FOCUS */;\n  }\n  onMouseEnter(e) {\n    if (this.interactionEnabled && this.interactiveTooltipTimeoutId) {\n      this.unlockService();\n      this.startHideTimeout();\n    }\n    if (_isIOSUserAgent()) {\n      return;\n    }\n    if (_TooltipStateManager.isLocked) {\n      this.showTooltipTimeoutId = window.setTimeout(() => {\n        this.prepareToShowTooltip(e);\n      }, INTERACTIVE_HIDE_DELAY);\n    } else {\n      this.prepareToShowTooltip(e);\n    }\n  }\n  onMouseMove(e) {\n    if (this.lastMouseEvent) {\n      this.lastMouseEvent = e;\n    }\n    if (this.tooltipMouseTrack && this.state === 2 /* SHOWING */ && this.tooltipComp) {\n      this.positionTooltip();\n    }\n  }\n  onMouseDown() {\n    this.setToDoNothing();\n  }\n  onMouseLeave() {\n    if (this.interactionEnabled) {\n      this.lockService();\n    } else {\n      this.setToDoNothing();\n    }\n  }\n  onFocusIn() {\n    this.prepareToShowTooltip();\n  }\n  onFocusOut(e) {\n    const relatedTarget = e.relatedTarget;\n    const parentCompGui = this.parentComp.getGui();\n    const tooltipGui = this.tooltipComp?.getGui();\n    if (this.isInteractingWithTooltip || parentCompGui.contains(relatedTarget) || this.interactionEnabled && tooltipGui?.contains(relatedTarget)) {\n      return;\n    }\n    this.setToDoNothing();\n  }\n  onKeyDown() {\n    if (this.isInteractingWithTooltip) {\n      this.isInteractingWithTooltip = false;\n    }\n    this.setToDoNothing();\n  }\n  prepareToShowTooltip(mouseEvent) {\n    if (this.state != 0 /* NOTHING */ || _TooltipStateManager.isLocked) {\n      return;\n    }\n    let delay = 0;\n    if (mouseEvent) {\n      delay = this.isLastTooltipHiddenRecently() ? 200 : this.getTooltipDelay(\"show\");\n    }\n    this.lastMouseEvent = mouseEvent || null;\n    this.showTooltipTimeoutId = window.setTimeout(this.showTooltip.bind(this), delay);\n    this.state = 1 /* WAITING_TO_SHOW */;\n  }\n  isLastTooltipHiddenRecently() {\n    const now = (/* @__PURE__ */ new Date()).getTime();\n    const then = _TooltipStateManager.lastTooltipHideTime;\n    return now - then < SHOW_QUICK_TOOLTIP_DIFF;\n  }\n  setToDoNothing(fromHideTooltip) {\n    if (!fromHideTooltip && this.state === 2 /* SHOWING */) {\n      this.hideTooltip();\n    }\n    if (this.onBodyScrollEventCallback) {\n      this.onBodyScrollEventCallback();\n      this.onBodyScrollEventCallback = void 0;\n    }\n    if (this.onColumnMovedEventCallback) {\n      this.onColumnMovedEventCallback();\n      this.onColumnMovedEventCallback = void 0;\n    }\n    if (this.onDocumentKeyDownCallback) {\n      this.onDocumentKeyDownCallback();\n      this.onDocumentKeyDownCallback = void 0;\n    }\n    this.clearTimeouts();\n    this.state = 0 /* NOTHING */;\n    this.lastMouseEvent = null;\n  }\n  showTooltip() {\n    const params = {\n      ...this.parentComp.getTooltipParams()\n    };\n    if (!_exists(params.value) || this.shouldDisplayTooltip && !this.shouldDisplayTooltip()) {\n      this.setToDoNothing();\n      return;\n    }\n    this.state = 2 /* SHOWING */;\n    this.tooltipInstanceCount++;\n    const callback = this.newTooltipComponentCallback.bind(this, this.tooltipInstanceCount);\n    const userDetails = this.userComponentFactory.getTooltipCompDetails(params);\n    userDetails.newAgStackInstance().then(callback);\n  }\n  hideTooltip(forceHide) {\n    if (!forceHide && this.isInteractingWithTooltip) {\n      return;\n    }\n    if (this.tooltipComp) {\n      this.destroyTooltipComp();\n      _TooltipStateManager.lastTooltipHideTime = (/* @__PURE__ */ new Date()).getTime();\n    }\n    this.eventService.dispatchEvent({\n      type: \"tooltipHide\",\n      parentGui: this.parentComp.getGui()\n    });\n    if (forceHide) {\n      this.isInteractingWithTooltip = false;\n    }\n    this.setToDoNothing(true);\n  }\n  newTooltipComponentCallback(tooltipInstanceCopy, tooltipComp) {\n    const compNoLongerNeeded = this.state !== 2 /* SHOWING */ || this.tooltipInstanceCount !== tooltipInstanceCopy;\n    if (compNoLongerNeeded) {\n      this.destroyBean(tooltipComp);\n      return;\n    }\n    const eGui = tooltipComp.getGui();\n    this.tooltipComp = tooltipComp;\n    if (!eGui.classList.contains(\"ag-tooltip\")) {\n      eGui.classList.add(\"ag-tooltip-custom\");\n    }\n    if (this.tooltipTrigger === 0 /* HOVER */) {\n      eGui.classList.add(\"ag-tooltip-animate\");\n    }\n    if (this.interactionEnabled) {\n      eGui.classList.add(\"ag-tooltip-interactive\");\n    }\n    const translate = this.localeService.getLocaleTextFunc();\n    const addPopupRes = this.popupService.addPopup({\n      eChild: eGui,\n      ariaLabel: translate(\"ariaLabelTooltip\", \"Tooltip\")\n    });\n    if (addPopupRes) {\n      this.tooltipPopupDestroyFunc = addPopupRes.hideFunc;\n    }\n    this.positionTooltip();\n    if (this.tooltipTrigger === 1 /* FOCUS */) {\n      const listener = () => this.setToDoNothing();\n      [this.onBodyScrollEventCallback, this.onColumnMovedEventCallback] = this.addManagedEventListeners({\n        bodyScroll: listener,\n        columnMoved: listener\n      });\n    }\n    if (this.interactionEnabled) {\n      [this.tooltipMouseEnterListener, this.tooltipMouseLeaveListener] = this.addManagedElementListeners(eGui, {\n        mouseenter: this.onTooltipMouseEnter.bind(this),\n        mouseleave: this.onTooltipMouseLeave.bind(this)\n      });\n      [this.onDocumentKeyDownCallback] = this.addManagedElementListeners(_getDocument(this.gos), {\n        keydown: (e) => {\n          if (!eGui.contains(e?.target)) {\n            this.onKeyDown();\n          }\n        }\n      });\n      if (this.tooltipTrigger === 1 /* FOCUS */) {\n        [this.tooltipFocusInListener, this.tooltipFocusOutListener] = this.addManagedElementListeners(eGui, {\n          focusin: this.onTooltipFocusIn.bind(this),\n          focusout: this.onTooltipFocusOut.bind(this)\n        });\n      }\n    }\n    this.eventService.dispatchEvent({\n      type: \"tooltipShow\",\n      tooltipGui: eGui,\n      parentGui: this.parentComp.getGui()\n    });\n    this.startHideTimeout();\n  }\n  onTooltipMouseEnter() {\n    this.isInteractingWithTooltip = true;\n    this.unlockService();\n  }\n  onTooltipMouseLeave() {\n    if (this.isTooltipFocused()) {\n      return;\n    }\n    this.isInteractingWithTooltip = false;\n    this.lockService();\n  }\n  onTooltipFocusIn() {\n    this.isInteractingWithTooltip = true;\n  }\n  isTooltipFocused() {\n    const tooltipGui = this.tooltipComp?.getGui();\n    const activeEl = _getActiveDomElement(this.gos);\n    return !!tooltipGui && tooltipGui.contains(activeEl);\n  }\n  onTooltipFocusOut(e) {\n    const parentGui = this.parentComp.getGui();\n    if (this.isTooltipFocused()) {\n      return;\n    }\n    this.isInteractingWithTooltip = false;\n    if (parentGui.contains(e.relatedTarget)) {\n      this.startHideTimeout();\n    } else {\n      this.hideTooltip();\n    }\n  }\n  positionTooltip() {\n    const params = {\n      type: \"tooltip\",\n      ePopup: this.tooltipComp.getGui(),\n      nudgeY: 18,\n      skipObserver: this.tooltipMouseTrack\n    };\n    if (this.lastMouseEvent) {\n      this.popupService.positionPopupUnderMouseEvent({\n        ...params,\n        mouseEvent: this.lastMouseEvent\n      });\n    } else {\n      this.popupService.positionPopupByComponent({\n        ...params,\n        eventSource: this.parentComp.getGui(),\n        position: \"under\",\n        keepWithinBounds: true,\n        nudgeY: 5\n      });\n    }\n  }\n  destroyTooltipComp() {\n    this.tooltipComp.getGui().classList.add(\"ag-tooltip-hiding\");\n    const tooltipPopupDestroyFunc = this.tooltipPopupDestroyFunc;\n    const tooltipComp = this.tooltipComp;\n    const delay = this.tooltipTrigger === 0 /* HOVER */ ? FADE_OUT_TOOLTIP_TIMEOUT : 0;\n    window.setTimeout(() => {\n      tooltipPopupDestroyFunc();\n      this.destroyBean(tooltipComp);\n    }, delay);\n    this.clearTooltipListeners();\n    this.tooltipPopupDestroyFunc = void 0;\n    this.tooltipComp = void 0;\n  }\n  clearTooltipListeners() {\n    [\n      this.tooltipMouseEnterListener,\n      this.tooltipMouseLeaveListener,\n      this.tooltipFocusInListener,\n      this.tooltipFocusOutListener\n    ].forEach((listener) => {\n      if (listener) {\n        listener();\n      }\n    });\n    this.tooltipMouseEnterListener = this.tooltipMouseLeaveListener = this.tooltipFocusInListener = this.tooltipFocusOutListener = null;\n  }\n  lockService() {\n    _TooltipStateManager.isLocked = true;\n    this.interactiveTooltipTimeoutId = window.setTimeout(() => {\n      this.unlockService();\n      this.setToDoNothing();\n    }, INTERACTIVE_HIDE_DELAY);\n  }\n  unlockService() {\n    _TooltipStateManager.isLocked = false;\n    this.clearInteractiveTimeout();\n  }\n  startHideTimeout() {\n    this.clearHideTimeout();\n    this.hideTooltipTimeoutId = window.setTimeout(this.hideTooltip.bind(this), this.getTooltipDelay(\"hide\"));\n  }\n  clearShowTimeout() {\n    if (!this.showTooltipTimeoutId) {\n      return;\n    }\n    window.clearTimeout(this.showTooltipTimeoutId);\n    this.showTooltipTimeoutId = void 0;\n  }\n  clearHideTimeout() {\n    if (!this.hideTooltipTimeoutId) {\n      return;\n    }\n    window.clearTimeout(this.hideTooltipTimeoutId);\n    this.hideTooltipTimeoutId = void 0;\n  }\n  clearInteractiveTimeout() {\n    if (!this.interactiveTooltipTimeoutId) {\n      return;\n    }\n    window.clearTimeout(this.interactiveTooltipTimeoutId);\n    this.interactiveTooltipTimeoutId = void 0;\n  }\n  clearTimeouts() {\n    this.clearShowTimeout();\n    this.clearHideTimeout();\n    this.clearInteractiveTimeout();\n  }\n};\n_TooltipStateManager.isLocked = false;\nvar TooltipStateManager = _TooltipStateManager;\n\n// community-modules/core/src/widgets/tooltipFeature.ts\nvar TooltipFeature = class extends BeanStub {\n  constructor(ctrl, beans) {\n    super();\n    this.ctrl = ctrl;\n    if (beans) {\n      this.beans = beans;\n    }\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  postConstruct() {\n    this.refreshToolTip();\n  }\n  setBrowserTooltip(tooltip) {\n    const name = \"title\";\n    const eGui = this.ctrl.getGui();\n    if (!eGui) {\n      return;\n    }\n    if (tooltip != null && tooltip != \"\") {\n      eGui.setAttribute(name, tooltip);\n    } else {\n      eGui.removeAttribute(name);\n    }\n  }\n  updateTooltipText() {\n    this.tooltip = this.ctrl.getTooltipValue();\n  }\n  createTooltipFeatureIfNeeded() {\n    if (this.tooltipManager != null) {\n      return;\n    }\n    const parent = {\n      getTooltipParams: () => this.getTooltipParams(),\n      getGui: () => this.ctrl.getGui()\n    };\n    this.tooltipManager = this.createBean(\n      new TooltipStateManager(\n        parent,\n        this.ctrl.getTooltipShowDelayOverride?.(),\n        this.ctrl.getTooltipHideDelayOverride?.(),\n        this.ctrl.shouldDisplayTooltip\n      ),\n      this.beans.context\n    );\n  }\n  refreshToolTip() {\n    this.browserTooltips = this.beans.gos.get(\"enableBrowserTooltips\");\n    this.updateTooltipText();\n    if (this.browserTooltips) {\n      this.setBrowserTooltip(this.tooltip);\n      if (this.tooltipManager) {\n        this.tooltipManager = this.destroyBean(this.tooltipManager, this.beans.context);\n      }\n    } else {\n      this.setBrowserTooltip(null);\n      this.createTooltipFeatureIfNeeded();\n    }\n  }\n  getTooltipParams() {\n    const ctrl = this.ctrl;\n    const column = ctrl.getColumn?.();\n    const colDef = ctrl.getColDef?.();\n    const rowNode = ctrl.getRowNode?.();\n    return {\n      location: ctrl.getLocation(),\n      //'cell',\n      colDef,\n      column,\n      rowIndex: ctrl.getRowIndex?.(),\n      node: rowNode,\n      data: rowNode?.data,\n      value: this.getTooltipText(),\n      valueFormatted: ctrl.getValueFormatted?.(),\n      hideTooltipCallback: () => this.tooltipManager?.hideTooltip(true)\n    };\n  }\n  getTooltipText() {\n    return this.tooltip;\n  }\n  // overriding to make public, as we don't dispose this bean via context\n  destroy() {\n    if (this.tooltipManager) {\n      this.tooltipManager = this.destroyBean(this.tooltipManager, this.beans.context);\n    }\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/widgets/component.ts\nvar compIdSequence = new NumberSequence();\nvar RefPlaceholder = null;\nvar Component = class _Component extends BeanStub {\n  constructor(template, componentSelectors) {\n    super();\n    this.suppressDataRefValidation = false;\n    // if false, then CSS class \"ag-hidden\" is applied, which sets \"display: none\"\n    this.displayed = true;\n    // if false, then CSS class \"ag-invisible\" is applied, which sets \"visibility: hidden\"\n    this.visible = true;\n    // unique id for this row component. this is used for getting a reference to the HTML dom.\n    // we cannot use the RowNode id as this is not unique (due to animation, old rows can be lying\n    // around as we create a new rowComp instance for the same row node).\n    this.compId = compIdSequence.next();\n    this.cssClassManager = new CssClassManager(() => this.eGui);\n    this.componentSelectors = new Map((componentSelectors ?? []).map((comp) => [comp.selector, comp]));\n    if (template) {\n      this.setTemplate(template);\n    }\n  }\n  preWireBeans(beans) {\n    super.preWireBeans(beans);\n  }\n  preConstruct() {\n    this.usingBrowserTooltips = this.gos.get(\"enableBrowserTooltips\");\n    this.wireTemplate(this.getGui());\n  }\n  wireTemplate(element, paramsMap) {\n    if (element && this.gos) {\n      this.applyElementsToComponent(element);\n      this.createChildComponentsFromTags(element, paramsMap);\n    }\n  }\n  getCompId() {\n    return this.compId;\n  }\n  getTooltipParams() {\n    return {\n      value: this.tooltipText,\n      location: \"UNKNOWN\"\n    };\n  }\n  setTooltip(params) {\n    const { newTooltipText, showDelayOverride, hideDelayOverride, location, shouldDisplayTooltip } = params || {};\n    if (this.tooltipFeature) {\n      this.tooltipFeature = this.destroyBean(this.tooltipFeature);\n    }\n    if (this.tooltipText !== newTooltipText) {\n      this.tooltipText = newTooltipText;\n    }\n    const getTooltipValue = () => this.tooltipText;\n    if (newTooltipText != null) {\n      this.tooltipFeature = this.createBean(\n        new TooltipFeature({\n          getTooltipValue,\n          getGui: () => this.getGui(),\n          getLocation: () => location ?? \"UNKNOWN\",\n          getColDef: params?.getColDef,\n          getColumn: params?.getColumn,\n          getTooltipShowDelayOverride: showDelayOverride != null ? () => showDelayOverride : void 0,\n          getTooltipHideDelayOverride: hideDelayOverride != null ? () => hideDelayOverride : void 0,\n          shouldDisplayTooltip\n        })\n      );\n    }\n  }\n  getDataRefAttribute(element) {\n    if (element.getAttribute) {\n      return element.getAttribute(\"data-ref\");\n    }\n    return null;\n  }\n  applyElementsToComponent(element, elementRef, paramsMap, newComponent = null) {\n    if (elementRef === void 0) {\n      elementRef = this.getDataRefAttribute(element);\n    }\n    if (elementRef) {\n      const current = this[elementRef];\n      if (current === RefPlaceholder) {\n        this[elementRef] = newComponent ?? element;\n      } else {\n        const usedAsParamRef = paramsMap && paramsMap[elementRef];\n        if (!this.suppressDataRefValidation && !usedAsParamRef) {\n          _warnOnce(`Issue with data-ref: ${elementRef} on ${this.constructor.name} with ${current}`);\n        }\n      }\n    }\n  }\n  // for registered components only, eg creates AgCheckbox instance from ag-checkbox HTML tag\n  createChildComponentsFromTags(parentNode, paramsMap) {\n    const childNodeList = _copyNodeList(parentNode.childNodes);\n    childNodeList.forEach((childNode) => {\n      if (!(childNode instanceof HTMLElement)) {\n        return;\n      }\n      const childComp = this.createComponentFromElement(\n        childNode,\n        (childComp2) => {\n          const childGui = childComp2.getGui();\n          if (childGui) {\n            this.copyAttributesFromNode(childNode, childComp2.getGui());\n          }\n        },\n        paramsMap\n      );\n      if (childComp) {\n        if (childComp.addItems && childNode.children.length) {\n          this.createChildComponentsFromTags(childNode, paramsMap);\n          const items = Array.prototype.slice.call(childNode.children);\n          childComp.addItems(items);\n        }\n        this.swapComponentForNode(childComp, parentNode, childNode);\n      } else if (childNode.childNodes) {\n        this.createChildComponentsFromTags(childNode, paramsMap);\n      }\n    });\n  }\n  createComponentFromElement(element, afterPreCreateCallback, paramsMap) {\n    const key = element.nodeName;\n    const elementRef = this.getDataRefAttribute(element);\n    const isAgGridComponent = key.indexOf(\"AG-\") === 0;\n    const componentSelector = isAgGridComponent ? this.componentSelectors.get(key) : null;\n    let newComponent = null;\n    if (componentSelector) {\n      _Component.elementGettingCreated = element;\n      const componentParams = paramsMap && elementRef ? paramsMap[elementRef] : void 0;\n      newComponent = new componentSelector.component(componentParams);\n      newComponent.setParentComponent(this);\n      this.createBean(newComponent, null, afterPreCreateCallback);\n    } else if (isAgGridComponent) {\n      _warnOnce(`Missing selector: ${key}`);\n    }\n    this.applyElementsToComponent(element, elementRef, paramsMap, newComponent);\n    return newComponent;\n  }\n  copyAttributesFromNode(source, dest) {\n    _iterateNamedNodeMap(source.attributes, (name, value) => dest.setAttribute(name, value));\n  }\n  swapComponentForNode(newComponent, parentNode, childNode) {\n    const eComponent = newComponent.getGui();\n    parentNode.replaceChild(eComponent, childNode);\n    parentNode.insertBefore(document.createComment(childNode.nodeName), eComponent);\n    this.addDestroyFunc(this.destroyBean.bind(this, newComponent));\n  }\n  activateTabIndex(elements) {\n    const tabIndex = this.gos.get(\"tabIndex\");\n    if (!elements) {\n      elements = [];\n    }\n    if (!elements.length) {\n      elements.push(this.getGui());\n    }\n    elements.forEach((el) => el.setAttribute(\"tabindex\", tabIndex.toString()));\n  }\n  setTemplate(template, componentSelectors, paramsMap) {\n    const eGui = _loadTemplate(template);\n    this.setTemplateFromElement(eGui, componentSelectors, paramsMap);\n  }\n  setTemplateFromElement(element, components, paramsMap, suppressDataRefValidation = false) {\n    this.eGui = element;\n    this.suppressDataRefValidation = suppressDataRefValidation;\n    if (components) {\n      for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        this.componentSelectors.set(component.selector, component);\n      }\n    }\n    this.wireTemplate(element, paramsMap);\n  }\n  getGui() {\n    return this.eGui;\n  }\n  getFocusableElement() {\n    return this.eGui;\n  }\n  getAriaElement() {\n    return this.getFocusableElement();\n  }\n  setParentComponent(component) {\n    this.parentComponent = component;\n  }\n  getParentComponent() {\n    return this.parentComponent;\n  }\n  // this method is for older code, that wants to provide the gui element,\n  // it is not intended for this to be in ag-Stack\n  setGui(eGui) {\n    this.eGui = eGui;\n  }\n  queryForHtmlElement(cssSelector) {\n    return this.eGui.querySelector(cssSelector);\n  }\n  getContainerAndElement(newChild, container) {\n    let parent = container;\n    if (newChild == null) {\n      return null;\n    }\n    if (!parent) {\n      parent = this.eGui;\n    }\n    if (_isNodeOrElement(newChild)) {\n      return {\n        element: newChild,\n        parent\n      };\n    }\n    return {\n      element: newChild.getGui(),\n      parent\n    };\n  }\n  prependChild(newChild, container) {\n    const { element, parent } = this.getContainerAndElement(newChild, container) || {};\n    if (!element || !parent) {\n      return;\n    }\n    parent.insertAdjacentElement(\"afterbegin\", element);\n  }\n  appendChild(newChild, container) {\n    const { element, parent } = this.getContainerAndElement(newChild, container) || {};\n    if (!element || !parent) {\n      return;\n    }\n    parent.appendChild(element);\n  }\n  isDisplayed() {\n    return this.displayed;\n  }\n  setVisible(visible, options = {}) {\n    if (visible !== this.visible) {\n      this.visible = visible;\n      const { skipAriaHidden } = options;\n      _setVisible(this.eGui, visible, { skipAriaHidden });\n    }\n  }\n  setDisplayed(displayed, options = {}) {\n    if (displayed !== this.displayed) {\n      this.displayed = displayed;\n      const { skipAriaHidden } = options;\n      _setDisplayed(this.eGui, displayed, { skipAriaHidden });\n      const event = {\n        type: \"displayChanged\",\n        visible: this.displayed\n      };\n      this.dispatchLocalEvent(event);\n    }\n  }\n  destroy() {\n    if (this.parentComponent) {\n      this.parentComponent = void 0;\n    }\n    if (this.tooltipFeature) {\n      this.tooltipFeature = this.destroyBean(this.tooltipFeature);\n    }\n    super.destroy();\n  }\n  addGuiEventListener(event, listener, options) {\n    this.eGui.addEventListener(event, listener, options);\n    this.addDestroyFunc(() => this.eGui.removeEventListener(event, listener));\n  }\n  addCssClass(className) {\n    this.cssClassManager.addCssClass(className);\n  }\n  removeCssClass(className) {\n    this.cssClassManager.removeCssClass(className);\n  }\n  containsCssClass(className) {\n    return this.cssClassManager.containsCssClass(className);\n  }\n  addOrRemoveCssClass(className, addOrRemove) {\n    this.cssClassManager.addOrRemoveCssClass(className, addOrRemove);\n  }\n};\n\n// community-modules/core/src/utils/icon.ts\nvar iconNameClassMap = {\n  // header column group shown when expanded (click to contract)\n  columnGroupOpened: \"expanded\",\n  // header column group shown when contracted (click to expand)\n  columnGroupClosed: \"contracted\",\n  // tool panel column group contracted (click to expand)\n  columnSelectClosed: \"tree-closed\",\n  // tool panel column group expanded (click to contract)\n  columnSelectOpen: \"tree-open\",\n  // column tool panel header expand/collapse all button, shown when some children are expanded and\n  //     others are collapsed\n  columnSelectIndeterminate: \"tree-indeterminate\",\n  // shown on drag and drop image component icon while dragging column to the side of the grid to pin\n  columnMovePin: \"pin\",\n  // shown on drag and drop image component icon while dragging over part of the page that is not a drop zone\n  columnMoveHide: \"eye-slash\",\n  // shown on drag and drop image component icon while dragging columns to reorder\n  columnMoveMove: \"arrows\",\n  // animating icon shown when dragging a column to the right of the grid causes horizontal scrolling\n  columnMoveLeft: \"left\",\n  // animating icon shown when dragging a column to the left of the grid causes horizontal scrolling\n  columnMoveRight: \"right\",\n  // shown on drag and drop image component icon while dragging over Row Groups drop zone\n  columnMoveGroup: \"group\",\n  // shown on drag and drop image component icon while dragging over Values drop zone\n  columnMoveValue: \"aggregation\",\n  // shown on drag and drop image component icon while dragging over pivot drop zone\n  columnMovePivot: \"pivot\",\n  // shown on drag and drop image component icon while dragging over drop zone that doesn't support it, e.g.\n  //     string column over aggregation drop zone\n  dropNotAllowed: \"not-allowed\",\n  // shown on row group when contracted (click to expand)\n  groupContracted: \"tree-closed\",\n  // shown on row group when expanded (click to contract)\n  groupExpanded: \"tree-open\",\n  // set filter tree list group contracted (click to expand)\n  setFilterGroupClosed: \"tree-closed\",\n  // set filter tree list group expanded (click to contract)\n  setFilterGroupOpen: \"tree-open\",\n  // set filter tree list expand/collapse all button, shown when some children are expanded and\n  //     others are collapsed\n  setFilterGroupIndeterminate: \"tree-indeterminate\",\n  // context menu chart item\n  chart: \"chart\",\n  // chart window title bar\n  close: \"cross\",\n  // X (remove) on column 'pill' after adding it to a drop zone list\n  cancel: \"cancel\",\n  // indicates the currently active pin state in the \"Pin column\" sub-menu of the column menu\n  check: \"tick\",\n  // \"go to first\" button in pagination controls\n  first: \"first\",\n  // \"go to previous\" button in pagination controls\n  previous: \"previous\",\n  // \"go to next\" button in pagination controls\n  next: \"next\",\n  // \"go to last\" button in pagination controls\n  last: \"last\",\n  // shown on top right of chart when chart is linked to range data (click to unlink)\n  linked: \"linked\",\n  // shown on top right of chart when chart is not linked to range data (click to link)\n  unlinked: \"unlinked\",\n  // \"Choose colour\" button on chart settings tab\n  colorPicker: \"color-picker\",\n  // rotating spinner shown by the loading cell renderer\n  groupLoading: \"loading\",\n  // button to launch enterprise column menu\n  menu: \"menu\",\n  menuAlt: \"menu-alt\",\n  // filter tool panel tab\n  filter: \"filter\",\n  // column tool panel tab\n  columns: \"columns\",\n  // button in chart regular size window title bar (click to maximise)\n  maximize: \"maximize\",\n  // button in chart maximised window title bar (click to make regular size)\n  minimize: \"minimize\",\n  // \"Pin column\" item in column header menu\n  menuPin: \"pin\",\n  // \"Value aggregation\" column menu item (shown on numeric columns when grouping is active)\"\n  menuValue: \"aggregation\",\n  // \"Group by {column-name}\" item in column header menu\n  menuAddRowGroup: \"group\",\n  // \"Un-Group by {column-name}\" item in column header menu\n  menuRemoveRowGroup: \"group\",\n  // context menu copy item\n  clipboardCopy: \"copy\",\n  // context menu cut item\n  clipboardCut: \"cut\",\n  // context menu paste item\n  clipboardPaste: \"paste\",\n  // identifies the pivot drop zone\n  pivotPanel: \"pivot\",\n  // \"Row groups\" drop zone in column tool panel\n  rowGroupPanel: \"group\",\n  // columns tool panel Values drop zone\n  valuePanel: \"aggregation\",\n  // drag handle used to pick up draggable columns\n  columnDrag: \"grip\",\n  // drag handle used to pick up draggable rows\n  rowDrag: \"grip\",\n  // context menu export item\n  save: \"save\",\n  // csv export\n  csvExport: \"csv\",\n  // excel export,\n  excelExport: \"excel\",\n  // icon on dropdown editors\n  smallDown: \"small-down\",\n  // version of small-right used in RTL mode\n  smallLeft: \"small-left\",\n  // separater between column 'pills' when you add multiple columns to the header drop zone\n  smallRight: \"small-right\",\n  smallUp: \"small-up\",\n  // show on column header when column is sorted ascending\n  sortAscending: \"asc\",\n  // show on column header when column is sorted descending\n  sortDescending: \"desc\",\n  // show on column header when column has no sort, only when enabled with gridOptions.unSortIcon=true\n  sortUnSort: \"none\",\n  // Builder button in Advanced Filter\n  advancedFilterBuilder: \"group\",\n  // drag handle used to pick up Advanced Filter Builder rows\n  advancedFilterBuilderDrag: \"grip\",\n  // Advanced Filter Builder row validation error\n  advancedFilterBuilderInvalid: \"not-allowed\",\n  // shown on Advanced Filter Builder rows to move them up\n  advancedFilterBuilderMoveUp: \"up\",\n  // shown on Advanced Filter Builder rows to move them down\n  advancedFilterBuilderMoveDown: \"down\",\n  // shown on Advanced Filter Builder rows to add new rows\n  advancedFilterBuilderAdd: \"plus\",\n  // shown on Advanced Filter Builder rows to remove row\n  advancedFilterBuilderRemove: \"minus\",\n  // Edit Chart menu item shown in Integrated Charts menu\n  chartsMenuEdit: \"chart\",\n  // Advanced Settings menu item shown in Integrated Charts menu\n  chartsMenuAdvancedSettings: \"settings\",\n  // shown in Integrated Charts menu add fields\n  chartsMenuAdd: \"plus\",\n  // checked checkbox\n  checkboxChecked: \"checkbox-checked\",\n  // indeterminate checkbox\n  checkboxIndeterminate: \"checkbox-indeterminate\",\n  // unchecked checkbox\n  checkboxUnchecked: \"checkbox-unchecked\",\n  // radio button on\n  radioButtonOn: \"radio-button-on\",\n  // radio button off\n  radioButtonOff: \"radio-button-off\"\n};\nvar ICONS = (() => {\n  const icons = new Set(Object.values(iconNameClassMap));\n  icons.add(\"eye\");\n  return icons;\n})();\nfunction _createIcon(iconName, gos, column) {\n  const iconContents = _createIconNoSpan(iconName, gos, column);\n  if (iconContents) {\n    const { className } = iconContents;\n    if (typeof className === \"string\" && className.indexOf(\"ag-icon\") > -1 || typeof className === \"object\" && className[\"ag-icon\"]) {\n      return iconContents;\n    }\n  }\n  const eResult = document.createElement(\"span\");\n  eResult.appendChild(iconContents);\n  return eResult;\n}\nfunction _createIconNoSpan(iconName, gos, column, forceCreate) {\n  let userProvidedIcon = null;\n  const icons = column && column.getColDef().icons;\n  if (icons) {\n    userProvidedIcon = icons[iconName];\n  }\n  if (gos && !userProvidedIcon) {\n    const optionsIcons = gos.get(\"icons\");\n    if (optionsIcons) {\n      userProvidedIcon = optionsIcons[iconName];\n    }\n  }\n  if (userProvidedIcon) {\n    let rendererResult;\n    if (typeof userProvidedIcon === \"function\") {\n      rendererResult = userProvidedIcon();\n    } else if (typeof userProvidedIcon === \"string\") {\n      rendererResult = userProvidedIcon;\n    } else {\n      throw new Error(\"icon from grid options needs to be a string or a function\");\n    }\n    if (typeof rendererResult === \"string\") {\n      return _loadTemplate(rendererResult);\n    }\n    if (_isNodeOrElement(rendererResult)) {\n      return rendererResult;\n    }\n    _warnOnce(\"iconRenderer should return back a string or a dom object\");\n  } else {\n    const span = document.createElement(\"span\");\n    let cssClass = iconNameClassMap[iconName] ?? (ICONS.has(iconName) ? iconName : void 0);\n    if (!cssClass) {\n      if (!forceCreate) {\n        _warnOnce(`Did not find icon ${iconName}`);\n        cssClass = \"\";\n      } else {\n        cssClass = iconName;\n      }\n    }\n    span.setAttribute(\"class\", `ag-icon ag-icon-${cssClass}`);\n    span.setAttribute(\"unselectable\", \"on\");\n    _setAriaRole(span, \"presentation\");\n    return span;\n  }\n}\n\n// community-modules/core/src/dragAndDrop/dragAndDropImageComponent.ts\nvar DragAndDropImageComponent = class extends Component {\n  constructor() {\n    super(...arguments);\n    this.dragSource = null;\n    this.eIcon = RefPlaceholder;\n    this.eLabel = RefPlaceholder;\n  }\n  postConstruct() {\n    const create = (iconName) => _createIcon(iconName, this.gos, null);\n    this.dropIconMap = {\n      pinned: create(\"columnMovePin\"),\n      hide: create(\"columnMoveHide\"),\n      move: create(\"columnMoveMove\"),\n      left: create(\"columnMoveLeft\"),\n      right: create(\"columnMoveRight\"),\n      group: create(\"columnMoveGroup\"),\n      aggregate: create(\"columnMoveValue\"),\n      pivot: create(\"columnMovePivot\"),\n      notAllowed: create(\"dropNotAllowed\")\n    };\n  }\n  init(params) {\n    this.dragSource = params.dragSource;\n    this.setTemplate(\n      /* html */\n      `<div class=\"ag-dnd-ghost ag-unselectable\">\n                <span data-ref=\"eIcon\" class=\"ag-dnd-ghost-icon ag-shake-left-to-right\"></span>\n                <div data-ref=\"eLabel\" class=\"ag-dnd-ghost-label\"></div>\n            </div>`\n    );\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    this.dragSource = null;\n    super.destroy();\n  }\n  setIcon(iconName, shake = false) {\n    _clearElement(this.eIcon);\n    let eIcon = null;\n    if (!iconName) {\n      iconName = this.dragSource?.getDefaultIconName ? this.dragSource?.getDefaultIconName() : \"notAllowed\";\n    }\n    eIcon = this.dropIconMap[iconName];\n    this.eIcon.classList.toggle(\"ag-shake-left-to-right\", shake);\n    if (eIcon === this.dropIconMap[\"hide\"] && this.gos.get(\"suppressDragLeaveHidesColumns\")) {\n      return;\n    }\n    if (eIcon) {\n      this.eIcon.appendChild(eIcon);\n    }\n  }\n  setLabel(label) {\n    this.eLabel.textContent = _escapeString(label);\n  }\n};\n\n// community-modules/core/src/utils/mouse.ts\nfunction _areEventsNear(e1, e2, pixelCount) {\n  if (pixelCount === 0) {\n    return false;\n  }\n  const diffX = Math.abs(e1.clientX - e2.clientX);\n  const diffY = Math.abs(e1.clientY - e2.clientY);\n  return Math.max(diffX, diffY) <= pixelCount;\n}\n\n// community-modules/core/src/widgets/touchListener.ts\nvar TouchListener = class {\n  constructor(eElement, preventMouseClick = false) {\n    this.DOUBLE_TAP_MILLIS = 500;\n    this.destroyFuncs = [];\n    this.touching = false;\n    this.localEventService = new LocalEventService();\n    this.eElement = eElement;\n    this.preventMouseClick = preventMouseClick;\n    const startListener = this.onTouchStart.bind(this);\n    const moveListener = this.onTouchMove.bind(this);\n    const endListener = this.onTouchEnd.bind(this);\n    this.eElement.addEventListener(\"touchstart\", startListener, { passive: true });\n    this.eElement.addEventListener(\"touchmove\", moveListener, { passive: true });\n    this.eElement.addEventListener(\"touchend\", endListener, { passive: false });\n    this.destroyFuncs.push(() => {\n      this.eElement.removeEventListener(\"touchstart\", startListener, { passive: true });\n      this.eElement.removeEventListener(\"touchmove\", moveListener, { passive: true });\n      this.eElement.removeEventListener(\"touchend\", endListener, { passive: false });\n    });\n  }\n  getActiveTouch(touchList) {\n    for (let i = 0; i < touchList.length; i++) {\n      const matches = touchList[i].identifier === this.touchStart.identifier;\n      if (matches) {\n        return touchList[i];\n      }\n    }\n    return null;\n  }\n  addEventListener(eventType, listener) {\n    this.localEventService.addEventListener(eventType, listener);\n  }\n  removeEventListener(eventType, listener) {\n    this.localEventService.removeEventListener(eventType, listener);\n  }\n  onTouchStart(touchEvent) {\n    if (this.touching) {\n      return;\n    }\n    this.touchStart = touchEvent.touches[0];\n    this.touching = true;\n    this.moved = false;\n    const touchStartCopy = this.touchStart;\n    window.setTimeout(() => {\n      const touchesMatch = this.touchStart === touchStartCopy;\n      if (this.touching && touchesMatch && !this.moved) {\n        this.moved = true;\n        const event = {\n          type: \"longTap\",\n          touchStart: this.touchStart,\n          touchEvent\n        };\n        this.localEventService.dispatchEvent(event);\n      }\n    }, 500);\n  }\n  onTouchMove(touchEvent) {\n    if (!this.touching) {\n      return;\n    }\n    const touch = this.getActiveTouch(touchEvent.touches);\n    if (!touch) {\n      return;\n    }\n    const eventIsFarAway = !_areEventsNear(touch, this.touchStart, 4);\n    if (eventIsFarAway) {\n      this.moved = true;\n    }\n  }\n  onTouchEnd(touchEvent) {\n    if (!this.touching) {\n      return;\n    }\n    if (!this.moved) {\n      const event = {\n        type: \"tap\",\n        touchStart: this.touchStart\n      };\n      this.localEventService.dispatchEvent(event);\n      this.checkForDoubleTap();\n    }\n    if (this.preventMouseClick && touchEvent.cancelable) {\n      touchEvent.preventDefault();\n    }\n    this.touching = false;\n  }\n  checkForDoubleTap() {\n    const now = (/* @__PURE__ */ new Date()).getTime();\n    if (this.lastTapTime && this.lastTapTime > 0) {\n      const interval = now - this.lastTapTime;\n      if (interval > this.DOUBLE_TAP_MILLIS) {\n        const event = {\n          type: \"doubleTap\",\n          touchStart: this.touchStart\n        };\n        this.localEventService.dispatchEvent(event);\n        this.lastTapTime = null;\n      } else {\n        this.lastTapTime = now;\n      }\n    } else {\n      this.lastTapTime = now;\n    }\n  }\n  destroy() {\n    this.destroyFuncs.forEach((func) => func());\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/column/sortIndicatorComp.ts\nfunction makeSpan(dataRefSuffix, classSuffix) {\n  return (\n    /* html */\n    `<span data-ref=\"eSort${dataRefSuffix}\" class=\"ag-sort-indicator-icon ag-sort-${classSuffix} ag-hidden\" aria-hidden=\"true\"></span>`\n  );\n}\nvar SortIndicatorTemplate = (\n  /* html */\n  `<span class=\"ag-sort-indicator-container\">\n        ${makeSpan(\"Order\", \"order\")}\n        ${makeSpan(\"Asc\", \"ascending-icon\")}\n        ${makeSpan(\"Desc\", \"descending-icon\")}\n        ${makeSpan(\"Mixed\", \"mixed-icon\")}\n        ${makeSpan(\"None\", \"none-icon\")}\n    </span>`\n);\nvar SortIndicatorComp = class extends Component {\n  constructor(skipTemplate) {\n    super();\n    this.eSortOrder = RefPlaceholder;\n    this.eSortAsc = RefPlaceholder;\n    this.eSortDesc = RefPlaceholder;\n    this.eSortMixed = RefPlaceholder;\n    this.eSortNone = RefPlaceholder;\n    if (!skipTemplate) {\n      this.setTemplate(SortIndicatorTemplate);\n    }\n  }\n  wireBeans(beans) {\n    this.sortController = beans.sortController;\n  }\n  attachCustomElements(eSortOrder, eSortAsc, eSortDesc, eSortMixed, eSortNone) {\n    this.eSortOrder = eSortOrder;\n    this.eSortAsc = eSortAsc;\n    this.eSortDesc = eSortDesc;\n    this.eSortMixed = eSortMixed;\n    this.eSortNone = eSortNone;\n  }\n  setupSort(column, suppressOrder = false) {\n    this.column = column;\n    this.suppressOrder = suppressOrder;\n    this.setupMultiSortIndicator();\n    if (!this.column.isSortable() && !this.column.getColDef().showRowGroup) {\n      return;\n    }\n    this.addInIcon(\"sortAscending\", this.eSortAsc, column);\n    this.addInIcon(\"sortDescending\", this.eSortDesc, column);\n    this.addInIcon(\"sortUnSort\", this.eSortNone, column);\n    const updateIcons = this.updateIcons.bind(this);\n    const sortUpdated = this.onSortChanged.bind(this);\n    this.addManagedPropertyListener(\"unSortIcon\", updateIcons);\n    this.addManagedEventListeners({\n      newColumnsLoaded: updateIcons,\n      // Watch global events, as row group columns can effect their display column.\n      sortChanged: sortUpdated,\n      // when grouping changes so can sort indexes and icons\n      columnRowGroupChanged: sortUpdated\n    });\n    this.onSortChanged();\n  }\n  addInIcon(iconName, eParent, column) {\n    if (eParent == null) {\n      return;\n    }\n    const eIcon = _createIconNoSpan(iconName, this.gos, column);\n    if (eIcon) {\n      eParent.appendChild(eIcon);\n    }\n  }\n  onSortChanged() {\n    this.updateIcons();\n    if (!this.suppressOrder) {\n      this.updateSortOrder();\n    }\n  }\n  updateIcons() {\n    const sortDirection = this.sortController.getDisplaySortForColumn(this.column);\n    if (this.eSortAsc) {\n      const isAscending = sortDirection === \"asc\";\n      _setDisplayed(this.eSortAsc, isAscending, { skipAriaHidden: true });\n    }\n    if (this.eSortDesc) {\n      const isDescending = sortDirection === \"desc\";\n      _setDisplayed(this.eSortDesc, isDescending, { skipAriaHidden: true });\n    }\n    if (this.eSortNone) {\n      const alwaysHideNoSort = !this.column.getColDef().unSortIcon && !this.gos.get(\"unSortIcon\");\n      const isNone = sortDirection === null || sortDirection === void 0;\n      _setDisplayed(this.eSortNone, !alwaysHideNoSort && isNone, { skipAriaHidden: true });\n    }\n  }\n  setupMultiSortIndicator() {\n    this.addInIcon(\"sortUnSort\", this.eSortMixed, this.column);\n    const isColumnShowingRowGroup = this.column.getColDef().showRowGroup;\n    const areGroupsCoupled = _isColumnsSortingCoupledToGroup(this.gos);\n    if (areGroupsCoupled && isColumnShowingRowGroup) {\n      this.addManagedEventListeners({\n        // Watch global events, as row group columns can effect their display column.\n        sortChanged: this.updateMultiSortIndicator.bind(this),\n        // when grouping changes so can sort indexes and icons\n        columnRowGroupChanged: this.updateMultiSortIndicator.bind(this)\n      });\n      this.updateMultiSortIndicator();\n    }\n  }\n  updateMultiSortIndicator() {\n    if (this.eSortMixed) {\n      const isMixedSort = this.sortController.getDisplaySortForColumn(this.column) === \"mixed\";\n      _setDisplayed(this.eSortMixed, isMixedSort, { skipAriaHidden: true });\n    }\n  }\n  // we listen here for global sort events, NOT column sort events, as we want to do this\n  // when sorting has been set on all column (if we listened just for our col (where we\n  // set the asc / desc icons) then it's possible other cols are yet to get their sorting state.\n  updateSortOrder() {\n    if (!this.eSortOrder) {\n      return;\n    }\n    const allColumnsWithSorting = this.sortController.getColumnsWithSortingOrdered();\n    const indexThisCol = this.sortController.getDisplaySortIndexForColumn(this.column) ?? -1;\n    const moreThanOneColSorting = allColumnsWithSorting.some(\n      (col) => this.sortController.getDisplaySortIndexForColumn(col) ?? -1 >= 1\n    );\n    const showIndex = indexThisCol >= 0 && moreThanOneColSorting;\n    _setDisplayed(this.eSortOrder, showIndex, { skipAriaHidden: true });\n    if (indexThisCol >= 0) {\n      this.eSortOrder.textContent = (indexThisCol + 1).toString();\n    } else {\n      _clearElement(this.eSortOrder);\n    }\n  }\n};\nvar SortIndicatorSelector = {\n  selector: \"AG-SORT-INDICATOR\",\n  component: SortIndicatorComp\n};\n\n// community-modules/core/src/headerRendering/cells/column/headerComp.ts\nvar HeaderCompTemplate = (\n  /* html */\n  `<div class=\"ag-cell-label-container\" role=\"presentation\">\n        <span data-ref=\"eMenu\" class=\"ag-header-icon ag-header-cell-menu-button\" aria-hidden=\"true\"></span>\n        <span data-ref=\"eFilterButton\" class=\"ag-header-icon ag-header-cell-filter-button\" aria-hidden=\"true\"></span>\n        <div data-ref=\"eLabel\" class=\"ag-header-cell-label\" role=\"presentation\">\n            <span data-ref=\"eText\" class=\"ag-header-cell-text\"></span>\n            <span data-ref=\"eFilter\" class=\"ag-header-icon ag-header-label-icon ag-filter-icon\" aria-hidden=\"true\"></span>\n            <ag-sort-indicator data-ref=\"eSortIndicator\"></ag-sort-indicator>\n        </div>\n    </div>`\n);\nvar HeaderComp = class extends Component {\n  constructor() {\n    super(...arguments);\n    this.eFilter = RefPlaceholder;\n    this.eFilterButton = RefPlaceholder;\n    this.eSortIndicator = RefPlaceholder;\n    this.eMenu = RefPlaceholder;\n    this.eLabel = RefPlaceholder;\n    this.eText = RefPlaceholder;\n    /**\n     * Selectors for custom headers templates\n     */\n    this.eSortOrder = RefPlaceholder;\n    this.eSortAsc = RefPlaceholder;\n    this.eSortDesc = RefPlaceholder;\n    this.eSortMixed = RefPlaceholder;\n    this.eSortNone = RefPlaceholder;\n    this.lastMovingChanged = 0;\n  }\n  wireBeans(beans) {\n    this.sortController = beans.sortController;\n    this.menuService = beans.menuService;\n    this.funcColsService = beans.funcColsService;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n  refresh(params) {\n    const oldParams = this.params;\n    this.params = params;\n    if (this.workOutTemplate() != this.currentTemplate || this.workOutShowMenu() != this.currentShowMenu || this.workOutSort() != this.currentSort || this.shouldSuppressMenuHide() != this.currentSuppressMenuHide || oldParams.enableFilterButton != params.enableFilterButton || oldParams.enableFilterIcon != params.enableFilterIcon) {\n      return false;\n    }\n    this.setDisplayName(params);\n    return true;\n  }\n  workOutTemplate() {\n    let template = this.params.template ?? HeaderCompTemplate;\n    template = template && template.trim ? template.trim() : template;\n    return template;\n  }\n  init(params) {\n    this.params = params;\n    this.currentTemplate = this.workOutTemplate();\n    this.setTemplate(this.currentTemplate, [SortIndicatorSelector]);\n    this.setupTap();\n    this.setMenu();\n    this.setupSort();\n    this.setupFilterIcon();\n    this.setupFilterButton();\n    this.setDisplayName(params);\n  }\n  setDisplayName(params) {\n    if (this.currentDisplayName != params.displayName) {\n      this.currentDisplayName = params.displayName;\n      const displayNameSanitised = _escapeString(this.currentDisplayName, true);\n      if (this.eText) {\n        this.eText.textContent = displayNameSanitised;\n      }\n    }\n  }\n  addInIcon(iconName, eParent, column) {\n    if (eParent == null) {\n      return;\n    }\n    const eIcon = _createIconNoSpan(iconName, this.gos, column);\n    if (eIcon) {\n      eParent.appendChild(eIcon);\n    }\n  }\n  setupTap() {\n    const { gos } = this;\n    if (gos.get(\"suppressTouch\")) {\n      return;\n    }\n    const touchListener = new TouchListener(this.getGui(), true);\n    const suppressMenuHide = this.shouldSuppressMenuHide();\n    const tapMenuButton = suppressMenuHide && _exists(this.eMenu);\n    const menuTouchListener = tapMenuButton ? new TouchListener(this.eMenu, true) : touchListener;\n    if (this.params.enableMenu) {\n      const eventType = tapMenuButton ? \"tap\" : \"longTap\";\n      const showMenuFn = (event) => this.params.showColumnMenuAfterMouseClick(event.touchStart);\n      this.addManagedListeners(menuTouchListener, { [eventType]: showMenuFn });\n    }\n    if (this.params.enableSorting) {\n      const tapListener = (event) => {\n        const target = event.touchStart.target;\n        if (suppressMenuHide && (this.eMenu?.contains(target) || this.eFilterButton?.contains(target))) {\n          return;\n        }\n        this.sortController.progressSort(this.params.column, false, \"uiColumnSorted\");\n      };\n      this.addManagedListeners(touchListener, { tap: tapListener });\n    }\n    if (this.params.enableFilterButton) {\n      const filterButtonTouchListener = new TouchListener(this.eFilterButton, true);\n      this.addManagedListeners(filterButtonTouchListener, {\n        tap: () => this.params.showFilter(this.eFilterButton)\n      });\n      this.addDestroyFunc(() => filterButtonTouchListener.destroy());\n    }\n    this.addDestroyFunc(() => touchListener.destroy());\n    if (tapMenuButton) {\n      this.addDestroyFunc(() => menuTouchListener.destroy());\n    }\n  }\n  workOutShowMenu() {\n    return this.params.enableMenu && this.menuService.isHeaderMenuButtonEnabled();\n  }\n  shouldSuppressMenuHide() {\n    return this.menuService.isHeaderMenuButtonAlwaysShowEnabled();\n  }\n  setMenu() {\n    if (!this.eMenu) {\n      return;\n    }\n    this.currentShowMenu = this.workOutShowMenu();\n    if (!this.currentShowMenu) {\n      _removeFromParent(this.eMenu);\n      this.eMenu = void 0;\n      return;\n    }\n    const isLegacyMenu = this.menuService.isLegacyMenuEnabled();\n    this.addInIcon(isLegacyMenu ? \"menu\" : \"menuAlt\", this.eMenu, this.params.column);\n    this.eMenu.classList.toggle(\"ag-header-menu-icon\", !isLegacyMenu);\n    this.currentSuppressMenuHide = this.shouldSuppressMenuHide();\n    this.addManagedElementListeners(this.eMenu, { click: () => this.params.showColumnMenu(this.eMenu) });\n    this.eMenu.classList.toggle(\"ag-header-menu-always-show\", this.currentSuppressMenuHide);\n  }\n  onMenuKeyboardShortcut(isFilterShortcut) {\n    const column = this.params.column;\n    const isLegacyMenuEnabled = this.menuService.isLegacyMenuEnabled();\n    if (isFilterShortcut && !isLegacyMenuEnabled) {\n      if (this.menuService.isFilterMenuInHeaderEnabled(column)) {\n        this.params.showFilter(this.eFilterButton ?? this.eMenu ?? this.getGui());\n        return true;\n      }\n    } else if (this.params.enableMenu) {\n      this.params.showColumnMenu(this.eMenu ?? this.eFilterButton ?? this.getGui());\n      return true;\n    }\n    return false;\n  }\n  workOutSort() {\n    return this.params.enableSorting;\n  }\n  setupSort() {\n    this.currentSort = this.params.enableSorting;\n    if (!this.eSortIndicator) {\n      this.eSortIndicator = this.createBean(new SortIndicatorComp(true));\n      this.eSortIndicator.attachCustomElements(\n        this.eSortOrder,\n        this.eSortAsc,\n        this.eSortDesc,\n        this.eSortMixed,\n        this.eSortNone\n      );\n    }\n    this.eSortIndicator.setupSort(this.params.column);\n    if (!this.currentSort) {\n      return;\n    }\n    this.addManagedListeners(this.params.column, {\n      movingChanged: () => {\n        this.lastMovingChanged = (/* @__PURE__ */ new Date()).getTime();\n      }\n    });\n    if (this.eLabel) {\n      this.addManagedElementListeners(this.eLabel, {\n        click: (event) => {\n          const moving = this.params.column.isMoving();\n          const nowTime = (/* @__PURE__ */ new Date()).getTime();\n          const movedRecently = nowTime - this.lastMovingChanged < 50;\n          const columnMoving = moving || movedRecently;\n          if (!columnMoving) {\n            const sortUsingCtrl = this.gos.get(\"multiSortKey\") === \"ctrl\";\n            const multiSort = sortUsingCtrl ? event.ctrlKey || event.metaKey : event.shiftKey;\n            this.params.progressSort(multiSort);\n          }\n        }\n      });\n    }\n    const onSortingChanged = () => {\n      const sort = this.params.column.getSort();\n      this.addOrRemoveCssClass(\"ag-header-cell-sorted-asc\", sort === \"asc\");\n      this.addOrRemoveCssClass(\"ag-header-cell-sorted-desc\", sort === \"desc\");\n      this.addOrRemoveCssClass(\"ag-header-cell-sorted-none\", !sort);\n      if (this.params.column.getColDef().showRowGroup) {\n        const sourceColumns = this.funcColsService.getSourceColumnsForGroupColumn(\n          this.params.column\n        );\n        const sortDirectionsMatch = sourceColumns?.every(\n          (sourceCol) => this.params.column.getSort() == sourceCol.getSort()\n        );\n        const isMultiSorting = !sortDirectionsMatch;\n        this.addOrRemoveCssClass(\"ag-header-cell-sorted-mixed\", isMultiSorting);\n      }\n    };\n    this.addManagedEventListeners({\n      sortChanged: onSortingChanged,\n      columnRowGroupChanged: onSortingChanged\n    });\n  }\n  setupFilterIcon() {\n    if (!this.eFilter) {\n      return;\n    }\n    this.configureFilter(this.params.enableFilterIcon, this.eFilter, this.onFilterChangedIcon.bind(this));\n  }\n  setupFilterButton() {\n    if (!this.eFilterButton) {\n      return;\n    }\n    const configured = this.configureFilter(\n      this.params.enableFilterButton,\n      this.eFilterButton,\n      this.onFilterChangedButton.bind(this)\n    );\n    if (configured) {\n      this.addManagedElementListeners(this.eFilterButton, {\n        click: () => this.params.showFilter(this.eFilterButton)\n      });\n    } else {\n      this.eFilterButton = void 0;\n    }\n  }\n  configureFilter(enabled, element, filterChangedCallback) {\n    if (!enabled) {\n      _removeFromParent(element);\n      return false;\n    }\n    const column = this.params.column;\n    this.addInIcon(\"filter\", element, column);\n    this.addManagedListeners(column, { filterChanged: filterChangedCallback });\n    filterChangedCallback();\n    return true;\n  }\n  onFilterChangedIcon() {\n    const filterPresent = this.params.column.isFilterActive();\n    _setDisplayed(this.eFilter, filterPresent, { skipAriaHidden: true });\n  }\n  onFilterChangedButton() {\n    const filterPresent = this.params.column.isFilterActive();\n    this.eFilterButton.classList.toggle(\"ag-filter-active\", filterPresent);\n  }\n  getAnchorElementForMenu(isFilter) {\n    if (isFilter) {\n      return this.eFilterButton ?? this.eMenu ?? this.getGui();\n    }\n    return this.eMenu ?? this.eFilterButton ?? this.getGui();\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/columnGroup/headerGroupComp.ts\nvar HeaderGroupComp = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-header-group-cell-label\" role=\"presentation\">\n            <span data-ref=\"agLabel\" class=\"ag-header-group-text\" role=\"presentation\"></span>\n            <span data-ref=\"agOpened\" class=\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded\"></span>\n            <span data-ref=\"agClosed\" class=\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed\"></span>\n        </div>`\n    );\n    this.agOpened = RefPlaceholder;\n    this.agClosed = RefPlaceholder;\n    this.agLabel = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n  init(params) {\n    this.params = params;\n    this.checkWarnings();\n    this.setupLabel();\n    this.addGroupExpandIcon();\n    this.setupExpandIcons();\n  }\n  checkWarnings() {\n    const paramsAny = this.params;\n    if (paramsAny.template) {\n      _warnOnce(\n        `A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)`\n      );\n    }\n  }\n  setupExpandIcons() {\n    this.addInIcon(\"columnGroupOpened\", this.agOpened);\n    this.addInIcon(\"columnGroupClosed\", this.agClosed);\n    const expandAction = (event) => {\n      if (_isStopPropagationForAgGrid(event)) {\n        return;\n      }\n      const newExpandedValue = !this.params.columnGroup.isExpanded();\n      this.columnModel.setColumnGroupOpened(\n        this.params.columnGroup.getProvidedColumnGroup(),\n        newExpandedValue,\n        \"uiColumnExpanded\"\n      );\n    };\n    this.addTouchAndClickListeners(this.agClosed, expandAction);\n    this.addTouchAndClickListeners(this.agOpened, expandAction);\n    const stopPropagationAction = (event) => {\n      _stopPropagationForAgGrid(event);\n    };\n    this.addManagedElementListeners(this.agClosed, { dblclick: stopPropagationAction });\n    this.addManagedElementListeners(this.agOpened, { dblclick: stopPropagationAction });\n    this.addManagedElementListeners(this.getGui(), { dblclick: expandAction });\n    this.updateIconVisibility();\n    const providedColumnGroup = this.params.columnGroup.getProvidedColumnGroup();\n    const updateIcon = this.updateIconVisibility.bind(this);\n    this.addManagedListeners(providedColumnGroup, {\n      expandedChanged: updateIcon,\n      expandableChanged: updateIcon\n    });\n  }\n  addTouchAndClickListeners(eElement, action) {\n    const touchListener = new TouchListener(eElement, true);\n    this.addManagedListeners(touchListener, { tap: action });\n    this.addDestroyFunc(() => touchListener.destroy());\n    this.addManagedElementListeners(eElement, { click: action });\n  }\n  updateIconVisibility() {\n    const columnGroup = this.params.columnGroup;\n    if (columnGroup.isExpandable()) {\n      const expanded = this.params.columnGroup.isExpanded();\n      _setDisplayed(this.agOpened, expanded);\n      _setDisplayed(this.agClosed, !expanded);\n    } else {\n      _setDisplayed(this.agOpened, false);\n      _setDisplayed(this.agClosed, false);\n    }\n  }\n  addInIcon(iconName, element) {\n    const eIcon = _createIconNoSpan(iconName, this.gos, null);\n    if (eIcon) {\n      element.appendChild(eIcon);\n    }\n  }\n  addGroupExpandIcon() {\n    if (!this.params.columnGroup.isExpandable()) {\n      _setDisplayed(this.agOpened, false);\n      _setDisplayed(this.agClosed, false);\n      return;\n    }\n  }\n  setupLabel() {\n    const { displayName, columnGroup } = this.params;\n    if (_exists(displayName)) {\n      const displayNameSanitised = _escapeString(displayName, true);\n      this.agLabel.textContent = displayNameSanitised;\n    }\n    this.addOrRemoveCssClass(\"ag-sticky-label\", !columnGroup.getColGroupDef()?.suppressStickyLabel);\n  }\n};\n\n// community-modules/core/src/rendering/cellRenderers/animateShowChangeCellRenderer.ts\nvar ARROW_UP = \"\\u2191\";\nvar ARROW_DOWN = \"\\u2193\";\nvar AnimateShowChangeCellRenderer = class extends Component {\n  constructor() {\n    super();\n    this.refreshCount = 0;\n    const template = document.createElement(\"span\");\n    const delta = document.createElement(\"span\");\n    delta.setAttribute(\"class\", \"ag-value-change-delta\");\n    const value = document.createElement(\"span\");\n    value.setAttribute(\"class\", \"ag-value-change-value\");\n    template.appendChild(delta);\n    template.appendChild(value);\n    this.setTemplateFromElement(template);\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n  }\n  init(params) {\n    this.eValue = this.queryForHtmlElement(\".ag-value-change-value\");\n    this.eDelta = this.queryForHtmlElement(\".ag-value-change-delta\");\n    this.refresh(params, true);\n  }\n  showDelta(params, delta) {\n    const absDelta = Math.abs(delta);\n    const valueFormatted = params.formatValue(absDelta);\n    const valueToUse = _exists(valueFormatted) ? valueFormatted : absDelta;\n    const deltaUp = delta >= 0;\n    if (deltaUp) {\n      this.eDelta.textContent = ARROW_UP + valueToUse;\n    } else {\n      this.eDelta.textContent = ARROW_DOWN + valueToUse;\n    }\n    this.eDelta.classList.toggle(\"ag-value-change-delta-up\", deltaUp);\n    this.eDelta.classList.toggle(\"ag-value-change-delta-down\", !deltaUp);\n  }\n  setTimerToRemoveDelta() {\n    this.refreshCount++;\n    const refreshCountCopy = this.refreshCount;\n    this.getFrameworkOverrides().wrapIncoming(() => {\n      window.setTimeout(() => {\n        if (refreshCountCopy === this.refreshCount) {\n          this.hideDeltaValue();\n        }\n      }, 2e3);\n    });\n  }\n  hideDeltaValue() {\n    this.eValue.classList.remove(\"ag-value-change-value-highlight\");\n    _clearElement(this.eDelta);\n  }\n  refresh(params, isInitialRender = false) {\n    const value = params.value;\n    if (value === this.lastValue) {\n      return false;\n    }\n    if (_exists(params.valueFormatted)) {\n      this.eValue.textContent = params.valueFormatted;\n    } else if (_exists(params.value)) {\n      this.eValue.textContent = value;\n    } else {\n      _clearElement(this.eValue);\n    }\n    if (this.filterManager?.isSuppressFlashingCellsBecauseFiltering()) {\n      return false;\n    }\n    if (typeof value === \"number\" && typeof this.lastValue === \"number\") {\n      const delta = value - this.lastValue;\n      this.showDelta(params, delta);\n    }\n    if (this.lastValue) {\n      this.eValue.classList.add(\"ag-value-change-value-highlight\");\n    }\n    if (!isInitialRender) {\n      this.setTimerToRemoveDelta();\n    }\n    this.lastValue = value;\n    return true;\n  }\n};\n\n// community-modules/core/src/rendering/cellRenderers/animateSlideCellRenderer.ts\nvar AnimateSlideCellRenderer = class extends Component {\n  constructor() {\n    super();\n    this.refreshCount = 0;\n    const template = document.createElement(\"span\");\n    const slide = document.createElement(\"span\");\n    slide.setAttribute(\"class\", \"ag-value-slide-current\");\n    template.appendChild(slide);\n    this.setTemplateFromElement(template);\n    this.eCurrent = this.queryForHtmlElement(\".ag-value-slide-current\");\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n  }\n  init(params) {\n    this.refresh(params, true);\n  }\n  addSlideAnimation() {\n    this.refreshCount++;\n    const refreshCountCopy = this.refreshCount;\n    if (this.ePrevious) {\n      this.getGui().removeChild(this.ePrevious);\n    }\n    const prevElement = document.createElement(\"span\");\n    prevElement.setAttribute(\"class\", \"ag-value-slide-previous ag-value-slide-out\");\n    this.ePrevious = prevElement;\n    this.ePrevious.textContent = this.eCurrent.textContent;\n    this.getGui().insertBefore(this.ePrevious, this.eCurrent);\n    this.getFrameworkOverrides().wrapIncoming(() => {\n      window.setTimeout(() => {\n        if (refreshCountCopy !== this.refreshCount) {\n          return;\n        }\n        this.ePrevious.classList.add(\"ag-value-slide-out-end\");\n      }, 50);\n      window.setTimeout(() => {\n        if (refreshCountCopy !== this.refreshCount) {\n          return;\n        }\n        this.getGui().removeChild(this.ePrevious);\n        this.ePrevious = null;\n      }, 3e3);\n    });\n  }\n  refresh(params, isInitialRender = false) {\n    let value = params.value;\n    if (_missing(value)) {\n      value = \"\";\n    }\n    if (value === this.lastValue) {\n      return false;\n    }\n    if (this.filterManager?.isSuppressFlashingCellsBecauseFiltering()) {\n      return false;\n    }\n    if (!isInitialRender) {\n      this.addSlideAnimation();\n    }\n    this.lastValue = value;\n    if (_exists(params.valueFormatted)) {\n      this.eCurrent.textContent = params.valueFormatted;\n    } else if (_exists(params.value)) {\n      this.eCurrent.textContent = value;\n    } else {\n      _clearElement(this.eCurrent);\n    }\n    return true;\n  }\n};\n\n// community-modules/core/src/constants/keyCode.ts\nvar KeyCode = class {\n};\nKeyCode.BACKSPACE = \"Backspace\";\nKeyCode.TAB = \"Tab\";\nKeyCode.ENTER = \"Enter\";\nKeyCode.ESCAPE = \"Escape\";\nKeyCode.SPACE = \" \";\nKeyCode.LEFT = \"ArrowLeft\";\nKeyCode.UP = \"ArrowUp\";\nKeyCode.RIGHT = \"ArrowRight\";\nKeyCode.DOWN = \"ArrowDown\";\nKeyCode.DELETE = \"Delete\";\nKeyCode.F2 = \"F2\";\nKeyCode.PAGE_UP = \"PageUp\";\nKeyCode.PAGE_DOWN = \"PageDown\";\nKeyCode.PAGE_HOME = \"Home\";\nKeyCode.PAGE_END = \"End\";\n// these should be used with `event.code` instead of `event.key`\n// as `event.key` changes when non-latin keyboards are used\nKeyCode.A = \"KeyA\";\nKeyCode.C = \"KeyC\";\nKeyCode.D = \"KeyD\";\nKeyCode.V = \"KeyV\";\nKeyCode.X = \"KeyX\";\nKeyCode.Y = \"KeyY\";\nKeyCode.Z = \"KeyZ\";\n\n// community-modules/core/src/widgets/agAbstractLabel.ts\nvar AgAbstractLabel = class extends Component {\n  constructor(config, template, components) {\n    super(template, components);\n    this.labelSeparator = \"\";\n    this.labelAlignment = \"left\";\n    this.disabled = false;\n    this.label = \"\";\n    this.config = config || {};\n  }\n  postConstruct() {\n    this.addCssClass(\"ag-labeled\");\n    this.eLabel.classList.add(\"ag-label\");\n    const { labelSeparator, label, labelWidth, labelAlignment, disabled } = this.config;\n    if (disabled != null) {\n      this.setDisabled(disabled);\n    }\n    if (labelSeparator != null) {\n      this.setLabelSeparator(labelSeparator);\n    }\n    if (label != null) {\n      this.setLabel(label);\n    }\n    if (labelWidth != null) {\n      this.setLabelWidth(labelWidth);\n    }\n    this.setLabelAlignment(labelAlignment || this.labelAlignment);\n    this.refreshLabel();\n  }\n  refreshLabel() {\n    _clearElement(this.eLabel);\n    if (typeof this.label === \"string\") {\n      this.eLabel.innerText = this.label + this.labelSeparator;\n    } else if (this.label) {\n      this.eLabel.appendChild(this.label);\n    }\n    if (this.label === \"\") {\n      _setDisplayed(this.eLabel, false);\n      _setAriaRole(this.eLabel, \"presentation\");\n    } else {\n      _setDisplayed(this.eLabel, true);\n      _setAriaRole(this.eLabel, null);\n    }\n  }\n  setLabelSeparator(labelSeparator) {\n    if (this.labelSeparator === labelSeparator) {\n      return this;\n    }\n    this.labelSeparator = labelSeparator;\n    if (this.label != null) {\n      this.refreshLabel();\n    }\n    return this;\n  }\n  getLabelId() {\n    this.eLabel.id = this.eLabel.id || `ag-${this.getCompId()}-label`;\n    return this.eLabel.id;\n  }\n  getLabel() {\n    return this.label;\n  }\n  setLabel(label) {\n    if (this.label === label) {\n      return this;\n    }\n    this.label = label;\n    this.refreshLabel();\n    return this;\n  }\n  setLabelAlignment(alignment) {\n    const eGui = this.getGui();\n    const eGuiClassList = eGui.classList;\n    eGuiClassList.toggle(\"ag-label-align-left\", alignment === \"left\");\n    eGuiClassList.toggle(\"ag-label-align-right\", alignment === \"right\");\n    eGuiClassList.toggle(\"ag-label-align-top\", alignment === \"top\");\n    return this;\n  }\n  setLabelEllipsis(hasEllipsis) {\n    this.eLabel.classList.toggle(\"ag-label-ellipsis\", hasEllipsis);\n    return this;\n  }\n  setLabelWidth(width) {\n    if (this.label == null) {\n      return this;\n    }\n    _setElementWidth(this.eLabel, width);\n    return this;\n  }\n  setDisabled(disabled) {\n    disabled = !!disabled;\n    const element = this.getGui();\n    _setDisabled(element, disabled);\n    element.classList.toggle(\"ag-disabled\", disabled);\n    this.disabled = disabled;\n    return this;\n  }\n  isDisabled() {\n    return !!this.disabled;\n  }\n};\n\n// community-modules/core/src/widgets/agAbstractField.ts\nvar AgAbstractField = class extends AgAbstractLabel {\n  constructor(config, template, components, className) {\n    super(config, template, components);\n    this.className = className;\n  }\n  postConstruct() {\n    super.postConstruct();\n    const { width, value, onValueChange } = this.config;\n    if (width != null) {\n      this.setWidth(width);\n    }\n    if (value != null) {\n      this.setValue(value);\n    }\n    if (onValueChange != null) {\n      this.onValueChange(onValueChange);\n    }\n    if (this.className) {\n      this.addCssClass(this.className);\n    }\n    this.refreshAriaLabelledBy();\n  }\n  setLabel(label) {\n    super.setLabel(label);\n    this.refreshAriaLabelledBy();\n    return this;\n  }\n  refreshAriaLabelledBy() {\n    const ariaEl = this.getAriaElement();\n    const labelId = this.getLabelId();\n    const label = this.getLabel();\n    if (label == null || label == \"\" || _getAriaLabel(ariaEl) !== null) {\n      _setAriaLabelledBy(ariaEl, \"\");\n    } else {\n      _setAriaLabelledBy(ariaEl, labelId ?? \"\");\n    }\n  }\n  setAriaLabel(label) {\n    _setAriaLabel(this.getAriaElement(), label);\n    this.refreshAriaLabelledBy();\n    return this;\n  }\n  onValueChange(callbackFn) {\n    this.addManagedListeners(this, { fieldValueChanged: () => callbackFn(this.getValue()) });\n    return this;\n  }\n  getWidth() {\n    return this.getGui().clientWidth;\n  }\n  setWidth(width) {\n    _setFixedWidth(this.getGui(), width);\n    return this;\n  }\n  getPreviousValue() {\n    return this.previousValue;\n  }\n  getValue() {\n    return this.value;\n  }\n  setValue(value, silent) {\n    if (this.value === value) {\n      return this;\n    }\n    this.previousValue = this.value;\n    this.value = value;\n    if (!silent) {\n      this.dispatchLocalEvent({ type: \"fieldValueChanged\" });\n    }\n    return this;\n  }\n};\n\n// community-modules/core/src/widgets/agAbstractInputField.ts\nvar AgAbstractInputField = class extends AgAbstractField {\n  constructor(config, className, inputType = \"text\", displayFieldTag = \"input\") {\n    super(\n      config,\n      config?.template ?? /* html */\n      `\n            <div role=\"presentation\">\n                <div data-ref=\"eLabel\" class=\"ag-input-field-label\"></div>\n                <div data-ref=\"eWrapper\" class=\"ag-wrapper ag-input-wrapper\" role=\"presentation\">\n                    <${displayFieldTag} data-ref=\"eInput\" class=\"ag-input-field-input\"></${displayFieldTag}>\n                </div>\n            </div>`,\n      [],\n      className\n    );\n    this.inputType = inputType;\n    this.displayFieldTag = displayFieldTag;\n    this.eLabel = RefPlaceholder;\n    this.eWrapper = RefPlaceholder;\n    this.eInput = RefPlaceholder;\n  }\n  postConstruct() {\n    super.postConstruct();\n    this.setInputType();\n    this.eLabel.classList.add(`${this.className}-label`);\n    this.eWrapper.classList.add(`${this.className}-input-wrapper`);\n    this.eInput.classList.add(`${this.className}-input`);\n    this.addCssClass(\"ag-input-field\");\n    this.eInput.id = this.eInput.id || `ag-${this.getCompId()}-input`;\n    const { inputName, inputWidth } = this.config;\n    if (inputName != null) {\n      this.setInputName(inputName);\n    }\n    if (inputWidth != null) {\n      this.setInputWidth(inputWidth);\n    }\n    this.addInputListeners();\n    this.activateTabIndex([this.eInput]);\n  }\n  addInputListeners() {\n    this.addManagedElementListeners(this.eInput, { input: (e) => this.setValue(e.target.value) });\n  }\n  setInputType() {\n    if (this.displayFieldTag === \"input\") {\n      this.eInput.setAttribute(\"type\", this.inputType);\n    }\n  }\n  getInputElement() {\n    return this.eInput;\n  }\n  setInputWidth(width) {\n    _setElementWidth(this.eWrapper, width);\n    return this;\n  }\n  setInputName(name) {\n    this.getInputElement().setAttribute(\"name\", name);\n    return this;\n  }\n  getFocusableElement() {\n    return this.eInput;\n  }\n  setMaxLength(length) {\n    const eInput = this.eInput;\n    eInput.maxLength = length;\n    return this;\n  }\n  setInputPlaceholder(placeholder) {\n    _addOrRemoveAttribute(this.eInput, \"placeholder\", placeholder);\n    return this;\n  }\n  setInputAriaLabel(label) {\n    _setAriaLabel(this.eInput, label);\n    this.refreshAriaLabelledBy();\n    return this;\n  }\n  setDisabled(disabled) {\n    _setDisabled(this.eInput, disabled);\n    return super.setDisabled(disabled);\n  }\n  setAutoComplete(value) {\n    if (value === true) {\n      _addOrRemoveAttribute(this.eInput, \"autocomplete\", null);\n    } else {\n      const autoCompleteValue = typeof value === \"string\" ? value : \"off\";\n      _addOrRemoveAttribute(this.eInput, \"autocomplete\", autoCompleteValue);\n    }\n    return this;\n  }\n};\n\n// community-modules/core/src/widgets/agCheckbox.ts\nvar AgCheckbox = class extends AgAbstractInputField {\n  constructor(config, className = \"ag-checkbox\", inputType = \"checkbox\") {\n    super(config, className, inputType);\n    this.labelAlignment = \"right\";\n    this.selected = false;\n    this.readOnly = false;\n    this.passive = false;\n  }\n  postConstruct() {\n    super.postConstruct();\n    const { readOnly, passive } = this.config;\n    if (typeof readOnly === \"boolean\")\n      this.setReadOnly(readOnly);\n    if (typeof passive === \"boolean\")\n      this.setPassive(passive);\n  }\n  addInputListeners() {\n    this.addManagedElementListeners(this.eInput, { click: this.onCheckboxClick.bind(this) });\n    this.addManagedElementListeners(this.eLabel, { click: this.toggle.bind(this) });\n  }\n  getNextValue() {\n    return this.selected === void 0 ? true : !this.selected;\n  }\n  setPassive(passive) {\n    this.passive = passive;\n  }\n  isReadOnly() {\n    return this.readOnly;\n  }\n  setReadOnly(readOnly) {\n    this.eWrapper.classList.toggle(\"ag-disabled\", readOnly);\n    this.eInput.disabled = readOnly;\n    this.readOnly = readOnly;\n  }\n  setDisabled(disabled) {\n    this.eWrapper.classList.toggle(\"ag-disabled\", disabled);\n    return super.setDisabled(disabled);\n  }\n  toggle() {\n    if (this.eInput.disabled) {\n      return;\n    }\n    const previousValue = this.isSelected();\n    const nextValue = this.getNextValue();\n    if (this.passive) {\n      this.dispatchChange(nextValue, previousValue);\n    } else {\n      this.setValue(nextValue);\n    }\n  }\n  getValue() {\n    return this.isSelected();\n  }\n  setValue(value, silent) {\n    this.refreshSelectedClass(value);\n    this.setSelected(value, silent);\n    return this;\n  }\n  setName(name) {\n    const input = this.getInputElement();\n    input.name = name;\n    return this;\n  }\n  isSelected() {\n    return this.selected;\n  }\n  setSelected(selected, silent) {\n    if (this.isSelected() === selected) {\n      return;\n    }\n    this.previousValue = this.isSelected();\n    selected = this.selected = typeof selected === \"boolean\" ? selected : void 0;\n    this.eInput.checked = selected;\n    this.eInput.indeterminate = selected === void 0;\n    if (!silent) {\n      this.dispatchChange(this.selected, this.previousValue);\n    }\n  }\n  dispatchChange(selected, previousValue, event) {\n    this.dispatchLocalEvent({ type: \"fieldValueChanged\", selected, previousValue, event });\n    const input = this.getInputElement();\n    this.eventService.dispatchEvent({\n      type: \"checkboxChanged\",\n      id: input.id,\n      name: input.name,\n      selected,\n      previousValue\n    });\n  }\n  onCheckboxClick(e) {\n    if (this.passive || this.eInput.disabled) {\n      return;\n    }\n    const previousValue = this.isSelected();\n    const selected = this.selected = e.target.checked;\n    this.refreshSelectedClass(selected);\n    this.dispatchChange(selected, previousValue, e);\n  }\n  refreshSelectedClass(value) {\n    this.eWrapper.classList.toggle(\"ag-checked\", value === true);\n    this.eWrapper.classList.toggle(\"ag-indeterminate\", value == null);\n  }\n};\nvar AgCheckboxSelector = {\n  selector: \"AG-CHECKBOX\",\n  component: AgCheckbox\n};\n\n// community-modules/core/src/rendering/cellRenderers/checkboxCellRenderer.ts\nvar CheckboxCellRenderer = class extends Component {\n  constructor() {\n    super(\n      /* html*/\n      `\n            <div class=\"ag-cell-wrapper ag-checkbox-cell\" role=\"presentation\">\n                <ag-checkbox role=\"presentation\" data-ref=\"eCheckbox\"></ag-checkbox>\n            </div>`,\n      [AgCheckboxSelector]\n    );\n    this.eCheckbox = RefPlaceholder;\n  }\n  init(params) {\n    this.refresh(params);\n    const inputEl = this.eCheckbox.getInputElement();\n    inputEl.setAttribute(\"tabindex\", \"-1\");\n    _setAriaLive(inputEl, \"polite\");\n    this.addManagedListeners(inputEl, {\n      click: (event) => {\n        _stopPropagationForAgGrid(event);\n        if (this.eCheckbox.isDisabled()) {\n          return;\n        }\n        const isSelected = this.eCheckbox.getValue();\n        this.onCheckboxChanged(isSelected);\n      },\n      dblclick: (event) => {\n        _stopPropagationForAgGrid(event);\n      }\n    });\n    this.addManagedElementListeners(this.params.eGridCell, {\n      keydown: (event) => {\n        if (event.key === KeyCode.SPACE && !this.eCheckbox.isDisabled()) {\n          if (this.params.eGridCell === _getActiveDomElement(this.gos)) {\n            this.eCheckbox.toggle();\n          }\n          const isSelected = this.eCheckbox.getValue();\n          this.onCheckboxChanged(isSelected);\n          event.preventDefault();\n        }\n      }\n    });\n  }\n  refresh(params) {\n    this.params = params;\n    this.updateCheckbox(params);\n    return true;\n  }\n  updateCheckbox(params) {\n    let isSelected;\n    let displayed = true;\n    if (params.node.group && params.column) {\n      if (typeof params.value === \"boolean\") {\n        isSelected = params.value;\n      } else {\n        const colId = params.column.getColId();\n        if (colId.startsWith(GROUP_AUTO_COLUMN_ID)) {\n          isSelected = params.value == null || params.value === \"\" ? void 0 : params.value === \"true\";\n        } else if (params.node.aggData && params.node.aggData[colId] !== void 0) {\n          isSelected = params.value ?? void 0;\n        } else {\n          displayed = false;\n        }\n      }\n    } else {\n      isSelected = params.value ?? void 0;\n    }\n    if (!displayed) {\n      this.eCheckbox.setDisplayed(false);\n      return;\n    }\n    this.eCheckbox.setValue(isSelected);\n    const disabled = params.disabled != null ? params.disabled : !params.column?.isCellEditable(params.node);\n    this.eCheckbox.setDisabled(disabled);\n    const translate = this.localeService.getLocaleTextFunc();\n    const stateName = _getAriaCheckboxStateName(translate, isSelected);\n    const ariaLabel = disabled ? stateName : `${translate(\"ariaToggleCellValue\", \"Press SPACE to toggle cell value\")} (${stateName})`;\n    this.eCheckbox.setInputAriaLabel(ariaLabel);\n  }\n  onCheckboxChanged(isSelected) {\n    const { column, node, value } = this.params;\n    this.eventService.dispatchEvent({\n      type: \"cellEditingStarted\",\n      column,\n      colDef: column?.getColDef(),\n      data: node.data,\n      node,\n      rowIndex: node.rowIndex,\n      rowPinned: node.rowPinned,\n      value\n    });\n    const valueChanged = this.params.node.setDataValue(this.params.column, isSelected, \"edit\");\n    this.eventService.dispatchEvent({\n      type: \"cellEditingStopped\",\n      column,\n      colDef: column?.getColDef(),\n      data: node.data,\n      node,\n      rowIndex: node.rowIndex,\n      rowPinned: node.rowPinned,\n      value,\n      oldValue: value,\n      newValue: isSelected,\n      valueChanged\n    });\n    if (!valueChanged) {\n      this.updateCheckbox(this.params);\n    }\n  }\n};\n\n// community-modules/core/src/rendering/cellRenderers/loadingCellRenderer.ts\nvar LoadingCellRenderer = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-loading\">\n            <span class=\"ag-loading-icon\" data-ref=\"eLoadingIcon\"></span>\n            <span class=\"ag-loading-text\" data-ref=\"eLoadingText\"></span>\n        </div>`\n    );\n    this.eLoadingIcon = RefPlaceholder;\n    this.eLoadingText = RefPlaceholder;\n  }\n  init(params) {\n    params.node.failedLoad ? this.setupFailed() : this.setupLoading();\n  }\n  setupFailed() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    this.eLoadingText.innerText = localeTextFunc(\"loadingError\", \"ERR\");\n  }\n  setupLoading() {\n    const eLoadingIcon = _createIconNoSpan(\"groupLoading\", this.gos, null);\n    if (eLoadingIcon) {\n      this.eLoadingIcon.appendChild(eLoadingIcon);\n    }\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    this.eLoadingText.innerText = localeTextFunc(\"loadingOoo\", \"Loading\");\n  }\n  refresh(params) {\n    return false;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/cellRenderers/skeletonCellRenderer.ts\nvar SkeletonCellRenderer = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-skeleton-container\"></div>`\n    );\n  }\n  init(params) {\n    const id = `ag-cell-skeleton-renderer-${this.getCompId()}`;\n    this.getGui().setAttribute(\"id\", id);\n    this.addDestroyFunc(() => _setAriaLabelledBy(params.eParentOfValue));\n    _setAriaLabelledBy(params.eParentOfValue, id);\n    params.node.failedLoad ? this.setupFailed() : this.setupLoading(params);\n  }\n  setupFailed() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    this.getGui().innerText = localeTextFunc(\"loadingError\", \"ERR\");\n    const ariaFailed = localeTextFunc(\"ariaSkeletonCellLoadingFailed\", \"Row failed to load\");\n    _setAriaLabel(this.getGui(), ariaFailed);\n  }\n  setupLoading(params) {\n    const eDocument = _getDocument(this.gos);\n    const skeletonEffect = eDocument.createElement(\"div\");\n    skeletonEffect.classList.add(\"ag-skeleton-effect\");\n    const rowIndex = params.node.rowIndex;\n    if (rowIndex != null) {\n      const width = 75 + 25 * (rowIndex % 2 === 0 ? Math.sin(rowIndex) : Math.cos(rowIndex));\n      skeletonEffect.style.width = `${width}%`;\n    }\n    this.getGui().appendChild(skeletonEffect);\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const ariaLoading = localeTextFunc(\"ariaSkeletonCellLoading\", \"Row data is loading\");\n    _setAriaLabel(this.getGui(), ariaLoading);\n  }\n  refresh(params) {\n    return false;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/overlays/overlayComponent.ts\nvar OverlayComponent = class extends Component {\n  constructor() {\n    super();\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/overlays/loadingOverlayComponent.ts\nvar LoadingOverlayComponent = class extends OverlayComponent {\n  init() {\n    const customTemplate = _makeNull(this.gos.get(\"overlayLoadingTemplate\")?.trim());\n    this.setTemplate(\n      customTemplate ?? /* html */\n      `<span aria-live=\"polite\" aria-atomic=\"true\" class=\"ag-overlay-loading-center\"></span>`\n    );\n    if (!customTemplate) {\n      const localeTextFunc = this.localeService.getLocaleTextFunc();\n      setTimeout(() => {\n        this.getGui().textContent = localeTextFunc(\"loadingOoo\", \"Loading...\");\n      });\n    }\n  }\n};\n\n// community-modules/core/src/rendering/overlays/noRowsOverlayComponent.ts\nvar NoRowsOverlayComponent = class extends OverlayComponent {\n  init() {\n    const customTemplate = _makeNull(this.gos.get(\"overlayNoRowsTemplate\")?.trim());\n    this.setTemplate(customTemplate ?? /* html */\n    `<span class=\"ag-overlay-no-rows-center\"></span>`);\n    if (!customTemplate) {\n      const localeTextFunc = this.localeService.getLocaleTextFunc();\n      setTimeout(() => {\n        this.getGui().textContent = localeTextFunc(\"noRowsToShow\", \"No Rows To Show\");\n      });\n    }\n  }\n};\n\n// community-modules/core/src/widgets/popupComponent.ts\nvar PopupComponent = class extends Component {\n  isPopup() {\n    return true;\n  }\n  setParentComponent(container) {\n    container.addCssClass(\"ag-has-popup\");\n    super.setParentComponent(container);\n  }\n  destroy() {\n    const parentComp = this.parentComponent;\n    const hasParent = parentComp && parentComp.isAlive();\n    if (hasParent) {\n      parentComp.getGui().classList.remove(\"ag-has-popup\");\n    }\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/tooltipComponent.ts\nvar TooltipComponent = class extends PopupComponent {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-tooltip\"></div>`\n    );\n  }\n  // will need to type params\n  init(params) {\n    const { value } = params;\n    this.getGui().textContent = _escapeString(value, true);\n  }\n};\n\n// community-modules/core/src/utils/fuzzyMatch.ts\nfunction _fuzzySuggestions(params) {\n  const { inputValue, allSuggestions, hideIrrelevant, filterByPercentageOfBestMatch, addSequentialWeight } = params;\n  let thisSuggestions = allSuggestions.map((text, idx) => ({\n    value: text,\n    relevance: levenshteinDistance(inputValue.toLowerCase(), text.toLocaleLowerCase(), addSequentialWeight),\n    idx\n  }));\n  thisSuggestions.sort((a, b) => b.relevance - a.relevance);\n  if (hideIrrelevant) {\n    thisSuggestions = thisSuggestions.filter((suggestion) => suggestion.relevance !== 0);\n  }\n  if (thisSuggestions.length > 0 && filterByPercentageOfBestMatch && filterByPercentageOfBestMatch > 0) {\n    const bestMatch = thisSuggestions[0].relevance;\n    const limit = bestMatch * filterByPercentageOfBestMatch;\n    thisSuggestions = thisSuggestions.filter((suggestion) => limit - suggestion.relevance < 0);\n  }\n  const values = [];\n  const indices = [];\n  for (const suggestion of thisSuggestions) {\n    values.push(suggestion.value);\n    indices.push(suggestion.idx);\n  }\n  return { values, indices };\n}\nfunction getAllSubstrings(str) {\n  const result = [];\n  const size = str.length;\n  for (let len = 1; len <= size; len++) {\n    for (let i = 0; i <= size - len; i++) {\n      const j = i + len - 1;\n      result.push(str.slice(i, j + 1));\n    }\n  }\n  return result;\n}\nfunction levenshteinDistance(str1, str2, addSequentialWeight = false) {\n  const a = str1.replace(/\\s/g, \"\");\n  const b = str2.replace(/\\s/g, \"\");\n  const len1 = a.length;\n  const len2 = b.length;\n  const m = new Array(len1 + 1).fill(null).map(() => new Array(len2 + 1).fill(0));\n  for (let i = 0; i <= len1; i += 1) {\n    m[i][0] = i;\n  }\n  for (let j = 0; j <= len2; j += 1) {\n    m[0][j] = j;\n  }\n  for (let i = 1; i <= len1; i++) {\n    for (let j = 1; j <= len2; j++) {\n      if (a[i - 1] === b[j - 1]) {\n        m[i][j] = m[i - 1][j - 1];\n      } else {\n        m[i][j] = 1 + Math.min(m[i][j - 1], Math.min(m[i - 1][j], m[i - 1][j - 1]));\n      }\n    }\n  }\n  const distance = m[len1][len2];\n  const maxDistance = Math.max(len1, len2);\n  let weight = maxDistance - distance;\n  if (addSequentialWeight) {\n    const substrings = getAllSubstrings(a);\n    for (let i = 0; i < substrings.length; i++) {\n      const currentSubstring = substrings[i];\n      if (b.indexOf(currentSubstring) !== -1) {\n        weight += 1;\n        weight *= currentSubstring.length;\n      }\n    }\n  }\n  return weight;\n}\n\n// community-modules/core/src/components/framework/userComponentRegistry.ts\nvar UserComponentRegistry = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"userComponentRegistry\";\n    this.agGridDefaults = {\n      // drag and drop\n      agDragAndDropImage: DragAndDropImageComponent,\n      //header\n      agColumnHeader: HeaderComp,\n      agColumnGroupHeader: HeaderGroupComp,\n      agSortIndicator: SortIndicatorComp,\n      // renderers\n      agAnimateShowChangeCellRenderer: AnimateShowChangeCellRenderer,\n      agAnimateSlideCellRenderer: AnimateSlideCellRenderer,\n      agLoadingCellRenderer: LoadingCellRenderer,\n      agSkeletonCellRenderer: SkeletonCellRenderer,\n      agCheckboxCellRenderer: CheckboxCellRenderer,\n      //overlays\n      agLoadingOverlay: LoadingOverlayComponent,\n      agNoRowsOverlay: NoRowsOverlayComponent,\n      // tooltips\n      agTooltipComponent: TooltipComponent\n    };\n    this.agGridDefaultParams = {};\n    /** Used to provide useful error messages if a user is trying to use an enterprise component without loading the module. */\n    this.enterpriseAgDefaultCompsModule = {\n      agSetColumnFilter: \"@ag-grid-enterprise/set-filter\" /* SetFilterModule */,\n      agSetColumnFloatingFilter: \"@ag-grid-enterprise/set-filter\" /* SetFilterModule */,\n      agMultiColumnFilter: \"@ag-grid-enterprise/multi-filter\" /* MultiFilterModule */,\n      agMultiColumnFloatingFilter: \"@ag-grid-enterprise/multi-filter\" /* MultiFilterModule */,\n      agGroupColumnFilter: \"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */,\n      agGroupColumnFloatingFilter: \"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */,\n      agGroupCellRenderer: \"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */,\n      // Actually in enterprise core as used by MasterDetail too but best guess is they are grouping\n      agGroupRowRenderer: \"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */,\n      // Actually in enterprise core as used by MasterDetail but best guess is they are grouping\n      agRichSelect: \"@ag-grid-enterprise/rich-select\" /* RichSelectModule */,\n      agRichSelectCellEditor: \"@ag-grid-enterprise/rich-select\" /* RichSelectModule */,\n      agDetailCellRenderer: \"@ag-grid-enterprise/master-detail\" /* MasterDetailModule */,\n      agSparklineCellRenderer: \"@ag-grid-enterprise/sparklines\" /* SparklinesModule */\n    };\n    this.jsComps = {};\n  }\n  postConstruct() {\n    const comps = this.gos.get(\"components\");\n    if (comps != null) {\n      _iterateObject(comps, (key, component) => this.registerJsComponent(key, component));\n    }\n  }\n  registerDefaultComponent(name, component, params) {\n    this.agGridDefaults[name] = component;\n    if (params) {\n      this.agGridDefaultParams[name] = params;\n    }\n  }\n  registerJsComponent(name, component) {\n    this.jsComps[name] = component;\n  }\n  retrieve(propertyName, name) {\n    const createResult = (component, componentFromFramework, params) => ({\n      componentFromFramework,\n      component,\n      params\n    });\n    const registeredViaFrameworkComp = this.getFrameworkOverrides().frameworkComponent(\n      name,\n      this.gos.get(\"components\")\n    );\n    if (registeredViaFrameworkComp != null) {\n      return createResult(registeredViaFrameworkComp, true);\n    }\n    const jsComponent = this.jsComps[name];\n    if (jsComponent) {\n      const isFwkComp = this.getFrameworkOverrides().isFrameworkComponent(jsComponent);\n      return createResult(jsComponent, isFwkComp);\n    }\n    const defaultComponent = this.agGridDefaults[name];\n    if (defaultComponent) {\n      return createResult(defaultComponent, false, this.agGridDefaultParams[name]);\n    }\n    const moduleForComponent = this.enterpriseAgDefaultCompsModule[name];\n    if (moduleForComponent) {\n      this.gos.assertModuleRegistered(moduleForComponent, `AG Grid '${propertyName}' component: ${name}`);\n    } else {\n      _doOnce(() => {\n        this.warnAboutMissingComponent(propertyName, name);\n      }, \"MissingComp\" + name);\n    }\n    return null;\n  }\n  warnAboutMissingComponent(propertyName, componentName) {\n    const validComponents = [\n      // Don't include the old names / internals in potential suggestions\n      ...Object.keys(this.agGridDefaults).filter(\n        (k) => ![\"agCellEditor\", \"agGroupRowRenderer\", \"agSortIndicator\"].includes(k)\n      ),\n      ...Object.keys(this.jsComps)\n    ];\n    const suggestions = _fuzzySuggestions({\n      inputValue: componentName,\n      allSuggestions: validComponents,\n      hideIrrelevant: true,\n      filterByPercentageOfBestMatch: 0.8\n    }).values;\n    _warnOnce(\n      `Could not find '${componentName}' component. It was configured as \"${propertyName}: '${componentName}'\" but it wasn't found in the list of registered components.`\n    );\n    if (suggestions.length > 0) {\n      _warnOnce(`         Did you mean: [${suggestions.slice(0, 3)}]?`);\n    }\n    _warnOnce(\n      `If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink(\"components/\")}`\n    );\n  }\n};\n\n// community-modules/core/src/utils/promise.ts\nvar AgPromise = class _AgPromise {\n  constructor(callback) {\n    this.status = 0 /* IN_PROGRESS */;\n    this.resolution = null;\n    this.waiters = [];\n    callback(\n      (value) => this.onDone(value),\n      (params) => this.onReject(params)\n    );\n  }\n  static all(promises) {\n    return promises.length ? new _AgPromise((resolve) => {\n      let remainingToResolve = promises.length;\n      const combinedValues = new Array(remainingToResolve);\n      promises.forEach((promise, index) => {\n        promise.then((value) => {\n          combinedValues[index] = value;\n          remainingToResolve--;\n          if (remainingToResolve === 0) {\n            resolve(combinedValues);\n          }\n        });\n      });\n    }) : _AgPromise.resolve();\n  }\n  static resolve(value = null) {\n    return new _AgPromise((resolve) => resolve(value));\n  }\n  then(func) {\n    return new _AgPromise((resolve) => {\n      if (this.status === 1 /* RESOLVED */) {\n        resolve(func(this.resolution));\n      } else {\n        this.waiters.push((value) => resolve(func(value)));\n      }\n    });\n  }\n  onDone(value) {\n    this.status = 1 /* RESOLVED */;\n    this.resolution = value;\n    this.waiters.forEach((waiter) => waiter(value));\n  }\n  onReject(params) {\n  }\n};\n\n// community-modules/core/src/components/framework/componentTypes.ts\nvar DateComponent = {\n  propertyName: \"dateComponent\",\n  cellRenderer: false\n};\nvar DragAndDropImageComponent2 = {\n  propertyName: \"dragAndDropImageComponent\",\n  cellRenderer: false\n};\nvar HeaderComponent = {\n  propertyName: \"headerComponent\",\n  cellRenderer: false\n};\nvar HeaderGroupComponent = {\n  propertyName: \"headerGroupComponent\",\n  cellRenderer: false\n};\nvar CellRendererComponent = {\n  propertyName: \"cellRenderer\",\n  cellRenderer: true\n};\nvar EditorRendererComponent = {\n  propertyName: \"cellRenderer\",\n  cellRenderer: false\n};\nvar LoadingCellRendererComponent = {\n  propertyName: \"loadingCellRenderer\",\n  cellRenderer: true\n};\nvar CellEditorComponent = {\n  propertyName: \"cellEditor\",\n  cellRenderer: false\n};\nvar InnerRendererComponent = {\n  propertyName: \"innerRenderer\",\n  cellRenderer: true\n};\nvar LoadingOverlayComponent2 = {\n  propertyName: \"loadingOverlayComponent\",\n  cellRenderer: false\n};\nvar NoRowsOverlayComponent2 = {\n  propertyName: \"noRowsOverlayComponent\",\n  cellRenderer: false\n};\nvar TooltipComponent2 = {\n  propertyName: \"tooltipComponent\",\n  cellRenderer: false\n};\nvar FilterComponent = {\n  propertyName: \"filter\",\n  cellRenderer: false\n};\nvar FloatingFilterComponent = {\n  propertyName: \"floatingFilterComponent\",\n  cellRenderer: false\n};\nvar ToolPanelComponent = {\n  propertyName: \"toolPanel\",\n  cellRenderer: false\n};\nvar StatusPanelComponent = {\n  propertyName: \"statusPanel\",\n  cellRenderer: false\n};\nvar FullWidth = {\n  propertyName: \"fullWidthCellRenderer\",\n  cellRenderer: true\n};\nvar FullWidthLoading = {\n  propertyName: \"loadingCellRenderer\",\n  cellRenderer: true\n};\nvar FullWidthGroup = {\n  propertyName: \"groupRowRenderer\",\n  cellRenderer: true\n};\nvar FullWidthDetail = {\n  propertyName: \"detailCellRenderer\",\n  cellRenderer: true\n};\nvar MenuItemComponent = {\n  propertyName: \"menuItem\",\n  cellRenderer: false\n};\n\n// community-modules/core/src/components/framework/userComponentFactory.ts\nvar UserComponentFactory = class _UserComponentFactory extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"userComponentFactory\";\n  }\n  wireBeans(beans) {\n    this.agComponentUtils = beans.agComponentUtils;\n    this.componentMetadataProvider = beans.componentMetadataProvider;\n    this.userComponentRegistry = beans.userComponentRegistry;\n    this.frameworkComponentWrapper = beans.frameworkComponentWrapper;\n    this.gridOptions = beans.gridOptions;\n  }\n  getDragAndDropImageCompDetails(params) {\n    return this.getCompDetails(this.gridOptions, DragAndDropImageComponent2, \"agDragAndDropImage\", params, true);\n  }\n  getHeaderCompDetails(colDef, params) {\n    return this.getCompDetails(colDef, HeaderComponent, \"agColumnHeader\", params);\n  }\n  getHeaderGroupCompDetails(params) {\n    const colGroupDef = params.columnGroup.getColGroupDef();\n    return this.getCompDetails(colGroupDef, HeaderGroupComponent, \"agColumnGroupHeader\", params);\n  }\n  // this one is unusual, as it can be LoadingCellRenderer, DetailCellRenderer, FullWidthCellRenderer or GroupRowRenderer.\n  // so we have to pass the type in.\n  getFullWidthCellRendererDetails(params) {\n    return this.getCompDetails(this.gridOptions, FullWidth, null, params, true);\n  }\n  getFullWidthLoadingCellRendererDetails(params) {\n    return this.getCompDetails(this.gridOptions, FullWidthLoading, \"agLoadingCellRenderer\", params, true);\n  }\n  getFullWidthGroupCellRendererDetails(params) {\n    return this.getCompDetails(this.gridOptions, FullWidthGroup, \"agGroupRowRenderer\", params, true);\n  }\n  getFullWidthDetailCellRendererDetails(params) {\n    return this.getCompDetails(this.gridOptions, FullWidthDetail, \"agDetailCellRenderer\", params, true);\n  }\n  // CELL RENDERER\n  getInnerRendererDetails(def, params) {\n    return this.getCompDetails(def, InnerRendererComponent, null, params);\n  }\n  getFullWidthGroupRowInnerCellRenderer(def, params) {\n    return this.getCompDetails(def, InnerRendererComponent, null, params);\n  }\n  getCellRendererDetails(def, params) {\n    return this.getCompDetails(def, CellRendererComponent, null, params);\n  }\n  getEditorRendererDetails(def, params) {\n    return this.getCompDetails(def, EditorRendererComponent, null, params);\n  }\n  getLoadingCellRendererDetails(def, params) {\n    return this.getCompDetails(def, LoadingCellRendererComponent, \"agSkeletonCellRenderer\", params, true);\n  }\n  // CELL EDITOR\n  getCellEditorDetails(def, params) {\n    return this.getCompDetails(def, CellEditorComponent, \"agCellEditor\", params, true);\n  }\n  // FILTER\n  getFilterDetails(def, params, defaultFilter) {\n    return this.getCompDetails(def, FilterComponent, defaultFilter, params, true);\n  }\n  getDateCompDetails(params) {\n    return this.getCompDetails(this.gridOptions, DateComponent, \"agDateInput\", params, true);\n  }\n  getLoadingOverlayCompDetails(params) {\n    return this.getCompDetails(this.gridOptions, LoadingOverlayComponent2, \"agLoadingOverlay\", params, true);\n  }\n  getNoRowsOverlayCompDetails(params) {\n    return this.getCompDetails(this.gridOptions, NoRowsOverlayComponent2, \"agNoRowsOverlay\", params, true);\n  }\n  getTooltipCompDetails(params) {\n    return this.getCompDetails(params.colDef, TooltipComponent2, \"agTooltipComponent\", params, true);\n  }\n  getSetFilterCellRendererDetails(def, params) {\n    return this.getCompDetails(def, CellRendererComponent, null, params);\n  }\n  getFloatingFilterCompDetails(def, params, defaultFloatingFilter) {\n    return this.getCompDetails(def, FloatingFilterComponent, defaultFloatingFilter, params);\n  }\n  getToolPanelCompDetails(toolPanelDef, params) {\n    return this.getCompDetails(toolPanelDef, ToolPanelComponent, null, params, true);\n  }\n  getStatusPanelCompDetails(def, params) {\n    return this.getCompDetails(def, StatusPanelComponent, null, params, true);\n  }\n  getMenuItemCompDetails(def, params) {\n    return this.getCompDetails(def, MenuItemComponent, \"agMenuItem\", params, true);\n  }\n  getCompDetails(defObject, type, defaultName, params, mandatory = false) {\n    const { propertyName, cellRenderer } = type;\n    let { compName, jsComp, fwComp, paramsFromSelector, popupFromSelector, popupPositionFromSelector } = _UserComponentFactory.getCompKeys(this.frameworkOverrides, defObject, type, params);\n    let defaultCompParams;\n    const lookupFromRegistry = (key) => {\n      const item = this.userComponentRegistry.retrieve(propertyName, key);\n      if (item) {\n        jsComp = !item.componentFromFramework ? item.component : void 0;\n        fwComp = item.componentFromFramework ? item.component : void 0;\n        defaultCompParams = item.params;\n      }\n    };\n    if (compName != null) {\n      lookupFromRegistry(compName);\n    }\n    if (jsComp == null && fwComp == null && defaultName != null) {\n      lookupFromRegistry(defaultName);\n    }\n    if (jsComp && cellRenderer && !this.agComponentUtils.doesImplementIComponent(jsComp)) {\n      jsComp = this.agComponentUtils.adaptFunction(propertyName, jsComp);\n    }\n    if (!jsComp && !fwComp) {\n      if (mandatory) {\n        _errorOnce(`Could not find component ${compName}, did you forget to configure this component?`);\n      }\n      return;\n    }\n    const paramsMerged = this.mergeParamsWithApplicationProvidedParams(\n      defObject,\n      type,\n      params,\n      paramsFromSelector,\n      defaultCompParams\n    );\n    const componentFromFramework = jsComp == null;\n    const componentClass = jsComp ? jsComp : fwComp;\n    return {\n      componentFromFramework,\n      componentClass,\n      params: paramsMerged,\n      type,\n      popupFromSelector,\n      popupPositionFromSelector,\n      newAgStackInstance: () => this.newAgStackInstance(componentClass, componentFromFramework, paramsMerged, type)\n    };\n  }\n  static getCompKeys(frameworkOverrides, defObject, type, params) {\n    const { propertyName } = type;\n    let compName;\n    let jsComp;\n    let fwComp;\n    let paramsFromSelector;\n    let popupFromSelector;\n    let popupPositionFromSelector;\n    if (defObject) {\n      const defObjectAny = defObject;\n      const selectorFunc = defObjectAny[propertyName + \"Selector\"];\n      const selectorRes = selectorFunc ? selectorFunc(params) : null;\n      const assignComp = (providedJsComp) => {\n        if (typeof providedJsComp === \"string\") {\n          compName = providedJsComp;\n        } else if (providedJsComp != null && providedJsComp !== true) {\n          const isFwkComp = frameworkOverrides.isFrameworkComponent(providedJsComp);\n          if (isFwkComp) {\n            fwComp = providedJsComp;\n          } else {\n            jsComp = providedJsComp;\n          }\n        }\n      };\n      if (selectorRes) {\n        assignComp(selectorRes.component);\n        paramsFromSelector = selectorRes.params;\n        popupFromSelector = selectorRes.popup;\n        popupPositionFromSelector = selectorRes.popupPosition;\n      } else {\n        assignComp(defObjectAny[propertyName]);\n      }\n    }\n    return { compName, jsComp, fwComp, paramsFromSelector, popupFromSelector, popupPositionFromSelector };\n  }\n  newAgStackInstance(ComponentClass, componentFromFramework, params, type) {\n    const propertyName = type.propertyName;\n    const jsComponent = !componentFromFramework;\n    let instance;\n    if (jsComponent) {\n      instance = new ComponentClass();\n    } else {\n      const thisComponentConfig = this.componentMetadataProvider.retrieve(propertyName);\n      instance = this.frameworkComponentWrapper.wrap(\n        ComponentClass,\n        thisComponentConfig.mandatoryMethodList,\n        thisComponentConfig.optionalMethodList,\n        type\n      );\n    }\n    const deferredInit = this.initComponent(instance, params);\n    if (deferredInit == null) {\n      return AgPromise.resolve(instance);\n    }\n    return deferredInit.then(() => instance);\n  }\n  // used by Floating Filter\n  mergeParamsWithApplicationProvidedParams(defObject, type, paramsFromGrid, paramsFromSelector = null, defaultCompParams) {\n    const params = this.gos.getGridCommonParams();\n    _mergeDeep(params, paramsFromGrid);\n    if (defaultCompParams) {\n      _mergeDeep(params, defaultCompParams);\n    }\n    const defObjectAny = defObject;\n    const userParams = defObjectAny && defObjectAny[type.propertyName + \"Params\"];\n    if (typeof userParams === \"function\") {\n      const userParamsFromFunc = userParams(paramsFromGrid);\n      _mergeDeep(params, userParamsFromFunc);\n    } else if (typeof userParams === \"object\") {\n      _mergeDeep(params, userParams);\n    }\n    _mergeDeep(params, paramsFromSelector);\n    return params;\n  }\n  initComponent(component, params) {\n    this.createBean(component);\n    if (component.init == null) {\n      return;\n    }\n    return component.init(params);\n  }\n};\n\n// community-modules/core/src/components/framework/unwrapUserComp.ts\nfunction _unwrapUserComp(comp) {\n  const compAsAny = comp;\n  const isProxy = compAsAny != null && compAsAny.getFrameworkComponentInstance != null;\n  return isProxy ? compAsAny.getFrameworkComponentInstance() : comp;\n}\n\n// community-modules/core/src/modules/moduleRegistry.ts\nvar _ModuleRegistry = class _ModuleRegistry {\n  /**\n   * Globally register the given module for all grids.\n   * @param module - module to register\n   */\n  static register(module) {\n    _ModuleRegistry.__register(module, true, void 0);\n  }\n  /**\n   * Globally register the given modules for all grids.\n   * @param modules - modules to register\n   */\n  static registerModules(modules) {\n    _ModuleRegistry.__registerModules(modules, true, void 0);\n  }\n  /** AG GRID INTERNAL - Module registration helper. */\n  static __register(module, moduleBased, gridId) {\n    _ModuleRegistry.runVersionChecks(module);\n    if (gridId !== void 0) {\n      _ModuleRegistry.areGridScopedModules = true;\n      if (_ModuleRegistry.gridModulesMap[gridId] === void 0) {\n        _ModuleRegistry.gridModulesMap[gridId] = {};\n      }\n      _ModuleRegistry.gridModulesMap[gridId][module.moduleName] = module;\n    } else {\n      _ModuleRegistry.globalModulesMap[module.moduleName] = module;\n    }\n    _ModuleRegistry.setModuleBased(moduleBased);\n  }\n  /** AG GRID INTERNAL - Unregister grid scoped module. */\n  static __unRegisterGridModules(gridId) {\n    delete _ModuleRegistry.gridModulesMap[gridId];\n  }\n  /** AG GRID INTERNAL - Module registration helper. */\n  static __registerModules(modules, moduleBased, gridId) {\n    _ModuleRegistry.setModuleBased(moduleBased);\n    if (!modules) {\n      return;\n    }\n    modules.forEach((module) => _ModuleRegistry.__register(module, moduleBased, gridId));\n  }\n  static isValidModuleVersion(module) {\n    const [moduleMajor, moduleMinor] = module.version.split(\".\") || [];\n    const [currentModuleMajor, currentModuleMinor] = _ModuleRegistry.currentModuleVersion.split(\".\") || [];\n    return moduleMajor === currentModuleMajor && moduleMinor === currentModuleMinor;\n  }\n  static runVersionChecks(module) {\n    if (!_ModuleRegistry.currentModuleVersion) {\n      _ModuleRegistry.currentModuleVersion = module.version;\n    }\n    const errorMsg = (details) => `You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${details} Please update all modules to the same version.`;\n    if (!module.version) {\n      _errorOnce(errorMsg(`'${module.moduleName}' is incompatible.`));\n    } else if (!_ModuleRegistry.isValidModuleVersion(module)) {\n      _errorOnce(\n        errorMsg(\n          `'${module.moduleName}' is version ${module.version} but the other modules are version ${_ModuleRegistry.currentModuleVersion}.`\n        )\n      );\n    }\n    if (module.validate) {\n      const result = module.validate();\n      if (!result.isValid) {\n        const errorResult = result;\n        _errorOnce(`${errorResult.message}`);\n      }\n    }\n  }\n  static setModuleBased(moduleBased) {\n    if (_ModuleRegistry.moduleBased === void 0) {\n      _ModuleRegistry.moduleBased = moduleBased;\n    } else {\n      if (_ModuleRegistry.moduleBased !== moduleBased) {\n        _errorOnce(\n          `AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms.`\n        );\n        _errorOnce(\"Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.\");\n      }\n    }\n  }\n  /**\n   * AG GRID INTERNAL - Set if files are being served from a single UMD bundle to provide accurate enterprise upgrade steps.\n   */\n  static __setIsBundled() {\n    _ModuleRegistry.isBundled = true;\n  }\n  /** AG GRID INTERNAL - Assert a given module has been register, globally or individually with this grid. */\n  static __assertRegistered(moduleName, reason, gridId) {\n    if (this.__isRegistered(moduleName, gridId)) {\n      return true;\n    }\n    let warningMessage;\n    if (_ModuleRegistry.isBundled) {\n      {\n        warningMessage = `AG Grid: unable to use ${reason} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;\n      }\n    } else if (_ModuleRegistry.moduleBased || _ModuleRegistry.moduleBased === void 0) {\n      const modName = Object.entries(ModuleNames).find(([k, v]) => v === moduleName)?.[0];\n      warningMessage = `AG Grid: unable to use ${reason} as the ${modName} is not registered${_ModuleRegistry.areGridScopedModules ? ` for gridId: ${gridId}` : \"\"}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${modName} } from '${moduleName}';\n    \n    ModuleRegistry.registerModules([ ${modName} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`;\n    } else {\n      warningMessage = `AG Grid: unable to use ${reason} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;\n    }\n    _errorOnce(warningMessage);\n    return false;\n  }\n  /** AG GRID INTERNAL - Is the given module registered, globally or individually with this grid. */\n  static __isRegistered(moduleName, gridId) {\n    return !!_ModuleRegistry.globalModulesMap[moduleName] || !!_ModuleRegistry.gridModulesMap[gridId]?.[moduleName];\n  }\n  /** AG GRID INTERNAL - Get all registered modules globally / individually for this grid. */\n  static __getRegisteredModules(gridId) {\n    return [..._values(_ModuleRegistry.globalModulesMap), ..._values(_ModuleRegistry.gridModulesMap[gridId] || {})];\n  }\n  /** AG GRID INTERNAL - Get the list of modules registered individually for this grid. */\n  static __getGridRegisteredModules(gridId) {\n    return _values(_ModuleRegistry.gridModulesMap[gridId] ?? {}) || [];\n  }\n  /** INTERNAL */\n  static __isPackageBased() {\n    return !_ModuleRegistry.moduleBased;\n  }\n};\n// having in a map a) removes duplicates and b) allows fast lookup\n_ModuleRegistry.globalModulesMap = {};\n_ModuleRegistry.gridModulesMap = {};\n_ModuleRegistry.areGridScopedModules = false;\nvar ModuleRegistry = _ModuleRegistry;\n\n// community-modules/core/src/context/genericContext.ts\nvar GenericContext = class {\n  constructor(params) {\n    this.beans = {};\n    this.createdBeans = [];\n    this.destroyed = false;\n    if (!params || !params.beanClasses) {\n      return;\n    }\n    this.beanDestroyComparator = params.beanDestroyComparator;\n    this.init(params);\n  }\n  init(params) {\n    Object.entries(params.providedBeanInstances).forEach(([beanName, beanInstance]) => {\n      this.beans[beanName] = beanInstance;\n    });\n    params.beanClasses.forEach((BeanClass) => {\n      const instance = new BeanClass();\n      if (instance.beanName) {\n        this.beans[instance.beanName] = instance;\n      } else {\n        console.error(`Bean ${BeanClass.name} is missing beanName`);\n      }\n      this.createdBeans.push(instance);\n    });\n    params.derivedBeans?.forEach((beanFunc) => {\n      const { beanName, bean } = beanFunc(this);\n      this.beans[beanName] = bean;\n      this.createdBeans.push(bean);\n    });\n    if (params.beanInitComparator) {\n      this.createdBeans.sort(params.beanInitComparator);\n    }\n    this.initBeans(this.createdBeans);\n  }\n  getBeanInstances() {\n    return Object.values(this.beans);\n  }\n  createBean(bean, afterPreCreateCallback) {\n    if (!bean) {\n      throw Error(`Can't wire to bean since it is null`);\n    }\n    this.initBeans([bean], afterPreCreateCallback);\n    return bean;\n  }\n  initBeans(beanInstances, afterPreCreateCallback) {\n    beanInstances.forEach((instance) => {\n      instance.preWireBeans?.(this.beans);\n      instance.wireBeans?.(this.beans);\n    });\n    beanInstances.forEach((instance) => instance.preConstruct?.());\n    if (afterPreCreateCallback) {\n      beanInstances.forEach(afterPreCreateCallback);\n    }\n    beanInstances.forEach((instance) => instance.postConstruct?.());\n  }\n  getBeans() {\n    return this.beans;\n  }\n  getBean(name) {\n    return this.beans[name];\n  }\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n    this.destroyed = true;\n    const beanInstances = this.getBeanInstances();\n    if (this.beanDestroyComparator) {\n      beanInstances.sort(this.beanDestroyComparator);\n    }\n    this.destroyBeans(beanInstances);\n    this.beans = {};\n    this.createdBeans = [];\n  }\n  /**\n   * Destroys a bean and returns undefined to support destruction and clean up in a single line.\n   * this.dateComp = this.context.destroyBean(this.dateComp);\n   */\n  destroyBean(bean) {\n    bean?.destroy?.();\n  }\n  /**\n   * Destroys an array of beans and returns an empty array to support destruction and clean up in a single line.\n   * this.dateComps = this.context.destroyBeans(this.dateComps);\n   */\n  destroyBeans(beans) {\n    if (beans) {\n      for (let i = 0; i < beans.length; i++) {\n        this.destroyBean(beans[i]);\n      }\n    }\n    return [];\n  }\n  isDestroyed() {\n    return this.destroyed;\n  }\n};\n\n// community-modules/core/src/context/context.ts\nvar Context = class extends GenericContext {\n  init(params) {\n    this.gridId = params.gridId;\n    this.beans.context = this;\n    super.init(params);\n  }\n  destroy() {\n    super.destroy();\n    ModuleRegistry.__unRegisterGridModules(this.gridId);\n  }\n  getGridId() {\n    return this.gridId;\n  }\n};\n\n// community-modules/core/src/interfaces/iExcelCreator.ts\nvar ExcelFactoryMode = /* @__PURE__ */ ((ExcelFactoryMode2) => {\n  ExcelFactoryMode2[ExcelFactoryMode2[\"SINGLE_SHEET\"] = 0] = \"SINGLE_SHEET\";\n  ExcelFactoryMode2[ExcelFactoryMode2[\"MULTI_SHEET\"] = 1] = \"MULTI_SHEET\";\n  return ExcelFactoryMode2;\n})(ExcelFactoryMode || {});\n\n// community-modules/core/src/constants/direction.ts\nvar VerticalDirection = /* @__PURE__ */ ((VerticalDirection2) => {\n  VerticalDirection2[VerticalDirection2[\"Up\"] = 0] = \"Up\";\n  VerticalDirection2[VerticalDirection2[\"Down\"] = 1] = \"Down\";\n  return VerticalDirection2;\n})(VerticalDirection || {});\nvar HorizontalDirection = /* @__PURE__ */ ((HorizontalDirection2) => {\n  HorizontalDirection2[HorizontalDirection2[\"Left\"] = 0] = \"Left\";\n  HorizontalDirection2[HorizontalDirection2[\"Right\"] = 1] = \"Right\";\n  return HorizontalDirection2;\n})(HorizontalDirection || {});\n\n// community-modules/core/src/dragAndDrop/dragAndDropService.ts\nvar DragSourceType = /* @__PURE__ */ ((DragSourceType2) => {\n  DragSourceType2[DragSourceType2[\"ToolPanel\"] = 0] = \"ToolPanel\";\n  DragSourceType2[DragSourceType2[\"HeaderCell\"] = 1] = \"HeaderCell\";\n  DragSourceType2[DragSourceType2[\"RowDrag\"] = 2] = \"RowDrag\";\n  DragSourceType2[DragSourceType2[\"ChartPanel\"] = 3] = \"ChartPanel\";\n  DragSourceType2[DragSourceType2[\"AdvancedFilterBuilder\"] = 4] = \"AdvancedFilterBuilder\";\n  return DragSourceType2;\n})(DragSourceType || {});\nvar DragAndDropService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"dragAndDropService\";\n    this.dragSourceAndParamsList = [];\n    this.dropTargets = [];\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.dragService = beans.dragService;\n    this.mouseEventService = beans.mouseEventService;\n    this.environment = beans.environment;\n    this.userComponentFactory = beans.userComponentFactory;\n  }\n  addDragSource(dragSource, allowTouch = false) {\n    const params = {\n      eElement: dragSource.eElement,\n      dragStartPixels: dragSource.dragStartPixels,\n      onDragStart: this.onDragStart.bind(this, dragSource),\n      onDragStop: this.onDragStop.bind(this),\n      onDragging: this.onDragging.bind(this),\n      onDragCancel: this.onDragCancel.bind(this),\n      includeTouch: allowTouch\n    };\n    this.dragSourceAndParamsList.push({ params, dragSource });\n    this.dragService.addDragSource(params);\n  }\n  getDragAndDropImageComponent() {\n    const { dragAndDropImageComp } = this;\n    if (!dragAndDropImageComp || !dragAndDropImageComp.comp) {\n      return null;\n    }\n    return dragAndDropImageComp.comp;\n  }\n  removeDragSource(dragSource) {\n    const sourceAndParams = this.dragSourceAndParamsList.find((item) => item.dragSource === dragSource);\n    if (sourceAndParams) {\n      this.dragService.removeDragSource(sourceAndParams.params);\n      _removeFromArray(this.dragSourceAndParamsList, sourceAndParams);\n    }\n  }\n  destroy() {\n    this.dragSourceAndParamsList.forEach(\n      (sourceAndParams) => this.dragService.removeDragSource(sourceAndParams.params)\n    );\n    this.dragSourceAndParamsList.length = 0;\n    this.dropTargets.length = 0;\n    this.clearDragAndDropProperties();\n    super.destroy();\n  }\n  nudge() {\n    if (this.dragging) {\n      this.onDragging(this.eventLastTime, true);\n    }\n  }\n  onDragStart(dragSource, mouseEvent) {\n    this.dragging = true;\n    this.dragSource = dragSource;\n    this.eventLastTime = mouseEvent;\n    this.dragItem = this.dragSource.getDragItem();\n    this.dragSource.onDragStarted?.();\n    this.createDragAndDropImageComponent();\n  }\n  onDragStop(mouseEvent) {\n    this.dragSource?.onDragStopped?.();\n    if (this.lastDropTarget?.onDragStop) {\n      const draggingEvent = this.createDropTargetEvent(this.lastDropTarget, mouseEvent, null, null, false);\n      this.lastDropTarget.onDragStop(draggingEvent);\n    }\n    this.clearDragAndDropProperties();\n  }\n  onDragCancel() {\n    this.dragSource?.onDragCancelled?.();\n    if (this.lastDropTarget?.onDragCancel) {\n      this.lastDropTarget.onDragCancel(\n        this.createDropTargetEvent(this.lastDropTarget, this.eventLastTime, null, null, false)\n      );\n    }\n    this.clearDragAndDropProperties();\n  }\n  clearDragAndDropProperties() {\n    this.eventLastTime = null;\n    this.dragging = false;\n    this.lastDropTarget = void 0;\n    this.dragItem = null;\n    this.dragSource = null;\n    this.removeDragAndDropImageComponent();\n  }\n  onDragging(mouseEvent, fromNudge = false) {\n    const hDirection = this.getHorizontalDirection(mouseEvent);\n    const vDirection = this.getVerticalDirection(mouseEvent);\n    this.eventLastTime = mouseEvent;\n    this.positionDragAndDropImageComp(mouseEvent);\n    const validDropTargets = this.dropTargets.filter((target) => this.isMouseOnDropTarget(mouseEvent, target));\n    const dropTarget = this.findCurrentDropTarget(mouseEvent, validDropTargets);\n    if (dropTarget !== this.lastDropTarget) {\n      this.leaveLastTargetIfExists(mouseEvent, hDirection, vDirection, fromNudge);\n      if (this.lastDropTarget !== null && dropTarget === null) {\n        this.dragSource?.onGridExit?.(this.dragItem);\n      }\n      if (this.lastDropTarget === null && dropTarget !== null) {\n        this.dragSource?.onGridEnter?.(this.dragItem);\n      }\n      this.enterDragTargetIfExists(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n      if (dropTarget && this.dragAndDropImageComp) {\n        const { comp, promise } = this.dragAndDropImageComp;\n        if (comp) {\n          comp.setIcon(dropTarget.getIconName ? dropTarget.getIconName() : null);\n        } else {\n          promise.then((resolvedComponent) => {\n            if (resolvedComponent) {\n              resolvedComponent.setIcon(dropTarget.getIconName ? dropTarget.getIconName() : null);\n            }\n          });\n        }\n      }\n      this.lastDropTarget = dropTarget;\n    } else if (dropTarget && dropTarget.onDragging) {\n      const draggingEvent = this.createDropTargetEvent(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n      dropTarget.onDragging(draggingEvent);\n    }\n  }\n  getAllContainersFromDropTarget(dropTarget) {\n    const secondaryContainers = dropTarget.getSecondaryContainers ? dropTarget.getSecondaryContainers() : null;\n    const containers = [[dropTarget.getContainer()]];\n    return secondaryContainers ? containers.concat(secondaryContainers) : containers;\n  }\n  allContainersIntersect(mouseEvent, containers) {\n    for (const container of containers) {\n      const { width, height, left, right, top, bottom } = container.getBoundingClientRect();\n      if (width === 0 || height === 0) {\n        return false;\n      }\n      const horizontalFit = mouseEvent.clientX >= left && mouseEvent.clientX < right;\n      const verticalFit = mouseEvent.clientY >= top && mouseEvent.clientY < bottom;\n      if (!horizontalFit || !verticalFit) {\n        return false;\n      }\n    }\n    return true;\n  }\n  // checks if the mouse is on the drop target. it checks eContainer and eSecondaryContainers\n  isMouseOnDropTarget(mouseEvent, dropTarget) {\n    const allContainersFromDropTarget = this.getAllContainersFromDropTarget(dropTarget);\n    let mouseOverTarget = false;\n    for (const currentContainers of allContainersFromDropTarget) {\n      if (this.allContainersIntersect(mouseEvent, currentContainers)) {\n        mouseOverTarget = true;\n        break;\n      }\n    }\n    const { eElement, type } = this.dragSource;\n    if (dropTarget.targetContainsSource && !dropTarget.getContainer().contains(eElement)) {\n      return false;\n    }\n    return mouseOverTarget && dropTarget.isInterestedIn(type, eElement);\n  }\n  findCurrentDropTarget(mouseEvent, validDropTargets) {\n    const len = validDropTargets.length;\n    if (len === 0) {\n      return null;\n    }\n    if (len === 1) {\n      return validDropTargets[0];\n    }\n    const rootNode = _getRootNode(this.gos);\n    const elementStack = rootNode.elementsFromPoint(mouseEvent.clientX, mouseEvent.clientY);\n    for (const el of elementStack) {\n      for (const dropTarget of validDropTargets) {\n        const containers = _flatten(this.getAllContainersFromDropTarget(dropTarget));\n        if (containers.indexOf(el) !== -1) {\n          return dropTarget;\n        }\n      }\n    }\n    return null;\n  }\n  enterDragTargetIfExists(dropTarget, mouseEvent, hDirection, vDirection, fromNudge) {\n    if (!dropTarget) {\n      return;\n    }\n    if (dropTarget.onDragEnter) {\n      const dragEnterEvent = this.createDropTargetEvent(\n        dropTarget,\n        mouseEvent,\n        hDirection,\n        vDirection,\n        fromNudge\n      );\n      dropTarget.onDragEnter(dragEnterEvent);\n    }\n  }\n  leaveLastTargetIfExists(mouseEvent, hDirection, vDirection, fromNudge) {\n    if (!this.lastDropTarget) {\n      return;\n    }\n    if (this.lastDropTarget.onDragLeave) {\n      const dragLeaveEvent = this.createDropTargetEvent(\n        this.lastDropTarget,\n        mouseEvent,\n        hDirection,\n        vDirection,\n        fromNudge\n      );\n      this.lastDropTarget.onDragLeave(dragLeaveEvent);\n    }\n    const dragAndDropImageComponent = this.getDragAndDropImageComponent();\n    if (dragAndDropImageComponent) {\n      dragAndDropImageComponent.setIcon(null);\n    }\n  }\n  addDropTarget(dropTarget) {\n    this.dropTargets.push(dropTarget);\n  }\n  removeDropTarget(dropTarget) {\n    this.dropTargets = this.dropTargets.filter((target) => target.getContainer() !== dropTarget.getContainer());\n  }\n  hasExternalDropZones() {\n    return this.dropTargets.some((zones) => zones.external);\n  }\n  findExternalZone(params) {\n    const externalTargets = this.dropTargets.filter((target) => target.external);\n    return externalTargets.find((zone) => zone.getContainer() === params.getContainer()) || null;\n  }\n  isDropZoneWithinThisGrid(draggingEvent) {\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    const gridGui = gridBodyCon.getGui();\n    const { dropZoneTarget } = draggingEvent;\n    return gridGui.contains(dropZoneTarget);\n  }\n  getHorizontalDirection(event) {\n    const clientX = this.eventLastTime && this.eventLastTime.clientX;\n    const eClientX = event.clientX;\n    if (clientX === eClientX) {\n      return null;\n    }\n    return clientX > eClientX ? 0 /* Left */ : 1 /* Right */;\n  }\n  getVerticalDirection(event) {\n    const clientY = this.eventLastTime && this.eventLastTime.clientY;\n    const eClientY = event.clientY;\n    if (clientY === eClientY) {\n      return null;\n    }\n    return clientY > eClientY ? 0 /* Up */ : 1 /* Down */;\n  }\n  createDropTargetEvent(dropTarget, event, hDirection, vDirection, fromNudge) {\n    const dropZoneTarget = dropTarget.getContainer();\n    const rect = dropZoneTarget.getBoundingClientRect();\n    const { dragItem, dragSource } = this;\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    return this.gos.addGridCommonParams({\n      event,\n      x,\n      y,\n      vDirection,\n      hDirection,\n      dragSource,\n      fromNudge,\n      dragItem,\n      dropZoneTarget\n    });\n  }\n  positionDragAndDropImageComp(event) {\n    const dragAndDropImageComponent = this.getDragAndDropImageComponent();\n    if (!dragAndDropImageComponent) {\n      return;\n    }\n    const eGui = dragAndDropImageComponent.getGui();\n    const eRect = eGui.getBoundingClientRect();\n    const height = eRect.height;\n    const browserWidth = _getBodyWidth() - 2;\n    const browserHeight = _getBodyHeight() - 2;\n    const offsetParent = eGui.offsetParent;\n    if (!offsetParent) {\n      return;\n    }\n    const offsetParentSize = _getElementRectWithOffset(eGui.offsetParent);\n    const { clientY, clientX } = event;\n    let top = clientY - offsetParentSize.top - height / 2;\n    let left = clientX - offsetParentSize.left - 10;\n    const eDocument = _getDocument(this.gos);\n    const win = eDocument.defaultView || window;\n    const windowScrollY = win.pageYOffset || eDocument.documentElement.scrollTop;\n    const windowScrollX = win.pageXOffset || eDocument.documentElement.scrollLeft;\n    if (browserWidth > 0 && left + eGui.clientWidth > browserWidth + windowScrollX) {\n      left = browserWidth + windowScrollX - eGui.clientWidth;\n    }\n    if (left < 0) {\n      left = 0;\n    }\n    if (browserHeight > 0 && top + eGui.clientHeight > browserHeight + windowScrollY) {\n      top = browserHeight + windowScrollY - eGui.clientHeight;\n    }\n    if (top < 0) {\n      top = 0;\n    }\n    eGui.style.left = `${left}px`;\n    eGui.style.top = `${top}px`;\n  }\n  removeDragAndDropImageComponent() {\n    if (this.dragAndDropImageComp) {\n      const { comp } = this.dragAndDropImageComp;\n      if (comp) {\n        const eGui = comp.getGui();\n        if (this.dragAndDropImageParent) {\n          this.dragAndDropImageParent.removeChild(eGui);\n        }\n        this.destroyBean(comp);\n      }\n    }\n    this.dragAndDropImageComp = null;\n  }\n  createDragAndDropImageComponent() {\n    const { dragSource } = this;\n    if (!dragSource) {\n      return;\n    }\n    const userCompDetails = this.userComponentFactory.getDragAndDropImageCompDetails({\n      dragSource\n    });\n    const promise = userCompDetails.newAgStackInstance();\n    this.dragAndDropImageComp = {\n      promise\n    };\n    promise.then((comp) => {\n      if (!comp || !this.isAlive()) {\n        return;\n      }\n      this.processDragAndDropImageComponent(comp);\n      this.dragAndDropImageComp.comp = comp;\n    });\n  }\n  processDragAndDropImageComponent(dragAndDropImageComponent) {\n    const { dragSource, mouseEventService, environment } = this;\n    if (!dragSource) {\n      return;\n    }\n    const eGui = dragAndDropImageComponent.getGui();\n    eGui.style.setProperty(\"position\", \"absolute\");\n    eGui.style.setProperty(\"z-index\", \"9999\");\n    mouseEventService.stampTopLevelGridCompWithGridInstance(eGui);\n    environment.applyThemeClasses(eGui);\n    dragAndDropImageComponent.setIcon(null);\n    let { dragItemName } = dragSource;\n    if (_isFunction(dragItemName)) {\n      dragItemName = dragItemName();\n    }\n    dragAndDropImageComponent.setLabel(dragItemName || \"\");\n    eGui.style.top = \"20px\";\n    eGui.style.left = \"20px\";\n    const eDocument = _getDocument(this.gos);\n    let rootNode = null;\n    let targetEl = null;\n    try {\n      rootNode = eDocument.fullscreenElement;\n    } catch (e) {\n    } finally {\n      if (!rootNode) {\n        rootNode = _getRootNode(this.gos);\n      }\n      const body = rootNode.querySelector(\"body\");\n      if (body) {\n        targetEl = body;\n      } else if (rootNode instanceof ShadowRoot) {\n        targetEl = rootNode;\n      } else if (rootNode instanceof Document) {\n        targetEl = rootNode?.documentElement;\n      } else {\n        targetEl = rootNode;\n      }\n    }\n    this.dragAndDropImageParent = targetEl;\n    if (!targetEl) {\n      _warnOnce(\"Could not find document body, it is needed for drag and drop.\");\n    } else {\n      targetEl.appendChild(eGui);\n    }\n  }\n};\n\n// community-modules/core/src/autoScrollService.ts\nvar AutoScrollService = class {\n  constructor(params) {\n    this.tickingInterval = null;\n    this.onScrollCallback = null;\n    this.scrollContainer = params.scrollContainer;\n    this.scrollHorizontally = params.scrollAxis.indexOf(\"x\") !== -1;\n    this.scrollVertically = params.scrollAxis.indexOf(\"y\") !== -1;\n    this.scrollByTick = params.scrollByTick != null ? params.scrollByTick : 20;\n    if (params.onScrollCallback) {\n      this.onScrollCallback = params.onScrollCallback;\n    }\n    if (this.scrollVertically) {\n      this.getVerticalPosition = params.getVerticalPosition;\n      this.setVerticalPosition = params.setVerticalPosition;\n    }\n    if (this.scrollHorizontally) {\n      this.getHorizontalPosition = params.getHorizontalPosition;\n      this.setHorizontalPosition = params.setHorizontalPosition;\n    }\n    this.shouldSkipVerticalScroll = params.shouldSkipVerticalScroll || (() => false);\n    this.shouldSkipHorizontalScroll = params.shouldSkipHorizontalScroll || (() => false);\n  }\n  check(mouseEvent, forceSkipVerticalScroll = false) {\n    const skipVerticalScroll = forceSkipVerticalScroll || this.shouldSkipVerticalScroll();\n    if (skipVerticalScroll && this.shouldSkipHorizontalScroll()) {\n      return;\n    }\n    const rect = this.scrollContainer.getBoundingClientRect();\n    const scrollTick = this.scrollByTick;\n    this.tickLeft = mouseEvent.clientX < rect.left + scrollTick;\n    this.tickRight = mouseEvent.clientX > rect.right - scrollTick;\n    this.tickUp = mouseEvent.clientY < rect.top + scrollTick && !skipVerticalScroll;\n    this.tickDown = mouseEvent.clientY > rect.bottom - scrollTick && !skipVerticalScroll;\n    if (this.tickLeft || this.tickRight || this.tickUp || this.tickDown) {\n      this.ensureTickingStarted();\n    } else {\n      this.ensureCleared();\n    }\n  }\n  ensureTickingStarted() {\n    if (this.tickingInterval === null) {\n      this.tickingInterval = window.setInterval(this.doTick.bind(this), 100);\n      this.tickCount = 0;\n    }\n  }\n  doTick() {\n    this.tickCount++;\n    const tickAmount = this.tickCount > 20 ? 200 : this.tickCount > 10 ? 80 : 40;\n    if (this.scrollVertically) {\n      const vScrollPosition = this.getVerticalPosition();\n      if (this.tickUp) {\n        this.setVerticalPosition(vScrollPosition - tickAmount);\n      }\n      if (this.tickDown) {\n        this.setVerticalPosition(vScrollPosition + tickAmount);\n      }\n    }\n    if (this.scrollHorizontally) {\n      const hScrollPosition = this.getHorizontalPosition();\n      if (this.tickLeft) {\n        this.setHorizontalPosition(hScrollPosition - tickAmount);\n      }\n      if (this.tickRight) {\n        this.setHorizontalPosition(hScrollPosition + tickAmount);\n      }\n    }\n    if (this.onScrollCallback) {\n      this.onScrollCallback();\n    }\n  }\n  ensureCleared() {\n    if (this.tickingInterval) {\n      window.clearInterval(this.tickingInterval);\n      this.tickingInterval = null;\n    }\n  }\n};\n\n// community-modules/core/src/interfaces/iRowNode.ts\nvar RowHighlightPosition = /* @__PURE__ */ ((RowHighlightPosition2) => {\n  RowHighlightPosition2[RowHighlightPosition2[\"Above\"] = 0] = \"Above\";\n  RowHighlightPosition2[RowHighlightPosition2[\"Below\"] = 1] = \"Below\";\n  return RowHighlightPosition2;\n})(RowHighlightPosition || {});\n\n// community-modules/core/src/gridBodyComp/rowDragFeature.ts\nvar RowDragFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.dragAndDropService = beans.dragAndDropService;\n    this.rowModel = beans.rowModel;\n    this.pageBoundsService = beans.pageBoundsService;\n    this.focusService = beans.focusService;\n    this.sortController = beans.sortController;\n    this.filterManager = beans.filterManager;\n    this.selectionService = beans.selectionService;\n    this.mouseEventService = beans.mouseEventService;\n    this.ctrlsService = beans.ctrlsService;\n    this.funcColsService = beans.funcColsService;\n    this.rangeService = beans.rangeService;\n  }\n  constructor(eContainer) {\n    super();\n    this.eContainer = eContainer;\n  }\n  postConstruct() {\n    if (_isClientSideRowModel(this.gos)) {\n      this.clientSideRowModel = this.rowModel;\n    }\n    this.ctrlsService.whenReady(this, (p) => {\n      const gridBodyCon = p.gridBodyCtrl;\n      this.autoScrollService = new AutoScrollService({\n        scrollContainer: gridBodyCon.getBodyViewportElement(),\n        scrollAxis: \"y\",\n        getVerticalPosition: () => gridBodyCon.getScrollFeature().getVScrollPosition().top,\n        setVerticalPosition: (position) => gridBodyCon.getScrollFeature().setVerticalScrollPosition(position),\n        onScrollCallback: () => {\n          this.onDragging(this.lastDraggingEvent);\n        }\n      });\n    });\n  }\n  getContainer() {\n    return this.eContainer;\n  }\n  isInterestedIn(type) {\n    return type === 2 /* RowDrag */;\n  }\n  getIconName() {\n    const managedDrag = this.gos.get(\"rowDragManaged\");\n    if (managedDrag && this.shouldPreventRowMove()) {\n      return \"notAllowed\";\n    }\n    return \"move\";\n  }\n  shouldPreventRowMove() {\n    const rowGroupCols = this.funcColsService.getRowGroupColumns();\n    if (rowGroupCols.length) {\n      return true;\n    }\n    const isFilterPresent = this.filterManager?.isAnyFilterPresent();\n    if (isFilterPresent) {\n      return true;\n    }\n    const isSortActive = this.sortController.isSortActive();\n    if (isSortActive) {\n      return true;\n    }\n    return false;\n  }\n  getRowNodes(draggingEvent) {\n    if (!this.isFromThisGrid(draggingEvent)) {\n      return draggingEvent.dragItem.rowNodes || [];\n    }\n    const currentNode = draggingEvent.dragItem.rowNode;\n    const isRowDragMultiRow = this.gos.get(\"rowDragMultiRow\");\n    if (isRowDragMultiRow) {\n      const selectedNodes = [...this.selectionService.getSelectedNodes()].sort((a, b) => {\n        if (a.rowIndex == null || b.rowIndex == null) {\n          return 0;\n        }\n        return this.getRowIndexNumber(a) - this.getRowIndexNumber(b);\n      });\n      if (selectedNodes.indexOf(currentNode) !== -1) {\n        return selectedNodes;\n      }\n    }\n    return [currentNode];\n  }\n  onDragEnter(draggingEvent) {\n    draggingEvent.dragItem.rowNodes = this.getRowNodes(draggingEvent);\n    this.dispatchGridEvent(\"rowDragEnter\", draggingEvent);\n    this.getRowNodes(draggingEvent).forEach((rowNode) => {\n      rowNode.setDragging(true);\n    });\n    this.onEnterOrDragging(draggingEvent);\n  }\n  onDragging(draggingEvent) {\n    this.onEnterOrDragging(draggingEvent);\n  }\n  isFromThisGrid(draggingEvent) {\n    const { dragSourceDomDataKey } = draggingEvent.dragSource;\n    return dragSourceDomDataKey === this.gos.getDomDataKey();\n  }\n  onEnterOrDragging(draggingEvent) {\n    this.dispatchGridEvent(\"rowDragMove\", draggingEvent);\n    this.lastDraggingEvent = draggingEvent;\n    const pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n    const managedDrag = this.gos.get(\"rowDragManaged\");\n    if (managedDrag) {\n      this.doManagedDrag(draggingEvent, pixel);\n    }\n    this.autoScrollService.check(draggingEvent.event);\n  }\n  doManagedDrag(draggingEvent, pixel) {\n    const isFromThisGrid = this.isFromThisGrid(draggingEvent);\n    const managedDrag = this.gos.get(\"rowDragManaged\");\n    const rowNodes = draggingEvent.dragItem.rowNodes;\n    if (managedDrag && this.shouldPreventRowMove()) {\n      return;\n    }\n    if (this.gos.get(\"suppressMoveWhenRowDragging\") || !isFromThisGrid) {\n      if (this.dragAndDropService.isDropZoneWithinThisGrid(draggingEvent)) {\n        this.clientSideRowModel.highlightRowAtPixel(rowNodes[0], pixel);\n      }\n    } else {\n      this.moveRows(rowNodes, pixel);\n    }\n  }\n  getRowIndexNumber(rowNode) {\n    const rowIndexStr = rowNode.getRowIndexString();\n    return parseInt(_last(rowIndexStr.split(\"-\")), 10);\n  }\n  moveRowAndClearHighlight(draggingEvent) {\n    const lastHighlightedRowNode = this.clientSideRowModel.getLastHighlightedRowNode();\n    const isBelow = lastHighlightedRowNode && lastHighlightedRowNode.highlighted === 1 /* Below */;\n    const pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n    const rowNodes = draggingEvent.dragItem.rowNodes;\n    let increment = isBelow ? 1 : 0;\n    if (this.isFromThisGrid(draggingEvent)) {\n      rowNodes.forEach((rowNode) => {\n        if (rowNode.rowTop < pixel) {\n          increment -= 1;\n        }\n      });\n      this.moveRows(rowNodes, pixel, increment);\n    } else {\n      const getRowIdFunc = _getRowIdCallback(this.gos);\n      let addIndex = this.clientSideRowModel.getRowIndexAtPixel(pixel) + 1;\n      if (this.clientSideRowModel.getHighlightPosition(pixel) === 0 /* Above */) {\n        addIndex--;\n      }\n      this.clientSideRowModel.updateRowData({\n        add: rowNodes.filter(\n          (node) => !this.clientSideRowModel.getRowNode(\n            getRowIdFunc?.({ data: node.data, level: 0, rowPinned: node.rowPinned }) ?? node.data.id\n          )\n        ).map((node) => node.data),\n        addIndex\n      });\n    }\n    this.clearRowHighlight();\n  }\n  clearRowHighlight() {\n    this.clientSideRowModel.highlightRowAtPixel(null);\n  }\n  moveRows(rowNodes, pixel, increment = 0) {\n    const rowWasMoved = this.clientSideRowModel.ensureRowsAtPixel(rowNodes, pixel, increment);\n    if (rowWasMoved) {\n      this.focusService.clearFocusedCell();\n      this.rangeService?.removeAllCellRanges();\n    }\n  }\n  addRowDropZone(params) {\n    if (!params.getContainer()) {\n      _warnOnce(\"addRowDropZone - A container target needs to be provided\");\n      return;\n    }\n    if (this.dragAndDropService.findExternalZone(params)) {\n      _warnOnce(\n        \"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.\"\n      );\n      return;\n    }\n    let processedParams = {\n      getContainer: params.getContainer\n    };\n    if (params.fromGrid) {\n      processedParams = params;\n    } else {\n      if (params.onDragEnter) {\n        processedParams.onDragEnter = (e) => {\n          params.onDragEnter(this.draggingToRowDragEvent(\"rowDragEnter\", e));\n        };\n      }\n      if (params.onDragLeave) {\n        processedParams.onDragLeave = (e) => {\n          params.onDragLeave(this.draggingToRowDragEvent(\"rowDragLeave\", e));\n        };\n      }\n      if (params.onDragging) {\n        processedParams.onDragging = (e) => {\n          params.onDragging(this.draggingToRowDragEvent(\"rowDragMove\", e));\n        };\n      }\n      if (params.onDragStop) {\n        processedParams.onDragStop = (e) => {\n          params.onDragStop(this.draggingToRowDragEvent(\"rowDragEnd\", e));\n        };\n      }\n      if (params.onDragCancel) {\n        processedParams.onDragCancel = (e) => {\n          params.onDragCancel(this.draggingToRowDragEvent(\"rowDragCancel\", e));\n        };\n      }\n    }\n    const dropTarget = {\n      isInterestedIn: (type) => type === 2 /* RowDrag */,\n      getIconName: () => \"move\",\n      external: true,\n      ...processedParams\n    };\n    this.dragAndDropService.addDropTarget(dropTarget);\n    this.addDestroyFunc(() => this.dragAndDropService.removeDropTarget(dropTarget));\n  }\n  getRowDropZone(events) {\n    const getContainer = this.getContainer.bind(this);\n    const onDragEnter = this.onDragEnter.bind(this);\n    const onDragLeave = this.onDragLeave.bind(this);\n    const onDragging = this.onDragging.bind(this);\n    const onDragStop = this.onDragStop.bind(this);\n    const onDragCancel = this.onDragCancel.bind(this);\n    let params;\n    if (!events) {\n      params = {\n        getContainer,\n        onDragEnter,\n        onDragLeave,\n        onDragging,\n        onDragStop,\n        onDragCancel,\n        /* @private */\n        fromGrid: true\n      };\n    } else {\n      params = {\n        getContainer,\n        onDragEnter: events.onDragEnter ? (e) => {\n          onDragEnter(e);\n          events.onDragEnter(this.draggingToRowDragEvent(\"rowDragEnter\", e));\n        } : onDragEnter,\n        onDragLeave: events.onDragLeave ? (e) => {\n          onDragLeave(e);\n          events.onDragLeave(this.draggingToRowDragEvent(\"rowDragLeave\", e));\n        } : onDragLeave,\n        onDragging: events.onDragging ? (e) => {\n          onDragging(e);\n          events.onDragging(this.draggingToRowDragEvent(\"rowDragMove\", e));\n        } : onDragging,\n        onDragStop: events.onDragStop ? (e) => {\n          onDragStop(e);\n          events.onDragStop(this.draggingToRowDragEvent(\"rowDragEnd\", e));\n        } : onDragStop,\n        onDragCancel: events.onDragCancel ? (e) => {\n          onDragCancel(e);\n          events.onDragCancel(this.draggingToRowDragEvent(\"rowDragCancel\", e));\n        } : onDragCancel,\n        fromGrid: true\n      };\n    }\n    return params;\n  }\n  draggingToRowDragEvent(type, draggingEvent) {\n    const yNormalised = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n    const mouseIsPastLastRow = yNormalised > this.pageBoundsService.getCurrentPageHeight();\n    let overIndex = -1;\n    let overNode;\n    if (!mouseIsPastLastRow) {\n      overIndex = this.rowModel.getRowIndexAtPixel(yNormalised);\n      overNode = this.rowModel.getRow(overIndex);\n    }\n    let vDirectionString;\n    switch (draggingEvent.vDirection) {\n      case 1 /* Down */:\n        vDirectionString = \"down\";\n        break;\n      case 0 /* Up */:\n        vDirectionString = \"up\";\n        break;\n      default:\n        vDirectionString = null;\n        break;\n    }\n    const event = this.gos.addGridCommonParams({\n      type,\n      event: draggingEvent.event,\n      node: draggingEvent.dragItem.rowNode,\n      nodes: draggingEvent.dragItem.rowNodes,\n      overIndex,\n      overNode,\n      y: yNormalised,\n      vDirection: vDirectionString\n    });\n    return event;\n  }\n  dispatchGridEvent(type, draggingEvent) {\n    const event = this.draggingToRowDragEvent(type, draggingEvent);\n    this.eventService.dispatchEvent(event);\n  }\n  onDragLeave(draggingEvent) {\n    this.dispatchGridEvent(\"rowDragLeave\", draggingEvent);\n    this.stopDragging(draggingEvent);\n    if (this.gos.get(\"rowDragManaged\")) {\n      this.clearRowHighlight();\n    }\n  }\n  onDragStop(draggingEvent) {\n    this.dispatchGridEvent(\"rowDragEnd\", draggingEvent);\n    this.stopDragging(draggingEvent);\n    if (this.gos.get(\"rowDragManaged\") && (this.gos.get(\"suppressMoveWhenRowDragging\") || !this.isFromThisGrid(draggingEvent)) && this.dragAndDropService.isDropZoneWithinThisGrid(draggingEvent)) {\n      this.moveRowAndClearHighlight(draggingEvent);\n    }\n  }\n  onDragCancel(draggingEvent) {\n    this.dispatchGridEvent(\"rowDragCancel\", draggingEvent);\n    this.stopDragging(draggingEvent);\n    if (this.gos.get(\"rowDragManaged\") && (this.gos.get(\"suppressMoveWhenRowDragging\") || !this.isFromThisGrid(draggingEvent)) && this.dragAndDropService.isDropZoneWithinThisGrid(draggingEvent)) {\n      this.clearRowHighlight();\n    }\n  }\n  stopDragging(draggingEvent) {\n    this.autoScrollService.ensureCleared();\n    this.getRowNodes(draggingEvent).forEach((rowNode) => {\n      rowNode.setDragging(false);\n    });\n  }\n};\n\n// community-modules/core/src/dragAndDrop/dragService.ts\nvar DragService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"dragService\";\n    this.dragEndFunctions = [];\n    this.dragSources = [];\n  }\n  wireBeans(beans) {\n    this.mouseEventService = beans.mouseEventService;\n  }\n  destroy() {\n    this.dragSources.forEach(this.removeListener.bind(this));\n    this.dragSources.length = 0;\n    super.destroy();\n  }\n  removeListener(dragSourceAndListener) {\n    const element = dragSourceAndListener.dragSource.eElement;\n    const mouseDownListener = dragSourceAndListener.mouseDownListener;\n    element.removeEventListener(\"mousedown\", mouseDownListener);\n    if (dragSourceAndListener.touchEnabled) {\n      const touchStartListener = dragSourceAndListener.touchStartListener;\n      element.removeEventListener(\"touchstart\", touchStartListener, { passive: true });\n    }\n  }\n  removeDragSource(params) {\n    const dragSourceAndListener = this.dragSources.find((item) => item.dragSource === params);\n    if (!dragSourceAndListener) {\n      return;\n    }\n    this.removeListener(dragSourceAndListener);\n    _removeFromArray(this.dragSources, dragSourceAndListener);\n  }\n  isDragging() {\n    return this.dragging;\n  }\n  addDragSource(params) {\n    const mouseListener = this.onMouseDown.bind(this, params);\n    const { eElement, includeTouch, stopPropagationForTouch } = params;\n    eElement.addEventListener(\"mousedown\", mouseListener);\n    let touchListener = null;\n    const suppressTouch = this.gos.get(\"suppressTouch\");\n    if (includeTouch && !suppressTouch) {\n      touchListener = (touchEvent) => {\n        if (_isFocusableFormField(touchEvent.target)) {\n          return;\n        }\n        if (stopPropagationForTouch) {\n          touchEvent.stopPropagation();\n        }\n        this.onTouchStart(params, touchEvent);\n      };\n      eElement.addEventListener(\"touchstart\", touchListener, { passive: false });\n    }\n    this.dragSources.push({\n      dragSource: params,\n      mouseDownListener: mouseListener,\n      touchStartListener: touchListener,\n      touchEnabled: !!includeTouch\n    });\n  }\n  getStartTarget() {\n    return this.startTarget;\n  }\n  // gets called whenever mouse down on any drag source\n  onTouchStart(params, touchEvent) {\n    this.currentDragParams = params;\n    this.dragging = false;\n    const touch = touchEvent.touches[0];\n    this.touchLastTime = touch;\n    this.touchStart = touch;\n    const touchMoveEvent = (e) => this.onTouchMove(e, params.eElement);\n    const touchEndEvent = (e) => this.onTouchUp(e, params.eElement);\n    const documentTouchMove = (e) => {\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n    };\n    const target = touchEvent.target;\n    const events = [\n      // Prevents the page document from moving while we are dragging items around.\n      // preventDefault needs to be called in the touchmove listener and never inside the\n      // touchstart, because using touchstart causes the click event to be cancelled on touch devices.\n      {\n        target: _getRootNode(this.gos),\n        type: \"touchmove\",\n        listener: documentTouchMove,\n        options: { passive: false }\n      },\n      { target, type: \"touchmove\", listener: touchMoveEvent, options: { passive: true } },\n      { target, type: \"touchend\", listener: touchEndEvent, options: { passive: true } },\n      { target, type: \"touchcancel\", listener: touchEndEvent, options: { passive: true } }\n    ];\n    this.addTemporaryEvents(events);\n    if (params.dragStartPixels === 0) {\n      this.onCommonMove(touch, this.touchStart, params.eElement);\n    }\n  }\n  // gets called whenever mouse down on any drag source\n  onMouseDown(params, mouseEvent) {\n    const e = mouseEvent;\n    if (params.skipMouseEvent && params.skipMouseEvent(mouseEvent)) {\n      return;\n    }\n    if (e._alreadyProcessedByDragService) {\n      return;\n    }\n    e._alreadyProcessedByDragService = true;\n    if (mouseEvent.button !== 0) {\n      return;\n    }\n    if (this.shouldPreventMouseEvent(mouseEvent)) {\n      mouseEvent.preventDefault();\n    }\n    this.currentDragParams = params;\n    this.dragging = false;\n    this.mouseStartEvent = mouseEvent;\n    this.startTarget = mouseEvent.target;\n    const mouseMoveEvent = (event) => this.onMouseMove(event, params.eElement);\n    const mouseUpEvent = (event) => this.onMouseUp(event, params.eElement);\n    const contextEvent = (event) => event.preventDefault();\n    const keydownEvent = (event) => {\n      if (event.key === KeyCode.ESCAPE) {\n        this.cancelDrag(params.eElement);\n      }\n    };\n    const target = _getRootNode(this.gos);\n    const events = [\n      { target, type: \"mousemove\", listener: mouseMoveEvent },\n      { target, type: \"mouseup\", listener: mouseUpEvent },\n      { target, type: \"contextmenu\", listener: contextEvent },\n      { target, type: \"keydown\", listener: keydownEvent }\n    ];\n    this.addTemporaryEvents(events);\n    if (params.dragStartPixels === 0) {\n      this.onMouseMove(mouseEvent, params.eElement);\n    }\n  }\n  addTemporaryEvents(events) {\n    events.forEach((currentEvent) => {\n      const { target, type, listener, options } = currentEvent;\n      target.addEventListener(type, listener, options);\n    });\n    this.dragEndFunctions.push(() => {\n      events.forEach((currentEvent) => {\n        const { target, type, listener, options } = currentEvent;\n        target.removeEventListener(type, listener, options);\n      });\n    });\n  }\n  // returns true if the event is close to the original event by X pixels either vertically or horizontally.\n  // we only start dragging after X pixels so this allows us to know if we should start dragging yet.\n  isEventNearStartEvent(currentEvent, startEvent) {\n    const { dragStartPixels } = this.currentDragParams;\n    const requiredPixelDiff = _exists(dragStartPixels) ? dragStartPixels : 4;\n    return _areEventsNear(currentEvent, startEvent, requiredPixelDiff);\n  }\n  getFirstActiveTouch(touchList) {\n    for (let i = 0; i < touchList.length; i++) {\n      if (touchList[i].identifier === this.touchStart.identifier) {\n        return touchList[i];\n      }\n    }\n    return null;\n  }\n  onCommonMove(currentEvent, startEvent, el) {\n    if (!this.dragging) {\n      if (this.isEventNearStartEvent(currentEvent, startEvent)) {\n        return;\n      }\n      this.dragging = true;\n      this.eventService.dispatchEvent({\n        type: \"dragStarted\",\n        target: el\n      });\n      this.currentDragParams.onDragStart(startEvent);\n      if (!this.currentDragParams) {\n        this.dragging = false;\n        return;\n      }\n      this.currentDragParams.onDragging(startEvent);\n    }\n    this.currentDragParams?.onDragging(currentEvent);\n  }\n  onTouchMove(touchEvent, el) {\n    const touch = this.getFirstActiveTouch(touchEvent.touches);\n    if (!touch) {\n      return;\n    }\n    this.onCommonMove(touch, this.touchStart, el);\n  }\n  // only gets called after a mouse down - as this is only added after mouseDown\n  // and is removed when mouseUp happens\n  onMouseMove(mouseEvent, el) {\n    if (_isBrowserSafari()) {\n      const eDocument = _getDocument(this.gos);\n      eDocument.getSelection()?.removeAllRanges();\n    }\n    if (this.shouldPreventMouseEvent(mouseEvent)) {\n      mouseEvent.preventDefault();\n    }\n    this.onCommonMove(mouseEvent, this.mouseStartEvent, el);\n  }\n  shouldPreventMouseEvent(mouseEvent) {\n    const isEnableCellTextSelect = this.gos.get(\"enableCellTextSelection\");\n    const isMouseMove = mouseEvent.type === \"mousemove\";\n    return (\n      // when `isEnableCellTextSelect` is `true`, we need to preventDefault on mouseMove\n      // to avoid the grid text being selected while dragging components.\n      isEnableCellTextSelect && isMouseMove && mouseEvent.cancelable && this.mouseEventService.isEventFromThisGrid(mouseEvent) && !this.isOverFormFieldElement(mouseEvent)\n    );\n  }\n  isOverFormFieldElement(mouseEvent) {\n    const el = mouseEvent.target;\n    const tagName = el?.tagName.toLocaleLowerCase();\n    return !!tagName?.match(\"^a$|textarea|input|select|button\");\n  }\n  onTouchUp(touchEvent, el) {\n    let touch = this.getFirstActiveTouch(touchEvent.changedTouches);\n    if (!touch) {\n      touch = this.touchLastTime;\n    }\n    this.onUpCommon(touch, el);\n  }\n  onMouseUp(mouseEvent, el) {\n    this.onUpCommon(mouseEvent, el);\n  }\n  onUpCommon(eventOrTouch, el) {\n    if (this.dragging) {\n      this.dragging = false;\n      this.currentDragParams.onDragStop(eventOrTouch);\n      this.eventService.dispatchEvent({\n        type: \"dragStopped\",\n        target: el\n      });\n    }\n    this.resetDragProperties();\n  }\n  cancelDrag(el) {\n    this.eventService.dispatchEvent({\n      type: \"dragCancelled\",\n      target: el\n    });\n    this.currentDragParams?.onDragCancel?.();\n    this.resetDragProperties();\n  }\n  resetDragProperties() {\n    this.mouseStartEvent = null;\n    this.startTarget = null;\n    this.touchStart = null;\n    this.touchLastTime = null;\n    this.currentDragParams = null;\n    this.dragEndFunctions.forEach((func) => func());\n    this.dragEndFunctions.length = 0;\n  }\n};\n\n// community-modules/core/src/rendering/row/rowDragComp.ts\nvar RowDragComp = class extends Component {\n  constructor(cellValueFn, rowNode, column, customGui, dragStartPixels, suppressVisibilityChange) {\n    super();\n    this.cellValueFn = cellValueFn;\n    this.rowNode = rowNode;\n    this.column = column;\n    this.customGui = customGui;\n    this.dragStartPixels = dragStartPixels;\n    this.suppressVisibilityChange = suppressVisibilityChange;\n    this.dragSource = null;\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  isCustomGui() {\n    return this.customGui != null;\n  }\n  postConstruct() {\n    if (!this.customGui) {\n      this.setTemplate(\n        /* html */\n        `<div class=\"ag-drag-handle ag-row-drag\" aria-hidden=\"true\"></div>`\n      );\n      this.getGui().appendChild(_createIconNoSpan(\"rowDrag\", this.gos, null));\n      this.addDragSource();\n    } else {\n      this.setDragElement(this.customGui, this.dragStartPixels);\n    }\n    this.checkCompatibility();\n    if (!this.suppressVisibilityChange) {\n      const strategy = this.gos.get(\"rowDragManaged\") ? new ManagedVisibilityStrategy(this, this.beans, this.rowNode, this.column) : new NonManagedVisibilityStrategy(this, this.beans, this.rowNode, this.column);\n      this.createManagedBean(strategy, this.beans.context);\n    }\n  }\n  setDragElement(dragElement, dragStartPixels) {\n    this.setTemplateFromElement(dragElement, void 0, void 0, true);\n    this.addDragSource(dragStartPixels);\n  }\n  getSelectedNodes() {\n    const isRowDragMultiRow = this.gos.get(\"rowDragMultiRow\");\n    if (!isRowDragMultiRow) {\n      return [this.rowNode];\n    }\n    const selection = this.beans.selectionService.getSelectedNodes();\n    return selection.indexOf(this.rowNode) !== -1 ? selection : [this.rowNode];\n  }\n  // returns true if all compatibility items work out\n  checkCompatibility() {\n    const managed = this.gos.get(\"rowDragManaged\");\n    const treeData = this.gos.get(\"treeData\");\n    if (treeData && managed) {\n      _warnOnce(\"If using row drag with tree data, you cannot have rowDragManaged=true\");\n    }\n  }\n  getDragItem() {\n    return {\n      rowNode: this.rowNode,\n      rowNodes: this.getSelectedNodes(),\n      columns: this.column ? [this.column] : void 0,\n      defaultTextValue: this.cellValueFn()\n    };\n  }\n  getRowDragText(column) {\n    if (column) {\n      const colDef = column.getColDef();\n      if (colDef.rowDragText) {\n        return colDef.rowDragText;\n      }\n    }\n    return this.gos.get(\"rowDragText\");\n  }\n  addDragSource(dragStartPixels = 4) {\n    if (this.dragSource) {\n      this.removeDragSource();\n    }\n    const eGui = this.getGui();\n    if (this.gos.get(\"enableCellTextSelection\")) {\n      this.removeMouseDownListener();\n      this.mouseDownListener = this.addManagedElementListeners(eGui, {\n        mousedown: (e) => {\n          e?.preventDefault();\n        }\n      })[0];\n    }\n    const translate = this.localeService.getLocaleTextFunc();\n    this.dragSource = {\n      type: 2 /* RowDrag */,\n      eElement: eGui,\n      dragItemName: () => {\n        const dragItem = this.getDragItem();\n        const dragItemCount = dragItem.rowNodes?.length || 1;\n        const rowDragText = this.getRowDragText(this.column);\n        if (rowDragText) {\n          return rowDragText(dragItem, dragItemCount);\n        }\n        return dragItemCount === 1 ? this.cellValueFn() : `${dragItemCount} ${translate(\"rowDragRows\", \"rows\")}`;\n      },\n      getDragItem: () => this.getDragItem(),\n      dragStartPixels,\n      dragSourceDomDataKey: this.gos.getDomDataKey()\n    };\n    this.beans.dragAndDropService.addDragSource(this.dragSource, true);\n  }\n  destroy() {\n    this.removeDragSource();\n    this.removeMouseDownListener();\n    super.destroy();\n  }\n  removeDragSource() {\n    if (!this.dragSource) {\n      return;\n    }\n    this.beans.dragAndDropService.removeDragSource(this.dragSource);\n    this.dragSource = null;\n  }\n  removeMouseDownListener() {\n    if (!this.mouseDownListener) {\n      return;\n    }\n    this.mouseDownListener();\n    this.mouseDownListener = void 0;\n  }\n};\nvar VisibilityStrategy = class extends BeanStub {\n  constructor(parent, rowNode, column) {\n    super();\n    this.parent = parent;\n    this.rowNode = rowNode;\n    this.column = column;\n  }\n  setDisplayedOrVisible(neverDisplayed) {\n    const displayedOptions = { skipAriaHidden: true };\n    if (neverDisplayed) {\n      this.parent.setDisplayed(false, displayedOptions);\n    } else {\n      let shown = true;\n      let isShownSometimes = false;\n      if (this.column) {\n        shown = this.column.isRowDrag(this.rowNode) || this.parent.isCustomGui();\n        isShownSometimes = _isFunction(this.column.getColDef().rowDrag);\n      }\n      if (isShownSometimes) {\n        this.parent.setDisplayed(true, displayedOptions);\n        this.parent.setVisible(shown, displayedOptions);\n      } else {\n        this.parent.setDisplayed(shown, displayedOptions);\n        this.parent.setVisible(true, displayedOptions);\n      }\n    }\n  }\n};\nvar NonManagedVisibilityStrategy = class extends VisibilityStrategy {\n  constructor(parent, beans, rowNode, column) {\n    super(parent, rowNode, column);\n    this.beans = beans;\n  }\n  postConstruct() {\n    this.addManagedPropertyListener(\"suppressRowDrag\", this.onSuppressRowDrag.bind(this));\n    const listener = this.workOutVisibility.bind(this);\n    this.addManagedListeners(this.rowNode, {\n      dataChanged: listener,\n      cellChanged: listener\n    });\n    this.addManagedListeners(this.beans.eventService, { newColumnsLoaded: listener });\n    this.workOutVisibility();\n  }\n  onSuppressRowDrag() {\n    this.workOutVisibility();\n  }\n  workOutVisibility() {\n    const neverDisplayed = this.gos.get(\"suppressRowDrag\");\n    this.setDisplayedOrVisible(neverDisplayed);\n  }\n};\nvar ManagedVisibilityStrategy = class extends VisibilityStrategy {\n  constructor(parent, beans, rowNode, column) {\n    super(parent, rowNode, column);\n    this.beans = beans;\n  }\n  postConstruct() {\n    const listener = this.workOutVisibility.bind(this);\n    this.addManagedListeners(this.beans.eventService, {\n      sortChanged: listener,\n      filterChanged: listener,\n      columnRowGroupChanged: listener,\n      newColumnsLoaded: listener\n    });\n    this.addManagedListeners(this.rowNode, {\n      dataChanged: listener,\n      cellChanged: listener\n    });\n    this.addManagedPropertyListener(\"suppressRowDrag\", this.onSuppressRowDrag.bind(this));\n    this.workOutVisibility();\n  }\n  onSuppressRowDrag() {\n    this.workOutVisibility();\n  }\n  workOutVisibility() {\n    const gridBodyCon = this.beans.ctrlsService.getGridBodyCtrl();\n    const rowDragFeature = gridBodyCon.getRowDragFeature();\n    const shouldPreventRowMove = rowDragFeature && rowDragFeature.shouldPreventRowMove();\n    const suppressRowDrag = this.gos.get(\"suppressRowDrag\");\n    const hasExternalDropZones = this.beans.dragAndDropService.hasExternalDropZones();\n    const neverDisplayed = shouldPreventRowMove && !hasExternalDropZones || suppressRowDrag;\n    this.setDisplayedOrVisible(neverDisplayed);\n  }\n};\n\n// community-modules/core/src/entities/rowNode.ts\nvar IGNORED_SIBLING_PROPERTIES = /* @__PURE__ */ new Set([\"localEventService\", \"__objectId\", \"sticky\", \"__autoHeights\", \"checkAutoHeightsDebounced\"]);\nvar _RowNode = class _RowNode {\n  constructor(beans) {\n    /** The current row index. If the row is filtered out or in a collapsed group, this value will be `null`. */\n    this.rowIndex = null;\n    /** The key for the group eg Ireland, UK, USA */\n    this.key = null;\n    /**\n     * The index of the row in the source rowData array including any updates via transactions.\n     * It does not change when sorting, filtering, grouping, pivoting or any other UI related operations.\n     * If this is a filler node (a visual row created by AG Grid in tree data or grouping) the value will be `-1`.\n     *\n     * Generally readonly. It is modified only by:\n     * - ClientSideNodeManager, cast to ClientSideNodeManagerRowNode\n     * - ClientSideRowModel, cast to ClientSideRowModelRowNode\n     */\n    this.sourceRowIndex = -1;\n    /**\n     * Children mapped by the pivot columns.\n     *\n     * TODO: this field is currently used only by the GroupStrategy and Pivot.\n     * TreeStrategy does not use it, and pivot cannot be enabled with tree data.\n     * Creating a new object for every row when not pivoting and not grouping\n     * consumes memory unnecessarily. Setting it to null however currently breaks\n     * transactional updates in groups so this requires a deeper investigation on GroupStrategy.\n     */\n    this.childrenMapped = {};\n    /** The TreeNode associated to this row. Used only with tree data. */\n    this.treeNode = null;\n    /** The flags associated to this node. Used only with tree data. */\n    this.treeNodeFlags = 0;\n    /**\n     * This will be `true` if it has a rowIndex assigned, otherwise `false`.\n     */\n    this.displayed = false;\n    /** The row top position in pixels. */\n    this.rowTop = null;\n    /** The top pixel for this row last time, makes sense if data set was ordered or filtered,\n     * it is used so new rows can animate in from their old position. */\n    this.oldRowTop = null;\n    /** `true` by default - can be overridden via gridOptions.isRowSelectable(rowNode) */\n    this.selectable = true;\n    /** Used by sorting service - to give deterministic sort to groups. Previously we\n     * just id for this, however id is a string and had slower sorting compared to numbers. */\n    this.__objectId = _RowNode.OBJECT_ID_SEQUENCE++;\n    /** When one or more Columns are using autoHeight, this keeps track of height of each autoHeight Cell,\n     * indexed by the Column ID. */\n    this.__autoHeights = {};\n    /** `true` when nodes with the same id are being removed and added as part of the same batch transaction */\n    this.alreadyRendered = false;\n    this.highlighted = null;\n    this.hovered = false;\n    this.selected = false;\n    this.beans = beans;\n  }\n  /**\n   * Replaces the data on the `rowNode`. When this method is called, the grid will refresh the entire rendered row if it is displayed.\n   */\n  setData(data) {\n    this.setDataCommon(data, false);\n  }\n  // similar to setRowData, however it is expected that the data is the same data item. this\n  // is intended to be used with Redux type stores, where the whole data can be changed. we are\n  // guaranteed that the data is the same entity (so grid doesn't need to worry about the id of the\n  // underlying data changing, hence doesn't need to worry about selection). the grid, upon receiving\n  // dataChanged event, will refresh the cells rather than rip them all out (so user can show transitions).\n  /**\n   * Updates the data on the `rowNode`. When this method is called, the grid will refresh the entire rendered row if it is displayed.\n   */\n  updateData(data) {\n    this.setDataCommon(data, true);\n  }\n  setDataCommon(data, update) {\n    const oldData = this.data;\n    this.data = data;\n    this.beans.valueCache.onDataChanged();\n    this.updateDataOnDetailNode();\n    this.checkRowSelectable();\n    this.resetQuickFilterAggregateText();\n    const event = this.createDataChangedEvent(data, oldData, update);\n    this.localEventService?.dispatchEvent(event);\n  }\n  // when we are doing master / detail, the detail node is lazy created, but then kept around.\n  // so if we show / hide the detail, the same detail rowNode is used. so we need to keep the data\n  // in sync, otherwise expand/collapse of the detail would still show the old values.\n  updateDataOnDetailNode() {\n    if (this.detailNode) {\n      this.detailNode.data = this.data;\n    }\n  }\n  createDataChangedEvent(newData, oldData, update) {\n    return {\n      type: \"dataChanged\",\n      node: this,\n      oldData,\n      newData,\n      update\n    };\n  }\n  getRowIndexString() {\n    if (this.rowIndex == null) {\n      _errorOnce(\n        \"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.\"\n      );\n      return null;\n    }\n    if (this.rowPinned === \"top\") {\n      return _RowNode.ID_PREFIX_TOP_PINNED + this.rowIndex;\n    }\n    if (this.rowPinned === \"bottom\") {\n      return _RowNode.ID_PREFIX_BOTTOM_PINNED + this.rowIndex;\n    }\n    return this.rowIndex.toString();\n  }\n  createDaemonNode() {\n    const oldNode = new _RowNode(this.beans);\n    oldNode.id = this.id;\n    oldNode.data = this.data;\n    oldNode.__daemon = true;\n    oldNode.selected = this.selected;\n    oldNode.level = this.level;\n    return oldNode;\n  }\n  setDataAndId(data, id) {\n    const oldNode = _exists(this.id) ? this.createDaemonNode() : null;\n    const oldData = this.data;\n    this.data = data;\n    this.updateDataOnDetailNode();\n    this.setId(id);\n    this.checkRowSelectable();\n    this.beans.selectionService.syncInRowNode(this, oldNode);\n    const event = this.createDataChangedEvent(data, oldData, false);\n    this.localEventService?.dispatchEvent(event);\n  }\n  checkRowSelectable() {\n    const isRowSelectableFunc = _getIsRowSelectable(this.beans.gos);\n    this.setRowSelectable(isRowSelectableFunc ? isRowSelectableFunc(this) : true);\n  }\n  setRowSelectable(newVal, suppressSelectionUpdate) {\n    if (this.selectable !== newVal) {\n      this.selectable = newVal;\n      this.dispatchRowEvent(\"selectableChanged\");\n      if (suppressSelectionUpdate) {\n        return;\n      }\n      const isGroupSelectsChildren = _getGroupSelectsDescendants(this.beans.gos);\n      if (isGroupSelectsChildren) {\n        const selected = this.calculateSelectedFromChildren();\n        this.setSelectedParams({\n          newValue: selected ?? false,\n          source: \"selectableChanged\"\n        });\n        return;\n      }\n      if (this.isSelected() && !this.selectable) {\n        this.setSelectedParams({\n          newValue: false,\n          source: \"selectableChanged\"\n        });\n      }\n    }\n  }\n  setId(id) {\n    const getRowIdFunc = _getRowIdCallback(this.beans.gos);\n    if (getRowIdFunc) {\n      if (this.data) {\n        const parentKeys = this.parent?.getRoute() ?? [];\n        this.id = getRowIdFunc({\n          data: this.data,\n          parentKeys: parentKeys.length > 0 ? parentKeys : void 0,\n          level: this.level,\n          rowPinned: this.rowPinned\n        });\n        if (this.id.startsWith(_RowNode.ID_PREFIX_ROW_GROUP)) {\n          _errorOnce(\n            `Row IDs cannot start with ${_RowNode.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`\n          );\n        }\n      } else {\n        this.id = void 0;\n      }\n    } else {\n      this.id = id;\n    }\n  }\n  setRowTop(rowTop) {\n    this.oldRowTop = this.rowTop;\n    if (this.rowTop === rowTop) {\n      return;\n    }\n    this.rowTop = rowTop;\n    this.dispatchRowEvent(\"topChanged\");\n    this.setDisplayed(rowTop !== null);\n  }\n  clearRowTopAndRowIndex() {\n    this.oldRowTop = null;\n    this.setRowTop(null);\n    this.setRowIndex(null);\n  }\n  setHovered(hovered) {\n    this.hovered = hovered;\n  }\n  isHovered() {\n    return this.hovered;\n  }\n  setMaster(master) {\n    if (this.master === master) {\n      return;\n    }\n    if (this.master && !master) {\n      this.expanded = false;\n    }\n    this.master = master;\n    this.dispatchRowEvent(\"masterChanged\");\n  }\n  setGroup(group) {\n    if (this.group === group) {\n      return;\n    }\n    if (this.group && !group) {\n      this.expanded = false;\n    }\n    this.group = group;\n    this.updateHasChildren();\n    this.checkRowSelectable();\n    this.dispatchRowEvent(\"groupChanged\");\n  }\n  /**\n   * Sets the row height.\n   * Call if you want to change the height initially assigned to the row.\n   * After calling, you must call `api.onRowHeightChanged()` so the grid knows it needs to work out the placement of the rows. */\n  setRowHeight(rowHeight, estimated = false) {\n    this.rowHeight = rowHeight;\n    this.rowHeightEstimated = estimated;\n    this.dispatchRowEvent(\"heightChanged\");\n  }\n  setRowAutoHeight(cellHeight, column) {\n    if (!this.__autoHeights) {\n      this.__autoHeights = {};\n    }\n    this.__autoHeights[column.getId()] = cellHeight;\n    if (cellHeight != null) {\n      if (this.checkAutoHeightsDebounced == null) {\n        this.checkAutoHeightsDebounced = _debounce(this.checkAutoHeights.bind(this), 1);\n      }\n      this.checkAutoHeightsDebounced();\n    }\n  }\n  checkAutoHeights() {\n    let notAllPresent = false;\n    let nonePresent = true;\n    let newRowHeight = 0;\n    const autoHeights = this.__autoHeights;\n    if (autoHeights == null) {\n      return;\n    }\n    const displayedAutoHeightCols = this.beans.visibleColsService.getAllAutoHeightCols();\n    displayedAutoHeightCols.forEach((col) => {\n      let cellHeight = autoHeights[col.getId()];\n      if (cellHeight == null) {\n        if (this.beans.columnModel.isColSpanActive()) {\n          let activeColsForRow = [];\n          switch (col.getPinned()) {\n            case \"left\":\n              activeColsForRow = this.beans.visibleColsService.getLeftColsForRow(this);\n              break;\n            case \"right\":\n              activeColsForRow = this.beans.visibleColsService.getRightColsForRow(this);\n              break;\n            case null:\n              activeColsForRow = this.beans.columnViewportService.getColsWithinViewport(this);\n              break;\n          }\n          if (activeColsForRow.includes(col)) {\n            notAllPresent = true;\n            return;\n          }\n          cellHeight = -1;\n        } else {\n          notAllPresent = true;\n          return;\n        }\n      } else {\n        nonePresent = false;\n      }\n      if (cellHeight > newRowHeight) {\n        newRowHeight = cellHeight;\n      }\n    });\n    if (notAllPresent) {\n      return;\n    }\n    if (nonePresent || newRowHeight < 10) {\n      newRowHeight = _getRowHeightForNode(this.beans.gos, this).height;\n    }\n    if (newRowHeight == this.rowHeight) {\n      return;\n    }\n    this.setRowHeight(newRowHeight);\n    const rowModel = this.beans.rowModel;\n    rowModel.onRowHeightChangedDebounced?.();\n  }\n  /**\n   * Set the expanded state of this rowNode. Pass `true` to expand and `false` to collapse.\n   */\n  setExpanded(expanded, e, forceSync) {\n    if (this.expanded === expanded) {\n      return;\n    }\n    this.expanded = expanded;\n    this.dispatchRowEvent(\"expandedChanged\");\n    const event = { ...this.createGlobalRowEvent(\"rowGroupOpened\"), expanded, event: e || null };\n    this.beans.rowNodeEventThrottle.dispatchExpanded(event, forceSync);\n    this.beans.rowRenderer.refreshCells({ rowNodes: [this] });\n  }\n  createGlobalRowEvent(type) {\n    return this.beans.gos.addGridCommonParams({\n      type,\n      node: this,\n      data: this.data,\n      rowIndex: this.rowIndex,\n      rowPinned: this.rowPinned\n    });\n  }\n  /**\n   * Replaces the value on the `rowNode` for the specified column. When complete,\n   * the grid will refresh the rendered cell on the required row only.\n   * **Note**: This method only fires `onCellEditRequest` when the Grid is in **Read Only** mode.\n   *\n   * @param colKey The column where the value should be updated\n   * @param newValue The new value\n   * @param eventSource The source of the event\n   * @returns `true` if the value was changed, otherwise `false`.\n   */\n  setDataValue(colKey, newValue, eventSource) {\n    const getColumnFromKey = () => {\n      if (typeof colKey !== \"string\") {\n        return colKey;\n      }\n      return this.beans.columnModel.getCol(colKey) ?? this.beans.columnModel.getColDefCol(colKey);\n    };\n    const column = getColumnFromKey();\n    const oldValue = this.beans.valueService.getValueForDisplay(column, this);\n    if (this.beans.gos.get(\"readOnlyEdit\")) {\n      this.beans.eventService.dispatchEvent({\n        type: \"cellEditRequest\",\n        event: null,\n        rowIndex: this.rowIndex,\n        rowPinned: this.rowPinned,\n        column,\n        colDef: column.getColDef(),\n        data: this.data,\n        node: this,\n        oldValue,\n        newValue,\n        value: newValue,\n        source: eventSource\n      });\n      return false;\n    }\n    const valueChanged = this.beans.valueService.setValue(this, column, newValue, eventSource);\n    this.dispatchCellChangedEvent(column, newValue, oldValue);\n    this.checkRowSelectable();\n    return valueChanged;\n  }\n  setGroupValue(colKey, newValue) {\n    const column = this.beans.columnModel.getCol(colKey);\n    if (_missing(this.groupData)) {\n      this.groupData = {};\n    }\n    const columnId = column.getColId();\n    const oldValue = this.groupData[columnId];\n    if (oldValue === newValue) {\n      return;\n    }\n    this.groupData[columnId] = newValue;\n    this.dispatchCellChangedEvent(column, newValue, oldValue);\n  }\n  // sets the data for an aggregation\n  setAggData(newAggData) {\n    const oldAggData = this.aggData;\n    this.aggData = newAggData;\n    if (this.localEventService) {\n      const eventFunc = (colId) => {\n        const value = this.aggData ? this.aggData[colId] : void 0;\n        const oldValue = oldAggData ? oldAggData[colId] : void 0;\n        if (value === oldValue) {\n          return;\n        }\n        const column = this.beans.columnModel.getCol(colId);\n        if (!column) {\n          return;\n        }\n        this.dispatchCellChangedEvent(column, value, oldValue);\n      };\n      for (const key in oldAggData) {\n        eventFunc(key);\n      }\n      for (const key in newAggData) {\n        if (!oldAggData || !(key in oldAggData)) {\n          eventFunc(key);\n        }\n      }\n    }\n  }\n  updateHasChildren() {\n    let newValue = this.group && !this.footer || this.childrenAfterGroup && this.childrenAfterGroup.length > 0;\n    const isSsrm = _isServerSideRowModel(this.beans.gos);\n    if (isSsrm) {\n      const isTreeData = this.beans.gos.get(\"treeData\");\n      const isGroupFunc = this.beans.gos.get(\"isServerSideGroup\");\n      newValue = !this.stub && !this.footer && (isTreeData ? !!isGroupFunc && isGroupFunc(this.data) : !!this.group);\n    }\n    if (newValue !== this.__hasChildren) {\n      this.__hasChildren = !!newValue;\n      this.dispatchRowEvent(\"hasChildrenChanged\");\n    }\n  }\n  hasChildren() {\n    if (this.__hasChildren == null) {\n      this.updateHasChildren();\n    }\n    return this.__hasChildren;\n  }\n  dispatchCellChangedEvent(column, newValue, oldValue) {\n    const cellChangedEvent = {\n      type: \"cellChanged\",\n      node: this,\n      column,\n      newValue,\n      oldValue\n    };\n    this.localEventService?.dispatchEvent(cellChangedEvent);\n  }\n  /**\n   * The first time `quickFilter` runs, the grid creates a one-off string representation of the row.\n   * This string is then used for the quick filter instead of hitting each column separately.\n   * When you edit, using grid editing, this string gets cleared down.\n   * However if you edit without using grid editing, you will need to clear this string down for the row to be updated with the new values.\n   * Otherwise new values will not work with the `quickFilter`. */\n  resetQuickFilterAggregateText() {\n    this.quickFilterAggregateText = null;\n  }\n  /** Returns:\n   * - `true` if the node can be expanded, i.e it is a group or master row.\n   * - `false` if the node cannot be expanded\n   */\n  isExpandable() {\n    if (this.footer) {\n      return false;\n    }\n    if (this.beans.columnModel.isPivotMode()) {\n      return this.hasChildren() && !this.leafGroup;\n    }\n    return this.hasChildren() || !!this.master;\n  }\n  /** Returns:\n   * - `true` if node is selected,\n   * - `false` if the node isn't selected\n   * - `undefined` if it's partially selected (group where not all children are selected). */\n  isSelected() {\n    if (this.footer) {\n      return this.sibling.isSelected();\n    }\n    return this.selected;\n  }\n  /** Perform a depth-first search of this node and its children. */\n  depthFirstSearch(callback) {\n    if (this.childrenAfterGroup) {\n      this.childrenAfterGroup.forEach((child) => child.depthFirstSearch(callback));\n    }\n    callback(this);\n  }\n  // + selectionController.calculatedSelectedForAllGroupNodes()\n  calculateSelectedFromChildren() {\n    let atLeastOneSelected = false;\n    let atLeastOneDeSelected = false;\n    if (!this.childrenAfterGroup?.length) {\n      return this.selectable ? this.selected : null;\n    }\n    for (let i = 0; i < this.childrenAfterGroup.length; i++) {\n      const child = this.childrenAfterGroup[i];\n      let childState = child.isSelected();\n      if (!child.selectable) {\n        const selectable = child.calculateSelectedFromChildren();\n        if (selectable === null) {\n          continue;\n        }\n        childState = selectable;\n      }\n      switch (childState) {\n        case true:\n          atLeastOneSelected = true;\n          break;\n        case false:\n          atLeastOneDeSelected = true;\n          break;\n        default:\n          return void 0;\n      }\n    }\n    if (atLeastOneSelected && atLeastOneDeSelected) {\n      return void 0;\n    }\n    if (atLeastOneSelected) {\n      return true;\n    }\n    if (atLeastOneDeSelected) {\n      return false;\n    }\n    if (!this.selectable) {\n      return null;\n    }\n    return this.selected;\n  }\n  setSelectedInitialValue(selected) {\n    this.selected = selected;\n  }\n  dispatchRowEvent(type) {\n    this.localEventService?.dispatchEvent({\n      type,\n      node: this\n    });\n  }\n  selectThisNode(newValue, e, source = \"api\") {\n    const selectionNotAllowed = !this.selectable && newValue;\n    const selectionNotChanged = this.selected === newValue;\n    if (selectionNotAllowed || selectionNotChanged) {\n      return false;\n    }\n    this.selected = newValue;\n    this.dispatchRowEvent(\"rowSelected\");\n    const sibling = this.sibling;\n    if (sibling && sibling.footer && sibling.localEventService) {\n      sibling.dispatchRowEvent(\"rowSelected\");\n    }\n    this.beans.eventService.dispatchEvent({\n      ...this.createGlobalRowEvent(\"rowSelected\"),\n      event: e || null,\n      source\n    });\n    return true;\n  }\n  /**\n   * Select (or deselect) the node.\n   * @param newValue -`true` for selection, `false` for deselection.\n   * @param clearSelection - If selecting, then passing `true` will select the node exclusively (i.e. NOT do multi select). If doing deselection, `clearSelection` has no impact.\n   * @param source - Source property that will appear in the `selectionChanged` event.\n   */\n  setSelected(newValue, clearSelection = false, source = \"api\") {\n    if (typeof source === \"boolean\") {\n      _warnOnce(\n        \"since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.\"\n      );\n      return;\n    }\n    this.setSelectedParams({\n      newValue,\n      clearSelection,\n      rangeSelect: false,\n      source\n    });\n  }\n  // this is for internal use only. To make calling code more readable, this is the same method as setSelected except it takes names parameters\n  setSelectedParams(params) {\n    if (this.rowPinned) {\n      _warnOnce(\"cannot select pinned rows\");\n      return 0;\n    }\n    if (this.id === void 0) {\n      _warnOnce(\"cannot select node until id for node is known\");\n      return 0;\n    }\n    return this.beans.selectionService.setNodesSelected({ ...params, nodes: [this.footer ? this.sibling : this] });\n  }\n  /**\n   * Returns:\n   * - `true` if node is either pinned to the `top` or `bottom`\n   * - `false` if the node isn't pinned\n   */\n  isRowPinned() {\n    return !!this.rowPinned;\n  }\n  /** Add an event listener. */\n  addEventListener(eventType, userListener) {\n    if (!this.localEventService) {\n      this.localEventService = new LocalEventService();\n    }\n    if (this.beans.frameworkOverrides.shouldWrapOutgoing && !this.frameworkEventListenerService) {\n      this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides);\n      this.frameworkEventListenerService = new FrameworkEventListenerService(this.beans.frameworkOverrides);\n    }\n    const listener = this.frameworkEventListenerService?.wrap(eventType, userListener) ?? userListener;\n    this.localEventService.addEventListener(eventType, listener);\n  }\n  /** Remove event listener. */\n  removeEventListener(eventType, userListener) {\n    if (!this.localEventService) {\n      return;\n    }\n    const listener = this.frameworkEventListenerService?.unwrap(eventType, userListener) ?? userListener;\n    this.localEventService.removeEventListener(eventType, listener);\n    if (this.localEventService.noRegisteredListenersExist()) {\n      this.localEventService = null;\n    }\n  }\n  onMouseEnter() {\n    this.dispatchRowEvent(\"mouseEnter\");\n  }\n  onMouseLeave() {\n    this.dispatchRowEvent(\"mouseLeave\");\n  }\n  /**\n   * @deprecated v32.2.0 Check `node.detail` then user provided callback `isFullWidthRow` instead.\n   *\n   * Returns:\n   * - `true` if the node is a full width cell\n   * - `false` if the node is not a full width cell\n   */\n  isFullWidthCell() {\n    _warnOnce(\n      \"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.\"\n    );\n    if (this.detail) {\n      return true;\n    }\n    const isFullWidthCellFunc = this.beans.gos.getCallback(\"isFullWidthRow\");\n    return isFullWidthCellFunc ? isFullWidthCellFunc({ rowNode: this }) : false;\n  }\n  /**\n   * Returns the route of keys to the row node. Returns undefined if the node has no key.\n   */\n  getRoute() {\n    if (this.level === -1) {\n      return [];\n    }\n    if (this.key == null) {\n      return void 0;\n    }\n    const res = [];\n    let pointer = this;\n    while (pointer && pointer.key != null) {\n      res.push(pointer.key);\n      pointer = pointer.parent;\n    }\n    return res.reverse();\n  }\n  createFooter() {\n    if (this.sibling) {\n      return;\n    }\n    const footerNode = new _RowNode(this.beans);\n    Object.keys(this).forEach((key) => {\n      if (IGNORED_SIBLING_PROPERTIES.has(key)) {\n        return;\n      }\n      footerNode[key] = this[key];\n    });\n    footerNode.footer = true;\n    footerNode.setRowTop(null);\n    footerNode.setRowIndex(null);\n    footerNode.oldRowTop = null;\n    footerNode.id = \"rowGroupFooter_\" + this.id;\n    footerNode.sibling = this;\n    this.sibling = footerNode;\n  }\n  destroyFooter() {\n    if (!this.sibling) {\n      return;\n    }\n    this.sibling.setRowTop(null);\n    this.sibling.setRowIndex(null);\n    this.sibling = void 0;\n  }\n  setFirstChild(firstChild) {\n    if (this.firstChild !== firstChild) {\n      this.firstChild = firstChild;\n      this.dispatchRowEvent(\"firstChildChanged\");\n    }\n  }\n  setLastChild(lastChild) {\n    if (this.lastChild !== lastChild) {\n      this.lastChild = lastChild;\n      this.dispatchRowEvent(\"lastChildChanged\");\n    }\n  }\n  setChildIndex(childIndex) {\n    if (this.childIndex !== childIndex) {\n      this.childIndex = childIndex;\n      this.dispatchRowEvent(\"childIndexChanged\");\n    }\n  }\n  setDisplayed(displayed) {\n    if (this.displayed !== displayed) {\n      this.displayed = displayed;\n      this.dispatchRowEvent(\"displayedChanged\");\n    }\n  }\n  setDragging(dragging) {\n    if (this.dragging !== dragging) {\n      this.dragging = dragging;\n      this.dispatchRowEvent(\"draggingChanged\");\n    }\n  }\n  setHighlighted(highlighted) {\n    if (this.highlighted !== highlighted) {\n      this.highlighted = highlighted;\n      this.dispatchRowEvent(\"rowHighlightChanged\");\n    }\n  }\n  setAllChildrenCount(allChildrenCount) {\n    if (this.allChildrenCount !== allChildrenCount) {\n      this.allChildrenCount = allChildrenCount;\n      this.dispatchRowEvent(\"allChildrenCountChanged\");\n    }\n  }\n  setRowIndex(rowIndex) {\n    if (this.rowIndex !== rowIndex) {\n      this.rowIndex = rowIndex;\n      this.dispatchRowEvent(\"rowIndexChanged\");\n    }\n  }\n  setUiLevel(uiLevel) {\n    if (this.uiLevel !== uiLevel) {\n      this.uiLevel = uiLevel;\n      this.dispatchRowEvent(\"uiLevelChanged\");\n    }\n  }\n};\n_RowNode.ID_PREFIX_ROW_GROUP = \"row-group-\";\n_RowNode.ID_PREFIX_TOP_PINNED = \"t-\";\n_RowNode.ID_PREFIX_BOTTOM_PINNED = \"b-\";\n_RowNode.OBJECT_ID_SEQUENCE = 0;\nvar RowNode = _RowNode;\n\n// community-modules/core/src/filter/filterManager.ts\nvar FilterManager = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"filterManager\";\n    // when we're waiting for cell data types to be inferred, we need to defer filter model updates\n    this.advancedFilterModelUpdateQueue = [];\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.dataTypeService = beans.dataTypeService;\n    this.quickFilterService = beans.quickFilterService;\n    this.advancedFilterService = beans.advancedFilterService;\n    this.columnFilterService = beans.columnFilterService;\n  }\n  postConstruct() {\n    const refreshFiltersForAggregations = this.refreshFiltersForAggregations.bind(this);\n    const updateAdvancedFilterColumns = this.updateAdvancedFilterColumns.bind(this);\n    this.addManagedEventListeners({\n      columnValueChanged: refreshFiltersForAggregations,\n      columnPivotChanged: refreshFiltersForAggregations,\n      columnPivotModeChanged: refreshFiltersForAggregations,\n      newColumnsLoaded: updateAdvancedFilterColumns,\n      columnVisible: updateAdvancedFilterColumns,\n      advancedFilterEnabledChanged: ({ enabled }) => this.onAdvancedFilterEnabledChanged(enabled),\n      dataTypesInferred: this.processFilterModelUpdateQueue.bind(this)\n    });\n    this.externalFilterPresent = this.isExternalFilterPresentCallback();\n    this.addManagedPropertyListeners([\"isExternalFilterPresent\", \"doesExternalFilterPass\"], () => {\n      this.onFilterChanged({ source: \"api\" });\n    });\n    this.updateAggFiltering();\n    this.addManagedPropertyListener(\"groupAggFiltering\", () => {\n      this.updateAggFiltering();\n      this.onFilterChanged();\n    });\n    this.addManagedPropertyListener(\n      \"advancedFilterModel\",\n      (event) => this.setAdvancedFilterModel(event.currentValue)\n    );\n    if (this.quickFilterService) {\n      this.addManagedListeners(this.quickFilterService, {\n        quickFilterChanged: () => this.onFilterChanged({ source: \"quickFilter\" })\n      });\n    }\n  }\n  isExternalFilterPresentCallback() {\n    const isFilterPresent = this.gos.getCallback(\"isExternalFilterPresent\");\n    if (typeof isFilterPresent === \"function\") {\n      return isFilterPresent({});\n    }\n    return false;\n  }\n  doesExternalFilterPass(node) {\n    const doesFilterPass = this.gos.get(\"doesExternalFilterPass\");\n    if (typeof doesFilterPass === \"function\") {\n      return doesFilterPass(node);\n    }\n    return false;\n  }\n  setFilterModel(model, source = \"api\") {\n    if (this.isAdvancedFilterEnabled()) {\n      this.warnAdvancedFilters();\n      return;\n    }\n    this.columnFilterService?.setFilterModel(model, source);\n  }\n  getFilterModel() {\n    return this.columnFilterService?.getFilterModel() ?? {};\n  }\n  isColumnFilterPresent() {\n    return !!this.columnFilterService?.isColumnFilterPresent();\n  }\n  isAggregateFilterPresent() {\n    return !!this.columnFilterService?.isAggregateFilterPresent();\n  }\n  isExternalFilterPresent() {\n    return this.externalFilterPresent;\n  }\n  isChildFilterPresent() {\n    return this.isColumnFilterPresent() || this.isQuickFilterPresent() || this.isExternalFilterPresent() || this.isAdvancedFilterPresent();\n  }\n  isAdvancedFilterPresent() {\n    return this.isAdvancedFilterEnabled() && this.advancedFilterService.isFilterPresent();\n  }\n  onAdvancedFilterEnabledChanged(enabled) {\n    if (enabled) {\n      if (this.columnFilterService?.disableColumnFilters()) {\n        this.onFilterChanged({ source: \"advancedFilter\" });\n      }\n    } else {\n      if (this.advancedFilterService?.isFilterPresent()) {\n        this.advancedFilterService.setModel(null);\n        this.onFilterChanged({ source: \"advancedFilter\" });\n      }\n    }\n  }\n  isAdvancedFilterEnabled() {\n    return !!this.advancedFilterService?.isEnabled();\n  }\n  isAdvancedFilterHeaderActive() {\n    return this.isAdvancedFilterEnabled() && this.advancedFilterService.isHeaderActive();\n  }\n  isAnyFilterPresent() {\n    return this.isQuickFilterPresent() || this.isColumnFilterPresent() || this.isAggregateFilterPresent() || this.isExternalFilterPresent() || this.isAdvancedFilterPresent();\n  }\n  resetQuickFilterCache() {\n    this.quickFilterService?.resetQuickFilterCache();\n  }\n  refreshFiltersForAggregations() {\n    const isAggFiltering = _getGroupAggFiltering(this.gos);\n    if (isAggFiltering) {\n      this.onFilterChanged();\n    }\n  }\n  onFilterChanged(params = {}) {\n    const { source, additionalEventAttributes, columns = [] } = params;\n    this.externalFilterPresent = this.isExternalFilterPresentCallback();\n    (this.columnFilterService ? this.columnFilterService.updateBeforeFilterChanged(params) : AgPromise.resolve()).then(() => {\n      const filterChangedEvent = {\n        source,\n        type: \"filterChanged\",\n        columns\n      };\n      if (additionalEventAttributes) {\n        _mergeDeep(filterChangedEvent, additionalEventAttributes);\n      }\n      this.eventService.dispatchEvent(filterChangedEvent);\n      this.columnFilterService?.updateAfterFilterChanged();\n    });\n  }\n  isSuppressFlashingCellsBecauseFiltering() {\n    return !!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering();\n  }\n  isQuickFilterPresent() {\n    return !!this.quickFilterService?.isQuickFilterPresent();\n  }\n  updateAggFiltering() {\n    this.aggFiltering = !!_getGroupAggFiltering(this.gos);\n  }\n  isAggregateQuickFilterPresent() {\n    return this.isQuickFilterPresent() && this.shouldApplyQuickFilterAfterAgg();\n  }\n  isNonAggregateQuickFilterPresent() {\n    return this.isQuickFilterPresent() && !this.shouldApplyQuickFilterAfterAgg();\n  }\n  shouldApplyQuickFilterAfterAgg() {\n    return (this.aggFiltering || this.columnModel.isPivotMode()) && !this.gos.get(\"applyQuickFilterBeforePivotOrAgg\");\n  }\n  doesRowPassOtherFilters(filterToSkip, node) {\n    return this.doesRowPassFilter({ rowNode: node, filterInstanceToSkip: filterToSkip });\n  }\n  doesRowPassAggregateFilters(params) {\n    if (this.isAggregateQuickFilterPresent() && !this.quickFilterService.doesRowPassQuickFilter(params.rowNode)) {\n      return false;\n    }\n    if (this.isAggregateFilterPresent() && !this.columnFilterService.doAggregateFiltersPass(params.rowNode, params.filterInstanceToSkip)) {\n      return false;\n    }\n    return true;\n  }\n  doesRowPassFilter(params) {\n    if (this.isNonAggregateQuickFilterPresent() && !this.quickFilterService.doesRowPassQuickFilter(params.rowNode)) {\n      return false;\n    }\n    if (this.isExternalFilterPresent() && !this.doesExternalFilterPass(params.rowNode)) {\n      return false;\n    }\n    if (this.isColumnFilterPresent() && !this.columnFilterService.doColumnFiltersPass(params.rowNode, params.filterInstanceToSkip)) {\n      return false;\n    }\n    if (this.isAdvancedFilterPresent() && !this.advancedFilterService.doesFilterPass(params.rowNode)) {\n      return false;\n    }\n    return true;\n  }\n  isFilterActive(column) {\n    return !!this.columnFilterService?.isFilterActive(column);\n  }\n  getOrCreateFilterWrapper(column) {\n    return this.columnFilterService?.getOrCreateFilterWrapper(column) ?? null;\n  }\n  getDefaultFloatingFilter(column) {\n    return this.columnFilterService.getDefaultFloatingFilter(column);\n  }\n  createFilterParams(column, colDef) {\n    return this.columnFilterService.createFilterParams(column, colDef);\n  }\n  // for group filters, can change dynamically whether they are allowed or not\n  isFilterAllowed(column) {\n    if (this.isAdvancedFilterEnabled()) {\n      return false;\n    }\n    return !!this.columnFilterService?.isFilterAllowed(column);\n  }\n  getFloatingFilterCompDetails(column, showParentFilter) {\n    return this.columnFilterService?.getFloatingFilterCompDetails(column, showParentFilter);\n  }\n  getCurrentFloatingFilterParentModel(column) {\n    return this.columnFilterService?.getCurrentFloatingFilterParentModel(column);\n  }\n  // destroys the filter, so it no longer takes part\n  destroyFilter(column, source = \"api\") {\n    this.columnFilterService?.destroyFilter(column, source);\n  }\n  areFilterCompsDifferent(oldCompDetails, newCompDetails) {\n    return !!this.columnFilterService?.areFilterCompsDifferent(oldCompDetails, newCompDetails);\n  }\n  getAdvancedFilterModel() {\n    return this.isAdvancedFilterEnabled() ? this.advancedFilterService.getModel() : null;\n  }\n  setAdvancedFilterModel(expression) {\n    if (!this.isAdvancedFilterEnabled()) {\n      return;\n    }\n    if (this.dataTypeService?.isPendingInference()) {\n      this.advancedFilterModelUpdateQueue.push(expression);\n      return;\n    }\n    this.advancedFilterService.setModel(expression ?? null);\n    this.onFilterChanged({ source: \"advancedFilter\" });\n  }\n  toggleAdvancedFilterBuilder(show, source) {\n    if (!this.isAdvancedFilterEnabled()) {\n      return;\n    }\n    this.advancedFilterService.getCtrl().toggleFilterBuilder({ source, force: show });\n  }\n  updateAdvancedFilterColumns() {\n    if (!this.isAdvancedFilterEnabled()) {\n      return;\n    }\n    if (this.advancedFilterService.updateValidity()) {\n      this.onFilterChanged({ source: \"advancedFilter\" });\n    }\n  }\n  hasFloatingFilters() {\n    if (this.isAdvancedFilterEnabled()) {\n      return false;\n    }\n    return !!this.columnFilterService?.hasFloatingFilters();\n  }\n  getFilterInstance(key, callback) {\n    if (this.isAdvancedFilterEnabled()) {\n      this.warnAdvancedFilters();\n      return void 0;\n    }\n    return this.columnFilterService?.getFilterInstance(key, callback);\n  }\n  getColumnFilterInstance(key) {\n    if (this.isAdvancedFilterEnabled()) {\n      this.warnAdvancedFilters();\n      return Promise.resolve(void 0);\n    }\n    return this.columnFilterService?.getColumnFilterInstance(key) ?? Promise.resolve(void 0);\n  }\n  warnAdvancedFilters() {\n    _warnOnce(\"Column Filter API methods have been disabled as Advanced Filters are enabled.\");\n  }\n  setupAdvancedFilterHeaderComp(eCompToInsertBefore) {\n    this.advancedFilterService?.getCtrl().setupHeaderComp(eCompToInsertBefore);\n  }\n  getHeaderRowCount() {\n    return this.isAdvancedFilterHeaderActive() ? 1 : 0;\n  }\n  getHeaderHeight() {\n    return this.isAdvancedFilterHeaderActive() ? this.advancedFilterService.getCtrl().getHeaderHeight() : 0;\n  }\n  processFilterModelUpdateQueue() {\n    this.advancedFilterModelUpdateQueue.forEach((model) => this.setAdvancedFilterModel(model));\n    this.advancedFilterModelUpdateQueue = [];\n  }\n  getColumnFilterModel(key) {\n    return this.columnFilterService?.getColumnFilterModel(key);\n  }\n  setColumnFilterModel(key, model) {\n    if (this.isAdvancedFilterEnabled()) {\n      this.warnAdvancedFilters();\n      return Promise.resolve();\n    }\n    return this.columnFilterService?.setColumnFilterModel(key, model) ?? Promise.resolve();\n  }\n  setColDefPropertiesForDataType(colDef, dataTypeDefinition, formatValue) {\n    this.columnFilterService?.setColDefPropertiesForDataType(colDef, dataTypeDefinition, formatValue);\n  }\n};\n\n// community-modules/core/src/filter/filterWrapperComp.ts\nvar FilterWrapperComp = class extends Component {\n  constructor(column, source) {\n    super(\n      /* html */\n      `<div class=\"ag-filter\"></div>`\n    );\n    this.column = column;\n    this.source = source;\n    this.filterWrapper = null;\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n    this.columnModel = beans.columnModel;\n  }\n  postConstruct() {\n    this.createFilter(true);\n    this.addManagedEventListeners({ filterDestroyed: this.onFilterDestroyed.bind(this) });\n  }\n  hasFilter() {\n    return !!this.filterWrapper;\n  }\n  getFilter() {\n    return this.filterWrapper?.filterPromise ?? null;\n  }\n  afterInit() {\n    return this.filterWrapper?.filterPromise?.then(() => {\n    }) ?? AgPromise.resolve();\n  }\n  afterGuiAttached(params) {\n    this.filterWrapper?.filterPromise?.then((filter) => {\n      filter?.afterGuiAttached?.(params);\n    });\n  }\n  afterGuiDetached() {\n    this.filterWrapper?.filterPromise?.then((filter) => {\n      filter?.afterGuiDetached?.();\n    });\n  }\n  createFilter(init) {\n    const { column, source } = this;\n    this.filterWrapper = this.filterManager?.getOrCreateFilterWrapper(column) ?? null;\n    if (!this.filterWrapper?.filterPromise) {\n      return;\n    }\n    this.filterWrapper.filterPromise.then((filter) => {\n      const guiFromFilter = filter.getGui();\n      if (!_exists(guiFromFilter)) {\n        _warnOnce(`getGui method from filter returned ${guiFromFilter}; it should be a DOM element.`);\n      }\n      this.appendChild(guiFromFilter);\n      if (init) {\n        this.eventService.dispatchEvent({\n          type: \"filterOpened\",\n          column,\n          source,\n          eGui: this.getGui()\n        });\n      }\n    });\n  }\n  onFilterDestroyed(event) {\n    if ((event.source === \"api\" || event.source === \"paramsUpdated\") && event.column.getId() === this.column.getId() && this.columnModel.getColDefCol(this.column)) {\n      _clearElement(this.getGui());\n      this.createFilter();\n    }\n  }\n  destroy() {\n    this.filterWrapper = null;\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/features/positionableFeature.ts\nvar RESIZE_CONTAINER_STYLE = \"ag-resizer-wrapper\";\nvar makeDiv = (dataRefPrefix, classSuffix) => `<div data-ref=\"${dataRefPrefix}Resizer\" class=\"ag-resizer ag-resizer-${classSuffix}\"></div>`;\nvar RESIZE_TEMPLATE = (\n  /* html */\n  `<div class=\"${RESIZE_CONTAINER_STYLE}\">\n        ${makeDiv(\"eTopLeft\", \"topLeft\")}\n        ${makeDiv(\"eTop\", \"top\")}\n        ${makeDiv(\"eTopRight\", \"topRight\")}\n        ${makeDiv(\"eRight\", \"right\")}\n        ${makeDiv(\"eBottomRight\", \"bottomRight\")}\n        ${makeDiv(\"eBottom\", \"bottom\")}\n        ${makeDiv(\"eBottomLeft\", \"bottomLeft\")}\n        ${makeDiv(\"eLeft\", \"left\")}\n    </div>`\n);\nvar PositionableFeature = class extends BeanStub {\n  constructor(element, config) {\n    super();\n    this.element = element;\n    this.dragStartPosition = {\n      x: 0,\n      y: 0\n    };\n    this.position = {\n      x: 0,\n      y: 0\n    };\n    this.lastSize = {\n      width: -1,\n      height: -1\n    };\n    this.positioned = false;\n    this.resizersAdded = false;\n    this.resizeListeners = [];\n    this.boundaryEl = null;\n    this.isResizing = false;\n    this.isMoving = false;\n    this.resizable = {};\n    this.movable = false;\n    this.currentResizer = null;\n    this.config = Object.assign({}, { popup: false }, config);\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.resizeObserverService = beans.resizeObserverService;\n    this.dragService = beans.dragService;\n  }\n  center() {\n    const { clientHeight, clientWidth } = this.offsetParent;\n    const x = clientWidth / 2 - this.getWidth() / 2;\n    const y = clientHeight / 2 - this.getHeight() / 2;\n    this.offsetElement(x, y);\n  }\n  initialisePosition() {\n    if (this.positioned) {\n      return;\n    }\n    const { centered, forcePopupParentAsOffsetParent, minWidth, width, minHeight, height, x, y } = this.config;\n    if (!this.offsetParent) {\n      this.setOffsetParent();\n    }\n    let computedMinHeight = 0;\n    let computedMinWidth = 0;\n    const isElementVisible = _isVisible(this.element);\n    if (isElementVisible) {\n      const boundaryEl = this.findBoundaryElement();\n      const offsetParentComputedStyles = window.getComputedStyle(boundaryEl);\n      if (offsetParentComputedStyles.minWidth != null) {\n        const paddingWidth = boundaryEl.offsetWidth - this.element.offsetWidth;\n        computedMinWidth = parseInt(offsetParentComputedStyles.minWidth, 10) - paddingWidth;\n      }\n      if (offsetParentComputedStyles.minHeight != null) {\n        const paddingHeight = boundaryEl.offsetHeight - this.element.offsetHeight;\n        computedMinHeight = parseInt(offsetParentComputedStyles.minHeight, 10) - paddingHeight;\n      }\n    }\n    this.minHeight = minHeight || computedMinHeight;\n    this.minWidth = minWidth || computedMinWidth;\n    if (width) {\n      this.setWidth(width);\n    }\n    if (height) {\n      this.setHeight(height);\n    }\n    if (!width || !height) {\n      this.refreshSize();\n    }\n    if (centered) {\n      this.center();\n    } else if (x || y) {\n      this.offsetElement(x, y);\n    } else if (isElementVisible && forcePopupParentAsOffsetParent) {\n      let boundaryEl = this.boundaryEl;\n      let initialisedDuringPositioning = true;\n      if (!boundaryEl) {\n        boundaryEl = this.findBoundaryElement();\n        initialisedDuringPositioning = false;\n      }\n      if (boundaryEl) {\n        const top = parseFloat(boundaryEl.style.top);\n        const left = parseFloat(boundaryEl.style.left);\n        if (initialisedDuringPositioning) {\n          this.offsetElement(isNaN(left) ? 0 : left, isNaN(top) ? 0 : top);\n        } else {\n          this.setPosition(left, top);\n        }\n      }\n    }\n    this.positioned = !!this.offsetParent;\n  }\n  isPositioned() {\n    return this.positioned;\n  }\n  getPosition() {\n    return this.position;\n  }\n  setMovable(movable, moveElement) {\n    if (!this.config.popup || movable === this.movable) {\n      return;\n    }\n    this.movable = movable;\n    const params = this.moveElementDragListener || {\n      eElement: moveElement,\n      onDragStart: this.onMoveStart.bind(this),\n      onDragging: this.onMove.bind(this),\n      onDragStop: this.onMoveEnd.bind(this)\n    };\n    if (movable) {\n      this.dragService.addDragSource(params);\n      this.moveElementDragListener = params;\n    } else {\n      this.dragService.removeDragSource(params);\n      this.moveElementDragListener = void 0;\n    }\n  }\n  setResizable(resizable) {\n    this.clearResizeListeners();\n    if (resizable) {\n      this.addResizers();\n    } else {\n      this.removeResizers();\n    }\n    if (typeof resizable === \"boolean\") {\n      if (resizable === false) {\n        return;\n      }\n      resizable = {\n        topLeft: resizable,\n        top: resizable,\n        topRight: resizable,\n        right: resizable,\n        bottomRight: resizable,\n        bottom: resizable,\n        bottomLeft: resizable,\n        left: resizable\n      };\n    }\n    Object.keys(resizable).forEach((side) => {\n      const resizableStructure = resizable;\n      const isSideResizable = !!resizableStructure[side];\n      const resizerEl = this.getResizerElement(side);\n      const params = {\n        dragStartPixels: 0,\n        eElement: resizerEl,\n        onDragStart: (e) => this.onResizeStart(e, side),\n        onDragging: this.onResize.bind(this),\n        onDragStop: (e) => this.onResizeEnd(e, side)\n      };\n      if (isSideResizable || !this.isAlive() && !isSideResizable) {\n        if (isSideResizable) {\n          this.dragService.addDragSource(params);\n          this.resizeListeners.push(params);\n          resizerEl.style.pointerEvents = \"all\";\n        } else {\n          resizerEl.style.pointerEvents = \"none\";\n        }\n        this.resizable[side] = isSideResizable;\n      }\n    });\n  }\n  removeSizeFromEl() {\n    this.element.style.removeProperty(\"height\");\n    this.element.style.removeProperty(\"width\");\n    this.element.style.removeProperty(\"flex\");\n  }\n  restoreLastSize() {\n    this.element.style.flex = \"0 0 auto\";\n    const { height, width } = this.lastSize;\n    if (width !== -1) {\n      this.element.style.width = `${width}px`;\n    }\n    if (height !== -1) {\n      this.element.style.height = `${height}px`;\n    }\n  }\n  getHeight() {\n    return this.element.offsetHeight;\n  }\n  setHeight(height) {\n    const { popup } = this.config;\n    const eGui = this.element;\n    let isPercent = false;\n    if (typeof height === \"string\" && height.indexOf(\"%\") !== -1) {\n      _setFixedHeight(eGui, height);\n      height = _getAbsoluteHeight(eGui);\n      isPercent = true;\n    } else {\n      height = Math.max(this.minHeight, height);\n      if (this.positioned) {\n        const availableHeight = this.getAvailableHeight();\n        if (availableHeight && height > availableHeight) {\n          height = availableHeight;\n        }\n      }\n    }\n    if (this.getHeight() === height) {\n      return;\n    }\n    if (!isPercent) {\n      if (popup) {\n        _setFixedHeight(eGui, height);\n      } else {\n        eGui.style.height = `${height}px`;\n        eGui.style.flex = \"0 0 auto\";\n        this.lastSize.height = typeof height === \"number\" ? height : parseFloat(height);\n      }\n    } else {\n      eGui.style.maxHeight = \"unset\";\n      eGui.style.minHeight = \"unset\";\n    }\n  }\n  getAvailableHeight() {\n    const { popup, forcePopupParentAsOffsetParent } = this.config;\n    if (!this.positioned) {\n      this.initialisePosition();\n    }\n    const { clientHeight } = this.offsetParent;\n    if (!clientHeight) {\n      return null;\n    }\n    const elRect = this.element.getBoundingClientRect();\n    const offsetParentRect = this.offsetParent.getBoundingClientRect();\n    const yPosition = popup ? this.position.y : elRect.top;\n    const parentTop = popup ? 0 : offsetParentRect.top;\n    let additionalHeight = 0;\n    if (forcePopupParentAsOffsetParent) {\n      const parentEl = this.element.parentElement;\n      if (parentEl) {\n        const { bottom } = parentEl.getBoundingClientRect();\n        additionalHeight = bottom - elRect.bottom;\n      }\n    }\n    const availableHeight = clientHeight + parentTop - yPosition - additionalHeight;\n    return availableHeight;\n  }\n  getWidth() {\n    return this.element.offsetWidth;\n  }\n  setWidth(width) {\n    const eGui = this.element;\n    const { popup } = this.config;\n    let isPercent = false;\n    if (typeof width === \"string\" && width.indexOf(\"%\") !== -1) {\n      _setFixedWidth(eGui, width);\n      width = _getAbsoluteWidth(eGui);\n      isPercent = true;\n    } else if (this.positioned) {\n      width = Math.max(this.minWidth, width);\n      const { clientWidth } = this.offsetParent;\n      const xPosition = popup ? this.position.x : this.element.getBoundingClientRect().left;\n      if (clientWidth && width + xPosition > clientWidth) {\n        width = clientWidth - xPosition;\n      }\n    }\n    if (this.getWidth() === width) {\n      return;\n    }\n    if (!isPercent) {\n      if (this.config.popup) {\n        _setFixedWidth(eGui, width);\n      } else {\n        eGui.style.width = `${width}px`;\n        eGui.style.flex = \" unset\";\n        this.lastSize.width = typeof width === \"number\" ? width : parseFloat(width);\n      }\n    } else {\n      eGui.style.maxWidth = \"unset\";\n      eGui.style.minWidth = \"unset\";\n    }\n  }\n  offsetElement(x = 0, y = 0) {\n    const { forcePopupParentAsOffsetParent } = this.config;\n    const ePopup = forcePopupParentAsOffsetParent ? this.boundaryEl : this.element;\n    if (!ePopup) {\n      return;\n    }\n    this.popupService.positionPopup({\n      ePopup,\n      keepWithinBounds: true,\n      skipObserver: this.movable || this.isResizable(),\n      updatePosition: () => ({ x, y })\n    });\n    this.setPosition(parseFloat(ePopup.style.left), parseFloat(ePopup.style.top));\n  }\n  constrainSizeToAvailableHeight(constrain) {\n    if (!this.config.forcePopupParentAsOffsetParent) {\n      return;\n    }\n    const applyMaxHeightToElement = () => {\n      const availableHeight = this.getAvailableHeight();\n      this.element.style.setProperty(\"max-height\", `${availableHeight}px`);\n    };\n    if (constrain) {\n      this.resizeObserverSubscriber = this.resizeObserverService.observeResize(\n        this.popupService.getPopupParent(),\n        applyMaxHeightToElement\n      );\n    } else {\n      this.element.style.removeProperty(\"max-height\");\n      if (this.resizeObserverSubscriber) {\n        this.resizeObserverSubscriber();\n        this.resizeObserverSubscriber = void 0;\n      }\n    }\n  }\n  setPosition(x, y) {\n    this.position.x = x;\n    this.position.y = y;\n  }\n  updateDragStartPosition(x, y) {\n    this.dragStartPosition = { x, y };\n  }\n  calculateMouseMovement(params) {\n    const { e, isLeft, isTop, anywhereWithin, topBuffer } = params;\n    const xDiff = e.clientX - this.dragStartPosition.x;\n    const yDiff = e.clientY - this.dragStartPosition.y;\n    const movementX = this.shouldSkipX(e, !!isLeft, !!anywhereWithin, xDiff) ? 0 : xDiff;\n    const movementY = this.shouldSkipY(e, !!isTop, topBuffer, yDiff) ? 0 : yDiff;\n    return { movementX, movementY };\n  }\n  shouldSkipX(e, isLeft, anywhereWithin, diff) {\n    const elRect = this.element.getBoundingClientRect();\n    const parentRect = this.offsetParent.getBoundingClientRect();\n    const boundaryElRect = this.boundaryEl.getBoundingClientRect();\n    const xPosition = this.config.popup ? this.position.x : elRect.left;\n    let skipX = xPosition <= 0 && parentRect.left >= e.clientX || parentRect.right <= e.clientX && parentRect.right <= boundaryElRect.right;\n    if (skipX) {\n      return true;\n    }\n    if (isLeft) {\n      skipX = // skip if we are moving to the left and the cursor\n      // is positioned to the right of the left side anchor\n      diff < 0 && e.clientX > xPosition + parentRect.left || // skip if we are moving to the right and the cursor\n      // is positioned to the left of the dialog\n      diff > 0 && e.clientX < xPosition + parentRect.left;\n    } else {\n      if (anywhereWithin) {\n        skipX = diff < 0 && e.clientX > boundaryElRect.right || diff > 0 && e.clientX < xPosition + parentRect.left;\n      } else {\n        skipX = // if the movement is bound to the right side of the dialog\n        // we skip if we are moving to the left and the cursor\n        // is to the right of the dialog\n        diff < 0 && e.clientX > boundaryElRect.right || // or skip if we are moving to the right and the cursor\n        // is to the left of the right side anchor\n        diff > 0 && e.clientX < boundaryElRect.right;\n      }\n    }\n    return skipX;\n  }\n  shouldSkipY(e, isTop, topBuffer = 0, diff) {\n    const elRect = this.element.getBoundingClientRect();\n    const parentRect = this.offsetParent.getBoundingClientRect();\n    const boundaryElRect = this.boundaryEl.getBoundingClientRect();\n    const yPosition = this.config.popup ? this.position.y : elRect.top;\n    let skipY = yPosition <= 0 && parentRect.top >= e.clientY || parentRect.bottom <= e.clientY && parentRect.bottom <= boundaryElRect.bottom;\n    if (skipY) {\n      return true;\n    }\n    if (isTop) {\n      skipY = // skip if we are moving to towards top and the cursor is\n      // below the top anchor + topBuffer\n      // note: topBuffer is used when moving the dialog using the title bar\n      diff < 0 && e.clientY > yPosition + parentRect.top + topBuffer || // skip if we are moving to the bottom and the cursor is\n      // above the top anchor\n      diff > 0 && e.clientY < yPosition + parentRect.top;\n    } else {\n      skipY = // skip if we are moving towards the top and the cursor\n      // is below the bottom anchor\n      diff < 0 && e.clientY > boundaryElRect.bottom || // skip if we are moving towards the bottom and the cursor\n      // is above the bottom anchor\n      diff > 0 && e.clientY < boundaryElRect.bottom;\n    }\n    return skipY;\n  }\n  createResizeMap() {\n    const eGui = this.element;\n    this.resizerMap = {\n      topLeft: { element: eGui.querySelector(\"[data-ref=eTopLeftResizer]\") },\n      top: { element: eGui.querySelector(\"[data-ref=eTopResizer]\") },\n      topRight: { element: eGui.querySelector(\"[data-ref=eTopRightResizer]\") },\n      right: { element: eGui.querySelector(\"[data-ref=eRightResizer]\") },\n      bottomRight: { element: eGui.querySelector(\"[data-ref=eBottomRightResizer]\") },\n      bottom: { element: eGui.querySelector(\"[data-ref=eBottomResizer]\") },\n      bottomLeft: { element: eGui.querySelector(\"[data-ref=eBottomLeftResizer]\") },\n      left: { element: eGui.querySelector(\"[data-ref=eLeftResizer]\") }\n    };\n  }\n  addResizers() {\n    if (this.resizersAdded) {\n      return;\n    }\n    const eGui = this.element;\n    if (!eGui) {\n      return;\n    }\n    const parser = new DOMParser();\n    const resizers = parser.parseFromString(RESIZE_TEMPLATE, \"text/html\").body;\n    eGui.appendChild(resizers.firstChild);\n    this.createResizeMap();\n    this.resizersAdded = true;\n  }\n  removeResizers() {\n    this.resizerMap = void 0;\n    const resizerEl = this.element.querySelector(`.${RESIZE_CONTAINER_STYLE}`);\n    if (resizerEl) {\n      this.element.removeChild(resizerEl);\n    }\n    this.resizersAdded = false;\n  }\n  getResizerElement(side) {\n    return this.resizerMap[side].element;\n  }\n  onResizeStart(e, side) {\n    this.boundaryEl = this.findBoundaryElement();\n    if (!this.positioned) {\n      this.initialisePosition();\n    }\n    this.currentResizer = {\n      isTop: !!side.match(/top/i),\n      isRight: !!side.match(/right/i),\n      isBottom: !!side.match(/bottom/i),\n      isLeft: !!side.match(/left/i)\n    };\n    this.element.classList.add(\"ag-resizing\");\n    this.resizerMap[side].element.classList.add(\"ag-active\");\n    const { popup, forcePopupParentAsOffsetParent } = this.config;\n    if (!popup && !forcePopupParentAsOffsetParent) {\n      this.applySizeToSiblings(this.currentResizer.isBottom || this.currentResizer.isTop);\n    }\n    this.isResizing = true;\n    this.updateDragStartPosition(e.clientX, e.clientY);\n  }\n  getSiblings() {\n    const element = this.element;\n    const parent = element.parentElement;\n    if (!parent) {\n      return null;\n    }\n    return Array.prototype.slice.call(parent.children).filter((el) => !el.classList.contains(\"ag-hidden\"));\n  }\n  getMinSizeOfSiblings() {\n    const siblings = this.getSiblings() || [];\n    let height = 0;\n    let width = 0;\n    for (let i = 0; i < siblings.length; i++) {\n      const currentEl = siblings[i];\n      const isFlex = !!currentEl.style.flex && currentEl.style.flex !== \"0 0 auto\";\n      if (currentEl === this.element) {\n        continue;\n      }\n      let nextHeight = this.minHeight || 0;\n      let nextWidth = this.minWidth || 0;\n      if (isFlex) {\n        const computedStyle = window.getComputedStyle(currentEl);\n        if (computedStyle.minHeight) {\n          nextHeight = parseInt(computedStyle.minHeight, 10);\n        }\n        if (computedStyle.minWidth) {\n          nextWidth = parseInt(computedStyle.minWidth, 10);\n        }\n      } else {\n        nextHeight = currentEl.offsetHeight;\n        nextWidth = currentEl.offsetWidth;\n      }\n      height += nextHeight;\n      width += nextWidth;\n    }\n    return { height, width };\n  }\n  applySizeToSiblings(vertical) {\n    let containerToFlex = null;\n    const siblings = this.getSiblings();\n    if (!siblings) {\n      return;\n    }\n    for (let i = 0; i < siblings.length; i++) {\n      const el = siblings[i];\n      if (el === containerToFlex) {\n        continue;\n      }\n      if (vertical) {\n        el.style.height = `${el.offsetHeight}px`;\n      } else {\n        el.style.width = `${el.offsetWidth}px`;\n      }\n      el.style.flex = \"0 0 auto\";\n      if (el === this.element) {\n        containerToFlex = siblings[i + 1];\n      }\n    }\n    if (containerToFlex) {\n      containerToFlex.style.removeProperty(\"height\");\n      containerToFlex.style.removeProperty(\"min-height\");\n      containerToFlex.style.removeProperty(\"max-height\");\n      containerToFlex.style.flex = \"1 1 auto\";\n    }\n  }\n  isResizable() {\n    return Object.values(this.resizable).some((value) => value);\n  }\n  onResize(e) {\n    if (!this.isResizing || !this.currentResizer) {\n      return;\n    }\n    const { popup, forcePopupParentAsOffsetParent } = this.config;\n    const { isTop, isRight, isBottom, isLeft } = this.currentResizer;\n    const isHorizontal = isRight || isLeft;\n    const isVertical = isBottom || isTop;\n    const { movementX, movementY } = this.calculateMouseMovement({ e, isLeft, isTop });\n    const xPosition = this.position.x;\n    const yPosition = this.position.y;\n    let offsetLeft = 0;\n    let offsetTop = 0;\n    if (isHorizontal && movementX) {\n      const direction = isLeft ? -1 : 1;\n      const oldWidth = this.getWidth();\n      const newWidth = oldWidth + movementX * direction;\n      let skipWidth = false;\n      if (isLeft) {\n        offsetLeft = oldWidth - newWidth;\n        if (xPosition + offsetLeft <= 0 || newWidth <= this.minWidth) {\n          skipWidth = true;\n          offsetLeft = 0;\n        }\n      }\n      if (!skipWidth) {\n        this.setWidth(newWidth);\n      }\n    }\n    if (isVertical && movementY) {\n      const direction = isTop ? -1 : 1;\n      const oldHeight = this.getHeight();\n      const newHeight = oldHeight + movementY * direction;\n      let skipHeight = false;\n      if (isTop) {\n        offsetTop = oldHeight - newHeight;\n        if (yPosition + offsetTop <= 0 || newHeight <= this.minHeight) {\n          skipHeight = true;\n          offsetTop = 0;\n        }\n      } else {\n        if (!this.config.popup && !this.config.forcePopupParentAsOffsetParent && oldHeight < newHeight && this.getMinSizeOfSiblings().height + newHeight > this.element.parentElement.offsetHeight) {\n          skipHeight = true;\n        }\n      }\n      if (!skipHeight) {\n        this.setHeight(newHeight);\n      }\n    }\n    this.updateDragStartPosition(e.clientX, e.clientY);\n    if ((popup || forcePopupParentAsOffsetParent) && offsetLeft || offsetTop) {\n      this.offsetElement(xPosition + offsetLeft, yPosition + offsetTop);\n    }\n  }\n  onResizeEnd(e, side) {\n    this.isResizing = false;\n    this.currentResizer = null;\n    this.boundaryEl = null;\n    this.element.classList.remove(\"ag-resizing\");\n    this.resizerMap[side].element.classList.remove(\"ag-active\");\n    this.dispatchLocalEvent({ type: \"resize\" });\n  }\n  refreshSize() {\n    const eGui = this.element;\n    if (this.config.popup) {\n      if (!this.config.width) {\n        this.setWidth(eGui.offsetWidth);\n      }\n      if (!this.config.height) {\n        this.setHeight(eGui.offsetHeight);\n      }\n    }\n  }\n  onMoveStart(e) {\n    this.boundaryEl = this.findBoundaryElement();\n    if (!this.positioned) {\n      this.initialisePosition();\n    }\n    this.isMoving = true;\n    this.element.classList.add(\"ag-moving\");\n    this.updateDragStartPosition(e.clientX, e.clientY);\n  }\n  onMove(e) {\n    if (!this.isMoving) {\n      return;\n    }\n    const { x, y } = this.position;\n    let topBuffer;\n    if (this.config.calculateTopBuffer) {\n      topBuffer = this.config.calculateTopBuffer();\n    }\n    const { movementX, movementY } = this.calculateMouseMovement({\n      e,\n      isTop: true,\n      anywhereWithin: true,\n      topBuffer\n    });\n    this.offsetElement(x + movementX, y + movementY);\n    this.updateDragStartPosition(e.clientX, e.clientY);\n  }\n  onMoveEnd() {\n    this.isMoving = false;\n    this.boundaryEl = null;\n    this.element.classList.remove(\"ag-moving\");\n  }\n  setOffsetParent() {\n    if (this.config.forcePopupParentAsOffsetParent) {\n      this.offsetParent = this.popupService.getPopupParent();\n    } else {\n      this.offsetParent = this.element.offsetParent;\n    }\n  }\n  findBoundaryElement() {\n    let el = this.element;\n    while (el) {\n      if (window.getComputedStyle(el).position !== \"static\") {\n        return el;\n      }\n      el = el.parentElement;\n    }\n    return this.element;\n  }\n  clearResizeListeners() {\n    while (this.resizeListeners.length) {\n      const params = this.resizeListeners.pop();\n      this.dragService.removeDragSource(params);\n    }\n  }\n  destroy() {\n    super.destroy();\n    if (this.moveElementDragListener) {\n      this.dragService.removeDragSource(this.moveElementDragListener);\n    }\n    this.constrainSizeToAvailableHeight(false);\n    this.clearResizeListeners();\n    this.removeResizers();\n  }\n};\n\n// community-modules/core/src/widgets/managedFocusFeature.ts\nvar _ManagedFocusFeature = class _ManagedFocusFeature extends BeanStub {\n  constructor(eFocusableElement, callbacks = {}) {\n    super();\n    this.eFocusableElement = eFocusableElement;\n    this.callbacks = callbacks;\n    this.callbacks = {\n      shouldStopEventPropagation: () => false,\n      onTabKeyDown: (e) => {\n        if (e.defaultPrevented) {\n          return;\n        }\n        const nextRoot = this.focusService.findNextFocusableElement(this.eFocusableElement, false, e.shiftKey);\n        if (!nextRoot) {\n          return;\n        }\n        nextRoot.focus();\n        e.preventDefault();\n      },\n      ...callbacks\n    };\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n  }\n  postConstruct() {\n    this.eFocusableElement.classList.add(_ManagedFocusFeature.FOCUS_MANAGED_CLASS);\n    this.addKeyDownListeners(this.eFocusableElement);\n    if (this.callbacks.onFocusIn) {\n      this.addManagedElementListeners(this.eFocusableElement, { focusin: this.callbacks.onFocusIn });\n    }\n    if (this.callbacks.onFocusOut) {\n      this.addManagedElementListeners(this.eFocusableElement, { focusout: this.callbacks.onFocusOut });\n    }\n  }\n  addKeyDownListeners(eGui) {\n    this.addManagedElementListeners(eGui, {\n      keydown: (e) => {\n        if (e.defaultPrevented || _isStopPropagationForAgGrid(e)) {\n          return;\n        }\n        if (this.callbacks.shouldStopEventPropagation(e)) {\n          _stopPropagationForAgGrid(e);\n          return;\n        }\n        if (e.key === KeyCode.TAB) {\n          this.callbacks.onTabKeyDown(e);\n        } else if (this.callbacks.handleKeyDown) {\n          this.callbacks.handleKeyDown(e);\n        }\n      }\n    });\n  }\n};\n_ManagedFocusFeature.FOCUS_MANAGED_CLASS = \"ag-focus-managed\";\nvar ManagedFocusFeature = _ManagedFocusFeature;\n\n// community-modules/core/src/filter/filterLocaleText.ts\nvar FILTER_LOCALE_TEXT = {\n  applyFilter: \"Apply\",\n  clearFilter: \"Clear\",\n  resetFilter: \"Reset\",\n  cancelFilter: \"Cancel\",\n  textFilter: \"Text Filter\",\n  numberFilter: \"Number Filter\",\n  dateFilter: \"Date Filter\",\n  setFilter: \"Set Filter\",\n  filterOoo: \"Filter...\",\n  empty: \"Choose one\",\n  equals: \"Equals\",\n  notEqual: \"Does not equal\",\n  lessThan: \"Less than\",\n  greaterThan: \"Greater than\",\n  inRange: \"Between\",\n  inRangeStart: \"From\",\n  inRangeEnd: \"To\",\n  lessThanOrEqual: \"Less than or equal to\",\n  greaterThanOrEqual: \"Greater than or equal to\",\n  contains: \"Contains\",\n  notContains: \"Does not contain\",\n  startsWith: \"Begins with\",\n  endsWith: \"Ends with\",\n  blank: \"Blank\",\n  notBlank: \"Not blank\",\n  before: \"Before\",\n  after: \"After\",\n  andCondition: \"AND\",\n  orCondition: \"OR\",\n  dateFormatOoo: \"yyyy-mm-dd\"\n};\n\n// community-modules/core/src/filter/floating/provided/providedFilterUtils.ts\nfunction getDebounceMs(params, debounceDefault) {\n  if (isUseApplyButton(params)) {\n    if (params.debounceMs != null) {\n      _warnOnce(\"debounceMs is ignored when apply button is present\");\n    }\n    return 0;\n  }\n  return params.debounceMs != null ? params.debounceMs : debounceDefault;\n}\nfunction isUseApplyButton(params) {\n  return !!params.buttons && params.buttons.indexOf(\"apply\") >= 0;\n}\n\n// community-modules/core/src/filter/provided/providedFilter.ts\nvar ProvidedFilter = class extends Component {\n  constructor(filterNameKey) {\n    super();\n    this.filterNameKey = filterNameKey;\n    this.applyActive = false;\n    this.hidePopup = null;\n    this.debouncePending = false;\n    // after the user hits 'apply' the model gets copied to here. this is then the model that we use for\n    // all filtering. so if user changes UI but doesn't hit apply, then the UI will be out of sync with this model.\n    // this is what we want, as the UI should only become the 'active' filter once it's applied. when apply is\n    // inactive, this model will be in sync (following the debounce ms). if the UI is not a valid filter\n    // (eg the value is missing so nothing to filter on, or for set filter all checkboxes are checked so filter\n    // not active) then this appliedModel will be null/undefined.\n    this.appliedModel = null;\n    this.eFilterBody = RefPlaceholder;\n    this.buttonListeners = [];\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n  }\n  postConstruct() {\n    this.resetTemplate();\n    this.createManagedBean(\n      new ManagedFocusFeature(this.getFocusableElement(), {\n        handleKeyDown: this.handleKeyDown.bind(this)\n      })\n    );\n    this.positionableFeature = new PositionableFeature(this.getPositionableElement(), {\n      forcePopupParentAsOffsetParent: true\n    });\n    this.createBean(this.positionableFeature);\n  }\n  // override\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  handleKeyDown(e) {\n  }\n  getFilterTitle() {\n    return this.translate(this.filterNameKey);\n  }\n  isFilterActive() {\n    return !!this.appliedModel;\n  }\n  resetTemplate(paramsMap) {\n    let eGui = this.getGui();\n    if (eGui) {\n      eGui.removeEventListener(\"submit\", this.onFormSubmit);\n    }\n    const templateString = (\n      /* html */\n      `\n            <form class=\"ag-filter-wrapper\">\n                <div class=\"ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper\" data-ref=\"eFilterBody\">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`\n    );\n    this.setTemplate(templateString, this.getAgComponents(), paramsMap);\n    eGui = this.getGui();\n    if (eGui) {\n      eGui.addEventListener(\"submit\", this.onFormSubmit);\n    }\n  }\n  isReadOnly() {\n    return !!this.providedFilterParams.readOnly;\n  }\n  init(params) {\n    this.setParams(params);\n    this.resetUiToDefaults(true).then(() => {\n      this.updateUiVisibility();\n      this.setupOnBtApplyDebounce();\n    });\n  }\n  setParams(params) {\n    this.providedFilterParams = params;\n    this.applyActive = isUseApplyButton(params);\n    this.resetButtonsPanel(params);\n  }\n  updateParams(params) {\n    this.providedFilterParams = params;\n    this.applyActive = isUseApplyButton(params);\n    this.resetUiToActiveModel(this.getModel(), () => {\n      this.updateUiVisibility();\n      this.setupOnBtApplyDebounce();\n    });\n  }\n  resetButtonsPanel(newParams, oldParams) {\n    const { buttons: oldButtons, readOnly: oldReadOnly } = oldParams ?? {};\n    const { buttons, readOnly } = newParams;\n    if (oldReadOnly === readOnly && _jsonEquals(oldButtons, buttons)) {\n      return;\n    }\n    const hasButtons = buttons && buttons.length > 0 && !this.isReadOnly();\n    if (!this.eButtonsPanel) {\n      if (hasButtons) {\n        this.eButtonsPanel = document.createElement(\"div\");\n        this.eButtonsPanel.classList.add(\"ag-filter-apply-panel\");\n      }\n    } else {\n      _clearElement(this.eButtonsPanel);\n      this.buttonListeners.forEach((destroyFunc) => destroyFunc());\n      this.buttonListeners = [];\n    }\n    if (!hasButtons) {\n      if (this.eButtonsPanel) {\n        _removeFromParent(this.eButtonsPanel);\n      }\n      return;\n    }\n    const fragment = document.createDocumentFragment();\n    const addButton = (type) => {\n      let text;\n      let clickListener;\n      switch (type) {\n        case \"apply\":\n          text = this.translate(\"applyFilter\");\n          clickListener = (e) => this.onBtApply(false, false, e);\n          break;\n        case \"clear\":\n          text = this.translate(\"clearFilter\");\n          clickListener = () => this.onBtClear();\n          break;\n        case \"reset\":\n          text = this.translate(\"resetFilter\");\n          clickListener = () => this.onBtReset();\n          break;\n        case \"cancel\":\n          text = this.translate(\"cancelFilter\");\n          clickListener = (e) => {\n            this.onBtCancel(e);\n          };\n          break;\n        default:\n          _warnOnce(\"Unknown button type specified\");\n          return;\n      }\n      const buttonType = type === \"apply\" ? \"submit\" : \"button\";\n      const button = _loadTemplate(\n        /* html */\n        `<button\n                    type=\"${buttonType}\"\n                    data-ref=\"${type}FilterButton\"\n                    class=\"ag-button ag-standard-button ag-filter-apply-panel-button\"\n                >${text}\n                </button>`\n      );\n      this.buttonListeners.push(...this.addManagedElementListeners(button, { click: clickListener }));\n      fragment.append(button);\n    };\n    buttons.forEach((type) => addButton(type));\n    this.eButtonsPanel.append(fragment);\n    this.getGui().appendChild(this.eButtonsPanel);\n  }\n  // subclasses can override this to provide alternative debounce defaults\n  getDefaultDebounceMs() {\n    return 0;\n  }\n  setupOnBtApplyDebounce() {\n    const debounceMs = getDebounceMs(this.providedFilterParams, this.getDefaultDebounceMs());\n    const debounceFunc = _debounce(this.checkApplyDebounce.bind(this), debounceMs);\n    this.onBtApplyDebounce = () => {\n      this.debouncePending = true;\n      debounceFunc();\n    };\n  }\n  checkApplyDebounce() {\n    if (this.debouncePending) {\n      this.debouncePending = false;\n      this.onBtApply();\n    }\n  }\n  getModel() {\n    return this.appliedModel ? this.appliedModel : null;\n  }\n  setModel(model) {\n    const promise = model != null ? this.setModelIntoUi(model) : this.resetUiToDefaults();\n    return promise.then(() => {\n      this.updateUiVisibility();\n      this.applyModel(\"api\");\n    });\n  }\n  onBtCancel(e) {\n    this.resetUiToActiveModel(this.getModel(), () => {\n      this.handleCancelEnd(e);\n    });\n  }\n  handleCancelEnd(e) {\n    if (this.providedFilterParams.closeOnApply) {\n      this.close(e);\n    }\n  }\n  resetUiToActiveModel(currentModel, afterUiUpdatedFunc) {\n    const afterAppliedFunc = () => {\n      this.onUiChanged(false, \"prevent\");\n      afterUiUpdatedFunc?.();\n    };\n    if (currentModel != null) {\n      this.setModelIntoUi(currentModel).then(afterAppliedFunc);\n    } else {\n      this.resetUiToDefaults().then(afterAppliedFunc);\n    }\n  }\n  onBtClear() {\n    this.resetUiToDefaults().then(() => this.onUiChanged());\n  }\n  onBtReset() {\n    this.onBtClear();\n    this.onBtApply();\n  }\n  /**\n   * Applies changes made in the UI to the filter, and returns true if the model has changed.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  applyModel(source = \"api\") {\n    const newModel = this.getModelFromUi();\n    if (!this.isModelValid(newModel)) {\n      return false;\n    }\n    const previousModel = this.appliedModel;\n    this.appliedModel = newModel;\n    return !this.areModelsEqual(previousModel, newModel);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isModelValid(model) {\n    return true;\n  }\n  onFormSubmit(e) {\n    e.preventDefault();\n  }\n  onBtApply(afterFloatingFilter = false, afterDataChange = false, e) {\n    if (e) {\n      e.preventDefault();\n    }\n    if (this.applyModel(afterDataChange ? \"rowDataUpdated\" : \"ui\")) {\n      const source = \"columnFilter\";\n      this.providedFilterParams.filterChangedCallback({ afterFloatingFilter, afterDataChange, source });\n    }\n    const { closeOnApply } = this.providedFilterParams;\n    if (closeOnApply && this.applyActive && !afterFloatingFilter && !afterDataChange) {\n      this.close(e);\n    }\n  }\n  onNewRowsLoaded() {\n  }\n  close(e) {\n    if (!this.hidePopup) {\n      return;\n    }\n    const keyboardEvent = e;\n    const key = keyboardEvent && keyboardEvent.key;\n    let params;\n    if (key === \"Enter\" || key === \"Space\") {\n      params = { keyboardEvent };\n    }\n    this.hidePopup(params);\n    this.hidePopup = null;\n  }\n  /**\n   * By default, if the change came from a floating filter it will be applied immediately, otherwise if there is no\n   * apply button it will be applied after a debounce, otherwise it will not be applied at all. This behaviour can\n   * be adjusted by using the apply parameter.\n   */\n  onUiChanged(fromFloatingFilter = false, apply) {\n    this.updateUiVisibility();\n    this.providedFilterParams.filterModifiedCallback();\n    if (this.applyActive && !this.isReadOnly()) {\n      const isValid = this.isModelValid(this.getModelFromUi());\n      const applyFilterButton = this.queryForHtmlElement(`[data-ref=\"applyFilterButton\"]`);\n      if (applyFilterButton) {\n        _setDisabled(applyFilterButton, !isValid);\n      }\n    }\n    if (fromFloatingFilter && !apply || apply === \"immediately\") {\n      this.onBtApply(fromFloatingFilter);\n    } else if (!this.applyActive && !apply || apply === \"debounce\") {\n      this.onBtApplyDebounce();\n    }\n  }\n  afterGuiAttached(params) {\n    if (params) {\n      this.hidePopup = params.hidePopup;\n    }\n    this.refreshFilterResizer(params?.container);\n  }\n  refreshFilterResizer(containerType) {\n    if (!this.positionableFeature || containerType === \"toolPanel\") {\n      return;\n    }\n    const isResizable = containerType === \"floatingFilter\" || containerType === \"columnFilter\";\n    const { positionableFeature, gos } = this;\n    if (isResizable) {\n      positionableFeature.restoreLastSize();\n      positionableFeature.setResizable(\n        gos.get(\"enableRtl\") ? { bottom: true, bottomLeft: true, left: true } : { bottom: true, bottomRight: true, right: true }\n      );\n    } else {\n      this.positionableFeature.removeSizeFromEl();\n      this.positionableFeature.setResizable(false);\n    }\n    this.positionableFeature.constrainSizeToAvailableHeight(true);\n  }\n  afterGuiDetached() {\n    this.checkApplyDebounce();\n    if (this.positionableFeature) {\n      this.positionableFeature.constrainSizeToAvailableHeight(false);\n    }\n  }\n  refresh(newParams) {\n    const oldParams = this.providedFilterParams;\n    this.providedFilterParams = newParams;\n    this.resetButtonsPanel(newParams, oldParams);\n    return true;\n  }\n  destroy() {\n    const eGui = this.getGui();\n    if (eGui) {\n      eGui.removeEventListener(\"submit\", this.onFormSubmit);\n    }\n    this.hidePopup = null;\n    if (this.positionableFeature) {\n      this.positionableFeature = this.destroyBean(this.positionableFeature);\n    }\n    this.appliedModel = null;\n    super.destroy();\n  }\n  translate(key) {\n    const translate = this.localeService.getLocaleTextFunc();\n    return translate(key, FILTER_LOCALE_TEXT[key]);\n  }\n  getCellValue(rowNode) {\n    return this.providedFilterParams.getValue(rowNode);\n  }\n  // override to control positionable feature\n  getPositionableElement() {\n    return this.eFilterBody;\n  }\n};\n\n// community-modules/core/src/widgets/agRadioButton.ts\nvar AgRadioButton = class extends AgCheckbox {\n  constructor(config) {\n    super(config, \"ag-radio-button\", \"radio\");\n  }\n  isSelected() {\n    return this.eInput.checked;\n  }\n  toggle() {\n    if (this.eInput.disabled) {\n      return;\n    }\n    if (!this.isSelected()) {\n      this.setValue(true);\n    }\n  }\n  addInputListeners() {\n    super.addInputListeners();\n    this.addManagedEventListeners({ checkboxChanged: this.onChange.bind(this) });\n  }\n  /**\n   * This ensures that if another radio button in the same named group is selected, we deselect this radio button.\n   * By default the browser does this for you, but we are managing classes ourselves in order to ensure input\n   * elements are styled correctly in IE11, and the DOM 'changed' event is only fired when a button is selected,\n   * not deselected, so we need to use our own event.\n   */\n  onChange(event) {\n    if (event.selected && event.name && this.eInput.name && this.eInput.name === event.name && event.id && this.eInput.id !== event.id) {\n      this.setValue(false, true);\n    }\n  }\n};\n\n// community-modules/core/src/widgets/agList.ts\nvar AgList = class extends Component {\n  constructor(cssIdentifier = \"default\", unFocusable = false) {\n    super(\n      /* html */\n      `<div class=\"ag-list ag-${cssIdentifier}-list\" role=\"listbox\"></div>`\n    );\n    this.cssIdentifier = cssIdentifier;\n    this.unFocusable = unFocusable;\n    this.activeClass = \"ag-active-item\";\n    this.options = [];\n    this.itemEls = [];\n  }\n  postConstruct() {\n    const eGui = this.getGui();\n    this.addManagedElementListeners(eGui, { mouseleave: () => this.clearHighlighted() });\n    if (this.unFocusable) {\n      return;\n    }\n    this.addManagedElementListeners(eGui, { keydown: this.handleKeyDown.bind(this) });\n  }\n  handleKeyDown(e) {\n    const key = e.key;\n    switch (key) {\n      case KeyCode.ENTER:\n        if (!this.highlightedEl) {\n          this.setValue(this.getValue());\n        } else {\n          const pos = this.itemEls.indexOf(this.highlightedEl);\n          this.setValueByIndex(pos);\n        }\n        break;\n      case KeyCode.DOWN:\n      case KeyCode.UP:\n        e.preventDefault();\n        this.navigate(key);\n        break;\n      case KeyCode.PAGE_DOWN:\n      case KeyCode.PAGE_UP:\n      case KeyCode.PAGE_HOME:\n      case KeyCode.PAGE_END:\n        e.preventDefault();\n        this.navigateToPage(key);\n        break;\n    }\n  }\n  navigate(key) {\n    const isDown = key === KeyCode.DOWN;\n    let itemToHighlight;\n    if (!this.highlightedEl) {\n      itemToHighlight = this.itemEls[isDown ? 0 : this.itemEls.length - 1];\n    } else {\n      const currentIdx = this.itemEls.indexOf(this.highlightedEl);\n      let nextPos = currentIdx + (isDown ? 1 : -1);\n      nextPos = Math.min(Math.max(nextPos, 0), this.itemEls.length - 1);\n      itemToHighlight = this.itemEls[nextPos];\n    }\n    this.highlightItem(itemToHighlight);\n  }\n  navigateToPage(key) {\n    if (!this.highlightedEl || this.itemEls.length === 0) {\n      return;\n    }\n    const currentIdx = this.itemEls.indexOf(this.highlightedEl);\n    const rowCount = this.options.length - 1;\n    const itemHeight = this.itemEls[0].clientHeight;\n    const pageSize = Math.floor(this.getGui().clientHeight / itemHeight);\n    let newIndex = -1;\n    if (key === KeyCode.PAGE_HOME) {\n      newIndex = 0;\n    } else if (key === KeyCode.PAGE_END) {\n      newIndex = rowCount;\n    } else if (key === KeyCode.PAGE_DOWN) {\n      newIndex = Math.min(currentIdx + pageSize, rowCount);\n    } else if (key === KeyCode.PAGE_UP) {\n      newIndex = Math.max(currentIdx - pageSize, 0);\n    }\n    if (newIndex === -1) {\n      return;\n    }\n    this.highlightItem(this.itemEls[newIndex]);\n  }\n  addOptions(listOptions) {\n    listOptions.forEach((listOption) => this.addOption(listOption));\n    return this;\n  }\n  addOption(listOption) {\n    const { value, text } = listOption;\n    const valueToRender = text || value;\n    this.options.push({ value, text: valueToRender });\n    this.renderOption(value, valueToRender);\n    this.updateIndices();\n    return this;\n  }\n  clearOptions() {\n    this.options = [];\n    this.reset(true);\n    this.itemEls.forEach((itemEl) => {\n      _removeFromParent(itemEl);\n    });\n    this.itemEls = [];\n  }\n  updateIndices() {\n    const options = this.getGui().querySelectorAll(\".ag-list-item\");\n    options.forEach((option, idx) => {\n      _setAriaPosInSet(option, idx + 1);\n      _setAriaSetSize(option, options.length);\n    });\n  }\n  renderOption(value, text) {\n    const eDocument = _getDocument(this.gos);\n    const itemEl = eDocument.createElement(\"div\");\n    _setAriaRole(itemEl, \"option\");\n    itemEl.classList.add(\"ag-list-item\", `ag-${this.cssIdentifier}-list-item`);\n    const span = eDocument.createElement(\"span\");\n    itemEl.appendChild(span);\n    span.textContent = text;\n    if (!this.unFocusable) {\n      itemEl.tabIndex = -1;\n    }\n    this.itemEls.push(itemEl);\n    this.addManagedListeners(itemEl, {\n      mouseover: () => this.highlightItem(itemEl),\n      mousedown: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setValue(value);\n      }\n    });\n    this.createManagedBean(\n      new TooltipFeature({\n        getTooltipValue: () => text,\n        getGui: () => itemEl,\n        getLocation: () => \"UNKNOWN\",\n        // only show tooltips for items where the text cannot be fully displayed\n        shouldDisplayTooltip: () => span.scrollWidth > span.clientWidth\n      })\n    );\n    this.getGui().appendChild(itemEl);\n  }\n  setValue(value, silent) {\n    if (this.value === value) {\n      this.fireItemSelected();\n      return this;\n    }\n    if (value == null) {\n      this.reset(silent);\n      return this;\n    }\n    const idx = this.options.findIndex((option) => option.value === value);\n    if (idx !== -1) {\n      const option = this.options[idx];\n      this.value = option.value;\n      this.displayValue = option.text;\n      this.highlightItem(this.itemEls[idx]);\n      if (!silent) {\n        this.fireChangeEvent();\n      }\n    }\n    return this;\n  }\n  setValueByIndex(idx) {\n    return this.setValue(this.options[idx].value);\n  }\n  getValue() {\n    return this.value;\n  }\n  getDisplayValue() {\n    return this.displayValue;\n  }\n  refreshHighlighted() {\n    this.clearHighlighted();\n    const idx = this.options.findIndex((option) => option.value === this.value);\n    if (idx !== -1) {\n      this.highlightItem(this.itemEls[idx]);\n    }\n  }\n  reset(silent) {\n    this.value = null;\n    this.displayValue = null;\n    this.clearHighlighted();\n    if (!silent) {\n      this.fireChangeEvent();\n    }\n  }\n  highlightItem(el) {\n    if (!_isVisible(el)) {\n      return;\n    }\n    this.clearHighlighted();\n    this.highlightedEl = el;\n    this.highlightedEl.classList.add(this.activeClass);\n    _setAriaSelected(this.highlightedEl, true);\n    const eGui = this.getGui();\n    const { scrollTop, clientHeight } = eGui;\n    const { offsetTop, offsetHeight } = el;\n    if (offsetTop + offsetHeight > scrollTop + clientHeight || offsetTop < scrollTop) {\n      this.highlightedEl.scrollIntoView({ block: \"nearest\" });\n    }\n    if (!this.unFocusable) {\n      this.highlightedEl.focus();\n    }\n  }\n  clearHighlighted() {\n    if (!this.highlightedEl || !_isVisible(this.highlightedEl)) {\n      return;\n    }\n    this.highlightedEl.classList.remove(this.activeClass);\n    _setAriaSelected(this.highlightedEl, false);\n    this.highlightedEl = null;\n  }\n  fireChangeEvent() {\n    this.dispatchLocalEvent({ type: \"fieldValueChanged\" });\n    this.fireItemSelected();\n  }\n  fireItemSelected() {\n    this.dispatchLocalEvent({ type: \"selectedItem\" });\n  }\n};\n\n// community-modules/core/src/widgets/agPickerField.ts\nvar AgPickerField = class extends AgAbstractField {\n  constructor(config) {\n    super(\n      config,\n      config?.template || /* html */\n      `\n            <div class=\"ag-picker-field\" role=\"presentation\">\n                <div data-ref=\"eLabel\"></div>\n                <div data-ref=\"eWrapper\" class=\"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed\">\n                    <div data-ref=\"eDisplayField\" class=\"ag-picker-field-display\"></div>\n                    <div data-ref=\"eIcon\" class=\"ag-picker-field-icon\" aria-hidden=\"true\"></div>\n                </div>\n            </div>`,\n      config?.agComponents || [],\n      config?.className\n    );\n    this.isPickerDisplayed = false;\n    this.skipClick = false;\n    this.pickerGap = 4;\n    this.hideCurrentPicker = null;\n    this.eLabel = RefPlaceholder;\n    this.eWrapper = RefPlaceholder;\n    this.eDisplayField = RefPlaceholder;\n    this.eIcon = RefPlaceholder;\n    this.ariaRole = config?.ariaRole;\n    this.onPickerFocusIn = this.onPickerFocusIn.bind(this);\n    this.onPickerFocusOut = this.onPickerFocusOut.bind(this);\n    if (!config) {\n      return;\n    }\n    const { pickerGap, maxPickerHeight, variableWidth, minPickerWidth, maxPickerWidth } = config;\n    if (pickerGap != null) {\n      this.pickerGap = pickerGap;\n    }\n    this.variableWidth = !!variableWidth;\n    if (maxPickerHeight != null) {\n      this.setPickerMaxHeight(maxPickerHeight);\n    }\n    if (minPickerWidth != null) {\n      this.setPickerMinWidth(minPickerWidth);\n    }\n    if (maxPickerWidth != null) {\n      this.setPickerMaxWidth(maxPickerWidth);\n    }\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n  }\n  postConstruct() {\n    super.postConstruct();\n    this.setupAria();\n    const displayId = `ag-${this.getCompId()}-display`;\n    this.eDisplayField.setAttribute(\"id\", displayId);\n    const ariaEl = this.getAriaElement();\n    this.addManagedElementListeners(ariaEl, { keydown: this.onKeyDown.bind(this) });\n    this.addManagedElementListeners(this.eLabel, { mousedown: this.onLabelOrWrapperMouseDown.bind(this) });\n    this.addManagedElementListeners(this.eWrapper, { mousedown: this.onLabelOrWrapperMouseDown.bind(this) });\n    const { pickerIcon, inputWidth } = this.config;\n    if (pickerIcon) {\n      const icon = _createIconNoSpan(pickerIcon, this.gos);\n      if (icon) {\n        this.eIcon.appendChild(icon);\n      }\n    }\n    if (inputWidth != null) {\n      this.setInputWidth(inputWidth);\n    }\n  }\n  setupAria() {\n    const ariaEl = this.getAriaElement();\n    ariaEl.setAttribute(\"tabindex\", this.gos.get(\"tabIndex\").toString());\n    _setAriaExpanded(ariaEl, false);\n    if (this.ariaRole) {\n      _setAriaRole(ariaEl, this.ariaRole);\n    }\n  }\n  onLabelOrWrapperMouseDown(e) {\n    if (e) {\n      const focusableEl = this.getFocusableElement();\n      if (focusableEl !== this.eWrapper && e?.target === focusableEl) {\n        return;\n      }\n      e.preventDefault();\n      this.getFocusableElement().focus();\n    }\n    if (this.skipClick) {\n      this.skipClick = false;\n      return;\n    }\n    if (this.isDisabled()) {\n      return;\n    }\n    if (this.isPickerDisplayed) {\n      this.hidePicker();\n    } else {\n      this.showPicker();\n    }\n  }\n  onKeyDown(e) {\n    switch (e.key) {\n      case KeyCode.UP:\n      case KeyCode.DOWN:\n      case KeyCode.ENTER:\n      case KeyCode.SPACE:\n        e.preventDefault();\n        this.onLabelOrWrapperMouseDown();\n        break;\n      case KeyCode.ESCAPE:\n        if (this.isPickerDisplayed) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (this.hideCurrentPicker) {\n            this.hideCurrentPicker();\n          }\n        }\n        break;\n    }\n  }\n  showPicker() {\n    this.isPickerDisplayed = true;\n    if (!this.pickerComponent) {\n      this.pickerComponent = this.createPickerComponent();\n    }\n    const pickerGui = this.pickerComponent.getGui();\n    pickerGui.addEventListener(\"focusin\", this.onPickerFocusIn);\n    pickerGui.addEventListener(\"focusout\", this.onPickerFocusOut);\n    this.hideCurrentPicker = this.renderAndPositionPicker();\n    this.toggleExpandedStyles(true);\n  }\n  renderAndPositionPicker() {\n    const ePicker = this.pickerComponent.getGui();\n    if (!this.gos.get(\"suppressScrollWhenPopupsAreOpen\")) {\n      [this.destroyMouseWheelFunc] = this.addManagedEventListeners({\n        bodyScroll: () => {\n          this.hidePicker();\n        }\n      });\n    }\n    const translate = this.localeService.getLocaleTextFunc();\n    const { pickerAriaLabelKey, pickerAriaLabelValue, modalPicker = true } = this.config;\n    const popupParams = {\n      modal: modalPicker,\n      eChild: ePicker,\n      closeOnEsc: true,\n      closedCallback: () => {\n        const shouldRestoreFocus = _isNothingFocused(this.gos);\n        this.beforeHidePicker();\n        if (shouldRestoreFocus && this.isAlive()) {\n          this.getFocusableElement().focus();\n        }\n      },\n      ariaLabel: translate(pickerAriaLabelKey, pickerAriaLabelValue),\n      anchorToElement: this.eWrapper\n    };\n    ePicker.style.position = \"absolute\";\n    const addPopupRes = this.popupService.addPopup(popupParams);\n    const { maxPickerHeight, minPickerWidth, maxPickerWidth, variableWidth } = this;\n    if (variableWidth) {\n      if (minPickerWidth) {\n        ePicker.style.minWidth = minPickerWidth;\n      }\n      ePicker.style.width = _formatSize(_getAbsoluteWidth(this.eWrapper));\n      if (maxPickerWidth) {\n        ePicker.style.maxWidth = maxPickerWidth;\n      }\n    } else {\n      _setElementWidth(ePicker, maxPickerWidth ?? _getAbsoluteWidth(this.eWrapper));\n    }\n    const maxHeight = maxPickerHeight ?? `${_getInnerHeight(this.popupService.getPopupParent())}px`;\n    ePicker.style.setProperty(\"max-height\", maxHeight);\n    this.alignPickerToComponent();\n    return addPopupRes.hideFunc;\n  }\n  alignPickerToComponent() {\n    if (!this.pickerComponent) {\n      return;\n    }\n    const { pickerType } = this.config;\n    const { pickerGap } = this;\n    const alignSide = this.gos.get(\"enableRtl\") ? \"right\" : \"left\";\n    this.popupService.positionPopupByComponent({\n      type: pickerType,\n      eventSource: this.eWrapper,\n      ePopup: this.pickerComponent.getGui(),\n      position: \"under\",\n      alignSide,\n      keepWithinBounds: true,\n      nudgeY: pickerGap\n    });\n  }\n  beforeHidePicker() {\n    if (this.destroyMouseWheelFunc) {\n      this.destroyMouseWheelFunc();\n      this.destroyMouseWheelFunc = void 0;\n    }\n    this.toggleExpandedStyles(false);\n    const pickerGui = this.pickerComponent.getGui();\n    pickerGui.removeEventListener(\"focusin\", this.onPickerFocusIn);\n    pickerGui.removeEventListener(\"focusout\", this.onPickerFocusOut);\n    this.isPickerDisplayed = false;\n    this.pickerComponent = void 0;\n    this.hideCurrentPicker = null;\n  }\n  toggleExpandedStyles(expanded) {\n    if (!this.isAlive()) {\n      return;\n    }\n    const ariaEl = this.getAriaElement();\n    _setAriaExpanded(ariaEl, expanded);\n    this.eWrapper.classList.toggle(\"ag-picker-expanded\", expanded);\n    this.eWrapper.classList.toggle(\"ag-picker-collapsed\", !expanded);\n  }\n  onPickerFocusIn() {\n    this.togglePickerHasFocus(true);\n  }\n  onPickerFocusOut(e) {\n    if (!this.pickerComponent?.getGui().contains(e.relatedTarget)) {\n      this.togglePickerHasFocus(false);\n    }\n  }\n  togglePickerHasFocus(focused) {\n    if (!this.pickerComponent) {\n      return;\n    }\n    this.eWrapper.classList.toggle(\"ag-picker-has-focus\", focused);\n  }\n  hidePicker() {\n    if (this.hideCurrentPicker) {\n      this.hideCurrentPicker();\n    }\n  }\n  setInputWidth(width) {\n    _setElementWidth(this.eWrapper, width);\n    return this;\n  }\n  getFocusableElement() {\n    return this.eWrapper;\n  }\n  setPickerGap(gap) {\n    this.pickerGap = gap;\n    return this;\n  }\n  setPickerMinWidth(width) {\n    if (typeof width === \"number\") {\n      width = `${width}px`;\n    }\n    this.minPickerWidth = width == null ? void 0 : width;\n    return this;\n  }\n  setPickerMaxWidth(width) {\n    if (typeof width === \"number\") {\n      width = `${width}px`;\n    }\n    this.maxPickerWidth = width == null ? void 0 : width;\n    return this;\n  }\n  setPickerMaxHeight(height) {\n    if (typeof height === \"number\") {\n      height = `${height}px`;\n    }\n    this.maxPickerHeight = height == null ? void 0 : height;\n    return this;\n  }\n  destroy() {\n    this.hidePicker();\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/widgets/agSelect.ts\nvar AgSelect = class extends AgPickerField {\n  constructor(config) {\n    super({\n      pickerAriaLabelKey: \"ariaLabelSelectField\",\n      pickerAriaLabelValue: \"Select Field\",\n      pickerType: \"ag-list\",\n      className: \"ag-select\",\n      pickerIcon: \"smallDown\",\n      ariaRole: \"combobox\",\n      ...config\n    });\n  }\n  postConstruct() {\n    super.postConstruct();\n    this.createListComponent();\n    this.eWrapper.tabIndex = this.gos.get(\"tabIndex\");\n    const { options, value, placeholder } = this.config;\n    if (options != null) {\n      this.addOptions(options);\n    }\n    if (value != null) {\n      this.setValue(value, true);\n    }\n    if (placeholder && value == null) {\n      this.eDisplayField.textContent = placeholder;\n    }\n    this.addManagedElementListeners(this.eWrapper, { focusout: this.onWrapperFocusOut.bind(this) });\n  }\n  onWrapperFocusOut(e) {\n    if (!this.eWrapper.contains(e.relatedTarget)) {\n      this.hidePicker();\n    }\n  }\n  createListComponent() {\n    this.listComponent = this.createBean(new AgList(\"select\", true));\n    this.listComponent.setParentComponent(this);\n    const eListAriaEl = this.listComponent.getAriaElement();\n    const listId = `ag-select-list-${this.listComponent.getCompId()}`;\n    eListAriaEl.setAttribute(\"id\", listId);\n    _setAriaControls(this.getAriaElement(), eListAriaEl);\n    this.listComponent.addManagedListeners(this.listComponent, {\n      selectedItem: () => {\n        this.hidePicker();\n        this.dispatchLocalEvent({ type: \"selectedItem\" });\n      }\n    });\n    this.listComponent.addManagedListeners(this.listComponent, {\n      fieldValueChanged: () => {\n        if (!this.listComponent) {\n          return;\n        }\n        this.setValue(this.listComponent.getValue(), false, true);\n        this.hidePicker();\n      }\n    });\n  }\n  createPickerComponent() {\n    return this.listComponent;\n  }\n  onKeyDown(e) {\n    const { key } = e;\n    if (key === KeyCode.TAB) {\n      this.hidePicker();\n    }\n    switch (key) {\n      case KeyCode.ENTER:\n      case KeyCode.UP:\n      case KeyCode.DOWN:\n      case KeyCode.PAGE_UP:\n      case KeyCode.PAGE_DOWN:\n      case KeyCode.PAGE_HOME:\n      case KeyCode.PAGE_END:\n        e.preventDefault();\n        if (this.isPickerDisplayed) {\n          this.listComponent?.handleKeyDown(e);\n        } else {\n          super.onKeyDown(e);\n        }\n        break;\n      case KeyCode.ESCAPE:\n        super.onKeyDown(e);\n        break;\n      case KeyCode.SPACE:\n        if (this.isPickerDisplayed) {\n          e.preventDefault();\n        } else {\n          super.onKeyDown(e);\n        }\n        break;\n    }\n  }\n  showPicker() {\n    if (!this.listComponent) {\n      return;\n    }\n    super.showPicker();\n    this.listComponent.refreshHighlighted();\n  }\n  addOptions(options) {\n    options.forEach((option) => this.addOption(option));\n    return this;\n  }\n  addOption(option) {\n    this.listComponent.addOption(option);\n    return this;\n  }\n  clearOptions() {\n    this.listComponent?.clearOptions();\n    return this;\n  }\n  setValue(value, silent, fromPicker) {\n    if (this.value === value || !this.listComponent) {\n      return this;\n    }\n    if (!fromPicker) {\n      this.listComponent.setValue(value, true);\n    }\n    const newValue = this.listComponent.getValue();\n    if (newValue === this.getValue()) {\n      return this;\n    }\n    let displayValue = this.listComponent.getDisplayValue();\n    if (displayValue == null && this.config.placeholder) {\n      displayValue = this.config.placeholder;\n    }\n    this.eDisplayField.textContent = displayValue;\n    this.setTooltip({\n      newTooltipText: displayValue ?? null,\n      shouldDisplayTooltip: () => this.eDisplayField.scrollWidth > this.eDisplayField.clientWidth\n    });\n    return super.setValue(value, silent);\n  }\n  destroy() {\n    if (this.listComponent) {\n      this.listComponent = this.destroyBean(this.listComponent);\n    }\n    super.destroy();\n  }\n};\nvar AgSelectSelector = {\n  selector: \"AG-SELECT\",\n  component: AgSelect\n};\n\n// community-modules/core/src/filter/provided/optionsFactory.ts\nvar OptionsFactory = class {\n  constructor() {\n    this.customFilterOptions = {};\n  }\n  init(params, defaultOptions) {\n    this.filterOptions = params.filterOptions || defaultOptions;\n    this.mapCustomOptions();\n    this.selectDefaultItem(params);\n  }\n  getFilterOptions() {\n    return this.filterOptions;\n  }\n  mapCustomOptions() {\n    if (!this.filterOptions) {\n      return;\n    }\n    this.filterOptions.forEach((filterOption) => {\n      if (typeof filterOption === \"string\") {\n        return;\n      }\n      const requiredProperties = [[\"displayKey\"], [\"displayName\"], [\"predicate\", \"test\"]];\n      const propertyCheck = (keys) => {\n        if (!keys.some((key) => filterOption[key] != null)) {\n          _warnOnce(`ignoring FilterOptionDef as it doesn't contain one of '${keys}'`);\n          return false;\n        }\n        return true;\n      };\n      if (!requiredProperties.every(propertyCheck)) {\n        this.filterOptions = this.filterOptions.filter((v) => v === filterOption) || [];\n        return;\n      }\n      this.customFilterOptions[filterOption.displayKey] = filterOption;\n    });\n  }\n  selectDefaultItem(params) {\n    if (params.defaultOption) {\n      this.defaultOption = params.defaultOption;\n    } else if (this.filterOptions.length >= 1) {\n      const firstFilterOption = this.filterOptions[0];\n      if (typeof firstFilterOption === \"string\") {\n        this.defaultOption = firstFilterOption;\n      } else if (firstFilterOption.displayKey) {\n        this.defaultOption = firstFilterOption.displayKey;\n      } else {\n        _warnOnce(`invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'`);\n      }\n    } else {\n      _warnOnce(\"no filter options for filter\");\n    }\n  }\n  getDefaultOption() {\n    return this.defaultOption;\n  }\n  getCustomOption(name) {\n    return this.customFilterOptions[name];\n  }\n};\n\n// community-modules/core/src/filter/provided/simpleFilter.ts\nvar SimpleFilter = class extends ProvidedFilter {\n  constructor() {\n    super(...arguments);\n    this.eTypes = [];\n    this.eJoinOperatorPanels = [];\n    this.eJoinOperatorsAnd = [];\n    this.eJoinOperatorsOr = [];\n    this.eConditionBodies = [];\n    this.listener = () => this.onUiChanged();\n    this.lastUiCompletePosition = null;\n    this.joinOperatorId = 0;\n  }\n  getNumberOfInputs(type) {\n    const customOpts = this.optionsFactory.getCustomOption(type);\n    if (customOpts) {\n      const { numberOfInputs } = customOpts;\n      return numberOfInputs != null ? numberOfInputs : 1;\n    }\n    const zeroInputTypes = [\"empty\", \"notBlank\", \"blank\"];\n    if (type && zeroInputTypes.indexOf(type) >= 0) {\n      return 0;\n    } else if (type === \"inRange\") {\n      return 2;\n    }\n    return 1;\n  }\n  // floating filter calls this when user applies filter from floating filter\n  onFloatingFilterChanged(type, value) {\n    this.setTypeFromFloatingFilter(type);\n    this.setValueFromFloatingFilter(value);\n    this.onUiChanged(true);\n  }\n  setTypeFromFloatingFilter(type) {\n    this.eTypes.forEach((eType, position) => {\n      if (position === 0) {\n        eType.setValue(type, true);\n      } else {\n        eType.setValue(this.optionsFactory.getDefaultOption(), true);\n      }\n    });\n  }\n  getModelFromUi() {\n    const conditions = this.getUiCompleteConditions();\n    if (conditions.length === 0) {\n      return null;\n    }\n    if (this.maxNumConditions > 1 && conditions.length > 1) {\n      return {\n        filterType: this.getFilterType(),\n        operator: this.getJoinOperator(),\n        conditions\n      };\n    }\n    return conditions[0];\n  }\n  getConditionTypes() {\n    return this.eTypes.map((eType) => eType.getValue());\n  }\n  getConditionType(position) {\n    return this.eTypes[position].getValue();\n  }\n  getJoinOperator() {\n    if (this.eJoinOperatorsOr.length === 0) {\n      return this.defaultJoinOperator;\n    }\n    return this.eJoinOperatorsOr[0].getValue() === true ? \"OR\" : \"AND\";\n  }\n  areModelsEqual(a, b) {\n    if (!a && !b) {\n      return true;\n    }\n    if (!a && b || a && !b) {\n      return false;\n    }\n    const aIsSimple = !a.operator;\n    const bIsSimple = !b.operator;\n    const oneSimpleOneCombined = !aIsSimple && bIsSimple || aIsSimple && !bIsSimple;\n    if (oneSimpleOneCombined) {\n      return false;\n    }\n    let res;\n    if (aIsSimple) {\n      const aSimple = a;\n      const bSimple = b;\n      res = this.areSimpleModelsEqual(aSimple, bSimple);\n    } else {\n      const aCombined = a;\n      const bCombined = b;\n      res = aCombined.operator === bCombined.operator && _areEqual(\n        aCombined.conditions,\n        bCombined.conditions,\n        (aModel, bModel) => this.areSimpleModelsEqual(aModel, bModel)\n      );\n    }\n    return res;\n  }\n  shouldRefresh(newParams) {\n    const model = this.getModel();\n    const conditions = model ? model.conditions ?? [model] : null;\n    const newOptionsList = newParams.filterOptions?.map((option) => typeof option === \"string\" ? option : option.displayKey) ?? this.getDefaultFilterOptions();\n    const allConditionsExistInNewOptionsList = !conditions || conditions.every((condition) => newOptionsList.find((option) => option === condition.type) !== void 0);\n    if (!allConditionsExistInNewOptionsList) {\n      return false;\n    }\n    if (typeof newParams.maxNumConditions === \"number\" && conditions && conditions.length > newParams.maxNumConditions) {\n      return false;\n    }\n    return true;\n  }\n  refresh(newParams) {\n    if (!this.shouldRefresh(newParams)) {\n      return false;\n    }\n    const parentRefreshed = super.refresh(newParams);\n    if (!parentRefreshed) {\n      return false;\n    }\n    this.setParams(newParams);\n    this.removeConditionsAndOperators(0);\n    this.createOption();\n    this.setModel(this.getModel());\n    return true;\n  }\n  setModelIntoUi(model) {\n    const isCombined = model.operator;\n    if (isCombined) {\n      const combinedModel = model;\n      let conditions = combinedModel.conditions;\n      if (conditions == null) {\n        conditions = [];\n        _warnOnce(`Filter model is missing 'conditions'`);\n      }\n      const numConditions = this.validateAndUpdateConditions(conditions);\n      const numPrevConditions = this.getNumConditions();\n      if (numConditions < numPrevConditions) {\n        this.removeConditionsAndOperators(numConditions);\n      } else if (numConditions > numPrevConditions) {\n        for (let i = numPrevConditions; i < numConditions; i++) {\n          this.createJoinOperatorPanel();\n          this.createOption();\n        }\n      }\n      const orChecked = combinedModel.operator === \"OR\";\n      this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd) => eJoinOperatorAnd.setValue(!orChecked, true));\n      this.eJoinOperatorsOr.forEach((eJoinOperatorOr) => eJoinOperatorOr.setValue(orChecked, true));\n      conditions.forEach((condition, position) => {\n        this.eTypes[position].setValue(condition.type, true);\n        this.setConditionIntoUi(condition, position);\n      });\n    } else {\n      const simpleModel = model;\n      if (this.getNumConditions() > 1) {\n        this.removeConditionsAndOperators(1);\n      }\n      this.eTypes[0].setValue(simpleModel.type, true);\n      this.setConditionIntoUi(simpleModel, 0);\n    }\n    this.lastUiCompletePosition = this.getNumConditions() - 1;\n    this.createMissingConditionsAndOperators();\n    this.onUiChanged();\n    return AgPromise.resolve();\n  }\n  validateAndUpdateConditions(conditions) {\n    let numConditions = conditions.length;\n    if (numConditions > this.maxNumConditions) {\n      conditions.splice(this.maxNumConditions);\n      _warnOnce(\n        'Filter Model contains more conditions than \"filterParams.maxNumConditions\". Additional conditions have been ignored.'\n      );\n      numConditions = this.maxNumConditions;\n    }\n    return numConditions;\n  }\n  doesFilterPass(params) {\n    const model = this.getModel();\n    if (model == null) {\n      return true;\n    }\n    const { operator } = model;\n    const models = [];\n    if (operator) {\n      const combinedModel = model;\n      models.push(...combinedModel.conditions ?? []);\n    } else {\n      models.push(model);\n    }\n    const combineFunction = operator && operator === \"OR\" ? \"some\" : \"every\";\n    return models[combineFunction]((m) => this.individualConditionPasses(params, m));\n  }\n  setParams(params) {\n    super.setParams(params);\n    this.setNumConditions(params);\n    this.defaultJoinOperator = this.getDefaultJoinOperator(params.defaultJoinOperator);\n    this.filterPlaceholder = params.filterPlaceholder;\n    this.optionsFactory = new OptionsFactory();\n    this.optionsFactory.init(params, this.getDefaultFilterOptions());\n    this.createFilterListOptions();\n    this.createOption();\n    this.createMissingConditionsAndOperators();\n    if (this.isReadOnly()) {\n      this.eFilterBody.setAttribute(\"tabindex\", \"-1\");\n    }\n  }\n  setNumConditions(params) {\n    this.maxNumConditions = params.maxNumConditions ?? 2;\n    if (this.maxNumConditions < 1) {\n      _warnOnce('\"filterParams.maxNumConditions\" must be greater than or equal to zero.');\n      this.maxNumConditions = 1;\n    }\n    this.numAlwaysVisibleConditions = params.numAlwaysVisibleConditions ?? 1;\n    if (this.numAlwaysVisibleConditions < 1) {\n      _warnOnce('\"filterParams.numAlwaysVisibleConditions\" must be greater than or equal to zero.');\n      this.numAlwaysVisibleConditions = 1;\n    }\n    if (this.numAlwaysVisibleConditions > this.maxNumConditions) {\n      _warnOnce(\n        '\"filterParams.numAlwaysVisibleConditions\" cannot be greater than \"filterParams.maxNumConditions\".'\n      );\n      this.numAlwaysVisibleConditions = this.maxNumConditions;\n    }\n  }\n  createOption() {\n    const eType = this.createManagedBean(new AgSelect());\n    this.eTypes.push(eType);\n    eType.addCssClass(\"ag-filter-select\");\n    this.eFilterBody.appendChild(eType.getGui());\n    const eConditionBody = this.createValueElement();\n    this.eConditionBodies.push(eConditionBody);\n    this.eFilterBody.appendChild(eConditionBody);\n    this.putOptionsIntoDropdown(eType);\n    this.resetType(eType);\n    const position = this.getNumConditions() - 1;\n    this.forEachPositionInput(position, (element) => this.resetInput(element));\n    this.addChangedListeners(eType, position);\n  }\n  createJoinOperatorPanel() {\n    const eJoinOperatorPanel = document.createElement(\"div\");\n    this.eJoinOperatorPanels.push(eJoinOperatorPanel);\n    eJoinOperatorPanel.classList.add(\"ag-filter-condition\");\n    const eJoinOperatorAnd = this.createJoinOperator(this.eJoinOperatorsAnd, eJoinOperatorPanel, \"and\");\n    const eJoinOperatorOr = this.createJoinOperator(this.eJoinOperatorsOr, eJoinOperatorPanel, \"or\");\n    this.eFilterBody.appendChild(eJoinOperatorPanel);\n    const index = this.eJoinOperatorPanels.length - 1;\n    const uniqueGroupId = this.joinOperatorId++;\n    this.resetJoinOperatorAnd(eJoinOperatorAnd, index, uniqueGroupId);\n    this.resetJoinOperatorOr(eJoinOperatorOr, index, uniqueGroupId);\n    if (!this.isReadOnly()) {\n      eJoinOperatorAnd.onValueChange(this.listener);\n      eJoinOperatorOr.onValueChange(this.listener);\n    }\n  }\n  createJoinOperator(eJoinOperators, eJoinOperatorPanel, andOr) {\n    const eJoinOperator = this.createManagedBean(new AgRadioButton());\n    eJoinOperators.push(eJoinOperator);\n    eJoinOperator.addCssClass(\"ag-filter-condition-operator\");\n    eJoinOperator.addCssClass(`ag-filter-condition-operator-${andOr}`);\n    eJoinOperatorPanel.appendChild(eJoinOperator.getGui());\n    return eJoinOperator;\n  }\n  getDefaultJoinOperator(defaultJoinOperator) {\n    return defaultJoinOperator === \"AND\" || defaultJoinOperator === \"OR\" ? defaultJoinOperator : \"AND\";\n  }\n  createFilterListOptions() {\n    const filterOptions = this.optionsFactory.getFilterOptions();\n    this.filterListOptions = filterOptions.map(\n      (option) => typeof option === \"string\" ? this.createBoilerplateListOption(option) : this.createCustomListOption(option)\n    );\n  }\n  putOptionsIntoDropdown(eType) {\n    this.filterListOptions.forEach((listOption) => {\n      eType.addOption(listOption);\n    });\n    eType.setDisabled(this.filterListOptions.length <= 1);\n  }\n  createBoilerplateListOption(option) {\n    return { value: option, text: this.translate(option) };\n  }\n  createCustomListOption(option) {\n    const { displayKey } = option;\n    const customOption = this.optionsFactory.getCustomOption(option.displayKey);\n    return {\n      value: displayKey,\n      text: customOption ? this.localeService.getLocaleTextFunc()(customOption.displayKey, customOption.displayName) : this.translate(displayKey)\n    };\n  }\n  createBodyTemplate() {\n    return \"\";\n  }\n  getAgComponents() {\n    return [];\n  }\n  getCssIdentifier() {\n    return \"simple-filter\";\n  }\n  updateUiVisibility() {\n    const joinOperator = this.getJoinOperator();\n    this.updateNumConditions();\n    this.updateConditionStatusesAndValues(this.lastUiCompletePosition, joinOperator);\n  }\n  updateNumConditions() {\n    let lastUiCompletePosition = -1;\n    let areAllConditionsUiComplete = true;\n    for (let position = 0; position < this.getNumConditions(); position++) {\n      if (this.isConditionUiComplete(position)) {\n        lastUiCompletePosition = position;\n      } else {\n        areAllConditionsUiComplete = false;\n      }\n    }\n    if (this.shouldAddNewConditionAtEnd(areAllConditionsUiComplete)) {\n      this.createJoinOperatorPanel();\n      this.createOption();\n    } else {\n      const activePosition = this.lastUiCompletePosition ?? this.getNumConditions() - 2;\n      if (lastUiCompletePosition < activePosition) {\n        this.removeConditionsAndOperators(activePosition + 1);\n        const removeStartPosition = lastUiCompletePosition + 1;\n        const numConditionsToRemove = activePosition - removeStartPosition;\n        if (numConditionsToRemove > 0) {\n          this.removeConditionsAndOperators(removeStartPosition, numConditionsToRemove);\n        }\n        this.createMissingConditionsAndOperators();\n      }\n    }\n    this.lastUiCompletePosition = lastUiCompletePosition;\n  }\n  updateConditionStatusesAndValues(lastUiCompletePosition, joinOperator) {\n    this.eTypes.forEach((eType, position) => {\n      const disabled = this.isConditionDisabled(position, lastUiCompletePosition);\n      eType.setDisabled(disabled || this.filterListOptions.length <= 1);\n      if (position === 1) {\n        _setDisabled(this.eJoinOperatorPanels[0], disabled);\n        this.eJoinOperatorsAnd[0].setDisabled(disabled);\n        this.eJoinOperatorsOr[0].setDisabled(disabled);\n      }\n    });\n    this.eConditionBodies.forEach((element, index) => {\n      _setDisplayed(element, this.isConditionBodyVisible(index));\n    });\n    const orChecked = (joinOperator ?? this.getJoinOperator()) === \"OR\";\n    this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd) => {\n      eJoinOperatorAnd.setValue(!orChecked, true);\n    });\n    this.eJoinOperatorsOr.forEach((eJoinOperatorOr) => {\n      eJoinOperatorOr.setValue(orChecked, true);\n    });\n    this.forEachInput((element, index, position, numberOfInputs) => {\n      this.setElementDisplayed(element, index < numberOfInputs);\n      this.setElementDisabled(element, this.isConditionDisabled(position, lastUiCompletePosition));\n    });\n    this.resetPlaceholder();\n  }\n  shouldAddNewConditionAtEnd(areAllConditionsUiComplete) {\n    return areAllConditionsUiComplete && this.getNumConditions() < this.maxNumConditions && !this.isReadOnly();\n  }\n  removeConditionsAndOperators(startPosition, deleteCount) {\n    if (startPosition >= this.getNumConditions()) {\n      return;\n    }\n    this.removeComponents(this.eTypes, startPosition, deleteCount);\n    this.removeElements(this.eConditionBodies, startPosition, deleteCount);\n    this.removeValueElements(startPosition, deleteCount);\n    const joinOperatorIndex = Math.max(startPosition - 1, 0);\n    this.removeElements(this.eJoinOperatorPanels, joinOperatorIndex, deleteCount);\n    this.removeComponents(this.eJoinOperatorsAnd, joinOperatorIndex, deleteCount);\n    this.removeComponents(this.eJoinOperatorsOr, joinOperatorIndex, deleteCount);\n  }\n  removeElements(elements, startPosition, deleteCount) {\n    const removedElements = this.removeItems(elements, startPosition, deleteCount);\n    removedElements.forEach((element) => _removeFromParent(element));\n  }\n  removeComponents(components, startPosition, deleteCount) {\n    const removedComponents = this.removeItems(components, startPosition, deleteCount);\n    removedComponents.forEach((comp) => {\n      _removeFromParent(comp.getGui());\n      this.destroyBean(comp);\n    });\n  }\n  removeItems(items, startPosition, deleteCount) {\n    return deleteCount == null ? items.splice(startPosition) : items.splice(startPosition, deleteCount);\n  }\n  afterGuiAttached(params) {\n    super.afterGuiAttached(params);\n    this.resetPlaceholder();\n    if (!params?.suppressFocus) {\n      if (this.isReadOnly()) {\n        this.eFilterBody.focus();\n      } else {\n        const firstInput = this.getInputs(0)[0];\n        if (!firstInput) {\n          return;\n        }\n        if (firstInput instanceof AgAbstractInputField) {\n          firstInput.getInputElement().focus();\n        }\n      }\n    }\n  }\n  afterGuiDetached() {\n    super.afterGuiDetached();\n    const appliedModel = this.getModel();\n    this.resetUiToActiveModel(appliedModel);\n    let lastUiCompletePosition = -1;\n    let updatedLastUiCompletePosition = -1;\n    let conditionsRemoved = false;\n    const joinOperator = this.getJoinOperator();\n    for (let position = this.getNumConditions() - 1; position >= 0; position--) {\n      if (this.isConditionUiComplete(position)) {\n        if (lastUiCompletePosition === -1) {\n          lastUiCompletePosition = position;\n          updatedLastUiCompletePosition = position;\n        }\n      } else {\n        const shouldRemovePositionAtEnd = position >= this.numAlwaysVisibleConditions && !this.isConditionUiComplete(position - 1);\n        const positionBeforeLastUiCompletePosition = position < lastUiCompletePosition;\n        if (shouldRemovePositionAtEnd || positionBeforeLastUiCompletePosition) {\n          this.removeConditionsAndOperators(position, 1);\n          conditionsRemoved = true;\n          if (positionBeforeLastUiCompletePosition) {\n            updatedLastUiCompletePosition--;\n          }\n        }\n      }\n    }\n    let shouldUpdateConditionStatusesAndValues = false;\n    if (this.getNumConditions() < this.numAlwaysVisibleConditions) {\n      this.createMissingConditionsAndOperators();\n      shouldUpdateConditionStatusesAndValues = true;\n    }\n    if (this.shouldAddNewConditionAtEnd(updatedLastUiCompletePosition === this.getNumConditions() - 1)) {\n      this.createJoinOperatorPanel();\n      this.createOption();\n      shouldUpdateConditionStatusesAndValues = true;\n    }\n    if (shouldUpdateConditionStatusesAndValues) {\n      this.updateConditionStatusesAndValues(updatedLastUiCompletePosition, joinOperator);\n    }\n    if (conditionsRemoved) {\n      this.updateJoinOperatorsDisabled();\n    }\n    this.lastUiCompletePosition = updatedLastUiCompletePosition;\n  }\n  getPlaceholderText(defaultPlaceholder, position) {\n    let placeholder = this.translate(defaultPlaceholder);\n    if (_isFunction(this.filterPlaceholder)) {\n      const filterPlaceholderFn = this.filterPlaceholder;\n      const filterOptionKey = this.eTypes[position].getValue();\n      const filterOption = this.translate(filterOptionKey);\n      placeholder = filterPlaceholderFn({\n        filterOptionKey,\n        filterOption,\n        placeholder\n      });\n    } else if (typeof this.filterPlaceholder === \"string\") {\n      placeholder = this.filterPlaceholder;\n    }\n    return placeholder;\n  }\n  // allow sub-classes to reset HTML placeholders after UI update.\n  resetPlaceholder() {\n    const globalTranslate = this.localeService.getLocaleTextFunc();\n    this.forEachInput((element, index, position, numberOfInputs) => {\n      if (!(element instanceof AgAbstractInputField)) {\n        return;\n      }\n      const placeholder = index === 0 && numberOfInputs > 1 ? \"inRangeStart\" : index === 0 ? \"filterOoo\" : \"inRangeEnd\";\n      const ariaLabel = index === 0 && numberOfInputs > 1 ? globalTranslate(\"ariaFilterFromValue\", \"Filter from value\") : index === 0 ? globalTranslate(\"ariaFilterValue\", \"Filter Value\") : globalTranslate(\"ariaFilterToValue\", \"Filter to Value\");\n      element.setInputPlaceholder(this.getPlaceholderText(placeholder, position));\n      element.setInputAriaLabel(ariaLabel);\n    });\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setElementValue(element, value, fromFloatingFilter) {\n    if (element instanceof AgAbstractInputField) {\n      element.setValue(value != null ? String(value) : null, true);\n    }\n  }\n  setElementDisplayed(element, displayed) {\n    if (element instanceof Component) {\n      _setDisplayed(element.getGui(), displayed);\n    }\n  }\n  setElementDisabled(element, disabled) {\n    if (element instanceof Component) {\n      _setDisabled(element.getGui(), disabled);\n    }\n  }\n  attachElementOnChange(element, listener) {\n    if (element instanceof AgAbstractInputField) {\n      element.onValueChange(listener);\n    }\n  }\n  forEachInput(cb) {\n    this.getConditionTypes().forEach((type, position) => {\n      this.forEachPositionTypeInput(position, type, cb);\n    });\n  }\n  forEachPositionInput(position, cb) {\n    const type = this.getConditionType(position);\n    this.forEachPositionTypeInput(position, type, cb);\n  }\n  forEachPositionTypeInput(position, type, cb) {\n    const numberOfInputs = this.getNumberOfInputs(type);\n    const inputs = this.getInputs(position);\n    for (let index = 0; index < inputs.length; index++) {\n      const input = inputs[index];\n      if (input != null) {\n        cb(input, index, position, numberOfInputs);\n      }\n    }\n  }\n  isConditionDisabled(position, lastUiCompletePosition) {\n    if (this.isReadOnly()) {\n      return true;\n    }\n    if (position === 0) {\n      return false;\n    }\n    return position > lastUiCompletePosition + 1;\n  }\n  isConditionBodyVisible(position) {\n    const type = this.getConditionType(position);\n    const numberOfInputs = this.getNumberOfInputs(type);\n    return numberOfInputs > 0;\n  }\n  // returns true if the UI represents a working filter, eg all parts are filled out.\n  // eg if text filter and textfield blank then returns false.\n  isConditionUiComplete(position) {\n    if (position >= this.getNumConditions()) {\n      return false;\n    }\n    const type = this.getConditionType(position);\n    if (type === \"empty\") {\n      return false;\n    }\n    if (this.getValues(position).some((v) => v == null)) {\n      return false;\n    }\n    return true;\n  }\n  getNumConditions() {\n    return this.eTypes.length;\n  }\n  getUiCompleteConditions() {\n    const conditions = [];\n    for (let position = 0; position < this.getNumConditions(); position++) {\n      if (this.isConditionUiComplete(position)) {\n        conditions.push(this.createCondition(position));\n      }\n    }\n    return conditions;\n  }\n  createMissingConditionsAndOperators() {\n    if (this.isReadOnly()) {\n      return;\n    }\n    for (let i = this.getNumConditions(); i < this.numAlwaysVisibleConditions; i++) {\n      this.createJoinOperatorPanel();\n      this.createOption();\n    }\n  }\n  resetUiToDefaults(silent) {\n    this.removeConditionsAndOperators(this.isReadOnly() ? 1 : this.numAlwaysVisibleConditions);\n    this.eTypes.forEach((eType) => this.resetType(eType));\n    this.eJoinOperatorsAnd.forEach(\n      (eJoinOperatorAnd, index) => this.resetJoinOperatorAnd(eJoinOperatorAnd, index, this.joinOperatorId + index)\n    );\n    this.eJoinOperatorsOr.forEach(\n      (eJoinOperatorOr, index) => this.resetJoinOperatorOr(eJoinOperatorOr, index, this.joinOperatorId + index)\n    );\n    this.joinOperatorId++;\n    this.forEachInput((element) => this.resetInput(element));\n    this.resetPlaceholder();\n    this.createMissingConditionsAndOperators();\n    this.lastUiCompletePosition = null;\n    if (!silent) {\n      this.onUiChanged();\n    }\n    return AgPromise.resolve();\n  }\n  resetType(eType) {\n    const translate = this.localeService.getLocaleTextFunc();\n    const filteringLabel = translate(\"ariaFilteringOperator\", \"Filtering operator\");\n    eType.setValue(this.optionsFactory.getDefaultOption(), true).setAriaLabel(filteringLabel).setDisabled(this.isReadOnly() || this.filterListOptions.length <= 1);\n  }\n  resetJoinOperatorAnd(eJoinOperatorAnd, index, uniqueGroupId) {\n    this.resetJoinOperator(\n      eJoinOperatorAnd,\n      index,\n      this.isDefaultOperator(\"AND\"),\n      this.translate(\"andCondition\"),\n      uniqueGroupId\n    );\n  }\n  resetJoinOperatorOr(eJoinOperatorOr, index, uniqueGroupId) {\n    this.resetJoinOperator(\n      eJoinOperatorOr,\n      index,\n      this.isDefaultOperator(\"OR\"),\n      this.translate(\"orCondition\"),\n      uniqueGroupId\n    );\n  }\n  resetJoinOperator(eJoinOperator, index, value, label, uniqueGroupId) {\n    this.updateJoinOperatorDisabled(\n      eJoinOperator.setValue(value, true).setName(`ag-simple-filter-and-or-${this.getCompId()}-${uniqueGroupId}`).setLabel(label),\n      index\n    );\n  }\n  updateJoinOperatorsDisabled() {\n    this.eJoinOperatorsAnd.forEach((eJoinOperator, index) => this.updateJoinOperatorDisabled(eJoinOperator, index));\n    this.eJoinOperatorsOr.forEach((eJoinOperator, index) => this.updateJoinOperatorDisabled(eJoinOperator, index));\n  }\n  updateJoinOperatorDisabled(eJoinOperator, index) {\n    eJoinOperator.setDisabled(this.isReadOnly() || index > 0);\n  }\n  resetInput(element) {\n    this.setElementValue(element, null);\n    this.setElementDisabled(element, this.isReadOnly());\n  }\n  // puts model values into the UI\n  setConditionIntoUi(model, position) {\n    const values = this.mapValuesFromModel(model);\n    this.forEachInput((element, index, elPosition) => {\n      if (elPosition !== position) {\n        return;\n      }\n      this.setElementValue(element, values[index] != null ? values[index] : null);\n    });\n  }\n  // after floating filter changes, this sets the 'value' section. this is implemented by the base class\n  // (as that's where value is controlled), the 'type' part from the floating filter is dealt with in this class.\n  setValueFromFloatingFilter(value) {\n    this.forEachInput((element, index, position) => {\n      this.setElementValue(element, index === 0 && position === 0 ? value : null, true);\n    });\n  }\n  isDefaultOperator(operator) {\n    return operator === this.defaultJoinOperator;\n  }\n  addChangedListeners(eType, position) {\n    if (this.isReadOnly()) {\n      return;\n    }\n    eType.onValueChange(this.listener);\n    this.forEachPositionInput(position, (element) => {\n      this.attachElementOnChange(element, this.listener);\n    });\n  }\n  /** returns true if the row passes the said condition */\n  individualConditionPasses(params, filterModel) {\n    const cellValue = this.getCellValue(params.node);\n    const values = this.mapValuesFromModel(filterModel);\n    const customFilterOption = this.optionsFactory.getCustomOption(filterModel.type);\n    const customFilterResult = this.evaluateCustomFilter(customFilterOption, values, cellValue);\n    if (customFilterResult != null) {\n      return customFilterResult;\n    }\n    if (cellValue == null) {\n      return this.evaluateNullValue(filterModel.type);\n    }\n    return this.evaluateNonNullValue(values, cellValue, filterModel, params);\n  }\n  evaluateCustomFilter(customFilterOption, values, cellValue) {\n    if (customFilterOption == null) {\n      return;\n    }\n    const { predicate } = customFilterOption;\n    if (predicate != null && !values.some((v) => v == null)) {\n      return predicate(values, cellValue);\n    }\n    return;\n  }\n  isBlank(cellValue) {\n    return cellValue == null || typeof cellValue === \"string\" && cellValue.trim().length === 0;\n  }\n  hasInvalidInputs() {\n    return false;\n  }\n};\n\n// community-modules/core/src/filter/provided/scalarFilter.ts\nvar ScalarFilter = class extends SimpleFilter {\n  setParams(params) {\n    super.setParams(params);\n    this.scalarFilterParams = params;\n  }\n  evaluateNullValue(filterType) {\n    switch (filterType) {\n      case \"equals\":\n        if (this.scalarFilterParams.includeBlanksInEquals) {\n          return true;\n        }\n        break;\n      case \"notEqual\":\n        if (this.scalarFilterParams.includeBlanksInNotEqual) {\n          return true;\n        }\n        break;\n      case \"greaterThan\":\n      case \"greaterThanOrEqual\":\n        if (this.scalarFilterParams.includeBlanksInGreaterThan) {\n          return true;\n        }\n        break;\n      case \"lessThan\":\n      case \"lessThanOrEqual\":\n        if (this.scalarFilterParams.includeBlanksInLessThan) {\n          return true;\n        }\n        break;\n      case \"inRange\":\n        if (this.scalarFilterParams.includeBlanksInRange) {\n          return true;\n        }\n        break;\n      case \"blank\":\n        return true;\n      case \"notBlank\":\n        return false;\n    }\n    return false;\n  }\n  evaluateNonNullValue(values, cellValue, filterModel) {\n    const comparator = this.comparator();\n    const compareResult = values[0] != null ? comparator(values[0], cellValue) : 0;\n    switch (filterModel.type) {\n      case \"equals\":\n        return compareResult === 0;\n      case \"notEqual\":\n        return compareResult !== 0;\n      case \"greaterThan\":\n        return compareResult > 0;\n      case \"greaterThanOrEqual\":\n        return compareResult >= 0;\n      case \"lessThan\":\n        return compareResult < 0;\n      case \"lessThanOrEqual\":\n        return compareResult <= 0;\n      case \"inRange\": {\n        const compareToResult = comparator(values[1], cellValue);\n        return this.scalarFilterParams.inRangeInclusive ? compareResult >= 0 && compareToResult <= 0 : compareResult > 0 && compareToResult < 0;\n      }\n      case \"blank\":\n        return this.isBlank(cellValue);\n      case \"notBlank\":\n        return !this.isBlank(cellValue);\n      default:\n        _warnOnce(\n          'Unexpected type of filter \"' + filterModel.type + '\", it looks like the filter was configured with incorrect Filter Options'\n        );\n        return true;\n    }\n  }\n};\n\n// community-modules/core/src/utils/keyboard.ts\nvar A_KEYCODE = 65;\nvar C_KEYCODE = 67;\nvar V_KEYCODE = 86;\nvar D_KEYCODE = 68;\nvar Z_KEYCODE = 90;\nvar Y_KEYCODE = 89;\nfunction _isEventFromPrintableCharacter(event) {\n  if (event.altKey || event.ctrlKey || event.metaKey) {\n    return false;\n  }\n  const printableCharacter = event.key?.length === 1;\n  return printableCharacter;\n}\nfunction _isUserSuppressingKeyboardEvent(gos, keyboardEvent, rowNode, column, editing) {\n  const colDefFunc = column ? column.getColDef().suppressKeyboardEvent : void 0;\n  if (!colDefFunc) {\n    return false;\n  }\n  const params = gos.addGridCommonParams({\n    event: keyboardEvent,\n    editing,\n    column,\n    node: rowNode,\n    data: rowNode.data,\n    colDef: column.getColDef()\n  });\n  if (colDefFunc) {\n    const colDefFuncResult = colDefFunc(params);\n    if (colDefFuncResult) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction _isUserSuppressingHeaderKeyboardEvent(gos, keyboardEvent, headerRowIndex, column) {\n  const colDef = column.getDefinition();\n  const colDefFunc = colDef && colDef.suppressHeaderKeyboardEvent;\n  if (!_exists(colDefFunc)) {\n    return false;\n  }\n  const params = gos.addGridCommonParams({\n    colDef,\n    column,\n    headerRowIndex,\n    event: keyboardEvent\n  });\n  return !!colDefFunc(params);\n}\nfunction _normaliseQwertyAzerty(keyboardEvent) {\n  const { keyCode } = keyboardEvent;\n  let code;\n  switch (keyCode) {\n    case A_KEYCODE:\n      code = KeyCode.A;\n      break;\n    case C_KEYCODE:\n      code = KeyCode.C;\n      break;\n    case V_KEYCODE:\n      code = KeyCode.V;\n      break;\n    case D_KEYCODE:\n      code = KeyCode.D;\n      break;\n    case Z_KEYCODE:\n      code = KeyCode.Z;\n      break;\n    case Y_KEYCODE:\n      code = KeyCode.Y;\n      break;\n    default:\n      code = keyboardEvent.code;\n  }\n  return code;\n}\nfunction _isDeleteKey(key, alwaysReturnFalseOnBackspace = false) {\n  if (key === KeyCode.DELETE) {\n    return true;\n  }\n  if (!alwaysReturnFalseOnBackspace && key === KeyCode.BACKSPACE) {\n    return _isMacOsUserAgent();\n  }\n  return false;\n}\n\n// community-modules/core/src/widgets/agInputTextField.ts\nvar AgInputTextField = class extends AgAbstractInputField {\n  constructor(config, className = \"ag-text-field\", inputType = \"text\") {\n    super(config, className, inputType);\n  }\n  postConstruct() {\n    super.postConstruct();\n    if (this.config.allowedCharPattern) {\n      this.preventDisallowedCharacters();\n    }\n  }\n  setValue(value, silent) {\n    if (this.eInput.value !== value) {\n      this.eInput.value = _exists(value) ? value : \"\";\n    }\n    return super.setValue(value, silent);\n  }\n  /** Used to set an initial value into the input without necessarily setting `this.value` or triggering events (e.g. to set an invalid value) */\n  setStartValue(value) {\n    this.setValue(value, true);\n  }\n  preventDisallowedCharacters() {\n    const pattern = new RegExp(`[${this.config.allowedCharPattern}]`);\n    const preventCharacters = (event) => {\n      if (!_isEventFromPrintableCharacter(event)) {\n        return;\n      }\n      if (event.key && !pattern.test(event.key)) {\n        event.preventDefault();\n      }\n    };\n    this.addManagedListeners(this.eInput, {\n      keydown: preventCharacters,\n      paste: (e) => {\n        const text = e.clipboardData?.getData(\"text\");\n        if (text && text.split(\"\").some((c) => !pattern.test(c))) {\n          e.preventDefault();\n        }\n      }\n    });\n  }\n};\nvar AgInputTextFieldSelector = {\n  selector: \"AG-INPUT-TEXT-FIELD\",\n  component: AgInputTextField\n};\n\n// community-modules/core/src/widgets/agInputNumberField.ts\nvar AgInputNumberField = class extends AgInputTextField {\n  constructor(config) {\n    super(config, \"ag-number-field\", \"number\");\n  }\n  postConstruct() {\n    super.postConstruct();\n    this.addManagedListeners(this.eInput, {\n      blur: () => {\n        const floatedValue = parseFloat(this.eInput.value);\n        const value = isNaN(floatedValue) ? \"\" : this.normalizeValue(floatedValue.toString());\n        if (this.value !== value) {\n          this.setValue(value);\n        }\n      },\n      wheel: this.onWheel.bind(this)\n    });\n    this.eInput.step = \"any\";\n    const { precision, min, max, step } = this.config;\n    if (typeof precision === \"number\")\n      this.setPrecision(precision);\n    if (typeof min === \"number\")\n      this.setMin(min);\n    if (typeof max === \"number\")\n      this.setMax(max);\n    if (typeof step === \"number\")\n      this.setStep(step);\n  }\n  onWheel(e) {\n    if (_getActiveDomElement(this.gos) === this.eInput) {\n      e.preventDefault();\n    }\n  }\n  normalizeValue(value) {\n    if (value === \"\") {\n      return \"\";\n    }\n    if (this.precision != null) {\n      value = this.adjustPrecision(value);\n    }\n    const val = parseFloat(value);\n    if (this.min != null && val < this.min) {\n      value = this.min.toString();\n    } else if (this.max != null && val > this.max) {\n      value = this.max.toString();\n    }\n    return value;\n  }\n  adjustPrecision(value, isScientificNotation) {\n    if (this.precision == null) {\n      return value;\n    }\n    if (isScientificNotation) {\n      const floatString = parseFloat(value).toFixed(this.precision);\n      return parseFloat(floatString).toString();\n    }\n    const parts = String(value).split(\".\");\n    if (parts.length > 1) {\n      if (parts[1].length <= this.precision) {\n        return value;\n      } else if (this.precision > 0) {\n        return `${parts[0]}.${parts[1].slice(0, this.precision)}`;\n      }\n    }\n    return parts[0];\n  }\n  setMin(min) {\n    if (this.min === min) {\n      return this;\n    }\n    this.min = min;\n    _addOrRemoveAttribute(this.eInput, \"min\", min);\n    return this;\n  }\n  setMax(max) {\n    if (this.max === max) {\n      return this;\n    }\n    this.max = max;\n    _addOrRemoveAttribute(this.eInput, \"max\", max);\n    return this;\n  }\n  setPrecision(precision) {\n    this.precision = precision;\n    return this;\n  }\n  setStep(step) {\n    if (this.step === step) {\n      return this;\n    }\n    this.step = step;\n    _addOrRemoveAttribute(this.eInput, \"step\", step);\n    return this;\n  }\n  setValue(value, silent) {\n    return this.setValueOrInputValue(\n      (v) => super.setValue(v, silent),\n      () => this,\n      value\n    );\n  }\n  setStartValue(value) {\n    return this.setValueOrInputValue(\n      (v) => super.setValue(v, true),\n      (v) => {\n        this.eInput.value = v;\n      },\n      value\n    );\n  }\n  setValueOrInputValue(setValueFunc, setInputValueOnlyFunc, value) {\n    if (_exists(value)) {\n      let setInputValueOnly = this.isScientificNotation(value);\n      if (setInputValueOnly && this.eInput.validity.valid) {\n        return setValueFunc(value);\n      }\n      if (!setInputValueOnly) {\n        value = this.adjustPrecision(value);\n        const normalizedValue = this.normalizeValue(value);\n        setInputValueOnly = value != normalizedValue;\n      }\n      if (setInputValueOnly) {\n        return setInputValueOnlyFunc(value);\n      }\n    }\n    return setValueFunc(value);\n  }\n  getValue() {\n    if (!this.eInput.validity.valid) {\n      return void 0;\n    }\n    const inputValue = this.eInput.value;\n    if (this.isScientificNotation(inputValue)) {\n      return this.adjustPrecision(inputValue, true);\n    }\n    return super.getValue();\n  }\n  isScientificNotation(value) {\n    return typeof value === \"string\" && value.includes(\"e\");\n  }\n};\nvar AgInputNumberFieldSelector = {\n  selector: \"AG-INPUT-NUMBER-FIELD\",\n  component: AgInputNumberField\n};\n\n// community-modules/core/src/filter/provided/number/numberFilterConstants.ts\nvar DEFAULT_NUMBER_FILTER_OPTIONS = [\n  \"equals\",\n  \"notEqual\",\n  \"greaterThan\",\n  \"greaterThanOrEqual\",\n  \"lessThan\",\n  \"lessThanOrEqual\",\n  \"inRange\",\n  \"blank\",\n  \"notBlank\"\n];\n\n// community-modules/core/src/filter/provided/simpleFilterModelFormatter.ts\nvar SimpleFilterModelFormatter = class {\n  constructor(localeService, optionsFactory, valueFormatter) {\n    this.localeService = localeService;\n    this.optionsFactory = optionsFactory;\n    this.valueFormatter = valueFormatter;\n  }\n  // used by:\n  // 1) NumberFloatingFilter & TextFloatingFilter: Always, for both when editable and read only.\n  // 2) DateFloatingFilter: Only when read only (as we show text rather than a date picker when read only)\n  getModelAsString(model) {\n    if (!model) {\n      return null;\n    }\n    const isCombined = model.operator != null;\n    const translate = this.localeService.getLocaleTextFunc();\n    if (isCombined) {\n      const combinedModel = model;\n      const conditions = combinedModel.conditions ?? [];\n      const customOptions = conditions.map((condition) => this.getModelAsString(condition));\n      const joinOperatorTranslateKey = combinedModel.operator === \"AND\" ? \"andCondition\" : \"orCondition\";\n      return customOptions.join(\n        ` ${translate(joinOperatorTranslateKey, FILTER_LOCALE_TEXT[joinOperatorTranslateKey])} `\n      );\n    } else if (model.type === \"blank\" || model.type === \"notBlank\") {\n      return translate(model.type, model.type);\n    } else {\n      const condition = model;\n      const customOption = this.optionsFactory.getCustomOption(condition.type);\n      const { displayKey, displayName, numberOfInputs } = customOption || {};\n      if (displayKey && displayName && numberOfInputs === 0) {\n        translate(displayKey, displayName);\n        return displayName;\n      }\n      return this.conditionToString(condition, customOption);\n    }\n  }\n  updateParams(params) {\n    this.optionsFactory = params.optionsFactory;\n  }\n  formatValue(value) {\n    return this.valueFormatter ? this.valueFormatter(value ?? null) ?? \"\" : String(value);\n  }\n};\n\n// community-modules/core/src/filter/provided/number/numberFilterModelFormatter.ts\nvar NumberFilterModelFormatter = class extends SimpleFilterModelFormatter {\n  conditionToString(condition, options) {\n    const { numberOfInputs } = options || {};\n    const isRange = condition.type == \"inRange\" || numberOfInputs === 2;\n    if (isRange) {\n      return `${this.formatValue(condition.filter)}-${this.formatValue(condition.filterTo)}`;\n    }\n    if (condition.filter != null) {\n      return this.formatValue(condition.filter);\n    }\n    return `${condition.type}`;\n  }\n};\n\n// community-modules/core/src/filter/provided/number/numberFilterUtils.ts\nfunction getAllowedCharPattern(filterParams) {\n  const { allowedCharPattern } = filterParams ?? {};\n  return allowedCharPattern ?? null;\n}\n\n// community-modules/core/src/filter/provided/number/numberFilter.ts\nvar NumberFilter = class extends ScalarFilter {\n  constructor() {\n    super(\"numberFilter\");\n    this.eValuesFrom = [];\n    this.eValuesTo = [];\n  }\n  refresh(params) {\n    if (this.numberFilterParams.allowedCharPattern !== params.allowedCharPattern) {\n      return false;\n    }\n    return super.refresh(params);\n  }\n  mapValuesFromModel(filterModel) {\n    const { filter, filterTo, type } = filterModel || {};\n    return [this.processValue(filter), this.processValue(filterTo)].slice(0, this.getNumberOfInputs(type));\n  }\n  getDefaultDebounceMs() {\n    return 500;\n  }\n  comparator() {\n    return (left, right) => {\n      if (left === right) {\n        return 0;\n      }\n      return left < right ? 1 : -1;\n    };\n  }\n  setParams(params) {\n    this.numberFilterParams = params;\n    super.setParams(params);\n    this.filterModelFormatter = new NumberFilterModelFormatter(\n      this.localeService,\n      this.optionsFactory,\n      this.numberFilterParams.numberFormatter\n    );\n  }\n  getDefaultFilterOptions() {\n    return DEFAULT_NUMBER_FILTER_OPTIONS;\n  }\n  setElementValue(element, value, fromFloatingFilter) {\n    const valueToSet = !fromFloatingFilter && this.numberFilterParams.numberFormatter ? this.numberFilterParams.numberFormatter(value ?? null) : value;\n    super.setElementValue(element, valueToSet);\n  }\n  createValueElement() {\n    const allowedCharPattern = getAllowedCharPattern(this.numberFilterParams);\n    const eCondition = document.createElement(\"div\");\n    eCondition.classList.add(\"ag-filter-body\");\n    _setAriaRole(eCondition, \"presentation\");\n    this.createFromToElement(eCondition, this.eValuesFrom, \"from\", allowedCharPattern);\n    this.createFromToElement(eCondition, this.eValuesTo, \"to\", allowedCharPattern);\n    return eCondition;\n  }\n  createFromToElement(eCondition, eValues, fromTo, allowedCharPattern) {\n    const eValue = this.createManagedBean(\n      allowedCharPattern ? new AgInputTextField({ allowedCharPattern }) : new AgInputNumberField()\n    );\n    eValue.addCssClass(`ag-filter-${fromTo}`);\n    eValue.addCssClass(\"ag-filter-filter\");\n    eValues.push(eValue);\n    eCondition.appendChild(eValue.getGui());\n  }\n  removeValueElements(startPosition, deleteCount) {\n    this.removeComponents(this.eValuesFrom, startPosition, deleteCount);\n    this.removeComponents(this.eValuesTo, startPosition, deleteCount);\n  }\n  getValues(position) {\n    const result = [];\n    this.forEachPositionInput(position, (element, index, _elPosition, numberOfInputs) => {\n      if (index < numberOfInputs) {\n        result.push(this.processValue(this.stringToFloat(element.getValue())));\n      }\n    });\n    return result;\n  }\n  areSimpleModelsEqual(aSimple, bSimple) {\n    return aSimple.filter === bSimple.filter && aSimple.filterTo === bSimple.filterTo && aSimple.type === bSimple.type;\n  }\n  getFilterType() {\n    return \"number\";\n  }\n  processValue(value) {\n    if (value == null) {\n      return null;\n    }\n    return isNaN(value) ? null : value;\n  }\n  stringToFloat(value) {\n    if (typeof value === \"number\") {\n      return value;\n    }\n    let filterText = _makeNull(value);\n    if (filterText != null && filterText.trim() === \"\") {\n      filterText = null;\n    }\n    if (this.numberFilterParams.numberParser) {\n      return this.numberFilterParams.numberParser(filterText);\n    }\n    return filterText == null || filterText.trim() === \"-\" ? null : parseFloat(filterText);\n  }\n  createCondition(position) {\n    const type = this.getConditionType(position);\n    const model = {\n      filterType: this.getFilterType(),\n      type\n    };\n    const values = this.getValues(position);\n    if (values.length > 0) {\n      model.filter = values[0];\n    }\n    if (values.length > 1) {\n      model.filterTo = values[1];\n    }\n    return model;\n  }\n  getInputs(position) {\n    if (position >= this.eValuesFrom.length) {\n      return [null, null];\n    }\n    return [this.eValuesFrom[position], this.eValuesTo[position]];\n  }\n  getModelAsString(model) {\n    return this.filterModelFormatter.getModelAsString(model) ?? \"\";\n  }\n  hasInvalidInputs() {\n    let invalidInputs = false;\n    this.forEachInput((element) => {\n      if (!element.getInputElement().validity.valid) {\n        invalidInputs = true;\n        return;\n      }\n    });\n    return invalidInputs;\n  }\n};\n\n// community-modules/core/src/filter/provided/text/textFilterConstants.ts\nvar DEFAULT_TEXT_FILTER_OPTIONS = [\n  \"contains\",\n  \"notContains\",\n  \"equals\",\n  \"notEqual\",\n  \"startsWith\",\n  \"endsWith\",\n  \"blank\",\n  \"notBlank\"\n];\n\n// community-modules/core/src/filter/provided/text/textFilterModelFormatter.ts\nvar TextFilterModelFormatter = class extends SimpleFilterModelFormatter {\n  conditionToString(condition, options) {\n    const { numberOfInputs } = options || {};\n    const isRange = condition.type == \"inRange\" || numberOfInputs === 2;\n    if (isRange) {\n      return `${condition.filter}-${condition.filterTo}`;\n    }\n    if (condition.filter != null) {\n      return `${condition.filter}`;\n    }\n    return `${condition.type}`;\n  }\n};\n\n// community-modules/core/src/filter/provided/text/textFilterUtils.ts\nfunction trimInputForFilter(value) {\n  const trimmedInput = value && value.trim();\n  return trimmedInput === \"\" ? value : trimmedInput;\n}\n\n// community-modules/core/src/filter/provided/text/textFilter.ts\nvar TextFilter = class extends SimpleFilter {\n  constructor() {\n    super(\"textFilter\");\n    this.defaultFormatter = (from) => from;\n    this.defaultLowercaseFormatter = (from) => from == null ? null : from.toString().toLowerCase();\n    this.defaultMatcher = ({ filterOption, value, filterText }) => {\n      if (filterText == null) {\n        return false;\n      }\n      switch (filterOption) {\n        case \"contains\":\n          return value.indexOf(filterText) >= 0;\n        case \"notContains\":\n          return value.indexOf(filterText) < 0;\n        case \"equals\":\n          return value === filterText;\n        case \"notEqual\":\n          return value != filterText;\n        case \"startsWith\":\n          return value.indexOf(filterText) === 0;\n        case \"endsWith\": {\n          const index = value.lastIndexOf(filterText);\n          return index >= 0 && index === value.length - filterText.length;\n        }\n        default:\n          return false;\n      }\n    };\n    this.eValuesFrom = [];\n    this.eValuesTo = [];\n  }\n  getDefaultDebounceMs() {\n    return 500;\n  }\n  setParams(params) {\n    this.textFilterParams = params;\n    super.setParams(params);\n    this.matcher = this.getTextMatcher();\n    this.formatter = this.textFilterParams.textFormatter || (this.textFilterParams.caseSensitive ? this.defaultFormatter : this.defaultLowercaseFormatter);\n    this.filterModelFormatter = new TextFilterModelFormatter(this.localeService, this.optionsFactory);\n  }\n  getTextMatcher() {\n    const legacyComparator = this.textFilterParams.textCustomComparator;\n    if (legacyComparator) {\n      _warnOnce(\"textCustomComparator is deprecated, use textMatcher instead.\");\n      return ({ filterOption, value, filterText }) => legacyComparator(filterOption, value, filterText);\n    }\n    return this.textFilterParams.textMatcher || this.defaultMatcher;\n  }\n  createCondition(position) {\n    const type = this.getConditionType(position);\n    const model = {\n      filterType: this.getFilterType(),\n      type\n    };\n    const values = this.getValuesWithSideEffects(position, true);\n    if (values.length > 0) {\n      model.filter = values[0];\n    }\n    if (values.length > 1) {\n      model.filterTo = values[1];\n    }\n    return model;\n  }\n  getFilterType() {\n    return \"text\";\n  }\n  areSimpleModelsEqual(aSimple, bSimple) {\n    return aSimple.filter === bSimple.filter && aSimple.filterTo === bSimple.filterTo && aSimple.type === bSimple.type;\n  }\n  getInputs(position) {\n    if (position >= this.eValuesFrom.length) {\n      return [null, null];\n    }\n    return [this.eValuesFrom[position], this.eValuesTo[position]];\n  }\n  getValues(position) {\n    return this.getValuesWithSideEffects(position, false);\n  }\n  getValuesWithSideEffects(position, applySideEffects) {\n    const result = [];\n    this.forEachPositionInput(position, (element, index, _elPosition, numberOfInputs) => {\n      if (index < numberOfInputs) {\n        let value = _makeNull(element.getValue());\n        if (applySideEffects && this.textFilterParams.trimInput) {\n          value = trimInputForFilter(value) ?? null;\n          element.setValue(value, true);\n        }\n        result.push(value);\n      }\n    });\n    return result;\n  }\n  getDefaultFilterOptions() {\n    return DEFAULT_TEXT_FILTER_OPTIONS;\n  }\n  createValueElement() {\n    const eCondition = document.createElement(\"div\");\n    eCondition.classList.add(\"ag-filter-body\");\n    _setAriaRole(eCondition, \"presentation\");\n    this.createFromToElement(eCondition, this.eValuesFrom, \"from\");\n    this.createFromToElement(eCondition, this.eValuesTo, \"to\");\n    return eCondition;\n  }\n  createFromToElement(eCondition, eValues, fromTo) {\n    const eValue = this.createManagedBean(new AgInputTextField());\n    eValue.addCssClass(`ag-filter-${fromTo}`);\n    eValue.addCssClass(\"ag-filter-filter\");\n    eValues.push(eValue);\n    eCondition.appendChild(eValue.getGui());\n  }\n  removeValueElements(startPosition, deleteCount) {\n    this.removeComponents(this.eValuesFrom, startPosition, deleteCount);\n    this.removeComponents(this.eValuesTo, startPosition, deleteCount);\n  }\n  mapValuesFromModel(filterModel) {\n    const { filter, filterTo, type } = filterModel || {};\n    return [filter || null, filterTo || null].slice(0, this.getNumberOfInputs(type));\n  }\n  evaluateNullValue(filterType) {\n    const filterTypesAllowNulls = [\"notEqual\", \"notContains\", \"blank\"];\n    return filterType ? filterTypesAllowNulls.indexOf(filterType) >= 0 : false;\n  }\n  evaluateNonNullValue(values, cellValue, filterModel, params) {\n    const formattedValues = values.map((v) => this.formatter(v)) || [];\n    const cellValueFormatted = this.formatter(cellValue);\n    const { api, colDef, column, context, textFormatter } = this.textFilterParams;\n    if (filterModel.type === \"blank\") {\n      return this.isBlank(cellValue);\n    } else if (filterModel.type === \"notBlank\") {\n      return !this.isBlank(cellValue);\n    }\n    const matcherParams = {\n      api,\n      colDef,\n      column,\n      context,\n      node: params.node,\n      data: params.data,\n      filterOption: filterModel.type,\n      value: cellValueFormatted,\n      textFormatter\n    };\n    return formattedValues.some((v) => this.matcher({ ...matcherParams, filterText: v }));\n  }\n  getModelAsString(model) {\n    return this.filterModelFormatter.getModelAsString(model) ?? \"\";\n  }\n};\n\n// community-modules/core/src/utils/number.ts\nfunction toNumber(value) {\n  if (typeof value === \"number\") {\n    return value;\n  }\n  if (typeof value === \"string\") {\n    const parsed = parseInt(value);\n    if (isNaN(parsed)) {\n      return void 0;\n    }\n    return parsed;\n  }\n  return void 0;\n}\nfunction toConstrainedNum(min, max = Number.MAX_VALUE) {\n  return (value) => {\n    const num = toNumber(value);\n    if (num == null || num < min || num > max) {\n      return void 0;\n    }\n    return num;\n  };\n}\nfunction _padStartWidthZeros(value, totalStringSize) {\n  return value.toString().padStart(totalStringSize, \"0\");\n}\nfunction _createArrayOfNumbers(first, last) {\n  const result = [];\n  for (let i = first; i <= last; i++) {\n    result.push(i);\n  }\n  return result;\n}\nfunction _formatNumberTwoDecimalPlacesAndCommas(value, thousandSeparator, decimalSeparator) {\n  if (typeof value !== \"number\") {\n    return \"\";\n  }\n  return _formatNumberCommas(Math.round(value * 100) / 100, thousandSeparator, decimalSeparator);\n}\nfunction _formatNumberCommas(value, thousandSeparator, decimalSeparator) {\n  if (typeof value !== \"number\") {\n    return \"\";\n  }\n  return value.toString().replace(\".\", decimalSeparator).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, `$1${thousandSeparator}`);\n}\n\n// community-modules/core/src/utils/date.ts\nfunction _serialiseDate(date, includeTime = true, separator = \"-\") {\n  if (!date) {\n    return null;\n  }\n  let serialised = [date.getFullYear(), date.getMonth() + 1, date.getDate()].map((part) => _padStartWidthZeros(part, 2)).join(separator);\n  if (includeTime) {\n    serialised += \" \" + [date.getHours(), date.getMinutes(), date.getSeconds()].map((part) => _padStartWidthZeros(part, 2)).join(\":\");\n  }\n  return serialised;\n}\nvar calculateOrdinal = (value) => {\n  if (value > 3 && value < 21) {\n    return \"th\";\n  }\n  const remainder = value % 10;\n  switch (remainder) {\n    case 1:\n      return \"st\";\n    case 2:\n      return \"nd\";\n    case 3:\n      return \"rd\";\n  }\n  return \"th\";\n};\nfunction _dateToFormattedString(date, format = \"YYYY-MM-DD\") {\n  const fullYear = _padStartWidthZeros(date.getFullYear(), 4);\n  const months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ];\n  const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n  const replace = {\n    YYYY: () => fullYear.slice(fullYear.length - 4, fullYear.length),\n    YY: () => fullYear.slice(fullYear.length - 2, fullYear.length),\n    Y: () => `${date.getFullYear()}`,\n    MMMM: () => months[date.getMonth()],\n    MMM: () => months[date.getMonth()].slice(0, 3),\n    MM: () => _padStartWidthZeros(date.getMonth() + 1, 2),\n    Mo: () => `${date.getMonth() + 1}${calculateOrdinal(date.getMonth() + 1)}`,\n    M: () => `${date.getMonth() + 1}`,\n    Do: () => `${date.getDate()}${calculateOrdinal(date.getDate())}`,\n    DD: () => _padStartWidthZeros(date.getDate(), 2),\n    D: () => `${date.getDate()}`,\n    dddd: () => days[date.getDay()],\n    ddd: () => days[date.getDay()].slice(0, 3),\n    dd: () => days[date.getDay()].slice(0, 2),\n    do: () => `${date.getDay()}${calculateOrdinal(date.getDay())}`,\n    d: () => `${date.getDay()}`\n  };\n  const regexp = new RegExp(Object.keys(replace).join(\"|\"), \"g\");\n  return format.replace(regexp, (match) => {\n    if (match in replace) {\n      return replace[match]();\n    }\n    return match;\n  });\n}\nfunction _parseDateTimeFromString(value) {\n  if (!value) {\n    return null;\n  }\n  const [dateStr, timeStr] = value.split(\" \");\n  if (!dateStr) {\n    return null;\n  }\n  const fields = dateStr.split(\"-\").map((f) => parseInt(f, 10));\n  if (fields.filter((f) => !isNaN(f)).length !== 3) {\n    return null;\n  }\n  const [year, month, day] = fields;\n  const date = new Date(year, month - 1, day);\n  if (date.getFullYear() !== year || date.getMonth() !== month - 1 || date.getDate() !== day) {\n    return null;\n  }\n  if (!timeStr || timeStr === \"00:00:00\") {\n    return date;\n  }\n  const [hours, minutes, seconds] = timeStr.split(\":\").map((part) => parseInt(part, 10));\n  if (hours >= 0 && hours < 24) {\n    date.setHours(hours);\n  }\n  if (minutes >= 0 && minutes < 60) {\n    date.setMinutes(minutes);\n  }\n  if (seconds >= 0 && seconds < 60) {\n    date.setSeconds(seconds);\n  }\n  return date;\n}\n\n// community-modules/core/src/filter/provided/date/dateCompWrapper.ts\nvar DateCompWrapper = class {\n  constructor(context, userComponentFactory, dateComponentParams, eParent, onReady) {\n    this.alive = true;\n    this.context = context;\n    this.eParent = eParent;\n    const compDetails = userComponentFactory.getDateCompDetails(dateComponentParams);\n    const promise = compDetails.newAgStackInstance();\n    promise.then((dateComp) => {\n      if (!this.alive) {\n        context.destroyBean(dateComp);\n        return;\n      }\n      this.dateComp = dateComp;\n      if (!dateComp) {\n        return;\n      }\n      eParent.appendChild(dateComp.getGui());\n      if (dateComp.afterGuiAttached) {\n        dateComp.afterGuiAttached();\n      }\n      if (this.tempValue) {\n        dateComp.setDate(this.tempValue);\n      }\n      if (this.disabled != null) {\n        this.setDateCompDisabled(this.disabled);\n      }\n      onReady?.(this);\n    });\n  }\n  destroy() {\n    this.alive = false;\n    this.dateComp = this.context.destroyBean(this.dateComp);\n  }\n  getDate() {\n    return this.dateComp ? this.dateComp.getDate() : this.tempValue;\n  }\n  setDate(value) {\n    if (this.dateComp) {\n      this.dateComp.setDate(value);\n    } else {\n      this.tempValue = value;\n    }\n  }\n  setDisabled(disabled) {\n    if (this.dateComp) {\n      this.setDateCompDisabled(disabled);\n    } else {\n      this.disabled = disabled;\n    }\n  }\n  setDisplayed(displayed) {\n    _setDisplayed(this.eParent, displayed);\n  }\n  setInputPlaceholder(placeholder) {\n    if (this.dateComp && this.dateComp.setInputPlaceholder) {\n      this.dateComp.setInputPlaceholder(placeholder);\n    }\n  }\n  setInputAriaLabel(label) {\n    if (this.dateComp && this.dateComp.setInputAriaLabel) {\n      this.dateComp.setInputAriaLabel(label);\n    }\n  }\n  afterGuiAttached(params) {\n    if (this.dateComp && typeof this.dateComp.afterGuiAttached === \"function\") {\n      this.dateComp.afterGuiAttached(params);\n    }\n  }\n  updateParams(params) {\n    let hasRefreshed = false;\n    if (this.dateComp?.refresh && typeof this.dateComp.refresh === \"function\") {\n      const result = this.dateComp.refresh(params);\n      if (result !== null) {\n        hasRefreshed = true;\n      }\n    }\n    if (!hasRefreshed && this.dateComp?.onParamsUpdated && typeof this.dateComp.onParamsUpdated === \"function\") {\n      const result = this.dateComp.onParamsUpdated(params);\n      if (result !== null) {\n        _warnOnce(`Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.`);\n      }\n    }\n  }\n  setDateCompDisabled(disabled) {\n    if (this.dateComp == null) {\n      return;\n    }\n    if (this.dateComp.setDisabled == null) {\n      return;\n    }\n    this.dateComp.setDisabled(disabled);\n  }\n};\n\n// community-modules/core/src/filter/provided/date/dateFilterConstants.ts\nvar DEFAULT_DATE_FILTER_OPTIONS = [\n  \"equals\",\n  \"notEqual\",\n  \"lessThan\",\n  \"greaterThan\",\n  \"inRange\",\n  \"blank\",\n  \"notBlank\"\n];\n\n// community-modules/core/src/filter/provided/date/dateFilterModelFormatter.ts\nvar DateFilterModelFormatter = class extends SimpleFilterModelFormatter {\n  constructor(dateFilterParams, localeService, optionsFactory) {\n    super(localeService, optionsFactory);\n    this.dateFilterParams = dateFilterParams;\n  }\n  conditionToString(condition, options) {\n    const { type } = condition;\n    const { numberOfInputs } = options || {};\n    const isRange = type == \"inRange\" || numberOfInputs === 2;\n    const dateFrom = _parseDateTimeFromString(condition.dateFrom);\n    const dateTo = _parseDateTimeFromString(condition.dateTo);\n    const format = this.dateFilterParams.inRangeFloatingFilterDateFormat;\n    if (isRange) {\n      const formattedFrom = dateFrom !== null ? _dateToFormattedString(dateFrom, format) : \"null\";\n      const formattedTo = dateTo !== null ? _dateToFormattedString(dateTo, format) : \"null\";\n      return `${formattedFrom}-${formattedTo}`;\n    }\n    if (dateFrom != null) {\n      return _dateToFormattedString(dateFrom, format);\n    }\n    return `${type}`;\n  }\n  updateParams(params) {\n    super.updateParams(params);\n    this.dateFilterParams = params.dateFilterParams;\n  }\n};\n\n// community-modules/core/src/filter/provided/date/dateFilter.ts\nvar DEFAULT_MIN_YEAR = 1e3;\nvar DEFAULT_MAX_YEAR = Infinity;\nvar DateFilter = class extends ScalarFilter {\n  constructor() {\n    super(\"dateFilter\");\n    this.eConditionPanelsFrom = [];\n    this.eConditionPanelsTo = [];\n    this.dateConditionFromComps = [];\n    this.dateConditionToComps = [];\n    this.minValidYear = DEFAULT_MIN_YEAR;\n    this.maxValidYear = DEFAULT_MAX_YEAR;\n    this.minValidDate = null;\n    this.maxValidDate = null;\n  }\n  wireBeans(beans) {\n    super.wireBeans(beans);\n    this.context = beans.context;\n    this.userComponentFactory = beans.userComponentFactory;\n  }\n  afterGuiAttached(params) {\n    super.afterGuiAttached(params);\n    this.dateConditionFromComps[0].afterGuiAttached(params);\n  }\n  mapValuesFromModel(filterModel) {\n    const { dateFrom, dateTo, type } = filterModel || {};\n    return [\n      dateFrom && _parseDateTimeFromString(dateFrom) || null,\n      dateTo && _parseDateTimeFromString(dateTo) || null\n    ].slice(0, this.getNumberOfInputs(type));\n  }\n  comparator() {\n    return this.dateFilterParams.comparator ? this.dateFilterParams.comparator : this.defaultComparator.bind(this);\n  }\n  defaultComparator(filterDate, cellValue) {\n    const cellAsDate = cellValue;\n    if (cellValue == null || cellAsDate < filterDate) {\n      return -1;\n    }\n    if (cellAsDate > filterDate) {\n      return 1;\n    }\n    return 0;\n  }\n  setParams(params) {\n    this.dateFilterParams = params;\n    super.setParams(params);\n    const yearParser = (param, fallback) => {\n      if (params[param] != null) {\n        if (!isNaN(params[param])) {\n          return params[param] == null ? fallback : Number(params[param]);\n        } else {\n          _warnOnce(`DateFilter ${param} is not a number`);\n        }\n      }\n      return fallback;\n    };\n    this.minValidYear = yearParser(\"minValidYear\", DEFAULT_MIN_YEAR);\n    this.maxValidYear = yearParser(\"maxValidYear\", DEFAULT_MAX_YEAR);\n    if (this.minValidYear > this.maxValidYear) {\n      _warnOnce(`DateFilter minValidYear should be <= maxValidYear`);\n    }\n    if (params.minValidDate) {\n      this.minValidDate = params.minValidDate instanceof Date ? params.minValidDate : _parseDateTimeFromString(params.minValidDate);\n    } else {\n      this.minValidDate = null;\n    }\n    if (params.maxValidDate) {\n      this.maxValidDate = params.maxValidDate instanceof Date ? params.maxValidDate : _parseDateTimeFromString(params.maxValidDate);\n    } else {\n      this.maxValidDate = null;\n    }\n    if (this.minValidDate && this.maxValidDate && this.minValidDate > this.maxValidDate) {\n      _warnOnce(`DateFilter minValidDate should be <= maxValidDate`);\n    }\n    this.filterModelFormatter = new DateFilterModelFormatter(\n      this.dateFilterParams,\n      this.localeService,\n      this.optionsFactory\n    );\n  }\n  createDateCompWrapper(element) {\n    const dateCompWrapper = new DateCompWrapper(\n      this.context,\n      this.userComponentFactory,\n      {\n        onDateChanged: () => this.onUiChanged(),\n        filterParams: this.dateFilterParams\n      },\n      element\n    );\n    this.addDestroyFunc(() => dateCompWrapper.destroy());\n    return dateCompWrapper;\n  }\n  setElementValue(element, value) {\n    element.setDate(value);\n  }\n  setElementDisplayed(element, displayed) {\n    element.setDisplayed(displayed);\n  }\n  setElementDisabled(element, disabled) {\n    element.setDisabled(disabled);\n  }\n  getDefaultFilterOptions() {\n    return DEFAULT_DATE_FILTER_OPTIONS;\n  }\n  createValueElement() {\n    const eDocument = _getDocument(this.gos);\n    const eCondition = eDocument.createElement(\"div\");\n    eCondition.classList.add(\"ag-filter-body\");\n    this.createFromToElement(eCondition, this.eConditionPanelsFrom, this.dateConditionFromComps, \"from\");\n    this.createFromToElement(eCondition, this.eConditionPanelsTo, this.dateConditionToComps, \"to\");\n    return eCondition;\n  }\n  createFromToElement(eCondition, eConditionPanels, dateConditionComps, fromTo) {\n    const eDocument = _getDocument(this.gos);\n    const eConditionPanel = eDocument.createElement(\"div\");\n    eConditionPanel.classList.add(`ag-filter-${fromTo}`);\n    eConditionPanel.classList.add(`ag-filter-date-${fromTo}`);\n    eConditionPanels.push(eConditionPanel);\n    eCondition.appendChild(eConditionPanel);\n    dateConditionComps.push(this.createDateCompWrapper(eConditionPanel));\n  }\n  removeValueElements(startPosition, deleteCount) {\n    this.removeDateComps(this.dateConditionFromComps, startPosition, deleteCount);\n    this.removeDateComps(this.dateConditionToComps, startPosition, deleteCount);\n    this.removeItems(this.eConditionPanelsFrom, startPosition, deleteCount);\n    this.removeItems(this.eConditionPanelsTo, startPosition, deleteCount);\n  }\n  removeDateComps(components, startPosition, deleteCount) {\n    const removedComponents = this.removeItems(components, startPosition, deleteCount);\n    removedComponents.forEach((comp) => comp.destroy());\n  }\n  isValidDateValue(value) {\n    if (value === null) {\n      return false;\n    }\n    if (this.minValidDate) {\n      if (value < this.minValidDate) {\n        return false;\n      }\n    } else {\n      if (value.getUTCFullYear() < this.minValidYear) {\n        return false;\n      }\n    }\n    if (this.maxValidDate) {\n      if (value > this.maxValidDate) {\n        return false;\n      }\n    } else {\n      if (value.getUTCFullYear() > this.maxValidYear) {\n        return false;\n      }\n    }\n    return true;\n  }\n  isConditionUiComplete(position) {\n    if (!super.isConditionUiComplete(position)) {\n      return false;\n    }\n    let valid = true;\n    this.forEachInput((element, index, elPosition, numberOfInputs) => {\n      if (elPosition !== position || !valid || index >= numberOfInputs) {\n        return;\n      }\n      valid = valid && this.isValidDateValue(element.getDate());\n    });\n    return valid;\n  }\n  areSimpleModelsEqual(aSimple, bSimple) {\n    return aSimple.dateFrom === bSimple.dateFrom && aSimple.dateTo === bSimple.dateTo && aSimple.type === bSimple.type;\n  }\n  getFilterType() {\n    return \"date\";\n  }\n  createCondition(position) {\n    const type = this.getConditionType(position);\n    const model = {};\n    const values = this.getValues(position);\n    if (values.length > 0) {\n      model.dateFrom = _serialiseDate(values[0]);\n    }\n    if (values.length > 1) {\n      model.dateTo = _serialiseDate(values[1]);\n    }\n    return {\n      dateFrom: null,\n      dateTo: null,\n      filterType: this.getFilterType(),\n      type,\n      ...model\n    };\n  }\n  resetPlaceholder() {\n    const globalTranslate = this.localeService.getLocaleTextFunc();\n    const placeholder = this.translate(\"dateFormatOoo\");\n    const ariaLabel = globalTranslate(\"ariaFilterValue\", \"Filter Value\");\n    this.forEachInput((element) => {\n      element.setInputPlaceholder(placeholder);\n      element.setInputAriaLabel(ariaLabel);\n    });\n  }\n  getInputs(position) {\n    if (position >= this.dateConditionFromComps.length) {\n      return [null, null];\n    }\n    return [this.dateConditionFromComps[position], this.dateConditionToComps[position]];\n  }\n  getValues(position) {\n    const result = [];\n    this.forEachPositionInput(position, (element, index, _elPosition, numberOfInputs) => {\n      if (index < numberOfInputs) {\n        result.push(element.getDate());\n      }\n    });\n    return result;\n  }\n  translate(key) {\n    if (key === \"lessThan\") {\n      return super.translate(\"before\");\n    }\n    if (key === \"greaterThan\") {\n      return super.translate(\"after\");\n    }\n    return super.translate(key);\n  }\n  getModelAsString(model) {\n    return this.filterModelFormatter.getModelAsString(model) ?? \"\";\n  }\n};\n\n// community-modules/core/src/rendering/features/setLeftFeature.ts\nvar SetLeftFeature = class extends BeanStub {\n  constructor(columnOrGroup, eCell, beans, colsSpanning) {\n    super();\n    this.columnOrGroup = columnOrGroup;\n    this.columnOrGroup = columnOrGroup;\n    this.eCell = eCell;\n    this.ariaEl = this.eCell.querySelector(\"[role=columnheader]\") || this.eCell;\n    this.colsSpanning = colsSpanning;\n    this.beans = beans;\n  }\n  setColsSpanning(colsSpanning) {\n    this.colsSpanning = colsSpanning;\n    this.onLeftChanged();\n  }\n  getColumnOrGroup() {\n    if (this.beans.gos.get(\"enableRtl\") && this.colsSpanning) {\n      return _last(this.colsSpanning);\n    }\n    return this.columnOrGroup;\n  }\n  postConstruct() {\n    const onLeftChanged = this.onLeftChanged.bind(this);\n    this.addManagedListeners(this.columnOrGroup, { leftChanged: onLeftChanged });\n    this.setLeftFirstTime();\n    this.addManagedEventListeners({ displayedColumnsWidthChanged: onLeftChanged });\n    this.addManagedPropertyListener(\"domLayout\", onLeftChanged);\n  }\n  setLeftFirstTime() {\n    const suppressMoveAnimation = this.beans.gos.get(\"suppressColumnMoveAnimation\");\n    const oldLeftExists = _exists(this.columnOrGroup.getOldLeft());\n    const animateColumnMove = this.beans.columnAnimationService.isActive() && oldLeftExists && !suppressMoveAnimation;\n    if (animateColumnMove) {\n      this.animateInLeft();\n    } else {\n      this.onLeftChanged();\n    }\n  }\n  animateInLeft() {\n    const colOrGroup = this.getColumnOrGroup();\n    const left = colOrGroup.getLeft();\n    const oldLeft = colOrGroup.getOldLeft();\n    const oldActualLeft = this.modifyLeftForPrintLayout(colOrGroup, oldLeft);\n    const actualLeft = this.modifyLeftForPrintLayout(colOrGroup, left);\n    this.setLeft(oldActualLeft);\n    this.actualLeft = actualLeft;\n    this.beans.columnAnimationService.executeNextVMTurn(() => {\n      if (this.actualLeft === actualLeft) {\n        this.setLeft(actualLeft);\n      }\n    });\n  }\n  onLeftChanged() {\n    const colOrGroup = this.getColumnOrGroup();\n    const left = colOrGroup.getLeft();\n    this.actualLeft = this.modifyLeftForPrintLayout(colOrGroup, left);\n    this.setLeft(this.actualLeft);\n  }\n  modifyLeftForPrintLayout(colOrGroup, leftPosition) {\n    const printLayout = _isDomLayout(this.beans.gos, \"print\");\n    if (!printLayout) {\n      return leftPosition;\n    }\n    if (colOrGroup.getPinned() === \"left\") {\n      return leftPosition;\n    }\n    const leftWidth = this.beans.visibleColsService.getColsLeftWidth();\n    if (colOrGroup.getPinned() === \"right\") {\n      const bodyWidth = this.beans.visibleColsService.getBodyContainerWidth();\n      return leftWidth + bodyWidth + leftPosition;\n    }\n    return leftWidth + leftPosition;\n  }\n  setLeft(value) {\n    if (_exists(value)) {\n      this.eCell.style.left = `${value}px`;\n    }\n    if (isColumnGroup(this.columnOrGroup)) {\n      const children = this.columnOrGroup.getLeafColumns();\n      if (!children.length) {\n        return;\n      }\n      if (children.length > 1) {\n        _setAriaColSpan(this.ariaEl, children.length);\n      }\n    }\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/cssClassApplier.ts\nvar CSS_FIRST_COLUMN = \"ag-column-first\";\nvar CSS_LAST_COLUMN = \"ag-column-last\";\nfunction _getHeaderClassesFromColDef(abstractColDef, gos, column, columnGroup) {\n  if (_missing(abstractColDef)) {\n    return [];\n  }\n  return getColumnClassesFromCollDef(abstractColDef.headerClass, abstractColDef, gos, column, columnGroup);\n}\nfunction _getToolPanelClassesFromColDef(abstractColDef, gos, column, columnGroup) {\n  if (_missing(abstractColDef)) {\n    return [];\n  }\n  return getColumnClassesFromCollDef(abstractColDef.toolPanelClass, abstractColDef, gos, column, columnGroup);\n}\nfunction refreshFirstAndLastStyles(comp, column, presentedColsService) {\n  comp.addOrRemoveCssClass(CSS_FIRST_COLUMN, presentedColsService.isColAtEdge(column, \"first\"));\n  comp.addOrRemoveCssClass(CSS_LAST_COLUMN, presentedColsService.isColAtEdge(column, \"last\"));\n}\nfunction getClassParams(abstractColDef, gos, column, columnGroup) {\n  return gos.addGridCommonParams({\n    // bad naming, as colDef here can be a group or a column,\n    // however most people won't appreciate the difference,\n    // so keeping it as colDef to avoid confusion.\n    colDef: abstractColDef,\n    column,\n    columnGroup\n  });\n}\nfunction getColumnClassesFromCollDef(classesOrFunc, abstractColDef, gos, column, columnGroup) {\n  if (_missing(classesOrFunc)) {\n    return [];\n  }\n  let classToUse;\n  if (typeof classesOrFunc === \"function\") {\n    const params = getClassParams(abstractColDef, gos, column, columnGroup);\n    classToUse = classesOrFunc(params);\n  } else {\n    classToUse = classesOrFunc;\n  }\n  if (typeof classToUse === \"string\") {\n    return [classToUse];\n  }\n  if (Array.isArray(classToUse)) {\n    return [...classToUse];\n  }\n  return [];\n}\n\n// community-modules/core/src/headerRendering/cells/abstractCell/abstractHeaderCellCtrl.ts\nvar instanceIdSequence2 = 0;\nvar _AbstractHeaderCellCtrl = class _AbstractHeaderCellCtrl extends BeanStub {\n  constructor(columnGroupChild, beans, parentRowCtrl) {\n    super();\n    this.resizeToggleTimeout = 0;\n    this.resizeMultiplier = 1;\n    this.resizeFeature = null;\n    this.lastFocusEvent = null;\n    this.dragSource = null;\n    this.columnGroupChild = columnGroupChild;\n    this.parentRowCtrl = parentRowCtrl;\n    this.beans = beans;\n    this.instanceId = columnGroupChild.getUniqueId() + \"-\" + instanceIdSequence2++;\n  }\n  wireBeans(beans) {\n    this.pinnedWidthService = beans.pinnedWidthService;\n    this.focusService = beans.focusService;\n    this.userComponentFactory = beans.userComponentFactory;\n    this.ctrlsService = beans.ctrlsService;\n    this.dragAndDropService = beans.dragAndDropService;\n    this.menuService = beans.menuService;\n  }\n  postConstruct() {\n    const refreshTabIndex = this.refreshTabIndex.bind(this);\n    this.addManagedPropertyListeners([\"suppressHeaderFocus\"], refreshTabIndex);\n    this.addManagedEventListeners({\n      overlayExclusiveChanged: refreshTabIndex\n    });\n  }\n  shouldStopEventPropagation(e) {\n    const { headerRowIndex, column } = this.focusService.getFocusedHeader();\n    return _isUserSuppressingHeaderKeyboardEvent(this.gos, e, headerRowIndex, column);\n  }\n  getWrapperHasFocus() {\n    const activeEl = _getActiveDomElement(this.gos);\n    return activeEl === this.eGui;\n  }\n  setGui(eGui, compBean) {\n    this.eGui = eGui;\n    this.addDomData(compBean);\n    compBean.addManagedListeners(this.beans.eventService, {\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this)\n    });\n    compBean.addManagedElementListeners(this.eGui, {\n      focus: this.onGuiFocus.bind(this)\n    });\n    this.onDisplayedColumnsChanged();\n    this.refreshTabIndex();\n  }\n  onGuiFocus() {\n    this.eventService.dispatchEvent({\n      type: \"headerFocused\",\n      column: this.column\n    });\n  }\n  setupAutoHeight(params) {\n    const { wrapperElement, checkMeasuringCallback, compBean } = params;\n    const { animationFrameService, resizeObserverService, columnModel, gos } = this.beans;\n    const measureHeight = (timesCalled) => {\n      if (!this.isAlive() || !compBean.isAlive()) {\n        return;\n      }\n      const { paddingTop, paddingBottom, borderBottomWidth, borderTopWidth } = _getElementSize(this.getGui());\n      const extraHeight = paddingTop + paddingBottom + borderBottomWidth + borderTopWidth;\n      const wrapperHeight = wrapperElement.offsetHeight;\n      const autoHeight = wrapperHeight + extraHeight;\n      if (timesCalled < 5) {\n        const doc = _getDocument(gos);\n        const notYetInDom = !doc || !doc.contains(wrapperElement);\n        const possiblyNoContentYet = autoHeight == 0;\n        if (notYetInDom || possiblyNoContentYet) {\n          animationFrameService.requestAnimationFrame(() => measureHeight(timesCalled + 1));\n          return;\n        }\n      }\n      columnModel.setColHeaderHeight(this.column, autoHeight);\n    };\n    let isMeasuring = false;\n    let stopResizeObserver;\n    const checkMeasuring = () => {\n      const newValue = this.column.isAutoHeaderHeight();\n      if (newValue && !isMeasuring) {\n        startMeasuring();\n      }\n      if (!newValue && isMeasuring) {\n        stopMeasuring();\n      }\n    };\n    const startMeasuring = () => {\n      isMeasuring = true;\n      measureHeight(0);\n      this.comp.addOrRemoveCssClass(\"ag-header-cell-auto-height\", true);\n      stopResizeObserver = resizeObserverService.observeResize(wrapperElement, () => measureHeight(0));\n    };\n    const stopMeasuring = () => {\n      isMeasuring = false;\n      if (stopResizeObserver) {\n        stopResizeObserver();\n      }\n      this.comp.addOrRemoveCssClass(\"ag-header-cell-auto-height\", false);\n      stopResizeObserver = void 0;\n    };\n    checkMeasuring();\n    compBean.addDestroyFunc(() => stopMeasuring());\n    compBean.addManagedListeners(this.column, { widthChanged: () => isMeasuring && measureHeight(0) });\n    compBean.addManagedEventListeners({\n      sortChanged: () => {\n        if (isMeasuring) {\n          window.setTimeout(() => measureHeight(0));\n        }\n      }\n    });\n    if (checkMeasuringCallback) {\n      checkMeasuringCallback(checkMeasuring);\n    }\n  }\n  onDisplayedColumnsChanged() {\n    const { comp, column, beans, eGui } = this;\n    if (!comp || !column || !eGui) {\n      return;\n    }\n    refreshFirstAndLastStyles(comp, column, beans.visibleColsService);\n    _setAriaColIndex(eGui, beans.visibleColsService.getAriaColIndex(column));\n  }\n  addResizeAndMoveKeyboardListeners(compBean) {\n    if (!this.resizeFeature) {\n      return;\n    }\n    compBean.addManagedListeners(this.eGui, {\n      keydown: this.onGuiKeyDown.bind(this),\n      keyup: this.onGuiKeyUp.bind(this)\n    });\n  }\n  refreshTabIndex() {\n    const suppressHeaderFocus = this.focusService.isHeaderFocusSuppressed();\n    if (this.eGui) {\n      _addOrRemoveAttribute(this.eGui, \"tabindex\", suppressHeaderFocus ? null : \"-1\");\n    }\n  }\n  onGuiKeyDown(e) {\n    const activeEl = _getActiveDomElement(this.gos);\n    const isLeftOrRight = e.key === KeyCode.LEFT || e.key === KeyCode.RIGHT;\n    if (this.isResizing) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n    }\n    if (\n      // if elements within the header are focused, we don't process the event\n      activeEl !== this.eGui || // if shiftKey and altKey are not pressed, it's cell navigation so we don't process the event\n      !e.shiftKey && !e.altKey\n    ) {\n      return;\n    }\n    if (this.isResizing || isLeftOrRight) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n    }\n    if (!isLeftOrRight) {\n      return;\n    }\n    const isLeft = e.key === KeyCode.LEFT !== this.gos.get(\"enableRtl\");\n    const direction = HorizontalDirection[isLeft ? \"Left\" : \"Right\"];\n    if (e.altKey) {\n      this.isResizing = true;\n      this.resizeMultiplier += 1;\n      const diff = this.getViewportAdjustedResizeDiff(e);\n      this.resizeHeader(diff, e.shiftKey);\n      this.resizeFeature?.toggleColumnResizing(true);\n    } else {\n      this.moveHeader(direction);\n    }\n  }\n  getViewportAdjustedResizeDiff(e) {\n    let diff = this.getResizeDiff(e);\n    const pinned = this.column.getPinned();\n    if (pinned) {\n      const leftWidth = this.pinnedWidthService.getPinnedLeftWidth();\n      const rightWidth = this.pinnedWidthService.getPinnedRightWidth();\n      const bodyWidth = _getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement()) - 50;\n      if (leftWidth + rightWidth + diff > bodyWidth) {\n        if (bodyWidth > leftWidth + rightWidth) {\n          diff = bodyWidth - leftWidth - rightWidth;\n        } else {\n          return 0;\n        }\n      }\n    }\n    return diff;\n  }\n  getResizeDiff(e) {\n    let isLeft = e.key === KeyCode.LEFT !== this.gos.get(\"enableRtl\");\n    const pinned = this.column.getPinned();\n    const isRtl = this.gos.get(\"enableRtl\");\n    if (pinned) {\n      if (isRtl !== (pinned === \"right\")) {\n        isLeft = !isLeft;\n      }\n    }\n    return (isLeft ? -1 : 1) * this.resizeMultiplier;\n  }\n  onGuiKeyUp() {\n    if (!this.isResizing) {\n      return;\n    }\n    if (this.resizeToggleTimeout) {\n      window.clearTimeout(this.resizeToggleTimeout);\n      this.resizeToggleTimeout = 0;\n    }\n    this.isResizing = false;\n    this.resizeMultiplier = 1;\n    this.resizeToggleTimeout = window.setTimeout(() => {\n      this.resizeFeature?.toggleColumnResizing(false);\n    }, 150);\n  }\n  handleKeyDown(e) {\n    const wrapperHasFocus = this.getWrapperHasFocus();\n    switch (e.key) {\n      case KeyCode.PAGE_DOWN:\n      case KeyCode.PAGE_UP:\n      case KeyCode.PAGE_HOME:\n      case KeyCode.PAGE_END:\n        if (wrapperHasFocus) {\n          e.preventDefault();\n        }\n    }\n  }\n  addDomData(compBean) {\n    const key = _AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL;\n    _setDomData(this.gos, this.eGui, key, this);\n    compBean.addDestroyFunc(() => _setDomData(this.gos, this.eGui, key, null));\n  }\n  getGui() {\n    return this.eGui;\n  }\n  focus(event) {\n    if (!this.eGui) {\n      return false;\n    }\n    this.lastFocusEvent = event || null;\n    this.eGui.focus();\n    return true;\n  }\n  getRowIndex() {\n    return this.parentRowCtrl.getRowIndex();\n  }\n  getParentRowCtrl() {\n    return this.parentRowCtrl;\n  }\n  getPinned() {\n    return this.parentRowCtrl.getPinned();\n  }\n  getColumnGroupChild() {\n    return this.columnGroupChild;\n  }\n  removeDragSource() {\n    if (this.dragSource) {\n      this.dragAndDropService.removeDragSource(this.dragSource);\n      this.dragSource = null;\n    }\n  }\n  handleContextMenuMouseEvent(mouseEvent, touchEvent, column) {\n    const event = mouseEvent ?? touchEvent;\n    if (this.gos.get(\"preventDefaultOnContextMenu\")) {\n      event.preventDefault();\n    }\n    if (this.menuService.isHeaderContextMenuEnabled(column)) {\n      this.menuService.showHeaderContextMenu(column, mouseEvent, touchEvent);\n    }\n    this.dispatchColumnMouseEvent(\"columnHeaderContextMenu\", column);\n  }\n  dispatchColumnMouseEvent(eventType, column) {\n    this.eventService.dispatchEvent({\n      type: eventType,\n      column\n    });\n  }\n  clearComponent() {\n    this.removeDragSource();\n    this.resizeFeature = null;\n    this.comp = null;\n    this.eGui = null;\n  }\n  destroy() {\n    super.destroy();\n    this.column = null;\n    this.lastFocusEvent = null;\n    this.columnGroupChild = null;\n    this.parentRowCtrl = null;\n  }\n};\n_AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL = \"headerCtrl\";\nvar AbstractHeaderCellCtrl = _AbstractHeaderCellCtrl;\n\n// community-modules/core/src/headerRendering/cells/hoverFeature.ts\nvar HoverFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.columnHoverService = beans.columnHoverService;\n  }\n  constructor(columns, element) {\n    super();\n    this.columns = columns;\n    this.element = element;\n  }\n  postConstruct() {\n    if (this.gos.get(\"columnHoverHighlight\")) {\n      this.addMouseHoverListeners();\n    }\n  }\n  addMouseHoverListeners() {\n    this.addManagedListeners(this.element, {\n      mouseout: this.onMouseOut.bind(this),\n      mouseover: this.onMouseOver.bind(this)\n    });\n  }\n  onMouseOut() {\n    this.columnHoverService.clearMouseOver();\n  }\n  onMouseOver() {\n    this.columnHoverService.setMouseOver(this.columns);\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/floatingFilter/headerFilterCellCtrl.ts\nvar HeaderFilterCellCtrl = class extends AbstractHeaderCellCtrl {\n  constructor(column, beans, parentRowCtrl) {\n    super(column, beans, parentRowCtrl);\n    this.iconCreated = false;\n    this.column = column;\n  }\n  setComp(comp, eGui, eButtonShowMainFilter, eFloatingFilterBody, compBean) {\n    this.comp = comp;\n    compBean = setupCompBean(this, this.beans.context, compBean);\n    this.eButtonShowMainFilter = eButtonShowMainFilter;\n    this.eFloatingFilterBody = eFloatingFilterBody;\n    this.setGui(eGui, compBean);\n    this.setupActive();\n    this.setupWidth(compBean);\n    this.setupLeft(compBean);\n    this.setupHover(compBean);\n    this.setupFocus(compBean);\n    this.setupAria();\n    this.setupFilterButton();\n    this.setupUserComp();\n    this.setupSyncWithFilter(compBean);\n    this.setupUi();\n    compBean.addManagedElementListeners(this.eButtonShowMainFilter, { click: this.showParentFilter.bind(this) });\n    this.setupFilterChangedListener(compBean);\n    compBean.addManagedListeners(this.column, { colDefChanged: () => this.onColDefChanged(compBean) });\n    compBean.addDestroyFunc(() => {\n      this.eButtonShowMainFilter = null;\n      this.eFloatingFilterBody = null;\n      this.userCompDetails = null;\n      this.clearComponent();\n    });\n  }\n  // empty abstract method\n  resizeHeader() {\n  }\n  // empty abstract method\n  moveHeader() {\n  }\n  setupActive() {\n    const colDef = this.column.getColDef();\n    const filterExists = !!colDef.filter;\n    const floatingFilterExists = !!colDef.floatingFilter;\n    this.active = filterExists && floatingFilterExists;\n  }\n  setupUi() {\n    this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton && this.active);\n    this.comp.addOrRemoveBodyCssClass(\"ag-floating-filter-full-body\", this.suppressFilterButton);\n    this.comp.addOrRemoveBodyCssClass(\"ag-floating-filter-body\", !this.suppressFilterButton);\n    if (!this.active || this.iconCreated) {\n      return;\n    }\n    const eMenuIcon = _createIconNoSpan(\"filter\", this.gos, this.column);\n    if (eMenuIcon) {\n      this.iconCreated = true;\n      this.eButtonShowMainFilter.appendChild(eMenuIcon);\n    }\n  }\n  setupFocus(compBean) {\n    compBean.createManagedBean(\n      new ManagedFocusFeature(this.eGui, {\n        shouldStopEventPropagation: this.shouldStopEventPropagation.bind(this),\n        onTabKeyDown: this.onTabKeyDown.bind(this),\n        handleKeyDown: this.handleKeyDown.bind(this),\n        onFocusIn: this.onFocusIn.bind(this)\n      })\n    );\n  }\n  setupAria() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    _setAriaLabel(this.eButtonShowMainFilter, localeTextFunc(\"ariaFilterMenuOpen\", \"Open Filter Menu\"));\n  }\n  onTabKeyDown(e) {\n    const activeEl = _getActiveDomElement(this.gos);\n    const wrapperHasFocus = activeEl === this.eGui;\n    if (wrapperHasFocus) {\n      return;\n    }\n    const nextFocusableEl = this.focusService.findNextFocusableElement(this.eGui, null, e.shiftKey);\n    if (nextFocusableEl) {\n      this.beans.headerNavigationService.scrollToColumn(this.column);\n      e.preventDefault();\n      nextFocusableEl.focus();\n      return;\n    }\n    const nextFocusableColumn = this.findNextColumnWithFloatingFilter(e.shiftKey);\n    if (!nextFocusableColumn) {\n      return;\n    }\n    if (this.focusService.focusHeaderPosition({\n      headerPosition: {\n        headerRowIndex: this.getParentRowCtrl().getRowIndex(),\n        column: nextFocusableColumn\n      },\n      event: e\n    })) {\n      e.preventDefault();\n    }\n  }\n  findNextColumnWithFloatingFilter(backwards) {\n    const presentedColsService = this.beans.visibleColsService;\n    let nextCol = this.column;\n    do {\n      nextCol = backwards ? presentedColsService.getColBefore(nextCol) : presentedColsService.getColAfter(nextCol);\n      if (!nextCol) {\n        break;\n      }\n    } while (!nextCol.getColDef().filter || !nextCol.getColDef().floatingFilter);\n    return nextCol;\n  }\n  handleKeyDown(e) {\n    super.handleKeyDown(e);\n    const wrapperHasFocus = this.getWrapperHasFocus();\n    switch (e.key) {\n      case KeyCode.UP:\n      case KeyCode.DOWN:\n        if (!wrapperHasFocus) {\n          e.preventDefault();\n        }\n      case KeyCode.LEFT:\n      case KeyCode.RIGHT:\n        if (wrapperHasFocus) {\n          return;\n        }\n        e.stopPropagation();\n      case KeyCode.ENTER:\n        if (wrapperHasFocus) {\n          if (this.focusService.focusInto(this.eGui)) {\n            e.preventDefault();\n          }\n        }\n        break;\n      case KeyCode.ESCAPE:\n        if (!wrapperHasFocus) {\n          this.eGui.focus();\n        }\n    }\n  }\n  onFocusIn(e) {\n    const isRelatedWithin = this.eGui.contains(e.relatedTarget);\n    if (isRelatedWithin) {\n      return;\n    }\n    const notFromHeaderWrapper = !!e.relatedTarget && !e.relatedTarget.classList.contains(\"ag-floating-filter\");\n    const fromWithinHeader = !!e.relatedTarget && _isElementChildOfClass(e.relatedTarget, \"ag-floating-filter\");\n    if (notFromHeaderWrapper && fromWithinHeader && e.target === this.eGui) {\n      const lastFocusEvent = this.lastFocusEvent;\n      const fromTab = !!(lastFocusEvent && lastFocusEvent.key === KeyCode.TAB);\n      if (lastFocusEvent && fromTab) {\n        const shouldFocusLast = lastFocusEvent.shiftKey;\n        this.focusService.focusInto(this.eGui, shouldFocusLast);\n      }\n    }\n    const rowIndex = this.getRowIndex();\n    this.beans.focusService.setFocusedHeader(rowIndex, this.column);\n  }\n  setupHover(compBean) {\n    compBean.createManagedBean(new HoverFeature([this.column], this.eGui));\n    const listener = () => {\n      if (!this.gos.get(\"columnHoverHighlight\")) {\n        return;\n      }\n      const hovered = this.beans.columnHoverService.isHovered(this.column);\n      this.comp.addOrRemoveCssClass(\"ag-column-hover\", hovered);\n    };\n    compBean.addManagedEventListeners({ columnHoverChanged: listener });\n    listener();\n  }\n  setupLeft(compBean) {\n    const setLeftFeature = new SetLeftFeature(this.column, this.eGui, this.beans);\n    compBean.createManagedBean(setLeftFeature);\n  }\n  setupFilterButton() {\n    this.suppressFilterButton = !this.menuService.isFloatingFilterButtonEnabled(this.column);\n    this.highlightFilterButtonWhenActive = !this.menuService.isLegacyMenuEnabled();\n  }\n  setupUserComp() {\n    if (!this.active) {\n      return;\n    }\n    const compDetails = this.beans.filterManager?.getFloatingFilterCompDetails(\n      this.column,\n      () => this.showParentFilter()\n    );\n    if (compDetails) {\n      this.setCompDetails(compDetails);\n    }\n  }\n  setCompDetails(compDetails) {\n    this.userCompDetails = compDetails;\n    this.comp.setCompDetails(compDetails);\n  }\n  showParentFilter() {\n    const eventSource = this.suppressFilterButton ? this.eFloatingFilterBody : this.eButtonShowMainFilter;\n    this.menuService.showFilterMenu({\n      column: this.column,\n      buttonElement: eventSource,\n      containerType: \"floatingFilter\",\n      positionBy: \"button\"\n    });\n  }\n  setupSyncWithFilter(compBean) {\n    if (!this.active) {\n      return;\n    }\n    const { filterManager } = this.beans;\n    const syncWithFilter = (event) => {\n      if (event?.source === \"filterDestroyed\" && !this.isAlive()) {\n        return;\n      }\n      const compPromise = this.comp.getFloatingFilterComp();\n      if (!compPromise) {\n        return;\n      }\n      compPromise.then((comp) => {\n        if (comp) {\n          const parentModel = filterManager?.getCurrentFloatingFilterParentModel(this.column);\n          const filterChangedEvent = event ? {\n            // event can have additional params like `afterDataChange` which need to be passed through\n            ...event,\n            columns: event.columns ?? [],\n            source: event.source === \"api\" ? \"api\" : \"columnFilter\"\n          } : null;\n          comp.onParentModelChanged(parentModel, filterChangedEvent);\n        }\n      });\n    };\n    [this.destroySyncListener] = compBean.addManagedListeners(this.column, { filterChanged: syncWithFilter });\n    if (filterManager?.isFilterActive(this.column)) {\n      syncWithFilter(null);\n    }\n  }\n  setupWidth(compBean) {\n    const listener = () => {\n      const width = `${this.column.getActualWidth()}px`;\n      this.comp.setWidth(width);\n    };\n    compBean.addManagedListeners(this.column, { widthChanged: listener });\n    listener();\n  }\n  setupFilterChangedListener(compBean) {\n    if (this.active) {\n      [this.destroyFilterChangedListener] = compBean.addManagedListeners(this.column, {\n        filterChanged: this.updateFilterButton.bind(this)\n      });\n      this.updateFilterButton();\n    }\n  }\n  updateFilterButton() {\n    if (!this.suppressFilterButton && this.comp) {\n      const isFilterAllowed = !!this.beans.filterManager?.isFilterAllowed(this.column);\n      this.comp.setButtonWrapperDisplayed(isFilterAllowed);\n      if (this.highlightFilterButtonWhenActive && isFilterAllowed) {\n        this.eButtonShowMainFilter.classList.toggle(\"ag-filter-active\", this.column.isFilterActive());\n      }\n    }\n  }\n  onColDefChanged(compBean) {\n    const wasActive = this.active;\n    this.setupActive();\n    const becomeActive = !wasActive && this.active;\n    if (wasActive && !this.active) {\n      this.destroySyncListener();\n      this.destroyFilterChangedListener();\n    }\n    const newCompDetails = this.active ? this.beans.filterManager?.getFloatingFilterCompDetails(this.column, () => this.showParentFilter()) : null;\n    const compPromise = this.comp.getFloatingFilterComp();\n    if (!compPromise || !newCompDetails) {\n      this.updateCompDetails(compBean, newCompDetails, becomeActive);\n    } else {\n      compPromise.then((compInstance) => {\n        if (!compInstance || this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails ?? null, newCompDetails)) {\n          this.updateCompDetails(compBean, newCompDetails, becomeActive);\n        } else {\n          this.updateFloatingFilterParams(newCompDetails);\n        }\n      });\n    }\n  }\n  updateCompDetails(compBean, compDetails, becomeActive) {\n    if (!this.isAlive()) {\n      return;\n    }\n    this.setCompDetails(compDetails);\n    this.setupFilterButton();\n    this.setupUi();\n    if (becomeActive) {\n      this.setupSyncWithFilter(compBean);\n      this.setupFilterChangedListener(compBean);\n    }\n  }\n  updateFloatingFilterParams(userCompDetails) {\n    if (!userCompDetails) {\n      return;\n    }\n    const params = userCompDetails.params;\n    this.comp.getFloatingFilterComp()?.then((floatingFilter) => {\n      let hasRefreshed = false;\n      if (floatingFilter?.refresh && typeof floatingFilter.refresh === \"function\") {\n        const result = floatingFilter.refresh(params);\n        if (result !== null) {\n          hasRefreshed = true;\n        }\n      }\n      if (!hasRefreshed && floatingFilter?.onParamsUpdated && typeof floatingFilter.onParamsUpdated === \"function\") {\n        const result = floatingFilter.onParamsUpdated(params);\n        if (result !== null) {\n          _warnOnce(`Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.`);\n        }\n      }\n    });\n  }\n  destroy() {\n    super.destroy();\n    this.destroySyncListener = null;\n    this.destroyFilterChangedListener = null;\n  }\n};\n\n// community-modules/core/src/interfaces/iModule.ts\nfunction _defineModule(definition) {\n  return definition;\n}\n\n// community-modules/core/src/version.ts\nvar VERSION = \"32.3.9\";\n\n// community-modules/core/src/filter/columnFilterApi.ts\nfunction isColumnFilterPresent(beans) {\n  return !!beans.filterManager?.isColumnFilterPresent() || !!beans.filterManager?.isAggregateFilterPresent();\n}\nfunction getFilterInstance(beans, key, callback) {\n  return beans.filterManager?.getFilterInstance(key, callback);\n}\nfunction getColumnFilterInstance(beans, key) {\n  return beans.filterManager?.getColumnFilterInstance(key) ?? Promise.resolve(void 0);\n}\nfunction destroyFilter(beans, key) {\n  const column = beans.columnModel.getColDefCol(key);\n  if (column) {\n    return beans.filterManager?.destroyFilter(column, \"api\");\n  }\n}\nfunction setFilterModel(beans, model) {\n  beans.frameworkOverrides.wrapIncoming(() => beans.filterManager?.setFilterModel(model));\n}\nfunction getFilterModel(beans) {\n  return beans.filterManager?.getFilterModel() ?? {};\n}\nfunction getColumnFilterModel(beans, column) {\n  return beans.filterManager?.getColumnFilterModel(column) ?? null;\n}\nfunction setColumnFilterModel(beans, column, model) {\n  return beans.filterManager?.setColumnFilterModel(column, model) ?? Promise.resolve();\n}\nfunction showColumnFilter(beans, colKey) {\n  const column = beans.columnModel.getCol(colKey);\n  if (!column) {\n    _errorOnce(`column '${colKey}' not found`);\n    return;\n  }\n  beans.menuService.showFilterMenu({\n    column,\n    containerType: \"columnFilter\",\n    positionBy: \"auto\"\n  });\n}\n\n// community-modules/core/src/filter/floating/floatingFilterMapper.ts\nfunction getDefaultFloatingFilterType(frameworkOverrides, def, getFromDefault) {\n  if (def == null) {\n    return null;\n  }\n  let defaultFloatingFilterType = null;\n  const { compName, jsComp, fwComp } = UserComponentFactory.getCompKeys(frameworkOverrides, def, FilterComponent);\n  if (compName) {\n    const floatingFilterTypeMap = {\n      set: \"agSetColumnFloatingFilter\",\n      agSetColumnFilter: \"agSetColumnFloatingFilter\",\n      multi: \"agMultiColumnFloatingFilter\",\n      agMultiColumnFilter: \"agMultiColumnFloatingFilter\",\n      group: \"agGroupColumnFloatingFilter\",\n      agGroupColumnFilter: \"agGroupColumnFloatingFilter\",\n      number: \"agNumberColumnFloatingFilter\",\n      agNumberColumnFilter: \"agNumberColumnFloatingFilter\",\n      date: \"agDateColumnFloatingFilter\",\n      agDateColumnFilter: \"agDateColumnFloatingFilter\",\n      text: \"agTextColumnFloatingFilter\",\n      agTextColumnFilter: \"agTextColumnFloatingFilter\"\n    };\n    defaultFloatingFilterType = floatingFilterTypeMap[compName];\n  } else {\n    const usingDefaultFilter = jsComp == null && fwComp == null && def.filter === true;\n    if (usingDefaultFilter) {\n      defaultFloatingFilterType = getFromDefault();\n    }\n  }\n  return defaultFloatingFilterType;\n}\n\n// community-modules/core/src/filter/columnFilterService.ts\nvar MONTH_LOCALE_TEXT = {\n  january: \"January\",\n  february: \"February\",\n  march: \"March\",\n  april: \"April\",\n  may: \"May\",\n  june: \"June\",\n  july: \"July\",\n  august: \"August\",\n  september: \"September\",\n  october: \"October\",\n  november: \"November\",\n  december: \"December\"\n};\nvar MONTH_KEYS = [\n  \"january\",\n  \"february\",\n  \"march\",\n  \"april\",\n  \"may\",\n  \"june\",\n  \"july\",\n  \"august\",\n  \"september\",\n  \"october\",\n  \"november\",\n  \"december\"\n];\nvar ColumnFilterService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnFilterService\";\n    this.allColumnFilters = /* @__PURE__ */ new Map();\n    this.allColumnListeners = /* @__PURE__ */ new Map();\n    this.activeAggregateFilters = [];\n    this.activeColumnFilters = [];\n    // this is true when the grid is processing the filter change. this is used by the cell comps, so that they\n    // don't flash when data changes due to filter changes. there is no need to flash when filter changes as the\n    // user is in control, so doesn't make sense to show flashing changes. for example, go to main demo where\n    // this feature is turned off (hack code to always return false for isSuppressFlashingCellsBecauseFiltering(), put in)\n    // 100,000 rows and group by country. then do some filtering. all the cells flash, which is silly.\n    this.processingFilterChange = false;\n    // when we're waiting for cell data types to be inferred, we need to defer filter model updates\n    this.filterModelUpdateQueue = [];\n    this.columnFilterModelUpdateQueue = [];\n  }\n  wireBeans(beans) {\n    this.valueService = beans.valueService;\n    this.columnModel = beans.columnModel;\n    this.rowModel = beans.rowModel;\n    this.userComponentFactory = beans.userComponentFactory;\n    this.rowRenderer = beans.rowRenderer;\n    this.dataTypeService = beans.dataTypeService;\n    this.filterManager = beans.filterManager;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({\n      gridColumnsChanged: this.onColumnsChanged.bind(this),\n      rowDataUpdated: () => this.onNewRowsLoaded(\"rowDataUpdated\"),\n      dataTypesInferred: this.processFilterModelUpdateQueue.bind(this)\n    });\n    this.initialFilterModel = {\n      ...this.gos.get(\"initialState\")?.filter?.filterModel ?? {}\n    };\n  }\n  setFilterModel(model, source = \"api\") {\n    if (this.dataTypeService?.isPendingInference()) {\n      this.filterModelUpdateQueue.push({ model, source });\n      return;\n    }\n    const allPromises = [];\n    const previousModel = this.getFilterModel(true);\n    if (model) {\n      const modelKeys = new Set(Object.keys(model));\n      this.allColumnFilters.forEach((filterWrapper, colId) => {\n        const newModel = model[colId];\n        allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise, newModel));\n        modelKeys.delete(colId);\n      });\n      modelKeys.forEach((colId) => {\n        const column = this.columnModel.getColDefCol(colId) || this.columnModel.getCol(colId);\n        if (!column) {\n          _warnOnce(\"setFilterModel() - no column found for colId: \" + colId);\n          return;\n        }\n        if (!column.isFilterAllowed()) {\n          _warnOnce(\"setFilterModel() - unable to fully apply model, filtering disabled for colId: \" + colId);\n          return;\n        }\n        const filterWrapper = this.getOrCreateFilterWrapper(column);\n        if (!filterWrapper) {\n          _warnOnce(\n            \"setFilterModel() - unable to fully apply model, unable to create filter for colId: \" + colId\n          );\n          return;\n        }\n        allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise, model[colId]));\n      });\n    } else {\n      this.allColumnFilters.forEach((filterWrapper) => {\n        allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise, null));\n      });\n    }\n    AgPromise.all(allPromises).then(() => {\n      const currentModel = this.getFilterModel(true);\n      const columns = [];\n      this.allColumnFilters.forEach((filterWrapper, colId) => {\n        const before = previousModel ? previousModel[colId] : null;\n        const after = currentModel ? currentModel[colId] : null;\n        if (!_jsonEquals(before, after)) {\n          columns.push(filterWrapper.column);\n        }\n      });\n      if (columns.length > 0) {\n        this.filterManager?.onFilterChanged({ columns, source });\n      }\n    });\n  }\n  setModelOnFilterWrapper(filterPromise, newModel) {\n    return new AgPromise((resolve) => {\n      filterPromise.then((filter) => {\n        if (typeof filter.setModel !== \"function\") {\n          _warnOnce(\"filter missing setModel method, which is needed for setFilterModel\");\n          resolve();\n        }\n        (filter.setModel(newModel) || AgPromise.resolve()).then(() => resolve());\n      });\n    });\n  }\n  getFilterModel(excludeInitialState) {\n    const result = {};\n    const { allColumnFilters, initialFilterModel } = this;\n    allColumnFilters.forEach((filterWrapper, key) => {\n      const model = this.getModelFromFilterWrapper(filterWrapper);\n      if (_exists(model)) {\n        result[key] = model;\n      }\n    });\n    if (!excludeInitialState) {\n      Object.entries(initialFilterModel).forEach(([colId, model]) => {\n        if (_exists(model) && !allColumnFilters.has(colId) && this.columnModel.getCol(colId)?.isFilterAllowed()) {\n          result[colId] = model;\n        }\n      });\n    }\n    return result;\n  }\n  getModelFromFilterWrapper(filterWrapper) {\n    const { filter } = filterWrapper;\n    if (filter) {\n      if (typeof filter.getModel !== \"function\") {\n        _warnOnce(\"filter API missing getModel method, which is needed for getFilterModel\");\n        return null;\n      }\n      return filter.getModel();\n    } else {\n      return this.getModelFromInitialState(filterWrapper.column);\n    }\n  }\n  getModelFromInitialState(column) {\n    return this.initialFilterModel[column.getColId()] ?? null;\n  }\n  isColumnFilterPresent() {\n    return this.activeColumnFilters.length > 0;\n  }\n  isAggregateFilterPresent() {\n    return !!this.activeAggregateFilters.length;\n  }\n  disableColumnFilters() {\n    if (this.allColumnFilters.size) {\n      this.allColumnFilters.forEach(\n        (filterWrapper) => this.disposeFilterWrapper(filterWrapper, \"advancedFilterEnabled\")\n      );\n      return true;\n    }\n    return false;\n  }\n  doAggregateFiltersPass(node, filterToSkip) {\n    return this.doColumnFiltersPass(node, filterToSkip, true);\n  }\n  updateActiveFilters() {\n    const isFilterActive = (filter) => {\n      if (!filter) {\n        return false;\n      }\n      if (!filter.isFilterActive) {\n        _warnOnce(\"Filter is missing isFilterActive() method\");\n        return false;\n      }\n      return filter.isFilterActive();\n    };\n    const groupFilterEnabled = !!_getGroupAggFiltering(this.gos);\n    const isAggFilter = (column) => {\n      const isSecondary = !column.isPrimary();\n      if (isSecondary) {\n        return true;\n      }\n      const isShowingPrimaryColumns = !this.columnModel.isPivotActive();\n      const isValueActive = column.isValueActive();\n      if (!isValueActive || !isShowingPrimaryColumns) {\n        return false;\n      }\n      if (this.columnModel.isPivotMode()) {\n        return true;\n      }\n      return groupFilterEnabled;\n    };\n    const activeAggregateFilters = [];\n    const activeColumnFilters = [];\n    return this.forEachColumnFilter((filter, filterWrapper) => {\n      const filterActive = isFilterActive(filter);\n      if (filterActive) {\n        if (isAggFilter(filterWrapper.column)) {\n          activeAggregateFilters.push(filter);\n        } else {\n          activeColumnFilters.push(filter);\n        }\n      }\n    }).then(() => {\n      this.activeAggregateFilters = activeAggregateFilters;\n      this.activeColumnFilters = activeColumnFilters;\n    });\n  }\n  updateFilterFlagInColumns(source, additionalEventAttributes) {\n    return this.forEachColumnFilter(\n      (filter, filterWrapper) => filterWrapper.column.setFilterActive(filter.isFilterActive(), source, additionalEventAttributes)\n    );\n  }\n  forEachColumnFilter(callback) {\n    return AgPromise.all(\n      Array.from(this.allColumnFilters.values()).map(\n        (filterWrapper) => filterWrapper.filterPromise.then((filter) => callback(filter, filterWrapper))\n      )\n    );\n  }\n  doColumnFiltersPass(node, filterToSkip, targetAggregates) {\n    const { data, aggData } = node;\n    const targetedFilters = targetAggregates ? this.activeAggregateFilters : this.activeColumnFilters;\n    const targetedData = targetAggregates ? aggData : data;\n    for (let i = 0; i < targetedFilters.length; i++) {\n      const filter = targetedFilters[i];\n      if (filter == null || filter === filterToSkip) {\n        continue;\n      }\n      if (typeof filter.doesFilterPass !== \"function\") {\n        throw new Error(\"Filter is missing method doesFilterPass\");\n      }\n      if (!filter.doesFilterPass({ node, data: targetedData })) {\n        return false;\n      }\n    }\n    return true;\n  }\n  // sometimes (especially in React) the filter can call onFilterChanged when we are in the middle\n  // of a render cycle. this would be bad, so we wait for render cycle to complete when this happens.\n  // this happens in react when we change React State in the grid (eg setting RowCtrl's in RowContainer)\n  // which results in React State getting applied in the main application, triggering a useEffect() to\n  // be kicked off adn then the application calling the grid's API. in AG-6554, the custom filter was\n  // getting it's useEffect() triggered in this way.\n  callOnFilterChangedOutsideRenderCycle(params) {\n    const action = () => this.filterManager?.onFilterChanged(params);\n    if (this.rowRenderer.isRefreshInProgress()) {\n      setTimeout(action, 0);\n    } else {\n      action();\n    }\n  }\n  updateBeforeFilterChanged(params = {}) {\n    const { filterInstance, additionalEventAttributes } = params;\n    this.updateDependentFilters();\n    return this.updateActiveFilters().then(\n      () => this.updateFilterFlagInColumns(\"filterChanged\", additionalEventAttributes).then(() => {\n        this.allColumnFilters.forEach((filterWrapper) => {\n          if (!filterWrapper.filterPromise) {\n            return;\n          }\n          filterWrapper.filterPromise.then((filter) => {\n            if (filter && filter !== filterInstance && filter.onAnyFilterChanged) {\n              filter.onAnyFilterChanged();\n            }\n          });\n        });\n        this.processingFilterChange = true;\n      })\n    );\n  }\n  updateAfterFilterChanged() {\n    this.processingFilterChange = false;\n  }\n  isSuppressFlashingCellsBecauseFiltering() {\n    const allowShowChangeAfterFilter = this.gos.get(\"allowShowChangeAfterFilter\") ?? false;\n    return !allowShowChangeAfterFilter && this.processingFilterChange;\n  }\n  onNewRowsLoaded(source) {\n    this.forEachColumnFilter((filter) => {\n      if (filter.onNewRowsLoaded) {\n        filter.onNewRowsLoaded();\n      }\n    }).then(() => this.updateFilterFlagInColumns(source, { afterDataChange: true })).then(() => this.updateActiveFilters());\n  }\n  createValueGetter(column) {\n    return ({ node }) => this.valueService.getValue(column, node, true);\n  }\n  createGetValue(filterColumn) {\n    return (rowNode, column) => {\n      const columnToUse = column ? this.columnModel.getCol(column) : filterColumn;\n      return columnToUse ? this.valueService.getValue(columnToUse, rowNode, true) : void 0;\n    };\n  }\n  isFilterActive(column) {\n    const { filter } = this.cachedFilter(column) ?? {};\n    if (filter) {\n      return filter.isFilterActive();\n    }\n    return this.getModelFromInitialState(column) != null;\n  }\n  getOrCreateFilterWrapper(column) {\n    if (!column.isFilterAllowed()) {\n      return null;\n    }\n    let filterWrapper = this.cachedFilter(column);\n    if (!filterWrapper) {\n      filterWrapper = this.createFilterWrapper(column);\n      this.setColumnFilterWrapper(column, filterWrapper);\n    }\n    return filterWrapper;\n  }\n  cachedFilter(column) {\n    return this.allColumnFilters.get(column.getColId());\n  }\n  getDefaultFilter(column) {\n    let defaultFilter;\n    if (_isSetFilterByDefault(this.gos)) {\n      defaultFilter = \"agSetColumnFilter\";\n    } else {\n      const cellDataType = this.dataTypeService?.getBaseDataType(column);\n      if (cellDataType === \"number\") {\n        defaultFilter = \"agNumberColumnFilter\";\n      } else if (cellDataType === \"date\" || cellDataType === \"dateString\") {\n        defaultFilter = \"agDateColumnFilter\";\n      } else {\n        defaultFilter = \"agTextColumnFilter\";\n      }\n    }\n    return defaultFilter;\n  }\n  getDefaultFloatingFilter(column) {\n    let defaultFloatingFilterType;\n    if (_isSetFilterByDefault(this.gos)) {\n      defaultFloatingFilterType = \"agSetColumnFloatingFilter\";\n    } else {\n      const cellDataType = this.dataTypeService?.getBaseDataType(column);\n      if (cellDataType === \"number\") {\n        defaultFloatingFilterType = \"agNumberColumnFloatingFilter\";\n      } else if (cellDataType === \"date\" || cellDataType === \"dateString\") {\n        defaultFloatingFilterType = \"agDateColumnFloatingFilter\";\n      } else {\n        defaultFloatingFilterType = \"agTextColumnFloatingFilter\";\n      }\n    }\n    return defaultFloatingFilterType;\n  }\n  createFilterInstance(column, filterWrapper) {\n    const defaultFilter = this.getDefaultFilter(column);\n    const colDef = column.getColDef();\n    let filterInstance;\n    const params = {\n      ...this.createFilterParams(column, colDef),\n      filterModifiedCallback: () => this.filterModifiedCallbackFactory(filterInstance, column)(),\n      filterChangedCallback: (additionalEventAttributes) => this.filterChangedCallbackFactory(filterInstance, column)(additionalEventAttributes),\n      doesRowPassOtherFilter: (node) => this.filterManager ? this.filterManager.doesRowPassOtherFilters(filterInstance, node) : true\n    };\n    const compDetails = this.userComponentFactory.getFilterDetails(colDef, params, defaultFilter);\n    if (!compDetails) {\n      return { filterPromise: null, compDetails: null };\n    }\n    return {\n      filterPromise: () => {\n        const filterPromise = compDetails.newAgStackInstance();\n        if (filterPromise != null) {\n          filterPromise.then((r) => {\n            filterInstance = r;\n            if (filterWrapper) {\n              filterWrapper.filter = r;\n            }\n          });\n        }\n        return filterPromise;\n      },\n      compDetails\n    };\n  }\n  createFilterParams(column, colDef) {\n    const params = this.gos.addGridCommonParams({\n      column,\n      colDef: _cloneObject(colDef),\n      rowModel: this.rowModel,\n      filterChangedCallback: () => {\n      },\n      filterModifiedCallback: () => {\n      },\n      valueGetter: this.createValueGetter(column),\n      getValue: this.createGetValue(column),\n      doesRowPassOtherFilter: () => true\n    });\n    return params;\n  }\n  createFilterWrapper(column) {\n    const filterWrapper = {\n      column,\n      filterPromise: null,\n      compiledElement: null,\n      compDetails: null\n    };\n    const { filterPromise, compDetails } = this.createFilterInstance(column, filterWrapper);\n    filterWrapper.filterPromise = filterPromise?.() ?? null;\n    filterWrapper.compDetails = compDetails;\n    return filterWrapper;\n  }\n  onColumnsChanged() {\n    const columns = [];\n    this.allColumnFilters.forEach((wrapper, colId) => {\n      let currentColumn;\n      if (wrapper.column.isPrimary()) {\n        currentColumn = this.columnModel.getColDefCol(colId);\n      } else {\n        currentColumn = this.columnModel.getCol(colId);\n      }\n      if (currentColumn && currentColumn === wrapper.column) {\n        return;\n      }\n      columns.push(wrapper.column);\n      this.disposeFilterWrapper(wrapper, \"columnChanged\");\n      this.disposeColumnListener(colId);\n    });\n    const allFiltersAreGroupFilters = columns.every(\n      (column) => column.getColDef().filter === \"agGroupColumnFilter\"\n    );\n    if (columns.length > 0 && !allFiltersAreGroupFilters) {\n      this.filterManager?.onFilterChanged({ columns, source: \"api\" });\n    } else {\n      this.updateDependentFilters();\n    }\n  }\n  updateDependentFilters() {\n    const groupColumns = this.columnModel.getAutoCols();\n    groupColumns?.forEach((groupColumn) => {\n      if (groupColumn.getColDef().filter === \"agGroupColumnFilter\") {\n        this.getOrCreateFilterWrapper(groupColumn);\n      }\n    });\n  }\n  // for group filters, can change dynamically whether they are allowed or not\n  isFilterAllowed(column) {\n    const isFilterAllowed = column.isFilterAllowed();\n    if (!isFilterAllowed) {\n      return false;\n    }\n    const { filter } = this.allColumnFilters.get(column.getColId()) ?? {};\n    if (filter) {\n      return typeof filter?.isFilterAllowed === \"function\" ? filter.isFilterAllowed() : true;\n    }\n    return true;\n  }\n  getFloatingFilterCompDetails(column, showParentFilter) {\n    const parentFilterInstance = (callback) => {\n      const filterComponent = this.getOrCreateFilterWrapper(column)?.filterPromise;\n      if (filterComponent == null) {\n        return;\n      }\n      filterComponent.then((instance) => {\n        callback(_unwrapUserComp(instance));\n      });\n    };\n    const colDef = column.getColDef();\n    const filterParams = {\n      ...this.createFilterParams(column, colDef),\n      filterChangedCallback: () => parentFilterInstance(\n        (filterInstance) => this.filterChangedCallbackFactory(filterInstance, column)()\n      )\n    };\n    const finalFilterParams = this.userComponentFactory.mergeParamsWithApplicationProvidedParams(\n      colDef,\n      FilterComponent,\n      filterParams\n    );\n    let defaultFloatingFilterType = getDefaultFloatingFilterType(\n      this.frameworkOverrides,\n      colDef,\n      () => this.getDefaultFloatingFilter(column)\n    );\n    if (defaultFloatingFilterType == null) {\n      defaultFloatingFilterType = \"agReadOnlyFloatingFilter\";\n    }\n    const params = {\n      column,\n      filterParams: finalFilterParams,\n      currentParentModel: () => this.getCurrentFloatingFilterParentModel(column),\n      parentFilterInstance,\n      showParentFilter,\n      suppressFilterButton: false\n      // This one might be overridden from the colDef\n    };\n    return this.userComponentFactory.getFloatingFilterCompDetails(colDef, params, defaultFloatingFilterType);\n  }\n  getCurrentFloatingFilterParentModel(column) {\n    return this.getModelFromFilterWrapper(this.cachedFilter(column) ?? { column });\n  }\n  // destroys the filter, so it no longer takes part\n  destroyFilter(column, source = \"api\") {\n    const colId = column.getColId();\n    const filterWrapper = this.allColumnFilters.get(colId);\n    this.disposeColumnListener(colId);\n    delete this.initialFilterModel[colId];\n    if (filterWrapper) {\n      this.disposeFilterWrapper(filterWrapper, source);\n      this.filterManager?.onFilterChanged({\n        columns: [column],\n        source: \"api\"\n      });\n    }\n  }\n  disposeColumnListener(colId) {\n    const columnListener = this.allColumnListeners.get(colId);\n    if (columnListener) {\n      this.allColumnListeners.delete(colId);\n      columnListener();\n    }\n  }\n  disposeFilterWrapper(filterWrapper, source) {\n    filterWrapper.filterPromise.then((filter) => {\n      this.destroyBean(filter);\n      filterWrapper.column.setFilterActive(false, \"filterDestroyed\");\n      this.allColumnFilters.delete(filterWrapper.column.getColId());\n      this.eventService.dispatchEvent({\n        type: \"filterDestroyed\",\n        source,\n        column: filterWrapper.column\n      });\n    });\n  }\n  filterModifiedCallbackFactory(filter, column) {\n    return () => {\n      this.eventService.dispatchEvent({\n        type: \"filterModified\",\n        column,\n        filterInstance: filter\n      });\n    };\n  }\n  filterChangedCallbackFactory(filter, column) {\n    return (additionalEventAttributes) => {\n      const source = additionalEventAttributes?.source ?? \"columnFilter\";\n      const params = {\n        filter,\n        additionalEventAttributes,\n        columns: [column],\n        source\n      };\n      this.callOnFilterChangedOutsideRenderCycle(params);\n    };\n  }\n  checkDestroyFilter(colId) {\n    const filterWrapper = this.allColumnFilters.get(colId);\n    if (!filterWrapper) {\n      return;\n    }\n    const column = filterWrapper.column;\n    const { compDetails } = column.isFilterAllowed() ? this.createFilterInstance(column) : { compDetails: null };\n    if (this.areFilterCompsDifferent(filterWrapper.compDetails, compDetails)) {\n      this.destroyFilter(column, \"paramsUpdated\");\n      return;\n    }\n    const newFilterParams = column.getColDef().filterParams;\n    if (!filterWrapper.filterPromise) {\n      this.destroyFilter(column, \"paramsUpdated\");\n      return;\n    }\n    filterWrapper.filterPromise.then((filter) => {\n      const shouldRefreshFilter = filter?.refresh ? filter.refresh({\n        ...this.createFilterParams(column, column.getColDef()),\n        filterModifiedCallback: this.filterModifiedCallbackFactory(filter, column),\n        filterChangedCallback: this.filterChangedCallbackFactory(filter, column),\n        doesRowPassOtherFilter: (node) => this.filterManager ? this.filterManager.doesRowPassOtherFilters(filter, node) : true,\n        ...newFilterParams\n      }) : true;\n      if (shouldRefreshFilter === false) {\n        this.destroyFilter(column, \"paramsUpdated\");\n      }\n    });\n  }\n  setColumnFilterWrapper(column, filterWrapper) {\n    const colId = column.getColId();\n    this.allColumnFilters.set(colId, filterWrapper);\n    this.allColumnListeners.set(\n      colId,\n      this.addManagedListeners(column, { colDefChanged: () => this.checkDestroyFilter(colId) })[0]\n    );\n  }\n  areFilterCompsDifferent(oldCompDetails, newCompDetails) {\n    if (!newCompDetails || !oldCompDetails) {\n      return true;\n    }\n    const { componentClass: oldComponentClass } = oldCompDetails;\n    const { componentClass: newComponentClass } = newCompDetails;\n    const isSameComponentClass = oldComponentClass === newComponentClass || // react hooks returns new wrappers, so check nested render method\n    oldComponentClass?.render && newComponentClass?.render && oldComponentClass.render === newComponentClass.render;\n    return !isSameComponentClass;\n  }\n  hasFloatingFilters() {\n    const gridColumns = this.columnModel.getCols();\n    return gridColumns.some((col) => col.getColDef().floatingFilter);\n  }\n  getFilterInstance(key, callback) {\n    if (!callback) {\n      return void 0;\n    }\n    this.getFilterInstanceImpl(key).then((filter) => {\n      const unwrapped = _unwrapUserComp(filter);\n      callback(unwrapped);\n    });\n    return void 0;\n  }\n  getColumnFilterInstance(key) {\n    return new Promise((resolve) => {\n      this.getFilterInstanceImpl(key).then((filter) => {\n        resolve(_unwrapUserComp(filter));\n      });\n    });\n  }\n  getFilterInstanceImpl(key) {\n    const column = this.columnModel.getColDefCol(key);\n    if (!column) {\n      return AgPromise.resolve(void 0);\n    }\n    const filterPromise = this.getOrCreateFilterWrapper(column)?.filterPromise;\n    return filterPromise ?? AgPromise.resolve(null);\n  }\n  processFilterModelUpdateQueue() {\n    this.filterModelUpdateQueue.forEach(({ model, source }) => this.setFilterModel(model, source));\n    this.filterModelUpdateQueue = [];\n    this.columnFilterModelUpdateQueue.forEach(({ key, model, resolve }) => {\n      this.setColumnFilterModel(key, model).then(() => resolve());\n    });\n    this.columnFilterModelUpdateQueue = [];\n  }\n  getColumnFilterModel(key) {\n    const filterWrapper = this.getFilterWrapper(key);\n    return filterWrapper ? this.getModelFromFilterWrapper(filterWrapper) : null;\n  }\n  setColumnFilterModel(key, model) {\n    if (this.dataTypeService?.isPendingInference()) {\n      let resolve = () => {\n      };\n      const promise = new Promise((res) => {\n        resolve = res;\n      });\n      this.columnFilterModelUpdateQueue.push({ key, model, resolve });\n      return promise;\n    }\n    const column = this.columnModel.getColDefCol(key);\n    const filterWrapper = column ? this.getOrCreateFilterWrapper(column) : null;\n    const convertPromise = (promise) => {\n      return new Promise((resolve) => {\n        promise.then((result) => resolve(result));\n      });\n    };\n    return filterWrapper ? convertPromise(this.setModelOnFilterWrapper(filterWrapper.filterPromise, model)) : Promise.resolve();\n  }\n  getFilterWrapper(key) {\n    const column = this.columnModel.getColDefCol(key);\n    return column ? this.cachedFilter(column) ?? null : null;\n  }\n  setColDefPropertiesForDataType(colDef, dataTypeDefinition, formatValue) {\n    const usingSetFilter = _isSetFilterByDefault(this.gos);\n    const translate = this.localeService.getLocaleTextFunc();\n    const mergeFilterParams = (params) => {\n      const { filterParams } = colDef;\n      colDef.filterParams = typeof filterParams === \"object\" ? {\n        ...filterParams,\n        ...params\n      } : params;\n    };\n    switch (dataTypeDefinition.baseDataType) {\n      case \"number\": {\n        if (usingSetFilter) {\n          mergeFilterParams({\n            comparator: (a, b) => {\n              const valA = a == null ? 0 : parseInt(a);\n              const valB = b == null ? 0 : parseInt(b);\n              if (valA === valB)\n                return 0;\n              return valA > valB ? 1 : -1;\n            }\n          });\n        }\n        break;\n      }\n      case \"boolean\": {\n        if (usingSetFilter) {\n          mergeFilterParams({\n            valueFormatter: (params) => {\n              if (!_exists(params.value)) {\n                return translate(\"blanks\", \"(Blanks)\");\n              }\n              return translate(String(params.value), params.value ? \"True\" : \"False\");\n            }\n          });\n        } else {\n          mergeFilterParams({\n            maxNumConditions: 1,\n            debounceMs: 0,\n            filterOptions: [\n              \"empty\",\n              {\n                displayKey: \"true\",\n                displayName: \"True\",\n                predicate: (_filterValues, cellValue) => cellValue,\n                numberOfInputs: 0\n              },\n              {\n                displayKey: \"false\",\n                displayName: \"False\",\n                predicate: (_filterValues, cellValue) => cellValue === false,\n                numberOfInputs: 0\n              }\n            ]\n          });\n        }\n        break;\n      }\n      case \"date\": {\n        if (usingSetFilter) {\n          mergeFilterParams({\n            valueFormatter: (params) => {\n              const valueFormatted = formatValue(params);\n              return _exists(valueFormatted) ? valueFormatted : translate(\"blanks\", \"(Blanks)\");\n            },\n            treeList: true,\n            treeListFormatter: (pathKey, level) => {\n              if (level === 1 && pathKey != null) {\n                const monthKey = MONTH_KEYS[Number(pathKey) - 1];\n                return translate(monthKey, MONTH_LOCALE_TEXT[monthKey]);\n              }\n              return pathKey ?? translate(\"blanks\", \"(Blanks)\");\n            }\n          });\n        }\n        break;\n      }\n      case \"dateString\": {\n        const convertToDate = dataTypeDefinition.dateParser;\n        if (usingSetFilter) {\n          mergeFilterParams({\n            valueFormatter: (params) => {\n              const valueFormatted = formatValue(params);\n              return _exists(valueFormatted) ? valueFormatted : translate(\"blanks\", \"(Blanks)\");\n            },\n            treeList: true,\n            treeListPathGetter: (value) => {\n              const date = convertToDate(value ?? void 0);\n              return date ? [String(date.getFullYear()), String(date.getMonth() + 1), String(date.getDate())] : null;\n            },\n            treeListFormatter: (pathKey, level) => {\n              if (level === 1 && pathKey != null) {\n                const monthKey = MONTH_KEYS[Number(pathKey) - 1];\n                return translate(monthKey, MONTH_LOCALE_TEXT[monthKey]);\n              }\n              return pathKey ?? translate(\"blanks\", \"(Blanks)\");\n            }\n          });\n        } else {\n          mergeFilterParams({\n            comparator: (filterDate, cellValue) => {\n              const cellAsDate = convertToDate(cellValue);\n              if (cellValue == null || cellAsDate < filterDate) {\n                return -1;\n              }\n              if (cellAsDate > filterDate) {\n                return 1;\n              }\n              return 0;\n            }\n          });\n        }\n        break;\n      }\n      case \"object\": {\n        if (usingSetFilter) {\n          mergeFilterParams({\n            valueFormatter: (params) => {\n              const valueFormatted = formatValue(params);\n              return _exists(valueFormatted) ? valueFormatted : translate(\"blanks\", \"(Blanks)\");\n            }\n          });\n        } else {\n          colDef.filterValueGetter = (params) => formatValue({\n            column: params.column,\n            node: params.node,\n            value: this.valueService.getValue(params.column, params.node)\n          });\n        }\n        break;\n      }\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.allColumnFilters.forEach((filterWrapper) => this.disposeFilterWrapper(filterWrapper, \"gridDestroyed\"));\n    this.allColumnListeners.clear();\n  }\n};\n\n// community-modules/core/src/filter/filterApi.ts\nfunction isAnyFilterPresent(beans) {\n  return !!beans.filterManager?.isAnyFilterPresent();\n}\nfunction onFilterChanged(beans, source = \"api\") {\n  beans.filterManager?.onFilterChanged({ source });\n}\n\n// community-modules/core/src/filter/floating/provided/readOnlyFloatingFilter.ts\nvar ReadOnlyFloatingFilter = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div class=\"ag-floating-filter-input\" role=\"presentation\">\n                <ag-input-text-field data-ref=\"eFloatingFilterText\"></ag-input-text-field>\n            </div>`,\n      [AgInputTextFieldSelector]\n    );\n    this.eFloatingFilterText = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    this.columnNameService = beans.columnNameService;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n  init(params) {\n    this.params = params;\n    const displayName = this.columnNameService.getDisplayNameForColumn(params.column, \"header\", true);\n    const translate = this.localeService.getLocaleTextFunc();\n    this.eFloatingFilterText.setDisabled(true).setInputAriaLabel(`${displayName} ${translate(\"ariaFilterInput\", \"Filter Input\")}`);\n  }\n  onParentModelChanged(parentModel) {\n    if (parentModel == null) {\n      this.eFloatingFilterText.setValue(\"\");\n      return;\n    }\n    this.params.parentFilterInstance((filterInstance) => {\n      if (filterInstance.getModelAsString) {\n        const modelAsString = filterInstance.getModelAsString(parentModel);\n        this.eFloatingFilterText.setValue(modelAsString);\n      }\n    });\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    this.init(params);\n  }\n};\n\n// community-modules/core/src/filter/floating/provided/simpleFloatingFilter.ts\nvar SimpleFloatingFilter = class extends Component {\n  wireBeans(beans) {\n    this.columnNameService = beans.columnNameService;\n  }\n  getDefaultDebounceMs() {\n    return 0;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n  isEventFromFloatingFilter(event) {\n    return event && event.afterFloatingFilter;\n  }\n  isEventFromDataChange(event) {\n    return event?.afterDataChange;\n  }\n  getLastType() {\n    return this.lastType;\n  }\n  isReadOnly() {\n    return this.readOnly;\n  }\n  setLastTypeFromModel(model) {\n    if (!model) {\n      this.lastType = this.optionsFactory.getDefaultOption();\n      return;\n    }\n    const isCombined = model.operator;\n    let condition;\n    if (isCombined) {\n      const combinedModel = model;\n      condition = combinedModel.conditions[0];\n    } else {\n      condition = model;\n    }\n    this.lastType = condition.type;\n  }\n  canWeEditAfterModelFromParentFilter(model) {\n    if (!model) {\n      return this.isTypeEditable(this.lastType);\n    }\n    const isCombined = model.operator;\n    if (isCombined) {\n      return false;\n    }\n    const simpleModel = model;\n    return this.isTypeEditable(simpleModel.type);\n  }\n  init(params) {\n    this.setSimpleParams(params, false);\n  }\n  setSimpleParams(params, update = true) {\n    this.optionsFactory = new OptionsFactory();\n    this.optionsFactory.init(params.filterParams, this.getDefaultFilterOptions());\n    if (!update) {\n      this.lastType = this.optionsFactory.getDefaultOption();\n    }\n    this.readOnly = !!params.filterParams.readOnly;\n    const editable = this.isTypeEditable(this.optionsFactory.getDefaultOption());\n    this.setEditable(editable);\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    this.setSimpleParams(params);\n  }\n  doesFilterHaveSingleInput(filterType) {\n    const customFilterOption = this.optionsFactory.getCustomOption(filterType);\n    const { numberOfInputs } = customFilterOption || {};\n    return numberOfInputs == null || numberOfInputs == 1;\n  }\n  isTypeEditable(type) {\n    const uneditableTypes = [\"inRange\", \"empty\", \"blank\", \"notBlank\"];\n    return !!type && !this.isReadOnly() && this.doesFilterHaveSingleInput(type) && uneditableTypes.indexOf(type) < 0;\n  }\n  getAriaLabel(params) {\n    const displayName = this.columnNameService.getDisplayNameForColumn(params.column, \"header\", true);\n    const translate = this.localeService.getLocaleTextFunc();\n    return `${displayName} ${translate(\"ariaFilterInput\", \"Filter Input\")}`;\n  }\n};\n\n// community-modules/core/src/filter/provided/date/dateFloatingFilter.ts\nvar DateFloatingFilter = class extends SimpleFloatingFilter {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div class=\"ag-floating-filter-input\" role=\"presentation\">\n                <ag-input-text-field data-ref=\"eReadOnlyText\"></ag-input-text-field>\n                <div data-ref=\"eDateWrapper\" style=\"display: flex;\"></div>\n            </div>`,\n      [AgInputTextFieldSelector]\n    );\n    this.eReadOnlyText = RefPlaceholder;\n    this.eDateWrapper = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    super.wireBeans(beans);\n    this.context = beans.context;\n    this.userComponentFactory = beans.userComponentFactory;\n  }\n  getDefaultFilterOptions() {\n    return DEFAULT_DATE_FILTER_OPTIONS;\n  }\n  init(params) {\n    super.init(params);\n    this.params = params;\n    this.filterParams = params.filterParams;\n    this.createDateComponent();\n    this.filterModelFormatter = new DateFilterModelFormatter(\n      this.filterParams,\n      this.localeService,\n      this.optionsFactory\n    );\n    const translate = this.localeService.getLocaleTextFunc();\n    this.eReadOnlyText.setDisabled(true).setInputAriaLabel(translate(\"ariaDateFilterInput\", \"Date Filter Input\"));\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    super.refresh(params);\n    this.params = params;\n    this.filterParams = params.filterParams;\n    this.updateDateComponent();\n    this.filterModelFormatter.updateParams({\n      optionsFactory: this.optionsFactory,\n      dateFilterParams: this.filterParams\n    });\n    this.updateCompOnModelChange(params.currentParentModel());\n  }\n  updateCompOnModelChange(model) {\n    const allowEditing = !this.isReadOnly() && this.canWeEditAfterModelFromParentFilter(model);\n    this.setEditable(allowEditing);\n    if (allowEditing) {\n      if (model) {\n        const dateModel = model;\n        this.dateComp.setDate(_parseDateTimeFromString(dateModel.dateFrom));\n      } else {\n        this.dateComp.setDate(null);\n      }\n      this.eReadOnlyText.setValue(\"\");\n    } else {\n      this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(model));\n      this.dateComp.setDate(null);\n    }\n  }\n  setEditable(editable) {\n    _setDisplayed(this.eDateWrapper, editable);\n    _setDisplayed(this.eReadOnlyText.getGui(), !editable);\n  }\n  onParentModelChanged(model, event) {\n    if (this.isEventFromFloatingFilter(event) || this.isEventFromDataChange(event)) {\n      return;\n    }\n    super.setLastTypeFromModel(model);\n    this.updateCompOnModelChange(model);\n  }\n  onDateChanged() {\n    const filterValueDate = this.dateComp.getDate();\n    const filterValueText = _serialiseDate(filterValueDate);\n    this.params.parentFilterInstance((filterInstance) => {\n      if (filterInstance) {\n        const date = _parseDateTimeFromString(filterValueText);\n        filterInstance.onFloatingFilterChanged(this.getLastType() || null, date);\n      }\n    });\n  }\n  getDateComponentParams() {\n    const debounceMs = getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs());\n    return {\n      onDateChanged: _debounce(this.onDateChanged.bind(this), debounceMs),\n      filterParams: this.params.column.getColDef().filterParams\n    };\n  }\n  createDateComponent() {\n    this.dateComp = new DateCompWrapper(\n      this.context,\n      this.userComponentFactory,\n      this.getDateComponentParams(),\n      this.eDateWrapper,\n      (dateComp) => {\n        dateComp.setInputAriaLabel(this.getAriaLabel(this.params));\n      }\n    );\n    this.addDestroyFunc(() => this.dateComp.destroy());\n  }\n  updateDateComponent() {\n    const params = this.gos.addGridCommonParams(this.getDateComponentParams());\n    this.dateComp.updateParams(params);\n  }\n  getFilterModelFormatter() {\n    return this.filterModelFormatter;\n  }\n};\n\n// community-modules/core/src/filter/provided/date/defaultDateComponent.ts\nvar DefaultDateComponent = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div class=\"ag-filter-filter\">\n                <ag-input-text-field class=\"ag-date-filter\" data-ref=\"eDateInput\"></ag-input-text-field>\n            </div>`,\n      [AgInputTextFieldSelector]\n    );\n    this.eDateInput = RefPlaceholder;\n  }\n  // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n  // so we need to override destroy() just to make the method public.\n  destroy() {\n    super.destroy();\n  }\n  init(params) {\n    this.params = params;\n    this.setParams(params);\n    const inputElement = this.eDateInput.getInputElement();\n    this.addManagedListeners(inputElement, {\n      // ensures that the input element is focussed when a clear button is clicked,\n      // unless using safari as there is no clear button and focus does not work properly\n      mouseDown: () => {\n        if (this.eDateInput.isDisabled() || this.usingSafariDatePicker) {\n          return;\n        }\n        inputElement.focus();\n      },\n      input: (e) => {\n        if (e.target !== _getActiveDomElement(this.gos)) {\n          return;\n        }\n        if (this.eDateInput.isDisabled()) {\n          return;\n        }\n        this.params.onDateChanged();\n      }\n    });\n  }\n  setParams(params) {\n    const inputElement = this.eDateInput.getInputElement();\n    const shouldUseBrowserDatePicker = this.shouldUseBrowserDatePicker(params);\n    this.usingSafariDatePicker = shouldUseBrowserDatePicker && _isBrowserSafari();\n    inputElement.type = shouldUseBrowserDatePicker ? \"date\" : \"text\";\n    const { minValidYear, maxValidYear, minValidDate, maxValidDate } = params.filterParams || {};\n    if (minValidDate && minValidYear) {\n      _warnOnce(\n        \"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.\"\n      );\n    }\n    if (maxValidDate && maxValidYear) {\n      _warnOnce(\n        \"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.\"\n      );\n    }\n    if (minValidDate && maxValidDate) {\n      const [parsedMinValidDate, parsedMaxValidDate] = [minValidDate, maxValidDate].map(\n        (v) => v instanceof Date ? v : _parseDateTimeFromString(v)\n      );\n      if (parsedMinValidDate && parsedMaxValidDate && parsedMinValidDate.getTime() > parsedMaxValidDate.getTime()) {\n        _warnOnce(\n          \"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.\"\n        );\n      }\n    }\n    if (minValidDate) {\n      if (minValidDate instanceof Date) {\n        inputElement.min = _dateToFormattedString(minValidDate);\n      } else {\n        inputElement.min = minValidDate;\n      }\n    } else {\n      if (minValidYear) {\n        inputElement.min = `${minValidYear}-01-01`;\n      }\n    }\n    if (maxValidDate) {\n      if (maxValidDate instanceof Date) {\n        inputElement.max = _dateToFormattedString(maxValidDate);\n      } else {\n        inputElement.max = maxValidDate;\n      }\n    } else {\n      if (maxValidYear) {\n        inputElement.max = `${maxValidYear}-12-31`;\n      }\n    }\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    this.params = params;\n    this.setParams(params);\n  }\n  getDate() {\n    return _parseDateTimeFromString(this.eDateInput.getValue());\n  }\n  setDate(date) {\n    this.eDateInput.setValue(_serialiseDate(date, false));\n  }\n  setInputPlaceholder(placeholder) {\n    this.eDateInput.setInputPlaceholder(placeholder);\n  }\n  setInputAriaLabel(ariaLabel) {\n    this.eDateInput.setAriaLabel(ariaLabel);\n  }\n  setDisabled(disabled) {\n    this.eDateInput.setDisabled(disabled);\n  }\n  afterGuiAttached(params) {\n    if (!params || !params.suppressFocus) {\n      this.eDateInput.getInputElement().focus();\n    }\n  }\n  shouldUseBrowserDatePicker(params) {\n    if (params.filterParams && params.filterParams.browserDatePicker != null) {\n      return params.filterParams.browserDatePicker;\n    }\n    return _isBrowserChrome() || _isBrowserFirefox() || _isBrowserSafari() && _getSafariVersion() >= 14.1;\n  }\n};\n\n// community-modules/core/src/filter/floating/provided/floatingFilterTextInputService.ts\nvar FloatingFilterTextInputService = class extends BeanStub {\n  constructor(params) {\n    super();\n    this.params = params;\n    this.eFloatingFilterTextInput = RefPlaceholder;\n    this.valueChangedListener = () => {\n    };\n  }\n  setupGui(parentElement) {\n    this.eFloatingFilterTextInput = this.createManagedBean(new AgInputTextField(this.params?.config));\n    const eInput = this.eFloatingFilterTextInput.getGui();\n    parentElement.appendChild(eInput);\n    const listener = (e) => this.valueChangedListener(e);\n    this.addManagedListeners(eInput, {\n      input: listener,\n      keydown: listener\n    });\n  }\n  setEditable(editable) {\n    this.eFloatingFilterTextInput.setDisabled(!editable);\n  }\n  setAutoComplete(autoComplete) {\n    this.eFloatingFilterTextInput.setAutoComplete(autoComplete);\n  }\n  getValue() {\n    return this.eFloatingFilterTextInput.getValue();\n  }\n  setValue(value, silent) {\n    this.eFloatingFilterTextInput.setValue(value, silent);\n  }\n  setValueChangedListener(listener) {\n    this.valueChangedListener = listener;\n  }\n  setParams(params) {\n    this.setAriaLabel(params.ariaLabel);\n    if (params.autoComplete !== void 0) {\n      this.setAutoComplete(params.autoComplete);\n    }\n  }\n  setAriaLabel(ariaLabel) {\n    this.eFloatingFilterTextInput.setInputAriaLabel(ariaLabel);\n  }\n};\n\n// community-modules/core/src/filter/floating/provided/textInputFloatingFilter.ts\nvar TextInputFloatingFilter = class extends SimpleFloatingFilter {\n  constructor() {\n    super(...arguments);\n    this.eFloatingFilterInputContainer = RefPlaceholder;\n  }\n  postConstruct() {\n    this.setTemplate(\n      /* html */\n      `\n            <div class=\"ag-floating-filter-input\" role=\"presentation\" data-ref=\"eFloatingFilterInputContainer\"></div>\n        `\n    );\n  }\n  getDefaultDebounceMs() {\n    return 500;\n  }\n  onParentModelChanged(model, event) {\n    if (this.isEventFromFloatingFilter(event) || this.isEventFromDataChange(event)) {\n      return;\n    }\n    this.setLastTypeFromModel(model);\n    this.setEditable(this.canWeEditAfterModelFromParentFilter(model));\n    this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(model));\n  }\n  init(params) {\n    this.setupFloatingFilterInputService(params);\n    super.init(params);\n    this.setTextInputParams(params);\n  }\n  setupFloatingFilterInputService(params) {\n    this.floatingFilterInputService = this.createFloatingFilterInputService(params);\n    this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer);\n  }\n  setTextInputParams(params) {\n    this.params = params;\n    const autoComplete = params.browserAutoComplete ?? false;\n    this.floatingFilterInputService.setParams({\n      ariaLabel: this.getAriaLabel(params),\n      autoComplete\n    });\n    this.applyActive = isUseApplyButton(this.params.filterParams);\n    if (!this.isReadOnly()) {\n      const debounceMs = getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs());\n      const toDebounce = _debounce(\n        this.syncUpWithParentFilter.bind(this),\n        debounceMs\n      );\n      this.floatingFilterInputService.setValueChangedListener(toDebounce);\n    }\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    super.refresh(params);\n    this.setTextInputParams(params);\n  }\n  recreateFloatingFilterInputService(params) {\n    const value = this.floatingFilterInputService.getValue();\n    _clearElement(this.eFloatingFilterInputContainer);\n    this.destroyBean(this.floatingFilterInputService);\n    this.setupFloatingFilterInputService(params);\n    this.floatingFilterInputService.setValue(value, true);\n  }\n  syncUpWithParentFilter(e) {\n    const isEnterKey = e.key === KeyCode.ENTER;\n    if (this.applyActive && !isEnterKey) {\n      return;\n    }\n    let value = this.floatingFilterInputService.getValue();\n    if (this.params.filterParams.trimInput) {\n      value = trimInputForFilter(value);\n      this.floatingFilterInputService.setValue(value, true);\n    }\n    this.params.parentFilterInstance((filterInstance) => {\n      if (filterInstance) {\n        filterInstance.onFloatingFilterChanged(this.getLastType() || null, value || null);\n      }\n    });\n  }\n  setEditable(editable) {\n    this.floatingFilterInputService.setEditable(editable);\n  }\n};\n\n// community-modules/core/src/filter/provided/number/numberFloatingFilter.ts\nvar FloatingFilterNumberInputService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.valueChangedListener = () => {\n    };\n    this.numberInputActive = true;\n  }\n  setupGui(parentElement) {\n    this.eFloatingFilterNumberInput = this.createManagedBean(new AgInputNumberField());\n    this.eFloatingFilterTextInput = this.createManagedBean(new AgInputTextField());\n    this.eFloatingFilterTextInput.setDisabled(true);\n    const eNumberInput = this.eFloatingFilterNumberInput.getGui();\n    const eTextInput = this.eFloatingFilterTextInput.getGui();\n    parentElement.appendChild(eNumberInput);\n    parentElement.appendChild(eTextInput);\n    this.setupListeners(eNumberInput, (e) => this.valueChangedListener(e));\n    this.setupListeners(eTextInput, (e) => this.valueChangedListener(e));\n  }\n  setEditable(editable) {\n    this.numberInputActive = editable;\n    this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive);\n    this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive);\n  }\n  setAutoComplete(autoComplete) {\n    this.eFloatingFilterNumberInput.setAutoComplete(autoComplete);\n    this.eFloatingFilterTextInput.setAutoComplete(autoComplete);\n  }\n  getValue() {\n    return this.getActiveInputElement().getValue();\n  }\n  setValue(value, silent) {\n    this.getActiveInputElement().setValue(value, silent);\n  }\n  getActiveInputElement() {\n    return this.numberInputActive ? this.eFloatingFilterNumberInput : this.eFloatingFilterTextInput;\n  }\n  setValueChangedListener(listener) {\n    this.valueChangedListener = listener;\n  }\n  setupListeners(element, listener) {\n    this.addManagedListeners(element, {\n      input: listener,\n      keydown: listener\n    });\n  }\n  setParams(params) {\n    this.setAriaLabel(params.ariaLabel);\n    if (params.autoComplete !== void 0) {\n      this.setAutoComplete(params.autoComplete);\n    }\n  }\n  setAriaLabel(ariaLabel) {\n    this.eFloatingFilterNumberInput.setInputAriaLabel(ariaLabel);\n    this.eFloatingFilterTextInput.setInputAriaLabel(ariaLabel);\n  }\n};\nvar NumberFloatingFilter = class extends TextInputFloatingFilter {\n  init(params) {\n    super.init(params);\n    this.filterModelFormatter = new NumberFilterModelFormatter(\n      this.localeService,\n      this.optionsFactory,\n      params.filterParams?.numberFormatter\n    );\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    const allowedCharPattern = getAllowedCharPattern(params.filterParams);\n    if (allowedCharPattern !== this.allowedCharPattern) {\n      this.recreateFloatingFilterInputService(params);\n    }\n    super.refresh(params);\n    this.filterModelFormatter.updateParams({ optionsFactory: this.optionsFactory });\n  }\n  getDefaultFilterOptions() {\n    return DEFAULT_NUMBER_FILTER_OPTIONS;\n  }\n  getFilterModelFormatter() {\n    return this.filterModelFormatter;\n  }\n  createFloatingFilterInputService(params) {\n    this.allowedCharPattern = getAllowedCharPattern(params.filterParams);\n    if (this.allowedCharPattern) {\n      return this.createManagedBean(\n        new FloatingFilterTextInputService({\n          config: { allowedCharPattern: this.allowedCharPattern }\n        })\n      );\n    }\n    return this.createManagedBean(new FloatingFilterNumberInputService());\n  }\n};\n\n// community-modules/core/src/filter/provided/text/textFloatingFilter.ts\nvar TextFloatingFilter = class extends TextInputFloatingFilter {\n  init(params) {\n    super.init(params);\n    this.filterModelFormatter = new TextFilterModelFormatter(this.localeService, this.optionsFactory);\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    super.refresh(params);\n    this.filterModelFormatter.updateParams({ optionsFactory: this.optionsFactory });\n  }\n  getDefaultFilterOptions() {\n    return DEFAULT_TEXT_FILTER_OPTIONS;\n  }\n  getFilterModelFormatter() {\n    return this.filterModelFormatter;\n  }\n  createFloatingFilterInputService() {\n    return this.createManagedBean(new FloatingFilterTextInputService());\n  }\n};\n\n// community-modules/core/src/filter/quickFilterApi.ts\nfunction isQuickFilterPresent(beans) {\n  return !!beans.filterManager?.isQuickFilterPresent();\n}\nfunction getQuickFilter(beans) {\n  return beans.gos.get(\"quickFilterText\");\n}\nfunction resetQuickFilter(beans) {\n  beans.filterManager?.resetQuickFilterCache();\n}\n\n// community-modules/core/src/filter/quickFilterService.ts\nvar QuickFilterService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"quickFilterService\";\n    this.quickFilter = null;\n    this.quickFilterParts = null;\n  }\n  wireBeans(beans) {\n    this.valueService = beans.valueService;\n    this.columnModel = beans.columnModel;\n    this.rowModel = beans.rowModel;\n    this.pivotResultColsService = beans.pivotResultColsService;\n  }\n  postConstruct() {\n    const resetListener = this.resetQuickFilterCache.bind(this);\n    this.addManagedEventListeners({\n      columnPivotModeChanged: resetListener,\n      newColumnsLoaded: resetListener,\n      columnRowGroupChanged: resetListener,\n      columnVisible: () => {\n        if (!this.gos.get(\"includeHiddenColumnsInQuickFilter\")) {\n          this.resetQuickFilterCache();\n        }\n      }\n    });\n    this.addManagedPropertyListener(\"quickFilterText\", (e) => this.setQuickFilter(e.currentValue));\n    this.addManagedPropertyListeners(\n      [\"includeHiddenColumnsInQuickFilter\", \"applyQuickFilterBeforePivotOrAgg\"],\n      () => this.onQuickFilterColumnConfigChanged()\n    );\n    this.quickFilter = this.parseQuickFilter(this.gos.get(\"quickFilterText\"));\n    this.parser = this.gos.get(\"quickFilterParser\");\n    this.matcher = this.gos.get(\"quickFilterMatcher\");\n    this.setQuickFilterParts();\n    this.addManagedPropertyListeners(\n      [\"quickFilterMatcher\", \"quickFilterParser\"],\n      () => this.setQuickFilterParserAndMatcher()\n    );\n  }\n  // if we are using autoGroupCols, then they should be included for quick filter. this covers the\n  // following scenarios:\n  // a) user provides 'field' into autoGroupCol of normal grid, so now because a valid col to filter leafs on\n  // b) using tree data and user depends on autoGroupCol for first col, and we also want to filter on this\n  //    (tree data is a bit different, as parent rows can be filtered on, unlike row grouping)\n  refreshQuickFilterCols() {\n    const pivotMode = this.columnModel.isPivotMode();\n    const groupAutoCols = this.columnModel.getAutoCols();\n    const providedCols = this.columnModel.getColDefCols();\n    let columnsForQuickFilter = (pivotMode && !this.gos.get(\"applyQuickFilterBeforePivotOrAgg\") ? this.pivotResultColsService.getPivotResultCols()?.list : providedCols) ?? [];\n    if (groupAutoCols) {\n      columnsForQuickFilter = columnsForQuickFilter.concat(groupAutoCols);\n    }\n    this.colsForQuickFilter = this.gos.get(\"includeHiddenColumnsInQuickFilter\") ? columnsForQuickFilter : columnsForQuickFilter.filter((col) => col.isVisible() || col.isRowGroupActive());\n  }\n  isQuickFilterPresent() {\n    return this.quickFilter !== null;\n  }\n  doesRowPassQuickFilter(node) {\n    const usingCache = this.gos.get(\"cacheQuickFilter\");\n    if (this.matcher) {\n      return this.doesRowPassQuickFilterMatcher(usingCache, node);\n    }\n    return this.quickFilterParts.every(\n      (part) => usingCache ? this.doesRowPassQuickFilterCache(node, part) : this.doesRowPassQuickFilterNoCache(node, part)\n    );\n  }\n  resetQuickFilterCache() {\n    this.rowModel.forEachNode((node) => node.quickFilterAggregateText = null);\n  }\n  setQuickFilterParts() {\n    const { quickFilter, parser } = this;\n    if (quickFilter) {\n      this.quickFilterParts = parser ? parser(quickFilter) : quickFilter.split(\" \");\n    } else {\n      this.quickFilterParts = null;\n    }\n  }\n  parseQuickFilter(newFilter) {\n    if (!_exists(newFilter)) {\n      return null;\n    }\n    if (!_isClientSideRowModel(this.gos)) {\n      _warnOnce(\"Quick filtering only works with the Client-Side Row Model\");\n      return null;\n    }\n    return newFilter.toUpperCase();\n  }\n  setQuickFilter(newFilter) {\n    if (newFilter != null && typeof newFilter !== \"string\") {\n      _warnOnce(`Grid option quickFilterText only supports string inputs, received: ${typeof newFilter}`);\n      return;\n    }\n    const parsedFilter = this.parseQuickFilter(newFilter);\n    if (this.quickFilter !== parsedFilter) {\n      this.quickFilter = parsedFilter;\n      this.setQuickFilterParts();\n      this.dispatchLocalEvent({ type: \"quickFilterChanged\" });\n    }\n  }\n  setQuickFilterParserAndMatcher() {\n    const parser = this.gos.get(\"quickFilterParser\");\n    const matcher = this.gos.get(\"quickFilterMatcher\");\n    const hasChanged = parser !== this.parser || matcher !== this.matcher;\n    this.parser = parser;\n    this.matcher = matcher;\n    if (hasChanged) {\n      this.setQuickFilterParts();\n      this.dispatchLocalEvent({ type: \"quickFilterChanged\" });\n    }\n  }\n  onQuickFilterColumnConfigChanged() {\n    this.refreshQuickFilterCols();\n    this.resetQuickFilterCache();\n    if (this.isQuickFilterPresent()) {\n      this.dispatchLocalEvent({ type: \"quickFilterChanged\" });\n    }\n  }\n  doesRowPassQuickFilterNoCache(node, filterPart) {\n    return this.colsForQuickFilter.some((column) => {\n      const part = this.getQuickFilterTextForColumn(column, node);\n      return _exists(part) && part.indexOf(filterPart) >= 0;\n    });\n  }\n  doesRowPassQuickFilterCache(node, filterPart) {\n    this.checkGenerateQuickFilterAggregateText(node);\n    return node.quickFilterAggregateText.indexOf(filterPart) >= 0;\n  }\n  doesRowPassQuickFilterMatcher(usingCache, node) {\n    let quickFilterAggregateText;\n    if (usingCache) {\n      this.checkGenerateQuickFilterAggregateText(node);\n      quickFilterAggregateText = node.quickFilterAggregateText;\n    } else {\n      quickFilterAggregateText = this.getQuickFilterAggregateText(node);\n    }\n    const { quickFilterParts, matcher } = this;\n    return matcher(quickFilterParts, quickFilterAggregateText);\n  }\n  checkGenerateQuickFilterAggregateText(node) {\n    if (!node.quickFilterAggregateText) {\n      node.quickFilterAggregateText = this.getQuickFilterAggregateText(node);\n    }\n  }\n  getQuickFilterTextForColumn(column, node) {\n    let value = this.valueService.getValue(column, node, true);\n    const colDef = column.getColDef();\n    if (colDef.getQuickFilterText) {\n      const params = this.gos.addGridCommonParams({\n        value,\n        node,\n        data: node.data,\n        column,\n        colDef\n      });\n      value = colDef.getQuickFilterText(params);\n    }\n    return _exists(value) ? value.toString().toUpperCase() : null;\n  }\n  getQuickFilterAggregateText(node) {\n    const stringParts = [];\n    this.colsForQuickFilter.forEach((column) => {\n      const part = this.getQuickFilterTextForColumn(column, node);\n      if (_exists(part)) {\n        stringParts.push(part);\n      }\n    });\n    return stringParts.join(\"\\n\");\n  }\n};\n\n// community-modules/core/src/filter/filterModule.ts\nvar FilterCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/filter-core\",\n  beans: [FilterManager]\n});\nvar FilterApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/filter-api\",\n  apiFunctions: {\n    isAnyFilterPresent,\n    onFilterChanged\n  },\n  dependantModules: [FilterCoreModule]\n});\nvar ColumnFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/column-filter\",\n  beans: [ColumnFilterService],\n  dependantModules: [FilterCoreModule]\n});\nvar ColumnFilterApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/column-filter-api\",\n  apiFunctions: {\n    isColumnFilterPresent,\n    getFilterInstance,\n    getColumnFilterInstance,\n    destroyFilter,\n    setFilterModel,\n    getFilterModel,\n    getColumnFilterModel,\n    setColumnFilterModel,\n    showColumnFilter\n  },\n  dependantModules: [ColumnFilterModule, FilterApiModule]\n});\nvar FloatingFilterCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/floating-filter-core\",\n  controllers: [{ name: \"headerFilterCell\", classImp: HeaderFilterCellCtrl }],\n  dependantModules: [ColumnFilterModule]\n});\nvar FloatingFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/floating-filter\",\n  dependantModules: [FloatingFilterCoreModule, ColumnFilterModule]\n});\nvar ReadOnlyFloatingFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/read-only-floating-filter\",\n  userComponents: [{ name: \"agReadOnlyFloatingFilter\", classImp: ReadOnlyFloatingFilter }],\n  dependantModules: [FloatingFilterCoreModule]\n});\nvar SimpleFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/simple-filter\",\n  dependantModules: [ColumnFilterModule],\n  userComponents: [\n    { name: \"agTextColumnFilter\", classImp: TextFilter },\n    { name: \"agNumberColumnFilter\", classImp: NumberFilter },\n    { name: \"agDateColumnFilter\", classImp: DateFilter },\n    { name: \"agDateInput\", classImp: DefaultDateComponent }\n  ]\n});\nvar SimpleFloatingFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/simple-floating-filter\",\n  dependantModules: [SimpleFilterModule, FloatingFilterCoreModule],\n  userComponents: [\n    { name: \"agTextColumnFloatingFilter\", classImp: TextFloatingFilter },\n    { name: \"agNumberColumnFloatingFilter\", classImp: NumberFloatingFilter },\n    { name: \"agDateColumnFloatingFilter\", classImp: DateFloatingFilter }\n  ]\n});\nvar QuickFilterCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/quick-filter-core\",\n  beans: [QuickFilterService],\n  dependantModules: [FilterCoreModule]\n});\nvar QuickFilterApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/quick-filter-api\",\n  apiFunctions: {\n    isQuickFilterPresent,\n    getQuickFilter,\n    resetQuickFilter\n  },\n  dependantModules: [QuickFilterCoreModule]\n});\nvar QuickFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/quick-filter\",\n  dependantModules: [QuickFilterCoreModule, QuickFilterApiModule]\n});\nvar FilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/filter\",\n  dependantModules: [\n    SimpleFloatingFilterModule,\n    ReadOnlyFloatingFilterModule,\n    QuickFilterModule,\n    ColumnFilterApiModule\n  ]\n});\n\n// community-modules/core/src/headerRendering/cells/abstractCell/abstractHeaderCellComp.ts\nvar AbstractHeaderCellComp = class extends Component {\n  constructor(template, ctrl) {\n    super(template);\n    this.ctrl = ctrl;\n  }\n  getCtrl() {\n    return this.ctrl;\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/floatingFilter/headerFilterCellComp.ts\nvar HeaderFilterCellComp = class extends AbstractHeaderCellComp {\n  constructor(ctrl) {\n    super(\n      /* html */\n      `<div class=\"ag-header-cell ag-floating-filter\" role=\"gridcell\">\n            <div data-ref=\"eFloatingFilterBody\" role=\"presentation\"></div>\n            <div class=\"ag-floating-filter-button ag-hidden\" data-ref=\"eButtonWrapper\" role=\"presentation\">\n                <button type=\"button\" class=\"ag-button ag-floating-filter-button-button\" data-ref=\"eButtonShowMainFilter\" tabindex=\"-1\"></button>\n            </div>\n        </div>`,\n      ctrl\n    );\n    this.eFloatingFilterBody = RefPlaceholder;\n    this.eButtonWrapper = RefPlaceholder;\n    this.eButtonShowMainFilter = RefPlaceholder;\n  }\n  postConstruct() {\n    const eGui = this.getGui();\n    const compProxy = {\n      addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n      addOrRemoveBodyCssClass: (cssClassName, on) => this.eFloatingFilterBody.classList.toggle(cssClassName, on),\n      setButtonWrapperDisplayed: (displayed) => _setDisplayed(this.eButtonWrapper, displayed),\n      setCompDetails: (compDetails) => this.setCompDetails(compDetails),\n      getFloatingFilterComp: () => this.compPromise,\n      setWidth: (width) => eGui.style.width = width,\n      setMenuIcon: (eIcon) => this.eButtonShowMainFilter.appendChild(eIcon)\n    };\n    this.ctrl.setComp(compProxy, eGui, this.eButtonShowMainFilter, this.eFloatingFilterBody, void 0);\n  }\n  setCompDetails(compDetails) {\n    if (!compDetails) {\n      this.destroyFloatingFilterComp();\n      this.compPromise = null;\n      return;\n    }\n    this.compPromise = compDetails.newAgStackInstance();\n    this.compPromise.then((comp) => this.afterCompCreated(comp));\n  }\n  destroy() {\n    this.destroyFloatingFilterComp();\n    super.destroy();\n  }\n  destroyFloatingFilterComp() {\n    if (this.floatingFilterComp) {\n      this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui());\n      this.floatingFilterComp = this.destroyBean(this.floatingFilterComp);\n    }\n  }\n  afterCompCreated(comp) {\n    if (!comp) {\n      return;\n    }\n    if (!this.isAlive()) {\n      this.destroyBean(comp);\n      return;\n    }\n    this.destroyFloatingFilterComp();\n    this.floatingFilterComp = comp;\n    this.eFloatingFilterBody.appendChild(comp.getGui());\n    if (comp.afterGuiAttached) {\n      comp.afterGuiAttached();\n    }\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/column/headerCellComp.ts\nvar HeaderCellComp = class extends AbstractHeaderCellComp {\n  constructor(ctrl) {\n    super(\n      /* html */\n      `<div class=\"ag-header-cell\" role=\"columnheader\">\n            <div data-ref=\"eResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>\n            <div data-ref=\"eHeaderCompWrapper\" class=\"ag-header-cell-comp-wrapper\" role=\"presentation\"></div>\n        </div>`,\n      ctrl\n    );\n    this.eResize = RefPlaceholder;\n    this.eHeaderCompWrapper = RefPlaceholder;\n    this.headerCompVersion = 0;\n    this.column = ctrl.getColumnGroupChild();\n    this.pinned = ctrl.getPinned();\n  }\n  postConstruct() {\n    const eGui = this.getGui();\n    const setAttribute = (name, value) => {\n      if (value != null && value != \"\") {\n        eGui.setAttribute(name, value);\n      } else {\n        eGui.removeAttribute(name);\n      }\n    };\n    setAttribute(\"col-id\", this.column.getColId());\n    const compProxy = {\n      setWidth: (width) => eGui.style.width = width,\n      addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n      setAriaSort: (sort) => sort ? _setAriaSort(eGui, sort) : _removeAriaSort(eGui),\n      setUserCompDetails: (compDetails) => this.setUserCompDetails(compDetails),\n      getUserCompInstance: () => this.headerComp\n    };\n    this.ctrl.setComp(compProxy, this.getGui(), this.eResize, this.eHeaderCompWrapper, void 0);\n    const selectAllGui = this.ctrl.getSelectAllGui();\n    this.eResize.insertAdjacentElement(\"afterend\", selectAllGui);\n  }\n  destroy() {\n    this.destroyHeaderComp();\n    super.destroy();\n  }\n  destroyHeaderComp() {\n    if (this.headerComp) {\n      this.eHeaderCompWrapper.removeChild(this.headerCompGui);\n      this.headerComp = this.destroyBean(this.headerComp);\n      this.headerCompGui = void 0;\n    }\n  }\n  setUserCompDetails(compDetails) {\n    this.headerCompVersion++;\n    const versionCopy = this.headerCompVersion;\n    compDetails.newAgStackInstance().then((comp) => this.afterCompCreated(versionCopy, comp));\n  }\n  afterCompCreated(version, headerComp) {\n    if (version != this.headerCompVersion || !this.isAlive()) {\n      this.destroyBean(headerComp);\n      return;\n    }\n    this.destroyHeaderComp();\n    this.headerComp = headerComp;\n    this.headerCompGui = headerComp.getGui();\n    this.eHeaderCompWrapper.appendChild(this.headerCompGui);\n    this.ctrl.setDragSource(this.getGui());\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/columnGroup/headerGroupCellComp.ts\nvar HeaderGroupCellComp = class extends AbstractHeaderCellComp {\n  constructor(ctrl) {\n    super(\n      /* html */\n      `<div class=\"ag-header-group-cell\" role=\"columnheader\">\n            <div data-ref=\"eHeaderCompWrapper\" class=\"ag-header-cell-comp-wrapper\" role=\"presentation\"></div>\n            <div data-ref=\"eResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>\n        </div>`,\n      ctrl\n    );\n    this.eResize = RefPlaceholder;\n    this.eHeaderCompWrapper = RefPlaceholder;\n  }\n  postConstruct() {\n    const eGui = this.getGui();\n    const setAttribute = (key, value) => value != void 0 ? eGui.setAttribute(key, value) : eGui.removeAttribute(key);\n    eGui.setAttribute(\"col-id\", this.ctrl.getColId());\n    const compProxy = {\n      addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n      setHeaderWrapperHidden: (hidden) => {\n        if (hidden) {\n          this.eHeaderCompWrapper.style.setProperty(\"display\", \"none\");\n        } else {\n          this.eHeaderCompWrapper.style.removeProperty(\"display\");\n        }\n      },\n      setHeaderWrapperMaxHeight: (value) => {\n        if (value != null) {\n          this.eHeaderCompWrapper.style.setProperty(\"max-height\", `${value}px`);\n        } else {\n          this.eHeaderCompWrapper.style.removeProperty(\"max-height\");\n        }\n        this.eHeaderCompWrapper.classList.toggle(\"ag-header-cell-comp-wrapper-limited-height\", value != null);\n      },\n      setResizableDisplayed: (displayed) => _setDisplayed(this.eResize, displayed),\n      setWidth: (width) => eGui.style.width = width,\n      setAriaExpanded: (expanded) => setAttribute(\"aria-expanded\", expanded),\n      setUserCompDetails: (details) => this.setUserCompDetails(details),\n      getUserCompInstance: () => this.headerGroupComp\n    };\n    this.ctrl.setComp(compProxy, eGui, this.eResize, this.eHeaderCompWrapper, void 0);\n  }\n  setUserCompDetails(details) {\n    details.newAgStackInstance().then((comp) => this.afterHeaderCompCreated(comp));\n  }\n  afterHeaderCompCreated(headerGroupComp) {\n    const destroyFunc = () => this.destroyBean(headerGroupComp);\n    if (!this.isAlive()) {\n      destroyFunc();\n      return;\n    }\n    const eGui = this.getGui();\n    const eHeaderGroupGui = headerGroupComp.getGui();\n    this.eHeaderCompWrapper.appendChild(eHeaderGroupGui);\n    this.addDestroyFunc(destroyFunc);\n    this.headerGroupComp = headerGroupComp;\n    this.ctrl.setDragSource(eGui);\n  }\n  addOrRemoveHeaderWrapperStyle(style, value) {\n    const { eHeaderCompWrapper } = this;\n    if (value) {\n      eHeaderCompWrapper.style.setProperty(style, value);\n    } else {\n      eHeaderCompWrapper.style.removeProperty(style);\n    }\n  }\n};\n\n// community-modules/core/src/headerRendering/row/headerRowComp.ts\nvar HeaderRowType = /* @__PURE__ */ ((HeaderRowType2) => {\n  HeaderRowType2[\"COLUMN_GROUP\"] = \"group\";\n  HeaderRowType2[\"COLUMN\"] = \"column\";\n  HeaderRowType2[\"FLOATING_FILTER\"] = \"filter\";\n  return HeaderRowType2;\n})(HeaderRowType || {});\nvar HeaderRowComp = class extends Component {\n  constructor(ctrl) {\n    super();\n    this.headerComps = {};\n    this.ctrl = ctrl;\n    this.setTemplate(\n      /* html */\n      `<div class=\"${this.ctrl.getHeaderRowClass()}\" role=\"row\"></div>`\n    );\n  }\n  postConstruct() {\n    _setAriaRowIndex(this.getGui(), this.ctrl.getAriaRowIndex());\n    const compProxy = {\n      setHeight: (height) => this.getGui().style.height = height,\n      setTop: (top) => this.getGui().style.top = top,\n      setHeaderCtrls: (ctrls, forceOrder) => this.setHeaderCtrls(ctrls, forceOrder),\n      setWidth: (width) => this.getGui().style.width = width\n    };\n    this.ctrl.setComp(compProxy, void 0);\n  }\n  destroy() {\n    this.setHeaderCtrls([], false);\n    super.destroy();\n  }\n  setHeaderCtrls(ctrls, forceOrder) {\n    if (!this.isAlive()) {\n      return;\n    }\n    const oldComps = this.headerComps;\n    this.headerComps = {};\n    ctrls.forEach((ctrl) => {\n      const id = ctrl.instanceId;\n      let comp = oldComps[id];\n      delete oldComps[id];\n      if (comp == null) {\n        comp = this.createHeaderComp(ctrl);\n        this.getGui().appendChild(comp.getGui());\n      }\n      this.headerComps[id] = comp;\n    });\n    _iterateObject(oldComps, (id, comp) => {\n      this.getGui().removeChild(comp.getGui());\n      this.destroyBean(comp);\n    });\n    if (forceOrder) {\n      const comps = _getAllValuesInObject(this.headerComps);\n      comps.sort(\n        (a, b) => {\n          const leftA = a.getCtrl().getColumnGroupChild().getLeft();\n          const leftB = b.getCtrl().getColumnGroupChild().getLeft();\n          return leftA - leftB;\n        }\n      );\n      const elementsInOrder = comps.map((c) => c.getGui());\n      _setDomChildOrder(this.getGui(), elementsInOrder);\n    }\n  }\n  createHeaderComp(headerCtrl) {\n    let result;\n    switch (this.ctrl.getType()) {\n      case \"group\" /* COLUMN_GROUP */:\n        result = new HeaderGroupCellComp(headerCtrl);\n        break;\n      case \"filter\" /* FLOATING_FILTER */:\n        result = new HeaderFilterCellComp(headerCtrl);\n        break;\n      default:\n        result = new HeaderCellComp(headerCtrl);\n        break;\n    }\n    this.createBean(result);\n    result.setParentComponent(this);\n    return result;\n  }\n};\n\n// community-modules/core/src/headerRendering/common/headerNavigationService.ts\nvar HeaderNavigationDirection = /* @__PURE__ */ ((HeaderNavigationDirection2) => {\n  HeaderNavigationDirection2[HeaderNavigationDirection2[\"UP\"] = 0] = \"UP\";\n  HeaderNavigationDirection2[HeaderNavigationDirection2[\"DOWN\"] = 1] = \"DOWN\";\n  HeaderNavigationDirection2[HeaderNavigationDirection2[\"LEFT\"] = 2] = \"LEFT\";\n  HeaderNavigationDirection2[HeaderNavigationDirection2[\"RIGHT\"] = 3] = \"RIGHT\";\n  return HeaderNavigationDirection2;\n})(HeaderNavigationDirection || {});\nvar HeaderNavigationService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"headerNavigationService\";\n    this.currentHeaderRowWithoutSpan = -1;\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.headerPositionUtils = beans.headerPositionUtils;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnModel = beans.columnModel;\n    this.visibleColService = beans.visibleColsService;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridBodyCon = p.gridBodyCtrl;\n    });\n    const eDocument = _getDocument(this.gos);\n    this.addManagedElementListeners(eDocument, { mousedown: () => this.setCurrentHeaderRowWithoutSpan(-1) });\n  }\n  getHeaderRowCount() {\n    return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount() ?? 0;\n  }\n  getHeaderPositionForColumn(colKey, floatingFilter) {\n    let column;\n    if (typeof colKey === \"string\") {\n      column = this.columnModel.getCol(colKey);\n      if (!column) {\n        column = this.visibleColService.getColumnGroup(colKey);\n      }\n    } else {\n      column = colKey;\n    }\n    if (!column) {\n      return null;\n    }\n    const centerHeaderContainer = this.ctrlsService.getHeaderRowContainerCtrl();\n    const allCtrls = centerHeaderContainer?.getAllCtrls();\n    const isFloatingFilterVisible = _last(allCtrls || []).getType() === \"filter\" /* FLOATING_FILTER */;\n    const headerRowCount = this.getHeaderRowCount() - 1;\n    let row = -1;\n    let col = column;\n    while (col) {\n      row++;\n      col = col.getParent();\n    }\n    let headerRowIndex = row;\n    if (floatingFilter && isFloatingFilterVisible && headerRowIndex === headerRowCount - 1) {\n      headerRowIndex++;\n    }\n    return headerRowIndex === -1 ? null : {\n      headerRowIndex,\n      column\n    };\n  }\n  /*\n   * This method navigates grid header vertically\n   * @return {boolean} true to preventDefault on the event that caused this navigation.\n   */\n  navigateVertically(direction, fromHeader, event) {\n    if (!fromHeader) {\n      fromHeader = this.focusService.getFocusedHeader();\n    }\n    if (!fromHeader) {\n      return false;\n    }\n    const { headerRowIndex } = fromHeader;\n    const column = fromHeader.column;\n    const rowLen = this.getHeaderRowCount();\n    const isUp = direction === 0 /* UP */;\n    let {\n      headerRowIndex: nextRow,\n      column: nextFocusColumn,\n      // eslint-disable-next-line prefer-const\n      headerRowIndexWithoutSpan\n    } = isUp ? this.headerPositionUtils.getColumnVisibleParent(column, headerRowIndex) : this.headerPositionUtils.getColumnVisibleChild(column, headerRowIndex);\n    let skipColumn = false;\n    if (nextRow < 0) {\n      nextRow = 0;\n      nextFocusColumn = column;\n      skipColumn = true;\n    }\n    if (nextRow >= rowLen) {\n      nextRow = -1;\n      this.setCurrentHeaderRowWithoutSpan(-1);\n    } else if (headerRowIndexWithoutSpan !== void 0) {\n      this.currentHeaderRowWithoutSpan = headerRowIndexWithoutSpan;\n    }\n    if (!skipColumn && !nextFocusColumn) {\n      return false;\n    }\n    return this.focusService.focusHeaderPosition({\n      headerPosition: { headerRowIndex: nextRow, column: nextFocusColumn },\n      allowUserOverride: true,\n      event\n    });\n  }\n  setCurrentHeaderRowWithoutSpan(row) {\n    this.currentHeaderRowWithoutSpan = row;\n  }\n  /*\n   * This method navigates grid header horizontally\n   * @return {boolean} true to preventDefault on the event that caused this navigation.\n   */\n  navigateHorizontally(direction, fromTab = false, event) {\n    const focusedHeader = this.focusService.getFocusedHeader();\n    const isLeft = direction === 2 /* LEFT */;\n    const isRtl = this.gos.get(\"enableRtl\");\n    let nextHeader;\n    let normalisedDirection;\n    if (this.currentHeaderRowWithoutSpan !== -1) {\n      focusedHeader.headerRowIndex = this.currentHeaderRowWithoutSpan;\n    } else {\n      this.currentHeaderRowWithoutSpan = focusedHeader.headerRowIndex;\n    }\n    if (isLeft !== isRtl) {\n      normalisedDirection = \"Before\";\n      nextHeader = this.headerPositionUtils.findHeader(focusedHeader, normalisedDirection);\n    } else {\n      normalisedDirection = \"After\";\n      nextHeader = this.headerPositionUtils.findHeader(focusedHeader, normalisedDirection);\n    }\n    if (nextHeader || !fromTab) {\n      return this.focusService.focusHeaderPosition({\n        headerPosition: nextHeader,\n        direction: normalisedDirection,\n        fromTab,\n        allowUserOverride: true,\n        event\n      });\n    } else if (fromTab) {\n      const userFunc = this.gos.getCallback(\"tabToNextHeader\");\n      if (userFunc) {\n        return this.focusService.focusHeaderPositionFromUserFunc({\n          userFunc,\n          headerPosition: nextHeader,\n          direction: normalisedDirection\n        });\n      }\n    }\n    return this.focusNextHeaderRow(focusedHeader, normalisedDirection, event);\n  }\n  focusNextHeaderRow(focusedHeader, direction, event) {\n    const currentIndex = focusedHeader.headerRowIndex;\n    let nextPosition = null;\n    let nextRowIndex;\n    if (direction === \"Before\") {\n      if (currentIndex > 0) {\n        nextRowIndex = currentIndex - 1;\n        this.currentHeaderRowWithoutSpan -= 1;\n        nextPosition = this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex, \"end\");\n      }\n    } else {\n      nextRowIndex = currentIndex + 1;\n      if (this.currentHeaderRowWithoutSpan < this.getHeaderRowCount()) {\n        this.currentHeaderRowWithoutSpan += 1;\n      } else {\n        this.setCurrentHeaderRowWithoutSpan(-1);\n      }\n      nextPosition = this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex, \"start\");\n    }\n    if (!nextPosition) {\n      return false;\n    }\n    const { column, headerRowIndex } = this.headerPositionUtils.getHeaderIndexToFocus(\n      nextPosition.column,\n      nextPosition?.headerRowIndex\n    );\n    return this.focusService.focusHeaderPosition({\n      headerPosition: { column, headerRowIndex },\n      direction,\n      fromTab: true,\n      allowUserOverride: true,\n      event\n    });\n  }\n  scrollToColumn(column, direction = \"After\") {\n    if (column.getPinned()) {\n      return;\n    }\n    let columnToScrollTo;\n    if (isColumnGroup(column)) {\n      const columns = column.getDisplayedLeafColumns();\n      columnToScrollTo = direction === \"Before\" ? _last(columns) : columns[0];\n    } else {\n      columnToScrollTo = column;\n    }\n    this.gridBodyCon.getScrollFeature().ensureColumnVisible(columnToScrollTo);\n  }\n};\n\n// community-modules/core/src/headerRendering/gridHeaderCtrl.ts\nvar GridHeaderCtrl = class extends BeanStub {\n  wireBeans(beans) {\n    this.animationFrameService = beans.animationFrameService;\n    this.headerNavigationService = beans.headerNavigationService;\n    this.focusService = beans.focusService;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.ctrlsService = beans.ctrlsService;\n    this.filterManager = beans.filterManager;\n    this.menuService = beans.menuService;\n  }\n  setComp(comp, eGui, eFocusableElement) {\n    this.comp = comp;\n    this.eGui = eGui;\n    this.createManagedBean(\n      new ManagedFocusFeature(eFocusableElement, {\n        onTabKeyDown: this.onTabKeyDown.bind(this),\n        handleKeyDown: this.handleKeyDown.bind(this),\n        onFocusOut: this.onFocusOut.bind(this)\n      })\n    );\n    this.addManagedEventListeners({\n      columnPivotModeChanged: this.onPivotModeChanged.bind(this),\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this)\n    });\n    this.onPivotModeChanged();\n    this.setupHeaderHeight();\n    const listener = this.onHeaderContextMenu.bind(this);\n    this.addManagedElementListeners(this.eGui, { contextmenu: listener });\n    this.mockContextMenuForIPad(listener);\n    this.ctrlsService.register(\"gridHeaderCtrl\", this);\n  }\n  setupHeaderHeight() {\n    const listener = this.setHeaderHeight.bind(this);\n    listener();\n    this.addManagedPropertyListeners(\n      [\n        \"headerHeight\",\n        \"pivotHeaderHeight\",\n        \"groupHeaderHeight\",\n        \"pivotGroupHeaderHeight\",\n        \"floatingFiltersHeight\"\n      ],\n      listener\n    );\n    this.addManagedEventListeners({\n      displayedColumnsChanged: listener,\n      columnHeaderHeightChanged: listener,\n      // add this to the animation frame to avoid a feedback loop\n      columnGroupHeaderHeightChanged: () => this.animationFrameService.requestAnimationFrame(() => listener()),\n      gridStylesChanged: listener,\n      advancedFilterEnabledChanged: listener\n    });\n  }\n  getHeaderHeight() {\n    return this.headerHeight;\n  }\n  setHeaderHeight() {\n    const { columnModel } = this;\n    let totalHeaderHeight = 0;\n    const groupHeight = this.columnModel.getGroupRowsHeight().reduce((prev, curr) => prev + curr, 0);\n    const headerHeight = this.columnModel.getColumnHeaderRowHeight();\n    if (this.filterManager?.hasFloatingFilters()) {\n      totalHeaderHeight += columnModel.getFloatingFiltersHeight();\n    }\n    totalHeaderHeight += groupHeight;\n    totalHeaderHeight += headerHeight;\n    if (this.headerHeight === totalHeaderHeight) {\n      return;\n    }\n    this.headerHeight = totalHeaderHeight;\n    const px = `${totalHeaderHeight + 1}px`;\n    this.comp.setHeightAndMinHeight(px);\n    this.eventService.dispatchEvent({\n      type: \"headerHeightChanged\"\n    });\n  }\n  onPivotModeChanged() {\n    const pivotMode = this.columnModel.isPivotMode();\n    this.comp.addOrRemoveCssClass(\"ag-pivot-on\", pivotMode);\n    this.comp.addOrRemoveCssClass(\"ag-pivot-off\", !pivotMode);\n  }\n  onDisplayedColumnsChanged() {\n    const columns = this.visibleColsService.getAllCols();\n    const shouldAllowOverflow = columns.some((col) => col.isSpanHeaderHeight());\n    this.comp.addOrRemoveCssClass(\"ag-header-allow-overflow\", shouldAllowOverflow);\n  }\n  onTabKeyDown(e) {\n    const isRtl = this.gos.get(\"enableRtl\");\n    const backwards = e.shiftKey;\n    const direction = backwards !== isRtl ? 2 /* LEFT */ : 3 /* RIGHT */;\n    if (this.headerNavigationService.navigateHorizontally(direction, true, e) || !backwards && this.focusService.focusOverlay(false) || this.focusService.focusNextGridCoreContainer(backwards, true)) {\n      e.preventDefault();\n    }\n  }\n  handleKeyDown(e) {\n    let direction = null;\n    switch (e.key) {\n      case KeyCode.LEFT:\n        direction = 2 /* LEFT */;\n      case KeyCode.RIGHT: {\n        if (!_exists(direction)) {\n          direction = 3 /* RIGHT */;\n        }\n        if (this.headerNavigationService.navigateHorizontally(direction, false, e)) {\n          e.preventDefault();\n        }\n        break;\n      }\n      case KeyCode.UP:\n        direction = 0 /* UP */;\n      case KeyCode.DOWN: {\n        if (!_exists(direction)) {\n          direction = 1 /* DOWN */;\n        }\n        if (this.headerNavigationService.navigateVertically(direction, null, e)) {\n          e.preventDefault();\n        }\n        break;\n      }\n      default:\n        return;\n    }\n  }\n  onFocusOut(e) {\n    const { relatedTarget } = e;\n    if (!relatedTarget && this.eGui.contains(_getActiveDomElement(this.gos))) {\n      return;\n    }\n    if (!this.eGui.contains(relatedTarget)) {\n      this.focusService.clearFocusedHeader();\n    }\n  }\n  onHeaderContextMenu(mouseEvent, touch, touchEvent) {\n    if (!mouseEvent && !touchEvent || !this.menuService.isHeaderContextMenuEnabled()) {\n      return;\n    }\n    const { target } = mouseEvent ?? touch;\n    if (target === this.eGui || target === this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement()) {\n      this.menuService.showHeaderContextMenu(void 0, mouseEvent, touchEvent);\n    }\n  }\n  mockContextMenuForIPad(listener) {\n    if (!_isIOSUserAgent()) {\n      return;\n    }\n    const touchListener = new TouchListener(this.eGui);\n    const longTapListener = (event) => {\n      listener(void 0, event.touchStart, event.touchEvent);\n    };\n    this.addManagedListeners(touchListener, { longTap: longTapListener });\n    this.addDestroyFunc(() => touchListener.destroy());\n  }\n};\n\n// community-modules/core/src/gridBodyComp/centerWidthFeature.ts\nvar CenterWidthFeature = class extends BeanStub {\n  constructor(callback, addSpacer = false) {\n    super();\n    this.callback = callback;\n    this.addSpacer = addSpacer;\n  }\n  wireBeans(beans) {\n    this.visibleColsService = beans.visibleColsService;\n    this.scrollVisibleService = beans.scrollVisibleService;\n  }\n  postConstruct() {\n    const listener = this.setWidth.bind(this);\n    this.addManagedPropertyListener(\"domLayout\", listener);\n    this.addManagedEventListeners({\n      columnContainerWidthChanged: listener,\n      displayedColumnsChanged: listener,\n      leftPinnedWidthChanged: listener\n    });\n    if (this.addSpacer) {\n      this.addManagedEventListeners({\n        rightPinnedWidthChanged: listener,\n        scrollVisibilityChanged: listener,\n        scrollbarWidthChanged: listener\n      });\n    }\n    this.setWidth();\n  }\n  setWidth() {\n    const printLayout = _isDomLayout(this.gos, \"print\");\n    const centerWidth = this.visibleColsService.getBodyContainerWidth();\n    const leftWidth = this.visibleColsService.getColsLeftWidth();\n    const rightWidth = this.visibleColsService.getDisplayedColumnsRightWidth();\n    let totalWidth;\n    if (printLayout) {\n      totalWidth = centerWidth + leftWidth + rightWidth;\n    } else {\n      totalWidth = centerWidth;\n      if (this.addSpacer) {\n        const relevantWidth = this.gos.get(\"enableRtl\") ? leftWidth : rightWidth;\n        if (relevantWidth === 0 && this.scrollVisibleService.isVerticalScrollShowing()) {\n          totalWidth += this.scrollVisibleService.getScrollbarWidth();\n        }\n      }\n    }\n    this.callback(totalWidth);\n  }\n};\n\n// community-modules/core/src/headerRendering/columnDrag/bodyDropPivotTarget.ts\nvar BodyDropPivotTarget = class extends BeanStub {\n  constructor(pinned) {\n    super();\n    this.columnsToAggregate = [];\n    this.columnsToGroup = [];\n    this.columnsToPivot = [];\n    this.pinned = pinned;\n  }\n  wireBeans(beans) {\n    this.funcColsService = beans.funcColsService;\n  }\n  /** Callback for when drag enters */\n  onDragEnter(draggingEvent) {\n    this.clearColumnsList();\n    if (this.gos.get(\"functionsReadOnly\")) {\n      return;\n    }\n    const dragColumns = draggingEvent.dragItem.columns;\n    if (!dragColumns) {\n      return;\n    }\n    dragColumns.forEach((column) => {\n      if (!column.isPrimary()) {\n        return;\n      }\n      if (column.isAnyFunctionActive()) {\n        return;\n      }\n      if (column.isAllowValue()) {\n        this.columnsToAggregate.push(column);\n      } else if (column.isAllowRowGroup()) {\n        this.columnsToGroup.push(column);\n      } else if (column.isAllowPivot()) {\n        this.columnsToPivot.push(column);\n      }\n    });\n  }\n  getIconName() {\n    const totalColumns = this.columnsToAggregate.length + this.columnsToGroup.length + this.columnsToPivot.length;\n    if (totalColumns > 0) {\n      return this.pinned ? \"pinned\" : \"move\";\n    }\n    return null;\n  }\n  /** Callback for when drag leaves */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onDragLeave(draggingEvent) {\n    this.clearColumnsList();\n  }\n  clearColumnsList() {\n    this.columnsToAggregate.length = 0;\n    this.columnsToGroup.length = 0;\n    this.columnsToPivot.length = 0;\n  }\n  /** Callback for when dragging */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onDragging(draggingEvent) {\n  }\n  /** Callback for when drag stops */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onDragStop(draggingEvent) {\n    if (this.columnsToAggregate.length > 0) {\n      this.funcColsService.addValueColumns(this.columnsToAggregate, \"toolPanelDragAndDrop\");\n    }\n    if (this.columnsToGroup.length > 0) {\n      this.funcColsService.addRowGroupColumns(this.columnsToGroup, \"toolPanelDragAndDrop\");\n    }\n    if (this.columnsToPivot.length > 0) {\n      this.funcColsService.addPivotColumns(this.columnsToPivot, \"toolPanelDragAndDrop\");\n    }\n  }\n  onDragCancel() {\n    this.clearColumnsList();\n  }\n};\n\n// community-modules/core/src/headerRendering/columnMoveHelper.ts\nfunction getBestColumnMoveIndexFromXPosition(params) {\n  const {\n    isFromHeader,\n    fromLeft,\n    xPosition,\n    fromEnter,\n    fakeEvent,\n    pinned,\n    gos,\n    columnModel,\n    columnMoveService,\n    visibleColsService\n  } = params;\n  let { allMovingColumns } = params;\n  if (isFromHeader) {\n    const newCols = [];\n    allMovingColumns.forEach((col) => {\n      let movingGroup = null;\n      let parent = col.getParent();\n      while (parent != null && parent.getDisplayedLeafColumns().length === 1) {\n        movingGroup = parent;\n        parent = parent.getParent();\n      }\n      if (movingGroup != null) {\n        const isMarryChildren = !!movingGroup.getColGroupDef()?.marryChildren;\n        const columnsToMove = isMarryChildren ? (\n          // when marry children is true, we also have to move hidden\n          // columns within the group, so grab them from the `providedColumnGroup`\n          movingGroup.getProvidedColumnGroup().getLeafColumns()\n        ) : movingGroup.getLeafColumns();\n        columnsToMove.forEach((newCol) => {\n          if (!newCols.includes(newCol)) {\n            newCols.push(newCol);\n          }\n        });\n      } else if (!newCols.includes(col)) {\n        newCols.push(col);\n      }\n    });\n    allMovingColumns = newCols;\n  }\n  const allMovingColumnsOrdered = allMovingColumns.slice();\n  columnModel.sortColsLikeCols(allMovingColumnsOrdered);\n  const validMoves = calculateValidMoves({\n    movingCols: allMovingColumnsOrdered,\n    draggingRight: fromLeft,\n    xPosition,\n    pinned,\n    gos,\n    columnModel,\n    visibleColsService\n  });\n  const oldIndex = calculateOldIndex(allMovingColumnsOrdered, columnModel);\n  if (validMoves.length === 0) {\n    return;\n  }\n  const firstValidMove = validMoves[0];\n  let constrainDirection = oldIndex !== null && !fromEnter;\n  if (isFromHeader) {\n    constrainDirection = oldIndex !== null;\n  }\n  if (constrainDirection && !fakeEvent) {\n    if (!fromLeft && firstValidMove >= oldIndex) {\n      return;\n    }\n    if (fromLeft && firstValidMove <= oldIndex) {\n      return;\n    }\n  }\n  const displayedCols = visibleColsService.getAllCols();\n  const potentialMoves = [];\n  let targetOrder = null;\n  for (let i = 0; i < validMoves.length; i++) {\n    const move = validMoves[i];\n    const order = columnMoveService.getProposedColumnOrder(allMovingColumnsOrdered, move);\n    if (!columnMoveService.doesOrderPassRules(order)) {\n      continue;\n    }\n    const displayedOrder = order.filter((col) => displayedCols.includes(col));\n    if (targetOrder === null) {\n      targetOrder = displayedOrder;\n    } else if (!_areEqual(displayedOrder, targetOrder)) {\n      break;\n    }\n    const fragCount = groupFragCount(order);\n    potentialMoves.push({ move, fragCount });\n  }\n  if (potentialMoves.length === 0) {\n    return;\n  }\n  potentialMoves.sort((a, b) => a.fragCount - b.fragCount);\n  const toIndex = potentialMoves[0].move;\n  if (toIndex > columnModel.getCols().length - allMovingColumns.length) {\n    return;\n  }\n  return { columns: allMovingColumns, toIndex };\n}\nfunction attemptMoveColumns(params) {\n  const { columns, toIndex } = getBestColumnMoveIndexFromXPosition(params) || {};\n  const { finished, columnMoveService } = params;\n  if (!columns || toIndex == null) {\n    return null;\n  }\n  columnMoveService.moveColumns(columns, toIndex, \"uiColumnMoved\", finished);\n  return finished ? null : { columns, toIndex };\n}\nfunction calculateOldIndex(movingCols, columnModel) {\n  const gridCols = columnModel.getCols();\n  const indexes = _sortNumerically(movingCols.map((col) => gridCols.indexOf(col)));\n  const firstIndex = indexes[0];\n  const lastIndex = _last(indexes);\n  const spread = lastIndex - firstIndex;\n  const gapsExist = spread !== indexes.length - 1;\n  return gapsExist ? null : firstIndex;\n}\nfunction groupFragCount(columns) {\n  function parents(col) {\n    const result = [];\n    let parent = col.getOriginalParent();\n    while (parent != null) {\n      result.push(parent);\n      parent = parent.getOriginalParent();\n    }\n    return result;\n  }\n  let count = 0;\n  for (let i = 0; i < columns.length - 1; i++) {\n    let a = parents(columns[i]);\n    let b = parents(columns[i + 1]);\n    [a, b] = a.length > b.length ? [a, b] : [b, a];\n    a.forEach((parent) => {\n      if (b.indexOf(parent) === -1) {\n        count++;\n      }\n    });\n  }\n  return count;\n}\nfunction getDisplayedColumns(visibleColsService, type) {\n  switch (type) {\n    case \"left\":\n      return visibleColsService.getLeftCols();\n    case \"right\":\n      return visibleColsService.getRightCols();\n    default:\n      return visibleColsService.getCenterCols();\n  }\n}\nfunction calculateValidMoves(params) {\n  const { movingCols, draggingRight, xPosition, pinned, gos, columnModel, visibleColsService } = params;\n  const isMoveBlocked = gos.get(\"suppressMovableColumns\") || movingCols.some((col) => col.getColDef().suppressMovable);\n  if (isMoveBlocked) {\n    return [];\n  }\n  const allDisplayedCols = getDisplayedColumns(visibleColsService, pinned);\n  const allGridCols = columnModel.getCols();\n  const movingDisplayedCols = allDisplayedCols.filter((col) => _includes(movingCols, col));\n  const otherDisplayedCols = allDisplayedCols.filter((col) => !_includes(movingCols, col));\n  const otherGridCols = allGridCols.filter((col) => !_includes(movingCols, col));\n  let displayIndex = 0;\n  let availableWidth = xPosition;\n  if (draggingRight) {\n    let widthOfMovingDisplayedCols = 0;\n    movingDisplayedCols.forEach((col) => widthOfMovingDisplayedCols += col.getActualWidth());\n    availableWidth -= widthOfMovingDisplayedCols;\n  }\n  if (availableWidth > 0) {\n    for (let i = 0; i < otherDisplayedCols.length; i++) {\n      const col = otherDisplayedCols[i];\n      availableWidth -= col.getActualWidth();\n      if (availableWidth < 0) {\n        break;\n      }\n      displayIndex++;\n    }\n    if (draggingRight) {\n      displayIndex++;\n    }\n  }\n  let firstValidMove;\n  if (displayIndex > 0) {\n    const leftColumn = otherDisplayedCols[displayIndex - 1];\n    firstValidMove = otherGridCols.indexOf(leftColumn) + 1;\n  } else {\n    firstValidMove = otherGridCols.indexOf(otherDisplayedCols[0]);\n    if (firstValidMove === -1) {\n      firstValidMove = 0;\n    }\n  }\n  const validMoves = [firstValidMove];\n  const numberComparator = (a, b) => a - b;\n  if (draggingRight) {\n    let pointer = firstValidMove + 1;\n    const lastIndex = allGridCols.length - 1;\n    while (pointer <= lastIndex) {\n      validMoves.push(pointer);\n      pointer++;\n    }\n    validMoves.sort(numberComparator);\n  } else {\n    let pointer = firstValidMove;\n    const lastIndex = allGridCols.length - 1;\n    let displacedCol = allGridCols[pointer];\n    while (pointer <= lastIndex && allDisplayedCols.indexOf(displacedCol) < 0) {\n      pointer++;\n      validMoves.push(pointer);\n      displacedCol = allGridCols[pointer];\n    }\n    pointer = firstValidMove - 1;\n    const firstDisplayIndex = 0;\n    while (pointer >= firstDisplayIndex) {\n      validMoves.push(pointer);\n      pointer--;\n    }\n    validMoves.sort(numberComparator).reverse();\n  }\n  return validMoves;\n}\nfunction normaliseX(params) {\n  const { pinned, fromKeyboard, gos, ctrlsService, useHeaderRow, skipScrollPadding } = params;\n  let eViewport = ctrlsService.getHeaderRowContainerCtrl(pinned)?.getViewportElement();\n  let { x } = params;\n  if (!eViewport) {\n    return 0;\n  }\n  if (fromKeyboard) {\n    x -= eViewport.getBoundingClientRect().left;\n  }\n  if (gos.get(\"enableRtl\")) {\n    if (useHeaderRow) {\n      eViewport = eViewport.querySelector(\".ag-header-row\");\n    }\n    x = eViewport.clientWidth - x;\n  }\n  if (pinned == null && !skipScrollPadding) {\n    x += ctrlsService.get(\"center\").getCenterViewportScrollLeft();\n  }\n  return x;\n}\nfunction setColumnsMoving(columns, isMoving) {\n  for (const column of columns) {\n    column.setMoving(isMoving, \"uiColumnMoved\");\n  }\n}\n\n// community-modules/core/src/headerRendering/columnDrag/moveColumnFeature.ts\nvar MOVE_FAIL_THRESHOLD = 7;\nvar SCROLL_MOVE_WIDTH = 100;\nvar SCROLL_GAP_NEEDED_BEFORE_MOVE = SCROLL_MOVE_WIDTH / 2;\nvar SCROLL_ACCELERATION_RATE = 5;\nvar SCROLL_TIME_INTERVAL = 100;\nvar MoveColumnFeature = class extends BeanStub {\n  constructor(pinned) {\n    super();\n    this.needToMoveLeft = false;\n    this.needToMoveRight = false;\n    this.lastMovedInfo = null;\n    this.pinned = pinned;\n    this.isCenterContainer = !_exists(pinned);\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.columnMoveService = beans.columnMoveService;\n    this.dragAndDropService = beans.dragAndDropService;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridBodyCon = p.gridBodyCtrl;\n    });\n  }\n  getIconName() {\n    const columns = this.lastDraggingEvent?.dragItem.columns ?? [];\n    for (const col of columns) {\n      const colPinned = col.getPinned();\n      if (col.getColDef().lockPinned) {\n        if (colPinned == this.pinned) {\n          return \"move\";\n        }\n        continue;\n      }\n      if (colPinned === this.pinned || !this.pinned) {\n        return \"move\";\n      }\n      if (!colPinned && this.pinned) {\n        return \"pinned\";\n      }\n    }\n    return \"notAllowed\";\n  }\n  onDragEnter(draggingEvent) {\n    const columns = draggingEvent.dragItem.columns;\n    const dragCameFromToolPanel = draggingEvent.dragSource.type === 0 /* ToolPanel */;\n    if (dragCameFromToolPanel) {\n      this.setColumnsVisible(columns, true, \"uiColumnDragged\");\n    } else {\n      const visibleState = draggingEvent.dragItem.visibleState;\n      const visibleColumns = (columns || []).filter((column) => visibleState[column.getId()]);\n      this.setColumnsVisible(visibleColumns, true, \"uiColumnDragged\");\n    }\n    if (!this.gos.get(\"suppressMoveWhenColumnDragging\")) {\n      this.attemptToPinColumns(columns, this.pinned);\n    }\n    this.onDragging(draggingEvent, true, true);\n  }\n  onDragging(draggingEvent = this.lastDraggingEvent, fromEnter = false, fakeEvent = false, finished = false) {\n    const isSuppressMoveWhenDragging = this.gos.get(\"suppressMoveWhenColumnDragging\");\n    if (finished && !isSuppressMoveWhenDragging) {\n      this.finishColumnMoving();\n      return;\n    }\n    this.lastDraggingEvent = draggingEvent;\n    if (!draggingEvent || !finished && _missing(draggingEvent.hDirection)) {\n      return;\n    }\n    const { pinned, gos, ctrlsService } = this;\n    const mouseX = normaliseX({\n      x: draggingEvent.x,\n      pinned,\n      gos,\n      ctrlsService\n    });\n    if (!fromEnter) {\n      this.checkCenterForScrolling(mouseX);\n    }\n    if (isSuppressMoveWhenDragging) {\n      this.handleColumnDragWhileSuppressingMovement(draggingEvent, fromEnter, fakeEvent, mouseX, finished);\n    } else {\n      this.handleColumnDragWhileAllowingMovement(draggingEvent, fromEnter, fakeEvent, mouseX, finished);\n    }\n  }\n  onDragLeave() {\n    this.ensureIntervalCleared();\n    this.clearHighlighted();\n    this.lastMovedInfo = null;\n  }\n  onDragStop() {\n    this.onDragging(this.lastDraggingEvent, false, true, true);\n    this.ensureIntervalCleared();\n    this.lastMovedInfo = null;\n  }\n  onDragCancel() {\n    this.clearHighlighted();\n    this.ensureIntervalCleared();\n    this.lastMovedInfo = null;\n  }\n  setColumnsVisible(columns, visible, source) {\n    if (!columns) {\n      return;\n    }\n    const allowedCols = columns.filter((c) => !c.getColDef().lockVisible);\n    this.columnModel.setColsVisible(allowedCols, visible, source);\n  }\n  finishColumnMoving() {\n    this.clearHighlighted();\n    if (!this.lastMovedInfo) {\n      return;\n    }\n    const { columns, toIndex } = this.lastMovedInfo;\n    this.columnMoveService.moveColumns(columns, toIndex, \"uiColumnMoved\", true);\n  }\n  handleColumnDragWhileSuppressingMovement(draggingEvent, fromEnter, fakeEvent, mouseX, finished) {\n    const allMovingColumns = this.getAllMovingColumns(draggingEvent, true);\n    if (finished) {\n      const isAttemptingToPin = this.isAttemptingToPin(allMovingColumns);\n      if (isAttemptingToPin) {\n        this.attemptToPinColumns(allMovingColumns, void 0, true);\n      }\n      const { fromLeft, xPosition } = this.getNormalisedXPositionInfo(allMovingColumns, isAttemptingToPin) || {};\n      if (fromLeft == null || xPosition == null) {\n        this.finishColumnMoving();\n        return;\n      }\n      this.moveColumnsAfterHighlight({\n        allMovingColumns,\n        xPosition,\n        fromEnter,\n        fakeEvent,\n        fromLeft\n      });\n    } else {\n      if (!this.dragAndDropService.isDropZoneWithinThisGrid(draggingEvent)) {\n        return;\n      }\n      this.highlightHoveredColumn(allMovingColumns, mouseX);\n    }\n  }\n  handleColumnDragWhileAllowingMovement(draggingEvent, fromEnter, fakeEvent, mouseX, finished) {\n    const allMovingColumns = this.getAllMovingColumns(draggingEvent);\n    const fromLeft = this.normaliseDirection(draggingEvent.hDirection) === 1 /* Right */;\n    const isFromHeader = draggingEvent.dragSource.type === 1 /* HeaderCell */;\n    const params = this.getMoveColumnParams({\n      allMovingColumns,\n      isFromHeader,\n      xPosition: mouseX,\n      fromLeft,\n      fromEnter,\n      fakeEvent\n    });\n    const lastMovedInfo = attemptMoveColumns({ ...params, finished });\n    if (lastMovedInfo) {\n      this.lastMovedInfo = lastMovedInfo;\n    }\n  }\n  getAllMovingColumns(draggingEvent, useSplit = false) {\n    const dragItem = draggingEvent.dragSource.getDragItem();\n    let columns = null;\n    if (useSplit) {\n      columns = dragItem.columnsInSplit;\n      if (!columns) {\n        columns = dragItem.columns;\n      }\n    } else {\n      columns = dragItem.columns;\n    }\n    const conditionCallback = (col) => col.getColDef().lockPinned ? col.getPinned() == this.pinned : true;\n    if (!columns) {\n      return [];\n    }\n    return columns.filter(conditionCallback);\n  }\n  getMoveColumnParams(params) {\n    const { allMovingColumns, isFromHeader, xPosition, fromLeft, fromEnter, fakeEvent } = params;\n    const { pinned, gos, columnModel, columnMoveService, visibleColsService } = this;\n    return {\n      allMovingColumns,\n      isFromHeader,\n      fromLeft,\n      xPosition,\n      pinned,\n      fromEnter,\n      fakeEvent,\n      gos,\n      columnModel,\n      columnMoveService,\n      visibleColsService\n    };\n  }\n  findFirstAndLastMovingColumns(allMovingColumns) {\n    const moveLen = allMovingColumns.length;\n    let firstMovingCol;\n    let lastMovingCol;\n    for (let i = 0; i <= moveLen; i++) {\n      if (!firstMovingCol) {\n        const leftCol = allMovingColumns[i];\n        if (leftCol.getLeft() != null) {\n          firstMovingCol = leftCol;\n        }\n      }\n      if (!lastMovingCol) {\n        const rightCol = allMovingColumns[moveLen - 1 - i];\n        if (rightCol.getLeft() != null) {\n          lastMovingCol = rightCol;\n        }\n      }\n      if (firstMovingCol && lastMovingCol) {\n        break;\n      }\n    }\n    return { firstMovingCol, lastMovingCol };\n  }\n  highlightHoveredColumn(movingColumns, mouseX) {\n    const { gos, columnModel } = this;\n    const isRtl = gos.get(\"enableRtl\");\n    const consideredColumns = columnModel.getCols().filter((col) => col.isVisible() && col.getPinned() === this.pinned);\n    let start = null;\n    let width = null;\n    let targetColumn = null;\n    for (const col of consideredColumns) {\n      width = col.getActualWidth();\n      start = this.getNormalisedColumnLeft(col, 0, isRtl);\n      if (start != null) {\n        const end = start + width;\n        if (start <= mouseX && end >= mouseX) {\n          targetColumn = col;\n          break;\n        }\n      }\n      start = null;\n      width = null;\n    }\n    if (!targetColumn) {\n      for (let i = consideredColumns.length - 1; i >= 0; i--) {\n        const currentColumn = consideredColumns[i];\n        const parent = consideredColumns[i].getParent();\n        if (!parent) {\n          targetColumn = currentColumn;\n          break;\n        }\n        const leafDisplayedCols = parent?.getDisplayedLeafColumns();\n        if (leafDisplayedCols.length) {\n          targetColumn = _last(leafDisplayedCols);\n          break;\n        }\n      }\n      if (!targetColumn) {\n        return;\n      }\n      start = this.getNormalisedColumnLeft(targetColumn, 0, isRtl);\n      width = targetColumn.getActualWidth();\n    } else if (movingColumns.indexOf(targetColumn) !== -1) {\n      targetColumn = null;\n    }\n    if (this.lastHighlightedColumn?.column !== targetColumn) {\n      this.clearHighlighted();\n    }\n    if (targetColumn == null || start == null || width == null) {\n      return;\n    }\n    let position;\n    if (mouseX - start < width / 2 !== isRtl) {\n      position = 0 /* Before */;\n    } else {\n      position = 1 /* After */;\n    }\n    targetColumn.setHighlighted(position);\n    this.lastHighlightedColumn = { column: targetColumn, position };\n  }\n  getNormalisedXPositionInfo(allMovingColumns, isAttemptingToPin) {\n    const { gos, visibleColsService } = this;\n    const isRtl = gos.get(\"enableRtl\");\n    const { firstMovingCol, column, position } = this.getColumnMoveAndTargetInfo(\n      allMovingColumns,\n      isAttemptingToPin,\n      isRtl\n    );\n    if (!firstMovingCol || !column || position == null) {\n      return;\n    }\n    const visibleColumns = visibleColsService.getAllCols();\n    const movingColIndex = visibleColumns.indexOf(firstMovingCol);\n    const targetIndex = visibleColumns.indexOf(column);\n    const isBefore = position === 0 /* Before */ !== isRtl;\n    const fromLeft = movingColIndex < targetIndex || movingColIndex === targetIndex && !isBefore;\n    let diff = 0;\n    if (isBefore) {\n      if (fromLeft) {\n        diff -= 1;\n      }\n    } else {\n      if (!fromLeft) {\n        diff += 1;\n      }\n    }\n    if (targetIndex + diff === movingColIndex) {\n      return;\n    }\n    const targetColumn = visibleColumns[targetIndex + diff];\n    if (!targetColumn) {\n      return;\n    }\n    const xPosition = this.getNormalisedColumnLeft(targetColumn, 20, isRtl);\n    return { fromLeft, xPosition };\n  }\n  getColumnMoveAndTargetInfo(allMovingColumns, isAttemptingToPin, isRtl) {\n    const lastHighlightedColumn = this.lastHighlightedColumn || {};\n    const { firstMovingCol, lastMovingCol } = this.findFirstAndLastMovingColumns(allMovingColumns);\n    if (!firstMovingCol || !lastMovingCol || lastHighlightedColumn.column || !isAttemptingToPin) {\n      return {\n        firstMovingCol,\n        ...lastHighlightedColumn\n      };\n    }\n    const pinned = this.getPinDirection();\n    const isLeft = pinned === \"left\";\n    return {\n      firstMovingCol,\n      position: isLeft ? 1 /* After */ : 0 /* Before */,\n      column: isLeft !== isRtl ? firstMovingCol : lastMovingCol\n    };\n  }\n  normaliseDirection(hDirection) {\n    if (this.gos.get(\"enableRtl\")) {\n      switch (hDirection) {\n        case 0 /* Left */:\n          return 1 /* Right */;\n        case 1 /* Right */:\n          return 0 /* Left */;\n      }\n    }\n    return hDirection;\n  }\n  getNormalisedColumnLeft(col, padding, isRtl) {\n    const { gos, ctrlsService } = this;\n    const left = col.getLeft();\n    if (left == null) {\n      return null;\n    }\n    const width = col.getActualWidth();\n    return normaliseX({\n      x: isRtl ? left + width - padding : left + padding,\n      pinned: col.getPinned(),\n      useHeaderRow: isRtl,\n      skipScrollPadding: true,\n      gos,\n      ctrlsService\n    });\n  }\n  isAttemptingToPin(columns) {\n    const isMovingHorizontally = this.needToMoveLeft || this.needToMoveRight;\n    const isFailedMoreThanThreshold = this.failedMoveAttempts > MOVE_FAIL_THRESHOLD;\n    return isMovingHorizontally && isFailedMoreThanThreshold || columns.some((col) => col.getPinned() !== this.pinned);\n  }\n  moveColumnsAfterHighlight(params) {\n    const { allMovingColumns, xPosition, fromEnter, fakeEvent, fromLeft } = params;\n    const columnMoveParams = this.getMoveColumnParams({\n      allMovingColumns,\n      isFromHeader: true,\n      xPosition,\n      fromLeft,\n      fromEnter,\n      fakeEvent\n    });\n    const { columns, toIndex } = getBestColumnMoveIndexFromXPosition(columnMoveParams) || {};\n    if (columns && toIndex != null) {\n      this.lastMovedInfo = {\n        columns,\n        toIndex\n      };\n    }\n    this.finishColumnMoving();\n  }\n  clearHighlighted() {\n    if (!this.lastHighlightedColumn) {\n      return;\n    }\n    this.lastHighlightedColumn.column.setHighlighted(null);\n    this.lastHighlightedColumn = null;\n  }\n  checkCenterForScrolling(xAdjustedForScroll) {\n    if (!this.isCenterContainer) {\n      return;\n    }\n    const centerCtrl = this.ctrlsService.get(\"center\");\n    const firstVisiblePixel = centerCtrl.getCenterViewportScrollLeft();\n    const lastVisiblePixel = firstVisiblePixel + centerCtrl.getCenterWidth();\n    if (this.gos.get(\"enableRtl\")) {\n      this.needToMoveRight = xAdjustedForScroll < firstVisiblePixel + SCROLL_GAP_NEEDED_BEFORE_MOVE;\n      this.needToMoveLeft = xAdjustedForScroll > lastVisiblePixel - SCROLL_GAP_NEEDED_BEFORE_MOVE;\n    } else {\n      this.needToMoveLeft = xAdjustedForScroll < firstVisiblePixel + SCROLL_GAP_NEEDED_BEFORE_MOVE;\n      this.needToMoveRight = xAdjustedForScroll > lastVisiblePixel - SCROLL_GAP_NEEDED_BEFORE_MOVE;\n    }\n    if (this.needToMoveLeft || this.needToMoveRight) {\n      this.ensureIntervalStarted();\n    } else {\n      this.ensureIntervalCleared();\n    }\n  }\n  ensureIntervalStarted() {\n    if (this.movingIntervalId) {\n      return;\n    }\n    this.intervalCount = 0;\n    this.failedMoveAttempts = 0;\n    this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), SCROLL_TIME_INTERVAL);\n    this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft ? \"left\" : \"right\", true);\n  }\n  ensureIntervalCleared() {\n    if (!this.movingIntervalId) {\n      return;\n    }\n    window.clearInterval(this.movingIntervalId);\n    this.movingIntervalId = null;\n    this.failedMoveAttempts = 0;\n    this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName());\n  }\n  moveInterval() {\n    let pixelsToMove;\n    this.intervalCount++;\n    pixelsToMove = 10 + this.intervalCount * SCROLL_ACCELERATION_RATE;\n    if (pixelsToMove > SCROLL_MOVE_WIDTH) {\n      pixelsToMove = SCROLL_MOVE_WIDTH;\n    }\n    let pixelsMoved = null;\n    const scrollFeature = this.gridBodyCon.getScrollFeature();\n    if (this.needToMoveLeft) {\n      pixelsMoved = scrollFeature.scrollHorizontally(-pixelsToMove);\n    } else if (this.needToMoveRight) {\n      pixelsMoved = scrollFeature.scrollHorizontally(pixelsToMove);\n    }\n    if (pixelsMoved !== 0) {\n      this.onDragging(this.lastDraggingEvent);\n      this.failedMoveAttempts = 0;\n    } else {\n      this.failedMoveAttempts++;\n      if (this.failedMoveAttempts <= MOVE_FAIL_THRESHOLD + 1) {\n        return;\n      }\n      this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(\"pinned\");\n      if (!this.gos.get(\"suppressMoveWhenColumnDragging\")) {\n        const columns = this.lastDraggingEvent?.dragItem.columns;\n        this.attemptToPinColumns(columns, void 0, true);\n      }\n    }\n  }\n  getPinDirection() {\n    if (this.needToMoveLeft || this.pinned === \"left\") {\n      return \"left\";\n    }\n    if (this.needToMoveRight || this.pinned === \"right\") {\n      return \"right\";\n    }\n  }\n  attemptToPinColumns(columns, pinned, fromMoving = false) {\n    const allowedCols = (columns || []).filter((c) => !c.getColDef().lockPinned);\n    if (!allowedCols.length) {\n      return 0;\n    }\n    if (fromMoving) {\n      pinned = this.getPinDirection();\n    }\n    this.columnModel.setColsPinned(allowedCols, pinned, \"uiColumnDragged\");\n    if (fromMoving) {\n      this.dragAndDropService.nudge();\n    }\n    return allowedCols.length;\n  }\n  destroy() {\n    super.destroy();\n    this.lastDraggingEvent = null;\n    this.clearHighlighted();\n    this.lastMovedInfo = null;\n  }\n};\n\n// community-modules/core/src/headerRendering/columnDrag/bodyDropTarget.ts\nvar BodyDropTarget = class extends BeanStub {\n  wireBeans(beans) {\n    this.dragAndDropService = beans.dragAndDropService;\n    this.columnModel = beans.columnModel;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  constructor(pinned, eContainer) {\n    super();\n    this.pinned = pinned;\n    this.eContainer = eContainer;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      switch (this.pinned) {\n        case \"left\":\n          this.eSecondaryContainers = [\n            [p.gridBodyCtrl.getBodyViewportElement(), p.left.getContainerElement()],\n            [p.bottomLeft.getContainerElement()],\n            [p.topLeft.getContainerElement()]\n          ];\n          break;\n        case \"right\":\n          this.eSecondaryContainers = [\n            [p.gridBodyCtrl.getBodyViewportElement(), p.right.getContainerElement()],\n            [p.bottomRight.getContainerElement()],\n            [p.topRight.getContainerElement()]\n          ];\n          break;\n        default:\n          this.eSecondaryContainers = [\n            [p.gridBodyCtrl.getBodyViewportElement(), p.center.getViewportElement()],\n            [p.bottomCenter.getViewportElement()],\n            [p.topCenter.getViewportElement()]\n          ];\n          break;\n      }\n    });\n    this.moveColumnFeature = this.createManagedBean(new MoveColumnFeature(this.pinned));\n    this.bodyDropPivotTarget = this.createManagedBean(new BodyDropPivotTarget(this.pinned));\n    this.dragAndDropService.addDropTarget(this);\n    this.addDestroyFunc(() => this.dragAndDropService.removeDropTarget(this));\n  }\n  isInterestedIn(type) {\n    return type === 1 /* HeaderCell */ || type === 0 /* ToolPanel */ && this.gos.get(\"allowDragFromColumnsToolPanel\");\n  }\n  getSecondaryContainers() {\n    return this.eSecondaryContainers;\n  }\n  getContainer() {\n    return this.eContainer;\n  }\n  getIconName() {\n    return this.currentDropListener.getIconName();\n  }\n  // we want to use the bodyPivotTarget if the user is dragging columns in from the toolPanel\n  // and we are in pivot mode, as it has to logic to set pivot/value/group on the columns when\n  // dropped into the grid's body.\n  isDropColumnInPivotMode(draggingEvent) {\n    return this.columnModel.isPivotMode() && draggingEvent.dragSource.type === 0 /* ToolPanel */;\n  }\n  onDragEnter(draggingEvent) {\n    this.currentDropListener = this.isDropColumnInPivotMode(draggingEvent) ? this.bodyDropPivotTarget : this.moveColumnFeature;\n    this.currentDropListener.onDragEnter(draggingEvent);\n  }\n  onDragLeave(params) {\n    this.currentDropListener.onDragLeave(params);\n  }\n  onDragging(params) {\n    this.currentDropListener.onDragging(params);\n  }\n  onDragStop(params) {\n    this.currentDropListener.onDragStop(params);\n  }\n  onDragCancel() {\n    this.currentDropListener.onDragCancel();\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/column/resizeFeature.ts\nvar ResizeFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.horizontalResizeService = beans.horizontalResizeService;\n    this.pinnedWidthService = beans.pinnedWidthService;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnSizeService = beans.columnSizeService;\n    this.columnAutosizeService = beans.columnAutosizeService;\n  }\n  constructor(pinned, column, eResize, comp, ctrl) {\n    super();\n    this.pinned = pinned;\n    this.column = column;\n    this.eResize = eResize;\n    this.comp = comp;\n    this.ctrl = ctrl;\n  }\n  postConstruct() {\n    const destroyResizeFuncs = [];\n    let canResize;\n    let canAutosize;\n    const addResize = () => {\n      _setDisplayed(this.eResize, canResize);\n      if (!canResize) {\n        return;\n      }\n      const finishedWithResizeFunc = this.horizontalResizeService.addResizeBar({\n        eResizeBar: this.eResize,\n        onResizeStart: this.onResizeStart.bind(this),\n        onResizing: this.onResizing.bind(this, false),\n        onResizeEnd: this.onResizing.bind(this, true)\n      });\n      destroyResizeFuncs.push(finishedWithResizeFunc);\n      if (canAutosize) {\n        const skipHeaderOnAutoSize = this.gos.get(\"skipHeaderOnAutoSize\");\n        const autoSizeColListener = () => {\n          this.columnAutosizeService.autoSizeColumn(this.column, \"uiColumnResized\", skipHeaderOnAutoSize);\n        };\n        this.eResize.addEventListener(\"dblclick\", autoSizeColListener);\n        const touchListener = new TouchListener(this.eResize);\n        touchListener.addEventListener(\"doubleTap\", autoSizeColListener);\n        destroyResizeFuncs.push(() => {\n          this.eResize.removeEventListener(\"dblclick\", autoSizeColListener);\n          touchListener.removeEventListener(\"doubleTap\", autoSizeColListener);\n          touchListener.destroy();\n        });\n      }\n    };\n    const removeResize = () => {\n      destroyResizeFuncs.forEach((f) => f());\n      destroyResizeFuncs.length = 0;\n    };\n    const refresh = () => {\n      const resize = this.column.isResizable();\n      const autoSize = !this.gos.get(\"suppressAutoSize\") && !this.column.getColDef().suppressAutoSize;\n      const propertyChange = resize !== canResize || autoSize !== canAutosize;\n      if (propertyChange) {\n        canResize = resize;\n        canAutosize = autoSize;\n        removeResize();\n        addResize();\n      }\n    };\n    refresh();\n    this.addDestroyFunc(removeResize);\n    this.ctrl.setRefreshFunction(\"resize\", refresh);\n  }\n  onResizing(finished, resizeAmount) {\n    const { column: key, lastResizeAmount, resizeStartWidth } = this;\n    const resizeAmountNormalised = this.normaliseResizeAmount(resizeAmount);\n    const newWidth = resizeStartWidth + resizeAmountNormalised;\n    const columnWidths = [{ key, newWidth }];\n    if (this.column.getPinned()) {\n      const leftWidth = this.pinnedWidthService.getPinnedLeftWidth();\n      const rightWidth = this.pinnedWidthService.getPinnedRightWidth();\n      const bodyWidth = _getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement()) - 50;\n      if (leftWidth + rightWidth + (resizeAmountNormalised - lastResizeAmount) > bodyWidth) {\n        return;\n      }\n    }\n    this.lastResizeAmount = resizeAmountNormalised;\n    this.columnSizeService.setColumnWidths(columnWidths, this.resizeWithShiftKey, finished, \"uiColumnResized\");\n    if (finished) {\n      this.toggleColumnResizing(false);\n    }\n  }\n  onResizeStart(shiftKey) {\n    this.resizeStartWidth = this.column.getActualWidth();\n    this.lastResizeAmount = 0;\n    this.resizeWithShiftKey = shiftKey;\n    this.toggleColumnResizing(true);\n  }\n  toggleColumnResizing(resizing) {\n    this.comp.addOrRemoveCssClass(\"ag-column-resizing\", resizing);\n  }\n  // optionally inverts the drag, depending on pinned and RTL\n  // note - this method is duplicated in RenderedHeaderGroupCell - should refactor out?\n  normaliseResizeAmount(dragChange) {\n    let result = dragChange;\n    const notPinningLeft = this.pinned !== \"left\";\n    const pinningRight = this.pinned === \"right\";\n    if (this.gos.get(\"enableRtl\")) {\n      if (notPinningLeft) {\n        result *= -1;\n      }\n    } else {\n      if (pinningRight) {\n        result *= -1;\n      }\n    }\n    return result;\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/column/selectAllFeature.ts\nvar SelectAllFeature = class extends BeanStub {\n  constructor(column) {\n    super();\n    this.cbSelectAllVisible = false;\n    this.processingEventFromCheckbox = false;\n    this.column = column;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.selectionService = beans.selectionService;\n  }\n  onSpaceKeyDown(e) {\n    const checkbox = this.cbSelectAll;\n    if (checkbox.isDisplayed() && !checkbox.getGui().contains(_getActiveDomElement(this.gos))) {\n      e.preventDefault();\n      checkbox.setValue(!checkbox.getValue());\n    }\n  }\n  getCheckboxGui() {\n    return this.cbSelectAll.getGui();\n  }\n  setComp(ctrl) {\n    this.headerCellCtrl = ctrl;\n    this.cbSelectAll = this.createManagedBean(new AgCheckbox());\n    this.cbSelectAll.addCssClass(\"ag-header-select-all\");\n    _setAriaRole(this.cbSelectAll.getGui(), \"presentation\");\n    this.showOrHideSelectAll();\n    this.addManagedEventListeners({\n      newColumnsLoaded: this.onNewColumnsLoaded.bind(this),\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this),\n      selectionChanged: this.onSelectionChanged.bind(this),\n      paginationChanged: this.onSelectionChanged.bind(this),\n      modelUpdated: this.onModelChanged.bind(this)\n    });\n    this.addManagedListeners(this.cbSelectAll, { fieldValueChanged: this.onCbSelectAll.bind(this) });\n    this.cbSelectAll.getInputElement().setAttribute(\"tabindex\", \"-1\");\n    this.refreshSelectAllLabel();\n  }\n  onNewColumnsLoaded() {\n    this.showOrHideSelectAll();\n  }\n  onDisplayedColumnsChanged() {\n    if (!this.isAlive()) {\n      return;\n    }\n    this.showOrHideSelectAll();\n  }\n  showOrHideSelectAll() {\n    this.cbSelectAllVisible = this.isCheckboxSelection();\n    this.cbSelectAll.setDisplayed(this.cbSelectAllVisible);\n    if (this.cbSelectAllVisible) {\n      this.checkRightRowModelType(\"selectAllCheckbox\");\n      this.checkSelectionType(\"selectAllCheckbox\");\n      this.updateStateOfCheckbox();\n    }\n    this.refreshSelectAllLabel();\n  }\n  onModelChanged() {\n    if (!this.cbSelectAllVisible) {\n      return;\n    }\n    this.updateStateOfCheckbox();\n  }\n  onSelectionChanged() {\n    if (!this.cbSelectAllVisible) {\n      return;\n    }\n    this.updateStateOfCheckbox();\n  }\n  updateStateOfCheckbox() {\n    if (this.processingEventFromCheckbox) {\n      return;\n    }\n    this.processingEventFromCheckbox = true;\n    const allSelected = this.selectionService.getSelectAllState(this.isFilteredOnly(), this.isCurrentPageOnly());\n    this.cbSelectAll.setValue(allSelected);\n    const hasNodesToSelect = this.selectionService.hasNodesToSelect(\n      this.isFilteredOnly(),\n      this.isCurrentPageOnly()\n    );\n    this.cbSelectAll.setDisabled(!hasNodesToSelect);\n    this.refreshSelectAllLabel();\n    this.processingEventFromCheckbox = false;\n  }\n  refreshSelectAllLabel() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const checked = this.cbSelectAll.getValue();\n    const ariaStatus = checked ? translate(\"ariaChecked\", \"checked\") : translate(\"ariaUnchecked\", \"unchecked\");\n    const ariaLabel = translate(\"ariaRowSelectAll\", \"Press Space to toggle all rows selection\");\n    if (!this.cbSelectAllVisible) {\n      this.headerCellCtrl.setAriaDescriptionProperty(\"selectAll\", null);\n    } else {\n      this.headerCellCtrl.setAriaDescriptionProperty(\"selectAll\", `${ariaLabel} (${ariaStatus})`);\n    }\n    this.cbSelectAll.setInputAriaLabel(translate(\"ariaHeaderSelection\", \"Column with Header Selection\"));\n    this.headerCellCtrl.announceAriaDescription();\n  }\n  checkSelectionType(feature) {\n    const isMultiSelect = _isMultiRowSelection(this.gos);\n    if (!isMultiSelect) {\n      _warnOnce(`${feature} is only available if using 'multiRow' selection mode.`);\n      return false;\n    }\n    return true;\n  }\n  checkRightRowModelType(feature) {\n    const rowModelMatches = _isClientSideRowModel(this.gos) || _isServerSideRowModel(this.gos);\n    if (!rowModelMatches) {\n      _warnOnce(\n        `${feature} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`\n      );\n      return false;\n    }\n    return true;\n  }\n  onCbSelectAll() {\n    if (this.processingEventFromCheckbox) {\n      return;\n    }\n    if (!this.cbSelectAllVisible) {\n      return;\n    }\n    const value = this.cbSelectAll.getValue();\n    const justFiltered = this.isFilteredOnly();\n    const justCurrentPage = this.isCurrentPageOnly();\n    let source = \"uiSelectAll\";\n    if (justCurrentPage) {\n      source = \"uiSelectAllCurrentPage\";\n    } else if (justFiltered) {\n      source = \"uiSelectAllFiltered\";\n    }\n    const params = {\n      source,\n      justFiltered,\n      justCurrentPage\n    };\n    if (value) {\n      this.selectionService.selectAllRowNodes(params);\n    } else {\n      this.selectionService.deselectAllRowNodes(params);\n    }\n  }\n  /**\n   * Checkbox is enabled when either the `headerCheckbox` option is enabled in the new selection API\n   * or `headerCheckboxSelection` is enabled in the legacy API.\n   */\n  isCheckboxSelection() {\n    const so = this.gos.get(\"rowSelection\");\n    const newHeaderCheckbox = typeof so === \"object\" && _getHeaderCheckbox(so) && isColumnControlsCol(this.column);\n    const headerCheckboxSelection = this.column.getColDef().headerCheckboxSelection;\n    let result = false;\n    if (newHeaderCheckbox) {\n      result = true;\n    } else if (typeof headerCheckboxSelection === \"function\") {\n      result = headerCheckboxSelection(\n        this.gos.addGridCommonParams({\n          column: this.column,\n          colDef: this.column.getColDef()\n        })\n      );\n    } else {\n      result = !!headerCheckboxSelection;\n    }\n    return result && this.checkRightRowModelType(newHeaderCheckbox ? \"headerCheckbox\" : \"headerCheckboxSelection\") && this.checkSelectionType(newHeaderCheckbox ? \"headerCheckbox\" : \"headerCheckboxSelection\");\n  }\n  isFilteredOnly() {\n    const so = this.gos.get(\"rowSelection\");\n    return typeof so === \"object\" ? so.mode === \"multiRow\" && so.selectAll === \"filtered\" : !!this.column.getColDef().headerCheckboxSelectionFilteredOnly;\n  }\n  isCurrentPageOnly() {\n    const so = this.gos.get(\"rowSelection\");\n    return typeof so === \"object\" ? so.mode === \"multiRow\" && so.selectAll === \"currentPage\" : !!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly;\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/column/headerCellCtrl.ts\nvar HeaderCellCtrl = class extends AbstractHeaderCellCtrl {\n  constructor(column, beans, parentRowCtrl) {\n    super(column, beans, parentRowCtrl);\n    this.refreshFunctions = {};\n    this.userHeaderClasses = /* @__PURE__ */ new Set();\n    this.ariaDescriptionProperties = /* @__PURE__ */ new Map();\n    this.column = column;\n  }\n  setComp(comp, eGui, eResize, eHeaderCompWrapper, compBean) {\n    this.comp = comp;\n    compBean = setupCompBean(this, this.beans.context, compBean);\n    this.setGui(eGui, compBean);\n    this.updateState();\n    this.setupWidth(compBean);\n    this.setupMovingCss(compBean);\n    this.setupMenuClass(compBean);\n    this.setupSortableClass(compBean);\n    this.setupWrapTextClass();\n    this.refreshSpanHeaderHeight();\n    this.setupAutoHeight({\n      wrapperElement: eHeaderCompWrapper,\n      checkMeasuringCallback: (checkMeasuring) => this.setRefreshFunction(\"measuring\", checkMeasuring),\n      compBean\n    });\n    this.addColumnHoverListener(compBean);\n    this.setupFilterClass(compBean);\n    this.setupClassesFromColDef();\n    this.setupTooltip(compBean);\n    this.addActiveHeaderMouseListeners(compBean);\n    this.setupSelectAll(compBean);\n    this.setupUserComp(compBean);\n    this.refreshAria();\n    this.resizeFeature = compBean.createManagedBean(\n      new ResizeFeature(this.getPinned(), this.column, eResize, comp, this)\n    );\n    compBean.createManagedBean(new HoverFeature([this.column], eGui));\n    compBean.createManagedBean(new SetLeftFeature(this.column, eGui, this.beans));\n    compBean.createManagedBean(\n      new ManagedFocusFeature(eGui, {\n        shouldStopEventPropagation: (e) => this.shouldStopEventPropagation(e),\n        onTabKeyDown: () => null,\n        handleKeyDown: this.handleKeyDown.bind(this),\n        onFocusIn: this.onFocusIn.bind(this),\n        onFocusOut: this.onFocusOut.bind(this)\n      })\n    );\n    this.addResizeAndMoveKeyboardListeners(compBean);\n    compBean.addManagedPropertyListeners(\n      [\"suppressMovableColumns\", \"suppressMenuHide\", \"suppressAggFuncInHeader\"],\n      () => this.refresh(compBean)\n    );\n    compBean.addManagedListeners(this.column, { colDefChanged: () => this.refresh(compBean) });\n    compBean.addManagedListeners(this.column, { headerHighlightChanged: this.onHeaderHighlightChanged.bind(this) });\n    const listener = () => this.checkDisplayName(compBean);\n    compBean.addManagedEventListeners({\n      columnValueChanged: listener,\n      columnRowGroupChanged: listener,\n      columnPivotChanged: listener,\n      headerHeightChanged: this.onHeaderHeightChanged.bind(this)\n    });\n    compBean.addDestroyFunc(() => {\n      this.refreshFunctions = {};\n      this.selectAllFeature = null;\n      this.dragSourceElement = void 0;\n      this.userCompDetails = null;\n      this.userHeaderClasses.clear();\n      this.ariaDescriptionProperties.clear();\n      this.clearComponent();\n    });\n  }\n  resizeHeader(delta, shiftKey) {\n    if (!this.column.isResizable()) {\n      return;\n    }\n    const actualWidth = this.column.getActualWidth();\n    const minWidth = this.column.getMinWidth();\n    const maxWidth = this.column.getMaxWidth();\n    const newWidth = Math.min(Math.max(actualWidth + delta, minWidth), maxWidth);\n    this.beans.columnSizeService.setColumnWidths(\n      [{ key: this.column, newWidth }],\n      shiftKey,\n      true,\n      \"uiColumnResized\"\n    );\n  }\n  moveHeader(hDirection) {\n    const { eGui, beans, column, ctrlsService } = this;\n    const { gos, columnModel, columnMoveService, visibleColsService } = beans;\n    const pinned = this.getPinned();\n    const left = eGui.getBoundingClientRect().left;\n    const width = column.getActualWidth();\n    const isRtl = gos.get(\"enableRtl\");\n    const isLeft = hDirection === 0 /* Left */ !== isRtl;\n    const xPosition = normaliseX({\n      x: isLeft ? left - 20 : left + width + 20,\n      pinned,\n      fromKeyboard: true,\n      gos,\n      ctrlsService\n    });\n    const headerPosition = this.focusService.getFocusedHeader();\n    attemptMoveColumns({\n      allMovingColumns: [column],\n      isFromHeader: true,\n      fromLeft: hDirection === 1 /* Right */,\n      xPosition,\n      pinned,\n      fromEnter: false,\n      fakeEvent: false,\n      gos,\n      columnModel,\n      columnMoveService,\n      visibleColsService,\n      finished: true\n    });\n    ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(column, \"auto\");\n    if ((!this.isAlive() || this.beans.gos.get(\"ensureDomOrder\")) && headerPosition) {\n      this.restoreFocus(headerPosition);\n    }\n  }\n  restoreFocus(previousPosition) {\n    this.focusService.focusHeaderPosition({\n      headerPosition: {\n        ...previousPosition,\n        column: this.column\n      }\n    });\n  }\n  setupUserComp(compBean) {\n    const compDetails = this.lookupUserCompDetails(compBean);\n    this.setCompDetails(compDetails);\n  }\n  setCompDetails(compDetails) {\n    this.userCompDetails = compDetails;\n    this.comp.setUserCompDetails(compDetails);\n  }\n  lookupUserCompDetails(compBean) {\n    const params = this.createParams(compBean);\n    const colDef = this.column.getColDef();\n    return this.userComponentFactory.getHeaderCompDetails(colDef, params);\n  }\n  createParams(compBean) {\n    const params = this.gos.addGridCommonParams({\n      column: this.column,\n      displayName: this.displayName,\n      enableSorting: this.column.isSortable(),\n      enableMenu: this.menuEnabled,\n      enableFilterButton: this.openFilterEnabled && this.menuService.isHeaderFilterButtonEnabled(this.column),\n      enableFilterIcon: !this.openFilterEnabled || this.menuService.isLegacyMenuEnabled(),\n      showColumnMenu: (buttonElement) => {\n        this.menuService.showColumnMenu({\n          column: this.column,\n          buttonElement,\n          positionBy: \"button\"\n        });\n      },\n      showColumnMenuAfterMouseClick: (mouseEvent) => {\n        this.menuService.showColumnMenu({\n          column: this.column,\n          mouseEvent,\n          positionBy: \"mouse\"\n        });\n      },\n      showFilter: (buttonElement) => {\n        this.menuService.showFilterMenu({\n          column: this.column,\n          buttonElement,\n          containerType: \"columnFilter\",\n          positionBy: \"button\"\n        });\n      },\n      progressSort: (multiSort) => {\n        this.beans.sortController.progressSort(this.column, !!multiSort, \"uiColumnSorted\");\n      },\n      setSort: (sort, multiSort) => {\n        this.beans.sortController.setSortForColumn(this.column, sort, !!multiSort, \"uiColumnSorted\");\n      },\n      eGridHeader: this.getGui(),\n      setTooltip: (value, shouldDisplayTooltip) => {\n        this.setupTooltip(compBean, value, shouldDisplayTooltip);\n      }\n    });\n    return params;\n  }\n  setupSelectAll(compBean) {\n    this.selectAllFeature = compBean.createManagedBean(new SelectAllFeature(this.column));\n    this.selectAllFeature.setComp(this);\n  }\n  getSelectAllGui() {\n    return this.selectAllFeature.getCheckboxGui();\n  }\n  handleKeyDown(e) {\n    super.handleKeyDown(e);\n    if (e.key === KeyCode.SPACE) {\n      this.selectAllFeature.onSpaceKeyDown(e);\n    }\n    if (e.key === KeyCode.ENTER) {\n      this.onEnterKeyDown(e);\n    }\n    if (e.key === KeyCode.DOWN && e.altKey) {\n      this.showMenuOnKeyPress(e, false);\n    }\n  }\n  onEnterKeyDown(e) {\n    if (e.ctrlKey || e.metaKey) {\n      this.showMenuOnKeyPress(e, true);\n    } else if (this.sortable) {\n      const multiSort = e.shiftKey;\n      this.beans.sortController.progressSort(this.column, multiSort, \"uiColumnSorted\");\n    }\n  }\n  showMenuOnKeyPress(e, isFilterShortcut) {\n    const headerComp = this.comp.getUserCompInstance();\n    if (!headerComp || !(headerComp instanceof HeaderComp)) {\n      return;\n    }\n    if (headerComp.onMenuKeyboardShortcut(isFilterShortcut)) {\n      e.preventDefault();\n    }\n  }\n  onFocusIn(e) {\n    if (!this.getGui().contains(e.relatedTarget)) {\n      const rowIndex = this.getRowIndex();\n      this.focusService.setFocusedHeader(rowIndex, this.column);\n      this.announceAriaDescription();\n    }\n    if (this.focusService.isKeyboardMode()) {\n      this.setActiveHeader(true);\n    }\n  }\n  onFocusOut(e) {\n    if (this.getGui().contains(e.relatedTarget)) {\n      return;\n    }\n    this.setActiveHeader(false);\n  }\n  setupTooltip(compBean, value, shouldDisplayTooltip) {\n    if (this.tooltipFeature) {\n      this.tooltipFeature = this.destroyBean(this.tooltipFeature);\n    }\n    const isTooltipWhenTruncated = this.gos.get(\"tooltipShowMode\") === \"whenTruncated\";\n    const eGui = this.eGui;\n    const colDef = this.column.getColDef();\n    if (!shouldDisplayTooltip && isTooltipWhenTruncated && !colDef.headerComponent) {\n      shouldDisplayTooltip = () => {\n        const textEl = eGui.querySelector(\".ag-header-cell-text\");\n        if (!textEl) {\n          return true;\n        }\n        return textEl.scrollWidth > textEl.clientWidth;\n      };\n    }\n    const tooltipCtrl = {\n      getColumn: () => this.column,\n      getColDef: () => this.column.getColDef(),\n      getGui: () => eGui,\n      getLocation: () => \"header\",\n      getTooltipValue: () => {\n        if (value != null) {\n          return value;\n        }\n        const res = this.column.getColDef().headerTooltip;\n        return res;\n      },\n      shouldDisplayTooltip\n    };\n    const tooltipFeature = compBean.createManagedBean(new TooltipFeature(tooltipCtrl));\n    this.setRefreshFunction(\"tooltip\", () => tooltipFeature.refreshToolTip());\n  }\n  setupClassesFromColDef() {\n    const refreshHeaderClasses = () => {\n      const colDef = this.column.getColDef();\n      const classes = _getHeaderClassesFromColDef(colDef, this.gos, this.column, null);\n      const oldClasses = this.userHeaderClasses;\n      this.userHeaderClasses = new Set(classes);\n      classes.forEach((c) => {\n        if (oldClasses.has(c)) {\n          oldClasses.delete(c);\n        } else {\n          this.comp.addOrRemoveCssClass(c, true);\n        }\n      });\n      oldClasses.forEach((c) => this.comp.addOrRemoveCssClass(c, false));\n    };\n    this.setRefreshFunction(\"headerClasses\", refreshHeaderClasses);\n    refreshHeaderClasses();\n  }\n  setDragSource(eSource) {\n    this.dragSourceElement = eSource;\n    this.removeDragSource();\n    if (!eSource || !this.draggable) {\n      return;\n    }\n    const { column, beans, displayName, dragAndDropService, gos } = this;\n    const { columnModel } = beans;\n    let hideColumnOnExit = !this.gos.get(\"suppressDragLeaveHidesColumns\");\n    const dragSource = this.dragSource = {\n      type: 1 /* HeaderCell */,\n      eElement: eSource,\n      getDefaultIconName: () => hideColumnOnExit ? \"hide\" : \"notAllowed\",\n      getDragItem: () => this.createDragItem(column),\n      dragItemName: displayName,\n      onDragStarted: () => {\n        hideColumnOnExit = !gos.get(\"suppressDragLeaveHidesColumns\");\n        setColumnsMoving([column], true);\n      },\n      onDragStopped: () => setColumnsMoving([column], false),\n      onDragCancelled: () => setColumnsMoving([column], false),\n      onGridEnter: (dragItem) => {\n        if (hideColumnOnExit) {\n          const unlockedColumns = dragItem?.columns?.filter((col) => !col.getColDef().lockVisible) || [];\n          columnModel.setColsVisible(unlockedColumns, true, \"uiColumnMoved\");\n        }\n      },\n      onGridExit: (dragItem) => {\n        if (hideColumnOnExit) {\n          const unlockedColumns = dragItem?.columns?.filter((col) => !col.getColDef().lockVisible) || [];\n          columnModel.setColsVisible(unlockedColumns, false, \"uiColumnMoved\");\n        }\n      }\n    };\n    dragAndDropService.addDragSource(dragSource, true);\n  }\n  createDragItem(column) {\n    const visibleState = {};\n    visibleState[column.getId()] = column.isVisible();\n    return {\n      columns: [column],\n      visibleState\n    };\n  }\n  updateState() {\n    this.menuEnabled = this.menuService.isColumnMenuInHeaderEnabled(this.column);\n    this.openFilterEnabled = this.menuService.isFilterMenuInHeaderEnabled(this.column);\n    this.sortable = this.column.isSortable();\n    this.displayName = this.calculateDisplayName();\n    this.draggable = this.workOutDraggable();\n  }\n  setRefreshFunction(name, func) {\n    this.refreshFunctions[name] = func;\n  }\n  refresh(compBean) {\n    this.updateState();\n    this.refreshHeaderComp(compBean);\n    this.refreshAria();\n    Object.values(this.refreshFunctions).forEach((f) => f());\n  }\n  refreshHeaderComp(compBean) {\n    const newCompDetails = this.lookupUserCompDetails(compBean);\n    const compInstance = this.comp.getUserCompInstance();\n    const attemptRefresh = compInstance != null && this.userCompDetails.componentClass == newCompDetails.componentClass;\n    const headerCompRefreshed = attemptRefresh ? this.attemptHeaderCompRefresh(newCompDetails.params) : false;\n    if (headerCompRefreshed) {\n      this.setDragSource(this.dragSourceElement);\n    } else {\n      this.setCompDetails(newCompDetails);\n    }\n  }\n  attemptHeaderCompRefresh(params) {\n    const headerComp = this.comp.getUserCompInstance();\n    if (!headerComp) {\n      return false;\n    }\n    if (!headerComp.refresh) {\n      return false;\n    }\n    const res = headerComp.refresh(params);\n    return res;\n  }\n  calculateDisplayName() {\n    return this.beans.columnNameService.getDisplayNameForColumn(this.column, \"header\", true);\n  }\n  checkDisplayName(compBean) {\n    if (this.displayName !== this.calculateDisplayName()) {\n      this.refresh(compBean);\n    }\n  }\n  workOutDraggable() {\n    const colDef = this.column.getColDef();\n    const isSuppressMovableColumns = this.gos.get(\"suppressMovableColumns\");\n    const colCanMove = !isSuppressMovableColumns && !colDef.suppressMovable && !colDef.lockPosition;\n    return !!colCanMove || !!colDef.enableRowGroup || !!colDef.enablePivot;\n  }\n  setupWidth(compBean) {\n    const listener = () => {\n      const columnWidth = this.column.getActualWidth();\n      this.comp.setWidth(`${columnWidth}px`);\n    };\n    compBean.addManagedListeners(this.column, { widthChanged: listener });\n    listener();\n  }\n  setupMovingCss(compBean) {\n    const listener = () => {\n      this.comp.addOrRemoveCssClass(\"ag-header-cell-moving\", this.column.isMoving());\n    };\n    compBean.addManagedListeners(this.column, { movingChanged: listener });\n    listener();\n  }\n  setupMenuClass(compBean) {\n    const listener = () => {\n      this.comp.addOrRemoveCssClass(\"ag-column-menu-visible\", this.column.isMenuVisible());\n    };\n    compBean.addManagedListeners(this.column, { menuVisibleChanged: listener });\n    listener();\n  }\n  setupSortableClass(compBean) {\n    const updateSortableCssClass = () => {\n      this.comp.addOrRemoveCssClass(\"ag-header-cell-sortable\", !!this.sortable);\n    };\n    updateSortableCssClass();\n    this.setRefreshFunction(\"updateSortable\", updateSortableCssClass);\n    compBean.addManagedEventListeners({ sortChanged: this.refreshAriaSort.bind(this) });\n  }\n  setupFilterClass(compBean) {\n    const listener = () => {\n      const isFilterActive = this.column.isFilterActive();\n      this.comp.addOrRemoveCssClass(\"ag-header-cell-filtered\", isFilterActive);\n      this.refreshAria();\n    };\n    compBean.addManagedListeners(this.column, { filterActiveChanged: listener });\n    listener();\n  }\n  setupWrapTextClass() {\n    const listener = () => {\n      const wrapText = !!this.column.getColDef().wrapHeaderText;\n      this.comp.addOrRemoveCssClass(\"ag-header-cell-wrap-text\", wrapText);\n    };\n    listener();\n    this.setRefreshFunction(\"wrapText\", listener);\n  }\n  onHeaderHighlightChanged() {\n    const highlighted = this.column.getHighlighted();\n    const beforeOn = highlighted === 0 /* Before */;\n    const afterOn = highlighted === 1 /* After */;\n    this.comp.addOrRemoveCssClass(\"ag-header-highlight-before\", beforeOn);\n    this.comp.addOrRemoveCssClass(\"ag-header-highlight-after\", afterOn);\n  }\n  onDisplayedColumnsChanged() {\n    super.onDisplayedColumnsChanged();\n    if (!this.isAlive()) {\n      return;\n    }\n    this.onHeaderHeightChanged();\n  }\n  onHeaderHeightChanged() {\n    this.refreshSpanHeaderHeight();\n  }\n  refreshSpanHeaderHeight() {\n    const { eGui, column, comp, beans } = this;\n    const groupHeaderHeight = this.beans.columnModel.getGroupRowsHeight();\n    const isZeroGroupHeight = groupHeaderHeight.reduce((total, next) => total += next, 0) === 0;\n    comp.addOrRemoveCssClass(\"ag-header-parent-hidden\", isZeroGroupHeight);\n    if (!column.isSpanHeaderHeight()) {\n      eGui.style.removeProperty(\"top\");\n      eGui.style.removeProperty(\"height\");\n      comp.addOrRemoveCssClass(\"ag-header-span-height\", false);\n      comp.addOrRemoveCssClass(\"ag-header-span-total\", false);\n      return;\n    }\n    const { numberOfParents, isSpanningTotal } = this.column.getColumnGroupPaddingInfo();\n    comp.addOrRemoveCssClass(\"ag-header-span-height\", numberOfParents > 0);\n    const { columnModel } = beans;\n    const headerHeight = columnModel.getColumnHeaderRowHeight();\n    if (numberOfParents === 0) {\n      comp.addOrRemoveCssClass(\"ag-header-span-total\", false);\n      eGui.style.setProperty(\"top\", `0px`);\n      eGui.style.setProperty(\"height\", `${headerHeight}px`);\n      return;\n    }\n    comp.addOrRemoveCssClass(\"ag-header-span-total\", isSpanningTotal);\n    let extraHeight = 0;\n    for (let i = 0; i < numberOfParents; i++) {\n      extraHeight += groupHeaderHeight[groupHeaderHeight.length - 1 - i];\n    }\n    eGui.style.setProperty(\"top\", `${-extraHeight}px`);\n    eGui.style.setProperty(\"height\", `${headerHeight + extraHeight}px`);\n  }\n  refreshAriaSort() {\n    if (this.sortable) {\n      const translate = this.localeService.getLocaleTextFunc();\n      const sort = this.beans.sortController.getDisplaySortForColumn(this.column) || null;\n      this.comp.setAriaSort(_getAriaSortState(sort));\n      this.setAriaDescriptionProperty(\"sort\", translate(\"ariaSortableColumn\", \"Press ENTER to sort\"));\n    } else {\n      this.comp.setAriaSort();\n      this.setAriaDescriptionProperty(\"sort\", null);\n    }\n  }\n  refreshAriaMenu() {\n    if (this.menuEnabled) {\n      const translate = this.localeService.getLocaleTextFunc();\n      this.setAriaDescriptionProperty(\"menu\", translate(\"ariaMenuColumn\", \"Press ALT DOWN to open column menu\"));\n    } else {\n      this.setAriaDescriptionProperty(\"menu\", null);\n    }\n  }\n  refreshAriaFilterButton() {\n    if (this.openFilterEnabled && !this.menuService.isLegacyMenuEnabled()) {\n      const translate = this.localeService.getLocaleTextFunc();\n      this.setAriaDescriptionProperty(\n        \"filterButton\",\n        translate(\"ariaFilterColumn\", \"Press CTRL ENTER to open filter\")\n      );\n    } else {\n      this.setAriaDescriptionProperty(\"filterButton\", null);\n    }\n  }\n  refreshAriaFiltered() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const isFilterActive = this.column.isFilterActive();\n    if (isFilterActive) {\n      this.setAriaDescriptionProperty(\"filter\", translate(\"ariaColumnFiltered\", \"Column Filtered\"));\n    } else {\n      this.setAriaDescriptionProperty(\"filter\", null);\n    }\n  }\n  setAriaDescriptionProperty(property, value) {\n    if (value != null) {\n      this.ariaDescriptionProperties.set(property, value);\n    } else {\n      this.ariaDescriptionProperties.delete(property);\n    }\n  }\n  announceAriaDescription() {\n    if (!this.eGui.contains(_getActiveDomElement(this.beans.gos))) {\n      return;\n    }\n    const ariaDescription = Array.from(this.ariaDescriptionProperties.keys()).sort((a, b) => a === \"filter\" ? -1 : b.charCodeAt(0) - a.charCodeAt(0)).map((key) => this.ariaDescriptionProperties.get(key)).join(\". \");\n    this.beans.ariaAnnouncementService.announceValue(ariaDescription, \"columnHeader\");\n  }\n  refreshAria() {\n    this.refreshAriaSort();\n    this.refreshAriaMenu();\n    this.refreshAriaFilterButton();\n    this.refreshAriaFiltered();\n  }\n  addColumnHoverListener(compBean) {\n    const listener = () => {\n      if (!this.gos.get(\"columnHoverHighlight\")) {\n        return;\n      }\n      const isHovered = this.beans.columnHoverService.isHovered(this.column);\n      this.comp.addOrRemoveCssClass(\"ag-column-hover\", isHovered);\n    };\n    compBean.addManagedEventListeners({ columnHoverChanged: listener });\n    listener();\n  }\n  getColId() {\n    return this.column.getColId();\n  }\n  addActiveHeaderMouseListeners(compBean) {\n    const listener = (e) => this.handleMouseOverChange(e.type === \"mouseenter\");\n    const clickListener = () => this.dispatchColumnMouseEvent(\"columnHeaderClicked\", this.column);\n    const contextMenuListener = (event) => this.handleContextMenuMouseEvent(event, void 0, this.column);\n    compBean.addManagedListeners(this.getGui(), {\n      mouseenter: listener,\n      mouseleave: listener,\n      click: clickListener,\n      contextmenu: contextMenuListener\n    });\n  }\n  handleMouseOverChange(isMouseOver) {\n    this.setActiveHeader(isMouseOver);\n    this.eventService.dispatchEvent({\n      type: isMouseOver ? \"columnHeaderMouseOver\" : \"columnHeaderMouseLeave\",\n      column: this.column\n    });\n  }\n  setActiveHeader(active) {\n    this.comp.addOrRemoveCssClass(\"ag-header-active\", active);\n  }\n  getAnchorElementForMenu(isFilter) {\n    const headerComp = this.comp.getUserCompInstance();\n    if (headerComp instanceof HeaderComp) {\n      return headerComp.getAnchorElementForMenu(isFilter);\n    }\n    return this.getGui();\n  }\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/columnGroup/groupResizeFeature.ts\nvar GroupResizeFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.horizontalResizeService = beans.horizontalResizeService;\n    this.autoWidthCalculator = beans.autoWidthCalculator;\n    this.visibleColsService = beans.visibleColsService;\n    this.columnSizeService = beans.columnSizeService;\n    this.columnAutosizeService = beans.columnAutosizeService;\n  }\n  constructor(comp, eResize, pinned, columnGroup) {\n    super();\n    this.eResize = eResize;\n    this.comp = comp;\n    this.pinned = pinned;\n    this.columnGroup = columnGroup;\n  }\n  postConstruct() {\n    if (!this.columnGroup.isResizable()) {\n      this.comp.setResizableDisplayed(false);\n      return;\n    }\n    const finishedWithResizeFunc = this.horizontalResizeService.addResizeBar({\n      eResizeBar: this.eResize,\n      onResizeStart: this.onResizeStart.bind(this),\n      onResizing: this.onResizing.bind(this, false),\n      onResizeEnd: this.onResizing.bind(this, true)\n    });\n    this.addDestroyFunc(finishedWithResizeFunc);\n    if (!this.gos.get(\"suppressAutoSize\")) {\n      const skipHeaderOnAutoSize = this.gos.get(\"skipHeaderOnAutoSize\");\n      this.eResize.addEventListener(\"dblclick\", () => {\n        const keys = [];\n        const leafCols = this.columnGroup.getDisplayedLeafColumns();\n        leafCols.forEach((column) => {\n          if (!column.getColDef().suppressAutoSize) {\n            keys.push(column.getColId());\n          }\n        });\n        if (keys.length > 0) {\n          this.columnAutosizeService.autoSizeCols({\n            colKeys: keys,\n            skipHeader: skipHeaderOnAutoSize,\n            stopAtGroup: this.columnGroup,\n            source: \"uiColumnResized\"\n          });\n        }\n        this.resizeLeafColumnsToFit(\"uiColumnResized\");\n      });\n    }\n  }\n  onResizeStart(shiftKey) {\n    const initialValues = this.getInitialValues(shiftKey);\n    this.storeLocalValues(initialValues);\n    this.toggleColumnResizing(true);\n  }\n  onResizing(finished, resizeAmount, source = \"uiColumnResized\") {\n    const resizeAmountNormalised = this.normaliseDragChange(resizeAmount);\n    const width = this.resizeStartWidth + resizeAmountNormalised;\n    this.resizeColumnsFromLocalValues(width, source, finished);\n  }\n  getInitialValues(shiftKey) {\n    const columnsToResize = this.getColumnsToResize();\n    const resizeStartWidth = this.getInitialSizeOfColumns(columnsToResize);\n    const resizeRatios = this.getSizeRatiosOfColumns(columnsToResize, resizeStartWidth);\n    const columnSizeAndRatios = {\n      columnsToResize,\n      resizeStartWidth,\n      resizeRatios\n    };\n    let groupAfter = null;\n    if (shiftKey) {\n      groupAfter = this.visibleColsService.getGroupAtDirection(this.columnGroup, \"After\");\n    }\n    if (groupAfter) {\n      const takeFromLeafCols = groupAfter.getDisplayedLeafColumns();\n      const groupAfterColumns = columnSizeAndRatios.groupAfterColumns = takeFromLeafCols.filter(\n        (col) => col.isResizable()\n      );\n      const groupAfterStartWidth = columnSizeAndRatios.groupAfterStartWidth = this.getInitialSizeOfColumns(groupAfterColumns);\n      columnSizeAndRatios.groupAfterRatios = this.getSizeRatiosOfColumns(groupAfterColumns, groupAfterStartWidth);\n    } else {\n      columnSizeAndRatios.groupAfterColumns = void 0;\n      columnSizeAndRatios.groupAfterStartWidth = void 0;\n      columnSizeAndRatios.groupAfterRatios = void 0;\n    }\n    return columnSizeAndRatios;\n  }\n  storeLocalValues(initialValues) {\n    const {\n      columnsToResize,\n      resizeStartWidth,\n      resizeRatios,\n      groupAfterColumns,\n      groupAfterStartWidth,\n      groupAfterRatios\n    } = initialValues;\n    this.resizeCols = columnsToResize;\n    this.resizeStartWidth = resizeStartWidth;\n    this.resizeRatios = resizeRatios;\n    this.resizeTakeFromCols = groupAfterColumns;\n    this.resizeTakeFromStartWidth = groupAfterStartWidth;\n    this.resizeTakeFromRatios = groupAfterRatios;\n  }\n  clearLocalValues() {\n    this.resizeCols = void 0;\n    this.resizeRatios = void 0;\n    this.resizeTakeFromCols = void 0;\n    this.resizeTakeFromRatios = void 0;\n  }\n  resizeLeafColumnsToFit(source) {\n    const preferredSize = this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);\n    const initialValues = this.getInitialValues();\n    if (preferredSize > initialValues.resizeStartWidth) {\n      this.resizeColumns(initialValues, preferredSize, source, true);\n    }\n  }\n  resizeColumnsFromLocalValues(totalWidth, source, finished = true) {\n    if (!this.resizeCols || !this.resizeRatios) {\n      return;\n    }\n    const initialValues = {\n      columnsToResize: this.resizeCols,\n      resizeStartWidth: this.resizeStartWidth,\n      resizeRatios: this.resizeRatios,\n      groupAfterColumns: this.resizeTakeFromCols ?? void 0,\n      groupAfterStartWidth: this.resizeTakeFromStartWidth ?? void 0,\n      groupAfterRatios: this.resizeTakeFromRatios ?? void 0\n    };\n    this.resizeColumns(initialValues, totalWidth, source, finished);\n  }\n  resizeColumns(initialValues, totalWidth, source, finished = true) {\n    const {\n      columnsToResize,\n      resizeStartWidth,\n      resizeRatios,\n      groupAfterColumns,\n      groupAfterStartWidth,\n      groupAfterRatios\n    } = initialValues;\n    const resizeSets = [];\n    resizeSets.push({\n      columns: columnsToResize,\n      ratios: resizeRatios,\n      width: totalWidth\n    });\n    if (groupAfterColumns) {\n      const diff = totalWidth - resizeStartWidth;\n      resizeSets.push({\n        columns: groupAfterColumns,\n        ratios: groupAfterRatios,\n        width: groupAfterStartWidth - diff\n      });\n    }\n    this.columnSizeService.resizeColumnSets({\n      resizeSets,\n      finished,\n      source\n    });\n    if (finished) {\n      this.toggleColumnResizing(false);\n    }\n  }\n  toggleColumnResizing(resizing) {\n    this.comp.addOrRemoveCssClass(\"ag-column-resizing\", resizing);\n  }\n  getColumnsToResize() {\n    const leafCols = this.columnGroup.getDisplayedLeafColumns();\n    return leafCols.filter((col) => col.isResizable());\n  }\n  getInitialSizeOfColumns(columns) {\n    return columns.reduce((totalWidth, column) => totalWidth + column.getActualWidth(), 0);\n  }\n  getSizeRatiosOfColumns(columns, initialSizeOfColumns) {\n    return columns.map((column) => column.getActualWidth() / initialSizeOfColumns);\n  }\n  // optionally inverts the drag, depending on pinned and RTL\n  // note - this method is duplicated in RenderedHeaderCell - should refactor out?\n  normaliseDragChange(dragChange) {\n    let result = dragChange;\n    if (this.gos.get(\"enableRtl\")) {\n      if (this.pinned !== \"left\") {\n        result *= -1;\n      }\n    } else if (this.pinned === \"right\") {\n      result *= -1;\n    }\n    return result;\n  }\n  destroy() {\n    super.destroy();\n    this.clearLocalValues();\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/columnGroup/groupWidthFeature.ts\nvar GroupWidthFeature = class extends BeanStub {\n  constructor(comp, columnGroup) {\n    super();\n    // the children can change, we keep destroy functions related to listening to the children here\n    this.removeChildListenersFuncs = [];\n    this.columnGroup = columnGroup;\n    this.comp = comp;\n  }\n  postConstruct() {\n    this.addListenersToChildrenColumns();\n    this.addManagedListeners(this.columnGroup, {\n      displayedChildrenChanged: this.onDisplayedChildrenChanged.bind(this)\n    });\n    this.onWidthChanged();\n    this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this));\n  }\n  addListenersToChildrenColumns() {\n    this.removeListenersOnChildrenColumns();\n    const widthChangedListener = this.onWidthChanged.bind(this);\n    this.columnGroup.getLeafColumns().forEach((column) => {\n      column.addEventListener(\"widthChanged\", widthChangedListener);\n      column.addEventListener(\"visibleChanged\", widthChangedListener);\n      this.removeChildListenersFuncs.push(() => {\n        column.removeEventListener(\"widthChanged\", widthChangedListener);\n        column.removeEventListener(\"visibleChanged\", widthChangedListener);\n      });\n    });\n  }\n  removeListenersOnChildrenColumns() {\n    this.removeChildListenersFuncs.forEach((func) => func());\n    this.removeChildListenersFuncs = [];\n  }\n  onDisplayedChildrenChanged() {\n    this.addListenersToChildrenColumns();\n    this.onWidthChanged();\n  }\n  onWidthChanged() {\n    const columnWidth = this.columnGroup.getActualWidth();\n    this.comp.setWidth(`${columnWidth}px`);\n    this.comp.addOrRemoveCssClass(\"ag-hidden\", columnWidth === 0);\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/columnGroup/headerGroupCellCtrl.ts\nvar HeaderGroupCellCtrl = class extends AbstractHeaderCellCtrl {\n  constructor(columnGroup, beans, parentRowCtrl) {\n    super(columnGroup, beans, parentRowCtrl);\n    this.onSuppressColMoveChange = () => {\n      if (!this.isAlive() || this.isSuppressMoving()) {\n        this.removeDragSource();\n      } else {\n        if (!this.dragSource) {\n          const eGui = this.getGui();\n          this.setDragSource(eGui);\n        }\n      }\n    };\n    this.column = columnGroup;\n  }\n  setComp(comp, eGui, eResize, eHeaderCompWrapper, compBean) {\n    this.comp = comp;\n    compBean = setupCompBean(this, this.beans.context, compBean);\n    this.setGui(eGui, compBean);\n    this.displayName = this.beans.columnNameService.getDisplayNameForColumnGroup(this.column, \"header\");\n    this.addClasses();\n    this.setupMovingCss(compBean);\n    this.setupExpandable(compBean);\n    this.setupTooltip(compBean);\n    this.setupAutoHeight({\n      wrapperElement: eHeaderCompWrapper,\n      compBean\n    });\n    this.setupUserComp(compBean);\n    this.addHeaderMouseListeners(compBean);\n    this.addManagedPropertyListener(\"groupHeaderHeight\", this.refreshMaxHeaderHeight.bind(this));\n    this.refreshMaxHeaderHeight();\n    const pinned = this.getParentRowCtrl().getPinned();\n    const leafCols = this.column.getProvidedColumnGroup().getLeafColumns();\n    compBean.createManagedBean(new HoverFeature(leafCols, eGui));\n    compBean.createManagedBean(new SetLeftFeature(this.column, eGui, this.beans));\n    compBean.createManagedBean(new GroupWidthFeature(comp, this.column));\n    this.resizeFeature = compBean.createManagedBean(new GroupResizeFeature(comp, eResize, pinned, this.column));\n    compBean.createManagedBean(\n      new ManagedFocusFeature(eGui, {\n        shouldStopEventPropagation: this.shouldStopEventPropagation.bind(this),\n        onTabKeyDown: () => void 0,\n        handleKeyDown: this.handleKeyDown.bind(this),\n        onFocusIn: this.onFocusIn.bind(this)\n      })\n    );\n    this.addHighlightListeners(compBean, leafCols);\n    compBean.addManagedPropertyListener(\"suppressMovableColumns\", this.onSuppressColMoveChange);\n    this.addResizeAndMoveKeyboardListeners(compBean);\n    compBean.addDestroyFunc(() => this.clearComponent());\n  }\n  refreshMaxHeaderHeight() {\n    const { gos, comp } = this;\n    const groupHeaderHeight = gos.get(\"groupHeaderHeight\");\n    if (groupHeaderHeight != null) {\n      if (groupHeaderHeight === 0) {\n        comp.setHeaderWrapperHidden(true);\n      } else {\n        comp.setHeaderWrapperMaxHeight(groupHeaderHeight);\n      }\n    } else {\n      comp.setHeaderWrapperHidden(false);\n      comp.setHeaderWrapperMaxHeight(null);\n    }\n  }\n  addHighlightListeners(compBean, columns) {\n    if (!this.beans.gos.get(\"suppressMoveWhenColumnDragging\")) {\n      return;\n    }\n    for (const column of columns) {\n      compBean.addManagedListeners(column, {\n        headerHighlightChanged: this.onLeafColumnHighlightChanged.bind(this, column)\n      });\n    }\n  }\n  onLeafColumnHighlightChanged(column) {\n    const displayedColumns = this.column.getDisplayedLeafColumns();\n    const isFirst = displayedColumns[0] === column;\n    const isLast = _last(displayedColumns) === column;\n    if (!isFirst && !isLast) {\n      return;\n    }\n    const highlighted = column.getHighlighted();\n    const isColumnMoveAtThisLevel = !!this.getParentRowCtrl().findHeaderCellCtrl((ctrl) => {\n      return ctrl.getColumnGroupChild().isMoving();\n    });\n    let beforeOn = false;\n    let afterOn = false;\n    if (isColumnMoveAtThisLevel) {\n      const isRtl = this.beans.gos.get(\"enableRtl\");\n      const isHighlightAfter = highlighted === 1 /* After */;\n      const isHighlightBefore = highlighted === 0 /* Before */;\n      if (isFirst) {\n        if (isRtl) {\n          afterOn = isHighlightAfter;\n        } else {\n          beforeOn = isHighlightBefore;\n        }\n      }\n      if (isLast) {\n        if (isRtl) {\n          beforeOn = isHighlightBefore;\n        } else {\n          afterOn = isHighlightAfter;\n        }\n      }\n    }\n    this.comp.addOrRemoveCssClass(\"ag-header-highlight-before\", beforeOn);\n    this.comp.addOrRemoveCssClass(\"ag-header-highlight-after\", afterOn);\n  }\n  getColumn() {\n    return this.column;\n  }\n  resizeHeader(delta, shiftKey) {\n    if (!this.resizeFeature) {\n      return;\n    }\n    const initialValues = this.resizeFeature.getInitialValues(shiftKey);\n    this.resizeFeature.resizeColumns(\n      initialValues,\n      initialValues.resizeStartWidth + delta,\n      \"uiColumnResized\",\n      true\n    );\n  }\n  moveHeader(hDirection) {\n    const { beans, eGui, column, ctrlsService } = this;\n    const { gos, columnModel, columnMoveService, visibleColsService } = beans;\n    const isRtl = gos.get(\"enableRtl\");\n    const isLeft = hDirection === 0 /* Left */;\n    const pinned = this.getPinned();\n    const rect = eGui.getBoundingClientRect();\n    const left = rect.left;\n    const width = rect.width;\n    const xPosition = normaliseX({\n      x: isLeft !== isRtl ? left - 20 : left + width + 20,\n      pinned,\n      fromKeyboard: true,\n      gos,\n      ctrlsService\n    });\n    const id = column.getGroupId();\n    const headerPosition = this.focusService.getFocusedHeader();\n    attemptMoveColumns({\n      allMovingColumns: this.column.getLeafColumns(),\n      isFromHeader: true,\n      fromLeft: hDirection === 1 /* Right */,\n      xPosition,\n      pinned,\n      fromEnter: false,\n      fakeEvent: false,\n      gos,\n      columnModel,\n      columnMoveService,\n      visibleColsService,\n      finished: true\n    });\n    const displayedLeafColumns = column.getDisplayedLeafColumns();\n    const targetColumn = isLeft ? displayedLeafColumns[0] : _last(displayedLeafColumns);\n    this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(targetColumn, \"auto\");\n    if ((!this.isAlive() || this.beans.gos.get(\"ensureDomOrder\")) && headerPosition) {\n      this.restoreFocus(id, column, headerPosition);\n    }\n  }\n  restoreFocus(groupId, previousColumnGroup, previousPosition) {\n    const leafCols = previousColumnGroup.getLeafColumns();\n    if (!leafCols.length) {\n      return;\n    }\n    const parent = leafCols[0].getParent();\n    if (!parent) {\n      return;\n    }\n    const newColumnGroup = this.findGroupWidthId(parent, groupId);\n    if (newColumnGroup) {\n      this.focusService.focusHeaderPosition({\n        headerPosition: {\n          ...previousPosition,\n          column: newColumnGroup\n        }\n      });\n    }\n  }\n  findGroupWidthId(columnGroup, id) {\n    while (columnGroup) {\n      if (columnGroup.getGroupId() === id) {\n        return columnGroup;\n      }\n      columnGroup = columnGroup.getParent();\n    }\n    return null;\n  }\n  resizeLeafColumnsToFit(source) {\n    if (!this.resizeFeature) {\n      return;\n    }\n    this.resizeFeature.resizeLeafColumnsToFit(source);\n  }\n  setupUserComp(compBean) {\n    const params = this.gos.addGridCommonParams({\n      displayName: this.displayName,\n      columnGroup: this.column,\n      setExpanded: (expanded) => {\n        this.beans.columnModel.setColumnGroupOpened(\n          this.column.getProvidedColumnGroup(),\n          expanded,\n          \"gridInitializing\"\n        );\n      },\n      setTooltip: (value, shouldDisplayTooltip) => {\n        this.setupTooltip(compBean, value, shouldDisplayTooltip);\n      }\n    });\n    const compDetails = this.userComponentFactory.getHeaderGroupCompDetails(params);\n    this.comp.setUserCompDetails(compDetails);\n  }\n  addHeaderMouseListeners(compBean) {\n    const listener = (e) => this.handleMouseOverChange(e.type === \"mouseenter\");\n    const clickListener = () => this.dispatchColumnMouseEvent(\"columnHeaderClicked\", this.column.getProvidedColumnGroup());\n    const contextMenuListener = (event) => this.handleContextMenuMouseEvent(event, void 0, this.column.getProvidedColumnGroup());\n    compBean.addManagedListeners(this.getGui(), {\n      mouseenter: listener,\n      mouseleave: listener,\n      click: clickListener,\n      contextmenu: contextMenuListener\n    });\n  }\n  handleMouseOverChange(isMouseOver) {\n    this.eventService.dispatchEvent({\n      type: isMouseOver ? \"columnHeaderMouseOver\" : \"columnHeaderMouseLeave\",\n      column: this.column.getProvidedColumnGroup()\n    });\n  }\n  setupTooltip(compBean, value, shouldDisplayTooltip) {\n    if (this.tooltipFeature) {\n      this.tooltipFeature = this.destroyBean(this.tooltipFeature);\n    }\n    const colGroupDef = this.column.getColGroupDef();\n    const isTooltipWhenTruncated = this.gos.get(\"tooltipShowMode\") === \"whenTruncated\";\n    const eGui = this.eGui;\n    if (!shouldDisplayTooltip && isTooltipWhenTruncated && !colGroupDef?.headerGroupComponent) {\n      shouldDisplayTooltip = () => {\n        const textEl = eGui.querySelector(\".ag-header-group-text\");\n        if (!textEl) {\n          return true;\n        }\n        return textEl.scrollWidth > textEl.clientWidth;\n      };\n    }\n    const tooltipCtrl = {\n      getColumn: () => this.column,\n      getGui: () => eGui,\n      getLocation: () => \"headerGroup\",\n      getTooltipValue: () => value ?? (colGroupDef && colGroupDef.headerTooltip),\n      shouldDisplayTooltip\n    };\n    if (colGroupDef) {\n      tooltipCtrl.getColDef = () => colGroupDef;\n    }\n    compBean.createManagedBean(new TooltipFeature(tooltipCtrl));\n  }\n  setupExpandable(compBean) {\n    const providedColGroup = this.column.getProvidedColumnGroup();\n    this.refreshExpanded();\n    const listener = this.refreshExpanded.bind(this);\n    compBean.addManagedListeners(providedColGroup, {\n      expandedChanged: listener,\n      expandableChanged: listener\n    });\n  }\n  refreshExpanded() {\n    const { column } = this;\n    this.expandable = column.isExpandable();\n    const expanded = column.isExpanded();\n    if (this.expandable) {\n      this.comp.setAriaExpanded(expanded ? \"true\" : \"false\");\n    } else {\n      this.comp.setAriaExpanded(void 0);\n    }\n  }\n  getColId() {\n    return this.column.getUniqueId();\n  }\n  addClasses() {\n    const colGroupDef = this.column.getColGroupDef();\n    const classes = _getHeaderClassesFromColDef(colGroupDef, this.gos, null, this.column);\n    if (this.column.isPadding()) {\n      classes.push(\"ag-header-group-cell-no-group\");\n      const leafCols = this.column.getLeafColumns();\n      if (leafCols.every((col) => col.isSpanHeaderHeight())) {\n        classes.push(\"ag-header-span-height\");\n      }\n    } else {\n      classes.push(\"ag-header-group-cell-with-group\");\n      if (colGroupDef?.wrapHeaderText) {\n        classes.push(\"ag-header-cell-wrap-text\");\n      }\n    }\n    classes.forEach((c) => this.comp.addOrRemoveCssClass(c, true));\n  }\n  setupMovingCss(compBean) {\n    const providedColumnGroup = this.column.getProvidedColumnGroup();\n    const leafColumns = providedColumnGroup.getLeafColumns();\n    const listener = () => this.comp.addOrRemoveCssClass(\"ag-header-cell-moving\", this.column.isMoving());\n    leafColumns.forEach((col) => {\n      compBean.addManagedListeners(col, { movingChanged: listener });\n    });\n    listener();\n  }\n  onFocusIn(e) {\n    if (!this.eGui.contains(e.relatedTarget)) {\n      const rowIndex = this.getRowIndex();\n      this.beans.focusService.setFocusedHeader(rowIndex, this.column);\n    }\n  }\n  handleKeyDown(e) {\n    super.handleKeyDown(e);\n    const wrapperHasFocus = this.getWrapperHasFocus();\n    if (!this.expandable || !wrapperHasFocus) {\n      return;\n    }\n    if (e.key === KeyCode.ENTER) {\n      const column = this.column;\n      const newExpandedValue = !column.isExpanded();\n      this.beans.columnModel.setColumnGroupOpened(\n        column.getProvidedColumnGroup(),\n        newExpandedValue,\n        \"uiColumnExpanded\"\n      );\n    }\n  }\n  // unlike columns, this will only get called once, as we don't react on props on column groups\n  // (we will always destroy and recreate this comp if something changes)\n  setDragSource(eHeaderGroup) {\n    if (!this.isAlive() || this.isSuppressMoving()) {\n      return;\n    }\n    this.removeDragSource();\n    if (!eHeaderGroup) {\n      return;\n    }\n    const { beans, column, displayName, gos, dragAndDropService } = this;\n    const { columnModel } = beans;\n    const allLeafColumns = column.getProvidedColumnGroup().getLeafColumns();\n    let hideColumnOnExit = !gos.get(\"suppressDragLeaveHidesColumns\");\n    const dragSource = this.dragSource = {\n      type: 1 /* HeaderCell */,\n      eElement: eHeaderGroup,\n      getDefaultIconName: () => hideColumnOnExit ? \"hide\" : \"notAllowed\",\n      dragItemName: displayName,\n      // we add in the original group leaf columns, so we move both visible and non-visible items\n      getDragItem: () => this.getDragItemForGroup(column),\n      onDragStarted: () => {\n        hideColumnOnExit = !gos.get(\"suppressDragLeaveHidesColumns\");\n        setColumnsMoving(allLeafColumns, true);\n      },\n      onDragStopped: () => setColumnsMoving(allLeafColumns, false),\n      onDragCancelled: () => setColumnsMoving(allLeafColumns, false),\n      onGridEnter: (dragItem) => {\n        if (hideColumnOnExit) {\n          const { columns = [], visibleState } = dragItem ?? {};\n          const unlockedColumns = columns.filter(\n            (col) => !col.getColDef().lockVisible && (!visibleState || visibleState[col.getColId()])\n          );\n          columnModel.setColsVisible(unlockedColumns, true, \"uiColumnMoved\");\n        }\n      },\n      onGridExit: (dragItem) => {\n        if (hideColumnOnExit) {\n          const unlockedColumns = dragItem?.columns?.filter((col) => !col.getColDef().lockVisible) || [];\n          columnModel.setColsVisible(unlockedColumns, false, \"uiColumnMoved\");\n        }\n      }\n    };\n    dragAndDropService.addDragSource(dragSource, true);\n  }\n  // when moving the columns, we want to move all the columns (contained within the DragItem) in this group in one go,\n  // and in the order they are currently in the screen.\n  getDragItemForGroup(columnGroup) {\n    const allColumnsOriginalOrder = columnGroup.getProvidedColumnGroup().getLeafColumns();\n    const visibleState = {};\n    allColumnsOriginalOrder.forEach((column) => visibleState[column.getId()] = column.isVisible());\n    const allColumnsCurrentOrder = [];\n    this.beans.visibleColsService.getAllCols().forEach((column) => {\n      if (allColumnsOriginalOrder.indexOf(column) >= 0) {\n        allColumnsCurrentOrder.push(column);\n        _removeFromArray(allColumnsOriginalOrder, column);\n      }\n    });\n    allColumnsOriginalOrder.forEach((column) => allColumnsCurrentOrder.push(column));\n    const columnsInSplit = [];\n    const columnGroupColumns = columnGroup.getLeafColumns();\n    for (const col of allColumnsCurrentOrder) {\n      if (columnGroupColumns.indexOf(col) !== -1) {\n        columnsInSplit.push(col);\n      }\n    }\n    return {\n      columns: allColumnsCurrentOrder,\n      columnsInSplit,\n      visibleState\n    };\n  }\n  isSuppressMoving() {\n    let childSuppressesMoving = false;\n    this.column.getLeafColumns().forEach((column) => {\n      if (column.getColDef().suppressMovable || column.getColDef().lockPosition) {\n        childSuppressesMoving = true;\n      }\n    });\n    const result = childSuppressesMoving || this.gos.get(\"suppressMovableColumns\");\n    return result;\n  }\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/headerRendering/row/headerRowCtrl.ts\nvar instanceIdSequence3 = 0;\nvar HeaderRowCtrl = class extends BeanStub {\n  constructor(rowIndex, pinned, type) {\n    super();\n    this.instanceId = instanceIdSequence3++;\n    this.rowIndex = rowIndex;\n    this.pinned = pinned;\n    this.type = type;\n    const typeClass = type == \"group\" /* COLUMN_GROUP */ ? `ag-header-row-column-group` : type == \"filter\" /* FLOATING_FILTER */ ? `ag-header-row-column-filter` : `ag-header-row-column`;\n    this.headerRowClass = `ag-header-row ${typeClass}`;\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  postConstruct() {\n    this.isPrintLayout = _isDomLayout(this.gos, \"print\");\n    this.isEnsureDomOrder = this.gos.get(\"ensureDomOrder\");\n  }\n  /** Checks that every header cell that is currently visible has been rendered.\n   * Can only be false under some circumstances when using React\n   */\n  areCellsRendered() {\n    if (!this.comp) {\n      return false;\n    }\n    return this.getHeaderCellCtrls().every((ctrl) => ctrl.getGui() != null);\n  }\n  /**\n   *\n   * @param comp Proxy to the actual component\n   * @param initCompState Should the component be initialised with the current state of the controller. Default: true\n   */\n  setComp(comp, compBean, initCompState = true) {\n    this.comp = comp;\n    compBean = setupCompBean(this, this.beans.context, compBean);\n    if (initCompState) {\n      this.onRowHeightChanged();\n      this.onVirtualColumnsChanged();\n    }\n    this.setWidth();\n    this.addEventListeners(compBean);\n  }\n  getHeaderRowClass() {\n    return this.headerRowClass;\n  }\n  getAriaRowIndex() {\n    return this.rowIndex + 1;\n  }\n  addEventListeners(compBean) {\n    const onHeightChanged = this.onRowHeightChanged.bind(this);\n    compBean.addManagedEventListeners({\n      columnResized: this.onColumnResized.bind(this),\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this),\n      virtualColumnsChanged: (params) => this.onVirtualColumnsChanged(params.afterScroll),\n      columnGroupHeaderHeightChanged: onHeightChanged,\n      columnHeaderHeightChanged: onHeightChanged,\n      gridStylesChanged: onHeightChanged,\n      advancedFilterEnabledChanged: onHeightChanged\n    });\n    compBean.addManagedPropertyListener(\"domLayout\", this.onDisplayedColumnsChanged.bind(this));\n    compBean.addManagedPropertyListener(\"ensureDomOrder\", (e) => this.isEnsureDomOrder = e.currentValue);\n    compBean.addManagedPropertyListeners(\n      [\n        \"headerHeight\",\n        \"pivotHeaderHeight\",\n        \"groupHeaderHeight\",\n        \"pivotGroupHeaderHeight\",\n        \"floatingFiltersHeight\"\n      ],\n      onHeightChanged\n    );\n  }\n  getHeaderCellCtrl(column) {\n    if (!this.headerCellCtrls) {\n      return;\n    }\n    return _values(this.headerCellCtrls).find((cellCtrl) => cellCtrl.getColumnGroupChild() === column);\n  }\n  onDisplayedColumnsChanged() {\n    this.isPrintLayout = _isDomLayout(this.gos, \"print\");\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n    this.onRowHeightChanged();\n  }\n  getType() {\n    return this.type;\n  }\n  onColumnResized() {\n    this.setWidth();\n  }\n  setWidth() {\n    const width = this.getWidthForRow();\n    this.comp.setWidth(`${width}px`);\n  }\n  getWidthForRow() {\n    const { visibleColsService: presentedColsService } = this.beans;\n    if (this.isPrintLayout) {\n      const pinned = this.pinned != null;\n      if (pinned) {\n        return 0;\n      }\n      return presentedColsService.getContainerWidth(\"right\") + presentedColsService.getContainerWidth(\"left\") + presentedColsService.getContainerWidth(null);\n    }\n    return presentedColsService.getContainerWidth(this.pinned);\n  }\n  onRowHeightChanged() {\n    const { topOffset, rowHeight } = this.getTopAndHeight();\n    this.comp.setTop(topOffset + \"px\");\n    this.comp.setHeight(rowHeight + \"px\");\n  }\n  getTopAndHeight() {\n    const { columnModel, filterManager } = this.beans;\n    const sizes = [];\n    const groupHeadersHeight = columnModel.getGroupRowsHeight();\n    const headerHeight = columnModel.getColumnHeaderRowHeight();\n    sizes.push(...groupHeadersHeight);\n    sizes.push(headerHeight);\n    if (filterManager?.hasFloatingFilters()) {\n      sizes.push(columnModel.getFloatingFiltersHeight());\n    }\n    let topOffset = 0;\n    for (let i = 0; i < this.rowIndex; i++) {\n      topOffset += sizes[i];\n    }\n    const rowHeight = sizes[this.rowIndex];\n    return { topOffset, rowHeight };\n  }\n  getPinned() {\n    return this.pinned;\n  }\n  getRowIndex() {\n    return this.rowIndex;\n  }\n  onVirtualColumnsChanged(afterScroll = false) {\n    const ctrlsToDisplay = this.getHeaderCtrls();\n    const forceOrder = this.isEnsureDomOrder || this.isPrintLayout;\n    this.comp.setHeaderCtrls(ctrlsToDisplay, forceOrder, afterScroll);\n  }\n  getHeaderCtrls() {\n    const oldCtrls = this.headerCellCtrls;\n    this.headerCellCtrls = /* @__PURE__ */ new Map();\n    const columns = this.getColumnsInViewport();\n    for (const child of columns) {\n      this.recycleAndCreateHeaderCtrls(child, oldCtrls);\n    }\n    const isFocusedAndDisplayed = (ctrl) => {\n      const { focusService, visibleColsService } = this.beans;\n      const isFocused = focusService.isHeaderWrapperFocused(ctrl);\n      if (!isFocused) {\n        return false;\n      }\n      const isDisplayed = visibleColsService.isVisible(ctrl.getColumnGroupChild());\n      return isDisplayed;\n    };\n    if (oldCtrls) {\n      for (const [id, oldCtrl] of oldCtrls) {\n        const keepCtrl = isFocusedAndDisplayed(oldCtrl);\n        if (keepCtrl) {\n          this.headerCellCtrls.set(id, oldCtrl);\n        } else {\n          this.destroyBean(oldCtrl);\n        }\n      }\n    }\n    return this.getHeaderCellCtrls();\n  }\n  getHeaderCellCtrls() {\n    return Array.from(this.headerCellCtrls?.values() ?? []);\n  }\n  recycleAndCreateHeaderCtrls(headerColumn, oldCtrls) {\n    if (!this.headerCellCtrls) {\n      return;\n    }\n    if (headerColumn.isEmptyGroup()) {\n      return;\n    }\n    const idOfChild = headerColumn.getUniqueId();\n    let headerCtrl;\n    if (oldCtrls) {\n      headerCtrl = oldCtrls.get(idOfChild);\n      oldCtrls.delete(idOfChild);\n    }\n    const forOldColumn = headerCtrl && headerCtrl.getColumnGroupChild() != headerColumn;\n    if (forOldColumn) {\n      this.destroyBean(headerCtrl);\n      headerCtrl = void 0;\n    }\n    if (headerCtrl == null) {\n      switch (this.type) {\n        case \"filter\" /* FLOATING_FILTER */: {\n          headerCtrl = this.createBean(\n            this.beans.ctrlsFactory.getInstance(\n              \"headerFilterCell\",\n              headerColumn,\n              this.beans,\n              this\n            )\n          );\n          break;\n        }\n        case \"group\" /* COLUMN_GROUP */:\n          headerCtrl = this.createBean(\n            new HeaderGroupCellCtrl(headerColumn, this.beans, this)\n          );\n          break;\n        default:\n          headerCtrl = this.createBean(new HeaderCellCtrl(headerColumn, this.beans, this));\n          break;\n      }\n    }\n    this.headerCellCtrls.set(idOfChild, headerCtrl);\n  }\n  getColumnsInViewport() {\n    return this.isPrintLayout ? this.getColumnsInViewportPrintLayout() : this.getColumnsInViewportNormalLayout();\n  }\n  getColumnsInViewportPrintLayout() {\n    if (this.pinned != null) {\n      return [];\n    }\n    let viewportColumns = [];\n    const actualDepth = this.getActualDepth();\n    const { columnViewportService } = this.beans;\n    [\"left\", null, \"right\"].forEach((pinned) => {\n      const items = columnViewportService.getHeadersToRender(pinned, actualDepth);\n      viewportColumns = viewportColumns.concat(items);\n    });\n    return viewportColumns;\n  }\n  getActualDepth() {\n    return this.type == \"filter\" /* FLOATING_FILTER */ ? this.rowIndex - 1 : this.rowIndex;\n  }\n  getColumnsInViewportNormalLayout() {\n    return this.beans.columnViewportService.getHeadersToRender(this.pinned, this.getActualDepth());\n  }\n  findHeaderCellCtrl(column) {\n    if (!this.headerCellCtrls) {\n      return;\n    }\n    const allCtrls = this.getHeaderCellCtrls();\n    let ctrl;\n    if (typeof column === \"function\") {\n      ctrl = allCtrls.find(column);\n    } else {\n      ctrl = allCtrls.find((ctrl2) => ctrl2.getColumnGroupChild() == column);\n    }\n    return ctrl;\n  }\n  focusHeader(column, event) {\n    const ctrl = this.findHeaderCellCtrl(column);\n    if (!ctrl) {\n      return false;\n    }\n    const focused = ctrl.focus(event);\n    return focused;\n  }\n  destroy() {\n    this.headerCellCtrls?.forEach((ctrl) => {\n      this.destroyBean(ctrl);\n    });\n    this.headerCellCtrls = void 0;\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/headerRendering/rowContainer/headerRowContainerCtrl.ts\nvar HeaderRowContainerCtrl = class extends BeanStub {\n  constructor(pinned) {\n    super();\n    this.hidden = false;\n    this.includeFloatingFilter = false;\n    this.groupsRowCtrls = [];\n    this.pinned = pinned;\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.scrollVisibleService = beans.scrollVisibleService;\n    this.pinnedWidthService = beans.pinnedWidthService;\n    this.columnModel = beans.columnModel;\n    this.focusService = beans.focusService;\n    this.filterManager = beans.filterManager;\n  }\n  setComp(comp, eGui) {\n    this.comp = comp;\n    this.eViewport = eGui;\n    this.setupCenterWidth();\n    this.setupPinnedWidth();\n    this.setupDragAndDrop(this.eViewport);\n    const onDisplayedColsChanged = this.onDisplayedColumnsChanged.bind(this);\n    this.addManagedEventListeners({\n      gridColumnsChanged: this.onGridColumnsChanged.bind(this),\n      displayedColumnsChanged: onDisplayedColsChanged,\n      advancedFilterEnabledChanged: onDisplayedColsChanged\n    });\n    const headerType = `${typeof this.pinned === \"string\" ? this.pinned : \"center\"}Header`;\n    this.ctrlsService.register(headerType, this);\n    if (this.columnModel.isReady()) {\n      this.refresh();\n    }\n  }\n  getAllCtrls() {\n    const res = [...this.groupsRowCtrls];\n    if (this.columnsRowCtrl) {\n      res.push(this.columnsRowCtrl);\n    }\n    if (this.filtersRowCtrl) {\n      res.push(this.filtersRowCtrl);\n    }\n    return res;\n  }\n  refresh(keepColumns = false) {\n    const sequence = new NumberSequence();\n    const focusedHeaderPosition = this.focusService.getFocusHeaderToUseAfterRefresh();\n    const refreshColumnGroups = () => {\n      const groupRowCount = this.columnModel.getHeaderRowCount() - 1;\n      this.groupsRowCtrls = this.destroyBeans(this.groupsRowCtrls);\n      for (let i = 0; i < groupRowCount; i++) {\n        const ctrl = this.createBean(\n          new HeaderRowCtrl(sequence.next(), this.pinned, \"group\" /* COLUMN_GROUP */)\n        );\n        this.groupsRowCtrls.push(ctrl);\n      }\n    };\n    const refreshColumns = () => {\n      const rowIndex = sequence.next();\n      const needNewInstance = !this.hidden && (this.columnsRowCtrl == null || !keepColumns || this.columnsRowCtrl.getRowIndex() !== rowIndex);\n      const shouldDestroyInstance = needNewInstance || this.hidden;\n      if (shouldDestroyInstance) {\n        this.columnsRowCtrl = this.destroyBean(this.columnsRowCtrl);\n      }\n      if (needNewInstance) {\n        this.columnsRowCtrl = this.createBean(new HeaderRowCtrl(rowIndex, this.pinned, \"column\" /* COLUMN */));\n      }\n    };\n    const refreshFilters = () => {\n      this.includeFloatingFilter = !!this.filterManager?.hasFloatingFilters() && !this.hidden;\n      const destroyPreviousComp = () => {\n        this.filtersRowCtrl = this.destroyBean(this.filtersRowCtrl);\n      };\n      if (!this.includeFloatingFilter) {\n        destroyPreviousComp();\n        return;\n      }\n      const rowIndex = sequence.next();\n      if (this.filtersRowCtrl) {\n        const rowIndexMismatch = this.filtersRowCtrl.getRowIndex() !== rowIndex;\n        if (!keepColumns || rowIndexMismatch) {\n          destroyPreviousComp();\n        }\n      }\n      if (!this.filtersRowCtrl) {\n        this.filtersRowCtrl = this.createBean(\n          new HeaderRowCtrl(rowIndex, this.pinned, \"filter\" /* FLOATING_FILTER */)\n        );\n      }\n    };\n    refreshColumnGroups();\n    refreshColumns();\n    refreshFilters();\n    const allCtrls = this.getAllCtrls();\n    this.comp.setCtrls(allCtrls);\n    this.restoreFocusOnHeader(focusedHeaderPosition);\n  }\n  getHeaderCtrlForColumn(column) {\n    if (isColumn(column)) {\n      return this.columnsRowCtrl?.getHeaderCellCtrl(column);\n    }\n    if (this.groupsRowCtrls.length === 0) {\n      return;\n    }\n    for (let i = 0; i < this.groupsRowCtrls.length; i++) {\n      const ctrl = this.groupsRowCtrls[i].getHeaderCellCtrl(column);\n      if (ctrl) {\n        return ctrl;\n      }\n    }\n  }\n  getHtmlElementForColumnHeader(column) {\n    const cellCtrl = this.getHeaderCtrlForColumn(column);\n    if (!cellCtrl) {\n      return null;\n    }\n    return cellCtrl.getGui();\n  }\n  getRowType(rowIndex) {\n    const allCtrls = this.getAllCtrls();\n    const ctrl = allCtrls[rowIndex];\n    return ctrl ? ctrl.getType() : void 0;\n  }\n  focusHeader(rowIndex, column, event) {\n    const allCtrls = this.getAllCtrls();\n    const ctrl = allCtrls[rowIndex];\n    if (!ctrl) {\n      return false;\n    }\n    return ctrl.focusHeader(column, event);\n  }\n  getViewportElement() {\n    return this.eViewport;\n  }\n  getGroupRowCount() {\n    return this.groupsRowCtrls.length;\n  }\n  getGroupRowCtrlAtIndex(index) {\n    return this.groupsRowCtrls[index];\n  }\n  getRowCount() {\n    return this.groupsRowCtrls.length + (this.columnsRowCtrl ? 1 : 0) + (this.filtersRowCtrl ? 1 : 0);\n  }\n  setHorizontalScroll(offset) {\n    this.comp.setViewportScrollLeft(offset);\n  }\n  onScrollCallback(fn) {\n    this.addManagedElementListeners(this.getViewportElement(), { scroll: fn });\n  }\n  destroy() {\n    if (this.filtersRowCtrl) {\n      this.filtersRowCtrl = this.destroyBean(this.filtersRowCtrl);\n    }\n    if (this.columnsRowCtrl) {\n      this.columnsRowCtrl = this.destroyBean(this.columnsRowCtrl);\n    }\n    if (this.groupsRowCtrls && this.groupsRowCtrls.length) {\n      this.groupsRowCtrls = this.destroyBeans(this.groupsRowCtrls);\n    }\n    super.destroy();\n  }\n  setupDragAndDrop(dropContainer) {\n    const bodyDropTarget = new BodyDropTarget(this.pinned, dropContainer);\n    this.createManagedBean(bodyDropTarget);\n  }\n  restoreFocusOnHeader(position) {\n    if (!position) {\n      return;\n    }\n    const { column } = position;\n    if (column.getPinned() != this.pinned) {\n      return;\n    }\n    this.focusService.focusHeaderPosition({ headerPosition: position });\n  }\n  // grid cols have changed - this also means the number of rows in the header can have\n  // changed. so we remove all the old rows and insert new ones for a complete refresh\n  onGridColumnsChanged() {\n    this.refresh(true);\n  }\n  onDisplayedColumnsChanged() {\n    const includeFloatingFilter = this.filterManager?.hasFloatingFilters() && !this.hidden;\n    if (this.includeFloatingFilter !== includeFloatingFilter) {\n      this.refresh(true);\n    }\n  }\n  setupCenterWidth() {\n    if (this.pinned != null) {\n      return;\n    }\n    this.createManagedBean(new CenterWidthFeature((width) => this.comp.setCenterWidth(`${width}px`), true));\n  }\n  setupPinnedWidth() {\n    if (this.pinned == null) {\n      return;\n    }\n    const pinningLeft = this.pinned === \"left\";\n    const pinningRight = this.pinned === \"right\";\n    this.hidden = true;\n    const listener = () => {\n      const width = pinningLeft ? this.pinnedWidthService.getPinnedLeftWidth() : this.pinnedWidthService.getPinnedRightWidth();\n      if (width == null) {\n        return;\n      }\n      const hidden = width == 0;\n      const hiddenChanged = this.hidden !== hidden;\n      const isRtl = this.gos.get(\"enableRtl\");\n      const scrollbarWidth = this.scrollVisibleService.getScrollbarWidth();\n      const addPaddingForScrollbar = this.scrollVisibleService.isVerticalScrollShowing() && (isRtl && pinningLeft || !isRtl && pinningRight);\n      const widthWithPadding = addPaddingForScrollbar ? width + scrollbarWidth : width;\n      this.comp.setPinnedContainerWidth(`${widthWithPadding}px`);\n      this.comp.setDisplayed(!hidden);\n      if (hiddenChanged) {\n        this.hidden = hidden;\n        this.refresh();\n      }\n    };\n    this.addManagedEventListeners({\n      leftPinnedWidthChanged: listener,\n      rightPinnedWidthChanged: listener,\n      scrollVisibilityChanged: listener,\n      scrollbarWidthChanged: listener\n    });\n  }\n};\n\n// community-modules/core/src/headerRendering/rowContainer/headerRowContainerComp.ts\nvar PINNED_LEFT_TEMPLATE = (\n  /* html */\n  `<div class=\"ag-pinned-left-header\" role=\"rowgroup\"></div>`\n);\nvar PINNED_RIGHT_TEMPLATE = (\n  /* html */\n  `<div class=\"ag-pinned-right-header\" role=\"rowgroup\"></div>`\n);\nvar CENTER_TEMPLATE = (\n  /* html */\n  `<div class=\"ag-header-viewport\" role=\"presentation\">\n        <div class=\"ag-header-container\" data-ref=\"eCenterContainer\" role=\"rowgroup\"></div>\n    </div>`\n);\nvar HeaderRowContainerComp = class extends Component {\n  constructor(pinned) {\n    super();\n    this.eCenterContainer = RefPlaceholder;\n    this.headerRowComps = {};\n    this.rowCompsList = [];\n    this.pinned = pinned;\n  }\n  postConstruct() {\n    this.selectAndSetTemplate();\n    const compProxy = {\n      setDisplayed: (displayed) => this.setDisplayed(displayed),\n      setCtrls: (ctrls) => this.setCtrls(ctrls),\n      // only gets called for center section\n      setCenterWidth: (width) => this.eCenterContainer.style.width = width,\n      setViewportScrollLeft: (left) => this.getGui().scrollLeft = left,\n      // only gets called for pinned sections\n      setPinnedContainerWidth: (width) => {\n        const eGui = this.getGui();\n        eGui.style.width = width;\n        eGui.style.maxWidth = width;\n        eGui.style.minWidth = width;\n      }\n    };\n    const ctrl = this.createManagedBean(new HeaderRowContainerCtrl(this.pinned));\n    ctrl.setComp(compProxy, this.getGui());\n  }\n  selectAndSetTemplate() {\n    const pinnedLeft = this.pinned == \"left\";\n    const pinnedRight = this.pinned == \"right\";\n    const template = pinnedLeft ? PINNED_LEFT_TEMPLATE : pinnedRight ? PINNED_RIGHT_TEMPLATE : CENTER_TEMPLATE;\n    this.setTemplate(template);\n    this.eRowContainer = this.eCenterContainer !== RefPlaceholder ? this.eCenterContainer : this.getGui();\n  }\n  destroy() {\n    this.setCtrls([]);\n    super.destroy();\n  }\n  destroyRowComp(rowComp) {\n    this.destroyBean(rowComp);\n    this.eRowContainer.removeChild(rowComp.getGui());\n  }\n  setCtrls(ctrls) {\n    const oldRowComps = this.headerRowComps;\n    this.headerRowComps = {};\n    this.rowCompsList = [];\n    let prevGui;\n    const appendEnsuringDomOrder = (rowComp) => {\n      const eGui = rowComp.getGui();\n      const notAlreadyIn = eGui.parentElement != this.eRowContainer;\n      if (notAlreadyIn) {\n        this.eRowContainer.appendChild(eGui);\n      }\n      if (prevGui) {\n        _ensureDomOrder(this.eRowContainer, eGui, prevGui);\n      }\n      prevGui = eGui;\n    };\n    ctrls.forEach((ctrl) => {\n      const ctrlId = ctrl.instanceId;\n      const existingComp = oldRowComps[ctrlId];\n      delete oldRowComps[ctrlId];\n      const rowComp = existingComp ? existingComp : this.createBean(new HeaderRowComp(ctrl));\n      this.headerRowComps[ctrlId] = rowComp;\n      this.rowCompsList.push(rowComp);\n      appendEnsuringDomOrder(rowComp);\n    });\n    _getAllValuesInObject(oldRowComps).forEach((c) => this.destroyRowComp(c));\n  }\n};\n\n// community-modules/core/src/headerRendering/gridHeaderComp.ts\nvar GridHeaderComp = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-header\" role=\"presentation\"/>`\n    );\n  }\n  postConstruct() {\n    const compProxy = {\n      addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n      setHeightAndMinHeight: (height) => {\n        this.getGui().style.height = height;\n        this.getGui().style.minHeight = height;\n      }\n    };\n    const ctrl = this.createManagedBean(new GridHeaderCtrl());\n    ctrl.setComp(compProxy, this.getGui(), this.getFocusableElement());\n    const addContainer = (container) => {\n      this.createManagedBean(container);\n      this.appendChild(container);\n    };\n    addContainer(new HeaderRowContainerComp(\"left\"));\n    addContainer(new HeaderRowContainerComp(null));\n    addContainer(new HeaderRowContainerComp(\"right\"));\n  }\n};\nvar GridHeaderSelector = {\n  selector: \"AG-HEADER-ROOT\",\n  component: GridHeaderComp\n};\n\n// community-modules/core/src/styling/layoutFeature.ts\nvar LayoutCssClasses = /* @__PURE__ */ ((LayoutCssClasses2) => {\n  LayoutCssClasses2[\"AUTO_HEIGHT\"] = \"ag-layout-auto-height\";\n  LayoutCssClasses2[\"NORMAL\"] = \"ag-layout-normal\";\n  LayoutCssClasses2[\"PRINT\"] = \"ag-layout-print\";\n  return LayoutCssClasses2;\n})(LayoutCssClasses || {});\nvar LayoutFeature = class extends BeanStub {\n  constructor(view) {\n    super();\n    this.view = view;\n  }\n  postConstruct() {\n    this.addManagedPropertyListener(\"domLayout\", this.updateLayoutClasses.bind(this));\n    this.updateLayoutClasses();\n  }\n  updateLayoutClasses() {\n    const domLayout = this.getDomLayout();\n    const params = {\n      autoHeight: domLayout === \"autoHeight\",\n      normal: domLayout === \"normal\",\n      print: domLayout === \"print\"\n    };\n    const cssClass = params.autoHeight ? \"ag-layout-auto-height\" /* AUTO_HEIGHT */ : params.print ? \"ag-layout-print\" /* PRINT */ : \"ag-layout-normal\" /* NORMAL */;\n    this.view.updateLayoutClasses(cssClass, params);\n  }\n  // returns either 'print', 'autoHeight' or 'normal' (normal is the default)\n  getDomLayout() {\n    const domLayout = this.gos.get(\"domLayout\") ?? \"normal\";\n    const validLayouts = [\"normal\", \"print\", \"autoHeight\"];\n    if (validLayouts.indexOf(domLayout) === -1) {\n      _warnOnce(`${domLayout} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`);\n      return \"normal\";\n    }\n    return domLayout;\n  }\n};\n\n// community-modules/core/src/rendering/overlays/overlayWrapperComponent.ts\nvar OverlayWrapperComponent = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div class=\"ag-overlay\" role=\"presentation\">\n                <div class=\"ag-overlay-panel\" role=\"presentation\">\n                    <div class=\"ag-overlay-wrapper\" data-ref=\"eOverlayWrapper\" role=\"presentation\"></div>\n                </div>\n            </div>`\n    );\n    this.eOverlayWrapper = RefPlaceholder;\n    this.activePromise = null;\n    this.activeOverlay = null;\n    this.updateListenerDestroyFunc = null;\n    this.activeOverlayWrapperCssClass = null;\n    this.elToFocusAfter = null;\n  }\n  wireBeans(beans) {\n    this.overlayService = beans.overlayService;\n    this.focusService = beans.focusService;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  handleKeyDown(e) {\n    if (e.key !== KeyCode.TAB || e.defaultPrevented || _isStopPropagationForAgGrid(e)) {\n      return;\n    }\n    const nextEl = this.focusService.findNextFocusableElement(this.eOverlayWrapper, false, e.shiftKey);\n    if (nextEl) {\n      return;\n    }\n    let isFocused = false;\n    if (e.shiftKey) {\n      isFocused = this.focusService.focusGridView(_last(this.visibleColsService.getAllCols()), true, false);\n    } else {\n      isFocused = this.focusService.focusNextGridCoreContainer(false);\n    }\n    if (isFocused) {\n      e.preventDefault();\n    }\n  }\n  updateLayoutClasses(cssClass, params) {\n    const overlayWrapperClassList = this.eOverlayWrapper.classList;\n    overlayWrapperClassList.toggle(\"ag-layout-auto-height\" /* AUTO_HEIGHT */, params.autoHeight);\n    overlayWrapperClassList.toggle(\"ag-layout-normal\" /* NORMAL */, params.normal);\n    overlayWrapperClassList.toggle(\"ag-layout-print\" /* PRINT */, params.print);\n  }\n  postConstruct() {\n    this.createManagedBean(new LayoutFeature(this));\n    this.setDisplayed(false, { skipAriaHidden: true });\n    this.overlayService.setOverlayWrapperComp(this);\n    this.addManagedElementListeners(this.getFocusableElement(), { keydown: this.handleKeyDown.bind(this) });\n  }\n  setWrapperTypeClass(overlayWrapperCssClass) {\n    const overlayWrapperClassList = this.eOverlayWrapper.classList;\n    if (this.activeOverlayWrapperCssClass) {\n      overlayWrapperClassList.toggle(this.activeOverlayWrapperCssClass, false);\n    }\n    this.activeOverlayWrapperCssClass = overlayWrapperCssClass;\n    overlayWrapperClassList.toggle(overlayWrapperCssClass, true);\n  }\n  showOverlay(overlayComponentPromise, overlayWrapperCssClass, exclusive, gridOption) {\n    this.setWrapperTypeClass(overlayWrapperCssClass);\n    this.destroyActiveOverlay();\n    this.elToFocusAfter = null;\n    this.activePromise = overlayComponentPromise;\n    if (!overlayComponentPromise) {\n      return;\n    }\n    this.setDisplayed(true, { skipAriaHidden: true });\n    if (exclusive && this.focusService.isGridFocused()) {\n      const activeElement = _getActiveDomElement(this.gos);\n      if (activeElement && !_isNothingFocused(this.gos)) {\n        this.elToFocusAfter = activeElement;\n      }\n    }\n    overlayComponentPromise.then((comp) => {\n      if (this.activePromise !== overlayComponentPromise) {\n        if (this.activeOverlay !== comp) {\n          this.destroyBean(comp);\n          comp = null;\n        }\n        return;\n      }\n      this.activePromise = null;\n      if (!comp) {\n        return;\n      }\n      if (this.activeOverlay !== comp) {\n        this.eOverlayWrapper.appendChild(comp.getGui());\n        this.activeOverlay = comp;\n        if (gridOption) {\n          const component = comp;\n          this.updateListenerDestroyFunc = this.addManagedPropertyListener(gridOption, ({ currentValue }) => {\n            component.refresh?.(this.gos.addGridCommonParams({ ...currentValue ?? {} }));\n          });\n        }\n      }\n      const focusService = this.focusService;\n      if (exclusive && focusService.isGridFocused()) {\n        focusService.focusInto(this.eOverlayWrapper);\n      }\n    });\n  }\n  updateOverlayWrapperPaddingTop(padding) {\n    this.eOverlayWrapper.style.setProperty(\"padding-top\", `${padding}px`);\n  }\n  destroyActiveOverlay() {\n    this.activePromise = null;\n    const activeOverlay = this.activeOverlay;\n    if (!activeOverlay) {\n      return;\n    }\n    let elementToFocus = this.elToFocusAfter;\n    this.activeOverlay = null;\n    this.elToFocusAfter = null;\n    if (elementToFocus && !this.focusService.isGridFocused()) {\n      elementToFocus = null;\n    }\n    const updateListenerDestroyFunc = this.updateListenerDestroyFunc;\n    if (updateListenerDestroyFunc) {\n      updateListenerDestroyFunc();\n      this.updateListenerDestroyFunc = null;\n    }\n    this.destroyBean(activeOverlay);\n    _clearElement(this.eOverlayWrapper);\n    elementToFocus?.focus?.({ preventScroll: true });\n  }\n  hideOverlay() {\n    this.destroyActiveOverlay();\n    this.setDisplayed(false, { skipAriaHidden: true });\n  }\n  destroy() {\n    this.elToFocusAfter = null;\n    this.destroyActiveOverlay();\n    this.overlayService.setOverlayWrapperComp(void 0);\n    super.destroy();\n  }\n};\nvar OverlayWrapperSelector = {\n  selector: \"AG-OVERLAY-WRAPPER\",\n  component: OverlayWrapperComponent\n};\n\n// community-modules/core/src/gridBodyComp/abstractFakeScrollComp.ts\nvar AbstractFakeScrollComp = class extends Component {\n  constructor(template, direction) {\n    super();\n    this.direction = direction;\n    this.eViewport = RefPlaceholder;\n    this.eContainer = RefPlaceholder;\n    this.hideTimeout = null;\n    this.setTemplate(template);\n  }\n  wireBeans(beans) {\n    this.animationFrameService = beans.animationFrameService;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({\n      scrollVisibilityChanged: this.onScrollVisibilityChanged.bind(this)\n    });\n    this.onScrollVisibilityChanged();\n    this.addOrRemoveCssClass(\"ag-apple-scrollbar\", _isMacOsUserAgent() || _isIOSUserAgent());\n  }\n  initialiseInvisibleScrollbar() {\n    if (this.invisibleScrollbar !== void 0) {\n      return;\n    }\n    this.invisibleScrollbar = _isInvisibleScrollbar();\n    if (this.invisibleScrollbar) {\n      this.hideAndShowInvisibleScrollAsNeeded();\n      this.addActiveListenerToggles();\n    }\n  }\n  addActiveListenerToggles() {\n    const eGui = this.getGui();\n    const onActivate = () => this.addOrRemoveCssClass(\"ag-scrollbar-active\", true);\n    const onDeactivate = () => this.addOrRemoveCssClass(\"ag-scrollbar-active\", false);\n    this.addManagedListeners(eGui, {\n      mouseenter: onActivate,\n      mousedown: onActivate,\n      touchstart: onActivate,\n      mouseleave: onDeactivate,\n      touchend: onDeactivate\n    });\n  }\n  onScrollVisibilityChanged() {\n    if (this.invisibleScrollbar === void 0) {\n      this.initialiseInvisibleScrollbar();\n    }\n    this.animationFrameService.requestAnimationFrame(() => this.setScrollVisible());\n  }\n  hideAndShowInvisibleScrollAsNeeded() {\n    this.addManagedEventListeners({\n      bodyScroll: (params) => {\n        if (params.direction === this.direction) {\n          if (this.hideTimeout !== null) {\n            window.clearTimeout(this.hideTimeout);\n            this.hideTimeout = null;\n          }\n          this.addOrRemoveCssClass(\"ag-scrollbar-scrolling\", true);\n        }\n      },\n      bodyScrollEnd: () => {\n        this.hideTimeout = window.setTimeout(() => {\n          this.addOrRemoveCssClass(\"ag-scrollbar-scrolling\", false);\n          this.hideTimeout = null;\n        }, 400);\n      }\n    });\n  }\n  attemptSettingScrollPosition(value) {\n    const viewport = this.getViewportElement();\n    _waitUntil(\n      () => _isVisible(viewport),\n      () => this.setScrollPosition(value),\n      100\n    );\n  }\n  getViewportElement() {\n    return this.eViewport;\n  }\n  getContainer() {\n    return this.eContainer;\n  }\n  onScrollCallback(fn) {\n    this.addManagedElementListeners(this.getViewportElement(), { scroll: fn });\n  }\n};\n\n// community-modules/core/src/gridBodyComp/fakeHScrollComp.ts\nvar FakeHScrollComp = class extends AbstractFakeScrollComp {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-body-horizontal-scroll\" aria-hidden=\"true\">\n            <div class=\"ag-horizontal-left-spacer\" data-ref=\"eLeftSpacer\"></div>\n            <div class=\"ag-body-horizontal-scroll-viewport\" data-ref=\"eViewport\">\n                <div class=\"ag-body-horizontal-scroll-container\" data-ref=\"eContainer\"></div>\n            </div>\n            <div class=\"ag-horizontal-right-spacer\" data-ref=\"eRightSpacer\"></div>\n        </div>`,\n      \"horizontal\"\n    );\n    this.eLeftSpacer = RefPlaceholder;\n    this.eRightSpacer = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    super.wireBeans(beans);\n    this.visibleColsService = beans.visibleColsService;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.ctrlsService = beans.ctrlsService;\n    this.scrollVisibleService = beans.scrollVisibleService;\n  }\n  postConstruct() {\n    super.postConstruct();\n    const spacerWidthsListener = this.setFakeHScrollSpacerWidths.bind(this);\n    this.addManagedEventListeners({\n      displayedColumnsChanged: spacerWidthsListener,\n      displayedColumnsWidthChanged: spacerWidthsListener,\n      pinnedRowDataChanged: this.onPinnedRowDataChanged.bind(this)\n    });\n    this.addManagedPropertyListener(\"domLayout\", spacerWidthsListener);\n    this.ctrlsService.register(\"fakeHScrollComp\", this);\n    this.createManagedBean(new CenterWidthFeature((width) => this.eContainer.style.width = `${width}px`));\n    this.addManagedPropertyListeners([\"suppressHorizontalScroll\"], this.onScrollVisibilityChanged.bind(this));\n  }\n  initialiseInvisibleScrollbar() {\n    if (this.invisibleScrollbar !== void 0) {\n      return;\n    }\n    this.enableRtl = this.gos.get(\"enableRtl\");\n    super.initialiseInvisibleScrollbar();\n    if (this.invisibleScrollbar) {\n      this.refreshCompBottom();\n    }\n  }\n  onPinnedRowDataChanged() {\n    this.refreshCompBottom();\n  }\n  refreshCompBottom() {\n    if (!this.invisibleScrollbar) {\n      return;\n    }\n    const bottomPinnedHeight = this.pinnedRowModel.getPinnedBottomTotalHeight();\n    this.getGui().style.bottom = `${bottomPinnedHeight}px`;\n  }\n  onScrollVisibilityChanged() {\n    super.onScrollVisibilityChanged();\n    this.setFakeHScrollSpacerWidths();\n  }\n  setFakeHScrollSpacerWidths() {\n    const vScrollShowing = this.scrollVisibleService.isVerticalScrollShowing();\n    let rightSpacing = this.visibleColsService.getDisplayedColumnsRightWidth();\n    const scrollOnRight = !this.enableRtl && vScrollShowing;\n    const scrollbarWidth = this.scrollVisibleService.getScrollbarWidth();\n    if (scrollOnRight) {\n      rightSpacing += scrollbarWidth;\n    }\n    _setFixedWidth(this.eRightSpacer, rightSpacing);\n    this.eRightSpacer.classList.toggle(\"ag-scroller-corner\", rightSpacing <= scrollbarWidth);\n    let leftSpacing = this.visibleColsService.getColsLeftWidth();\n    const scrollOnLeft = this.enableRtl && vScrollShowing;\n    if (scrollOnLeft) {\n      leftSpacing += scrollbarWidth;\n    }\n    _setFixedWidth(this.eLeftSpacer, leftSpacing);\n    this.eLeftSpacer.classList.toggle(\"ag-scroller-corner\", leftSpacing <= scrollbarWidth);\n  }\n  setScrollVisible() {\n    const hScrollShowing = this.scrollVisibleService.isHorizontalScrollShowing();\n    const invisibleScrollbar2 = this.invisibleScrollbar;\n    const isSuppressHorizontalScroll = this.gos.get(\"suppressHorizontalScroll\");\n    const scrollbarWidth = hScrollShowing ? this.scrollVisibleService.getScrollbarWidth() || 0 : 0;\n    const adjustedScrollbarWidth = scrollbarWidth === 0 && invisibleScrollbar2 ? 16 : scrollbarWidth;\n    const scrollContainerSize = !isSuppressHorizontalScroll ? adjustedScrollbarWidth : 0;\n    this.addOrRemoveCssClass(\"ag-scrollbar-invisible\", invisibleScrollbar2);\n    _setFixedHeight(this.getGui(), scrollContainerSize);\n    _setFixedHeight(this.eViewport, scrollContainerSize);\n    _setFixedHeight(this.eContainer, scrollContainerSize);\n    this.setDisplayed(hScrollShowing, { skipAriaHidden: true });\n  }\n  getScrollPosition() {\n    return _getScrollLeft(this.getViewportElement(), this.enableRtl);\n  }\n  setScrollPosition(value) {\n    if (!_isVisible(this.getViewportElement())) {\n      this.attemptSettingScrollPosition(value);\n    }\n    _setScrollLeft(this.getViewportElement(), value, this.enableRtl);\n  }\n};\nvar FakeHScrollSelector = {\n  selector: \"AG-FAKE-HORIZONTAL-SCROLL\",\n  component: FakeHScrollComp\n};\n\n// community-modules/core/src/gridBodyComp/rowContainer/setHeightFeature.ts\nvar SetHeightFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.maxDivHeightScaler = beans.rowContainerHeightService;\n  }\n  constructor(eContainer, eViewport) {\n    super();\n    this.eContainer = eContainer;\n    this.eViewport = eViewport;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({ rowContainerHeightChanged: this.onHeightChanged.bind(this) });\n  }\n  onHeightChanged() {\n    const height = this.maxDivHeightScaler.getUiContainerHeight();\n    const heightString = height != null ? `${height}px` : ``;\n    this.eContainer.style.height = heightString;\n    if (this.eViewport) {\n      this.eViewport.style.height = heightString;\n    }\n  }\n};\n\n// community-modules/core/src/gridBodyComp/fakeVScrollComp.ts\nvar FakeVScrollComp = class extends AbstractFakeScrollComp {\n  wireBeans(beans) {\n    super.wireBeans(beans);\n    this.ctrlsService = beans.ctrlsService;\n    this.scrollVisibleService = beans.scrollVisibleService;\n  }\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-body-vertical-scroll\" aria-hidden=\"true\">\n            <div class=\"ag-body-vertical-scroll-viewport\" data-ref=\"eViewport\">\n                <div class=\"ag-body-vertical-scroll-container\" data-ref=\"eContainer\"></div>\n            </div>\n        </div>`,\n      \"vertical\"\n    );\n  }\n  postConstruct() {\n    super.postConstruct();\n    this.createManagedBean(new SetHeightFeature(this.eContainer));\n    this.ctrlsService.register(\"fakeVScrollComp\", this);\n    this.addManagedEventListeners({ rowContainerHeightChanged: this.onRowContainerHeightChanged.bind(this) });\n  }\n  setScrollVisible() {\n    const vScrollShowing = this.scrollVisibleService.isVerticalScrollShowing();\n    const invisibleScrollbar2 = this.invisibleScrollbar;\n    const scrollbarWidth = vScrollShowing ? this.scrollVisibleService.getScrollbarWidth() || 0 : 0;\n    const adjustedScrollbarWidth = scrollbarWidth === 0 && invisibleScrollbar2 ? 16 : scrollbarWidth;\n    this.addOrRemoveCssClass(\"ag-scrollbar-invisible\", invisibleScrollbar2);\n    _setFixedWidth(this.getGui(), adjustedScrollbarWidth);\n    _setFixedWidth(this.eViewport, adjustedScrollbarWidth);\n    _setFixedWidth(this.eContainer, adjustedScrollbarWidth);\n    this.setDisplayed(vScrollShowing, { skipAriaHidden: true });\n  }\n  onRowContainerHeightChanged() {\n    const { ctrlsService } = this;\n    const gridBodyCtrl = ctrlsService.getGridBodyCtrl();\n    const gridBodyViewportEl = gridBodyCtrl.getBodyViewportElement();\n    const eViewportScrollTop = this.getScrollPosition();\n    const gridBodyViewportScrollTop = gridBodyViewportEl.scrollTop;\n    if (eViewportScrollTop != gridBodyViewportScrollTop) {\n      this.setScrollPosition(gridBodyViewportScrollTop, true);\n    }\n  }\n  getScrollPosition() {\n    return this.getViewportElement().scrollTop;\n  }\n  setScrollPosition(value, force) {\n    if (!force && !_isVisible(this.getViewportElement())) {\n      this.attemptSettingScrollPosition(value);\n    }\n    this.getViewportElement().scrollTop = value;\n  }\n};\nvar FakeVScrollSelector = {\n  selector: \"AG-FAKE-VERTICAL-SCROLL\",\n  component: FakeVScrollComp\n};\n\n// community-modules/core/src/gridBodyComp/gridBodyScrollFeature.ts\nvar HorizontalSources = /* @__PURE__ */ ((HorizontalSources2) => {\n  HorizontalSources2[\"FakeHScrollbar\"] = \"fakeHScrollComp\";\n  HorizontalSources2[\"Header\"] = \"centerHeader\";\n  HorizontalSources2[\"PinnedTop\"] = \"topCenter\";\n  HorizontalSources2[\"PinnedBottom\"] = \"bottomCenter\";\n  HorizontalSources2[\"StickyTop\"] = \"stickyTopCenter\";\n  HorizontalSources2[\"StickyBottom\"] = \"stickyBottomCenter\";\n  return HorizontalSources2;\n})(HorizontalSources || {});\nvar GridBodyScrollFeature = class extends BeanStub {\n  constructor(eBodyViewport) {\n    super();\n    this.lastScrollSource = [null, null];\n    this.scrollLeft = -1;\n    this.nextScrollTop = -1;\n    this.scrollTop = -1;\n    // Used to provide approximate values of scrollTop and offsetHeight\n    // without forcing the browser to recalculate styles.\n    this.lastOffsetHeight = -1;\n    this.lastScrollTop = -1;\n    this.eBodyViewport = eBodyViewport;\n    this.resetLastHScrollDebounced = _debounce(\n      () => this.lastScrollSource[1 /* Horizontal */] = null,\n      500\n    );\n    this.resetLastVScrollDebounced = _debounce(() => this.lastScrollSource[0 /* Vertical */] = null, 500);\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.animationFrameService = beans.animationFrameService;\n    this.paginationService = beans.paginationService;\n    this.pageBoundsService = beans.pageBoundsService;\n    this.rowModel = beans.rowModel;\n    this.heightScaler = beans.rowContainerHeightService;\n    this.rowRenderer = beans.rowRenderer;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  postConstruct() {\n    this.enableRtl = this.gos.get(\"enableRtl\");\n    this.addManagedEventListeners({\n      displayedColumnsWidthChanged: this.onDisplayedColumnsWidthChanged.bind(this)\n    });\n    this.ctrlsService.whenReady(this, (p) => {\n      this.centerRowsCtrl = p.center;\n      this.onDisplayedColumnsWidthChanged();\n      this.addScrollListener();\n    });\n  }\n  addScrollListener() {\n    this.addHorizontalScrollListeners();\n    this.addVerticalScrollListeners();\n  }\n  addHorizontalScrollListeners() {\n    this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(), {\n      scroll: this.onHScroll.bind(this, \"Viewport\" /* Viewport */)\n    });\n    for (const source of Object.values(HorizontalSources)) {\n      const scrollPartner = this.ctrlsService.get(source);\n      this.registerScrollPartner(scrollPartner, this.onHScroll.bind(this, source));\n    }\n  }\n  addVerticalScrollListeners() {\n    const fakeVScrollComp = this.ctrlsService.get(\"fakeVScrollComp\");\n    const isDebounce = this.gos.get(\"debounceVerticalScrollbar\");\n    const onVScroll = isDebounce ? _debounce(this.onVScroll.bind(this, \"Viewport\" /* Viewport */), 100) : this.onVScroll.bind(this, \"Viewport\" /* Viewport */);\n    const onFakeVScroll = isDebounce ? _debounce(this.onVScroll.bind(this, \"fakeVScrollComp\" /* FakeVScrollbar */), 100) : this.onVScroll.bind(this, \"fakeVScrollComp\" /* FakeVScrollbar */);\n    this.addManagedElementListeners(this.eBodyViewport, { scroll: onVScroll });\n    this.registerScrollPartner(fakeVScrollComp, onFakeVScroll);\n  }\n  registerScrollPartner(comp, callback) {\n    comp.onScrollCallback(callback);\n  }\n  onDisplayedColumnsWidthChanged() {\n    if (this.enableRtl) {\n      this.horizontallyScrollHeaderCenterAndFloatingCenter();\n    }\n  }\n  horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft) {\n    const notYetInitialised = this.centerRowsCtrl == null;\n    if (notYetInitialised) {\n      return;\n    }\n    if (scrollLeft === void 0) {\n      scrollLeft = this.centerRowsCtrl.getCenterViewportScrollLeft();\n    }\n    this.setScrollLeftForAllContainersExceptCurrent(Math.abs(scrollLeft));\n  }\n  setScrollLeftForAllContainersExceptCurrent(scrollLeft) {\n    for (const container of [...Object.values(HorizontalSources), \"Viewport\" /* Viewport */]) {\n      if (this.lastScrollSource[1 /* Horizontal */] === container) {\n        continue;\n      }\n      const viewport = this.getViewportForSource(container);\n      _setScrollLeft(viewport, scrollLeft, this.enableRtl);\n    }\n  }\n  getViewportForSource(source) {\n    if (source === \"Viewport\" /* Viewport */) {\n      return this.centerRowsCtrl.getViewportElement();\n    }\n    return this.ctrlsService.get(source).getViewportElement();\n  }\n  isControllingScroll(source, direction) {\n    if (this.lastScrollSource[direction] == null) {\n      if (direction === 0 /* Vertical */) {\n        this.lastScrollSource[0] = source;\n      } else {\n        this.lastScrollSource[1] = source;\n      }\n      return true;\n    }\n    return this.lastScrollSource[direction] === source;\n  }\n  onHScroll(source) {\n    if (!this.isControllingScroll(source, 1 /* Horizontal */)) {\n      return;\n    }\n    const centerContainerViewport = this.centerRowsCtrl.getViewportElement();\n    const { scrollLeft } = centerContainerViewport;\n    if (this.shouldBlockScrollUpdate(1 /* Horizontal */, scrollLeft, true)) {\n      return;\n    }\n    const newScrollLeft = _getScrollLeft(this.getViewportForSource(source), this.enableRtl);\n    this.doHorizontalScroll(newScrollLeft);\n    this.resetLastHScrollDebounced();\n  }\n  onVScroll(source) {\n    if (!this.isControllingScroll(source, 0 /* Vertical */)) {\n      return;\n    }\n    let scrollTop;\n    if (source === \"Viewport\" /* Viewport */) {\n      scrollTop = this.eBodyViewport.scrollTop;\n    } else {\n      scrollTop = this.ctrlsService.get(\"fakeVScrollComp\").getScrollPosition();\n    }\n    if (this.shouldBlockScrollUpdate(0 /* Vertical */, scrollTop, true)) {\n      return;\n    }\n    this.animationFrameService.setScrollTop(scrollTop);\n    this.nextScrollTop = scrollTop;\n    if (source === \"Viewport\" /* Viewport */) {\n      this.ctrlsService.get(\"fakeVScrollComp\").setScrollPosition(scrollTop);\n    } else {\n      this.eBodyViewport.scrollTop = scrollTop;\n    }\n    if (this.gos.get(\"suppressAnimationFrame\")) {\n      this.scrollGridIfNeeded();\n    } else {\n      this.animationFrameService.schedule();\n    }\n    this.resetLastVScrollDebounced();\n  }\n  doHorizontalScroll(scrollLeft) {\n    const fakeScrollLeft = this.ctrlsService.get(\"fakeHScrollComp\").getScrollPosition();\n    if (this.scrollLeft === scrollLeft && scrollLeft === fakeScrollLeft) {\n      return;\n    }\n    this.scrollLeft = scrollLeft;\n    this.fireScrollEvent(1 /* Horizontal */);\n    this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft);\n    this.centerRowsCtrl.onHorizontalViewportChanged(true);\n  }\n  fireScrollEvent(direction) {\n    const bodyScrollEvent = {\n      type: \"bodyScroll\",\n      direction: direction === 1 /* Horizontal */ ? \"horizontal\" : \"vertical\",\n      left: this.scrollLeft,\n      top: this.scrollTop\n    };\n    this.eventService.dispatchEvent(bodyScrollEvent);\n    window.clearTimeout(this.scrollTimer);\n    this.scrollTimer = void 0;\n    this.scrollTimer = window.setTimeout(() => {\n      this.eventService.dispatchEvent({\n        ...bodyScrollEvent,\n        type: \"bodyScrollEnd\"\n      });\n    }, 100);\n  }\n  shouldBlockScrollUpdate(direction, scrollTo, touchOnly = false) {\n    if (touchOnly && !_isIOSUserAgent()) {\n      return false;\n    }\n    if (direction === 0 /* Vertical */) {\n      return this.shouldBlockVerticalScroll(scrollTo);\n    }\n    return this.shouldBlockHorizontalScroll(scrollTo);\n  }\n  shouldBlockVerticalScroll(scrollTo) {\n    const clientHeight = _getInnerHeight(this.eBodyViewport);\n    const { scrollHeight } = this.eBodyViewport;\n    if (scrollTo < 0 || scrollTo + clientHeight > scrollHeight) {\n      return true;\n    }\n    return false;\n  }\n  shouldBlockHorizontalScroll(scrollTo) {\n    const clientWidth = this.centerRowsCtrl.getCenterWidth();\n    const { scrollWidth } = this.centerRowsCtrl.getViewportElement();\n    if (this.enableRtl) {\n      if (scrollTo > 0) {\n        return true;\n      }\n    } else if (scrollTo < 0) {\n      return true;\n    }\n    if (Math.abs(scrollTo) + clientWidth > scrollWidth) {\n      return true;\n    }\n    return false;\n  }\n  redrawRowsAfterScroll() {\n    this.fireScrollEvent(0 /* Vertical */);\n  }\n  // this is to cater for AG-3274, where grid is removed from the dom and then inserted back in again.\n  // (which happens with some implementations of tabbing). this can result in horizontal scroll getting\n  // reset back to the left, however no scroll event is fired. so we need to get header to also scroll\n  // back to the left to be kept in sync.\n  // adding and removing the grid from the DOM both resets the scroll position and\n  // triggers a resize event, so notify listeners if the scroll position has changed\n  checkScrollLeft() {\n    if (this.scrollLeft !== this.centerRowsCtrl.getCenterViewportScrollLeft()) {\n      this.onHScroll(\"Viewport\" /* Viewport */);\n    }\n  }\n  scrollGridIfNeeded() {\n    const frameNeeded = this.scrollTop != this.nextScrollTop;\n    if (frameNeeded) {\n      this.scrollTop = this.nextScrollTop;\n      this.redrawRowsAfterScroll();\n    }\n    return frameNeeded;\n  }\n  // called by scrollHorizontally method and alignedGridsService\n  setHorizontalScrollPosition(hScrollPosition, fromAlignedGridsService = false) {\n    const minScrollLeft = 0;\n    const maxScrollLeft = this.centerRowsCtrl.getViewportElement().scrollWidth - this.centerRowsCtrl.getCenterWidth();\n    if (!fromAlignedGridsService && this.shouldBlockScrollUpdate(1 /* Horizontal */, hScrollPosition)) {\n      if (this.enableRtl) {\n        hScrollPosition = hScrollPosition > 0 ? 0 : maxScrollLeft;\n      } else {\n        hScrollPosition = Math.min(Math.max(hScrollPosition, minScrollLeft), maxScrollLeft);\n      }\n    }\n    _setScrollLeft(this.centerRowsCtrl.getViewportElement(), Math.abs(hScrollPosition), this.enableRtl);\n    this.doHorizontalScroll(hScrollPosition);\n  }\n  setVerticalScrollPosition(vScrollPosition) {\n    this.eBodyViewport.scrollTop = vScrollPosition;\n  }\n  getVScrollPosition() {\n    this.lastScrollTop = this.eBodyViewport.scrollTop;\n    this.lastOffsetHeight = this.eBodyViewport.offsetHeight;\n    const result = {\n      top: this.lastScrollTop,\n      bottom: this.lastScrollTop + this.lastOffsetHeight\n    };\n    return result;\n  }\n  /** Get an approximate scroll position that returns the last real value read.\n   * This is useful for avoiding repeated DOM reads that force the browser to recalculate styles.\n   * This can have big performance improvements but may not be 100% accurate so only use if this is acceptable.\n   */\n  getApproximateVScollPosition() {\n    if (this.lastScrollTop >= 0 && this.lastOffsetHeight >= 0) {\n      return {\n        top: this.scrollTop,\n        bottom: this.scrollTop + this.lastOffsetHeight\n      };\n    }\n    return this.getVScrollPosition();\n  }\n  getHScrollPosition() {\n    return this.centerRowsCtrl.getHScrollPosition();\n  }\n  isHorizontalScrollShowing() {\n    return this.centerRowsCtrl.isHorizontalScrollShowing();\n  }\n  // called by the headerRootComp and moveColumnController\n  scrollHorizontally(pixels) {\n    const oldScrollPosition = this.centerRowsCtrl.getViewportElement().scrollLeft;\n    this.setHorizontalScrollPosition(oldScrollPosition + pixels);\n    return this.centerRowsCtrl.getViewportElement().scrollLeft - oldScrollPosition;\n  }\n  // gets called by rowRenderer when new data loaded, as it will want to scroll to the top\n  scrollToTop() {\n    this.eBodyViewport.scrollTop = 0;\n  }\n  // Valid values for position are bottom, middle and top\n  ensureNodeVisible(comparator, position = null) {\n    const rowCount = this.rowModel.getRowCount();\n    let indexToSelect = -1;\n    for (let i = 0; i < rowCount; i++) {\n      const node = this.rowModel.getRow(i);\n      if (typeof comparator === \"function\") {\n        const predicate = comparator;\n        if (node && predicate(node)) {\n          indexToSelect = i;\n          break;\n        }\n      } else {\n        if (comparator === node || comparator === node.data) {\n          indexToSelect = i;\n          break;\n        }\n      }\n    }\n    if (indexToSelect >= 0) {\n      this.ensureIndexVisible(indexToSelect, position);\n    }\n  }\n  // Valid values for position are bottom, middle and top\n  // position should be {'top','middle','bottom', or undefined/null}.\n  // if undefined/null, then the grid will to the minimal amount of scrolling,\n  // eg if grid needs to scroll up, it scrolls until row is on top,\n  //    if grid needs to scroll down, it scrolls until row is on bottom,\n  //    if row is already in view, grid does not scroll\n  ensureIndexVisible(index, position) {\n    if (_isDomLayout(this.gos, \"print\")) {\n      return;\n    }\n    const rowCount = this.rowModel.getRowCount();\n    if (typeof index !== \"number\" || index < 0 || index >= rowCount) {\n      _warnOnce(\"Invalid row index for ensureIndexVisible: \" + index);\n      return;\n    }\n    const isPaging = this.gos.get(\"pagination\");\n    const paginationPanelEnabled = isPaging && !this.gos.get(\"suppressPaginationPanel\");\n    this.getFrameworkOverrides().wrapIncoming(() => {\n      if (!paginationPanelEnabled) {\n        this.paginationService?.goToPageWithIndex(index);\n      }\n      const gridBodyCtrl = this.ctrlsService.getGridBodyCtrl();\n      const stickyTopHeight = gridBodyCtrl.getStickyTopHeight();\n      const stickyBottomHeight = gridBodyCtrl.getStickyBottomHeight();\n      const rowNode = this.rowModel.getRow(index);\n      let rowGotShiftedDuringOperation;\n      do {\n        const startingRowTop = rowNode.rowTop;\n        const startingRowHeight = rowNode.rowHeight;\n        const paginationOffset = this.pageBoundsService.getPixelOffset();\n        const rowTopPixel = rowNode.rowTop - paginationOffset;\n        const rowBottomPixel = rowTopPixel + rowNode.rowHeight;\n        const scrollPosition = this.getVScrollPosition();\n        const heightOffset = this.heightScaler.getDivStretchOffset();\n        const vScrollTop = scrollPosition.top + heightOffset;\n        const vScrollBottom = scrollPosition.bottom + heightOffset;\n        const viewportHeight = vScrollBottom - vScrollTop;\n        const pxTop = this.heightScaler.getScrollPositionForPixel(rowTopPixel);\n        const pxBottom = this.heightScaler.getScrollPositionForPixel(rowBottomPixel - viewportHeight);\n        const pxMiddle = Math.min((pxTop + pxBottom) / 2, rowTopPixel);\n        const rowAboveViewport = vScrollTop + stickyTopHeight > rowTopPixel;\n        const rowBelowViewport = vScrollBottom - stickyBottomHeight < rowBottomPixel;\n        let newScrollPosition = null;\n        if (position === \"top\") {\n          newScrollPosition = pxTop;\n        } else if (position === \"bottom\") {\n          newScrollPosition = pxBottom;\n        } else if (position === \"middle\") {\n          newScrollPosition = pxMiddle;\n        } else if (rowAboveViewport) {\n          newScrollPosition = pxTop - stickyTopHeight;\n        } else if (rowBelowViewport) {\n          newScrollPosition = pxBottom + stickyBottomHeight;\n        }\n        if (newScrollPosition !== null) {\n          this.setVerticalScrollPosition(newScrollPosition);\n          this.rowRenderer.redraw({ afterScroll: true });\n        }\n        rowGotShiftedDuringOperation = startingRowTop !== rowNode.rowTop || startingRowHeight !== rowNode.rowHeight;\n      } while (rowGotShiftedDuringOperation);\n      this.animationFrameService.flushAllFrames();\n    });\n  }\n  ensureColumnVisible(key, position = \"auto\") {\n    const column = this.columnModel.getCol(key);\n    if (!column) {\n      return;\n    }\n    if (column.isPinned()) {\n      return;\n    }\n    if (!this.visibleColsService.isColDisplayed(column)) {\n      return;\n    }\n    const newHorizontalScroll = this.getPositionedHorizontalScroll(column, position);\n    this.getFrameworkOverrides().wrapIncoming(() => {\n      if (newHorizontalScroll !== null) {\n        this.centerRowsCtrl.setCenterViewportScrollLeft(newHorizontalScroll);\n      }\n      this.centerRowsCtrl.onHorizontalViewportChanged();\n      this.animationFrameService.flushAllFrames();\n    });\n  }\n  setScrollPosition(top, left) {\n    this.getFrameworkOverrides().wrapIncoming(() => {\n      this.centerRowsCtrl.setCenterViewportScrollLeft(left);\n      this.setVerticalScrollPosition(top);\n      this.rowRenderer.redraw({ afterScroll: true });\n      this.animationFrameService.flushAllFrames();\n    });\n  }\n  getPositionedHorizontalScroll(column, position) {\n    const { columnBeforeStart, columnAfterEnd } = this.isColumnOutsideViewport(column);\n    const viewportTooSmallForColumn = this.centerRowsCtrl.getCenterWidth() < column.getActualWidth();\n    const viewportWidth = this.centerRowsCtrl.getCenterWidth();\n    const isRtl = this.enableRtl;\n    let alignColToStart = (isRtl ? columnBeforeStart : columnAfterEnd) || viewportTooSmallForColumn;\n    let alignColToEnd = isRtl ? columnAfterEnd : columnBeforeStart;\n    if (position !== \"auto\") {\n      alignColToStart = position === \"start\";\n      alignColToEnd = position === \"end\";\n    }\n    const isMiddle = position === \"middle\";\n    if (alignColToStart || alignColToEnd || isMiddle) {\n      const { colLeft, colMiddle, colRight } = this.getColumnBounds(column);\n      if (isMiddle) {\n        return colMiddle - viewportWidth / 2;\n      }\n      if (alignColToStart) {\n        return isRtl ? colRight : colLeft;\n      }\n      return isRtl ? colLeft - viewportWidth : colRight - viewportWidth;\n    }\n    return null;\n  }\n  isColumnOutsideViewport(column) {\n    const { start: viewportStart, end: viewportEnd } = this.getViewportBounds();\n    const { colLeft, colRight } = this.getColumnBounds(column);\n    const isRtl = this.enableRtl;\n    const columnBeforeStart = isRtl ? viewportStart > colRight : viewportEnd < colRight;\n    const columnAfterEnd = isRtl ? viewportEnd < colLeft : viewportStart > colLeft;\n    return { columnBeforeStart, columnAfterEnd };\n  }\n  getColumnBounds(column) {\n    const isRtl = this.enableRtl;\n    const bodyWidth = this.visibleColsService.getBodyContainerWidth();\n    const colWidth = column.getActualWidth();\n    const colLeft = column.getLeft();\n    const multiplier = isRtl ? -1 : 1;\n    const colLeftPixel = isRtl ? bodyWidth - colLeft : colLeft;\n    const colRightPixel = colLeftPixel + colWidth * multiplier;\n    const colMidPixel = colLeftPixel + colWidth / 2 * multiplier;\n    return { colLeft: colLeftPixel, colMiddle: colMidPixel, colRight: colRightPixel };\n  }\n  getViewportBounds() {\n    const viewportWidth = this.centerRowsCtrl.getCenterWidth();\n    const scrollPosition = this.centerRowsCtrl.getCenterViewportScrollLeft();\n    const viewportStartPixel = scrollPosition;\n    const viewportEndPixel = viewportWidth + scrollPosition;\n    return { start: viewportStartPixel, end: viewportEndPixel, width: viewportWidth };\n  }\n};\n\n// community-modules/core/src/gridBodyComp/viewportSizeFeature.ts\nvar ViewportSizeFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.animationFrameService = beans.animationFrameService;\n    this.ctrlsService = beans.ctrlsService;\n    this.pinnedWidthService = beans.pinnedWidthService;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.columnSizeService = beans.columnSizeService;\n    this.scrollVisibleService = beans.scrollVisibleService;\n    this.columnViewportService = beans.columnViewportService;\n  }\n  constructor(centerContainerCtrl) {\n    super();\n    this.centerContainerCtrl = centerContainerCtrl;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridBodyCtrl = p.gridBodyCtrl;\n      this.listenForResize();\n    });\n    this.addManagedEventListeners({ scrollbarWidthChanged: this.onScrollbarWidthChanged.bind(this) });\n    this.addManagedPropertyListeners([\"alwaysShowHorizontalScroll\", \"alwaysShowVerticalScroll\"], () => {\n      this.checkViewportAndScrolls();\n    });\n  }\n  listenForResize() {\n    const listener = () => {\n      this.animationFrameService.requestAnimationFrame(() => {\n        this.onCenterViewportResized();\n      });\n    };\n    this.centerContainerCtrl.registerViewportResizeListener(listener);\n    this.gridBodyCtrl.registerBodyViewportResizeListener(listener);\n  }\n  onScrollbarWidthChanged() {\n    this.checkViewportAndScrolls();\n  }\n  onCenterViewportResized() {\n    this.scrollVisibleService.onCentreViewportResized();\n    if (this.centerContainerCtrl.isViewportInTheDOMTree()) {\n      this.keepPinnedColumnsNarrowerThanViewport();\n      this.checkViewportAndScrolls();\n      const newWidth = this.centerContainerCtrl.getCenterWidth();\n      if (newWidth !== this.centerWidth) {\n        this.centerWidth = newWidth;\n        this.columnSizeService.refreshFlexedColumns({\n          viewportWidth: this.centerWidth,\n          updateBodyWidths: true,\n          fireResizedEvent: true\n        });\n      }\n    } else {\n      this.bodyHeight = 0;\n    }\n  }\n  keepPinnedColumnsNarrowerThanViewport() {\n    const eBodyViewport = this.gridBodyCtrl.getBodyViewportElement();\n    const bodyWidth = _getInnerWidth(eBodyViewport);\n    if (bodyWidth <= 50) {\n      return;\n    }\n    let columnsToRemove = this.getPinnedColumnsOverflowingViewport(bodyWidth - 50);\n    const processUnpinnedColumns = this.gos.getCallback(\"processUnpinnedColumns\");\n    if (!columnsToRemove.length) {\n      return;\n    }\n    if (processUnpinnedColumns) {\n      const params = {\n        columns: columnsToRemove,\n        viewportWidth: bodyWidth\n      };\n      columnsToRemove = processUnpinnedColumns(params);\n    }\n    this.columnModel.setColsPinned(columnsToRemove, null, \"viewportSizeFeature\");\n  }\n  getPinnedColumnsOverflowingViewport(viewportWidth) {\n    const pinnedRightWidth = this.pinnedWidthService.getPinnedRightWidth();\n    const pinnedLeftWidth = this.pinnedWidthService.getPinnedLeftWidth();\n    const totalPinnedWidth = pinnedRightWidth + pinnedLeftWidth;\n    if (totalPinnedWidth < viewportWidth) {\n      return [];\n    }\n    const pinnedLeftColumns = [...this.visibleColsService.getLeftCols()];\n    const pinnedRightColumns = [...this.visibleColsService.getRightCols()];\n    let indexRight = 0;\n    let indexLeft = 0;\n    const totalWidthRemoved = 0;\n    const columnsToRemove = [];\n    let spaceNecessary = totalPinnedWidth - totalWidthRemoved - viewportWidth;\n    while ((indexLeft < pinnedLeftColumns.length || indexRight < pinnedRightColumns.length) && spaceNecessary > 0) {\n      if (indexRight < pinnedRightColumns.length) {\n        const currentColumn = pinnedRightColumns[indexRight++];\n        spaceNecessary -= currentColumn.getActualWidth();\n        columnsToRemove.push(currentColumn);\n      }\n      if (indexLeft < pinnedLeftColumns.length && spaceNecessary > 0) {\n        const currentColumn = pinnedLeftColumns[indexLeft++];\n        spaceNecessary -= currentColumn.getActualWidth();\n        columnsToRemove.push(currentColumn);\n      }\n    }\n    return columnsToRemove;\n  }\n  // gets called every time the viewport size changes. we use this to check visibility of scrollbars\n  // in the grid panel, and also to check size and position of viewport for row and column virtualisation.\n  checkViewportAndScrolls() {\n    this.updateScrollVisibleService();\n    this.checkBodyHeight();\n    this.onHorizontalViewportChanged();\n    this.gridBodyCtrl.getScrollFeature().checkScrollLeft();\n  }\n  getBodyHeight() {\n    return this.bodyHeight;\n  }\n  checkBodyHeight() {\n    const eBodyViewport = this.gridBodyCtrl.getBodyViewportElement();\n    const bodyHeight = _getInnerHeight(eBodyViewport);\n    if (this.bodyHeight !== bodyHeight) {\n      this.bodyHeight = bodyHeight;\n      this.eventService.dispatchEvent({\n        type: \"bodyHeightChanged\"\n      });\n    }\n  }\n  updateScrollVisibleService() {\n    this.updateScrollVisibleServiceImpl();\n    setTimeout(this.updateScrollVisibleServiceImpl.bind(this), 500);\n  }\n  updateScrollVisibleServiceImpl() {\n    const params = {\n      horizontalScrollShowing: this.isHorizontalScrollShowing(),\n      verticalScrollShowing: this.gridBodyCtrl.isVerticalScrollShowing()\n    };\n    this.scrollVisibleService.setScrollsVisible(params);\n  }\n  isHorizontalScrollShowing() {\n    return this.centerContainerCtrl.isHorizontalScrollShowing();\n  }\n  // this gets called whenever a change in the viewport, so we can inform column controller it has to work\n  // out the virtual columns again. gets called from following locations:\n  // + ensureColVisible, scroll, init, layoutChanged, displayedColumnsChanged\n  onHorizontalViewportChanged() {\n    const scrollWidth = this.centerContainerCtrl.getCenterWidth();\n    const scrollPosition = this.centerContainerCtrl.getViewportScrollLeft();\n    this.columnViewportService.setScrollPosition(scrollWidth, scrollPosition);\n  }\n};\n\n// community-modules/core/src/gridBodyComp/rowContainer/dragListenerFeature.ts\nvar DragListenerFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.dragService = beans.dragService;\n    this.rangeService = beans.rangeService;\n  }\n  constructor(eContainer) {\n    super();\n    this.eContainer = eContainer;\n  }\n  postConstruct() {\n    if (!this.rangeService) {\n      return;\n    }\n    this.params = {\n      eElement: this.eContainer,\n      onDragStart: this.rangeService.onDragStart.bind(this.rangeService),\n      onDragStop: this.rangeService.onDragStop.bind(this.rangeService),\n      onDragging: this.rangeService.onDragging.bind(this.rangeService)\n    };\n    this.addManagedPropertyListeners([\"enableRangeSelection\", \"cellSelection\"], () => {\n      const isEnabled = _isCellSelectionEnabled(this.gos);\n      if (isEnabled) {\n        this.enableFeature();\n      } else {\n        this.disableFeature();\n      }\n    });\n    this.addDestroyFunc(() => this.disableFeature());\n    const isRangeSelection = _isCellSelectionEnabled(this.gos);\n    if (isRangeSelection) {\n      this.enableFeature();\n    }\n  }\n  enableFeature() {\n    this.dragService.addDragSource(this.params);\n  }\n  disableFeature() {\n    this.dragService.removeDragSource(this.params);\n  }\n};\n\n// community-modules/core/src/rendering/checkboxSelectionComponent.ts\nvar CheckboxSelectionComponent = class extends Component {\n  constructor() {\n    super(\n      /* html*/\n      `\n            <div class=\"ag-selection-checkbox\" role=\"presentation\">\n                <ag-checkbox role=\"presentation\" data-ref=\"eCheckbox\"></ag-checkbox>\n            </div>`,\n      [AgCheckboxSelector]\n    );\n    this.eCheckbox = RefPlaceholder;\n  }\n  postConstruct() {\n    this.eCheckbox.setPassive(true);\n  }\n  getCheckboxId() {\n    return this.eCheckbox.getInputElement().id;\n  }\n  onDataChanged() {\n    this.onSelectionChanged();\n  }\n  onSelectableChanged() {\n    this.showOrHideSelect();\n  }\n  onSelectionChanged() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const state = this.rowNode.isSelected();\n    const stateName = _getAriaCheckboxStateName(translate, state);\n    const [ariaKey, ariaLabel] = this.rowNode.selectable ? [\"ariaRowToggleSelection\", \"Press Space to toggle row selection\"] : [\"ariaRowSelectionDisabled\", \"Row Selection is disabled for this row\"];\n    const translatedLabel = translate(ariaKey, ariaLabel);\n    this.eCheckbox.setValue(state, true);\n    this.eCheckbox.setInputAriaLabel(`${translatedLabel} (${stateName})`);\n  }\n  onClicked(newValue, groupSelectsFiltered, event) {\n    return this.rowNode.setSelectedParams({\n      newValue,\n      rangeSelect: event.shiftKey,\n      groupSelectsFiltered,\n      event,\n      source: \"checkboxSelected\"\n    });\n  }\n  init(params) {\n    this.rowNode = params.rowNode;\n    this.column = params.column;\n    this.overrides = params.overrides;\n    this.onSelectionChanged();\n    this.addManagedListeners(this.eCheckbox.getInputElement(), {\n      // we don't want double click on this icon to open a group\n      dblclick: (event) => _stopPropagationForAgGrid(event),\n      click: (event) => {\n        _stopPropagationForAgGrid(event);\n        const groupSelectsFiltered = _getGroupSelection(this.gos) === \"filteredDescendants\";\n        const isSelected = this.eCheckbox.getValue();\n        if (this.shouldHandleIndeterminateState(isSelected, groupSelectsFiltered)) {\n          const result = this.onClicked(true, groupSelectsFiltered, event || {});\n          if (result === 0) {\n            this.onClicked(false, groupSelectsFiltered, event);\n          }\n        } else if (isSelected) {\n          this.onClicked(false, groupSelectsFiltered, event);\n        } else {\n          this.onClicked(true, groupSelectsFiltered, event || {});\n        }\n      }\n    });\n    this.addManagedListeners(this.rowNode, {\n      rowSelected: this.onSelectionChanged.bind(this),\n      dataChanged: this.onDataChanged.bind(this),\n      selectableChanged: this.onSelectableChanged.bind(this)\n    });\n    const isRowSelectableFunc = _getIsRowSelectable(this.gos);\n    const checkboxVisibleIsDynamic = isRowSelectableFunc || typeof this.getIsVisible() === \"function\";\n    if (checkboxVisibleIsDynamic) {\n      const showOrHideSelectListener = this.showOrHideSelect.bind(this);\n      this.addManagedEventListeners({ displayedColumnsChanged: showOrHideSelectListener });\n      this.addManagedListeners(this.rowNode, {\n        dataChanged: showOrHideSelectListener,\n        cellChanged: showOrHideSelectListener\n      });\n      this.showOrHideSelect();\n    }\n    this.eCheckbox.getInputElement().setAttribute(\"tabindex\", \"-1\");\n  }\n  shouldHandleIndeterminateState(isSelected, groupSelectsFiltered) {\n    return groupSelectsFiltered && (this.eCheckbox.getPreviousValue() === void 0 || isSelected === void 0) && _isClientSideRowModel(this.gos);\n  }\n  showOrHideSelect() {\n    let selectable = this.rowNode.selectable;\n    const isVisible = this.getIsVisible();\n    if (selectable) {\n      if (typeof isVisible === \"function\") {\n        const extraParams = this.overrides?.callbackParams;\n        if (!this.column) {\n          selectable = isVisible({ ...extraParams, node: this.rowNode, data: this.rowNode.data });\n        } else {\n          const params = this.column.createColumnFunctionCallbackParams(this.rowNode);\n          selectable = isVisible({ ...extraParams, ...params });\n        }\n      } else {\n        selectable = isVisible ?? false;\n      }\n    }\n    const so = this.gos.get(\"rowSelection\");\n    const disableInsteadOfHide = so && typeof so !== \"string\" ? !_getHideDisabledCheckboxes(so) : this.column?.getColDef().showDisabledCheckboxes;\n    if (disableInsteadOfHide) {\n      this.eCheckbox.setDisabled(!selectable);\n      this.setVisible(true);\n      this.setDisplayed(true);\n      return;\n    }\n    if (this.overrides?.removeHidden) {\n      this.setDisplayed(selectable);\n      return;\n    }\n    this.setVisible(selectable);\n  }\n  getIsVisible() {\n    if (this.overrides) {\n      return this.overrides.isVisible;\n    }\n    const so = this.gos.get(\"rowSelection\");\n    if (so && typeof so !== \"string\") {\n      return _getCheckboxes(so);\n    }\n    return this.column?.getColDef()?.checkboxSelection;\n  }\n};\n\n// community-modules/core/src/rendering/dndSourceComp.ts\nvar DndSourceComp = class extends Component {\n  constructor(rowNode, column, eCell) {\n    super(\n      /* html */\n      `<div class=\"ag-drag-handle ag-row-drag\" draggable=\"true\"></div>`\n    );\n    this.rowNode = rowNode;\n    this.column = column;\n    this.eCell = eCell;\n  }\n  postConstruct() {\n    const eGui = this.getGui();\n    eGui.appendChild(_createIconNoSpan(\"rowDrag\", this.gos, null));\n    this.addGuiEventListener(\"mousedown\", (e) => {\n      e.stopPropagation();\n    });\n    this.addDragSource();\n    this.checkVisibility();\n  }\n  addDragSource() {\n    this.addGuiEventListener(\"dragstart\", this.onDragStart.bind(this));\n  }\n  onDragStart(dragEvent) {\n    const providedOnRowDrag = this.column.getColDef().dndSourceOnRowDrag;\n    dragEvent.dataTransfer.setDragImage(this.eCell, 0, 0);\n    const defaultOnRowDrag = () => {\n      try {\n        const jsonData = JSON.stringify(this.rowNode.data);\n        dragEvent.dataTransfer.setData(\"application/json\", jsonData);\n        dragEvent.dataTransfer.setData(\"text/plain\", jsonData);\n      } catch (e) {\n      }\n    };\n    if (providedOnRowDrag) {\n      const params = this.gos.addGridCommonParams({\n        rowNode: this.rowNode,\n        dragEvent\n      });\n      providedOnRowDrag(params);\n    } else {\n      defaultOnRowDrag();\n    }\n  }\n  checkVisibility() {\n    const visible = this.column.isDndSource(this.rowNode);\n    this.setDisplayed(visible);\n  }\n};\n\n// community-modules/core/src/rendering/cell/cellCustomStyleFeature.ts\nvar CellCustomStyleFeature = class extends BeanStub {\n  constructor(ctrl, beans) {\n    super();\n    this.staticClasses = [];\n    this.cellCtrl = ctrl;\n    this.beans = beans;\n    this.column = ctrl.getColumn();\n    this.rowNode = ctrl.getRowNode();\n  }\n  setComp(comp) {\n    this.cellComp = comp;\n    this.applyUserStyles();\n    this.applyCellClassRules();\n    this.applyClassesFromColDef();\n  }\n  applyCellClassRules() {\n    const colDef = this.column.getColDef();\n    const { cellClassRules } = colDef;\n    const cellClassParams = this.beans.gos.addGridCommonParams({\n      value: this.cellCtrl.getValue(),\n      data: this.rowNode.data,\n      node: this.rowNode,\n      colDef,\n      column: this.column,\n      rowIndex: this.rowNode.rowIndex\n    });\n    this.beans.stylingService.processClassRules(\n      // if current was previous, skip\n      cellClassRules === this.cellClassRules ? void 0 : this.cellClassRules,\n      cellClassRules,\n      cellClassParams,\n      (className) => this.cellComp.addOrRemoveCssClass(className, true),\n      (className) => this.cellComp.addOrRemoveCssClass(className, false)\n    );\n    this.cellClassRules = cellClassRules;\n  }\n  applyUserStyles() {\n    const colDef = this.column.getColDef();\n    if (!colDef.cellStyle) {\n      return;\n    }\n    let styles;\n    if (typeof colDef.cellStyle === \"function\") {\n      const cellStyleParams = this.beans.gos.addGridCommonParams({\n        column: this.column,\n        value: this.cellCtrl.getValue(),\n        colDef,\n        data: this.rowNode.data,\n        node: this.rowNode,\n        rowIndex: this.rowNode.rowIndex\n      });\n      const cellStyleFunc = colDef.cellStyle;\n      styles = cellStyleFunc(cellStyleParams);\n    } else {\n      styles = colDef.cellStyle;\n    }\n    if (styles) {\n      this.cellComp.setUserStyles(styles);\n    }\n  }\n  applyClassesFromColDef() {\n    const colDef = this.column.getColDef();\n    const cellClassParams = this.beans.gos.addGridCommonParams({\n      value: this.cellCtrl.getValue(),\n      data: this.rowNode.data,\n      node: this.rowNode,\n      column: this.column,\n      colDef,\n      rowIndex: this.rowNode.rowIndex\n    });\n    if (this.staticClasses.length) {\n      this.staticClasses.forEach((className) => this.cellComp.addOrRemoveCssClass(className, false));\n    }\n    this.staticClasses = this.beans.stylingService.getStaticCellClasses(colDef, cellClassParams);\n    if (this.staticClasses.length) {\n      this.staticClasses.forEach((className) => this.cellComp.addOrRemoveCssClass(className, true));\n    }\n  }\n  // overriding to make public, as we don't dispose this bean via context\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/cell/cellKeyboardListenerFeature.ts\nvar CellKeyboardListenerFeature = class extends BeanStub {\n  constructor(ctrl, beans, column, rowNode, rowCtrl) {\n    super();\n    this.cellCtrl = ctrl;\n    this.beans = beans;\n    this.rowNode = rowNode;\n    this.rowCtrl = rowCtrl;\n  }\n  setComp(eGui) {\n    this.eGui = eGui;\n  }\n  onKeyDown(event) {\n    const key = event.key;\n    switch (key) {\n      case KeyCode.ENTER:\n        this.onEnterKeyDown(event);\n        break;\n      case KeyCode.F2:\n        this.onF2KeyDown(event);\n        break;\n      case KeyCode.ESCAPE:\n        this.onEscapeKeyDown(event);\n        break;\n      case KeyCode.TAB:\n        this.onTabKeyDown(event);\n        break;\n      case KeyCode.BACKSPACE:\n      case KeyCode.DELETE:\n        this.onBackspaceOrDeleteKeyDown(key, event);\n        break;\n      case KeyCode.DOWN:\n      case KeyCode.UP:\n      case KeyCode.RIGHT:\n      case KeyCode.LEFT:\n        this.onNavigationKeyDown(event, key);\n        break;\n    }\n  }\n  onNavigationKeyDown(event, key) {\n    if (this.cellCtrl.isEditing()) {\n      return;\n    }\n    if (event.shiftKey && this.cellCtrl.isRangeSelectionEnabled()) {\n      this.onShiftRangeSelect(event);\n    } else {\n      this.beans.navigationService.navigateToNextCell(event, key, this.cellCtrl.getCellPosition(), true);\n    }\n    event.preventDefault();\n  }\n  onShiftRangeSelect(event) {\n    if (!this.beans.rangeService) {\n      return;\n    }\n    const endCell = this.beans.rangeService.extendLatestRangeInDirection(event);\n    if (endCell) {\n      this.beans.navigationService.ensureCellVisible(endCell);\n    }\n  }\n  onTabKeyDown(event) {\n    this.beans.navigationService.onTabKeyDown(this.cellCtrl, event);\n  }\n  onBackspaceOrDeleteKeyDown(key, event) {\n    const { cellCtrl, beans, rowNode } = this;\n    const { gos, rangeService, eventService } = beans;\n    if (cellCtrl.isEditing()) {\n      return;\n    }\n    eventService.dispatchEvent({ type: \"keyShortcutChangedCellStart\" });\n    if (_isDeleteKey(key, gos.get(\"enableCellEditingOnBackspace\"))) {\n      if (rangeService && _isCellSelectionEnabled(gos)) {\n        rangeService.clearCellRangeCellValues({ dispatchWrapperEvents: true, wrapperEventSource: \"deleteKey\" });\n      } else if (cellCtrl.isCellEditable()) {\n        const column = cellCtrl.getColumn();\n        const emptyValue = this.beans.valueService.getDeleteValue(column, rowNode);\n        rowNode.setDataValue(column, emptyValue, \"cellClear\");\n      }\n    } else {\n      cellCtrl.startRowOrCellEdit(key, event);\n    }\n    eventService.dispatchEvent({ type: \"keyShortcutChangedCellEnd\" });\n  }\n  onEnterKeyDown(e) {\n    if (this.cellCtrl.isEditing() || this.rowCtrl.isEditing()) {\n      this.cellCtrl.stopEditingAndFocus(false, e.shiftKey);\n    } else {\n      if (this.beans.gos.get(\"enterNavigatesVertically\")) {\n        const key = e.shiftKey ? KeyCode.UP : KeyCode.DOWN;\n        this.beans.navigationService.navigateToNextCell(null, key, this.cellCtrl.getCellPosition(), false);\n      } else {\n        this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER, e);\n        if (this.cellCtrl.isEditing()) {\n          e.preventDefault();\n        }\n      }\n    }\n  }\n  onF2KeyDown(event) {\n    if (!this.cellCtrl.isEditing()) {\n      this.cellCtrl.startRowOrCellEdit(KeyCode.F2, event);\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onEscapeKeyDown(event) {\n    if (this.cellCtrl.isEditing()) {\n      this.cellCtrl.stopRowOrCellEdit(true);\n      this.cellCtrl.focusCell(true);\n    }\n  }\n  processCharacter(event) {\n    const eventTarget = event.target;\n    const eventOnChildComponent = eventTarget !== this.eGui;\n    if (eventOnChildComponent || this.cellCtrl.isEditing()) {\n      return;\n    }\n    const key = event.key;\n    if (key === \" \") {\n      this.onSpaceKeyDown(event);\n    } else {\n      if (this.cellCtrl.startRowOrCellEdit(key, event)) {\n        event.preventDefault();\n      }\n    }\n  }\n  onSpaceKeyDown(event) {\n    const { gos } = this.beans;\n    if (!this.cellCtrl.isEditing() && _isRowSelection(gos)) {\n      const currentSelection = this.rowNode.isSelected();\n      const newSelection = !currentSelection;\n      const groupSelectsFiltered = _getGroupSelection(gos) === \"filteredDescendants\";\n      const updatedCount = this.rowNode.setSelectedParams({\n        newValue: newSelection,\n        rangeSelect: event.shiftKey,\n        groupSelectsFiltered,\n        event,\n        source: \"spaceKey\"\n      });\n      if (currentSelection === void 0 && updatedCount === 0) {\n        this.rowNode.setSelectedParams({\n          newValue: false,\n          rangeSelect: event.shiftKey,\n          groupSelectsFiltered,\n          event,\n          source: \"spaceKey\"\n        });\n      }\n    }\n    event.preventDefault();\n  }\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/cell/cellMouseListenerFeature.ts\nvar CellMouseListenerFeature = class extends BeanStub {\n  constructor(ctrl, beans, column) {\n    super();\n    this.cellCtrl = ctrl;\n    this.beans = beans;\n    this.column = column;\n  }\n  onMouseEvent(eventName, mouseEvent) {\n    if (_isStopPropagationForAgGrid(mouseEvent)) {\n      return;\n    }\n    switch (eventName) {\n      case \"click\":\n        this.onCellClicked(mouseEvent);\n        break;\n      case \"mousedown\":\n      case \"touchstart\":\n        this.onMouseDown(mouseEvent);\n        break;\n      case \"dblclick\":\n        this.onCellDoubleClicked(mouseEvent);\n        break;\n      case \"mouseout\":\n        this.onMouseOut(mouseEvent);\n        break;\n      case \"mouseover\":\n        this.onMouseOver(mouseEvent);\n        break;\n    }\n  }\n  onCellClicked(mouseEvent) {\n    if (this.isDoubleClickOnIPad()) {\n      this.onCellDoubleClicked(mouseEvent);\n      mouseEvent.preventDefault();\n      return;\n    }\n    const { eventService, rangeService, gos } = this.beans;\n    const isMultiKey = mouseEvent.ctrlKey || mouseEvent.metaKey;\n    if (rangeService && isMultiKey) {\n      if (rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()) > 1) {\n        rangeService.intersectLastRange(true);\n      }\n    }\n    const cellClickedEvent = this.cellCtrl.createEvent(mouseEvent, \"cellClicked\");\n    eventService.dispatchEvent(cellClickedEvent);\n    const colDef = this.column.getColDef();\n    if (colDef.onCellClicked) {\n      window.setTimeout(() => {\n        this.beans.frameworkOverrides.wrapOutgoing(() => {\n          colDef.onCellClicked(cellClickedEvent);\n        });\n      }, 0);\n    }\n    const editOnSingleClick = (gos.get(\"singleClickEdit\") || colDef.singleClickEdit) && !gos.get(\"suppressClickEdit\");\n    if (editOnSingleClick && !(mouseEvent.shiftKey && rangeService?.getCellRanges().length != 0)) {\n      this.cellCtrl.startRowOrCellEdit();\n    }\n  }\n  // returns true if on iPad and this is second 'click' event in 200ms\n  isDoubleClickOnIPad() {\n    if (!_isIOSUserAgent() || _isEventSupported(\"dblclick\")) {\n      return false;\n    }\n    const nowMillis = (/* @__PURE__ */ new Date()).getTime();\n    const res = nowMillis - this.lastIPadMouseClickEvent < 200;\n    this.lastIPadMouseClickEvent = nowMillis;\n    return res;\n  }\n  onCellDoubleClicked(mouseEvent) {\n    const { column, beans, cellCtrl } = this;\n    const { eventService, frameworkOverrides, gos } = beans;\n    const colDef = column.getColDef();\n    const cellDoubleClickedEvent = cellCtrl.createEvent(mouseEvent, \"cellDoubleClicked\");\n    eventService.dispatchEvent(cellDoubleClickedEvent);\n    if (typeof colDef.onCellDoubleClicked === \"function\") {\n      window.setTimeout(() => {\n        frameworkOverrides.wrapOutgoing(() => {\n          colDef.onCellDoubleClicked(cellDoubleClickedEvent);\n        });\n      }, 0);\n    }\n    const editOnDoubleClick = !gos.get(\"singleClickEdit\") && !gos.get(\"suppressClickEdit\");\n    if (editOnDoubleClick) {\n      cellCtrl.startRowOrCellEdit(null, mouseEvent);\n    }\n  }\n  onMouseDown(mouseEvent) {\n    const { ctrlKey, metaKey, shiftKey } = mouseEvent;\n    const target = mouseEvent.target;\n    const { cellCtrl, beans } = this;\n    const { eventService, rangeService, focusService, gos } = beans;\n    if (this.isRightClickInExistingRange(mouseEvent)) {\n      return;\n    }\n    const ranges = rangeService && rangeService.getCellRanges().length != 0;\n    if (!shiftKey || !ranges) {\n      const isEnableCellTextSelection = gos.get(\"enableCellTextSelection\");\n      const shouldFocus = isEnableCellTextSelection && mouseEvent.defaultPrevented;\n      const forceBrowserFocus = (_isBrowserSafari() || shouldFocus) && !cellCtrl.isEditing() && !_isFocusableFormField(target);\n      cellCtrl.focusCell(forceBrowserFocus);\n    }\n    if (shiftKey && ranges && !focusService.isCellFocused(cellCtrl.getCellPosition())) {\n      mouseEvent.preventDefault();\n      const focusedCellPosition = focusService.getFocusedCell();\n      if (focusedCellPosition) {\n        const { column, rowIndex, rowPinned } = focusedCellPosition;\n        const focusedRowCtrl = beans.rowRenderer.getRowByPosition({ rowIndex, rowPinned });\n        const focusedCellCtrl = focusedRowCtrl?.getCellCtrl(column);\n        if (focusedCellCtrl?.isEditing()) {\n          focusedCellCtrl.stopEditing();\n        }\n        focusService.setFocusedCell({\n          column,\n          rowIndex,\n          rowPinned,\n          forceBrowserFocus: true,\n          preventScrollOnBrowserFocus: true\n        });\n      }\n    }\n    if (this.containsWidget(target)) {\n      return;\n    }\n    if (rangeService) {\n      const thisCell = this.cellCtrl.getCellPosition();\n      if (shiftKey) {\n        rangeService.extendLatestRangeToCell(thisCell);\n      } else {\n        const isMultiKey = ctrlKey || metaKey;\n        rangeService.setRangeToCell(thisCell, isMultiKey);\n      }\n    }\n    eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent, \"cellMouseDown\"));\n  }\n  isRightClickInExistingRange(mouseEvent) {\n    const { rangeService } = this.beans;\n    if (rangeService) {\n      const cellInRange = rangeService.isCellInAnyRange(this.cellCtrl.getCellPosition());\n      const isRightClick = mouseEvent.button === 2 || mouseEvent.ctrlKey && this.beans.gos.get(\"allowContextMenuWithControlKey\");\n      if (cellInRange && isRightClick) {\n        return true;\n      }\n    }\n    return false;\n  }\n  containsWidget(target) {\n    return _isElementChildOfClass(target, \"ag-selection-checkbox\", 3);\n  }\n  onMouseOut(mouseEvent) {\n    if (this.mouseStayingInsideCell(mouseEvent)) {\n      return;\n    }\n    this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent, \"cellMouseOut\"));\n    this.beans.columnHoverService.clearMouseOver();\n  }\n  onMouseOver(mouseEvent) {\n    if (this.mouseStayingInsideCell(mouseEvent)) {\n      return;\n    }\n    this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent, \"cellMouseOver\"));\n    this.beans.columnHoverService.setMouseOver([this.column]);\n  }\n  mouseStayingInsideCell(e) {\n    if (!e.target || !e.relatedTarget) {\n      return false;\n    }\n    const eGui = this.cellCtrl.getGui();\n    const cellContainsTarget = eGui.contains(e.target);\n    const cellContainsRelatedTarget = eGui.contains(e.relatedTarget);\n    return cellContainsTarget && cellContainsRelatedTarget;\n  }\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/rendering/cell/cellPositionFeature.ts\nvar CellPositionFeature = class extends BeanStub {\n  constructor(ctrl, beans) {\n    super();\n    this.cellCtrl = ctrl;\n    this.beans = beans;\n    this.column = ctrl.getColumn();\n    this.rowNode = ctrl.getRowNode();\n  }\n  setupRowSpan() {\n    this.rowSpan = this.column.getRowSpan(this.rowNode);\n    this.addManagedListeners(this.beans.eventService, { newColumnsLoaded: () => this.onNewColumnsLoaded() });\n  }\n  setComp(eGui) {\n    this.eGui = eGui;\n    this.setupColSpan();\n    this.setupRowSpan();\n    this.onLeftChanged();\n    this.onWidthChanged();\n    this.applyRowSpan();\n  }\n  onNewColumnsLoaded() {\n    const rowSpan = this.column.getRowSpan(this.rowNode);\n    if (this.rowSpan === rowSpan) {\n      return;\n    }\n    this.rowSpan = rowSpan;\n    this.applyRowSpan(true);\n  }\n  onDisplayColumnsChanged() {\n    const colsSpanning = this.getColSpanningList();\n    if (!_areEqual(this.colsSpanning, colsSpanning)) {\n      this.colsSpanning = colsSpanning;\n      this.onWidthChanged();\n      this.onLeftChanged();\n    }\n  }\n  setupColSpan() {\n    if (this.column.getColDef().colSpan == null) {\n      return;\n    }\n    this.colsSpanning = this.getColSpanningList();\n    this.addManagedListeners(this.beans.eventService, {\n      // because we are col spanning, a reorder of the cols can change what cols we are spanning over\n      displayedColumnsChanged: this.onDisplayColumnsChanged.bind(this),\n      // because we are spanning over multiple cols, we check for width any time any cols width changes.\n      // this is expensive - really we should be explicitly checking only the cols we are spanning over\n      // instead of every col, however it would be tricky code to track the cols we are spanning over, so\n      // because hardly anyone will be using colSpan, am favouring this easier way for more maintainable code.\n      displayedColumnsWidthChanged: this.onWidthChanged.bind(this)\n    });\n  }\n  onWidthChanged() {\n    if (!this.eGui) {\n      return;\n    }\n    const width = this.getCellWidth();\n    this.eGui.style.width = `${width}px`;\n  }\n  getCellWidth() {\n    if (!this.colsSpanning) {\n      return this.column.getActualWidth();\n    }\n    return this.colsSpanning.reduce((width, col) => width + col.getActualWidth(), 0);\n  }\n  getColSpanningList() {\n    const colSpan = this.column.getColSpan(this.rowNode);\n    const colsSpanning = [];\n    if (colSpan === 1) {\n      colsSpanning.push(this.column);\n    } else {\n      let pointer = this.column;\n      const pinned = this.column.getPinned();\n      for (let i = 0; pointer && i < colSpan; i++) {\n        colsSpanning.push(pointer);\n        pointer = this.beans.visibleColsService.getColAfter(pointer);\n        if (!pointer || _missing(pointer)) {\n          break;\n        }\n        if (pinned !== pointer.getPinned()) {\n          break;\n        }\n      }\n    }\n    return colsSpanning;\n  }\n  onLeftChanged() {\n    if (!this.eGui) {\n      return;\n    }\n    const left = this.modifyLeftForPrintLayout(this.getCellLeft());\n    this.eGui.style.left = left + \"px\";\n  }\n  getCellLeft() {\n    let mostLeftCol;\n    if (this.beans.gos.get(\"enableRtl\") && this.colsSpanning) {\n      mostLeftCol = _last(this.colsSpanning);\n    } else {\n      mostLeftCol = this.column;\n    }\n    return mostLeftCol.getLeft();\n  }\n  modifyLeftForPrintLayout(leftPosition) {\n    if (!this.cellCtrl.isPrintLayout() || this.column.getPinned() === \"left\") {\n      return leftPosition;\n    }\n    const leftWidth = this.beans.visibleColsService.getColsLeftWidth();\n    if (this.column.getPinned() === \"right\") {\n      const bodyWidth = this.beans.visibleColsService.getBodyContainerWidth();\n      return leftWidth + bodyWidth + (leftPosition || 0);\n    }\n    return leftWidth + (leftPosition || 0);\n  }\n  applyRowSpan(force) {\n    if (this.rowSpan === 1 && !force) {\n      return;\n    }\n    const singleRowHeight = _getRowHeightAsNumber(this.beans.gos);\n    const totalRowHeight = singleRowHeight * this.rowSpan;\n    this.eGui.style.height = `${totalRowHeight}px`;\n    this.eGui.style.zIndex = \"1\";\n  }\n  // overriding to make public, as we don't dispose this bean via context\n  destroy() {\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/interfaces/IRangeService.ts\nvar SelectionHandleType = /* @__PURE__ */ ((SelectionHandleType2) => {\n  SelectionHandleType2[SelectionHandleType2[\"FILL\"] = 0] = \"FILL\";\n  SelectionHandleType2[SelectionHandleType2[\"RANGE\"] = 1] = \"RANGE\";\n  return SelectionHandleType2;\n})(SelectionHandleType || {});\nvar CellRangeType = /* @__PURE__ */ ((CellRangeType2) => {\n  CellRangeType2[CellRangeType2[\"VALUE\"] = 0] = \"VALUE\";\n  CellRangeType2[CellRangeType2[\"DIMENSION\"] = 1] = \"DIMENSION\";\n  return CellRangeType2;\n})(CellRangeType || {});\n\n// community-modules/core/src/rendering/cell/cellRangeFeature.ts\nvar CSS_CELL_RANGE_SELECTED = \"ag-cell-range-selected\";\nvar CSS_CELL_RANGE_CHART = \"ag-cell-range-chart\";\nvar CSS_CELL_RANGE_SINGLE_CELL = \"ag-cell-range-single-cell\";\nvar CSS_CELL_RANGE_CHART_CATEGORY = \"ag-cell-range-chart-category\";\nvar CSS_CELL_RANGE_HANDLE = \"ag-cell-range-handle\";\nvar CSS_CELL_RANGE_TOP = \"ag-cell-range-top\";\nvar CSS_CELL_RANGE_RIGHT = \"ag-cell-range-right\";\nvar CSS_CELL_RANGE_BOTTOM = \"ag-cell-range-bottom\";\nvar CSS_CELL_RANGE_LEFT = \"ag-cell-range-left\";\nvar CellRangeFeature = class {\n  constructor(beans, ctrl) {\n    this.beans = beans;\n    this.rangeService = beans.rangeService;\n    this.selectionHandleFactory = beans.selectionHandleFactory;\n    this.cellCtrl = ctrl;\n  }\n  setComp(cellComp, eGui) {\n    this.cellComp = cellComp;\n    this.eGui = eGui;\n    this.onCellSelectionChanged();\n  }\n  onCellSelectionChanged() {\n    if (!this.cellComp) {\n      return;\n    }\n    this.rangeCount = this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition());\n    this.hasChartRange = this.getHasChartRange();\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED, this.rangeCount !== 0);\n    this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-1`, this.rangeCount === 1);\n    this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-2`, this.rangeCount === 2);\n    this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-3`, this.rangeCount === 3);\n    this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-4`, this.rangeCount >= 4);\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART, this.hasChartRange);\n    _setAriaSelected(this.eGui, this.rangeCount > 0 ? true : void 0);\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SINGLE_CELL, this.isSingleCell());\n    this.updateRangeBorders();\n    this.refreshHandle();\n  }\n  updateRangeBorders() {\n    const rangeBorders = this.getRangeBorders();\n    const isSingleCell = this.isSingleCell();\n    const isTop = !isSingleCell && rangeBorders.top;\n    const isRight = !isSingleCell && rangeBorders.right;\n    const isBottom = !isSingleCell && rangeBorders.bottom;\n    const isLeft = !isSingleCell && rangeBorders.left;\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_TOP, isTop);\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_RIGHT, isRight);\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_BOTTOM, isBottom);\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_LEFT, isLeft);\n  }\n  isSingleCell() {\n    const { rangeService } = this.beans;\n    return this.rangeCount === 1 && !!rangeService && !rangeService.isMoreThanOneCell();\n  }\n  getHasChartRange() {\n    const { rangeService } = this.beans;\n    if (!this.rangeCount || !rangeService) {\n      return false;\n    }\n    const cellRanges = rangeService.getCellRanges();\n    return cellRanges.length > 0 && cellRanges.every((range) => _includes([1 /* DIMENSION */, 0 /* VALUE */], range.type));\n  }\n  updateRangeBordersIfRangeCount() {\n    if (this.rangeCount > 0) {\n      this.updateRangeBorders();\n      this.refreshHandle();\n    }\n  }\n  getRangeBorders() {\n    const isRtl = this.beans.gos.get(\"enableRtl\");\n    let top = false;\n    let right = false;\n    let bottom = false;\n    let left = false;\n    const thisCol = this.cellCtrl.getCellPosition().column;\n    const presentedColsService = this.beans.visibleColsService;\n    let leftCol;\n    let rightCol;\n    if (isRtl) {\n      leftCol = presentedColsService.getColAfter(thisCol);\n      rightCol = presentedColsService.getColBefore(thisCol);\n    } else {\n      leftCol = presentedColsService.getColBefore(thisCol);\n      rightCol = presentedColsService.getColAfter(thisCol);\n    }\n    const ranges = this.rangeService.getCellRanges().filter((range) => this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(), range));\n    if (!leftCol) {\n      left = true;\n    }\n    if (!rightCol) {\n      right = true;\n    }\n    for (let i = 0; i < ranges.length; i++) {\n      if (top && right && bottom && left) {\n        break;\n      }\n      const range = ranges[i];\n      const startRow = this.rangeService.getRangeStartRow(range);\n      const endRow = this.rangeService.getRangeEndRow(range);\n      if (!top && this.beans.rowPositionUtils.sameRow(startRow, this.cellCtrl.getCellPosition())) {\n        top = true;\n      }\n      if (!bottom && this.beans.rowPositionUtils.sameRow(endRow, this.cellCtrl.getCellPosition())) {\n        bottom = true;\n      }\n      if (!left && leftCol && range.columns.indexOf(leftCol) < 0) {\n        left = true;\n      }\n      if (!right && rightCol && range.columns.indexOf(rightCol) < 0) {\n        right = true;\n      }\n    }\n    return { top, right, bottom, left };\n  }\n  refreshHandle() {\n    if (this.beans.context.isDestroyed()) {\n      return;\n    }\n    const shouldHaveSelectionHandle = this.shouldHaveSelectionHandle();\n    if (this.selectionHandle && !shouldHaveSelectionHandle) {\n      this.selectionHandle = this.beans.context.destroyBean(this.selectionHandle);\n    }\n    if (shouldHaveSelectionHandle) {\n      this.addSelectionHandle();\n    }\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_HANDLE, !!this.selectionHandle);\n  }\n  shouldHaveSelectionHandle() {\n    const gos = this.beans.gos;\n    const cellRanges = this.rangeService.getCellRanges();\n    const rangesLen = cellRanges.length;\n    if (this.rangeCount < 1 || rangesLen < 1) {\n      return false;\n    }\n    const cellRange = _last(cellRanges);\n    const cellPosition = this.cellCtrl.getCellPosition();\n    const isFillHandleAvailable = _isFillHandleEnabled(gos) && !this.cellCtrl.isSuppressFillHandle();\n    const isRangeHandleAvailable = _isRangeHandleEnabled(gos);\n    let handleIsAvailable = rangesLen === 1 && !this.cellCtrl.isEditing() && (isFillHandleAvailable || isRangeHandleAvailable);\n    if (this.hasChartRange) {\n      const hasCategoryRange = cellRanges[0].type === 1 /* DIMENSION */;\n      const isCategoryCell = hasCategoryRange && this.rangeService.isCellInSpecificRange(cellPosition, cellRanges[0]);\n      this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART_CATEGORY, isCategoryCell);\n      handleIsAvailable = cellRange.type === 0 /* VALUE */;\n    }\n    return handleIsAvailable && cellRange.endRow != null && this.rangeService.isContiguousRange(cellRange) && this.rangeService.isBottomRightCell(cellRange, cellPosition);\n  }\n  addSelectionHandle() {\n    const cellRangeType = _last(this.rangeService.getCellRanges()).type;\n    const selectionHandleFill = _isFillHandleEnabled(this.beans.gos) && _missing(cellRangeType);\n    const type = selectionHandleFill ? 0 /* FILL */ : 1 /* RANGE */;\n    if (this.selectionHandle && this.selectionHandle.getType() !== type) {\n      this.selectionHandle = this.beans.context.destroyBean(this.selectionHandle);\n    }\n    if (!this.selectionHandle) {\n      this.selectionHandle = this.selectionHandleFactory.createSelectionHandle(type);\n    }\n    this.selectionHandle.refresh(this.cellCtrl);\n  }\n  destroy() {\n    this.beans.context.destroyBean(this.selectionHandle);\n  }\n};\n\n// community-modules/core/src/rendering/cell/cellCtrl.ts\nvar CSS_CELL = \"ag-cell\";\nvar CSS_AUTO_HEIGHT = \"ag-cell-auto-height\";\nvar CSS_NORMAL_HEIGHT = \"ag-cell-normal-height\";\nvar CSS_CELL_FOCUS = \"ag-cell-focus\";\nvar CSS_CELL_FIRST_RIGHT_PINNED = \"ag-cell-first-right-pinned\";\nvar CSS_CELL_LAST_LEFT_PINNED = \"ag-cell-last-left-pinned\";\nvar CSS_CELL_NOT_INLINE_EDITING = \"ag-cell-not-inline-editing\";\nvar CSS_COLUMN_HOVER = \"ag-column-hover\";\nvar CSS_CELL_WRAP_TEXT = \"ag-cell-wrap-text\";\nvar instanceIdSequence4 = 0;\nvar _CellCtrl = class _CellCtrl extends BeanStub {\n  constructor(column, rowNode, beans, rowCtrl) {\n    super();\n    this.column = column;\n    this.rowNode = rowNode;\n    this.beans = beans;\n    this.rowCtrl = rowCtrl;\n    this.cellRangeFeature = void 0;\n    this.cellPositionFeature = void 0;\n    this.cellCustomStyleFeature = void 0;\n    this.tooltipFeature = void 0;\n    this.cellMouseListenerFeature = void 0;\n    this.cellKeyboardListenerFeature = void 0;\n    this.suppressRefreshCell = false;\n    this.onCellCompAttachedFuncs = [];\n    this.onCellEditorAttachedFuncs = [];\n    this.instanceId = column.getId() + \"-\" + instanceIdSequence4++;\n    this.colIdSanitised = _escapeString(this.column.getId());\n    this.createCellPosition();\n    this.updateAndFormatValue(false);\n  }\n  shouldRestoreFocus() {\n    return this.beans.focusService.shouldRestoreFocus(this.cellPosition);\n  }\n  onFocusOut() {\n    this.beans.focusService.clearRestoreFocus();\n  }\n  addFeatures() {\n    this.cellPositionFeature = new CellPositionFeature(this, this.beans);\n    this.cellCustomStyleFeature = new CellCustomStyleFeature(this, this.beans);\n    this.cellMouseListenerFeature = new CellMouseListenerFeature(this, this.beans, this.column);\n    this.cellKeyboardListenerFeature = new CellKeyboardListenerFeature(\n      this,\n      this.beans,\n      this.column,\n      this.rowNode,\n      this.rowCtrl\n    );\n    if (this.column.isTooltipEnabled()) {\n      this.enableTooltipFeature();\n    }\n    const cellSelectionEnabled = this.beans.rangeService && _isCellSelectionEnabled(this.beans.gos);\n    if (cellSelectionEnabled) {\n      this.cellRangeFeature = new CellRangeFeature(this.beans, this);\n    }\n  }\n  removeFeatures() {\n    const context = this.beans.context;\n    this.cellPositionFeature = context.destroyBean(this.cellPositionFeature);\n    this.cellCustomStyleFeature = context.destroyBean(this.cellCustomStyleFeature);\n    this.cellMouseListenerFeature = context.destroyBean(this.cellMouseListenerFeature);\n    this.cellKeyboardListenerFeature = context.destroyBean(this.cellKeyboardListenerFeature);\n    this.cellRangeFeature = context.destroyBean(this.cellRangeFeature);\n    this.disableTooltipFeature();\n  }\n  enableTooltipFeature(value, shouldDisplayTooltip) {\n    const getTooltipValue = () => {\n      const colDef = this.column.getColDef();\n      const data = this.rowNode.data;\n      if (colDef.tooltipField && _exists(data)) {\n        return _getValueUsingField(data, colDef.tooltipField, this.column.isTooltipFieldContainsDots());\n      }\n      const valueGetter = colDef.tooltipValueGetter;\n      if (valueGetter) {\n        return valueGetter(\n          this.beans.gos.addGridCommonParams({\n            location: \"cell\",\n            colDef: this.column.getColDef(),\n            column: this.column,\n            rowIndex: this.cellPosition.rowIndex,\n            node: this.rowNode,\n            data: this.rowNode.data,\n            value: this.value,\n            valueFormatted: this.valueFormatted\n          })\n        );\n      }\n      return null;\n    };\n    const isTooltipWhenTruncated = this.beans.gos.get(\"tooltipShowMode\") === \"whenTruncated\";\n    if (!shouldDisplayTooltip && isTooltipWhenTruncated && !this.isCellRenderer()) {\n      shouldDisplayTooltip = () => {\n        const eGui = this.getGui();\n        const textEl = eGui.children.length === 0 ? eGui : eGui.querySelector(\".ag-cell-value\");\n        if (!textEl) {\n          return true;\n        }\n        return textEl.scrollWidth > textEl.clientWidth;\n      };\n    }\n    const tooltipCtrl = {\n      getColumn: () => this.column,\n      getColDef: () => this.column.getColDef(),\n      getRowIndex: () => this.cellPosition.rowIndex,\n      getRowNode: () => this.rowNode,\n      getGui: () => this.getGui(),\n      getLocation: () => \"cell\",\n      getTooltipValue: value != null ? () => value : getTooltipValue,\n      // this makes no sense, why is the cell formatted value passed to the tooltip???\n      getValueFormatted: () => this.valueFormatted,\n      shouldDisplayTooltip\n    };\n    this.tooltipFeature = new TooltipFeature(tooltipCtrl, this.beans);\n  }\n  disableTooltipFeature() {\n    this.tooltipFeature = this.beans.context.destroyBean(this.tooltipFeature);\n  }\n  setComp(comp, eGui, eCellWrapper, printLayout, startEditing, compBean) {\n    this.cellComp = comp;\n    this.eGui = eGui;\n    this.printLayout = printLayout;\n    compBean ?? (compBean = this);\n    this.addDomData(compBean);\n    this.addFeatures();\n    compBean.addDestroyFunc(() => this.removeFeatures());\n    this.onSuppressCellFocusChanged(this.beans.gos.get(\"suppressCellFocus\"));\n    this.onCellFocused(this.focusEventToRestore);\n    this.applyStaticCssClasses();\n    this.setWrapText();\n    this.onFirstRightPinnedChanged();\n    this.onLastLeftPinnedChanged();\n    this.onColumnHover();\n    this.setupControlComps();\n    this.setupAutoHeight(eCellWrapper, compBean);\n    this.refreshFirstAndLastStyles();\n    this.refreshAriaColIndex();\n    this.cellPositionFeature?.setComp(eGui);\n    this.cellCustomStyleFeature?.setComp(comp);\n    this.tooltipFeature?.refreshToolTip();\n    this.cellKeyboardListenerFeature?.setComp(this.eGui);\n    if (this.cellRangeFeature) {\n      this.cellRangeFeature.setComp(comp, eGui);\n    }\n    if (startEditing && this.isCellEditable()) {\n      this.startEditing();\n    } else {\n      this.showValue();\n    }\n    if (this.onCellCompAttachedFuncs.length) {\n      this.onCellCompAttachedFuncs.forEach((func) => func());\n      this.onCellCompAttachedFuncs = [];\n    }\n  }\n  setupAutoHeight(eCellWrapper, compBean) {\n    this.isAutoHeight = this.column.isAutoHeight();\n    if (!this.isAutoHeight || !eCellWrapper) {\n      return;\n    }\n    const eParentCell = eCellWrapper.parentElement;\n    const minRowHeight = _getRowHeightForNode(this.beans.gos, this.rowNode).height;\n    const measureHeight = (timesCalled) => {\n      if (this.editing) {\n        return;\n      }\n      if (!this.isAlive() || !compBean.isAlive()) {\n        return;\n      }\n      const { paddingTop, paddingBottom, borderBottomWidth, borderTopWidth } = _getElementSize(eParentCell);\n      const extraHeight = paddingTop + paddingBottom + borderBottomWidth + borderTopWidth;\n      const wrapperHeight = eCellWrapper.offsetHeight;\n      const autoHeight = wrapperHeight + extraHeight;\n      if (timesCalled < 5) {\n        const doc = _getDocument(this.beans.gos);\n        const notYetInDom = !doc || !doc.contains(eCellWrapper);\n        const possiblyNoContentYet = autoHeight == 0;\n        if (notYetInDom || possiblyNoContentYet) {\n          window.setTimeout(() => measureHeight(timesCalled + 1), 0);\n          return;\n        }\n      }\n      const newHeight = Math.max(autoHeight, minRowHeight);\n      this.rowNode.setRowAutoHeight(newHeight, this.column);\n    };\n    const listener = () => measureHeight(0);\n    listener();\n    const destroyResizeObserver = this.beans.resizeObserverService.observeResize(eCellWrapper, listener);\n    compBean.addDestroyFunc(() => {\n      destroyResizeObserver();\n      this.rowNode.setRowAutoHeight(void 0, this.column);\n    });\n  }\n  getCellAriaRole() {\n    return this.column.getColDef().cellAriaRole ?? \"gridcell\";\n  }\n  isCellRenderer() {\n    const colDef = this.column.getColDef();\n    return colDef.cellRenderer != null || colDef.cellRendererSelector != null;\n  }\n  getValueToDisplay() {\n    return this.valueFormatted ?? this.value;\n  }\n  showValue(forceNewCellRendererInstance = false) {\n    const { beans, column, rowNode, cellRangeFeature, cellComp } = this;\n    const { userComponentFactory, animationFrameService } = beans;\n    const valueToDisplay = this.getValueToDisplay();\n    let compDetails;\n    const isSsrmLoading = rowNode.stub && rowNode.groupData?.[this.column.getId()] == null;\n    if (isSsrmLoading) {\n      const params = this.createCellRendererParams();\n      compDetails = userComponentFactory.getLoadingCellRendererDetails(column.getColDef(), params);\n    } else if (this.isCellRenderer()) {\n      const params = this.createCellRendererParams();\n      compDetails = userComponentFactory.getCellRendererDetails(column.getColDef(), params);\n    }\n    cellComp.setRenderDetails(compDetails, valueToDisplay, forceNewCellRendererInstance);\n    animationFrameService.requestAnimationFrame(() => cellRangeFeature?.refreshHandle());\n  }\n  setupControlComps() {\n    const colDef = this.column.getColDef();\n    this.includeSelection = this.isIncludeControl(this.isCheckboxSelection(colDef));\n    this.includeRowDrag = this.isIncludeControl(colDef.rowDrag);\n    this.includeDndSource = this.isIncludeControl(colDef.dndSource);\n    this.cellComp.setIncludeSelection(this.includeSelection);\n    this.cellComp.setIncludeDndSource(this.includeDndSource);\n    this.cellComp.setIncludeRowDrag(this.includeRowDrag);\n  }\n  isForceWrapper() {\n    const forceWrapper = this.beans.gos.get(\"enableCellTextSelection\") || this.column.isAutoHeight();\n    return forceWrapper;\n  }\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  isIncludeControl(value) {\n    const rowNodePinned = this.rowNode.rowPinned != null;\n    const isFunc = typeof value === \"function\";\n    const res = rowNodePinned ? false : isFunc || value === true;\n    return res;\n  }\n  isCheckboxSelection(colDef) {\n    const { rowSelection } = this.beans.gridOptions;\n    return colDef.checkboxSelection || isColumnControlsCol(this.column) && rowSelection && typeof rowSelection !== \"string\" && _getCheckboxes(rowSelection);\n  }\n  refreshShouldDestroy() {\n    const colDef = this.column.getColDef();\n    const selectionChanged = this.includeSelection != this.isIncludeControl(this.isCheckboxSelection(colDef));\n    const rowDragChanged = this.includeRowDrag != this.isIncludeControl(colDef.rowDrag);\n    const dndSourceChanged = this.includeDndSource != this.isIncludeControl(colDef.dndSource);\n    const autoHeightChanged = this.isAutoHeight != this.column.isAutoHeight();\n    return selectionChanged || rowDragChanged || dndSourceChanged || autoHeightChanged;\n  }\n  // either called internally if single cell editing, or called by rowRenderer if row editing\n  startEditing(key = null, cellStartedEdit = false, event = null) {\n    const { editService } = this.beans;\n    if (!this.isCellEditable() || this.editing || !editService) {\n      return true;\n    }\n    if (!this.cellComp) {\n      this.onCellCompAttachedFuncs.push(() => {\n        this.startEditing(key, cellStartedEdit, event);\n      });\n      return true;\n    }\n    return editService.startEditing(this, key, cellStartedEdit, event);\n  }\n  setEditing(editing, compDetails) {\n    this.editCompDetails = compDetails;\n    if (this.editing === editing) {\n      return;\n    }\n    this.editing = editing;\n  }\n  // pass in 'true' to cancel the editing.\n  stopRowOrCellEdit(cancel = false) {\n    if (this.beans.gos.get(\"editType\") === \"fullRow\") {\n      this.rowCtrl.stopEditing(cancel);\n    } else {\n      this.stopEditing(cancel);\n    }\n  }\n  onPopupEditorClosed() {\n    if (!this.editing) {\n      return;\n    }\n    this.stopEditingAndFocus();\n  }\n  /**\n   * Ends the Cell Editing\n   * @param cancel `True` if the edit process is being canceled.\n   * @returns `True` if the value of the `GridCell` has been updated, otherwise `False`.\n   */\n  stopEditing(cancel = false) {\n    this.onCellEditorAttachedFuncs = [];\n    const { editService } = this.beans;\n    if (!this.editing || !editService) {\n      return false;\n    }\n    return editService.stopEditing(this, cancel);\n  }\n  createCellRendererParams() {\n    const res = this.beans.gos.addGridCommonParams({\n      value: this.value,\n      valueFormatted: this.valueFormatted,\n      getValue: () => this.beans.valueService.getValueForDisplay(this.column, this.rowNode),\n      setValue: (value) => this.beans.valueService.setValue(this.rowNode, this.column, value),\n      formatValue: this.formatValue.bind(this),\n      data: this.rowNode.data,\n      node: this.rowNode,\n      pinned: this.column.getPinned(),\n      colDef: this.column.getColDef(),\n      column: this.column,\n      refreshCell: this.refreshCell.bind(this),\n      eGridCell: this.getGui(),\n      eParentOfValue: this.cellComp.getParentOfValue(),\n      registerRowDragger: (rowDraggerElement, dragStartPixels, value, suppressVisibilityChange) => this.registerRowDragger(rowDraggerElement, dragStartPixels, suppressVisibilityChange),\n      setTooltip: (value, shouldDisplayTooltip) => {\n        if (this.tooltipFeature) {\n          this.disableTooltipFeature();\n        }\n        this.enableTooltipFeature(value, shouldDisplayTooltip);\n        this.tooltipFeature?.refreshToolTip();\n      }\n    });\n    return res;\n  }\n  setFocusOutOnEditor() {\n    if (!this.editing) {\n      return;\n    }\n    this.beans.editService?.setFocusOutOnEditor(this);\n  }\n  setFocusInOnEditor() {\n    if (!this.editing) {\n      return;\n    }\n    this.beans.editService?.setFocusInOnEditor(this);\n  }\n  onCellChanged(event) {\n    const eventImpactsThisCell = event.column === this.column;\n    if (eventImpactsThisCell) {\n      this.refreshCell({});\n    }\n  }\n  refreshOrDestroyCell(params) {\n    if (this.refreshShouldDestroy()) {\n      this.rowCtrl?.recreateCell(this);\n    } else {\n      this.refreshCell(params);\n    }\n  }\n  // + stop editing {forceRefresh: true, suppressFlash: true}\n  // + event cellChanged {}\n  // + cellRenderer.params.refresh() {} -> method passes 'as is' to the cellRenderer, so params could be anything\n  // + rowCtrl: event dataChanged {suppressFlash: !update, newData: !update}\n  // + rowCtrl: api refreshCells() {animate: true/false}\n  // + rowRenderer: api softRefreshView() {}\n  refreshCell(params) {\n    if (this.suppressRefreshCell || this.editing) {\n      return;\n    }\n    const colDef = this.column.getColDef();\n    const newData = params != null && !!params.newData;\n    const suppressFlash = params != null && !!params.suppressFlash || !!colDef.suppressCellFlash;\n    const noValueProvided = colDef.field == null && colDef.valueGetter == null && colDef.showRowGroup == null;\n    const forceRefresh = params && params.forceRefresh || noValueProvided || newData;\n    const isCellCompReady = !!this.cellComp;\n    const valuesDifferent = this.updateAndFormatValue(isCellCompReady);\n    const dataNeedsUpdating = forceRefresh || valuesDifferent;\n    if (!isCellCompReady) {\n      return;\n    }\n    if (dataNeedsUpdating) {\n      this.showValue(newData);\n      const processingFilterChange = this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();\n      const flashCell = !suppressFlash && !processingFilterChange && (this.beans.gos.get(\"enableCellChangeFlash\") || colDef.enableCellChangeFlash);\n      if (flashCell) {\n        this.flashCell();\n      }\n      this.cellCustomStyleFeature?.applyUserStyles();\n      this.cellCustomStyleFeature?.applyClassesFromColDef();\n    }\n    this.tooltipFeature?.refreshToolTip();\n    this.cellCustomStyleFeature?.applyCellClassRules();\n  }\n  // cell editors call this, when they want to stop for reasons other\n  // than what we pick up on. eg selecting from a dropdown ends editing.\n  stopEditingAndFocus(suppressNavigateAfterEdit = false, shiftKey = false) {\n    this.beans.editService?.stopEditingAndFocus(this, suppressNavigateAfterEdit, shiftKey);\n  }\n  // user can also call this via API\n  flashCell(delays) {\n    const flashDuration = delays?.flashDuration ?? delays?.flashDelay;\n    const fadeDuration = delays?.fadeDuration ?? delays?.fadeDelay;\n    this.animateCell(\"data-changed\", flashDuration, fadeDuration);\n  }\n  animateCell(cssName, flashDuration, fadeDuration) {\n    if (!this.cellComp) {\n      return;\n    }\n    const { gos } = this.beans;\n    if (!flashDuration) {\n      flashDuration = gos.get(\"cellFlashDuration\");\n    }\n    if (flashDuration === 0) {\n      return;\n    }\n    if (!_exists(fadeDuration)) {\n      fadeDuration = gos.get(\"cellFadeDuration\");\n    }\n    const fullName = `ag-cell-${cssName}`;\n    const animationFullName = `ag-cell-${cssName}-animation`;\n    this.cellComp.addOrRemoveCssClass(fullName, true);\n    this.cellComp.addOrRemoveCssClass(animationFullName, false);\n    this.beans.frameworkOverrides.wrapIncoming(() => {\n      window.setTimeout(() => {\n        if (!this.isAlive()) {\n          return;\n        }\n        this.cellComp.addOrRemoveCssClass(fullName, false);\n        this.cellComp.addOrRemoveCssClass(animationFullName, true);\n        this.eGui.style.transition = `background-color ${fadeDuration}ms`;\n        window.setTimeout(() => {\n          if (!this.isAlive()) {\n            return;\n          }\n          this.cellComp.addOrRemoveCssClass(animationFullName, false);\n          this.eGui.style.transition = \"\";\n        }, fadeDuration);\n      }, flashDuration);\n    });\n  }\n  onFlashCells(event) {\n    if (!this.cellComp) {\n      return;\n    }\n    const cellId = this.beans.cellPositionUtils.createId(this.getCellPosition());\n    const shouldFlash = event.cells[cellId];\n    if (shouldFlash) {\n      this.animateCell(\"highlight\");\n    }\n  }\n  isCellEditable() {\n    return this.column.isCellEditable(this.rowNode);\n  }\n  isSuppressFillHandle() {\n    return this.column.isSuppressFillHandle();\n  }\n  formatValue(value) {\n    return this.callValueFormatter(value) ?? value;\n  }\n  callValueFormatter(value) {\n    return this.beans.valueService.formatValue(this.column, this.rowNode, value);\n  }\n  updateAndFormatValue(compareValues) {\n    const oldValue = this.value;\n    const oldValueFormatted = this.valueFormatted;\n    this.value = this.beans.valueService.getValueForDisplay(this.column, this.rowNode);\n    this.valueFormatted = this.callValueFormatter(this.value);\n    if (compareValues) {\n      return !this.valuesAreEqual(oldValue, this.value) || this.valueFormatted != oldValueFormatted;\n    }\n    return true;\n  }\n  valuesAreEqual(val1, val2) {\n    const colDef = this.column.getColDef();\n    return colDef.equals ? colDef.equals(val1, val2) : val1 === val2;\n  }\n  getComp() {\n    return this.cellComp;\n  }\n  getValue() {\n    return this.value;\n  }\n  addDomData(compBean) {\n    const element = this.getGui();\n    _setDomData(this.beans.gos, element, _CellCtrl.DOM_DATA_KEY_CELL_CTRL, this);\n    compBean.addDestroyFunc(() => _setDomData(this.beans.gos, element, _CellCtrl.DOM_DATA_KEY_CELL_CTRL, null));\n  }\n  createEvent(domEvent, eventType) {\n    const event = this.beans.gos.addGridCommonParams({\n      type: eventType,\n      node: this.rowNode,\n      data: this.rowNode.data,\n      value: this.value,\n      column: this.column,\n      colDef: this.column.getColDef(),\n      rowPinned: this.rowNode.rowPinned,\n      event: domEvent,\n      rowIndex: this.rowNode.rowIndex\n    });\n    return event;\n  }\n  processCharacter(event) {\n    this.cellKeyboardListenerFeature?.processCharacter(event);\n  }\n  onKeyDown(event) {\n    this.cellKeyboardListenerFeature?.onKeyDown(event);\n  }\n  onMouseEvent(eventName, mouseEvent) {\n    this.cellMouseListenerFeature?.onMouseEvent(eventName, mouseEvent);\n  }\n  getGui() {\n    return this.eGui;\n  }\n  getColSpanningList() {\n    return this.cellPositionFeature.getColSpanningList();\n  }\n  onLeftChanged() {\n    if (!this.cellComp) {\n      return;\n    }\n    this.cellPositionFeature?.onLeftChanged();\n  }\n  onDisplayedColumnsChanged() {\n    if (!this.eGui) {\n      return;\n    }\n    this.refreshAriaColIndex();\n    this.refreshFirstAndLastStyles();\n  }\n  refreshFirstAndLastStyles() {\n    const { cellComp, column, beans } = this;\n    refreshFirstAndLastStyles(cellComp, column, beans.visibleColsService);\n  }\n  refreshAriaColIndex() {\n    const colIdx = this.beans.visibleColsService.getAriaColIndex(this.column);\n    _setAriaColIndex(this.getGui(), colIdx);\n  }\n  isSuppressNavigable() {\n    return this.column.isSuppressNavigable(this.rowNode);\n  }\n  onWidthChanged() {\n    return this.cellPositionFeature?.onWidthChanged();\n  }\n  getColumn() {\n    return this.column;\n  }\n  getRowNode() {\n    return this.rowNode;\n  }\n  isPrintLayout() {\n    return this.printLayout;\n  }\n  getCellPosition() {\n    return this.cellPosition;\n  }\n  isEditing() {\n    return this.editing;\n  }\n  // called by rowRenderer when user navigates via tab key\n  startRowOrCellEdit(key, event = null) {\n    if (!this.cellComp) {\n      this.onCellCompAttachedFuncs.push(() => {\n        this.startRowOrCellEdit(key, event);\n      });\n      return true;\n    }\n    if (this.beans.gos.get(\"editType\") === \"fullRow\") {\n      return this.rowCtrl.startRowEditing(key, this);\n    } else {\n      return this.startEditing(key, true, event);\n    }\n  }\n  getRowCtrl() {\n    return this.rowCtrl;\n  }\n  getRowPosition() {\n    return {\n      rowIndex: this.cellPosition.rowIndex,\n      rowPinned: this.cellPosition.rowPinned\n    };\n  }\n  updateRangeBordersIfRangeCount() {\n    if (!this.cellComp) {\n      return;\n    }\n    if (this.cellRangeFeature) {\n      this.cellRangeFeature.updateRangeBordersIfRangeCount();\n    }\n  }\n  onCellSelectionChanged() {\n    if (!this.cellComp) {\n      return;\n    }\n    if (this.cellRangeFeature) {\n      this.cellRangeFeature.onCellSelectionChanged();\n    }\n  }\n  isRangeSelectionEnabled() {\n    return this.cellRangeFeature != null;\n  }\n  focusCell(forceBrowserFocus = false) {\n    this.beans.focusService.setFocusedCell({\n      rowIndex: this.getCellPosition().rowIndex,\n      column: this.column,\n      rowPinned: this.rowNode.rowPinned,\n      forceBrowserFocus\n    });\n  }\n  onRowIndexChanged() {\n    this.createCellPosition();\n    this.onCellFocused();\n    if (this.cellRangeFeature) {\n      this.cellRangeFeature.onCellSelectionChanged();\n    }\n  }\n  onSuppressCellFocusChanged(suppressCellFocus) {\n    if (!this.eGui) {\n      return;\n    }\n    _addOrRemoveAttribute(this.eGui, \"tabindex\", suppressCellFocus ? void 0 : -1);\n  }\n  onFirstRightPinnedChanged() {\n    if (!this.cellComp) {\n      return;\n    }\n    const firstRightPinned = this.column.isFirstRightPinned();\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_FIRST_RIGHT_PINNED, firstRightPinned);\n  }\n  onLastLeftPinnedChanged() {\n    if (!this.cellComp) {\n      return;\n    }\n    const lastLeftPinned = this.column.isLastLeftPinned();\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_LAST_LEFT_PINNED, lastLeftPinned);\n  }\n  onCellFocused(event) {\n    if (this.beans.focusService.isCellFocusSuppressed()) {\n      return;\n    }\n    const cellFocused = this.beans.focusService.isCellFocused(this.cellPosition);\n    if (!this.cellComp) {\n      if (cellFocused && event?.forceBrowserFocus) {\n        this.focusEventToRestore = event;\n      }\n      return;\n    }\n    this.focusEventToRestore = void 0;\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_FOCUS, cellFocused);\n    if (cellFocused && event && event.forceBrowserFocus) {\n      let focusEl = this.cellComp.getFocusableElement();\n      if (this.editing) {\n        const focusableEls = this.beans.focusService.findFocusableElements(focusEl, null, true);\n        if (focusableEls.length) {\n          focusEl = focusableEls[0];\n        }\n      }\n      focusEl.focus({ preventScroll: !!event.preventScrollOnBrowserFocus });\n    }\n    const fullRowEdit = this.beans.gos.get(\"editType\") === \"fullRow\";\n    if (!cellFocused && !fullRowEdit && this.editing) {\n      this.stopRowOrCellEdit();\n    }\n    if (cellFocused) {\n      this.rowCtrl.announceDescription();\n    }\n  }\n  createCellPosition() {\n    this.cellPosition = {\n      rowIndex: this.rowNode.rowIndex,\n      rowPinned: _makeNull(this.rowNode.rowPinned),\n      column: this.column\n    };\n  }\n  // CSS Classes that only get applied once, they never change\n  applyStaticCssClasses() {\n    this.cellComp.addOrRemoveCssClass(CSS_CELL, true);\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING, true);\n    const autoHeight = this.column.isAutoHeight() == true;\n    this.cellComp.addOrRemoveCssClass(CSS_AUTO_HEIGHT, autoHeight);\n    this.cellComp.addOrRemoveCssClass(CSS_NORMAL_HEIGHT, !autoHeight);\n  }\n  onColumnHover() {\n    if (!this.cellComp) {\n      return;\n    }\n    if (!this.beans.gos.get(\"columnHoverHighlight\")) {\n      return;\n    }\n    const isHovered = this.beans.columnHoverService.isHovered(this.column);\n    this.cellComp.addOrRemoveCssClass(CSS_COLUMN_HOVER, isHovered);\n  }\n  onColDefChanged() {\n    if (!this.cellComp) {\n      return;\n    }\n    const isTooltipEnabled = this.column.isTooltipEnabled();\n    if (isTooltipEnabled) {\n      this.disableTooltipFeature();\n      this.enableTooltipFeature();\n    } else {\n      this.disableTooltipFeature();\n    }\n    this.setWrapText();\n    if (!this.editing) {\n      this.refreshOrDestroyCell({ forceRefresh: true, suppressFlash: true });\n    } else {\n      this.beans.editService?.handleColDefChanged(this);\n    }\n  }\n  setWrapText() {\n    const value = this.column.getColDef().wrapText == true;\n    this.cellComp.addOrRemoveCssClass(CSS_CELL_WRAP_TEXT, value);\n  }\n  dispatchCellContextMenuEvent(event) {\n    const colDef = this.column.getColDef();\n    const cellContextMenuEvent = this.createEvent(event, \"cellContextMenu\");\n    this.beans.eventService.dispatchEvent(cellContextMenuEvent);\n    if (colDef.onCellContextMenu) {\n      window.setTimeout(() => {\n        this.beans.frameworkOverrides.wrapOutgoing(() => {\n          colDef.onCellContextMenu(cellContextMenuEvent);\n        });\n      }, 0);\n    }\n  }\n  getCellRenderer() {\n    return this.cellComp ? this.cellComp.getCellRenderer() : null;\n  }\n  getCellEditor() {\n    return this.cellComp ? this.cellComp.getCellEditor() : null;\n  }\n  destroy() {\n    this.onCellCompAttachedFuncs = [];\n    this.onCellEditorAttachedFuncs = [];\n    super.destroy();\n  }\n  createSelectionCheckbox() {\n    const cbSelectionComponent = new CheckboxSelectionComponent();\n    this.beans.context.createBean(cbSelectionComponent);\n    cbSelectionComponent.init({ rowNode: this.rowNode, column: this.column });\n    return cbSelectionComponent;\n  }\n  createDndSource() {\n    const dndSourceComp = new DndSourceComp(this.rowNode, this.column, this.eGui);\n    this.beans.context.createBean(dndSourceComp);\n    return dndSourceComp;\n  }\n  registerRowDragger(customElement, dragStartPixels, suppressVisibilityChange) {\n    if (this.customRowDragComp) {\n      this.customRowDragComp.setDragElement(customElement, dragStartPixels);\n      return;\n    }\n    const newComp = this.createRowDragComp(customElement, dragStartPixels, suppressVisibilityChange);\n    if (newComp) {\n      this.customRowDragComp = newComp;\n      this.addDestroyFunc(() => {\n        this.beans.context.destroyBean(newComp);\n        this.customRowDragComp = null;\n      });\n    }\n  }\n  createRowDragComp(customElement, dragStartPixels, suppressVisibilityChange) {\n    const pagination = this.beans.gos.get(\"pagination\");\n    const rowDragManaged = this.beans.gos.get(\"rowDragManaged\");\n    const clientSideRowModelActive = _isClientSideRowModel(this.beans.gos);\n    if (rowDragManaged) {\n      if (!clientSideRowModelActive) {\n        _warnOnce(\"managed row dragging is only allowed in the Client Side Row Model\");\n        return;\n      }\n      if (pagination) {\n        _warnOnce(\"managed row dragging is not possible when doing pagination\");\n        return;\n      }\n    }\n    const rowDragComp = new RowDragComp(\n      () => this.value,\n      this.rowNode,\n      this.column,\n      customElement,\n      dragStartPixels,\n      suppressVisibilityChange\n    );\n    this.beans.context.createBean(rowDragComp);\n    return rowDragComp;\n  }\n  setSuppressRefreshCell(suppressRefreshCell) {\n    this.suppressRefreshCell = suppressRefreshCell;\n  }\n  getEditCompDetails() {\n    return this.editCompDetails;\n  }\n  onCellEditorAttached(callback) {\n    this.onCellEditorAttachedFuncs.push(callback);\n  }\n  cellEditorAttached() {\n    this.onCellEditorAttachedFuncs.forEach((func) => func());\n    this.onCellEditorAttachedFuncs = [];\n  }\n};\n_CellCtrl.DOM_DATA_KEY_CELL_CTRL = \"cellCtrl\";\nvar CellCtrl = _CellCtrl;\n\n// community-modules/core/src/rendering/row/rowCtrl.ts\nvar instanceIdSequence5 = 0;\nvar _RowCtrl = class _RowCtrl extends BeanStub {\n  constructor(rowNode, beans, animateIn, useAnimationFrameForCreate, printLayout) {\n    super();\n    this.allRowGuis = [];\n    this.active = true;\n    this.centerCellCtrls = { list: [], map: {} };\n    this.leftCellCtrls = { list: [], map: {} };\n    this.rightCellCtrls = { list: [], map: {} };\n    this.slideInAnimation = {\n      left: false,\n      center: false,\n      right: false,\n      fullWidth: false\n    };\n    this.fadeInAnimation = {\n      left: false,\n      center: false,\n      right: false,\n      fullWidth: false\n    };\n    this.rowDragComps = [];\n    this.lastMouseDownOnDragger = false;\n    this.emptyStyle = {};\n    this.updateColumnListsPending = false;\n    this.rowId = null;\n    this.businessKeySanitised = null;\n    this.beans = beans;\n    this.gos = beans.gos;\n    this.rowNode = rowNode;\n    this.paginationPage = beans.paginationService?.getCurrentPage() ?? 0;\n    this.useAnimationFrameForCreate = useAnimationFrameForCreate;\n    this.printLayout = printLayout;\n    this.suppressRowTransform = this.gos.get(\"suppressRowTransform\");\n    this.instanceId = rowNode.id + \"-\" + instanceIdSequence5++;\n    this.rowId = _escapeString(rowNode.id);\n    this.initRowBusinessKey();\n    this.rowFocused = beans.focusService.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);\n    this.rowLevel = beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);\n    this.setRowType();\n    this.setAnimateFlags(animateIn);\n    this.rowStyles = this.processStylesFromGridOptions();\n    this.addListeners();\n  }\n  initRowBusinessKey() {\n    this.businessKeyForNodeFunc = this.gos.get(\"getBusinessKeyForNode\");\n    this.updateRowBusinessKey();\n  }\n  updateRowBusinessKey() {\n    if (typeof this.businessKeyForNodeFunc !== \"function\") {\n      return;\n    }\n    const businessKey = this.businessKeyForNodeFunc(this.rowNode);\n    this.businessKeySanitised = _escapeString(businessKey);\n  }\n  getRowId() {\n    return this.rowId;\n  }\n  getRowStyles() {\n    return this.rowStyles;\n  }\n  isSticky() {\n    return this.rowNode.sticky;\n  }\n  updateGui(containerType, gui) {\n    if (containerType === \"left\") {\n      this.leftGui = gui;\n    } else if (containerType === \"right\") {\n      this.rightGui = gui;\n    } else if (containerType === \"fullWidth\") {\n      this.fullWidthGui = gui;\n    } else {\n      this.centerGui = gui;\n    }\n  }\n  setComp(rowComp, element, containerType, compBean) {\n    compBean = setupCompBean(this, this.beans.context, compBean);\n    const gui = { rowComp, element, containerType, compBean };\n    this.allRowGuis.push(gui);\n    this.updateGui(containerType, gui);\n    this.initialiseRowComp(gui);\n    if (this.rowType !== \"FullWidthLoading\" && !this.rowNode.rowPinned) {\n      this.beans.rowRenderer.dispatchFirstDataRenderedEvent();\n    }\n  }\n  unsetComp(containerType) {\n    this.allRowGuis = this.allRowGuis.filter((rowGui) => rowGui.containerType !== containerType);\n    this.updateGui(containerType, void 0);\n  }\n  isCacheable() {\n    return this.rowType === \"FullWidthDetail\" && this.gos.get(\"keepDetailRows\");\n  }\n  setCached(cached) {\n    const displayValue = cached ? \"none\" : \"\";\n    this.allRowGuis.forEach((rg) => rg.element.style.display = displayValue);\n  }\n  initialiseRowComp(gui) {\n    const gos = this.gos;\n    this.onSuppressCellFocusChanged(this.beans.gos.get(\"suppressCellFocus\"));\n    this.listenOnDomOrder(gui);\n    if (this.beans.columnModel.wasAutoRowHeightEverActive()) {\n      this.rowNode.checkAutoHeights();\n    }\n    this.onRowHeightChanged(gui);\n    this.updateRowIndexes(gui);\n    this.setFocusedClasses(gui);\n    this.setStylesFromGridOptions(false, gui);\n    if (_isRowSelection(gos) && this.rowNode.selectable) {\n      this.onRowSelected(gui);\n    }\n    this.updateColumnLists(!this.useAnimationFrameForCreate);\n    const comp = gui.rowComp;\n    const initialRowClasses = this.getInitialRowClasses(gui.containerType);\n    initialRowClasses.forEach((name) => comp.addOrRemoveCssClass(name, true));\n    this.executeSlideAndFadeAnimations(gui);\n    if (this.rowNode.group) {\n      _setAriaExpanded(gui.element, this.rowNode.expanded == true);\n    }\n    this.setRowCompRowId(comp);\n    this.setRowCompRowBusinessKey(comp);\n    _setDomData(gos, gui.element, _RowCtrl.DOM_DATA_KEY_ROW_CTRL, this);\n    gui.compBean.addDestroyFunc(() => _setDomData(gos, gui.element, _RowCtrl.DOM_DATA_KEY_ROW_CTRL, null));\n    if (this.useAnimationFrameForCreate) {\n      this.beans.animationFrameService.createTask(\n        this.addHoverFunctionality.bind(this, gui),\n        this.rowNode.rowIndex,\n        \"createTasksP2\"\n      );\n    } else {\n      this.addHoverFunctionality(gui);\n    }\n    if (this.isFullWidth()) {\n      this.setupFullWidth(gui);\n    }\n    if (gos.get(\"rowDragEntireRow\")) {\n      this.addRowDraggerToRow(gui);\n    }\n    if (this.useAnimationFrameForCreate) {\n      this.beans.animationFrameService.addDestroyTask(() => {\n        if (!this.isAlive()) {\n          return;\n        }\n        gui.rowComp.addOrRemoveCssClass(\"ag-after-created\", true);\n      });\n    }\n    this.executeProcessRowPostCreateFunc();\n  }\n  setRowCompRowBusinessKey(comp) {\n    if (this.businessKeySanitised == null) {\n      return;\n    }\n    comp.setRowBusinessKey(this.businessKeySanitised);\n  }\n  getBusinessKey() {\n    return this.businessKeySanitised;\n  }\n  setRowCompRowId(comp) {\n    this.rowId = _escapeString(this.rowNode.id);\n    if (this.rowId == null) {\n      return;\n    }\n    comp.setRowId(this.rowId);\n  }\n  executeSlideAndFadeAnimations(gui) {\n    const { containerType } = gui;\n    const shouldSlide = this.slideInAnimation[containerType];\n    if (shouldSlide) {\n      _executeNextVMTurn(() => {\n        this.onTopChanged();\n      });\n      this.slideInAnimation[containerType] = false;\n    }\n    const shouldFade = this.fadeInAnimation[containerType];\n    if (shouldFade) {\n      _executeNextVMTurn(() => {\n        gui.rowComp.addOrRemoveCssClass(\"ag-opacity-zero\", false);\n      });\n      this.fadeInAnimation[containerType] = false;\n    }\n  }\n  addRowDraggerToRow(gui) {\n    if (_isCellSelectionEnabled(this.gos)) {\n      _warnOnce(\"Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`\");\n      return;\n    }\n    const translate = this.beans.localeService.getLocaleTextFunc();\n    const rowDragComp = new RowDragComp(\n      () => `1 ${translate(\"rowDragRow\", \"row\")}`,\n      this.rowNode,\n      void 0,\n      gui.element,\n      void 0,\n      true\n    );\n    const rowDragBean = this.createBean(rowDragComp, this.beans.context);\n    this.rowDragComps.push(rowDragBean);\n    gui.compBean.addDestroyFunc(() => {\n      this.rowDragComps = this.rowDragComps.filter((r) => r !== rowDragBean);\n      this.destroyBean(rowDragBean, this.beans.context);\n    });\n  }\n  setupFullWidth(gui) {\n    const pinned = this.getPinnedForContainer(gui.containerType);\n    if (this.rowType == \"FullWidthDetail\") {\n      if (!this.gos.assertModuleRegistered(\n        \"@ag-grid-enterprise/master-detail\" /* MasterDetailModule */,\n        \"cell renderer 'agDetailCellRenderer' (for master detail)\"\n      )) {\n        return;\n      }\n    }\n    const compDetails = this.createFullWidthCompDetails(gui.element, pinned);\n    gui.rowComp.showFullWidth(compDetails);\n  }\n  isPrintLayout() {\n    return this.printLayout;\n  }\n  getFullWidthCellRenderers() {\n    if (this.gos.get(\"embedFullWidthRows\")) {\n      return this.allRowGuis.map((gui) => gui?.rowComp?.getFullWidthCellRenderer());\n    }\n    return [this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()];\n  }\n  // use by autoWidthCalculator, as it clones the elements\n  getCellElement(column) {\n    const cellCtrl = this.getCellCtrl(column);\n    return cellCtrl ? cellCtrl.getGui() : null;\n  }\n  executeProcessRowPostCreateFunc() {\n    const func = this.gos.getCallback(\"processRowPostCreate\");\n    if (!func || !this.areAllContainersReady()) {\n      return;\n    }\n    const params = {\n      // areAllContainersReady asserts that centerGui is not null\n      eRow: this.centerGui.element,\n      ePinnedLeftRow: this.leftGui ? this.leftGui.element : void 0,\n      ePinnedRightRow: this.rightGui ? this.rightGui.element : void 0,\n      node: this.rowNode,\n      rowIndex: this.rowNode.rowIndex,\n      addRenderedRowListener: this.addEventListener.bind(this)\n    };\n    func(params);\n  }\n  areAllContainersReady() {\n    const isLeftReady = !!this.leftGui || !this.beans.visibleColsService.isPinningLeft();\n    const isCenterReady = !!this.centerGui;\n    const isRightReady = !!this.rightGui || !this.beans.visibleColsService.isPinningRight();\n    return isLeftReady && isCenterReady && isRightReady;\n  }\n  isNodeFullWidthCell() {\n    if (this.rowNode.detail) {\n      return true;\n    }\n    const isFullWidthCellFunc = this.beans.gos.getCallback(\"isFullWidthRow\");\n    return isFullWidthCellFunc ? isFullWidthCellFunc({ rowNode: this.rowNode }) : false;\n  }\n  setRowType() {\n    const isStub = this.rowNode.stub && !this.gos.get(\"suppressServerSideFullWidthLoadingRow\") && !this.gos.get(\"groupHideOpenParents\");\n    const isFullWidthCell = this.isNodeFullWidthCell();\n    const isDetailCell = this.gos.get(\"masterDetail\") && this.rowNode.detail;\n    const pivotMode = this.beans.columnModel.isPivotMode();\n    const isGroupRow = !!this.rowNode.group && !this.rowNode.footer;\n    const isFullWidthGroup = isGroupRow && _isGroupUseEntireRow(this.gos, pivotMode);\n    if (isStub) {\n      this.rowType = \"FullWidthLoading\";\n    } else if (isDetailCell) {\n      this.rowType = \"FullWidthDetail\";\n    } else if (isFullWidthCell) {\n      this.rowType = \"FullWidth\";\n    } else if (isFullWidthGroup) {\n      this.rowType = \"FullWidthGroup\";\n    } else {\n      this.rowType = \"Normal\";\n    }\n  }\n  updateColumnLists(suppressAnimationFrame = false, useFlushSync = false) {\n    if (this.isFullWidth()) {\n      return;\n    }\n    const noAnimation = suppressAnimationFrame || this.gos.get(\"suppressAnimationFrame\") || this.printLayout;\n    if (noAnimation) {\n      this.updateColumnListsImpl(useFlushSync);\n      return;\n    }\n    if (this.updateColumnListsPending) {\n      return;\n    }\n    this.beans.animationFrameService.createTask(\n      () => {\n        if (!this.active) {\n          return;\n        }\n        this.updateColumnListsImpl(true);\n      },\n      this.rowNode.rowIndex,\n      \"createTasksP1\"\n    );\n    this.updateColumnListsPending = true;\n  }\n  createCellCtrls(prev, cols, pinned = null) {\n    const res = {\n      list: [],\n      map: {}\n    };\n    const addCell = (colInstanceId, cellCtrl, index) => {\n      if (index != null) {\n        res.list.splice(index, 0, cellCtrl);\n      } else {\n        res.list.push(cellCtrl);\n      }\n      res.map[colInstanceId] = cellCtrl;\n    };\n    const colsFromPrev = [];\n    for (const col of cols) {\n      const colInstanceId = col.getInstanceId();\n      let cellCtrl = prev.map[colInstanceId];\n      if (!cellCtrl) {\n        cellCtrl = new CellCtrl(col, this.rowNode, this.beans, this);\n      }\n      addCell(colInstanceId, cellCtrl);\n    }\n    for (const prevCellCtrl of prev.list) {\n      const colInstanceId = prevCellCtrl.getColumn().getInstanceId();\n      const cellInResult = res.map[colInstanceId] != null;\n      if (cellInResult) {\n        continue;\n      }\n      const keepCell = !this.isCellEligibleToBeRemoved(prevCellCtrl, pinned);\n      if (keepCell) {\n        colsFromPrev.push([colInstanceId, prevCellCtrl]);\n      } else {\n        prevCellCtrl.destroy();\n      }\n    }\n    if (colsFromPrev.length) {\n      for (const [colInstanceId, cellCtrl] of colsFromPrev) {\n        const index = res.list.findIndex(\n          (ctrl) => ctrl.getColumn().getLeft() > cellCtrl.getColumn().getLeft()\n        );\n        const normalisedIndex = index === -1 ? void 0 : Math.max(index - 1, 0);\n        addCell(colInstanceId, cellCtrl, normalisedIndex);\n      }\n    }\n    return res;\n  }\n  updateColumnListsImpl(useFlushSync) {\n    this.updateColumnListsPending = false;\n    this.createAllCellCtrls();\n    this.setCellCtrls(useFlushSync);\n  }\n  setCellCtrls(useFlushSync) {\n    this.allRowGuis.forEach((item) => {\n      const cellControls = this.getCellCtrlsForContainer(item.containerType);\n      item.rowComp.setCellCtrls(cellControls, useFlushSync);\n    });\n  }\n  getCellCtrlsForContainer(containerType) {\n    switch (containerType) {\n      case \"left\":\n        return this.leftCellCtrls.list;\n      case \"right\":\n        return this.rightCellCtrls.list;\n      case \"fullWidth\":\n        return [];\n      case \"center\":\n        return this.centerCellCtrls.list;\n    }\n  }\n  createAllCellCtrls() {\n    const columnViewportService = this.beans.columnViewportService;\n    const presentedColsService = this.beans.visibleColsService;\n    if (this.printLayout) {\n      this.centerCellCtrls = this.createCellCtrls(this.centerCellCtrls, presentedColsService.getAllCols());\n      this.leftCellCtrls = { list: [], map: {} };\n      this.rightCellCtrls = { list: [], map: {} };\n    } else {\n      const centerCols = columnViewportService.getColsWithinViewport(this.rowNode);\n      this.centerCellCtrls = this.createCellCtrls(this.centerCellCtrls, centerCols);\n      const leftCols = presentedColsService.getLeftColsForRow(this.rowNode);\n      this.leftCellCtrls = this.createCellCtrls(this.leftCellCtrls, leftCols, \"left\");\n      const rightCols = presentedColsService.getRightColsForRow(this.rowNode);\n      this.rightCellCtrls = this.createCellCtrls(this.rightCellCtrls, rightCols, \"right\");\n    }\n  }\n  isCellEligibleToBeRemoved(cellCtrl, nextContainerPinned) {\n    const REMOVE_CELL = true;\n    const KEEP_CELL = false;\n    const column = cellCtrl.getColumn();\n    if (column.getPinned() != nextContainerPinned) {\n      return REMOVE_CELL;\n    }\n    const editing = cellCtrl.isEditing();\n    const focused = this.beans.focusService.isCellFocused(cellCtrl.getCellPosition());\n    const mightWantToKeepCell = editing || focused;\n    if (mightWantToKeepCell) {\n      const column2 = cellCtrl.getColumn();\n      const displayedColumns = this.beans.visibleColsService.getAllCols();\n      const cellStillDisplayed = displayedColumns.indexOf(column2) >= 0;\n      return cellStillDisplayed ? KEEP_CELL : REMOVE_CELL;\n    }\n    return REMOVE_CELL;\n  }\n  getDomOrder() {\n    const isEnsureDomOrder = this.gos.get(\"ensureDomOrder\");\n    return isEnsureDomOrder || _isDomLayout(this.gos, \"print\");\n  }\n  listenOnDomOrder(gui) {\n    const listener = () => {\n      gui.rowComp.setDomOrder(this.getDomOrder());\n    };\n    gui.compBean.addManagedPropertyListeners([\"domLayout\", \"ensureDomOrder\"], listener);\n  }\n  setAnimateFlags(animateIn) {\n    if (this.isSticky() || !animateIn) {\n      return;\n    }\n    const oldRowTopExists = _exists(this.rowNode.oldRowTop);\n    const pinningLeft = this.beans.visibleColsService.isPinningLeft();\n    const pinningRight = this.beans.visibleColsService.isPinningRight();\n    if (oldRowTopExists) {\n      if (this.isFullWidth() && !this.gos.get(\"embedFullWidthRows\")) {\n        this.slideInAnimation.fullWidth = true;\n        return;\n      }\n      this.slideInAnimation.center = true;\n      this.slideInAnimation.left = pinningLeft;\n      this.slideInAnimation.right = pinningRight;\n    } else {\n      if (this.isFullWidth() && !this.gos.get(\"embedFullWidthRows\")) {\n        this.fadeInAnimation.fullWidth = true;\n        return;\n      }\n      this.fadeInAnimation.center = true;\n      this.fadeInAnimation.left = pinningLeft;\n      this.fadeInAnimation.right = pinningRight;\n    }\n  }\n  isEditing() {\n    return this.editingRow;\n  }\n  isFullWidth() {\n    return this.rowType !== \"Normal\";\n  }\n  refreshFullWidth() {\n    const tryRefresh = (gui, pinned) => {\n      if (!gui) {\n        return true;\n      }\n      return gui.rowComp.refreshFullWidth(() => {\n        const compDetails = this.createFullWidthCompDetails(gui.element, pinned);\n        return compDetails.params;\n      });\n    };\n    const fullWidthSuccess = tryRefresh(this.fullWidthGui, null);\n    const centerSuccess = tryRefresh(this.centerGui, null);\n    const leftSuccess = tryRefresh(this.leftGui, \"left\");\n    const rightSuccess = tryRefresh(this.rightGui, \"right\");\n    const allFullWidthRowsRefreshed = fullWidthSuccess && centerSuccess && leftSuccess && rightSuccess;\n    return allFullWidthRowsRefreshed;\n  }\n  addListeners() {\n    this.addManagedListeners(this.rowNode, {\n      heightChanged: () => this.onRowHeightChanged(),\n      rowSelected: () => this.onRowSelected(),\n      rowIndexChanged: this.onRowIndexChanged.bind(this),\n      topChanged: this.onTopChanged.bind(this),\n      expandedChanged: this.updateExpandedCss.bind(this),\n      hasChildrenChanged: this.updateExpandedCss.bind(this)\n    });\n    if (this.rowNode.detail) {\n      this.addManagedListeners(this.rowNode.parent, { dataChanged: this.onRowNodeDataChanged.bind(this) });\n    }\n    this.addManagedListeners(this.rowNode, {\n      dataChanged: this.onRowNodeDataChanged.bind(this),\n      cellChanged: this.postProcessCss.bind(this),\n      rowHighlightChanged: this.onRowNodeHighlightChanged.bind(this),\n      draggingChanged: this.postProcessRowDragging.bind(this),\n      uiLevelChanged: this.onUiLevelChanged.bind(this)\n    });\n    this.addManagedListeners(this.beans.eventService, {\n      paginationPixelOffsetChanged: this.onPaginationPixelOffsetChanged.bind(this),\n      heightScaleChanged: this.onTopChanged.bind(this),\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this),\n      virtualColumnsChanged: this.onVirtualColumnsChanged.bind(this),\n      cellFocused: this.onCellFocusChanged.bind(this),\n      cellFocusCleared: this.onCellFocusChanged.bind(this),\n      paginationChanged: this.onPaginationChanged.bind(this),\n      modelUpdated: this.refreshFirstAndLastRowStyles.bind(this),\n      columnMoved: () => this.updateColumnLists()\n    });\n    this.addDestroyFunc(() => {\n      this.rowDragComps = this.destroyBeans(this.rowDragComps, this.beans.context);\n      if (this.tooltipFeature) {\n        this.tooltipFeature = this.destroyBean(this.tooltipFeature, this.beans.context);\n      }\n    });\n    this.addManagedPropertyListeners(\n      [\"rowStyle\", \"getRowStyle\", \"rowClass\", \"getRowClass\", \"rowClassRules\"],\n      this.postProcessCss.bind(this)\n    );\n    this.addManagedPropertyListener(\"rowDragEntireRow\", () => {\n      const useRowDragEntireRow = this.gos.get(\"rowDragEntireRow\");\n      if (useRowDragEntireRow) {\n        this.allRowGuis.forEach((gui) => {\n          this.addRowDraggerToRow(gui);\n        });\n        return;\n      }\n      this.rowDragComps = this.destroyBeans(this.rowDragComps, this.beans.context);\n    });\n    this.addListenersForCellComps();\n  }\n  addListenersForCellComps() {\n    this.addManagedListeners(this.rowNode, {\n      rowIndexChanged: () => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onRowIndexChanged());\n      },\n      cellChanged: (event) => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onCellChanged(event));\n      }\n    });\n  }\n  onRowNodeDataChanged(event) {\n    const fullWidthChanged = this.isFullWidth() !== !!this.isNodeFullWidthCell();\n    if (fullWidthChanged) {\n      this.beans.rowRenderer.redrawRow(this.rowNode);\n      return;\n    }\n    if (this.isFullWidth()) {\n      const refresh = this.refreshFullWidth();\n      if (!refresh) {\n        this.beans.rowRenderer.redrawRow(this.rowNode);\n      }\n      return;\n    }\n    this.getAllCellCtrls().forEach(\n      (cellCtrl) => cellCtrl.refreshCell({\n        suppressFlash: !event.update,\n        newData: !event.update\n      })\n    );\n    this.allRowGuis.forEach((gui) => {\n      this.setRowCompRowId(gui.rowComp);\n      this.updateRowBusinessKey();\n      this.setRowCompRowBusinessKey(gui.rowComp);\n    });\n    this.onRowSelected();\n    this.postProcessCss();\n  }\n  postProcessCss() {\n    this.setStylesFromGridOptions(true);\n    this.postProcessClassesFromGridOptions();\n    this.postProcessRowClassRules();\n    this.postProcessRowDragging();\n  }\n  onRowNodeHighlightChanged() {\n    const highlighted = this.rowNode.highlighted;\n    this.allRowGuis.forEach((gui) => {\n      const aboveOn = highlighted === 0 /* Above */;\n      const belowOn = highlighted === 1 /* Below */;\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-highlight-above\", aboveOn);\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-highlight-below\", belowOn);\n    });\n  }\n  postProcessRowDragging() {\n    const dragging = this.rowNode.dragging;\n    this.allRowGuis.forEach((gui) => gui.rowComp.addOrRemoveCssClass(\"ag-row-dragging\", dragging));\n  }\n  updateExpandedCss() {\n    const expandable = this.rowNode.isExpandable();\n    const expanded = this.rowNode.expanded == true;\n    this.allRowGuis.forEach((gui) => {\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-group\", expandable);\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-group-expanded\", expandable && expanded);\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-group-contracted\", expandable && !expanded);\n      _setAriaExpanded(gui.element, expandable && expanded);\n    });\n  }\n  onDisplayedColumnsChanged() {\n    this.updateColumnLists(true);\n    if (this.beans.columnModel.wasAutoRowHeightEverActive()) {\n      this.rowNode.checkAutoHeights();\n    }\n  }\n  onVirtualColumnsChanged() {\n    this.updateColumnLists(false, true);\n  }\n  getRowPosition() {\n    return {\n      rowPinned: _makeNull(this.rowNode.rowPinned),\n      rowIndex: this.rowNode.rowIndex\n    };\n  }\n  findFullWidthRowGui(target) {\n    return this.allRowGuis.find((c) => c.element.contains(target));\n  }\n  onKeyboardNavigate(keyboardEvent) {\n    const currentFullWidthComp = this.findFullWidthRowGui(keyboardEvent.target);\n    const currentFullWidthContainer = currentFullWidthComp ? currentFullWidthComp.element : null;\n    const isFullWidthContainerFocused = currentFullWidthContainer === keyboardEvent.target;\n    if (!isFullWidthContainerFocused) {\n      return;\n    }\n    const node = this.rowNode;\n    const lastFocusedCell = this.beans.focusService.getFocusedCell();\n    const cellPosition = {\n      rowIndex: node.rowIndex,\n      rowPinned: node.rowPinned,\n      column: lastFocusedCell?.column ?? this.getColumnForFullWidth(currentFullWidthComp)\n    };\n    this.beans.navigationService.navigateToNextCell(keyboardEvent, keyboardEvent.key, cellPosition, true);\n    keyboardEvent.preventDefault();\n  }\n  onTabKeyDown(keyboardEvent) {\n    if (keyboardEvent.defaultPrevented || _isStopPropagationForAgGrid(keyboardEvent)) {\n      return;\n    }\n    const currentFullWidthComp = this.allRowGuis.find(\n      (c) => c.element.contains(keyboardEvent.target)\n    );\n    const currentFullWidthContainer = currentFullWidthComp ? currentFullWidthComp.element : null;\n    const isFullWidthContainerFocused = currentFullWidthContainer === keyboardEvent.target;\n    const activeEl = _getActiveDomElement(this.gos);\n    let isDetailGridCellFocused = false;\n    if (currentFullWidthContainer && activeEl) {\n      isDetailGridCellFocused = currentFullWidthContainer.contains(activeEl) && activeEl.classList.contains(\"ag-cell\");\n    }\n    let nextEl = null;\n    if (!isFullWidthContainerFocused && !isDetailGridCellFocused) {\n      nextEl = this.beans.focusService.findNextFocusableElement(\n        currentFullWidthContainer,\n        false,\n        keyboardEvent.shiftKey\n      );\n    }\n    if (this.isFullWidth() && isFullWidthContainerFocused || !nextEl) {\n      this.beans.navigationService.onTabKeyDown(this, keyboardEvent);\n    }\n  }\n  getFullWidthElement() {\n    if (this.fullWidthGui) {\n      return this.fullWidthGui.element;\n    }\n    return null;\n  }\n  getRowYPosition() {\n    const displayedEl = this.allRowGuis.find((el) => _isVisible(el.element))?.element;\n    if (displayedEl) {\n      return displayedEl.getBoundingClientRect().top;\n    }\n    return 0;\n  }\n  onSuppressCellFocusChanged(suppressCellFocus) {\n    const tabIndex = this.isFullWidth() && suppressCellFocus ? void 0 : -1;\n    this.allRowGuis.forEach((gui) => {\n      _addOrRemoveAttribute(gui.element, \"tabindex\", tabIndex);\n    });\n  }\n  onFullWidthRowFocused(event) {\n    const node = this.rowNode;\n    const isFocused = !event ? false : this.isFullWidth() && event.rowIndex === node.rowIndex && event.rowPinned == node.rowPinned;\n    const element = this.fullWidthGui ? this.fullWidthGui.element : this.centerGui?.element;\n    if (!element) {\n      return;\n    }\n    element.classList.toggle(\"ag-full-width-focus\", isFocused);\n    if (isFocused && event?.forceBrowserFocus) {\n      element.focus({ preventScroll: true });\n    }\n  }\n  recreateCell(cellCtrl) {\n    this.centerCellCtrls = this.removeCellCtrl(this.centerCellCtrls, cellCtrl);\n    this.leftCellCtrls = this.removeCellCtrl(this.leftCellCtrls, cellCtrl);\n    this.rightCellCtrls = this.removeCellCtrl(this.rightCellCtrls, cellCtrl);\n    cellCtrl.destroy();\n    this.updateColumnLists();\n  }\n  removeCellCtrl(prev, cellCtrlToRemove) {\n    const res = {\n      list: [],\n      map: {}\n    };\n    prev.list.forEach((cellCtrl) => {\n      if (cellCtrl === cellCtrlToRemove) {\n        return;\n      }\n      res.list.push(cellCtrl);\n      res.map[cellCtrl.getColumn().getInstanceId()] = cellCtrl;\n    });\n    return res;\n  }\n  onMouseEvent(eventName, mouseEvent) {\n    switch (eventName) {\n      case \"dblclick\":\n        this.onRowDblClick(mouseEvent);\n        break;\n      case \"click\":\n        this.onRowClick(mouseEvent);\n        break;\n      case \"touchstart\":\n      case \"mousedown\":\n        this.onRowMouseDown(mouseEvent);\n        break;\n    }\n  }\n  createRowEvent(type, domEvent) {\n    return this.gos.addGridCommonParams({\n      type,\n      node: this.rowNode,\n      data: this.rowNode.data,\n      rowIndex: this.rowNode.rowIndex,\n      rowPinned: this.rowNode.rowPinned,\n      event: domEvent\n    });\n  }\n  createRowEventWithSource(type, domEvent) {\n    const event = this.createRowEvent(type, domEvent);\n    event.source = this;\n    return event;\n  }\n  onRowDblClick(mouseEvent) {\n    if (_isStopPropagationForAgGrid(mouseEvent)) {\n      return;\n    }\n    this.beans.eventService.dispatchEvent(this.createRowEventWithSource(\"rowDoubleClicked\", mouseEvent));\n  }\n  getColumnForFullWidth(fullWidthRowGui) {\n    const { visibleColsService } = this.beans;\n    switch (fullWidthRowGui?.containerType) {\n      case \"center\":\n        return visibleColsService.getCenterCols()[0];\n      case \"left\":\n        return visibleColsService.getLeftCols()[0];\n      case \"right\":\n        return visibleColsService.getRightCols()[0];\n      default:\n        return visibleColsService.getAllCols()[0];\n    }\n  }\n  onRowMouseDown(mouseEvent) {\n    this.lastMouseDownOnDragger = _isElementChildOfClass(mouseEvent.target, \"ag-row-drag\", 3);\n    if (!this.isFullWidth()) {\n      return;\n    }\n    const node = this.rowNode;\n    if (this.beans.rangeService) {\n      this.beans.rangeService.removeAllCellRanges();\n    }\n    const fullWidthRowGui = this.findFullWidthRowGui(mouseEvent.target);\n    const element = fullWidthRowGui?.element;\n    const target = mouseEvent.target;\n    let forceBrowserFocus = true;\n    if (element && element.contains(target) && _isFocusableFormField(target)) {\n      forceBrowserFocus = false;\n    }\n    this.beans.focusService.setFocusedCell({\n      rowIndex: node.rowIndex,\n      column: this.getColumnForFullWidth(fullWidthRowGui),\n      rowPinned: node.rowPinned,\n      forceBrowserFocus\n    });\n  }\n  onRowClick(mouseEvent) {\n    const stop = _isStopPropagationForAgGrid(mouseEvent) || this.lastMouseDownOnDragger;\n    if (stop) {\n      return;\n    }\n    const { gos } = this;\n    this.beans.eventService.dispatchEvent(this.createRowEventWithSource(\"rowClicked\", mouseEvent));\n    const isMultiKey = mouseEvent.ctrlKey || mouseEvent.metaKey;\n    const isShiftKey = mouseEvent.shiftKey;\n    const isSelected = this.rowNode.isSelected();\n    const groupSelectsChildren = _getGroupSelectsDescendants(gos);\n    const rowDeselectionWithCtrl = _getEnableDeselection(gos);\n    const rowClickSelection = _getEnableSelection(gos);\n    if (\n      // we do not allow selecting groups by clicking (as the click here expands the group), or if it's a detail row,\n      // so return if it's a group row\n      groupSelectsChildren && this.rowNode.group || this.isRowSelectionBlocked() || // if selecting and click selection disabled, do nothing\n      !rowClickSelection && !isSelected || // if deselecting and click deselection disabled, do nothing\n      !rowDeselectionWithCtrl && isSelected\n    ) {\n      return;\n    }\n    const multiSelectOnClick = _getEnableSelectionWithoutKeys(gos);\n    const source = \"rowClicked\";\n    if (isSelected) {\n      if (multiSelectOnClick) {\n        this.rowNode.setSelectedParams({ newValue: false, event: mouseEvent, source });\n      } else if (isMultiKey) {\n        if (rowDeselectionWithCtrl) {\n          this.rowNode.setSelectedParams({ newValue: false, event: mouseEvent, source });\n        }\n      } else if (rowClickSelection) {\n        this.rowNode.setSelectedParams({\n          newValue: true,\n          clearSelection: !isShiftKey,\n          rangeSelect: isShiftKey,\n          event: mouseEvent,\n          source\n        });\n      }\n    } else {\n      const clearSelection = multiSelectOnClick ? false : !isMultiKey;\n      this.rowNode.setSelectedParams({\n        newValue: true,\n        clearSelection,\n        rangeSelect: isShiftKey,\n        event: mouseEvent,\n        source\n      });\n    }\n  }\n  isRowSelectionBlocked() {\n    return !this.rowNode.selectable || !!this.rowNode.rowPinned || !_isRowSelection(this.gos);\n  }\n  setupDetailRowAutoHeight(eDetailGui) {\n    if (this.rowType !== \"FullWidthDetail\") {\n      return;\n    }\n    if (!this.gos.get(\"detailRowAutoHeight\")) {\n      return;\n    }\n    const checkRowSizeFunc = () => {\n      const clientHeight = eDetailGui.clientHeight;\n      if (clientHeight != null && clientHeight > 0) {\n        const updateRowHeightFunc = () => {\n          this.rowNode.setRowHeight(clientHeight);\n          if (_isClientSideRowModel(this.gos) || _isServerSideRowModel(this.gos)) {\n            this.beans.rowModel.onRowHeightChanged();\n          }\n        };\n        window.setTimeout(updateRowHeightFunc, 0);\n      }\n    };\n    const resizeObserverDestroyFunc = this.beans.resizeObserverService.observeResize(eDetailGui, checkRowSizeFunc);\n    this.addDestroyFunc(resizeObserverDestroyFunc);\n    checkRowSizeFunc();\n  }\n  createFullWidthCompDetails(eRow, pinned) {\n    const { gos, rowNode } = this;\n    const params = gos.addGridCommonParams({\n      fullWidth: true,\n      data: rowNode.data,\n      node: rowNode,\n      value: rowNode.key,\n      valueFormatted: rowNode.key,\n      // these need to be taken out, as part of 'afterAttached' now\n      eGridCell: eRow,\n      eParentOfValue: eRow,\n      pinned,\n      addRenderedRowListener: this.addEventListener.bind(this),\n      registerRowDragger: (rowDraggerElement, dragStartPixels, value, suppressVisibilityChange) => this.addFullWidthRowDragging(rowDraggerElement, dragStartPixels, value, suppressVisibilityChange),\n      setTooltip: (value, shouldDisplayTooltip) => this.refreshRowTooltip(value, shouldDisplayTooltip)\n    });\n    const compFactory = this.beans.userComponentFactory;\n    switch (this.rowType) {\n      case \"FullWidthDetail\":\n        return compFactory.getFullWidthDetailCellRendererDetails(params);\n      case \"FullWidthGroup\":\n        return compFactory.getFullWidthGroupCellRendererDetails(params);\n      case \"FullWidthLoading\":\n        return compFactory.getFullWidthLoadingCellRendererDetails(params);\n      default:\n        return compFactory.getFullWidthCellRendererDetails(params);\n    }\n  }\n  refreshRowTooltip(value, shouldDisplayTooltip) {\n    if (!this.fullWidthGui) {\n      return;\n    }\n    const tooltipParams = {\n      getGui: () => this.fullWidthGui.element,\n      getTooltipValue: () => value,\n      getLocation: () => \"fullWidthRow\",\n      shouldDisplayTooltip\n    };\n    if (this.tooltipFeature) {\n      this.destroyBean(this.tooltipFeature, this.beans.context);\n    }\n    this.tooltipFeature = this.createBean(new TooltipFeature(tooltipParams, this.beans));\n  }\n  addFullWidthRowDragging(rowDraggerElement, dragStartPixels, value = \"\", suppressVisibilityChange) {\n    if (!this.isFullWidth()) {\n      return;\n    }\n    const rowDragComp = new RowDragComp(\n      () => value,\n      this.rowNode,\n      void 0,\n      rowDraggerElement,\n      dragStartPixels,\n      suppressVisibilityChange\n    );\n    this.createBean(rowDragComp, this.beans.context);\n    this.addDestroyFunc(() => {\n      this.destroyBean(rowDragComp, this.beans.context);\n    });\n  }\n  onUiLevelChanged() {\n    const newLevel = this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);\n    if (this.rowLevel != newLevel) {\n      const classToAdd = \"ag-row-level-\" + newLevel;\n      const classToRemove = \"ag-row-level-\" + this.rowLevel;\n      this.allRowGuis.forEach((gui) => {\n        gui.rowComp.addOrRemoveCssClass(classToAdd, true);\n        gui.rowComp.addOrRemoveCssClass(classToRemove, false);\n      });\n    }\n    this.rowLevel = newLevel;\n  }\n  isFirstRowOnPage() {\n    return this.rowNode.rowIndex === this.beans.pageBoundsService.getFirstRow();\n  }\n  isLastRowOnPage() {\n    return this.rowNode.rowIndex === this.beans.pageBoundsService.getLastRow();\n  }\n  refreshFirstAndLastRowStyles() {\n    const newFirst = this.isFirstRowOnPage();\n    const newLast = this.isLastRowOnPage();\n    if (this.firstRowOnPage !== newFirst) {\n      this.firstRowOnPage = newFirst;\n      this.allRowGuis.forEach((gui) => gui.rowComp.addOrRemoveCssClass(\"ag-row-first\", newFirst));\n    }\n    if (this.lastRowOnPage !== newLast) {\n      this.lastRowOnPage = newLast;\n      this.allRowGuis.forEach((gui) => gui.rowComp.addOrRemoveCssClass(\"ag-row-last\", newLast));\n    }\n  }\n  stopEditing(cancel = false) {\n    if (this.stoppingRowEdit) {\n      return;\n    }\n    this.beans.rowEditService?.stopEditing(this, cancel);\n  }\n  setInlineEditingCss() {\n    const editing = this.editingRow || this.getAllCellCtrls().some((cellCtrl) => cellCtrl.isEditing());\n    this.allRowGuis.forEach((gui) => {\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-inline-editing\", editing);\n      gui.rowComp.addOrRemoveCssClass(\"ag-row-not-inline-editing\", !editing);\n    });\n  }\n  setEditingRow(value) {\n    this.editingRow = value;\n  }\n  startRowEditing(key = null, sourceRenderedCell = null, event = null) {\n    if (this.editingRow) {\n      return true;\n    }\n    return this.beans.rowEditService?.startEditing(this, key, sourceRenderedCell, event) ?? true;\n  }\n  getAllCellCtrls() {\n    if (this.leftCellCtrls.list.length === 0 && this.rightCellCtrls.list.length === 0) {\n      return this.centerCellCtrls.list;\n    }\n    const res = [...this.centerCellCtrls.list, ...this.leftCellCtrls.list, ...this.rightCellCtrls.list];\n    return res;\n  }\n  postProcessClassesFromGridOptions() {\n    const cssClasses = this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);\n    if (!cssClasses || !cssClasses.length) {\n      return;\n    }\n    cssClasses.forEach((classStr) => {\n      this.allRowGuis.forEach((c) => c.rowComp.addOrRemoveCssClass(classStr, true));\n    });\n  }\n  postProcessRowClassRules() {\n    this.beans.rowCssClassCalculator.processRowClassRules(\n      this.rowNode,\n      (className) => {\n        this.allRowGuis.forEach((gui) => gui.rowComp.addOrRemoveCssClass(className, true));\n      },\n      (className) => {\n        this.allRowGuis.forEach((gui) => gui.rowComp.addOrRemoveCssClass(className, false));\n      }\n    );\n  }\n  setStylesFromGridOptions(updateStyles, gui) {\n    if (updateStyles) {\n      this.rowStyles = this.processStylesFromGridOptions();\n    }\n    this.forEachGui(gui, (gui2) => gui2.rowComp.setUserStyles(this.rowStyles));\n  }\n  getPinnedForContainer(rowContainerType) {\n    if (rowContainerType === \"left\" || rowContainerType === \"right\") {\n      return rowContainerType;\n    }\n    return null;\n  }\n  getInitialRowClasses(rowContainerType) {\n    const pinned = this.getPinnedForContainer(rowContainerType);\n    const params = {\n      rowNode: this.rowNode,\n      rowFocused: this.rowFocused,\n      fadeRowIn: this.fadeInAnimation[rowContainerType],\n      rowIsEven: this.rowNode.rowIndex % 2 === 0,\n      rowLevel: this.rowLevel,\n      fullWidthRow: this.isFullWidth(),\n      firstRowOnPage: this.isFirstRowOnPage(),\n      lastRowOnPage: this.isLastRowOnPage(),\n      printLayout: this.printLayout,\n      expandable: this.rowNode.isExpandable(),\n      pinned\n    };\n    return this.beans.rowCssClassCalculator.getInitialRowClasses(params);\n  }\n  processStylesFromGridOptions() {\n    const rowStyle = this.gos.get(\"rowStyle\");\n    if (rowStyle && typeof rowStyle === \"function\") {\n      _warnOnce(\"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead\");\n      return;\n    }\n    const rowStyleFunc = this.gos.getCallback(\"getRowStyle\");\n    let rowStyleFuncResult;\n    if (rowStyleFunc) {\n      const params = {\n        data: this.rowNode.data,\n        node: this.rowNode,\n        rowIndex: this.rowNode.rowIndex\n      };\n      rowStyleFuncResult = rowStyleFunc(params);\n    }\n    if (rowStyleFuncResult || rowStyle) {\n      return Object.assign({}, rowStyle, rowStyleFuncResult);\n    }\n    return this.emptyStyle;\n  }\n  onRowSelected(gui) {\n    const selected = !!this.rowNode.isSelected();\n    this.forEachGui(gui, (gui2) => {\n      gui2.rowComp.addOrRemoveCssClass(\"ag-row-selected\", selected);\n      _setAriaSelected(gui2.element, selected);\n      const hasFocus = gui2.element.contains(_getActiveDomElement(this.gos));\n      if (hasFocus && (gui2 === this.centerGui || gui2 === this.fullWidthGui)) {\n        this.announceDescription();\n      }\n    });\n  }\n  announceDescription() {\n    if (this.isRowSelectionBlocked()) {\n      return;\n    }\n    const selected = this.rowNode.isSelected();\n    if (selected && !_getEnableDeselection(this.gos)) {\n      return;\n    }\n    const translate = this.beans.localeService.getLocaleTextFunc();\n    const label = translate(\n      selected ? \"ariaRowDeselect\" : \"ariaRowSelect\",\n      `Press SPACE to ${selected ? \"deselect\" : \"select\"} this row.`\n    );\n    this.beans.ariaAnnouncementService.announceValue(label, \"rowSelection\");\n  }\n  addHoverFunctionality(eGui) {\n    if (!this.active) {\n      return;\n    }\n    const { element, compBean } = eGui;\n    const { rowNode, beans, gos } = this;\n    compBean.addManagedListeners(element, {\n      mouseenter: () => rowNode.onMouseEnter(),\n      mouseleave: () => rowNode.onMouseLeave()\n    });\n    compBean.addManagedListeners(rowNode, {\n      mouseEnter: () => {\n        if (!beans.dragService.isDragging() && !gos.get(\"suppressRowHoverHighlight\")) {\n          element.classList.add(\"ag-row-hover\");\n          rowNode.setHovered(true);\n        }\n      },\n      mouseLeave: () => {\n        element.classList.remove(\"ag-row-hover\");\n        rowNode.setHovered(false);\n      }\n    });\n  }\n  // for animation, we don't want to animate entry or exit to a very far away pixel,\n  // otherwise the row would move so fast, it would appear to disappear. so this method\n  // moves the row closer to the viewport if it is far away, so the row slide in / out\n  // at a speed the user can see.\n  roundRowTopToBounds(rowTop) {\n    const range = this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition();\n    const minPixel = this.applyPaginationOffset(range.top, true) - 100;\n    const maxPixel = this.applyPaginationOffset(range.bottom, true) + 100;\n    return Math.min(Math.max(minPixel, rowTop), maxPixel);\n  }\n  getFrameworkOverrides() {\n    return this.beans.frameworkOverrides;\n  }\n  forEachGui(gui, callback) {\n    if (gui) {\n      callback(gui);\n    } else {\n      this.allRowGuis.forEach(callback);\n    }\n  }\n  onRowHeightChanged(gui) {\n    if (this.rowNode.rowHeight == null) {\n      return;\n    }\n    const rowHeight = this.rowNode.rowHeight;\n    const defaultRowHeight = this.beans.environment.getDefaultRowHeight();\n    const isHeightFromFunc = _isGetRowHeightFunction(this.gos);\n    const heightFromFunc = isHeightFromFunc ? _getRowHeightForNode(this.gos, this.rowNode).height : void 0;\n    const lineHeight = heightFromFunc ? `${Math.min(defaultRowHeight, heightFromFunc) - 2}px` : void 0;\n    this.forEachGui(gui, (gui2) => {\n      gui2.element.style.height = `${rowHeight}px`;\n      if (lineHeight) {\n        gui2.element.style.setProperty(\"--ag-line-height\", lineHeight);\n      }\n    });\n  }\n  addEventListener(eventType, listener) {\n    super.addEventListener(eventType, listener);\n  }\n  removeEventListener(eventType, listener) {\n    super.removeEventListener(eventType, listener);\n  }\n  // note - this is NOT called by context, as we don't wire / unwire the CellComp for performance reasons.\n  destroyFirstPass(suppressAnimation = false) {\n    this.active = false;\n    if (!suppressAnimation && _isAnimateRows(this.gos) && !this.isSticky()) {\n      const rowStillVisibleJustNotInViewport = this.rowNode.rowTop != null;\n      if (rowStillVisibleJustNotInViewport) {\n        const rowTop = this.roundRowTopToBounds(this.rowNode.rowTop);\n        this.setRowTop(rowTop);\n      } else {\n        this.allRowGuis.forEach((gui) => gui.rowComp.addOrRemoveCssClass(\"ag-opacity-zero\", true));\n      }\n    }\n    this.rowNode.setHovered(false);\n    const event = this.createRowEvent(\"virtualRowRemoved\");\n    this.dispatchLocalEvent(event);\n    this.beans.eventService.dispatchEvent(event);\n    super.destroy();\n  }\n  destroySecondPass() {\n    this.allRowGuis.length = 0;\n    this.stopEditing();\n    const destroyCellCtrls = (ctrls) => {\n      ctrls.list.forEach((c) => c.destroy());\n      return { list: [], map: {} };\n    };\n    this.centerCellCtrls = destroyCellCtrls(this.centerCellCtrls);\n    this.leftCellCtrls = destroyCellCtrls(this.leftCellCtrls);\n    this.rightCellCtrls = destroyCellCtrls(this.rightCellCtrls);\n  }\n  setFocusedClasses(gui) {\n    this.forEachGui(gui, (gui2) => {\n      gui2.rowComp.addOrRemoveCssClass(\"ag-row-focus\", this.rowFocused);\n      gui2.rowComp.addOrRemoveCssClass(\"ag-row-no-focus\", !this.rowFocused);\n    });\n  }\n  onCellFocusChanged() {\n    const rowFocused = this.beans.focusService.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);\n    if (rowFocused !== this.rowFocused) {\n      this.rowFocused = rowFocused;\n      this.setFocusedClasses();\n    }\n    if (!rowFocused && this.editingRow) {\n      this.stopEditing(false);\n    }\n  }\n  onPaginationChanged() {\n    const currentPage = this.beans.paginationService?.getCurrentPage() ?? 0;\n    if (this.paginationPage !== currentPage) {\n      this.paginationPage = currentPage;\n      this.onTopChanged();\n    }\n    this.refreshFirstAndLastRowStyles();\n  }\n  onTopChanged() {\n    this.setRowTop(this.rowNode.rowTop);\n  }\n  onPaginationPixelOffsetChanged() {\n    this.onTopChanged();\n  }\n  // applies pagination offset, eg if on second page, and page height is 500px, then removes\n  // 500px from the top position, so a row with rowTop 600px is displayed at location 100px.\n  // reverse will take the offset away rather than add.\n  applyPaginationOffset(topPx, reverse = false) {\n    if (this.rowNode.isRowPinned() || this.rowNode.sticky) {\n      return topPx;\n    }\n    const pixelOffset = this.beans.pageBoundsService.getPixelOffset();\n    const multiplier = reverse ? 1 : -1;\n    return topPx + pixelOffset * multiplier;\n  }\n  setRowTop(pixels) {\n    if (this.printLayout) {\n      return;\n    }\n    if (_exists(pixels)) {\n      const afterPaginationPixels = this.applyPaginationOffset(pixels);\n      const skipScaling = this.rowNode.isRowPinned() || this.rowNode.sticky;\n      const afterScalingPixels = skipScaling ? afterPaginationPixels : this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels);\n      const topPx = `${afterScalingPixels}px`;\n      this.setRowTopStyle(topPx);\n    }\n  }\n  // the top needs to be set into the DOM element when the element is created, not updated afterwards.\n  // otherwise the transition would not work, as it would be transitioning from zero (the unset value).\n  // for example, suppose a row that is outside the viewport, then user does a filter to remove other rows\n  // and this row now appears in the viewport, and the row moves up (ie it was under the viewport and not rendered,\n  // but now is in the viewport) then a new RowComp is created, however it should have it's position initialised\n  // to below the viewport, so the row will appear to animate up. if we didn't set the initial position at creation\n  // time, the row would animate down (ie from position zero).\n  getInitialRowTop(rowContainerType) {\n    return this.suppressRowTransform ? this.getInitialRowTopShared(rowContainerType) : void 0;\n  }\n  getInitialTransform(rowContainerType) {\n    return this.suppressRowTransform ? void 0 : `translateY(${this.getInitialRowTopShared(rowContainerType)})`;\n  }\n  getInitialRowTopShared(rowContainerType) {\n    if (this.printLayout) {\n      return \"\";\n    }\n    const rowNode = this.rowNode;\n    let rowTop;\n    if (this.isSticky()) {\n      rowTop = rowNode.stickyRowTop;\n    } else {\n      const pixels = this.slideInAnimation[rowContainerType] ? this.roundRowTopToBounds(rowNode.oldRowTop) : rowNode.rowTop;\n      const afterPaginationPixels = this.applyPaginationOffset(pixels);\n      rowTop = rowNode.isRowPinned() ? afterPaginationPixels : this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels);\n    }\n    return rowTop + \"px\";\n  }\n  setRowTopStyle(topPx) {\n    this.allRowGuis.forEach(\n      (gui) => this.suppressRowTransform ? gui.rowComp.setTop(topPx) : gui.rowComp.setTransform(`translateY(${topPx})`)\n    );\n  }\n  getRowNode() {\n    return this.rowNode;\n  }\n  getCellCtrl(column) {\n    let res = null;\n    this.getAllCellCtrls().forEach((cellCtrl) => {\n      if (cellCtrl.getColumn() == column) {\n        res = cellCtrl;\n      }\n    });\n    if (res != null) {\n      return res;\n    }\n    this.getAllCellCtrls().forEach((cellCtrl) => {\n      if (cellCtrl.getColSpanningList().indexOf(column) >= 0) {\n        res = cellCtrl;\n      }\n    });\n    return res;\n  }\n  onRowIndexChanged() {\n    if (this.rowNode.rowIndex != null) {\n      this.onCellFocusChanged();\n      this.updateRowIndexes();\n      this.postProcessCss();\n    }\n  }\n  getRowIndex() {\n    return this.rowNode.getRowIndexString();\n  }\n  updateRowIndexes(gui) {\n    const rowIndexStr = this.rowNode.getRowIndexString();\n    if (rowIndexStr === null) {\n      return;\n    }\n    const headerRowCount = this.beans.headerNavigationService.getHeaderRowCount() + (this.beans.filterManager?.getHeaderRowCount() ?? 0);\n    const rowIsEven = this.rowNode.rowIndex % 2 === 0;\n    const ariaRowIndex = headerRowCount + this.rowNode.rowIndex + 1;\n    this.forEachGui(gui, (c) => {\n      c.rowComp.setRowIndex(rowIndexStr);\n      c.rowComp.addOrRemoveCssClass(\"ag-row-even\", rowIsEven);\n      c.rowComp.addOrRemoveCssClass(\"ag-row-odd\", !rowIsEven);\n      _setAriaRowIndex(c.element, ariaRowIndex);\n    });\n  }\n  setStoppingRowEdit(stoppingRowEdit) {\n    this.stoppingRowEdit = stoppingRowEdit;\n  }\n};\n_RowCtrl.DOM_DATA_KEY_ROW_CTRL = \"renderedRow\";\nvar RowCtrl = _RowCtrl;\n\n// community-modules/core/src/gridBodyComp/rowContainer/rowContainerEventsFeature.ts\nvar RowContainerEventsFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.mouseEventService = beans.mouseEventService;\n    this.valueService = beans.valueService;\n    this.menuService = beans.menuService;\n    this.ctrlsService = beans.ctrlsService;\n    this.navigationService = beans.navigationService;\n    this.focusService = beans.focusService;\n    this.undoRedoService = beans.undoRedoService;\n    this.visibleColsService = beans.visibleColsService;\n    this.rowModel = beans.rowModel;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.rangeService = beans.rangeService;\n    this.clipboardService = beans.clipboardService;\n  }\n  constructor(element) {\n    super();\n    this.element = element;\n  }\n  postConstruct() {\n    this.addKeyboardListeners();\n    this.addMouseListeners();\n    this.mockContextMenuForIPad();\n  }\n  addKeyboardListeners() {\n    const eventName = \"keydown\";\n    const listener = this.processKeyboardEvent.bind(this, eventName);\n    this.addManagedElementListeners(this.element, { [eventName]: listener });\n  }\n  addMouseListeners() {\n    const mouseDownEvent = _isEventSupported(\"touchstart\") ? \"touchstart\" : \"mousedown\";\n    const eventNames = [\"dblclick\", \"contextmenu\", \"mouseover\", \"mouseout\", \"click\", mouseDownEvent];\n    eventNames.forEach((eventName) => {\n      const listener = this.processMouseEvent.bind(this, eventName);\n      this.addManagedElementListeners(this.element, { [eventName]: listener });\n    });\n  }\n  processMouseEvent(eventName, mouseEvent) {\n    if (!this.mouseEventService.isEventFromThisGrid(mouseEvent) || _isStopPropagationForAgGrid(mouseEvent)) {\n      return;\n    }\n    const rowComp = this.getRowForEvent(mouseEvent);\n    const cellCtrl = this.mouseEventService.getRenderedCellForEvent(mouseEvent);\n    if (eventName === \"contextmenu\") {\n      this.handleContextMenuMouseEvent(mouseEvent, void 0, rowComp, cellCtrl);\n    } else {\n      if (cellCtrl) {\n        cellCtrl.onMouseEvent(eventName, mouseEvent);\n      }\n      if (rowComp) {\n        rowComp.onMouseEvent(eventName, mouseEvent);\n      }\n    }\n  }\n  mockContextMenuForIPad() {\n    if (!_isIOSUserAgent()) {\n      return;\n    }\n    const touchListener = new TouchListener(this.element);\n    const longTapListener = (event) => {\n      const rowComp = this.getRowForEvent(event.touchEvent);\n      const cellComp = this.mouseEventService.getRenderedCellForEvent(event.touchEvent);\n      this.handleContextMenuMouseEvent(void 0, event.touchEvent, rowComp, cellComp);\n    };\n    this.addManagedListeners(touchListener, { longTap: longTapListener });\n    this.addDestroyFunc(() => touchListener.destroy());\n  }\n  getRowForEvent(event) {\n    let sourceElement = event.target;\n    while (sourceElement) {\n      const rowCon = _getDomData(this.gos, sourceElement, RowCtrl.DOM_DATA_KEY_ROW_CTRL);\n      if (rowCon) {\n        return rowCon;\n      }\n      sourceElement = sourceElement.parentElement;\n    }\n    return null;\n  }\n  handleContextMenuMouseEvent(mouseEvent, touchEvent, rowComp, cellCtrl) {\n    const rowNode = rowComp ? rowComp.getRowNode() : null;\n    const column = cellCtrl ? cellCtrl.getColumn() : null;\n    let value = null;\n    if (column) {\n      const event = mouseEvent ? mouseEvent : touchEvent;\n      cellCtrl.dispatchCellContextMenuEvent(event ?? null);\n      value = this.valueService.getValue(column, rowNode);\n    }\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    const anchorToElement = cellCtrl ? cellCtrl.getGui() : gridBodyCon.getGridBodyElement();\n    this.menuService.showContextMenu({\n      mouseEvent,\n      touchEvent,\n      rowNode,\n      column,\n      value,\n      anchorToElement\n    });\n  }\n  getControlsForEventTarget(target) {\n    return {\n      cellCtrl: _getCtrlForEventTarget(this.gos, target, CellCtrl.DOM_DATA_KEY_CELL_CTRL),\n      rowCtrl: _getCtrlForEventTarget(this.gos, target, RowCtrl.DOM_DATA_KEY_ROW_CTRL)\n    };\n  }\n  processKeyboardEvent(eventName, keyboardEvent) {\n    const { cellCtrl, rowCtrl } = this.getControlsForEventTarget(keyboardEvent.target);\n    if (keyboardEvent.defaultPrevented) {\n      return;\n    }\n    if (cellCtrl) {\n      this.processCellKeyboardEvent(cellCtrl, eventName, keyboardEvent);\n    } else if (rowCtrl && rowCtrl.isFullWidth()) {\n      this.processFullWidthRowKeyboardEvent(rowCtrl, eventName, keyboardEvent);\n    }\n  }\n  processCellKeyboardEvent(cellCtrl, eventName, keyboardEvent) {\n    const rowNode = cellCtrl.getRowNode();\n    const column = cellCtrl.getColumn();\n    const editing = cellCtrl.isEditing();\n    const gridProcessingAllowed = !_isUserSuppressingKeyboardEvent(\n      this.gos,\n      keyboardEvent,\n      rowNode,\n      column,\n      editing\n    );\n    if (gridProcessingAllowed) {\n      if (eventName === \"keydown\") {\n        const wasScrollKey = !editing && this.navigationService.handlePageScrollingKey(keyboardEvent);\n        if (!wasScrollKey) {\n          cellCtrl.onKeyDown(keyboardEvent);\n        }\n        this.doGridOperations(keyboardEvent, cellCtrl.isEditing());\n        if (_isEventFromPrintableCharacter(keyboardEvent)) {\n          cellCtrl.processCharacter(keyboardEvent);\n        }\n      }\n    }\n    if (eventName === \"keydown\") {\n      this.eventService.dispatchEvent(cellCtrl.createEvent(keyboardEvent, \"cellKeyDown\"));\n    }\n  }\n  processFullWidthRowKeyboardEvent(rowComp, eventName, keyboardEvent) {\n    const rowNode = rowComp.getRowNode();\n    const focusedCell = this.focusService.getFocusedCell();\n    const column = focusedCell && focusedCell.column;\n    const gridProcessingAllowed = !_isUserSuppressingKeyboardEvent(this.gos, keyboardEvent, rowNode, column, false);\n    if (gridProcessingAllowed) {\n      const key = keyboardEvent.key;\n      if (eventName === \"keydown\") {\n        switch (key) {\n          case KeyCode.PAGE_HOME:\n          case KeyCode.PAGE_END:\n          case KeyCode.PAGE_UP:\n          case KeyCode.PAGE_DOWN:\n            this.navigationService.handlePageScrollingKey(keyboardEvent, true);\n            break;\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n            rowComp.onKeyboardNavigate(keyboardEvent);\n            break;\n          case KeyCode.TAB:\n            rowComp.onTabKeyDown(keyboardEvent);\n            break;\n          default:\n        }\n      }\n    }\n    if (eventName === \"keydown\") {\n      this.eventService.dispatchEvent(rowComp.createRowEvent(\"cellKeyDown\", keyboardEvent));\n    }\n  }\n  doGridOperations(keyboardEvent, editing) {\n    if (!keyboardEvent.ctrlKey && !keyboardEvent.metaKey) {\n      return;\n    }\n    if (editing) {\n      return;\n    }\n    if (!this.mouseEventService.isEventFromThisGrid(keyboardEvent)) {\n      return;\n    }\n    const keyCode = _normaliseQwertyAzerty(keyboardEvent);\n    if (keyCode === KeyCode.A) {\n      return this.onCtrlAndA(keyboardEvent);\n    }\n    if (keyCode === KeyCode.C) {\n      return this.onCtrlAndC(keyboardEvent);\n    }\n    if (keyCode === KeyCode.D) {\n      return this.onCtrlAndD(keyboardEvent);\n    }\n    if (keyCode === KeyCode.V) {\n      return this.onCtrlAndV(keyboardEvent);\n    }\n    if (keyCode === KeyCode.X) {\n      return this.onCtrlAndX(keyboardEvent);\n    }\n    if (keyCode === KeyCode.Y) {\n      return this.onCtrlAndY();\n    }\n    if (keyCode === KeyCode.Z) {\n      return this.onCtrlAndZ(keyboardEvent);\n    }\n  }\n  onCtrlAndA(event) {\n    const { pinnedRowModel, rowModel, rangeService } = this;\n    if (rangeService && rowModel.isRowsToRender()) {\n      const [isEmptyPinnedTop, isEmptyPinnedBottom] = [\n        pinnedRowModel.isEmpty(\"top\"),\n        pinnedRowModel.isEmpty(\"bottom\")\n      ];\n      const floatingStart = isEmptyPinnedTop ? null : \"top\";\n      let floatingEnd;\n      let rowEnd;\n      if (isEmptyPinnedBottom) {\n        floatingEnd = null;\n        rowEnd = rowModel.getRowCount() - 1;\n      } else {\n        floatingEnd = \"bottom\";\n        rowEnd = pinnedRowModel.getPinnedBottomRowCount() - 1;\n      }\n      const allDisplayedColumns = this.visibleColsService.getAllCols();\n      if (_missingOrEmpty(allDisplayedColumns)) {\n        return;\n      }\n      rangeService.setCellRange({\n        rowStartIndex: 0,\n        rowStartPinned: floatingStart,\n        rowEndIndex: rowEnd,\n        rowEndPinned: floatingEnd,\n        columnStart: allDisplayedColumns[0],\n        columnEnd: _last(allDisplayedColumns)\n      });\n    }\n    event.preventDefault();\n  }\n  onCtrlAndC(event) {\n    if (!this.clipboardService || this.gos.get(\"enableCellTextSelection\")) {\n      return;\n    }\n    const { cellCtrl, rowCtrl } = this.getControlsForEventTarget(event.target);\n    if (cellCtrl?.isEditing() || rowCtrl?.isEditing()) {\n      return;\n    }\n    event.preventDefault();\n    this.clipboardService.copyToClipboard();\n  }\n  onCtrlAndX(event) {\n    if (!this.clipboardService || this.gos.get(\"enableCellTextSelection\") || this.gos.get(\"suppressCutToClipboard\")) {\n      return;\n    }\n    const { cellCtrl, rowCtrl } = this.getControlsForEventTarget(event.target);\n    if (cellCtrl?.isEditing() || rowCtrl?.isEditing()) {\n      return;\n    }\n    event.preventDefault();\n    this.clipboardService.cutToClipboard(void 0, \"ui\");\n  }\n  onCtrlAndV(event) {\n    const { cellCtrl, rowCtrl } = this.getControlsForEventTarget(event.target);\n    if (cellCtrl?.isEditing() || rowCtrl?.isEditing()) {\n      return;\n    }\n    if (this.clipboardService && !this.gos.get(\"suppressClipboardPaste\")) {\n      this.clipboardService.pasteFromClipboard();\n    }\n  }\n  onCtrlAndD(event) {\n    if (this.clipboardService && !this.gos.get(\"suppressClipboardPaste\")) {\n      this.clipboardService.copyRangeDown();\n    }\n    event.preventDefault();\n  }\n  onCtrlAndZ(event) {\n    if (!this.gos.get(\"undoRedoCellEditing\") || !this.undoRedoService) {\n      return;\n    }\n    event.preventDefault();\n    if (event.shiftKey) {\n      this.undoRedoService.redo(\"ui\");\n    } else {\n      this.undoRedoService.undo(\"ui\");\n    }\n  }\n  onCtrlAndY() {\n    this.undoRedoService?.redo(\"ui\");\n  }\n};\n\n// community-modules/core/src/gridBodyComp/rowContainer/setPinnedLeftWidthFeature.ts\nvar SetPinnedLeftWidthFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.pinnedWidthService = beans.pinnedWidthService;\n  }\n  constructor(element) {\n    super();\n    this.element = element;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({ leftPinnedWidthChanged: this.onPinnedLeftWidthChanged.bind(this) });\n  }\n  onPinnedLeftWidthChanged() {\n    const leftWidth = this.pinnedWidthService.getPinnedLeftWidth();\n    const displayed = leftWidth > 0;\n    _setDisplayed(this.element, displayed);\n    _setFixedWidth(this.element, leftWidth);\n  }\n  getWidth() {\n    return this.pinnedWidthService.getPinnedLeftWidth();\n  }\n};\n\n// community-modules/core/src/gridBodyComp/rowContainer/setPinnedRightWidthFeature.ts\nvar SetPinnedRightWidthFeature = class extends BeanStub {\n  wireBeans(beans) {\n    this.pinnedWidthService = beans.pinnedWidthService;\n  }\n  constructor(element) {\n    super();\n    this.element = element;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({\n      rightPinnedWidthChanged: this.onPinnedRightWidthChanged.bind(this)\n    });\n  }\n  onPinnedRightWidthChanged() {\n    const rightWidth = this.pinnedWidthService.getPinnedRightWidth();\n    const displayed = rightWidth > 0;\n    _setDisplayed(this.element, displayed);\n    _setFixedWidth(this.element, rightWidth);\n  }\n  getWidth() {\n    return this.pinnedWidthService.getPinnedRightWidth();\n  }\n};\n\n// community-modules/core/src/gridBodyComp/rowContainer/rowContainerCtrl.ts\nvar getTopRowCtrls = (r) => r.getTopRowCtrls();\nvar getStickyTopRowCtrls = (r) => r.getStickyTopRowCtrls();\nvar getStickyBottomRowCtrls = (r) => r.getStickyBottomRowCtrls();\nvar getBottomRowCtrls = (r) => r.getBottomRowCtrls();\nvar getCentreRowCtrls = (r) => r.getCentreRowCtrls();\nvar ContainerCssClasses = {\n  center: {\n    type: \"center\",\n    container: \"ag-center-cols-container\",\n    viewport: \"ag-center-cols-viewport\",\n    getRowCtrls: getCentreRowCtrls\n  },\n  left: {\n    type: \"left\",\n    container: \"ag-pinned-left-cols-container\",\n    pinnedType: \"left\",\n    getRowCtrls: getCentreRowCtrls\n  },\n  right: {\n    type: \"right\",\n    container: \"ag-pinned-right-cols-container\",\n    pinnedType: \"right\",\n    getRowCtrls: getCentreRowCtrls\n  },\n  fullWidth: {\n    type: \"fullWidth\",\n    container: \"ag-full-width-container\",\n    fullWidth: true,\n    getRowCtrls: getCentreRowCtrls\n  },\n  topCenter: {\n    type: \"center\",\n    container: \"ag-floating-top-container\",\n    viewport: \"ag-floating-top-viewport\",\n    getRowCtrls: getTopRowCtrls\n  },\n  topLeft: {\n    type: \"left\",\n    container: \"ag-pinned-left-floating-top\",\n    pinnedType: \"left\",\n    getRowCtrls: getTopRowCtrls\n  },\n  topRight: {\n    type: \"right\",\n    container: \"ag-pinned-right-floating-top\",\n    pinnedType: \"right\",\n    getRowCtrls: getTopRowCtrls\n  },\n  topFullWidth: {\n    type: \"fullWidth\",\n    container: \"ag-floating-top-full-width-container\",\n    fullWidth: true,\n    getRowCtrls: getTopRowCtrls\n  },\n  stickyTopCenter: {\n    type: \"center\",\n    container: \"ag-sticky-top-container\",\n    viewport: \"ag-sticky-top-viewport\",\n    getRowCtrls: getStickyTopRowCtrls\n  },\n  stickyTopLeft: {\n    type: \"left\",\n    container: \"ag-pinned-left-sticky-top\",\n    pinnedType: \"left\",\n    getRowCtrls: getStickyTopRowCtrls\n  },\n  stickyTopRight: {\n    type: \"right\",\n    container: \"ag-pinned-right-sticky-top\",\n    pinnedType: \"right\",\n    getRowCtrls: getStickyTopRowCtrls\n  },\n  stickyTopFullWidth: {\n    type: \"fullWidth\",\n    container: \"ag-sticky-top-full-width-container\",\n    fullWidth: true,\n    getRowCtrls: getStickyTopRowCtrls\n  },\n  stickyBottomCenter: {\n    type: \"center\",\n    container: \"ag-sticky-bottom-container\",\n    viewport: \"ag-sticky-bottom-viewport\",\n    getRowCtrls: getStickyBottomRowCtrls\n  },\n  stickyBottomLeft: {\n    type: \"left\",\n    container: \"ag-pinned-left-sticky-bottom\",\n    pinnedType: \"left\",\n    getRowCtrls: getStickyBottomRowCtrls\n  },\n  stickyBottomRight: {\n    type: \"right\",\n    container: \"ag-pinned-right-sticky-bottom\",\n    pinnedType: \"right\",\n    getRowCtrls: getStickyBottomRowCtrls\n  },\n  stickyBottomFullWidth: {\n    type: \"fullWidth\",\n    container: \"ag-sticky-bottom-full-width-container\",\n    fullWidth: true,\n    getRowCtrls: getStickyBottomRowCtrls\n  },\n  bottomCenter: {\n    type: \"center\",\n    container: \"ag-floating-bottom-container\",\n    viewport: \"ag-floating-bottom-viewport\",\n    getRowCtrls: getBottomRowCtrls\n  },\n  bottomLeft: {\n    type: \"left\",\n    container: \"ag-pinned-left-floating-bottom\",\n    pinnedType: \"left\",\n    getRowCtrls: getBottomRowCtrls\n  },\n  bottomRight: {\n    type: \"right\",\n    container: \"ag-pinned-right-floating-bottom\",\n    pinnedType: \"right\",\n    getRowCtrls: getBottomRowCtrls\n  },\n  bottomFullWidth: {\n    type: \"fullWidth\",\n    container: \"ag-floating-bottom-full-width-container\",\n    fullWidth: true,\n    getRowCtrls: getBottomRowCtrls\n  }\n};\nfunction _getRowContainerOptions(name) {\n  return ContainerCssClasses[name];\n}\nvar allTopNoFW = [\"topCenter\", \"topLeft\", \"topRight\"];\nvar allBottomNoFW = [\"bottomCenter\", \"bottomLeft\", \"bottomRight\"];\nvar allMiddleNoFW = [\"center\", \"left\", \"right\"];\nvar allMiddle = [\"center\", \"left\", \"right\", \"fullWidth\"];\nvar allCenter = [\"stickyTopCenter\", \"stickyBottomCenter\", \"center\", \"topCenter\", \"bottomCenter\"];\nvar allLeft = [\"left\", \"bottomLeft\", \"topLeft\", \"stickyTopLeft\", \"stickyBottomLeft\"];\nvar allRight = [\"right\", \"bottomRight\", \"topRight\", \"stickyTopRight\", \"stickyBottomRight\"];\nvar allStickyTopNoFW = [\"stickyTopCenter\", \"stickyTopLeft\", \"stickyTopRight\"];\nvar allStickyBottomNoFW = [\"stickyBottomCenter\", \"stickyBottomLeft\", \"stickyBottomRight\"];\nvar allStickyContainers = [\n  ...allStickyTopNoFW,\n  \"stickyTopFullWidth\",\n  ...allStickyBottomNoFW,\n  \"stickyBottomFullWidth\"\n];\nvar allNoFW = [\n  ...allTopNoFW,\n  ...allBottomNoFW,\n  ...allMiddleNoFW,\n  ...allStickyTopNoFW,\n  ...allStickyBottomNoFW\n];\nvar RowContainerCtrl = class extends BeanStub {\n  constructor(name) {\n    super();\n    this.visible = true;\n    // Maintaining a constant reference enables optimization in React.\n    this.EMPTY_CTRLS = [];\n    this.name = name;\n    this.options = _getRowContainerOptions(name);\n  }\n  wireBeans(beans) {\n    this.dragService = beans.dragService;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnViewportService = beans.columnViewportService;\n    this.resizeObserverService = beans.resizeObserverService;\n    this.rowRenderer = beans.rowRenderer;\n  }\n  postConstruct() {\n    this.enableRtl = this.gos.get(\"enableRtl\");\n    this.forContainers([\"center\"], () => {\n      this.viewportSizeFeature = this.createManagedBean(new ViewportSizeFeature(this));\n      this.addManagedEventListeners({\n        stickyTopOffsetChanged: this.onStickyTopOffsetChanged.bind(this)\n      });\n    });\n  }\n  onStickyTopOffsetChanged(event) {\n    this.comp.setOffsetTop(`${event.offset}px`);\n  }\n  registerWithCtrlsService() {\n    if (this.options.fullWidth)\n      return;\n    this.ctrlsService.register(this.name, this);\n  }\n  forContainers(names, callback) {\n    if (names.indexOf(this.name) >= 0) {\n      callback();\n    }\n  }\n  getContainerElement() {\n    return this.eContainer;\n  }\n  getViewportSizeFeature() {\n    return this.viewportSizeFeature;\n  }\n  setComp(view, eContainer, eViewport) {\n    this.comp = view;\n    this.eContainer = eContainer;\n    this.eViewport = eViewport;\n    this.createManagedBean(new RowContainerEventsFeature(this.eContainer));\n    this.addPreventScrollWhileDragging();\n    this.listenOnDomOrder();\n    const pinnedWidthChanged = () => this.onPinnedWidthChanged();\n    this.forContainers(allLeft, () => {\n      this.pinnedWidthFeature = this.createManagedBean(new SetPinnedLeftWidthFeature(this.eContainer));\n      this.addManagedEventListeners({ leftPinnedWidthChanged: pinnedWidthChanged });\n    });\n    this.forContainers(allRight, () => {\n      this.pinnedWidthFeature = this.createManagedBean(new SetPinnedRightWidthFeature(this.eContainer));\n      this.addManagedEventListeners({ rightPinnedWidthChanged: pinnedWidthChanged });\n    });\n    this.forContainers(\n      allMiddle,\n      () => this.createManagedBean(\n        new SetHeightFeature(this.eContainer, this.name === \"center\" ? eViewport : void 0)\n      )\n    );\n    this.forContainers(allNoFW, () => this.createManagedBean(new DragListenerFeature(this.eContainer)));\n    this.forContainers(\n      allCenter,\n      () => this.createManagedBean(new CenterWidthFeature((width) => this.comp.setContainerWidth(`${width}px`)))\n    );\n    this.visible = this.isContainerVisible();\n    this.addListeners();\n    this.registerWithCtrlsService();\n  }\n  onScrollCallback(fn) {\n    this.addManagedElementListeners(this.getViewportElement(), { scroll: fn });\n  }\n  addListeners() {\n    this.addManagedEventListeners({\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this),\n      displayedColumnsWidthChanged: this.onDisplayedColumnsWidthChanged.bind(this),\n      displayedRowsChanged: (params) => this.onDisplayedRowsChanged(params.afterScroll)\n    });\n    this.onDisplayedColumnsChanged();\n    this.onDisplayedColumnsWidthChanged();\n    this.onDisplayedRowsChanged();\n  }\n  listenOnDomOrder() {\n    const isStickContainer = allStickyContainers.indexOf(this.name) >= 0;\n    if (isStickContainer) {\n      this.comp.setDomOrder(true);\n      return;\n    }\n    const listener = () => {\n      const isEnsureDomOrder = this.gos.get(\"ensureDomOrder\");\n      const isPrintLayout = _isDomLayout(this.gos, \"print\");\n      this.comp.setDomOrder(isEnsureDomOrder || isPrintLayout);\n    };\n    this.addManagedPropertyListener(\"domLayout\", listener);\n    listener();\n  }\n  onDisplayedColumnsChanged() {\n    this.forContainers([\"center\"], () => this.onHorizontalViewportChanged());\n  }\n  onDisplayedColumnsWidthChanged() {\n    this.forContainers([\"center\"], () => this.onHorizontalViewportChanged());\n  }\n  // this methods prevents the grid views from being scrolled while the dragService is being used\n  // eg. the view should not scroll up and down while dragging rows using the rowDragComp.\n  addPreventScrollWhileDragging() {\n    const preventScroll = (e) => {\n      if (this.dragService.isDragging()) {\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n      }\n    };\n    this.eContainer.addEventListener(\"touchmove\", preventScroll, { passive: false });\n    this.addDestroyFunc(() => this.eContainer.removeEventListener(\"touchmove\", preventScroll));\n  }\n  // this gets called whenever a change in the viewport, so we can inform column controller it has to work\n  // out the virtual columns again. gets called from following locations:\n  // + ensureColVisible, scroll, init, layoutChanged, displayedColumnsChanged\n  onHorizontalViewportChanged(afterScroll = false) {\n    const scrollWidth = this.getCenterWidth();\n    const scrollPosition = this.getCenterViewportScrollLeft();\n    this.columnViewportService.setScrollPosition(scrollWidth, scrollPosition, afterScroll);\n  }\n  hasHorizontalScrollGap() {\n    return this.eContainer.clientWidth - this.eViewport.clientWidth < 0;\n  }\n  hasVerticalScrollGap() {\n    return this.eContainer.clientHeight - this.eViewport.clientHeight < 0;\n  }\n  getCenterWidth() {\n    return _getInnerWidth(this.eViewport);\n  }\n  getCenterViewportScrollLeft() {\n    return _getScrollLeft(this.eViewport, this.enableRtl);\n  }\n  registerViewportResizeListener(listener) {\n    const unsubscribeFromResize = this.resizeObserverService.observeResize(this.eViewport, listener);\n    this.addDestroyFunc(() => unsubscribeFromResize());\n  }\n  isViewportInTheDOMTree() {\n    return _isInDOM(this.eViewport);\n  }\n  getViewportScrollLeft() {\n    return _getScrollLeft(this.eViewport, this.enableRtl);\n  }\n  isHorizontalScrollShowing() {\n    const isAlwaysShowHorizontalScroll = this.gos.get(\"alwaysShowHorizontalScroll\");\n    return isAlwaysShowHorizontalScroll || _isHorizontalScrollShowing(this.eViewport);\n  }\n  getViewportElement() {\n    return this.eViewport;\n  }\n  setHorizontalScroll(offset) {\n    this.comp.setHorizontalScroll(offset);\n  }\n  getHScrollPosition() {\n    const res = {\n      left: this.eViewport.scrollLeft,\n      right: this.eViewport.scrollLeft + this.eViewport.offsetWidth\n    };\n    return res;\n  }\n  setCenterViewportScrollLeft(value) {\n    _setScrollLeft(this.eViewport, value, this.enableRtl);\n  }\n  isContainerVisible() {\n    const pinned = this.options.pinnedType != null;\n    return !pinned || !!this.pinnedWidthFeature && this.pinnedWidthFeature.getWidth() > 0;\n  }\n  onPinnedWidthChanged() {\n    const visible = this.isContainerVisible();\n    if (this.visible != visible) {\n      this.visible = visible;\n      this.onDisplayedRowsChanged();\n    }\n  }\n  onDisplayedRowsChanged(afterScroll = false) {\n    const rows = this.options.getRowCtrls(this.rowRenderer);\n    if (!this.visible || rows.length === 0) {\n      this.comp.setRowCtrls({ rowCtrls: this.EMPTY_CTRLS });\n      return;\n    }\n    const printLayout = _isDomLayout(this.gos, \"print\");\n    const embedFullWidthRows = this.gos.get(\"embedFullWidthRows\");\n    const embedFW = embedFullWidthRows || printLayout;\n    const rowsThisContainer = rows.filter((rowCtrl) => {\n      const fullWidthRow = rowCtrl.isFullWidth();\n      const match = this.options.fullWidth ? !embedFW && fullWidthRow : embedFW || !fullWidthRow;\n      return match;\n    });\n    this.comp.setRowCtrls({ rowCtrls: rowsThisContainer, useFlushSync: afterScroll });\n  }\n};\n\n// community-modules/core/src/gridBodyComp/gridBodyCtrl.ts\nvar CSS_CLASS_FORCE_VERTICAL_SCROLL = \"ag-force-vertical-scroll\";\nvar CSS_CLASS_CELL_SELECTABLE = \"ag-selectable\";\nvar CSS_CLASS_COLUMN_MOVING = \"ag-column-moving\";\nvar GridBodyCtrl = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.stickyTopHeight = 0;\n    this.stickyBottomHeight = 0;\n  }\n  wireBeans(beans) {\n    this.animationFrameService = beans.animationFrameService;\n    this.rowContainerHeightService = beans.rowContainerHeightService;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnModel = beans.columnModel;\n    this.columnSizeService = beans.columnSizeService;\n    this.scrollVisibleService = beans.scrollVisibleService;\n    this.menuService = beans.menuService;\n    this.headerNavigationService = beans.headerNavigationService;\n    this.dragAndDropService = beans.dragAndDropService;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.rowRenderer = beans.rowRenderer;\n    this.popupService = beans.popupService;\n    this.mouseEventService = beans.mouseEventService;\n    this.rowModel = beans.rowModel;\n    this.filterManager = beans.filterManager;\n    this.environment = beans.environment;\n  }\n  getScrollFeature() {\n    return this.bodyScrollFeature;\n  }\n  getBodyViewportElement() {\n    return this.eBodyViewport;\n  }\n  setComp(comp, eGridBody, eBodyViewport, eTop, eBottom, eStickyTop, eStickyBottom) {\n    this.comp = comp;\n    this.eGridBody = eGridBody;\n    this.eBodyViewport = eBodyViewport;\n    this.eTop = eTop;\n    this.eBottom = eBottom;\n    this.eStickyTop = eStickyTop;\n    this.eStickyBottom = eStickyBottom;\n    this.eCenterColsViewport = eBodyViewport.querySelector(\n      `.${_getRowContainerOptions(\"center\").viewport}`\n    );\n    this.eFullWidthContainer = eBodyViewport.querySelector(\n      `.${_getRowContainerOptions(\"fullWidth\").container}`\n    );\n    this.eStickyTopFullWidthContainer = eStickyTop.querySelector(\n      `.${_getRowContainerOptions(\"stickyTopFullWidth\").container}`\n    );\n    this.eStickyBottomFullWidthContainer = eStickyBottom.querySelector(\n      `.${_getRowContainerOptions(\"stickyBottomFullWidth\").container}`\n    );\n    this.setCellTextSelection(this.gos.get(\"enableCellTextSelection\"));\n    this.addManagedPropertyListener(\n      \"enableCellTextSelection\",\n      (props) => this.setCellTextSelection(props.currentValue)\n    );\n    this.createManagedBean(new LayoutFeature(this.comp));\n    this.bodyScrollFeature = this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport));\n    this.addRowDragListener();\n    this.setupRowAnimationCssClass();\n    this.addEventListeners();\n    this.addFocusListeners([eTop, eBodyViewport, eBottom, eStickyTop, eStickyBottom]);\n    this.onGridColumnsChanged();\n    this.addBodyViewportListener();\n    this.setFloatingHeights();\n    this.disableBrowserDragging();\n    this.addStopEditingWhenGridLosesFocus();\n    this.updateScrollingClasses();\n    this.filterManager?.setupAdvancedFilterHeaderComp(eTop);\n    this.ctrlsService.register(\"gridBodyCtrl\", this);\n  }\n  getComp() {\n    return this.comp;\n  }\n  addEventListeners() {\n    const setFloatingHeights = this.setFloatingHeights.bind(this);\n    this.addManagedEventListeners({\n      gridColumnsChanged: this.onGridColumnsChanged.bind(this),\n      scrollVisibilityChanged: this.onScrollVisibilityChanged.bind(this),\n      scrollGapChanged: this.onScrollGapChanged.bind(this),\n      pinnedRowDataChanged: setFloatingHeights,\n      pinnedHeightChanged: setFloatingHeights,\n      headerHeightChanged: this.onHeaderHeightChanged.bind(this)\n    });\n  }\n  addFocusListeners(elements) {\n    elements.forEach((element) => {\n      this.addManagedElementListeners(element, {\n        focusin: (e) => {\n          const { target } = e;\n          const isFocusedElementNested = _isElementChildOfClass(target, \"ag-root\", element);\n          element.classList.toggle(\"ag-has-focus\", !isFocusedElementNested);\n        },\n        focusout: (e) => {\n          const { target, relatedTarget } = e;\n          const gridContainRelatedTarget = element.contains(relatedTarget);\n          const isNestedRelatedTarget = _isElementChildOfClass(\n            relatedTarget,\n            \"ag-root\",\n            element\n          );\n          const isNestedTarget = _isElementChildOfClass(target, \"ag-root\", element);\n          if (isNestedTarget) {\n            return;\n          }\n          if (!gridContainRelatedTarget || isNestedRelatedTarget) {\n            element.classList.remove(\"ag-has-focus\");\n          }\n        }\n      });\n    });\n  }\n  // used by ColumnAnimationService\n  setColumnMovingCss(moving) {\n    this.comp.setColumnMovingCss(CSS_CLASS_COLUMN_MOVING, moving);\n  }\n  setCellTextSelection(selectable = false) {\n    this.comp.setCellSelectableCss(CSS_CLASS_CELL_SELECTABLE, selectable);\n  }\n  onScrollVisibilityChanged() {\n    const visible = this.scrollVisibleService.isVerticalScrollShowing();\n    this.setVerticalScrollPaddingVisible(visible);\n    this.setStickyWidth(visible);\n    this.setStickyBottomOffsetBottom();\n    const scrollbarWidth = visible ? this.scrollVisibleService.getScrollbarWidth() || 0 : 0;\n    const pad = _isInvisibleScrollbar() ? 16 : 0;\n    const width = `calc(100% + ${scrollbarWidth + pad}px)`;\n    this.animationFrameService.requestAnimationFrame(() => this.comp.setBodyViewportWidth(width));\n    this.updateScrollingClasses();\n  }\n  onScrollGapChanged() {\n    this.updateScrollingClasses();\n  }\n  updateScrollingClasses() {\n    this.eGridBody.classList.toggle(\n      \"ag-body-vertical-content-no-gap\",\n      !this.scrollVisibleService.hasVerticalScrollGap()\n    );\n    this.eGridBody.classList.toggle(\n      \"ag-body-horizontal-content-no-gap\",\n      !this.scrollVisibleService.hasHorizontalScrollGap()\n    );\n  }\n  onGridColumnsChanged() {\n    const columns = this.columnModel.getCols();\n    this.comp.setColumnCount(columns.length);\n  }\n  // if we do not do this, then the user can select a pic in the grid (eg an image in a custom cell renderer)\n  // and then that will start the browser native drag n' drop, which messes up with our own drag and drop.\n  disableBrowserDragging() {\n    this.addManagedElementListeners(this.eGridBody, {\n      dragstart: (event) => {\n        if (event.target instanceof HTMLImageElement) {\n          event.preventDefault();\n          return false;\n        }\n      }\n    });\n  }\n  addStopEditingWhenGridLosesFocus() {\n    if (!this.gos.get(\"stopEditingWhenCellsLoseFocus\")) {\n      return;\n    }\n    const focusOutListener = (event) => {\n      const elementWithFocus = event.relatedTarget;\n      if (_getTabIndex(elementWithFocus) === null) {\n        this.rowRenderer.stopEditing();\n        return;\n      }\n      let clickInsideGrid = (\n        // see if click came from inside the viewports\n        viewports.some((viewport) => viewport.contains(elementWithFocus)) && // and also that it's not from a detail grid\n        this.mouseEventService.isElementInThisGrid(elementWithFocus)\n      );\n      if (!clickInsideGrid) {\n        const popupService = this.popupService;\n        clickInsideGrid = popupService.getActivePopups().some((popup) => popup.contains(elementWithFocus)) || popupService.isElementWithinCustomPopup(elementWithFocus);\n      }\n      if (!clickInsideGrid) {\n        this.rowRenderer.stopEditing();\n      }\n    };\n    const viewports = [this.eBodyViewport, this.eBottom, this.eTop, this.eStickyTop, this.eStickyBottom];\n    viewports.forEach((viewport) => this.addManagedElementListeners(viewport, { focusout: focusOutListener }));\n  }\n  updateRowCount() {\n    const headerCount = this.headerNavigationService.getHeaderRowCount() + (this.filterManager?.getHeaderRowCount() ?? 0);\n    const rowCount = this.rowModel.isLastRowIndexKnown() ? this.rowModel.getRowCount() : -1;\n    const total = rowCount === -1 ? -1 : headerCount + rowCount;\n    this.comp.setRowCount(total);\n  }\n  registerBodyViewportResizeListener(listener) {\n    this.comp.registerBodyViewportResizeListener(listener);\n  }\n  setVerticalScrollPaddingVisible(visible) {\n    const overflowY = visible ? \"scroll\" : \"hidden\";\n    this.comp.setPinnedTopBottomOverflowY(overflowY);\n  }\n  isVerticalScrollShowing() {\n    const show = this.gos.get(\"alwaysShowVerticalScroll\");\n    const cssClass = show ? CSS_CLASS_FORCE_VERTICAL_SCROLL : null;\n    const allowVerticalScroll = _isDomLayout(this.gos, \"normal\");\n    this.comp.setAlwaysVerticalScrollClass(cssClass, show);\n    return show || allowVerticalScroll && _isVerticalScrollShowing(this.eBodyViewport);\n  }\n  setupRowAnimationCssClass() {\n    let initialSizeMeasurementComplete = this.environment.hasMeasuredSizes();\n    const updateAnimationClass = () => {\n      const animateRows = initialSizeMeasurementComplete && _isAnimateRows(this.gos) && !this.rowContainerHeightService.isStretching();\n      const animateRowsCssClass = animateRows ? \"ag-row-animation\" : \"ag-row-no-animation\";\n      this.comp.setRowAnimationCssOnBodyViewport(animateRowsCssClass, animateRows);\n    };\n    updateAnimationClass();\n    this.addManagedEventListeners({ heightScaleChanged: updateAnimationClass });\n    this.addManagedPropertyListener(\"animateRows\", updateAnimationClass);\n    this.addManagedEventListeners({\n      gridStylesChanged: () => {\n        if (!initialSizeMeasurementComplete && this.environment.hasMeasuredSizes()) {\n          initialSizeMeasurementComplete = true;\n          updateAnimationClass();\n        }\n      }\n    });\n  }\n  getGridBodyElement() {\n    return this.eGridBody;\n  }\n  addBodyViewportListener() {\n    const listener = this.onBodyViewportContextMenu.bind(this);\n    this.addManagedElementListeners(this.eBodyViewport, { contextmenu: listener });\n    this.mockContextMenuForIPad(listener);\n    this.addManagedElementListeners(this.eBodyViewport, { wheel: this.onBodyViewportWheel.bind(this) });\n    this.addManagedElementListeners(this.eStickyTop, { wheel: this.onStickyWheel.bind(this) });\n    this.addManagedElementListeners(this.eStickyBottom, { wheel: this.onStickyWheel.bind(this) });\n    this.addFullWidthContainerWheelListener();\n  }\n  addFullWidthContainerWheelListener() {\n    this.addManagedElementListeners(this.eFullWidthContainer, {\n      wheel: (e) => this.onFullWidthContainerWheel(e)\n    });\n  }\n  onFullWidthContainerWheel(e) {\n    const { deltaX, deltaY, shiftKey } = e;\n    const isHorizontalScroll = shiftKey || Math.abs(deltaX) > Math.abs(deltaY);\n    if (isHorizontalScroll && this.mouseEventService.isEventFromThisGrid(e)) {\n      this.scrollGridBodyToMatchEvent(e);\n    }\n  }\n  onStickyWheel(e) {\n    const { deltaX, deltaY, shiftKey } = e;\n    const isHorizontalScroll = shiftKey || Math.abs(deltaX) > Math.abs(deltaY);\n    const target = e.target;\n    if (!isHorizontalScroll) {\n      e.preventDefault();\n      this.scrollVertically(deltaY);\n    } else if (this.eStickyTopFullWidthContainer.contains(target) || this.eStickyBottomFullWidthContainer.contains(target)) {\n      this.scrollGridBodyToMatchEvent(e);\n    }\n  }\n  scrollGridBodyToMatchEvent(e) {\n    const { deltaX, deltaY } = e;\n    e.preventDefault();\n    this.eCenterColsViewport.scrollBy({ left: deltaX || deltaY });\n  }\n  onBodyViewportContextMenu(mouseEvent, touch, touchEvent) {\n    if (!mouseEvent && !touchEvent) {\n      return;\n    }\n    if (this.gos.get(\"preventDefaultOnContextMenu\")) {\n      const event = mouseEvent || touchEvent;\n      event.preventDefault();\n    }\n    const { target } = mouseEvent || touch;\n    if (target === this.eBodyViewport || target === this.ctrlsService.get(\"center\").getViewportElement()) {\n      this.menuService.showContextMenu({\n        mouseEvent,\n        touchEvent,\n        value: null,\n        anchorToElement: this.eGridBody\n      });\n    }\n  }\n  mockContextMenuForIPad(listener) {\n    if (!_isIOSUserAgent()) {\n      return;\n    }\n    const touchListener = new TouchListener(this.eBodyViewport);\n    const longTapListener = (event) => {\n      listener(void 0, event.touchStart, event.touchEvent);\n    };\n    this.addManagedListeners(touchListener, { longTap: longTapListener });\n    this.addDestroyFunc(() => touchListener.destroy());\n  }\n  onBodyViewportWheel(e) {\n    if (!this.gos.get(\"suppressScrollWhenPopupsAreOpen\")) {\n      return;\n    }\n    if (this.popupService.hasAnchoredPopup()) {\n      e.preventDefault();\n    }\n  }\n  getGui() {\n    return this.eGridBody;\n  }\n  // called by rowDragFeature\n  scrollVertically(pixels) {\n    const oldScrollPosition = this.eBodyViewport.scrollTop;\n    this.bodyScrollFeature.setVerticalScrollPosition(oldScrollPosition + pixels);\n    return this.eBodyViewport.scrollTop - oldScrollPosition;\n  }\n  addRowDragListener() {\n    this.rowDragFeature = this.createManagedBean(new RowDragFeature(this.eBodyViewport));\n    this.dragAndDropService.addDropTarget(this.rowDragFeature);\n    this.addDestroyFunc(() => this.dragAndDropService.removeDropTarget(this.rowDragFeature));\n  }\n  getRowDragFeature() {\n    return this.rowDragFeature;\n  }\n  setFloatingHeights() {\n    const { pinnedRowModel } = this;\n    const floatingTopHeight = pinnedRowModel.getPinnedTopTotalHeight();\n    const floatingBottomHeight = pinnedRowModel.getPinnedBottomTotalHeight();\n    this.comp.setTopHeight(floatingTopHeight);\n    this.comp.setBottomHeight(floatingBottomHeight);\n    this.comp.setTopDisplay(floatingTopHeight ? \"inherit\" : \"none\");\n    this.comp.setBottomDisplay(floatingBottomHeight ? \"inherit\" : \"none\");\n    this.setStickyTopOffsetTop();\n    this.setStickyBottomOffsetBottom();\n  }\n  setStickyTopHeight(height = 0) {\n    this.comp.setStickyTopHeight(`${height}px`);\n    this.stickyTopHeight = height;\n  }\n  getStickyTopHeight() {\n    return this.stickyTopHeight;\n  }\n  setStickyBottomHeight(height = 0) {\n    this.comp.setStickyBottomHeight(`${height}px`);\n    this.stickyBottomHeight = height;\n  }\n  getStickyBottomHeight() {\n    return this.stickyBottomHeight;\n  }\n  setStickyWidth(vScrollVisible) {\n    if (!vScrollVisible) {\n      this.comp.setStickyTopWidth(\"100%\");\n      this.comp.setStickyBottomWidth(\"100%\");\n    } else {\n      const scrollbarWidth = this.scrollVisibleService.getScrollbarWidth();\n      this.comp.setStickyTopWidth(`calc(100% - ${scrollbarWidth}px)`);\n      this.comp.setStickyBottomWidth(`calc(100% - ${scrollbarWidth}px)`);\n    }\n  }\n  onHeaderHeightChanged() {\n    this.setStickyTopOffsetTop();\n  }\n  setStickyTopOffsetTop() {\n    const headerCtrl = this.ctrlsService.get(\"gridHeaderCtrl\");\n    const headerHeight = headerCtrl.getHeaderHeight() + (this.filterManager?.getHeaderHeight() ?? 0);\n    const pinnedTopHeight = this.pinnedRowModel.getPinnedTopTotalHeight();\n    let height = 0;\n    if (headerHeight > 0) {\n      height += headerHeight;\n    }\n    if (pinnedTopHeight > 0) {\n      height += pinnedTopHeight;\n    }\n    if (height > 0) {\n      height += 1;\n    }\n    this.comp.setStickyTopTop(`${height}px`);\n  }\n  setStickyBottomOffsetBottom() {\n    const pinnedBottomHeight = this.pinnedRowModel.getPinnedBottomTotalHeight();\n    const hScrollShowing = this.scrollVisibleService.isHorizontalScrollShowing();\n    const scrollbarWidth = hScrollShowing ? this.scrollVisibleService.getScrollbarWidth() || 0 : 0;\n    const height = pinnedBottomHeight + scrollbarWidth;\n    this.comp.setStickyBottomBottom(`${height}px`);\n  }\n  // method will call itself if no available width. this covers if the grid\n  // isn't visible, but is just about to be visible.\n  sizeColumnsToFit(params, nextTimeout) {\n    const removeScrollWidth = this.isVerticalScrollShowing();\n    const scrollWidthToRemove = removeScrollWidth ? this.scrollVisibleService.getScrollbarWidth() : 0;\n    const bodyViewportWidth = _getInnerWidth(this.eGridBody);\n    const availableWidth = bodyViewportWidth - scrollWidthToRemove;\n    if (availableWidth > 0) {\n      this.columnSizeService.sizeColumnsToFit(availableWidth, \"sizeColumnsToFit\", false, params);\n      return;\n    }\n    if (nextTimeout === void 0) {\n      window.setTimeout(() => {\n        this.sizeColumnsToFit(params, 100);\n      }, 0);\n    } else if (nextTimeout === 100) {\n      window.setTimeout(() => {\n        this.sizeColumnsToFit(params, 500);\n      }, 100);\n    } else if (nextTimeout === 500) {\n      window.setTimeout(() => {\n        this.sizeColumnsToFit(params, -1);\n      }, 500);\n    } else {\n      _warnOnce(\n        \"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?\"\n      );\n    }\n  }\n  // + rangeService\n  addScrollEventListener(listener) {\n    this.eBodyViewport.addEventListener(\"scroll\", listener, { passive: true });\n  }\n  // + focusService\n  removeScrollEventListener(listener) {\n    this.eBodyViewport.removeEventListener(\"scroll\", listener);\n  }\n};\n\n// community-modules/core/src/rendering/cell/cellComp.ts\nvar CellComp = class extends Component {\n  constructor(beans, cellCtrl, printLayout, eRow, editingRow) {\n    super();\n    // every time we go into edit mode, or back again, this gets incremented.\n    // it's the components way of dealing with the async nature of framework components,\n    // so if a framework component takes a while to be created, we know if the object\n    // is still relevant when creating is finished. eg we could click edit / un-edit 20\n    // times before the first React edit component comes back - we should discard\n    // the first 19.\n    this.rendererVersion = 0;\n    this.editorVersion = 0;\n    this.beans = beans;\n    this.column = cellCtrl.getColumn();\n    this.rowNode = cellCtrl.getRowNode();\n    this.rowCtrl = cellCtrl.getRowCtrl();\n    this.eRow = eRow;\n    this.cellCtrl = cellCtrl;\n    const cellDiv = document.createElement(\"div\");\n    cellDiv.setAttribute(\"comp-id\", `${this.getCompId()}`);\n    this.setTemplateFromElement(cellDiv);\n    const eGui = this.getGui();\n    this.forceWrapper = cellCtrl.isForceWrapper();\n    this.refreshWrapper(false);\n    _setAriaRole(eGui, cellCtrl.getCellAriaRole());\n    eGui.setAttribute(\"col-id\", cellCtrl.colIdSanitised);\n    const compProxy = {\n      addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n      setUserStyles: (styles) => _addStylesToElement(eGui, styles),\n      getFocusableElement: () => this.getFocusableElement(),\n      setIncludeSelection: (include) => this.includeSelection = include,\n      setIncludeRowDrag: (include) => this.includeRowDrag = include,\n      setIncludeDndSource: (include) => this.includeDndSource = include,\n      setRenderDetails: (compDetails, valueToDisplay, force) => this.setRenderDetails(compDetails, valueToDisplay, force),\n      setEditDetails: (compDetails, popup, position) => this.setEditDetails(compDetails, popup, position),\n      getCellEditor: () => this.cellEditor || null,\n      getCellRenderer: () => this.cellRenderer || null,\n      getParentOfValue: () => this.getParentOfValue()\n    };\n    cellCtrl.setComp(compProxy, this.getGui(), this.eCellWrapper, printLayout, editingRow, void 0);\n  }\n  getParentOfValue() {\n    if (this.eCellValue) {\n      return this.eCellValue;\n    }\n    if (this.eCellWrapper) {\n      return this.eCellWrapper;\n    }\n    return this.getGui();\n  }\n  setRenderDetails(compDetails, valueToDisplay, forceNewCellRendererInstance) {\n    const isInlineEditing = this.cellEditor && !this.cellEditorPopupWrapper;\n    if (isInlineEditing) {\n      return;\n    }\n    this.firstRender = this.firstRender == null;\n    const controlWrapperChanged = this.refreshWrapper(false);\n    this.refreshEditStyles(false);\n    if (compDetails) {\n      const neverRefresh = forceNewCellRendererInstance || controlWrapperChanged;\n      const cellRendererRefreshSuccessful = neverRefresh ? false : this.refreshCellRenderer(compDetails);\n      if (!cellRendererRefreshSuccessful) {\n        this.destroyRenderer();\n        this.createCellRendererInstance(compDetails);\n      }\n    } else {\n      this.destroyRenderer();\n      this.insertValueWithoutCellRenderer(valueToDisplay);\n    }\n  }\n  setEditDetails(compDetails, popup, position) {\n    if (compDetails) {\n      this.createCellEditorInstance(compDetails, popup, position);\n    } else {\n      this.destroyEditor();\n    }\n  }\n  removeControls() {\n    this.checkboxSelectionComp = this.beans.context.destroyBean(this.checkboxSelectionComp);\n    this.dndSourceComp = this.beans.context.destroyBean(this.dndSourceComp);\n    this.rowDraggingComp = this.beans.context.destroyBean(this.rowDraggingComp);\n  }\n  // returns true if wrapper was changed\n  refreshWrapper(editing) {\n    const providingControls = this.includeRowDrag || this.includeDndSource || this.includeSelection;\n    const usingWrapper = providingControls || this.forceWrapper;\n    const putWrapperIn = usingWrapper && this.eCellWrapper == null;\n    if (putWrapperIn) {\n      const wrapperDiv = document.createElement(\"div\");\n      wrapperDiv.setAttribute(\"role\", \"presentation\");\n      wrapperDiv.setAttribute(\"class\", \"ag-cell-wrapper\");\n      this.eCellWrapper = wrapperDiv;\n      this.getGui().appendChild(this.eCellWrapper);\n    }\n    const takeWrapperOut = !usingWrapper && this.eCellWrapper != null;\n    if (takeWrapperOut) {\n      _removeFromParent(this.eCellWrapper);\n      this.eCellWrapper = void 0;\n    }\n    this.addOrRemoveCssClass(\"ag-cell-value\", !usingWrapper);\n    const usingCellValue = !editing && usingWrapper;\n    const putCellValueIn = usingCellValue && this.eCellValue == null;\n    if (putCellValueIn) {\n      const cellSpan = document.createElement(\"span\");\n      cellSpan.setAttribute(\"role\", \"presentation\");\n      cellSpan.setAttribute(\"class\", \"ag-cell-value\");\n      this.eCellValue = cellSpan;\n      this.eCellWrapper.appendChild(this.eCellValue);\n    }\n    const takeCellValueOut = !usingCellValue && this.eCellValue != null;\n    if (takeCellValueOut) {\n      _removeFromParent(this.eCellValue);\n      this.eCellValue = void 0;\n    }\n    const templateChanged = putWrapperIn || takeWrapperOut || putCellValueIn || takeCellValueOut;\n    if (templateChanged) {\n      this.removeControls();\n    }\n    if (!editing) {\n      if (providingControls) {\n        this.addControls();\n      }\n    }\n    return templateChanged;\n  }\n  addControls() {\n    if (this.includeRowDrag) {\n      if (this.rowDraggingComp == null) {\n        this.rowDraggingComp = this.cellCtrl.createRowDragComp();\n        if (this.rowDraggingComp) {\n          this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(), this.eCellValue);\n        }\n      }\n    }\n    if (this.includeDndSource) {\n      if (this.dndSourceComp == null) {\n        this.dndSourceComp = this.cellCtrl.createDndSource();\n        this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(), this.eCellValue);\n      }\n    }\n    if (this.includeSelection) {\n      if (this.checkboxSelectionComp == null) {\n        this.checkboxSelectionComp = this.cellCtrl.createSelectionCheckbox();\n        this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(), this.eCellValue);\n      }\n    }\n  }\n  createCellEditorInstance(compDetails, popup, position) {\n    const versionCopy = this.editorVersion;\n    const cellEditorPromise = compDetails.newAgStackInstance();\n    if (cellEditorPromise == null) {\n      return;\n    }\n    const { params } = compDetails;\n    cellEditorPromise.then((c) => this.afterCellEditorCreated(versionCopy, c, params, popup, position));\n    const cellEditorAsync = _missing(this.cellEditor);\n    if (cellEditorAsync && params.cellStartedEdit) {\n      this.cellCtrl.focusCell(true);\n    }\n  }\n  insertValueWithoutCellRenderer(valueToDisplay) {\n    const eParent = this.getParentOfValue();\n    _clearElement(eParent);\n    const escapedValue = valueToDisplay != null ? _escapeString(valueToDisplay, true) : null;\n    if (escapedValue != null) {\n      eParent.textContent = escapedValue;\n    }\n  }\n  destroyEditorAndRenderer() {\n    this.destroyRenderer();\n    this.destroyEditor();\n  }\n  destroyRenderer() {\n    const { context } = this.beans;\n    this.cellRenderer = context.destroyBean(this.cellRenderer);\n    _removeFromParent(this.cellRendererGui);\n    this.cellRendererGui = null;\n    this.rendererVersion++;\n  }\n  destroyEditor() {\n    const { context } = this.beans;\n    if (this.hideEditorPopup) {\n      this.hideEditorPopup();\n    }\n    this.hideEditorPopup = void 0;\n    this.cellEditor = context.destroyBean(this.cellEditor);\n    this.cellEditorPopupWrapper = context.destroyBean(this.cellEditorPopupWrapper);\n    _removeFromParent(this.cellEditorGui);\n    this.cellEditorGui = null;\n    this.editorVersion++;\n  }\n  refreshCellRenderer(compClassAndParams) {\n    if (this.cellRenderer == null || this.cellRenderer.refresh == null) {\n      return false;\n    }\n    if (this.cellRendererClass !== compClassAndParams.componentClass) {\n      return false;\n    }\n    const result = this.cellRenderer.refresh(compClassAndParams.params);\n    return result === true || result === void 0;\n  }\n  createCellRendererInstance(compDetails) {\n    const suppressAnimationFrame = this.beans.gos.get(\"suppressAnimationFrame\");\n    const useTaskService = !suppressAnimationFrame;\n    const displayComponentVersionCopy = this.rendererVersion;\n    const { componentClass } = compDetails;\n    const createCellRendererFunc = () => {\n      const staleTask = this.rendererVersion !== displayComponentVersionCopy || !this.isAlive();\n      if (staleTask) {\n        return;\n      }\n      const componentPromise = compDetails.newAgStackInstance();\n      const callback = this.afterCellRendererCreated.bind(this, displayComponentVersionCopy, componentClass);\n      if (componentPromise) {\n        componentPromise.then(callback);\n      }\n    };\n    if (useTaskService && this.firstRender) {\n      this.beans.animationFrameService.createTask(\n        createCellRendererFunc,\n        this.rowNode.rowIndex,\n        \"createTasksP2\"\n      );\n    } else {\n      createCellRendererFunc();\n    }\n  }\n  getCtrl() {\n    return this.cellCtrl;\n  }\n  getRowCtrl() {\n    return this.rowCtrl;\n  }\n  getCellRenderer() {\n    return this.cellRenderer;\n  }\n  getCellEditor() {\n    return this.cellEditor;\n  }\n  afterCellRendererCreated(cellRendererVersion, cellRendererClass, cellRenderer) {\n    const staleTask = !this.isAlive() || cellRendererVersion !== this.rendererVersion;\n    if (staleTask) {\n      this.beans.context.destroyBean(cellRenderer);\n      return;\n    }\n    this.cellRenderer = cellRenderer;\n    this.cellRendererClass = cellRendererClass;\n    this.cellRendererGui = this.cellRenderer.getGui();\n    if (this.cellRendererGui != null) {\n      const eParent = this.getParentOfValue();\n      _clearElement(eParent);\n      eParent.appendChild(this.cellRendererGui);\n    }\n  }\n  afterCellEditorCreated(requestVersion, cellEditor, params, popup, position) {\n    const staleComp = requestVersion !== this.editorVersion;\n    if (staleComp) {\n      this.beans.context.destroyBean(cellEditor);\n      return;\n    }\n    const editingCancelledByUserComp = cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart();\n    if (editingCancelledByUserComp) {\n      this.beans.context.destroyBean(cellEditor);\n      this.cellCtrl.stopEditing(true);\n      return;\n    }\n    if (!cellEditor.getGui) {\n      _warnOnce(`cellEditor for column ${this.column.getId()} is missing getGui() method`);\n      this.beans.context.destroyBean(cellEditor);\n      return;\n    }\n    this.cellEditor = cellEditor;\n    this.cellEditorGui = cellEditor.getGui();\n    const cellEditorInPopup = popup || cellEditor.isPopup !== void 0 && cellEditor.isPopup();\n    if (cellEditorInPopup) {\n      this.addPopupCellEditor(params, position);\n    } else {\n      this.addInCellEditor();\n    }\n    this.refreshEditStyles(true, cellEditorInPopup);\n    if (cellEditor.afterGuiAttached) {\n      cellEditor.afterGuiAttached();\n    }\n    this.cellCtrl.cellEditorAttached();\n  }\n  refreshEditStyles(editing, isPopup) {\n    this.addOrRemoveCssClass(\"ag-cell-inline-editing\", editing && !isPopup);\n    this.addOrRemoveCssClass(\"ag-cell-popup-editing\", editing && !!isPopup);\n    this.addOrRemoveCssClass(\"ag-cell-not-inline-editing\", !editing || !!isPopup);\n    this.rowCtrl?.setInlineEditingCss();\n  }\n  addInCellEditor() {\n    const eGui = this.getGui();\n    if (eGui.contains(_getActiveDomElement(this.beans.gos))) {\n      eGui.focus();\n    }\n    this.destroyRenderer();\n    this.refreshWrapper(true);\n    this.clearParentOfValue();\n    if (this.cellEditorGui) {\n      const eParent = this.getParentOfValue();\n      eParent.appendChild(this.cellEditorGui);\n    }\n  }\n  addPopupCellEditor(params, position) {\n    if (this.beans.gos.get(\"editType\") === \"fullRow\") {\n      _warnOnce(\n        \"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.\"\n      );\n    }\n    const cellEditor = this.cellEditor;\n    this.cellEditorPopupWrapper = this.beans.context.createBean(\n      this.beans.editService.createPopupEditorWrapper(params)\n    );\n    const ePopupGui = this.cellEditorPopupWrapper.getGui();\n    if (this.cellEditorGui) {\n      ePopupGui.appendChild(this.cellEditorGui);\n    }\n    const popupService = this.beans.popupService;\n    const useModelPopup = this.beans.gos.get(\"stopEditingWhenCellsLoseFocus\");\n    const positionToUse = position != null ? position : cellEditor.getPopupPosition?.() ?? \"over\";\n    const isRtl = this.beans.gos.get(\"enableRtl\");\n    const positionParams = {\n      ePopup: ePopupGui,\n      column: this.column,\n      rowNode: this.rowNode,\n      type: \"popupCellEditor\",\n      eventSource: this.getGui(),\n      position: positionToUse,\n      alignSide: isRtl ? \"right\" : \"left\",\n      keepWithinBounds: true\n    };\n    const positionCallback = popupService.positionPopupByComponent.bind(popupService, positionParams);\n    const translate = this.beans.localeService.getLocaleTextFunc();\n    const addPopupRes = popupService.addPopup({\n      modal: useModelPopup,\n      eChild: ePopupGui,\n      closeOnEsc: true,\n      closedCallback: () => {\n        this.cellCtrl.onPopupEditorClosed();\n      },\n      anchorToElement: this.getGui(),\n      positionCallback,\n      ariaLabel: translate(\"ariaLabelCellEditor\", \"Cell Editor\")\n    });\n    if (addPopupRes) {\n      this.hideEditorPopup = addPopupRes.hideFunc;\n    }\n  }\n  detach() {\n    this.eRow.removeChild(this.getGui());\n  }\n  // if the row is also getting destroyed, then we don't need to remove from dom,\n  // as the row will also get removed, so no need to take out the cells from the row\n  // if the row is going (removing is an expensive operation, so only need to remove\n  // the top part)\n  //\n  // note - this is NOT called by context, as we don't wire / unwire the CellComp for performance reasons.\n  destroy() {\n    this.cellCtrl.stopEditing();\n    this.destroyEditorAndRenderer();\n    this.removeControls();\n    super.destroy();\n  }\n  clearParentOfValue() {\n    const eGui = this.getGui();\n    if (eGui.contains(_getActiveDomElement(this.beans.gos)) && _browserSupportsPreventScroll()) {\n      eGui.focus({ preventScroll: true });\n    }\n    _clearElement(this.getParentOfValue());\n  }\n};\n\n// community-modules/core/src/rendering/row/rowComp.ts\nvar RowComp = class extends Component {\n  constructor(ctrl, beans, containerType) {\n    super();\n    this.cellComps = {};\n    this.beans = beans;\n    this.rowCtrl = ctrl;\n    const rowDiv = document.createElement(\"div\");\n    rowDiv.setAttribute(\"comp-id\", `${this.getCompId()}`);\n    this.setInitialStyle(rowDiv, containerType);\n    this.setTemplateFromElement(rowDiv);\n    const eGui = this.getGui();\n    const style = eGui.style;\n    this.domOrder = this.rowCtrl.getDomOrder();\n    _setAriaRole(eGui, \"row\");\n    const compProxy = {\n      setDomOrder: (domOrder) => this.domOrder = domOrder,\n      setCellCtrls: (cellCtrls) => this.setCellCtrls(cellCtrls),\n      showFullWidth: (compDetails) => this.showFullWidth(compDetails),\n      getFullWidthCellRenderer: () => this.fullWidthCellRenderer,\n      addOrRemoveCssClass: (name, on) => this.addOrRemoveCssClass(name, on),\n      setUserStyles: (styles) => _addStylesToElement(eGui, styles),\n      setTop: (top) => style.top = top,\n      setTransform: (transform) => style.transform = transform,\n      setRowIndex: (rowIndex) => eGui.setAttribute(\"row-index\", rowIndex),\n      setRowId: (rowId) => eGui.setAttribute(\"row-id\", rowId),\n      setRowBusinessKey: (businessKey) => eGui.setAttribute(\"row-business-key\", businessKey),\n      refreshFullWidth: (getUpdatedParams) => this.fullWidthCellRenderer?.refresh?.(getUpdatedParams()) ?? false\n    };\n    ctrl.setComp(compProxy, this.getGui(), containerType, void 0);\n    this.addDestroyFunc(() => {\n      ctrl.unsetComp(containerType);\n    });\n  }\n  setInitialStyle(container, containerType) {\n    const transform = this.rowCtrl.getInitialTransform(containerType);\n    if (transform) {\n      container.style.setProperty(\"transform\", transform);\n    } else {\n      const top = this.rowCtrl.getInitialRowTop(containerType);\n      if (top) {\n        container.style.setProperty(\"top\", top);\n      }\n    }\n  }\n  showFullWidth(compDetails) {\n    const callback = (cellRenderer) => {\n      if (this.isAlive()) {\n        const eGui = cellRenderer.getGui();\n        this.getGui().appendChild(eGui);\n        this.rowCtrl.setupDetailRowAutoHeight(eGui);\n        this.setFullWidthRowComp(cellRenderer);\n      } else {\n        this.beans.context.destroyBean(cellRenderer);\n      }\n    };\n    const res = compDetails.newAgStackInstance();\n    if (res == null) {\n      return;\n    }\n    res.then(callback);\n  }\n  setCellCtrls(cellCtrls) {\n    const cellsToRemove = Object.assign({}, this.cellComps);\n    cellCtrls.forEach((cellCtrl) => {\n      const key = cellCtrl.instanceId;\n      const existingCellComp = this.cellComps[key];\n      if (existingCellComp == null) {\n        this.newCellComp(cellCtrl);\n      } else {\n        cellsToRemove[key] = null;\n      }\n    });\n    const cellCompsToRemove = _getAllValuesInObject(cellsToRemove).filter((cellComp) => cellComp != null);\n    this.destroyCells(cellCompsToRemove);\n    this.ensureDomOrder(cellCtrls);\n  }\n  ensureDomOrder(cellCtrls) {\n    if (!this.domOrder) {\n      return;\n    }\n    const elementsInOrder = [];\n    cellCtrls.forEach((cellCtrl) => {\n      const cellComp = this.cellComps[cellCtrl.instanceId];\n      if (cellComp) {\n        elementsInOrder.push(cellComp.getGui());\n      }\n    });\n    _setDomChildOrder(this.getGui(), elementsInOrder);\n  }\n  newCellComp(cellCtrl) {\n    const cellComp = new CellComp(\n      this.beans,\n      cellCtrl,\n      this.rowCtrl.isPrintLayout(),\n      this.getGui(),\n      this.rowCtrl.isEditing()\n    );\n    this.cellComps[cellCtrl.instanceId] = cellComp;\n    this.getGui().appendChild(cellComp.getGui());\n  }\n  destroy() {\n    super.destroy();\n    this.destroyAllCells();\n  }\n  destroyAllCells() {\n    const cellsToDestroy = _getAllValuesInObject(this.cellComps).filter((cp) => cp != null);\n    this.destroyCells(cellsToDestroy);\n  }\n  setFullWidthRowComp(fullWidthRowComponent) {\n    if (this.fullWidthCellRenderer) {\n      _errorOnce(\"should not be setting fullWidthRowComponent twice\");\n    }\n    this.fullWidthCellRenderer = fullWidthRowComponent;\n    this.addDestroyFunc(() => {\n      this.fullWidthCellRenderer = this.beans.context.destroyBean(this.fullWidthCellRenderer);\n    });\n  }\n  destroyCells(cellComps) {\n    cellComps.forEach((cellComp) => {\n      if (!cellComp) {\n        return;\n      }\n      const instanceId = cellComp.getCtrl().instanceId;\n      if (this.cellComps[instanceId] !== cellComp) {\n        return;\n      }\n      cellComp.detach();\n      cellComp.destroy();\n      this.cellComps[instanceId] = null;\n    });\n  }\n};\n\n// community-modules/core/src/gridBodyComp/rowContainer/rowContainerComp.ts\nfunction templateFactory(options) {\n  let res;\n  if (options.type === \"center\") {\n    res = /* html */\n    `<div class=\"${options.viewport}\" data-ref=\"eViewport\" role=\"presentation\">\n                <div class=\"${options.container}\" data-ref=\"eContainer\" role=\"rowgroup\"></div>\n            </div>`;\n  } else {\n    res = /* html */\n    `<div class=\"${options.container}\" data-ref=\"eContainer\" role=\"rowgroup\"></div>`;\n  }\n  return res;\n}\nvar RowContainerComp = class extends Component {\n  constructor() {\n    super();\n    this.eViewport = RefPlaceholder;\n    this.eContainer = RefPlaceholder;\n    this.rowComps = {};\n    this.name = Component.elementGettingCreated.getAttribute(\"name\");\n    this.options = _getRowContainerOptions(this.name);\n    this.setTemplate(templateFactory(this.options));\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  postConstruct() {\n    const compProxy = {\n      setHorizontalScroll: (offset) => this.eViewport.scrollLeft = offset,\n      setViewportHeight: (height) => this.eViewport.style.height = height,\n      setRowCtrls: ({ rowCtrls }) => this.setRowCtrls(rowCtrls),\n      setDomOrder: (domOrder) => {\n        this.domOrder = domOrder;\n      },\n      setContainerWidth: (width) => this.eContainer.style.width = width,\n      setOffsetTop: (offset) => this.eContainer.style.transform = `translateY(${offset})`\n    };\n    const ctrl = this.createManagedBean(new RowContainerCtrl(this.name));\n    ctrl.setComp(compProxy, this.eContainer, this.eViewport);\n  }\n  destroy() {\n    this.setRowCtrls([]);\n    super.destroy();\n    this.lastPlacedElement = null;\n  }\n  setRowCtrls(rowCtrls) {\n    const { rowComps, beans, options } = this;\n    const oldRows = { ...rowComps };\n    this.rowComps = {};\n    this.lastPlacedElement = null;\n    const orderedRows = [];\n    for (const rowCtrl of rowCtrls) {\n      const instanceId = rowCtrl.instanceId;\n      const existingRowComp = oldRows[instanceId];\n      let rowComp;\n      if (existingRowComp) {\n        rowComp = existingRowComp;\n        delete oldRows[instanceId];\n      } else {\n        if (!rowCtrl.getRowNode().displayed) {\n          continue;\n        }\n        rowComp = new RowComp(rowCtrl, beans, options.type);\n      }\n      this.rowComps[instanceId] = rowComp;\n      orderedRows.push([rowComp, !existingRowComp]);\n    }\n    this.removeOldRows(Object.values(oldRows));\n    this.addRowNodes(orderedRows);\n  }\n  addRowNodes(rows) {\n    const { domOrder, eContainer } = this;\n    for (const [rowComp, isNew] of rows) {\n      const eGui = rowComp.getGui();\n      if (!domOrder) {\n        if (isNew) {\n          eContainer.appendChild(eGui);\n        }\n      } else {\n        this.ensureDomOrder(eGui);\n      }\n    }\n  }\n  removeOldRows(rowComps) {\n    const { eContainer } = this;\n    for (const oldRowComp of rowComps) {\n      eContainer.removeChild(oldRowComp.getGui());\n      oldRowComp.destroy();\n    }\n  }\n  ensureDomOrder(eRow) {\n    if (!this.domOrder) {\n      return;\n    }\n    _ensureDomOrder(this.eContainer, eRow, this.lastPlacedElement);\n    this.lastPlacedElement = eRow;\n  }\n};\nvar RowContainerSelector = {\n  selector: \"AG-ROW-CONTAINER\",\n  component: RowContainerComp\n};\n\n// community-modules/core/src/gridBodyComp/gridBodyComp.ts\nfunction makeRowContainers(names) {\n  return names.map((name) => `<ag-row-container name=\"${name}\"></ag-row-container>`).join(\"\");\n}\nvar GRID_BODY_TEMPLATE = (\n  /* html */\n  `<div class=\"ag-root ag-unselectable\" role=\"treegrid\">\n        <ag-header-root></ag-header-root>\n        <div class=\"ag-floating-top\" data-ref=\"eTop\" role=\"presentation\">\n            ${makeRowContainers([\"topLeft\", \"topCenter\", \"topRight\", \"topFullWidth\"])}\n        </div>\n        <div class=\"ag-body\" data-ref=\"eBody\" role=\"presentation\">\n            <div class=\"ag-body-viewport\" data-ref=\"eBodyViewport\" role=\"presentation\">\n            ${makeRowContainers([\"left\", \"center\", \"right\", \"fullWidth\"])}\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class=\"ag-sticky-top\" data-ref=\"eStickyTop\" role=\"presentation\">\n            ${makeRowContainers([\"stickyTopLeft\", \"stickyTopCenter\", \"stickyTopRight\", \"stickyTopFullWidth\"])}\n        </div>\n        <div class=\"ag-sticky-bottom\" data-ref=\"eStickyBottom\" role=\"presentation\">\n            ${makeRowContainers([\"stickyBottomLeft\", \"stickyBottomCenter\", \"stickyBottomRight\", \"stickyBottomFullWidth\"])}\n        </div>\n        <div class=\"ag-floating-bottom\" data-ref=\"eBottom\" role=\"presentation\">\n            ${makeRowContainers([\"bottomLeft\", \"bottomCenter\", \"bottomRight\", \"bottomFullWidth\"])}\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`\n);\nvar GridBodyComp = class extends Component {\n  constructor() {\n    super(GRID_BODY_TEMPLATE, [\n      OverlayWrapperSelector,\n      FakeHScrollSelector,\n      FakeVScrollSelector,\n      GridHeaderSelector,\n      RowContainerSelector\n    ]);\n    this.eBodyViewport = RefPlaceholder;\n    this.eStickyTop = RefPlaceholder;\n    this.eStickyBottom = RefPlaceholder;\n    this.eTop = RefPlaceholder;\n    this.eBottom = RefPlaceholder;\n    this.eBody = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    this.resizeObserverService = beans.resizeObserverService;\n    this.rangeService = beans.rangeService;\n  }\n  postConstruct() {\n    const setHeight = (height, element) => {\n      const heightString = `${height}px`;\n      element.style.minHeight = heightString;\n      element.style.height = heightString;\n    };\n    const compProxy = {\n      setRowAnimationCssOnBodyViewport: (cssClass, animate) => this.setRowAnimationCssOnBodyViewport(cssClass, animate),\n      setColumnCount: (count) => _setAriaColCount(this.getGui(), count),\n      setRowCount: (count) => _setAriaRowCount(this.getGui(), count),\n      setTopHeight: (height) => setHeight(height, this.eTop),\n      setBottomHeight: (height) => setHeight(height, this.eBottom),\n      setTopDisplay: (display) => this.eTop.style.display = display,\n      setBottomDisplay: (display) => this.eBottom.style.display = display,\n      setStickyTopHeight: (height) => this.eStickyTop.style.height = height,\n      setStickyTopTop: (top) => this.eStickyTop.style.top = top,\n      setStickyTopWidth: (width) => this.eStickyTop.style.width = width,\n      setStickyBottomHeight: (height) => {\n        this.eStickyBottom.style.height = height;\n        this.eStickyBottom.classList.toggle(\"ag-hidden\", height === \"0px\");\n      },\n      setStickyBottomBottom: (bottom) => this.eStickyBottom.style.bottom = bottom,\n      setStickyBottomWidth: (width) => this.eStickyBottom.style.width = width,\n      setColumnMovingCss: (cssClass, flag) => this.addOrRemoveCssClass(cssClass, flag),\n      updateLayoutClasses: (cssClass, params) => {\n        const classLists = [this.eBodyViewport.classList, this.eBody.classList];\n        classLists.forEach((classList) => {\n          classList.toggle(\"ag-layout-auto-height\" /* AUTO_HEIGHT */, params.autoHeight);\n          classList.toggle(\"ag-layout-normal\" /* NORMAL */, params.normal);\n          classList.toggle(\"ag-layout-print\" /* PRINT */, params.print);\n        });\n        this.addOrRemoveCssClass(\"ag-layout-auto-height\" /* AUTO_HEIGHT */, params.autoHeight);\n        this.addOrRemoveCssClass(\"ag-layout-normal\" /* NORMAL */, params.normal);\n        this.addOrRemoveCssClass(\"ag-layout-print\" /* PRINT */, params.print);\n      },\n      setAlwaysVerticalScrollClass: (cssClass, on) => this.eBodyViewport.classList.toggle(CSS_CLASS_FORCE_VERTICAL_SCROLL, on),\n      registerBodyViewportResizeListener: (listener) => {\n        const unsubscribeFromResize = this.resizeObserverService.observeResize(this.eBodyViewport, listener);\n        this.addDestroyFunc(() => unsubscribeFromResize());\n      },\n      setPinnedTopBottomOverflowY: (overflow) => this.eTop.style.overflowY = this.eBottom.style.overflowY = overflow,\n      setCellSelectableCss: (cssClass, selectable) => {\n        [this.eTop, this.eBodyViewport, this.eBottom].forEach(\n          (ct) => ct.classList.toggle(cssClass, selectable)\n        );\n      },\n      setBodyViewportWidth: (width) => this.eBodyViewport.style.width = width\n    };\n    this.ctrl = this.createManagedBean(new GridBodyCtrl());\n    this.ctrl.setComp(\n      compProxy,\n      this.getGui(),\n      this.eBodyViewport,\n      this.eTop,\n      this.eBottom,\n      this.eStickyTop,\n      this.eStickyBottom\n    );\n    if (this.rangeService && _isCellSelectionEnabled(this.gos) || _isMultiRowSelection(this.gos)) {\n      _setAriaMultiSelectable(this.getGui(), true);\n    }\n  }\n  setRowAnimationCssOnBodyViewport(cssClass, animateRows) {\n    const bodyViewportClassList = this.eBodyViewport.classList;\n    bodyViewportClassList.toggle(\"ag-row-animation\", animateRows);\n    bodyViewportClassList.toggle(\"ag-row-no-animation\", !animateRows);\n  }\n  getFloatingTopBottom() {\n    return [this.eTop, this.eBottom];\n  }\n};\nvar GridBodySelector = {\n  selector: \"AG-GRID-BODY\",\n  component: GridBodyComp\n};\n\n// community-modules/core/src/gridBodyComp/scrollVisibleService.ts\nvar ScrollVisibleService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"scrollVisibleService\";\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.columnAnimationService = beans.columnAnimationService;\n  }\n  postConstruct() {\n    this.getScrollbarWidth();\n    this.addManagedEventListeners({\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this),\n      displayedColumnsWidthChanged: this.onDisplayedColumnsWidthChanged.bind(this)\n    });\n  }\n  onDisplayedColumnsChanged() {\n    this.updateScrollVisible();\n  }\n  onDisplayedColumnsWidthChanged() {\n    this.updateScrollVisible();\n  }\n  onCentreViewportResized() {\n    this.updateScrollGap();\n  }\n  updateScrollVisible() {\n    if (this.columnAnimationService.isActive()) {\n      this.columnAnimationService.executeLaterVMTurn(() => {\n        this.columnAnimationService.executeLaterVMTurn(() => this.updateScrollVisibleImpl());\n      });\n    } else {\n      this.updateScrollVisibleImpl();\n    }\n  }\n  updateScrollVisibleImpl() {\n    const centerRowCtrl = this.ctrlsService.get(\"center\");\n    if (!centerRowCtrl || this.columnAnimationService.isActive()) {\n      return;\n    }\n    const params = {\n      horizontalScrollShowing: centerRowCtrl.isHorizontalScrollShowing(),\n      verticalScrollShowing: this.isVerticalScrollShowing()\n    };\n    this.setScrollsVisible(params);\n    this.updateScrollGap();\n  }\n  updateScrollGap() {\n    const centerRowCtrl = this.ctrlsService.get(\"center\");\n    const horizontalGap = centerRowCtrl.hasHorizontalScrollGap();\n    const verticalGap = centerRowCtrl.hasVerticalScrollGap();\n    const atLeastOneDifferent = this.horizontalScrollGap !== horizontalGap || this.verticalScrollGap !== verticalGap;\n    if (atLeastOneDifferent) {\n      this.horizontalScrollGap = horizontalGap;\n      this.verticalScrollGap = verticalGap;\n      this.eventService.dispatchEvent({\n        type: \"scrollGapChanged\"\n      });\n    }\n  }\n  setScrollsVisible(params) {\n    const atLeastOneDifferent = this.horizontalScrollShowing !== params.horizontalScrollShowing || this.verticalScrollShowing !== params.verticalScrollShowing;\n    if (atLeastOneDifferent) {\n      this.horizontalScrollShowing = params.horizontalScrollShowing;\n      this.verticalScrollShowing = params.verticalScrollShowing;\n      this.eventService.dispatchEvent({\n        type: \"scrollVisibilityChanged\"\n      });\n    }\n  }\n  // used by pagination service - to know page height\n  isHorizontalScrollShowing() {\n    return this.horizontalScrollShowing;\n  }\n  // used by header container\n  isVerticalScrollShowing() {\n    return this.verticalScrollShowing;\n  }\n  hasHorizontalScrollGap() {\n    return this.horizontalScrollGap;\n  }\n  hasVerticalScrollGap() {\n    return this.verticalScrollGap;\n  }\n  // the user might be using some non-standard scrollbar, eg a scrollbar that has zero\n  // width and overlays (like the Safari scrollbar, but presented in Chrome). so we\n  // allow the user to provide the scroll width before we work it out.\n  getScrollbarWidth() {\n    if (this.scrollbarWidth == null) {\n      const gridOptionsScrollbarWidth = this.gos.get(\"scrollbarWidth\");\n      const useGridOptions = typeof gridOptionsScrollbarWidth === \"number\" && gridOptionsScrollbarWidth >= 0;\n      const scrollbarWidth = useGridOptions ? gridOptionsScrollbarWidth : _getScrollbarWidth();\n      if (scrollbarWidth != null) {\n        this.scrollbarWidth = scrollbarWidth;\n        this.eventService.dispatchEvent({\n          type: \"scrollbarWidthChanged\"\n        });\n      }\n    }\n    return this.scrollbarWidth;\n  }\n};\n\n// community-modules/core/src/gridBodyComp/mouseEventService.ts\nvar GRID_DOM_KEY = \"__ag_grid_instance\";\nvar _MouseEventService = class _MouseEventService extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"mouseEventService\";\n    this.gridInstanceId = _MouseEventService.gridInstanceSequence.next();\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n  }\n  // we put the instance id onto the main DOM element. this is used for events, when grids are inside grids,\n  // so the grid can work out if the even came from this grid or a grid inside this one. see the ctrl+v logic\n  // for where this is used.\n  stampTopLevelGridCompWithGridInstance(eGridDiv) {\n    eGridDiv[GRID_DOM_KEY] = this.gridInstanceId;\n  }\n  getRenderedCellForEvent(event) {\n    return _getCtrlForEventTarget(this.gos, event.target, CellCtrl.DOM_DATA_KEY_CELL_CTRL);\n  }\n  // walks the path of the event, and returns true if this grid is the first one that it finds. if doing\n  // master / detail grids, and a child grid is found, then it returns false. this stops things like copy/paste\n  // getting executed on many grids at the same time.\n  isEventFromThisGrid(event) {\n    const res = this.isElementInThisGrid(event.target);\n    return res;\n  }\n  isElementInThisGrid(element) {\n    let pointer = element;\n    while (pointer) {\n      const instanceId = pointer[GRID_DOM_KEY];\n      if (_exists(instanceId)) {\n        const eventFromThisGrid = instanceId === this.gridInstanceId;\n        return eventFromThisGrid;\n      }\n      pointer = pointer.parentElement;\n    }\n    return false;\n  }\n  getCellPositionForEvent(event) {\n    const cellComp = this.getRenderedCellForEvent(event);\n    return cellComp ? cellComp.getCellPosition() : null;\n  }\n  getNormalisedPosition(event) {\n    const gridPanelHasScrolls = _isDomLayout(this.gos, \"normal\");\n    const e = event;\n    let x;\n    let y;\n    if (e.clientX != null || e.clientY != null) {\n      x = e.clientX;\n      y = e.clientY;\n    } else {\n      x = e.x;\n      y = e.y;\n    }\n    if (gridPanelHasScrolls) {\n      const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n      const vRange = gridBodyCon.getScrollFeature().getVScrollPosition();\n      const hRange = gridBodyCon.getScrollFeature().getHScrollPosition();\n      x += hRange.left;\n      y += vRange.top;\n    }\n    return { x, y };\n  }\n};\n_MouseEventService.gridInstanceSequence = new NumberSequence();\nvar MouseEventService = _MouseEventService;\n\n// community-modules/core/src/gridBodyComp/navigationService.ts\nvar NavigationService = class extends BeanStub {\n  constructor() {\n    super();\n    this.beanName = \"navigationService\";\n    this.onPageDown = _throttle(this.onPageDown, 100);\n    this.onPageUp = _throttle(this.onPageUp, 100);\n  }\n  wireBeans(beans) {\n    this.mouseEventService = beans.mouseEventService;\n    this.pageBoundsService = beans.pageBoundsService;\n    this.focusService = beans.focusService;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.rowModel = beans.rowModel;\n    this.ctrlsService = beans.ctrlsService;\n    this.rowRenderer = beans.rowRenderer;\n    this.headerNavigationService = beans.headerNavigationService;\n    this.rowPositionUtils = beans.rowPositionUtils;\n    this.cellNavigationService = beans.cellNavigationService;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.scrollVisibleService = beans.scrollVisibleService;\n    this.rangeService = beans.rangeService;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridBodyCon = p.gridBodyCtrl;\n    });\n  }\n  handlePageScrollingKey(event, fromFullWidth = false) {\n    const key = event.key;\n    const alt = event.altKey;\n    const ctrl = event.ctrlKey || event.metaKey;\n    const rangeServiceShouldHandleShift = !!this.rangeService && event.shiftKey;\n    const currentCell = this.mouseEventService.getCellPositionForEvent(event);\n    let processed = false;\n    switch (key) {\n      case KeyCode.PAGE_HOME:\n      case KeyCode.PAGE_END:\n        if (!ctrl && !alt) {\n          this.onHomeOrEndKey(key);\n          processed = true;\n        }\n        break;\n      case KeyCode.LEFT:\n      case KeyCode.RIGHT:\n      case KeyCode.UP:\n      case KeyCode.DOWN:\n        if (!currentCell) {\n          return false;\n        }\n        if (ctrl && !alt && !rangeServiceShouldHandleShift) {\n          this.onCtrlUpDownLeftRight(key, currentCell);\n          processed = true;\n        }\n        break;\n      case KeyCode.PAGE_DOWN:\n      case KeyCode.PAGE_UP:\n        if (!ctrl && !alt) {\n          processed = this.handlePageUpDown(key, currentCell, fromFullWidth);\n        }\n        break;\n    }\n    if (processed) {\n      event.preventDefault();\n    }\n    return processed;\n  }\n  handlePageUpDown(key, currentCell, fromFullWidth) {\n    if (fromFullWidth) {\n      currentCell = this.focusService.getFocusedCell();\n    }\n    if (!currentCell) {\n      return false;\n    }\n    if (key === KeyCode.PAGE_UP) {\n      this.onPageUp(currentCell);\n    } else {\n      this.onPageDown(currentCell);\n    }\n    return true;\n  }\n  navigateTo(navigateParams) {\n    const { scrollIndex, scrollType, scrollColumn, focusIndex, focusColumn } = navigateParams;\n    if (_exists(scrollColumn) && !scrollColumn.isPinned()) {\n      this.gridBodyCon.getScrollFeature().ensureColumnVisible(scrollColumn);\n    }\n    if (_exists(scrollIndex)) {\n      this.gridBodyCon.getScrollFeature().ensureIndexVisible(scrollIndex, scrollType);\n    }\n    if (!navigateParams.isAsync) {\n      this.gridBodyCon.getScrollFeature().ensureIndexVisible(focusIndex);\n    }\n    this.focusService.setFocusedCell({\n      rowIndex: focusIndex,\n      column: focusColumn,\n      rowPinned: null,\n      forceBrowserFocus: true\n    });\n    this.rangeService?.setRangeToCell({ rowIndex: focusIndex, rowPinned: null, column: focusColumn });\n  }\n  // this method is throttled, see the `constructor`\n  onPageDown(gridCell) {\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    const scrollPosition = gridBodyCon.getScrollFeature().getVScrollPosition();\n    const pixelsInOnePage = this.getViewportHeight();\n    const pagingPixelOffset = this.pageBoundsService.getPixelOffset();\n    const currentPageBottomPixel = scrollPosition.top + pixelsInOnePage;\n    const currentPageBottomRow = this.rowModel.getRowIndexAtPixel(currentPageBottomPixel + pagingPixelOffset);\n    if (this.columnModel.isAutoRowHeightActive()) {\n      this.navigateToNextPageWithAutoHeight(gridCell, currentPageBottomRow);\n    } else {\n      this.navigateToNextPage(gridCell, currentPageBottomRow);\n    }\n  }\n  // this method is throttled, see the `constructor`\n  onPageUp(gridCell) {\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    const scrollPosition = gridBodyCon.getScrollFeature().getVScrollPosition();\n    const pagingPixelOffset = this.pageBoundsService.getPixelOffset();\n    const currentPageTopPixel = scrollPosition.top;\n    const currentPageTopRow = this.rowModel.getRowIndexAtPixel(currentPageTopPixel + pagingPixelOffset);\n    if (this.columnModel.isAutoRowHeightActive()) {\n      this.navigateToNextPageWithAutoHeight(gridCell, currentPageTopRow, true);\n    } else {\n      this.navigateToNextPage(gridCell, currentPageTopRow, true);\n    }\n  }\n  navigateToNextPage(gridCell, scrollIndex, up = false) {\n    const pixelsInOnePage = this.getViewportHeight();\n    const firstRow = this.pageBoundsService.getFirstRow();\n    const lastRow = this.pageBoundsService.getLastRow();\n    const pagingPixelOffset = this.pageBoundsService.getPixelOffset();\n    const currentRowNode = this.rowModel.getRow(gridCell.rowIndex);\n    const rowPixelDiff = up ? (\n      // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n      currentRowNode?.rowHeight - pixelsInOnePage - pagingPixelOffset\n    ) : pixelsInOnePage - pagingPixelOffset;\n    const nextCellPixel = currentRowNode?.rowTop + rowPixelDiff;\n    let focusIndex = this.rowModel.getRowIndexAtPixel(nextCellPixel + pagingPixelOffset);\n    if (focusIndex === gridCell.rowIndex) {\n      const diff = up ? -1 : 1;\n      scrollIndex = focusIndex = gridCell.rowIndex + diff;\n    }\n    let scrollType;\n    if (up) {\n      scrollType = \"bottom\";\n      if (focusIndex < firstRow) {\n        focusIndex = firstRow;\n      }\n      if (scrollIndex < firstRow) {\n        scrollIndex = firstRow;\n      }\n    } else {\n      scrollType = \"top\";\n      if (focusIndex > lastRow) {\n        focusIndex = lastRow;\n      }\n      if (scrollIndex > lastRow) {\n        scrollIndex = lastRow;\n      }\n    }\n    if (this.isRowTallerThanView(focusIndex)) {\n      scrollIndex = focusIndex;\n      scrollType = \"top\";\n    }\n    this.navigateTo({\n      scrollIndex,\n      scrollType,\n      scrollColumn: null,\n      focusIndex,\n      focusColumn: gridCell.column\n    });\n  }\n  navigateToNextPageWithAutoHeight(gridCell, scrollIndex, up = false) {\n    this.navigateTo({\n      scrollIndex,\n      scrollType: up ? \"bottom\" : \"top\",\n      scrollColumn: null,\n      focusIndex: scrollIndex,\n      focusColumn: gridCell.column\n    });\n    setTimeout(() => {\n      const focusIndex = this.getNextFocusIndexForAutoHeight(gridCell, up);\n      this.navigateTo({\n        scrollIndex,\n        scrollType: up ? \"bottom\" : \"top\",\n        scrollColumn: null,\n        focusIndex,\n        focusColumn: gridCell.column,\n        isAsync: true\n      });\n    }, 50);\n  }\n  getNextFocusIndexForAutoHeight(gridCell, up = false) {\n    const step = up ? -1 : 1;\n    const pixelsInOnePage = this.getViewportHeight();\n    const lastRowIndex = this.pageBoundsService.getLastRow();\n    let pixelSum = 0;\n    let currentIndex = gridCell.rowIndex;\n    while (currentIndex >= 0 && currentIndex <= lastRowIndex) {\n      const currentCell = this.rowModel.getRow(currentIndex);\n      if (currentCell) {\n        const currentCellHeight = currentCell.rowHeight ?? 0;\n        if (pixelSum + currentCellHeight > pixelsInOnePage) {\n          break;\n        }\n        pixelSum += currentCellHeight;\n      }\n      currentIndex += step;\n    }\n    return Math.max(0, Math.min(currentIndex, lastRowIndex));\n  }\n  getViewportHeight() {\n    const scrollPosition = this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();\n    const scrollbarWidth = this.scrollVisibleService.getScrollbarWidth();\n    let pixelsInOnePage = scrollPosition.bottom - scrollPosition.top;\n    if (this.ctrlsService.get(\"center\").isHorizontalScrollShowing()) {\n      pixelsInOnePage -= scrollbarWidth;\n    }\n    return pixelsInOnePage;\n  }\n  isRowTallerThanView(rowIndex) {\n    const rowNode = this.rowModel.getRow(rowIndex);\n    if (!rowNode) {\n      return false;\n    }\n    const rowHeight = rowNode.rowHeight;\n    if (typeof rowHeight !== \"number\") {\n      return false;\n    }\n    return rowHeight > this.getViewportHeight();\n  }\n  onCtrlUpDownLeftRight(key, gridCell) {\n    const cellToFocus = this.cellNavigationService.getNextCellToFocus(key, gridCell, true);\n    const { rowIndex } = cellToFocus;\n    const column = cellToFocus.column;\n    this.navigateTo({\n      scrollIndex: rowIndex,\n      scrollType: null,\n      scrollColumn: column,\n      focusIndex: rowIndex,\n      focusColumn: column\n    });\n  }\n  // home brings focus to top left cell, end brings focus to bottom right, grid scrolled to bring\n  // same cell into view (which means either scroll all the way up, or all the way down).\n  onHomeOrEndKey(key) {\n    const homeKey = key === KeyCode.PAGE_HOME;\n    const allColumns = this.visibleColsService.getAllCols();\n    const columnToSelect = homeKey ? allColumns[0] : _last(allColumns);\n    const scrollIndex = homeKey ? this.pageBoundsService.getFirstRow() : this.pageBoundsService.getLastRow();\n    this.navigateTo({\n      scrollIndex,\n      scrollType: null,\n      scrollColumn: columnToSelect,\n      focusIndex: scrollIndex,\n      focusColumn: columnToSelect\n    });\n  }\n  // result of keyboard event\n  onTabKeyDown(previous, keyboardEvent) {\n    const backwards = keyboardEvent.shiftKey;\n    const movedToNextCell = this.tabToNextCellCommon(previous, backwards, keyboardEvent);\n    if (movedToNextCell !== false) {\n      if (movedToNextCell) {\n        keyboardEvent.preventDefault();\n      } else if (movedToNextCell === null) {\n        this.focusService.allowFocusForNextGridCoreContainer(backwards);\n      }\n      return;\n    }\n    if (backwards) {\n      const { rowIndex, rowPinned } = previous.getRowPosition();\n      const firstRow = rowPinned ? rowIndex === 0 : rowIndex === this.pageBoundsService.getFirstRow();\n      if (firstRow) {\n        if (this.gos.get(\"headerHeight\") === 0 || this.focusService.isHeaderFocusSuppressed()) {\n          this.focusService.focusNextGridCoreContainer(true, true);\n        } else {\n          keyboardEvent.preventDefault();\n          this.focusService.focusPreviousFromFirstCell(keyboardEvent);\n        }\n      }\n    } else {\n      if (previous instanceof CellCtrl) {\n        previous.focusCell(true);\n      }\n      if (!backwards && this.focusService.focusOverlay(false) || this.focusService.focusNextGridCoreContainer(backwards)) {\n        keyboardEvent.preventDefault();\n      }\n    }\n  }\n  // comes from API\n  tabToNextCell(backwards, event) {\n    const focusedCell = this.focusService.getFocusedCell();\n    if (!focusedCell) {\n      return false;\n    }\n    let cellOrRow = this.getCellByPosition(focusedCell);\n    if (!cellOrRow) {\n      cellOrRow = this.rowRenderer.getRowByPosition(focusedCell);\n      if (!cellOrRow || !cellOrRow.isFullWidth()) {\n        return false;\n      }\n    }\n    return !!this.tabToNextCellCommon(cellOrRow, backwards, event);\n  }\n  tabToNextCellCommon(previous, backwards, event) {\n    let editing = previous.isEditing();\n    if (!editing && previous instanceof CellCtrl) {\n      const cell = previous;\n      const row = cell.getRowCtrl();\n      if (row) {\n        editing = row.isEditing();\n      }\n    }\n    let res;\n    if (editing) {\n      if (this.gos.get(\"editType\") === \"fullRow\") {\n        res = this.moveToNextEditingRow(previous, backwards, event);\n      } else {\n        res = this.moveToNextEditingCell(previous, backwards, event);\n      }\n    } else {\n      res = this.moveToNextCellNotEditing(previous, backwards);\n    }\n    if (res === null) {\n      return res;\n    }\n    return res || !!this.focusService.getFocusedHeader();\n  }\n  // returns null if no navigation should be performed\n  moveToNextEditingCell(previousCell, backwards, event = null) {\n    const previousPos = previousCell.getCellPosition();\n    previousCell.getGui().focus();\n    previousCell.stopEditing();\n    const nextCell = this.findNextCellToFocusOn(previousPos, backwards, true);\n    if (nextCell === false) {\n      return null;\n    }\n    if (nextCell == null) {\n      return false;\n    }\n    nextCell.startEditing(null, true, event);\n    nextCell.focusCell(false);\n    return true;\n  }\n  // returns null if no navigation should be performed\n  moveToNextEditingRow(previousCell, backwards, event = null) {\n    const previousPos = previousCell.getCellPosition();\n    const nextCell = this.findNextCellToFocusOn(previousPos, backwards, true);\n    if (nextCell === false) {\n      return null;\n    }\n    if (nextCell == null) {\n      return false;\n    }\n    const nextPos = nextCell.getCellPosition();\n    const previousEditable = this.isCellEditable(previousPos);\n    const nextEditable = this.isCellEditable(nextPos);\n    const rowsMatch = nextPos && previousPos.rowIndex === nextPos.rowIndex && previousPos.rowPinned === nextPos.rowPinned;\n    if (previousEditable) {\n      previousCell.setFocusOutOnEditor();\n    }\n    if (!rowsMatch) {\n      const pRow = previousCell.getRowCtrl();\n      pRow.stopEditing();\n      const nRow = nextCell.getRowCtrl();\n      nRow.startRowEditing(void 0, void 0, event);\n    }\n    if (nextEditable) {\n      nextCell.setFocusInOnEditor();\n      nextCell.focusCell();\n    } else {\n      nextCell.focusCell(true);\n    }\n    return true;\n  }\n  // returns null if no navigation should be performed\n  moveToNextCellNotEditing(previousCell, backwards) {\n    const displayedColumns = this.visibleColsService.getAllCols();\n    let cellPos;\n    if (previousCell instanceof RowCtrl) {\n      cellPos = {\n        ...previousCell.getRowPosition(),\n        column: backwards ? displayedColumns[0] : _last(displayedColumns)\n      };\n    } else {\n      cellPos = previousCell.getCellPosition();\n    }\n    const nextCell = this.findNextCellToFocusOn(cellPos, backwards, false);\n    if (nextCell === false) {\n      return null;\n    }\n    if (nextCell instanceof CellCtrl) {\n      nextCell.focusCell(true);\n    } else if (nextCell) {\n      return this.tryToFocusFullWidthRow(nextCell.getRowPosition(), backwards);\n    }\n    return _exists(nextCell);\n  }\n  /**\n   * called by the cell, when tab is pressed while editing.\n   * @return: RenderedCell when navigation successful, false if navigation should not be performed, otherwise null\n   */\n  findNextCellToFocusOn(previousPosition, backwards, startEditing) {\n    let nextPosition = previousPosition;\n    while (true) {\n      if (previousPosition !== nextPosition) {\n        previousPosition = nextPosition;\n      }\n      if (!backwards) {\n        nextPosition = this.getLastCellOfColSpan(nextPosition);\n      }\n      nextPosition = this.cellNavigationService.getNextTabbedCell(nextPosition, backwards);\n      const userFunc = this.gos.getCallback(\"tabToNextCell\");\n      if (_exists(userFunc)) {\n        const params = {\n          backwards,\n          editing: startEditing,\n          previousCellPosition: previousPosition,\n          nextCellPosition: nextPosition ? nextPosition : null\n        };\n        const userResult = userFunc(params);\n        if (userResult === true || userResult === null) {\n          if (userResult === null) {\n            _warnOnce(\n              \"Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour.\"\n            );\n          }\n          nextPosition = previousPosition;\n        } else if (userResult === false) {\n          return false;\n        } else {\n          nextPosition = {\n            rowIndex: userResult.rowIndex,\n            column: userResult.column,\n            rowPinned: userResult.rowPinned\n          };\n        }\n      }\n      if (!nextPosition) {\n        return null;\n      }\n      if (nextPosition.rowIndex < 0) {\n        const headerLen = this.headerNavigationService.getHeaderRowCount();\n        this.focusService.focusHeaderPosition({\n          headerPosition: {\n            headerRowIndex: headerLen + nextPosition.rowIndex,\n            column: nextPosition.column\n          },\n          fromCell: true\n        });\n        return null;\n      }\n      const fullRowEdit = this.gos.get(\"editType\") === \"fullRow\";\n      if (startEditing && !fullRowEdit) {\n        const cellIsEditable = this.isCellEditable(nextPosition);\n        if (!cellIsEditable) {\n          continue;\n        }\n      }\n      this.ensureCellVisible(nextPosition);\n      const nextCell = this.getCellByPosition(nextPosition);\n      if (!nextCell) {\n        const row = this.rowRenderer.getRowByPosition(nextPosition);\n        if (!row || !row.isFullWidth() || startEditing) {\n          continue;\n        }\n        return row;\n      }\n      if (nextCell.isSuppressNavigable()) {\n        continue;\n      }\n      this.rangeService?.setRangeToCell(nextPosition);\n      return nextCell;\n    }\n  }\n  isCellEditable(cell) {\n    const rowNode = this.lookupRowNodeForCell(cell);\n    if (rowNode) {\n      return cell.column.isCellEditable(rowNode);\n    }\n    return false;\n  }\n  getCellByPosition(cellPosition) {\n    const rowCtrl = this.rowRenderer.getRowByPosition(cellPosition);\n    if (!rowCtrl) {\n      return null;\n    }\n    return rowCtrl.getCellCtrl(cellPosition.column);\n  }\n  lookupRowNodeForCell(cell) {\n    if (cell.rowPinned === \"top\") {\n      return this.pinnedRowModel.getPinnedTopRow(cell.rowIndex);\n    }\n    if (cell.rowPinned === \"bottom\") {\n      return this.pinnedRowModel.getPinnedBottomRow(cell.rowIndex);\n    }\n    return this.rowModel.getRow(cell.rowIndex);\n  }\n  // we use index for rows, but column object for columns, as the next column (by index) might not\n  // be visible (header grouping) so it's not reliable, so using the column object instead.\n  navigateToNextCell(event, key, currentCell, allowUserOverride) {\n    let nextCell = currentCell;\n    let hitEdgeOfGrid = false;\n    while (nextCell && (nextCell === currentCell || !this.isValidNavigateCell(nextCell))) {\n      if (this.gos.get(\"enableRtl\")) {\n        if (key === KeyCode.LEFT) {\n          nextCell = this.getLastCellOfColSpan(nextCell);\n        }\n      } else if (key === KeyCode.RIGHT) {\n        nextCell = this.getLastCellOfColSpan(nextCell);\n      }\n      nextCell = this.cellNavigationService.getNextCellToFocus(key, nextCell);\n      hitEdgeOfGrid = _missing(nextCell);\n    }\n    if (hitEdgeOfGrid && event && event.key === KeyCode.UP) {\n      nextCell = {\n        rowIndex: -1,\n        rowPinned: null,\n        column: currentCell.column\n      };\n    }\n    if (allowUserOverride) {\n      const userFunc = this.gos.getCallback(\"navigateToNextCell\");\n      if (_exists(userFunc)) {\n        const params = {\n          key,\n          previousCellPosition: currentCell,\n          nextCellPosition: nextCell ? nextCell : null,\n          event\n        };\n        const userCell = userFunc(params);\n        if (_exists(userCell)) {\n          nextCell = {\n            rowPinned: userCell.rowPinned,\n            rowIndex: userCell.rowIndex,\n            column: userCell.column\n          };\n        } else {\n          nextCell = null;\n        }\n      }\n    }\n    if (!nextCell) {\n      return;\n    }\n    if (nextCell.rowIndex < 0) {\n      const headerLen = this.headerNavigationService.getHeaderRowCount();\n      this.focusService.focusHeaderPosition({\n        headerPosition: { headerRowIndex: headerLen + nextCell.rowIndex, column: currentCell.column },\n        event: event || void 0,\n        fromCell: true\n      });\n      return;\n    }\n    const normalisedPosition = this.getNormalisedPosition(nextCell);\n    if (normalisedPosition) {\n      this.focusPosition(normalisedPosition);\n    } else {\n      this.tryToFocusFullWidthRow(nextCell);\n    }\n  }\n  getNormalisedPosition(cellPosition) {\n    this.ensureCellVisible(cellPosition);\n    const cellCtrl = this.getCellByPosition(cellPosition);\n    if (!cellCtrl) {\n      return null;\n    }\n    cellPosition = cellCtrl.getCellPosition();\n    this.ensureCellVisible(cellPosition);\n    return cellPosition;\n  }\n  tryToFocusFullWidthRow(position, backwards) {\n    const displayedColumns = this.visibleColsService.getAllCols();\n    const rowComp = this.rowRenderer.getRowByPosition(position);\n    if (!rowComp || !rowComp.isFullWidth()) {\n      return false;\n    }\n    const currentCellFocused = this.focusService.getFocusedCell();\n    const cellPosition = {\n      rowIndex: position.rowIndex,\n      rowPinned: position.rowPinned,\n      column: position.column || (backwards ? _last(displayedColumns) : displayedColumns[0])\n    };\n    this.focusPosition(cellPosition);\n    const fromBelow = backwards == null ? currentCellFocused != null && this.rowPositionUtils.before(cellPosition, currentCellFocused) : backwards;\n    this.eventService.dispatchEvent({\n      type: \"fullWidthRowFocused\",\n      rowIndex: cellPosition.rowIndex,\n      rowPinned: cellPosition.rowPinned,\n      column: cellPosition.column,\n      isFullWidthCell: true,\n      fromBelow\n    });\n    return true;\n  }\n  focusPosition(cellPosition) {\n    this.focusService.setFocusedCell({\n      rowIndex: cellPosition.rowIndex,\n      column: cellPosition.column,\n      rowPinned: cellPosition.rowPinned,\n      forceBrowserFocus: true\n    });\n    this.rangeService?.setRangeToCell(cellPosition);\n  }\n  isValidNavigateCell(cell) {\n    const rowNode = this.rowPositionUtils.getRowNode(cell);\n    return !!rowNode;\n  }\n  getLastCellOfColSpan(cell) {\n    const cellCtrl = this.getCellByPosition(cell);\n    if (!cellCtrl) {\n      return cell;\n    }\n    const colSpanningList = cellCtrl.getColSpanningList();\n    if (colSpanningList.length === 1) {\n      return cell;\n    }\n    return {\n      rowIndex: cell.rowIndex,\n      column: _last(colSpanningList),\n      rowPinned: cell.rowPinned\n    };\n  }\n  ensureCellVisible(gridCell) {\n    const isGroupStickyEnabled = _isGroupRowsSticky(this.gos);\n    const rowNode = this.rowModel.getRow(gridCell.rowIndex);\n    const skipScrollToRow = isGroupStickyEnabled && rowNode?.sticky;\n    if (!skipScrollToRow && _missing(gridCell.rowPinned)) {\n      this.gridBodyCon.getScrollFeature().ensureIndexVisible(gridCell.rowIndex);\n    }\n    if (!gridCell.column.isPinned()) {\n      this.gridBodyCon.getScrollFeature().ensureColumnVisible(gridCell.column);\n    }\n  }\n};\n\n// community-modules/core/src/headerRendering/common/horizontalResizeService.ts\nvar HorizontalResizeService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"horizontalResizeService\";\n  }\n  wireBeans(beans) {\n    this.dragService = beans.dragService;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  addResizeBar(params) {\n    const dragSource = {\n      dragStartPixels: params.dragStartPixels || 0,\n      eElement: params.eResizeBar,\n      onDragStart: this.onDragStart.bind(this, params),\n      onDragStop: this.onDragStop.bind(this, params),\n      onDragging: this.onDragging.bind(this, params),\n      onDragCancel: this.onDragStop.bind(this, params),\n      includeTouch: true,\n      stopPropagationForTouch: true\n    };\n    this.dragService.addDragSource(dragSource);\n    const finishedWithResizeFunc = () => this.dragService.removeDragSource(dragSource);\n    return finishedWithResizeFunc;\n  }\n  onDragStart(params, mouseEvent) {\n    this.dragStartX = mouseEvent.clientX;\n    this.setResizeIcons();\n    const shiftKey = mouseEvent instanceof MouseEvent && mouseEvent.shiftKey === true;\n    params.onResizeStart(shiftKey);\n  }\n  setResizeIcons() {\n    const ctrl = this.ctrlsService.get(\"gridCtrl\");\n    ctrl.setResizeCursor(true);\n    ctrl.disableUserSelect(true);\n  }\n  onDragStop(params) {\n    params.onResizeEnd(this.resizeAmount);\n    this.resetIcons();\n  }\n  resetIcons() {\n    const ctrl = this.ctrlsService.get(\"gridCtrl\");\n    ctrl.setResizeCursor(false);\n    ctrl.disableUserSelect(false);\n  }\n  onDragging(params, mouseEvent) {\n    this.resizeAmount = mouseEvent.clientX - this.dragStartX;\n    params.onResizing(this.resizeAmount);\n  }\n};\n\n// community-modules/core/src/headerRendering/cells/column/standardMenu.ts\nvar StandardMenuFactory = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"filterMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.focusService = beans.focusService;\n    this.ctrlsService = beans.ctrlsService;\n    this.menuService = beans.menuService;\n  }\n  hideActiveMenu() {\n    if (this.hidePopup) {\n      this.hidePopup();\n    }\n  }\n  showMenuAfterMouseEvent(column, mouseEvent, containerType) {\n    this.showPopup(\n      column,\n      (eMenu) => {\n        this.popupService.positionPopupUnderMouseEvent({\n          column,\n          type: containerType,\n          mouseEvent,\n          ePopup: eMenu\n        });\n      },\n      containerType,\n      mouseEvent.target,\n      this.menuService.isLegacyMenuEnabled()\n    );\n  }\n  showMenuAfterButtonClick(column, eventSource, containerType) {\n    let multiplier = -1;\n    let alignSide = \"left\";\n    const isLegacyMenuEnabled = this.menuService.isLegacyMenuEnabled();\n    if (!isLegacyMenuEnabled && this.gos.get(\"enableRtl\")) {\n      multiplier = 1;\n      alignSide = \"right\";\n    }\n    const nudgeX = isLegacyMenuEnabled ? void 0 : 4 * multiplier;\n    const nudgeY = isLegacyMenuEnabled ? void 0 : 4;\n    this.showPopup(\n      column,\n      (eMenu) => {\n        this.popupService.positionPopupByComponent({\n          type: containerType,\n          eventSource,\n          ePopup: eMenu,\n          nudgeX,\n          nudgeY,\n          alignSide,\n          keepWithinBounds: true,\n          position: \"under\",\n          column\n        });\n      },\n      containerType,\n      eventSource,\n      isLegacyMenuEnabled\n    );\n  }\n  showPopup(column, positionCallback, containerType, eventSource, isLegacyMenuEnabled) {\n    const comp = column ? this.createBean(new FilterWrapperComp(column, \"COLUMN_MENU\")) : void 0;\n    this.activeMenu = comp;\n    if (!comp?.hasFilter() || !column) {\n      throw new Error(\"AG Grid - unable to show popup filter, filter instantiation failed\");\n    }\n    const eMenu = document.createElement(\"div\");\n    _setAriaRole(eMenu, \"presentation\");\n    eMenu.classList.add(\"ag-menu\");\n    if (!isLegacyMenuEnabled) {\n      eMenu.classList.add(\"ag-filter-menu\");\n    }\n    [this.tabListener] = this.addManagedElementListeners(eMenu, {\n      keydown: (e) => this.trapFocusWithin(e, eMenu)\n    });\n    eMenu.appendChild(comp?.getGui());\n    let hidePopup;\n    const afterGuiDetached = () => comp?.afterGuiDetached();\n    const anchorToElement = this.menuService.isColumnMenuAnchoringEnabled() ? eventSource ?? this.ctrlsService.getGridBodyCtrl().getGui() : void 0;\n    const closedCallback = (e) => {\n      column.setMenuVisible(false, \"contextMenu\");\n      const isKeyboardEvent = e instanceof KeyboardEvent;\n      if (this.tabListener) {\n        this.tabListener = this.tabListener();\n      }\n      if (isKeyboardEvent && eventSource && _isVisible(eventSource)) {\n        const focusableEl = this.focusService.findTabbableParent(eventSource);\n        if (focusableEl) {\n          focusableEl.focus();\n        }\n      }\n      afterGuiDetached();\n      this.destroyBean(this.activeMenu);\n      this.dispatchVisibleChangedEvent(false, containerType, column);\n    };\n    const translate = this.localeService.getLocaleTextFunc();\n    const ariaLabel = isLegacyMenuEnabled && containerType !== \"columnFilter\" ? translate(\"ariaLabelColumnMenu\", \"Column Menu\") : translate(\"ariaLabelColumnFilter\", \"Column Filter\");\n    const addPopupRes = this.popupService.addPopup({\n      modal: true,\n      eChild: eMenu,\n      closeOnEsc: true,\n      closedCallback,\n      positionCallback: () => positionCallback(eMenu),\n      anchorToElement,\n      ariaLabel\n    });\n    if (addPopupRes) {\n      this.hidePopup = hidePopup = addPopupRes.hideFunc;\n    }\n    comp.afterInit().then(() => {\n      positionCallback(eMenu);\n      comp.afterGuiAttached({ container: containerType, hidePopup });\n    });\n    column.setMenuVisible(true, \"contextMenu\");\n    this.dispatchVisibleChangedEvent(true, containerType, column);\n  }\n  trapFocusWithin(e, menu) {\n    if (e.key !== KeyCode.TAB || e.defaultPrevented || this.focusService.findNextFocusableElement(menu, false, e.shiftKey)) {\n      return;\n    }\n    e.preventDefault();\n    this.focusService.focusInto(menu, e.shiftKey);\n  }\n  dispatchVisibleChangedEvent(visible, containerType, column) {\n    this.eventService.dispatchEvent({\n      type: \"columnMenuVisibleChanged\",\n      visible,\n      switchingTab: false,\n      key: containerType,\n      column: column ?? null,\n      columnGroup: null\n    });\n  }\n  isMenuEnabled(column) {\n    return column.isFilterAllowed() && (column.getColDef().menuTabs ?? [\"filterMenuTab\"]).includes(\"filterMenuTab\");\n  }\n  showMenuAfterContextMenuEvent() {\n  }\n  destroy() {\n    this.destroyBean(this.activeMenu);\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/misc/resizeObserverService.ts\nvar ResizeObserverService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"resizeObserverService\";\n  }\n  observeResize(element, callback) {\n    const win = _getWindow(this.gos);\n    const ResizeObserverImpl = win.ResizeObserver;\n    const resizeObserver = ResizeObserverImpl ? new ResizeObserverImpl(callback) : null;\n    resizeObserver?.observe(element);\n    return () => resizeObserver?.disconnect();\n  }\n};\n\n// community-modules/core/src/misc/animationFrameService.ts\nvar AnimationFrameService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"animationFrameService\";\n    // p1 and p2 are create tasks are to do with row and cell creation.\n    // for them we want to execute according to row order, so we use\n    // TaskItem so we know what index the item is for.\n    this.createTasksP1 = { list: [], sorted: false };\n    // eg drawing back-ground of rows\n    this.createTasksP2 = { list: [], sorted: false };\n    // eg cell renderers, adding hover functionality\n    // destroy tasks are to do with row removal. they are done after row creation as the user will need to see new\n    // rows first (as blank is scrolled into view), when we remove the old rows (no longer in view) is not as\n    // important.\n    this.destroyTasks = [];\n    this.ticking = false;\n    // we need to know direction of scroll, to build up rows in the direction of\n    // the scroll. eg if user scrolls down, we extend the rows by building down.\n    this.scrollGoingDown = true;\n    this.lastPage = 0;\n    this.lastScrollTop = 0;\n    this.taskCount = 0;\n    this.cancelledTasks = /* @__PURE__ */ new Set();\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.paginationService = beans.paginationService;\n  }\n  setScrollTop(scrollTop) {\n    const isPaginationActive = this.gos.get(\"pagination\");\n    this.scrollGoingDown = scrollTop >= this.lastScrollTop;\n    if (isPaginationActive && scrollTop === 0) {\n      const currentPage = this.paginationService?.getCurrentPage() ?? 0;\n      if (currentPage !== this.lastPage) {\n        this.lastPage = currentPage;\n        this.scrollGoingDown = true;\n      }\n    }\n    this.lastScrollTop = scrollTop;\n  }\n  postConstruct() {\n    this.useAnimationFrame = !this.gos.get(\"suppressAnimationFrame\");\n  }\n  isOn() {\n    return this.useAnimationFrame;\n  }\n  // this method is for our AG Grid sanity only - if animation frames are turned off,\n  // then no place in the code should be looking to add any work to be done in animation\n  // frames. this stops bugs - where some code is asking for a frame to be executed\n  // when it should not.\n  verifyAnimationFrameOn(methodName) {\n    if (this.useAnimationFrame === false) {\n      _warnOnce(`AnimationFrameService.${methodName} called but animation frames are off`);\n    }\n  }\n  createTask(task, index, list) {\n    this.verifyAnimationFrameOn(list);\n    const taskItem = { task, index, createOrder: ++this.taskCount };\n    this.addTaskToList(this[list], taskItem);\n    this.schedule();\n  }\n  cancelTask(task) {\n    this.cancelledTasks.add(task);\n  }\n  addTaskToList(taskList, task) {\n    taskList.list.push(task);\n    taskList.sorted = false;\n  }\n  sortTaskList(taskList) {\n    if (taskList.sorted) {\n      return;\n    }\n    const sortDirection = this.scrollGoingDown ? 1 : -1;\n    taskList.list.sort(\n      (a, b) => a.index !== b.index ? sortDirection * (b.index - a.index) : b.createOrder - a.createOrder\n    );\n    taskList.sorted = true;\n  }\n  addDestroyTask(task) {\n    this.verifyAnimationFrameOn(\"createTasksP3\");\n    this.destroyTasks.push(task);\n    this.schedule();\n  }\n  executeFrame(millis) {\n    this.verifyAnimationFrameOn(\"executeFrame\");\n    const p1TaskList = this.createTasksP1;\n    const p1Tasks = p1TaskList.list;\n    const p2TaskList = this.createTasksP2;\n    const p2Tasks = p2TaskList.list;\n    const destroyTasks = this.destroyTasks;\n    const frameStart = (/* @__PURE__ */ new Date()).getTime();\n    let duration = (/* @__PURE__ */ new Date()).getTime() - frameStart;\n    const noMaxMillis = millis <= 0;\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    while (noMaxMillis || duration < millis) {\n      const gridBodyDidSomething = gridBodyCon.getScrollFeature().scrollGridIfNeeded();\n      if (!gridBodyDidSomething) {\n        let task;\n        if (p1Tasks.length) {\n          this.sortTaskList(p1TaskList);\n          task = p1Tasks.pop().task;\n        } else if (p2Tasks.length) {\n          this.sortTaskList(p2TaskList);\n          task = p2Tasks.pop().task;\n        } else if (destroyTasks.length) {\n          task = destroyTasks.pop();\n        } else {\n          this.cancelledTasks.clear();\n          break;\n        }\n        if (!this.cancelledTasks.has(task)) {\n          task();\n        }\n      }\n      duration = (/* @__PURE__ */ new Date()).getTime() - frameStart;\n    }\n    if (p1Tasks.length || p2Tasks.length || destroyTasks.length) {\n      this.requestFrame();\n    } else {\n      this.stopTicking();\n    }\n  }\n  stopTicking() {\n    this.ticking = false;\n  }\n  flushAllFrames() {\n    if (!this.useAnimationFrame) {\n      return;\n    }\n    this.executeFrame(-1);\n  }\n  schedule() {\n    if (!this.useAnimationFrame) {\n      return;\n    }\n    if (!this.ticking) {\n      this.ticking = true;\n      this.requestFrame();\n    }\n  }\n  requestFrame() {\n    const callback = this.executeFrame.bind(this, 60);\n    this.requestAnimationFrame(callback);\n  }\n  requestAnimationFrame(callback) {\n    const win = _getWindow(this.gos);\n    if (win.requestAnimationFrame) {\n      win.requestAnimationFrame(callback);\n    } else if (win.webkitRequestAnimationFrame) {\n      win.webkitRequestAnimationFrame(callback);\n    } else {\n      win.setTimeout(callback, 0);\n    }\n  }\n  isQueueEmpty() {\n    return !this.ticking;\n  }\n  // a debounce utility used for parts of the app involved with rendering.\n  // the advantage over normal debounce is the client can call flushAllFrames()\n  // to make sure all rendering is complete. we don't wait any milliseconds,\n  // as this is intended to batch calls in one VM turn.\n  debounce(func) {\n    let pending = false;\n    return () => {\n      if (!this.isOn()) {\n        window.setTimeout(func, 0);\n        return;\n      }\n      if (pending) {\n        return;\n      }\n      pending = true;\n      this.addDestroyTask(() => {\n        pending = false;\n        func();\n      });\n    };\n  }\n};\n\n// community-modules/core/src/interfaces/iClientSideRowModel.ts\nvar ClientSideRowModelSteps = /* @__PURE__ */ ((ClientSideRowModelSteps2) => {\n  ClientSideRowModelSteps2[\"EVERYTHING\"] = \"group\";\n  ClientSideRowModelSteps2[\"FILTER\"] = \"filter\";\n  ClientSideRowModelSteps2[\"SORT\"] = \"sort\";\n  ClientSideRowModelSteps2[\"MAP\"] = \"map\";\n  ClientSideRowModelSteps2[\"AGGREGATE\"] = \"aggregate\";\n  ClientSideRowModelSteps2[\"FILTER_AGGREGATES\"] = \"filter_aggregates\";\n  ClientSideRowModelSteps2[\"PIVOT\"] = \"pivot\";\n  ClientSideRowModelSteps2[\"NOTHING\"] = \"nothing\";\n  return ClientSideRowModelSteps2;\n})(ClientSideRowModelSteps || {});\n\n// community-modules/core/src/misc/expansionService.ts\nvar ExpansionService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"expansionService\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n  }\n  postConstruct() {\n    this.isClientSideRowModel = _isClientSideRowModel(this.gos);\n  }\n  expandRows(rowIds) {\n    if (!this.isClientSideRowModel) {\n      return;\n    }\n    const rowIdSet = new Set(rowIds);\n    this.rowModel.forEachNode((node) => {\n      if (node.id && rowIdSet.has(node.id)) {\n        node.expanded = true;\n      }\n    });\n    this.onGroupExpandedOrCollapsed();\n  }\n  getExpandedRows() {\n    const expandedRows = [];\n    this.rowModel.forEachNode(({ expanded, id }) => {\n      if (expanded && id) {\n        expandedRows.push(id);\n      }\n    });\n    return expandedRows;\n  }\n  expandAll(value) {\n    if (!this.isClientSideRowModel) {\n      return;\n    }\n    this.rowModel.expandOrCollapseAll(value);\n  }\n  setRowNodeExpanded(rowNode, expanded, expandParents, forceSync) {\n    if (rowNode) {\n      if (expandParents && rowNode.parent && rowNode.parent.level !== -1) {\n        this.setRowNodeExpanded(rowNode.parent, expanded, expandParents, forceSync);\n      }\n      rowNode.setExpanded(expanded, void 0, forceSync);\n    }\n  }\n  onGroupExpandedOrCollapsed() {\n    if (!this.isClientSideRowModel) {\n      return;\n    }\n    this.rowModel.refreshModel({ step: \"map\" /* MAP */ });\n  }\n};\n\n// community-modules/core/src/misc/menuService.ts\nvar MenuService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"menuService\";\n  }\n  wireBeans(beans) {\n    this.valueService = beans.valueService;\n    this.filterMenuFactory = beans.filterMenuFactory;\n    this.ctrlsService = beans.ctrlsService;\n    this.animationFrameService = beans.animationFrameService;\n    this.filterManager = beans.filterManager;\n    this.rowRenderer = beans.rowRenderer;\n    this.columnChooserFactory = beans.columnChooserFactory;\n    this.contextMenuFactory = beans.contextMenuFactory;\n    this.enterpriseMenuFactory = beans.enterpriseMenuFactory;\n  }\n  postConstruct() {\n    this.activeMenuFactory = this.enterpriseMenuFactory ?? this.filterMenuFactory;\n  }\n  showColumnMenu(params) {\n    this.showColumnMenuCommon(this.activeMenuFactory, params, \"columnMenu\");\n  }\n  showFilterMenu(params) {\n    const menuFactory = this.enterpriseMenuFactory && this.isLegacyMenuEnabled() ? this.enterpriseMenuFactory : this.filterMenuFactory;\n    this.showColumnMenuCommon(menuFactory, params, params.containerType, true);\n  }\n  showHeaderContextMenu(column, mouseEvent, touchEvent) {\n    this.activeMenuFactory.showMenuAfterContextMenuEvent(column, mouseEvent, touchEvent);\n  }\n  getContextMenuPosition(rowNode, column) {\n    const rowCtrl = this.getRowCtrl(rowNode);\n    const eGui = this.getCellGui(rowCtrl, column);\n    if (!eGui) {\n      if (rowCtrl) {\n        return { x: 0, y: rowCtrl.getRowYPosition() };\n      }\n      return { x: 0, y: 0 };\n    }\n    const rect = eGui.getBoundingClientRect();\n    return {\n      x: rect.x + rect.width / 2,\n      y: rect.y + rect.height / 2\n    };\n  }\n  showContextMenu(params) {\n    const rowNode = params.rowNode;\n    const column = params.column;\n    let { anchorToElement, value } = params;\n    if (rowNode && column && value == null) {\n      value = this.valueService.getValueForDisplay(column, rowNode);\n    }\n    if (anchorToElement == null) {\n      anchorToElement = this.getContextMenuAnchorElement(rowNode, column);\n    }\n    this.contextMenuFactory?.onContextMenu(\n      params.mouseEvent ?? null,\n      params.touchEvent ?? null,\n      rowNode ?? null,\n      column ?? null,\n      value,\n      anchorToElement\n    );\n  }\n  showColumnChooser(params) {\n    this.columnChooserFactory?.showColumnChooser(params);\n  }\n  hidePopupMenu() {\n    this.contextMenuFactory?.hideActiveMenu();\n    this.activeMenuFactory.hideActiveMenu();\n  }\n  hideColumnChooser() {\n    this.columnChooserFactory?.hideActiveColumnChooser();\n  }\n  isColumnMenuInHeaderEnabled(column) {\n    const { suppressMenu, suppressHeaderMenuButton } = column.getColDef();\n    const isSuppressMenuButton = suppressHeaderMenuButton ?? suppressMenu;\n    return !isSuppressMenuButton && this.activeMenuFactory.isMenuEnabled(column) && (this.isLegacyMenuEnabled() || !!this.enterpriseMenuFactory);\n  }\n  isFilterMenuInHeaderEnabled(column) {\n    return !column.getColDef().suppressHeaderFilterButton && !!this.filterManager?.isFilterAllowed(column);\n  }\n  isHeaderContextMenuEnabled(column) {\n    const colDef = column && isColumn(column) ? column.getColDef() : column?.getColGroupDef();\n    return !colDef?.suppressHeaderContextMenu && this.getColumnMenuType() === \"new\";\n  }\n  isHeaderMenuButtonAlwaysShowEnabled() {\n    return this.isSuppressMenuHide();\n  }\n  isHeaderMenuButtonEnabled() {\n    const menuHides = !this.isSuppressMenuHide();\n    const onIpadAndMenuHides = _isIOSUserAgent() && menuHides;\n    return !onIpadAndMenuHides;\n  }\n  isHeaderFilterButtonEnabled(column) {\n    return this.isFilterMenuInHeaderEnabled(column) && !this.isLegacyMenuEnabled() && !this.isFloatingFilterButtonDisplayed(column);\n  }\n  isFilterMenuItemEnabled(column) {\n    return !!this.filterManager?.isFilterAllowed(column) && !this.isLegacyMenuEnabled() && !this.isFilterMenuInHeaderEnabled(column) && !this.isFloatingFilterButtonDisplayed(column);\n  }\n  isColumnMenuAnchoringEnabled() {\n    return !this.isLegacyMenuEnabled();\n  }\n  areAdditionalColumnMenuItemsEnabled() {\n    return this.getColumnMenuType() === \"new\";\n  }\n  isLegacyMenuEnabled() {\n    return this.getColumnMenuType() === \"legacy\";\n  }\n  isFloatingFilterButtonEnabled(column) {\n    const colDef = column.getColDef();\n    const legacySuppressFilterButton = colDef.floatingFilterComponentParams?.suppressFilterButton;\n    if (legacySuppressFilterButton != null) {\n      _warnOnce(\n        `As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead.`\n      );\n    }\n    return colDef.suppressFloatingFilterButton == null ? !legacySuppressFilterButton : !colDef.suppressFloatingFilterButton;\n  }\n  getColumnMenuType() {\n    return this.gos.get(\"columnMenu\");\n  }\n  isFloatingFilterButtonDisplayed(column) {\n    return !!column.getColDef().floatingFilter && this.isFloatingFilterButtonEnabled(column);\n  }\n  isSuppressMenuHide() {\n    const suppressMenuHide = this.gos.get(\"suppressMenuHide\");\n    if (this.isLegacyMenuEnabled()) {\n      return this.gos.exists(\"suppressMenuHide\") ? suppressMenuHide : false;\n    }\n    return suppressMenuHide;\n  }\n  showColumnMenuCommon(menuFactory, params, containerType, filtersOnly) {\n    const { positionBy } = params;\n    const column = params.column;\n    if (positionBy === \"button\") {\n      const { buttonElement } = params;\n      menuFactory.showMenuAfterButtonClick(column, buttonElement, containerType, filtersOnly);\n    } else if (positionBy === \"mouse\") {\n      const { mouseEvent } = params;\n      menuFactory.showMenuAfterMouseEvent(column, mouseEvent, containerType, filtersOnly);\n    } else if (column) {\n      this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(column, \"auto\");\n      this.animationFrameService.requestAnimationFrame(() => {\n        const headerCellCtrl = this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned())?.getHeaderCtrlForColumn(column);\n        if (headerCellCtrl) {\n          menuFactory.showMenuAfterButtonClick(\n            column,\n            headerCellCtrl.getAnchorElementForMenu(filtersOnly),\n            containerType,\n            true\n          );\n        }\n      });\n    }\n  }\n  getRowCtrl(rowNode) {\n    const { rowIndex, rowPinned } = rowNode || {};\n    if (rowIndex == null) {\n      return;\n    }\n    return this.rowRenderer.getRowByPosition({ rowIndex, rowPinned }) || void 0;\n  }\n  getCellGui(rowCtrl, column) {\n    if (!rowCtrl || !column) {\n      return;\n    }\n    const cellCtrl = rowCtrl.getCellCtrl(column);\n    return cellCtrl?.getGui() || void 0;\n  }\n  getContextMenuAnchorElement(rowNode, column) {\n    const gridBodyEl = this.ctrlsService.getGridBodyCtrl().getGridBodyElement();\n    const rowCtrl = this.getRowCtrl(rowNode);\n    if (!rowCtrl) {\n      return gridBodyEl;\n    }\n    const cellGui = this.getCellGui(rowCtrl, column);\n    if (cellGui) {\n      return cellGui;\n    }\n    if (rowCtrl.isFullWidth()) {\n      return rowCtrl.getFullWidthElement();\n    }\n    return gridBodyEl;\n  }\n};\n\n// community-modules/core/src/widgets/agInputTextArea.ts\nvar AgInputTextArea = class extends AgAbstractInputField {\n  constructor(config) {\n    super(config, \"ag-text-area\", null, \"textarea\");\n  }\n  setValue(value, silent) {\n    const ret = super.setValue(value, silent);\n    this.eInput.value = value;\n    return ret;\n  }\n  setCols(cols) {\n    this.eInput.cols = cols;\n    return this;\n  }\n  setRows(rows) {\n    this.eInput.rows = rows;\n    return this;\n  }\n};\nvar AgInputTextAreaSelector = {\n  selector: \"AG-INPUT-TEXT-AREA\",\n  component: AgInputTextArea\n};\n\n// community-modules/core/src/edit/cellEditors/largeTextCellEditor.ts\nvar LargeTextCellEditor = class extends PopupComponent {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-large-text\">\n        <ag-input-text-area data-ref=\"eTextArea\" class=\"ag-large-text-input\"></ag-input-text-area>\n        </div>`,\n      [AgInputTextAreaSelector]\n    );\n    this.eTextArea = RefPlaceholder;\n  }\n  init(params) {\n    this.params = params;\n    this.focusAfterAttached = params.cellStartedEdit;\n    this.eTextArea.setMaxLength(params.maxLength || 200).setCols(params.cols || 60).setRows(params.rows || 10);\n    if (_exists(params.value, true)) {\n      this.eTextArea.setValue(params.value.toString(), true);\n    }\n    this.addGuiEventListener(\"keydown\", this.onKeyDown.bind(this));\n    this.activateTabIndex();\n  }\n  onKeyDown(event) {\n    const key = event.key;\n    if (key === KeyCode.LEFT || key === KeyCode.UP || key === KeyCode.RIGHT || key === KeyCode.DOWN || event.shiftKey && key === KeyCode.ENTER) {\n      event.stopPropagation();\n    }\n  }\n  afterGuiAttached() {\n    const translate = this.localeService.getLocaleTextFunc();\n    this.eTextArea.setInputAriaLabel(translate(\"ariaInputEditor\", \"Input Editor\"));\n    if (this.focusAfterAttached) {\n      this.eTextArea.getFocusableElement().focus();\n    }\n  }\n  getValue() {\n    const value = this.eTextArea.getValue();\n    if (!_exists(value) && !_exists(this.params.value)) {\n      return this.params.value;\n    }\n    return this.params.parseValue(value);\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/popupEditorWrapper.ts\nvar PopupEditorWrapper = class extends PopupComponent {\n  constructor(params) {\n    super(\n      /* html */\n      `<div class=\"ag-popup-editor\" tabindex=\"-1\"/>`\n    );\n    this.params = params;\n  }\n  postConstruct() {\n    _setDomData(this.gos, this.getGui(), \"popupEditorWrapper\", true);\n    this.addKeyDownListener();\n  }\n  addKeyDownListener() {\n    const eGui = this.getGui();\n    const params = this.params;\n    const listener = (event) => {\n      if (!_isUserSuppressingKeyboardEvent(this.gos, event, params.node, params.column, true)) {\n        params.onKeyDown(event);\n      }\n    };\n    this.addManagedElementListeners(eGui, { keydown: listener });\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/selectCellEditor.ts\nvar SelectCellEditor = class extends PopupComponent {\n  constructor() {\n    super(\n      /* html */\n      `<div class=\"ag-cell-edit-wrapper\">\n                <ag-select class=\"ag-cell-editor\" data-ref=\"eSelect\"></ag-select>\n            </div>`,\n      [AgSelectSelector]\n    );\n    this.eSelect = RefPlaceholder;\n    this.startedByEnter = false;\n  }\n  wireBeans(beans) {\n    this.valueService = beans.valueService;\n  }\n  init(params) {\n    this.focusAfterAttached = params.cellStartedEdit;\n    const { eSelect, valueService, gos } = this;\n    const { values, value, eventKey } = params;\n    if (_missing(values)) {\n      _warnOnce(\"no values found for select cellEditor\");\n      return;\n    }\n    this.startedByEnter = eventKey != null ? eventKey === KeyCode.ENTER : false;\n    let hasValue = false;\n    values.forEach((currentValue) => {\n      const option = { value: currentValue };\n      const valueFormatted = valueService.formatValue(params.column, null, currentValue);\n      const valueFormattedExits = valueFormatted !== null && valueFormatted !== void 0;\n      option.text = valueFormattedExits ? valueFormatted : currentValue;\n      eSelect.addOption(option);\n      hasValue = hasValue || value === currentValue;\n    });\n    if (hasValue) {\n      eSelect.setValue(params.value, true);\n    } else if (params.values.length) {\n      eSelect.setValue(params.values[0], true);\n    }\n    const { valueListGap, valueListMaxWidth, valueListMaxHeight } = params;\n    if (valueListGap != null) {\n      eSelect.setPickerGap(valueListGap);\n    }\n    if (valueListMaxHeight != null) {\n      eSelect.setPickerMaxHeight(valueListMaxHeight);\n    }\n    if (valueListMaxWidth != null) {\n      eSelect.setPickerMaxWidth(valueListMaxWidth);\n    }\n    if (gos.get(\"editType\") !== \"fullRow\") {\n      this.addManagedListeners(this.eSelect, { selectedItem: () => params.stopEditing() });\n    }\n  }\n  afterGuiAttached() {\n    if (this.focusAfterAttached) {\n      this.eSelect.getFocusableElement().focus();\n    }\n    if (this.startedByEnter) {\n      setTimeout(() => {\n        if (this.isAlive()) {\n          this.eSelect.showPicker();\n        }\n      });\n    }\n  }\n  focusIn() {\n    this.eSelect.getFocusableElement().focus();\n  }\n  getValue() {\n    return this.eSelect.getValue();\n  }\n  isPopup() {\n    return false;\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/simpleCellEditor.ts\nvar SimpleCellEditor = class extends PopupComponent {\n  constructor(cellEditorInput) {\n    super(\n      /* html */\n      `\n            <div class=\"ag-cell-edit-wrapper\">\n                ${cellEditorInput.getTemplate()}\n            </div>`,\n      cellEditorInput.getAgComponents()\n    );\n    this.cellEditorInput = cellEditorInput;\n    this.eInput = RefPlaceholder;\n  }\n  init(params) {\n    this.params = params;\n    const { cellStartedEdit, eventKey, suppressPreventDefault } = params;\n    const eInput = this.eInput;\n    this.cellEditorInput.init(eInput, params);\n    let startValue;\n    let shouldSetStartValue = true;\n    if (cellStartedEdit) {\n      this.focusAfterAttached = true;\n      if (eventKey === KeyCode.BACKSPACE || eventKey === KeyCode.DELETE) {\n        startValue = \"\";\n      } else if (eventKey && eventKey.length === 1) {\n        if (suppressPreventDefault) {\n          shouldSetStartValue = false;\n        } else {\n          startValue = eventKey;\n        }\n      } else {\n        startValue = this.cellEditorInput.getStartValue();\n        if (eventKey !== KeyCode.F2) {\n          this.highlightAllOnFocus = true;\n        }\n      }\n    } else {\n      this.focusAfterAttached = false;\n      startValue = this.cellEditorInput.getStartValue();\n    }\n    if (shouldSetStartValue && startValue != null) {\n      eInput.setStartValue(startValue);\n    }\n    this.addManagedElementListeners(eInput.getGui(), {\n      keydown: (event) => {\n        const { key } = event;\n        if (key === KeyCode.PAGE_UP || key === KeyCode.PAGE_DOWN) {\n          event.preventDefault();\n        }\n      }\n    });\n  }\n  afterGuiAttached() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const eInput = this.eInput;\n    eInput.setInputAriaLabel(translate(\"ariaInputEditor\", \"Input Editor\"));\n    if (!this.focusAfterAttached) {\n      return;\n    }\n    if (!_isBrowserSafari()) {\n      eInput.getFocusableElement().focus();\n    }\n    const inputEl = eInput.getInputElement();\n    if (this.highlightAllOnFocus) {\n      inputEl.select();\n    } else {\n      this.cellEditorInput.setCaret?.();\n    }\n  }\n  // gets called when tabbing through cells and in full row edit mode\n  focusIn() {\n    const eInput = this.eInput;\n    const focusEl = eInput.getFocusableElement();\n    const inputEl = eInput.getInputElement();\n    focusEl.focus();\n    inputEl.select();\n  }\n  getValue() {\n    return this.cellEditorInput.getValue();\n  }\n  isPopup() {\n    return false;\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/textCellEditor.ts\nvar TextCellEditorInput = class {\n  getTemplate() {\n    return (\n      /* html */\n      `<ag-input-text-field class=\"ag-cell-editor\" data-ref=\"eInput\"></ag-input-text-field>`\n    );\n  }\n  getAgComponents() {\n    return [AgInputTextFieldSelector];\n  }\n  init(eInput, params) {\n    this.eInput = eInput;\n    this.params = params;\n    if (params.maxLength != null) {\n      eInput.setMaxLength(params.maxLength);\n    }\n  }\n  getValue() {\n    const value = this.eInput.getValue();\n    if (!_exists(value) && !_exists(this.params.value)) {\n      return this.params.value;\n    }\n    return this.params.parseValue(value);\n  }\n  getStartValue() {\n    const formatValue = this.params.useFormatter || this.params.column.getColDef().refData;\n    return formatValue ? this.params.formatValue(this.params.value) : this.params.value;\n  }\n  setCaret() {\n    const value = this.eInput.getValue();\n    const len = _exists(value) && value.length || 0;\n    if (len) {\n      this.eInput.getInputElement().setSelectionRange(len, len);\n    }\n  }\n};\nvar TextCellEditor = class extends SimpleCellEditor {\n  constructor() {\n    super(new TextCellEditorInput());\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/numberCellEditor.ts\nvar NumberCellEditorInput = class {\n  getTemplate() {\n    return (\n      /* html */\n      `<ag-input-number-field class=\"ag-cell-editor\" data-ref=\"eInput\"></ag-input-number-field>`\n    );\n  }\n  getAgComponents() {\n    return [AgInputNumberFieldSelector];\n  }\n  init(eInput, params) {\n    this.eInput = eInput;\n    this.params = params;\n    if (params.max != null) {\n      eInput.setMax(params.max);\n    }\n    if (params.min != null) {\n      eInput.setMin(params.min);\n    }\n    if (params.precision != null) {\n      eInput.setPrecision(params.precision);\n    }\n    if (params.step != null) {\n      eInput.setStep(params.step);\n    }\n    const inputEl = eInput.getInputElement();\n    if (params.preventStepping) {\n      eInput.addManagedElementListeners(inputEl, { keydown: this.preventStepping });\n    } else if (params.showStepperButtons) {\n      inputEl.classList.add(\"ag-number-field-input-stepper\");\n    }\n  }\n  preventStepping(e) {\n    if (e.key === KeyCode.UP || e.key === KeyCode.DOWN) {\n      e.preventDefault();\n    }\n  }\n  getValue() {\n    const value = this.eInput.getValue();\n    if (!_exists(value) && !_exists(this.params.value)) {\n      return this.params.value;\n    }\n    let parsedValue = this.params.parseValue(value);\n    if (parsedValue == null) {\n      return parsedValue;\n    }\n    if (typeof parsedValue === \"string\") {\n      if (parsedValue === \"\") {\n        return null;\n      }\n      parsedValue = Number(parsedValue);\n    }\n    return isNaN(parsedValue) ? null : parsedValue;\n  }\n  getStartValue() {\n    return this.params.value;\n  }\n  setCaret() {\n    if (_isBrowserSafari()) {\n      this.eInput.getInputElement().focus({ preventScroll: true });\n    }\n  }\n};\nvar NumberCellEditor = class extends SimpleCellEditor {\n  constructor() {\n    super(new NumberCellEditorInput());\n  }\n};\n\n// community-modules/core/src/widgets/agInputDateField.ts\nvar AgInputDateField = class extends AgInputTextField {\n  constructor(config) {\n    super(config, \"ag-date-field\", \"date\");\n  }\n  postConstruct() {\n    super.postConstruct();\n    const usingSafari = _isBrowserSafari();\n    this.addManagedListeners(this.eInput, {\n      wheel: this.onWheel.bind(this),\n      mousedown: () => {\n        if (this.isDisabled() || usingSafari) {\n          return;\n        }\n        this.eInput.focus();\n      }\n    });\n    this.eInput.step = \"any\";\n  }\n  onWheel(e) {\n    if (_getActiveDomElement(this.gos) === this.eInput) {\n      e.preventDefault();\n    }\n  }\n  setMin(minDate) {\n    const min = minDate instanceof Date ? _serialiseDate(minDate ?? null, false) ?? void 0 : minDate;\n    if (this.min === min) {\n      return this;\n    }\n    this.min = min;\n    _addOrRemoveAttribute(this.eInput, \"min\", min);\n    return this;\n  }\n  setMax(maxDate) {\n    const max = maxDate instanceof Date ? _serialiseDate(maxDate ?? null, false) ?? void 0 : maxDate;\n    if (this.max === max) {\n      return this;\n    }\n    this.max = max;\n    _addOrRemoveAttribute(this.eInput, \"max\", max);\n    return this;\n  }\n  setStep(step) {\n    if (this.step === step) {\n      return this;\n    }\n    this.step = step;\n    _addOrRemoveAttribute(this.eInput, \"step\", step);\n    return this;\n  }\n  getDate() {\n    if (!this.eInput.validity.valid) {\n      return void 0;\n    }\n    return _parseDateTimeFromString(this.getValue()) ?? void 0;\n  }\n  setDate(date, silent) {\n    this.setValue(_serialiseDate(date ?? null, false), silent);\n  }\n};\nvar AgInputDateFieldSelector = {\n  selector: \"AG-INPUT-DATE-FIELD\",\n  component: AgInputDateField\n};\n\n// community-modules/core/src/edit/cellEditors/dateCellEditor.ts\nvar DateCellEditorInput = class {\n  getTemplate() {\n    return (\n      /* html */\n      `<ag-input-date-field class=\"ag-cell-editor\" data-ref=\"eInput\"></ag-input-date-field>`\n    );\n  }\n  getAgComponents() {\n    return [AgInputDateFieldSelector];\n  }\n  init(eInput, params) {\n    this.eInput = eInput;\n    this.params = params;\n    if (params.min != null) {\n      eInput.setMin(params.min);\n    }\n    if (params.max != null) {\n      eInput.setMax(params.max);\n    }\n    if (params.step != null) {\n      eInput.setStep(params.step);\n    }\n  }\n  getValue() {\n    const value = this.eInput.getDate();\n    if (!_exists(value) && !_exists(this.params.value)) {\n      return this.params.value;\n    }\n    return value ?? null;\n  }\n  getStartValue() {\n    const { value } = this.params;\n    if (!(value instanceof Date)) {\n      return void 0;\n    }\n    return _serialiseDate(value, false);\n  }\n};\nvar DateCellEditor = class extends SimpleCellEditor {\n  constructor() {\n    super(new DateCellEditorInput());\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/dateStringCellEditor.ts\nvar DateStringCellEditorInput = class {\n  constructor(getDataTypeService) {\n    this.getDataTypeService = getDataTypeService;\n  }\n  getTemplate() {\n    return (\n      /* html */\n      `<ag-input-date-field class=\"ag-cell-editor\" data-ref=\"eInput\"></ag-input-date-field>`\n    );\n  }\n  getAgComponents() {\n    return [AgInputDateFieldSelector];\n  }\n  init(eInput, params) {\n    this.eInput = eInput;\n    this.params = params;\n    if (params.min != null) {\n      eInput.setMin(params.min);\n    }\n    if (params.max != null) {\n      eInput.setMax(params.max);\n    }\n    if (params.step != null) {\n      eInput.setStep(params.step);\n    }\n  }\n  getValue() {\n    const value = this.formatDate(this.eInput.getDate());\n    if (!_exists(value) && !_exists(this.params.value)) {\n      return this.params.value;\n    }\n    return this.params.parseValue(value ?? \"\");\n  }\n  getStartValue() {\n    return _serialiseDate(this.parseDate(this.params.value ?? void 0) ?? null, false);\n  }\n  parseDate(value) {\n    const dataTypeService = this.getDataTypeService();\n    return dataTypeService ? dataTypeService.getDateParserFunction(this.params.column)(value) : _parseDateTimeFromString(value) ?? void 0;\n  }\n  formatDate(value) {\n    const dataTypeService = this.getDataTypeService();\n    return dataTypeService ? dataTypeService.getDateFormatterFunction(this.params.column)(value) : _serialiseDate(value ?? null, false) ?? void 0;\n  }\n};\nvar DateStringCellEditor = class extends SimpleCellEditor {\n  wireBeans(beans) {\n    this.dataTypeService = beans.dataTypeService;\n  }\n  constructor() {\n    super(new DateStringCellEditorInput(() => this.dataTypeService));\n  }\n};\n\n// community-modules/core/src/edit/cellEditors/checkboxCellEditor.ts\nvar CheckboxCellEditor = class extends PopupComponent {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div class=\"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit\">\n                <ag-checkbox role=\"presentation\" data-ref=\"eCheckbox\"></ag-checkbox>\n            </div>`,\n      [AgCheckboxSelector]\n    );\n    this.eCheckbox = RefPlaceholder;\n  }\n  init(params) {\n    this.params = params;\n    const isSelected = params.value ?? void 0;\n    this.eCheckbox.setValue(isSelected);\n    const inputEl = this.eCheckbox.getInputElement();\n    inputEl.setAttribute(\"tabindex\", \"-1\");\n    this.setAriaLabel(isSelected);\n    this.addManagedListeners(this.eCheckbox, {\n      fieldValueChanged: (event) => this.setAriaLabel(event.selected)\n    });\n  }\n  getValue() {\n    return this.eCheckbox.getValue();\n  }\n  focusIn() {\n    this.eCheckbox.getFocusableElement().focus();\n  }\n  afterGuiAttached() {\n    if (this.params.cellStartedEdit) {\n      this.focusIn();\n    }\n  }\n  isPopup() {\n    return false;\n  }\n  setAriaLabel(isSelected) {\n    const translate = this.localeService.getLocaleTextFunc();\n    const stateName = _getAriaCheckboxStateName(translate, isSelected);\n    const ariaLabel = translate(\"ariaToggleCellValue\", \"Press SPACE to toggle cell value\");\n    this.eCheckbox.setInputAriaLabel(`${ariaLabel} (${stateName})`);\n  }\n};\n\n// community-modules/core/src/undoRedo/undoRedoStack.ts\nvar UndoRedoAction = class {\n  constructor(cellValueChanges) {\n    this.cellValueChanges = cellValueChanges;\n  }\n};\nvar RangeUndoRedoAction = class extends UndoRedoAction {\n  constructor(cellValueChanges, initialRange, finalRange, ranges) {\n    super(cellValueChanges);\n    this.initialRange = initialRange;\n    this.finalRange = finalRange;\n    this.ranges = ranges;\n  }\n};\nvar DEFAULT_STACK_SIZE = 10;\nvar UndoRedoStack = class {\n  constructor(maxStackSize) {\n    this.actionStack = [];\n    this.maxStackSize = maxStackSize ? maxStackSize : DEFAULT_STACK_SIZE;\n    this.actionStack = new Array(this.maxStackSize);\n  }\n  pop() {\n    return this.actionStack.pop();\n  }\n  push(item) {\n    const shouldAddActions = item.cellValueChanges && item.cellValueChanges.length > 0;\n    if (!shouldAddActions) {\n      return;\n    }\n    if (this.actionStack.length === this.maxStackSize) {\n      this.actionStack.shift();\n    }\n    this.actionStack.push(item);\n  }\n  clear() {\n    this.actionStack = [];\n  }\n  getCurrentStackSize() {\n    return this.actionStack.length;\n  }\n};\n\n// community-modules/core/src/undoRedo/undoRedoService.ts\nvar UndoRedoService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"undoRedoService\";\n    this.cellValueChanges = [];\n    this.activeCellEdit = null;\n    this.activeRowEdit = null;\n    this.isPasting = false;\n    this.isRangeInAction = false;\n    this.onCellValueChanged = (event) => {\n      const eventCell = { column: event.column, rowIndex: event.rowIndex, rowPinned: event.rowPinned };\n      const isCellEditing = this.activeCellEdit !== null && this.cellPositionUtils.equals(this.activeCellEdit, eventCell);\n      const isRowEditing = this.activeRowEdit !== null && this.rowPositionUtils.sameRow(this.activeRowEdit, eventCell);\n      const shouldCaptureAction = isCellEditing || isRowEditing || this.isPasting || this.isRangeInAction;\n      if (!shouldCaptureAction) {\n        return;\n      }\n      const { rowPinned, rowIndex, column, oldValue, value } = event;\n      const cellValueChange = {\n        rowPinned,\n        rowIndex,\n        columnId: column.getColId(),\n        newValue: value,\n        oldValue\n      };\n      this.cellValueChanges.push(cellValueChange);\n    };\n    this.clearStacks = () => {\n      this.undoStack.clear();\n      this.redoStack.clear();\n    };\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.ctrlsService = beans.ctrlsService;\n    this.cellPositionUtils = beans.cellPositionUtils;\n    this.rowPositionUtils = beans.rowPositionUtils;\n    this.columnModel = beans.columnModel;\n    this.rangeService = beans.rangeService;\n  }\n  postConstruct() {\n    if (!this.gos.get(\"undoRedoCellEditing\")) {\n      return;\n    }\n    const undoRedoLimit = this.gos.get(\"undoRedoCellEditingLimit\");\n    if (undoRedoLimit <= 0) {\n      return;\n    }\n    this.undoStack = new UndoRedoStack(undoRedoLimit);\n    this.redoStack = new UndoRedoStack(undoRedoLimit);\n    this.addListeners();\n    const listener = this.clearStacks.bind(this);\n    this.addManagedEventListeners({\n      cellValueChanged: this.onCellValueChanged.bind(this),\n      // undo / redo is restricted to actual editing so we clear the stacks when other operations are\n      // performed that change the order of the row / cols.\n      modelUpdated: (e) => {\n        if (!e.keepUndoRedoStack) {\n          this.clearStacks();\n        }\n      },\n      columnPivotModeChanged: listener,\n      newColumnsLoaded: listener,\n      columnGroupOpened: listener,\n      columnRowGroupChanged: listener,\n      columnMoved: listener,\n      columnPinned: listener,\n      columnVisible: listener,\n      rowDragEnd: listener\n    });\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridBodyCtrl = p.gridBodyCtrl;\n    });\n  }\n  getCurrentUndoStackSize() {\n    return this.undoStack ? this.undoStack.getCurrentStackSize() : 0;\n  }\n  getCurrentRedoStackSize() {\n    return this.redoStack ? this.redoStack.getCurrentStackSize() : 0;\n  }\n  undo(source) {\n    this.eventService.dispatchEvent({\n      type: \"undoStarted\",\n      source\n    });\n    const operationPerformed = this.undoRedo(this.undoStack, this.redoStack, \"initialRange\", \"oldValue\", \"undo\");\n    this.eventService.dispatchEvent({\n      type: \"undoEnded\",\n      source,\n      operationPerformed\n    });\n  }\n  redo(source) {\n    this.eventService.dispatchEvent({\n      type: \"redoStarted\",\n      source\n    });\n    const operationPerformed = this.undoRedo(this.redoStack, this.undoStack, \"finalRange\", \"newValue\", \"redo\");\n    this.eventService.dispatchEvent({\n      type: \"redoEnded\",\n      source,\n      operationPerformed\n    });\n  }\n  undoRedo(undoRedoStack, opposingUndoRedoStack, rangeProperty, cellValueChangeProperty, source) {\n    if (!undoRedoStack) {\n      return false;\n    }\n    const undoRedoAction = undoRedoStack.pop();\n    if (!undoRedoAction || !undoRedoAction.cellValueChanges) {\n      return false;\n    }\n    this.processAction(\n      undoRedoAction,\n      (cellValueChange) => cellValueChange[cellValueChangeProperty],\n      source\n    );\n    if (undoRedoAction instanceof RangeUndoRedoAction) {\n      this.processRange(this.rangeService, undoRedoAction.ranges || [undoRedoAction[rangeProperty]]);\n    } else {\n      this.processCell(undoRedoAction.cellValueChanges);\n    }\n    opposingUndoRedoStack.push(undoRedoAction);\n    return true;\n  }\n  processAction(action, valueExtractor, source) {\n    action.cellValueChanges.forEach((cellValueChange) => {\n      const { rowIndex, rowPinned, columnId } = cellValueChange;\n      const rowPosition = { rowIndex, rowPinned };\n      const currentRow = this.rowPositionUtils.getRowNode(rowPosition);\n      if (!currentRow.displayed) {\n        return;\n      }\n      currentRow.setDataValue(columnId, valueExtractor(cellValueChange), source);\n    });\n  }\n  processRange(rangeService, ranges) {\n    let lastFocusedCell;\n    rangeService.removeAllCellRanges(true);\n    ranges.forEach((range, idx) => {\n      if (!range) {\n        return;\n      }\n      const startRow = range.startRow;\n      const endRow = range.endRow;\n      if (idx === ranges.length - 1) {\n        lastFocusedCell = {\n          rowPinned: startRow.rowPinned,\n          rowIndex: startRow.rowIndex,\n          columnId: range.startColumn.getColId()\n        };\n        this.setLastFocusedCell(lastFocusedCell);\n      }\n      const cellRangeParams = {\n        rowStartIndex: startRow.rowIndex,\n        rowStartPinned: startRow.rowPinned,\n        rowEndIndex: endRow.rowIndex,\n        rowEndPinned: endRow.rowPinned,\n        columnStart: range.startColumn,\n        columns: range.columns\n      };\n      rangeService.addCellRange(cellRangeParams);\n    });\n  }\n  processCell(cellValueChanges) {\n    const cellValueChange = cellValueChanges[0];\n    const { rowIndex, rowPinned } = cellValueChange;\n    const rowPosition = { rowIndex, rowPinned };\n    const row = this.rowPositionUtils.getRowNode(rowPosition);\n    const lastFocusedCell = {\n      rowPinned: cellValueChange.rowPinned,\n      rowIndex: row.rowIndex,\n      columnId: cellValueChange.columnId\n    };\n    this.setLastFocusedCell(lastFocusedCell, this.rangeService);\n  }\n  setLastFocusedCell(lastFocusedCell, rangeService) {\n    const { rowIndex, columnId, rowPinned } = lastFocusedCell;\n    const scrollFeature = this.gridBodyCtrl.getScrollFeature();\n    const column = this.columnModel.getCol(columnId);\n    if (!column) {\n      return;\n    }\n    scrollFeature.ensureIndexVisible(rowIndex);\n    scrollFeature.ensureColumnVisible(column);\n    const cellPosition = { rowIndex, column, rowPinned };\n    this.focusService.setFocusedCell({ ...cellPosition, forceBrowserFocus: true });\n    rangeService?.setRangeToCell(cellPosition);\n  }\n  addListeners() {\n    this.addManagedEventListeners({\n      rowEditingStarted: (e) => {\n        this.activeRowEdit = { rowIndex: e.rowIndex, rowPinned: e.rowPinned };\n      },\n      rowEditingStopped: () => {\n        const action = new UndoRedoAction(this.cellValueChanges);\n        this.pushActionsToUndoStack(action);\n        this.activeRowEdit = null;\n      },\n      cellEditingStarted: (e) => {\n        this.activeCellEdit = { column: e.column, rowIndex: e.rowIndex, rowPinned: e.rowPinned };\n      },\n      cellEditingStopped: (e) => {\n        this.activeCellEdit = null;\n        const shouldPushAction = e.valueChanged && !this.activeRowEdit && !this.isPasting && !this.isRangeInAction;\n        if (shouldPushAction) {\n          const action = new UndoRedoAction(this.cellValueChanges);\n          this.pushActionsToUndoStack(action);\n        }\n      },\n      pasteStart: () => {\n        this.isPasting = true;\n      },\n      pasteEnd: () => {\n        const action = new UndoRedoAction(this.cellValueChanges);\n        this.pushActionsToUndoStack(action);\n        this.isPasting = false;\n      },\n      fillStart: () => {\n        this.isRangeInAction = true;\n      },\n      fillEnd: (event) => {\n        const action = new RangeUndoRedoAction(this.cellValueChanges, event.initialRange, event.finalRange);\n        this.pushActionsToUndoStack(action);\n        this.isRangeInAction = false;\n      },\n      keyShortcutChangedCellStart: () => {\n        this.isRangeInAction = true;\n      },\n      keyShortcutChangedCellEnd: () => {\n        let action;\n        if (this.rangeService && _isCellSelectionEnabled(this.gos)) {\n          action = new RangeUndoRedoAction(this.cellValueChanges, void 0, void 0, [\n            ...this.rangeService.getCellRanges()\n          ]);\n        } else {\n          action = new UndoRedoAction(this.cellValueChanges);\n        }\n        this.pushActionsToUndoStack(action);\n        this.isRangeInAction = false;\n      }\n    });\n  }\n  pushActionsToUndoStack(action) {\n    this.undoStack.push(action);\n    this.cellValueChanges = [];\n    this.redoStack.clear();\n  }\n};\n\n// community-modules/core/src/api/scrollApi.ts\nfunction getVerticalPixelRange(beans) {\n  return beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();\n}\nfunction getHorizontalPixelRange(beans) {\n  return beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition();\n}\nfunction ensureColumnVisible(beans, key, position = \"auto\") {\n  beans.frameworkOverrides.wrapIncoming(\n    () => beans.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(key, position),\n    \"ensureVisible\"\n  );\n}\nfunction ensureIndexVisible(beans, index, position) {\n  beans.frameworkOverrides.wrapIncoming(\n    () => beans.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(index, position),\n    \"ensureVisible\"\n  );\n}\nfunction ensureNodeVisible(beans, nodeSelector, position = null) {\n  beans.frameworkOverrides.wrapIncoming(\n    () => beans.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(nodeSelector, position),\n    \"ensureVisible\"\n  );\n}\n\n// community-modules/core/src/edit/editApi.ts\nfunction undoCellEditing(beans) {\n  beans.undoRedoService?.undo(\"api\");\n}\nfunction redoCellEditing(beans) {\n  beans.undoRedoService?.redo(\"api\");\n}\nfunction getCellEditorInstances(beans, params = {}) {\n  const res = beans.rowRenderer.getCellEditorInstances(params);\n  const unwrapped = res.map(_unwrapUserComp);\n  return unwrapped;\n}\nfunction getEditingCells(beans) {\n  return beans.rowRenderer.getEditingCells();\n}\nfunction stopEditing(beans, cancel = false) {\n  beans.rowRenderer.stopEditing(cancel);\n}\nfunction startEditingCell(beans, params) {\n  const column = beans.columnModel.getCol(params.colKey);\n  if (!column) {\n    _warnOnce(`no column found for ${params.colKey}`);\n    return;\n  }\n  const cellPosition = {\n    rowIndex: params.rowIndex,\n    rowPinned: params.rowPinned || null,\n    column\n  };\n  const notPinned = params.rowPinned == null;\n  if (notPinned) {\n    ensureIndexVisible(beans, params.rowIndex);\n  }\n  ensureColumnVisible(beans, params.colKey);\n  const cell = beans.navigationService.getCellByPosition(cellPosition);\n  if (!cell) {\n    return;\n  }\n  const { focusService, gos } = beans;\n  const isFocusWithinCell = () => {\n    const activeElement = _getActiveDomElement(gos);\n    const eCell = cell.getGui();\n    return activeElement !== eCell && !!eCell?.contains(activeElement);\n  };\n  const forceBrowserFocus = gos.get(\"stopEditingWhenCellsLoseFocus\") && isFocusWithinCell();\n  if (forceBrowserFocus || !focusService.isCellFocused(cellPosition)) {\n    focusService.setFocusedCell({\n      ...cellPosition,\n      forceBrowserFocus,\n      preventScrollOnBrowserFocus: true\n    });\n  }\n  cell.startRowOrCellEdit(params.key);\n}\nfunction getCurrentUndoSize(beans) {\n  return beans.undoRedoService?.getCurrentUndoStackSize() ?? 0;\n}\nfunction getCurrentRedoSize(beans) {\n  return beans.undoRedoService?.getCurrentRedoStackSize() ?? 0;\n}\n\n// community-modules/core/src/edit/editService.ts\nvar EditService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"editService\";\n  }\n  wireBeans(beans) {\n    this.navigationService = beans.navigationService;\n    this.userComponentFactory = beans.userComponentFactory;\n    this.valueService = beans.valueService;\n  }\n  startEditing(cellCtrl, key = null, cellStartedEdit = false, event = null) {\n    const editorParams = this.createCellEditorParams(cellCtrl, key, cellStartedEdit);\n    const colDef = cellCtrl.getColumn().getColDef();\n    const compDetails = this.userComponentFactory.getCellEditorDetails(colDef, editorParams);\n    const popup = compDetails?.popupFromSelector != null ? compDetails.popupFromSelector : !!colDef.cellEditorPopup;\n    const position = compDetails?.popupPositionFromSelector != null ? compDetails.popupPositionFromSelector : colDef.cellEditorPopupPosition;\n    cellCtrl.setEditing(true, compDetails);\n    cellCtrl.getComp().setEditDetails(compDetails, popup, position, this.gos.get(\"reactiveCustomComponents\"));\n    this.eventService.dispatchEvent(cellCtrl.createEvent(event, \"cellEditingStarted\"));\n    return !compDetails?.params?.suppressPreventDefault;\n  }\n  stopEditing(cellCtrl, cancel) {\n    const cellComp = cellCtrl.getComp();\n    const { newValue, newValueExists } = this.takeValueFromCellEditor(cancel, cellComp);\n    const rowNode = cellCtrl.getRowNode();\n    const column = cellCtrl.getColumn();\n    const oldValue = this.valueService.getValueForDisplay(column, rowNode);\n    let valueChanged = false;\n    if (newValueExists) {\n      valueChanged = this.saveNewValue(cellCtrl, oldValue, newValue, rowNode, column);\n    }\n    cellCtrl.setEditing(false, void 0);\n    cellComp.setEditDetails();\n    cellCtrl.updateAndFormatValue(false);\n    cellCtrl.refreshCell({ forceRefresh: true, suppressFlash: true });\n    this.eventService.dispatchEvent({\n      ...cellCtrl.createEvent(null, \"cellEditingStopped\"),\n      oldValue,\n      newValue,\n      valueChanged\n    });\n    return valueChanged;\n  }\n  handleColDefChanged(cellCtrl) {\n    const cellEditor = cellCtrl.getCellEditor();\n    if (cellEditor?.refresh) {\n      const { eventKey, cellStartedEdit } = cellCtrl.getEditCompDetails().params;\n      const editorParams = this.createCellEditorParams(cellCtrl, eventKey, cellStartedEdit);\n      const colDef = cellCtrl.getColumn().getColDef();\n      const compDetails = this.userComponentFactory.getCellEditorDetails(colDef, editorParams);\n      cellEditor.refresh(compDetails.params);\n    }\n  }\n  setFocusOutOnEditor(cellCtrl) {\n    const cellEditor = cellCtrl.getComp().getCellEditor();\n    if (cellEditor && cellEditor.focusOut) {\n      cellEditor.focusOut();\n    }\n  }\n  setFocusInOnEditor(cellCtrl) {\n    const cellComp = cellCtrl.getComp();\n    const cellEditor = cellComp.getCellEditor();\n    if (cellEditor?.focusIn) {\n      cellEditor.focusIn();\n    } else {\n      cellCtrl.focusCell(true);\n      cellCtrl.onCellEditorAttached(() => cellComp.getCellEditor()?.focusIn?.());\n    }\n  }\n  stopEditingAndFocus(cellCtrl, suppressNavigateAfterEdit = false, shiftKey = false) {\n    cellCtrl.stopRowOrCellEdit();\n    cellCtrl.focusCell(true);\n    if (!suppressNavigateAfterEdit) {\n      this.navigateAfterEdit(shiftKey, cellCtrl.getCellPosition());\n    }\n  }\n  createPopupEditorWrapper(params) {\n    return new PopupEditorWrapper(params);\n  }\n  takeValueFromCellEditor(cancel, cellComp) {\n    const noValueResult = { newValueExists: false };\n    if (cancel) {\n      return noValueResult;\n    }\n    const cellEditor = cellComp.getCellEditor();\n    if (!cellEditor) {\n      return noValueResult;\n    }\n    const userWantsToCancel = cellEditor.isCancelAfterEnd && cellEditor.isCancelAfterEnd();\n    if (userWantsToCancel) {\n      return noValueResult;\n    }\n    const newValue = cellEditor.getValue();\n    return {\n      newValue,\n      newValueExists: true\n    };\n  }\n  /**\n   * @returns `True` if the value changes, otherwise `False`.\n   */\n  saveNewValue(cellCtrl, oldValue, newValue, rowNode, column) {\n    if (newValue === oldValue) {\n      return false;\n    }\n    cellCtrl.setSuppressRefreshCell(true);\n    const valueChanged = rowNode.setDataValue(column, newValue, \"edit\");\n    cellCtrl.setSuppressRefreshCell(false);\n    return valueChanged;\n  }\n  createCellEditorParams(cellCtrl, key, cellStartedEdit) {\n    const column = cellCtrl.getColumn();\n    const rowNode = cellCtrl.getRowNode();\n    return this.gos.addGridCommonParams({\n      value: this.valueService.getValueForDisplay(column, rowNode),\n      eventKey: key,\n      column,\n      colDef: column.getColDef(),\n      rowIndex: cellCtrl.getCellPosition().rowIndex,\n      node: rowNode,\n      data: rowNode.data,\n      cellStartedEdit,\n      onKeyDown: cellCtrl.onKeyDown.bind(cellCtrl),\n      stopEditing: cellCtrl.stopEditingAndFocus.bind(cellCtrl),\n      eGridCell: cellCtrl.getGui(),\n      parseValue: (newValue) => this.valueService.parseValue(column, rowNode, newValue, cellCtrl.getValue()),\n      formatValue: cellCtrl.formatValue.bind(cellCtrl)\n    });\n  }\n  navigateAfterEdit(shiftKey, cellPosition) {\n    const enterNavigatesVerticallyAfterEdit = this.gos.get(\"enterNavigatesVerticallyAfterEdit\");\n    if (enterNavigatesVerticallyAfterEdit) {\n      const key = shiftKey ? KeyCode.UP : KeyCode.DOWN;\n      this.navigationService.navigateToNextCell(null, key, cellPosition, false);\n    }\n  }\n};\n\n// community-modules/core/src/edit/rowEditService.ts\nvar RowEditService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowEditService\";\n  }\n  startEditing(rowCtrl, key = null, sourceRenderedCell = null, event = null) {\n    let preventDefault = true;\n    const atLeastOneEditing = rowCtrl.getAllCellCtrls().reduce((prev, cellCtrl) => {\n      const cellStartedEdit = cellCtrl === sourceRenderedCell;\n      if (cellStartedEdit) {\n        preventDefault = cellCtrl.startEditing(key, cellStartedEdit, event);\n      } else {\n        cellCtrl.startEditing(null, cellStartedEdit, event);\n      }\n      if (prev) {\n        return true;\n      }\n      return cellCtrl.isEditing();\n    }, false);\n    if (atLeastOneEditing) {\n      this.setEditing(rowCtrl, true);\n    }\n    return preventDefault;\n  }\n  stopEditing(rowCtrl, cancel = false) {\n    const cellControls = rowCtrl.getAllCellCtrls();\n    const isRowEdit = rowCtrl.isEditing();\n    rowCtrl.setStoppingRowEdit(true);\n    let fireRowEditEvent = false;\n    for (const ctrl of cellControls) {\n      const valueChanged = ctrl.stopEditing(cancel);\n      if (isRowEdit && !cancel && !fireRowEditEvent && valueChanged) {\n        fireRowEditEvent = true;\n      }\n    }\n    if (fireRowEditEvent) {\n      this.eventService.dispatchEvent(rowCtrl.createRowEvent(\"rowValueChanged\"));\n    }\n    if (isRowEdit) {\n      this.setEditing(rowCtrl, false);\n    }\n    rowCtrl.setStoppingRowEdit(false);\n  }\n  setEditing(rowCtrl, value) {\n    rowCtrl.setEditingRow(value);\n    rowCtrl.forEachGui(void 0, (gui) => gui.rowComp.addOrRemoveCssClass(\"ag-row-editing\", value));\n    const event = value ? rowCtrl.createRowEvent(\"rowEditingStarted\") : rowCtrl.createRowEvent(\"rowEditingStopped\");\n    this.eventService.dispatchEvent(event);\n  }\n};\n\n// community-modules/core/src/edit/editModule.ts\nvar EditCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/edit-core\",\n  beans: [EditService]\n});\nvar EditApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/edit-api\",\n  apiFunctions: {\n    undoCellEditing,\n    redoCellEditing,\n    getCellEditorInstances,\n    getEditingCells,\n    stopEditing,\n    startEditingCell,\n    getCurrentUndoSize,\n    getCurrentRedoSize\n  },\n  dependantModules: [EditCoreModule]\n});\nvar UndoRedoEditModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/undo-redo-edit\",\n  beans: [UndoRedoService],\n  dependantModules: [EditCoreModule]\n});\nvar FullRowEditModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/full-row-edit\",\n  beans: [RowEditService],\n  dependantModules: [EditCoreModule]\n});\nvar DefaultEditorModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/default-editor\",\n  userComponents: [{ name: \"agCellEditor\", classImp: TextCellEditor }],\n  dependantModules: [EditCoreModule]\n});\nvar DataTypeEditorsModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/data-type-editors\",\n  userComponents: [\n    { name: \"agTextCellEditor\", classImp: TextCellEditor },\n    {\n      name: \"agNumberCellEditor\",\n      classImp: NumberCellEditor,\n      params: {\n        suppressPreventDefault: true\n      }\n    },\n    { name: \"agDateCellEditor\", classImp: DateCellEditor },\n    { name: \"agDateStringCellEditor\", classImp: DateStringCellEditor },\n    { name: \"agCheckboxCellEditor\", classImp: CheckboxCellEditor }\n  ],\n  dependantModules: [DefaultEditorModule]\n});\nvar SelectEditorModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/select-editor\",\n  userComponents: [{ name: \"agSelectCellEditor\", classImp: SelectCellEditor }],\n  dependantModules: [EditCoreModule]\n});\nvar LargeTextEditorModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/large-text-editor\",\n  userComponents: [{ name: \"agLargeTextCellEditor\", classImp: LargeTextCellEditor }],\n  dependantModules: [EditCoreModule]\n});\nvar AllCommunityEditorsModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/all-editors\",\n  dependantModules: [DefaultEditorModule, DataTypeEditorsModule, SelectEditorModule, LargeTextEditorModule]\n});\nvar EditModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/editing\",\n  dependantModules: [EditCoreModule, UndoRedoEditModule, FullRowEditModule, AllCommunityEditorsModule, EditApiModule]\n});\n\n// community-modules/core/src/rendering/autoWidthCalculator.ts\nvar AutoWidthCalculator = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"autoWidthCalculator\";\n  }\n  wireBeans(beans) {\n    this.rowRenderer = beans.rowRenderer;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.centerRowContainerCtrl = p.center;\n    });\n  }\n  // this is the trick: we create a dummy container and clone all the cells\n  // into the dummy, then check the dummy's width. then destroy the dummy\n  // as we don't need it any more.\n  // drawback: only the cells visible on the screen are considered\n  getPreferredWidthForColumn(column, skipHeader) {\n    const eHeaderCell = this.getHeaderCellForColumn(column);\n    if (!eHeaderCell) {\n      return -1;\n    }\n    const elements = this.rowRenderer.getAllCellsForColumn(column);\n    if (!skipHeader) {\n      elements.push(eHeaderCell);\n    }\n    return this.addElementsToContainerAndGetWidth(elements);\n  }\n  getPreferredWidthForColumnGroup(columnGroup) {\n    const eHeaderCell = this.getHeaderCellForColumn(columnGroup);\n    if (!eHeaderCell) {\n      return -1;\n    }\n    return this.addElementsToContainerAndGetWidth([eHeaderCell]);\n  }\n  addElementsToContainerAndGetWidth(elements) {\n    const eDummyContainer = document.createElement(\"form\");\n    eDummyContainer.style.position = \"fixed\";\n    const eBodyContainer = this.centerRowContainerCtrl.getContainerElement();\n    elements.forEach((el) => this.cloneItemIntoDummy(el, eDummyContainer));\n    eBodyContainer.appendChild(eDummyContainer);\n    const dummyContainerWidth = eDummyContainer.offsetWidth;\n    eBodyContainer.removeChild(eDummyContainer);\n    const autoSizePadding = this.getAutoSizePadding();\n    return dummyContainerWidth + autoSizePadding;\n  }\n  getAutoSizePadding() {\n    return this.gos.get(\"autoSizePadding\");\n  }\n  getHeaderCellForColumn(column) {\n    let element = null;\n    this.ctrlsService.getHeaderRowContainerCtrls().forEach((container) => {\n      const res = container.getHtmlElementForColumnHeader(column);\n      if (res != null) {\n        element = res;\n      }\n    });\n    return element;\n  }\n  cloneItemIntoDummy(eCell, eDummyContainer) {\n    const eCellClone = eCell.cloneNode(true);\n    eCellClone.style.width = \"\";\n    eCellClone.style.position = \"static\";\n    eCellClone.style.left = \"\";\n    const eCloneParent = document.createElement(\"div\");\n    const eCloneParentClassList = eCloneParent.classList;\n    const isHeader = [\"ag-header-cell\", \"ag-header-group-cell\"].some((cls) => eCellClone.classList.contains(cls));\n    if (isHeader) {\n      eCloneParentClassList.add(\"ag-header\", \"ag-header-row\");\n      eCloneParent.style.position = \"static\";\n    } else {\n      eCloneParentClassList.add(\"ag-row\");\n    }\n    let pointer = eCell.parentElement;\n    while (pointer) {\n      const isRow = [\"ag-header-row\", \"ag-row\"].some((cls) => pointer.classList.contains(cls));\n      if (isRow) {\n        for (let i = 0; i < pointer.classList.length; i++) {\n          const item = pointer.classList[i];\n          if (item != \"ag-row-position-absolute\") {\n            eCloneParentClassList.add(item);\n          }\n        }\n        break;\n      }\n      pointer = pointer.parentElement;\n    }\n    eCloneParent.appendChild(eCellClone);\n    eDummyContainer.appendChild(eCloneParent);\n  }\n};\n\n// community-modules/core/src/rendering/features/stickyRowFeature.ts\nvar StickyRowFeature = class extends BeanStub {\n  constructor(createRowCon, destroyRowCtrls) {\n    super();\n    this.createRowCon = createRowCon;\n    this.destroyRowCtrls = destroyRowCtrls;\n    this.stickyTopRowCtrls = [];\n    this.stickyBottomRowCtrls = [];\n    // sticky rows pulls in extra rows from other pages which impacts row position\n    this.extraTopHeight = 0;\n    this.extraBottomHeight = 0;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.rowRenderer = beans.rowRenderer;\n    this.ctrlsService = beans.ctrlsService;\n    this.pageBoundsService = beans.pageBoundsService;\n  }\n  postConstruct() {\n    this.isClientSide = _isClientSideRowModel(this.gos);\n    this.ctrlsService.whenReady(this, (params) => {\n      this.gridBodyCtrl = params.gridBodyCtrl;\n    });\n    this.resetStickyContainers();\n  }\n  getStickyTopRowCtrls() {\n    return this.stickyTopRowCtrls;\n  }\n  getStickyBottomRowCtrls() {\n    return this.stickyBottomRowCtrls;\n  }\n  setOffsetTop(offset) {\n    if (this.extraTopHeight === offset) {\n      return;\n    }\n    this.extraTopHeight = offset;\n    this.eventService.dispatchEvent({\n      type: \"stickyTopOffsetChanged\",\n      offset\n    });\n  }\n  setOffsetBottom(offset) {\n    if (this.extraBottomHeight === offset) {\n      return;\n    }\n    this.extraBottomHeight = offset;\n  }\n  resetOffsets() {\n    this.setOffsetBottom(0);\n    this.setOffsetTop(0);\n  }\n  getExtraTopHeight() {\n    return this.extraTopHeight;\n  }\n  getExtraBottomHeight() {\n    return this.extraBottomHeight;\n  }\n  /**\n   * Get the last pixel of the group, this pixel is used to push the sticky node up out of the viewport.\n   */\n  getLastPixelOfGroup(row) {\n    return this.isClientSide ? this.getClientSideLastPixelOfGroup(row) : this.getServerSideLastPixelOfGroup(row);\n  }\n  /**\n   * Get the first pixel of the group, this pixel is used to push the sticky node down out of the viewport\n   */\n  getFirstPixelOfGroup(row) {\n    if (row.footer) {\n      return row.sibling.rowTop + row.sibling.rowHeight - 1;\n    }\n    if (row.hasChildren()) {\n      return row.rowTop - 1;\n    }\n    return 0;\n  }\n  getServerSideLastPixelOfGroup(row) {\n    if (this.isClientSide) {\n      throw new Error(\"This func should only be called in server side row model.\");\n    }\n    if (row.isExpandable() || row.footer) {\n      if (row.master) {\n        return row.detailNode.rowTop + row.detailNode.rowHeight;\n      }\n      const noOrContiguousSiblings = !row.sibling || Math.abs(row.sibling.rowIndex - row.rowIndex) === 1;\n      if (noOrContiguousSiblings) {\n        let storeBounds = row.childStore?.getStoreBounds();\n        if (row.footer) {\n          storeBounds = row.sibling.childStore?.getStoreBounds();\n        }\n        return (storeBounds?.heightPx ?? 0) + (storeBounds?.topPx ?? 0);\n      }\n      if (row.footer) {\n        return row.rowTop + row.rowHeight;\n      }\n      return row.sibling.rowTop + row.sibling.rowHeight;\n    }\n    return Number.MAX_SAFE_INTEGER;\n  }\n  getClientSideLastPixelOfGroup(row) {\n    if (!this.isClientSide) {\n      throw new Error(\"This func should only be called in client side row model.\");\n    }\n    if (row.isExpandable() || row.footer) {\n      const grandTotalAtTop = row.footer && row.rowIndex === 0;\n      if (grandTotalAtTop) {\n        return Number.MAX_SAFE_INTEGER;\n      }\n      const noOrContiguousSiblings = !row.sibling || Math.abs(row.sibling.rowIndex - row.rowIndex) === 1;\n      if (noOrContiguousSiblings) {\n        let lastAncestor = row.footer ? row.sibling : row;\n        while (lastAncestor.isExpandable() && lastAncestor.expanded) {\n          if (lastAncestor.master) {\n            lastAncestor = lastAncestor.detailNode;\n          } else if (lastAncestor.childrenAfterSort) {\n            if (lastAncestor.childrenAfterSort.length === 0) {\n              break;\n            }\n            lastAncestor = _last(lastAncestor.childrenAfterSort);\n          }\n        }\n        return lastAncestor.rowTop + lastAncestor.rowHeight;\n      }\n      if (row.footer) {\n        return row.rowTop + row.rowHeight;\n      }\n      return row.sibling.rowTop + row.sibling.rowHeight;\n    }\n    return Number.MAX_SAFE_INTEGER;\n  }\n  updateStickyRows(container) {\n    const isTop = container === \"top\";\n    let newStickyContainerHeight = 0;\n    if (!this.canRowsBeSticky()) {\n      return this.refreshNodesAndContainerHeight(container, /* @__PURE__ */ new Set(), newStickyContainerHeight);\n    }\n    const pixelAtContainerBoundary = isTop ? this.rowRenderer.getFirstVisibleVerticalPixel() - this.extraTopHeight : this.rowRenderer.getLastVisibleVerticalPixel() - this.extraTopHeight;\n    const newStickyRows = /* @__PURE__ */ new Set();\n    const addStickyRow = (stickyRow) => {\n      newStickyRows.add(stickyRow);\n      if (isTop) {\n        const lastChildBottom = this.getLastPixelOfGroup(stickyRow);\n        const stickRowBottom = pixelAtContainerBoundary + newStickyContainerHeight + stickyRow.rowHeight;\n        if (lastChildBottom < stickRowBottom) {\n          stickyRow.stickyRowTop = newStickyContainerHeight + (lastChildBottom - stickRowBottom);\n        } else {\n          stickyRow.stickyRowTop = newStickyContainerHeight;\n        }\n      } else {\n        const lastChildBottom = this.getFirstPixelOfGroup(stickyRow);\n        const stickRowTop = pixelAtContainerBoundary - (newStickyContainerHeight + stickyRow.rowHeight);\n        if (lastChildBottom > stickRowTop) {\n          stickyRow.stickyRowTop = newStickyContainerHeight - (lastChildBottom - stickRowTop);\n        } else {\n          stickyRow.stickyRowTop = newStickyContainerHeight;\n        }\n      }\n      newStickyContainerHeight = 0;\n      newStickyRows.forEach((rowNode) => {\n        const thisRowLastPx = rowNode.stickyRowTop + rowNode.rowHeight;\n        if (newStickyContainerHeight < thisRowLastPx) {\n          newStickyContainerHeight = thisRowLastPx;\n        }\n      });\n    };\n    const suppressFootersSticky = this.areFooterRowsStickySuppressed();\n    const suppressGroupsSticky = this.gos.get(\"suppressGroupRowsSticky\");\n    const isRowSticky = (row) => {\n      if (!row.displayed) {\n        return false;\n      }\n      if (row.footer) {\n        if (suppressFootersSticky === true) {\n          return false;\n        }\n        if (suppressFootersSticky === \"grand\" && row.level === -1) {\n          return false;\n        }\n        if (suppressFootersSticky === \"group\" && row.level > -1) {\n          return false;\n        }\n        const isFooterFirstRowInGroup = row.sibling.rowIndex ? row.sibling.rowIndex + 1 === row.rowIndex : false;\n        if (container === \"bottom\" && isFooterFirstRowInGroup) {\n          return false;\n        }\n        const alreadySticking = newStickyRows.has(row);\n        return !alreadySticking;\n      }\n      if (row.isExpandable()) {\n        if (suppressGroupsSticky === true) {\n          return false;\n        }\n        if (container === \"bottom\") {\n          return false;\n        }\n        const alreadySticking = newStickyRows.has(row);\n        return !alreadySticking && row.expanded;\n      }\n      return false;\n    };\n    for (let i = 0; i < 100; i++) {\n      let firstPixelAfterStickyRows = pixelAtContainerBoundary + newStickyContainerHeight;\n      if (!isTop) {\n        firstPixelAfterStickyRows = pixelAtContainerBoundary - newStickyContainerHeight;\n      }\n      const firstIndex = this.rowModel.getRowIndexAtPixel(firstPixelAfterStickyRows);\n      const firstRow = this.rowModel.getRow(firstIndex);\n      if (firstRow == null) {\n        break;\n      }\n      const ancestors = this.getStickyAncestors(firstRow);\n      const firstMissingParent = ancestors.find(\n        (parent) => (isTop ? parent.rowIndex < firstIndex : parent.rowIndex > firstIndex) && isRowSticky(parent)\n      );\n      if (firstMissingParent) {\n        addStickyRow(firstMissingParent);\n        continue;\n      }\n      const isFirstRowOutsideViewport = isTop ? firstRow.rowTop < firstPixelAfterStickyRows : firstRow.rowTop + firstRow.rowHeight > firstPixelAfterStickyRows;\n      if (isFirstRowOutsideViewport && isRowSticky(firstRow)) {\n        addStickyRow(firstRow);\n        continue;\n      }\n      break;\n    }\n    if (!isTop) {\n      newStickyRows.forEach((rowNode) => {\n        rowNode.stickyRowTop = newStickyContainerHeight - (rowNode.stickyRowTop + rowNode.rowHeight);\n      });\n    }\n    return this.refreshNodesAndContainerHeight(container, newStickyRows, newStickyContainerHeight);\n  }\n  areFooterRowsStickySuppressed() {\n    const suppressFootersSticky = this.gos.get(\"suppressStickyTotalRow\");\n    if (suppressFootersSticky === true) {\n      return true;\n    }\n    const suppressGroupRows = !!this.gos.get(\"groupIncludeFooter\") || suppressFootersSticky === \"group\";\n    const suppressGrandRows = !!this.gos.get(\"groupIncludeTotalFooter\") || suppressFootersSticky === \"grand\";\n    if (suppressGroupRows && suppressGrandRows) {\n      return true;\n    }\n    if (suppressGrandRows) {\n      return \"grand\";\n    }\n    if (suppressGroupRows) {\n      return \"group\";\n    }\n    return false;\n  }\n  canRowsBeSticky() {\n    const isStickyEnabled = _isGroupRowsSticky(this.gos);\n    const suppressFootersSticky = this.areFooterRowsStickySuppressed();\n    const suppressGroupsSticky = this.gos.get(\"suppressGroupRowsSticky\");\n    return isStickyEnabled && (!suppressFootersSticky || !suppressGroupsSticky);\n  }\n  getStickyAncestors(rowNode) {\n    const ancestors = [];\n    let p = rowNode.footer ? rowNode.sibling : rowNode.parent;\n    while (p) {\n      if (p.sibling) {\n        ancestors.push(p.sibling);\n      }\n      ancestors.push(p);\n      p = p.parent;\n    }\n    return ancestors.reverse();\n  }\n  checkStickyRows() {\n    const hasTopUpdated = this.updateStickyRows(\"top\");\n    const hasBottomUpdated = this.updateStickyRows(\"bottom\");\n    return hasTopUpdated || hasBottomUpdated;\n  }\n  destroyStickyCtrls() {\n    this.resetStickyContainers();\n  }\n  resetStickyContainers() {\n    this.refreshNodesAndContainerHeight(\"top\", /* @__PURE__ */ new Set(), 0);\n    this.refreshNodesAndContainerHeight(\"bottom\", /* @__PURE__ */ new Set(), 0);\n  }\n  refreshStickyNode(stickRowNode) {\n    const allStickyNodes = /* @__PURE__ */ new Set();\n    if (this.stickyTopRowCtrls.some((ctrl) => ctrl.getRowNode() === stickRowNode)) {\n      for (let i = 0; i < this.stickyTopRowCtrls.length; i++) {\n        const currentNode = this.stickyTopRowCtrls[i].getRowNode();\n        if (currentNode !== stickRowNode) {\n          allStickyNodes.add(currentNode);\n        }\n      }\n      if (this.refreshNodesAndContainerHeight(\"top\", allStickyNodes, this.topContainerHeight)) {\n        this.checkStickyRows();\n      }\n      return;\n    }\n    for (let i = 0; i < this.stickyBottomRowCtrls.length; i++) {\n      const currentNode = this.stickyBottomRowCtrls[i].getRowNode();\n      if (currentNode !== stickRowNode) {\n        allStickyNodes.add(currentNode);\n      }\n    }\n    if (this.refreshNodesAndContainerHeight(\"bottom\", allStickyNodes, this.bottomContainerHeight)) {\n      this.checkStickyRows();\n    }\n  }\n  /**\n   * Destroy old ctrls and create new ctrls where necessary.\n   */\n  refreshNodesAndContainerHeight(container, newStickyNodes, height) {\n    const isTop = container === \"top\";\n    const previousCtrls = isTop ? this.stickyTopRowCtrls : this.stickyBottomRowCtrls;\n    const removedCtrlsMap = {};\n    const remainingCtrls = [];\n    for (let i = 0; i < previousCtrls.length; i++) {\n      const node = previousCtrls[i].getRowNode();\n      const hasBeenRemoved = !newStickyNodes.has(node);\n      if (hasBeenRemoved) {\n        removedCtrlsMap[node.id] = previousCtrls[i];\n        node.sticky = false;\n        continue;\n      }\n      remainingCtrls.push(previousCtrls[i]);\n    }\n    const existingNodes = /* @__PURE__ */ new Set();\n    for (let i = 0; i < remainingCtrls.length; i++) {\n      existingNodes.add(remainingCtrls[i].getRowNode());\n    }\n    const newCtrls = [];\n    newStickyNodes.forEach((node) => {\n      if (existingNodes.has(node)) {\n        return;\n      }\n      node.sticky = true;\n      newCtrls.push(this.createRowCon(node, false, false));\n    });\n    let hasSomethingChanged = !!newCtrls.length || remainingCtrls.length !== previousCtrls.length;\n    if (isTop) {\n      if (this.topContainerHeight !== height) {\n        this.topContainerHeight = height;\n        this.gridBodyCtrl.setStickyTopHeight(height);\n        hasSomethingChanged = true;\n      }\n    } else {\n      if (this.bottomContainerHeight !== height) {\n        this.bottomContainerHeight = height;\n        this.gridBodyCtrl.setStickyBottomHeight(height);\n        hasSomethingChanged = true;\n      }\n    }\n    this.destroyRowCtrls(removedCtrlsMap, false);\n    const newCtrlsList = [...remainingCtrls, ...newCtrls];\n    newCtrlsList.sort((a, b) => b.getRowNode().rowIndex - a.getRowNode().rowIndex);\n    if (!isTop) {\n      newCtrlsList.reverse();\n    }\n    newCtrlsList.forEach((ctrl) => ctrl.setRowTop(ctrl.getRowNode().stickyRowTop));\n    let extraHeight = 0;\n    if (isTop) {\n      newStickyNodes.forEach((node) => {\n        if (node.rowIndex < this.pageBoundsService.getFirstRow()) {\n          extraHeight += node.rowHeight;\n        }\n      });\n      if (extraHeight > this.topContainerHeight) {\n        extraHeight = this.topContainerHeight;\n      }\n      this.setOffsetTop(extraHeight);\n    } else {\n      newStickyNodes.forEach((node) => {\n        if (node.rowIndex > this.pageBoundsService.getLastRow()) {\n          extraHeight += node.rowHeight;\n        }\n      });\n      if (extraHeight > this.bottomContainerHeight) {\n        extraHeight = this.bottomContainerHeight;\n      }\n      this.setOffsetBottom(extraHeight);\n    }\n    if (!hasSomethingChanged) {\n      return false;\n    }\n    if (isTop) {\n      this.stickyTopRowCtrls = newCtrlsList;\n    } else {\n      this.stickyBottomRowCtrls = newCtrlsList;\n    }\n    return true;\n  }\n  ensureRowHeightsValid() {\n    let anyChange = false;\n    const updateRowHeight = (ctrl) => {\n      const rowNode = ctrl.getRowNode();\n      if (rowNode.rowHeightEstimated) {\n        const rowHeight = _getRowHeightForNode(this.gos, rowNode);\n        rowNode.setRowHeight(rowHeight.height);\n        anyChange = true;\n      }\n    };\n    this.stickyTopRowCtrls.forEach(updateRowHeight);\n    this.stickyBottomRowCtrls.forEach(updateRowHeight);\n    return anyChange;\n  }\n};\n\n// community-modules/core/src/rendering/rowRenderer.ts\nvar RowRenderer = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowRenderer\";\n    this.destroyFuncsForColumnListeners = [];\n    // map of row ids to row objects. keeps track of which elements\n    // are rendered for which rows in the dom.\n    this.rowCtrlsByRowIndex = {};\n    this.zombieRowCtrls = {};\n    this.allRowCtrls = [];\n    this.topRowCtrls = [];\n    this.bottomRowCtrls = [];\n    // we only allow one refresh at a time, otherwise the internal memory structure here\n    // will get messed up. this can happen if the user has a cellRenderer, and inside the\n    // renderer they call an API method that results in another pass of the refresh,\n    // then it will be trying to draw rows in the middle of a refresh.\n    this.refreshInProgress = false;\n    this.dataFirstRenderedFired = false;\n    this.setupRangeSelectionListeners = () => {\n      const onCellSelectionChanged = () => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onCellSelectionChanged());\n      };\n      const onColumnMovedPinnedVisible = () => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.updateRangeBordersIfRangeCount());\n      };\n      const addCellSelectionListeners = () => {\n        this.eventService.addEventListener(\"cellSelectionChanged\", onCellSelectionChanged);\n        this.eventService.addEventListener(\"columnMoved\", onColumnMovedPinnedVisible);\n        this.eventService.addEventListener(\"columnPinned\", onColumnMovedPinnedVisible);\n        this.eventService.addEventListener(\"columnVisible\", onColumnMovedPinnedVisible);\n      };\n      const removeCellSelectionListeners = () => {\n        this.eventService.removeEventListener(\"cellSelectionChanged\", onCellSelectionChanged);\n        this.eventService.removeEventListener(\"columnMoved\", onColumnMovedPinnedVisible);\n        this.eventService.removeEventListener(\"columnPinned\", onColumnMovedPinnedVisible);\n        this.eventService.removeEventListener(\"columnVisible\", onColumnMovedPinnedVisible);\n      };\n      this.addDestroyFunc(() => removeCellSelectionListeners());\n      this.addManagedPropertyListeners([\"enableRangeSelection\", \"cellSelection\"], () => {\n        const isEnabled = _isCellSelectionEnabled(this.gos);\n        if (isEnabled) {\n          addCellSelectionListeners();\n        } else {\n          removeCellSelectionListeners();\n        }\n      });\n      const cellSelectionEnabled = _isCellSelectionEnabled(this.gos);\n      if (cellSelectionEnabled) {\n        addCellSelectionListeners();\n      }\n    };\n  }\n  wireBeans(beans) {\n    this.animationFrameService = beans.animationFrameService;\n    this.paginationService = beans.paginationService;\n    this.pageBoundsService = beans.pageBoundsService;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.rowModel = beans.rowModel;\n    this.focusService = beans.focusService;\n    this.beans = beans;\n    this.rowContainerHeightService = beans.rowContainerHeightService;\n    this.ctrlsService = beans.ctrlsService;\n    this.environment = beans.environment;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridBodyCtrl = p.gridBodyCtrl;\n      this.initialise();\n    });\n  }\n  initialise() {\n    this.addManagedEventListeners({\n      paginationChanged: this.onPageLoaded.bind(this),\n      pinnedRowDataChanged: this.onPinnedRowDataChanged.bind(this),\n      displayedColumnsChanged: this.onDisplayedColumnsChanged.bind(this),\n      bodyScroll: this.onBodyScroll.bind(this),\n      bodyHeightChanged: this.redraw.bind(this, {})\n    });\n    this.addManagedPropertyListeners([\"domLayout\", \"embedFullWidthRows\"], () => this.onDomLayoutChanged());\n    this.addManagedPropertyListeners([\"suppressMaxRenderedRowRestriction\", \"rowBuffer\"], () => this.redraw());\n    this.addManagedPropertyListener(\"suppressCellFocus\", (e) => this.onSuppressCellFocusChanged(e.currentValue));\n    this.addManagedPropertyListeners(\n      [\n        \"groupSuppressBlankHeader\",\n        \"getBusinessKeyForNode\",\n        \"fullWidthCellRenderer\",\n        \"fullWidthCellRendererParams\",\n        \"suppressStickyTotalRow\",\n        \"groupRowRenderer\",\n        \"groupRowRendererParams\",\n        // maybe only needs to refresh FW rows...\n        \"loadingCellRenderer\",\n        \"loadingCellRendererParams\",\n        \"detailCellRenderer\",\n        \"detailCellRendererParams\",\n        \"enableRangeSelection\",\n        \"enableCellTextSelection\",\n        \"rowSelection\"\n      ],\n      () => this.redrawRows()\n    );\n    if (_isGroupRowsSticky(this.gos)) {\n      if (_isClientSideRowModel(this.gos) || _isServerSideRowModel(this.gos)) {\n        this.stickyRowFeature = this.createManagedBean(\n          new StickyRowFeature(this.createRowCon.bind(this), this.destroyRowCtrls.bind(this))\n        );\n      }\n    }\n    this.registerCellEventListeners();\n    this.initialiseCache();\n    this.printLayout = _isDomLayout(this.gos, \"print\");\n    this.embedFullWidthRows = this.printLayout || this.gos.get(\"embedFullWidthRows\");\n    this.redrawAfterModelUpdate();\n  }\n  initialiseCache() {\n    if (this.gos.get(\"keepDetailRows\")) {\n      const countProp = this.getKeepDetailRowsCount();\n      const count = countProp != null ? countProp : 3;\n      this.cachedRowCtrls = new RowCtrlCache(count);\n    }\n  }\n  getKeepDetailRowsCount() {\n    return this.gos.get(\"keepDetailRowsCount\");\n  }\n  getStickyTopRowCtrls() {\n    if (!this.stickyRowFeature) {\n      return [];\n    }\n    return this.stickyRowFeature.getStickyTopRowCtrls();\n  }\n  getStickyBottomRowCtrls() {\n    if (!this.stickyRowFeature) {\n      return [];\n    }\n    return this.stickyRowFeature.getStickyBottomRowCtrls();\n  }\n  updateAllRowCtrls() {\n    const liveList = _getAllValuesInObject(this.rowCtrlsByRowIndex);\n    const zombieList = _getAllValuesInObject(this.zombieRowCtrls);\n    const cachedList = this.cachedRowCtrls ? this.cachedRowCtrls.getEntries() : [];\n    if (zombieList.length > 0 || cachedList.length > 0) {\n      this.allRowCtrls = [...liveList, ...zombieList, ...cachedList];\n    } else {\n      this.allRowCtrls = liveList;\n    }\n  }\n  onCellFocusChanged(event) {\n    this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onCellFocused(event));\n    this.getFullWidthRowCtrls().forEach((rowCtrl) => rowCtrl.onFullWidthRowFocused(event));\n  }\n  onSuppressCellFocusChanged(suppressCellFocus) {\n    this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onSuppressCellFocusChanged(suppressCellFocus));\n    this.getFullWidthRowCtrls().forEach((rowCtrl) => rowCtrl.onSuppressCellFocusChanged(suppressCellFocus));\n  }\n  // in a clean design, each cell would register for each of these events. however when scrolling, all the cells\n  // registering and de-registering for events is a performance bottleneck. so we register here once and inform\n  // all active cells.\n  registerCellEventListeners() {\n    this.addManagedEventListeners({\n      cellFocused: (event) => {\n        this.onCellFocusChanged(event);\n      },\n      cellFocusCleared: () => this.onCellFocusChanged(),\n      flashCells: (event) => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onFlashCells(event));\n      },\n      columnHoverChanged: () => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onColumnHover());\n      },\n      displayedColumnsChanged: () => {\n        this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onDisplayedColumnsChanged());\n      },\n      displayedColumnsWidthChanged: () => {\n        if (this.printLayout) {\n          this.getAllCellCtrls().forEach((cellCtrl) => cellCtrl.onLeftChanged());\n        }\n      }\n    });\n    this.setupRangeSelectionListeners();\n    this.refreshListenersToColumnsForCellComps();\n    this.addManagedEventListeners({\n      gridColumnsChanged: this.refreshListenersToColumnsForCellComps.bind(this)\n    });\n    this.addDestroyFunc(this.removeGridColumnListeners.bind(this));\n  }\n  // executes all functions in destroyFuncsForColumnListeners and then clears the list\n  removeGridColumnListeners() {\n    this.destroyFuncsForColumnListeners.forEach((func) => func());\n    this.destroyFuncsForColumnListeners.length = 0;\n  }\n  // this function adds listeners onto all the grid columns, which are the column that we could have cellComps for.\n  // when the grid columns change, we add listeners again. in an ideal design, each CellComp would just register to\n  // the column it belongs to on creation, however this was a bottleneck with the number of cells, so do it here\n  // once instead.\n  refreshListenersToColumnsForCellComps() {\n    this.removeGridColumnListeners();\n    const cols = this.columnModel.getCols();\n    cols.forEach((col) => {\n      const forEachCellWithThisCol = (callback) => {\n        this.getAllCellCtrls().forEach((cellCtrl) => {\n          if (cellCtrl.getColumn() === col) {\n            callback(cellCtrl);\n          }\n        });\n      };\n      const leftChangedListener = () => {\n        forEachCellWithThisCol((cellCtrl) => cellCtrl.onLeftChanged());\n      };\n      const widthChangedListener = () => {\n        forEachCellWithThisCol((cellCtrl) => cellCtrl.onWidthChanged());\n      };\n      const firstRightPinnedChangedListener = () => {\n        forEachCellWithThisCol((cellCtrl) => cellCtrl.onFirstRightPinnedChanged());\n      };\n      const lastLeftPinnedChangedListener = () => {\n        forEachCellWithThisCol((cellCtrl) => cellCtrl.onLastLeftPinnedChanged());\n      };\n      const colDefChangedListener = () => {\n        forEachCellWithThisCol((cellCtrl) => cellCtrl.onColDefChanged());\n      };\n      col.addEventListener(\"leftChanged\", leftChangedListener);\n      col.addEventListener(\"widthChanged\", widthChangedListener);\n      col.addEventListener(\"firstRightPinnedChanged\", firstRightPinnedChangedListener);\n      col.addEventListener(\"lastLeftPinnedChanged\", lastLeftPinnedChangedListener);\n      col.addEventListener(\"colDefChanged\", colDefChangedListener);\n      this.destroyFuncsForColumnListeners.push(() => {\n        col.removeEventListener(\"leftChanged\", leftChangedListener);\n        col.removeEventListener(\"widthChanged\", widthChangedListener);\n        col.removeEventListener(\"firstRightPinnedChanged\", firstRightPinnedChangedListener);\n        col.removeEventListener(\"lastLeftPinnedChanged\", lastLeftPinnedChangedListener);\n        col.removeEventListener(\"colDefChanged\", colDefChangedListener);\n      });\n    });\n  }\n  onDomLayoutChanged() {\n    const printLayout = _isDomLayout(this.gos, \"print\");\n    const embedFullWidthRows = printLayout || this.gos.get(\"embedFullWidthRows\");\n    const destroyRows = embedFullWidthRows !== this.embedFullWidthRows || this.printLayout !== printLayout;\n    this.printLayout = printLayout;\n    this.embedFullWidthRows = embedFullWidthRows;\n    if (destroyRows) {\n      this.redrawAfterModelUpdate({ domLayoutChanged: true });\n    }\n  }\n  // for row models that have datasources, when we update the datasource, we need to force the rowRenderer\n  // to redraw all rows. otherwise the old rows from the old datasource will stay displayed.\n  datasourceChanged() {\n    this.firstRenderedRow = 0;\n    this.lastRenderedRow = -1;\n    const rowIndexesToRemove = Object.keys(this.rowCtrlsByRowIndex);\n    this.removeRowCtrls(rowIndexesToRemove);\n  }\n  onPageLoaded(event) {\n    const params = {\n      recycleRows: event.keepRenderedRows,\n      animate: event.animate,\n      newData: event.newData,\n      newPage: event.newPage,\n      // because this is a model updated event (not pinned rows), we\n      // can skip updating the pinned rows. this is needed so that if user\n      // is doing transaction updates, the pinned rows are not getting constantly\n      // trashed - or editing cells in pinned rows are not refreshed and put into read mode\n      onlyBody: true\n    };\n    this.redrawAfterModelUpdate(params);\n  }\n  getAllCellsForColumn(column) {\n    const res = [];\n    this.getAllRowCtrls().forEach((rowCtrl) => {\n      const eCell = rowCtrl.getCellElement(column);\n      if (eCell) {\n        res.push(eCell);\n      }\n    });\n    return res;\n  }\n  refreshFloatingRowComps() {\n    this.refreshFloatingRows(this.topRowCtrls, \"top\");\n    this.refreshFloatingRows(this.bottomRowCtrls, \"bottom\");\n  }\n  getTopRowCtrls() {\n    return this.topRowCtrls;\n  }\n  getCentreRowCtrls() {\n    return this.allRowCtrls;\n  }\n  getBottomRowCtrls() {\n    return this.bottomRowCtrls;\n  }\n  /**\n   * Determines which row controllers need to be destroyed and re-created vs which ones can\n   * be re-used.\n   *\n   * This is operation is to pinned/floating rows as `this.recycleRows` is to normal/body rows.\n   *\n   * All `RowCtrl` instances in `rowCtrls` that don't correspond to `RowNode` instances in `rowNodes` are destroyed.\n   * All `RowNode` instances in `rowNodes` that don't correspond to `RowCtrl` instances in `rowCtrls` are created.\n   * All instances in `rowCtrls` must be in the same order as their corresponding nodes in `rowNodes`.\n   *\n   * @param rowCtrls The list of existing row controllers\n   * @param rowNodes The canonical list of row nodes that should have associated controllers\n   */\n  refreshFloatingRows(rowCtrls, floating) {\n    const { pinnedRowModel, beans, printLayout } = this;\n    const rowCtrlMap = Object.fromEntries(rowCtrls.map((ctrl) => [ctrl.getRowNode().id, ctrl]));\n    pinnedRowModel.forEachPinnedRow(floating, (node, i) => {\n      const rowCtrl = rowCtrls[i];\n      const rowCtrlDoesNotExist = rowCtrl && pinnedRowModel.getPinnedRowById(rowCtrl.getRowNode().id, floating) === void 0;\n      if (rowCtrlDoesNotExist) {\n        rowCtrl.destroyFirstPass();\n        rowCtrl.destroySecondPass();\n      }\n      if (node.id in rowCtrlMap) {\n        rowCtrls[i] = rowCtrlMap[node.id];\n        delete rowCtrlMap[node.id];\n      } else {\n        rowCtrls[i] = new RowCtrl(node, beans, false, false, printLayout);\n      }\n    });\n    const rowNodeCount = floating === \"top\" ? pinnedRowModel.getPinnedTopRowCount() : pinnedRowModel.getPinnedBottomRowCount();\n    rowCtrls.length = rowNodeCount;\n  }\n  onPinnedRowDataChanged() {\n    const params = {\n      recycleRows: true\n    };\n    this.redrawAfterModelUpdate(params);\n  }\n  redrawRow(rowNode, suppressEvent = false) {\n    if (rowNode.sticky) {\n      this.stickyRowFeature.refreshStickyNode(rowNode);\n    } else if (this.cachedRowCtrls?.has(rowNode)) {\n      this.cachedRowCtrls.removeRow(rowNode);\n      return;\n    } else {\n      const destroyAndRecreateCtrl = (dataStruct) => {\n        const ctrl = dataStruct[rowNode.rowIndex];\n        if (!ctrl) {\n          return;\n        }\n        if (ctrl.getRowNode() !== rowNode) {\n          return;\n        }\n        ctrl.destroyFirstPass();\n        ctrl.destroySecondPass();\n        dataStruct[rowNode.rowIndex] = this.createRowCon(rowNode, false, false);\n      };\n      switch (rowNode.rowPinned) {\n        case \"top\":\n          destroyAndRecreateCtrl(this.topRowCtrls);\n          break;\n        case \"bottom\":\n          destroyAndRecreateCtrl(this.bottomRowCtrls);\n          break;\n        default:\n          destroyAndRecreateCtrl(this.rowCtrlsByRowIndex);\n          this.updateAllRowCtrls();\n      }\n    }\n    if (!suppressEvent) {\n      this.dispatchDisplayedRowsChanged(false);\n    }\n  }\n  redrawRows(rowNodes) {\n    const partialRefresh = rowNodes != null;\n    if (partialRefresh) {\n      rowNodes?.forEach((node) => this.redrawRow(node, true));\n      this.dispatchDisplayedRowsChanged(false);\n      return;\n    }\n    this.redrawAfterModelUpdate();\n  }\n  getCellToRestoreFocusToAfterRefresh(params) {\n    const focusedCell = params?.suppressKeepFocus ? null : this.focusService.getFocusCellToUseAfterRefresh();\n    if (focusedCell == null) {\n      return null;\n    }\n    const activeElement = _getActiveDomElement(this.gos);\n    const cellDomData = _getDomData(this.gos, activeElement, CellCtrl.DOM_DATA_KEY_CELL_CTRL);\n    const rowDomData = _getDomData(this.gos, activeElement, RowCtrl.DOM_DATA_KEY_ROW_CTRL);\n    const gridElementFocused = cellDomData || rowDomData;\n    return gridElementFocused ? focusedCell : null;\n  }\n  // gets called from:\n  // +) initialisation (in registerGridComp) params = null\n  // +) onDomLayoutChanged, params = null\n  // +) onPageLoaded, recycleRows, animate, newData, newPage from event, onlyBody=true\n  // +) onPinnedRowDataChanged, recycleRows = true\n  // +) redrawRows (from Grid API), recycleRows = true/false\n  redrawAfterModelUpdate(params = {}) {\n    this.getLockOnRefresh();\n    const focusedCell = this.getCellToRestoreFocusToAfterRefresh(params);\n    this.updateContainerHeights();\n    this.scrollToTopIfNewData(params);\n    const recycleRows = !params.domLayoutChanged && !!params.recycleRows;\n    const animate = params.animate && _isAnimateRows(this.gos);\n    const rowsToRecycle = recycleRows ? this.getRowsToRecycle() : null;\n    if (!recycleRows) {\n      this.removeAllRowComps();\n    }\n    this.workOutFirstAndLastRowsToRender();\n    if (this.stickyRowFeature) {\n      this.stickyRowFeature.checkStickyRows();\n      const extraHeight = this.stickyRowFeature.getExtraTopHeight() + this.stickyRowFeature.getExtraBottomHeight();\n      if (extraHeight) {\n        this.updateContainerHeights(extraHeight);\n      }\n    }\n    this.recycleRows(rowsToRecycle, animate);\n    this.gridBodyCtrl.updateRowCount();\n    if (!params.onlyBody) {\n      this.refreshFloatingRowComps();\n    }\n    this.dispatchDisplayedRowsChanged();\n    if (focusedCell != null) {\n      this.restoreFocusedCell(focusedCell);\n    }\n    this.releaseLockOnRefresh();\n  }\n  scrollToTopIfNewData(params) {\n    const scrollToTop = params.newData || params.newPage;\n    const suppressScrollToTop = this.gos.get(\"suppressScrollOnNewData\");\n    if (scrollToTop && !suppressScrollToTop) {\n      this.gridBodyCtrl.getScrollFeature().scrollToTop();\n      this.stickyRowFeature?.resetOffsets();\n    }\n  }\n  updateContainerHeights(additionalHeight = 0) {\n    if (this.printLayout) {\n      this.rowContainerHeightService.setModelHeight(null);\n      return;\n    }\n    let containerHeight = this.pageBoundsService.getCurrentPageHeight();\n    if (containerHeight === 0) {\n      containerHeight = 1;\n    }\n    this.rowContainerHeightService.setModelHeight(containerHeight + additionalHeight);\n  }\n  getLockOnRefresh() {\n    if (this.refreshInProgress) {\n      throw new Error(\n        \"AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.\"\n      );\n    }\n    this.refreshInProgress = true;\n    this.frameworkOverrides.getLockOnRefresh?.();\n  }\n  releaseLockOnRefresh() {\n    this.refreshInProgress = false;\n    this.frameworkOverrides.releaseLockOnRefresh?.();\n  }\n  isRefreshInProgress() {\n    return this.refreshInProgress;\n  }\n  // sets the focus to the provided cell, if the cell is provided. this way, the user can call refresh without\n  // worry about the focus been lost. this is important when the user is using keyboard navigation to do edits\n  // and the cellEditor is calling 'refresh' to get other cells to update (as other cells might depend on the\n  // edited cell).\n  restoreFocusedCell(cellPosition) {\n    if (!cellPosition) {\n      return;\n    }\n    this.focusService.restoreFocusedCell(cellPosition, () => {\n      this.onCellFocusChanged(\n        this.gos.addGridCommonParams({\n          rowIndex: cellPosition.rowIndex,\n          column: cellPosition.column,\n          rowPinned: cellPosition.rowPinned,\n          forceBrowserFocus: true,\n          preventScrollOnBrowserFocus: true,\n          type: \"cellFocused\"\n        })\n      );\n    });\n  }\n  stopEditing(cancel = false) {\n    this.getAllRowCtrls().forEach((rowCtrl) => {\n      rowCtrl.stopEditing(cancel);\n    });\n  }\n  getAllCellCtrls() {\n    const res = [];\n    const rowCtrls = this.getAllRowCtrls();\n    const rowCtrlsLength = rowCtrls.length;\n    for (let i = 0; i < rowCtrlsLength; i++) {\n      const cellCtrls = rowCtrls[i].getAllCellCtrls();\n      const cellCtrlsLength = cellCtrls.length;\n      for (let j = 0; j < cellCtrlsLength; j++) {\n        res.push(cellCtrls[j]);\n      }\n    }\n    return res;\n  }\n  getAllRowCtrls() {\n    const stickyTopRowCtrls = this.stickyRowFeature && this.stickyRowFeature.getStickyTopRowCtrls() || [];\n    const stickyBottomRowCtrls = this.stickyRowFeature && this.stickyRowFeature.getStickyBottomRowCtrls() || [];\n    const res = [...this.topRowCtrls, ...this.bottomRowCtrls, ...stickyTopRowCtrls, ...stickyBottomRowCtrls];\n    for (const key in this.rowCtrlsByRowIndex) {\n      res.push(this.rowCtrlsByRowIndex[key]);\n    }\n    return res;\n  }\n  addRenderedRowListener(eventName, rowIndex, callback) {\n    const rowComp = this.rowCtrlsByRowIndex[rowIndex];\n    if (rowComp) {\n      rowComp.addEventListener(eventName, callback);\n    }\n  }\n  flashCells(params = {}) {\n    this.getCellCtrls(params.rowNodes, params.columns).forEach(\n      (cellCtrl) => cellCtrl.flashCell(params)\n    );\n  }\n  refreshCells(params = {}) {\n    const refreshCellParams = {\n      forceRefresh: params.force,\n      newData: false,\n      suppressFlash: params.suppressFlash\n    };\n    for (const cellCtrl of this.getCellCtrls(params.rowNodes, params.columns)) {\n      cellCtrl.refreshOrDestroyCell(refreshCellParams);\n    }\n    this.refreshFullWidth(params.rowNodes);\n  }\n  refreshFullWidth(rowNodes) {\n    if (!rowNodes) {\n      return;\n    }\n    let cellFocused = null;\n    if (this.stickyRowFeature && _browserSupportsPreventScroll()) {\n      cellFocused = this.getCellToRestoreFocusToAfterRefresh() || null;\n    }\n    for (const rowCtrl of this.getRowCtrls(rowNodes)) {\n      if (!rowCtrl.isFullWidth()) {\n        continue;\n      }\n      const refreshed = rowCtrl.refreshFullWidth();\n      if (!refreshed) {\n        this.redrawRow(rowCtrl.getRowNode(), true);\n      }\n    }\n    this.dispatchDisplayedRowsChanged(false);\n    if (cellFocused) {\n      this.restoreFocusedCell(cellFocused);\n    }\n  }\n  getCellRendererInstances(params) {\n    const cellRenderers = this.getCellCtrls(params.rowNodes, params.columns).map((cellCtrl) => cellCtrl.getCellRenderer()).filter((renderer) => renderer != null);\n    if (params.columns?.length) {\n      return cellRenderers;\n    }\n    const fullWidthRenderers = [];\n    const rowIdMap = this.mapRowNodes(params.rowNodes);\n    this.getAllRowCtrls().forEach((rowCtrl) => {\n      if (rowIdMap && !this.isRowInMap(rowCtrl.getRowNode(), rowIdMap)) {\n        return;\n      }\n      if (!rowCtrl.isFullWidth()) {\n        return;\n      }\n      const renderers = rowCtrl.getFullWidthCellRenderers();\n      for (let i = 0; i < renderers.length; i++) {\n        const renderer = renderers[i];\n        if (renderer != null) {\n          fullWidthRenderers.push(renderer);\n        }\n      }\n    });\n    return [...fullWidthRenderers, ...cellRenderers];\n  }\n  getCellEditorInstances(params) {\n    const res = [];\n    this.getCellCtrls(params.rowNodes, params.columns).forEach((cellCtrl) => {\n      const cellEditor = cellCtrl.getCellEditor();\n      if (cellEditor) {\n        res.push(cellEditor);\n      }\n    });\n    return res;\n  }\n  getEditingCells() {\n    const res = [];\n    this.getAllCellCtrls().forEach((cellCtrl) => {\n      if (cellCtrl.isEditing()) {\n        const cellPosition = cellCtrl.getCellPosition();\n        res.push(cellPosition);\n      }\n    });\n    return res;\n  }\n  mapRowNodes(rowNodes) {\n    if (!rowNodes) {\n      return;\n    }\n    const res = {\n      top: {},\n      bottom: {},\n      normal: {}\n    };\n    rowNodes.forEach((rowNode) => {\n      const id = rowNode.id;\n      switch (rowNode.rowPinned) {\n        case \"top\":\n          res.top[id] = rowNode;\n          break;\n        case \"bottom\":\n          res.bottom[id] = rowNode;\n          break;\n        default:\n          res.normal[id] = rowNode;\n          break;\n      }\n    });\n    return res;\n  }\n  isRowInMap(rowNode, rowIdsMap) {\n    const id = rowNode.id;\n    const floating = rowNode.rowPinned;\n    switch (floating) {\n      case \"top\":\n        return rowIdsMap.top[id] != null;\n      case \"bottom\":\n        return rowIdsMap.bottom[id] != null;\n      default:\n        return rowIdsMap.normal[id] != null;\n    }\n  }\n  /**\n   * @param rowNodes if provided, returns the RowCtrls for the provided rowNodes. otherwise returns all RowCtrls.\n   */\n  getRowCtrls(rowNodes) {\n    const rowIdsMap = this.mapRowNodes(rowNodes);\n    const allRowCtrls = this.getAllRowCtrls();\n    if (!rowNodes || !rowIdsMap) {\n      return allRowCtrls;\n    }\n    return allRowCtrls.filter((rowCtrl) => {\n      const rowNode = rowCtrl.getRowNode();\n      return this.isRowInMap(rowNode, rowIdsMap);\n    });\n  }\n  // returns CellCtrl's that match the provided rowNodes and columns. eg if one row node\n  // and two columns provided, that identifies 4 cells, so 4 CellCtrl's returned.\n  getCellCtrls(rowNodes, columns) {\n    let colIdsMap;\n    if (_exists(columns)) {\n      colIdsMap = {};\n      columns.forEach((colKey) => {\n        const column = this.columnModel.getCol(colKey);\n        if (_exists(column)) {\n          colIdsMap[column.getId()] = true;\n        }\n      });\n    }\n    const res = [];\n    this.getRowCtrls(rowNodes).forEach((rowCtrl) => {\n      rowCtrl.getAllCellCtrls().forEach((cellCtrl) => {\n        const colId = cellCtrl.getColumn().getId();\n        const excludeColFromRefresh = colIdsMap && !colIdsMap[colId];\n        if (excludeColFromRefresh) {\n          return;\n        }\n        res.push(cellCtrl);\n      });\n    });\n    return res;\n  }\n  destroy() {\n    this.removeAllRowComps(true);\n    super.destroy();\n  }\n  removeAllRowComps(suppressAnimation = false) {\n    const rowIndexesToRemove = Object.keys(this.rowCtrlsByRowIndex);\n    this.removeRowCtrls(rowIndexesToRemove, suppressAnimation);\n    if (this.stickyRowFeature) {\n      this.stickyRowFeature.destroyStickyCtrls();\n    }\n  }\n  getRowsToRecycle() {\n    const stubNodeIndexes = [];\n    _iterateObject(this.rowCtrlsByRowIndex, (index, rowCtrl) => {\n      const stubNode = rowCtrl.getRowNode().id == null;\n      if (stubNode) {\n        stubNodeIndexes.push(index);\n      }\n    });\n    this.removeRowCtrls(stubNodeIndexes);\n    const ctrlsByIdMap = {};\n    _iterateObject(this.rowCtrlsByRowIndex, (_, rowCtrl) => {\n      const rowNode = rowCtrl.getRowNode();\n      ctrlsByIdMap[rowNode.id] = rowCtrl;\n    });\n    this.rowCtrlsByRowIndex = {};\n    return ctrlsByIdMap;\n  }\n  // takes array of row indexes\n  removeRowCtrls(rowsToRemove, suppressAnimation = false) {\n    rowsToRemove.forEach((indexToRemove) => {\n      const rowCtrl = this.rowCtrlsByRowIndex[indexToRemove];\n      if (rowCtrl) {\n        rowCtrl.destroyFirstPass(suppressAnimation);\n        rowCtrl.destroySecondPass();\n      }\n      delete this.rowCtrlsByRowIndex[indexToRemove];\n    });\n  }\n  onBodyScroll(e) {\n    if (e.direction !== \"vertical\") {\n      return;\n    }\n    this.redraw({ afterScroll: true });\n  }\n  // gets called when rows don't change, but viewport does, so after:\n  // 1) height of grid body changes, ie number of displayed rows has changed\n  // 2) grid scrolled to new position\n  // 3) ensure index visible (which is a scroll)\n  redraw(params = {}) {\n    const { afterScroll } = params;\n    let cellFocused;\n    if (this.stickyRowFeature && _browserSupportsPreventScroll()) {\n      cellFocused = this.getCellToRestoreFocusToAfterRefresh() || void 0;\n    }\n    const oldFirstRow = this.firstRenderedRow;\n    const oldLastRow = this.lastRenderedRow;\n    this.workOutFirstAndLastRowsToRender();\n    let hasStickyRowChanges = false;\n    if (this.stickyRowFeature) {\n      hasStickyRowChanges = this.stickyRowFeature.checkStickyRows();\n      const extraHeight = this.stickyRowFeature.getExtraTopHeight() + this.stickyRowFeature.getExtraBottomHeight();\n      if (extraHeight) {\n        this.updateContainerHeights(extraHeight);\n      }\n    }\n    const rangeChanged = this.firstRenderedRow !== oldFirstRow || this.lastRenderedRow !== oldLastRow;\n    if (afterScroll && !hasStickyRowChanges && !rangeChanged) {\n      return;\n    }\n    this.getLockOnRefresh();\n    this.recycleRows(null, false, afterScroll);\n    this.releaseLockOnRefresh();\n    this.dispatchDisplayedRowsChanged(afterScroll && !hasStickyRowChanges);\n    if (cellFocused != null) {\n      const newFocusedCell = this.getCellToRestoreFocusToAfterRefresh();\n      if (cellFocused != null && newFocusedCell == null) {\n        this.animationFrameService.flushAllFrames();\n        this.restoreFocusedCell(cellFocused);\n      }\n    }\n  }\n  removeRowCompsNotToDraw(indexesToDraw, suppressAnimation) {\n    const indexesToDrawMap = {};\n    indexesToDraw.forEach((index) => indexesToDrawMap[index] = true);\n    const existingIndexes = Object.keys(this.rowCtrlsByRowIndex);\n    const indexesNotToDraw = existingIndexes.filter((index) => !indexesToDrawMap[index]);\n    this.removeRowCtrls(indexesNotToDraw, suppressAnimation);\n  }\n  calculateIndexesToDraw(rowsToRecycle) {\n    const indexesToDraw = _createArrayOfNumbers(this.firstRenderedRow, this.lastRenderedRow);\n    const checkRowToDraw = (indexStr, rowComp) => {\n      const index = rowComp.getRowNode().rowIndex;\n      if (index == null) {\n        return;\n      }\n      if (index < this.firstRenderedRow || index > this.lastRenderedRow) {\n        if (this.doNotUnVirtualiseRow(rowComp)) {\n          indexesToDraw.push(index);\n        }\n      }\n    };\n    _iterateObject(this.rowCtrlsByRowIndex, checkRowToDraw);\n    _iterateObject(rowsToRecycle, checkRowToDraw);\n    indexesToDraw.sort((a, b) => a - b);\n    const ret = [];\n    for (let i = 0; i < indexesToDraw.length; i++) {\n      const currRow = indexesToDraw[i];\n      const rowNode = this.rowModel.getRow(currRow);\n      if (rowNode && !rowNode.sticky) {\n        ret.push(currRow);\n      }\n    }\n    return ret;\n  }\n  recycleRows(rowsToRecycle, animate = false, afterScroll = false) {\n    const indexesToDraw = this.calculateIndexesToDraw(rowsToRecycle);\n    if (this.printLayout || afterScroll) {\n      animate = false;\n    }\n    this.removeRowCompsNotToDraw(indexesToDraw, !animate);\n    const rowCtrls = [];\n    indexesToDraw.forEach((rowIndex) => {\n      const rowCtrl = this.createOrUpdateRowCtrl(rowIndex, rowsToRecycle, animate, afterScroll);\n      if (_exists(rowCtrl)) {\n        rowCtrls.push(rowCtrl);\n      }\n    });\n    if (rowsToRecycle) {\n      const useAnimationFrame = afterScroll && !this.gos.get(\"suppressAnimationFrame\") && !this.printLayout;\n      if (useAnimationFrame) {\n        this.beans.animationFrameService.addDestroyTask(() => {\n          this.destroyRowCtrls(rowsToRecycle, animate);\n          this.updateAllRowCtrls();\n          this.dispatchDisplayedRowsChanged();\n        });\n      } else {\n        this.destroyRowCtrls(rowsToRecycle, animate);\n      }\n    }\n    this.updateAllRowCtrls();\n  }\n  dispatchDisplayedRowsChanged(afterScroll = false) {\n    this.eventService.dispatchEvent({\n      type: \"displayedRowsChanged\",\n      afterScroll\n    });\n  }\n  onDisplayedColumnsChanged() {\n    const pinningLeft = this.visibleColsService.isPinningLeft();\n    const pinningRight = this.visibleColsService.isPinningRight();\n    const atLeastOneChanged = this.pinningLeft !== pinningLeft || pinningRight !== this.pinningRight;\n    if (atLeastOneChanged) {\n      this.pinningLeft = pinningLeft;\n      this.pinningRight = pinningRight;\n      if (this.embedFullWidthRows) {\n        this.redrawFullWidthEmbeddedRows();\n      }\n    }\n  }\n  // when embedding, what gets showed in each section depends on what is pinned. eg if embedding group expand / collapse,\n  // then it should go into the pinned left area if pinning left, or the center area if not pinning.\n  redrawFullWidthEmbeddedRows() {\n    const rowsToRemove = [];\n    this.getFullWidthRowCtrls().forEach((fullWidthCtrl) => {\n      const rowIndex = fullWidthCtrl.getRowNode().rowIndex;\n      rowsToRemove.push(rowIndex.toString());\n    });\n    this.refreshFloatingRowComps();\n    this.removeRowCtrls(rowsToRemove);\n    this.redraw({ afterScroll: true });\n  }\n  getFullWidthRowCtrls(rowNodes) {\n    const rowNodesMap = this.mapRowNodes(rowNodes);\n    return this.getAllRowCtrls().filter((rowCtrl) => {\n      if (!rowCtrl.isFullWidth()) {\n        return false;\n      }\n      const rowNode = rowCtrl.getRowNode();\n      if (rowNodesMap != null && !this.isRowInMap(rowNode, rowNodesMap)) {\n        return false;\n      }\n      return true;\n    });\n  }\n  createOrUpdateRowCtrl(rowIndex, rowsToRecycle, animate, afterScroll) {\n    let rowNode;\n    let rowCtrl = this.rowCtrlsByRowIndex[rowIndex];\n    if (!rowCtrl) {\n      rowNode = this.rowModel.getRow(rowIndex);\n      if (_exists(rowNode) && _exists(rowsToRecycle) && rowsToRecycle[rowNode.id] && rowNode.alreadyRendered) {\n        rowCtrl = rowsToRecycle[rowNode.id];\n        rowsToRecycle[rowNode.id] = null;\n      }\n    }\n    const creatingNewRowCtrl = !rowCtrl;\n    if (creatingNewRowCtrl) {\n      if (!rowNode) {\n        rowNode = this.rowModel.getRow(rowIndex);\n      }\n      if (_exists(rowNode)) {\n        rowCtrl = this.createRowCon(rowNode, animate, afterScroll);\n      } else {\n        return;\n      }\n    }\n    if (rowNode) {\n      rowNode.alreadyRendered = true;\n    }\n    this.rowCtrlsByRowIndex[rowIndex] = rowCtrl;\n    return rowCtrl;\n  }\n  destroyRowCtrls(rowCtrlsMap, animate) {\n    const executeInAWhileFuncs = [];\n    _iterateObject(rowCtrlsMap, (nodeId, rowCtrl) => {\n      if (!rowCtrl) {\n        return;\n      }\n      if (this.cachedRowCtrls && rowCtrl.isCacheable()) {\n        this.cachedRowCtrls.addRow(rowCtrl);\n        return;\n      }\n      rowCtrl.destroyFirstPass(!animate);\n      if (animate) {\n        const instanceId = rowCtrl.instanceId;\n        this.zombieRowCtrls[instanceId] = rowCtrl;\n        executeInAWhileFuncs.push(() => {\n          rowCtrl.destroySecondPass();\n          delete this.zombieRowCtrls[instanceId];\n        });\n      } else {\n        rowCtrl.destroySecondPass();\n      }\n    });\n    if (animate) {\n      executeInAWhileFuncs.push(() => {\n        this.updateAllRowCtrls();\n        this.dispatchDisplayedRowsChanged();\n      });\n      _executeInAWhile(executeInAWhileFuncs);\n    }\n  }\n  getRowBuffer() {\n    return this.gos.get(\"rowBuffer\");\n  }\n  getRowBufferInPixels() {\n    const rowsToBuffer = this.getRowBuffer();\n    const defaultRowHeight = _getRowHeightAsNumber(this.gos);\n    return rowsToBuffer * defaultRowHeight;\n  }\n  workOutFirstAndLastRowsToRender() {\n    this.rowContainerHeightService.updateOffset();\n    let newFirst;\n    let newLast;\n    if (!this.rowModel.isRowsToRender()) {\n      newFirst = 0;\n      newLast = -1;\n    } else if (this.printLayout) {\n      this.environment.refreshRowHeightVariable();\n      newFirst = this.pageBoundsService.getFirstRow();\n      newLast = this.pageBoundsService.getLastRow();\n    } else {\n      const bufferPixels = this.getRowBufferInPixels();\n      const gridBodyCtrl = this.ctrlsService.getGridBodyCtrl();\n      const suppressRowVirtualisation = this.gos.get(\"suppressRowVirtualisation\");\n      let rowHeightsChanged = false;\n      let firstPixel;\n      let lastPixel;\n      do {\n        const paginationOffset = this.pageBoundsService.getPixelOffset();\n        const { pageFirstPixel, pageLastPixel } = this.pageBoundsService.getCurrentPagePixelRange();\n        const divStretchOffset = this.rowContainerHeightService.getDivStretchOffset();\n        const bodyVRange = gridBodyCtrl.getScrollFeature().getVScrollPosition();\n        const bodyTopPixel = bodyVRange.top;\n        const bodyBottomPixel = bodyVRange.bottom;\n        if (suppressRowVirtualisation) {\n          firstPixel = pageFirstPixel + divStretchOffset;\n          lastPixel = pageLastPixel + divStretchOffset;\n        } else {\n          firstPixel = Math.max(bodyTopPixel + paginationOffset - bufferPixels, pageFirstPixel) + divStretchOffset;\n          lastPixel = Math.min(bodyBottomPixel + paginationOffset + bufferPixels, pageLastPixel) + divStretchOffset;\n        }\n        this.firstVisibleVPixel = Math.max(bodyTopPixel + paginationOffset, pageFirstPixel) + divStretchOffset;\n        this.lastVisibleVPixel = Math.min(bodyBottomPixel + paginationOffset, pageLastPixel) + divStretchOffset;\n        rowHeightsChanged = this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel, lastPixel);\n      } while (rowHeightsChanged);\n      let firstRowIndex = this.rowModel.getRowIndexAtPixel(firstPixel);\n      let lastRowIndex = this.rowModel.getRowIndexAtPixel(lastPixel);\n      const pageFirstRow = this.pageBoundsService.getFirstRow();\n      const pageLastRow = this.pageBoundsService.getLastRow();\n      if (firstRowIndex < pageFirstRow) {\n        firstRowIndex = pageFirstRow;\n      }\n      if (lastRowIndex > pageLastRow) {\n        lastRowIndex = pageLastRow;\n      }\n      newFirst = firstRowIndex;\n      newLast = lastRowIndex;\n    }\n    const rowLayoutNormal = _isDomLayout(this.gos, \"normal\");\n    const suppressRowCountRestriction = this.gos.get(\"suppressMaxRenderedRowRestriction\");\n    const rowBufferMaxSize = Math.max(this.getRowBuffer(), 500);\n    if (rowLayoutNormal && !suppressRowCountRestriction) {\n      if (newLast - newFirst > rowBufferMaxSize) {\n        newLast = newFirst + rowBufferMaxSize;\n      }\n    }\n    const firstDiffers = newFirst !== this.firstRenderedRow;\n    const lastDiffers = newLast !== this.lastRenderedRow;\n    if (firstDiffers || lastDiffers) {\n      this.firstRenderedRow = newFirst;\n      this.lastRenderedRow = newLast;\n      this.eventService.dispatchEvent({\n        type: \"viewportChanged\",\n        firstRow: newFirst,\n        lastRow: newLast\n      });\n    }\n  }\n  /**\n   * This event will only be fired once, and is queued until after the browser next renders.\n   * This allows us to fire an event during the start of the render cycle, when we first see data being rendered\n   * but not execute the event until all of the data has finished being rendered to the dom.\n   */\n  dispatchFirstDataRenderedEvent() {\n    if (this.dataFirstRenderedFired) {\n      return;\n    }\n    this.dataFirstRenderedFired = true;\n    window.requestAnimationFrame(() => {\n      this.beans.eventService.dispatchEvent({\n        type: \"firstDataRendered\",\n        firstRow: this.firstRenderedRow,\n        lastRow: this.lastRenderedRow\n      });\n    });\n  }\n  ensureAllRowsInRangeHaveHeightsCalculated(topPixel, bottomPixel) {\n    const pinnedRowHeightsChanged = this.pinnedRowModel?.ensureRowHeightsValid();\n    const stickyHeightsChanged = this.stickyRowFeature?.ensureRowHeightsValid();\n    const rowModelHeightsChanged = this.rowModel.ensureRowHeightsValid(\n      topPixel,\n      bottomPixel,\n      this.pageBoundsService.getFirstRow(),\n      this.pageBoundsService.getLastRow()\n    );\n    if (rowModelHeightsChanged || stickyHeightsChanged) {\n      this.eventService.dispatchEvent({\n        type: \"recalculateRowBounds\"\n      });\n    }\n    if (stickyHeightsChanged || rowModelHeightsChanged || pinnedRowHeightsChanged) {\n      this.updateContainerHeights();\n      return true;\n    }\n    return false;\n  }\n  getFirstVisibleVerticalPixel() {\n    return this.firstVisibleVPixel;\n  }\n  getLastVisibleVerticalPixel() {\n    return this.lastVisibleVPixel;\n  }\n  getFirstVirtualRenderedRow() {\n    return this.firstRenderedRow;\n  }\n  getLastVirtualRenderedRow() {\n    return this.lastRenderedRow;\n  }\n  // check that none of the rows to remove are editing or focused as:\n  // a) if editing, we want to keep them, otherwise the user will loose the context of the edit,\n  //    eg user starts editing, enters some text, then scrolls down and then up, next time row rendered\n  //    the edit is reset - so we want to keep it rendered.\n  // b) if focused, we want ot keep keyboard focus, so if user ctrl+c, it goes to clipboard,\n  //    otherwise the user can range select and drag (with focus cell going out of the viewport)\n  //    and then ctrl+c, nothing will happen if cell is removed from dom.\n  // c) if detail record of master detail, as users complained that the context of detail rows\n  //    was getting lost when detail row out of view. eg user expands to show detail row,\n  //    then manipulates the detail panel (eg sorts the detail grid), then context is lost\n  //    after detail panel is scrolled out of / into view.\n  doNotUnVirtualiseRow(rowComp) {\n    const REMOVE_ROW = false;\n    const KEEP_ROW = true;\n    const rowNode = rowComp.getRowNode();\n    const rowHasFocus = this.focusService.isRowNodeFocused(rowNode);\n    const rowIsEditing = rowComp.isEditing();\n    const rowIsDetail = rowNode.detail;\n    const mightWantToKeepRow = rowHasFocus || rowIsEditing || rowIsDetail;\n    if (!mightWantToKeepRow) {\n      return REMOVE_ROW;\n    }\n    const rowNodePresent = this.isRowPresent(rowNode);\n    return rowNodePresent ? KEEP_ROW : REMOVE_ROW;\n  }\n  isRowPresent(rowNode) {\n    if (!this.rowModel.isRowPresent(rowNode)) {\n      return false;\n    }\n    return this.paginationService ? this.paginationService.isRowPresent(rowNode) : true;\n  }\n  createRowCon(rowNode, animate, afterScroll) {\n    const rowCtrlFromCache = this.cachedRowCtrls ? this.cachedRowCtrls.getRow(rowNode) : null;\n    if (rowCtrlFromCache) {\n      return rowCtrlFromCache;\n    }\n    const suppressAnimationFrame = this.gos.get(\"suppressAnimationFrame\");\n    const useAnimationFrameForCreate = afterScroll && !suppressAnimationFrame && !this.printLayout;\n    const res = new RowCtrl(rowNode, this.beans, animate, useAnimationFrameForCreate, this.printLayout);\n    return res;\n  }\n  getRenderedNodes() {\n    const renderedRows = this.rowCtrlsByRowIndex;\n    return Object.values(renderedRows).map((rowCtrl) => rowCtrl.getRowNode());\n  }\n  getRowByPosition(rowPosition) {\n    let rowCtrl;\n    const { rowIndex } = rowPosition;\n    switch (rowPosition.rowPinned) {\n      case \"top\":\n        rowCtrl = this.topRowCtrls[rowIndex];\n        break;\n      case \"bottom\":\n        rowCtrl = this.bottomRowCtrls[rowIndex];\n        break;\n      default:\n        rowCtrl = this.rowCtrlsByRowIndex[rowIndex];\n        if (!rowCtrl) {\n          rowCtrl = this.getStickyTopRowCtrls().find((ctrl) => ctrl.getRowNode().rowIndex === rowIndex) || null;\n          if (!rowCtrl) {\n            rowCtrl = this.getStickyBottomRowCtrls().find((ctrl) => ctrl.getRowNode().rowIndex === rowIndex) || null;\n          }\n        }\n        break;\n    }\n    return rowCtrl;\n  }\n  // returns true if any row between startIndex and endIndex is rendered. used by\n  // SSRM or IRM, as they don't want to purge visible blocks from cache.\n  isRangeInRenderedViewport(startIndex, endIndex) {\n    const parentClosed = startIndex == null || endIndex == null;\n    if (parentClosed) {\n      return false;\n    }\n    const blockAfterViewport = startIndex > this.lastRenderedRow;\n    const blockBeforeViewport = endIndex < this.firstRenderedRow;\n    const blockInsideViewport = !blockBeforeViewport && !blockAfterViewport;\n    return blockInsideViewport;\n  }\n};\nvar RowCtrlCache = class {\n  constructor(maxCount) {\n    // map for fast access\n    this.entriesMap = {};\n    // list for keeping order\n    this.entriesList = [];\n    this.maxCount = maxCount;\n  }\n  addRow(rowCtrl) {\n    this.entriesMap[rowCtrl.getRowNode().id] = rowCtrl;\n    this.entriesList.push(rowCtrl);\n    rowCtrl.setCached(true);\n    if (this.entriesList.length > this.maxCount) {\n      const rowCtrlToDestroy = this.entriesList[0];\n      rowCtrlToDestroy.destroyFirstPass();\n      rowCtrlToDestroy.destroySecondPass();\n      this.removeFromCache(rowCtrlToDestroy);\n    }\n  }\n  getRow(rowNode) {\n    if (rowNode == null || rowNode.id == null) {\n      return null;\n    }\n    const res = this.entriesMap[rowNode.id];\n    if (!res) {\n      return null;\n    }\n    this.removeFromCache(res);\n    res.setCached(false);\n    const rowNodeMismatch = res.getRowNode() != rowNode;\n    return rowNodeMismatch ? null : res;\n  }\n  has(rowNode) {\n    return this.entriesMap[rowNode.id] != null;\n  }\n  removeRow(rowNode) {\n    const rowNodeId = rowNode.id;\n    const ctrl = this.entriesMap[rowNodeId];\n    delete this.entriesMap[rowNodeId];\n    _removeFromArray(this.entriesList, ctrl);\n  }\n  removeFromCache(rowCtrl) {\n    const rowNodeId = rowCtrl.getRowNode().id;\n    delete this.entriesMap[rowNodeId];\n    _removeFromArray(this.entriesList, rowCtrl);\n  }\n  getEntries() {\n    return this.entriesList;\n  }\n};\n\n// community-modules/core/src/pinnedRowModel/pinnedRowModel.ts\nvar PinnedRowModel = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pinnedRowModel\";\n    this.nextId = 0;\n    this.pinnedTopRows = new OrderedCache();\n    this.pinnedBottomRows = new OrderedCache();\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  postConstruct() {\n    this.setPinnedRowData(this.gos.get(\"pinnedTopRowData\"), \"top\");\n    this.setPinnedRowData(this.gos.get(\"pinnedBottomRowData\"), \"bottom\");\n    this.addManagedPropertyListener(\"pinnedTopRowData\", (e) => this.setPinnedRowData(e.currentValue, \"top\"));\n    this.addManagedPropertyListener(\"pinnedBottomRowData\", (e) => this.setPinnedRowData(e.currentValue, \"bottom\"));\n    this.addManagedEventListeners({ gridStylesChanged: this.onGridStylesChanges.bind(this) });\n  }\n  isEmpty(floating) {\n    const rows = floating === \"top\" ? this.pinnedTopRows : this.pinnedBottomRows;\n    return rows.isEmpty();\n  }\n  isRowsToRender(floating) {\n    return !this.isEmpty(floating);\n  }\n  onGridStylesChanges(e) {\n    if (e.rowHeightChanged) {\n      const estimateRowHeight = (rowNode) => {\n        rowNode.setRowHeight(rowNode.rowHeight, true);\n      };\n      this.pinnedBottomRows.forEach(estimateRowHeight);\n      this.pinnedTopRows.forEach(estimateRowHeight);\n    }\n  }\n  ensureRowHeightsValid() {\n    let anyChange = false;\n    let rowTop = 0;\n    const updateRowHeight = (rowNode) => {\n      if (rowNode.rowHeightEstimated) {\n        const rowHeight = _getRowHeightForNode(this.gos, rowNode);\n        rowNode.setRowTop(rowTop);\n        rowNode.setRowHeight(rowHeight.height);\n        rowTop += rowHeight.height;\n        anyChange = true;\n      }\n    };\n    this.pinnedBottomRows?.forEach(updateRowHeight);\n    rowTop = 0;\n    this.pinnedTopRows?.forEach(updateRowHeight);\n    this.eventService.dispatchEvent({\n      type: \"pinnedHeightChanged\"\n    });\n    return anyChange;\n  }\n  setPinnedRowData(rowData, floating) {\n    this.updateNodesFromRowData(rowData, floating);\n    this.eventService.dispatchEvent({\n      type: \"pinnedRowDataChanged\"\n    });\n  }\n  /**\n   * Updates existing RowNode instances and creates new ones if necessary\n   *\n   * Setting data as `undefined` will clear row nodes\n   */\n  updateNodesFromRowData(allData, floating) {\n    const nodes = floating === \"top\" ? this.pinnedTopRows : this.pinnedBottomRows;\n    if (allData === void 0) {\n      nodes.clear();\n      return;\n    }\n    const getRowId = _getRowIdCallback(this.gos);\n    const idPrefix = floating === \"top\" ? RowNode.ID_PREFIX_TOP_PINNED : RowNode.ID_PREFIX_BOTTOM_PINNED;\n    const nodesToRemove = nodes.getIds();\n    const newOrder = [];\n    const dataIds = /* @__PURE__ */ new Set();\n    let nextRowTop = 0;\n    let i = -1;\n    for (const data of allData) {\n      const id = getRowId?.({ data, level: 0, rowPinned: floating }) ?? idPrefix + this.nextId++;\n      if (dataIds.has(id)) {\n        _warnOnce(\n          \"Duplicate ID\",\n          id,\n          \"found for pinned row with data\",\n          data,\n          \"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.\"\n        );\n        continue;\n      }\n      i++;\n      dataIds.add(id);\n      newOrder.push(id);\n      const existingNode = nodes.getById(id);\n      if (existingNode !== void 0) {\n        if (existingNode.data !== data) {\n          existingNode.setData(data);\n        }\n        nextRowTop += this.setRowTopAndRowIndex(existingNode, nextRowTop, i);\n        nodesToRemove.delete(id);\n      } else {\n        const rowNode = new RowNode(this.beans);\n        rowNode.id = id;\n        rowNode.data = data;\n        rowNode.rowPinned = floating;\n        nextRowTop += this.setRowTopAndRowIndex(rowNode, nextRowTop, i);\n        nodes.push(rowNode);\n      }\n    }\n    nodesToRemove.forEach((id) => {\n      nodes.getById(id)?.clearRowTopAndRowIndex();\n    });\n    nodes.removeAllById(nodesToRemove);\n    nodes.setOrder(newOrder);\n  }\n  setRowTopAndRowIndex(rowNode, rowTop, rowIndex) {\n    rowNode.setRowTop(rowTop);\n    rowNode.setRowHeight(_getRowHeightForNode(this.gos, rowNode).height);\n    rowNode.setRowIndex(rowIndex);\n    return rowNode.rowHeight;\n  }\n  getPinnedTopTotalHeight() {\n    return this.getTotalHeight(this.pinnedTopRows);\n  }\n  getPinnedBottomTotalHeight() {\n    return this.getTotalHeight(this.pinnedBottomRows);\n  }\n  getPinnedTopRowCount() {\n    return this.pinnedTopRows.getSize();\n  }\n  getPinnedBottomRowCount() {\n    return this.pinnedBottomRows.getSize();\n  }\n  getPinnedTopRow(index) {\n    return this.pinnedTopRows.getByIndex(index);\n  }\n  getPinnedBottomRow(index) {\n    return this.pinnedBottomRows.getByIndex(index);\n  }\n  getPinnedRowById(id, floating) {\n    return floating === \"top\" ? this.pinnedTopRows.getById(id) : this.pinnedBottomRows.getById(id);\n  }\n  forEachPinnedRow(floating, callback) {\n    return floating === \"top\" ? this.pinnedTopRows.forEach(callback) : this.pinnedBottomRows.forEach(callback);\n  }\n  getTotalHeight(rowNodes) {\n    const size = rowNodes.getSize();\n    if (size === 0) {\n      return 0;\n    }\n    const node = rowNodes.getByIndex(size - 1);\n    if (node === void 0) {\n      return 0;\n    }\n    return node.rowTop + node.rowHeight;\n  }\n};\nvar OrderedCache = class {\n  constructor() {\n    this.cache = {};\n    this.ordering = [];\n  }\n  getById(id) {\n    return this.cache[id];\n  }\n  getByIndex(i) {\n    const id = this.ordering[i];\n    return this.cache[id];\n  }\n  push(item) {\n    this.cache[item.id] = item;\n    this.ordering.push(item.id);\n  }\n  removeAllById(ids) {\n    for (const id of ids) {\n      delete this.cache[id];\n    }\n    this.ordering = this.ordering.filter((id) => !ids.has(id));\n  }\n  setOrder(orderedIds) {\n    this.ordering = orderedIds;\n  }\n  forEach(callback) {\n    this.ordering.forEach((id, index) => {\n      const node = this.cache[id];\n      node && callback(node, index);\n    });\n  }\n  clear() {\n    this.ordering.length = 0;\n    this.cache = {};\n  }\n  isEmpty() {\n    return this.ordering.length === 0;\n  }\n  getSize() {\n    return this.ordering.length;\n  }\n  getIds() {\n    return new Set(this.ordering);\n  }\n};\n\n// community-modules/core/src/interfaces/serverSideTransaction.ts\nvar ServerSideTransactionResultStatus = /* @__PURE__ */ ((ServerSideTransactionResultStatus2) => {\n  ServerSideTransactionResultStatus2[\"Applied\"] = \"Applied\";\n  ServerSideTransactionResultStatus2[\"StoreNotFound\"] = \"StoreNotFound\";\n  ServerSideTransactionResultStatus2[\"StoreLoading\"] = \"StoreLoading\";\n  ServerSideTransactionResultStatus2[\"StoreWaitingToLoad\"] = \"StoreWaitingToLoad\";\n  ServerSideTransactionResultStatus2[\"StoreLoadingFailed\"] = \"StoreLoadingFailed\";\n  ServerSideTransactionResultStatus2[\"StoreWrongType\"] = \"StoreWrongType\";\n  ServerSideTransactionResultStatus2[\"Cancelled\"] = \"Cancelled\";\n  ServerSideTransactionResultStatus2[\"StoreNotStarted\"] = \"StoreNotStarted\";\n  return ServerSideTransactionResultStatus2;\n})(ServerSideTransactionResultStatus || {});\n\n// community-modules/core/src/rowNodeCache/rowNodeBlock.ts\nvar RowNodeBlock = class extends BeanStub {\n  constructor(id) {\n    super();\n    this.state = \"needsLoading\";\n    this.version = 0;\n    this.id = id;\n  }\n  getId() {\n    return this.id;\n  }\n  load() {\n    this.state = \"loading\";\n    this.loadFromDatasource();\n  }\n  getVersion() {\n    return this.version;\n  }\n  setStateWaitingToLoad() {\n    this.version++;\n    this.state = \"needsLoading\";\n  }\n  getState() {\n    return this.state;\n  }\n  pageLoadFailed(version) {\n    const requestMostRecentAndLive = this.isRequestMostRecentAndLive(version);\n    if (requestMostRecentAndLive) {\n      this.state = \"failed\";\n      this.processServerFail();\n    }\n    this.dispatchLoadCompleted(false);\n  }\n  success(version, params) {\n    this.successCommon(version, params);\n  }\n  pageLoaded(version, rows, lastRow) {\n    this.successCommon(version, { rowData: rows, rowCount: lastRow });\n  }\n  isRequestMostRecentAndLive(version) {\n    const thisIsMostRecentRequest = version === this.version;\n    const weAreNotDestroyed = this.isAlive();\n    return thisIsMostRecentRequest && weAreNotDestroyed;\n  }\n  successCommon(version, params) {\n    this.dispatchLoadCompleted();\n    const requestMostRecentAndLive = this.isRequestMostRecentAndLive(version);\n    if (requestMostRecentAndLive) {\n      this.state = \"loaded\";\n      this.processServerResult(params);\n    }\n  }\n  dispatchLoadCompleted(success = true) {\n    const event = {\n      type: \"loadComplete\",\n      success,\n      block: this\n    };\n    this.dispatchLocalEvent(event);\n  }\n};\n\n// community-modules/core/src/rowNodeCache/rowNodeBlockLoader.ts\nvar RowNodeBlockLoader = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowNodeBlockLoader\";\n    this.activeBlockLoadsCount = 0;\n    this.blocks = [];\n    this.active = true;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n  }\n  postConstruct() {\n    this.maxConcurrentRequests = this.getMaxConcurrentDatasourceRequests();\n    const blockLoadDebounceMillis = this.gos.get(\"blockLoadDebounceMillis\");\n    if (blockLoadDebounceMillis && blockLoadDebounceMillis > 0) {\n      this.checkBlockToLoadDebounce = _debounce(\n        this.performCheckBlocksToLoad.bind(this),\n        blockLoadDebounceMillis\n      );\n    }\n  }\n  getMaxConcurrentDatasourceRequests() {\n    const res = this.gos.get(\"maxConcurrentDatasourceRequests\");\n    if (res == null) {\n      return 2;\n    }\n    if (res <= 0) {\n      return;\n    }\n    return res;\n  }\n  addBlock(block) {\n    this.blocks.push(block);\n    block.addEventListener(\"loadComplete\", this.loadComplete.bind(this));\n    this.checkBlockToLoad();\n  }\n  removeBlock(block) {\n    _removeFromArray(this.blocks, block);\n  }\n  destroy() {\n    super.destroy();\n    this.active = false;\n  }\n  loadComplete() {\n    this.activeBlockLoadsCount--;\n    this.checkBlockToLoad();\n    this.dispatchLocalEvent({ type: \"blockLoaded\" });\n    if (this.activeBlockLoadsCount == 0) {\n      this.dispatchLocalEvent({ type: \"blockLoaderFinished\" });\n    }\n  }\n  checkBlockToLoad() {\n    if (this.checkBlockToLoadDebounce) {\n      this.checkBlockToLoadDebounce();\n    } else {\n      this.performCheckBlocksToLoad();\n    }\n  }\n  performCheckBlocksToLoad() {\n    if (!this.active) {\n      return;\n    }\n    this.printCacheStatus();\n    if (this.maxConcurrentRequests != null && this.activeBlockLoadsCount >= this.maxConcurrentRequests) {\n      if (this.gos.get(\"debug\")) {\n        _log(`RowNodeBlockLoader - checkBlockToLoad: max loads exceeded`);\n      }\n      return;\n    }\n    const loadAvailability = this.getAvailableLoadingCount();\n    const blocksToLoad = this.blocks.filter((block) => block.getState() === \"needsLoading\").slice(0, loadAvailability);\n    this.registerLoads(blocksToLoad.length);\n    blocksToLoad.forEach((block) => block.load());\n    this.printCacheStatus();\n  }\n  getBlockState() {\n    if (_isServerSideRowModel(this.gos)) {\n      const ssrm = this.rowModel;\n      return ssrm.getBlockStates();\n    }\n    const result = {};\n    this.blocks.forEach((block) => {\n      const { id, state } = block.getBlockStateJson();\n      result[id] = state;\n    });\n    return result;\n  }\n  printCacheStatus() {\n    if (this.gos.get(\"debug\")) {\n      _log(\n        `RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`\n      );\n    }\n  }\n  isLoading() {\n    return this.activeBlockLoadsCount > 0;\n  }\n  registerLoads(count) {\n    this.activeBlockLoadsCount += count;\n  }\n  getAvailableLoadingCount() {\n    return this.maxConcurrentRequests !== void 0 ? this.maxConcurrentRequests - this.activeBlockLoadsCount : void 0;\n  }\n};\n\n// community-modules/core/src/rowNodeCache/rowNodeBlockModule.ts\nvar RowNodeBlockModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/row-node-block\",\n  beans: [RowNodeBlockLoader]\n});\n\n// community-modules/core/src/selection/rowRangeSelectionContext.ts\nvar RowRangeSelectionContext = class {\n  constructor() {\n    this.root = null;\n    /**\n     * Note that the \"end\" `RowNode` may come before or after the \"root\" `RowNode` in the\n     * actual grid.\n     */\n    this.end = null;\n    this.cachedRange = [];\n  }\n  init(rowModel) {\n    this.rowModel = rowModel;\n  }\n  reset() {\n    this.root = null;\n    this.end = null;\n    this.cachedRange.length = 0;\n  }\n  setRoot(node) {\n    this.root = node;\n    this.end = null;\n    this.cachedRange.length = 0;\n  }\n  setEndRange(end) {\n    this.end = end;\n    this.cachedRange.length = 0;\n  }\n  getRange() {\n    if (this.cachedRange.length === 0) {\n      const root = this.getRoot();\n      const end = this.getEnd();\n      if (root == null || end == null) {\n        return this.cachedRange;\n      }\n      this.cachedRange = this.rowModel.getNodesInRangeForSelection(root, end);\n    }\n    return this.cachedRange;\n  }\n  isInRange(node) {\n    if (this.root === null) {\n      return false;\n    }\n    return this.getRange().some((nodeInRange) => nodeInRange.id === node.id);\n  }\n  getRoot() {\n    if (this.root && this.root?.key === null) {\n      this.root = this.rowModel.getRowNode(this.root.id) ?? null;\n    }\n    return this.root;\n  }\n  getEnd() {\n    if (this.end && this.end?.key === null) {\n      this.end = this.rowModel.getRowNode(this.end.id) ?? null;\n    }\n    return this.end;\n  }\n  /**\n   * Truncates the range to the given node (assumed to be within the current range).\n   * Returns nodes that remain in the current range and those that should be removed\n   *\n   * @param node - Node at which to truncate the range\n   * @returns Object of nodes to either keep or discard (i.e. deselect) from the range\n   */\n  truncate(node) {\n    const range = this.getRange();\n    if (range.length === 0) {\n      return { keep: [], discard: [] };\n    }\n    const discardAfter = range[0].id === this.root.id;\n    const idx = range.findIndex((rowNode) => rowNode.id === node.id);\n    if (idx > -1) {\n      const above = range.slice(0, idx);\n      const below = range.slice(idx + 1);\n      this.setEndRange(node);\n      return discardAfter ? { keep: above, discard: below } : { keep: below, discard: above };\n    } else {\n      return { keep: range, discard: [] };\n    }\n  }\n  /**\n   * Extends the range to the given node. Returns nodes that remain in the current range\n   * and those that should be removed.\n   *\n   * @param node - Node marking the new end of the range\n   * @returns Object of nodes to either keep or discard (i.e. deselect) from the range\n   */\n  extend(node, groupSelectsChildren = false) {\n    const root = this.getRoot();\n    if (root == null) {\n      const keep = this.getRange().slice();\n      if (groupSelectsChildren) {\n        node.depthFirstSearch((node2) => !node2.group && keep.push(node2));\n      }\n      keep.push(node);\n      this.setRoot(node);\n      return { keep, discard: [] };\n    }\n    const newRange = this.rowModel.getNodesInRangeForSelection(root, node);\n    if (newRange.find((newRangeNode) => newRangeNode.id === this.end?.id)) {\n      this.setEndRange(node);\n      return { keep: this.getRange(), discard: [] };\n    } else {\n      const discard = this.getRange().slice();\n      this.setEndRange(node);\n      return { keep: this.getRange(), discard };\n    }\n  }\n};\n\n// community-modules/core/src/styling/stylingService.ts\nvar StylingService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"stylingService\";\n  }\n  wireBeans(beans) {\n    this.expressionService = beans.expressionService;\n  }\n  processAllCellClasses(colDef, params, onApplicableClass, onNotApplicableClass) {\n    this.processClassRules(void 0, colDef.cellClassRules, params, onApplicableClass, onNotApplicableClass);\n    this.processStaticCellClasses(colDef, params, onApplicableClass);\n  }\n  processClassRules(previousClassRules, classRules, params, onApplicableClass, onNotApplicableClass) {\n    if (classRules == null && previousClassRules == null) {\n      return;\n    }\n    const classesToApply = {};\n    const classesToRemove = {};\n    const forEachSingleClass = (className, callback) => {\n      className.split(\" \").forEach((singleClass) => {\n        if (singleClass.trim() == \"\")\n          return;\n        callback(singleClass);\n      });\n    };\n    if (classRules) {\n      const classNames = Object.keys(classRules);\n      for (let i = 0; i < classNames.length; i++) {\n        const className = classNames[i];\n        const rule = classRules[className];\n        let resultOfRule;\n        if (typeof rule === \"string\") {\n          resultOfRule = this.expressionService.evaluate(rule, params);\n        } else if (typeof rule === \"function\") {\n          resultOfRule = rule(params);\n        }\n        forEachSingleClass(className, (singleClass) => {\n          resultOfRule ? classesToApply[singleClass] = true : classesToRemove[singleClass] = true;\n        });\n      }\n    }\n    if (previousClassRules && onNotApplicableClass) {\n      Object.keys(previousClassRules).forEach(\n        (className) => forEachSingleClass(className, (singleClass) => {\n          if (!classesToApply[singleClass]) {\n            classesToRemove[singleClass] = true;\n          }\n        })\n      );\n    }\n    if (onNotApplicableClass) {\n      Object.keys(classesToRemove).forEach(onNotApplicableClass);\n    }\n    Object.keys(classesToApply).forEach(onApplicableClass);\n  }\n  getStaticCellClasses(colDef, params) {\n    const { cellClass } = colDef;\n    if (!cellClass) {\n      return [];\n    }\n    let classOrClasses;\n    if (typeof cellClass === \"function\") {\n      const cellClassFunc = cellClass;\n      classOrClasses = cellClassFunc(params);\n    } else {\n      classOrClasses = cellClass;\n    }\n    if (typeof classOrClasses === \"string\") {\n      classOrClasses = [classOrClasses];\n    }\n    return classOrClasses || [];\n  }\n  processStaticCellClasses(colDef, params, onApplicableClass) {\n    const classOrClasses = this.getStaticCellClasses(colDef, params);\n    classOrClasses.forEach((cssClassItem) => {\n      onApplicableClass(cssClassItem);\n    });\n  }\n};\n\n// community-modules/core/src/widgets/agToggleButton.ts\nvar AgToggleButton = class extends AgCheckbox {\n  constructor(config) {\n    super(config, \"ag-toggle-button\");\n  }\n  setValue(value, silent) {\n    super.setValue(value, silent);\n    this.addOrRemoveCssClass(\"ag-selected\", this.getValue());\n    return this;\n  }\n};\nvar AgToggleButtonSelector = {\n  selector: \"AG-TOGGLE-BUTTON\",\n  component: AgToggleButton\n};\n\n// community-modules/core/src/widgets/tabGuardCtrl.ts\nvar TabGuardClassNames = /* @__PURE__ */ ((TabGuardClassNames2) => {\n  TabGuardClassNames2[\"TAB_GUARD\"] = \"ag-tab-guard\";\n  TabGuardClassNames2[\"TAB_GUARD_TOP\"] = \"ag-tab-guard-top\";\n  TabGuardClassNames2[\"TAB_GUARD_BOTTOM\"] = \"ag-tab-guard-bottom\";\n  return TabGuardClassNames2;\n})(TabGuardClassNames || {});\nvar TabGuardCtrl = class extends BeanStub {\n  constructor(params) {\n    super();\n    this.skipTabGuardFocus = false;\n    this.forcingFocusOut = false;\n    // Used when `isFocusableContainer` enabled\n    this.allowFocus = false;\n    const {\n      comp,\n      eTopGuard,\n      eBottomGuard,\n      focusTrapActive,\n      forceFocusOutWhenTabGuardsAreEmpty,\n      isFocusableContainer,\n      focusInnerElement,\n      onFocusIn,\n      onFocusOut,\n      shouldStopEventPropagation,\n      onTabKeyDown,\n      handleKeyDown,\n      eFocusableElement\n    } = params;\n    this.comp = comp;\n    this.eTopGuard = eTopGuard;\n    this.eBottomGuard = eBottomGuard;\n    this.providedFocusInnerElement = focusInnerElement;\n    this.eFocusableElement = eFocusableElement;\n    this.focusTrapActive = !!focusTrapActive;\n    this.forceFocusOutWhenTabGuardsAreEmpty = !!forceFocusOutWhenTabGuardsAreEmpty;\n    this.isFocusableContainer = !!isFocusableContainer;\n    this.providedFocusIn = onFocusIn;\n    this.providedFocusOut = onFocusOut;\n    this.providedShouldStopEventPropagation = shouldStopEventPropagation;\n    this.providedOnTabKeyDown = onTabKeyDown;\n    this.providedHandleKeyDown = handleKeyDown;\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n  }\n  postConstruct() {\n    this.createManagedBean(\n      new ManagedFocusFeature(this.eFocusableElement, {\n        shouldStopEventPropagation: () => this.shouldStopEventPropagation(),\n        onTabKeyDown: (e) => this.onTabKeyDown(e),\n        handleKeyDown: (e) => this.handleKeyDown(e),\n        onFocusIn: (e) => this.onFocusIn(e),\n        onFocusOut: (e) => this.onFocusOut(e)\n      })\n    );\n    this.activateTabGuards();\n    [this.eTopGuard, this.eBottomGuard].forEach(\n      (guard) => this.addManagedElementListeners(guard, { focus: this.onFocus.bind(this) })\n    );\n  }\n  handleKeyDown(e) {\n    if (this.providedHandleKeyDown) {\n      this.providedHandleKeyDown(e);\n    }\n  }\n  tabGuardsAreActive() {\n    return !!this.eTopGuard && this.eTopGuard.hasAttribute(\"tabIndex\");\n  }\n  shouldStopEventPropagation() {\n    if (this.providedShouldStopEventPropagation) {\n      return this.providedShouldStopEventPropagation();\n    }\n    return false;\n  }\n  activateTabGuards() {\n    if (this.forcingFocusOut) {\n      return;\n    }\n    const tabIndex = this.gos.get(\"tabIndex\");\n    this.comp.setTabIndex(tabIndex.toString());\n  }\n  deactivateTabGuards() {\n    this.comp.setTabIndex();\n  }\n  onFocus(e) {\n    if (this.isFocusableContainer && !this.eFocusableElement.contains(e.relatedTarget)) {\n      if (!this.allowFocus) {\n        this.findNextElementOutsideAndFocus(e.target === this.eBottomGuard);\n        return;\n      }\n    }\n    if (this.skipTabGuardFocus) {\n      this.skipTabGuardFocus = false;\n      return;\n    }\n    if (this.forceFocusOutWhenTabGuardsAreEmpty) {\n      const isEmpty = this.focusService.findFocusableElements(this.eFocusableElement, \".ag-tab-guard\").length === 0;\n      if (isEmpty) {\n        this.findNextElementOutsideAndFocus(e.target === this.eBottomGuard);\n        return;\n      }\n    }\n    if (this.isFocusableContainer && this.eFocusableElement.contains(e.relatedTarget)) {\n      return;\n    }\n    const fromBottom = e.target === this.eBottomGuard;\n    if (this.providedFocusInnerElement) {\n      this.providedFocusInnerElement(fromBottom);\n    } else {\n      this.focusInnerElement(fromBottom);\n    }\n  }\n  findNextElementOutsideAndFocus(up) {\n    const eDocument = _getDocument(this.gos);\n    const focusableEls = this.focusService.findFocusableElements(eDocument.body, null, true);\n    const index = focusableEls.indexOf(up ? this.eTopGuard : this.eBottomGuard);\n    if (index === -1) {\n      return;\n    }\n    let start;\n    let end;\n    if (up) {\n      start = 0;\n      end = index;\n    } else {\n      start = index + 1;\n      end = focusableEls.length;\n    }\n    const focusableRange = focusableEls.slice(start, end);\n    const targetTabIndex = this.gos.get(\"tabIndex\");\n    focusableRange.sort((a, b) => {\n      const indexA = parseInt(a.getAttribute(\"tabindex\") || \"0\");\n      const indexB = parseInt(b.getAttribute(\"tabindex\") || \"0\");\n      if (indexB === targetTabIndex) {\n        return 1;\n      }\n      if (indexA === targetTabIndex) {\n        return -1;\n      }\n      if (indexA === 0) {\n        return 1;\n      }\n      if (indexB === 0) {\n        return -1;\n      }\n      return indexA - indexB;\n    });\n    focusableRange[up ? focusableRange.length - 1 : 0]?.focus();\n  }\n  onFocusIn(e) {\n    if (this.focusTrapActive || this.forcingFocusOut) {\n      return;\n    }\n    if (this.providedFocusIn) {\n      this.providedFocusIn(e);\n    }\n    if (!this.isFocusableContainer) {\n      this.deactivateTabGuards();\n    }\n  }\n  onFocusOut(e) {\n    if (this.focusTrapActive) {\n      return;\n    }\n    if (this.providedFocusOut) {\n      this.providedFocusOut(e);\n    }\n    if (!this.eFocusableElement.contains(e.relatedTarget)) {\n      this.activateTabGuards();\n    }\n  }\n  onTabKeyDown(e) {\n    if (this.providedOnTabKeyDown) {\n      this.providedOnTabKeyDown(e);\n      return;\n    }\n    if (this.focusTrapActive) {\n      return;\n    }\n    if (e.defaultPrevented) {\n      return;\n    }\n    const tabGuardsAreActive = this.tabGuardsAreActive();\n    if (tabGuardsAreActive) {\n      this.deactivateTabGuards();\n    }\n    const nextRoot = this.getNextFocusableElement(e.shiftKey);\n    if (tabGuardsAreActive) {\n      setTimeout(() => this.activateTabGuards(), 0);\n    }\n    if (!nextRoot) {\n      return;\n    }\n    nextRoot.focus();\n    e.preventDefault();\n  }\n  focusInnerElement(fromBottom = false) {\n    const focusable = this.focusService.findFocusableElements(this.eFocusableElement);\n    if (this.tabGuardsAreActive()) {\n      focusable.splice(0, 1);\n      focusable.splice(focusable.length - 1, 1);\n    }\n    if (!focusable.length) {\n      return;\n    }\n    focusable[fromBottom ? focusable.length - 1 : 0].focus({ preventScroll: true });\n  }\n  getNextFocusableElement(backwards) {\n    return this.focusService.findNextFocusableElement(this.eFocusableElement, false, backwards);\n  }\n  forceFocusOutOfContainer(up = false) {\n    if (this.forcingFocusOut) {\n      return;\n    }\n    const tabGuardToFocus = up ? this.eTopGuard : this.eBottomGuard;\n    this.activateTabGuards();\n    this.skipTabGuardFocus = true;\n    this.forcingFocusOut = true;\n    tabGuardToFocus.focus();\n    window.setTimeout(() => {\n      this.forcingFocusOut = false;\n      this.activateTabGuards();\n    });\n  }\n  isTabGuard(element, bottom) {\n    return element === this.eTopGuard && !bottom || element === this.eBottomGuard && (bottom ?? true);\n  }\n  setAllowFocus(allowFocus) {\n    this.allowFocus = allowFocus;\n  }\n};\n\n// community-modules/core/src/widgets/tabGuardFeature.ts\nvar TabGuardFeature = class extends BeanStub {\n  constructor(comp) {\n    super();\n    this.comp = comp;\n  }\n  initialiseTabGuard(params) {\n    this.eTopGuard = this.createTabGuard(\"top\");\n    this.eBottomGuard = this.createTabGuard(\"bottom\");\n    this.eFocusableElement = this.comp.getFocusableElement();\n    const { eTopGuard, eBottomGuard, eFocusableElement } = this;\n    const tabGuards = [eTopGuard, eBottomGuard];\n    const compProxy = {\n      setTabIndex: (tabIndex) => {\n        tabGuards.forEach(\n          (tabGuard) => tabIndex != null ? tabGuard.setAttribute(\"tabindex\", tabIndex) : tabGuard.removeAttribute(\"tabindex\")\n        );\n      }\n    };\n    this.addTabGuards(eTopGuard, eBottomGuard);\n    const {\n      focusTrapActive = false,\n      onFocusIn,\n      onFocusOut,\n      focusInnerElement,\n      handleKeyDown,\n      onTabKeyDown,\n      shouldStopEventPropagation,\n      forceFocusOutWhenTabGuardsAreEmpty,\n      isFocusableContainer\n    } = params;\n    this.tabGuardCtrl = this.createManagedBean(\n      new TabGuardCtrl({\n        comp: compProxy,\n        focusTrapActive,\n        eTopGuard,\n        eBottomGuard,\n        eFocusableElement,\n        onFocusIn,\n        onFocusOut,\n        focusInnerElement,\n        handleKeyDown,\n        onTabKeyDown,\n        shouldStopEventPropagation,\n        forceFocusOutWhenTabGuardsAreEmpty,\n        isFocusableContainer\n      })\n    );\n  }\n  getTabGuardCtrl() {\n    return this.tabGuardCtrl;\n  }\n  createTabGuard(side) {\n    const tabGuard = _getDocument(this.gos).createElement(\"div\");\n    const cls = side === \"top\" ? \"ag-tab-guard-top\" /* TAB_GUARD_TOP */ : \"ag-tab-guard-bottom\" /* TAB_GUARD_BOTTOM */;\n    tabGuard.classList.add(\"ag-tab-guard\" /* TAB_GUARD */, cls);\n    _setAriaRole(tabGuard, \"presentation\");\n    return tabGuard;\n  }\n  addTabGuards(topTabGuard, bottomTabGuard) {\n    this.eFocusableElement.insertAdjacentElement(\"afterbegin\", topTabGuard);\n    this.eFocusableElement.insertAdjacentElement(\"beforeend\", bottomTabGuard);\n  }\n  removeAllChildrenExceptTabGuards() {\n    const tabGuards = [this.eTopGuard, this.eBottomGuard];\n    _clearElement(this.comp.getFocusableElement());\n    this.addTabGuards(...tabGuards);\n  }\n  forceFocusOutOfContainer(up = false) {\n    this.tabGuardCtrl.forceFocusOutOfContainer(up);\n  }\n  appendChild(appendChild, newChild, container) {\n    if (!_isNodeOrElement(newChild)) {\n      newChild = newChild.getGui();\n    }\n    const { eBottomGuard: bottomTabGuard } = this;\n    if (bottomTabGuard) {\n      bottomTabGuard.insertAdjacentElement(\"beforebegin\", newChild);\n    } else {\n      appendChild(newChild, container);\n    }\n  }\n};\n\n// community-modules/core/src/widgets/tabGuardComp.ts\nvar TabGuardComp = class extends Component {\n  initialiseTabGuard(params) {\n    this.tabGuardFeature = this.createManagedBean(new TabGuardFeature(this));\n    this.tabGuardFeature.initialiseTabGuard(params);\n  }\n  forceFocusOutOfContainer(up = false) {\n    this.tabGuardFeature.forceFocusOutOfContainer(up);\n  }\n  appendChild(newChild, container) {\n    this.tabGuardFeature.appendChild(super.appendChild.bind(this), newChild, container);\n  }\n};\n\n// community-modules/core/src/widgets/popupService.ts\nvar instanceIdSeq = 0;\nvar WAIT_FOR_POPUP_CONTENT_RESIZE = 200;\nvar PopupService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"popupService\";\n    this.popupList = [];\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.resizeObserverService = beans.resizeObserverService;\n    this.environment = beans.environment;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridCtrl = p.gridCtrl;\n    });\n    this.addManagedEventListeners({ gridStylesChanged: this.handleThemeChange.bind(this) });\n  }\n  getPopupParent() {\n    const ePopupParent = this.gos.get(\"popupParent\");\n    if (ePopupParent) {\n      return ePopupParent;\n    }\n    return this.gridCtrl.getGui();\n  }\n  positionPopupForMenu(params) {\n    const { eventSource, ePopup } = params;\n    const popupIdx = this.getPopupIndex(ePopup);\n    if (popupIdx !== -1) {\n      const popup = this.popupList[popupIdx];\n      popup.alignedToElement = eventSource;\n    }\n    const sourceRect = eventSource.getBoundingClientRect();\n    const parentRect = this.getParentRect();\n    const y = this.keepXYWithinBounds(ePopup, sourceRect.top - parentRect.top, 0 /* vertical */);\n    const minWidth = ePopup.clientWidth > 0 ? ePopup.clientWidth : 200;\n    ePopup.style.minWidth = `${minWidth}px`;\n    const widthOfParent = parentRect.right - parentRect.left;\n    const maxX = widthOfParent - minWidth;\n    let x;\n    if (this.gos.get(\"enableRtl\")) {\n      x = xLeftPosition();\n      if (x < 0) {\n        x = xRightPosition();\n        this.setAlignedStyles(ePopup, \"left\");\n      }\n      if (x > maxX) {\n        x = 0;\n        this.setAlignedStyles(ePopup, \"right\");\n      }\n    } else {\n      x = xRightPosition();\n      if (x > maxX) {\n        x = xLeftPosition();\n        this.setAlignedStyles(ePopup, \"right\");\n      }\n      if (x < 0) {\n        x = 0;\n        this.setAlignedStyles(ePopup, \"left\");\n      }\n    }\n    ePopup.style.left = `${x}px`;\n    ePopup.style.top = `${y}px`;\n    function xRightPosition() {\n      return sourceRect.right - parentRect.left - 2;\n    }\n    function xLeftPosition() {\n      return sourceRect.left - parentRect.left - minWidth;\n    }\n  }\n  positionPopupUnderMouseEvent(params) {\n    const { ePopup, nudgeX, nudgeY, skipObserver } = params;\n    this.positionPopup({\n      ePopup,\n      nudgeX,\n      nudgeY,\n      keepWithinBounds: true,\n      skipObserver,\n      updatePosition: () => this.calculatePointerAlign(params.mouseEvent),\n      postProcessCallback: () => this.callPostProcessPopup(\n        params.type,\n        params.ePopup,\n        null,\n        params.mouseEvent,\n        params.column,\n        params.rowNode\n      )\n    });\n  }\n  calculatePointerAlign(e) {\n    const parentRect = this.getParentRect();\n    return {\n      x: e.clientX - parentRect.left,\n      y: e.clientY - parentRect.top\n    };\n  }\n  positionPopupByComponent(params) {\n    const {\n      ePopup,\n      nudgeX,\n      nudgeY,\n      keepWithinBounds,\n      eventSource,\n      alignSide = \"left\",\n      position = \"over\",\n      column,\n      rowNode,\n      type\n    } = params;\n    const sourceRect = eventSource.getBoundingClientRect();\n    const parentRect = this.getParentRect();\n    const popupIdx = this.getPopupIndex(ePopup);\n    if (popupIdx !== -1) {\n      const popup = this.popupList[popupIdx];\n      popup.alignedToElement = eventSource;\n    }\n    const updatePosition = () => {\n      let x = sourceRect.left - parentRect.left;\n      if (alignSide === \"right\") {\n        x -= ePopup.offsetWidth - sourceRect.width;\n      }\n      let y;\n      if (position === \"over\") {\n        y = sourceRect.top - parentRect.top;\n        this.setAlignedStyles(ePopup, \"over\");\n      } else {\n        this.setAlignedStyles(ePopup, \"under\");\n        const alignSide2 = this.shouldRenderUnderOrAbove(ePopup, sourceRect, parentRect, params.nudgeY || 0);\n        if (alignSide2 === \"under\") {\n          y = sourceRect.top - parentRect.top + sourceRect.height;\n        } else {\n          y = sourceRect.top - ePopup.offsetHeight - (nudgeY || 0) * 2 - parentRect.top;\n        }\n      }\n      return { x, y };\n    };\n    this.positionPopup({\n      ePopup,\n      nudgeX,\n      nudgeY,\n      keepWithinBounds,\n      updatePosition,\n      postProcessCallback: () => this.callPostProcessPopup(type, ePopup, eventSource, null, column, rowNode)\n    });\n  }\n  shouldRenderUnderOrAbove(ePopup, targetCompRect, parentRect, nudgeY) {\n    const spaceAvailableUnder = parentRect.bottom - targetCompRect.bottom;\n    const spaceAvailableAbove = targetCompRect.top - parentRect.top;\n    const spaceRequired = ePopup.offsetHeight + nudgeY;\n    if (spaceAvailableUnder > spaceRequired) {\n      return \"under\";\n    }\n    if (spaceAvailableAbove > spaceRequired || spaceAvailableAbove > spaceAvailableUnder) {\n      return \"above\";\n    }\n    return \"under\";\n  }\n  setAlignedStyles(ePopup, positioned) {\n    const popupIdx = this.getPopupIndex(ePopup);\n    if (popupIdx === -1) {\n      return;\n    }\n    const popup = this.popupList[popupIdx];\n    const { alignedToElement } = popup;\n    if (!alignedToElement) {\n      return;\n    }\n    const positions = [\"right\", \"left\", \"over\", \"above\", \"under\"];\n    positions.forEach((position) => {\n      alignedToElement.classList.remove(`ag-has-popup-positioned-${position}`);\n      ePopup.classList.remove(`ag-popup-positioned-${position}`);\n    });\n    if (!positioned) {\n      return;\n    }\n    alignedToElement.classList.add(`ag-has-popup-positioned-${positioned}`);\n    ePopup.classList.add(`ag-popup-positioned-${positioned}`);\n  }\n  callPostProcessPopup(type, ePopup, eventSource, mouseEvent, column, rowNode) {\n    const callback = this.gos.getCallback(\"postProcessPopup\");\n    if (callback) {\n      const params = {\n        column,\n        rowNode,\n        ePopup,\n        type,\n        eventSource,\n        mouseEvent\n      };\n      callback(params);\n    }\n  }\n  positionPopup(params) {\n    const { ePopup, keepWithinBounds, nudgeX, nudgeY, skipObserver, updatePosition } = params;\n    const lastSize = { width: 0, height: 0 };\n    const updatePopupPosition = (fromResizeObserver = false) => {\n      let { x, y } = updatePosition();\n      if (fromResizeObserver && ePopup.clientWidth === lastSize.width && ePopup.clientHeight === lastSize.height) {\n        return;\n      }\n      lastSize.width = ePopup.clientWidth;\n      lastSize.height = ePopup.clientHeight;\n      if (nudgeX) {\n        x += nudgeX;\n      }\n      if (nudgeY) {\n        y += nudgeY;\n      }\n      if (keepWithinBounds) {\n        x = this.keepXYWithinBounds(ePopup, x, 1 /* horizontal */);\n        y = this.keepXYWithinBounds(ePopup, y, 0 /* vertical */);\n      }\n      ePopup.style.left = `${x}px`;\n      ePopup.style.top = `${y}px`;\n      if (params.postProcessCallback) {\n        params.postProcessCallback();\n      }\n    };\n    updatePopupPosition();\n    if (!skipObserver) {\n      const resizeObserverDestroyFunc = this.resizeObserverService.observeResize(\n        ePopup,\n        () => updatePopupPosition(true)\n      );\n      setTimeout(() => resizeObserverDestroyFunc(), WAIT_FOR_POPUP_CONTENT_RESIZE);\n    }\n  }\n  getActivePopups() {\n    return this.popupList.map((popup) => popup.element);\n  }\n  getPopupList() {\n    return this.popupList;\n  }\n  getParentRect() {\n    const eDocument = _getDocument(this.gos);\n    let popupParent = this.getPopupParent();\n    if (popupParent === eDocument.body) {\n      popupParent = eDocument.documentElement;\n    } else if (getComputedStyle(popupParent).position === \"static\") {\n      popupParent = popupParent.offsetParent;\n    }\n    return _getElementRectWithOffset(popupParent);\n  }\n  keepXYWithinBounds(ePopup, position, direction) {\n    const isVertical = direction === 0 /* vertical */;\n    const sizeProperty = isVertical ? \"clientHeight\" : \"clientWidth\";\n    const anchorProperty = isVertical ? \"top\" : \"left\";\n    const offsetProperty = isVertical ? \"height\" : \"width\";\n    const scrollPositionProperty = isVertical ? \"scrollTop\" : \"scrollLeft\";\n    const eDocument = _getDocument(this.gos);\n    const docElement = eDocument.documentElement;\n    const popupParent = this.getPopupParent();\n    const popupRect = ePopup.getBoundingClientRect();\n    const parentRect = popupParent.getBoundingClientRect();\n    const documentRect = eDocument.documentElement.getBoundingClientRect();\n    const isBody = popupParent === eDocument.body;\n    const offsetSize = Math.ceil(popupRect[offsetProperty]);\n    const getSize = isVertical ? _getAbsoluteHeight : _getAbsoluteWidth;\n    let sizeOfParent = isBody ? getSize(docElement) + docElement[scrollPositionProperty] : popupParent[sizeProperty];\n    if (isBody) {\n      sizeOfParent -= Math.abs(documentRect[anchorProperty] - parentRect[anchorProperty]);\n    }\n    const max = sizeOfParent - offsetSize;\n    return Math.min(Math.max(position, 0), Math.abs(max));\n  }\n  addPopup(params) {\n    const eDocument = _getDocument(this.gos);\n    const { eChild, ariaLabel, alwaysOnTop, positionCallback, anchorToElement } = params;\n    if (!eDocument) {\n      _warnOnce(\"could not find the document, document is empty\");\n      return { hideFunc: () => {\n      } };\n    }\n    const pos = this.getPopupIndex(eChild);\n    if (pos !== -1) {\n      const popup = this.popupList[pos];\n      return { hideFunc: popup.hideFunc };\n    }\n    this.initialisePopupPosition(eChild);\n    const wrapperEl = this.createPopupWrapper(eChild, ariaLabel, !!alwaysOnTop);\n    const removeListeners = this.addEventListenersToPopup({ ...params, wrapperEl });\n    if (positionCallback) {\n      positionCallback();\n    }\n    this.addPopupToPopupList(eChild, wrapperEl, removeListeners, anchorToElement);\n    return {\n      hideFunc: removeListeners\n    };\n  }\n  initialisePopupPosition(element) {\n    const ePopupParent = this.getPopupParent();\n    const ePopupParentRect = ePopupParent.getBoundingClientRect();\n    if (!_exists(element.style.top)) {\n      element.style.top = `${ePopupParentRect.top * -1}px`;\n    }\n    if (!_exists(element.style.left)) {\n      element.style.left = `${ePopupParentRect.left * -1}px`;\n    }\n  }\n  createPopupWrapper(element, ariaLabel, alwaysOnTop) {\n    const ePopupParent = this.getPopupParent();\n    const eWrapper = document.createElement(\"div\");\n    this.environment.applyThemeClasses(eWrapper);\n    eWrapper.classList.add(\"ag-popup\");\n    element.classList.add(this.gos.get(\"enableRtl\") ? \"ag-rtl\" : \"ag-ltr\", \"ag-popup-child\");\n    if (!element.hasAttribute(\"role\")) {\n      _setAriaRole(element, \"dialog\");\n    }\n    _setAriaLabel(element, ariaLabel);\n    eWrapper.appendChild(element);\n    ePopupParent.appendChild(eWrapper);\n    if (alwaysOnTop) {\n      this.setAlwaysOnTop(element, true);\n    } else {\n      this.bringPopupToFront(element);\n    }\n    return eWrapper;\n  }\n  handleThemeChange(e) {\n    if (e.themeChanged) {\n      for (const popup of this.popupList) {\n        this.environment.applyThemeClasses(popup.wrapper);\n      }\n    }\n  }\n  addEventListenersToPopup(params) {\n    const eDocument = _getDocument(this.gos);\n    const ePopupParent = this.getPopupParent();\n    const { wrapperEl, eChild: popupEl, closedCallback, afterGuiAttached, closeOnEsc, modal } = params;\n    let popupHidden = false;\n    const hidePopupOnKeyboardEvent = (event) => {\n      if (!wrapperEl.contains(_getActiveDomElement(this.gos))) {\n        return;\n      }\n      const key = event.key;\n      if (key === KeyCode.ESCAPE && !_isStopPropagationForAgGrid(event)) {\n        removeListeners({ keyboardEvent: event });\n      }\n    };\n    const hidePopupOnMouseEvent = (event) => removeListeners({ mouseEvent: event });\n    const hidePopupOnTouchEvent = (event) => removeListeners({ touchEvent: event });\n    const removeListeners = (popupParams = {}) => {\n      const { mouseEvent, touchEvent, keyboardEvent, forceHide } = popupParams;\n      if (!forceHide && // we don't hide popup if the event was on the child, or any\n      // children of this child\n      (this.isEventFromCurrentPopup({ mouseEvent, touchEvent }, popupEl) || // this method should only be called once. the client can have different\n      // paths, each one wanting to close, so this method may be called multiple times.\n      popupHidden)) {\n        return;\n      }\n      popupHidden = true;\n      ePopupParent.removeChild(wrapperEl);\n      eDocument.removeEventListener(\"keydown\", hidePopupOnKeyboardEvent);\n      eDocument.removeEventListener(\"mousedown\", hidePopupOnMouseEvent);\n      eDocument.removeEventListener(\"touchstart\", hidePopupOnTouchEvent);\n      eDocument.removeEventListener(\"contextmenu\", hidePopupOnMouseEvent);\n      this.eventService.removeEventListener(\"dragStarted\", hidePopupOnMouseEvent);\n      if (closedCallback) {\n        closedCallback(mouseEvent || touchEvent || keyboardEvent);\n      }\n      this.removePopupFromPopupList(popupEl);\n    };\n    if (afterGuiAttached) {\n      afterGuiAttached({ hidePopup: removeListeners });\n    }\n    window.setTimeout(() => {\n      if (closeOnEsc) {\n        eDocument.addEventListener(\"keydown\", hidePopupOnKeyboardEvent);\n      }\n      if (modal) {\n        eDocument.addEventListener(\"mousedown\", hidePopupOnMouseEvent);\n        this.eventService.addEventListener(\"dragStarted\", hidePopupOnMouseEvent);\n        eDocument.addEventListener(\"touchstart\", hidePopupOnTouchEvent);\n        eDocument.addEventListener(\"contextmenu\", hidePopupOnMouseEvent);\n      }\n    }, 0);\n    return removeListeners;\n  }\n  addPopupToPopupList(element, wrapperEl, removeListeners, anchorToElement) {\n    this.popupList.push({\n      element,\n      wrapper: wrapperEl,\n      hideFunc: removeListeners,\n      instanceId: instanceIdSeq++,\n      isAnchored: !!anchorToElement\n    });\n    if (anchorToElement) {\n      this.setPopupPositionRelatedToElement(element, anchorToElement);\n    }\n  }\n  getPopupIndex(el) {\n    return this.popupList.findIndex((p) => p.element === el);\n  }\n  setPopupPositionRelatedToElement(popupEl, relativeElement) {\n    const popupIndex = this.getPopupIndex(popupEl);\n    if (popupIndex === -1) {\n      return;\n    }\n    const popup = this.popupList[popupIndex];\n    if (popup.stopAnchoringPromise) {\n      popup.stopAnchoringPromise.then((destroyFunc) => destroyFunc && destroyFunc());\n    }\n    popup.stopAnchoringPromise = void 0;\n    popup.isAnchored = false;\n    if (!relativeElement) {\n      return;\n    }\n    const destroyPositionTracker = this.keepPopupPositionedRelativeTo({\n      element: relativeElement,\n      ePopup: popupEl,\n      hidePopup: popup.hideFunc\n    });\n    popup.stopAnchoringPromise = destroyPositionTracker;\n    popup.isAnchored = true;\n    return destroyPositionTracker;\n  }\n  removePopupFromPopupList(element) {\n    this.setAlignedStyles(element, null);\n    this.setPopupPositionRelatedToElement(element, null);\n    this.popupList = this.popupList.filter((p) => p.element !== element);\n  }\n  keepPopupPositionedRelativeTo(params) {\n    const eParent = this.getPopupParent();\n    const parentRect = eParent.getBoundingClientRect();\n    const { element, ePopup } = params;\n    const sourceRect = element.getBoundingClientRect();\n    const extractFromPixelValue = (pxSize) => parseInt(pxSize.substring(0, pxSize.length - 1), 10);\n    const createPosition = (prop, direction) => {\n      const initialDiff = parentRect[prop] - sourceRect[prop];\n      const initial = extractFromPixelValue(ePopup.style[prop]);\n      return {\n        initialDiff,\n        lastDiff: initialDiff,\n        initial,\n        last: initial,\n        direction\n      };\n    };\n    const topPosition = createPosition(\"top\", 0 /* vertical */);\n    const leftPosition = createPosition(\"left\", 1 /* horizontal */);\n    const fwOverrides = this.getFrameworkOverrides();\n    return new AgPromise((resolve) => {\n      fwOverrides.wrapIncoming(() => {\n        fwOverrides.setInterval(() => {\n          const pRect = eParent.getBoundingClientRect();\n          const sRect = element.getBoundingClientRect();\n          const elementNotInDom = sRect.top == 0 && sRect.left == 0 && sRect.height == 0 && sRect.width == 0;\n          if (elementNotInDom) {\n            params.hidePopup();\n            return;\n          }\n          const calculateNewPosition = (position, prop) => {\n            const current = extractFromPixelValue(ePopup.style[prop]);\n            if (position.last !== current) {\n              position.initial = current;\n              position.last = current;\n            }\n            const currentDiff = pRect[prop] - sRect[prop];\n            if (currentDiff != position.lastDiff) {\n              const newValue = this.keepXYWithinBounds(\n                ePopup,\n                position.initial + position.initialDiff - currentDiff,\n                position.direction\n              );\n              ePopup.style[prop] = `${newValue}px`;\n              position.last = newValue;\n            }\n            position.lastDiff = currentDiff;\n          };\n          calculateNewPosition(topPosition, \"top\");\n          calculateNewPosition(leftPosition, \"left\");\n        }, 200).then((intervalId) => {\n          const result = () => {\n            if (intervalId != null) {\n              window.clearInterval(intervalId);\n            }\n          };\n          resolve(result);\n        });\n      }, \"popupPositioning\");\n    });\n  }\n  hasAnchoredPopup() {\n    return this.popupList.some((popup) => popup.isAnchored);\n  }\n  isEventFromCurrentPopup(params, target) {\n    const { mouseEvent, touchEvent } = params;\n    const event = mouseEvent ? mouseEvent : touchEvent;\n    if (!event) {\n      return false;\n    }\n    const indexOfThisChild = this.getPopupIndex(target);\n    if (indexOfThisChild === -1) {\n      return false;\n    }\n    for (let i = indexOfThisChild; i < this.popupList.length; i++) {\n      const popup = this.popupList[i];\n      if (_isElementInEventPath(popup.element, event)) {\n        return true;\n      }\n    }\n    return this.isElementWithinCustomPopup(event.target);\n  }\n  isElementWithinCustomPopup(el) {\n    const eDocument = _getDocument(this.gos);\n    while (el && el !== eDocument.body) {\n      if (el.classList.contains(\"ag-custom-component-popup\") || el.parentElement === null) {\n        return true;\n      }\n      el = el.parentElement;\n    }\n    return false;\n  }\n  getWrapper(ePopup) {\n    while (!ePopup.classList.contains(\"ag-popup\") && ePopup.parentElement) {\n      ePopup = ePopup.parentElement;\n    }\n    return ePopup.classList.contains(\"ag-popup\") ? ePopup : null;\n  }\n  setAlwaysOnTop(ePopup, alwaysOnTop) {\n    const eWrapper = this.getWrapper(ePopup);\n    if (!eWrapper) {\n      return;\n    }\n    eWrapper.classList.toggle(\"ag-always-on-top\", !!alwaysOnTop);\n    if (alwaysOnTop) {\n      this.bringPopupToFront(eWrapper);\n    }\n  }\n  /** @return true if moved */\n  bringPopupToFront(ePopup) {\n    const parent = this.getPopupParent();\n    const popupList = Array.prototype.slice.call(parent.querySelectorAll(\".ag-popup\"));\n    const popupLen = popupList.length;\n    const eWrapper = this.getWrapper(ePopup);\n    if (!eWrapper || popupLen <= 1 || !parent.contains(ePopup)) {\n      return;\n    }\n    const standardPopupList = [];\n    const alwaysOnTopList = [];\n    for (const popup of popupList) {\n      if (popup === eWrapper) {\n        continue;\n      }\n      if (popup.classList.contains(\"ag-always-on-top\")) {\n        alwaysOnTopList.push(popup);\n      } else {\n        standardPopupList.push(popup);\n      }\n    }\n    const innerElsScrollMap = [];\n    const onTopLength = alwaysOnTopList.length;\n    const isPopupAlwaysOnTop = eWrapper.classList.contains(\"ag-always-on-top\");\n    const shouldBeLast = isPopupAlwaysOnTop || !onTopLength;\n    const targetList = shouldBeLast ? [...standardPopupList, ...alwaysOnTopList, eWrapper] : [...standardPopupList, eWrapper, ...alwaysOnTopList];\n    for (let i = 0; i <= popupLen; i++) {\n      const currentPopup = targetList[i];\n      if (popupList[i] === targetList[i] || currentPopup === eWrapper) {\n        continue;\n      }\n      const innerEls = currentPopup.querySelectorAll(\"div\");\n      innerEls.forEach((el) => {\n        if (el.scrollTop !== 0) {\n          innerElsScrollMap.push([el, el.scrollTop]);\n        }\n      });\n      if (i === 0) {\n        parent.insertAdjacentElement(\"afterbegin\", currentPopup);\n      } else {\n        targetList[i - 1].insertAdjacentElement(\"afterend\", currentPopup);\n      }\n    }\n    while (innerElsScrollMap.length) {\n      const currentEl = innerElsScrollMap.pop();\n      currentEl[0].scrollTop = currentEl[1];\n    }\n  }\n};\n\n// community-modules/core/src/vanillaFrameworkOverrides.ts\nvar PASSIVE_EVENTS2 = [\"touchstart\", \"touchend\", \"touchmove\", \"touchcancel\"];\nvar VanillaFrameworkOverrides = class {\n  constructor(frameworkName = \"javascript\") {\n    this.frameworkName = frameworkName;\n    this.renderingEngine = \"vanilla\";\n    this.wrapIncoming = (callback) => callback();\n    this.wrapOutgoing = (callback) => callback();\n  }\n  setInterval(action, timeout) {\n    return new AgPromise((resolve) => {\n      resolve(window.setInterval(action, timeout));\n    });\n  }\n  // for Vanilla JS, we just add the event to the element\n  addEventListener(element, type, listener, useCapture) {\n    const isPassive = _includes(PASSIVE_EVENTS2, type);\n    element.addEventListener(type, listener, { capture: !!useCapture, passive: isPassive });\n  }\n  get shouldWrapOutgoing() {\n    return false;\n  }\n  frameworkComponent(name) {\n    return null;\n  }\n  isFrameworkComponent(comp) {\n    return false;\n  }\n  getDocLink(path) {\n    const framework = this.frameworkName === \"solid\" ? \"react\" : this.frameworkName;\n    return `https://www.ag-grid.com/${framework}-data-grid${path ? `/${path}` : \"\"}`;\n  }\n};\n\n// community-modules/core/src/cellNavigationService.ts\nvar CellNavigationService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"cellNavigationService\";\n  }\n  wireBeans(beans) {\n    this.visibleColsService = beans.visibleColsService;\n    this.rowModel = beans.rowModel;\n    this.rowRenderer = beans.rowRenderer;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.paginationService = beans.paginationService;\n    this.pageBoundsService = beans.pageBoundsService;\n  }\n  // returns null if no cell to focus on, ie at the end of the grid\n  getNextCellToFocus(key, focusedCell, ctrlPressed = false) {\n    if (ctrlPressed) {\n      return this.getNextCellToFocusWithCtrlPressed(key, focusedCell);\n    }\n    return this.getNextCellToFocusWithoutCtrlPressed(key, focusedCell);\n  }\n  getNextCellToFocusWithCtrlPressed(key, focusedCell) {\n    const upKey = key === KeyCode.UP;\n    const downKey = key === KeyCode.DOWN;\n    const leftKey = key === KeyCode.LEFT;\n    let column;\n    let rowIndex;\n    if (upKey || downKey) {\n      rowIndex = upKey ? this.pageBoundsService.getFirstRow() : this.pageBoundsService.getLastRow();\n      column = focusedCell.column;\n    } else {\n      const allColumns = this.visibleColsService.getAllCols();\n      const isRtl = this.gos.get(\"enableRtl\");\n      rowIndex = focusedCell.rowIndex;\n      column = leftKey !== isRtl ? allColumns[0] : _last(allColumns);\n    }\n    return {\n      rowIndex,\n      rowPinned: null,\n      column\n    };\n  }\n  getNextCellToFocusWithoutCtrlPressed(key, focusedCell) {\n    let pointer = focusedCell;\n    let finished = false;\n    while (!finished) {\n      switch (key) {\n        case KeyCode.UP:\n          pointer = this.getCellAbove(pointer);\n          break;\n        case KeyCode.DOWN:\n          pointer = this.getCellBelow(pointer);\n          break;\n        case KeyCode.RIGHT:\n          if (this.gos.get(\"enableRtl\")) {\n            pointer = this.getCellToLeft(pointer);\n          } else {\n            pointer = this.getCellToRight(pointer);\n          }\n          break;\n        case KeyCode.LEFT:\n          if (this.gos.get(\"enableRtl\")) {\n            pointer = this.getCellToRight(pointer);\n          } else {\n            pointer = this.getCellToLeft(pointer);\n          }\n          break;\n        default:\n          pointer = null;\n          _warnOnce(\"unknown key for navigation \", key);\n          break;\n      }\n      if (pointer) {\n        finished = this.isCellGoodToFocusOn(pointer);\n      } else {\n        finished = true;\n      }\n    }\n    return pointer;\n  }\n  isCellGoodToFocusOn(gridCell) {\n    const column = gridCell.column;\n    let rowNode;\n    switch (gridCell.rowPinned) {\n      case \"top\":\n        rowNode = this.pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);\n        break;\n      case \"bottom\":\n        rowNode = this.pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);\n        break;\n      default:\n        rowNode = this.rowModel.getRow(gridCell.rowIndex);\n        break;\n    }\n    if (!rowNode) {\n      return false;\n    }\n    const suppressNavigable = column.isSuppressNavigable(rowNode);\n    return !suppressNavigable;\n  }\n  getCellToLeft(lastCell) {\n    if (!lastCell) {\n      return null;\n    }\n    const colToLeft = this.visibleColsService.getColBefore(lastCell.column);\n    if (!colToLeft) {\n      return null;\n    }\n    return {\n      rowIndex: lastCell.rowIndex,\n      column: colToLeft,\n      rowPinned: lastCell.rowPinned\n    };\n  }\n  getCellToRight(lastCell) {\n    if (!lastCell) {\n      return null;\n    }\n    const colToRight = this.visibleColsService.getColAfter(lastCell.column);\n    if (!colToRight) {\n      return null;\n    }\n    return {\n      rowIndex: lastCell.rowIndex,\n      column: colToRight,\n      rowPinned: lastCell.rowPinned\n    };\n  }\n  getRowBelow(rowPosition) {\n    const index = rowPosition.rowIndex;\n    const pinned = rowPosition.rowPinned;\n    let ignoreSticky = false;\n    if (this.isLastRowInContainer(rowPosition)) {\n      switch (pinned) {\n        case \"bottom\":\n          return null;\n        case \"top\":\n          if (this.rowModel.isRowsToRender()) {\n            return { rowIndex: this.pageBoundsService.getFirstRow(), rowPinned: null };\n          }\n          if (this.pinnedRowModel.isRowsToRender(\"bottom\")) {\n            return { rowIndex: 0, rowPinned: \"bottom\" };\n          }\n          return null;\n        default:\n          if (this.pinnedRowModel.isRowsToRender(\"bottom\")) {\n            return { rowIndex: 0, rowPinned: \"bottom\" };\n          }\n          return null;\n      }\n    } else if (pinned) {\n      ignoreSticky = true;\n    }\n    const rowNode = this.rowModel.getRow(rowPosition.rowIndex);\n    const nextStickyPosition = ignoreSticky ? void 0 : this.getNextStickyPosition(rowNode);\n    if (nextStickyPosition) {\n      return nextStickyPosition;\n    }\n    return { rowIndex: index + 1, rowPinned: pinned };\n  }\n  getNextStickyPosition(rowNode, up) {\n    if (!_isGroupRowsSticky(this.gos) || !rowNode || !rowNode.sticky) {\n      return;\n    }\n    const isTopCtrls = this.rowRenderer.getStickyTopRowCtrls().some((ctrl) => ctrl.getRowNode().rowIndex === rowNode.rowIndex);\n    let stickyRowCtrls = [];\n    if (isTopCtrls) {\n      stickyRowCtrls = [...this.rowRenderer.getStickyTopRowCtrls()].sort(\n        (a, b) => a.getRowNode().rowIndex - b.getRowNode().rowIndex\n      );\n    } else {\n      stickyRowCtrls = [...this.rowRenderer.getStickyBottomRowCtrls()].sort(\n        (a, b) => b.getRowNode().rowIndex - a.getRowNode().rowIndex\n      );\n    }\n    const diff = up ? -1 : 1;\n    const idx = stickyRowCtrls.findIndex((ctrl) => ctrl.getRowNode().rowIndex === rowNode.rowIndex);\n    const nextCtrl = stickyRowCtrls[idx + diff];\n    if (nextCtrl) {\n      return { rowIndex: nextCtrl.getRowNode().rowIndex, rowPinned: null };\n    }\n  }\n  getCellBelow(lastCell) {\n    if (!lastCell) {\n      return null;\n    }\n    const rowBelow = this.getRowBelow(lastCell);\n    if (rowBelow) {\n      return {\n        rowIndex: rowBelow.rowIndex,\n        column: lastCell.column,\n        rowPinned: rowBelow.rowPinned\n      };\n    }\n    return null;\n  }\n  isLastRowInContainer(rowPosition) {\n    const pinned = rowPosition.rowPinned;\n    const index = rowPosition.rowIndex;\n    if (pinned === \"top\") {\n      const lastTopIndex = this.pinnedRowModel.getPinnedTopRowCount() - 1;\n      return lastTopIndex <= index;\n    }\n    if (pinned === \"bottom\") {\n      const lastBottomIndex = this.pinnedRowModel.getPinnedBottomRowCount() - 1;\n      return lastBottomIndex <= index;\n    }\n    const lastBodyIndex = this.pageBoundsService.getLastRow();\n    return lastBodyIndex <= index;\n  }\n  getRowAbove(rowPosition) {\n    const index = rowPosition.rowIndex;\n    const pinned = rowPosition.rowPinned;\n    const isFirstRow = pinned ? index === 0 : index === this.pageBoundsService.getFirstRow();\n    let ignoreSticky = false;\n    if (isFirstRow) {\n      if (pinned === \"top\") {\n        return null;\n      }\n      if (!pinned) {\n        if (this.pinnedRowModel.isRowsToRender(\"top\")) {\n          return this.getLastFloatingTopRow();\n        }\n        return null;\n      }\n      if (this.rowModel.isRowsToRender()) {\n        return this.getLastBodyCell();\n      }\n      if (this.pinnedRowModel.isRowsToRender(\"top\")) {\n        return this.getLastFloatingTopRow();\n      }\n      return null;\n    } else if (pinned) {\n      ignoreSticky = true;\n    }\n    const rowNode = this.rowModel.getRow(rowPosition.rowIndex);\n    const nextStickyPosition = ignoreSticky ? void 0 : this.getNextStickyPosition(rowNode, true);\n    if (nextStickyPosition) {\n      return nextStickyPosition;\n    }\n    return { rowIndex: index - 1, rowPinned: pinned };\n  }\n  getCellAbove(lastCell) {\n    if (!lastCell) {\n      return null;\n    }\n    const rowAbove = this.getRowAbove({ rowIndex: lastCell.rowIndex, rowPinned: lastCell.rowPinned });\n    if (rowAbove) {\n      return {\n        rowIndex: rowAbove.rowIndex,\n        column: lastCell.column,\n        rowPinned: rowAbove.rowPinned\n      };\n    }\n    return null;\n  }\n  getLastBodyCell() {\n    const lastBodyRow = this.pageBoundsService.getLastRow();\n    return { rowIndex: lastBodyRow, rowPinned: null };\n  }\n  getLastFloatingTopRow() {\n    const lastFloatingRow = this.pinnedRowModel.getPinnedTopRowCount() - 1;\n    return { rowIndex: lastFloatingRow, rowPinned: \"top\" };\n  }\n  getNextTabbedCell(gridCell, backwards) {\n    if (backwards) {\n      return this.getNextTabbedCellBackwards(gridCell);\n    }\n    return this.getNextTabbedCellForwards(gridCell);\n  }\n  getNextTabbedCellForwards(gridCell) {\n    const displayedColumns = this.visibleColsService.getAllCols();\n    let newRowIndex = gridCell.rowIndex;\n    let newFloating = gridCell.rowPinned;\n    let newColumn = this.visibleColsService.getColAfter(gridCell.column);\n    if (!newColumn) {\n      newColumn = displayedColumns[0];\n      const rowBelow = this.getRowBelow(gridCell);\n      if (_missing(rowBelow)) {\n        return null;\n      }\n      if (!rowBelow.rowPinned && !(this.paginationService?.isRowInPage(rowBelow) ?? true)) {\n        return null;\n      }\n      newRowIndex = rowBelow ? rowBelow.rowIndex : null;\n      newFloating = rowBelow ? rowBelow.rowPinned : null;\n    }\n    return { rowIndex: newRowIndex, column: newColumn, rowPinned: newFloating };\n  }\n  getNextTabbedCellBackwards(gridCell) {\n    const displayedColumns = this.visibleColsService.getAllCols();\n    let newRowIndex = gridCell.rowIndex;\n    let newFloating = gridCell.rowPinned;\n    let newColumn = this.visibleColsService.getColBefore(gridCell.column);\n    if (!newColumn) {\n      newColumn = _last(displayedColumns);\n      const rowAbove = this.getRowAbove({ rowIndex: gridCell.rowIndex, rowPinned: gridCell.rowPinned });\n      if (_missing(rowAbove)) {\n        return null;\n      }\n      if (!rowAbove.rowPinned && !(this.paginationService?.isRowInPage(rowAbove) ?? true)) {\n        return null;\n      }\n      newRowIndex = rowAbove ? rowAbove.rowIndex : null;\n      newFloating = rowAbove ? rowAbove.rowPinned : null;\n    }\n    return { rowIndex: newRowIndex, column: newColumn, rowPinned: newFloating };\n  }\n};\n\n// community-modules/core/src/api/gridApiFunctions.ts\nvar mod = (moduleName, input) => {\n  for (const key in input) {\n    input[key] = moduleName;\n  }\n  return input;\n};\nvar gridApiFunctionsMap = {\n  ...mod(\"@ag-grid-community/core\" /* CommunityCoreModule */, {\n    dispatchEvent: 0,\n    destroy: 0,\n    getGridId: 0,\n    getGridOption: 0,\n    isDestroyed: 0,\n    setGridOption: 0,\n    updateGridOptions: 0,\n    getState: 0,\n    setNodesSelected: 0,\n    selectAll: 0,\n    deselectAll: 0,\n    selectAllFiltered: 0,\n    deselectAllFiltered: 0,\n    selectAllOnCurrentPage: 0,\n    deselectAllOnCurrentPage: 0,\n    getSelectedNodes: 0,\n    getSelectedRows: 0,\n    redrawRows: 0,\n    setRowNodeExpanded: 0,\n    getRowNode: 0,\n    addRenderedRowListener: 0,\n    getRenderedNodes: 0,\n    forEachNode: 0,\n    getFirstDisplayedRow: 0,\n    getFirstDisplayedRowIndex: 0,\n    getLastDisplayedRow: 0,\n    getLastDisplayedRowIndex: 0,\n    getDisplayedRowAtIndex: 0,\n    getDisplayedRowCount: 0,\n    getModel: 0,\n    getVerticalPixelRange: 0,\n    getHorizontalPixelRange: 0,\n    ensureColumnVisible: 0,\n    ensureIndexVisible: 0,\n    ensureNodeVisible: 0,\n    getFocusedCell: 0,\n    clearFocusedCell: 0,\n    setFocusedCell: 0,\n    tabToNextCell: 0,\n    tabToPreviousCell: 0,\n    setFocusedHeader: 0,\n    addEventListener: 0,\n    addGlobalListener: 0,\n    removeEventListener: 0,\n    removeGlobalListener: 0,\n    expireValueCache: 0,\n    getValue: 0,\n    getCellValue: 0,\n    showColumnMenuAfterButtonClick: 0,\n    showColumnMenuAfterMouseClick: 0,\n    showColumnMenu: 0,\n    hidePopupMenu: 0,\n    onSortChanged: 0,\n    getPinnedTopRowCount: 0,\n    getPinnedBottomRowCount: 0,\n    getPinnedTopRow: 0,\n    getPinnedBottomRow: 0,\n    showLoadingOverlay: 0,\n    showNoRowsOverlay: 0,\n    hideOverlay: 0,\n    setGridAriaProperty: 0,\n    refreshCells: 0,\n    flashCells: 0,\n    refreshHeader: 0,\n    isAnimationFrameQueueEmpty: 0,\n    flushAllAnimationFrames: 0,\n    getSizesForCurrentTheme: 0,\n    getCellRendererInstances: 0,\n    addRowDropZone: 0,\n    removeRowDropZone: 0,\n    getRowDropZoneParams: 0,\n    getColumnDef: 0,\n    getColumnDefs: 0,\n    sizeColumnsToFit: 0,\n    setColumnGroupOpened: 0,\n    getColumnGroup: 0,\n    getProvidedColumnGroup: 0,\n    getDisplayNameForColumn: 0,\n    getDisplayNameForColumnGroup: 0,\n    getColumn: 0,\n    getColumns: 0,\n    applyColumnState: 0,\n    getColumnState: 0,\n    resetColumnState: 0,\n    getColumnGroupState: 0,\n    setColumnGroupState: 0,\n    resetColumnGroupState: 0,\n    isPinning: 0,\n    isPinningLeft: 0,\n    isPinningRight: 0,\n    getDisplayedColAfter: 0,\n    getDisplayedColBefore: 0,\n    setColumnVisible: 0,\n    setColumnsVisible: 0,\n    setColumnPinned: 0,\n    setColumnsPinned: 0,\n    getAllGridColumns: 0,\n    getDisplayedLeftColumns: 0,\n    getDisplayedCenterColumns: 0,\n    getDisplayedRightColumns: 0,\n    getAllDisplayedColumns: 0,\n    getAllDisplayedVirtualColumns: 0,\n    moveColumn: 0,\n    moveColumnByIndex: 0,\n    moveColumns: 0,\n    setColumnWidth: 0,\n    setColumnWidths: 0,\n    getLeftDisplayedColumnGroups: 0,\n    getCenterDisplayedColumnGroups: 0,\n    getRightDisplayedColumnGroups: 0,\n    getAllDisplayedColumnGroups: 0,\n    autoSizeColumn: 0,\n    autoSizeColumns: 0,\n    autoSizeAllColumns: 0,\n    undoCellEditing: 0,\n    redoCellEditing: 0,\n    getCellEditorInstances: 0,\n    getEditingCells: 0,\n    stopEditing: 0,\n    startEditingCell: 0,\n    getCurrentUndoSize: 0,\n    getCurrentRedoSize: 0,\n    isAnyFilterPresent: 0,\n    onFilterChanged: 0,\n    isColumnFilterPresent: 0,\n    getFilterInstance: 0,\n    getColumnFilterInstance: 0,\n    destroyFilter: 0,\n    setFilterModel: 0,\n    getFilterModel: 0,\n    getColumnFilterModel: 0,\n    setColumnFilterModel: 0,\n    showColumnFilter: 0,\n    isQuickFilterPresent: 0,\n    getQuickFilter: 0,\n    resetQuickFilter: 0,\n    paginationIsLastPageFound: 0,\n    paginationGetPageSize: 0,\n    paginationGetCurrentPage: 0,\n    paginationGetTotalPages: 0,\n    paginationGetRowCount: 0,\n    paginationGoToNextPage: 0,\n    paginationGoToPreviousPage: 0,\n    paginationGoToFirstPage: 0,\n    paginationGoToLastPage: 0,\n    paginationGoToPage: 0,\n    // These may need updating to say which of multiple possible modules they could be missing from.\n    expandAll: 0,\n    collapseAll: 0,\n    onRowHeightChanged: 0,\n    setRowCount: 0,\n    getCacheBlockState: 0,\n    isLastRowIndexKnown: 0\n  }),\n  ...mod(\"@ag-grid-community/client-side-row-model\" /* ClientSideRowModelModule */, {\n    onGroupExpandedOrCollapsed: 0,\n    refreshClientSideRowModel: 0,\n    isRowDataEmpty: 0,\n    forEachLeafNode: 0,\n    forEachNodeAfterFilter: 0,\n    forEachNodeAfterFilterAndSort: 0,\n    resetRowHeights: 0,\n    applyTransaction: 0,\n    applyTransactionAsync: 0,\n    flushAsyncTransactions: 0,\n    getBestCostNodeSelection: 0\n  }),\n  ...mod(\"@ag-grid-community/csv-export\" /* CsvExportModule */, {\n    getDataAsCsv: 0,\n    exportDataAsCsv: 0\n  }),\n  ...mod(\"@ag-grid-community/infinite-row-model\" /* InfiniteRowModelModule */, {\n    refreshInfiniteCache: 0,\n    purgeInfiniteCache: 0,\n    getInfiniteRowCount: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/advanced-filter\" /* AdvancedFilterModule */, {\n    getAdvancedFilterModel: 0,\n    setAdvancedFilterModel: 0,\n    showAdvancedFilterBuilder: 0,\n    hideAdvancedFilterBuilder: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/charts\" /* GridChartsModule */, {\n    getChartModels: 0,\n    getChartRef: 0,\n    getChartImageDataURL: 0,\n    downloadChart: 0,\n    openChartToolPanel: 0,\n    closeChartToolPanel: 0,\n    createRangeChart: 0,\n    createPivotChart: 0,\n    createCrossFilterChart: 0,\n    updateChart: 0,\n    restoreChart: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/clipboard\" /* ClipboardModule */, {\n    copyToClipboard: 0,\n    cutToClipboard: 0,\n    copySelectedRowsToClipboard: 0,\n    copySelectedRangeToClipboard: 0,\n    copySelectedRangeDown: 0,\n    pasteFromClipboard: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/excel-export\" /* ExcelExportModule */, {\n    getDataAsExcel: 0,\n    exportDataAsExcel: 0,\n    getSheetDataForExcel: 0,\n    getMultipleSheetsAsExcel: 0,\n    exportMultipleSheetsAsExcel: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/master-detail\" /* MasterDetailModule */, {\n    addDetailGridInfo: 0,\n    removeDetailGridInfo: 0,\n    getDetailGridInfo: 0,\n    forEachDetailGridInfo: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/menu\" /* MenuModule */, {\n    showContextMenu: 0,\n    showColumnChooser: 0,\n    hideColumnChooser: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/range-selection\" /* RangeSelectionModule */, {\n    getCellRanges: 0,\n    addCellRange: 0,\n    clearRangeSelection: 0,\n    clearCellSelection: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */, {\n    addAggFunc: 0,\n    addAggFuncs: 0,\n    clearAggFuncs: 0,\n    setColumnAggFunc: 0,\n    isPivotMode: 0,\n    getPivotResultColumn: 0,\n    setValueColumns: 0,\n    getValueColumns: 0,\n    removeValueColumn: 0,\n    removeValueColumns: 0,\n    addValueColumn: 0,\n    addValueColumns: 0,\n    setRowGroupColumns: 0,\n    removeRowGroupColumn: 0,\n    removeRowGroupColumns: 0,\n    addRowGroupColumn: 0,\n    addRowGroupColumns: 0,\n    getRowGroupColumns: 0,\n    moveRowGroupColumn: 0,\n    setPivotColumns: 0,\n    removePivotColumn: 0,\n    removePivotColumns: 0,\n    addPivotColumn: 0,\n    addPivotColumns: 0,\n    getPivotColumns: 0,\n    setPivotResultColumns: 0,\n    getPivotResultColumns: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/server-side-row-model\" /* ServerSideRowModelModule */, {\n    getServerSideSelectionState: 0,\n    setServerSideSelectionState: 0,\n    applyServerSideTransaction: 0,\n    applyServerSideTransactionAsync: 0,\n    applyServerSideRowData: 0,\n    retryServerSideLoads: 0,\n    flushServerSideAsyncTransactions: 0,\n    refreshServerSide: 0,\n    getServerSideGroupLevelState: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/side-bar\" /* SideBarModule */, {\n    isSideBarVisible: 0,\n    setSideBarVisible: 0,\n    setSideBarPosition: 0,\n    openToolPanel: 0,\n    closeToolPanel: 0,\n    getOpenedToolPanel: 0,\n    refreshToolPanel: 0,\n    isToolPanelShowing: 0,\n    getToolPanelInstance: 0,\n    getSideBar: 0\n  }),\n  ...mod(\"@ag-grid-enterprise/status-bar\" /* StatusBarModule */, {\n    getStatusPanel: 0\n  })\n};\n\n// community-modules/core/src/api/apiFunctionService.ts\nvar defaultFns = {\n  isDestroyed: () => true,\n  destroy() {\n  },\n  preConstruct() {\n  },\n  postConstruct() {\n  },\n  preWireBeans() {\n  },\n  wireBeans() {\n  }\n};\nvar dispatchEvent = (beans, event) => beans.eventService.dispatchEvent(event);\nvar GridApiClass = class {\n};\nReflect.defineProperty(GridApiClass, \"name\", { value: \"GridApi\" });\nvar ApiFunctionService = class extends BeanStub {\n  constructor() {\n    super();\n    this.beanName = \"apiFunctionService\";\n    this.api = new GridApiClass();\n    this.fns = {\n      ...defaultFns,\n      // dispatchEvent is used by frameworks, also used by aligned grids to identify a grid api instance\n      dispatchEvent\n    };\n    this.beans = null;\n    this.preDestroyLink = \"\";\n    const { api } = this;\n    for (const key in gridApiFunctionsMap) {\n      api[key] = this.makeApi(key)[key];\n    }\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  postConstruct() {\n    this.preDestroyLink = this.frameworkOverrides.getDocLink(\"grid-lifecycle/#grid-pre-destroyed\");\n  }\n  addFunction(functionName, func) {\n    const { fns, beans } = this;\n    if (fns !== defaultFns) {\n      fns[functionName] = beans?.validationService?.validateApiFunction(functionName, func) ?? func;\n    }\n  }\n  makeApi(apiName) {\n    return {\n      [apiName]: (...args) => {\n        const {\n          beans,\n          fns: { [apiName]: fn }\n        } = this;\n        return fn ? fn(beans, ...args) : this.apiNotFound(apiName);\n      }\n    };\n  }\n  apiNotFound(fnName) {\n    const { beans, gos, preDestroyLink } = this;\n    if (!beans) {\n      _warnOnce(\n        `Grid API function ${fnName}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${preDestroyLink}`\n      );\n    } else {\n      const module = gridApiFunctionsMap[fnName];\n      if (gos.assertModuleRegistered(module, `api.${fnName}`)) {\n        _warnOnce(`API function '${fnName}' not registered to module '${module}'`);\n      }\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.fns = defaultFns;\n    this.beans = null;\n  }\n};\n\n// community-modules/core/src/api/apiUtils.ts\nfunction createGridApi(context) {\n  return {\n    beanName: \"gridApi\",\n    bean: context.getBean(\"apiFunctionService\").api\n  };\n}\n\n// community-modules/core/src/columns/columnDefFactory.ts\nvar ColumnDefFactory = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnDefFactory\";\n  }\n  buildColumnDefs(cols, rowGroupColumns, pivotColumns) {\n    const res = [];\n    const colGroupDefs = {};\n    cols.forEach((col) => {\n      const colDef = this.createDefFromColumn(col, rowGroupColumns, pivotColumns);\n      let addToResult = true;\n      let childDef = colDef;\n      let pointer = col.getOriginalParent();\n      let lastPointer = null;\n      while (pointer) {\n        let parentDef = null;\n        if (pointer.isPadding()) {\n          pointer = pointer.getOriginalParent();\n          continue;\n        }\n        const existingParentDef = colGroupDefs[pointer.getGroupId()];\n        if (existingParentDef) {\n          existingParentDef.children.push(childDef);\n          addToResult = false;\n          break;\n        }\n        parentDef = this.createDefFromGroup(pointer);\n        if (parentDef) {\n          parentDef.children = [childDef];\n          colGroupDefs[parentDef.groupId] = parentDef;\n          childDef = parentDef;\n          pointer = pointer.getOriginalParent();\n        }\n        if (pointer != null && lastPointer === pointer) {\n          addToResult = false;\n          break;\n        }\n        lastPointer = pointer;\n      }\n      if (addToResult) {\n        res.push(childDef);\n      }\n    });\n    return res;\n  }\n  createDefFromGroup(group) {\n    const defCloned = _deepCloneDefinition(group.getColGroupDef(), [\"children\"]);\n    if (defCloned) {\n      defCloned.groupId = group.getGroupId();\n    }\n    return defCloned;\n  }\n  createDefFromColumn(col, rowGroupColumns, pivotColumns) {\n    const colDefCloned = _deepCloneDefinition(col.getColDef());\n    colDefCloned.colId = col.getColId();\n    colDefCloned.width = col.getActualWidth();\n    colDefCloned.rowGroup = col.isRowGroupActive();\n    colDefCloned.rowGroupIndex = col.isRowGroupActive() ? rowGroupColumns.indexOf(col) : null;\n    colDefCloned.pivot = col.isPivotActive();\n    colDefCloned.pivotIndex = col.isPivotActive() ? pivotColumns.indexOf(col) : null;\n    colDefCloned.aggFunc = col.isValueActive() ? col.getAggFunc() : null;\n    colDefCloned.hide = col.isVisible() ? void 0 : true;\n    colDefCloned.pinned = col.isPinned() ? col.getPinned() : null;\n    colDefCloned.sort = col.getSort() ? col.getSort() : null;\n    colDefCloned.sortIndex = col.getSortIndex() != null ? col.getSortIndex() : null;\n    return colDefCloned;\n  }\n};\n\n// community-modules/core/src/columns/columnEventDispatcher.ts\nvar ColumnEventDispatcher = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnEventDispatcher\";\n  }\n  visibleCols(source) {\n    this.eventService.dispatchEvent({\n      type: \"displayedColumnsChanged\",\n      source\n    });\n  }\n  gridColumns() {\n    this.eventService.dispatchEvent({\n      type: \"gridColumnsChanged\"\n    });\n  }\n  headerHeight(col) {\n    this.eventService.dispatchEvent({\n      type: \"columnHeaderHeightChanged\",\n      column: col,\n      columns: [col],\n      source: \"autosizeColumnHeaderHeight\"\n    });\n  }\n  groupHeaderHeight(col) {\n    this.eventService.dispatchEvent({\n      type: \"columnGroupHeaderHeightChanged\",\n      columnGroup: col,\n      source: \"autosizeColumnGroupHeaderHeight\"\n    });\n  }\n  groupOpened(impactedGroups) {\n    this.eventService.dispatchEvent({\n      type: \"columnGroupOpened\",\n      columnGroup: impactedGroups.length === 1 ? impactedGroups[0] : void 0,\n      columnGroups: impactedGroups\n    });\n  }\n  rowGroupChanged(impactedColumns, source) {\n    this.eventService.dispatchEvent({\n      type: \"columnRowGroupChanged\",\n      columns: impactedColumns,\n      column: impactedColumns.length === 1 ? impactedColumns[0] : null,\n      source\n    });\n  }\n  genericColumnEvent(eventType, masterList, source) {\n    this.eventService.dispatchEvent({\n      type: eventType,\n      columns: masterList,\n      column: masterList.length === 1 ? masterList[0] : null,\n      source\n    });\n  }\n  pivotModeChanged() {\n    this.eventService.dispatchEvent({\n      type: \"columnPivotModeChanged\"\n    });\n  }\n  virtualColumnsChanged(afterScroll) {\n    this.eventService.dispatchEvent({\n      type: \"virtualColumnsChanged\",\n      afterScroll\n    });\n  }\n  newColumnsLoaded(source) {\n    this.eventService.dispatchEvent({\n      type: \"newColumnsLoaded\",\n      source\n    });\n  }\n  /** @deprecated v32.2 */\n  everythingChanged(source) {\n    this.eventService.dispatchEvent({\n      type: \"columnEverythingChanged\",\n      source\n    });\n  }\n  columnMoved(params) {\n    const { movedColumns, source, toIndex, finished } = params;\n    this.eventService.dispatchEvent({\n      type: \"columnMoved\",\n      columns: movedColumns,\n      column: movedColumns && movedColumns.length === 1 ? movedColumns[0] : null,\n      toIndex,\n      finished,\n      source\n    });\n  }\n  columnPinned(changedColumns, source) {\n    if (!changedColumns.length) {\n      return;\n    }\n    const column = changedColumns.length === 1 ? changedColumns[0] : null;\n    const pinned = this.getCommonValue(changedColumns, (col) => col.getPinned());\n    this.eventService.dispatchEvent({\n      type: \"columnPinned\",\n      // mistake in typing, 'undefined' should be allowed, as 'null' means 'not pinned'\n      pinned: pinned != null ? pinned : null,\n      columns: changedColumns,\n      column,\n      source\n    });\n  }\n  columnVisible(changedColumns, source) {\n    if (!changedColumns.length) {\n      return;\n    }\n    const column = changedColumns.length === 1 ? changedColumns[0] : null;\n    const visible = this.getCommonValue(changedColumns, (col) => col.isVisible());\n    this.eventService.dispatchEvent({\n      type: \"columnVisible\",\n      visible,\n      columns: changedColumns,\n      column,\n      source\n    });\n  }\n  getCommonValue(cols, valueGetter) {\n    if (!cols || cols.length == 0) {\n      return void 0;\n    }\n    const firstValue = valueGetter(cols[0]);\n    for (let i = 1; i < cols.length; i++) {\n      if (firstValue !== valueGetter(cols[i])) {\n        return void 0;\n      }\n    }\n    return firstValue;\n  }\n  columnChanged(type, columns, source) {\n    this.eventService.dispatchEvent({\n      type,\n      columns,\n      column: columns && columns.length == 1 ? columns[0] : null,\n      source\n    });\n  }\n  columnResized(columns, finished, source, flexColumns = null) {\n    if (columns && columns.length) {\n      this.eventService.dispatchEvent({\n        type: \"columnResized\",\n        columns,\n        column: columns.length === 1 ? columns[0] : null,\n        flexColumns,\n        finished,\n        source\n      });\n    }\n  }\n};\n\n// community-modules/core/src/columns/columnGetStateService.ts\nvar ColumnGetStateService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnGetStateService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n  }\n  getColumnState() {\n    const primaryCols = this.columnModel.getColDefCols();\n    if (_missing(primaryCols) || !this.columnModel.isAlive()) {\n      return [];\n    }\n    const colsForState = this.columnModel.getAllCols();\n    const res = colsForState.map((col) => this.createStateItemFromColumn(col));\n    this.orderColumnStateList(res);\n    return res;\n  }\n  createStateItemFromColumn(column) {\n    const rowGorupColumns = this.funcColsService.getRowGroupColumns();\n    const pivotColumns = this.funcColsService.getPivotColumns();\n    const rowGroupIndex = column.isRowGroupActive() ? rowGorupColumns.indexOf(column) : null;\n    const pivotIndex = column.isPivotActive() ? pivotColumns.indexOf(column) : null;\n    const aggFunc = column.isValueActive() ? column.getAggFunc() : null;\n    const sort = column.getSort() != null ? column.getSort() : null;\n    const sortIndex = column.getSortIndex() != null ? column.getSortIndex() : null;\n    const flex = column.getFlex() != null && column.getFlex() > 0 ? column.getFlex() : null;\n    const res = {\n      colId: column.getColId(),\n      width: column.getActualWidth(),\n      hide: !column.isVisible(),\n      pinned: column.getPinned(),\n      sort,\n      sortIndex,\n      aggFunc,\n      rowGroup: column.isRowGroupActive(),\n      rowGroupIndex,\n      pivot: column.isPivotActive(),\n      pivotIndex,\n      flex\n    };\n    return res;\n  }\n  orderColumnStateList(columnStateList) {\n    const gridColumns = this.columnModel.getCols();\n    const colIdToGridIndexMap = new Map(gridColumns.map((col, index) => [col.getColId(), index]));\n    columnStateList.sort((itemA, itemB) => {\n      const posA = colIdToGridIndexMap.has(itemA.colId) ? colIdToGridIndexMap.get(itemA.colId) : -1;\n      const posB = colIdToGridIndexMap.has(itemB.colId) ? colIdToGridIndexMap.get(itemB.colId) : -1;\n      return posA - posB;\n    });\n  }\n};\n\n// community-modules/core/src/columns/columnGroupStateService.ts\nvar ColumnGroupStateService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnGroupStateService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnAnimationService = beans.columnAnimationService;\n    this.eventDispatcher = beans.columnEventDispatcher;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  getColumnGroupState() {\n    const columnGroupState = [];\n    const gridBalancedTree = this.columnModel.getColTree();\n    depthFirstOriginalTreeSearch(null, gridBalancedTree, (node) => {\n      if (isProvidedColumnGroup(node)) {\n        columnGroupState.push({\n          groupId: node.getGroupId(),\n          open: node.isExpanded()\n        });\n      }\n    });\n    return columnGroupState;\n  }\n  resetColumnGroupState(source) {\n    const primaryColumnTree = this.columnModel.getColDefColTree();\n    if (!primaryColumnTree) {\n      return;\n    }\n    const stateItems = [];\n    depthFirstOriginalTreeSearch(null, primaryColumnTree, (child) => {\n      if (isProvidedColumnGroup(child)) {\n        const colGroupDef = child.getColGroupDef();\n        const groupState = {\n          groupId: child.getGroupId(),\n          open: !colGroupDef ? void 0 : colGroupDef.openByDefault\n        };\n        stateItems.push(groupState);\n      }\n    });\n    this.setColumnGroupState(stateItems, source);\n  }\n  setColumnGroupState(stateItems, source) {\n    const gridBalancedTree = this.columnModel.getColTree();\n    if (!gridBalancedTree) {\n      return;\n    }\n    this.columnAnimationService.start();\n    const impactedGroups = [];\n    stateItems.forEach((stateItem) => {\n      const groupKey = stateItem.groupId;\n      const newValue = stateItem.open;\n      const providedColumnGroup = this.columnModel.getProvidedColGroup(groupKey);\n      if (!providedColumnGroup) {\n        return;\n      }\n      if (providedColumnGroup.isExpanded() === newValue) {\n        return;\n      }\n      providedColumnGroup.setExpanded(newValue);\n      impactedGroups.push(providedColumnGroup);\n    });\n    this.visibleColsService.refresh(source, true);\n    if (impactedGroups.length) {\n      this.eventDispatcher.groupOpened(impactedGroups);\n    }\n    this.columnAnimationService.finish();\n  }\n};\n\n// community-modules/core/src/columns/columnViewportService.ts\nvar ColumnViewportService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnViewportService\";\n    // cols in center that are in the viewport\n    this.colsWithinViewport = [];\n    // same as colsWithinViewport, except we always include columns with headerAutoHeight\n    this.headerColsWithinViewport = [];\n    // A hash key to keep track of changes in viewport columns\n    this.colsWithinViewportHash = \"\";\n    // all columns & groups to be rendered, index by row.\n    // used by header rows to get all items to render for that row.\n    this.rowsOfHeadersToRenderLeft = {};\n    this.rowsOfHeadersToRenderRight = {};\n    this.rowsOfHeadersToRenderCenter = {};\n  }\n  wireBeans(beans) {\n    this.visibleColsService = beans.visibleColsService;\n    this.columnModel = beans.columnModel;\n    this.eventDispatcher = beans.columnEventDispatcher;\n  }\n  postConstruct() {\n    this.suppressColumnVirtualisation = this.gos.get(\"suppressColumnVirtualisation\");\n  }\n  setScrollPosition(scrollWidth, scrollPosition, afterScroll = false) {\n    const bodyWidthDirty = this.visibleColsService.isBodyWidthDirty();\n    const noChange = scrollWidth === this.scrollWidth && scrollPosition === this.scrollPosition && !bodyWidthDirty;\n    if (noChange) {\n      return;\n    }\n    this.scrollWidth = scrollWidth;\n    this.scrollPosition = scrollPosition;\n    this.visibleColsService.setBodyWidthDirty();\n    if (this.gos.get(\"enableRtl\")) {\n      const bodyWidth = this.visibleColsService.getBodyContainerWidth();\n      this.viewportLeft = bodyWidth - this.scrollPosition - this.scrollWidth;\n      this.viewportRight = bodyWidth - this.scrollPosition;\n    } else {\n      this.viewportLeft = this.scrollPosition;\n      this.viewportRight = this.scrollWidth + this.scrollPosition;\n    }\n    if (this.columnModel.isReady()) {\n      this.checkViewportColumns(afterScroll);\n    }\n  }\n  getHeadersToRender(type, dept) {\n    let result;\n    switch (type) {\n      case \"left\":\n        result = this.rowsOfHeadersToRenderLeft[dept];\n        break;\n      case \"right\":\n        result = this.rowsOfHeadersToRenderRight[dept];\n        break;\n      default:\n        result = this.rowsOfHeadersToRenderCenter[dept];\n        break;\n    }\n    return result || [];\n  }\n  extractViewportColumns() {\n    const displayedColumnsCenter = this.visibleColsService.getCenterCols();\n    if (this.isColumnVirtualisationSuppressed()) {\n      this.colsWithinViewport = displayedColumnsCenter;\n      this.headerColsWithinViewport = displayedColumnsCenter;\n    } else {\n      this.colsWithinViewport = displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this));\n      this.headerColsWithinViewport = displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this));\n    }\n  }\n  isColumnVirtualisationSuppressed() {\n    return this.suppressColumnVirtualisation || this.viewportRight === 0;\n  }\n  clear() {\n    this.rowsOfHeadersToRenderLeft = {};\n    this.rowsOfHeadersToRenderRight = {};\n    this.rowsOfHeadersToRenderCenter = {};\n    this.colsWithinViewportHash = \"\";\n  }\n  isColumnInHeaderViewport(col) {\n    if (col.isAutoHeaderHeight() || this.isAnyParentAutoHeaderHeight(col)) {\n      return true;\n    }\n    return this.isColumnInRowViewport(col);\n  }\n  isAnyParentAutoHeaderHeight(col) {\n    while (col) {\n      if (col.isAutoHeaderHeight()) {\n        return true;\n      }\n      col = col.getParent();\n    }\n    return false;\n  }\n  isColumnInRowViewport(col) {\n    if (col.isAutoHeight()) {\n      return true;\n    }\n    const columnLeft = col.getLeft() || 0;\n    const columnRight = columnLeft + col.getActualWidth();\n    const leftBounds = this.viewportLeft - 200;\n    const rightBounds = this.viewportRight + 200;\n    const columnToMuchLeft = columnLeft < leftBounds && columnRight < leftBounds;\n    const columnToMuchRight = columnLeft > rightBounds && columnRight > rightBounds;\n    return !columnToMuchLeft && !columnToMuchRight;\n  }\n  // used by Grid API only\n  getViewportColumns() {\n    const leftCols = this.visibleColsService.getLeftCols();\n    const rightCols = this.visibleColsService.getRightCols();\n    const res = this.colsWithinViewport.concat(leftCols).concat(rightCols);\n    return res;\n  }\n  // + rowRenderer\n  // if we are not column spanning, this just returns back the virtual centre columns,\n  // however if we are column spanning, then different rows can have different virtual\n  // columns, so we have to work out the list for each individual row.\n  getColsWithinViewport(rowNode) {\n    if (!this.columnModel.isColSpanActive()) {\n      return this.colsWithinViewport;\n    }\n    const emptySpaceBeforeColumn = (col) => {\n      const left = col.getLeft();\n      return _exists(left) && left > this.viewportLeft;\n    };\n    const inViewportCallback = this.isColumnVirtualisationSuppressed() ? void 0 : this.isColumnInRowViewport.bind(this);\n    const displayedColumnsCenter = this.visibleColsService.getColsCenter();\n    return this.visibleColsService.getColsForRow(\n      rowNode,\n      displayedColumnsCenter,\n      inViewportCallback,\n      emptySpaceBeforeColumn\n    );\n  }\n  // checks what columns are currently displayed due to column virtualisation. dispatches an event\n  // if the list of columns has changed.\n  // + setColumnWidth(), setViewportPosition(), setColumnDefs(), sizeColumnsToFit()\n  checkViewportColumns(afterScroll = false) {\n    const viewportColumnsChanged = this.extractViewport();\n    if (viewportColumnsChanged) {\n      this.eventDispatcher.virtualColumnsChanged(afterScroll);\n    }\n  }\n  calculateHeaderRows() {\n    this.rowsOfHeadersToRenderLeft = {};\n    this.rowsOfHeadersToRenderRight = {};\n    this.rowsOfHeadersToRenderCenter = {};\n    const renderedColIds = {};\n    const renderedColsLeft = this.visibleColsService.getLeftCols();\n    const renderedColsRight = this.visibleColsService.getRightCols();\n    const allRenderedCols = this.headerColsWithinViewport.concat(renderedColsLeft).concat(renderedColsRight);\n    allRenderedCols.forEach((col) => renderedColIds[col.getId()] = true);\n    const testGroup = (children, result, dept) => {\n      let returnValue = false;\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        let addThisItem = false;\n        if (isColumn(child)) {\n          addThisItem = renderedColIds[child.getId()] === true;\n        } else {\n          const columnGroup = child;\n          const displayedChildren = columnGroup.getDisplayedChildren();\n          if (displayedChildren) {\n            addThisItem = testGroup(displayedChildren, result, dept + 1);\n          }\n        }\n        if (addThisItem) {\n          returnValue = true;\n          if (!result[dept]) {\n            result[dept] = [];\n          }\n          result[dept].push(child);\n        }\n      }\n      return returnValue;\n    };\n    testGroup(this.visibleColsService.getTreeLeft(), this.rowsOfHeadersToRenderLeft, 0);\n    testGroup(this.visibleColsService.getTreeRight(), this.rowsOfHeadersToRenderRight, 0);\n    testGroup(this.visibleColsService.getTreeCenter(), this.rowsOfHeadersToRenderCenter, 0);\n  }\n  extractViewport() {\n    const hashColumn = (c) => `${c.getId()}-${c.getPinned() || \"normal\"}`;\n    this.extractViewportColumns();\n    const newHash = this.getViewportColumns().map(hashColumn).join(\"#\");\n    const changed = this.colsWithinViewportHash !== newHash;\n    if (changed) {\n      this.colsWithinViewportHash = newHash;\n      this.calculateHeaderRows();\n    }\n    return changed;\n  }\n};\n\n// community-modules/core/src/components/framework/agComponentUtils.ts\nvar AgComponentUtils = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"agComponentUtils\";\n  }\n  wireBeans(beans) {\n    this.componentMetadataProvider = beans.componentMetadataProvider;\n  }\n  adaptFunction(propertyName, jsCompFunc) {\n    const metadata = this.componentMetadataProvider.retrieve(propertyName);\n    if (metadata && metadata.functionAdapter) {\n      return metadata.functionAdapter(jsCompFunc);\n    }\n    return null;\n  }\n  adaptCellRendererFunction(callback) {\n    class Adapter {\n      refresh() {\n        return false;\n      }\n      getGui() {\n        return this.eGui;\n      }\n      init(params) {\n        const callbackResult = callback(params);\n        const type = typeof callbackResult;\n        if (type === \"string\" || type === \"number\" || type === \"boolean\") {\n          this.eGui = _loadTemplate(\"<span>\" + callbackResult + \"</span>\");\n          return;\n        }\n        if (callbackResult == null) {\n          this.eGui = _loadTemplate(\"<span></span>\");\n          return;\n        }\n        this.eGui = callbackResult;\n      }\n    }\n    return Adapter;\n  }\n  doesImplementIComponent(candidate) {\n    if (!candidate) {\n      return false;\n    }\n    return candidate.prototype && \"getGui\" in candidate.prototype;\n  }\n};\n\n// community-modules/core/src/components/framework/componentMetadataProvider.ts\nvar ComponentMetadataProvider = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"componentMetadataProvider\";\n  }\n  wireBeans(beans) {\n    this.agComponentUtils = beans.agComponentUtils;\n  }\n  postConstruct() {\n    this.componentMetaData = {\n      dateComponent: {\n        mandatoryMethodList: [\"getDate\", \"setDate\"],\n        optionalMethodList: [\n          \"afterGuiAttached\",\n          \"setInputPlaceholder\",\n          \"setInputAriaLabel\",\n          \"setDisabled\",\n          \"onParamsUpdated\",\n          \"refresh\"\n        ]\n      },\n      detailCellRenderer: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\"],\n        functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n      },\n      dragAndDropImageComponent: {\n        mandatoryMethodList: [\"setIcon\", \"setLabel\"],\n        optionalMethodList: []\n      },\n      headerComponent: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\"]\n      },\n      headerGroupComponent: {\n        mandatoryMethodList: [],\n        optionalMethodList: []\n      },\n      loadingCellRenderer: {\n        mandatoryMethodList: [],\n        optionalMethodList: [],\n        functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n      },\n      loadingOverlayComponent: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\"]\n      },\n      noRowsOverlayComponent: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\"]\n      },\n      floatingFilterComponent: {\n        mandatoryMethodList: [\"onParentModelChanged\"],\n        optionalMethodList: [\"afterGuiAttached\", \"onParamsUpdated\", \"refresh\"]\n      },\n      cellRenderer: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\", \"afterGuiAttached\"],\n        functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n      },\n      cellEditor: {\n        mandatoryMethodList: [\"getValue\"],\n        optionalMethodList: [\n          \"isPopup\",\n          \"isCancelBeforeStart\",\n          \"isCancelAfterEnd\",\n          \"getPopupPosition\",\n          \"focusIn\",\n          \"focusOut\",\n          \"afterGuiAttached\",\n          \"refresh\"\n        ]\n      },\n      innerRenderer: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"afterGuiAttached\"],\n        functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n      },\n      fullWidthCellRenderer: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\", \"afterGuiAttached\"],\n        functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n      },\n      groupRowRenderer: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"afterGuiAttached\"],\n        functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n      },\n      filter: {\n        mandatoryMethodList: [\"isFilterActive\", \"doesFilterPass\", \"getModel\", \"setModel\"],\n        optionalMethodList: [\n          \"afterGuiAttached\",\n          \"afterGuiDetached\",\n          \"onNewRowsLoaded\",\n          \"getModelAsString\",\n          \"onFloatingFilterChanged\",\n          \"onAnyFilterChanged\",\n          \"refresh\"\n        ]\n      },\n      statusPanel: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\"]\n      },\n      toolPanel: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"refresh\", \"getState\"]\n      },\n      tooltipComponent: {\n        mandatoryMethodList: [],\n        optionalMethodList: []\n      },\n      menuItem: {\n        mandatoryMethodList: [],\n        optionalMethodList: [\"setActive\", \"select\", \"setExpanded\", \"configureDefaults\"]\n      }\n    };\n  }\n  retrieve(name) {\n    return this.componentMetaData[name];\n  }\n};\n\n// community-modules/core/src/context/gridBeanComparator.ts\nvar orderedCoreBeans = [\n  // core beans only\n  \"rowPositionUtils\",\n  \"cellPositionUtils\",\n  \"headerPositionUtils\",\n  \"paginationAutoPageSizeService\",\n  \"apiFunctionService\",\n  \"gridApi\",\n  \"userComponentRegistry\",\n  \"agComponentUtils\",\n  \"componentMetadataProvider\",\n  \"resizeObserverService\",\n  \"userComponentFactory\",\n  \"rowContainerHeightService\",\n  \"horizontalResizeService\",\n  \"localeService\",\n  \"validationService\",\n  \"pinnedRowModel\",\n  \"dragService\",\n  \"visibleColsService\",\n  \"eventService\",\n  \"gos\",\n  \"popupService\",\n  \"selectionService\",\n  \"columnFilterService\",\n  \"quickFilterService\",\n  \"filterManager\",\n  \"columnModel\",\n  \"headerNavigationService\",\n  \"pageBoundsService\",\n  \"paginationService\",\n  \"pageBoundsListener\",\n  \"rowRenderer\",\n  \"expressionService\",\n  \"columnFactory\",\n  \"alignedGridsService\",\n  \"navigationService\",\n  \"valueCache\",\n  \"valueService\",\n  \"loggerFactory\",\n  \"autoWidthCalculator\",\n  \"filterMenuFactory\",\n  \"dragAndDropService\",\n  \"focusService\",\n  \"mouseEventService\",\n  \"environment\",\n  \"cellNavigationService\",\n  \"stylingService\",\n  \"scrollVisibleService\",\n  \"sortController\",\n  \"columnHoverService\",\n  \"columnAnimationService\",\n  \"selectableService\",\n  \"autoColService\",\n  \"controlsColService\",\n  \"changeDetectionService\",\n  \"animationFrameService\",\n  \"undoRedoService\",\n  \"columnDefFactory\",\n  \"rowCssClassCalculator\",\n  \"rowNodeBlockLoader\",\n  \"rowNodeSorter\",\n  \"ctrlsService\",\n  \"pinnedWidthService\",\n  \"rowNodeEventThrottle\",\n  \"ctrlsFactory\",\n  \"dataTypeService\",\n  \"syncService\",\n  \"overlayService\",\n  \"stateService\",\n  \"expansionService\",\n  \"apiEventService\",\n  \"ariaAnnouncementService\",\n  \"menuService\",\n  \"columnApplyStateService\",\n  \"columnEventDispatcher\",\n  \"columnMoveService\",\n  \"columnAutosizeService\",\n  \"columnGetStateService\",\n  \"columnGroupStateService\",\n  \"columnSizeService\",\n  \"funcColsService\",\n  \"columnNameService\",\n  \"columnViewportService\",\n  \"pivotResultColsService\",\n  \"showRowGroupColsService\"\n];\nvar beanNamePosition = Object.fromEntries(\n  orderedCoreBeans.map((beanName, index) => [beanName, index])\n);\nfunction gridBeanInitComparator(bean1, bean2) {\n  const index1 = (bean1.beanName ? beanNamePosition[bean1.beanName] : void 0) ?? Number.MAX_SAFE_INTEGER;\n  const index2 = (bean2.beanName ? beanNamePosition[bean2.beanName] : void 0) ?? Number.MAX_SAFE_INTEGER;\n  return index1 - index2;\n}\nfunction gridBeanDestroyComparator(bean1, bean2) {\n  return bean1?.beanName === \"gridDestroyService\" ? -1 : 0;\n}\n\n// community-modules/core/src/ctrlsFactory.ts\nvar CtrlsFactory = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"ctrlsFactory\";\n    this.registry = {};\n  }\n  register(meta) {\n    this.registry[meta.name] = meta.classImp;\n  }\n  getInstance(name, ...args) {\n    const ControllerClass = this.registry[name];\n    if (ControllerClass == null) {\n      return void 0;\n    }\n    return new ControllerClass(...args);\n  }\n};\n\n// community-modules/core/src/ctrlsService.ts\nvar CtrlsService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"ctrlsService\";\n    this.params = {\n      gridCtrl: void 0,\n      gridBodyCtrl: void 0,\n      center: void 0,\n      left: void 0,\n      right: void 0,\n      bottomCenter: void 0,\n      bottomLeft: void 0,\n      bottomRight: void 0,\n      topCenter: void 0,\n      topLeft: void 0,\n      topRight: void 0,\n      stickyTopCenter: void 0,\n      stickyTopLeft: void 0,\n      stickyTopRight: void 0,\n      stickyBottomCenter: void 0,\n      stickyBottomLeft: void 0,\n      stickyBottomRight: void 0,\n      fakeHScrollComp: void 0,\n      fakeVScrollComp: void 0,\n      gridHeaderCtrl: void 0,\n      centerHeader: void 0,\n      leftHeader: void 0,\n      rightHeader: void 0\n    };\n    this.ready = false;\n    this.readyCallbacks = [];\n    this.runReadyCallbacksAsync = false;\n  }\n  wireBeans(beans) {\n    this.runReadyCallbacksAsync = beans.frameworkOverrides.runWhenReadyAsync?.() ?? false;\n  }\n  postConstruct() {\n    this.addEventListener(\n      \"ready\",\n      () => {\n        this.updateReady();\n        if (this.ready) {\n          this.readyCallbacks.forEach((c) => c(this.params));\n          this.readyCallbacks.length = 0;\n        }\n      },\n      this.runReadyCallbacksAsync\n    );\n  }\n  updateReady() {\n    this.ready = Object.values(this.params).every((ctrl) => {\n      return ctrl?.isAlive() ?? false;\n    });\n  }\n  whenReady(caller, callback) {\n    if (this.ready) {\n      callback(this.params);\n    } else {\n      this.readyCallbacks.push(callback);\n    }\n    caller.addDestroyFunc(() => {\n      const index = this.readyCallbacks.indexOf(callback);\n      if (index >= 0) {\n        this.readyCallbacks.splice(index, 1);\n      }\n    });\n  }\n  register(ctrlType, ctrl) {\n    this.params[ctrlType] = ctrl;\n    this.updateReady();\n    if (this.ready) {\n      this.dispatchLocalEvent({ type: \"ready\" });\n    }\n    ctrl.addDestroyFunc(() => {\n      this.updateReady();\n    });\n  }\n  get(ctrlType) {\n    return this.params[ctrlType];\n  }\n  getGridBodyCtrl() {\n    return this.params.gridBodyCtrl;\n  }\n  getHeaderRowContainerCtrls() {\n    const { leftHeader, centerHeader, rightHeader } = this.params;\n    return [leftHeader, rightHeader, centerHeader];\n  }\n  getHeaderRowContainerCtrl(pinned) {\n    const params = this.params;\n    switch (pinned) {\n      case \"left\":\n        return params.leftHeader;\n      case \"right\":\n        return params.rightHeader;\n      default:\n        return params.centerHeader;\n    }\n  }\n};\n\n// community-modules/core/src/entities/cellPositionUtils.ts\nvar CellPositionUtils = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"cellPositionUtils\";\n  }\n  createId(cellPosition) {\n    const { rowIndex, rowPinned, column } = cellPosition;\n    return this.createIdFromValues({ rowIndex, column, rowPinned });\n  }\n  createIdFromValues(cellPosition) {\n    const { rowIndex, rowPinned, column } = cellPosition;\n    return `${rowIndex}.${rowPinned == null ? \"null\" : rowPinned}.${column.getId()}`;\n  }\n  equals(cellA, cellB) {\n    const colsMatch = cellA.column === cellB.column;\n    const floatingMatch = cellA.rowPinned === cellB.rowPinned;\n    const indexMatch = cellA.rowIndex === cellB.rowIndex;\n    return colsMatch && floatingMatch && indexMatch;\n  }\n};\n\n// community-modules/core/src/entities/rowNodeEventThrottle.ts\nvar RowNodeEventThrottle = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowNodeEventThrottle\";\n    this.events = [];\n  }\n  wireBeans(beans) {\n    this.animationFrameService = beans.animationFrameService;\n    this.rowModel = beans.rowModel;\n  }\n  postConstruct() {\n    if (_isClientSideRowModel(this.gos)) {\n      this.clientSideRowModel = this.rowModel;\n    }\n  }\n  // because the user can call rowNode.setExpanded() many times in one VM turn,\n  // we throttle the calls to ClientSideRowModel using animationFrameService. this means for 100\n  // row nodes getting expanded, we only update the CSRM once, and then we fire all events after\n  // CSRM has updated.\n  //\n  // if we did not do this, then the user could call setExpanded on 100+ rows, causing the grid\n  // to re-render 100+ times, which would be a performance lag.\n  //\n  // we use animationFrameService\n  // rather than debounce() so this will get done if anyone flushes the animationFrameService\n  // (eg user calls api.ensureRowVisible(), which in turn flushes ).\n  dispatchExpanded(event, forceSync) {\n    if (this.clientSideRowModel == null) {\n      this.eventService.dispatchEvent(event);\n      return;\n    }\n    this.events.push(event);\n    const func = () => {\n      if (this.clientSideRowModel) {\n        this.clientSideRowModel.onRowGroupOpened();\n      }\n      this.events.forEach((e) => this.eventService.dispatchEvent(e));\n      this.events = [];\n    };\n    if (forceSync) {\n      func();\n    } else {\n      if (this.dispatchExpandedDebounced == null) {\n        this.dispatchExpandedDebounced = this.animationFrameService.debounce(func);\n      }\n      this.dispatchExpandedDebounced();\n    }\n  }\n};\n\n// community-modules/core/src/entities/rowPositionUtils.ts\nvar RowPositionUtils = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowPositionUtils\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.pinnedRowModel = beans.pinnedRowModel;\n    this.pageBoundsService = beans.pageBoundsService;\n  }\n  getFirstRow() {\n    let rowIndex = 0;\n    let rowPinned;\n    if (this.pinnedRowModel.getPinnedTopRowCount()) {\n      rowPinned = \"top\";\n    } else if (this.rowModel.getRowCount()) {\n      rowPinned = null;\n      rowIndex = this.pageBoundsService.getFirstRow();\n    } else if (this.pinnedRowModel.getPinnedBottomRowCount()) {\n      rowPinned = \"bottom\";\n    }\n    return rowPinned === void 0 ? null : { rowIndex, rowPinned };\n  }\n  getLastRow() {\n    let rowIndex;\n    let rowPinned = null;\n    const pinnedBottomCount = this.pinnedRowModel.getPinnedBottomRowCount();\n    const pinnedTopCount = this.pinnedRowModel.getPinnedTopRowCount();\n    if (pinnedBottomCount) {\n      rowPinned = \"bottom\";\n      rowIndex = pinnedBottomCount - 1;\n    } else if (this.rowModel.getRowCount()) {\n      rowPinned = null;\n      rowIndex = this.pageBoundsService.getLastRow();\n    } else if (pinnedTopCount) {\n      rowPinned = \"top\";\n      rowIndex = pinnedTopCount - 1;\n    }\n    return rowIndex === void 0 ? null : { rowIndex, rowPinned };\n  }\n  getRowNode(gridRow) {\n    switch (gridRow.rowPinned) {\n      case \"top\":\n        return this.pinnedRowModel.getPinnedTopRow(gridRow.rowIndex);\n      case \"bottom\":\n        return this.pinnedRowModel.getPinnedBottomRow(gridRow.rowIndex);\n      default:\n        return this.rowModel.getRow(gridRow.rowIndex);\n    }\n  }\n  sameRow(rowA, rowB) {\n    if (!rowA && !rowB) {\n      return true;\n    }\n    if (rowA && !rowB || !rowA && rowB) {\n      return false;\n    }\n    return rowA.rowIndex === rowB.rowIndex && rowA.rowPinned == rowB.rowPinned;\n  }\n  // tests if this row selection is before the other row selection\n  before(rowA, rowB) {\n    switch (rowA.rowPinned) {\n      case \"top\":\n        if (rowB.rowPinned !== \"top\") {\n          return true;\n        }\n        break;\n      case \"bottom\":\n        if (rowB.rowPinned !== \"bottom\") {\n          return false;\n        }\n        break;\n      default:\n        if (_exists(rowB.rowPinned)) {\n          return rowB.rowPinned !== \"top\";\n        }\n        break;\n    }\n    return rowA.rowIndex < rowB.rowIndex;\n  }\n};\n\n// community-modules/core/src/environment.ts\nvar ROW_HEIGHT = {\n  cssName: \"--ag-row-height\",\n  changeKey: \"rowHeightChanged\",\n  defaultValue: 42\n};\nvar HEADER_HEIGHT = {\n  cssName: \"--ag-header-height\",\n  changeKey: \"headerHeightChanged\",\n  defaultValue: 48\n};\nvar LIST_ITEM_HEIGHT = {\n  cssName: \"--ag-list-item-height\",\n  changeKey: \"listItemHeightChanged\",\n  defaultValue: 24\n};\nvar Environment = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"environment\";\n    this.sizeEls = /* @__PURE__ */ new Map();\n    this.lastKnownValues = /* @__PURE__ */ new Map();\n    this.ancestorThemeClasses = [];\n    this.sizesMeasured = false;\n    this.gridTheme = null;\n  }\n  wireBeans(beans) {\n    this.resizeObserverService = beans.resizeObserverService;\n    this.eGridDiv = beans.eGridDiv;\n  }\n  postConstruct() {\n    this.addManagedPropertyListener(\"theme\", () => this.handleThemeGridOptionChange());\n    this.handleThemeGridOptionChange();\n    this.addDestroyFunc(() => this.stopUsingTheme());\n    this.addManagedPropertyListener(\"rowHeight\", () => this.refreshRowHeightVariable());\n    this.ancestorThemeClasses = this.readAncestorThemeClasses();\n    this.setUpThemeClassObservers();\n    this.getSizeEl(ROW_HEIGHT);\n    this.getSizeEl(HEADER_HEIGHT);\n    this.getSizeEl(LIST_ITEM_HEIGHT);\n  }\n  getDefaultRowHeight() {\n    return this.getCSSVariablePixelValue(ROW_HEIGHT);\n  }\n  getDefaultHeaderHeight() {\n    return this.getCSSVariablePixelValue(HEADER_HEIGHT);\n  }\n  getDefaultColumnMinWidth() {\n    return Math.min(36, this.getDefaultRowHeight());\n  }\n  getDefaultListItemHeight() {\n    return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT);\n  }\n  hasMeasuredSizes() {\n    return this.sizesMeasured;\n  }\n  getGridThemeClass() {\n    return this.gridTheme?.getCssClass() || null;\n  }\n  getThemeClasses() {\n    return this.gridTheme ? [this.gridTheme.getCssClass()] : this.ancestorThemeClasses;\n  }\n  applyThemeClasses(el) {\n    const themeClasses = this.getThemeClasses();\n    for (const className of Array.from(el.classList)) {\n      if (className.startsWith(\"ag-theme-\") && !themeClasses.includes(className)) {\n        el.classList.remove(className);\n      }\n    }\n    el.classList.add(...themeClasses);\n  }\n  refreshRowHeightVariable() {\n    const oldRowHeight = this.eGridDiv.style.getPropertyValue(\"--ag-line-height\").trim();\n    const height = this.gos.get(\"rowHeight\");\n    if (height == null || isNaN(height) || !isFinite(height)) {\n      if (oldRowHeight !== null) {\n        this.eGridDiv.style.setProperty(\"--ag-line-height\", null);\n      }\n      return -1;\n    }\n    const newRowHeight = `${height}px`;\n    if (oldRowHeight != newRowHeight) {\n      this.eGridDiv.style.setProperty(\"--ag-line-height\", newRowHeight);\n      return height;\n    }\n    return oldRowHeight != \"\" ? parseFloat(oldRowHeight) : -1;\n  }\n  getCSSVariablePixelValue(variable) {\n    const cached = this.lastKnownValues.get(variable);\n    if (cached != null) {\n      return cached;\n    }\n    const measurement = this.measureSizeEl(variable);\n    if (measurement === \"detached\" || measurement === \"no-styles\") {\n      return variable.defaultValue;\n    }\n    this.lastKnownValues.set(variable, measurement);\n    return measurement;\n  }\n  measureSizeEl(variable) {\n    const sizeEl = this.getSizeEl(variable);\n    if (sizeEl.offsetParent == null) {\n      return \"detached\";\n    }\n    const newSize = sizeEl.offsetWidth;\n    if (newSize === NO_VALUE_SENTINEL)\n      return \"no-styles\";\n    this.sizesMeasured = true;\n    return newSize;\n  }\n  getSizeEl(variable) {\n    let sizeEl = this.sizeEls.get(variable);\n    if (sizeEl) {\n      return sizeEl;\n    }\n    let container = this.eMeasurementContainer;\n    if (!container) {\n      container = this.eMeasurementContainer = document.createElement(\"div\");\n      container.className = \"ag-measurement-container\";\n      if (this.gos.get(\"theme\")) {\n        this.applyThemeClasses(container);\n      }\n      this.eGridDiv.appendChild(container);\n    }\n    sizeEl = document.createElement(\"div\");\n    sizeEl.style.width = `var(${variable.cssName}, ${NO_VALUE_SENTINEL}px)`;\n    container.appendChild(sizeEl);\n    this.sizeEls.set(variable, sizeEl);\n    let lastMeasurement = this.measureSizeEl(variable);\n    if (lastMeasurement === \"no-styles\") {\n      _warnOnce(\n        `no value for ${variable.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${variable.defaultValue} will be used and updated when styles load.`\n      );\n    }\n    const unsubscribe = this.resizeObserverService.observeResize(sizeEl, () => {\n      const newMeasurement = this.measureSizeEl(variable);\n      if (newMeasurement === \"detached\" || newMeasurement === \"no-styles\") {\n        return;\n      }\n      this.lastKnownValues.set(variable, newMeasurement);\n      if (newMeasurement !== lastMeasurement) {\n        lastMeasurement = newMeasurement;\n        this.fireGridStylesChangedEvent(variable.changeKey);\n      }\n    });\n    this.addDestroyFunc(() => unsubscribe());\n    return sizeEl;\n  }\n  fireGridStylesChangedEvent(change) {\n    this.eventService.dispatchEvent({\n      type: \"gridStylesChanged\",\n      [change]: true\n    });\n  }\n  setUpThemeClassObservers() {\n    const observer = new MutationObserver(() => {\n      const newThemeClasses = this.readAncestorThemeClasses();\n      if (!arraysEqual(newThemeClasses, this.ancestorThemeClasses)) {\n        this.ancestorThemeClasses = newThemeClasses;\n        this.fireGridStylesChangedEvent(\"themeChanged\");\n      }\n    });\n    let node = this.eGridDiv;\n    while (node) {\n      observer.observe(node || this.eGridDiv, {\n        attributes: true,\n        attributeFilter: [\"class\"]\n      });\n      node = node.parentElement;\n    }\n    this.addDestroyFunc(() => observer.disconnect());\n  }\n  readAncestorThemeClasses() {\n    let el = this.eGridDiv;\n    const allThemeClasses = [];\n    while (el) {\n      const themeClasses = Array.from(el.classList).filter((c) => c.startsWith(\"ag-theme-\"));\n      for (const themeClass of themeClasses) {\n        if (!allThemeClasses.includes(themeClass)) {\n          allThemeClasses.unshift(themeClass);\n        }\n      }\n      el = el.parentElement;\n    }\n    return Object.freeze(allThemeClasses);\n  }\n  handleThemeGridOptionChange() {\n    const { gos, eMeasurementContainer, gridTheme: oldGridTheme } = this;\n    const newGridTheme = gos.get(\"theme\") || null;\n    if (newGridTheme !== oldGridTheme) {\n      oldGridTheme?.stopUse();\n      this.gridTheme = newGridTheme;\n      newGridTheme?.startUse({\n        loadThemeGoogleFonts: gos.get(\"loadThemeGoogleFonts\"),\n        container: this.eGridDiv\n      });\n      if (eMeasurementContainer) {\n        this.applyThemeClasses(eMeasurementContainer);\n      }\n      this.fireGridStylesChangedEvent(\"themeChanged\");\n    }\n  }\n  stopUsingTheme() {\n    this.gridTheme?.stopUse();\n    this.gridTheme = null;\n  }\n};\nvar arraysEqual = (a, b) => a.length === b.length && a.findIndex((_, i) => a[i] !== b[i]) === -1;\nvar NO_VALUE_SENTINEL = 15538;\n\n// community-modules/core/src/eventService.ts\nvar EventService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"eventService\";\n    this.globalEventService = new LocalEventService();\n  }\n  wireBeans(beans) {\n    this.globalEventListener = beans.globalEventListener;\n    this.globalSyncEventListener = beans.globalSyncEventListener;\n  }\n  postConstruct() {\n    if (this.globalEventListener) {\n      const async = _useAsyncEvents(this.gos);\n      this.addGlobalListener(this.globalEventListener, async);\n    }\n    if (this.globalSyncEventListener) {\n      this.addGlobalListener(this.globalSyncEventListener, false);\n    }\n  }\n  addEventListener(eventType, listener, async) {\n    this.globalEventService.addEventListener(eventType, listener, async);\n  }\n  removeEventListener(eventType, listener, async) {\n    this.globalEventService.removeEventListener(eventType, listener, async);\n  }\n  addGlobalListener(listener, async = false) {\n    this.globalEventService.addGlobalListener(listener, async);\n  }\n  removeGlobalListener(listener, async = false) {\n    this.globalEventService.removeGlobalListener(listener, async);\n  }\n  /** @deprecated DO NOT FIRE LOCAL EVENTS OFF THE EVENT SERVICE */\n  dispatchLocalEvent() {\n  }\n  dispatchEvent(event) {\n    this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(event));\n  }\n  dispatchEventOnce(event) {\n    this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(event));\n  }\n};\n\n// community-modules/core/src/focusService.ts\nvar _FocusService = class _FocusService extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"focusService\";\n  }\n  wireBeans(beans) {\n    this.eGridDiv = beans.eGridDiv;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.headerNavigationService = beans.headerNavigationService;\n    this.headerPositionUtils = beans.headerPositionUtils;\n    this.rowRenderer = beans.rowRenderer;\n    this.rowPositionUtils = beans.rowPositionUtils;\n    this.cellPositionUtils = beans.cellPositionUtils;\n    this.navigationService = beans.navigationService;\n    this.ctrlsService = beans.ctrlsService;\n    this.filterManager = beans.filterManager;\n    this.rangeService = beans.rangeService;\n    this.advancedFilterService = beans.advancedFilterService;\n    this.overlayService = beans.overlayService;\n  }\n  static addKeyboardModeEvents(doc) {\n    if (this.instanceCount > 0) {\n      return;\n    }\n    doc.addEventListener(\"keydown\", _FocusService.toggleKeyboardMode);\n    doc.addEventListener(\"mousedown\", _FocusService.toggleKeyboardMode);\n  }\n  static removeKeyboardModeEvents(doc) {\n    if (this.instanceCount > 0)\n      return;\n    doc.removeEventListener(\"keydown\", _FocusService.toggleKeyboardMode);\n    doc.removeEventListener(\"mousedown\", _FocusService.toggleKeyboardMode);\n  }\n  static toggleKeyboardMode(event) {\n    const isKeyboardActive = _FocusService.keyboardModeActive;\n    const isKeyboardEvent = event.type === \"keydown\";\n    if (isKeyboardEvent) {\n      if (event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n    }\n    if (isKeyboardActive === isKeyboardEvent) {\n      return;\n    }\n    _FocusService.keyboardModeActive = isKeyboardEvent;\n  }\n  postConstruct() {\n    const clearFocusedCellListener = this.clearFocusedCell.bind(this);\n    this.addManagedEventListeners({\n      columnPivotModeChanged: clearFocusedCellListener,\n      newColumnsLoaded: this.onColumnEverythingChanged.bind(this),\n      columnGroupOpened: clearFocusedCellListener,\n      columnRowGroupChanged: clearFocusedCellListener\n    });\n    this.registerKeyboardFocusEvents();\n    this.ctrlsService.whenReady(this, (p) => {\n      this.gridCtrl = p.gridCtrl;\n    });\n  }\n  registerKeyboardFocusEvents() {\n    const eDocument = _getDocument(this.gos);\n    _FocusService.addKeyboardModeEvents(eDocument);\n    _FocusService.instanceCount++;\n    this.addDestroyFunc(() => {\n      _FocusService.instanceCount--;\n      _FocusService.removeKeyboardModeEvents(eDocument);\n    });\n  }\n  onColumnEverythingChanged() {\n    if (!this.focusedCellPosition) {\n      return;\n    }\n    const col = this.focusedCellPosition.column;\n    const colFromColumnModel = this.columnModel.getCol(col.getId());\n    if (col !== colFromColumnModel) {\n      this.clearFocusedCell();\n    }\n  }\n  isKeyboardMode() {\n    return _FocusService.keyboardModeActive;\n  }\n  // we check if the browser is focusing something, and if it is, and\n  // it's the cell we think is focused, then return the cell. so this\n  // methods returns the cell if a) we think it has focus and b) the\n  // browser thinks it has focus. this then returns nothing if we\n  // first focus a cell, then second click outside the grid, as then the\n  // grid cell will still be focused as far as the grid is concerned,\n  // however the browser focus will have moved somewhere else.\n  getFocusCellToUseAfterRefresh() {\n    if (this.gos.get(\"suppressFocusAfterRefresh\") || !this.focusedCellPosition) {\n      return null;\n    }\n    if (this.isDomDataMissingInHierarchy(_getActiveDomElement(this.gos), RowCtrl.DOM_DATA_KEY_ROW_CTRL)) {\n      return null;\n    }\n    return this.focusedCellPosition;\n  }\n  getFocusHeaderToUseAfterRefresh() {\n    if (this.gos.get(\"suppressFocusAfterRefresh\") || !this.focusedHeaderPosition) {\n      return null;\n    }\n    if (this.isDomDataMissingInHierarchy(\n      _getActiveDomElement(this.gos),\n      AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL\n    )) {\n      return null;\n    }\n    return this.focusedHeaderPosition;\n  }\n  isDomDataMissingInHierarchy(eBrowserCell, key) {\n    let ePointer = eBrowserCell;\n    while (ePointer) {\n      const data = _getDomData(this.gos, ePointer, key);\n      if (data) {\n        return false;\n      }\n      ePointer = ePointer.parentNode;\n    }\n    return true;\n  }\n  getFocusedCell() {\n    return this.focusedCellPosition;\n  }\n  shouldRestoreFocus(cell) {\n    if (this.isCellRestoreFocused(cell)) {\n      setTimeout(() => {\n        this.restoredFocusedCellPosition = null;\n      }, 0);\n      return true;\n    }\n    return false;\n  }\n  clearRestoreFocus() {\n    this.restoredFocusedCellPosition = null;\n    this.awaitRestoreFocusedCell = false;\n  }\n  restoreFocusedCell(cellPosition, setFocusCallback) {\n    this.awaitRestoreFocusedCell = true;\n    setTimeout(() => {\n      if (!this.awaitRestoreFocusedCell) {\n        return;\n      }\n      this.setRestoreFocusedCell(cellPosition);\n      setFocusCallback();\n    });\n  }\n  isCellRestoreFocused(cellPosition) {\n    if (this.restoredFocusedCellPosition == null) {\n      return false;\n    }\n    return this.cellPositionUtils.equals(cellPosition, this.restoredFocusedCellPosition);\n  }\n  setRestoreFocusedCell(cellPosition) {\n    if (this.getFrameworkOverrides().renderingEngine === \"react\") {\n      this.restoredFocusedCellPosition = cellPosition;\n    }\n  }\n  getFocusEventParams(focusedCellPosition) {\n    const { rowIndex, rowPinned, column } = focusedCellPosition;\n    const params = {\n      rowIndex,\n      rowPinned,\n      column,\n      isFullWidthCell: false\n    };\n    const rowCtrl = this.rowRenderer.getRowByPosition({ rowIndex, rowPinned });\n    if (rowCtrl) {\n      params.isFullWidthCell = rowCtrl.isFullWidth();\n    }\n    return params;\n  }\n  clearFocusedCell() {\n    this.restoredFocusedCellPosition = null;\n    if (this.focusedCellPosition == null) {\n      return;\n    }\n    const focusEventParams = this.getFocusEventParams(this.focusedCellPosition);\n    this.focusedCellPosition = null;\n    this.eventService.dispatchEvent({\n      type: \"cellFocusCleared\",\n      ...focusEventParams\n    });\n  }\n  setFocusedCell(params) {\n    const { column, rowIndex, rowPinned, forceBrowserFocus = false, preventScrollOnBrowserFocus = false } = params;\n    const gridColumn = this.columnModel.getCol(column);\n    if (!gridColumn) {\n      this.focusedCellPosition = null;\n      return;\n    }\n    this.focusedCellPosition = {\n      rowIndex,\n      rowPinned: _makeNull(rowPinned),\n      column: gridColumn\n    };\n    this.eventService.dispatchEvent({\n      type: \"cellFocused\",\n      ...this.getFocusEventParams(this.focusedCellPosition),\n      forceBrowserFocus,\n      preventScrollOnBrowserFocus\n    });\n  }\n  isCellFocused(cellPosition) {\n    if (this.focusedCellPosition == null) {\n      return false;\n    }\n    return this.cellPositionUtils.equals(cellPosition, this.focusedCellPosition);\n  }\n  isRowNodeFocused(rowNode) {\n    return this.isRowFocused(rowNode.rowIndex, rowNode.rowPinned);\n  }\n  isHeaderWrapperFocused(headerCtrl) {\n    if (this.focusedHeaderPosition == null) {\n      return false;\n    }\n    const column = headerCtrl.getColumnGroupChild();\n    const headerRowIndex = headerCtrl.getRowIndex();\n    const pinned = headerCtrl.getPinned();\n    const { column: focusedColumn, headerRowIndex: focusedHeaderRowIndex } = this.focusedHeaderPosition;\n    return column === focusedColumn && headerRowIndex === focusedHeaderRowIndex && pinned == focusedColumn.getPinned();\n  }\n  clearFocusedHeader() {\n    this.focusedHeaderPosition = null;\n  }\n  getFocusedHeader() {\n    return this.focusedHeaderPosition;\n  }\n  setFocusedHeader(headerRowIndex, column) {\n    this.focusedHeaderPosition = { headerRowIndex, column };\n  }\n  isHeaderFocusSuppressed() {\n    return this.gos.get(\"suppressHeaderFocus\") || this.overlayService.isExclusive();\n  }\n  isCellFocusSuppressed() {\n    return this.gos.get(\"suppressCellFocus\") || this.overlayService.isExclusive();\n  }\n  focusHeaderPosition(params) {\n    if (this.isHeaderFocusSuppressed()) {\n      return false;\n    }\n    const { direction, fromTab, allowUserOverride, event, fromCell, rowWithoutSpanValue } = params;\n    let { headerPosition } = params;\n    if (fromCell && this.filterManager?.isAdvancedFilterHeaderActive()) {\n      return this.focusAdvancedFilter(headerPosition);\n    }\n    if (allowUserOverride) {\n      const currentPosition = this.getFocusedHeader();\n      const headerRowCount = this.headerNavigationService.getHeaderRowCount();\n      if (fromTab) {\n        const userFunc = this.gos.getCallback(\"tabToNextHeader\");\n        if (userFunc) {\n          headerPosition = this.getHeaderPositionFromUserFunc({\n            userFunc,\n            direction,\n            currentPosition,\n            headerPosition,\n            headerRowCount\n          });\n        }\n      } else {\n        const userFunc = this.gos.getCallback(\"navigateToNextHeader\");\n        if (userFunc && event) {\n          const params2 = {\n            key: event.key,\n            previousHeaderPosition: currentPosition,\n            nextHeaderPosition: headerPosition,\n            headerRowCount,\n            event\n          };\n          headerPosition = userFunc(params2);\n        }\n      }\n    }\n    if (!headerPosition) {\n      return false;\n    }\n    return this.focusProvidedHeaderPosition({\n      headerPosition,\n      direction,\n      event,\n      fromCell,\n      rowWithoutSpanValue\n    });\n  }\n  focusHeaderPositionFromUserFunc(params) {\n    if (this.isHeaderFocusSuppressed()) {\n      return false;\n    }\n    const { userFunc, headerPosition, direction, event } = params;\n    const currentPosition = this.getFocusedHeader();\n    const headerRowCount = this.headerNavigationService.getHeaderRowCount();\n    const newHeaderPosition = this.getHeaderPositionFromUserFunc({\n      userFunc,\n      direction,\n      currentPosition,\n      headerPosition,\n      headerRowCount\n    });\n    return !!newHeaderPosition && this.focusProvidedHeaderPosition({\n      headerPosition: newHeaderPosition,\n      direction,\n      event\n    });\n  }\n  getHeaderPositionFromUserFunc(params) {\n    const { userFunc, direction, currentPosition, headerPosition, headerRowCount } = params;\n    const userFuncParams = {\n      backwards: direction === \"Before\",\n      previousHeaderPosition: currentPosition,\n      nextHeaderPosition: headerPosition,\n      headerRowCount\n    };\n    const userResult = userFunc(userFuncParams);\n    if (userResult === true || userResult === null) {\n      if (userResult === null) {\n        _warnOnce(\n          \"Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour.\"\n        );\n      }\n      return currentPosition;\n    }\n    if (userResult === false) {\n      return null;\n    }\n    return userResult;\n  }\n  focusProvidedHeaderPosition(params) {\n    const { headerPosition, direction, fromCell, rowWithoutSpanValue, event } = params;\n    const { column, headerRowIndex } = headerPosition;\n    if (headerRowIndex === -1) {\n      if (this.filterManager?.isAdvancedFilterHeaderActive()) {\n        return this.focusAdvancedFilter(headerPosition);\n      }\n      return this.focusGridView(column);\n    }\n    this.headerNavigationService.scrollToColumn(column, direction);\n    const headerRowContainerCtrl = this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned());\n    const focusSuccess = headerRowContainerCtrl?.focusHeader(headerPosition.headerRowIndex, column, event) || false;\n    if (focusSuccess && (rowWithoutSpanValue != null || fromCell)) {\n      this.headerNavigationService.setCurrentHeaderRowWithoutSpan(rowWithoutSpanValue ?? -1);\n    }\n    return focusSuccess;\n  }\n  focusFirstHeader() {\n    if (this.overlayService.isExclusive() && this.focusOverlay()) {\n      return true;\n    }\n    let firstColumn = this.visibleColsService.getAllCols()[0];\n    if (!firstColumn) {\n      return false;\n    }\n    if (firstColumn.getParent()) {\n      firstColumn = this.visibleColsService.getColGroupAtLevel(firstColumn, 0);\n    }\n    const headerPosition = this.headerPositionUtils.getHeaderIndexToFocus(firstColumn, 0);\n    return this.focusHeaderPosition({\n      headerPosition,\n      rowWithoutSpanValue: 0\n    });\n  }\n  focusLastHeader(event) {\n    if (this.overlayService.isExclusive() && this.focusOverlay(true)) {\n      return true;\n    }\n    const headerRowIndex = this.headerNavigationService.getHeaderRowCount() - 1;\n    const column = _last(this.visibleColsService.getAllCols());\n    return this.focusHeaderPosition({\n      headerPosition: { headerRowIndex, column },\n      rowWithoutSpanValue: -1,\n      event\n    });\n  }\n  focusPreviousFromFirstCell(event) {\n    if (this.filterManager?.isAdvancedFilterHeaderActive()) {\n      return this.focusAdvancedFilter(null);\n    }\n    return this.focusLastHeader(event);\n  }\n  isAnyCellFocused() {\n    return !!this.focusedCellPosition;\n  }\n  isRowFocused(rowIndex, rowPinnedType) {\n    if (this.focusedCellPosition == null) {\n      return false;\n    }\n    return this.focusedCellPosition.rowIndex === rowIndex && this.focusedCellPosition.rowPinned === _makeNull(rowPinnedType);\n  }\n  findFocusableElements(rootNode, exclude, onlyUnmanaged = false) {\n    const focusableString = FOCUSABLE_SELECTOR;\n    let excludeString = FOCUSABLE_EXCLUDE;\n    if (exclude) {\n      excludeString += \", \" + exclude;\n    }\n    if (onlyUnmanaged) {\n      excludeString += ', [tabindex=\"-1\"]';\n    }\n    const nodes = Array.prototype.slice.apply(rootNode.querySelectorAll(focusableString)).filter((node) => {\n      return _isVisible(node);\n    });\n    const excludeNodes = Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));\n    if (!excludeNodes.length) {\n      return nodes;\n    }\n    const diff = (a, b) => a.filter((element) => b.indexOf(element) === -1);\n    return diff(nodes, excludeNodes);\n  }\n  focusInto(rootNode, up = false, onlyUnmanaged = false) {\n    const focusableElements = this.findFocusableElements(rootNode, null, onlyUnmanaged);\n    const toFocus = up ? _last(focusableElements) : focusableElements[0];\n    if (toFocus) {\n      toFocus.focus({ preventScroll: true });\n      return true;\n    }\n    return false;\n  }\n  findFocusableElementBeforeTabGuard(rootNode, referenceElement) {\n    if (!referenceElement) {\n      return null;\n    }\n    const focusableElements = this.findFocusableElements(rootNode);\n    const referenceIndex = focusableElements.indexOf(referenceElement);\n    if (referenceIndex === -1) {\n      return null;\n    }\n    let lastTabGuardIndex = -1;\n    for (let i = referenceIndex - 1; i >= 0; i--) {\n      if (focusableElements[i].classList.contains(\"ag-tab-guard-top\" /* TAB_GUARD_TOP */)) {\n        lastTabGuardIndex = i;\n        break;\n      }\n    }\n    if (lastTabGuardIndex <= 0) {\n      return null;\n    }\n    return focusableElements[lastTabGuardIndex - 1];\n  }\n  findNextFocusableElement(rootNode = this.eGridDiv, onlyManaged, backwards) {\n    const focusable = this.findFocusableElements(rootNode, onlyManaged ? ':not([tabindex=\"-1\"])' : null);\n    const activeEl = _getActiveDomElement(this.gos);\n    let currentIndex;\n    if (onlyManaged) {\n      currentIndex = focusable.findIndex((el) => el.contains(activeEl));\n    } else {\n      currentIndex = focusable.indexOf(activeEl);\n    }\n    const nextIndex = currentIndex + (backwards ? -1 : 1);\n    if (nextIndex < 0 || nextIndex >= focusable.length) {\n      return null;\n    }\n    return focusable[nextIndex];\n  }\n  isTargetUnderManagedComponent(rootNode, target) {\n    if (!target) {\n      return false;\n    }\n    const managedContainers = rootNode.querySelectorAll(`.${ManagedFocusFeature.FOCUS_MANAGED_CLASS}`);\n    if (!managedContainers.length) {\n      return false;\n    }\n    for (let i = 0; i < managedContainers.length; i++) {\n      if (managedContainers[i].contains(target)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  findTabbableParent(node, limit = 5) {\n    let counter = 0;\n    while (node && _getTabIndex(node) === null && ++counter <= limit) {\n      node = node.parentElement;\n    }\n    if (_getTabIndex(node) === null) {\n      return null;\n    }\n    return node;\n  }\n  focusOverlay(backwards) {\n    const overlayGui = this.overlayService.isVisible() && this.overlayService.getOverlayWrapper()?.getGui();\n    return !!overlayGui && this.focusInto(overlayGui, backwards);\n  }\n  focusGridViewFailed(backwards, canFocusOverlay) {\n    const overlayFocused = canFocusOverlay && this.focusOverlay(backwards);\n    return overlayFocused || backwards && this.focusLastHeader();\n  }\n  focusGridView(column, backwards = false, canFocusOverlay = true) {\n    if (this.overlayService.isExclusive()) {\n      return canFocusOverlay && this.focusOverlay(backwards);\n    }\n    if (this.isCellFocusSuppressed()) {\n      if (backwards) {\n        if (!this.isHeaderFocusSuppressed()) {\n          return this.focusLastHeader();\n        }\n      }\n      if (canFocusOverlay && this.focusOverlay(backwards)) {\n        return true;\n      }\n      return this.focusNextGridCoreContainer(false);\n    }\n    const nextRow = backwards ? this.rowPositionUtils.getLastRow() : this.rowPositionUtils.getFirstRow();\n    if (nextRow) {\n      const { rowIndex, rowPinned } = nextRow;\n      column ?? (column = this.getFocusedHeader()?.column);\n      if (column && rowIndex !== void 0 && rowIndex !== null) {\n        this.navigationService.ensureCellVisible({ rowIndex, column, rowPinned });\n        if (backwards) {\n          const rowCtrl = this.rowRenderer.getRowByPosition(nextRow);\n          if (rowCtrl?.isFullWidth() && this.navigationService.tryToFocusFullWidthRow(nextRow, backwards)) {\n            return true;\n          }\n        }\n        this.setFocusedCell({\n          rowIndex,\n          column,\n          rowPinned: _makeNull(rowPinned),\n          forceBrowserFocus: true\n        });\n        this.rangeService?.setRangeToCell({ rowIndex, rowPinned, column });\n        return true;\n      }\n    }\n    if (canFocusOverlay && this.focusOverlay(backwards)) {\n      return true;\n    }\n    if (backwards && this.focusLastHeader()) {\n      return true;\n    }\n    return false;\n  }\n  /** Returns true if an element inside the grid has focus */\n  isGridFocused() {\n    const activeEl = _getActiveDomElement(this.gos);\n    return !!activeEl && this.eGridDiv.contains(activeEl);\n  }\n  focusNextGridCoreContainer(backwards, forceOut = false) {\n    if (!forceOut && this.gridCtrl.focusNextInnerContainer(backwards)) {\n      return true;\n    }\n    if (forceOut || !backwards && !this.gridCtrl.isDetailGrid()) {\n      this.gridCtrl.forceFocusOutOfContainer(backwards);\n    }\n    return false;\n  }\n  focusAdvancedFilter(position) {\n    this.advancedFilterFocusColumn = position?.column;\n    return this.advancedFilterService?.getCtrl().focusHeaderComp() ?? false;\n  }\n  focusNextFromAdvancedFilter(backwards, forceFirstColumn) {\n    const column = (forceFirstColumn ? void 0 : this.advancedFilterFocusColumn) ?? this.visibleColsService.getAllCols()?.[0];\n    if (backwards) {\n      return this.focusHeaderPosition({\n        headerPosition: {\n          column,\n          headerRowIndex: this.headerNavigationService.getHeaderRowCount() - 1\n        }\n      });\n    } else {\n      return this.focusGridView(column);\n    }\n  }\n  clearAdvancedFilterColumn() {\n    this.advancedFilterFocusColumn = void 0;\n  }\n  addFocusableContainer(container) {\n    this.gridCtrl.addFocusableContainer(container);\n  }\n  removeFocusableContainer(container) {\n    this.gridCtrl.removeFocusableContainer(container);\n  }\n  focusGridInnerElement(fromBottom) {\n    return this.gridCtrl.focusInnerElement(fromBottom);\n  }\n  allowFocusForNextGridCoreContainer(up) {\n    this.gridCtrl.allowFocusForNextCoreContainer(up);\n  }\n};\n_FocusService.keyboardModeActive = false;\n_FocusService.instanceCount = 0;\nvar FocusService = _FocusService;\n\n// community-modules/core/src/gridBodyComp/pinnedWidthService.ts\nvar PinnedWidthService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pinnedWidthService\";\n  }\n  wireBeans(beans) {\n    this.visibleColsService = beans.visibleColsService;\n  }\n  postConstruct() {\n    const listener = this.checkContainerWidths.bind(this);\n    this.addManagedEventListeners({\n      displayedColumnsChanged: listener,\n      displayedColumnsWidthChanged: listener\n    });\n    this.addManagedPropertyListener(\"domLayout\", listener);\n  }\n  checkContainerWidths() {\n    const printLayout = _isDomLayout(this.gos, \"print\");\n    const newLeftWidth = printLayout ? 0 : this.visibleColsService.getColsLeftWidth();\n    const newRightWidth = printLayout ? 0 : this.visibleColsService.getDisplayedColumnsRightWidth();\n    if (newLeftWidth != this.leftWidth) {\n      this.leftWidth = newLeftWidth;\n      this.eventService.dispatchEvent({ type: \"leftPinnedWidthChanged\" });\n    }\n    if (newRightWidth != this.rightWidth) {\n      this.rightWidth = newRightWidth;\n      this.eventService.dispatchEvent({ type: \"rightPinnedWidthChanged\" });\n    }\n  }\n  getPinnedRightWidth() {\n    return this.rightWidth;\n  }\n  getPinnedLeftWidth() {\n    return this.leftWidth;\n  }\n};\n\n// community-modules/core/src/gridComp/gridCtrl.ts\nvar GridCtrl = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.additionalFocusableContainers = /* @__PURE__ */ new Set();\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n    this.focusService = beans.focusService;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  setComp(view, eGridDiv, eGui) {\n    this.view = view;\n    this.eGridHostDiv = eGridDiv;\n    this.eGui = eGui;\n    this.eGui.setAttribute(\"grid-id\", this.beans.context.getGridId());\n    const { dragAndDropService, mouseEventService, ctrlsService, resizeObserverService } = this.beans;\n    const dropTarget = {\n      getContainer: () => this.eGui,\n      isInterestedIn: (type) => type === 1 /* HeaderCell */ || type === 0 /* ToolPanel */,\n      getIconName: () => \"notAllowed\"\n    };\n    dragAndDropService.addDropTarget(dropTarget);\n    this.addDestroyFunc(() => dragAndDropService.removeDropTarget(dropTarget));\n    mouseEventService.stampTopLevelGridCompWithGridInstance(eGridDiv);\n    this.createManagedBean(new LayoutFeature(this.view));\n    this.view.setRtlClass(this.gos.get(\"enableRtl\") ? \"ag-rtl\" : \"ag-ltr\");\n    this.updateGridThemeClass();\n    this.addManagedEventListeners({ gridStylesChanged: this.handleThemeChange.bind(this) });\n    const unsubscribeFromResize = resizeObserverService.observeResize(\n      this.eGridHostDiv,\n      this.onGridSizeChanged.bind(this)\n    );\n    this.addDestroyFunc(() => unsubscribeFromResize());\n    ctrlsService.register(\"gridCtrl\", this);\n  }\n  isDetailGrid() {\n    const el = this.focusService.findTabbableParent(this.getGui());\n    return el?.getAttribute(\"row-id\")?.startsWith(\"detail\") || false;\n  }\n  getOptionalSelectors() {\n    const beans = this.beans;\n    return {\n      paginationSelector: beans.paginationService?.getPaginationSelector(),\n      gridHeaderDropZonesSelector: beans.columnDropZonesService?.getDropZoneSelector(),\n      sideBarSelector: beans.sideBarService?.getSideBarSelector(),\n      statusBarSelector: beans.statusBarService?.getStatusPanelSelector(),\n      watermarkSelector: beans.licenseManager?.getWatermarkSelector()\n    };\n  }\n  onGridSizeChanged() {\n    this.eventService.dispatchEvent({\n      type: \"gridSizeChanged\",\n      clientWidth: this.eGridHostDiv.clientWidth,\n      clientHeight: this.eGridHostDiv.clientHeight\n    });\n  }\n  destroyGridUi() {\n    this.view.destroyGridUi();\n  }\n  getGui() {\n    return this.eGui;\n  }\n  setResizeCursor(on) {\n    this.view.setCursor(on ? \"ew-resize\" : null);\n  }\n  disableUserSelect(on) {\n    this.view.setUserSelect(on ? \"none\" : null);\n  }\n  focusNextInnerContainer(backwards) {\n    const focusableContainers = this.getFocusableContainers();\n    const { indexWithFocus, nextIndex } = this.getNextFocusableIndex(focusableContainers, backwards);\n    if (nextIndex < 0 || nextIndex >= focusableContainers.length) {\n      return false;\n    }\n    if (nextIndex === 0) {\n      if (indexWithFocus > 0) {\n        const allColumns = this.visibleColsService.getAllCols();\n        const lastColumn = _last(allColumns);\n        if (this.focusService.focusGridView(lastColumn, true)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return this.focusContainer(focusableContainers[nextIndex], backwards);\n  }\n  focusInnerElement(fromBottom) {\n    const userCallbackFunction = this.gos.getCallback(\"focusGridInnerElement\");\n    if (userCallbackFunction && userCallbackFunction({ fromBottom: !!fromBottom })) {\n      return true;\n    }\n    const focusableContainers = this.getFocusableContainers();\n    const allColumns = this.visibleColsService.getAllCols();\n    if (fromBottom) {\n      if (focusableContainers.length > 1) {\n        return this.focusContainer(_last(focusableContainers), true);\n      }\n      const lastColumn = _last(allColumns);\n      if (this.focusService.focusGridView(lastColumn, true)) {\n        return true;\n      }\n    }\n    if (this.gos.get(\"headerHeight\") === 0 || this.focusService.isHeaderFocusSuppressed()) {\n      if (this.focusService.focusGridView(allColumns[0])) {\n        return true;\n      }\n      for (let i = 1; i < focusableContainers.length; i++) {\n        if (this.focusService.focusInto(focusableContainers[i].getGui())) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return this.focusService.focusFirstHeader();\n  }\n  forceFocusOutOfContainer(up = false) {\n    this.view.forceFocusOutOfContainer(up);\n  }\n  addFocusableContainer(container) {\n    this.additionalFocusableContainers.add(container);\n  }\n  removeFocusableContainer(container) {\n    this.additionalFocusableContainers.delete(container);\n  }\n  allowFocusForNextCoreContainer(up) {\n    const coreContainers = this.view.getFocusableContainers();\n    const { nextIndex, indexWithFocus } = this.getNextFocusableIndex(coreContainers, up);\n    if (indexWithFocus === -1 || nextIndex < 0 || nextIndex >= coreContainers.length) {\n      return;\n    }\n    const comp = coreContainers[nextIndex];\n    comp.setAllowFocus?.(true);\n    setTimeout(() => {\n      comp.setAllowFocus?.(false);\n    });\n  }\n  getNextFocusableIndex(focusableContainers, backwards) {\n    const activeEl = _getActiveDomElement(this.gos);\n    const indexWithFocus = focusableContainers.findIndex((container) => container.getGui().contains(activeEl));\n    const nextIndex = indexWithFocus + (backwards ? -1 : 1);\n    return {\n      indexWithFocus,\n      nextIndex\n    };\n  }\n  focusContainer(comp, up) {\n    comp.setAllowFocus?.(true);\n    const result = this.focusService.focusInto(comp.getGui(), up);\n    comp.setAllowFocus?.(false);\n    return result;\n  }\n  getFocusableContainers() {\n    return [...this.view.getFocusableContainers(), ...this.additionalFocusableContainers];\n  }\n  updateGridThemeClass() {\n    const gridThemeClass = this.beans.environment.getGridThemeClass();\n    if (gridThemeClass) {\n      this.view.setGridThemeClass(gridThemeClass);\n    }\n  }\n  handleThemeChange(e) {\n    if (e.themeChanged) {\n      this.updateGridThemeClass();\n    }\n  }\n  destroy() {\n    this.additionalFocusableContainers.clear();\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/gridComp/gridComp.ts\nvar GridComp = class extends TabGuardComp {\n  constructor(eGridDiv) {\n    super();\n    this.gridBody = RefPlaceholder;\n    this.sideBar = RefPlaceholder;\n    this.pagination = RefPlaceholder;\n    this.rootWrapperBody = RefPlaceholder;\n    this.eGridDiv = eGridDiv;\n  }\n  postConstruct() {\n    const compProxy = {\n      destroyGridUi: () => this.destroyBean(this),\n      setRtlClass: (cssClass) => this.addCssClass(cssClass),\n      setGridThemeClass: (cssClass) => this.addCssClass(cssClass),\n      forceFocusOutOfContainer: this.forceFocusOutOfContainer.bind(this),\n      updateLayoutClasses: this.updateLayoutClasses.bind(this),\n      getFocusableContainers: this.getFocusableContainers.bind(this),\n      setUserSelect: (value) => {\n        this.getGui().style.userSelect = value != null ? value : \"\";\n        this.getGui().style.webkitUserSelect = value != null ? value : \"\";\n      },\n      setCursor: (value) => {\n        this.getGui().style.cursor = value != null ? value : \"\";\n      }\n    };\n    const ctrl = this.createManagedBean(new GridCtrl());\n    const comps = ctrl.getOptionalSelectors();\n    const template = this.createTemplate(comps);\n    const requiredComps = [GridBodySelector, ...Object.values(comps).filter((c) => !!c)];\n    this.setTemplate(template, requiredComps);\n    ctrl.setComp(compProxy, this.eGridDiv, this.getGui());\n    this.insertGridIntoDom();\n    this.initialiseTabGuard({\n      // we want to override the default behaviour to do nothing for onTabKeyDown\n      onTabKeyDown: () => void 0,\n      focusInnerElement: (fromBottom) => ctrl.focusInnerElement(fromBottom),\n      forceFocusOutWhenTabGuardsAreEmpty: true\n    });\n  }\n  insertGridIntoDom() {\n    const eGui = this.getGui();\n    this.eGridDiv.appendChild(eGui);\n    this.addDestroyFunc(() => {\n      this.eGridDiv.removeChild(eGui);\n      if (this.gos.get(\"debug\")) {\n        _log(\"Grid removed from DOM\");\n      }\n    });\n  }\n  updateLayoutClasses(cssClass, params) {\n    const eRootWrapperBodyClassList = this.rootWrapperBody.classList;\n    eRootWrapperBodyClassList.toggle(\"ag-layout-auto-height\" /* AUTO_HEIGHT */, params.autoHeight);\n    eRootWrapperBodyClassList.toggle(\"ag-layout-normal\" /* NORMAL */, params.normal);\n    eRootWrapperBodyClassList.toggle(\"ag-layout-print\" /* PRINT */, params.print);\n    this.addOrRemoveCssClass(\"ag-layout-auto-height\" /* AUTO_HEIGHT */, params.autoHeight);\n    this.addOrRemoveCssClass(\"ag-layout-normal\" /* NORMAL */, params.normal);\n    this.addOrRemoveCssClass(\"ag-layout-print\" /* PRINT */, params.print);\n  }\n  createTemplate(params) {\n    const dropZones = params.gridHeaderDropZonesSelector ? \"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>\" : \"\";\n    const sideBar = params.sideBarSelector ? '<ag-side-bar data-ref=\"sideBar\"></ag-side-bar>' : \"\";\n    const statusBar = params.statusBarSelector ? \"<ag-status-bar></ag-status-bar>\" : \"\";\n    const watermark = params.watermarkSelector ? \"<ag-watermark></ag-watermark>\" : \"\";\n    const pagination = params.paginationSelector ? '<ag-pagination data-ref=\"pagination\"></ag-pagination>' : \"\";\n    const template = (\n      /* html */\n      `<div class=\"ag-root-wrapper\" role=\"presentation\">\n                ${dropZones}\n                <div class=\"ag-root-wrapper-body\" data-ref=\"rootWrapperBody\" role=\"presentation\">\n                    <ag-grid-body data-ref=\"gridBody\"></ag-grid-body>\n                    ${sideBar}\n                </div>\n                ${statusBar}\n                ${pagination}\n                ${watermark}\n            </div>`\n    );\n    return template;\n  }\n  getFocusableElement() {\n    return this.rootWrapperBody;\n  }\n  forceFocusOutOfContainer(up = false) {\n    if (!up && this.pagination?.isDisplayed()) {\n      this.pagination.forceFocusOutOfContainer(up);\n      return;\n    }\n    super.forceFocusOutOfContainer(up);\n  }\n  getFocusableContainers() {\n    const focusableContainers = [this.gridBody];\n    [this.sideBar, this.pagination].forEach((comp) => {\n      if (comp) {\n        focusableContainers.push(comp);\n      }\n    });\n    return focusableContainers.filter((el) => _isVisible(el.getGui()));\n  }\n};\n\n// community-modules/core/src/alignedGridsService.ts\nvar AlignedGridsService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"alignedGridsService\";\n    // flag to mark if we are consuming. to avoid cyclic events (ie other grid firing back to master\n    // while processing a master event) we mark this if consuming an event, and if we are, then\n    // we don't fire back any events.\n    this.consuming = false;\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnSizeService = beans.columnSizeService;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnApplyStateService = beans.columnApplyStateService;\n  }\n  getAlignedGridApis() {\n    let alignedGrids = this.gos.get(\"alignedGrids\") ?? [];\n    const isCallbackConfig = typeof alignedGrids === \"function\";\n    if (typeof alignedGrids === \"function\") {\n      alignedGrids = alignedGrids();\n    }\n    const seeUrl = () => `See ${this.getFrameworkOverrides().getDocLink(\"aligned-grids\")}`;\n    const apis = alignedGrids.map((alignedGrid) => {\n      if (!alignedGrid) {\n        _errorOnce(`alignedGrids contains an undefined option.`);\n        if (!isCallbackConfig) {\n          _errorOnce(`You may want to configure via a callback to avoid setup race conditions:\n                     \"alignedGrids: () => [linkedGrid]\"`);\n        }\n        _errorOnce(seeUrl());\n        return;\n      }\n      if (this.isGridApi(alignedGrid)) {\n        return alignedGrid;\n      }\n      const refOrComp = alignedGrid;\n      if (\"current\" in refOrComp) {\n        return refOrComp.current?.api;\n      }\n      if (!refOrComp.api) {\n        _errorOnce(\n          `alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${seeUrl()}`\n        );\n      }\n      return refOrComp.api;\n    }).filter((api) => !!api && !api.isDestroyed());\n    return apis;\n  }\n  isGridApi(ref) {\n    return !!ref && !!ref.dispatchEvent;\n  }\n  postConstruct() {\n    const fireColumnEvent = this.fireColumnEvent.bind(this);\n    this.addManagedEventListeners({\n      columnMoved: fireColumnEvent,\n      columnVisible: fireColumnEvent,\n      columnPinned: fireColumnEvent,\n      columnGroupOpened: fireColumnEvent,\n      columnResized: fireColumnEvent,\n      bodyScroll: this.fireScrollEvent.bind(this),\n      alignedGridColumn: ({ event }) => this.onColumnEvent(event),\n      alignedGridScroll: ({ event }) => this.onScrollEvent(event)\n    });\n  }\n  // common logic across all the fire methods\n  fireEvent(event) {\n    if (this.consuming) {\n      return;\n    }\n    this.getAlignedGridApis().forEach((api) => {\n      if (api.isDestroyed()) {\n        return;\n      }\n      api.dispatchEvent(event);\n    });\n  }\n  // common logic across all consume methods. very little common logic, however extracting\n  // guarantees consistency across the methods.\n  onEvent(callback) {\n    this.consuming = true;\n    callback();\n    this.consuming = false;\n  }\n  fireColumnEvent(columnEvent) {\n    this.fireEvent({\n      type: \"alignedGridColumn\",\n      event: columnEvent\n    });\n  }\n  fireScrollEvent(scrollEvent) {\n    if (scrollEvent.direction !== \"horizontal\") {\n      return;\n    }\n    this.fireEvent({\n      type: \"alignedGridScroll\",\n      event: scrollEvent\n    });\n  }\n  onScrollEvent(event) {\n    this.onEvent(() => {\n      const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n      gridBodyCon.getScrollFeature().setHorizontalScrollPosition(event.left, true);\n    });\n  }\n  extractDataFromEvent(event, func) {\n    const result = [];\n    if (event.columns) {\n      event.columns.forEach((column) => {\n        result.push(func(column));\n      });\n    } else if (event.column) {\n      result.push(func(event.column));\n    }\n    return result;\n  }\n  getMasterColumns(event) {\n    return this.extractDataFromEvent(event, (col) => col);\n  }\n  getColumnIds(event) {\n    return this.extractDataFromEvent(event, (col) => col.getColId());\n  }\n  onColumnEvent(event) {\n    this.onEvent(() => {\n      switch (event.type) {\n        case \"columnMoved\":\n        case \"columnVisible\":\n        case \"columnPinned\":\n        case \"columnResized\": {\n          this.processColumnEvent(event);\n          break;\n        }\n        case \"columnGroupOpened\": {\n          this.processGroupOpenedEvent(event);\n          break;\n        }\n        case \"columnPivotChanged\":\n          _warnOnce(\n            \"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.\"\n          );\n          break;\n      }\n    });\n  }\n  processGroupOpenedEvent(groupOpenedEvent) {\n    const { columnModel } = this;\n    groupOpenedEvent.columnGroups.forEach((masterGroup) => {\n      let otherColumnGroup = null;\n      if (masterGroup) {\n        otherColumnGroup = columnModel.getProvidedColGroup(masterGroup.getGroupId());\n      }\n      if (masterGroup && !otherColumnGroup) {\n        return;\n      }\n      columnModel.setColumnGroupOpened(otherColumnGroup, masterGroup.isExpanded(), \"alignedGridChanged\");\n    });\n  }\n  processColumnEvent(colEvent) {\n    const masterColumn = colEvent.column;\n    let otherColumn = null;\n    if (masterColumn) {\n      otherColumn = this.columnModel.getColDefCol(masterColumn.getColId());\n    }\n    if (masterColumn && !otherColumn) {\n      return;\n    }\n    const masterColumns = this.getMasterColumns(colEvent);\n    const { columnApplyStateService, columnSizeService, ctrlsService } = this;\n    switch (colEvent.type) {\n      case \"columnMoved\":\n        {\n          const srcColState = colEvent.api.getColumnState();\n          const destColState = srcColState.map((s) => ({ colId: s.colId }));\n          columnApplyStateService.applyColumnState(\n            { state: destColState, applyOrder: true },\n            \"alignedGridChanged\"\n          );\n        }\n        break;\n      case \"columnVisible\":\n        {\n          const srcColState = colEvent.api.getColumnState();\n          const destColState = srcColState.map((s) => ({ colId: s.colId, hide: s.hide }));\n          columnApplyStateService.applyColumnState({ state: destColState }, \"alignedGridChanged\");\n        }\n        break;\n      case \"columnPinned\":\n        {\n          const srcColState = colEvent.api.getColumnState();\n          const destColState = srcColState.map((s) => ({ colId: s.colId, pinned: s.pinned }));\n          columnApplyStateService.applyColumnState({ state: destColState }, \"alignedGridChanged\");\n        }\n        break;\n      case \"columnResized\": {\n        const resizedEvent = colEvent;\n        const columnWidths = {};\n        masterColumns.forEach((column) => {\n          columnWidths[column.getId()] = { key: column.getColId(), newWidth: column.getActualWidth() };\n        });\n        resizedEvent.flexColumns?.forEach((col) => {\n          if (columnWidths[col.getId()]) {\n            delete columnWidths[col.getId()];\n          }\n        });\n        columnSizeService.setColumnWidths(\n          Object.values(columnWidths),\n          false,\n          resizedEvent.finished,\n          \"alignedGridChanged\"\n        );\n        break;\n      }\n    }\n    const gridBodyCon = ctrlsService.getGridBodyCtrl();\n    const isVerticalScrollShowing = gridBodyCon.isVerticalScrollShowing();\n    this.getAlignedGridApis().forEach((api) => {\n      api.setGridOption(\"alwaysShowVerticalScroll\", isVerticalScrollShowing);\n    });\n  }\n};\n\n// community-modules/core/src/alignedGridsModule.ts\nvar AlignedGridsModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/aligned-grid\",\n  beans: [AlignedGridsService]\n});\n\n// community-modules/core/src/columns/columnApi.ts\nfunction getColumnDef(beans, key) {\n  const column = beans.columnModel.getColDefCol(key);\n  if (column) {\n    return column.getColDef();\n  }\n  return null;\n}\nfunction getColumnDefs(beans) {\n  return beans.columnModel.getColumnDefs();\n}\nfunction sizeColumnsToFit(beans, paramsOrGridWidth) {\n  if (typeof paramsOrGridWidth === \"number\") {\n    beans.columnSizeService.sizeColumnsToFit(paramsOrGridWidth, \"api\");\n  } else {\n    beans.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(paramsOrGridWidth);\n  }\n}\nfunction setColumnGroupOpened(beans, group, newValue) {\n  beans.columnModel.setColumnGroupOpened(group, newValue, \"api\");\n}\nfunction getColumnGroup(beans, name, instanceId) {\n  return beans.visibleColsService.getColumnGroup(name, instanceId);\n}\nfunction getProvidedColumnGroup(beans, name) {\n  return beans.columnModel.getProvidedColGroup(name);\n}\nfunction getDisplayNameForColumn(beans, column, location) {\n  return beans.columnNameService.getDisplayNameForColumn(column, location) || \"\";\n}\nfunction getDisplayNameForColumnGroup(beans, columnGroup, location) {\n  return beans.columnNameService.getDisplayNameForColumnGroup(columnGroup, location) || \"\";\n}\nfunction getColumn(beans, key) {\n  return beans.columnModel.getColDefCol(key);\n}\nfunction getColumns(beans) {\n  return beans.columnModel.getColDefCols();\n}\nfunction applyColumnState(beans, params) {\n  return beans.columnApplyStateService.applyColumnState(params, \"api\");\n}\nfunction getColumnState(beans) {\n  return beans.columnGetStateService.getColumnState();\n}\nfunction resetColumnState(beans) {\n  beans.columnApplyStateService.resetColumnState(\"api\");\n}\nfunction getColumnGroupState(beans) {\n  return beans.columnGroupStateService.getColumnGroupState();\n}\nfunction setColumnGroupState(beans, stateItems) {\n  beans.columnGroupStateService.setColumnGroupState(stateItems, \"api\");\n}\nfunction resetColumnGroupState(beans) {\n  beans.columnGroupStateService.resetColumnGroupState(\"api\");\n}\nfunction isPinning(beans) {\n  return beans.visibleColsService.isPinningLeft() || beans.visibleColsService.isPinningRight();\n}\nfunction isPinningLeft(beans) {\n  return beans.visibleColsService.isPinningLeft();\n}\nfunction isPinningRight(beans) {\n  return beans.visibleColsService.isPinningRight();\n}\nfunction getDisplayedColAfter(beans, col) {\n  return beans.visibleColsService.getColAfter(col);\n}\nfunction getDisplayedColBefore(beans, col) {\n  return beans.visibleColsService.getColBefore(col);\n}\nfunction setColumnVisible(beans, key, visible) {\n  beans.columnModel.setColsVisible([key], visible, \"api\");\n}\nfunction setColumnsVisible(beans, keys, visible) {\n  beans.columnModel.setColsVisible(keys, visible, \"api\");\n}\nfunction setColumnPinned(beans, key, pinned) {\n  beans.columnModel.setColsPinned([key], pinned, \"api\");\n}\nfunction setColumnsPinned(beans, keys, pinned) {\n  beans.columnModel.setColsPinned(keys, pinned, \"api\");\n}\nfunction getAllGridColumns(beans) {\n  return beans.columnModel.getCols();\n}\nfunction getDisplayedLeftColumns(beans) {\n  return beans.visibleColsService.getLeftCols();\n}\nfunction getDisplayedCenterColumns(beans) {\n  return beans.visibleColsService.getCenterCols();\n}\nfunction getDisplayedRightColumns(beans) {\n  return beans.visibleColsService.getRightCols();\n}\nfunction getAllDisplayedColumns(beans) {\n  return beans.visibleColsService.getAllCols();\n}\nfunction getAllDisplayedVirtualColumns(beans) {\n  return beans.columnViewportService.getViewportColumns();\n}\nfunction moveColumn(beans, key, toIndex) {\n  beans.columnMoveService.moveColumns([key], toIndex, \"api\");\n}\nfunction moveColumnByIndex(beans, fromIndex, toIndex) {\n  beans.columnMoveService.moveColumnByIndex(fromIndex, toIndex, \"api\");\n}\nfunction moveColumns(beans, columnsToMoveKeys, toIndex) {\n  beans.columnMoveService.moveColumns(columnsToMoveKeys, toIndex, \"api\");\n}\nfunction setColumnWidth(beans, key, newWidth, finished = true, source = \"api\") {\n  beans.columnSizeService.setColumnWidths([{ key, newWidth }], false, finished, source);\n}\nfunction setColumnWidths(beans, columnWidths, finished = true, source = \"api\") {\n  beans.columnSizeService.setColumnWidths(columnWidths, false, finished, source);\n}\nfunction getLeftDisplayedColumnGroups(beans) {\n  return beans.visibleColsService.getTreeLeft();\n}\nfunction getCenterDisplayedColumnGroups(beans) {\n  return beans.visibleColsService.getTreeCenter();\n}\nfunction getRightDisplayedColumnGroups(beans) {\n  return beans.visibleColsService.getTreeRight();\n}\nfunction getAllDisplayedColumnGroups(beans) {\n  return beans.visibleColsService.getAllTrees();\n}\nfunction autoSizeColumn(beans, key, skipHeader) {\n  return beans.columnAutosizeService.autoSizeCols({ colKeys: [key], skipHeader, source: \"api\" });\n}\nfunction autoSizeColumns(beans, keys, skipHeader) {\n  beans.columnAutosizeService.autoSizeCols({ colKeys: keys, skipHeader, source: \"api\" });\n}\nfunction autoSizeAllColumns(beans, skipHeader) {\n  beans.columnAutosizeService.autoSizeAllColumns(\"api\", skipHeader);\n}\n\n// community-modules/core/src/columns/dataTypeService.ts\nvar DataTypeService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"dataTypeService\";\n    this.dataTypeDefinitions = {};\n    this.isWaitingForRowData = false;\n    this.isColumnTypeOverrideInDataTypeDefinitions = false;\n    // keep track of any column state updates whilst waiting for data types to be inferred\n    this.columnStateUpdatesPendingInference = {};\n    this.columnStateUpdateListenerDestroyFuncs = [];\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.valueService = beans.valueService;\n    this.columnApplyStateService = beans.columnApplyStateService;\n    this.filterManager = beans.filterManager;\n  }\n  postConstruct() {\n    this.groupHideOpenParents = this.gos.get(\"groupHideOpenParents\");\n    this.addManagedPropertyListener(\"groupHideOpenParents\", () => {\n      this.groupHideOpenParents = this.gos.get(\"groupHideOpenParents\");\n    });\n    this.processDataTypeDefinitions();\n    this.addManagedPropertyListener(\"dataTypeDefinitions\", (event) => {\n      this.processDataTypeDefinitions();\n      this.columnModel.recreateColumnDefs(convertSourceType(event.source));\n    });\n  }\n  processDataTypeDefinitions() {\n    const defaultDataTypes = this.getDefaultDataTypes();\n    this.dataTypeDefinitions = {};\n    this.formatValueFuncs = {};\n    const generateFormatValueFunc = (dataTypeDefinition) => {\n      return (params) => {\n        const { column, node, value } = params;\n        let valueFormatter = column.getColDef().valueFormatter;\n        if (valueFormatter === dataTypeDefinition.groupSafeValueFormatter) {\n          valueFormatter = dataTypeDefinition.valueFormatter;\n        }\n        return this.valueService.formatValue(column, node, value, valueFormatter);\n      };\n    };\n    Object.entries(defaultDataTypes).forEach(([cellDataType, dataTypeDefinition]) => {\n      const mergedDataTypeDefinition = {\n        ...dataTypeDefinition,\n        groupSafeValueFormatter: this.createGroupSafeValueFormatter(dataTypeDefinition)\n      };\n      this.dataTypeDefinitions[cellDataType] = mergedDataTypeDefinition;\n      this.formatValueFuncs[cellDataType] = generateFormatValueFunc(mergedDataTypeDefinition);\n    });\n    const dataTypeDefinitions = this.gos.get(\"dataTypeDefinitions\") ?? {};\n    this.dataTypeMatchers = {};\n    Object.entries(dataTypeDefinitions).forEach(([cellDataType, dataTypeDefinition]) => {\n      const mergedDataTypeDefinition = this.processDataTypeDefinition(\n        dataTypeDefinition,\n        dataTypeDefinitions,\n        [cellDataType],\n        defaultDataTypes\n      );\n      if (mergedDataTypeDefinition) {\n        this.dataTypeDefinitions[cellDataType] = mergedDataTypeDefinition;\n        if (dataTypeDefinition.dataTypeMatcher) {\n          this.dataTypeMatchers[cellDataType] = dataTypeDefinition.dataTypeMatcher;\n        }\n        this.formatValueFuncs[cellDataType] = generateFormatValueFunc(mergedDataTypeDefinition);\n      }\n    });\n    this.checkObjectValueHandlers(defaultDataTypes);\n    [\"dateString\", \"text\", \"number\", \"boolean\", \"date\"].forEach((cellDataType) => {\n      const overriddenDataTypeMatcher = this.dataTypeMatchers[cellDataType];\n      if (overriddenDataTypeMatcher) {\n        delete this.dataTypeMatchers[cellDataType];\n      }\n      this.dataTypeMatchers[cellDataType] = overriddenDataTypeMatcher ?? defaultDataTypes[cellDataType].dataTypeMatcher;\n    });\n  }\n  mergeDataTypeDefinitions(parentDataTypeDefinition, childDataTypeDefinition) {\n    const mergedDataTypeDefinition = {\n      ...parentDataTypeDefinition,\n      ...childDataTypeDefinition\n    };\n    if (parentDataTypeDefinition.columnTypes && childDataTypeDefinition.columnTypes && childDataTypeDefinition.appendColumnTypes) {\n      mergedDataTypeDefinition.columnTypes = [\n        ...convertColumnTypes(parentDataTypeDefinition.columnTypes),\n        ...convertColumnTypes(childDataTypeDefinition.columnTypes)\n      ];\n    }\n    return mergedDataTypeDefinition;\n  }\n  processDataTypeDefinition(dataTypeDefinition, dataTypeDefinitions, alreadyProcessedDataTypes, defaultDataTypes) {\n    let mergedDataTypeDefinition;\n    const extendsCellDataType = dataTypeDefinition.extendsDataType;\n    if (dataTypeDefinition.columnTypes) {\n      this.isColumnTypeOverrideInDataTypeDefinitions = true;\n    }\n    if (dataTypeDefinition.extendsDataType === dataTypeDefinition.baseDataType) {\n      let baseDataTypeDefinition = defaultDataTypes[extendsCellDataType];\n      const overriddenBaseDataTypeDefinition = dataTypeDefinitions[extendsCellDataType];\n      if (baseDataTypeDefinition && overriddenBaseDataTypeDefinition) {\n        baseDataTypeDefinition = overriddenBaseDataTypeDefinition;\n      }\n      if (!this.validateDataTypeDefinition(dataTypeDefinition, baseDataTypeDefinition, extendsCellDataType)) {\n        return void 0;\n      }\n      mergedDataTypeDefinition = this.mergeDataTypeDefinitions(baseDataTypeDefinition, dataTypeDefinition);\n    } else {\n      if (alreadyProcessedDataTypes.includes(extendsCellDataType)) {\n        _warnOnce(\n          'Data type definition hierarchies (via the \"extendsDataType\" property) cannot contain circular references.'\n        );\n        return void 0;\n      }\n      const extendedDataTypeDefinition = dataTypeDefinitions[extendsCellDataType];\n      if (!this.validateDataTypeDefinition(dataTypeDefinition, extendedDataTypeDefinition, extendsCellDataType)) {\n        return void 0;\n      }\n      const mergedExtendedDataTypeDefinition = this.processDataTypeDefinition(\n        extendedDataTypeDefinition,\n        dataTypeDefinitions,\n        [...alreadyProcessedDataTypes, extendsCellDataType],\n        defaultDataTypes\n      );\n      if (!mergedExtendedDataTypeDefinition) {\n        return void 0;\n      }\n      mergedDataTypeDefinition = this.mergeDataTypeDefinitions(\n        mergedExtendedDataTypeDefinition,\n        dataTypeDefinition\n      );\n    }\n    return {\n      ...mergedDataTypeDefinition,\n      groupSafeValueFormatter: this.createGroupSafeValueFormatter(mergedDataTypeDefinition)\n    };\n  }\n  validateDataTypeDefinition(dataTypeDefinition, parentDataTypeDefinition, parentCellDataType) {\n    if (!parentDataTypeDefinition) {\n      _warnOnce(`The data type definition ${parentCellDataType} does not exist.`);\n      return false;\n    }\n    if (parentDataTypeDefinition.baseDataType !== dataTypeDefinition.baseDataType) {\n      _warnOnce('The \"baseDataType\" property of a data type definition must match that of its parent.');\n      return false;\n    }\n    return true;\n  }\n  createGroupSafeValueFormatter(dataTypeDefinition) {\n    if (!dataTypeDefinition.valueFormatter) {\n      return void 0;\n    }\n    return (params) => {\n      if (params.node?.group) {\n        const aggFunc = (params.colDef.pivotValueColumn ?? params.column).getAggFunc();\n        if (aggFunc) {\n          if (aggFunc === \"first\" || aggFunc === \"last\") {\n            return dataTypeDefinition.valueFormatter(params);\n          }\n          if (dataTypeDefinition.baseDataType === \"number\" && aggFunc !== \"count\") {\n            if (typeof params.value === \"number\") {\n              return dataTypeDefinition.valueFormatter(params);\n            }\n            if (typeof params.value === \"object\") {\n              if (!params.value) {\n                return void 0;\n              }\n              if (\"toNumber\" in params.value) {\n                return dataTypeDefinition.valueFormatter({\n                  ...params,\n                  value: params.value.toNumber()\n                });\n              }\n              if (\"value\" in params.value) {\n                return dataTypeDefinition.valueFormatter({\n                  ...params,\n                  value: params.value.value\n                });\n              }\n            }\n          }\n          return void 0;\n        }\n        if ((this.gos.get(\"suppressGroupMaintainValueType\") || this.gos.get(\"groupDisplayType\") === \"groupRows\") && !this.gos.get(\"treeData\")) {\n          return void 0;\n        }\n      } else if (this.groupHideOpenParents && params.column.isRowGroupActive()) {\n        if (typeof params.value === \"string\" && !dataTypeDefinition.dataTypeMatcher?.(params.value)) {\n          return void 0;\n        }\n      }\n      return dataTypeDefinition.valueFormatter(params);\n    };\n  }\n  updateColDefAndGetColumnType(colDef, userColDef, colId) {\n    let { cellDataType } = userColDef;\n    const { field } = userColDef;\n    if (cellDataType === void 0) {\n      cellDataType = colDef.cellDataType;\n    }\n    if (cellDataType == null || cellDataType === true) {\n      cellDataType = this.canInferCellDataType(colDef, userColDef) ? this.inferCellDataType(field, colId) : false;\n    }\n    if (!cellDataType) {\n      colDef.cellDataType = false;\n      return void 0;\n    }\n    const dataTypeDefinition = this.dataTypeDefinitions[cellDataType];\n    if (!dataTypeDefinition) {\n      _warnOnce(`Missing data type definition - \"${cellDataType}\"`);\n      return void 0;\n    }\n    colDef.cellDataType = cellDataType;\n    if (dataTypeDefinition.groupSafeValueFormatter) {\n      colDef.valueFormatter = dataTypeDefinition.groupSafeValueFormatter;\n    }\n    if (dataTypeDefinition.valueParser) {\n      colDef.valueParser = dataTypeDefinition.valueParser;\n    }\n    if (!dataTypeDefinition.suppressDefaultProperties) {\n      this.setColDefPropertiesForBaseDataType(colDef, cellDataType, dataTypeDefinition, colId);\n    }\n    return dataTypeDefinition.columnTypes;\n  }\n  addColumnListeners(column) {\n    if (!this.isWaitingForRowData) {\n      return;\n    }\n    const columnStateUpdates = this.columnStateUpdatesPendingInference[column.getColId()];\n    if (!columnStateUpdates) {\n      return;\n    }\n    const columnListener = (event) => {\n      columnStateUpdates.add(event.key);\n    };\n    column.addEventListener(\"columnStateUpdated\", columnListener);\n    this.columnStateUpdateListenerDestroyFuncs.push(\n      () => column.removeEventListener(\"columnStateUpdated\", columnListener)\n    );\n  }\n  canInferCellDataType(colDef, userColDef) {\n    if (!_isClientSideRowModel(this.gos)) {\n      return false;\n    }\n    const propsToCheckForInference = { cellRenderer: true, valueGetter: true, valueParser: true, refData: true };\n    if (this.doColDefPropsPreventInference(userColDef, propsToCheckForInference)) {\n      return false;\n    }\n    const columnTypes = userColDef.type === null ? colDef.type : userColDef.type;\n    if (columnTypes) {\n      const columnTypeDefs = this.gos.get(\"columnTypes\") ?? {};\n      const hasPropsPreventingInference = convertColumnTypes(columnTypes).some((columnType) => {\n        const columnTypeDef = columnTypeDefs[columnType.trim()];\n        return columnTypeDef && this.doColDefPropsPreventInference(columnTypeDef, propsToCheckForInference);\n      });\n      if (hasPropsPreventingInference) {\n        return false;\n      }\n    }\n    return !this.doColDefPropsPreventInference(colDef, propsToCheckForInference);\n  }\n  doColDefPropsPreventInference(colDef, propsToCheckForInference) {\n    return [\n      [\"cellRenderer\", \"agSparklineCellRenderer\"],\n      [\"valueGetter\", void 0],\n      [\"valueParser\", void 0],\n      [\"refData\", void 0]\n    ].some(\n      ([prop, comparisonValue]) => this.doesColDefPropPreventInference(colDef, propsToCheckForInference, prop, comparisonValue)\n    );\n  }\n  doesColDefPropPreventInference(colDef, checkProps, prop, comparisonValue) {\n    if (!checkProps[prop]) {\n      return false;\n    }\n    const value = colDef[prop];\n    if (value === null) {\n      checkProps[prop] = false;\n      return false;\n    } else {\n      return comparisonValue === void 0 ? !!value : value === comparisonValue;\n    }\n  }\n  inferCellDataType(field, colId) {\n    if (!field) {\n      return void 0;\n    }\n    let value;\n    const initialData = this.getInitialData();\n    if (initialData) {\n      const fieldContainsDots = field.indexOf(\".\") >= 0 && !this.gos.get(\"suppressFieldDotNotation\");\n      value = _getValueUsingField(initialData, field, fieldContainsDots);\n    } else {\n      this.initWaitForRowData(colId);\n    }\n    if (value == null) {\n      return void 0;\n    }\n    const [cellDataType] = Object.entries(this.dataTypeMatchers).find(\n      ([_cellDataType, dataTypeMatcher]) => dataTypeMatcher(value)\n    ) ?? [\"object\"];\n    return cellDataType;\n  }\n  getInitialData() {\n    const rowData = this.gos.get(\"rowData\");\n    if (rowData?.length) {\n      return rowData[0];\n    } else if (this.initialData) {\n      return this.initialData;\n    } else {\n      const rowNodes = this.rowModel.getRootNode().allLeafChildren;\n      if (rowNodes?.length) {\n        return rowNodes[0].data;\n      }\n    }\n    return null;\n  }\n  initWaitForRowData(colId) {\n    this.columnStateUpdatesPendingInference[colId] = /* @__PURE__ */ new Set();\n    if (this.isWaitingForRowData) {\n      return;\n    }\n    this.isWaitingForRowData = true;\n    const columnTypeOverridesExist = this.isColumnTypeOverrideInDataTypeDefinitions;\n    if (columnTypeOverridesExist) {\n      this.columnModel.queueResizeOperations();\n    }\n    const [destroyFunc] = this.addManagedEventListeners({\n      rowDataUpdateStarted: (event) => {\n        const { firstRowData } = event;\n        if (!firstRowData) {\n          return;\n        }\n        destroyFunc?.();\n        this.isWaitingForRowData = false;\n        this.processColumnsPendingInference(firstRowData, columnTypeOverridesExist);\n        this.columnStateUpdatesPendingInference = {};\n        if (columnTypeOverridesExist) {\n          this.columnModel.processResizeOperations();\n        }\n        this.eventService.dispatchEvent({\n          type: \"dataTypesInferred\"\n        });\n      }\n    });\n  }\n  isPendingInference() {\n    return this.isWaitingForRowData;\n  }\n  processColumnsPendingInference(firstRowData, columnTypeOverridesExist) {\n    this.initialData = firstRowData;\n    const state = [];\n    this.destroyColumnStateUpdateListeners();\n    const newRowGroupColumnStateWithoutIndex = {};\n    const newPivotColumnStateWithoutIndex = {};\n    Object.entries(this.columnStateUpdatesPendingInference).forEach(([colId, columnStateUpdates]) => {\n      const column = this.columnModel.getCol(colId);\n      if (!column) {\n        return;\n      }\n      const oldColDef = column.getColDef();\n      if (!this.columnModel.resetColDefIntoCol(column, \"cellDataTypeInferred\")) {\n        return;\n      }\n      const newColDef = column.getColDef();\n      if (columnTypeOverridesExist && newColDef.type && newColDef.type !== oldColDef.type) {\n        const updatedColumnState = this.getUpdatedColumnState(column, columnStateUpdates);\n        if (updatedColumnState.rowGroup && updatedColumnState.rowGroupIndex == null) {\n          newRowGroupColumnStateWithoutIndex[colId] = updatedColumnState;\n        }\n        if (updatedColumnState.pivot && updatedColumnState.pivotIndex == null) {\n          newPivotColumnStateWithoutIndex[colId] = updatedColumnState;\n        }\n        state.push(updatedColumnState);\n      }\n    });\n    if (columnTypeOverridesExist) {\n      state.push(\n        ...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(\n          newRowGroupColumnStateWithoutIndex,\n          newPivotColumnStateWithoutIndex\n        )\n      );\n    }\n    if (state.length) {\n      this.columnApplyStateService.applyColumnState({ state }, \"cellDataTypeInferred\");\n    }\n    this.initialData = null;\n  }\n  getUpdatedColumnState(column, columnStateUpdates) {\n    const columnState = this.columnApplyStateService.getColumnStateFromColDef(column);\n    columnStateUpdates.forEach((key) => {\n      delete columnState[key];\n      if (key === \"rowGroup\") {\n        delete columnState.rowGroupIndex;\n      } else if (key === \"pivot\") {\n        delete columnState.pivotIndex;\n      }\n    });\n    return columnState;\n  }\n  checkObjectValueHandlers(defaultDataTypes) {\n    const resolvedObjectDataTypeDefinition = this.dataTypeDefinitions.object;\n    const defaultObjectDataTypeDefinition = defaultDataTypes.object;\n    this.hasObjectValueParser = resolvedObjectDataTypeDefinition.valueParser !== defaultObjectDataTypeDefinition.valueParser;\n    this.hasObjectValueFormatter = resolvedObjectDataTypeDefinition.valueFormatter !== defaultObjectDataTypeDefinition.valueFormatter;\n  }\n  getDateStringTypeDefinition(column) {\n    if (!column) {\n      return this.dataTypeDefinitions.dateString;\n    }\n    return this.getDataTypeDefinition(column) ?? this.dataTypeDefinitions.dateString;\n  }\n  getDateParserFunction(column) {\n    return this.getDateStringTypeDefinition(column).dateParser;\n  }\n  getDateFormatterFunction(column) {\n    return this.getDateStringTypeDefinition(column).dateFormatter;\n  }\n  getDataTypeDefinition(column) {\n    const colDef = column.getColDef();\n    if (!colDef.cellDataType) {\n      return void 0;\n    }\n    return this.dataTypeDefinitions[colDef.cellDataType];\n  }\n  getBaseDataType(column) {\n    return this.getDataTypeDefinition(column)?.baseDataType;\n  }\n  checkType(column, value) {\n    if (value == null) {\n      return true;\n    }\n    const dataTypeMatcher = this.getDataTypeDefinition(column)?.dataTypeMatcher;\n    if (!dataTypeMatcher) {\n      return true;\n    }\n    return dataTypeMatcher(value);\n  }\n  validateColDef(colDef) {\n    const warning = (property) => _warnOnce(\n      `Cell data type is \"object\" but no Value ${property} has been provided. Please either provide an object data type definition with a Value ${property}, or set \"colDef.value${property}\"`\n    );\n    if (colDef.cellDataType === \"object\") {\n      if (colDef.valueFormatter === this.dataTypeDefinitions.object.groupSafeValueFormatter && !this.hasObjectValueFormatter) {\n        warning(\"Formatter\");\n      }\n      if (colDef.editable && colDef.valueParser === this.dataTypeDefinitions.object.valueParser && !this.hasObjectValueParser) {\n        warning(\"Parser\");\n      }\n    }\n  }\n  getFormatValue(cellDataType) {\n    return this.formatValueFuncs[cellDataType];\n  }\n  setColDefPropertiesForBaseDataType(colDef, cellDataType, dataTypeDefinition, colId) {\n    const formatValue = this.formatValueFuncs[cellDataType];\n    switch (dataTypeDefinition.baseDataType) {\n      case \"number\": {\n        colDef.cellEditor = \"agNumberCellEditor\";\n        break;\n      }\n      case \"boolean\": {\n        colDef.cellEditor = \"agCheckboxCellEditor\";\n        colDef.cellRenderer = \"agCheckboxCellRenderer\";\n        colDef.suppressKeyboardEvent = (params) => !!params.colDef.editable && params.event.key === KeyCode.SPACE;\n        break;\n      }\n      case \"date\": {\n        colDef.cellEditor = \"agDateCellEditor\";\n        colDef.keyCreator = formatValue;\n        break;\n      }\n      case \"dateString\": {\n        colDef.cellEditor = \"agDateStringCellEditor\";\n        colDef.keyCreator = formatValue;\n        break;\n      }\n      case \"object\": {\n        colDef.cellEditorParams = {\n          useFormatter: true\n        };\n        colDef.comparator = (a, b) => {\n          const column = this.columnModel.getColDefCol(colId);\n          const colDef2 = column?.getColDef();\n          if (!column || !colDef2) {\n            return 0;\n          }\n          const valA = a == null ? \"\" : formatValue({ column, node: null, value: a });\n          const valB = b == null ? \"\" : formatValue({ column, node: null, value: b });\n          if (valA === valB)\n            return 0;\n          return valA > valB ? 1 : -1;\n        };\n        colDef.keyCreator = formatValue;\n        break;\n      }\n    }\n    this.filterManager?.setColDefPropertiesForDataType(colDef, dataTypeDefinition, formatValue);\n  }\n  getDefaultDataTypes() {\n    const defaultDateFormatMatcher = (value) => !!value.match(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\");\n    const translate = this.localeService.getLocaleTextFunc();\n    return {\n      number: {\n        baseDataType: \"number\",\n        // can be empty space with legacy copy\n        valueParser: (params) => params.newValue?.trim?.() === \"\" ? null : Number(params.newValue),\n        valueFormatter: (params) => {\n          if (params.value == null) {\n            return \"\";\n          }\n          if (typeof params.value !== \"number\" || isNaN(params.value)) {\n            return translate(\"invalidNumber\", \"Invalid Number\");\n          }\n          return String(params.value);\n        },\n        dataTypeMatcher: (value) => typeof value === \"number\"\n      },\n      text: {\n        baseDataType: \"text\",\n        valueParser: (params) => params.newValue === \"\" ? null : _toStringOrNull(params.newValue),\n        dataTypeMatcher: (value) => typeof value === \"string\"\n      },\n      boolean: {\n        baseDataType: \"boolean\",\n        valueParser: (params) => {\n          if (params.newValue == null) {\n            return params.newValue;\n          }\n          return params.newValue?.trim?.() === \"\" ? null : String(params.newValue).toLowerCase() === \"true\";\n        },\n        valueFormatter: (params) => params.value == null ? \"\" : String(params.value),\n        dataTypeMatcher: (value) => typeof value === \"boolean\"\n      },\n      date: {\n        baseDataType: \"date\",\n        valueParser: (params) => _parseDateTimeFromString(params.newValue == null ? null : String(params.newValue)),\n        valueFormatter: (params) => {\n          if (params.value == null) {\n            return \"\";\n          }\n          if (!(params.value instanceof Date) || isNaN(params.value.getTime())) {\n            return translate(\"invalidDate\", \"Invalid Date\");\n          }\n          return _serialiseDate(params.value, false) ?? \"\";\n        },\n        dataTypeMatcher: (value) => value instanceof Date\n      },\n      dateString: {\n        baseDataType: \"dateString\",\n        dateParser: (value) => _parseDateTimeFromString(value) ?? void 0,\n        dateFormatter: (value) => _serialiseDate(value ?? null, false) ?? void 0,\n        valueParser: (params) => defaultDateFormatMatcher(String(params.newValue)) ? params.newValue : null,\n        valueFormatter: (params) => defaultDateFormatMatcher(String(params.value)) ? params.value : \"\",\n        dataTypeMatcher: (value) => typeof value === \"string\" && defaultDateFormatMatcher(value)\n      },\n      object: {\n        baseDataType: \"object\",\n        valueParser: () => null,\n        valueFormatter: (params) => _toStringOrNull(params.value) ?? \"\"\n      }\n    };\n  }\n  destroyColumnStateUpdateListeners() {\n    this.columnStateUpdateListenerDestroyFuncs.forEach((destroyFunc) => destroyFunc());\n    this.columnStateUpdateListenerDestroyFuncs = [];\n  }\n  destroy() {\n    this.dataTypeDefinitions = {};\n    this.dataTypeMatchers = {};\n    this.formatValueFuncs = {};\n    this.columnStateUpdatesPendingInference = {};\n    this.destroyColumnStateUpdateListeners();\n    super.destroy();\n  }\n};\n\n// community-modules/core/src/columns/columnModule.ts\nvar DataTypeModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/data-type\",\n  beans: [DataTypeService]\n});\nvar ColumnApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/column-api\",\n  apiFunctions: {\n    getColumnDef,\n    getColumnDefs,\n    sizeColumnsToFit,\n    setColumnGroupOpened,\n    getColumnGroup,\n    getProvidedColumnGroup,\n    getDisplayNameForColumn,\n    getDisplayNameForColumnGroup,\n    getColumn,\n    getColumns,\n    applyColumnState,\n    getColumnState,\n    resetColumnState,\n    getColumnGroupState,\n    setColumnGroupState,\n    resetColumnGroupState,\n    isPinning,\n    isPinningLeft,\n    isPinningRight,\n    getDisplayedColAfter,\n    getDisplayedColBefore,\n    setColumnVisible,\n    setColumnsVisible,\n    setColumnPinned,\n    setColumnsPinned,\n    getAllGridColumns,\n    getDisplayedLeftColumns,\n    getDisplayedCenterColumns,\n    getDisplayedRightColumns,\n    getAllDisplayedColumns,\n    getAllDisplayedVirtualColumns,\n    moveColumn,\n    moveColumnByIndex,\n    moveColumns,\n    setColumnWidth,\n    setColumnWidths,\n    getLeftDisplayedColumnGroups,\n    getCenterDisplayedColumnGroups,\n    getRightDisplayedColumnGroups,\n    getAllDisplayedColumnGroups,\n    autoSizeColumn,\n    autoSizeColumns,\n    autoSizeAllColumns\n  }\n});\n\n// community-modules/core/src/dragAndDrop/dragApi.ts\nfunction addRowDropZone(beans, params) {\n  beans.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(params);\n}\nfunction removeRowDropZone(beans, params) {\n  const activeDropTarget = beans.dragAndDropService.findExternalZone(params);\n  if (activeDropTarget) {\n    beans.dragAndDropService.removeDropTarget(activeDropTarget);\n  }\n}\nfunction getRowDropZoneParams(beans, events) {\n  return beans.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(events);\n}\n\n// community-modules/core/src/dragAndDrop/dragModule.ts\nvar DragApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/drag-api\",\n  apiFunctions: {\n    addRowDropZone,\n    removeRowDropZone,\n    getRowDropZoneParams\n  }\n});\n\n// community-modules/core/src/pinnedRowModel/pinnedRowApi.ts\nfunction getPinnedTopRowCount(beans) {\n  return beans.pinnedRowModel.getPinnedTopRowCount();\n}\nfunction getPinnedBottomRowCount(beans) {\n  return beans.pinnedRowModel.getPinnedBottomRowCount();\n}\nfunction getPinnedTopRow(beans, index) {\n  return beans.pinnedRowModel.getPinnedTopRow(index);\n}\nfunction getPinnedBottomRow(beans, index) {\n  return beans.pinnedRowModel.getPinnedBottomRow(index);\n}\n\n// community-modules/core/src/pinnedRowModel/pinnedRowModule.ts\nvar PinnedRowApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/pinned-row-api\",\n  apiFunctions: {\n    getPinnedTopRowCount,\n    getPinnedBottomRowCount,\n    getPinnedTopRow,\n    getPinnedBottomRow\n  }\n});\n\n// community-modules/core/src/rendering/overlays/overlayApi.ts\nfunction showLoadingOverlay(beans) {\n  beans.overlayService.showLoadingOverlay();\n}\nfunction showNoRowsOverlay(beans) {\n  beans.overlayService.showNoRowsOverlay();\n}\nfunction hideOverlay(beans) {\n  beans.overlayService.hideOverlay();\n}\n\n// community-modules/core/src/rendering/overlays/overlayModule.ts\nvar OverlayApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/overlay-api\",\n  apiFunctions: {\n    showLoadingOverlay,\n    showNoRowsOverlay,\n    hideOverlay\n  }\n});\n\n// community-modules/core/src/rendering/renderApi.ts\nfunction setGridAriaProperty(beans, property, value) {\n  if (!property) {\n    return;\n  }\n  const eGrid = beans.ctrlsService.getGridBodyCtrl().getGui();\n  const ariaProperty = `aria-${property}`;\n  if (value === null) {\n    eGrid.removeAttribute(ariaProperty);\n  } else {\n    eGrid.setAttribute(ariaProperty, value);\n  }\n}\nfunction refreshCells(beans, params = {}) {\n  beans.frameworkOverrides.wrapIncoming(() => beans.rowRenderer.refreshCells(params));\n}\nfunction flashCells(beans, params = {}) {\n  const warning = (prop) => _warnOnce(\n    `Since v31.1 api.flashCells parameter '${prop}Delay' is deprecated. Please use '${prop}Duration' instead.`\n  );\n  if (_exists(params.fadeDelay)) {\n    warning(\"fade\");\n  }\n  if (_exists(params.flashDelay)) {\n    warning(\"flash\");\n  }\n  beans.frameworkOverrides.wrapIncoming(() => beans.rowRenderer.flashCells(params));\n}\nfunction refreshHeader(beans) {\n  beans.frameworkOverrides.wrapIncoming(\n    () => beans.ctrlsService.getHeaderRowContainerCtrls().forEach((c) => c.refresh())\n  );\n}\nfunction isAnimationFrameQueueEmpty(beans) {\n  return beans.animationFrameService.isQueueEmpty();\n}\nfunction flushAllAnimationFrames(beans) {\n  beans.animationFrameService.flushAllFrames();\n}\nfunction getSizesForCurrentTheme(beans) {\n  return {\n    rowHeight: _getRowHeightAsNumber(beans.gos),\n    headerHeight: beans.columnModel.getHeaderHeight()\n  };\n}\nfunction getCellRendererInstances(beans, params = {}) {\n  const res = beans.rowRenderer.getCellRendererInstances(params);\n  const unwrapped = res.map(_unwrapUserComp);\n  return unwrapped;\n}\n\n// community-modules/core/src/rendering/renderModule.ts\nvar RenderApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/render-api\",\n  apiFunctions: {\n    setGridAriaProperty,\n    refreshCells,\n    flashCells,\n    refreshHeader,\n    isAnimationFrameQueueEmpty,\n    flushAllAnimationFrames,\n    getSizesForCurrentTheme,\n    getCellRendererInstances\n  }\n});\n\n// community-modules/core/src/api/cellApi.ts\nfunction expireValueCache(beans) {\n  beans.valueCache.expire();\n}\nfunction getValue(beans, colKey, rowNode) {\n  return getCellValue(beans, { colKey, rowNode });\n}\nfunction getCellValue(beans, params) {\n  const { colKey, rowNode, useFormatter } = params;\n  const column = beans.columnModel.getColDefCol(colKey) ?? beans.columnModel.getCol(colKey);\n  if (_missing(column)) {\n    return null;\n  }\n  const value = beans.valueService.getValueForDisplay(column, rowNode);\n  if (useFormatter) {\n    const formattedValue = beans.valueService.formatValue(column, rowNode, value);\n    return formattedValue ?? _escapeString(value, true);\n  }\n  return value;\n}\n\n// community-modules/core/src/api/coreApi.ts\nfunction getGridId(beans) {\n  return beans.context.getGridId();\n}\nfunction destroy(beans) {\n  beans.gridDestroyService.destroy();\n}\nfunction isDestroyed(beans) {\n  return beans.gridDestroyService.isDestroyCalled();\n}\nfunction getGridOption(beans, key) {\n  return beans.gos.get(key);\n}\nfunction setGridOption(beans, key, value) {\n  updateGridOptions(beans, { [key]: value });\n}\nfunction updateGridOptions(beans, options) {\n  beans.gos.updateGridOptions({ options });\n}\n\n// community-modules/core/src/api/eventApi.ts\nfunction addEventListener(beans, eventType, listener) {\n  beans.apiEventService.addEventListener(eventType, listener);\n}\nfunction removeEventListener(beans, eventType, listener) {\n  beans.apiEventService.removeEventListener(eventType, listener);\n}\nfunction addGlobalListener(beans, listener) {\n  beans.apiEventService.addGlobalListener(listener);\n}\nfunction removeGlobalListener(beans, listener) {\n  beans.apiEventService.removeGlobalListener(listener);\n}\n\n// community-modules/core/src/api/keyboardNavigationApi.ts\nfunction getFocusedCell(beans) {\n  return beans.focusService.getFocusedCell();\n}\nfunction clearFocusedCell(beans) {\n  return beans.focusService.clearFocusedCell();\n}\nfunction setFocusedCell(beans, rowIndex, colKey, rowPinned) {\n  beans.focusService.setFocusedCell({ rowIndex, column: colKey, rowPinned, forceBrowserFocus: true });\n}\nfunction tabToNextCell(beans, event) {\n  return beans.navigationService.tabToNextCell(false, event);\n}\nfunction tabToPreviousCell(beans, event) {\n  return beans.navigationService.tabToNextCell(true, event);\n}\nfunction setFocusedHeader(beans, colKey, floatingFilter = false) {\n  const headerPosition = beans.headerNavigationService.getHeaderPositionForColumn(colKey, floatingFilter);\n  if (!headerPosition) {\n    return;\n  }\n  beans.focusService.focusHeaderPosition({ headerPosition });\n}\n\n// community-modules/core/src/api/menuApi.ts\nfunction showColumnMenuAfterButtonClick(beans, colKey, buttonElement) {\n  const column = beans.columnModel.getCol(colKey);\n  beans.menuService.showColumnMenu({\n    column,\n    buttonElement,\n    positionBy: \"button\"\n  });\n}\nfunction showColumnMenuAfterMouseClick(beans, colKey, mouseEvent) {\n  let column = beans.columnModel.getCol(colKey);\n  if (!column) {\n    column = beans.columnModel.getColDefCol(colKey);\n  }\n  if (!column) {\n    _errorOnce(`column '${colKey}' not found`);\n    return;\n  }\n  beans.menuService.showColumnMenu({\n    column,\n    mouseEvent,\n    positionBy: \"mouse\"\n  });\n}\nfunction showColumnMenu(beans, colKey) {\n  const column = beans.columnModel.getCol(colKey);\n  if (!column) {\n    _errorOnce(`column '${colKey}' not found`);\n    return;\n  }\n  beans.menuService.showColumnMenu({\n    column,\n    positionBy: \"auto\"\n  });\n}\nfunction hidePopupMenu(beans) {\n  beans.menuService.hidePopupMenu();\n}\n\n// community-modules/core/src/api/rowApi.ts\nfunction redrawRows(beans, params = {}) {\n  const rowNodes = params ? params.rowNodes : void 0;\n  beans.frameworkOverrides.wrapIncoming(() => beans.rowRenderer.redrawRows(rowNodes));\n}\nfunction setRowNodeExpanded(beans, rowNode, expanded, expandParents, forceSync) {\n  beans.expansionService.setRowNodeExpanded(rowNode, expanded, expandParents, forceSync);\n}\nfunction getRowNode(beans, id) {\n  return beans.rowModel.getRowNode(id);\n}\nfunction addRenderedRowListener(beans, eventName, rowIndex, callback) {\n  beans.rowRenderer.addRenderedRowListener(eventName, rowIndex, callback);\n}\nfunction getRenderedNodes(beans) {\n  return beans.rowRenderer.getRenderedNodes();\n}\nfunction forEachNode(beans, callback, includeFooterNodes) {\n  beans.rowModel.forEachNode(callback, includeFooterNodes);\n}\nfunction getFirstDisplayedRow(beans) {\n  return getFirstDisplayedRowIndex(beans);\n}\nfunction getFirstDisplayedRowIndex(beans) {\n  return beans.rowRenderer.getFirstVirtualRenderedRow();\n}\nfunction getLastDisplayedRow(beans) {\n  return getLastDisplayedRowIndex(beans);\n}\nfunction getLastDisplayedRowIndex(beans) {\n  return beans.rowRenderer.getLastVirtualRenderedRow();\n}\nfunction getDisplayedRowAtIndex(beans, index) {\n  return beans.rowModel.getRow(index);\n}\nfunction getDisplayedRowCount(beans) {\n  return beans.rowModel.getRowCount();\n}\nfunction getModel(beans) {\n  return beans.rowModel;\n}\n\n// community-modules/core/src/api/rowSelectionApi.ts\nfunction setNodesSelected(beans, params) {\n  const allNodesValid = params.nodes.every((node) => {\n    if (node.rowPinned) {\n      _warnOnce(\"cannot select pinned rows\");\n      return false;\n    }\n    if (node.id === void 0) {\n      _warnOnce(\"cannot select node until id for node is known\");\n      return false;\n    }\n    return true;\n  });\n  if (!allNodesValid) {\n    return;\n  }\n  const { nodes, source, newValue } = params;\n  const nodesAsRowNode = nodes;\n  beans.selectionService.setNodesSelected({ nodes: nodesAsRowNode, source: source ?? \"api\", newValue });\n}\nfunction selectAll(beans, source = \"apiSelectAll\") {\n  beans.selectionService.selectAllRowNodes({ source });\n}\nfunction deselectAll(beans, source = \"apiSelectAll\") {\n  beans.selectionService.deselectAllRowNodes({ source });\n}\nfunction selectAllFiltered(beans, source = \"apiSelectAllFiltered\") {\n  beans.selectionService.selectAllRowNodes({ source, justFiltered: true });\n}\nfunction deselectAllFiltered(beans, source = \"apiSelectAllFiltered\") {\n  beans.selectionService.deselectAllRowNodes({ source, justFiltered: true });\n}\nfunction selectAllOnCurrentPage(beans, source = \"apiSelectAllCurrentPage\") {\n  beans.selectionService.selectAllRowNodes({ source, justCurrentPage: true });\n}\nfunction deselectAllOnCurrentPage(beans, source = \"apiSelectAllCurrentPage\") {\n  beans.selectionService.deselectAllRowNodes({ source, justCurrentPage: true });\n}\nfunction getSelectedNodes(beans) {\n  return beans.selectionService.getSelectedNodes();\n}\nfunction getSelectedRows(beans) {\n  return beans.selectionService.getSelectedRows();\n}\n\n// community-modules/core/src/api/sortApi.ts\nfunction onSortChanged(beans) {\n  beans.sortController.onSortChanged(\"api\");\n}\n\n// community-modules/core/src/api/apiModule.ts\nvar CoreApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/core-api\",\n  apiFunctions: {\n    getGridId,\n    destroy,\n    isDestroyed,\n    getGridOption,\n    setGridOption,\n    updateGridOptions\n  }\n});\nvar RowSelectionApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/row-selection-api\",\n  apiFunctions: {\n    setNodesSelected,\n    selectAll,\n    deselectAll,\n    selectAllFiltered,\n    deselectAllFiltered,\n    selectAllOnCurrentPage,\n    deselectAllOnCurrentPage,\n    getSelectedNodes,\n    getSelectedRows\n  }\n});\nvar RowApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/row-api\",\n  apiFunctions: {\n    redrawRows,\n    setRowNodeExpanded,\n    getRowNode,\n    addRenderedRowListener,\n    getRenderedNodes,\n    forEachNode,\n    getFirstDisplayedRow,\n    getFirstDisplayedRowIndex,\n    getLastDisplayedRow,\n    getLastDisplayedRowIndex,\n    getDisplayedRowAtIndex,\n    getDisplayedRowCount,\n    getModel\n  }\n});\nvar ScrollApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/scroll-api\",\n  apiFunctions: {\n    getVerticalPixelRange,\n    getHorizontalPixelRange,\n    ensureColumnVisible,\n    ensureIndexVisible,\n    ensureNodeVisible\n  }\n});\nvar KeyboardNavigationApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/keyboard-navigation-api\",\n  apiFunctions: {\n    getFocusedCell,\n    clearFocusedCell,\n    setFocusedCell,\n    setFocusedHeader,\n    tabToNextCell,\n    tabToPreviousCell\n  }\n});\nvar EventApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/event-api\",\n  apiFunctions: {\n    addEventListener,\n    addGlobalListener,\n    removeEventListener,\n    removeGlobalListener\n  }\n});\nvar CellApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/cell-api\",\n  apiFunctions: {\n    expireValueCache,\n    getValue,\n    getCellValue\n  }\n});\nvar CommunityMenuApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/menu-api\",\n  apiFunctions: {\n    showColumnMenuAfterButtonClick,\n    showColumnMenuAfterMouseClick,\n    showColumnMenu,\n    hidePopupMenu\n  }\n});\nvar SortApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/sort-api\",\n  apiFunctions: {\n    onSortChanged\n  }\n});\nvar CommunityApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/api\",\n  dependantModules: [\n    CoreApiModule,\n    PinnedRowApiModule,\n    RowSelectionApiModule,\n    ColumnApiModule,\n    RowApiModule,\n    DragApiModule,\n    ScrollApiModule,\n    OverlayApiModule,\n    KeyboardNavigationApiModule,\n    EventApiModule,\n    RenderApiModule,\n    CellApiModule,\n    CommunityMenuApiModule,\n    SortApiModule\n  ]\n});\n\n// community-modules/core/src/misc/state/stateApi.ts\nfunction getState(beans) {\n  return beans.stateService?.getState() ?? {};\n}\n\n// community-modules/core/src/misc/state/stateModelMigration.ts\nfunction migrateGridStateModel(state) {\n  state = { ...state };\n  if (!state.version) {\n    state.version = \"32.1.0\";\n  }\n  switch (state.version) {\n    case \"32.1.0\":\n      state = migrateV32_1(state);\n  }\n  return state;\n}\nfunction migrateV32_1(state) {\n  state.cellSelection = jsonGet(state, \"rangeSelection\");\n  return state;\n}\nfunction jsonGet(json, key) {\n  if (json && typeof json === \"object\") {\n    return json[key];\n  }\n}\n\n// community-modules/core/src/misc/state/stateService.ts\nvar StateService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"stateService\";\n    this.suppressEvents = true;\n    this.queuedUpdateSources = /* @__PURE__ */ new Set();\n    this.dispatchStateUpdateEventDebounced = _debounce(() => this.dispatchQueuedStateUpdateEvents(), 0);\n    // If user is doing a manual expand all node by node, we don't want to process one at a time.\n    // EVENT_ROW_GROUP_OPENED is already async, so no impact of making the state async here.\n    this.onRowGroupOpenedDebounced = _debounce(\n      () => this.updateCachedState(\"rowGroupExpansion\", this.getRowGroupExpansionState()),\n      0\n    );\n    // similar to row expansion, want to debounce. However, selection is synchronous, so need to mark as stale in case `getState` is called.\n    this.onRowSelectedDebounced = _debounce(() => {\n      this.staleStateKeys.delete(\"rowSelection\");\n      this.updateCachedState(\"rowSelection\", this.getRowSelectionState());\n    }, 0);\n    this.staleStateKeys = /* @__PURE__ */ new Set();\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n    this.ctrlsService = beans.ctrlsService;\n    this.pivotResultColsService = beans.pivotResultColsService;\n    this.focusService = beans.focusService;\n    this.columnModel = beans.columnModel;\n    this.visibleColsService = beans.visibleColsService;\n    this.columnGroupStateService = beans.columnGroupStateService;\n    this.columnGetStateService = beans.columnGetStateService;\n    this.paginationService = beans.paginationService;\n    this.selectionService = beans.selectionService;\n    this.expansionService = beans.expansionService;\n    this.columnAnimationService = beans.columnAnimationService;\n    this.columnApplyStateService = beans.columnApplyStateService;\n    this.sideBarService = beans.sideBarService;\n    this.rangeService = beans.rangeService;\n  }\n  postConstruct() {\n    this.isClientSideRowModel = _isClientSideRowModel(this.gos);\n    this.cachedState = this.getInitialState();\n    this.setCachedStateValue(\"version\", VERSION);\n    this.ctrlsService.whenReady(\n      this,\n      () => this.suppressEventsAndDispatchInitEvent(() => this.setupStateOnGridReady())\n    );\n    const [newColumnsLoadedDestroyFunc, rowCountReadyDestroyFunc, firstDataRenderedDestroyFunc] = this.addManagedEventListeners({\n      newColumnsLoaded: ({ source }) => {\n        if (source === \"gridInitializing\") {\n          newColumnsLoadedDestroyFunc();\n          this.suppressEventsAndDispatchInitEvent(() => this.setupStateOnColumnsInitialised());\n        }\n      },\n      rowCountReady: () => {\n        rowCountReadyDestroyFunc?.();\n        this.suppressEventsAndDispatchInitEvent(() => this.setupStateOnRowCountReady());\n      },\n      firstDataRendered: () => {\n        firstDataRenderedDestroyFunc?.();\n        this.suppressEventsAndDispatchInitEvent(() => this.setupStateOnFirstDataRendered());\n      }\n    });\n  }\n  getInitialState() {\n    return migrateGridStateModel(this.gos.get(\"initialState\") ?? {});\n  }\n  getState() {\n    if (this.staleStateKeys.size) {\n      this.refreshStaleState();\n    }\n    return this.cachedState;\n  }\n  setupStateOnGridReady() {\n    this.updateCachedState(\"sideBar\", this.getSideBarState());\n    const stateUpdater = () => this.updateCachedState(\"sideBar\", this.getSideBarState());\n    this.addManagedEventListeners({\n      toolPanelVisibleChanged: stateUpdater,\n      sideBarUpdated: stateUpdater\n    });\n  }\n  setupStateOnColumnsInitialised() {\n    const initialState = this.getInitialState();\n    this.setColumnState(initialState);\n    this.setColumnGroupState(initialState);\n    this.updateColumnState([\n      \"aggregation\",\n      \"columnOrder\",\n      \"columnPinning\",\n      \"columnSizing\",\n      \"columnVisibility\",\n      \"pivot\",\n      \"pivot\",\n      \"rowGroup\",\n      \"sort\"\n    ]);\n    this.updateCachedState(\"columnGroup\", this.getColumnGroupState());\n    const onUpdate = (state) => () => this.updateColumnState([state]);\n    this.addManagedEventListeners({\n      columnValueChanged: onUpdate(\"aggregation\"),\n      columnMoved: onUpdate(\"columnOrder\"),\n      columnPinned: onUpdate(\"columnPinning\"),\n      columnResized: onUpdate(\"columnSizing\"),\n      columnVisible: onUpdate(\"columnVisibility\"),\n      columnPivotChanged: onUpdate(\"pivot\"),\n      columnPivotModeChanged: onUpdate(\"pivot\"),\n      columnRowGroupChanged: onUpdate(\"rowGroup\"),\n      sortChanged: onUpdate(\"sort\"),\n      newColumnsLoaded: () => this.updateColumnState([\n        \"aggregation\",\n        \"columnOrder\",\n        \"columnPinning\",\n        \"columnSizing\",\n        \"columnVisibility\",\n        \"pivot\",\n        \"rowGroup\",\n        \"sort\"\n      ]),\n      columnGroupOpened: () => this.updateCachedState(\"columnGroup\", this.getColumnGroupState())\n    });\n  }\n  setupStateOnRowCountReady() {\n    const {\n      filter: filterState,\n      rowGroupExpansion: rowGroupExpansionState,\n      rowSelection: rowSelectionState,\n      pagination: paginationState\n    } = this.getInitialState();\n    const advancedFilterModel = this.gos.get(\"advancedFilterModel\");\n    if (filterState || advancedFilterModel) {\n      this.setFilterState(filterState, advancedFilterModel);\n    }\n    if (rowGroupExpansionState) {\n      this.setRowGroupExpansionState(rowGroupExpansionState);\n    }\n    if (rowSelectionState) {\n      this.setRowSelectionState(rowSelectionState);\n    }\n    if (paginationState) {\n      this.setPaginationState(paginationState);\n    }\n    this.updateCachedState(\"filter\", this.getFilterState());\n    this.updateCachedState(\"rowGroupExpansion\", this.getRowGroupExpansionState());\n    this.updateCachedState(\"rowSelection\", this.getRowSelectionState());\n    this.updateCachedState(\"pagination\", this.getPaginationState());\n    const updateRowGroupExpansionState = () => this.updateCachedState(\"rowGroupExpansion\", this.getRowGroupExpansionState());\n    this.addManagedEventListeners({\n      filterChanged: () => this.updateCachedState(\"filter\", this.getFilterState()),\n      rowGroupOpened: () => this.onRowGroupOpenedDebounced(),\n      expandOrCollapseAll: updateRowGroupExpansionState,\n      // `groupDefaultExpanded` updates expansion state without an expansion event\n      columnRowGroupChanged: updateRowGroupExpansionState,\n      rowDataUpdated: () => {\n        if (this.gos.get(\"groupDefaultExpanded\") !== 0) {\n          setTimeout(() => {\n            updateRowGroupExpansionState();\n          });\n        }\n      },\n      selectionChanged: () => {\n        this.staleStateKeys.add(\"rowSelection\");\n        this.onRowSelectedDebounced();\n      },\n      paginationChanged: (event) => {\n        if (event.newPage || event.newPageSize) {\n          this.updateCachedState(\"pagination\", this.getPaginationState());\n        }\n      }\n    });\n  }\n  setupStateOnFirstDataRendered() {\n    const {\n      scroll: scrollState,\n      cellSelection: cellSelectionState,\n      focusedCell: focusedCellState,\n      columnOrder: columnOrderState\n    } = this.getInitialState();\n    if (focusedCellState) {\n      this.setFocusedCellState(focusedCellState);\n    }\n    if (cellSelectionState) {\n      this.setCellSelectionState(cellSelectionState);\n    }\n    if (scrollState) {\n      this.setScrollState(scrollState);\n    }\n    this.setColumnPivotState(!!columnOrderState?.orderedColIds);\n    this.updateCachedState(\"sideBar\", this.getSideBarState());\n    this.updateCachedState(\"focusedCell\", this.getFocusedCellState());\n    const cellSelection = this.getRangeSelectionState();\n    this.updateCachedState(\"rangeSelection\", cellSelection);\n    this.updateCachedState(\"cellSelection\", cellSelection);\n    this.updateCachedState(\"scroll\", this.getScrollState());\n    this.addManagedEventListeners({\n      cellFocused: () => this.updateCachedState(\"focusedCell\", this.getFocusedCellState()),\n      cellSelectionChanged: (event) => {\n        if (event.finished) {\n          const cellSelection2 = this.getRangeSelectionState();\n          this.updateCachedState(\"rangeSelection\", cellSelection2);\n          this.updateCachedState(\"cellSelection\", cellSelection2);\n        }\n      },\n      bodyScrollEnd: () => this.updateCachedState(\"scroll\", this.getScrollState())\n    });\n  }\n  getColumnState() {\n    const pivotMode = this.columnModel.isPivotMode();\n    const sortColumns = [];\n    const groupColIds = [];\n    const aggregationColumns = [];\n    const pivotColIds = [];\n    const leftColIds = [];\n    const rightColIds = [];\n    const hiddenColIds = [];\n    const columnSizes = [];\n    const columns = [];\n    let defaultSortIndex = 0;\n    const columnState = this.columnGetStateService.getColumnState();\n    for (let i = 0; i < columnState.length; i++) {\n      const {\n        colId,\n        sort,\n        sortIndex,\n        rowGroup,\n        rowGroupIndex,\n        aggFunc,\n        pivot,\n        pivotIndex,\n        pinned,\n        hide,\n        width,\n        flex\n      } = columnState[i];\n      columns.push(colId);\n      if (sort) {\n        sortColumns[sortIndex ?? defaultSortIndex++] = { colId, sort };\n      }\n      if (rowGroup) {\n        groupColIds[rowGroupIndex ?? 0] = colId;\n      }\n      if (typeof aggFunc === \"string\") {\n        aggregationColumns.push({ colId, aggFunc });\n      }\n      if (pivot) {\n        pivotColIds[pivotIndex ?? 0] = colId;\n      }\n      if (pinned) {\n        (pinned === \"right\" ? rightColIds : leftColIds).push(colId);\n      }\n      if (hide) {\n        hiddenColIds.push(colId);\n      }\n      if (flex || width) {\n        columnSizes.push({ colId, flex: flex ?? void 0, width });\n      }\n    }\n    return {\n      sort: sortColumns.length ? { sortModel: sortColumns } : void 0,\n      rowGroup: groupColIds.length ? { groupColIds } : void 0,\n      aggregation: aggregationColumns.length ? { aggregationModel: aggregationColumns } : void 0,\n      pivot: pivotColIds.length || pivotMode ? { pivotMode, pivotColIds } : void 0,\n      columnPinning: leftColIds.length || rightColIds.length ? { leftColIds, rightColIds } : void 0,\n      columnVisibility: hiddenColIds.length ? { hiddenColIds } : void 0,\n      columnSizing: columnSizes.length ? { columnSizingModel: columnSizes } : void 0,\n      columnOrder: columns.length ? { orderedColIds: columns } : void 0\n    };\n  }\n  setColumnState(initialState) {\n    const {\n      sort: sortState,\n      rowGroup: groupState,\n      aggregation: aggregationState,\n      pivot: pivotState,\n      columnPinning: columnPinningState,\n      columnVisibility: columnVisibilityState,\n      columnSizing: columnSizingState,\n      columnOrder: columnOrderState,\n      partialColumnState\n    } = initialState;\n    const columnStateMap = {};\n    const getColumnState2 = (colId) => {\n      let columnState = columnStateMap[colId];\n      if (columnState) {\n        return columnState;\n      }\n      columnState = { colId };\n      columnStateMap[colId] = columnState;\n      return columnState;\n    };\n    const defaultState = partialColumnState ? {} : {\n      sort: null,\n      sortIndex: null,\n      rowGroup: null,\n      rowGroupIndex: null,\n      aggFunc: null,\n      pivot: null,\n      pivotIndex: null,\n      pinned: null,\n      hide: null,\n      flex: null\n    };\n    if (sortState) {\n      sortState.sortModel.forEach(({ colId, sort }, sortIndex) => {\n        const columnState = getColumnState2(colId);\n        columnState.sort = sort;\n        columnState.sortIndex = sortIndex;\n      });\n      defaultState.sort = null;\n      defaultState.sortIndex = null;\n    }\n    if (groupState) {\n      groupState.groupColIds.forEach((colId, rowGroupIndex) => {\n        const columnState = getColumnState2(colId);\n        columnState.rowGroup = true;\n        columnState.rowGroupIndex = rowGroupIndex;\n      });\n      defaultState.rowGroup = null;\n      defaultState.rowGroupIndex = null;\n    }\n    if (aggregationState) {\n      aggregationState.aggregationModel.forEach(({ colId, aggFunc }) => {\n        getColumnState2(colId).aggFunc = aggFunc;\n      });\n      defaultState.aggFunc = null;\n    }\n    if (pivotState) {\n      pivotState.pivotColIds.forEach((colId, pivotIndex) => {\n        const columnState = getColumnState2(colId);\n        columnState.pivot = true;\n        columnState.pivotIndex = pivotIndex;\n      });\n      this.gos.updateGridOptions({\n        options: { pivotMode: pivotState.pivotMode },\n        source: \"gridInitializing\"\n      });\n      defaultState.pivot = null;\n      defaultState.pivotIndex = null;\n    }\n    if (columnPinningState) {\n      columnPinningState.leftColIds.forEach((colId) => {\n        getColumnState2(colId).pinned = \"left\";\n      });\n      columnPinningState.rightColIds.forEach((colId) => {\n        getColumnState2(colId).pinned = \"right\";\n      });\n      defaultState.pinned = null;\n    }\n    if (columnVisibilityState) {\n      columnVisibilityState.hiddenColIds.forEach((colId) => {\n        getColumnState2(colId).hide = true;\n      });\n      defaultState.hide = null;\n    }\n    if (columnSizingState) {\n      columnSizingState.columnSizingModel.forEach(({ colId, flex, width }) => {\n        const columnState = getColumnState2(colId);\n        columnState.flex = flex ?? null;\n        columnState.width = width;\n      });\n      defaultState.flex = null;\n    }\n    const columns = columnOrderState?.orderedColIds;\n    const applyOrder = !!columns?.length;\n    const columnStates = applyOrder ? columns.map((colId) => getColumnState2(colId)) : Object.values(columnStateMap);\n    if (columnStates.length) {\n      this.columnStates = columnStates;\n      this.columnApplyStateService.applyColumnState(\n        {\n          state: columnStates,\n          applyOrder,\n          defaultState\n        },\n        \"gridInitializing\"\n      );\n    }\n  }\n  setColumnPivotState(applyOrder) {\n    const columnStates = this.columnStates;\n    this.columnStates = void 0;\n    const columnGroupStates = this.columnGroupStates;\n    this.columnGroupStates = void 0;\n    if (!this.pivotResultColsService.isPivotResultColsPresent()) {\n      return;\n    }\n    if (columnStates) {\n      const secondaryColumnStates = [];\n      for (const columnState of columnStates) {\n        if (this.pivotResultColsService.getPivotResultCol(columnState.colId)) {\n          secondaryColumnStates.push(columnState);\n        }\n      }\n      this.columnApplyStateService.applyColumnState(\n        {\n          state: secondaryColumnStates,\n          applyOrder\n        },\n        \"gridInitializing\"\n      );\n    }\n    if (columnGroupStates) {\n      this.columnGroupStateService.setColumnGroupState(columnGroupStates, \"gridInitializing\");\n    }\n  }\n  getColumnGroupState() {\n    const columnGroupState = this.columnGroupStateService.getColumnGroupState();\n    const openColumnGroups = [];\n    columnGroupState.forEach(({ groupId, open }) => {\n      if (open) {\n        openColumnGroups.push(groupId);\n      }\n    });\n    return openColumnGroups.length ? { openColumnGroupIds: openColumnGroups } : void 0;\n  }\n  setColumnGroupState(initialState) {\n    if (!Object.prototype.hasOwnProperty.call(initialState, \"columnGroup\")) {\n      return;\n    }\n    const openColumnGroups = new Set(initialState.columnGroup?.openColumnGroupIds);\n    const existingColumnGroupState = this.columnGroupStateService.getColumnGroupState();\n    const stateItems = existingColumnGroupState.map(({ groupId }) => {\n      const open = openColumnGroups.has(groupId);\n      if (open) {\n        openColumnGroups.delete(groupId);\n      }\n      return {\n        groupId,\n        open\n      };\n    });\n    openColumnGroups.forEach((groupId) => {\n      stateItems.push({\n        groupId,\n        open: true\n      });\n    });\n    if (stateItems.length) {\n      this.columnGroupStates = stateItems;\n    }\n    this.columnGroupStateService.setColumnGroupState(stateItems, \"gridInitializing\");\n  }\n  getFilterState() {\n    let filterModel = this.filterManager?.getFilterModel();\n    if (filterModel && Object.keys(filterModel).length === 0) {\n      filterModel = void 0;\n    }\n    const advancedFilterModel = this.filterManager?.getAdvancedFilterModel() ?? void 0;\n    return filterModel || advancedFilterModel ? { filterModel, advancedFilterModel } : void 0;\n  }\n  setFilterState(filterState, gridOptionAdvancedFilterModel) {\n    const { filterModel, advancedFilterModel } = filterState ?? {\n      advancedFilterModel: gridOptionAdvancedFilterModel\n    };\n    if (filterModel) {\n      this.filterManager?.setFilterModel(filterModel, \"columnFilter\");\n    }\n    if (advancedFilterModel) {\n      this.filterManager?.setAdvancedFilterModel(advancedFilterModel);\n    }\n  }\n  getRangeSelectionState() {\n    const cellRanges = this.rangeService?.getCellRanges().map((cellRange) => {\n      const { id, type, startRow, endRow, columns, startColumn } = cellRange;\n      return {\n        id,\n        type,\n        startRow,\n        endRow,\n        colIds: columns.map((column) => column.getColId()),\n        startColId: startColumn.getColId()\n      };\n    });\n    return cellRanges?.length ? { cellRanges } : void 0;\n  }\n  setCellSelectionState(cellSelectionState) {\n    const { gos, rangeService, columnModel, visibleColsService } = this;\n    if (!_isCellSelectionEnabled(gos) || !rangeService) {\n      return;\n    }\n    const cellRanges = [];\n    cellSelectionState.cellRanges.forEach((cellRange) => {\n      const columns = [];\n      cellRange.colIds.forEach((colId) => {\n        const column = columnModel.getCol(colId);\n        if (column) {\n          columns.push(column);\n        }\n      });\n      if (!columns.length) {\n        return;\n      }\n      let startColumn = columnModel.getCol(cellRange.startColId);\n      if (!startColumn) {\n        const allColumns = visibleColsService.getAllCols();\n        const columnSet = new Set(columns);\n        startColumn = allColumns.find((column) => columnSet.has(column));\n      }\n      cellRanges.push({\n        ...cellRange,\n        columns,\n        startColumn\n      });\n    });\n    if (_isUsingNewCellSelectionAPI(gos) && _getSuppressMultiRanges(gos) && cellRanges.length > 1) {\n      return _warnOnce(\"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`\");\n    }\n    rangeService.setCellRanges(cellRanges);\n  }\n  getScrollState() {\n    if (!this.isClientSideRowModel) {\n      return void 0;\n    }\n    const scrollFeature = this.ctrlsService.getGridBodyCtrl()?.getScrollFeature();\n    const { left } = scrollFeature?.getHScrollPosition() ?? { left: 0 };\n    const { top } = scrollFeature?.getVScrollPosition() ?? { top: 0 };\n    return top || left ? {\n      top,\n      left\n    } : void 0;\n  }\n  setScrollState(scrollState) {\n    if (!this.isClientSideRowModel) {\n      return;\n    }\n    const { top, left } = scrollState;\n    this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(top, left);\n  }\n  getSideBarState() {\n    return this.sideBarService?.getSideBarComp()?.getState();\n  }\n  getFocusedCellState() {\n    if (!this.isClientSideRowModel) {\n      return void 0;\n    }\n    const focusedCell = this.focusService.getFocusedCell();\n    if (focusedCell) {\n      const { column, rowIndex, rowPinned } = focusedCell;\n      return {\n        colId: column.getColId(),\n        rowIndex,\n        rowPinned\n      };\n    }\n    return void 0;\n  }\n  setFocusedCellState(focusedCellState) {\n    if (!this.isClientSideRowModel) {\n      return;\n    }\n    const { colId, rowIndex, rowPinned } = focusedCellState;\n    this.focusService.setFocusedCell({\n      column: this.columnModel.getCol(colId),\n      rowIndex,\n      rowPinned,\n      forceBrowserFocus: true,\n      preventScrollOnBrowserFocus: true\n    });\n  }\n  getPaginationState() {\n    if (!this.paginationService) {\n      return void 0;\n    }\n    const page = this.paginationService.getCurrentPage();\n    const pageSize = !this.gos.get(\"paginationAutoPageSize\") ? this.paginationService.getPageSize() : void 0;\n    if (!page && !pageSize) {\n      return;\n    }\n    return { page, pageSize };\n  }\n  setPaginationState(paginationState) {\n    if (!this.paginationService) {\n      return;\n    }\n    if (paginationState.pageSize && !this.gos.get(\"paginationAutoPageSize\")) {\n      this.paginationService.setPageSize(paginationState.pageSize, \"initialState\");\n    }\n    if (typeof paginationState.page === \"number\") {\n      this.paginationService.setPage(paginationState.page);\n    }\n  }\n  getRowSelectionState() {\n    const selectionState = this.selectionService.getSelectionState();\n    const noSelections = !selectionState || !Array.isArray(selectionState) && (selectionState.selectAll === false || selectionState.selectAllChildren === false) && !selectionState?.toggledNodes?.length;\n    return noSelections ? void 0 : selectionState;\n  }\n  setRowSelectionState(rowSelectionState) {\n    this.selectionService.setSelectionState(rowSelectionState, \"gridInitializing\");\n  }\n  getRowGroupExpansionState() {\n    const expandedRowGroups = this.expansionService.getExpandedRows();\n    return expandedRowGroups.length ? {\n      expandedRowGroupIds: expandedRowGroups\n    } : void 0;\n  }\n  setRowGroupExpansionState(rowGroupExpansionState) {\n    this.expansionService.expandRows(rowGroupExpansionState.expandedRowGroupIds);\n  }\n  updateColumnState(features) {\n    const newColumnState = this.getColumnState();\n    let hasChanged = false;\n    Object.entries(newColumnState).forEach(([key, value]) => {\n      if (!_jsonEquals(value, this.cachedState[key])) {\n        hasChanged = true;\n      }\n    });\n    this.cachedState = {\n      ...this.cachedState,\n      ...newColumnState\n    };\n    if (hasChanged) {\n      this.dispatchStateUpdateEvent(features);\n    }\n  }\n  updateCachedState(key, value) {\n    const existingValue = this.cachedState[key];\n    this.setCachedStateValue(key, value);\n    if (!_jsonEquals(value, existingValue)) {\n      this.dispatchStateUpdateEvent([key]);\n    }\n  }\n  setCachedStateValue(key, value) {\n    this.cachedState = {\n      ...this.cachedState,\n      [key]: value\n    };\n  }\n  refreshStaleState() {\n    this.staleStateKeys.forEach((key) => {\n      switch (key) {\n        case \"rowSelection\":\n          this.setCachedStateValue(key, this.getRowSelectionState());\n          break;\n      }\n    });\n    this.staleStateKeys.clear();\n  }\n  dispatchStateUpdateEvent(sources) {\n    if (this.suppressEvents) {\n      return;\n    }\n    sources.forEach((source) => this.queuedUpdateSources.add(source));\n    this.dispatchStateUpdateEventDebounced();\n  }\n  dispatchQueuedStateUpdateEvents() {\n    const sources = Array.from(this.queuedUpdateSources);\n    this.queuedUpdateSources.clear();\n    this.eventService.dispatchEvent({\n      type: \"stateUpdated\",\n      sources,\n      state: this.cachedState\n    });\n  }\n  suppressEventsAndDispatchInitEvent(updateFunc) {\n    this.suppressEvents = true;\n    this.columnAnimationService.setSuppressAnimation(true);\n    updateFunc();\n    setTimeout(() => {\n      this.suppressEvents = false;\n      this.queuedUpdateSources.clear();\n      if (!this.isAlive()) {\n        return;\n      }\n      this.columnAnimationService.setSuppressAnimation(false);\n      this.dispatchStateUpdateEvent([\"gridInitializing\"]);\n    });\n  }\n};\n\n// community-modules/core/src/misc/state/stateModule.ts\nvar StateCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/state-core\",\n  beans: [StateService]\n});\nvar StateApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/state-api\",\n  apiFunctions: {\n    getState\n  },\n  dependantModules: [StateCoreModule]\n});\nvar StateModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/state\",\n  dependantModules: [StateCoreModule, StateApiModule]\n});\n\n// community-modules/core/src/pagination/paginationApi.ts\nfunction paginationIsLastPageFound(beans) {\n  return beans.rowModel.isLastRowIndexKnown();\n}\nfunction paginationGetPageSize(beans) {\n  return beans.paginationService?.getPageSize() ?? 100;\n}\nfunction paginationGetCurrentPage(beans) {\n  return beans.paginationService?.getCurrentPage() ?? 0;\n}\nfunction paginationGetTotalPages(beans) {\n  return beans.paginationService?.getTotalPages() ?? 1;\n}\nfunction paginationGetRowCount(beans) {\n  return beans.paginationService ? beans.paginationService.getMasterRowCount() : beans.rowModel.getRowCount();\n}\nfunction paginationGoToNextPage(beans) {\n  beans.paginationService?.goToNextPage();\n}\nfunction paginationGoToPreviousPage(beans) {\n  beans.paginationService?.goToPreviousPage();\n}\nfunction paginationGoToFirstPage(beans) {\n  beans.paginationService?.goToFirstPage();\n}\nfunction paginationGoToLastPage(beans) {\n  beans.paginationService?.goToLastPage();\n}\nfunction paginationGoToPage(beans, page) {\n  beans.paginationService?.goToPage(page);\n}\n\n// community-modules/core/src/pagination/paginationAutoPageSizeService.ts\nvar PaginationAutoPageSizeService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"paginationAutoPageSizeService\";\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.paginationService = beans.paginationService;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => {\n      this.centerRowsCtrl = p.center;\n      const listener = this.checkPageSize.bind(this);\n      this.addManagedEventListeners({\n        bodyHeightChanged: listener,\n        scrollVisibilityChanged: listener\n      });\n      this.addManagedPropertyListener(\"paginationAutoPageSize\", this.onPaginationAutoSizeChanged.bind(this));\n      this.checkPageSize();\n    });\n  }\n  notActive() {\n    return !this.gos.get(\"paginationAutoPageSize\") || this.centerRowsCtrl == null;\n  }\n  onPaginationAutoSizeChanged() {\n    if (this.notActive()) {\n      this.paginationService.unsetAutoCalculatedPageSize();\n    } else {\n      this.checkPageSize();\n    }\n  }\n  checkPageSize() {\n    if (this.notActive()) {\n      return;\n    }\n    const bodyHeight = this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();\n    if (bodyHeight > 0) {\n      const update = () => {\n        const rowHeight = Math.max(_getRowHeightAsNumber(this.gos), 1);\n        const newPageSize = Math.floor(bodyHeight / rowHeight);\n        this.paginationService.setPageSize(newPageSize, \"autoCalculated\");\n      };\n      if (!this.isBodyRendered) {\n        update();\n        this.isBodyRendered = true;\n      } else {\n        _debounce(() => update(), 50)();\n      }\n    } else {\n      this.isBodyRendered = false;\n    }\n  }\n};\n\n// community-modules/core/src/utils/focus.ts\nfunction _addFocusableContainerListener(comp, eGui, focusService) {\n  comp.addManagedElementListeners(eGui, {\n    keydown: (e) => {\n      if (!e.defaultPrevented && e.key === KeyCode.TAB) {\n        const backwards = e.shiftKey;\n        if (!focusService.findNextFocusableElement(eGui, false, backwards)) {\n          if (focusService.focusNextGridCoreContainer(backwards)) {\n            e.preventDefault();\n          }\n        }\n      }\n    }\n  });\n}\n\n// community-modules/core/src/pagination/pageSizeSelector/pageSizeSelectorComp.ts\nvar paginationPageSizeSelector = \"paginationPageSizeSelector\";\nvar PageSizeSelectorComp = class extends Component {\n  constructor() {\n    super(\n      /* html */\n      `<span class=\"ag-paging-page-size\"></span>`\n    );\n    this.hasEmptyOption = false;\n    this.handlePageSizeItemSelected = () => {\n      if (!this.selectPageSizeComp) {\n        return;\n      }\n      const newValue = this.selectPageSizeComp.getValue();\n      if (!newValue) {\n        return;\n      }\n      const paginationPageSize = Number(newValue);\n      if (isNaN(paginationPageSize) || paginationPageSize < 1 || paginationPageSize === this.paginationService.getPageSize()) {\n        return;\n      }\n      this.paginationService.setPageSize(paginationPageSize, \"pageSizeSelector\");\n      if (this.hasEmptyOption) {\n        this.toggleSelectDisplay(true);\n      }\n      this.selectPageSizeComp.getFocusableElement().focus();\n    };\n  }\n  wireBeans(beans) {\n    this.paginationService = beans.paginationService;\n  }\n  postConstruct() {\n    this.addManagedPropertyListener(paginationPageSizeSelector, () => {\n      this.onPageSizeSelectorValuesChange();\n    });\n    this.addManagedEventListeners({ paginationChanged: (event) => this.handlePaginationChanged(event) });\n  }\n  handlePaginationChanged(paginationChangedEvent) {\n    if (!this.selectPageSizeComp || !paginationChangedEvent?.newPageSize) {\n      return;\n    }\n    const paginationPageSize = this.paginationService.getPageSize();\n    if (this.getPageSizeSelectorValues().includes(paginationPageSize)) {\n      this.selectPageSizeComp.setValue(paginationPageSize.toString());\n    } else {\n      if (this.hasEmptyOption) {\n        this.selectPageSizeComp.setValue(\"\");\n      } else {\n        this.toggleSelectDisplay(true);\n      }\n    }\n  }\n  toggleSelectDisplay(show) {\n    if (this.selectPageSizeComp && !show) {\n      this.reset();\n    }\n    if (!show) {\n      return;\n    }\n    this.reloadPageSizesSelector();\n    if (!this.selectPageSizeComp) {\n      return;\n    }\n  }\n  reset() {\n    _clearElement(this.getGui());\n    if (!this.selectPageSizeComp) {\n      return;\n    }\n    this.selectPageSizeComp = this.destroyBean(this.selectPageSizeComp);\n  }\n  onPageSizeSelectorValuesChange() {\n    if (!this.selectPageSizeComp) {\n      return;\n    }\n    if (this.shouldShowPageSizeSelector()) {\n      this.reloadPageSizesSelector();\n    }\n  }\n  shouldShowPageSizeSelector() {\n    return this.gos.get(\"pagination\") && !this.gos.get(\"suppressPaginationPanel\") && !this.gos.get(\"paginationAutoPageSize\") && this.gos.get(paginationPageSizeSelector) !== false;\n  }\n  reloadPageSizesSelector() {\n    const pageSizeOptions = this.getPageSizeSelectorValues();\n    const paginationPageSizeOption = this.paginationService.getPageSize();\n    const shouldAddAndSelectEmptyOption = !paginationPageSizeOption || !pageSizeOptions.includes(paginationPageSizeOption);\n    if (shouldAddAndSelectEmptyOption) {\n      const pageSizeSet = this.gos.exists(\"paginationPageSize\");\n      const pageSizesSet = this.gos.get(paginationPageSizeSelector) !== true;\n      _warnOnce(\n        `'paginationPageSize=${paginationPageSizeOption}'${pageSizeSet ? \"\" : \" (default value)\"}, but ${paginationPageSizeOption} is not included in${pageSizesSet ? \"\" : \" the default\"} paginationPageSizeSelector=[${pageSizeOptions.join(\", \")}].`\n      );\n      if (!pageSizesSet) {\n        _warnOnce(\n          `Either set '${paginationPageSizeSelector}' to an array that includes ${paginationPageSizeOption} or to 'false' to disable the page size selector.`\n        );\n      }\n      pageSizeOptions.unshift(\"\");\n    }\n    const value = String(shouldAddAndSelectEmptyOption ? \"\" : paginationPageSizeOption);\n    if (this.selectPageSizeComp) {\n      if (!_areEqual(this.pageSizeOptions, pageSizeOptions)) {\n        this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(pageSizeOptions));\n        this.pageSizeOptions = pageSizeOptions;\n      }\n      this.selectPageSizeComp.setValue(value, true);\n    } else {\n      this.createPageSizeSelectorComp(pageSizeOptions, value);\n    }\n    this.hasEmptyOption = shouldAddAndSelectEmptyOption;\n  }\n  createPageSizeSelectOptions(pageSizeOptions) {\n    return pageSizeOptions.map((value) => ({\n      value: String(value)\n    }));\n  }\n  createPageSizeSelectorComp(pageSizeOptions, value) {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const localisedLabel = localeTextFunc(\"pageSizeSelectorLabel\", \"Page Size:\");\n    const localisedAriaLabel = localeTextFunc(\"ariaPageSizeSelectorLabel\", \"Page Size\");\n    this.selectPageSizeComp = this.createManagedBean(new AgSelect()).addOptions(this.createPageSizeSelectOptions(pageSizeOptions)).setValue(value).setAriaLabel(localisedAriaLabel).setLabel(localisedLabel).onValueChange(() => this.handlePageSizeItemSelected());\n    this.appendChild(this.selectPageSizeComp);\n  }\n  getPageSizeSelectorValues() {\n    const defaultValues = [20, 50, 100];\n    const paginationPageSizeSelectorValues = this.gos.get(paginationPageSizeSelector);\n    if (!Array.isArray(paginationPageSizeSelectorValues) || _missingOrEmpty(paginationPageSizeSelectorValues)) {\n      return defaultValues;\n    }\n    return [...paginationPageSizeSelectorValues].sort((a, b) => a - b);\n  }\n  destroy() {\n    this.toggleSelectDisplay(false);\n    super.destroy();\n  }\n};\nvar PageSizeSelectorSelector = {\n  selector: \"AG-PAGE-SIZE-SELECTOR\",\n  component: PageSizeSelectorComp\n};\n\n// community-modules/core/src/pagination/paginationComp.ts\nvar PaginationComp = class extends TabGuardComp {\n  constructor() {\n    super();\n    this.btFirst = RefPlaceholder;\n    this.btPrevious = RefPlaceholder;\n    this.btNext = RefPlaceholder;\n    this.btLast = RefPlaceholder;\n    this.lbRecordCount = RefPlaceholder;\n    this.lbFirstRowOnPage = RefPlaceholder;\n    this.lbLastRowOnPage = RefPlaceholder;\n    this.lbCurrent = RefPlaceholder;\n    this.lbTotal = RefPlaceholder;\n    this.pageSizeComp = RefPlaceholder;\n    this.previousAndFirstButtonsDisabled = false;\n    this.nextButtonDisabled = false;\n    this.lastButtonDisabled = false;\n    this.areListenersSetup = false;\n    this.allowFocusInnerElement = false;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.paginationService = beans.paginationService;\n    this.focusService = beans.focusService;\n    this.ariaAnnouncementService = beans.ariaAnnouncementService;\n  }\n  postConstruct() {\n    const isRtl = this.gos.get(\"enableRtl\");\n    this.setTemplate(this.getTemplate(), [PageSizeSelectorSelector]);\n    const { btFirst, btPrevious, btNext, btLast } = this;\n    this.activateTabIndex([btFirst, btPrevious, btNext, btLast]);\n    btFirst.insertAdjacentElement(\"afterbegin\", _createIconNoSpan(isRtl ? \"last\" : \"first\", this.gos));\n    btPrevious.insertAdjacentElement(\"afterbegin\", _createIconNoSpan(isRtl ? \"next\" : \"previous\", this.gos));\n    btNext.insertAdjacentElement(\"afterbegin\", _createIconNoSpan(isRtl ? \"previous\" : \"next\", this.gos));\n    btLast.insertAdjacentElement(\"afterbegin\", _createIconNoSpan(isRtl ? \"first\" : \"last\", this.gos));\n    this.addManagedPropertyListener(\"pagination\", this.onPaginationChanged.bind(this));\n    this.addManagedPropertyListener(\"suppressPaginationPanel\", this.onPaginationChanged.bind(this));\n    this.addManagedPropertyListeners(\n      [\"paginationPageSizeSelector\", \"paginationAutoPageSize\", \"suppressPaginationPanel\"],\n      () => this.onPageSizeRelatedOptionsChange()\n    );\n    this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector());\n    this.initialiseTabGuard({\n      // prevent tab guard default logic\n      onTabKeyDown: () => {\n      },\n      focusInnerElement: (fromBottom) => {\n        if (this.allowFocusInnerElement) {\n          this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(fromBottom);\n        } else {\n          this.focusService.focusGridInnerElement(fromBottom);\n        }\n      },\n      forceFocusOutWhenTabGuardsAreEmpty: true\n    });\n    this.onPaginationChanged();\n  }\n  setAllowFocus(allowFocus) {\n    this.allowFocusInnerElement = allowFocus;\n  }\n  onPaginationChanged() {\n    const isPaging = this.gos.get(\"pagination\");\n    const paginationPanelEnabled = isPaging && !this.gos.get(\"suppressPaginationPanel\");\n    this.setDisplayed(paginationPanelEnabled);\n    if (!paginationPanelEnabled) {\n      return;\n    }\n    this.setupListeners();\n    this.enableOrDisableButtons();\n    this.updateLabels();\n    this.onPageSizeRelatedOptionsChange();\n  }\n  onPageSizeRelatedOptionsChange() {\n    this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector());\n  }\n  setupListeners() {\n    if (!this.areListenersSetup) {\n      this.addManagedEventListeners({ paginationChanged: this.onPaginationChanged.bind(this) });\n      [\n        { el: this.btFirst, fn: this.onBtFirst.bind(this) },\n        { el: this.btPrevious, fn: this.onBtPrevious.bind(this) },\n        { el: this.btNext, fn: this.onBtNext.bind(this) },\n        { el: this.btLast, fn: this.onBtLast.bind(this) }\n      ].forEach((item) => {\n        const { el, fn } = item;\n        this.addManagedListeners(el, {\n          click: fn,\n          keydown: (e) => {\n            if (e.key === KeyCode.ENTER || e.key === KeyCode.SPACE) {\n              e.preventDefault();\n              fn();\n            }\n          }\n        });\n      });\n      _addFocusableContainerListener(this, this.getGui(), this.focusService);\n      this.areListenersSetup = true;\n    }\n  }\n  onBtFirst() {\n    if (!this.previousAndFirstButtonsDisabled) {\n      this.paginationService.goToFirstPage();\n    }\n  }\n  formatNumber(value) {\n    const userFunc = this.gos.getCallback(\"paginationNumberFormatter\");\n    if (userFunc) {\n      const params = { value };\n      return userFunc(params);\n    }\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const thousandSeparator = localeTextFunc(\"thousandSeparator\", \",\");\n    const decimalSeparator = localeTextFunc(\"decimalSeparator\", \".\");\n    return _formatNumberCommas(value, thousandSeparator, decimalSeparator);\n  }\n  getTemplate() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const strPage = localeTextFunc(\"page\", \"Page\");\n    const strTo = localeTextFunc(\"to\", \"to\");\n    const strOf = localeTextFunc(\"of\", \"of\");\n    const strFirst = localeTextFunc(\"firstPage\", \"First Page\");\n    const strPrevious = localeTextFunc(\"previousPage\", \"Previous Page\");\n    const strNext = localeTextFunc(\"nextPage\", \"Next Page\");\n    const strLast = localeTextFunc(\"lastPage\", \"Last Page\");\n    const compId = this.getCompId();\n    return (\n      /* html */\n      `<div class=\"ag-paging-panel ag-unselectable\" id=\"ag-${compId}\">\n                <ag-page-size-selector data-ref=\"pageSizeComp\"></ag-page-size-selector>\n                <span class=\"ag-paging-row-summary-panel\">\n                    <span id=\"ag-${compId}-first-row\" data-ref=\"lbFirstRowOnPage\" class=\"ag-paging-row-summary-panel-number\"></span>\n                    <span id=\"ag-${compId}-to\">${strTo}</span>\n                    <span id=\"ag-${compId}-last-row\" data-ref=\"lbLastRowOnPage\" class=\"ag-paging-row-summary-panel-number\"></span>\n                    <span id=\"ag-${compId}-of\">${strOf}</span>\n                    <span id=\"ag-${compId}-row-count\" data-ref=\"lbRecordCount\" class=\"ag-paging-row-summary-panel-number\"></span>\n                </span>\n                <span class=\"ag-paging-page-summary-panel\" role=\"presentation\">\n                    <div data-ref=\"btFirst\" class=\"ag-button ag-paging-button\" role=\"button\" aria-label=\"${strFirst}\"></div>\n                    <div data-ref=\"btPrevious\" class=\"ag-button ag-paging-button\" role=\"button\" aria-label=\"${strPrevious}\"></div>\n                    <span class=\"ag-paging-description\">\n                        <span id=\"ag-${compId}-start-page\">${strPage}</span>\n                        <span id=\"ag-${compId}-start-page-number\" data-ref=\"lbCurrent\" class=\"ag-paging-number\"></span>\n                        <span id=\"ag-${compId}-of-page\">${strOf}</span>\n                        <span id=\"ag-${compId}-of-page-number\" data-ref=\"lbTotal\" class=\"ag-paging-number\"></span>\n                    </span>\n                    <div data-ref=\"btNext\" class=\"ag-button ag-paging-button\" role=\"button\" aria-label=\"${strNext}\"></div>\n                    <div data-ref=\"btLast\" class=\"ag-button ag-paging-button\" role=\"button\" aria-label=\"${strLast}\"></div>\n                </span>\n            </div>`\n    );\n  }\n  onBtNext() {\n    if (!this.nextButtonDisabled) {\n      this.paginationService.goToNextPage();\n    }\n  }\n  onBtPrevious() {\n    if (!this.previousAndFirstButtonsDisabled) {\n      this.paginationService.goToPreviousPage();\n    }\n  }\n  onBtLast() {\n    if (!this.lastButtonDisabled) {\n      this.paginationService.goToLastPage();\n    }\n  }\n  enableOrDisableButtons() {\n    const currentPage = this.paginationService.getCurrentPage();\n    const maxRowFound = this.rowModel.isLastRowIndexKnown();\n    const totalPages = this.paginationService.getTotalPages();\n    this.previousAndFirstButtonsDisabled = currentPage === 0;\n    this.toggleButtonDisabled(this.btFirst, this.previousAndFirstButtonsDisabled);\n    this.toggleButtonDisabled(this.btPrevious, this.previousAndFirstButtonsDisabled);\n    const zeroPagesToDisplay = this.isZeroPagesToDisplay();\n    const onLastPage = currentPage === totalPages - 1;\n    this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n    this.lastButtonDisabled = !maxRowFound || zeroPagesToDisplay || currentPage === totalPages - 1;\n    this.toggleButtonDisabled(this.btNext, this.nextButtonDisabled);\n    this.toggleButtonDisabled(this.btLast, this.lastButtonDisabled);\n  }\n  toggleButtonDisabled(button, disabled) {\n    _setAriaDisabled(button, disabled);\n    button.classList.toggle(\"ag-disabled\", disabled);\n  }\n  isZeroPagesToDisplay() {\n    const maxRowFound = this.rowModel.isLastRowIndexKnown();\n    const totalPages = this.paginationService.getTotalPages();\n    return maxRowFound && totalPages === 0;\n  }\n  updateLabels() {\n    const lastPageFound = this.rowModel.isLastRowIndexKnown();\n    const totalPages = this.paginationService.getTotalPages();\n    const masterRowCount = this.paginationService.getMasterRowCount();\n    const rowCount = lastPageFound ? masterRowCount : null;\n    if (rowCount === 1) {\n      const firstRow = this.rowModel.getRow(0);\n      const hiddenGroupRow = firstRow && firstRow.group && !(firstRow.groupData || firstRow.aggData);\n      if (hiddenGroupRow) {\n        this.setTotalLabelsToZero();\n        return;\n      }\n    }\n    const currentPage = this.paginationService.getCurrentPage();\n    const pageSize = this.paginationService.getPageSize();\n    let startRow;\n    let endRow;\n    if (this.isZeroPagesToDisplay()) {\n      startRow = endRow = 0;\n    } else {\n      startRow = pageSize * currentPage + 1;\n      endRow = startRow + pageSize - 1;\n      if (lastPageFound && endRow > rowCount) {\n        endRow = rowCount;\n      }\n    }\n    const theoreticalEndRow = startRow + pageSize - 1;\n    const isLoadingPageSize = !lastPageFound && masterRowCount < theoreticalEndRow;\n    const lbFirstRowOnPage = this.formatNumber(startRow);\n    this.lbFirstRowOnPage.textContent = lbFirstRowOnPage;\n    let lbLastRowOnPage;\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    if (isLoadingPageSize) {\n      lbLastRowOnPage = localeTextFunc(\"pageLastRowUnknown\", \"?\");\n    } else {\n      lbLastRowOnPage = this.formatNumber(endRow);\n    }\n    this.lbLastRowOnPage.textContent = lbLastRowOnPage;\n    const pagesExist = totalPages > 0;\n    const toDisplay = pagesExist ? currentPage + 1 : 0;\n    const lbCurrent = this.formatNumber(toDisplay);\n    this.lbCurrent.textContent = lbCurrent;\n    let lbTotal;\n    let lbRecordCount;\n    if (lastPageFound) {\n      lbTotal = this.formatNumber(totalPages);\n      lbRecordCount = this.formatNumber(rowCount);\n    } else {\n      const moreText = localeTextFunc(\"more\", \"more\");\n      lbTotal = moreText;\n      lbRecordCount = moreText;\n    }\n    this.lbTotal.textContent = lbTotal;\n    this.lbRecordCount.textContent = lbRecordCount;\n    this.announceAriaStatus(lbFirstRowOnPage, lbLastRowOnPage, lbRecordCount, lbCurrent, lbTotal);\n  }\n  announceAriaStatus(lbFirstRowOnPage, lbLastRowOnPage, lbRecordCount, lbCurrent, lbTotal) {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const strPage = localeTextFunc(\"page\", \"Page\");\n    const strTo = localeTextFunc(\"to\", \"to\");\n    const strOf = localeTextFunc(\"of\", \"of\");\n    const ariaRowStatus = `${lbFirstRowOnPage} ${strTo} ${lbLastRowOnPage} ${strOf} ${lbRecordCount}`;\n    const ariaPageStatus = `${strPage} ${lbCurrent} ${strOf} ${lbTotal}`;\n    if (ariaRowStatus !== this.ariaRowStatus) {\n      this.ariaRowStatus = ariaRowStatus;\n      this.ariaAnnouncementService.announceValue(ariaRowStatus, \"paginationRow\");\n    }\n    if (ariaPageStatus !== this.ariaPageStatus) {\n      this.ariaPageStatus = ariaPageStatus;\n      this.ariaAnnouncementService.announceValue(ariaPageStatus, \"paginationPage\");\n    }\n  }\n  setTotalLabelsToZero() {\n    const strZero = this.formatNumber(0);\n    this.lbFirstRowOnPage.textContent = strZero;\n    this.lbCurrent.textContent = strZero;\n    this.lbLastRowOnPage.textContent = strZero;\n    this.lbTotal.textContent = strZero;\n    this.lbRecordCount.textContent = strZero;\n    this.announceAriaStatus(strZero, strZero, strZero, strZero, strZero);\n  }\n};\nvar PaginationSelector = {\n  selector: \"AG-PAGINATION\",\n  component: PaginationComp\n};\n\n// community-modules/core/src/pagination/paginationService.ts\nvar PaginationService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"paginationService\";\n    this.currentPage = 0;\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = 0;\n    this.masterRowCount = 0;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.pageBoundsService = beans.pageBoundsService;\n  }\n  postConstruct() {\n    this.active = this.gos.get(\"pagination\");\n    this.pageSizeFromGridOptions = this.gos.get(\"paginationPageSize\");\n    this.paginateChildRows = this.isPaginateChildRows();\n    this.addManagedPropertyListener(\"pagination\", this.onPaginationGridOptionChanged.bind(this));\n    this.addManagedPropertyListener(\"paginationPageSize\", this.onPageSizeGridOptionChanged.bind(this));\n  }\n  getPaginationSelector() {\n    return PaginationSelector;\n  }\n  isPaginateChildRows() {\n    const shouldPaginate = this.gos.get(\"groupRemoveSingleChildren\") || this.gos.get(\"groupRemoveLowestSingleChildren\");\n    if (shouldPaginate) {\n      return true;\n    }\n    return this.gos.get(\"paginateChildRows\");\n  }\n  onPaginationGridOptionChanged() {\n    this.active = this.gos.get(\"pagination\");\n    this.calculatePages();\n    this.dispatchPaginationChangedEvent({ keepRenderedRows: true });\n  }\n  onPageSizeGridOptionChanged() {\n    this.setPageSize(this.gos.get(\"paginationPageSize\"), \"gridOptions\");\n  }\n  goToPage(page) {\n    if (!this.active || this.currentPage === page || typeof this.currentPage !== \"number\") {\n      return;\n    }\n    this.currentPage = page;\n    this.calculatePages();\n    this.dispatchPaginationChangedEvent({ newPage: true });\n  }\n  isRowPresent(rowNode) {\n    const nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n    return nodeIsInPage;\n  }\n  getPageForIndex(index) {\n    return Math.floor(index / this.pageSize);\n  }\n  goToPageWithIndex(index) {\n    if (!this.active) {\n      return;\n    }\n    const pageNumber = this.getPageForIndex(index);\n    this.goToPage(pageNumber);\n  }\n  isRowInPage(row) {\n    if (!this.active) {\n      return true;\n    }\n    const rowPage = this.getPageForIndex(row.rowIndex);\n    return rowPage === this.currentPage;\n  }\n  getCurrentPage() {\n    return this.currentPage;\n  }\n  goToNextPage() {\n    this.goToPage(this.currentPage + 1);\n  }\n  goToPreviousPage() {\n    this.goToPage(this.currentPage - 1);\n  }\n  goToFirstPage() {\n    this.goToPage(0);\n  }\n  goToLastPage() {\n    const rowCount = this.rowModel.getRowCount();\n    const lastPage = Math.floor(rowCount / this.pageSize);\n    this.goToPage(lastPage);\n  }\n  getPageSize() {\n    return this.pageSize;\n  }\n  getTotalPages() {\n    return this.totalPages;\n  }\n  /** This is only for state setting before data has been loaded */\n  setPage(page) {\n    this.currentPage = page;\n  }\n  get pageSize() {\n    if (_exists(this.pageSizeAutoCalculated) && this.gos.get(\"paginationAutoPageSize\")) {\n      return this.pageSizeAutoCalculated;\n    }\n    if (_exists(this.pageSizeFromPageSizeSelector)) {\n      return this.pageSizeFromPageSizeSelector;\n    }\n    if (_exists(this.pageSizeFromInitialState)) {\n      return this.pageSizeFromInitialState;\n    }\n    if (_exists(this.pageSizeFromGridOptions)) {\n      return this.pageSizeFromGridOptions;\n    }\n    return this.defaultPageSize;\n  }\n  calculatePages() {\n    if (this.active) {\n      if (this.paginateChildRows) {\n        this.calculatePagesAllRows();\n      } else {\n        this.calculatePagesMasterRowsOnly();\n      }\n    } else {\n      this.calculatedPagesNotActive();\n    }\n    this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex, this.bottomDisplayedRowIndex);\n  }\n  unsetAutoCalculatedPageSize() {\n    if (this.pageSizeAutoCalculated === void 0) {\n      return;\n    }\n    const oldPageSize = this.pageSizeAutoCalculated;\n    this.pageSizeAutoCalculated = void 0;\n    if (this.pageSize === oldPageSize) {\n      return;\n    }\n    this.calculatePages();\n    this.dispatchPaginationChangedEvent({ newPageSize: true });\n  }\n  setPageSize(size, source) {\n    const currentSize = this.pageSize;\n    switch (source) {\n      case \"autoCalculated\":\n        this.pageSizeAutoCalculated = size;\n        break;\n      case \"pageSizeSelector\":\n        this.pageSizeFromPageSizeSelector = size;\n        if (this.currentPage !== 0) {\n          this.goToFirstPage();\n        }\n        break;\n      case \"initialState\":\n        this.pageSizeFromInitialState = size;\n        break;\n      case \"gridOptions\":\n        this.pageSizeFromGridOptions = size;\n        this.pageSizeFromInitialState = void 0;\n        this.pageSizeFromPageSizeSelector = void 0;\n        if (this.currentPage !== 0) {\n          this.goToFirstPage();\n        }\n        break;\n    }\n    if (currentSize !== this.pageSize) {\n      this.calculatePages();\n      this.dispatchPaginationChangedEvent({ newPageSize: true, keepRenderedRows: true });\n    }\n  }\n  setZeroRows() {\n    this.masterRowCount = 0;\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = -1;\n    this.currentPage = 0;\n    this.totalPages = 0;\n  }\n  adjustCurrentPageIfInvalid() {\n    if (this.currentPage >= this.totalPages) {\n      this.currentPage = this.totalPages - 1;\n    }\n    if (!isFinite(this.currentPage) || isNaN(this.currentPage) || this.currentPage < 0) {\n      this.currentPage = 0;\n    }\n  }\n  calculatePagesMasterRowsOnly() {\n    this.masterRowCount = this.rowModel.getTopLevelRowCount();\n    if (this.masterRowCount <= 0) {\n      this.setZeroRows();\n      return;\n    }\n    const masterLastRowIndex = this.masterRowCount - 1;\n    this.totalPages = Math.floor(masterLastRowIndex / this.pageSize) + 1;\n    this.adjustCurrentPageIfInvalid();\n    const masterPageStartIndex = this.pageSize * this.currentPage;\n    let masterPageEndIndex = this.pageSize * (this.currentPage + 1) - 1;\n    if (masterPageEndIndex > masterLastRowIndex) {\n      masterPageEndIndex = masterLastRowIndex;\n    }\n    this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex);\n    if (masterPageEndIndex === masterLastRowIndex) {\n      this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    } else {\n      const firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1);\n      this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n    }\n  }\n  getMasterRowCount() {\n    return this.masterRowCount;\n  }\n  calculatePagesAllRows() {\n    this.masterRowCount = this.rowModel.getRowCount();\n    if (this.masterRowCount === 0) {\n      this.setZeroRows();\n      return;\n    }\n    const maxRowIndex = this.masterRowCount - 1;\n    this.totalPages = Math.floor(maxRowIndex / this.pageSize) + 1;\n    this.adjustCurrentPageIfInvalid();\n    this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n    this.bottomDisplayedRowIndex = this.pageSize * (this.currentPage + 1) - 1;\n    if (this.bottomDisplayedRowIndex > maxRowIndex) {\n      this.bottomDisplayedRowIndex = maxRowIndex;\n    }\n  }\n  calculatedPagesNotActive() {\n    this.setPageSize(void 0, \"autoCalculated\");\n    this.totalPages = 1;\n    this.currentPage = 0;\n    this.topDisplayedRowIndex = 0;\n    this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n  }\n  dispatchPaginationChangedEvent(params) {\n    const { keepRenderedRows = false, newPage = false, newPageSize = false } = params;\n    this.eventService.dispatchEvent({\n      type: \"paginationChanged\",\n      animate: false,\n      newData: false,\n      newPage,\n      newPageSize,\n      keepRenderedRows\n    });\n  }\n};\n\n// community-modules/core/src/pagination/paginationModule.ts\nvar PaginationCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/pagination-core\",\n  beans: [PaginationService, PaginationAutoPageSizeService]\n});\nvar PaginationApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/pagination-api\",\n  dependantModules: [PaginationCoreModule],\n  apiFunctions: {\n    paginationIsLastPageFound,\n    paginationGetPageSize,\n    paginationGetCurrentPage,\n    paginationGetTotalPages,\n    paginationGetRowCount,\n    paginationGoToNextPage,\n    paginationGoToPreviousPage,\n    paginationGoToFirstPage,\n    paginationGoToLastPage,\n    paginationGoToPage\n  }\n});\nvar PaginationModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/pagination\",\n  dependantModules: [PaginationCoreModule, PaginationApiModule]\n});\n\n// community-modules/core/src/validation/apiFunctionValidator.ts\nvar clientSide = \"clientSide\";\nvar serverSide = \"serverSide\";\nvar infinite = \"infinite\";\nvar functionRowModels = {\n  onGroupExpandedOrCollapsed: [clientSide],\n  refreshClientSideRowModel: [clientSide],\n  isRowDataEmpty: [clientSide],\n  forEachLeafNode: [clientSide],\n  forEachNodeAfterFilter: [clientSide],\n  forEachNodeAfterFilterAndSort: [clientSide],\n  resetRowHeights: [clientSide],\n  applyTransaction: [clientSide],\n  applyTransactionAsync: [clientSide],\n  flushAsyncTransactions: [clientSide],\n  getBestCostNodeSelection: [clientSide],\n  getServerSideSelectionState: [serverSide],\n  setServerSideSelectionState: [serverSide],\n  applyServerSideTransaction: [serverSide],\n  applyServerSideTransactionAsync: [serverSide],\n  applyServerSideRowData: [serverSide],\n  retryServerSideLoads: [serverSide],\n  flushServerSideAsyncTransactions: [serverSide],\n  refreshServerSide: [serverSide],\n  getServerSideGroupLevelState: [serverSide],\n  refreshInfiniteCache: [infinite],\n  purgeInfiniteCache: [infinite],\n  getInfiniteRowCount: [infinite],\n  isLastRowIndexKnown: [infinite, serverSide],\n  expandAll: [clientSide, serverSide],\n  collapseAll: [clientSide, serverSide],\n  onRowHeightChanged: [clientSide, serverSide],\n  setRowCount: [infinite, serverSide],\n  getCacheBlockState: [infinite, serverSide]\n};\nvar deprecatedFunctions = {\n  getValue: {\n    version: \"v31.3\",\n    new: \"getCellValue\"\n  },\n  getFirstDisplayedRow: {\n    version: \"v31.1\",\n    new: \"getFirstDisplayedRowIndex\"\n  },\n  getLastDisplayedRow: {\n    version: \"v31.1\",\n    new: \"getLastDisplayedRowIndex\"\n  },\n  getModel: {\n    version: \"v31.1\",\n    message: \"Please use the appropriate grid API methods instead.\"\n  },\n  setColumnVisible: {\n    version: \"v31.1\",\n    old: \"setColumnVisible(key,visible)\",\n    new: \"setColumnsVisible([key],visible)\"\n  },\n  setColumnPinned: {\n    version: \"v31.1\",\n    old: \"setColumnPinned(key,pinned)\",\n    new: \"setColumnsPinned([key],pinned)\"\n  },\n  moveColumn: {\n    version: \"v31.1\",\n    old: \"moveColumn(key, toIndex)\",\n    new: \"moveColumns([key], toIndex)\"\n  },\n  setColumnWidth: {\n    version: \"v31.1\",\n    old: \"setColumnWidth(col, width)\",\n    new: \"setColumnWidths([{key: col, newWidth: width}])\"\n  },\n  autoSizeColumn: {\n    version: \"v31.1\",\n    old: \"autoSizeColumn(key, skipHeader)\",\n    new: \"autoSizeColumns([key], skipHeader)\"\n  },\n  addAggFunc: {\n    version: \"v31.1\",\n    old: \"addAggFunc(key, func)\",\n    new: \"addAggFuncs({ key: func })\"\n  },\n  removeValueColumn: {\n    version: \"v31.1\",\n    old: \"removeValueColumn(colKey)\",\n    new: \"removeValueColumns([colKey])\"\n  },\n  addValueColumn: {\n    version: \"v31.1\",\n    old: \"addValueColumn(colKey)\",\n    new: \"addValueColumns([colKey])\"\n  },\n  removeRowGroupColumn: {\n    version: \"v31.1\",\n    old: \"removeRowGroupColumn(colKey)\",\n    new: \"removeRowGroupColumns([colKey])\"\n  },\n  addRowGroupColumn: {\n    version: \"v31.1\",\n    old: \"addRowGroupColumn(colKey)\",\n    new: \"addRowGroupColumns([colKey])\"\n  },\n  removePivotColumn: {\n    version: \"v31.1\",\n    old: \"removePivotColumn(colKey)\",\n    new: \"removePivotColumns([colKey])\"\n  },\n  addPivotColumn: {\n    version: \"v31.1\",\n    old: \"addPivotColumn(colKey)\",\n    new: \"addPivotColumns([colKey])\"\n  },\n  showColumnMenuAfterButtonClick: {\n    version: \"v31.1\",\n    message: `Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.`\n  },\n  showColumnMenuAfterMouseClick: {\n    version: \"v31.1\",\n    message: `Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.`\n  },\n  getFilterInstance: {\n    version: \"v31.1\",\n    message: `'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously.`\n  },\n  showLoadingOverlay: {\n    version: \"v32\",\n    message: '`showLoadingOverlay` is deprecated. Use the grid option \"loading\"=true instead or setGridOption(\"loading\", true).'\n  },\n  clearRangeSelection: {\n    version: \"v32.2\",\n    message: \"Use `clearCellSelection` instead.\"\n  },\n  getInfiniteRowCount: {\n    version: \"v32.2\",\n    old: \"getInfiniteRowCount()\",\n    new: \"getDisplayedRowCount()\"\n  }\n};\nfunction validateApiFunction(functionName, apiFunction, beans) {\n  const deprecation = deprecatedFunctions[functionName];\n  if (deprecation) {\n    const { version, new: replacement, old, message } = deprecation;\n    const apiMethod = old ?? functionName;\n    return (...args) => {\n      const replacementMessage = replacement ? `Please use ${replacement} instead. ` : \"\";\n      _warnOnce(`Since ${version} api.${apiMethod} is deprecated. ${replacementMessage}${message ?? \"\"}`);\n      return apiFunction.apply(apiFunction, args);\n    };\n  }\n  const rowModels = functionRowModels[functionName];\n  if (rowModels) {\n    return (...args) => {\n      const rowModel = beans.rowModel.getType();\n      if (!rowModels.includes(rowModel)) {\n        _errorOnce(\n          `api.${functionName} can only be called when gridOptions.rowModelType is ${rowModels.join(\" or \")}`\n        );\n        return void 0;\n      }\n      return apiFunction.apply(apiFunction, args);\n    };\n  }\n  return apiFunction;\n}\n\n// community-modules/core/src/validation/rules/colDefValidations.ts\nvar COLUMN_DEFINITION_DEPRECATIONS = {\n  columnsMenuParams: { version: \"31.1\", message: \"Use `columnChooserParams` instead.\" },\n  suppressMenu: { version: \"31.1\", message: \"Use `suppressHeaderMenuButton` instead.\" },\n  suppressCellFlash: { version: \"31.2\", message: \"Use `enableCellChangeFlash={false}` in the ColDef\" },\n  checkboxSelection: { version: \"32.2\", message: \"Use `rowSelection.checkboxes` in `GridOptions` instead.\" },\n  headerCheckboxSelection: {\n    version: \"32.2\",\n    message: \"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead.\"\n  },\n  headerCheckboxSelectionFilteredOnly: {\n    version: \"32.2\",\n    message: 'Use `rowSelection.selectAll = \"filtered\"` in `GridOptions` instead.'\n  },\n  headerCheckboxSelectionCurrentPageOnly: {\n    version: \"32.2\",\n    message: 'Use `rowSelection.selectAll = \"currentPage\"` in `GridOptions` instead.'\n  },\n  showDisabledCheckboxes: {\n    version: \"32.2\",\n    message: \"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead.\"\n  }\n};\nvar CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE = (_options, gridOptions) => {\n  const rowModel = gridOptions.rowModelType ?? \"clientSide\";\n  if (rowModel === \"clientSide\" || rowModel === \"serverSide\") {\n    return { module: \"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */ };\n  }\n  return null;\n};\nvar COLUMN_DEFINITION_VALIDATIONS = {\n  // supported on all row models, but need module for client side.\n  enableRowGroup: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  rowGroup: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  rowGroupIndex: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  enablePivot: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  enableValue: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  pivot: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  pivotIndex: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  aggFunc: CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,\n  cellEditor: (options) => {\n    if (options.cellEditor === \"agRichSelect\" || options.cellEditor === \"agRichSelectCellEditor\") {\n      return { module: \"@ag-grid-enterprise/rich-select\" /* RichSelectModule */ };\n    }\n    return null;\n  },\n  menuTabs: (options) => {\n    const enterpriseMenuTabs = [\"columnsMenuTab\", \"generalMenuTab\"];\n    if (options.menuTabs?.some((tab) => enterpriseMenuTabs.includes(tab))) {\n      return {\n        module: \"@ag-grid-enterprise/menu\" /* MenuModule */\n      };\n    }\n    return null;\n  },\n  columnsMenuParams: {\n    module: [\"@ag-grid-enterprise/menu\" /* MenuModule */, \"@ag-grid-enterprise/column-tool-panel\" /* ColumnsToolPanelModule */]\n  },\n  columnChooserParams: {\n    module: [\"@ag-grid-enterprise/menu\" /* MenuModule */, \"@ag-grid-enterprise/column-tool-panel\" /* ColumnsToolPanelModule */]\n  },\n  headerCheckboxSelection: {\n    supportedRowModels: [\"clientSide\", \"serverSide\"],\n    validate: (_options, { rowSelection }) => rowSelection === \"multiple\" ? null : \"headerCheckboxSelection is only supported with rowSelection=multiple\"\n  },\n  headerCheckboxSelectionFilteredOnly: {\n    supportedRowModels: [\"clientSide\"],\n    validate: (_options, { rowSelection }) => rowSelection === \"multiple\" ? null : \"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple\"\n  },\n  headerCheckboxSelectionCurrentPageOnly: {\n    supportedRowModels: [\"clientSide\"],\n    validate: (_options, { rowSelection }) => rowSelection === \"multiple\" ? null : \"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple\"\n  },\n  children: () => COL_DEF_VALIDATORS\n};\nvar colDefPropertyMap = {\n  headerName: void 0,\n  columnGroupShow: void 0,\n  headerClass: void 0,\n  toolPanelClass: void 0,\n  headerValueGetter: void 0,\n  pivotKeys: void 0,\n  groupId: void 0,\n  colId: void 0,\n  sort: void 0,\n  initialSort: void 0,\n  field: void 0,\n  type: void 0,\n  cellDataType: void 0,\n  tooltipComponent: void 0,\n  tooltipField: void 0,\n  headerTooltip: void 0,\n  cellClass: void 0,\n  showRowGroup: void 0,\n  filter: void 0,\n  initialAggFunc: void 0,\n  defaultAggFunc: void 0,\n  aggFunc: void 0,\n  pinned: void 0,\n  initialPinned: void 0,\n  chartDataType: void 0,\n  cellAriaRole: void 0,\n  cellEditorPopupPosition: void 0,\n  headerGroupComponent: void 0,\n  headerGroupComponentParams: void 0,\n  cellStyle: void 0,\n  cellRenderer: void 0,\n  cellRendererParams: void 0,\n  cellEditor: void 0,\n  cellEditorParams: void 0,\n  filterParams: void 0,\n  pivotValueColumn: void 0,\n  headerComponent: void 0,\n  headerComponentParams: void 0,\n  floatingFilterComponent: void 0,\n  floatingFilterComponentParams: void 0,\n  tooltipComponentParams: void 0,\n  refData: void 0,\n  columnsMenuParams: void 0,\n  columnChooserParams: void 0,\n  children: void 0,\n  sortingOrder: void 0,\n  allowedAggFuncs: void 0,\n  menuTabs: void 0,\n  pivotTotalColumnIds: void 0,\n  cellClassRules: void 0,\n  icons: void 0,\n  sortIndex: void 0,\n  initialSortIndex: void 0,\n  flex: void 0,\n  initialFlex: void 0,\n  width: void 0,\n  initialWidth: void 0,\n  minWidth: void 0,\n  maxWidth: void 0,\n  rowGroupIndex: void 0,\n  initialRowGroupIndex: void 0,\n  pivotIndex: void 0,\n  initialPivotIndex: void 0,\n  suppressCellFlash: void 0,\n  suppressColumnsToolPanel: void 0,\n  suppressFiltersToolPanel: void 0,\n  openByDefault: void 0,\n  marryChildren: void 0,\n  suppressStickyLabel: void 0,\n  hide: void 0,\n  initialHide: void 0,\n  rowGroup: void 0,\n  initialRowGroup: void 0,\n  pivot: void 0,\n  initialPivot: void 0,\n  checkboxSelection: void 0,\n  showDisabledCheckboxes: void 0,\n  headerCheckboxSelection: void 0,\n  headerCheckboxSelectionFilteredOnly: void 0,\n  headerCheckboxSelectionCurrentPageOnly: void 0,\n  suppressMenu: void 0,\n  suppressHeaderMenuButton: void 0,\n  suppressMovable: void 0,\n  lockPosition: void 0,\n  lockVisible: void 0,\n  lockPinned: void 0,\n  unSortIcon: void 0,\n  suppressSizeToFit: void 0,\n  suppressAutoSize: void 0,\n  enableRowGroup: void 0,\n  enablePivot: void 0,\n  enableValue: void 0,\n  editable: void 0,\n  suppressPaste: void 0,\n  suppressNavigable: void 0,\n  enableCellChangeFlash: void 0,\n  rowDrag: void 0,\n  dndSource: void 0,\n  autoHeight: void 0,\n  wrapText: void 0,\n  sortable: void 0,\n  resizable: void 0,\n  singleClickEdit: void 0,\n  floatingFilter: void 0,\n  cellEditorPopup: void 0,\n  suppressFillHandle: void 0,\n  wrapHeaderText: void 0,\n  autoHeaderHeight: void 0,\n  dndSourceOnRowDrag: void 0,\n  valueGetter: void 0,\n  valueSetter: void 0,\n  filterValueGetter: void 0,\n  keyCreator: void 0,\n  valueFormatter: void 0,\n  valueParser: void 0,\n  comparator: void 0,\n  equals: void 0,\n  pivotComparator: void 0,\n  suppressKeyboardEvent: void 0,\n  suppressHeaderKeyboardEvent: void 0,\n  colSpan: void 0,\n  rowSpan: void 0,\n  getQuickFilterText: void 0,\n  onCellValueChanged: void 0,\n  onCellClicked: void 0,\n  onCellDoubleClicked: void 0,\n  onCellContextMenu: void 0,\n  rowDragText: void 0,\n  tooltipValueGetter: void 0,\n  cellRendererSelector: void 0,\n  cellEditorSelector: void 0,\n  suppressSpanHeaderHeight: void 0,\n  useValueFormatterForExport: void 0,\n  useValueParserForImport: void 0,\n  mainMenuItems: void 0,\n  contextMenuItems: void 0,\n  suppressFloatingFilterButton: void 0,\n  suppressHeaderFilterButton: void 0,\n  suppressHeaderContextMenu: void 0,\n  loadingCellRenderer: void 0,\n  loadingCellRendererParams: void 0,\n  loadingCellRendererSelector: void 0,\n  context: void 0\n};\nvar ALL_PROPERTIES = Object.keys(colDefPropertyMap);\nvar COL_DEF_VALIDATORS = {\n  objectName: \"colDef\",\n  allProperties: ALL_PROPERTIES,\n  docsUrl: \"column-properties/\",\n  deprecations: COLUMN_DEFINITION_DEPRECATIONS,\n  validations: COLUMN_DEFINITION_VALIDATIONS\n};\n\n// community-modules/core/src/validation/rules/gridOptionsValidations.ts\nvar GRID_OPTION_DEPRECATIONS = () => ({\n  advancedFilterModel: { version: \"31\", message: \"Use `initialState.filter.advancedFilterModel` instead.\" },\n  suppressAsyncEvents: { version: \"31\", message: \"Events should be handled asynchronously.\" },\n  cellFadeDelay: { version: \"31.1\", renamed: \"cellFadeDuration\" },\n  cellFlashDelay: { version: \"31.1\", renamed: \"cellFlashDuration\" },\n  suppressServerSideInfiniteScroll: { version: \"31.1\" },\n  serverSideSortOnServer: { version: \"31.1\" },\n  serverSideFilterOnServer: { version: \"31.1\" },\n  enableCellChangeFlash: {\n    version: \"31.2\",\n    message: \"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns.\"\n  },\n  groupIncludeFooter: { version: \"31.3\", message: \"Use `groupTotalRow` instead.\" },\n  groupIncludeTotalFooter: { version: \"31.3\", message: \"Use `grandTotalRow` instead.\" },\n  suppressLoadingOverlay: { version: \"32\", message: \"Use `loading`=false instead.\" },\n  enableFillHandle: { version: \"32.2\", message: \"Use `cellSelection.handle` instead.\" },\n  enableRangeHandle: { version: \"32.2\", message: \"Use `cellSelection.handle` instead.\" },\n  enableRangeSelection: { version: \"32.2\", message: \"Use `cellSelection = true` instead.\" },\n  suppressMultiRangeSelection: {\n    version: \"32.2\",\n    message: \"Use `cellSelection.suppressMultiRanges` instead.\"\n  },\n  suppressClearOnFillReduction: {\n    version: \"32.2\",\n    message: \"Use `cellSelection.handle.suppressClearOnFillReduction` instead.\"\n  },\n  fillHandleDirection: { version: \"32.2\", message: \"Use `cellSelection.handle.direction` instead.\" },\n  fillOperation: { version: \"32.2\", message: \"Use `cellSelection.handle.setFillValue` instead.\" },\n  suppressRowClickSelection: {\n    version: \"32.2\",\n    message: \"Use `rowSelection.enableClickSelection` instead.\"\n  },\n  suppressRowDeselection: { version: \"32.2\", message: \"Use `rowSelection.enableClickSelection` instead.\" },\n  rowMultiSelectWithClick: {\n    version: \"32.2\",\n    message: \"Use `rowSelection.enableSelectionWithoutKeys` instead.\"\n  },\n  groupSelectsChildren: {\n    version: \"32.2\",\n    message: 'Use `rowSelection.groupSelects = \"descendants\"` instead.'\n  },\n  groupSelectsFiltered: {\n    version: \"32.2\",\n    message: 'Use `rowSelection.groupSelects = \"filteredDescendants\"` instead.'\n  },\n  isRowSelectable: { version: \"32.2\", message: \"Use `selectionOptions.isRowSelectable` instead.\" },\n  suppressCopySingleCellRanges: { version: \"32.2\", message: \"Use `rowSelection.copySelectedRows` instead.\" },\n  suppressCopyRowsToClipboard: { version: \"32.2\", message: \"Use `rowSelection.copySelectedRows` instead.\" },\n  onRangeSelectionChanged: { version: \"32.2\", message: \"Use `onCellSelectionChanged` instead.\" },\n  onRangeDeleteStart: { version: \"32.2\", message: \"Use `onCellSelectionDeleteStart` instead.\" },\n  onRangeDeleteEnd: { version: \"32.2\", message: \"Use `onCellSelectionDeleteEnd` instead.\" },\n  suppressBrowserResizeObserver: {\n    version: \"32.2\",\n    message: \"The grid always uses the browser's ResizeObserver, this grid option has no effect.\"\n  },\n  onColumnEverythingChanged: {\n    version: \"32.2\",\n    message: \"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events.\"\n  }\n});\nvar GRID_OPTION_DEFAULTS = {\n  suppressContextMenu: false,\n  preventDefaultOnContextMenu: false,\n  allowContextMenuWithControlKey: false,\n  suppressMenuHide: true,\n  enableBrowserTooltips: false,\n  tooltipTrigger: \"hover\",\n  tooltipShowDelay: 2e3,\n  tooltipHideDelay: 1e4,\n  tooltipMouseTrack: false,\n  tooltipShowMode: \"standard\",\n  tooltipInteraction: false,\n  copyHeadersToClipboard: false,\n  copyGroupHeadersToClipboard: false,\n  clipboardDelimiter: \"\t\",\n  suppressCopyRowsToClipboard: false,\n  suppressCopySingleCellRanges: false,\n  suppressLastEmptyLineOnPaste: false,\n  suppressClipboardPaste: false,\n  suppressClipboardApi: false,\n  suppressCutToClipboard: false,\n  maintainColumnOrder: false,\n  enableStrictPivotColumnOrder: false,\n  suppressFieldDotNotation: false,\n  allowDragFromColumnsToolPanel: false,\n  suppressMovableColumns: false,\n  suppressColumnMoveAnimation: false,\n  suppressMoveWhenColumnDragging: false,\n  suppressDragLeaveHidesColumns: false,\n  suppressRowGroupHidesColumns: false,\n  suppressAutoSize: false,\n  autoSizePadding: 20,\n  skipHeaderOnAutoSize: false,\n  singleClickEdit: false,\n  suppressClickEdit: false,\n  readOnlyEdit: false,\n  stopEditingWhenCellsLoseFocus: false,\n  enterNavigatesVertically: false,\n  enterNavigatesVerticallyAfterEdit: false,\n  enableCellEditingOnBackspace: false,\n  undoRedoCellEditing: false,\n  undoRedoCellEditingLimit: 10,\n  suppressCsvExport: false,\n  suppressExcelExport: false,\n  cacheQuickFilter: false,\n  includeHiddenColumnsInQuickFilter: false,\n  excludeChildrenWhenTreeDataFiltering: false,\n  enableAdvancedFilter: false,\n  includeHiddenColumnsInAdvancedFilter: false,\n  enableCharts: false,\n  masterDetail: false,\n  keepDetailRows: false,\n  keepDetailRowsCount: 10,\n  detailRowAutoHeight: false,\n  tabIndex: 0,\n  rowBuffer: 10,\n  valueCache: false,\n  valueCacheNeverExpires: false,\n  enableCellExpressions: false,\n  suppressTouch: false,\n  suppressFocusAfterRefresh: false,\n  suppressAsyncEvents: false,\n  suppressBrowserResizeObserver: false,\n  suppressPropertyNamesCheck: false,\n  suppressChangeDetection: false,\n  debug: false,\n  suppressLoadingOverlay: false,\n  suppressNoRowsOverlay: false,\n  pagination: false,\n  paginationPageSize: 100,\n  paginationPageSizeSelector: true,\n  paginationAutoPageSize: false,\n  paginateChildRows: false,\n  suppressPaginationPanel: false,\n  pivotMode: false,\n  pivotPanelShow: \"never\",\n  pivotDefaultExpanded: 0,\n  pivotSuppressAutoColumn: false,\n  suppressExpandablePivotGroups: false,\n  functionsReadOnly: false,\n  suppressAggFuncInHeader: false,\n  alwaysAggregateAtRootLevel: false,\n  aggregateOnlyChangedColumns: false,\n  suppressAggFilteredOnly: false,\n  removePivotHeaderRowWhenSingleValueColumn: false,\n  animateRows: true,\n  enableCellChangeFlash: false,\n  cellFlashDelay: 500,\n  cellFlashDuration: 500,\n  cellFadeDelay: 1e3,\n  cellFadeDuration: 1e3,\n  allowShowChangeAfterFilter: false,\n  domLayout: \"normal\",\n  ensureDomOrder: false,\n  enableRtl: false,\n  suppressColumnVirtualisation: false,\n  suppressMaxRenderedRowRestriction: false,\n  suppressRowVirtualisation: false,\n  rowDragManaged: false,\n  suppressRowDrag: false,\n  suppressMoveWhenRowDragging: false,\n  rowDragEntireRow: false,\n  rowDragMultiRow: false,\n  embedFullWidthRows: false,\n  groupDisplayType: \"singleColumn\",\n  groupDefaultExpanded: 0,\n  groupMaintainOrder: false,\n  groupSelectsChildren: false,\n  groupIncludeTotalFooter: false,\n  groupSuppressBlankHeader: false,\n  groupSelectsFiltered: false,\n  showOpenedGroup: false,\n  groupRemoveSingleChildren: false,\n  groupRemoveLowestSingleChildren: false,\n  groupHideOpenParents: false,\n  groupAllowUnbalanced: false,\n  rowGroupPanelShow: \"never\",\n  suppressMakeColumnVisibleAfterUnGroup: false,\n  treeData: false,\n  rowGroupPanelSuppressSort: false,\n  suppressGroupRowsSticky: false,\n  rowModelType: \"clientSide\",\n  asyncTransactionWaitMillis: 50,\n  suppressModelUpdateAfterUpdateTransaction: false,\n  cacheOverflowSize: 1,\n  infiniteInitialRowCount: 1,\n  serverSideInitialRowCount: 1,\n  suppressServerSideInfiniteScroll: false,\n  cacheBlockSize: 100,\n  maxBlocksInCache: -1,\n  maxConcurrentDatasourceRequests: 2,\n  blockLoadDebounceMillis: 0,\n  purgeClosedRowNodes: false,\n  serverSideSortAllLevels: false,\n  serverSideOnlyRefreshFilteredGroups: false,\n  serverSideSortOnServer: false,\n  serverSideFilterOnServer: false,\n  serverSidePivotResultFieldSeparator: \"_\",\n  viewportRowModelPageSize: 5,\n  viewportRowModelBufferSize: 5,\n  alwaysShowHorizontalScroll: false,\n  alwaysShowVerticalScroll: false,\n  debounceVerticalScrollbar: false,\n  suppressHorizontalScroll: false,\n  suppressScrollOnNewData: false,\n  suppressScrollWhenPopupsAreOpen: false,\n  suppressAnimationFrame: false,\n  suppressMiddleClickScrolls: false,\n  suppressPreventDefaultOnMouseWheel: false,\n  rowMultiSelectWithClick: false,\n  suppressRowDeselection: false,\n  suppressRowClickSelection: false,\n  suppressCellFocus: false,\n  suppressHeaderFocus: false,\n  suppressMultiRangeSelection: false,\n  enableCellTextSelection: false,\n  enableRangeSelection: false,\n  enableRangeHandle: false,\n  enableFillHandle: false,\n  fillHandleDirection: \"xy\",\n  suppressClearOnFillReduction: false,\n  accentedSort: false,\n  unSortIcon: false,\n  suppressMultiSort: false,\n  alwaysMultiSort: false,\n  suppressMaintainUnsortedOrder: false,\n  suppressRowHoverHighlight: false,\n  suppressRowTransform: false,\n  columnHoverHighlight: false,\n  deltaSort: false,\n  enableGroupEdit: false,\n  suppressGroupMaintainValueType: false,\n  groupLockGroupColumns: 0,\n  serverSideEnableClientSideSort: false,\n  suppressServerSideFullWidthLoadingRow: false,\n  pivotMaxGeneratedColumns: -1,\n  columnMenu: \"new\",\n  reactiveCustomComponents: true,\n  suppressSetFilterByDefault: false\n};\nvar GRID_OPTION_VALIDATIONS = () => ({\n  sideBar: { module: \"@ag-grid-enterprise/side-bar\" /* SideBarModule */ },\n  statusBar: { module: \"@ag-grid-enterprise/status-bar\" /* StatusBarModule */ },\n  enableCharts: { module: \"@ag-grid-enterprise/charts\" /* GridChartsModule */ },\n  getMainMenuItems: { module: \"@ag-grid-enterprise/menu\" /* MenuModule */ },\n  getContextMenuItems: { module: \"@ag-grid-enterprise/menu\" /* MenuModule */ },\n  allowContextMenuWithControlKey: { module: \"@ag-grid-enterprise/menu\" /* MenuModule */ },\n  enableAdvancedFilter: { module: \"@ag-grid-enterprise/advanced-filter\" /* AdvancedFilterModule */ },\n  treeData: {\n    supportedRowModels: [\"clientSide\", \"serverSide\"],\n    module: \"@ag-grid-enterprise/row-grouping\" /* RowGroupingModule */,\n    validate: (options) => {\n      const rowModel = options.rowModelType ?? \"clientSide\";\n      switch (rowModel) {\n        case \"clientSide\": {\n          const csrmWarning = `treeData requires 'getDataPath' in the ${rowModel} row model.`;\n          return options.getDataPath ? null : csrmWarning;\n        }\n        case \"serverSide\": {\n          const ssrmWarning = `treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${rowModel} row model.`;\n          return options.isServerSideGroup && options.getServerSideGroupKey ? null : ssrmWarning;\n        }\n      }\n      return null;\n    }\n  },\n  masterDetail: { module: \"@ag-grid-enterprise/master-detail\" /* MasterDetailModule */ },\n  enableRangeSelection: { module: \"@ag-grid-enterprise/range-selection\" /* RangeSelectionModule */ },\n  enableRangeHandle: {\n    dependencies: {\n      enableRangeSelection: [true]\n    }\n  },\n  enableFillHandle: {\n    dependencies: {\n      enableRangeSelection: [true]\n    }\n  },\n  groupDefaultExpanded: {\n    supportedRowModels: [\"clientSide\"]\n  },\n  groupIncludeFooter: {\n    supportedRowModels: [\"clientSide\", \"serverSide\"],\n    validate: (options) => {\n      const rowModel = options.rowModelType ?? \"clientSide\";\n      switch (rowModel) {\n        case \"clientSide\":\n          return null;\n        case \"serverSide\": {\n          const warning = \"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll\";\n          return options.suppressServerSideInfiniteScroll ? warning : null;\n        }\n      }\n      return null;\n    }\n  },\n  groupHideOpenParents: {\n    supportedRowModels: [\"clientSide\", \"serverSide\"],\n    dependencies: {\n      groupTotalRow: [void 0, \"bottom\"]\n    }\n  },\n  groupIncludeTotalFooter: {\n    supportedRowModels: [\"clientSide\"]\n  },\n  groupRemoveSingleChildren: {\n    dependencies: {\n      groupHideOpenParents: [void 0, false],\n      groupRemoveLowestSingleChildren: [void 0, false]\n    }\n  },\n  groupRemoveLowestSingleChildren: {\n    dependencies: {\n      groupHideOpenParents: [void 0, false],\n      groupRemoveSingleChildren: [void 0, false]\n    }\n  },\n  groupSelectsChildren: {\n    dependencies: {\n      rowSelection: [\"multiple\"]\n    }\n  },\n  viewportDatasource: {\n    supportedRowModels: [\"viewport\"],\n    module: \"@ag-grid-enterprise/viewport-row-model\" /* ViewportRowModelModule */\n  },\n  serverSideDatasource: {\n    supportedRowModels: [\"serverSide\"],\n    module: \"@ag-grid-enterprise/server-side-row-model\" /* ServerSideRowModelModule */\n  },\n  cacheBlockSize: {\n    supportedRowModels: [\"serverSide\", \"infinite\"]\n  },\n  datasource: {\n    supportedRowModels: [\"infinite\"],\n    module: \"@ag-grid-community/infinite-row-model\" /* InfiniteRowModelModule */\n  },\n  rowData: {\n    supportedRowModels: [\"clientSide\"],\n    module: \"@ag-grid-community/client-side-row-model\" /* ClientSideRowModelModule */\n  },\n  paginationPageSizeSelector: {\n    validate: (options) => {\n      const values = options.paginationPageSizeSelector;\n      if (typeof values === \"boolean\" || values == null) {\n        return null;\n      }\n      if (!values.length) {\n        return `'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`;\n      }\n      return null;\n    }\n  },\n  rowSelection: {\n    validate({ rowSelection }) {\n      if (rowSelection && typeof rowSelection === \"string\") {\n        return 'As of version 32.2.1, using `rowSelection` with the values \"single\" or \"multiple\" has been deprecated. Use the object value instead.';\n      }\n      if (rowSelection && typeof rowSelection !== \"object\") {\n        return \"Expected `RowSelectionOptions` object for the `rowSelection` property.\";\n      }\n      return null;\n    }\n  },\n  cellSelection: {\n    module: \"@ag-grid-enterprise/range-selection\" /* RangeSelectionModule */\n  },\n  columnDefs: () => COL_DEF_VALIDATORS,\n  defaultColDef: () => COL_DEF_VALIDATORS,\n  defaultColGroupDef: () => COL_DEF_VALIDATORS,\n  autoGroupColumnDef: () => COL_DEF_VALIDATORS,\n  selectionColumnDef: () => COL_DEF_VALIDATORS\n});\nvar GRID_OPTIONS_VALIDATORS = () => ({\n  objectName: \"gridOptions\",\n  allProperties: [...PropertyKeys.ALL_PROPERTIES, ...ComponentUtil.EVENT_CALLBACKS],\n  propertyExceptions: [\"api\"],\n  docsUrl: \"grid-options/\",\n  deprecations: GRID_OPTION_DEPRECATIONS(),\n  validations: GRID_OPTION_VALIDATIONS()\n});\n\n// community-modules/core/src/validation/validationService.ts\nvar ValidationService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"validationService\";\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n    this.gridOptions = beans.gridOptions;\n  }\n  postConstruct() {\n    this.processGridOptions(this.gridOptions);\n  }\n  processGridOptions(options) {\n    this.processOptions(options, GRID_OPTIONS_VALIDATORS());\n  }\n  validateApiFunction(functionName, apiFunction) {\n    return validateApiFunction(functionName, apiFunction, this.beans);\n  }\n  processOptions(options, validator) {\n    const { validations, deprecations, allProperties, propertyExceptions, objectName, docsUrl } = validator;\n    if (allProperties && this.gridOptions.suppressPropertyNamesCheck !== true) {\n      this.checkProperties(\n        options,\n        [...propertyExceptions ?? [], ...Object.keys(deprecations)],\n        allProperties,\n        objectName,\n        docsUrl\n      );\n    }\n    const warnings = /* @__PURE__ */ new Set();\n    const optionKeys = Object.keys(options);\n    optionKeys.forEach((key) => {\n      const deprecation = deprecations[key];\n      if (deprecation) {\n        if (\"renamed\" in deprecation) {\n          const { renamed, version } = deprecation;\n          warnings.add(\n            `As of v${version}, ${String(key)} is deprecated. Please use ${String(renamed)} instead.`\n          );\n          options[renamed] = options[key];\n        } else {\n          const { message, version } = deprecation;\n          warnings.add(`As of v${version}, ${String(key)} is deprecated. ${message ?? \"\"}`);\n        }\n      }\n      const value = options[key];\n      if (value == null || value === false) {\n        return;\n      }\n      const rulesOrGetter = validations[key];\n      let rules;\n      if (!rulesOrGetter) {\n        return;\n      } else if (typeof rulesOrGetter === \"function\") {\n        const fromGetter = rulesOrGetter(options, this.gridOptions);\n        if (!fromGetter) {\n          return;\n        }\n        if (\"objectName\" in fromGetter) {\n          const value2 = options[key];\n          if (Array.isArray(value2)) {\n            value2.forEach((item) => {\n              this.processOptions(item, fromGetter);\n            });\n            return;\n          }\n          this.processOptions(options[key], fromGetter);\n          return;\n        }\n        rules = fromGetter;\n      } else {\n        rules = rulesOrGetter;\n      }\n      const { module, dependencies, validate, supportedRowModels } = rules;\n      if (supportedRowModels) {\n        const rowModel = this.gridOptions.rowModelType ?? \"clientSide\";\n        if (!supportedRowModels.includes(rowModel)) {\n          warnings.add(`${String(key)} is not supported with the '${rowModel}' row model.`);\n          return;\n        }\n      }\n      if (module) {\n        const modules = Array.isArray(module) ? module : [module];\n        let allRegistered = true;\n        modules.forEach((m) => {\n          if (!this.gos.assertModuleRegistered(m, String(key))) {\n            allRegistered = false;\n            warnings.add(`${String(key)} is only available when ${m} is loaded.`);\n          }\n        });\n        if (!allRegistered) {\n          return;\n        }\n      }\n      if (dependencies) {\n        const warning = this.checkForRequiredDependencies(key, dependencies, options);\n        if (warning) {\n          warnings.add(warning);\n          return;\n        }\n      }\n      if (validate) {\n        const warning = validate(options, this.gridOptions);\n        if (warning) {\n          warnings.add(warning);\n          return;\n        }\n      }\n    });\n    if (warnings.size > 0) {\n      warnings.forEach((warning) => {\n        _warnOnce(warning);\n      });\n    }\n  }\n  checkForRequiredDependencies(key, validator, options) {\n    const optionEntries = Object.entries(validator);\n    const failed = optionEntries.find(([key2, value]) => {\n      const gridOptionValue = options[key2];\n      return !value.includes(gridOptionValue);\n    });\n    if (!failed) {\n      return null;\n    }\n    const [failedKey, possibleOptions] = failed;\n    if (possibleOptions.length > 1) {\n      return `'${String(key)}' requires '${failedKey}' to be one of [${possibleOptions.join(\", \")}].`;\n    }\n    return `'${String(key)}' requires '${failedKey}' to be ${possibleOptions[0]}.`;\n  }\n  checkProperties(object, exceptions, validProperties, containerName, docsUrl) {\n    const VUE_FRAMEWORK_PROPS = [\"__ob__\", \"__v_skip\", \"__metadata__\"];\n    const invalidProperties = _fuzzyCheckStrings(\n      Object.getOwnPropertyNames(object),\n      [...VUE_FRAMEWORK_PROPS, ...exceptions, ...validProperties],\n      validProperties\n    );\n    _iterateObject(invalidProperties, (key, value) => {\n      let message = `invalid ${containerName} property '${key}' did you mean any of these: ${value.slice(0, 8).join(\", \")}.`;\n      if (validProperties.includes(\"context\")) {\n        message += `\nIf you are trying to annotate ${containerName} with application data, use the '${containerName}.context' property instead.`;\n      }\n      _warnOnce(message);\n    });\n    if (Object.keys(invalidProperties).length > 0 && docsUrl) {\n      const url = this.getFrameworkOverrides().getDocLink(docsUrl);\n      _warnOnce(`to see all the valid ${containerName} properties please check: ${url}`);\n    }\n  }\n};\nfunction _fuzzyCheckStrings(inputValues, validValues, allSuggestions) {\n  const fuzzyMatches = {};\n  const invalidInputs = inputValues.filter(\n    (inputValue) => !validValues.some((validValue) => validValue === inputValue)\n  );\n  if (invalidInputs.length > 0) {\n    invalidInputs.forEach(\n      (invalidInput) => fuzzyMatches[invalidInput] = _fuzzySuggestions({ inputValue: invalidInput, allSuggestions }).values\n    );\n  }\n  return fuzzyMatches;\n}\n\n// community-modules/core/src/gridCoreModule.ts\nvar GridCoreModule = {\n  version: VERSION,\n  moduleName: \"@ag-grid-community/core\" /* CommunityCoreModule */\n};\nvar ValidationsModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/core-validations\",\n  beans: [ValidationService]\n});\nvar CommunityFeaturesModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/core-community-features\",\n  dependantModules: [\n    GridCoreModule,\n    ValidationsModule,\n    EditModule,\n    FilterModule,\n    StateModule,\n    DataTypeModule,\n    AlignedGridsModule,\n    PaginationModule,\n    CommunityApiModule\n  ]\n});\n\n// community-modules/core/src/gridDestroyService.ts\nvar GridDestroyService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"gridDestroyService\";\n    this.destroyCalled = false;\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n  }\n  destroy() {\n    if (this.destroyCalled) {\n      return;\n    }\n    this.eventService.dispatchEvent({\n      type: \"gridPreDestroyed\",\n      state: this.beans.stateService?.getState() ?? {}\n    });\n    this.destroyCalled = true;\n    this.beans.ctrlsService.get(\"gridCtrl\")?.destroyGridUi();\n    this.beans.context.destroy();\n    super.destroy();\n  }\n  isDestroyCalled() {\n    return this.destroyCalled;\n  }\n};\n\n// community-modules/core/src/events.ts\nvar ALWAYS_SYNC_GLOBAL_EVENTS = /* @__PURE__ */ new Set([\"gridPreDestroyed\", \"fillStart\", \"pasteStart\"]);\nvar isSelectionUIEvent = (source) => {\n  return source === \"checkboxSelected\" || source === \"rowClicked\" || source === \"spaceKey\" || source === \"uiSelectAll\" || source === \"uiSelectAllCurrentPage\" || source === \"uiSelectAllFiltered\";\n};\n\n// community-modules/core/src/gridOptionsService.ts\nvar PROPERTY_COERCIONS = new Map([\n  ...PropertyKeys.BOOLEAN_PROPERTIES.map((key) => [key, toBoolean]),\n  ...PropertyKeys.NUMBER_PROPERTIES.map((key) => [key, toNumber]),\n  [\"groupAggFiltering\", (val) => typeof val === \"function\" ? val : toBoolean(val)],\n  [\"pageSize\", toConstrainedNum(1)],\n  [\"autoSizePadding\", toConstrainedNum(0)],\n  [\"keepDetailRowsCount\", toConstrainedNum(1)],\n  [\"rowBuffer\", toConstrainedNum(0)],\n  [\"infiniteInitialRowCount\", toConstrainedNum(1)],\n  [\"cacheOverflowSize\", toConstrainedNum(1)],\n  [\"cacheBlockSize\", toConstrainedNum(1)],\n  [\"serverSideInitialRowCount\", toConstrainedNum(1)],\n  [\"viewportRowModelPageSize\", toConstrainedNum(1)],\n  [\"viewportRowModelBufferSize\", toConstrainedNum(0)]\n]);\nfunction getCoercedValue(key, value) {\n  const coerceFunc = PROPERTY_COERCIONS.get(key);\n  if (!coerceFunc) {\n    return value;\n  }\n  return coerceFunc(value);\n}\nfunction getCoercedGridOptions(gridOptions) {\n  const newGo = {};\n  Object.entries(gridOptions).forEach(([key, value]) => {\n    const coercedValue = getCoercedValue(key, value);\n    newGo[key] = coercedValue;\n  });\n  return newGo;\n}\nvar _GridOptionsService = class _GridOptionsService extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"gos\";\n    // Used to hold user events until the grid is ready\n    // Required to support React 19 StrictMode. See IFrameworkOverrides.runWhenReadyAsync but also is likely a good idea that onGridReady is the first event fired.\n    this.gridReadyFired = false;\n    this.queueEvents = [];\n    this.domDataKey = \"__AG_\" + Math.random().toString();\n    this.propertyEventService = new LocalEventService();\n    // responsible for calling the onXXX functions on gridOptions\n    // It forces events defined in GridOptionsService.alwaysSyncGlobalEvents to be fired synchronously.\n    // This is required for events such as GridPreDestroyed.\n    // Other events can be fired asynchronously or synchronously depending on config.\n    this.globalEventHandlerFactory = (restrictToSyncOnly) => {\n      return (eventName, event) => {\n        if (!this.isAlive()) {\n          return;\n        }\n        const alwaysSync = ALWAYS_SYNC_GLOBAL_EVENTS.has(eventName);\n        if (alwaysSync && !restrictToSyncOnly || !alwaysSync && restrictToSyncOnly) {\n          return;\n        }\n        const fireEvent = (name, e) => {\n          const eventHandler = this.gridOptions[ComponentUtil.getCallbackForEvent(name)];\n          if (typeof eventHandler === \"function\") {\n            this.frameworkOverrides.wrapOutgoing(() => eventHandler(e));\n          }\n        };\n        if (this.gridReadyFired) {\n          fireEvent(eventName, event);\n        } else {\n          if (eventName === \"gridReady\") {\n            fireEvent(eventName, event);\n            this.gridReadyFired = true;\n            for (const q of this.queueEvents) {\n              fireEvent(q.eventName, q.event);\n            }\n            this.queueEvents = [];\n          } else {\n            this.queueEvents.push({ eventName, event });\n          }\n        }\n      };\n    };\n  }\n  wireBeans(beans) {\n    this.gridOptions = beans.gridOptions;\n    this.eGridDiv = beans.eGridDiv;\n    this.validationService = beans.validationService;\n    this.environment = beans.environment;\n    this.api = beans.gridApi;\n    this.gridId = beans.context.getGridId();\n  }\n  // This is quicker then having code call gridOptionsService.get('context')\n  get gridOptionsContext() {\n    return this.gridOptions[\"context\"];\n  }\n  postConstruct() {\n    const async = !this.get(\"suppressAsyncEvents\");\n    this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this), async);\n    this.eventService.addGlobalListener(this.globalEventHandlerFactory(true).bind(this), false);\n    this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides);\n    this.addManagedEventListeners({\n      gridOptionsChanged: ({ options }) => {\n        this.updateGridOptions({ options, force: true, source: \"gridOptionsUpdated\" });\n      }\n    });\n  }\n  destroy() {\n    super.destroy();\n    this.queueEvents = [];\n  }\n  /**\n   * Get the raw value of the GridOptions property provided.\n   * @param property\n   */\n  get(property) {\n    return this.gridOptions[property] ?? GRID_OPTION_DEFAULTS[property];\n  }\n  /**\n   * Get the GridOption callback but wrapped so that the common params of api and context are automatically applied to the params.\n   * @param property GridOption callback properties based on the fact that this property has a callback with params extending AgGridCommon\n   */\n  getCallback(property) {\n    return this.mergeGridCommonParams(this.gridOptions[property]);\n  }\n  /**\n   * Returns `true` if a value has been specified for this GridOption.\n   * @param property GridOption property\n   */\n  exists(property) {\n    return _exists(this.gridOptions[property]);\n  }\n  /**\n   * Wrap the user callback and attach the api and context to the params object on the way through.\n   * @param callback User provided callback\n   * @returns Wrapped callback where the params object not require api and context\n   */\n  mergeGridCommonParams(callback) {\n    if (callback) {\n      const wrapped = (callbackParams) => {\n        const mergedParams = callbackParams;\n        mergedParams.api = this.api;\n        mergedParams.context = this.gridOptionsContext;\n        return callback(mergedParams);\n      };\n      return wrapped;\n    }\n    return callback;\n  }\n  updateGridOptions({\n    options,\n    force,\n    source = \"api\"\n  }) {\n    const changeSet = { id: _GridOptionsService.changeSetId++, properties: [] };\n    const events = [];\n    Object.entries(options).forEach(([key, value]) => {\n      if (source === \"api\" && INITIAL_GRID_OPTION_KEYS[key]) {\n        _warnOnce(`${key} is an initial property and cannot be updated.`);\n      }\n      const coercedValue = getCoercedValue(key, value);\n      const shouldForce = force || typeof coercedValue === \"object\" && source === \"api\";\n      const previousValue = this.gridOptions[key];\n      if (shouldForce || previousValue !== coercedValue) {\n        this.gridOptions[key] = coercedValue;\n        const event = {\n          type: key,\n          currentValue: coercedValue,\n          previousValue,\n          changeSet,\n          source\n        };\n        events.push(event);\n      }\n    });\n    this.validationService?.processGridOptions(this.gridOptions);\n    changeSet.properties = events.map((event) => event.type);\n    events.forEach((event) => {\n      if (this.gridOptions.debug) {\n        _log(`Updated property ${event.type} from`, event.previousValue, ` to `, event.currentValue);\n      }\n      this.propertyEventService.dispatchEvent(event);\n    });\n  }\n  addPropertyEventListener(key, listener) {\n    this.propertyEventService.addEventListener(key, listener);\n  }\n  removePropertyEventListener(key, listener) {\n    this.propertyEventService.removeEventListener(key, listener);\n  }\n  getDomDataKey() {\n    return this.domDataKey;\n  }\n  getGridCommonParams() {\n    return {\n      api: this.api,\n      context: this.gridOptionsContext\n    };\n  }\n  addGridCommonParams(params) {\n    const updatedParams = params;\n    updatedParams.api = this.api;\n    updatedParams.context = this.gridOptionsContext;\n    return updatedParams;\n  }\n  assertModuleRegistered(moduleName, reason) {\n    return ModuleRegistry.__assertRegistered(moduleName, reason, this.gridId);\n  }\n  isModuleRegistered(moduleName) {\n    return ModuleRegistry.__isRegistered(moduleName, this.gridId);\n  }\n};\n_GridOptionsService.changeSetId = 0;\nvar GridOptionsService = _GridOptionsService;\n\n// community-modules/core/src/headerRendering/common/headerPosition.ts\nvar HeaderPositionUtils = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"headerPositionUtils\";\n  }\n  wireBeans(beans) {\n    this.visibleColsService = beans.visibleColsService;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  findHeader(focusedHeader, direction) {\n    let nextColumn;\n    let getColMethod;\n    if (isColumnGroup(focusedHeader.column)) {\n      nextColumn = this.visibleColsService.getGroupAtDirection(focusedHeader.column, direction);\n    } else {\n      getColMethod = `getCol${direction}`;\n      nextColumn = this.visibleColsService[getColMethod](focusedHeader.column);\n    }\n    if (!nextColumn) {\n      return;\n    }\n    const { headerRowIndex } = focusedHeader;\n    if (this.getHeaderRowType(headerRowIndex) !== \"filter\" /* FLOATING_FILTER */) {\n      const columnsInPath = [nextColumn];\n      while (nextColumn.getParent()) {\n        nextColumn = nextColumn.getParent();\n        columnsInPath.push(nextColumn);\n      }\n      nextColumn = columnsInPath[columnsInPath.length - 1 - headerRowIndex];\n    }\n    const { column, headerRowIndex: indexToFocus } = this.getHeaderIndexToFocus(nextColumn, headerRowIndex);\n    return {\n      column,\n      headerRowIndex: indexToFocus\n    };\n  }\n  getHeaderIndexToFocus(column, currentIndex) {\n    let nextColumn;\n    if (isColumnGroup(column) && this.isAnyChildSpanningHeaderHeight(column) && column.isPadding()) {\n      const targetColumn = column;\n      nextColumn = targetColumn.getLeafColumns()[0];\n      let col = nextColumn;\n      while (col !== targetColumn) {\n        currentIndex++;\n        col = col.getParent();\n      }\n    }\n    return {\n      column: nextColumn || column,\n      headerRowIndex: currentIndex\n    };\n  }\n  isAnyChildSpanningHeaderHeight(columnGroup) {\n    if (!columnGroup) {\n      return false;\n    }\n    return columnGroup.getLeafColumns().some((col) => col.isSpanHeaderHeight());\n  }\n  getColumnVisibleParent(currentColumn, currentIndex) {\n    const currentRowType = this.getHeaderRowType(currentIndex);\n    const isFloatingFilter = currentRowType === \"filter\" /* FLOATING_FILTER */;\n    const isColumn2 = currentRowType === \"column\" /* COLUMN */;\n    let nextFocusColumn = isFloatingFilter ? currentColumn : currentColumn.getParent();\n    let nextRow = currentIndex - 1;\n    let headerRowIndexWithoutSpan = nextRow;\n    if (isColumn2 && this.isAnyChildSpanningHeaderHeight(currentColumn.getParent())) {\n      while (nextFocusColumn && nextFocusColumn.isPadding()) {\n        nextFocusColumn = nextFocusColumn.getParent();\n        nextRow--;\n      }\n      headerRowIndexWithoutSpan = nextRow;\n      if (nextRow < 0) {\n        nextFocusColumn = currentColumn;\n        nextRow = currentIndex;\n        headerRowIndexWithoutSpan = void 0;\n      }\n    }\n    return { column: nextFocusColumn, headerRowIndex: nextRow, headerRowIndexWithoutSpan };\n  }\n  getColumnVisibleChild(column, currentIndex, direction = \"After\") {\n    const currentRowType = this.getHeaderRowType(currentIndex);\n    let nextFocusColumn = column;\n    let nextRow = currentIndex + 1;\n    const headerRowIndexWithoutSpan = nextRow;\n    if (currentRowType === \"group\" /* COLUMN_GROUP */) {\n      const leafColumns = column.getDisplayedLeafColumns();\n      const leafColumn = direction === \"After\" ? leafColumns[0] : _last(leafColumns);\n      const columnsInTheWay = [];\n      let currentColumn = leafColumn;\n      while (currentColumn.getParent() !== column) {\n        currentColumn = currentColumn.getParent();\n        columnsInTheWay.push(currentColumn);\n      }\n      nextFocusColumn = leafColumn;\n      if (leafColumn.isSpanHeaderHeight()) {\n        for (let i = columnsInTheWay.length - 1; i >= 0; i--) {\n          const colToFocus = columnsInTheWay[i];\n          if (!colToFocus.isPadding()) {\n            nextFocusColumn = colToFocus;\n            break;\n          }\n          nextRow++;\n        }\n      } else {\n        nextFocusColumn = _last(columnsInTheWay);\n        if (!nextFocusColumn) {\n          nextFocusColumn = leafColumn;\n        }\n      }\n    }\n    return { column: nextFocusColumn, headerRowIndex: nextRow, headerRowIndexWithoutSpan };\n  }\n  getHeaderRowType(rowIndex) {\n    const centerHeaderContainer = this.ctrlsService.getHeaderRowContainerCtrl();\n    if (centerHeaderContainer) {\n      return centerHeaderContainer.getRowType(rowIndex);\n    }\n  }\n  findColAtEdgeForHeaderRow(level, position) {\n    const displayedColumns = this.visibleColsService.getAllCols();\n    const column = displayedColumns[position === \"start\" ? 0 : displayedColumns.length - 1];\n    if (!column) {\n      return;\n    }\n    const childContainer = this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned());\n    const type = childContainer?.getRowType(level);\n    if (type == \"group\" /* COLUMN_GROUP */) {\n      const columnGroup = this.visibleColsService.getColGroupAtLevel(column, level);\n      return {\n        headerRowIndex: level,\n        column: columnGroup\n      };\n    }\n    return {\n      // if type==null, means the header level didn't exist\n      headerRowIndex: type == null ? -1 : level,\n      column\n    };\n  }\n};\n\n// community-modules/core/src/localeService.ts\nvar LocaleService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"localeService\";\n  }\n  getLocaleTextFunc() {\n    const getLocaleText = this.gos.getCallback(\"getLocaleText\");\n    if (getLocaleText) {\n      return (key, defaultValue, variableValues) => {\n        const params = {\n          key,\n          defaultValue,\n          variableValues\n        };\n        return getLocaleText(params);\n      };\n    }\n    const localeText = this.gos.get(\"localeText\");\n    return (key, defaultValue, variableValues) => {\n      let localisedText = localeText && localeText[key];\n      if (localisedText && variableValues && variableValues.length) {\n        let found = 0;\n        while (true) {\n          if (found >= variableValues.length) {\n            break;\n          }\n          const idx = localisedText.indexOf(\"${variable}\");\n          if (idx === -1) {\n            break;\n          }\n          localisedText = localisedText.replace(\"${variable}\", variableValues[found++]);\n        }\n      }\n      return localisedText ?? defaultValue;\n    };\n  }\n};\n\n// community-modules/core/src/misc/apiEventService.ts\nvar ApiEventService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"apiEventService\";\n    this.syncEventListeners = /* @__PURE__ */ new Map();\n    this.asyncEventListeners = /* @__PURE__ */ new Map();\n    this.syncGlobalEventListeners = /* @__PURE__ */ new Set();\n    this.globalEventListenerPairs = /* @__PURE__ */ new Map();\n  }\n  postConstruct() {\n    this.frameworkEventWrappingService = new FrameworkEventListenerService(this.getFrameworkOverrides());\n  }\n  addEventListener(eventType, userListener) {\n    const listener = this.frameworkEventWrappingService.wrap(eventType, userListener);\n    const async = _useAsyncEvents(this.gos) && !ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType);\n    const listeners = async ? this.asyncEventListeners : this.syncEventListeners;\n    if (!listeners.has(eventType)) {\n      listeners.set(eventType, /* @__PURE__ */ new Set());\n    }\n    listeners.get(eventType).add(listener);\n    this.eventService.addEventListener(eventType, listener, async);\n  }\n  removeEventListener(eventType, userListener) {\n    const listener = this.frameworkEventWrappingService.unwrap(eventType, userListener);\n    const asyncListeners = this.asyncEventListeners.get(eventType);\n    const hasAsync = !!asyncListeners?.delete(listener);\n    if (!hasAsync) {\n      this.syncEventListeners.get(eventType)?.delete(listener);\n    }\n    this.eventService.removeEventListener(eventType, listener, hasAsync);\n  }\n  addGlobalListener(userListener) {\n    const listener = this.frameworkEventWrappingService.wrapGlobal(userListener);\n    const async = _useAsyncEvents(this.gos);\n    if (async) {\n      const syncListener = (eventType, event) => {\n        if (ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)) {\n          listener(eventType, event);\n        }\n      };\n      const asyncListener = (eventType, event) => {\n        if (!ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)) {\n          listener(eventType, event);\n        }\n      };\n      this.globalEventListenerPairs.set(userListener, { syncListener, asyncListener });\n      this.eventService.addGlobalListener(syncListener, false);\n      this.eventService.addGlobalListener(asyncListener, true);\n    } else {\n      this.syncGlobalEventListeners.add(listener);\n      this.eventService.addGlobalListener(listener, false);\n    }\n  }\n  removeGlobalListener(userListener) {\n    const listener = this.frameworkEventWrappingService.unwrapGlobal(userListener);\n    const hasAsync = this.globalEventListenerPairs.has(listener);\n    if (hasAsync) {\n      const { syncListener, asyncListener } = this.globalEventListenerPairs.get(listener);\n      this.eventService.removeGlobalListener(syncListener, false);\n      this.eventService.removeGlobalListener(asyncListener, true);\n      this.globalEventListenerPairs.delete(userListener);\n    } else {\n      this.syncGlobalEventListeners.delete(listener);\n      this.eventService.removeGlobalListener(listener, false);\n    }\n  }\n  destroyEventListeners(map, async) {\n    map.forEach((listeners, eventType) => {\n      listeners.forEach((listener) => this.eventService.removeEventListener(eventType, listener, async));\n      listeners.clear();\n    });\n    map.clear();\n  }\n  destroyGlobalListeners(set, async) {\n    set.forEach((listener) => this.eventService.removeGlobalListener(listener, async));\n    set.clear();\n  }\n  destroy() {\n    super.destroy();\n    this.destroyEventListeners(this.syncEventListeners, false);\n    this.destroyEventListeners(this.asyncEventListeners, true);\n    this.destroyGlobalListeners(this.syncGlobalEventListeners, false);\n    this.globalEventListenerPairs.forEach(({ syncListener, asyncListener }) => {\n      this.eventService.removeGlobalListener(syncListener, false);\n      this.eventService.removeGlobalListener(asyncListener, true);\n    });\n    this.globalEventListenerPairs.clear();\n  }\n};\n\n// community-modules/core/src/pagination/pageBoundsListener.ts\nvar PageBoundsListener = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pageBoundsListener\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.paginationService = beans.paginationService;\n    this.pageBoundsService = beans.pageBoundsService;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({\n      modelUpdated: this.onModelUpdated.bind(this),\n      recalculateRowBounds: this.calculatePages.bind(this)\n    });\n    this.onModelUpdated();\n  }\n  onModelUpdated(modelUpdatedEvent) {\n    this.calculatePages();\n    this.eventService.dispatchEvent({\n      type: \"paginationChanged\",\n      animate: modelUpdatedEvent?.animate ?? false,\n      newData: modelUpdatedEvent?.newData ?? false,\n      newPage: modelUpdatedEvent?.newPage ?? false,\n      newPageSize: modelUpdatedEvent?.newPageSize ?? false,\n      keepRenderedRows: modelUpdatedEvent?.keepRenderedRows ?? false\n    });\n  }\n  calculatePages() {\n    if (this.paginationService) {\n      this.paginationService.calculatePages();\n    } else {\n      this.pageBoundsService.calculateBounds(0, this.rowModel.getRowCount() - 1);\n    }\n  }\n};\n\n// community-modules/core/src/pagination/pageBoundsService.ts\nvar PageBoundsService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pageBoundsService\";\n    this.pixelOffset = 0;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n  }\n  getFirstRow() {\n    return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n  }\n  getLastRow() {\n    return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n  }\n  getCurrentPageHeight() {\n    if (_missing(this.topRowBounds) || _missing(this.bottomRowBounds)) {\n      return 0;\n    }\n    return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n  }\n  getCurrentPagePixelRange() {\n    const pageFirstPixel = this.topRowBounds ? this.topRowBounds.rowTop : 0;\n    const pageLastPixel = this.bottomRowBounds ? this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight : 0;\n    return { pageFirstPixel, pageLastPixel };\n  }\n  calculateBounds(topDisplayedRowIndex, bottomDisplayedRowIndex) {\n    this.topRowBounds = this.rowModel.getRowBounds(topDisplayedRowIndex);\n    if (this.topRowBounds) {\n      this.topRowBounds.rowIndex = topDisplayedRowIndex;\n    }\n    this.bottomRowBounds = this.rowModel.getRowBounds(bottomDisplayedRowIndex);\n    if (this.bottomRowBounds) {\n      this.bottomRowBounds.rowIndex = bottomDisplayedRowIndex;\n    }\n    this.calculatePixelOffset();\n  }\n  getPixelOffset() {\n    return this.pixelOffset;\n  }\n  calculatePixelOffset() {\n    const value = _exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0;\n    if (this.pixelOffset === value) {\n      return;\n    }\n    this.pixelOffset = value;\n    this.eventService.dispatchEvent({ type: \"paginationPixelOffsetChanged\" });\n  }\n};\n\n// community-modules/core/src/rendering/ariaAnnouncementService.ts\nvar AriaAnnouncementService = class extends BeanStub {\n  constructor() {\n    super();\n    this.beanName = \"ariaAnnouncementService\";\n    this.descriptionContainer = null;\n    this.pendingAnnouncements = /* @__PURE__ */ new Map();\n    this.updateAnnouncement = _debounce(this.updateAnnouncement.bind(this), 200);\n  }\n  wireBeans(beans) {\n    this.eGridDiv = beans.eGridDiv;\n  }\n  postConstruct() {\n    const eDocument = _getDocument(this.gos);\n    const div = this.descriptionContainer = eDocument.createElement(\"div\");\n    div.classList.add(\"ag-aria-description-container\");\n    _setAriaLive(div, \"polite\");\n    _setAriaRelevant(div, \"additions text\");\n    _setAriaAtomic(div, true);\n    this.eGridDiv.appendChild(div);\n  }\n  /**\n   * @param key used for debouncing calls\n   */\n  announceValue(value, key) {\n    this.pendingAnnouncements.set(key, value);\n    this.updateAnnouncement();\n  }\n  updateAnnouncement() {\n    if (!this.descriptionContainer) {\n      return;\n    }\n    const value = Array.from(this.pendingAnnouncements.values()).join(\". \");\n    this.pendingAnnouncements.clear();\n    this.descriptionContainer.textContent = \"\";\n    setTimeout(() => {\n      if (this.isAlive() && this.descriptionContainer) {\n        this.descriptionContainer.textContent = value;\n      }\n    }, 50);\n  }\n  destroy() {\n    super.destroy();\n    const { descriptionContainer } = this;\n    if (descriptionContainer) {\n      _clearElement(descriptionContainer);\n      if (descriptionContainer.parentElement) {\n        descriptionContainer.parentElement.removeChild(descriptionContainer);\n      }\n    }\n    this.descriptionContainer = null;\n    this.eGridDiv = null;\n    this.pendingAnnouncements.clear();\n  }\n};\n\n// community-modules/core/src/rendering/columnAnimationService.ts\nvar ColumnAnimationService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnAnimationService\";\n    this.executeNextFuncs = [];\n    this.executeLaterFuncs = [];\n    this.active = false;\n    // activeNext starts with active but it is reset earlier after the nextFuncs are cleared\n    // to prevent calls made to executeNextVMTurn from queuing functions after executeNextFuncs has already been flushed,\n    this.activeNext = false;\n    this.suppressAnimation = false;\n    this.animationThreadCount = 0;\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n  }\n  postConstruct() {\n    this.ctrlsService.whenReady(this, (p) => this.gridBodyCtrl = p.gridBodyCtrl);\n  }\n  isActive() {\n    return this.active && !this.suppressAnimation;\n  }\n  setSuppressAnimation(suppress) {\n    this.suppressAnimation = suppress;\n  }\n  start() {\n    if (this.active) {\n      return;\n    }\n    if (this.gos.get(\"suppressColumnMoveAnimation\")) {\n      return;\n    }\n    if (this.gos.get(\"enableRtl\")) {\n      return;\n    }\n    this.ensureAnimationCssClassPresent();\n    this.active = true;\n    this.activeNext = true;\n  }\n  finish() {\n    if (!this.active) {\n      return;\n    }\n    this.flush(\n      () => this.activeNext = false,\n      () => this.active = false\n    );\n  }\n  executeNextVMTurn(func) {\n    if (this.activeNext) {\n      this.executeNextFuncs.push(func);\n    } else {\n      func();\n    }\n  }\n  executeLaterVMTurn(func) {\n    if (this.active) {\n      this.executeLaterFuncs.push(func);\n    } else {\n      func();\n    }\n  }\n  ensureAnimationCssClassPresent() {\n    this.animationThreadCount++;\n    const animationThreadCountCopy = this.animationThreadCount;\n    this.gridBodyCtrl.setColumnMovingCss(true);\n    this.executeLaterFuncs.push(() => {\n      if (this.animationThreadCount === animationThreadCountCopy) {\n        this.gridBodyCtrl.setColumnMovingCss(false);\n      }\n    });\n  }\n  flush(callbackNext, callbackLater) {\n    if (this.executeNextFuncs.length === 0 && this.executeLaterFuncs.length === 0) {\n      callbackNext();\n      callbackLater();\n      return;\n    }\n    const runFuncs = (queue) => {\n      while (queue.length) {\n        const func = queue.pop();\n        if (func) {\n          func();\n        }\n      }\n    };\n    this.getFrameworkOverrides().wrapIncoming(() => {\n      window.setTimeout(() => {\n        callbackNext();\n        runFuncs(this.executeNextFuncs);\n      }, 0);\n      window.setTimeout(() => {\n        callbackLater();\n        runFuncs(this.executeLaterFuncs);\n      }, 200);\n    });\n  }\n};\n\n// community-modules/core/src/rendering/columnHoverService.ts\nvar ColumnHoverService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnHoverService\";\n  }\n  setMouseOver(columns) {\n    this.updateState(columns);\n  }\n  clearMouseOver() {\n    this.updateState(null);\n  }\n  isHovered(column) {\n    return !!this.selectedColumns && this.selectedColumns.indexOf(column) >= 0;\n  }\n  updateState(columns) {\n    this.selectedColumns = columns;\n    this.eventService.dispatchEvent({\n      type: \"columnHoverChanged\"\n    });\n  }\n};\n\n// community-modules/core/src/rendering/overlays/overlayService.ts\nvar OverlayService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"overlayService\";\n    this.state = 0 /* Hidden */;\n    this.showInitialOverlay = true;\n    this.wrapperPadding = 0;\n  }\n  wireBeans(beans) {\n    this.userComponentFactory = beans.userComponentFactory;\n    this.rowModel = beans.rowModel;\n    this.columnModel = beans.columnModel;\n    this.ctrlsService = beans.ctrlsService;\n  }\n  postConstruct() {\n    this.isClientSide = _isClientSideRowModel(this.gos);\n    const updateOverlayVisibility = () => this.updateOverlayVisibility();\n    this.addManagedEventListeners({\n      newColumnsLoaded: updateOverlayVisibility,\n      rowDataUpdated: updateOverlayVisibility,\n      gridSizeChanged: this.onGridSizeChanged.bind(this),\n      rowCountReady: () => {\n        this.showInitialOverlay = false;\n        this.updateOverlayVisibility();\n      }\n    });\n    this.addManagedPropertyListener(\"loading\", updateOverlayVisibility);\n  }\n  setOverlayWrapperComp(overlayWrapperComp) {\n    this.overlayWrapperComp = overlayWrapperComp;\n    this.updateOverlayVisibility();\n  }\n  /** Returns true if the overlay is visible. */\n  isVisible() {\n    return this.state !== 0 /* Hidden */ && !!this.overlayWrapperComp;\n  }\n  /** Returns true if the overlay is visible and is exclusive (popup over the grid) */\n  isExclusive() {\n    return this.state === 1 /* Loading */ && !!this.overlayWrapperComp;\n  }\n  /** Gets the overlay wrapper component */\n  getOverlayWrapper() {\n    return this.overlayWrapperComp;\n  }\n  showLoadingOverlay() {\n    this.showInitialOverlay = false;\n    const loading = this.gos.get(\"loading\");\n    if (!loading && (loading !== void 0 || this.gos.get(\"suppressLoadingOverlay\"))) {\n      return;\n    }\n    this.doShowLoadingOverlay();\n  }\n  showNoRowsOverlay() {\n    this.showInitialOverlay = false;\n    if (this.gos.get(\"loading\") || this.gos.get(\"suppressNoRowsOverlay\")) {\n      return;\n    }\n    this.doShowNoRowsOverlay();\n  }\n  hideOverlay() {\n    this.showInitialOverlay = false;\n    if (this.gos.get(\"loading\")) {\n      _warnOnce(\n        \"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.\"\n      );\n      return;\n    }\n    this.doHideOverlay();\n  }\n  updateOverlayVisibility() {\n    if (!this.overlayWrapperComp) {\n      this.state = 0 /* Hidden */;\n      return;\n    }\n    let loading = this.gos.get(\"loading\");\n    if (this.showInitialOverlay && loading === void 0 && !this.gos.get(\"suppressLoadingOverlay\")) {\n      loading = !this.gos.get(\"columnDefs\") || !this.columnModel.isReady() || !this.gos.get(\"rowData\") && this.isClientSide;\n    }\n    if (loading) {\n      if (this.state !== 1 /* Loading */) {\n        this.doShowLoadingOverlay();\n      }\n    } else {\n      this.showInitialOverlay = false;\n      if (this.rowModel.isEmpty() && !this.gos.get(\"suppressNoRowsOverlay\") && this.isClientSide) {\n        if (this.state !== 2 /* NoRows */) {\n          this.doShowNoRowsOverlay();\n        }\n      } else if (this.state !== 0 /* Hidden */) {\n        this.doHideOverlay();\n      }\n    }\n  }\n  doShowLoadingOverlay() {\n    if (!this.overlayWrapperComp) {\n      return;\n    }\n    this.state = 1 /* Loading */;\n    this.showOverlay(\n      this.userComponentFactory.getLoadingOverlayCompDetails({}),\n      \"ag-overlay-loading-wrapper\",\n      \"loadingOverlayComponentParams\"\n    );\n    this.updateExclusive();\n  }\n  doShowNoRowsOverlay() {\n    if (!this.overlayWrapperComp) {\n      return;\n    }\n    this.state = 2 /* NoRows */;\n    this.showOverlay(\n      this.userComponentFactory.getNoRowsOverlayCompDetails({}),\n      \"ag-overlay-no-rows-wrapper\",\n      \"noRowsOverlayComponentParams\"\n    );\n    this.updateExclusive();\n  }\n  doHideOverlay() {\n    if (!this.overlayWrapperComp) {\n      return;\n    }\n    this.state = 0 /* Hidden */;\n    this.overlayWrapperComp.hideOverlay();\n    this.updateExclusive();\n  }\n  showOverlay(compDetails, wrapperCssClass, gridOption) {\n    const promise = compDetails.newAgStackInstance();\n    this.overlayWrapperComp?.showOverlay(promise, wrapperCssClass, this.isExclusive(), gridOption);\n    this.refreshWrapperPadding();\n  }\n  updateExclusive() {\n    const wasExclusive = this.exclusive;\n    this.exclusive = this.isExclusive();\n    if (this.exclusive !== wasExclusive) {\n      this.eventService.dispatchEvent({\n        type: \"overlayExclusiveChanged\"\n      });\n    }\n  }\n  onGridSizeChanged() {\n    this.refreshWrapperPadding();\n  }\n  refreshWrapperPadding() {\n    if (!this.overlayWrapperComp) {\n      return;\n    }\n    let newPadding = 0;\n    if (this.state === 2 /* NoRows */) {\n      const headerCtrl = this.ctrlsService.get(\"gridHeaderCtrl\");\n      const headerHeight = headerCtrl?.getHeaderHeight() || 0;\n      newPadding = headerHeight;\n    } else if (this.wrapperPadding !== 0) {\n      newPadding = 0;\n    }\n    if (this.wrapperPadding === newPadding) {\n      return;\n    }\n    this.wrapperPadding = newPadding;\n    this.overlayWrapperComp.updateOverlayWrapperPaddingTop(newPadding);\n  }\n};\n\n// community-modules/core/src/rendering/row/rowCssClassCalculator.ts\nvar RowCssClassCalculator = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowCssClassCalculator\";\n  }\n  wireBeans(beans) {\n    this.stylingService = beans.stylingService;\n  }\n  getInitialRowClasses(params) {\n    const classes = [];\n    if (_exists(params.extraCssClass)) {\n      classes.push(params.extraCssClass);\n    }\n    classes.push(\"ag-row\");\n    classes.push(params.rowFocused ? \"ag-row-focus\" : \"ag-row-no-focus\");\n    if (params.fadeRowIn) {\n      classes.push(\"ag-opacity-zero\");\n    }\n    classes.push(params.rowIsEven ? \"ag-row-even\" : \"ag-row-odd\");\n    if (params.rowNode.isRowPinned()) {\n      classes.push(\"ag-row-pinned\");\n    }\n    if (params.rowNode.isSelected()) {\n      classes.push(\"ag-row-selected\");\n    }\n    if (params.rowNode.footer) {\n      classes.push(\"ag-row-footer\");\n    }\n    classes.push(\"ag-row-level-\" + params.rowLevel);\n    if (params.rowNode.stub) {\n      classes.push(\"ag-row-loading\");\n    }\n    if (params.fullWidthRow) {\n      classes.push(\"ag-full-width-row\");\n    }\n    if (params.expandable) {\n      classes.push(\"ag-row-group\");\n      classes.push(params.rowNode.expanded ? \"ag-row-group-expanded\" : \"ag-row-group-contracted\");\n    }\n    if (params.rowNode.dragging) {\n      classes.push(\"ag-row-dragging\");\n    }\n    _pushAll(classes, this.processClassesFromGridOptions(params.rowNode));\n    _pushAll(classes, this.preProcessRowClassRules(params.rowNode));\n    classes.push(params.printLayout ? \"ag-row-position-relative\" : \"ag-row-position-absolute\");\n    if (params.firstRowOnPage) {\n      classes.push(\"ag-row-first\");\n    }\n    if (params.lastRowOnPage) {\n      classes.push(\"ag-row-last\");\n    }\n    if (params.fullWidthRow) {\n      if (params.pinned === \"left\") {\n        classes.push(\"ag-cell-last-left-pinned\");\n      }\n      if (params.pinned === \"right\") {\n        classes.push(\"ag-cell-first-right-pinned\");\n      }\n    }\n    return classes;\n  }\n  processClassesFromGridOptions(rowNode) {\n    const res = [];\n    const process = (rowCls) => {\n      if (typeof rowCls === \"string\") {\n        res.push(rowCls);\n      } else if (Array.isArray(rowCls)) {\n        rowCls.forEach((e) => res.push(e));\n      }\n    };\n    const rowClass = this.gos.get(\"rowClass\");\n    if (rowClass) {\n      if (typeof rowClass === \"function\") {\n        _warnOnce(\"rowClass should not be a function, please use getRowClass instead\");\n        return [];\n      }\n      process(rowClass);\n    }\n    const rowClassFunc = this.gos.getCallback(\"getRowClass\");\n    if (rowClassFunc) {\n      const params = {\n        data: rowNode.data,\n        node: rowNode,\n        rowIndex: rowNode.rowIndex\n      };\n      const rowClassFuncResult = rowClassFunc(params);\n      process(rowClassFuncResult);\n    }\n    return res;\n  }\n  preProcessRowClassRules(rowNode) {\n    const res = [];\n    this.processRowClassRules(\n      rowNode,\n      (className) => {\n        res.push(className);\n      },\n      () => {\n      }\n    );\n    return res;\n  }\n  processRowClassRules(rowNode, onApplicableClass, onNotApplicableClass) {\n    const rowClassParams = this.gos.addGridCommonParams({\n      data: rowNode.data,\n      node: rowNode,\n      rowIndex: rowNode.rowIndex\n    });\n    this.stylingService.processClassRules(\n      void 0,\n      this.gos.get(\"rowClassRules\"),\n      rowClassParams,\n      onApplicableClass,\n      onNotApplicableClass\n    );\n  }\n  calculateRowLevel(rowNode) {\n    if (rowNode.group) {\n      return rowNode.level;\n    }\n    return rowNode.parent ? rowNode.parent.level + 1 : 0;\n  }\n};\n\n// community-modules/core/src/rendering/rowContainerHeightService.ts\nvar RowContainerHeightService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowContainerHeightService\";\n    // the scrollY position\n    this.scrollY = 0;\n    // how tall the body is\n    this.uiBodyHeight = 0;\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n  }\n  postConstruct() {\n    this.addManagedEventListeners({ bodyHeightChanged: this.updateOffset.bind(this) });\n    this.maxDivHeight = _getMaxDivHeight();\n    if (this.gos.get(\"debug\")) {\n      _log(\"RowContainerHeightService - maxDivHeight = \" + this.maxDivHeight);\n    }\n  }\n  isStretching() {\n    return this.stretching;\n  }\n  getDivStretchOffset() {\n    return this.divStretchOffset;\n  }\n  updateOffset() {\n    if (!this.stretching) {\n      return;\n    }\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    const newScrollY = gridBodyCon.getScrollFeature().getVScrollPosition().top;\n    const newBodyHeight = this.getUiBodyHeight();\n    const atLeastOneChanged = newScrollY !== this.scrollY || newBodyHeight !== this.uiBodyHeight;\n    if (atLeastOneChanged) {\n      this.scrollY = newScrollY;\n      this.uiBodyHeight = newBodyHeight;\n      this.calculateOffset();\n    }\n  }\n  calculateOffset() {\n    this.setUiContainerHeight(this.maxDivHeight);\n    this.pixelsToShave = this.modelHeight - this.uiContainerHeight;\n    this.maxScrollY = this.uiContainerHeight - this.uiBodyHeight;\n    const scrollPercent = this.scrollY / this.maxScrollY;\n    const divStretchOffset = scrollPercent * this.pixelsToShave;\n    if (this.gos.get(\"debug\")) {\n      _log(\n        `RowContainerHeightService - Div Stretch Offset = ${divStretchOffset} (${this.pixelsToShave} * ${scrollPercent})`\n      );\n    }\n    this.setDivStretchOffset(divStretchOffset);\n  }\n  setUiContainerHeight(height) {\n    if (height !== this.uiContainerHeight) {\n      this.uiContainerHeight = height;\n      this.eventService.dispatchEvent({ type: \"rowContainerHeightChanged\" });\n    }\n  }\n  clearOffset() {\n    this.setUiContainerHeight(this.modelHeight);\n    this.pixelsToShave = 0;\n    this.setDivStretchOffset(0);\n  }\n  setDivStretchOffset(newOffset) {\n    const newOffsetFloor = typeof newOffset === \"number\" ? Math.floor(newOffset) : null;\n    if (this.divStretchOffset === newOffsetFloor) {\n      return;\n    }\n    this.divStretchOffset = newOffsetFloor;\n    this.eventService.dispatchEvent({ type: \"heightScaleChanged\" });\n  }\n  setModelHeight(modelHeight) {\n    this.modelHeight = modelHeight;\n    this.stretching = modelHeight != null && // null happens when in print layout\n    this.maxDivHeight > 0 && modelHeight > this.maxDivHeight;\n    if (this.stretching) {\n      this.calculateOffset();\n    } else {\n      this.clearOffset();\n    }\n  }\n  getUiContainerHeight() {\n    return this.uiContainerHeight;\n  }\n  getRealPixelPosition(modelPixel) {\n    return modelPixel - this.divStretchOffset;\n  }\n  getUiBodyHeight() {\n    const gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    const pos = gridBodyCon.getScrollFeature().getVScrollPosition();\n    return pos.bottom - pos.top;\n  }\n  getScrollPositionForPixel(rowTop) {\n    if (this.pixelsToShave <= 0) {\n      return rowTop;\n    }\n    const modelMaxScroll = this.modelHeight - this.getUiBodyHeight();\n    const scrollPercent = rowTop / modelMaxScroll;\n    const scrollPixel = this.maxScrollY * scrollPercent;\n    return scrollPixel;\n  }\n};\n\n// community-modules/core/src/rowNodes/rowNodeSorter.ts\nvar RowNodeSorter = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowNodeSorter\";\n  }\n  wireBeans(beans) {\n    this.valueService = beans.valueService;\n    this.columnModel = beans.columnModel;\n    this.showRowGroupColsService = beans.showRowGroupColsService;\n  }\n  postConstruct() {\n    this.isAccentedSort = this.gos.get(\"accentedSort\");\n    this.primaryColumnsSortGroups = _isColumnsSortingCoupledToGroup(this.gos);\n    this.addManagedPropertyListener(\n      \"accentedSort\",\n      (propChange) => this.isAccentedSort = propChange.currentValue\n    );\n    this.addManagedPropertyListener(\n      \"autoGroupColumnDef\",\n      () => this.primaryColumnsSortGroups = _isColumnsSortingCoupledToGroup(this.gos)\n    );\n  }\n  doFullSort(rowNodes, sortOptions) {\n    const mapper = (rowNode, pos) => ({ currentPos: pos, rowNode });\n    const sortedRowNodes = rowNodes.map(mapper);\n    sortedRowNodes.sort(this.compareRowNodes.bind(this, sortOptions));\n    return sortedRowNodes.map((item) => item.rowNode);\n  }\n  compareRowNodes(sortOptions, sortedNodeA, sortedNodeB) {\n    const nodeA = sortedNodeA.rowNode;\n    const nodeB = sortedNodeB.rowNode;\n    for (let i = 0, len = sortOptions.length; i < len; i++) {\n      const sortOption = sortOptions[i];\n      const isDescending = sortOption.sort === \"desc\";\n      const valueA = this.getValue(nodeA, sortOption.column);\n      const valueB = this.getValue(nodeB, sortOption.column);\n      let comparatorResult;\n      const providedComparator = this.getComparator(sortOption, nodeA);\n      if (providedComparator) {\n        comparatorResult = providedComparator(valueA, valueB, nodeA, nodeB, isDescending);\n      } else {\n        comparatorResult = _defaultComparator(valueA, valueB, this.isAccentedSort);\n      }\n      const validResult = !isNaN(comparatorResult);\n      if (validResult && comparatorResult !== 0) {\n        return sortOption.sort === \"asc\" ? comparatorResult : comparatorResult * -1;\n      }\n    }\n    return sortedNodeA.currentPos - sortedNodeB.currentPos;\n  }\n  getComparator(sortOption, rowNode) {\n    const column = sortOption.column;\n    const comparatorOnCol = column.getColDef().comparator;\n    if (comparatorOnCol != null) {\n      return comparatorOnCol;\n    }\n    if (!column.getColDef().showRowGroup) {\n      return;\n    }\n    const groupLeafField = !rowNode.group && column.getColDef().field;\n    if (!groupLeafField) {\n      return;\n    }\n    const primaryColumn = this.columnModel.getColDefCol(groupLeafField);\n    if (!primaryColumn) {\n      return;\n    }\n    return primaryColumn.getColDef().comparator;\n  }\n  getValue(node, column) {\n    if (!this.primaryColumnsSortGroups) {\n      return this.valueService.getValue(column, node, false, false);\n    }\n    const isNodeGroupedAtLevel = node.rowGroupColumn === column;\n    if (isNodeGroupedAtLevel) {\n      const isGroupRows = _isGroupUseEntireRow(this.gos, this.columnModel.isPivotActive());\n      if (isGroupRows) {\n        const leafChild = node.allLeafChildren?.[0];\n        if (leafChild) {\n          return this.valueService.getValue(column, leafChild, false, false);\n        }\n        return void 0;\n      }\n      const displayCol = this.showRowGroupColsService?.getShowRowGroupCol(column.getId());\n      if (!displayCol) {\n        return void 0;\n      }\n      return node.groupData?.[displayCol.getId()];\n    }\n    if (node.group && column.getColDef().showRowGroup) {\n      return void 0;\n    }\n    return this.valueService.getValue(column, node, false, false);\n  }\n};\n\n// community-modules/core/src/utils/changedPath.ts\nvar ChangedPath = class {\n  constructor(keepingColumns, rootNode) {\n    // whether changed path is active of not. it is active when a) doing\n    // a transaction update or b) doing change detection. if we are doing\n    // a CSRM refresh for other reasons (after sort or filter, or user calling\n    // setRowData() without delta mode) then we are not active. we are also\n    // marked as not active if secondary columns change in pivot (as this impacts\n    // aggregations)\n    this.active = true;\n    // for each node in the change path, we also store which columns need\n    // to be re-aggregated.\n    this.nodeIdsToColumns = {};\n    // for quick lookup, all items in the change path are mapped by nodeId\n    this.mapToItems = {};\n    this.keepingColumns = keepingColumns;\n    this.pathRoot = {\n      rowNode: rootNode,\n      children: null\n    };\n    this.mapToItems[rootNode.id] = this.pathRoot;\n  }\n  // can be set inactive by:\n  // a) ClientSideRowModel, if no transactions or\n  // b) PivotService, if secondary columns changed\n  setInactive() {\n    this.active = false;\n  }\n  isActive() {\n    return this.active;\n  }\n  depthFirstSearchChangedPath(pathItem, callback) {\n    if (pathItem.children) {\n      for (let i = 0; i < pathItem.children.length; i++) {\n        this.depthFirstSearchChangedPath(pathItem.children[i], callback);\n      }\n    }\n    callback(pathItem.rowNode);\n  }\n  depthFirstSearchEverything(rowNode, callback, traverseEverything) {\n    if (rowNode.childrenAfterGroup) {\n      for (let i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n        const childNode = rowNode.childrenAfterGroup[i];\n        if (childNode.childrenAfterGroup) {\n          this.depthFirstSearchEverything(rowNode.childrenAfterGroup[i], callback, traverseEverything);\n        } else if (traverseEverything) {\n          callback(childNode);\n        }\n      }\n    }\n    callback(rowNode);\n  }\n  // traverseLeafNodes -> used when NOT doing changed path, ie traversing everything. the callback\n  // will be called for child nodes in addition to parent nodes.\n  forEachChangedNodeDepthFirst(callback, traverseLeafNodes = false, includeUnchangedNodes = false) {\n    if (this.active && !includeUnchangedNodes) {\n      this.depthFirstSearchChangedPath(this.pathRoot, callback);\n    } else {\n      this.depthFirstSearchEverything(this.pathRoot.rowNode, callback, traverseLeafNodes);\n    }\n  }\n  executeFromRootNode(callback) {\n    callback(this.pathRoot.rowNode);\n  }\n  createPathItems(rowNode) {\n    let pointer = rowNode;\n    let newEntryCount = 0;\n    while (!this.mapToItems[pointer.id]) {\n      const newEntry = {\n        rowNode: pointer,\n        children: null\n      };\n      this.mapToItems[pointer.id] = newEntry;\n      newEntryCount++;\n      pointer = pointer.parent;\n    }\n    return newEntryCount;\n  }\n  populateColumnsMap(rowNode, columns) {\n    if (!this.keepingColumns || !columns) {\n      return;\n    }\n    let pointer = rowNode;\n    while (pointer) {\n      if (!this.nodeIdsToColumns[pointer.id]) {\n        this.nodeIdsToColumns[pointer.id] = {};\n      }\n      columns.forEach((col) => this.nodeIdsToColumns[pointer.id][col.getId()] = true);\n      pointer = pointer.parent;\n    }\n  }\n  linkPathItems(rowNode, newEntryCount) {\n    let pointer = rowNode;\n    for (let i = 0; i < newEntryCount; i++) {\n      const thisItem = this.mapToItems[pointer.id];\n      const parentItem = this.mapToItems[pointer.parent.id];\n      if (!parentItem.children) {\n        parentItem.children = [];\n      }\n      parentItem.children.push(thisItem);\n      pointer = pointer.parent;\n    }\n  }\n  // called by\n  // 1) change detection (provides cols) and\n  // 2) groupStage if doing transaction update (doesn't provide cols)\n  addParentNode(rowNode, columns) {\n    if (!rowNode || rowNode.isRowPinned()) {\n      return;\n    }\n    const newEntryCount = this.createPathItems(rowNode);\n    this.linkPathItems(rowNode, newEntryCount);\n    this.populateColumnsMap(rowNode, columns);\n  }\n  canSkip(rowNode) {\n    return this.active && !this.mapToItems[rowNode.id];\n  }\n  getValueColumnsForNode(rowNode, valueColumns) {\n    if (!this.keepingColumns) {\n      return valueColumns;\n    }\n    const colsForThisNode = this.nodeIdsToColumns[rowNode.id];\n    const result = valueColumns.filter((col) => colsForThisNode[col.getId()]);\n    return result;\n  }\n  getNotValueColumnsForNode(rowNode, valueColumns) {\n    if (!this.keepingColumns) {\n      return null;\n    }\n    const colsForThisNode = this.nodeIdsToColumns[rowNode.id];\n    const result = valueColumns.filter((col) => !colsForThisNode[col.getId()]);\n    return result;\n  }\n};\n\n// community-modules/core/src/selection/selectionService.ts\nvar SelectionService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"selectionService\";\n    this.selectedNodes = /* @__PURE__ */ new Map();\n    this.selectionCtx = new RowRangeSelectionContext();\n    this.rowSelectionMode = void 0;\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.pageBoundsService = beans.pageBoundsService;\n  }\n  postConstruct() {\n    const { gos, rowModel, onRowSelected } = this;\n    this.selectionCtx.init(rowModel);\n    this.rowSelectionMode = _getRowSelectionMode(gos);\n    this.groupSelectsChildren = _getGroupSelectsDescendants(gos);\n    this.addManagedPropertyListeners([\"groupSelectsChildren\", \"rowSelection\"], () => {\n      const groupSelectsChildren = _getGroupSelectsDescendants(gos);\n      const selectionMode = _getRowSelectionMode(gos);\n      if (groupSelectsChildren !== this.groupSelectsChildren || selectionMode !== this.rowSelectionMode) {\n        this.groupSelectsChildren = groupSelectsChildren;\n        this.rowSelectionMode = selectionMode;\n        this.deselectAllRowNodes({ source: \"api\" });\n      }\n    });\n    this.addManagedEventListeners({ rowSelected: onRowSelected.bind(this) });\n  }\n  destroy() {\n    super.destroy();\n    this.resetNodes();\n    this.selectionCtx.reset();\n  }\n  isMultiSelect() {\n    return this.rowSelectionMode === \"multiRow\";\n  }\n  /**\n   * We override the selection value for UI-triggered events because it's the\n   * current selection state that should determine the next selection state. This\n   * is a stepping stone towards removing selection logic from event listeners and\n   * other code external to the selection service(s).\n   */\n  overrideSelectionValue(newValue, source) {\n    if (!isSelectionUIEvent(source)) {\n      return newValue;\n    }\n    const root = this.selectionCtx.getRoot();\n    return root ? root.isSelected() ?? false : true;\n  }\n  setNodesSelected(params) {\n    const { newValue, clearSelection, suppressFinishActions, rangeSelect, nodes, event, source } = params;\n    if (nodes.length === 0)\n      return 0;\n    if (nodes.length > 1 && !this.isMultiSelect()) {\n      _warnOnce(`cannot multi select unless selection mode is 'multiRow'`);\n      return 0;\n    }\n    const groupSelectsFiltered = this.groupSelectsChildren && params.groupSelectsFiltered === true;\n    const filteredNodes = nodes.map((node) => node.footer ? node.sibling : node);\n    if (rangeSelect) {\n      if (filteredNodes.length > 1) {\n        _warnOnce(\"cannot range select while selecting multiple rows\");\n        return 0;\n      }\n      const node = filteredNodes[0];\n      const newSelectionValue = this.overrideSelectionValue(newValue, source);\n      if (!this.isMultiSelect()) {\n      } else if (this.selectionCtx.isInRange(node)) {\n        const partition = this.selectionCtx.truncate(node);\n        if (newSelectionValue) {\n          this.selectRange(partition.discard, false, source);\n        }\n        return this.selectRange(partition.keep, newSelectionValue, source);\n      } else {\n        const fromNode = this.selectionCtx.getRoot();\n        const toNode = node;\n        if (fromNode !== toNode) {\n          const partition = this.selectionCtx.extend(node, this.groupSelectsChildren);\n          if (newSelectionValue) {\n            this.selectRange(partition.discard, false, source);\n          }\n          return this.selectRange(partition.keep, newSelectionValue, source);\n        }\n      }\n    }\n    if (!suppressFinishActions) {\n      this.selectionCtx.setRoot(filteredNodes[0]);\n    }\n    let updatedCount = 0;\n    for (let i = 0; i < filteredNodes.length; i++) {\n      const node = filteredNodes[i];\n      const skipThisNode = groupSelectsFiltered && node.group;\n      if (!skipThisNode) {\n        const thisNodeWasSelected = node.selectThisNode(newValue, event, source);\n        if (thisNodeWasSelected) {\n          updatedCount++;\n        }\n      }\n      if (this.groupSelectsChildren && node.childrenAfterGroup?.length) {\n        updatedCount += this.selectChildren(node, newValue, groupSelectsFiltered, source);\n      }\n    }\n    if (!suppressFinishActions) {\n      const clearOtherNodes = newValue && (clearSelection || !this.isMultiSelect());\n      if (clearOtherNodes) {\n        updatedCount += this.clearOtherNodes(filteredNodes[0], source);\n      }\n      if (updatedCount > 0) {\n        this.updateGroupsFromChildrenSelections(source);\n        this.dispatchSelectionChanged(source);\n      }\n    }\n    return updatedCount;\n  }\n  // not to be mixed up with 'cell range selection' where you drag the mouse, this is row range selection, by\n  // holding down 'shift'.\n  selectRange(nodesToSelect, value, source) {\n    let updatedCount = 0;\n    nodesToSelect.forEach((rowNode) => {\n      if (rowNode.group && this.groupSelectsChildren) {\n        return;\n      }\n      const nodeWasSelected = rowNode.selectThisNode(value, void 0, source);\n      if (nodeWasSelected) {\n        updatedCount++;\n      }\n    });\n    if (updatedCount > 0) {\n      this.updateGroupsFromChildrenSelections(source);\n      this.dispatchSelectionChanged(source);\n    }\n    return updatedCount;\n  }\n  selectChildren(node, newValue, groupSelectsFiltered, source) {\n    const children = groupSelectsFiltered ? node.childrenAfterAggFilter : node.childrenAfterGroup;\n    if (_missing(children)) {\n      return 0;\n    }\n    return this.setNodesSelected({\n      newValue,\n      clearSelection: false,\n      suppressFinishActions: true,\n      groupSelectsFiltered,\n      source,\n      nodes: children\n    });\n  }\n  getSelectedNodes() {\n    const selectedNodes = [];\n    this.selectedNodes.forEach((rowNode) => {\n      if (rowNode) {\n        selectedNodes.push(rowNode);\n      }\n    });\n    return selectedNodes;\n  }\n  getSelectedRows() {\n    const selectedRows = [];\n    this.selectedNodes.forEach((rowNode) => {\n      if (rowNode && rowNode.data) {\n        selectedRows.push(rowNode.data);\n      }\n    });\n    return selectedRows;\n  }\n  getSelectionCount() {\n    return this.selectedNodes.size;\n  }\n  /**\n   * This method is used by the CSRM to remove groups which are being disposed of,\n   * events do not need fired in this case\n   */\n  filterFromSelection(predicate) {\n    const newSelectedNodes = /* @__PURE__ */ new Map();\n    this.selectedNodes.forEach((rowNode, key) => {\n      const passesPredicate = rowNode && predicate(rowNode);\n      if (passesPredicate) {\n        newSelectedNodes.set(key, rowNode);\n      }\n    });\n    this.selectedNodes = newSelectedNodes;\n  }\n  // should only be called if groupSelectsChildren=true\n  updateGroupsFromChildrenSelections(source, changedPath) {\n    if (!this.groupSelectsChildren) {\n      return false;\n    }\n    if (!_isClientSideRowModel(this.gos)) {\n      return false;\n    }\n    const clientSideRowModel = this.rowModel;\n    const rootNode = clientSideRowModel.getRootNode();\n    if (!changedPath) {\n      changedPath = new ChangedPath(true, rootNode);\n      changedPath.setInactive();\n    }\n    let selectionChanged = false;\n    changedPath.forEachChangedNodeDepthFirst((rowNode) => {\n      if (rowNode !== rootNode) {\n        const selected = rowNode.calculateSelectedFromChildren();\n        selectionChanged = rowNode.selectThisNode(selected === null ? false : selected, void 0, source) || selectionChanged;\n      }\n    });\n    return selectionChanged;\n  }\n  clearOtherNodes(rowNodeToKeepSelected, source) {\n    const groupsToRefresh = /* @__PURE__ */ new Map();\n    let updatedCount = 0;\n    this.selectedNodes.forEach((otherRowNode) => {\n      if (otherRowNode && otherRowNode.id !== rowNodeToKeepSelected.id) {\n        const rowNode = this.selectedNodes.get(otherRowNode.id);\n        updatedCount += rowNode.setSelectedParams({\n          newValue: false,\n          clearSelection: false,\n          suppressFinishActions: true,\n          source\n        });\n        if (this.groupSelectsChildren && otherRowNode.parent) {\n          groupsToRefresh.set(otherRowNode.parent.id, otherRowNode.parent);\n        }\n      }\n    });\n    groupsToRefresh.forEach((group) => {\n      const selected = group.calculateSelectedFromChildren();\n      group.selectThisNode(selected === null ? false : selected, void 0, source);\n    });\n    return updatedCount;\n  }\n  onRowSelected(event) {\n    const rowNode = event.node;\n    if (this.groupSelectsChildren && rowNode.group) {\n      return;\n    }\n    if (rowNode.isSelected()) {\n      this.selectedNodes.set(rowNode.id, rowNode);\n    } else {\n      this.selectedNodes.delete(rowNode.id);\n    }\n  }\n  syncInRowNode(rowNode, oldNode) {\n    this.syncInOldRowNode(rowNode, oldNode);\n    this.syncInNewRowNode(rowNode);\n  }\n  // if the id has changed for the node, then this means the rowNode\n  // is getting used for a different data item, which breaks\n  // our selectedNodes, as the node now is mapped by the old id\n  // which is inconsistent. so to keep the old node as selected,\n  // we swap in the clone (with the old id and old data). this means\n  // the oldNode is effectively a daemon we keep a reference to,\n  // so if client calls api.getSelectedNodes(), it gets the daemon\n  // in the result. when the client un-selects, the reference to the\n  // daemon is removed. the daemon, because it's an oldNode, is not\n  // used by the grid for rendering, it's a copy of what the node used\n  // to be like before the id was changed.\n  syncInOldRowNode(rowNode, oldNode) {\n    const oldNodeHasDifferentId = _exists(oldNode) && rowNode.id !== oldNode.id;\n    if (oldNodeHasDifferentId && oldNode) {\n      const id = oldNode.id;\n      const oldNodeSelected = this.selectedNodes.get(id) == rowNode;\n      if (oldNodeSelected) {\n        this.selectedNodes.set(oldNode.id, oldNode);\n      }\n    }\n  }\n  syncInNewRowNode(rowNode) {\n    if (this.selectedNodes.has(rowNode.id)) {\n      rowNode.setSelectedInitialValue(true);\n      this.selectedNodes.set(rowNode.id, rowNode);\n    } else {\n      rowNode.setSelectedInitialValue(false);\n    }\n  }\n  reset(source) {\n    const selectionCount = this.getSelectionCount();\n    this.resetNodes();\n    if (selectionCount) {\n      this.dispatchSelectionChanged(source);\n    }\n  }\n  resetNodes() {\n    this.selectedNodes?.clear();\n  }\n  // returns a list of all nodes at 'best cost' - a feature to be used\n  // with groups / trees. if a group has all it's children selected,\n  // then the group appears in the result, but not the children.\n  // Designed for use with 'children' as the group selection type,\n  // where groups don't actually appear in the selection normally.\n  getBestCostNodeSelection() {\n    if (!_isClientSideRowModel(this.gos)) {\n      return;\n    }\n    const clientSideRowModel = this.rowModel;\n    const topLevelNodes = clientSideRowModel.getTopLevelNodes();\n    if (topLevelNodes === null) {\n      return;\n    }\n    const result = [];\n    function traverse(nodes) {\n      for (let i = 0, l = nodes.length; i < l; i++) {\n        const node = nodes[i];\n        if (node.isSelected()) {\n          result.push(node);\n        } else {\n          const maybeGroup = node;\n          if (maybeGroup.group && maybeGroup.children) {\n            traverse(maybeGroup.children);\n          }\n        }\n      }\n    }\n    traverse(topLevelNodes);\n    return result;\n  }\n  isEmpty() {\n    let count = 0;\n    this.selectedNodes.forEach((rowNode) => {\n      if (rowNode) {\n        count++;\n      }\n    });\n    return count === 0;\n  }\n  deselectAllRowNodes(params) {\n    const callback = (rowNode) => rowNode.selectThisNode(false, void 0, source);\n    const rowModelClientSide = _isClientSideRowModel(this.gos);\n    const { source, justFiltered, justCurrentPage } = params;\n    if (justCurrentPage || justFiltered) {\n      if (!rowModelClientSide) {\n        _errorOnce(\"selecting just filtered only works when gridOptions.rowModelType='clientSide'\");\n        return;\n      }\n      this.getNodesToSelect(justFiltered, justCurrentPage).forEach(callback);\n    } else {\n      this.selectedNodes.forEach((rowNode) => {\n        if (rowNode) {\n          callback(rowNode);\n        }\n      });\n      this.reset(source);\n    }\n    this.selectionCtx.reset();\n    if (rowModelClientSide && this.groupSelectsChildren) {\n      this.updateGroupsFromChildrenSelections(source);\n    }\n    this.dispatchSelectionChanged(source);\n  }\n  getSelectedCounts(justFiltered, justCurrentPage) {\n    let selectedCount = 0;\n    let notSelectedCount = 0;\n    const callback = (node) => {\n      if (this.groupSelectsChildren && node.group) {\n        return;\n      }\n      if (node.isSelected()) {\n        selectedCount++;\n      } else if (!node.selectable) {\n      } else {\n        notSelectedCount++;\n      }\n    };\n    this.getNodesToSelect(justFiltered, justCurrentPage).forEach(callback);\n    return { selectedCount, notSelectedCount };\n  }\n  getSelectAllState(justFiltered, justCurrentPage) {\n    const { selectedCount, notSelectedCount } = this.getSelectedCounts(justFiltered, justCurrentPage);\n    if (selectedCount === 0 && notSelectedCount === 0) {\n      return false;\n    }\n    if (selectedCount > 0 && notSelectedCount > 0) {\n      return null;\n    }\n    return selectedCount > 0;\n  }\n  hasNodesToSelect(justFiltered = false, justCurrentPage = false) {\n    return this.getNodesToSelect(justFiltered, justCurrentPage).filter((node) => node.selectable).length > 0;\n  }\n  /**\n   * @param justFiltered whether to just include nodes which have passed the filter\n   * @param justCurrentPage whether to just include nodes on the current page\n   * @returns all nodes including unselectable nodes which are the target of this selection attempt\n   */\n  getNodesToSelect(justFiltered = false, justCurrentPage = false) {\n    this.validateSelectAllType();\n    const nodes = [];\n    if (justCurrentPage) {\n      this.forEachNodeOnPage((node) => {\n        if (!node.group) {\n          nodes.push(node);\n          return;\n        }\n        if (!node.expanded) {\n          const recursivelyAddChildren = (child) => {\n            nodes.push(child);\n            if (child.childrenAfterFilter?.length) {\n              child.childrenAfterFilter.forEach(recursivelyAddChildren);\n            }\n          };\n          recursivelyAddChildren(node);\n          return;\n        }\n        if (!this.groupSelectsChildren) {\n          nodes.push(node);\n        }\n      });\n      return nodes;\n    }\n    const clientSideRowModel = this.rowModel;\n    if (justFiltered) {\n      clientSideRowModel.forEachNodeAfterFilter((node) => {\n        nodes.push(node);\n      });\n      return nodes;\n    }\n    clientSideRowModel.forEachNode((node) => {\n      nodes.push(node);\n    });\n    return nodes;\n  }\n  forEachNodeOnPage(callback) {\n    const firstRow = this.pageBoundsService.getFirstRow();\n    const lastRow = this.pageBoundsService.getLastRow();\n    for (let i = firstRow; i <= lastRow; i++) {\n      const node = this.rowModel.getRow(i);\n      if (node) {\n        callback(node);\n      }\n    }\n  }\n  selectAllRowNodes(params) {\n    if (_isUsingNewRowSelectionAPI(this.gos) && !_isMultiRowSelection(this.gos)) {\n      return _warnOnce(`cannot multi select unless selection mode is 'multiRow'`);\n    }\n    this.validateSelectAllType();\n    const { source, justFiltered, justCurrentPage } = params;\n    const nodes = this.getNodesToSelect(justFiltered, justCurrentPage);\n    nodes.forEach((rowNode) => rowNode.selectThisNode(true, void 0, source));\n    this.selectionCtx.setRoot(nodes[0] ?? null);\n    this.selectionCtx.setEndRange(_last(nodes) ?? null);\n    if (_isClientSideRowModel(this.gos) && this.groupSelectsChildren) {\n      this.updateGroupsFromChildrenSelections(source);\n    }\n    this.dispatchSelectionChanged(source);\n  }\n  getSelectionState() {\n    const selectedIds = [];\n    this.selectedNodes.forEach((node) => {\n      if (node?.id) {\n        selectedIds.push(node.id);\n      }\n    });\n    return selectedIds.length ? selectedIds : null;\n  }\n  setSelectionState(state, source) {\n    if (!Array.isArray(state)) {\n      return _errorOnce(\n        \"Invalid selection state. When using client-side row model, the state must conform to `string[]`.\"\n      );\n    }\n    const rowIds = new Set(state);\n    const nodes = [];\n    this.rowModel.forEachNode((node) => {\n      if (rowIds.has(node.id)) {\n        nodes.push(node);\n      }\n    });\n    this.setNodesSelected({\n      newValue: true,\n      nodes,\n      source\n    });\n  }\n  dispatchSelectionChanged(source) {\n    this.eventService.dispatchEvent({\n      type: \"selectionChanged\",\n      source\n    });\n  }\n  validateSelectAllType() {\n    if (!_isClientSideRowModel(this.gos)) {\n      throw new Error(\n        `selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`\n      );\n    }\n  }\n};\n\n// community-modules/core/src/rowNodes/selectableService.ts\nvar SelectableService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"selectableService\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.selectionService = beans.selectionService;\n  }\n  postConstruct() {\n    this.addManagedPropertyListeners([\"isRowSelectable\", \"rowSelection\"], () => this.updateSelectable());\n  }\n  /**\n   * Used by CSRM only, to update selectable state after group state changes.\n   */\n  updateSelectableAfterGrouping() {\n    this.updateSelectable(true);\n  }\n  updateSelectable(skipLeafNodes = false) {\n    const { gos } = this;\n    const isRowSelecting = _isRowSelection(gos);\n    const isRowSelectable = _getIsRowSelectable(gos);\n    if (!isRowSelecting || !isRowSelectable) {\n      return;\n    }\n    const isGroupSelectsChildren = _getGroupSelectsDescendants(gos);\n    const isCsrmGroupSelectsChildren = _isClientSideRowModel(gos) && isGroupSelectsChildren;\n    const nodesToDeselect = [];\n    const nodeCallback = (node) => {\n      if (skipLeafNodes && !node.group) {\n        return;\n      }\n      if (isCsrmGroupSelectsChildren && node.group) {\n        const hasSelectableChild = node.childrenAfterGroup.some((rowNode) => rowNode.selectable === true);\n        node.setRowSelectable(hasSelectableChild, true);\n        return;\n      }\n      const rowSelectable = isRowSelectable?.(node) ?? true;\n      node.setRowSelectable(rowSelectable, true);\n      if (!rowSelectable && node.isSelected()) {\n        nodesToDeselect.push(node);\n      }\n    };\n    if (isCsrmGroupSelectsChildren) {\n      const csrm = this.rowModel;\n      const changedPath = new ChangedPath(false, csrm.getRootNode());\n      changedPath.forEachChangedNodeDepthFirst(nodeCallback, true, true);\n    } else {\n      this.rowModel.forEachNode(nodeCallback);\n    }\n    if (nodesToDeselect.length) {\n      this.selectionService.setNodesSelected({\n        nodes: nodesToDeselect,\n        newValue: false,\n        source: \"selectableChanged\"\n      });\n    }\n    if (isCsrmGroupSelectsChildren && this.selectionService instanceof SelectionService) {\n      this.selectionService.updateGroupsFromChildrenSelections(\"selectableChanged\");\n    }\n  }\n};\n\n// community-modules/core/src/sortController.ts\nvar DEFAULT_SORTING_ORDER = [\"asc\", \"desc\", null];\nvar SortController = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"sortController\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.showRowGroupColsService = beans.showRowGroupColsService;\n  }\n  progressSort(column, multiSort, source) {\n    const nextDirection = this.getNextSortDirection(column);\n    this.setSortForColumn(column, nextDirection, multiSort, source);\n  }\n  setSortForColumn(column, sort, multiSort, source) {\n    if (sort !== \"asc\" && sort !== \"desc\") {\n      sort = null;\n    }\n    const isColumnsSortingCoupledToGroup = _isColumnsSortingCoupledToGroup(this.gos);\n    let columnsToUpdate = [column];\n    if (isColumnsSortingCoupledToGroup) {\n      if (column.getColDef().showRowGroup) {\n        const rowGroupColumns = this.funcColsService.getSourceColumnsForGroupColumn(column);\n        const sortableRowGroupColumns = rowGroupColumns?.filter((col) => col.isSortable());\n        if (sortableRowGroupColumns) {\n          columnsToUpdate = [column, ...sortableRowGroupColumns];\n        }\n      }\n    }\n    columnsToUpdate.forEach((col) => col.setSort(sort, source));\n    const doingMultiSort = (multiSort || this.gos.get(\"alwaysMultiSort\")) && !this.gos.get(\"suppressMultiSort\");\n    const updatedColumns = [];\n    if (!doingMultiSort) {\n      const clearedColumns = this.clearSortBarTheseColumns(columnsToUpdate, source);\n      updatedColumns.push(...clearedColumns);\n    }\n    this.updateSortIndex(column);\n    updatedColumns.push(...columnsToUpdate);\n    this.dispatchSortChangedEvents(source, updatedColumns);\n  }\n  updateSortIndex(lastColToChange) {\n    const isCoupled = _isColumnsSortingCoupledToGroup(this.gos);\n    const groupParent = this.showRowGroupColsService?.getShowRowGroupCol(lastColToChange.getId());\n    const lastSortIndexCol = isCoupled ? groupParent || lastColToChange : lastColToChange;\n    const allSortedCols = this.getColumnsWithSortingOrdered();\n    this.columnModel.getAllCols().forEach((col) => col.setSortIndex(null));\n    const allSortedColsWithoutChangesOrGroups = allSortedCols.filter((col) => {\n      if (isCoupled && col.getColDef().showRowGroup) {\n        return false;\n      }\n      return col !== lastSortIndexCol;\n    });\n    const sortedColsWithIndices = lastSortIndexCol.getSort() ? [...allSortedColsWithoutChangesOrGroups, lastSortIndexCol] : allSortedColsWithoutChangesOrGroups;\n    sortedColsWithIndices.forEach((col, idx) => {\n      col.setSortIndex(idx);\n    });\n  }\n  // gets called by API, so if data changes, use can call this, which will end up\n  // working out the sort order again of the rows.\n  onSortChanged(source, columns) {\n    this.dispatchSortChangedEvents(source, columns);\n  }\n  isSortActive() {\n    const allCols = this.columnModel.getAllCols();\n    const sortedCols = allCols.filter((column) => !!column.getSort());\n    return sortedCols && sortedCols.length > 0;\n  }\n  dispatchSortChangedEvents(source, columns) {\n    const event = {\n      type: \"sortChanged\",\n      source\n    };\n    if (columns) {\n      event.columns = columns;\n    }\n    this.eventService.dispatchEvent(event);\n  }\n  clearSortBarTheseColumns(columnsToSkip, source) {\n    const clearedColumns = [];\n    this.columnModel.getAllCols().forEach((columnToClear) => {\n      if (!columnsToSkip.includes(columnToClear)) {\n        if (columnToClear.getSort()) {\n          clearedColumns.push(columnToClear);\n        }\n        columnToClear.setSort(void 0, source);\n      }\n    });\n    return clearedColumns;\n  }\n  getNextSortDirection(column) {\n    let sortingOrder;\n    if (column.getColDef().sortingOrder) {\n      sortingOrder = column.getColDef().sortingOrder;\n    } else if (this.gos.get(\"sortingOrder\")) {\n      sortingOrder = this.gos.get(\"sortingOrder\");\n    } else {\n      sortingOrder = DEFAULT_SORTING_ORDER;\n    }\n    if (!Array.isArray(sortingOrder) || sortingOrder.length <= 0) {\n      _warnOnce(`sortingOrder must be an array with at least one element, currently it's ${sortingOrder}`);\n      return null;\n    }\n    const currentIndex = sortingOrder.indexOf(column.getSort());\n    const notInArray = currentIndex < 0;\n    const lastItemInArray = currentIndex == sortingOrder.length - 1;\n    let result;\n    if (notInArray || lastItemInArray) {\n      result = sortingOrder[0];\n    } else {\n      result = sortingOrder[currentIndex + 1];\n    }\n    if (DEFAULT_SORTING_ORDER.indexOf(result) < 0) {\n      _warnOnce(\"invalid sort type \", result);\n      return null;\n    }\n    return result;\n  }\n  /**\n   * @returns a map of sort indexes for every sorted column, if groups sort primaries then they will have equivalent indices\n   */\n  getIndexedSortMap() {\n    let allSortedCols = this.columnModel.getAllCols().filter((col) => !!col.getSort());\n    if (this.columnModel.isPivotMode()) {\n      const isSortingLinked = _isColumnsSortingCoupledToGroup(this.gos);\n      allSortedCols = allSortedCols.filter((col) => {\n        const isAggregated = !!col.getAggFunc();\n        const isSecondary = !col.isPrimary();\n        const isGroup = isSortingLinked ? this.showRowGroupColsService?.getShowRowGroupCol(col.getId()) : col.getColDef().showRowGroup;\n        return isAggregated || isSecondary || isGroup;\n      });\n    }\n    const sortedRowGroupCols = this.funcColsService.getRowGroupColumns().filter((col) => !!col.getSort());\n    const allColsIndexes = {};\n    allSortedCols.forEach((col, index) => allColsIndexes[col.getId()] = index);\n    allSortedCols.sort((a, b) => {\n      const iA = a.getSortIndex();\n      const iB = b.getSortIndex();\n      if (iA != null && iB != null) {\n        return iA - iB;\n      } else if (iA == null && iB == null) {\n        const posA = allColsIndexes[a.getId()];\n        const posB = allColsIndexes[b.getId()];\n        return posA > posB ? 1 : -1;\n      } else if (iB == null) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n    const isSortLinked = _isColumnsSortingCoupledToGroup(this.gos) && !!sortedRowGroupCols.length;\n    if (isSortLinked) {\n      allSortedCols = [\n        ...new Set(\n          // if linked sorting, replace all columns with the display group column for index purposes, and ensure uniqueness\n          allSortedCols.map((col) => this.showRowGroupColsService?.getShowRowGroupCol(col.getId()) ?? col)\n        )\n      ];\n    }\n    const indexMap = /* @__PURE__ */ new Map();\n    allSortedCols.forEach((col, idx) => indexMap.set(col, idx));\n    if (isSortLinked) {\n      sortedRowGroupCols.forEach((col) => {\n        const groupDisplayCol = this.showRowGroupColsService.getShowRowGroupCol(col.getId());\n        indexMap.set(col, indexMap.get(groupDisplayCol));\n      });\n    }\n    return indexMap;\n  }\n  getColumnsWithSortingOrdered() {\n    return [...this.getIndexedSortMap().entries()].sort(([col1, idx1], [col2, idx2]) => idx1 - idx2).map(([col]) => col);\n  }\n  // used by server side row models, to sent sort to server\n  getSortModel() {\n    return this.getColumnsWithSortingOrdered().filter((column) => column.getSort()).map((column) => ({\n      sort: column.getSort(),\n      colId: column.getId()\n    }));\n  }\n  getSortOptions() {\n    return this.getColumnsWithSortingOrdered().filter((column) => column.getSort()).map((column) => ({\n      sort: column.getSort(),\n      column\n    }));\n  }\n  canColumnDisplayMixedSort(column) {\n    const isColumnSortCouplingActive = _isColumnsSortingCoupledToGroup(this.gos);\n    const isGroupDisplayColumn = !!column.getColDef().showRowGroup;\n    return isColumnSortCouplingActive && isGroupDisplayColumn;\n  }\n  getDisplaySortForColumn(column) {\n    const linkedColumns = this.funcColsService.getSourceColumnsForGroupColumn(column);\n    if (!this.canColumnDisplayMixedSort(column) || !linkedColumns?.length) {\n      return column.getSort();\n    }\n    const columnHasUniqueData = column.getColDef().field != null || !!column.getColDef().valueGetter;\n    const sortableColumns = columnHasUniqueData ? [column, ...linkedColumns] : linkedColumns;\n    const firstSort = sortableColumns[0].getSort();\n    const allMatch = sortableColumns.every((col) => col.getSort() == firstSort);\n    if (!allMatch) {\n      return \"mixed\";\n    }\n    return firstSort;\n  }\n  getDisplaySortIndexForColumn(column) {\n    return this.getIndexedSortMap().get(column);\n  }\n};\n\n// community-modules/core/src/syncService.ts\nvar SyncService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"syncService\";\n    this.waitingForColumns = false;\n  }\n  wireBeans(beans) {\n    this.ctrlsService = beans.ctrlsService;\n    this.columnModel = beans.columnModel;\n    this.rowModel = beans.rowModel;\n  }\n  postConstruct() {\n    this.addManagedPropertyListener(\"columnDefs\", (event) => this.setColumnDefs(event));\n  }\n  start() {\n    this.ctrlsService.whenReady(this, () => {\n      const columnDefs = this.gos.get(\"columnDefs\");\n      if (columnDefs) {\n        this.setColumnsAndData(columnDefs);\n      } else {\n        this.waitingForColumns = true;\n      }\n      this.gridReady();\n    });\n  }\n  setColumnsAndData(columnDefs) {\n    this.columnModel.setColumnDefs(columnDefs ?? [], \"gridInitializing\");\n    this.rowModel.start();\n  }\n  gridReady() {\n    this.eventService.dispatchEvent({\n      type: \"gridReady\"\n    });\n    const isEnterprise = this.gos.isModuleRegistered(\"@ag-grid-enterprise/core\" /* EnterpriseCoreModule */);\n    if (this.gos.get(\"debug\")) {\n      _log(`initialised successfully, enterprise = ${isEnterprise}`);\n    }\n  }\n  setColumnDefs(event) {\n    const columnDefs = this.gos.get(\"columnDefs\");\n    if (!columnDefs) {\n      return;\n    }\n    if (this.waitingForColumns) {\n      this.waitingForColumns = false;\n      this.setColumnsAndData(columnDefs);\n      return;\n    }\n    this.columnModel.setColumnDefs(columnDefs, convertSourceType(event.source));\n  }\n};\n\n// community-modules/core/src/valueService/changeDetectionService.ts\nvar SOURCE_PASTE = \"paste\";\nvar ChangeDetectionService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"changeDetectionService\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n    this.rowRenderer = beans.rowRenderer;\n  }\n  postConstruct() {\n    if (_isClientSideRowModel(this.gos)) {\n      this.clientSideRowModel = this.rowModel;\n    }\n    this.addManagedEventListeners({ cellValueChanged: this.onCellValueChanged.bind(this) });\n  }\n  onCellValueChanged(event) {\n    if (event.source === SOURCE_PASTE) {\n      return;\n    }\n    this.doChangeDetection(event.node, event.column);\n  }\n  doChangeDetection(rowNode, column) {\n    if (this.gos.get(\"suppressChangeDetection\")) {\n      return;\n    }\n    const nodesToRefresh = [rowNode];\n    if (this.clientSideRowModel && !rowNode.isRowPinned()) {\n      const onlyChangedColumns = this.gos.get(\"aggregateOnlyChangedColumns\");\n      const changedPath = new ChangedPath(onlyChangedColumns, this.clientSideRowModel.getRootNode());\n      changedPath.addParentNode(rowNode.parent, [column]);\n      this.clientSideRowModel.doAggregate(changedPath);\n      changedPath.forEachChangedNodeDepthFirst((rowNode2) => {\n        nodesToRefresh.push(rowNode2);\n      });\n    }\n    this.rowRenderer.refreshCells({ rowNodes: nodesToRefresh });\n  }\n};\n\n// community-modules/core/src/valueService/expressionService.ts\nvar ExpressionService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"expressionService\";\n    this.expressionToFunctionCache = {};\n  }\n  evaluate(expression, params) {\n    if (typeof expression === \"string\") {\n      return this.evaluateExpression(expression, params);\n    } else {\n      _errorOnce(\"value should be either a string or a function\", expression);\n    }\n  }\n  evaluateExpression(expression, params) {\n    try {\n      const javaScriptFunction = this.createExpressionFunction(expression);\n      const result = javaScriptFunction(\n        params.value,\n        params.context,\n        params.oldValue,\n        params.newValue,\n        params.value,\n        params.node,\n        params.data,\n        params.colDef,\n        params.rowIndex,\n        params.api,\n        params.getValue,\n        params.column,\n        params.columnGroup\n      );\n      return result;\n    } catch (e) {\n      _log(\"Processing of the expression failed\");\n      _log(\"Expression = \", expression);\n      _log(\"Params = \", params);\n      _log(\"Exception = \", e);\n      return null;\n    }\n  }\n  createExpressionFunction(expression) {\n    if (this.expressionToFunctionCache[expression]) {\n      return this.expressionToFunctionCache[expression];\n    }\n    const functionBody = this.createFunctionBody(expression);\n    const theFunction = new Function(\n      \"x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup\",\n      functionBody\n    );\n    this.expressionToFunctionCache[expression] = theFunction;\n    return theFunction;\n  }\n  createFunctionBody(expression) {\n    if (expression.indexOf(\"return\") >= 0) {\n      return expression;\n    } else {\n      return \"return \" + expression + \";\";\n    }\n  }\n};\n\n// community-modules/core/src/valueService/valueCache.ts\nvar ValueCache = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"valueCache\";\n    this.cacheVersion = 0;\n  }\n  postConstruct() {\n    this.active = this.gos.get(\"valueCache\");\n    this.neverExpires = this.gos.get(\"valueCacheNeverExpires\");\n  }\n  onDataChanged() {\n    if (this.neverExpires) {\n      return;\n    }\n    this.expire();\n  }\n  expire() {\n    this.cacheVersion++;\n  }\n  setValue(rowNode, colId, value) {\n    if (this.active) {\n      if (rowNode.__cacheVersion !== this.cacheVersion) {\n        rowNode.__cacheVersion = this.cacheVersion;\n        rowNode.__cacheData = {};\n      }\n      rowNode.__cacheData[colId] = value;\n    }\n  }\n  getValue(rowNode, colId) {\n    if (!this.active || rowNode.__cacheVersion !== this.cacheVersion) {\n      return void 0;\n    }\n    return rowNode.__cacheData[colId];\n  }\n};\n\n// community-modules/core/src/valueService/valueService.ts\nvar ValueService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"valueService\";\n    this.initialised = false;\n    this.isSsrm = false;\n  }\n  wireBeans(beans) {\n    this.expressionService = beans.expressionService;\n    this.columnModel = beans.columnModel;\n    this.valueCache = beans.valueCache;\n    this.dataTypeService = beans.dataTypeService;\n  }\n  postConstruct() {\n    if (!this.initialised) {\n      this.init();\n    }\n  }\n  init() {\n    this.isSsrm = _isServerSideRowModel(this.gos);\n    this.cellExpressions = this.gos.get(\"enableCellExpressions\");\n    this.isTreeData = this.gos.get(\"treeData\");\n    this.initialised = true;\n    const listener = (event) => this.callColumnCellValueChangedHandler(event);\n    const async = _useAsyncEvents(this.gos);\n    this.eventService.addEventListener(\"cellValueChanged\", listener, async);\n    this.addDestroyFunc(() => this.eventService.removeEventListener(\"cellValueChanged\", listener, async));\n    this.addManagedPropertyListener(\"treeData\", (propChange) => this.isTreeData = propChange.currentValue);\n  }\n  /**\n   * Use this function to get a displayable cell value.\n   * This hides values in expanded group rows which are instead displayed by the footer row.\n   */\n  getValueForDisplay(column, node) {\n    const lockedClosedGroup = node.leafGroup && this.columnModel.isPivotMode();\n    const isOpenGroup = node.group && node.expanded && !node.footer && !lockedClosedGroup;\n    const groupAlwaysShowAggData = this.gos.get(\"groupSuppressBlankHeader\");\n    if (!isOpenGroup || groupAlwaysShowAggData) {\n      return this.getValue(column, node);\n    }\n    let includeFooter = false;\n    const groupIncludeFooterOpt = this.gos.get(\"groupTotalRow\") ?? this.gos.get(\"groupIncludeFooter\");\n    if (typeof groupIncludeFooterOpt !== \"function\") {\n      includeFooter = !!groupIncludeFooterOpt;\n    } else {\n      const groupIncludeFooterCb = this.gos.getCallback(\"groupTotalRow\") ?? this.gos.getCallback(\"groupIncludeFooter\");\n      includeFooter = !!groupIncludeFooterCb({ node: this });\n    }\n    const ignoreAggData = isOpenGroup && includeFooter;\n    return this.getValue(column, node, false, ignoreAggData);\n  }\n  getValue(column, rowNode, forFilter = false, ignoreAggData = false) {\n    if (!this.initialised) {\n      this.init();\n    }\n    if (!rowNode) {\n      return;\n    }\n    const colDef = column.getColDef();\n    const field = colDef.field;\n    const colId = column.getColId();\n    const data = rowNode.data;\n    let result;\n    const groupDataExists = rowNode.groupData && rowNode.groupData[colId] !== void 0;\n    const aggDataExists = !ignoreAggData && rowNode.aggData && rowNode.aggData[colId] !== void 0;\n    const ignoreSsrmAggData = this.isSsrm && ignoreAggData && !!column.getColDef().aggFunc;\n    const ssrmFooterGroupCol = this.isSsrm && rowNode.footer && rowNode.field && (column.getColDef().showRowGroup === true || column.getColDef().showRowGroup === rowNode.field);\n    if (forFilter && colDef.filterValueGetter) {\n      result = this.executeFilterValueGetter(colDef.filterValueGetter, data, column, rowNode);\n    } else if (this.isTreeData && aggDataExists) {\n      result = rowNode.aggData[colId];\n    } else if (this.isTreeData && colDef.valueGetter) {\n      result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n    } else if (this.isTreeData && field && data) {\n      result = _getValueUsingField(data, field, column.isFieldContainsDots());\n    } else if (groupDataExists) {\n      result = rowNode.groupData[colId];\n    } else if (aggDataExists) {\n      result = rowNode.aggData[colId];\n    } else if (colDef.valueGetter) {\n      result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n    } else if (ssrmFooterGroupCol) {\n      result = _getValueUsingField(data, rowNode.field, column.isFieldContainsDots());\n    } else if (field && data && !ignoreSsrmAggData) {\n      result = _getValueUsingField(data, field, column.isFieldContainsDots());\n    }\n    if (this.cellExpressions && typeof result === \"string\" && result.indexOf(\"=\") === 0) {\n      const cellValueGetter = result.substring(1);\n      result = this.executeValueGetter(cellValueGetter, data, column, rowNode);\n    }\n    if (result == null) {\n      const openedGroup = this.getOpenedGroup(rowNode, column);\n      if (openedGroup != null) {\n        return openedGroup;\n      }\n    }\n    return result;\n  }\n  parseValue(column, rowNode, newValue, oldValue) {\n    const colDef = column.getColDef();\n    const valueParser = colDef.valueParser;\n    if (_exists(valueParser)) {\n      const params = this.gos.addGridCommonParams({\n        node: rowNode,\n        data: rowNode?.data,\n        oldValue,\n        newValue,\n        colDef,\n        column\n      });\n      if (typeof valueParser === \"function\") {\n        return valueParser(params);\n      }\n      return this.expressionService.evaluate(valueParser, params);\n    }\n    return newValue;\n  }\n  getDeleteValue(column, rowNode) {\n    if (_exists(column.getColDef().valueParser)) {\n      return this.parseValue(column, rowNode, \"\", this.getValueForDisplay(column, rowNode)) ?? null;\n    }\n    return null;\n  }\n  formatValue(column, node, value, suppliedFormatter, useFormatterFromColumn = true) {\n    let result = null;\n    let formatter;\n    const colDef = column.getColDef();\n    if (suppliedFormatter) {\n      formatter = suppliedFormatter;\n    } else if (useFormatterFromColumn) {\n      formatter = colDef.valueFormatter;\n    }\n    if (formatter) {\n      const params = this.gos.addGridCommonParams({\n        value,\n        node,\n        data: node ? node.data : null,\n        colDef,\n        column\n      });\n      if (typeof formatter === \"function\") {\n        result = formatter(params);\n      } else {\n        result = this.expressionService.evaluate(formatter, params);\n      }\n    } else if (colDef.refData) {\n      return colDef.refData[value] || \"\";\n    }\n    if (result == null && Array.isArray(value)) {\n      result = value.join(\", \");\n    }\n    return result;\n  }\n  getOpenedGroup(rowNode, column) {\n    if (!this.gos.get(\"showOpenedGroup\")) {\n      return;\n    }\n    const colDef = column.getColDef();\n    if (!colDef.showRowGroup) {\n      return;\n    }\n    const showRowGroup = column.getColDef().showRowGroup;\n    let pointer = rowNode.parent;\n    while (pointer != null) {\n      if (pointer.rowGroupColumn && (showRowGroup === true || showRowGroup === pointer.rowGroupColumn.getColId())) {\n        return pointer.key;\n      }\n      pointer = pointer.parent;\n    }\n    return void 0;\n  }\n  /**\n   * Sets the value of a GridCell\n   * @param rowNode The `RowNode` to be updated\n   * @param colKey The `Column` to be updated\n   * @param newValue The new value to be set\n   * @param eventSource The event source\n   * @returns `True` if the value has been updated, otherwise`False`.\n   */\n  setValue(rowNode, colKey, newValue, eventSource) {\n    const column = this.columnModel.getColDefCol(colKey);\n    if (!rowNode || !column) {\n      return false;\n    }\n    if (_missing(rowNode.data)) {\n      rowNode.data = {};\n    }\n    const { field, valueSetter } = column.getColDef();\n    if (_missing(field) && _missing(valueSetter)) {\n      _warnOnce(`you need either field or valueSetter set on colDef for editing to work`);\n      return false;\n    }\n    if (this.dataTypeService && !this.dataTypeService.checkType(column, newValue)) {\n      _warnOnce(`Data type of the new value does not match the cell data type of the column`);\n      return false;\n    }\n    const params = this.gos.addGridCommonParams({\n      node: rowNode,\n      data: rowNode.data,\n      oldValue: this.getValue(column, rowNode),\n      newValue,\n      colDef: column.getColDef(),\n      column\n    });\n    params.newValue = newValue;\n    let valueWasDifferent;\n    if (_exists(valueSetter)) {\n      if (typeof valueSetter === \"function\") {\n        valueWasDifferent = valueSetter(params);\n      } else {\n        valueWasDifferent = this.expressionService.evaluate(valueSetter, params);\n      }\n    } else {\n      valueWasDifferent = this.setValueUsingField(rowNode.data, field, newValue, column.isFieldContainsDots());\n    }\n    if (valueWasDifferent === void 0) {\n      valueWasDifferent = true;\n    }\n    if (!valueWasDifferent) {\n      return false;\n    }\n    rowNode.resetQuickFilterAggregateText();\n    this.valueCache.onDataChanged();\n    const savedValue = this.getValue(column, rowNode);\n    this.eventService.dispatchEvent({\n      type: \"cellValueChanged\",\n      event: null,\n      rowIndex: rowNode.rowIndex,\n      rowPinned: rowNode.rowPinned,\n      column: params.column,\n      colDef: params.colDef,\n      data: rowNode.data,\n      node: rowNode,\n      oldValue: params.oldValue,\n      newValue: savedValue,\n      value: savedValue,\n      source: eventSource\n    });\n    return true;\n  }\n  callColumnCellValueChangedHandler(event) {\n    const onCellValueChanged = event.colDef.onCellValueChanged;\n    if (typeof onCellValueChanged === \"function\") {\n      this.getFrameworkOverrides().wrapOutgoing(() => {\n        onCellValueChanged({\n          node: event.node,\n          data: event.data,\n          oldValue: event.oldValue,\n          newValue: event.newValue,\n          colDef: event.colDef,\n          column: event.column,\n          api: event.api,\n          context: event.context\n        });\n      });\n    }\n  }\n  setValueUsingField(data, field, newValue, isFieldContainsDots) {\n    if (!field) {\n      return false;\n    }\n    let valuesAreSame = false;\n    if (!isFieldContainsDots) {\n      valuesAreSame = data[field] === newValue;\n      if (!valuesAreSame) {\n        data[field] = newValue;\n      }\n    } else {\n      const fieldPieces = field.split(\".\");\n      let currentObject = data;\n      while (fieldPieces.length > 0 && currentObject) {\n        const fieldPiece = fieldPieces.shift();\n        if (fieldPieces.length === 0) {\n          valuesAreSame = currentObject[fieldPiece] === newValue;\n          if (!valuesAreSame) {\n            currentObject[fieldPiece] = newValue;\n          }\n        } else {\n          currentObject = currentObject[fieldPiece];\n        }\n      }\n    }\n    return !valuesAreSame;\n  }\n  executeFilterValueGetter(valueGetter, data, column, rowNode) {\n    const params = this.gos.addGridCommonParams({\n      data,\n      node: rowNode,\n      column,\n      colDef: column.getColDef(),\n      getValue: this.getValueCallback.bind(this, rowNode)\n    });\n    if (typeof valueGetter === \"function\") {\n      return valueGetter(params);\n    }\n    return this.expressionService.evaluate(valueGetter, params);\n  }\n  executeValueGetter(valueGetter, data, column, rowNode) {\n    const colId = column.getColId();\n    const valueFromCache = this.valueCache.getValue(rowNode, colId);\n    if (valueFromCache !== void 0) {\n      return valueFromCache;\n    }\n    const params = this.gos.addGridCommonParams({\n      data,\n      node: rowNode,\n      column,\n      colDef: column.getColDef(),\n      getValue: this.getValueCallback.bind(this, rowNode)\n    });\n    let result;\n    if (typeof valueGetter === \"function\") {\n      result = valueGetter(params);\n    } else {\n      result = this.expressionService.evaluate(valueGetter, params);\n    }\n    this.valueCache.setValue(rowNode, colId, result);\n    return result;\n  }\n  getValueCallback(node, field) {\n    const otherColumn = this.columnModel.getColDefCol(field);\n    if (otherColumn) {\n      return this.getValue(otherColumn, node);\n    }\n    return null;\n  }\n  // used by row grouping and pivot, to get key for a row. col can be a pivot col or a row grouping col\n  getKeyForNode(col, rowNode) {\n    const value = this.getValue(col, rowNode);\n    const keyCreator = col.getColDef().keyCreator;\n    let result = value;\n    if (keyCreator) {\n      const keyParams = this.gos.addGridCommonParams({\n        value,\n        colDef: col.getColDef(),\n        column: col,\n        node: rowNode,\n        data: rowNode.data\n      });\n      result = keyCreator(keyParams);\n    }\n    if (typeof result === \"string\" || result == null) {\n      return result;\n    }\n    result = String(result);\n    if (result === \"[object Object]\") {\n      _warnOnce(\n        \"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key\"\n      );\n    }\n    return result;\n  }\n};\n\n// community-modules/core/src/grid.ts\nvar _GlobalGridOptions = class _GlobalGridOptions {\n  static applyGlobalGridOptions(providedOptions) {\n    if (!_GlobalGridOptions.gridOptions) {\n      return providedOptions;\n    }\n    let mergedGridOps = {};\n    _mergeDeep(mergedGridOps, _GlobalGridOptions.gridOptions, true, true);\n    if (_GlobalGridOptions.mergeStrategy === \"deep\") {\n      _mergeDeep(mergedGridOps, providedOptions, true, true);\n    } else {\n      mergedGridOps = { ...mergedGridOps, ...providedOptions };\n    }\n    if (_GlobalGridOptions.gridOptions.context) {\n      mergedGridOps.context = _GlobalGridOptions.gridOptions.context;\n    }\n    if (providedOptions.context) {\n      if (_GlobalGridOptions.mergeStrategy === \"deep\" && mergedGridOps.context) {\n        _mergeDeep(providedOptions.context, mergedGridOps.context, true, true);\n      }\n      mergedGridOps.context = providedOptions.context;\n    }\n    return mergedGridOps;\n  }\n};\n_GlobalGridOptions.gridOptions = void 0;\n_GlobalGridOptions.mergeStrategy = \"shallow\";\nvar GlobalGridOptions = _GlobalGridOptions;\nfunction provideGlobalGridOptions(gridOptions, mergeStrategy = \"shallow\") {\n  GlobalGridOptions.gridOptions = gridOptions;\n  GlobalGridOptions.mergeStrategy = mergeStrategy;\n}\nfunction _getGlobalGridOption(gridOption) {\n  return GlobalGridOptions.gridOptions?.[gridOption];\n}\nfunction createGrid(eGridDiv, gridOptions, params) {\n  if (!gridOptions) {\n    _errorOnce(\"No gridOptions provided to createGrid\");\n    return {};\n  }\n  const api = new GridCoreCreator().create(\n    eGridDiv,\n    gridOptions,\n    (context) => {\n      const gridComp = new GridComp(eGridDiv);\n      context.createBean(gridComp);\n    },\n    void 0,\n    params\n  );\n  if (!Object.isFrozen(gridOptions) && !params?.frameworkOverrides) {\n    const apiUrl = \"https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api\";\n    Object.defineProperty(gridOptions, \"api\", {\n      get: () => {\n        _errorOnce(`gridOptions.api is no longer supported. See ${apiUrl}.`);\n        return void 0;\n      },\n      configurable: true\n    });\n  }\n  return api;\n}\nvar Grid = class {\n  // Not typed to enable setting api for backwards compatibility\n  constructor(eGridDiv, gridOptions, params) {\n    _warnOnce(\n      \"Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions.\"\n    );\n    if (!gridOptions) {\n      _errorOnce(\"No gridOptions provided to the grid\");\n      return;\n    }\n    this.gridOptions = gridOptions;\n    const api = new GridCoreCreator().create(\n      eGridDiv,\n      gridOptions,\n      (context) => {\n        const gridComp = new GridComp(eGridDiv);\n        const bean = context.createBean(gridComp);\n        bean.addDestroyFunc(() => {\n          this.destroy();\n        });\n      },\n      void 0,\n      params\n    );\n    this.gridOptions.api = api;\n  }\n  destroy() {\n    if (this.gridOptions) {\n      this.gridOptions.api?.destroy();\n      delete this.gridOptions.api;\n    }\n  }\n};\nvar nextGridId = 1;\nvar GridCoreCreator = class {\n  create(eGridDiv, providedOptions, createUi, acceptChanges, params) {\n    const mergedGridOps = GlobalGridOptions.applyGlobalGridOptions(providedOptions);\n    const gridOptions = getCoercedGridOptions(mergedGridOps);\n    const gridId = gridOptions.gridId ?? String(nextGridId++);\n    const registeredModules = this.getRegisteredModules(params, gridId);\n    const beanClasses = this.createBeansList(gridOptions.rowModelType, registeredModules, gridId);\n    const providedBeanInstances = this.createProvidedBeans(eGridDiv, gridOptions, params);\n    if (!beanClasses) {\n      _errorOnce(\"Failed to create grid.\");\n      return void 0;\n    }\n    const contextParams = {\n      providedBeanInstances,\n      beanClasses,\n      gridId,\n      beanInitComparator: gridBeanInitComparator,\n      beanDestroyComparator: gridBeanDestroyComparator,\n      derivedBeans: [createGridApi]\n    };\n    const context = new Context(contextParams);\n    this.registerModuleUserComponents(context, registeredModules);\n    this.registerControllers(context, registeredModules);\n    this.registerModuleApiFunctions(context, registeredModules);\n    createUi(context);\n    context.getBean(\"syncService\").start();\n    if (acceptChanges) {\n      acceptChanges(context);\n    }\n    return context.getBean(\"gridApi\");\n  }\n  registerControllers(context, registeredModules) {\n    const factory = context.getBean(\"ctrlsFactory\");\n    registeredModules.forEach((module) => {\n      if (module.controllers) {\n        module.controllers.forEach((meta) => factory.register(meta));\n      }\n    });\n  }\n  getRegisteredModules(params, gridId) {\n    const passedViaConstructor = params ? params.modules : null;\n    const registered = ModuleRegistry.__getRegisteredModules(gridId);\n    const allModules = [];\n    const mapNames = {};\n    const addModule = (moduleBased, mod2, gridId2) => {\n      const addIndividualModule = (currentModule) => {\n        if (!mapNames[currentModule.moduleName]) {\n          mapNames[currentModule.moduleName] = true;\n          allModules.push(currentModule);\n          ModuleRegistry.__register(currentModule, moduleBased, gridId2);\n        }\n      };\n      addIndividualModule(mod2);\n      if (mod2.dependantModules) {\n        mod2.dependantModules.forEach((m) => addModule(moduleBased, m, gridId2));\n      }\n    };\n    addModule(\n      !!passedViaConstructor?.length || !ModuleRegistry.__isPackageBased(),\n      CommunityFeaturesModule,\n      void 0\n    );\n    if (passedViaConstructor) {\n      passedViaConstructor.forEach((m) => addModule(true, m, gridId));\n    }\n    if (registered) {\n      registered.forEach((m) => addModule(!ModuleRegistry.__isPackageBased(), m, void 0));\n    }\n    return allModules;\n  }\n  registerModuleUserComponents(context, registeredModules) {\n    const moduleUserComps = this.extractModuleEntity(\n      registeredModules,\n      (module) => module.userComponents ? module.userComponents : []\n    );\n    const registry = context.getBean(\"userComponentRegistry\");\n    moduleUserComps.forEach(({ name, classImp, params }) => {\n      registry.registerDefaultComponent(name, classImp, params);\n    });\n  }\n  registerModuleApiFunctions(context, registeredModules) {\n    const apiFunctionService = context.getBean(\"apiFunctionService\");\n    registeredModules.forEach((module) => {\n      const apiFunctions = module.apiFunctions;\n      if (apiFunctions) {\n        const names = Object.keys(apiFunctions);\n        names.forEach((name) => {\n          apiFunctionService?.addFunction(name, apiFunctions[name]);\n        });\n      }\n    });\n  }\n  createProvidedBeans(eGridDiv, gridOptions, params) {\n    let frameworkOverrides = params ? params.frameworkOverrides : null;\n    if (_missing(frameworkOverrides)) {\n      frameworkOverrides = new VanillaFrameworkOverrides();\n    }\n    const seed = {\n      gridOptions,\n      eGridDiv,\n      globalEventListener: params ? params.globalEventListener : null,\n      globalSyncEventListener: params ? params.globalSyncEventListener : null,\n      frameworkOverrides\n    };\n    if (params && params.providedBeanInstances) {\n      Object.assign(seed, params.providedBeanInstances);\n    }\n    return seed;\n  }\n  createBeansList(rowModelType = \"clientSide\", registeredModules, gridId) {\n    const rowModelModules = registeredModules.filter(\n      (module) => !module.rowModel || module.rowModel === rowModelType\n    );\n    const rowModelModuleNames = {\n      clientSide: \"@ag-grid-community/client-side-row-model\" /* ClientSideRowModelModule */,\n      infinite: \"@ag-grid-community/infinite-row-model\" /* InfiniteRowModelModule */,\n      serverSide: \"@ag-grid-enterprise/server-side-row-model\" /* ServerSideRowModelModule */,\n      viewport: \"@ag-grid-enterprise/viewport-row-model\" /* ViewportRowModelModule */\n    };\n    if (!rowModelModuleNames[rowModelType]) {\n      _errorOnce(\"Could not find row model for rowModelType = \", rowModelType);\n      return;\n    }\n    if (!ModuleRegistry.__assertRegistered(\n      rowModelModuleNames[rowModelType],\n      `rowModelType = '${rowModelType}'`,\n      gridId\n    )) {\n      return;\n    }\n    const beans = [\n      RowPositionUtils,\n      CellPositionUtils,\n      HeaderPositionUtils,\n      GridDestroyService,\n      ApiFunctionService,\n      UserComponentRegistry,\n      AgComponentUtils,\n      ComponentMetadataProvider,\n      ResizeObserverService,\n      UserComponentFactory,\n      RowContainerHeightService,\n      HorizontalResizeService,\n      LocaleService,\n      PinnedRowModel,\n      DragService,\n      VisibleColsService,\n      EventService,\n      GridOptionsService,\n      PopupService,\n      SelectionService,\n      ColumnModel,\n      HeaderNavigationService,\n      PageBoundsService,\n      PageBoundsListener,\n      RowRenderer,\n      ExpressionService,\n      ColumnFactory,\n      NavigationService,\n      ValueCache,\n      ValueService,\n      AutoWidthCalculator,\n      StandardMenuFactory,\n      DragAndDropService,\n      FocusService,\n      MouseEventService,\n      Environment,\n      CellNavigationService,\n      StylingService,\n      ScrollVisibleService,\n      SortController,\n      ColumnHoverService,\n      ColumnAnimationService,\n      SelectableService,\n      ChangeDetectionService,\n      AnimationFrameService,\n      ColumnDefFactory,\n      RowCssClassCalculator,\n      RowNodeSorter,\n      CtrlsService,\n      PinnedWidthService,\n      RowNodeEventThrottle,\n      CtrlsFactory,\n      SyncService,\n      OverlayService,\n      ExpansionService,\n      ApiEventService,\n      AriaAnnouncementService,\n      MenuService,\n      ColumnApplyStateService,\n      ColumnEventDispatcher,\n      ColumnMoveService,\n      ColumnAutosizeService,\n      ColumnGetStateService,\n      ColumnGroupStateService,\n      ColumnSizeService,\n      FuncColsService,\n      ColumnNameService,\n      ColumnViewportService,\n      PivotResultColsService,\n      ControlsColService\n    ];\n    const moduleBeans = this.extractModuleEntity(rowModelModules, (module) => module.beans ? module.beans : []);\n    beans.push(...moduleBeans);\n    const beansNoDuplicates = [];\n    beans.forEach((bean) => {\n      if (beansNoDuplicates.indexOf(bean) < 0) {\n        beansNoDuplicates.push(bean);\n      }\n    });\n    return beansNoDuplicates;\n  }\n  extractModuleEntity(moduleEntities, extractor) {\n    return [].concat(...moduleEntities.map(extractor));\n  }\n};\n\n// community-modules/core/src/api/rowModelHelperService.ts\nvar RowModelHelperService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"rowModelHelperService\";\n  }\n  wireBeans(beans) {\n    this.rowModel = beans.rowModel;\n  }\n  postConstruct() {\n    const rowModel = this.rowModel;\n    switch (rowModel.getType()) {\n      case \"clientSide\":\n        this.clientSideRowModel = rowModel;\n        break;\n      case \"infinite\":\n        this.infiniteRowModel = rowModel;\n        break;\n      case \"serverSide\":\n        this.serverSideRowModel = rowModel;\n        break;\n    }\n  }\n  getClientSideRowModel() {\n    return this.clientSideRowModel;\n  }\n  getInfiniteRowModel() {\n    return this.infiniteRowModel;\n  }\n  getServerSideRowModel() {\n    return this.serverSideRowModel;\n  }\n};\n\n// community-modules/core/src/api/csrmSsrmSharedApi.ts\nfunction expandAll(beans) {\n  beans.expansionService.expandAll(true);\n}\nfunction collapseAll(beans) {\n  beans.expansionService.expandAll(false);\n}\nfunction onRowHeightChanged(beans) {\n  const clientSideRowModel = beans.rowModelHelperService?.getClientSideRowModel();\n  const serverSideRowModel = beans.rowModelHelperService?.getServerSideRowModel();\n  if (clientSideRowModel) {\n    clientSideRowModel.onRowHeightChanged();\n  } else if (serverSideRowModel) {\n    serverSideRowModel.onRowHeightChanged();\n  }\n}\n\n// community-modules/core/src/api/ssrmInfiniteSharedApi.ts\nfunction setRowCount(beans, rowCount, maxRowFound) {\n  const serverSideRowModel = beans.rowModelHelperService?.getServerSideRowModel();\n  if (serverSideRowModel) {\n    if (beans.funcColsService.isRowGroupEmpty()) {\n      serverSideRowModel.setRowCount(rowCount, maxRowFound);\n      return;\n    }\n    _errorOnce(\"setRowCount cannot be used while using row grouping.\");\n    return;\n  }\n  const infiniteRowModel = beans.rowModelHelperService?.getInfiniteRowModel();\n  if (infiniteRowModel) {\n    infiniteRowModel.setRowCount(rowCount, maxRowFound);\n    return;\n  }\n}\nfunction getCacheBlockState(beans) {\n  return beans.rowNodeBlockLoader?.getBlockState() ?? {};\n}\nfunction isLastRowIndexKnown(beans) {\n  return beans.rowModel.isLastRowIndexKnown();\n}\n\n// community-modules/core/src/api/sharedApiModule.ts\nvar CsrmSsrmSharedApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/csrm-ssrm-shared-api\",\n  apiFunctions: {\n    expandAll,\n    collapseAll,\n    onRowHeightChanged\n  }\n});\nvar SsrmInfiniteSharedApiModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-community/ssrm-infinite-shared-api\",\n  apiFunctions: {\n    setRowCount,\n    getCacheBlockState,\n    isLastRowIndexKnown\n  }\n});\n\n// community-modules/core/src/components/framework/frameworkComponentWrapper.ts\nvar BaseComponentWrapper = class {\n  wrap(OriginalConstructor, mandatoryMethodList, optionalMethodList = [], componentType) {\n    const wrapper = this.createWrapper(OriginalConstructor, componentType);\n    mandatoryMethodList.forEach((methodName) => {\n      this.createMethod(wrapper, methodName, true);\n    });\n    optionalMethodList.forEach((methodName) => {\n      this.createMethod(wrapper, methodName, false);\n    });\n    return wrapper;\n  }\n  createMethod(wrapper, methodName, mandatory) {\n    wrapper.addMethod(methodName, this.createMethodProxy(wrapper, methodName, mandatory));\n  }\n  createMethodProxy(wrapper, methodName, mandatory) {\n    return function() {\n      if (wrapper.hasMethod(methodName)) {\n        return wrapper.callMethod(methodName, arguments);\n      }\n      if (mandatory) {\n        _warnOnce(\"Framework component is missing the method \" + methodName + \"()\");\n      }\n      return null;\n    };\n  }\n};\n\n// community-modules/core/src/interfaces/iChartOptions.ts\nvar ChartMappings = class {\n};\nChartMappings.CHART_TYPE_TO_SERIES_TYPE = {\n  column: \"bar\",\n  groupedColumn: \"bar\",\n  stackedColumn: \"bar\",\n  normalizedColumn: \"bar\",\n  bar: \"bar\",\n  groupedBar: \"bar\",\n  stackedBar: \"bar\",\n  normalizedBar: \"bar\",\n  line: \"line\",\n  scatter: \"scatter\",\n  bubble: \"bubble\",\n  pie: \"pie\",\n  donut: \"donut\",\n  doughnut: \"donut\",\n  area: \"area\",\n  stackedArea: \"area\",\n  normalizedArea: \"area\",\n  histogram: \"histogram\",\n  radarLine: \"radar-line\",\n  radarArea: \"radar-area\",\n  nightingale: \"nightingale\",\n  radialColumn: \"radial-column\",\n  radialBar: \"radial-bar\",\n  sunburst: \"sunburst\",\n  rangeBar: \"range-bar\",\n  rangeArea: \"range-area\",\n  boxPlot: \"box-plot\",\n  treemap: \"treemap\",\n  heatmap: \"heatmap\",\n  waterfall: \"waterfall\"\n};\nChartMappings.COMBO_CHART_TYPES = [\"columnLineCombo\", \"areaColumnCombo\", \"customCombo\"];\nChartMappings.SERIES_GROUP_TYPES = [\"grouped\", \"stacked\", \"normalized\"];\n\n// community-modules/core/src/interfaces/iSparklineCellRendererParams.ts\nvar BarColumnLabelPlacement = /* @__PURE__ */ ((BarColumnLabelPlacement2) => {\n  BarColumnLabelPlacement2[\"InsideBase\"] = \"insideBase\";\n  BarColumnLabelPlacement2[\"InsideEnd\"] = \"insideEnd\";\n  BarColumnLabelPlacement2[\"Center\"] = \"center\";\n  BarColumnLabelPlacement2[\"OutsideEnd\"] = \"outsideEnd\";\n  return BarColumnLabelPlacement2;\n})(BarColumnLabelPlacement || {});\n\n// community-modules/core/src/main.ts\nvar globalObj = typeof global === \"undefined\" ? {} : global;\nglobalObj.HTMLElement = typeof HTMLElement === \"undefined\" ? {} : HTMLElement;\nglobalObj.HTMLButtonElement = typeof HTMLButtonElement === \"undefined\" ? {} : HTMLButtonElement;\nglobalObj.HTMLSelectElement = typeof HTMLSelectElement === \"undefined\" ? {} : HTMLSelectElement;\nglobalObj.HTMLInputElement = typeof HTMLInputElement === \"undefined\" ? {} : HTMLInputElement;\nglobalObj.Node = typeof Node === \"undefined\" ? {} : Node;\nglobalObj.MouseEvent = typeof MouseEvent === \"undefined\" ? {} : MouseEvent;\nexport {\n  ALWAYS_SYNC_GLOBAL_EVENTS,\n  AbstractHeaderCellCtrl,\n  AgAbstractField,\n  AgAbstractInputField,\n  AgAbstractLabel,\n  AgCheckbox,\n  AgCheckboxSelector,\n  AgColumn,\n  AgColumnGroup,\n  AgInputDateField,\n  AgInputNumberField,\n  AgInputNumberFieldSelector,\n  AgInputTextArea,\n  AgInputTextField,\n  AgInputTextFieldSelector,\n  AgPickerField,\n  AgPromise,\n  AgProvidedColumnGroup,\n  AgRadioButton,\n  AgSelect,\n  AgSelectSelector,\n  AgToggleButton,\n  AgToggleButtonSelector,\n  AnimateShowChangeCellRenderer,\n  AnimateSlideCellRenderer,\n  AnimationFrameService,\n  AriaAnnouncementService,\n  AutoScrollService,\n  AutoWidthCalculator,\n  BarColumnLabelPlacement,\n  BaseComponentWrapper,\n  BeanStub,\n  BodyDropPivotTarget,\n  BodyDropTarget,\n  CellComp,\n  CellCtrl,\n  CellNavigationService,\n  CellPositionUtils,\n  CellRangeType,\n  ChangedPath,\n  ChartMappings,\n  CheckboxCellEditor,\n  CheckboxCellRenderer,\n  CheckboxSelectionComponent,\n  ClientSideRowModelSteps,\n  ColumnApplyStateService,\n  ColumnAutosizeService,\n  ColumnFactory,\n  ColumnKeyCreator,\n  ColumnModel,\n  ColumnMoveService,\n  ColumnNameService,\n  ColumnSizeService,\n  CommunityFeaturesModule,\n  Component,\n  ComponentUtil,\n  Context,\n  CssClassManager,\n  CtrlsService,\n  DataTypeService,\n  DateCellEditor,\n  DateFilter,\n  DateStringCellEditor,\n  DragAndDropService,\n  DragService,\n  DragSourceType,\n  Environment,\n  EventService,\n  ExcelFactoryMode,\n  ExpansionService,\n  ExpressionService,\n  FakeHScrollComp,\n  FakeVScrollComp,\n  FilterManager,\n  FilterWrapperComp,\n  FocusService,\n  FuncColsService,\n  GROUP_AUTO_COLUMN_ID,\n  Grid,\n  GridBodyComp,\n  GridBodyCtrl,\n  GridComp,\n  GridCoreCreator,\n  GridCoreModule,\n  GridCtrl,\n  GridHeaderComp,\n  GridHeaderCtrl,\n  GridOptionsService,\n  GroupInstanceIdCreator,\n  HeaderCellCtrl,\n  HeaderFilterCellComp,\n  HeaderFilterCellCtrl,\n  HeaderGroupCellCtrl,\n  HeaderNavigationDirection,\n  HeaderNavigationService,\n  HeaderPositionUtils,\n  HeaderRowComp,\n  HeaderRowContainerComp,\n  HeaderRowContainerCtrl,\n  HeaderRowCtrl,\n  HeaderRowType,\n  HorizontalDirection,\n  HorizontalResizeService,\n  KeyCode,\n  LargeTextCellEditor,\n  LayoutCssClasses,\n  LocalEventService,\n  LocaleService,\n  ManagedFocusFeature,\n  MenuService,\n  ModuleNames,\n  ModuleRegistry,\n  MouseEventService,\n  MoveColumnFeature,\n  NavigationService,\n  NumberCellEditor,\n  NumberFilter,\n  NumberSequence,\n  OverlayWrapperComponent,\n  PinnedRowModel,\n  PivotResultColsService,\n  PopupComponent,\n  PopupEditorWrapper,\n  PopupService,\n  PositionableFeature,\n  PropertyKeys,\n  ProvidedFilter,\n  RefPlaceholder,\n  ResizeObserverService,\n  RowContainerComp,\n  RowContainerCtrl,\n  RowCtrl,\n  RowDragComp,\n  RowHighlightPosition,\n  RowModelHelperService,\n  RowNode,\n  RowNodeBlock,\n  RowNodeBlockLoader,\n  RowNodeSorter,\n  RowPositionUtils,\n  RowRenderer,\n  ScalarFilter,\n  ScrollVisibleService,\n  SelectCellEditor,\n  SelectableService,\n  SelectionHandleType,\n  ServerSideTransactionResultStatus,\n  SetLeftFeature,\n  SimpleFilter,\n  SortController,\n  SortIndicatorComp,\n  SortIndicatorSelector,\n  StandardMenuFactory,\n  StylingService,\n  TabGuardClassNames,\n  TabGuardComp,\n  TabGuardCtrl,\n  TabGuardFeature,\n  TextCellEditor,\n  TextFilter,\n  TextFloatingFilter,\n  TooltipFeature,\n  TooltipStateManager,\n  TouchListener,\n  UserComponentFactory,\n  UserComponentRegistry,\n  ValueCache,\n  ValueService,\n  VanillaFrameworkOverrides,\n  VerticalDirection,\n  VisibleColsService,\n  ColumnFilterModule as _ColumnFilterModule,\n  CommunityMenuApiModule as _CommunityMenuApiModule,\n  CsrmSsrmSharedApiModule as _CsrmSsrmSharedApiModule,\n  EditCoreModule as _EditCoreModule,\n  EmptyBean as _EmptyBean,\n  FilterCoreModule as _FilterCoreModule,\n  FloatingFilterModule as _FloatingFilterModule,\n  ReadOnlyFloatingFilterModule as _ReadOnlyFloatingFilterModule,\n  RowNodeBlockModule as _RowNodeBlockModule,\n  SsrmInfiniteSharedApiModule as _SsrmInfiniteSharedApiModule,\n  _addFocusableContainerListener,\n  _areEqual,\n  _bindCellRendererToHtmlElement,\n  _capitalise,\n  _clearElement,\n  _cloneObject,\n  _combineAttributesAndGridOptions,\n  _compose,\n  _createIcon,\n  _createIconNoSpan,\n  _debounce,\n  _defaultComparator,\n  _defineModule,\n  _doOnce,\n  _errorOnce,\n  _escapeString,\n  _exists,\n  _existsAndNotEmpty,\n  _flatten,\n  _forEachReverse,\n  _formatNumberCommas,\n  _formatNumberTwoDecimalPlacesAndCommas,\n  _fuzzySuggestions,\n  _getAbsoluteHeight,\n  _getAbsoluteWidth,\n  _getActiveDomElement,\n  _getAllValuesInObject,\n  _getAriaPosInSet,\n  _getCtrlForEventTarget,\n  _getDocument,\n  _getFillHandle,\n  _getGlobalGridOption,\n  _getGrandTotalRow,\n  _getGroupAggFiltering,\n  _getGroupSelection,\n  _getGroupSelectsDescendants,\n  _getGroupTotalRowCallback,\n  _getHeaderCheckbox,\n  _getHeaderClassesFromColDef,\n  _getInnerHeight,\n  _getInnerWidth,\n  _getIsRowSelectable,\n  _getRowContainerOptions,\n  _getRowHeightAsNumber,\n  _getRowHeightForNode,\n  _getRowIdCallback,\n  _getRowSelectionMode,\n  _getSuppressMultiRanges,\n  _getToolPanelClassesFromColDef,\n  _includes,\n  _insertArrayIntoArray,\n  _insertIntoArray,\n  _isAnimateRows,\n  _isCellSelectionEnabled,\n  _isClientSideRowModel,\n  _isColumnsSortingCoupledToGroup,\n  _isDomLayout,\n  _isElementInEventPath,\n  _isEventFromPrintableCharacter,\n  _isGetRowHeightFunction,\n  _isGroupMultiAutoColumn,\n  _isGroupUseEntireRow,\n  _isIOSUserAgent,\n  _isMultiRowSelection,\n  _isNodeOrElement,\n  _isNothingFocused,\n  _isRowSelection,\n  _isServerSideRowModel,\n  _isStopPropagationForAgGrid,\n  _isUsingNewCellSelectionAPI,\n  _isUsingNewRowSelectionAPI,\n  _isVisible,\n  _iterateObject,\n  _jsonEquals,\n  _last,\n  _loadTemplate,\n  _log,\n  _makeNull,\n  _mergeDeep,\n  _missing,\n  _missingOrEmpty,\n  _parseDateTimeFromString,\n  _processOnChange,\n  _radioCssClass,\n  _removeAriaExpanded,\n  _removeAriaSort,\n  _removeFromArray,\n  _removeFromParent,\n  _removeRepeatsFromArray,\n  _serialiseDate,\n  _setAriaActiveDescendant,\n  _setAriaChecked,\n  _setAriaColCount,\n  _setAriaColIndex,\n  _setAriaColSpan,\n  _setAriaControls,\n  _setAriaDescribedBy,\n  _setAriaDisabled,\n  _setAriaExpanded,\n  _setAriaHidden,\n  _setAriaLabel,\n  _setAriaLabelledBy,\n  _setAriaLevel,\n  _setAriaPosInSet,\n  _setAriaRole,\n  _setAriaRowCount,\n  _setAriaRowIndex,\n  _setAriaSelected,\n  _setAriaSetSize,\n  _setAriaSort,\n  _setDisabled,\n  _setDisplayed,\n  _setFixedWidth,\n  _setVisible,\n  _shallowCompare,\n  _stopPropagationForAgGrid,\n  _toStringOrNull,\n  _unwrapUserComp,\n  _utf8_encode,\n  _values,\n  _waitUntil,\n  _warnOnce,\n  createGrid,\n  getDefaultFloatingFilterType,\n  isColumn,\n  isColumnControlsCol,\n  isColumnGroup,\n  isColumnGroupAutoCol,\n  isProvidedColumnGroup,\n  isSelectionUIEvent,\n  provideGlobalGridOptions\n};\n","import { GridOptions } from '@ag-grid-community/core';\r\n\r\nexport const defaultGridOptions: GridOptions = {\r\n  accentedSort: true,\r\n  animateRows: true,\r\n  enableCellTextSelection: true,\r\n  headerHeight: 32,\r\n  suppressScrollOnNewData: true,\r\n  valueCache: true,\r\n  defaultColDef: { filterParams: { newRowsAction: 'keep' } },\r\n  tooltipShowDelay: 0,\r\n  tooltipHideDelay: 100000,\r\n  suppressMovableColumns: true,\r\n} as const;\r\n","import { AgGridModule } from '@ag-grid-community/angular';\r\nimport { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\r\nimport { ModuleRegistry } from '@ag-grid-community/core';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    AgGridModule,\r\n  ],\r\n  exports: [\r\n    AgGridModule,\r\n  ],\r\n})\r\nexport class SxcGridModule {\r\n  constructor() {\r\n    ModuleRegistry.register(ClientSideRowModelModule);\r\n  }\r\n}\r\n","/** https://hackernoon.com/copying-text-to-clipboard-with-javascript-df4d4988697f */\r\nexport function copyToClipboard(str: string) {\r\n  const el = document.createElement('textarea');  // Create a <textarea> element\r\n  el.value = str;                                 // Set its value to the string that you want copied\r\n  el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\r\n  el.style.position = 'absolute';\r\n  el.style.left = '-9999px';                      // Move outside the screen to make it invisible\r\n  document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\r\n  const selected =\r\n    document.getSelection().rangeCount > 0        // Check if there is any content selected previously\r\n      ? document.getSelection().getRangeAt(0)     // Store selection if found\r\n      : false;                                    // Mark as false to know no selection existed before\r\n  el.select();                                    // Select the <textarea> content\r\n  document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\r\n  document.body.removeChild(el);                  // Remove the <textarea> element\r\n  if (selected) {                                 // If a selection existed before copying\r\n    document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\r\n    document.getSelection().addRange(selected);   // Restore the original selection\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { TrueFalseParams } from './true-false.models';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@Component({\r\n    selector: 'app-rest-api-true-false',\r\n    templateUrl: './true-false.component.html',\r\n    imports: [MatIconModule]\r\n})\r\nexport class TrueFalseComponent implements ICellRendererAngularComp {\r\n  icon: string;\r\n\r\n  private trueIcon = 'check_circle';\r\n  private falseIcon = 'circle';\r\n\r\n  agInit(params: ICellRendererParams & TrueFalseParams): void {\r\n    let value: boolean = params.value;\r\n    if (params.reverse) { value = !value; }\r\n    if (params.trueIcon) { this.trueIcon = params.trueIcon; }\r\n    if (params.falseIcon) { this.falseIcon = params.falseIcon; }\r\n    this.icon = value ? this.trueIcon : this.falseIcon;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon>{{ icon }}</mat-icon>\r\n</div>\r\n","import { IFilterAngularComp } from '@ag-grid-community/angular';\r\nimport { IAfterGuiAttachedParams, IDoesFilterPassParams, IFilterParams, ValueGetterParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { BooleanFilterModel } from './boolean-filter.model';\r\n\r\n@Component({\r\n    selector: 'app-boolean-filter',\r\n    templateUrl: './boolean-filter.component.html',\r\n    styleUrls: ['./boolean-filter.component.scss'],\r\n    imports: [\r\n        FormsModule,\r\n        MatRadioModule,\r\n    ]\r\n})\r\nexport class BooleanFilterComponent implements IFilterAngularComp {\r\n  filter = '';\r\n\r\n  private filterParams: IFilterParams;\r\n\r\n  agInit(params: IFilterParams) {\r\n    this.filterParams = params;\r\n  }\r\n\r\n  isFilterActive(): boolean {\r\n    return this.filter !== '';\r\n  }\r\n\r\n  doesFilterPass(params: IDoesFilterPassParams): boolean {\r\n    const valueGetterParams: ValueGetterParams = {\r\n      api: this.filterParams.api,\r\n      colDef: this.filterParams.colDef,\r\n      column: this.filterParams.column,\r\n      context: this.filterParams.context,\r\n      data: params.node.data,\r\n      getValue: (field) => params.node.data[field],\r\n      node: params.node,\r\n    };\r\n    const value: boolean = this.filterParams.valueGetter(valueGetterParams);\r\n    if (value == null) { return false; }\r\n    return value.toString() === this.filter;\r\n  }\r\n\r\n  getModel(): BooleanFilterModel {\r\n    if (!this.isFilterActive()) return;\r\n    return {\r\n      filterType: 'boolean',\r\n      filter: this.filter,\r\n    };\r\n  }\r\n\r\n  setModel(model: BooleanFilterModel) {\r\n    this.filter = model ? model.filter : '';\r\n  }\r\n\r\n  afterGuiAttached(params: IAfterGuiAttachedParams) {\r\n  }\r\n\r\n  filterChanged() {\r\n    this.filterParams.filterChangedCallback();\r\n  }\r\n}\r\n","<mat-radio-group [(ngModel)]=\"filter\" (ngModelChange)=\"filterChanged()\">\r\n  <mat-radio-button value=\"\">All</mat-radio-button>\r\n  <mat-radio-button value=\"true\">True</mat-radio-button>\r\n  <mat-radio-button value=\"false\">False</mat-radio-button>\r\n</mat-radio-group>\r\n"],"x_google_ignoreList":[0,7,8]}
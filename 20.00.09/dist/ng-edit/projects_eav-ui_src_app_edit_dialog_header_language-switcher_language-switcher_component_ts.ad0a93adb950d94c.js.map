{"version":3,"file":"projects_eav-ui_src_app_edit_dialog_header_language-switcher_language-switcher_component_ts.ad0a93adb950d94c.js","mappings":"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","names":["getLanguageOptions","languages","languageButtons","shortCodesCount","forEach","language","shortName","removeRegionName","Culture","shortCode","push","label","NameId","languageName","substring","includes","indexOf","toLocaleUpperCase","i0","option_r1","Code","toLocaleLowerCase","LanguageDropdownComponent","constructor","selectedValue","this","userLanguageSvc","isForced","optionType","value","stored","onSelectionChange","event","save","static","__ngFactoryType__","debug_node_JnOYh9kg","VBU","selectors","inputs","tooltip","options","decls","vars","consts","template","rf","ctx","$event","LanguageDropdownComponent_For_10_Template","MatFormFieldModule","i1","MatDialogModule","MatIconModule","MatButtonModule","TippyDirective","MatSelectModule","i2","TranslateModule","i3","encapsulation","LanguageSettingsDialogComponent","#languageSvc","inject","LanguageService","LanguagePart","transient","UserLanguageService","dialog","MatDialogRef","getAll","ngOnInit","#watchKeyboardShortcuts","primaryTranslatableEnabled","savePrimaryTranslatable","closeDialog","close","keydownEvents","subscribe","isCtrlEnter","preventDefault","Form","UI","i4","i5","i6","SaveCloseButtonFabComponent","styles","CenterSelectedHelper","ngZone","header","moveThreshold","stopClick","eventListeners","runOutsideAngular","checkIfMouseMoved","document","addEventListener","passive","element","type","listener","lngButtonDown","saveInitialPosition","lngButtonClick","doMove","stopClickIfMouseMoved","destroy","removeEventListener","positionX","pageX","positionY","pageY","Math","abs","button","target","buttonOffset","getBoundingClientRect","left","buttonWidth","width","headerOffset","headerWidth","scrollLeft","MouseScrollHelper","areButtonsDisabled","registerScroll","bind","headerDownListener","window","getSelection","removeAllRanges","oldScrollBehavior","getComputedStyle","getPropertyValue","style","scrollBehavior","doScroll","e","removeScroll","splice","length","newPositionX","ShowShadowsHelper","leftShadow","rightShadow","hidden","calculateShadows","maxScrollLeft","scrollWidth","clientWidth","hideBoth","hideLeft","hideRight","showBoth","classList","add","remove","_r1","ctx_r1","languageSettings","LanguageSwitcherComponent_For_8_Conditional_0_Conditional_2_Template","langButton_r3","disabled","userConfigurable","_r4","lngButtonMouseDown","$implicit","LanguageSwitcherComponent_For_8_Conditional_0_Template","LanguageSwitcherComponent_For_8_Conditional_1_Template","current","LanguageSwitcherComponent","languageService","languageInstanceService","formConfig","snackBar","translate","matDialog","viewContainerRef","log","classLog","input","computed","buttons","ngAfterViewInit","showShadowsHelper","headerRef","nativeElement","leftShadowRef","rightShadowRef","mouseScrollHelper","centerSelectedHelper","ngOnDestroy","l","fn","open","instant","duration","verticalPosition","end","setCurrent","config","formId","lngCode","uiCode","use","autoFocus","position","top","viewQuery","LanguageSwitcherComponent_For_8_Template","i7","MatIcon"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/edit/dialog/header/language-switcher/language-switcher.helpers.ts","./projects/eav-ui/src/app/edit/dialog/header/language-settings-dialog/LanguageDropdownComponent/language-dropdown.component.html","./projects/eav-ui/src/app/edit/dialog/header/language-settings-dialog/LanguageDropdownComponent/language-dropdown.component.ts","./projects/eav-ui/src/app/edit/dialog/header/language-settings-dialog/language-settings-dialog.ts","./projects/eav-ui/src/app/edit/dialog/header/language-settings-dialog/language-settings-dialog.html","./projects/eav-ui/src/app/edit/dialog/header/language-switcher/center-selected.helper.ts","./projects/eav-ui/src/app/edit/dialog/header/language-switcher/mouse-scroll.helper.ts","./projects/eav-ui/src/app/edit/dialog/header/language-switcher/show-shadows.helper.ts","./projects/eav-ui/src/app/edit/dialog/header/language-switcher/language-switcher.component.html","./projects/eav-ui/src/app/edit/dialog/header/language-switcher/language-switcher.component.ts"],"sourcesContent":["import { Language } from '../../../form/form-languages.model';\r\n\r\nexport interface LanguageOption extends Language {\r\n  label: string;\r\n}\r\n\r\n/** Calculates properties of language buttons, e.g. name to be displayed */\r\nexport function getLanguageOptions(languages: Language[]): LanguageOption[] {\r\n  const languageButtons: LanguageOption[] = [];\r\n  const shortCodesCount: Record<string, number> = {};\r\n\r\n  // count the number of repetitions of the same language without region key\r\n  // e.g. English (United States) and English (Australia) are both English\r\n  languages.forEach(language => {\r\n    const shortName = removeRegionName(language.Culture);\r\n    if (shortCodesCount[shortName])\r\n      shortCodesCount[shortName]++;\r\n    else\r\n      shortCodesCount[shortName] = 1;\r\n  });\r\n\r\n  // if language repeats, append language key to name which will be displayed\r\n  languages.forEach(language => {\r\n    const shortCode = removeRegionName(language.Culture);\r\n\r\n    languageButtons.push({\r\n      ...language,\r\n      label: (shortCodesCount[shortCode] > 1) ? `${shortCode} (${language.NameId})` : shortCode,\r\n    });\r\n  });\r\n\r\n  return languageButtons;\r\n}\r\n\r\n/** Returns name without region, e.g. ENGLISH from English (United Stated) */\r\nfunction removeRegionName(languageName: string): string {\r\n  return languageName.substring(0, languageName.includes('(') ? languageName.indexOf('(') - 1 : 100).toLocaleUpperCase();\r\n}\r\n","<mat-form-field [tippy]=\"tooltip | translate\" appearance=\"fill\" color=\"accent\">\r\n  <mat-label>\r\n    {{ label | translate }}\r\n    {{ userLanguageSvc.isForced(optionType) ? '(disabled)' : '' }}\r\n  </mat-label>\r\n  <mat-select\r\n    [value]=\"selectedValue\"\r\n    (selectionChange)=\"onSelectionChange($event)\"\r\n    [disabled]=\"userLanguageSvc.isForced(optionType)\"\r\n    >\r\n    <mat-option value=\"\">\r\n      {{'LanguageSettings.UseCurrentLanguage' | translate}}\r\n    </mat-option>\r\n    @for (option of options; track option) {\r\n      <mat-option [value]=\"option.Code.toLocaleLowerCase()\">{{ option.label }}</mat-option>\r\n    }\r\n  </mat-select>\r\n</mat-form-field>","import { Component, Input } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { UserLanguageService } from 'projects/eav-ui/src/app/shared/services/user-language.service';\r\nimport { LanguageOption } from '../../language-switcher/language-switcher.helpers';\r\nimport { LanguagePart } from './language-part.enum';\r\n\r\n@Component({\r\n  selector: 'app-language-dropdown',\r\n  templateUrl: './language-dropdown.component.html',\r\n  imports: [\r\n    MatFormFieldModule,\r\n    MatDialogModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    TippyDirective,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class LanguageDropdownComponent {\r\n  @Input() label: string;\r\n  @Input() tooltip: string;\r\n  @Input() optionType: LanguagePart;\r\n  @Input() options: LanguageOption[];\r\n  @Input() userLanguageSvc: UserLanguageService;\r\n\r\n  constructor() { }\r\n\r\n  get selectedValue() {\r\n    return this.userLanguageSvc.isForced(this.optionType)\r\n      ? this.userLanguageSvc.value(this.optionType)\r\n      : this.userLanguageSvc.stored(this.optionType);\r\n  }\r\n\r\n  onSelectionChange(event: any) {\r\n    this.userLanguageSvc.save(this.optionType, event.value);\r\n  }\r\n}","import { Component, inject } from \"@angular/core\";\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from \"@angular/material/select\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { SaveCloseButtonFabComponent } from \"projects/eav-ui/src/app/shared/modules/save-close-button-fab/save-close-button-fab.component\";\r\nimport { UserLanguageService } from \"projects/eav-ui/src/app/shared/services/user-language.service\";\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { TippyDirective } from \"../../../../shared/directives/tippy.directive\";\r\nimport { LanguageService } from '../../../localization/language.service';\r\nimport { isCtrlEnter } from \"../../main/keyboard-shortcuts\";\r\nimport { getLanguageOptions } from '../language-switcher/language-switcher.helpers';\r\nimport { LanguageDropdownComponent } from \"./LanguageDropdownComponent/language-dropdown.component\";\r\nimport { LanguagePart } from \"./LanguageDropdownComponent/language-part.enum\";\r\n\r\n@Component({\r\n  selector: 'app-separate-languages-header',\r\n  templateUrl: './language-settings-dialog.html',\r\n  styleUrls: ['./language-settings-dialog.scss'],\r\n  imports: [\r\n    MatDialogModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    TippyDirective,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    LanguageDropdownComponent,\r\n    TranslateModule,\r\n    SaveCloseButtonFabComponent,\r\n  ]\r\n})\r\nexport class LanguageSettingsDialogComponent {\r\n  /** Language SVC - to get list of all possible languages */\r\n  #languageSvc = inject(LanguageService);\r\n\r\n  LanguagePart = LanguagePart;\r\n\r\n  /** User language service - to get/set the current language */\r\n  protected userLanguageSvc = transient(UserLanguageService);\r\n\r\n  /** Dialog reference, for close */\r\n  protected dialog = inject(MatDialogRef<LanguageSettingsDialogComponent>);\r\n  \r\n  protected options = getLanguageOptions(this.#languageSvc.getAll());\r\n\r\n  constructor() { }\r\n  \r\n  ngOnInit() {\r\n    this.#watchKeyboardShortcuts();\r\n  }\r\n\r\n  get selectedValue(): boolean {\r\n    return !!this.userLanguageSvc.primaryTranslatableEnabled();\r\n  }\r\n\r\n  onSelectionChange(event: any) {\r\n    this.userLanguageSvc.savePrimaryTranslatable(!!event.value);\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  #watchKeyboardShortcuts(): void {\r\n    this.dialog.keydownEvents().subscribe(event => {\r\n      if (isCtrlEnter(event)) {\r\n        event.preventDefault();\r\n        this.closeDialog();\r\n      }\r\n    });\r\n  }\r\n}","<div class=\"eav-dialog\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">{{'LanguageSettings.Title' | translate}}</div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"eav-dialog-content\">\r\n    <p>{{'LanguageSettings.Intro' | translate}}</p>\r\n\r\n    <h3>{{'LanguageSettings.Subtitle' | translate}}</h3>\r\n\r\n    <div class=\"language-dropdowns\">\r\n      <app-language-dropdown\r\n        [label]=\"'LanguageSettings.LabelsAndTextsOptionLabel'\"\r\n        [tooltip]=\"'LanguageSettings.LabelsAndTextsTooltip'\"\r\n        [optionType]=\"LanguagePart.Form\"\r\n        [options]=\"options\"\r\n        [userLanguageSvc]=\"userLanguageSvc\"\r\n      ></app-language-dropdown>\r\n\r\n      <app-language-dropdown\r\n        [label]=\"'LanguageSettings.ButtonsAndControlsOptionLabel'\"\r\n        [tooltip]=\"'LanguageSettings.ButtonsAndControlsTooltip'\"\r\n        [optionType]=\"LanguagePart.UI\"\r\n        [options]=\"options\"\r\n        [userLanguageSvc]=\"userLanguageSvc\"\r\n      ></app-language-dropdown>\r\n    </div>\r\n    \r\n    <mat-form-field [tippy]=\"'LanguageSettings.TranslatePrimaryTooltip' | translate\" appearance=\"fill\" color=\"accent\">\r\n      <mat-label>\r\n        {{ \"LanguageSettings.TranslatePrimaryOptionLabel\" | translate }}\r\n      </mat-label>\r\n      <mat-select\r\n        [value]=\"selectedValue\"\r\n        (selectionChange)=\"onSelectionChange($event)\"\r\n      >\r\n        <mat-option [value]=\"false\">\r\n          {{'LanguageSettings.DeactivatedOption' | translate}}\r\n        </mat-option>\r\n        <mat-option [value]=\"true\">\r\n          {{'LanguageSettings.ActivatedOption' | translate}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n  <mat-dialog-actions align=\"end\">\r\n    <app-save-close-button-fab\r\n      (action)=\"closeDialog()\"\r\n    />\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { NgZone } from '@angular/core';\r\nimport { ElementEventListener } from '../../../shared/controls/element-event-listener.model';\r\n\r\nexport class CenterSelectedHelper {\r\n  private positionX: number;\r\n  private positionY: number;\r\n  private moveThreshold = 2; // pixels for which header can be scrolled while clicking to still register as click\r\n  private stopClick = false;\r\n  private eventListeners: ElementEventListener[] = [];\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    private header: HTMLElement,\r\n  ) {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      const checkIfMouseMoved = (event: MouseEvent) => { this.checkIfMouseMoved(event); };\r\n      document.addEventListener('mouseup', checkIfMouseMoved, { passive: true });\r\n      this.eventListeners.push({ element: document, type: 'mouseup', listener: checkIfMouseMoved });\r\n    });\r\n  }\r\n\r\n  lngButtonDown(event: MouseEvent) {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.saveInitialPosition(event);\r\n    });\r\n  }\r\n\r\n  lngButtonClick(event: MouseEvent) {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.doMove(event);\r\n    });\r\n  }\r\n\r\n  stopClickIfMouseMoved() {\r\n    return this.stopClick;\r\n  }\r\n\r\n  destroy() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.eventListeners.forEach(({ element, type, listener }) => {\r\n        element.removeEventListener(type, listener);\r\n      });\r\n      this.eventListeners = null;\r\n    });\r\n  }\r\n\r\n  private saveInitialPosition(event: MouseEvent) {\r\n    this.stopClick = false;\r\n    this.positionX = event.pageX;\r\n    this.positionY = event.pageY;\r\n  }\r\n\r\n  private checkIfMouseMoved(event: MouseEvent) {\r\n    if (!this.positionX || !this.positionY) {\r\n      this.stopClick = false;\r\n      return;\r\n    }\r\n    const newPositionX = event.pageX;\r\n    const newPositionY = event.pageY;\r\n\r\n    const newTotal = newPositionX + newPositionY;\r\n    const oldTotal = this.positionX + this.positionY;\r\n\r\n    this.stopClick = Math.abs(oldTotal - newTotal) > this.moveThreshold;\r\n    this.positionX = null;\r\n    this.positionY = null;\r\n  }\r\n\r\n  private doMove(event: MouseEvent) {\r\n    if (this.stopClick) return;\r\n\r\n    const button = event.target as HTMLButtonElement;\r\n    const buttonOffset = button.getBoundingClientRect().left;\r\n    const buttonWidth = button.getBoundingClientRect().width;\r\n    const headerOffset = this.header.getBoundingClientRect().left;\r\n    const headerWidth = this.header.getBoundingClientRect().width;\r\n\r\n    const currentPosition = buttonOffset + buttonWidth / 2;\r\n    const moveTo = headerOffset + headerWidth / 2;\r\n\r\n    this.header.scrollLeft += currentPosition - moveTo;\r\n  }\r\n}\r\n","import { NgZone } from '@angular/core';\r\nimport { ElementEventListener } from '../../../shared/controls/element-event-listener.model';\r\n\r\nexport class MouseScrollHelper {\r\n  private oldScrollBehavior: string;\r\n  private positionX: number;\r\n  private headerDownListener: ElementEventListener;\r\n  private eventListeners: ElementEventListener[] = [];\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    private header: HTMLElement,\r\n    private areButtonsDisabled: () => boolean\r\n  ) {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      const registerScroll = this.registerScroll.bind(this);\r\n      this.header.addEventListener('pointerdown', registerScroll, { passive: true });\r\n      this.headerDownListener = { element: this.header, type: 'pointerdown', listener: registerScroll };\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.headerDownListener.element.removeEventListener(this.headerDownListener.type, this.headerDownListener.listener);\r\n      this.headerDownListener = null;\r\n      this.eventListeners.forEach(({ element, type, listener }) => {\r\n        element.removeEventListener(type, listener);\r\n      });\r\n      this.eventListeners = null;\r\n    });\r\n    this.ngZone = null;\r\n    this.header = null;\r\n    this.areButtonsDisabled = null;\r\n  }\r\n\r\n  private registerScroll(event: MouseEvent) {\r\n    const disabled = this.areButtonsDisabled();\r\n    if (disabled || event.button !== 0) return;\r\n\r\n    window.getSelection().removeAllRanges();\r\n    this.oldScrollBehavior = getComputedStyle(this.header).getPropertyValue('scroll-behavior');\r\n\r\n    this.header.style.scrollBehavior = 'auto';\r\n    this.positionX = event.pageX;\r\n\r\n    const doScroll = (e: MouseEvent) => { this.doScroll(e); };\r\n    const removeScroll = () => { this.removeScroll(); };\r\n    document.addEventListener('pointermove', doScroll, { passive: true });\r\n    document.addEventListener('pointerup', removeScroll, { passive: true });\r\n    document.addEventListener('pointerleave', removeScroll, { passive: true });\r\n    this.eventListeners.push(\r\n      { element: document, type: 'pointermove', listener: doScroll },\r\n      { element: document, type: 'pointerup', listener: removeScroll },\r\n      { element: document, type: 'pointerleave', listener: removeScroll },\r\n    );\r\n  }\r\n\r\n  private removeScroll() {\r\n    this.header.style.scrollBehavior = this.oldScrollBehavior;\r\n\r\n    this.eventListeners.forEach(({ element, type, listener }) => {\r\n      element.removeEventListener(type, listener);\r\n    });\r\n    this.eventListeners.splice(0, this.eventListeners.length);\r\n  }\r\n\r\n  private doScroll(event: MouseEvent) {\r\n    const newPositionX = event.pageX;\r\n    if (newPositionX < this.positionX) {\r\n      this.header.scrollLeft += this.positionX - newPositionX;\r\n    } else if (newPositionX > this.positionX) {\r\n      this.header.scrollLeft += -(newPositionX - this.positionX);\r\n    }\r\n    this.positionX = newPositionX;\r\n  }\r\n}\r\n","import { NgZone } from '@angular/core';\r\nimport { ElementEventListener } from '../../../shared/controls/element-event-listener.model';\r\n\r\nexport class ShowShadowsHelper {\r\n  private maxScrollLeft: number;\r\n  private hidden = 'hidden'; // CSS class which hides shadows\r\n  private eventListeners: ElementEventListener[] = [];\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    private header: HTMLElement,\r\n    private leftShadow: HTMLElement,\r\n    private rightShadow: HTMLElement,\r\n  ) {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.calculateShadows();\r\n\r\n      const calculateShadows = () => { this.calculateShadows(); };\r\n      this.header.addEventListener('scroll', calculateShadows, { passive: true });\r\n      window.addEventListener('resize', calculateShadows, { passive: true });\r\n      this.eventListeners.push(\r\n        { element: this.header, type: 'scroll', listener: calculateShadows },\r\n        { element: window, type: 'resize', listener: calculateShadows },\r\n      );\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.eventListeners.forEach(({ element, type, listener }) => {\r\n        element.removeEventListener(type, listener);\r\n      });\r\n      this.eventListeners = null;\r\n    });\r\n    this.ngZone = null;\r\n    this.header = null;\r\n    this.leftShadow = null;\r\n    this.rightShadow = null;\r\n  }\r\n\r\n  private calculateShadows() {\r\n    this.maxScrollLeft = this.header.scrollWidth - this.header.clientWidth;\r\n\r\n    if (this.maxScrollLeft === 0) {\r\n      this.hideBoth();\r\n    } else if (this.header.scrollLeft === 0) {\r\n      this.hideLeft();\r\n    } else if (this.header.scrollLeft === this.maxScrollLeft) {\r\n      this.hideRight();\r\n    } else {\r\n      this.showBoth();\r\n    }\r\n  }\r\n\r\n  private hideBoth() {\r\n    this.leftShadow.classList.add(this.hidden);\r\n    this.rightShadow.classList.add(this.hidden);\r\n  }\r\n\r\n  private hideLeft() {\r\n    this.leftShadow.classList.add(this.hidden);\r\n    this.rightShadow.classList.remove(this.hidden);\r\n  }\r\n\r\n  private hideRight() {\r\n    this.leftShadow.classList.remove(this.hidden);\r\n    this.rightShadow.classList.add(this.hidden);\r\n  }\r\n\r\n  private showBoth() {\r\n    this.leftShadow.classList.remove(this.hidden);\r\n    this.rightShadow.classList.remove(this.hidden);\r\n  }\r\n}\r\n","<!-- Show all language tab-buttons on a edit dialog -->\r\n<div class=\"scrollable__overlay\">\r\n  <!-- Shadows when scrolling lots of languages -->\r\n  <div #leftShadow class=\"scrollable__overlay--left-shadow\"></div>\r\n  <div #rightShadow class=\"scrollable__overlay--right-shadow\"></div>\r\n\r\n  <!-- Scrolling area when lots of languages -->\r\n  <div #scrollable class=\"scrollable lang-switch\" tippyTranslate=\"Message.CantSwitchLanguage\" [tippyDisabled]=\"!disabled()\">\r\n    @for (langButton of buttons; track langButton) {\r\n      <!-- Current Button is a bit different, not clickable, but has language settings on hover -->\r\n      @if (current() === langButton.NameId) {\r\n        <button mat-flat-button\r\n          class=\"lang-switch__button hover-area\"\r\n          color=\"accent\"\r\n          [tippy]=\"langButton.Culture\"\r\n          [tippyDisabled]=\"disabled()\"\r\n        >\r\n          {{ langButton.label }}\r\n          <!-- manually switch with true/false | so it doesn't show inside the UI (WIP) -->\r\n          @if (userLanguageSvc.userConfigurable()) {\r\n            <mat-icon iconPositionEnd class=\"hover-only\" [tippy]=\"'LanguageSettings.Title' | translate\" (click)=\"languageSettings()\">settings</mat-icon>\r\n          }\r\n        </button>\r\n      }\r\n      @else {\r\n        <button mat-flat-button\r\n          class=\"lang-switch__button\"\r\n          color=\"white\"\r\n          (mousedown)=\"lngButtonMouseDown($event)\"\r\n          (click)=\"lngButtonClick($event, langButton)\"\r\n          [tippy]=\"langButton.Culture\"\r\n          [tippyDisabled]=\"disabled()\"\r\n        >\r\n          {{ langButton.label }}\r\n        </button>\r\n      }\r\n    }\r\n  </div>\r\n</div>\r\n","import { AfterViewInit, Component, ElementRef, NgZone, OnDestroy, ViewChild, ViewContainerRef, computed, input } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { UserLanguageService } from 'projects/eav-ui/src/app/shared/services/user-language.service';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { classLog } from '../../../../shared/logging';\r\nimport { FormConfigService } from '../../../form/form-config.service';\r\nimport { FormLanguageService } from '../../../form/form-language.service';\r\nimport { Language } from '../../../form/form-languages.model';\r\nimport { LanguageService } from '../../../localization/language.service';\r\nimport { LanguageSettingsDialogComponent } from '../language-settings-dialog/language-settings-dialog';\r\nimport { CenterSelectedHelper } from './center-selected.helper';\r\nimport { getLanguageOptions } from './language-switcher.helpers';\r\nimport { MouseScrollHelper } from './mouse-scroll.helper';\r\nimport { ShowShadowsHelper } from './show-shadows.helper';\r\n\r\n@Component({\r\n  selector: 'app-language-switcher',\r\n  templateUrl: './language-switcher.component.html',\r\n  styleUrls: ['./language-switcher.component.scss'],\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIcon,\r\n    TippyDirective,\r\n    TranslateModule,\r\n  ]\r\n})\r\nexport class LanguageSwitcherComponent implements AfterViewInit, OnDestroy {\r\n\r\n  log = classLog({LanguageSwitcherComponent});\r\n\r\n  @ViewChild('scrollable') private headerRef: ElementRef;\r\n  @ViewChild('leftShadow') private leftShadowRef: ElementRef;\r\n  @ViewChild('rightShadow') private rightShadowRef: ElementRef;\r\n\r\n  disabled = input<boolean>();\r\n\r\n  private centerSelectedHelper: CenterSelectedHelper;\r\n  private mouseScrollHelper: MouseScrollHelper;\r\n  private showShadowsHelper: ShowShadowsHelper;\r\n\r\n  current = computed(() => this.formConfig.language().current);\r\n\r\n  buttons = getLanguageOptions(this.languageService.getAll());\r\n\r\n  userLanguageSvc = transient(UserLanguageService);\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private languageInstanceService: FormLanguageService,\r\n    private ngZone: NgZone,\r\n    private formConfig: FormConfigService,\r\n    private snackBar: MatSnackBar,\r\n    private translate: TranslateService,\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n  ) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.showShadowsHelper = new ShowShadowsHelper(\r\n      this.ngZone,\r\n      this.headerRef.nativeElement,\r\n      this.leftShadowRef.nativeElement,\r\n      this.rightShadowRef.nativeElement,\r\n    );\r\n    this.mouseScrollHelper = new MouseScrollHelper(this.ngZone, this.headerRef.nativeElement, () => this.disabled());\r\n    this.centerSelectedHelper = new CenterSelectedHelper(this.ngZone, this.headerRef.nativeElement);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.centerSelectedHelper?.destroy();\r\n    this.mouseScrollHelper?.destroy();\r\n    this.showShadowsHelper?.destroy();\r\n  }\r\n\r\n  lngButtonMouseDown(event: MouseEvent) {\r\n    this.centerSelectedHelper.lngButtonDown(event);\r\n  }\r\n\r\n  lngButtonClick(event: MouseEvent, language: Language) {\r\n    const l = this.log.fn('lngButtonClick');\r\n    if (this.disabled()) {\r\n      this.snackBar.open(this.translate.instant('Message.CantSwitchLanguage'), null, { duration: 3000, verticalPosition: 'top' });\r\n      return l.end('disabled');\r\n    }\r\n    this.centerSelectedHelper.lngButtonClick(event);\r\n\r\n    if (!this.centerSelectedHelper.stopClickIfMouseMoved()) {\r\n      this.languageInstanceService.setCurrent(this.formConfig.config.formId, language.NameId);\r\n\r\n      // Also set the UI language\r\n      const lngCode = this.userLanguageSvc.uiCode(language.NameId);\r\n      this.translate.use(lngCode);\r\n    }\r\n  }\r\n\r\n  languageSettings() {\r\n    this.matDialog.open(LanguageSettingsDialogComponent, {\r\n      autoFocus: false,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '750px',\r\n      position: { top: '50px' },\r\n    });\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
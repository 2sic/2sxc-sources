{"version":3,"file":"projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_component_ts.30932f381ee47f5c.js","mappings":"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","names":["AppAdminMenu","name","path","icon","tippy","eavConstants","scopes","default","value","child","GoToCopilot","routeDefinition","GoToDevRest","routeDataDefinition","routeQueryDefinition","CopilotSpecs","webApi","teaser","routeWebApiDefinition","i0","_r2","sidenav_r3","opened","tmp_3_0","ctx_r3","dialogSettings","Context","App","Icon","_r5","Name","breadcrumb_r6","AppAdminMainComponent_ng_container_13_Conditional_1_Template","last_r7","AppAdminMainComponent","#dialogConfigSvc","#dialogRouter","constructor","dialog","media","this","log","classLog","transient","DialogConfigAppService","DialogRoutingService","AppScopes","signal","undefined","smallScreen","matchMedia","sideNavOpened","matches","navItems","a","ngOnInit","fetchDialogSettings","doOnDialogClosed","addEventListener","c","sidenav","mode","closeDialog","close","getCurrent$","subscribe","UpdateEnvVarsFromDialogSettings","set","Enable","Query","filter","item","i1","i2","selectors","viewQuery","rf","ctx","AppAdminMainComponent_Conditional_2_Template","AppAdminMainComponent_Conditional_3_Template","AppAdminMainComponent_Conditional_5_Template","AppAdminMainComponent_Conditional_6_Template","AppAdminMainComponent_ng_container_13_Template","AppAdminMainComponent_ng_template_14_Template","_r1","AppAdminMainComponent_For_24_Template","_forTrack0","tmp_2_0","SettingsScope","Global","tmp_4_0","emptyTemplate_r9","MatToolbarModule","i3","MatIconModule","i4","BreadcrumbModule","i5","MatButtonModule","i6","MatSidenavModule","i7","RouterOutlet","NavItemListComponent","ToggleDebugDirective","styles"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/app-admin-main/app-admin-menu.ts","./projects/eav-ui/src/app/app-administration/app-admin-main/app-admin-main.component.html","./projects/eav-ui/src/app/app-administration/app-admin-main/app-admin-main.component.ts"],"sourcesContent":["import { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { NavItem } from \"../../shared/models/nav-item.model\";\r\nimport { CopilotSpecs } from '../copilot/copilot-specs';\r\nimport { GoToCopilot } from '../copilot/go-to-copilot';\r\n\r\nexport const AppAdminMenu: NavItem[] = [\r\n\r\n  { name: 'App Info', path: 'home', icon: 'info', tippy: 'App Info' },\r\n  {\r\n    name: 'Data', path: `data/${eavConstants.scopes.default.value}`, icon: 'menu', tippy: 'Data / Content',\r\n    child: [\r\n      { ...GoToCopilot.routeDefinition('data'), tippy: 'Autogenerate content types ' },\r\n      { ...GoToDevRest.routeDataDefinition, tippy: 'Rest-Api Data ' },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Queries',\r\n    path: 'queries',\r\n    icon: 'filter_list',\r\n    tippy: 'Queries / Visual Query Designer',\r\n    child: [\r\n      { ...GoToDevRest.routeQueryDefinition, tippy: 'Rest-Api Queries' },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Views',\r\n    path: 'views',\r\n    icon: 'layers',\r\n    tippy: 'Views / Templates',\r\n    child: [\r\n      {\r\n        ...GoToCopilot.routeDefinition('views'),\r\n        tippy: 'Autogenerate Razor Views'\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Web API', path: 'web-api', icon: 'offline_bolt', tippy: 'WebApi',\r\n    child: [\r\n      {\r\n        ...GoToCopilot.routeDefinition('web-api'),\r\n        tippy: CopilotSpecs.webApi.teaser,\r\n      },\r\n      {\r\n        ...GoToDevRest.routeWebApiDefinition,\r\n        tippy: 'Rest-Api Queries'\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: 'App',\r\n    path: 'app',\r\n    icon: 'settings_applications',\r\n    tippy: 'App Settings',\r\n  },\r\n  {\r\n    // TODO: 2dg Create new site\r\n    name: 'Import/Export',\r\n    path: 'import-export',\r\n    icon: 'cloud_sync',\r\n    tippy: 'Import Export',\r\n    child: [\r\n      {\r\n        name: 'Export App',\r\n        path: 'export-app',\r\n        icon: 'deployed_code_update',\r\n        tippy: 'Export this entire App'\r\n      },\r\n      {\r\n        // TODO: 2dg Create new site\r\n        name: 'Data Bundles (beta)',\r\n        path: 'data-bundles',\r\n        icon: 'dataset',\r\n        tippy: 'Data Bundles'\r\n      },\r\n      {\r\n        name: 'Export Parts',\r\n        path: 'export-parts',\r\n        icon: 'cloud_download',\r\n        tippy: 'Export parts of this App'\r\n      },\r\n      {\r\n        name: 'Imports Parts',\r\n        path: 'import-parts',\r\n        icon: 'cloud_upload',\r\n        tippy: 'Import parts of this App'\r\n      },\r\n      {\r\n        name: 'App-State Git Sync',\r\n        path: 'app-state',\r\n        icon: 'sync',\r\n        tippy: 'App-State Versioning'\r\n      },\r\n    ]\r\n  },\r\n];\r\n","<mat-toolbar appToggleDebug>\r\n  <div class=\"toolbar-container\">\r\n    <!-- App Logo -->\r\n    @if (dialogSettings()?.Context.App.Icon) {\r\n      <img (click)=\"sidenav.opened = !sidenav.opened\" [src]=\"dialogSettings()?.Context.App.Icon + '?w=40&h=40&mode=crop'\" />\r\n    } @else {\r\n      <mat-icon class=\"menu-container\" (click)=\"sidenav.opened = !sidenav.opened\">menu</mat-icon>\r\n    }\r\n    <!-- App Name -->\r\n    <div class=\"d-flex\">\r\n      @if (dialogSettings()?.Context.App.SettingsScope === AppScopes.Global) {\r\n        Global\r\n      }\r\n      @if (dialogSettings()?.Context.App.SettingsScope !== AppScopes.Global) {\r\n        {{ dialogSettings()?.Context.App.Name }}\r\n      }\r\n      <span>\r\n        <span class=\"mat-icon-admin\">\r\n          <mat-icon>settings</mat-icon>\r\n        </span>\r\n        Admin\r\n      </span>\r\n    </div>\r\n    <!-- Breadcrumb in the Toolbar after show Img and Aoo Name -->\r\n    <xng-breadcrumb [separator]=\"emptyTemplate\">\r\n      <ng-container *xngBreadcrumbItem=\"let breadcrumb; let info = info; let last = last\">\r\n        @if (last) {\r\n          <mat-icon class=\"breadcrumb-icon\">chevron_right</mat-icon>\r\n          {{ breadcrumb }}\r\n        }\r\n      </ng-container>\r\n    </xng-breadcrumb>\r\n    <ng-template #emptyTemplate></ng-template>\r\n  </div>\r\n  <span class=\"toolbar-spacer\"></span>\r\n  <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n    <mat-icon>close</mat-icon>\r\n  </button>\r\n</mat-toolbar>\r\n<mat-sidenav-container appToggleDebug>\r\n  <mat-sidenav #sidenav [mode]=\"smallScreen.matches ? 'over' : 'side'\" [opened]=\"sideNavOpened\">\r\n    @for (navItem of navItems; track navItem.path) {\r\n      <app-nav-item-list [navItem]=\"navItem\"></app-nav-item-list>\r\n    }\r\n    <div class=\"sideNav-bottom-info\">\r\n      <p>use App logo to show/hide menu</p>\r\n    </div>\r\n  </mat-sidenav>\r\n\r\n  <mat-sidenav-content>\r\n    <router-outlet></router-outlet>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n","import { MediaMatcher } from '@angular/cdk/layout';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { Component, OnInit, signal, ViewChild } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSidenav, MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { BreadcrumbModule } from 'xng-breadcrumb';\r\nimport { transient } from '../../../../../core';\r\nimport { NavItemListComponent } from '../../shared/components/nav-item-list/nav-item-list.component';\r\nimport { ToggleDebugDirective } from '../../shared/directives/toggle-debug.directive';\r\nimport { UpdateEnvVarsFromDialogSettings } from '../../shared/helpers/update-env-vars-from-dialog-settings.helper';\r\nimport { classLog } from '../../shared/logging';\r\nimport { AppScopes } from '../../shared/models/dialog-context.models';\r\nimport { DialogSettings } from '../../shared/models/dialog-settings.model';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { DialogConfigAppService } from '../services/dialog-config-app.service';\r\nimport { AppAdminMenu } from './app-admin-menu';\r\n\r\n@Component({\r\n  selector: 'app-app-admin-main',\r\n  templateUrl: './app-admin-main.component.html',\r\n  styleUrls: ['./app-admin-main.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatToolbarModule,\r\n    MatIconModule,\r\n    BreadcrumbModule,\r\n    MatButtonModule,\r\n    MatSidenavModule,\r\n    RouterOutlet,\r\n    AsyncPipe,\r\n    NavItemListComponent,\r\n    ToggleDebugDirective,\r\n  ],\r\n})\r\nexport class AppAdminMainComponent implements OnInit {\r\n\r\n  log = classLog({ AppAdminMainComponent });\r\n\r\n  #dialogConfigSvc = transient(DialogConfigAppService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<AppAdminMainComponent>,\r\n    private media: MediaMatcher\r\n  ) {\r\n    this.log.a('constructor');\r\n  }\r\n\r\n  AppScopes = AppScopes;\r\n\r\n  dialogSettings = signal<DialogSettings>(undefined);\r\n\r\n  smallScreen: MediaQueryList = this.media.matchMedia('(max-width: 1000px)');\r\n  @ViewChild('sidenav') sidenav!: MatSidenav;\r\n  sideNavOpened = !this.smallScreen.matches;\r\n\r\n  /** Navigation menu buttons - prefilled; may be modified after settings are loaded */\r\n  navItems = AppAdminMenu;\r\n  matcher!: MediaQueryList;\r\n\r\n\r\n  ngOnInit() {\r\n    this.fetchDialogSettings();\r\n    this.#dialogRouter.doOnDialogClosed(() => this.fetchDialogSettings());\r\n\r\n    this.smallScreen.addEventListener(\r\n      'change',\r\n      (c) => (\r\n        this.sidenav.opened = !c.matches,\r\n        this.sidenav.mode = c.matches ? 'over' : 'side'\r\n      )\r\n    );\r\n  }\r\n\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  private fetchDialogSettings() {\r\n    this.#dialogConfigSvc.getCurrent$().subscribe(dialogSettings => {\r\n      UpdateEnvVarsFromDialogSettings(dialogSettings.Context.App);\r\n      this.dialogSettings.set(dialogSettings);\r\n\r\n      if (!dialogSettings.Context.Enable.Query)\r\n        this.navItems = this.navItems.filter(\r\n          (item) => item.name !== 'Queries' && item.name !== 'Web API'\r\n        );\r\n    });\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
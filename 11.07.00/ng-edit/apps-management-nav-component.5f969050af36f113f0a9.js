(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"25Tt":function(e,t,n){"use strict";n.r(t);var a=n("5/c3"),i=n("z5yO"),o=n("Jg5f"),s=n("W/Ou"),r=n("1C3z"),c=n("BLjT"),l=n("Iv+g"),p=n("9HSk"),u=n("Qc/f"),b=n("r4gC"),d=n("JNB8"),f=n("D57K"),m=n("KLQV"),h=n("LiEJ"),g=n("LR82"),v=n("QagP"),C=n("CeOT"),y=n("JzAw"),w=n("QjRa"),U=n("OeRG"),O=n("C8ME"),V=function(){function e(){}return e.prototype.agInit=function(e){this.params=e,this.app=this.params.data},e.prototype.refresh=function(e){return!0},e.prototype.flushCache=function(){this.params.onFlush(this.app)},e.prototype.deleteApp=function(){this.params.onDelete(this.app)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-apps-list-actions"]],decls:14,vars:2,consts:[[1,"actions-component"],["matRipple","","matTooltip","Flush cache",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","More",1,"like-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"]],template:function(e,t){if(1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.dc("click",(function(){return t.flushCache()})),r.Vb(2,"mat-icon"),r.Oc(3,"cached"),r.Ub(),r.Ub(),r.Vb(4,"div",2),r.Vb(5,"mat-icon"),r.Oc(6,"more_horiz"),r.Ub(),r.Ub(),r.Ub(),r.Vb(7,"mat-menu",3,4),r.Vb(9,"button",5),r.dc("click",(function(){return t.deleteApp()})),r.Vb(10,"mat-icon"),r.Oc(11,"delete"),r.Ub(),r.Vb(12,"span"),r.Oc(13,"Delete"),r.Ub(),r.Ub(),r.Ub()),2&e){var n=r.Bc(8);r.Bb(4),r.nc("matMenuTriggerFor",n),r.Bb(5),r.nc("disabled",!t.app.IsApp)}},directives:[U.q,u.a,b.a,O.c,O.d,O.a],styles:[""],changeDetection:0}),e}(),I=n("8AiQ");function x(e,t){1&e&&(r.Vb(0,"mat-icon",3),r.Oc(1,"visibility"),r.Ub())}function T(e,t){1&e&&(r.Vb(0,"mat-icon",4),r.Oc(1,"visibility_off"),r.Ub())}var M=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-apps-list-show"]],decls:3,vars:2,consts:[[1,"icon-container"],["matTooltip","Show this app to users",4,"ngIf"],["matTooltip","Don't show this app to users",4,"ngIf"],["matTooltip","Show this app to users"],["matTooltip","Don't show this app to users"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Mc(1,x,2,0,"mat-icon",1),r.Mc(2,T,2,0,"mat-icon",2),r.Ub()),2&e&&(r.Bb(1),r.nc("ngIf",t.value),r.Bb(1),r.nc("ngIf",!t.value))},directives:[I.m,b.a,u.a],styles:[""],changeDetection:0}),e}(),D=/^[A-Za-z](?:[A-Za-z0-9\s\(\)-]+)*$/,F=n("2aC0"),L=n("2pW/"),k=n("G6Ml"),S=n("8/3+"),A=n("KYsL"),$=function(){function e(e,t,n,a){this.router=e,this.route=t,this.appsListService=n,this.snackBar=a,this.apps$=new h.a(null),this.modules=m.a,this.gridOptions=Object(f.a)(Object(f.a)({},w.a),{frameworkComponents:{booleanFilterComponent:C.a,idFieldComponent:y.a,appsListShowComponent:M,appsListActionsComponent:V},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Show",field:"IsHidden",width:70,headerClass:"dense",cellClass:"icons no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"appsListShowComponent",valueGetter:this.showValueGetter},{headerName:"Name",field:"Name",flex:2,minWidth:250,cellClass:"apps-list-primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.openApp.bind(this),cellRenderer:function(e){var t=e.data;return null!=t.Thumbnail?'\n            <div class="container">\n              <img class="image logo" src="'+t.Thumbnail+'?w=40&h=40&mode=crop"></img>\n              <div class="text">'+e.value+"</div>\n            </div>":'\n            <div class="container">\n              <div class="image logo">\n                <span class="material-icons-outlined">star_border</span>\n              </div>\n              <div class="text">'+e.value+"</div>\n            </div>"}},{headerName:"Folder",field:"Folder",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Version",field:"Version",width:78,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Items",field:"Items",width:70,headerClass:"dense",cellClass:"number-cell no-outline",sortable:!0,filter:"agNumberColumnFilter"},{width:80,cellClass:"secondary-action no-padding",cellRenderer:"appsListActionsComponent",pinned:"right",cellRendererParams:{onDelete:this.deleteApp.bind(this),onFlush:this.flushApp.bind(this)}}]}),this.subscription=new g.a}return e.prototype.ngOnInit=function(){this.fetchAppsList(),this.refreshOnChildClosed()},e.prototype.ngOnDestroy=function(){this.apps$.complete(),this.subscription.unsubscribe()},e.prototype.browseCatalog=function(){window.open("https://2sxc.org/apps","_blank")},e.prototype.createApp=function(){var e=this,t=prompt("Enter App Name (will also be used for folder)");if(null!==t){for(t=t.trim().replace(/\s\s+/g," ");!t.match(D);){if(null===(t=prompt("Enter App Name (will also be used for folder)\nStandard letters, numbers, spaces, hyphens and round brackets are allowed. Must start with a letter.",t)))return;t=t.trim().replace(/\s\s+/g," ")}this.snackBar.open("Saving..."),this.appsListService.create(t).subscribe((function(){e.snackBar.open("Saved",null,{duration:2e3}),e.fetchAppsList()}))}},e.prototype.importApp=function(e){this.router.navigate(["import"],{relativeTo:this.route.firstChild,state:{files:e}})},e.prototype.fetchAppsList=function(){var e=this;this.appsListService.getAll().subscribe((function(t){e.apps$.next(t)}))},e.prototype.idValueGetter=function(e){var t=e.data;return"ID: "+t.Id+"\nGUID: "+t.Guid},e.prototype.showValueGetter=function(e){return!e.data.IsHidden},e.prototype.deleteApp=function(e){var t=this,n=prompt("This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '"+e.Name+"' ("+e.Id+")?");null!==n&&(n===e.Name||"yes!"===n?(this.snackBar.open("Deleting..."),this.appsListService.delete(e.Id).subscribe((function(){t.snackBar.open("Deleted",null,{duration:2e3}),t.fetchAppsList()}))):alert("Input did not match - will not delete"))},e.prototype.flushApp=function(e){var t=this;confirm("Flush the App Cache for "+e.Name+" ("+e.Id+")?")&&(this.snackBar.open("Flushing cache..."),this.appsListService.flushCache(e.Id).subscribe((function(){t.snackBar.open("Cache flushed",null,{duration:2e3})})))},e.prototype.openApp=function(e){this.router.navigate([e.data.Id.toString()],{relativeTo:this.route.parent})},e.prototype.refreshOnChildClosed=function(){var e=this;this.subscription.add(this.router.events.pipe(Object(i.a)((function(e){return e instanceof a.b})),Object(s.a)(!!this.route.snapshot.firstChild.firstChild),Object(o.a)((function(){return!!e.route.snapshot.firstChild.firstChild})),Object(v.a)(),Object(i.a)((function(e){var t=Object(f.f)(e,2);return t[0]&&!t[1]}))).subscribe((function(){e.fetchAppsList()})))},e.\u0275fac=function(t){return new(t||e)(r.Pb(a.c),r.Pb(a.a),r.Pb(F.a),r.Pb(L.b))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-apps-list"]],decls:18,vars:6,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","modules","gridOptions","allowedFileTypes","filesDropped"],[1,"grid-fab"],["spin","true"],["mat-fab",""],[1,"spin180"],["mat-mini-fab","","matTooltip","Find more apps",3,"click"],["mat-mini-fab","","matTooltip","Import app",3,"click"],["mat-mini-fab","","matTooltip","Create app",3,"click"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"ag-grid-angular",1),r.dc("filesDropped",(function(e){return t.importApp(e)})),r.ic(2,"async"),r.Ub(),r.Vb(3,"eco-fab-speed-dial",2),r.Vb(4,"eco-fab-speed-dial-trigger",3),r.Vb(5,"button",4),r.Vb(6,"mat-icon",5),r.Oc(7,"add"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"eco-fab-speed-dial-actions"),r.Vb(9,"button",6),r.dc("click",(function(){return t.browseCatalog()})),r.Vb(10,"mat-icon"),r.Oc(11,"search"),r.Ub(),r.Ub(),r.Vb(12,"button",7),r.dc("click",(function(){return t.importApp()})),r.Vb(13,"mat-icon"),r.Oc(14,"cloud_upload"),r.Ub(),r.Ub(),r.Vb(15,"button",8),r.dc("click",(function(){return t.createApp()})),r.Vb(16,"mat-icon"),r.Oc(17,"add"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Bb(1),r.nc("rowData",r.jc(2,4,t.apps$))("modules",t.modules)("gridOptions",t.gridOptions)("allowedFileTypes","zip"))},directives:[k.a,S.a,A.b,A.d,p.a,b.a,A.a,u.a],pipes:[I.b],styles:[""],changeDetection:0}),e}(),B=n("F7GT"),N=function(){function e(){}return e.prototype.agInit=function(e){this.params=e,this.value=this.params.value},e.prototype.refresh=function(e){return!0},e.prototype.toggleLanguage=function(){this.params.onEnabledToggle(this.params.data)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-enable-languages-status"]],decls:2,vars:1,consts:[[1,"cell-box"],[3,"checked","change"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"mat-slide-toggle",1),r.dc("change",(function(){return t.toggleLanguage()})),r.Ub(),r.Ub()),2&e&&(r.Bb(1),r.nc("checked",t.value))},directives:[B.a],styles:[".cell-box[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"],changeDetection:0}),e}(),P=n("xNdR"),j=function(){function e(e){this.languagesService=e,this.languages$=new h.a(null),this.modules=m.a,this.gridOptions=Object(f.a)(Object(f.a)({},w.a),{frameworkComponents:{idFieldComponent:y.a,booleanFilterComponent:C.a,enableLanguagesStatusComponent:N},columnDefs:[{headerName:"ID",field:"Code",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Name",field:"Culture",flex:2,minWidth:250,cellClass:"primary-action highlight no-outline",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.handleNameClicked.bind(this)},{headerName:"Status",field:"IsEnabled",width:72,headerClass:"dense",cellClass:"no-padding no-outline",cellRenderer:"enableLanguagesStatusComponent",sortable:!0,filter:"booleanFilterComponent",cellRendererParams:{onEnabledToggle:this.toggleLanguage.bind(this)}}]})}return e.prototype.ngOnInit=function(){this.fetchLanguages()},e.prototype.ngOnDestroy=function(){this.languages$.complete()},e.prototype.idValueGetter=function(e){return"ID: "+e.data.Code},e.prototype.handleNameClicked=function(e){this.toggleLanguage(e.data)},e.prototype.toggleLanguage=function(e){var t=this;this.languagesService.save(e.Code,!e.IsEnabled).subscribe((function(){t.fetchLanguages()}))},e.prototype.fetchLanguages=function(){var e=this;this.languagesService.getAll().subscribe((function(t){e.languages$.next(t)}))},e.\u0275fac=function(t){return new(t||e)(r.Pb(P.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-enable-languages"]],decls:3,vars:5,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Qb(1,"ag-grid-angular",1),r.ic(2,"async"),r.Ub()),2&e&&(r.Bb(1),r.nc("rowData",r.jc(2,3,t.languages$))("modules",t.modules)("gridOptions",t.gridOptions))},directives:[k.a],pipes:[I.b],styles:[""],changeDetection:0}),e}(),R=n("3riI"),G=n("iUUs");function E(e,t){1&e&&(r.Vb(0,"mat-icon",3),r.Oc(1,"toggle_on"),r.Ub())}function _(e,t){1&e&&(r.Vb(0,"mat-icon",4),r.Oc(1,"toggle_off"),r.Ub())}var J=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-features-list-enabled"]],decls:3,vars:2,consts:[[1,"icon-container"],["matTooltip","Feature is enabled",4,"ngIf"],["matTooltip","Feature is disabled",4,"ngIf"],["matTooltip","Feature is enabled"],["matTooltip","Feature is disabled"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Mc(1,E,2,0,"mat-icon",1),r.Mc(2,_,2,0,"mat-icon",2),r.Ub()),2&e&&(r.Bb(1),r.nc("ngIf",t.value),r.Bb(1),r.nc("ngIf",!t.value))},directives:[I.m,b.a,u.a],styles:[""],changeDetection:0}),e}();function Q(e,t){1&e&&(r.Vb(0,"mat-icon"),r.Oc(1,"person"),r.Ub())}function z(e,t){1&e&&(r.Vb(0,"mat-icon"),r.Oc(1,"remove"),r.Ub())}var W=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-features-list-public"]],decls:3,vars:2,consts:[[1,"icon-container"],[4,"ngIf"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Mc(1,Q,2,0,"mat-icon",1),r.Mc(2,z,2,0,"mat-icon",1),r.Ub()),2&e&&(r.Bb(1),r.nc("ngIf",t.value),r.Bb(1),r.nc("ngIf",!t.value))},directives:[I.m,b.a],styles:[""],changeDetection:0}),e}(),H=function(){function e(){}return e.prototype.agInit=function(e){},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-features-list-security"]],decls:3,vars:0,consts:[[1,"icon-container"],["matTooltip","Security Status still work-in progress",1,"feature-security-icon"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"mat-icon",1),r.Oc(2,"help"),r.Ub(),r.Ub())},directives:[b.a,u.a],styles:[".feature-security-icon[_ngcontent-%COMP%]{color:green}"],changeDetection:0}),e}();function Z(e,t){1&e&&(r.Vb(0,"mat-icon"),r.Oc(1,"visibility"),r.Ub())}function q(e,t){1&e&&(r.Vb(0,"mat-icon"),r.Oc(1,"remove"),r.Ub())}var K=function(){function e(){}return e.prototype.agInit=function(e){this.value=e.value},e.prototype.refresh=function(e){return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-features-list-ui"]],decls:3,vars:2,consts:[[1,"icon-container"],[4,"ngIf"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Mc(1,Z,2,0,"mat-icon",1),r.Mc(2,q,2,0,"mat-icon",1),r.Ub()),2&e&&(r.Bb(1),r.nc("ngIf",t.value),r.Bb(1),r.nc("ngIf",!t.value))},directives:[I.m,b.a],styles:[""],changeDetection:0}),e}(),Y=n("ycnj"),X=n("nYrE"),ee=n("3AMH");function te(e,t){1&e&&r.Qb(0,"mat-spinner",6)}function ne(e,t){if(1&e&&(r.Qb(0,"iframe",7),r.ic(1,"safeResourceUrl")),2&e){var n=r.hc().ngIf;r.nc("src",r.jc(1,1,n.managementUrl),r.Fc)}}var ae=function(e){return{"iframe-wrapper":e}},ie=function(e){return{"force-hide":e}};function oe(e,t){if(1&e){var n=r.Wb();r.Tb(0),r.Vb(1,"div",1),r.Qb(2,"ag-grid-angular",2),r.Mc(3,te,1,0,"mat-spinner",3),r.Mc(4,ne,2,3,"iframe",4),r.Vb(5,"button",5),r.dc("click",(function(){return r.Dc(n),r.hc().toggleManagement()})),r.Vb(6,"mat-icon"),r.Oc(7,"tune"),r.Ub(),r.Ub(),r.Ub(),r.Sb()}if(2&e){var a=t.ngIf,i=r.hc();r.Bb(1),r.nc("ngClass",r.rc(7,ae,a.showManagement)),r.Bb(1),r.nc("ngClass",r.rc(9,ie,a.showManagement))("rowData",a.features)("modules",i.modules)("gridOptions",i.gridOptions),r.Bb(1),r.nc("ngIf",a.showSpinner),r.Bb(1),r.nc("ngIf",a.showManagement)}}var se=function(){function e(e){this.featuresConfigService=e,this.modules=m.a,this.gridOptions=Object(f.a)(Object(f.a)({},w.a),{frameworkComponents:{booleanFilterComponent:C.a,idFieldComponent:y.a,featuresListEnabledComponent:J,featuresListUiComponent:K,featuresListPublicComponent:W,featuresListSecurityComponent:H},columnDefs:[{headerName:"ID",field:"id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Enabled",field:"enabled",width:80,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"featuresListEnabledComponent"},{headerName:"UI",field:"ui",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"featuresListUiComponent"},{headerName:"Public",field:"public",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"booleanFilterComponent",cellRenderer:"featuresListPublicComponent"},{headerName:"Name",field:"id",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.openFeature,cellRenderer:function(e){return"details (name lookup still WIP)"}},{headerName:"Expires",field:"expires",flex:1,minWidth:200,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.valueGetterDateTime},{headerName:"Security",width:70,cellClass:"no-outline",cellRenderer:"featuresListSecurityComponent"}]}),this.features$=new h.a(null),this.showManagement$=new h.a(!1),this.showSpinner$=new h.a(!1),this.managementUrl$=new h.a(null),this.templateVars$=Object(R.a)([this.features$,this.showManagement$,this.showSpinner$,this.managementUrl$]).pipe(Object(o.a)((function(e){var t=Object(f.f)(e,4);return{features:t[0],showManagement:t[1],showSpinner:t[2],managementUrl:t[3]}}))),this.subscription=new g.a}return e.prototype.ngOnInit=function(){this.fetchFeatures(),this.subscribeToMessages()},e.prototype.ngOnDestroy=function(){this.features$.complete(),this.showManagement$.complete(),this.showSpinner$.complete(),this.managementUrl$.complete(),this.subscription.unsubscribe()},e.prototype.toggleManagement=function(){var e=this;this.showManagement$.next(!this.showManagement$.value),this.showManagement$.value&&(this.showSpinner$.next(!0),this.managementUrl$.next(null),this.featuresConfigService.getManageFeaturesUrl().subscribe((function(t){if(e.showSpinner$.next(!1),t.includes("error: user needs host permissions"))throw e.showManagement$.next(!1),new Error("User needs host permissions!");e.managementUrl$.next(t)})))},e.prototype.idValueGetter=function(e){return"GUID: "+e.data.id},e.prototype.openFeature=function(e){window.open("https://2sxc.org/r/f/"+e.value,"_blank")},e.prototype.valueGetterDateTime=function(e){var t=e.data[e.colDef.field];return t?t.substring(0,19).replace("T"," "):null},e.prototype.fetchFeatures=function(){var e=this;this.featuresConfigService.getAll().subscribe((function(t){e.features$.next(t)}))},e.prototype.subscribeToMessages=function(){var e=this;this.subscription.add(Object(G.a)(window,"message").pipe(Object(i.a)((function(t){return e.showManagement$.value})),Object(i.a)((function(e){return!0===e.origin.endsWith("2sxc.org")})),Object(i.a)((function(e){return null!=e.data}))).subscribe((function(t){var n=JSON.stringify(t.data);e.featuresConfigService.saveFeatures(n).subscribe((function(t){e.showManagement$.next(!1),e.fetchFeatures()}))})))},e.\u0275fac=function(t){return new(t||e)(r.Pb(Y.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-manage-features"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"grid-wrapper","mat-tab-grid-wrapper",3,"ngClass"],[1,"ag-theme-material",3,"ngClass","rowData","modules","gridOptions"],["class","spinner","mode","indeterminate","diameter","20","color","accent",4,"ngIf"],["class","iframe",3,"src",4,"ngIf"],["mat-fab","","mat-elevation-z24","","matTooltip","Manage features",1,"grid-fab",3,"click"],["mode","indeterminate","diameter","20","color","accent",1,"spinner"],[1,"iframe",3,"src"]],template:function(e,t){1&e&&(r.Mc(0,oe,8,11,"ng-container",0),r.ic(1,"async")),2&e&&r.nc("ngIf",r.jc(1,1,t.templateVars$))},directives:[I.m,I.k,k.a,p.a,u.a,b.a,X.b],pipes:[I.b,ee.a],styles:[".iframe-wrapper[_ngcontent-%COMP%]{padding-top:20px}.spinner[_ngcontent-%COMP%]{position:absolute;top:40px;left:20px}.iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}"],changeDetection:0}),e}(),re=n("I3IT"),ce=n("Bata"),le=n("ZSGP"),pe=n("hOvr"),ue=n("TDrE"),be=n("Uk43");function de(e,t){1&e&&(r.Vb(0,"app-field-hint",14),r.Oc(1," Only positive whole numbers "),r.Ub()),2&e&&r.nc("isError",!0)}function fe(e,t){if(1&e&&(r.Tb(0),r.Mc(1,de,2,1,"app-field-hint",13),r.Sb()),2&e){r.hc();var n=r.Bc(28);r.Bb(1),r.nc("ngIf",n.errors.pattern)}}var me=function(){function e(e,t){this.sxcInsightsService=e,this.snackBar=t,this.positiveWholeNumber=/^[1-9][0-9]*$/,this.loading$=new h.a(!1)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.loading$.complete()},e.prototype.openInsights=function(){window.open($2sxc.http.apiUrl("sys/insights/help"),"_blank")},e.prototype.activatePageLog=function(e){var t=this;this.loading$.next(!0),this.snackBar.open("Activating..."),this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe((function(e){t.loading$.next(!1),t.snackBar.open(e,null,{duration:4e3})})),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),e.resetForm()},e.\u0275fac=function(t){return new(t||e)(r.Pb(re.a),r.Pb(L.b))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-sxc-insights"]],decls:35,vars:9,consts:[[1,"cards-box"],[1,"mat-elevation-z2"],[1,"actions-box"],["mat-icon-button","","matTooltip","Open 2sxc Insights",3,"click"],["href","https://2sxc.org/en/blog/post/using-2sxc-insights","target","_blank"],[1,"activate-log-form",3,"ngSubmit"],["activateLogForm","ngForm"],["appearance","standard","color","accent"],["matInput","","type","number","min","0","required","","name","Duration",3,"pattern","ngModel","disabled","ngModelChange"],["duration","ngModel"],[4,"ngIf"],[1,"form-actions"],["mat-raised-button","","type","submit","color","accent",3,"disabled"],[3,"isError",4,"ngIf"],[3,"isError"]],template:function(e,t){if(1&e){var n=r.Wb();r.Vb(0,"div",0),r.Vb(1,"mat-card",1),r.Vb(2,"mat-card-header"),r.Vb(3,"mat-card-title"),r.Oc(4,"2sxc Insights for Super Users"),r.Ub(),r.Vb(5,"div",2),r.Vb(6,"button",3),r.dc("click",(function(){return t.openInsights()})),r.Vb(7,"mat-icon"),r.Oc(8,"speed"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(9,"mat-card-content"),r.Oc(10," This is to access a special section to see what is really in the server memory. It's intended for extensive debugging - see also "),r.Vb(11,"a",4),r.Oc(12,"this blog post"),r.Ub(),r.Oc(13,". "),r.Ub(),r.Ub(),r.Vb(14,"mat-card",1),r.Vb(15,"mat-card-header"),r.Vb(16,"mat-card-title"),r.Oc(17,"Activate Page Level Logging"),r.Ub(),r.Qb(18,"div",2),r.Ub(),r.Vb(19,"mat-card-content"),r.Vb(20,"form",5,6),r.dc("ngSubmit",(function(){r.Dc(n);var e=r.Bc(21);return t.activatePageLog(e)})),r.Vb(22,"div"),r.Oc(23," This will place insights-logs in the HTML of the user output for users with ?debug=true in the url. It can only be activated for short periods of time. "),r.Ub(),r.Vb(24,"mat-form-field",7),r.Vb(25,"mat-label"),r.Oc(26,"Duration in Minutes"),r.Ub(),r.Vb(27,"input",8,9),r.dc("ngModelChange",(function(e){return t.pageLogDuration=e})),r.ic(29,"async"),r.Ub(),r.Ub(),r.Mc(30,fe,2,1,"ng-container",10),r.Vb(31,"div",11),r.Vb(32,"button",12),r.ic(33,"async"),r.Oc(34," Activate "),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&e){var a=r.Bc(21),i=r.Bc(28);r.Bb(27),r.nc("pattern",t.positiveWholeNumber)("ngModel",t.pageLogDuration)("disabled",r.jc(29,5,t.loading$)),r.Bb(3),r.nc("ngIf",i.touched&&i.errors),r.Bb(2),r.nc("disabled",!a.valid||r.jc(33,7,t.loading$))}},directives:[ce.a,ce.c,ce.e,p.a,u.a,b.a,ce.b,le.u,le.m,le.n,pe.c,pe.g,ue.b,le.p,le.b,le.s,le.q,le.l,le.o,I.m,be.a],pipes:[I.b],styles:[".activate-log-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{height:auto}.activate-log-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:flex-end}"],changeDetection:0}),e}();function he(e,t){1&e&&(r.Vb(0,"div",10),r.Vb(1,"mat-icon"),r.Oc(2,"star_border"),r.Ub(),r.Vb(3,"span"),r.Oc(4,"Apps"),r.Ub(),r.Ub())}function ge(e,t){1&e&&r.Qb(0,"app-apps-list")}function ve(e,t){1&e&&(r.Vb(0,"div",11),r.Vb(1,"mat-icon"),r.Oc(2,"translate"),r.Ub(),r.Vb(3,"span"),r.Oc(4,"Languages"),r.Ub(),r.Ub())}function Ce(e,t){1&e&&r.Qb(0,"app-enable-languages")}function ye(e,t){1&e&&(r.Vb(0,"div",12),r.Vb(1,"mat-icon"),r.Oc(2,"tune"),r.Ub(),r.Vb(3,"span"),r.Oc(4,"Features"),r.Ub(),r.Ub())}function we(e,t){1&e&&r.Qb(0,"app-manage-features")}function Ue(e,t){1&e&&(r.Vb(0,"div",13),r.Vb(1,"mat-icon"),r.Oc(2,"speed"),r.Ub(),r.Vb(3,"span"),r.Oc(4,"2sxc Insights"),r.Ub(),r.Ub())}function Oe(e,t){1&e&&r.Qb(0,"app-sxc-insights")}n.d(t,"AppsManagementNavComponent",(function(){return Ve}));var Ve=function(){function e(e,t,n,r){var c=this;this.dialogRef=e,this.router=t,this.route=n,this.context=r,this.zoneId=this.context.zoneId,this.tabs=["list","languages","features","sxc-insights"],this.tabIndex$=this.router.events.pipe(Object(i.a)((function(e){return e instanceof a.b})),Object(o.a)((function(){return c.tabs.indexOf(c.route.snapshot.firstChild.url[0].path)})),Object(s.a)(this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path)))}return e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.changeTab=function(e){this.router.navigate([this.tabs[e.index]],{relativeTo:this.route})},e.\u0275fac=function(t){return new(t||e)(r.Pb(c.g),r.Pb(a.c),r.Pb(a.a),r.Pb(l.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-apps-management-nav"]],decls:23,vars:4,consts:[[1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","matTooltip","Close dialog",3,"click"],["dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange"],["class","mat-tab-label-box","matTooltip","Apps",4,"matTabLabel"],[4,"matTabContent"],["class","mat-tab-label-box","matTooltip","Languages",4,"matTabLabel"],["class","mat-tab-label-box","matTooltip","Features",4,"matTabLabel"],["class","mat-tab-label-box","matTooltip","2sxc Insights",4,"matTabLabel"],["matTooltip","Apps",1,"mat-tab-label-box"],["matTooltip","Languages",1,"mat-tab-label-box"],["matTooltip","Features",1,"mat-tab-label-box"],["matTooltip","2sxc Insights",1,"mat-tab-label-box"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div"),r.Oc(4),r.Ub(),r.Vb(5,"button",3),r.dc("click",(function(){return t.closeDialog()})),r.Vb(6,"mat-icon"),r.Oc(7,"close"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Qb(8,"router-outlet"),r.Vb(9,"mat-tab-group",4),r.dc("selectedTabChange",(function(e){return t.changeTab(e)})),r.ic(10,"async"),r.Vb(11,"mat-tab"),r.Mc(12,he,5,0,"div",5),r.Mc(13,ge,1,0,"app-apps-list",6),r.Ub(),r.Vb(14,"mat-tab"),r.Mc(15,ve,5,0,"div",7),r.Mc(16,Ce,1,0,"app-enable-languages",6),r.Ub(),r.Vb(17,"mat-tab"),r.Mc(18,ye,5,0,"div",8),r.Mc(19,we,1,0,"app-manage-features",6),r.Ub(),r.Vb(20,"mat-tab"),r.Mc(21,Ue,5,0,"div",9),r.Mc(22,Oe,1,0,"app-sxc-insights",6),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Bb(4),r.Qc("Manage Apps in Zone ",t.zoneId,""),r.Bb(5),r.nc("selectedIndex",r.jc(10,2,t.tabIndex$)))},directives:[c.h,p.a,u.a,b.a,a.e,d.c,d.a,d.d,d.b,$,j,se,me],pipes:[I.b],styles:[""],changeDetection:0}),e}()},"3AMH":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1C3z"),i=n("Ata6"),o=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)},e.\u0275fac=function(t){return new(t||e)(a.Pb(i.b))},e.\u0275pipe=a.Ob({name:"safeResourceUrl",type:e,pure:!0}),e}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.07.00/ng-edit/apps-management-nav-component.5f969050af36f113f0a9.js.map